const _0x3bcceb=(function(){let _0x537c7f=!![];return function(_0x4b63ec,_0x2e3781){const _0x43ba67=_0x537c7f?function(){if(_0x2e3781){const _0x55af4e=_0x2e3781['apply'](_0x4b63ec,arguments);return _0x2e3781=null,_0x55af4e;}}:function(){};return _0x537c7f=![],_0x43ba67;};}()),_0x5148b9=_0x3bcceb(this,function(){return _0x5148b9['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x5148b9)['search']('(((.+)+)+)'+'+$');});_0x5148b9();const _0x680c44=(function(){let _0x4c6337=!![];return function(_0x172805,_0xd2b5ad){const _0xeb4387=_0x4c6337?function(){if(_0xd2b5ad){const _0x3a9801=_0xd2b5ad['apply'](_0x172805,arguments);return _0xd2b5ad=null,_0x3a9801;}}:function(){};return _0x4c6337=![],_0xeb4387;};}());(function(){_0x680c44(this,function(){const _0x4b19da=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x47a0a9=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x456fe9=_0x53371c('init');!_0x4b19da['test'](_0x456fe9+'chain')||!_0x47a0a9['test'](_0x456fe9+'input')?_0x456fe9('0'):_0x53371c();})();}());const _0x3a9d86=(function(){let _0x4f990b=!![];return function(_0x1c9eaa,_0x4d3951){const _0x4d9fac=_0x4f990b?function(){if(_0x4d3951){const _0x45ce80=_0x4d3951['apply'](_0x1c9eaa,arguments);return _0x4d3951=null,_0x45ce80;}}:function(){};return _0x4f990b=![],_0x4d9fac;};}()),_0x2058ea=_0x3a9d86(this,function(){const _0x1b7c4e=function(){let _0x47804c;try{_0x47804c=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x32b20a){_0x47804c=window;}return _0x47804c;},_0x168083=_0x1b7c4e(),_0x430d94=_0x168083['console']=_0x168083['console']||{},_0x40faf4=['log','warn','info','error','exception','table','trace'];for(let _0xe66257=-0x268c+0xf2e+-0x3*-0x7ca;_0xe66257<_0x40faf4['length'];_0xe66257++){const _0x1c0836=_0x3a9d86['constructo'+'r']['prototype']['bind'](_0x3a9d86),_0x2612a5=_0x40faf4[_0xe66257],_0x3460a6=_0x430d94[_0x2612a5]||_0x1c0836;_0x1c0836['__proto__']=_0x3a9d86['bind'](_0x3a9d86),_0x1c0836['toString']=_0x3460a6['toString']['bind'](_0x3460a6),_0x430d94[_0x2612a5]=_0x1c0836;}});_0x2058ea();var k0=Object['defineProp'+'erty'],U0=(_0x338016,_0x42bd1e,_0x35850d)=>_0x42bd1e in _0x338016?k0(_0x338016,_0x42bd1e,{'enumerable':!(-0x5*-0x335+-0x15ad+0x5a4),'configurable':!(-0xf11+0x647*0x1+-0x96*-0xf),'writable':!(-0x21e9+-0x2*0x54a+0x2c7d*0x1),'value':_0x35850d}):_0x338016[_0x42bd1e]=_0x35850d,h=(_0x361fa5,_0x1d92e0,_0x5c4145)=>U0(_0x361fa5,typeof _0x1d92e0!='symbol'?_0x1d92e0+'':_0x1d92e0,_0x5c4145),B0=(_0x348373=>(_0x348373['HIGH']='high',_0x348373['MEDIUM']='medium',_0x348373['LOW']='low',_0x348373['LOW_VR']='lowVR',_0x348373))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x4e5d87=navigator['userAgent']['includes']('Macintosh'),_0x3f2545=navigator['maxTouchPo'+'ints']===0x59c+-0x25+-0x572,_0x2f2478=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x4e5d87&&_0x3f2545&&_0x2f2478;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x4058ae=navigator['userAgent']['toLowerCas'+'e']();return _0x4058ae['includes']('pico')||_0x4058ae['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x5e592e=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x36426e=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x5e592e)?'iOS':/android/['test'](_0x5e592e)?'Android':/mac/['test'](_0x36426e)?'macOS':/win/['test'](_0x36426e)?'Windows':/linux/['test'](_0x36426e)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x7f*-0x4a+-0x2*-0xa6+0x1*-0x25d5,this['MEDIUM_FPS'+'_THRESHOLD']=0x14eb+-0x301*0x7+0x1d*0x2,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0xd*-0x97+-0x186f+0x201e)*(0x2244+-0x197*0xb+0x1*-0xcc7)*(-0x2168+-0xd36+0x2*0x194f)*(-0x16bc+-0x89*0x1d+0x2a41),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x5*0x4ae+-0x984+-0xde0)*(0x2178+0x65*-0x53+-0x1*-0x347)*(-0x1c0*0x16+-0x3b*0x6a+0x42ee)*(0x20*0x11a+-0x14d2+0x1bd*-0x6),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x40691d){const _0x89c014=_0x40691d['toLowerCas'+'e']();for(const [_0x5637fb,_0x21950a]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x89c014['includes'](_0x5637fb))return _0x21950a*(0x1*0xc7+-0x2106+-0x687*-0x5);return 0x6f*-0x1+-0x1707+-0x8*-0x2f5;}['getModelSc'+'ore'](_0x31bb2f,_0x29a17f){const _0x3bf6c6=_0x31bb2f['toLowerCas'+'e'](),_0x28e026=_0x29a17f['toLowerCas'+'e']();for(const [_0x342e43,_0x4d6721]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x3bf6c6['includes'](_0x342e43)&&_0x4d6721['some'](_0x5336d5=>_0x5336d5['test'](_0x28e026)))return 0x2b*-0x47+0x89*0x45+-0x18a6;for(const [_0x523518,_0x333fe8]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x3bf6c6['includes'](_0x523518)&&_0x333fe8['some'](_0x3ed02f=>_0x3ed02f['test'](_0x28e026)))return 0x1*-0x2e3+0x253b+-0x1*0x2212;for(const [_0x3b093c,_0x1c75db]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x3bf6c6['includes'](_0x3b093c)&&_0x1c75db['some'](_0x2c893d=>_0x2c893d['test'](_0x28e026)))return 0x25*0xdf+-0x4b*-0x1b+-0x27f2;return 0xbb7+-0x25b0+0x1a35;}['getMemoryS'+'core'](_0x5b2015){return _0x5b2015?_0x5b2015>=0x1b05+-0x1fb0+0x338b?-0x2*0xdfc+-0x9dd+0x5*0x7a5:_0x5b2015>=-0x338e*-0x1+0xa4d+-0x1e9b?0x324*0xc+-0x5*0xda+-0x2114:_0x5b2015>=0xb*0x4d+0x2ab+0x3*0x5d2?0x1*0x14b7+0x535+0x12a*-0x16:_0x5b2015>=0xcb7+0x404*0x5+0x36f*-0x5?-0x4e*-0x68+0x1*0x53e+0x45*-0x88:_0x5b2015>=-0x1c94+0x35*0x72+0xcca?0x2*-0x97f+-0x200*0xb+0x293a:-0xde+-0x4*-0x166+-0x488:0x5*0x647+-0x24*0x105+0x1*0x583;}['getDriverS'+'core'](_0x162b4a){if(!_0x162b4a)return 0x1898+0x17d4+-0x303a;const _0x5bc0cd=_0x162b4a['match'](/20[2-9][0-9]/);if(_0x5bc0cd){const _0x425e98=parseInt(_0x5bc0cd[-0x14c1+0xa69+0xa58]);if(_0x425e98>=0x1917+-0x1*-0xead+-0xa9f*0x3)return-0x16b8+-0x2d7+0x3b5*0x7;if(_0x425e98>=-0x2b*0xad+0x2*-0x989+0x3807)return-0x5e0+-0x16e7+0x1d17;if(_0x425e98>=-0x154e+-0x35*-0x86+0x175)return 0xe4+-0x93d+0x895*0x1;}return-0x1*0x23d7+0x1f67+-0x2*-0x251;}['evaluateGP'+'U'](_0x277857){const _0x2ef550=this['getVendorS'+'core'](_0x277857['vendor']),_0x1cc0bc=this['getModelSc'+'ore'](_0x277857['vendor'],_0x277857['renderer']),_0x7a3a07=this['getMemoryS'+'core'](_0x277857['memory']),_0x18d585=this['getDriverS'+'core'](_0x277857['driverVers'+'ion']);return console['log']('GPU:',_0x277857['vendor']),console['log']('GPU:',_0x277857['renderer']),console['log']('GPU:',_0x277857['driverVers'+'ion']),console['table'](_0x277857),_0x2ef550*(-0x1*0x17d5+-0x914+0x151*0x19+0.3)+_0x1cc0bc*(-0xd3*0x27+-0x125d+0x3282+0.4)+_0x7a3a07*(-0xc84+-0x2aa*0xe+0x31d0+0.2)+_0x18d585*(-0xc*-0x166+-0xa2a+0x1*-0x69e+0.1);}['evaluateCP'+'U'](){const _0x15af65=navigator['hardwareCo'+'ncurrency'];return _0x15af65>=0x19fb+-0x25*0x27+-0x50*0x41?-0x179f+-0x8*-0x131+-0xa*-0x169:_0x15af65>=-0x19*-0xb7+0x31*0xa+-0x13c5?-0x1*0xaee+0xd0c*0x2+-0xf28:-0x1*0x1cf3+0x11*-0xdf+0x2bc3;}['evaluateMe'+'mory'](_0x13c0e1){return typeof _0x13c0e1=='string'?-0x11d*-0x22+0x3e*0x4+-0x26d2:_0x13c0e1['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x5b897e){const _0x1c1192=WS(),_0x22cd4f=GS(),_0x400384=HS();if(_0x22cd4f)return'medium';if(_0x400384)return'lowVR';if(_0x1c1192)return'low';const _0x40424a=_0x5b897e['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?0xc0e+-0x13f7+0x4*0x1fb:_0x5b897e['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?-0x7e8+0x1bf6+-0xa06*0x2:0x1f07+0x146*0xb+0x20c*-0x16;let _0x4bc51c=0x221b+0x2*-0x1322+-0x1*-0x42a;typeof _0x5b897e['gpuInfo']!='string'&&(_0x4bc51c=this['evaluateGP'+'U'](_0x5b897e['gpuInfo']));const _0xdd2e14=this['evaluateCP'+'U'](),_0x105c94=this['evaluateMe'+'mory'](_0x5b897e['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x5*0x4b0+-0x13*0x18d+0x60a:this['evaluateMe'+'mory'](_0x5b897e['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0xd3+0x965*0x3+-0x1d00:-0x1378+0x4ff+0xda*0x11,_0x1c60ff=_0x40424a+_0x4bc51c+_0xdd2e14+_0x105c94;return console['log']('GPU:',_0x40424a,_0x4bc51c,_0xdd2e14,_0x105c94),_0x1c60ff>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x1c60ff>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x3e7384){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x3e7384];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x30b4cb){var _0xb0e925=Date['now']();return setTimeout(function(){_0x30b4cb({'didTimeout':!(0x85b+0x19ae+-0x2208),'timeRemaining':function(){return Math['max'](0x2161+-0xde+-0x2083,-0x223e+0xa1+0x21cf-(Date['now']()-_0xb0e925));}});},0xf57*-0x1+-0x7*-0x421+0xd*-0x10b);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0xedacbb){clearTimeout(_0xedacbb);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x1b4aad,_0x2e611c){for(const _0x4f5c9c in _0x2e611c){const _0x46a40c=_0x2e611c[_0x4f5c9c];Array['isArray'](_0x46a40c)?_0x1b4aad[_0x4f5c9c]=ah([],_0x46a40c):_0x46a40c&&typeof _0x46a40c=='object'?_0x1b4aad[_0x4f5c9c]=ah({},_0x46a40c):_0x1b4aad[_0x4f5c9c]=_0x46a40c;}return _0x1b4aad;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x2e79db=>{const _0x3c206a=Math['random']()*(-0x1707+0x30*-0x4+0x17d7)|0x1*-0x19c7+-0x1c57+0x361e;return(_0x2e79db==='x'?_0x3c206a:_0x3c206a&-0x1*-0x362+-0x3c*-0x74+-0x1e8f*0x1|0x2*0x4+-0x1*0x85a+0x85a)['toString'](-0x5ee+-0x1dc*0xd+-0x16*-0x15f);});}},xe={'delimiter':'/','join'(..._0x576d36){let _0xaec8d4=_0x576d36[-0x1*0x13bb+-0x6*-0x623+0x19*-0xaf];for(let _0x16d86b=-0x2376+0x312*-0x8+0x3c06;_0x16d86b<_0x576d36['length']-(-0x18b7*-0x1+0x1*0x2065+-0x391b);_0x16d86b++){const _0x2f7d8a=_0x576d36[_0x16d86b],_0x41d261=_0x576d36[_0x16d86b+(0x1174*0x1+-0x3aa+0x1*-0xdc9)];if(_0x41d261[-0x224d+0xd*-0x15f+0x18*0x22c]===xe['delimiter']){_0xaec8d4=_0x41d261;continue;}_0x2f7d8a&&_0x41d261&&_0x2f7d8a[_0x2f7d8a['length']-(0x3fd+-0x7ab+0x3af)]!==xe['delimiter']&&_0x41d261[0x22e7+-0x23*-0x65+0x91*-0x56]!==xe['delimiter']?_0xaec8d4+=xe['delimiter']+_0x41d261:_0xaec8d4+=_0x41d261;}return _0xaec8d4;},'normalize'(_0x296caa){const _0x40b960=_0x296caa['startsWith'](xe['delimiter']),_0x494d90=_0x296caa['endsWith'](xe['delimiter']),_0x50a956=_0x296caa['split']('/');let _0x115bc6='',_0x1e685f=[];for(let _0x15893f=0x1*-0x19b5+0x934+0x1081*0x1;_0x15893f<_0x50a956['length'];_0x15893f++)if(_0x50a956[_0x15893f]!==''&&_0x50a956[_0x15893f]!=='.'){if(_0x50a956[_0x15893f]==='..'&&_0x1e685f['length']>-0x897+-0x1*-0x1472+-0xbdb){_0x1e685f=_0x1e685f['slice'](0xdb7*-0x1+0x3e6+0x9d1,_0x1e685f['length']-(-0x16b6+0x15b*0x16+-0x71a));continue;}_0x15893f>-0x1*0x154c+0x1ba4*0x1+0xe*-0x74&&_0x1e685f['push'](xe['delimiter']),_0x1e685f['push'](_0x50a956[_0x15893f]);}return _0x115bc6=_0x1e685f['join'](''),!_0x40b960&&_0x115bc6[0x133b*0x1+0x870+0x3*-0x939]===xe['delimiter']&&(_0x115bc6=_0x115bc6['slice'](-0x2*0x24b+-0x1d*-0x64+0xf*-0x73)),_0x494d90&&_0x115bc6[_0x115bc6['length']-(-0x1*-0x1399+-0x14f9+0x1*0x161)]!==xe['delimiter']&&(_0x115bc6+=xe['delimiter']),_0x115bc6;},'split'(_0x83e655){const _0x482c96=_0x83e655['lastIndexO'+'f'](xe['delimiter']);return _0x482c96!==-(0x1003*0x2+-0x26*-0xc+-0x11*0x1fd)?[_0x83e655['substring'](-0x1210+-0x3b3*0x4+0x1*0x20dc,_0x482c96),_0x83e655['substring'](_0x482c96+(0x912+0x1bd6+0x2f*-0xc9))]:['',_0x83e655];},'getBasename'(_0x198a2b){return xe['split'](_0x198a2b)[0x10e0+0x104f*-0x1+-0x30*0x3];},'getDirectory'(_0x59104a){return xe['split'](_0x59104a)[0x15ba+0x5f4+0x1bae*-0x1];},'getExtension'(_0x23dd4e){const _0x15af8d=_0x23dd4e['split']('?')[-0x1a+-0x14b7+0x14d1]['split']('.')['pop']();return _0x15af8d!==_0x23dd4e?'.'+_0x15af8d:'';},'isRelativePath'(_0xcc1cd0){return _0xcc1cd0['charAt'](0x46+0x2*0x7ba+-0x21*0x7a)!=='/'&&_0xcc1cd0['match'](/:\/\//)===null;},'extractPath'(_0x4ae5b9){let _0x67f1b9='';const _0x354be0=_0x4ae5b9['split']('/');let _0x40bc07=0xa14+-0x4*-0x314+-0x1664;if(_0x354be0['length']>0x582+0x69*-0x2b+0xc22){if(xe['isRelative'+'Path'](_0x4ae5b9)){if(_0x354be0[0x1f86+-0x17d*-0x3+-0x23fd]==='.'){for(_0x40bc07=0x1d2f+-0x681+-0x16ae;_0x40bc07<_0x354be0['length']-(0x6*0x2f4+-0x35b+-0xe5c);++_0x40bc07)_0x67f1b9+=_0x40bc07===-0x12c0+0x20d5*-0x1+0x5*0xa51?_0x354be0[_0x40bc07]:'/'+_0x354be0[_0x40bc07];}else{if(_0x354be0[0x36*0x90+0xae8*0x1+-0x2948]==='..'){for(_0x40bc07=0x220f+-0x10f*-0xe+-0x30e1;_0x40bc07<_0x354be0['length']-(0x2d*0x35+-0x1c47+0x12f7*0x1);++_0x40bc07)_0x67f1b9+=_0x40bc07===0x14db+0xd2e+-0x2209?_0x354be0[_0x40bc07]:'/'+_0x354be0[_0x40bc07];}else{for(_0x67f1b9='.',_0x40bc07=-0x49*0x6a+-0x4fb+-0x1*-0x2335;_0x40bc07<_0x354be0['length']-(0x1*0x1b80+0x2370+-0x3eef);++_0x40bc07)_0x67f1b9+='/'+_0x354be0[_0x40bc07];}}}else{for(_0x40bc07=0x1e86+0x1ce9*-0x1+0x3b*-0x7;_0x40bc07<_0x354be0['length']-(-0x131*0xf+0x4*-0x9a5+0x1*0x3874);++_0x40bc07)_0x67f1b9+=_0x40bc07===-0x4c*0x69+-0x297+0x1*0x21c3?_0x354be0[_0x40bc07]:'/'+_0x354be0[_0x40bc07];}}return _0x67f1b9;}},J0=()=>{let _0x226ad4=!(-0x1686+-0x1c*-0xa6+0x45f);try{const _0x24d8da=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x226ad4=!(0x1945*0x1+0xdd*-0x22+-0x5f*-0xb),!(0x595+0xeb6+-0x144a);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x24d8da),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x24d8da);}catch{}return _0x226ad4;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x21a*-0x2+0x35d+0xd7*0x1),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x757f+0x484b*0x2+0x1*-0x2e15,jS=-0x183b4+0x6ce5+0x1*0x1f2ce,Rm=0x1*-0xcc4f+0x1a2d2+-0x1*-0x57d,rx=-0x14e91+-0x58bb+-0x1*-0x2874b,ax=-0x1*0x34c7+0x32a9+-0x222b*-0x1,Om=-0x3bb19*-0x1+0x3286f+-0x4f1a2,Fm=0x240ef+0x3a3c*0x2+-0xc368,nx=0x249f7+-0x1*-0x15bea+-0x1b1e6,ox=0x2*-0x1a3f2+0x133c6+0x4081d,lx=0x1*-0x3869+-0x147d+0x6db6,cx=0x31b7+0x14bf+-0x2577,zf=0x136b1*-0x1+0x1*0x182e9+0x2c72*0x4,Vf=0x1e986*0x1+-0x1*0x7c2f+-0x1*0x6f48;function Gf(_0x1c271c,_0x1fc703=-0xcfc+-0x13e9*0x1+0x20e5){const _0x169b84=_0x1c271c['length'];if(_0x1fc703<-0xd87*-0x2+-0xe3*-0x10+0x149f*-0x2||_0x1fc703>=_0x169b84)return null;const _0xf8a505=_0x1c271c['charCodeAt'](_0x1fc703);if(_0x169b84>0x7cb+0x1*0x199a+0x10b2*-0x2&&_0xf8a505>=Bf&&_0xf8a505<=jS){const _0x372bfc=_0x1c271c['charCodeAt'](_0x1fc703+(-0x19fa+-0x2*-0x1186+-0xd3*0xb));if(_0x372bfc>=Rm&&_0x372bfc<=rx)return{'code':(_0xf8a505-Bf)*(-0x1d9f+-0xc6f+0x2e0e)+_0x372bfc-Rm+(-0x5274+0x304*-0x67+0x7c*0x53c),'long':!(0xef9+-0x2*0x21a+-0xac5)};}return{'code':_0xf8a505,'long':!(0x71*-0x49+0xa1*0x2f+0x2ab)};}function fr(_0x2d6721,_0xfe300e,_0x355351){if(!_0x2d6721)return!(0x17f8+0x2*-0x1a5+-0x14ad);const _0x245c33=Gf(_0x2d6721);if(_0x245c33){const _0x278fc9=_0x245c33['code'];return _0x278fc9>=_0xfe300e&&_0x278fc9<=_0x355351;}return!(0x169e+-0x8f*-0x25+-0x2b48);}function hx(_0xe012a7,_0x5e90e1){if(_0x5e90e1===_0xe012a7['length']-(-0x33e*-0x8+-0x19ae+-0x41))return-0x12d2+-0x29d*-0x2+0x1*0xd99;if(fr(_0xe012a7[_0x5e90e1],Bf,jS)){const _0x5a25b1=_0xe012a7['substring'](_0x5e90e1,_0x5e90e1+(-0x1*-0x861+0x51e+-0xd7d)),_0x511b49=_0xe012a7['substring'](_0x5e90e1+(0x1c*0x70+0x22d*0x1+-0xe6b),_0x5e90e1+(0x2393*0x1+-0x1ab3+-0x8dc));return fr(_0x511b49,nx,ox)||fr(_0x5a25b1,Om,Fm)&&fr(_0x511b49,Om,Fm)?0x1*0x6c7+-0x235d+-0xe4d*-0x2:fr(_0x511b49,zf,Vf)?0xc16*-0x3+0x3d9+-0x64*-0x53:-0xf78+0x4*-0x71e+-0x465*-0xa;}return fr(_0xe012a7[_0x5e90e1+(-0x2*0x1cd+0x3ef+-0xe*0x6)],zf,Vf)?-0x104c+-0xac3+0x1b11:0x1b*-0x125+0x1f7a+-0x2*0x49;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x3e0b07,..._0x735b58){for(let _0x55636b=0xf*-0x127+0x1b9e+-0xa55;_0x55636b<_0x735b58['length'];_0x55636b++)_0x3e0b07=_0x3e0b07['replace']('{'+_0x55636b+'}',_0x735b58[_0x55636b]);return _0x3e0b07;},'getCodePoint'(_0x11d161,_0x19f0ad){const _0x3e3078=Gf(_0x11d161,_0x19f0ad);return _0x3e3078&&_0x3e3078['code'];},'getCodePoints'(_0x2d8e2e){if(typeof _0x2d8e2e!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x26c9a4=0x34b*0x2+-0x1764+0x6*0x2cd;const _0x6fef0f=[];let _0x185933;for(;_0x185933=Gf(_0x2d8e2e,_0x26c9a4);)_0x6fef0f['push'](_0x185933['code']),_0x26c9a4+=_0x185933['long']?0x18f5+0x8*0x8b+0x1*-0x1d4b:0xe*0x242+-0x4cc+-0x1acf;return _0x6fef0f;},'getSymbols'(_0x3006f8){if(typeof _0x3006f8!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x51a6c6=0x9cc+-0x1079*-0x2+-0x2abe;const _0x288b51=_0x3006f8['length'],_0x15f5a2=[];let _0x23ea52=-0x19*-0xb7+-0x1be6*-0x1+-0x1*0x2dc5,_0xb7fffb;for(;_0x51a6c6<_0x288b51;){if(_0x23ea52+=hx(_0x3006f8,_0x51a6c6+_0x23ea52),_0xb7fffb=_0x3006f8[_0x51a6c6+_0x23ea52],fr(_0xb7fffb,lx,cx)&&(_0xb7fffb=_0x3006f8[_0x51a6c6+_0x23ea52++]),fr(_0xb7fffb,zf,Vf)&&(_0xb7fffb=_0x3006f8[_0x51a6c6+_0x23ea52++]),_0xb7fffb&&_0xb7fffb['charCodeAt'](0x1897*0x1+0x1960+0x31f7*-0x1)===ax){_0xb7fffb=_0x3006f8[_0x51a6c6+_0x23ea52++];continue;}const _0x103f61=_0x3006f8['substring'](_0x51a6c6,_0x51a6c6+_0x23ea52);_0x15f5a2['push'](_0x103f61),_0x51a6c6+=_0x23ea52,_0x23ea52=-0x1d51*0x1+-0x18cf+0x6c4*0x8;}return _0x15f5a2;},'fromCodePoint'(..._0x2588de){return _0x2588de['map'](_0x50054b=>_0x50054b>0x11c8*0x5+-0xb647+0x15d5e?(_0x50054b-=-0xe95*0x5+0x181d8*0x1+-0x52d*0xb,String['fromCharCo'+'de']((_0x50054b>>-0xeb3+-0x98*0x3e+0x338d)+(-0x7495*-0x1+0x1abf*0x5+0x1128*-0x2),_0x50054b%(-0xd2*-0x13+-0x23ec+-0x7*-0x37a)+(-0x2c5b*0x1+0x2b*0x893+-0x5*0x14de))):String['fromCharCo'+'de'](_0x50054b))['join']('');}},Zr=class Zr{static['set'](_0x45d868,_0x193ade=!(-0x252a+-0x251*-0x2+0x2088)){_0x193ade?Zr['_traceChan'+'nels']['add'](_0x45d868):Zr['_traceChan'+'nels']['delete'](_0x45d868);}static['get'](_0xd7591b){return Zr['_traceChan'+'nels']['has'](_0xd7591b);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0xad*0x1+-0x23*0x41+0x837));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x2427d9){Vt['_loggedMes'+'sages']['has'](_0x2427d9)||(Vt['_loggedMes'+'sages']['add'](_0x2427d9),console['warn']('DEPRECATED'+':\x20'+_0x2427d9));}static['removed'](_0x1fb591){Vt['_loggedMes'+'sages']['has'](_0x1fb591)||(Vt['_loggedMes'+'sages']['add'](_0x1fb591),console['error']('REMOVED:\x20'+_0x1fb591));}static['assertDepr'+'ecated'](_0x50548b,_0xd762ed){_0x50548b||Vt['deprecated'](_0xd762ed);}static['assert'](_0x57685b,..._0x4ab2ec){_0x57685b||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4ab2ec);}static['assertDest'+'royed'](_0x16f09d){var _0x460870;if(_0x16f09d!=null&&_0x16f09d['__alreadyD'+'estroyed']){const _0x504a45='['+((_0x460870=_0x16f09d['constructo'+'r'])==null?void(0x1*0x128d+-0x6e3+-0xbaa):_0x460870['name'])+(']\x20with\x20nam'+'e\x20[')+_0x16f09d['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x504a45)||(Vt['_loggedMes'+'sages']['add'](_0x504a45),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x504a45,_0x16f09d));}}static['call'](_0x5875a7){_0x5875a7();}static['log'](..._0x350281){console['log'](..._0x350281);}static['logOnce'](_0x401b34,..._0x550fca){Vt['_loggedMes'+'sages']['has'](_0x401b34)||(Vt['_loggedMes'+'sages']['add'](_0x401b34),console['log'](_0x401b34,..._0x550fca));}static['warn'](..._0x5f09cc){console['warn'](..._0x5f09cc);}static['warnOnce'](_0x10647a,..._0x8b9822){Vt['_loggedMes'+'sages']['has'](_0x10647a)||(Vt['_loggedMes'+'sages']['add'](_0x10647a),console['warn'](_0x10647a,..._0x8b9822));}static['error'](..._0x810899){console['error'](..._0x810899);}static['errorOnce'](_0x1d4f16,..._0x25795f){Vt['_loggedMes'+'sages']['has'](_0x1d4f16)||(Vt['_loggedMes'+'sages']['add'](_0x1d4f16),console['error'](_0x1d4f16,..._0x25795f));}static['trace'](_0x50bbf8,..._0x1c37e8){mi['get'](_0x50bbf8)&&(console['groupColla'+'psed'](_0x50bbf8['padEnd'](-0x2f2+0x1*-0xaeb+0xdf1,'\x20')+'|',..._0x1c37e8),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x160319,_0x4c81ae){_0x160319&&(_0x160319['name']=_0x4c81ae);}static['setLabel'](_0x34209c,_0x5c2bc7){_0x34209c&&(_0x34209c['label']=_0x5c2bc7);}static['setDestroy'+'ed'](_0x5a1db1){_0x5a1db1&&(_0x5a1db1['__alreadyD'+'estroyed']=!(-0x4*-0x3d0+0x1413*-0x1+-0xd*-0x5f));}}class dx{constructor(_0x3e2c8c,_0x2018a6,_0x5c1f86,_0x267975,_0x595b09=!(-0xc*-0x231+0x1*-0x2564+0xb19)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x4*-0x99+-0x207d+-0x13*-0x1d6)),(this['handler']=_0x3e2c8c,this['name']=_0x2018a6,this['callback']=_0x5c1f86,this['scope']=_0x267975,this['_once']=_0x595b09);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x38be91,_0x4b5ad6,_0x40ec3c=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x38be91,_0x4b5ad6,_0x40ec3c,!(0x1f5*0xb+-0x121e+-0x8*0x6d));}['once'](_0x179c39,_0x3b91de,_0x2897fe=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x179c39,_0x3b91de,_0x2897fe,!(-0x1723+0x1e07+-0x6e4));}set['removed'](_0x30ba93){_0x30ba93&&(this['_removed']=!(0x606*-0x6+0xa46*0x1+-0x1*-0x19de));}get['removed'](){return this['_removed'];}['toJSON'](_0x122416){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x18a3f5,_0x65331a,_0x4a188b,_0x5afcd7){if((!_0x18a3f5||typeof _0x18a3f5!='string'||!_0x65331a)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x18a3f5+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x65331a),this['_callbacks']['has'](_0x18a3f5)||this['_callbacks']['set'](_0x18a3f5,[]),this['_callbackA'+'ctive']['has'](_0x18a3f5)){const _0x177020=this['_callbackA'+'ctive']['get'](_0x18a3f5);_0x177020&&_0x177020===this['_callbacks']['get'](_0x18a3f5)&&this['_callbackA'+'ctive']['set'](_0x18a3f5,_0x177020['slice']());}const _0x36e0f9=new dx(this,_0x18a3f5,_0x65331a,_0x4a188b,_0x5afcd7);return this['_callbacks']['get'](_0x18a3f5)['push'](_0x36e0f9),_0x36e0f9;}['on'](_0x593d2d,_0x5ba695,_0x353000=this){return this['_addCallba'+'ck'](_0x593d2d,_0x5ba695,_0x353000,!(-0x2*-0x894+-0x71*0x13+-0xbb*0xc));}['once'](_0x4ede72,_0x2c37fa,_0x422222=this){return this['_addCallba'+'ck'](_0x4ede72,_0x2c37fa,_0x422222,!(-0x1f46*0x1+0x3*0x1b3+-0x1*-0x1a2d));}['off'](_0x3dd4d7,_0x4cf889,_0x51eb9f){if(_0x3dd4d7)this['_callbackA'+'ctive']['has'](_0x3dd4d7)&&this['_callbackA'+'ctive']['get'](_0x3dd4d7)===this['_callbacks']['get'](_0x3dd4d7)&&this['_callbackA'+'ctive']['set'](_0x3dd4d7,this['_callbackA'+'ctive']['get'](_0x3dd4d7)['slice']());else{for(const [_0x136754,_0x36dbce]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x136754)&&this['_callbacks']['get'](_0x136754)===_0x36dbce&&this['_callbackA'+'ctive']['set'](_0x136754,_0x36dbce['slice']());}if(_0x3dd4d7){if(_0x4cf889){const _0x54a681=this['_callbacks']['get'](_0x3dd4d7);if(!_0x54a681)return this;for(let _0x3121e9=0x8b8+0x314*0xb+-0x442*0xa;_0x3121e9<_0x54a681['length'];_0x3121e9++)_0x54a681[_0x3121e9]['callback']===_0x4cf889&&(_0x51eb9f&&_0x54a681[_0x3121e9]['scope']!==_0x51eb9f||(_0x54a681[_0x3121e9]['removed']=!(0x1*0x21f5+-0x3a1*0x6+-0xc2f),_0x54a681['splice'](_0x3121e9,-0x3*-0x7ca+-0x162e+-0x12f*0x1),_0x3121e9--));_0x54a681['length']===-0x2480+-0x1*0x11b+0x259b&&this['_callbacks']['delete'](_0x3dd4d7);}else{const _0x118c6a=this['_callbacks']['get'](_0x3dd4d7);if(_0x118c6a){for(let _0x33365f=-0x1a92+-0x2164+-0x3bf6*-0x1;_0x33365f<_0x118c6a['length'];_0x33365f++)_0x118c6a[_0x33365f]['removed']=!(-0x11c+0x2*-0xca4+0x1a64);this['_callbacks']['delete'](_0x3dd4d7);}}}else{for(const _0x38b4fb of this['_callbacks']['values']())for(let _0x28daed=-0x3*0x2c5+-0x1a21+-0x1*-0x2270;_0x28daed<_0x38b4fb['length'];_0x28daed++)_0x38b4fb[_0x28daed]['removed']=!(0x1*-0x212+0x463+-0x1*0x251);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x49bf62){const _0xe9fff5=_0x49bf62['name'];_0x49bf62['removed']=!(-0x4c*-0x4+0xa6b+-0xb9b),this['_callbackA'+'ctive']['has'](_0xe9fff5)&&this['_callbackA'+'ctive']['get'](_0xe9fff5)===this['_callbacks']['get'](_0xe9fff5)&&this['_callbackA'+'ctive']['set'](_0xe9fff5,this['_callbackA'+'ctive']['get'](_0xe9fff5)['slice']());const _0x473060=this['_callbacks']['get'](_0xe9fff5);if(!_0x473060)return this;const _0x5ca51c=_0x473060['indexOf'](_0x49bf62);return _0x5ca51c!==-(0x1ab4+0x1*-0x1f4f+-0x49c*-0x1)&&(_0x473060['splice'](_0x5ca51c,0x2529+-0x21ce+-0x35a),_0x473060['length']===-0xa*-0x51+0x3ee+0x1*-0x718&&this['_callbacks']['delete'](_0xe9fff5)),this;}['fire'](_0x2204df,_0x5a8a5f,_0x385bae,_0x46d37a,_0x15e37d,_0x4a8b1e,_0x101a92,_0x1b59db,_0x28e452){if(!_0x2204df)return this;const _0x1a410a=this['_callbacks']['get'](_0x2204df);if(!_0x1a410a)return this;let _0x4047e4;this['_callbackA'+'ctive']['has'](_0x2204df)?this['_callbackA'+'ctive']['get'](_0x2204df)!==_0x1a410a&&(_0x4047e4=_0x1a410a['slice']()):this['_callbackA'+'ctive']['set'](_0x2204df,_0x1a410a);for(let _0x48258a=0x7f3+0x18e9+-0x20dc;(_0x4047e4||this['_callbackA'+'ctive']['get'](_0x2204df))&&_0x48258a<(_0x4047e4||this['_callbackA'+'ctive']['get'](_0x2204df))['length'];_0x48258a++){const _0x31f486=(_0x4047e4||this['_callbackA'+'ctive']['get'](_0x2204df))[_0x48258a];if(_0x31f486['callback']&&(_0x31f486['callback']['call'](_0x31f486['scope'],_0x5a8a5f,_0x385bae,_0x46d37a,_0x15e37d,_0x4a8b1e,_0x101a92,_0x1b59db,_0x28e452),_0x31f486['_once'])){const _0x45f407=this['_callbacks']['get'](_0x2204df),_0x2faeca=_0x45f407?_0x45f407['indexOf'](_0x31f486):-(0x24f*0x1+0x5b1+0x17*-0x59);if(_0x2faeca!==-(0x261f+-0x1af5+-0xb29)){this['_callbackA'+'ctive']['get'](_0x2204df)===_0x45f407&&this['_callbackA'+'ctive']['set'](_0x2204df,this['_callbackA'+'ctive']['get'](_0x2204df)['slice']());const _0x83f057=this['_callbacks']['get'](_0x2204df);if(!_0x83f057)continue;_0x83f057[_0x2faeca]['removed']=!(0xa1+0x1935+0xceb*-0x2),_0x83f057['splice'](_0x2faeca,0x1*0x1567+-0x240a+0xea4),_0x83f057['length']===-0x175*0x13+0x22a6+-0x6f7&&this['_callbacks']['delete'](_0x2204df);}}}return _0x4047e4||this['_callbackA'+'ctive']['delete'](_0x2204df),this;}['hasEvent'](_0x142081){var _0x39874e;return!!((_0x39874e=this['_callbacks']['get'](_0x142081))!=null&&_0x39874e['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x227bad,_0x5a00b8){if(this['_index'][_0x227bad])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x227bad);const _0x161cfd=this['_list']['push'](_0x5a00b8)-(0x10d*-0x1+0xb72*0x2+0xd7*-0x1a);this['_index'][_0x227bad]=_0x161cfd;}['has'](_0xa3d8d7){return this['_index'][_0xa3d8d7]!==void(-0x3*0x57a+-0xcde+0x1d4c);}['get'](_0x29b749){const _0x134e4d=this['_index'][_0x29b749];return _0x134e4d!==void(-0x182+0x1467+-0x2b3*0x7)?this['_list'][_0x134e4d]:null;}['remove'](_0x3f64d8){const _0x18e56c=this['_index'][_0x3f64d8];if(_0x18e56c!==void(0x70*0x1f+-0x1*-0x2f6+0x3*-0x582)){this['_list']['splice'](_0x18e56c,0x1501*-0x1+-0x1f9b+-0x1*-0x349d),delete this['_index'][_0x3f64d8];for(_0x3f64d8 in this['_index']){const _0x4863a0=this['_index'][_0x3f64d8];_0x4863a0>_0x18e56c&&(this['_index'][_0x3f64d8]=_0x4863a0-(-0x422+0x1622+-0x11ff));}return!(-0x267c+-0x3*0x9d+0x3*0xd71);}return!(0x1c3e+-0x1*0x2c+-0x5*0x59d);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x1*-0x1e3d+-0x118d+0x32c*-0x4;for(const _0x34aba1 in this['_index'])delete this['_index'][_0x34aba1];}}const ux=_0x3f8c91=>{const _0x6fa5b1={};let _0x58f8e6=_0x6fa5b1;return()=>(_0x58f8e6===_0x6fa5b1&&(_0x58f8e6=_0x3f8c91()),_0x58f8e6);},ii=class ii{static['loadScript'](_0x35b919,_0xfb113f){const _0x363aaa=document['createElem'+'ent']('script');_0x363aaa['setAttribu'+'te']('src',_0x35b919),_0x363aaa['onload']=()=>{_0xfb113f(null);},_0x363aaa['onerror']=()=>{_0xfb113f('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x35b919+'\x27');},document['body']['appendChil'+'d'](_0x363aaa);}static['loadWasm'](_0x701c27,_0x173210,_0x359529){const _0x51a06d=ii['wasmSuppor'+'ted']()&&_0x173210['glueUrl']&&_0x173210['wasmUrl']?_0x173210['glueUrl']:_0x173210['fallbackUr'+'l'];_0x51a06d?ii['loadScript'](_0x51a06d,_0x135375=>{if(_0x135375)_0x359529(_0x135375,null);else{const _0x569aef=window[_0x701c27];window[_0x701c27]=void(-0x2*-0x859+-0xa96+-0x61c),_0x569aef({'locateFile':()=>_0x173210['wasmUrl'],'onAbort':()=>{_0x359529('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x341fd7=>{_0x359529(null,_0x341fd7);});}}):_0x359529('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x5d3c29){return ii['modules']['hasOwnProp'+'erty'](_0x5d3c29)||(ii['modules'][_0x5d3c29]={'config':null,'initializing':!(-0x2*-0xf61+0x15*0x195+0x26*-0x1af),'instance':null,'callbacks':[]}),ii['modules'][_0x5d3c29];}static['initialize'](_0x5abbf1,_0x40b143){if(_0x40b143['initializi'+'ng'])return;const _0x1c0405=_0x40b143['config'];(_0x1c0405['glueUrl']||_0x1c0405['wasmUrl']||_0x1c0405['fallbackUr'+'l'])&&(_0x40b143['initializi'+'ng']=!(0x1c36*0x1+-0xbb3+-0x3*0x581),ii['loadWasm'](_0x5abbf1,_0x1c0405,(_0x43aeac,_0x3e3eb9)=>{_0x43aeac?_0x1c0405['errorHandl'+'er']?_0x1c0405['errorHandl'+'er'](_0x43aeac):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x5abbf1+'\x20error='+_0x43aeac):(_0x40b143['instance']=_0x3e3eb9,_0x40b143['callbacks']['forEach'](_0x529b58=>{_0x529b58(_0x3e3eb9);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xccf204=new WebAssembly['Module'](Uint8Array['of'](-0x7dd+-0x1558+0x1*0x1d35,0x1fe*-0x5+0x14e3+-0xa8c,0x21+0x45e+-0x40c,0x3*0x198+0x1*-0x417+-0x1*0x44,0xa0+-0xe5*-0x2b+-0x2716,0xa3*-0x32+0x3*-0xccd+0x463d,0x2*0x235+-0xcff*-0x2+-0x1e68,-0x1b2f*0x1+0x17cd+0x362*0x1));if(_0xccf204 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xccf204)instanceof WebAssembly['Instance'];}}catch{}return!(0x1be+-0x1a12*-0x1+-0x15*0x153);}));let Yr=ii;class YS{static['setConfig'](_0x16e58f,_0x389ea6){const _0x1e0a26=Yr['getModule'](_0x16e58f);_0x1e0a26['config']=_0x389ea6,_0x1e0a26['callbacks']['length']>0x166d+-0x1aa5+0x438&&Yr['initialize'](_0x16e58f,_0x1e0a26);}static['getConfig'](_0x5c7b12){var _0x447ab0,_0x305687;return(_0x305687=(_0x447ab0=Yr['modules'])==null?void(0xa24+-0x1*0x3ad+-0x1*0x677):_0x447ab0[_0x5c7b12])==null?void(-0x17a2+-0x15fc+0x2*0x16cf):_0x305687['config'];}static['getInstanc'+'e'](_0x3a4ed9,_0x4f93c1){const _0x4d5d31=Yr['getModule'](_0x3a4ed9);_0x4d5d31['instance']?_0x4f93c1(_0x4d5d31['instance']):(_0x4d5d31['callbacks']['push'](_0x4f93c1),_0x4d5d31['config']&&Yr['initialize'](_0x3a4ed9,_0x4d5d31));}}class KS{constructor(_0x5204f8){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x1fa+0x38b*-0xb+0x28f3),(this['arraybuffe'+'r']=_0x5204f8,this['dataView']=new DataView(_0x5204f8));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x1c303d=-0x252b+-0xb1c+0x3047){this['offset']=_0x1c303d;}['skip'](_0x3aeaf7){this['offset']+=_0x3aeaf7;}['align'](_0x8c7586){this['offset']=this['offset']+_0x8c7586-(0x5*0x23b+-0x15dc+0xab6)&~(_0x8c7586-(-0x1e+0x1*-0x1712+0x1*0x1731));}['_inc'](_0x569c49){return this['offset']+=_0x569c49,this['offset']-_0x569c49;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x37d69d){let _0x3c49c6='';for(let _0x2b0ae0=-0x148*0x7+0x2638+0x6*-0x4e0;_0x2b0ae0<_0x37d69d;++_0x2b0ae0)_0x3c49c6+=this['readChar']();return _0x3c49c6;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x6a2+0x3*-0x41b+0x5b1),!(0x649+-0x3bf*-0x5+-0x1*0x1904));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0xeac+0x1a39+-0xb89),!(-0x199*0xb+0x2*-0x2ca+-0x1*-0x1727));}['readU64'](){return this['readU32']()+(-0x5*0x751+0x11*0x1a+0x22dd)**(0x2253+-0x20dc*-0x1+-0x430f)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1b*0x19+-0x24f+0x4f6),!(-0x23f3*0x1+-0x17*-0xd6+0x10ba));}['readArray'](_0x5b813b){for(let _0x4aab44=0x2*0x9c8+0x1*0x21ad+-0x353d;_0x4aab44<_0x5b813b['length'];++_0x4aab44)_0x5b813b[_0x4aab44]=this['readU8']();}['readLine'](){const _0x583ce7=this['dataView'];let _0x70d56c='';for(;!(this['offset']>=_0x583ce7['byteLength']);){const _0x1ff5d0=String['fromCharCo'+'de'](this['readU8']());if(_0x1ff5d0==='\x0a')break;_0x70d56c+=_0x1ff5d0;}return _0x70d56c;}}class oh{constructor(_0x20f01b){h(this,'items',[]),h(this,'length',0xcb9+0xb6f+-0x1828),h(this,'loopIndex',-(-0x26c8+0x26*0x26+-0x5*-0x6a1)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x20f01b['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x195a6f){let _0x10d7e5=-0x1*0xd1f+-0x1*0x17ea+0x2509,_0x587952=this['items']['length']-(-0x1250+0x15d*0xd+0x98);const _0x461cdc=_0x195a6f[this['_sortBy']];let _0x38e073,_0x267f7b;for(;_0x10d7e5<=_0x587952;)_0x38e073=Math['floor']((_0x10d7e5+_0x587952)/(-0x10ac+0x1159+0x39*-0x3)),_0x267f7b=this['items'][_0x38e073][this['_sortBy']],_0x267f7b<=_0x461cdc?_0x10d7e5=_0x38e073+(-0x7*-0xe9+0x1f80+-0x25de):_0x267f7b>_0x461cdc&&(_0x587952=_0x38e073-(-0x9d7*-0x1+0xd0*-0x17+0x8da));return _0x10d7e5;}['_doSort'](_0x568b15,_0x54e7bc){const _0x410077=this['_sortBy'];return _0x568b15[_0x410077]-_0x54e7bc[_0x410077];}['insert'](_0x42790f){const _0x552457=this['_binarySea'+'rch'](_0x42790f);this['items']['splice'](_0x552457,0x13eb*0x1+-0x8*-0x40e+-0x1*0x345b,_0x42790f),this['length']++,this['loopIndex']>=_0x552457&&this['loopIndex']++;}['append'](_0x52834c){this['items']['push'](_0x52834c),this['length']++;}['remove'](_0x508298){const _0x834e0=this['items']['indexOf'](_0x508298);_0x834e0<0x1c3+-0x51b*0x7+0x21fa||(this['items']['splice'](_0x834e0,-0xeed+-0x24d3+0x33c1),this['length']--,this['loopIndex']>=_0x834e0&&this['loopIndex']--);}['sort'](){const _0x4d5b91=this['loopIndex']>=0x2e*0x8b+0xc68*0x2+-0x31ca?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4d5b91!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4d5b91));}}class Oo extends me{constructor(_0x195a24){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x195a24;}['add'](..._0x3729ec){let _0x1e3b32=!(-0x1e9*0x10+0x9a9+0x14e8);const _0x10e011=this['_processAr'+'guments'](_0x3729ec,!(-0x54a*0x1+0xab*-0x1b+0x1753));if(!_0x10e011['length'])return _0x1e3b32;for(let _0x57a2fc=0x11d*0x17+0x16e5+-0x3080;_0x57a2fc<_0x10e011['length'];_0x57a2fc++)this['_index'][_0x10e011[_0x57a2fc]]||(_0x1e3b32=!(0x23ef+-0x26fc+-0xb*-0x47),this['_index'][_0x10e011[_0x57a2fc]]=!(0xbdb+-0x1*-0x139+-0xd14),this['_list']['push'](_0x10e011[_0x57a2fc]),this['fire']('add',_0x10e011[_0x57a2fc],this['_parent']));return _0x1e3b32&&this['fire']('change',this['_parent']),_0x1e3b32;}['remove'](..._0x1df822){let _0x194695=!(-0x3*-0xc73+-0x1bfd+-0x95b*0x1);if(!this['_list']['length'])return _0x194695;const _0xc41b94=this['_processAr'+'guments'](_0x1df822,!(0x1114+-0x3*0x811+0x71f));if(!_0xc41b94['length'])return _0x194695;for(let _0x217384=-0x154d*-0x1+0x8c*0x2b+-0x2cd1;_0x217384<_0xc41b94['length'];_0x217384++)this['_index'][_0xc41b94[_0x217384]]&&(_0x194695=!(-0xe*0x2bd+0xb5+-0x13*-0x1fb),delete this['_index'][_0xc41b94[_0x217384]],this['_list']['splice'](this['_list']['indexOf'](_0xc41b94[_0x217384]),-0x1ea2+0x6*-0x2c+0x1fab),this['fire']('remove',_0xc41b94[_0x217384],this['_parent']));return _0x194695&&this['fire']('change',this['_parent']),_0x194695;}['clear'](){if(!this['_list']['length'])return;const _0x493cf5=this['_list']['slice'](-0x222d+0x5*0x4fd+0x93c);this['_list']=[],this['_index']={};for(let _0xd3a71b=0x1*-0xeb7+0x1636+-0x65*0x13;_0xd3a71b<_0x493cf5['length'];_0xd3a71b++)this['fire']('remove',_0x493cf5[_0xd3a71b],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x1d9dd5){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x1d9dd5)):!(0x1dfa+0x2136+-0x3f2f);}['_has'](_0xfa0aff){if(!this['_list']['length']||!_0xfa0aff['length'])return!(-0x4f2+-0x1*-0x2447+-0x1f54);for(let _0x4fc4fb=0x1a1+-0x3e2+0x241;_0x4fc4fb<_0xfa0aff['length'];_0x4fc4fb++)if(_0xfa0aff[_0x4fc4fb]['length']===-0x8*0x382+-0x13d2*0x1+-0x2fe3*-0x1){if(this['_index'][_0xfa0aff[_0x4fc4fb][-0x1a33+-0x24e7+0x3f1a]])return!(-0x1*0x2703+-0x182b*0x1+0x3f2e);}else{let _0x3b67eb=!(-0x31*-0x1d+-0x102f+0xaa2);for(let _0x5dd68a=0x1835+0x93c+-0x2171;_0x5dd68a<_0xfa0aff[_0x4fc4fb]['length'];_0x5dd68a++)if(!this['_index'][_0xfa0aff[_0x4fc4fb][_0x5dd68a]]){_0x3b67eb=!(-0x1b4*0xa+-0x8f5+0x19fe);break;}if(_0x3b67eb)return!(-0x8d4+-0x196f+0x2243);}return!(0x44*0x29+-0x1d2b+0x1248);}['list'](){return this['_list']['slice'](-0x243d*-0x1+-0x11b4+0x49*-0x41);}['_processAr'+'guments'](_0x4609d4,_0x5f169b){const _0x1d4ce4=[];let _0x3ceacf=[];if(!_0x4609d4||!_0x4609d4['length'])return _0x1d4ce4;for(let _0x5ed3f6=-0x23f2*-0x1+0x2*-0x8ab+-0x129c;_0x5ed3f6<_0x4609d4['length'];_0x5ed3f6++)if(_0x4609d4[_0x5ed3f6]instanceof Array){_0x5f169b||(_0x3ceacf=[]);for(let _0x1ba936=0x59*0x2+-0x1*-0x2f4+0x1*-0x3a6;_0x1ba936<_0x4609d4[_0x5ed3f6]['length'];_0x1ba936++)typeof _0x4609d4[_0x5ed3f6][_0x1ba936]=='string'&&(_0x5f169b?_0x1d4ce4['push'](_0x4609d4[_0x5ed3f6][_0x1ba936]):_0x3ceacf['push'](_0x4609d4[_0x5ed3f6][_0x1ba936]));!_0x5f169b&&_0x3ceacf['length']&&_0x1d4ce4['push'](_0x3ceacf);}else typeof _0x4609d4[_0x5ed3f6]=='string'&&(_0x5f169b?_0x1d4ce4['push'](_0x4609d4[_0x5ed3f6]):_0x1d4ce4['push']([_0x4609d4[_0x5ed3f6]]));return _0x1d4ce4;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x5b7cd8){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x41640e=_0x5b7cd8['match'](px);this['scheme']=_0x41640e[0x11b8*-0x1+0xc2*0x10+-0x59a*-0x1],this['authority']=_0x41640e[0x1aa9+-0x13f+-0x1966],this['path']=_0x41640e[-0x25b3+0x15c2+0xff6],this['query']=_0x41640e[-0x1*0xbf9+0x2417+-0x7*0x371],this['fragment']=_0x41640e[-0x1451+-0x1611+0x2a6b];}['toString'](){let _0x54a386='';return this['scheme']&&(_0x54a386+=this['scheme']+':'),this['authority']&&(_0x54a386+='//'+this['authority']),_0x54a386+=this['path'],this['query']&&(_0x54a386+='?'+this['query']),this['fragment']&&(_0x54a386+='#'+this['fragment']),_0x54a386;}['getQuery'](){const _0x487c83={};if(this['query']){const _0xc5a124=decodeURIComponent(this['query'])['split']('&');for(const _0xa64b35 of _0xc5a124){const _0xd60f82=_0xa64b35['split']('=');_0x487c83[_0xd60f82[-0x2619+-0x1c9+-0x7fa*-0x5]]=_0xd60f82[0x1*0x338+-0x1120+-0x3*-0x4a3];}}return _0x487c83;}['setQuery'](_0x208d95){let _0x26616c='';for(const _0x565c42 in _0x208d95)_0x208d95['hasOwnProp'+'erty'](_0x565c42)&&(_0x26616c!==''&&(_0x26616c+='&'),_0x26616c+=encodeURIComponent(_0x565c42)+'='+encodeURIComponent(_0x208d95[_0x565c42]));this['query']=_0x26616c;}}const mx=0xa2+0x1*-0x31d+0x7f*0x5,tp=0x1*-0x304+-0x1fb0+0x22b5,Nm=-0x1*0xee9+-0x197c+0x2869,_x=0x2db+-0x6*-0x1be+0x2*-0x6a5,Y={'DEG_TO_RAD':Math['PI']/(0x18b9+-0xe5f+0x1ee*-0x5),'RAD_TO_DEG':(-0x207+0x1c98+-0x89f*0x3)/Math['PI'],'clamp'(_0x59a05a,_0x235fdb,_0x29443f){return _0x59a05a>=_0x29443f?_0x29443f:_0x59a05a<=_0x235fdb?_0x235fdb:_0x59a05a;},'intToBytes24'(_0x5172c4){const _0x330553=_0x5172c4>>-0x2671+0x51*0x5+-0x8b*-0x44&-0x1*0x19d6+-0x8bf*-0x1+0x1216,_0x50bba8=_0x5172c4>>-0x16ed+-0x1085*-0x2+0x1d*-0x59&0x1fd9*0x1+-0x159f+-0x93b,_0x1fe010=_0x5172c4&0x23be+0x1a73*-0x1+-0x84c;return[_0x330553,_0x50bba8,_0x1fe010];},'intToBytes32'(_0x43e953){const _0x1577ec=_0x43e953>>0x35*-0x52+-0x11*0x1+0x1123&0x2238*-0x1+0x725+0x1c12,_0x28b71e=_0x43e953>>0xe*-0x28+-0xe2*0x16+0x15ac&-0xc6a+0x3b*-0x2e+0x3*0x801,_0x59ca63=_0x43e953>>-0xc90+0x1786*0x1+-0x2*0x577&0x233c+0x883*0x3+0x1de3*-0x2,_0xd150b8=_0x43e953&0xf7*0x13+0x1db4+0x9*-0x53a;return[_0x1577ec,_0x28b71e,_0x59ca63,_0xd150b8];},'bytesToInt24'(_0x10a8fa,_0x59a41e,_0x5c02eb){return _0x10a8fa['length']&&(_0x5c02eb=_0x10a8fa[0x6*-0x3d2+-0x1*-0xa0b+0xce3],_0x59a41e=_0x10a8fa[-0x13b2+-0x157e+0x2bf*0xf],_0x10a8fa=_0x10a8fa[0x89d+0x1d29+-0x1*0x25c6]),_0x10a8fa<<0x1a5*-0x14+0xc41+0x14b3|_0x59a41e<<0x199f+-0x1*0x10fd+-0x89a|_0x5c02eb;},'bytesToInt32'(_0x1f1cd4,_0x28a4e0,_0x1d81bf,_0xb21570){return _0x1f1cd4['length']&&(_0xb21570=_0x1f1cd4[0xd*-0x259+-0x1*0x1cb7+-0x20b*-0x1d],_0x1d81bf=_0x1f1cd4[-0xbff+0xbdb*0x2+-0xbb5],_0x28a4e0=_0x1f1cd4[-0x459+-0x1157+0x1*0x15b1],_0x1f1cd4=_0x1f1cd4[-0x15e1+0x23df+0x255*-0x6]),(_0x1f1cd4<<0x24e3+-0x7*-0x513+-0x4850|_0x28a4e0<<0x1*-0x1a70+0x306*-0xa+-0x2*-0x1c5e|_0x1d81bf<<-0xe*0x1f5+-0x14*0x11f+-0x1*-0x31da|_0xb21570)>>>0x7*-0x1c9+0x58d*-0x4+0x22b3;},'lerp'(_0x258bee,_0x5b734c,_0x180ed1){return _0x258bee+(_0x5b734c-_0x258bee)*Y['clamp'](_0x180ed1,0x1*-0xcd7+0x30d*0xb+-0x14b8,-0xa5f+0x26c6+0x5ae*-0x5);},'lerpAngle'(_0x597af7,_0x1bee54,_0x30f748){return _0x1bee54-_0x597af7>-0x5b*0x6d+0xab7+-0xc*-0x265&&(_0x1bee54-=-0xa04+0xcec+0xc*-0x20),_0x1bee54-_0x597af7<-(0x1*0x1cc3+0x71*0x5+-0x1e44)&&(_0x1bee54+=0x1425+0x23a2+0x365f*-0x1),Y['lerp'](_0x597af7,_0x1bee54,Y['clamp'](_0x30f748,0xbbf+-0x3*-0x9b7+-0x28e4,0x1ca6+-0x14c4+-0x1*0x7e1));},'powerOfTwo'(_0x157f92){return _0x157f92!==0x25*-0x7d+-0xf3e+-0x214f*-0x1&&!(_0x157f92&_0x157f92-(-0xcd*0x29+-0x12d*-0xb+-0x5*-0x3fb));},'nextPowerOfTwo'(_0x193444){return _0x193444--,_0x193444|=_0x193444>>0x240+0x5*-0x493+-0x42*-0x50,_0x193444|=_0x193444>>-0x13a7+0x171b+-0x12*0x31,_0x193444|=_0x193444>>0x1*0x126b+0x26a7+-0x390e,_0x193444|=_0x193444>>0xef*-0x16+-0x223c+0x7a*0x73,_0x193444|=_0x193444>>0x18dc+0x237e+0x2*-0x1e25,_0x193444++,_0x193444;},'nearestPowerOfTwo'(_0x20dbb1){return Math['pow'](0x92*-0x28+-0x2*0xa9f+0x2c10,Math['round'](Math['log2'](_0x20dbb1)));},'random'(_0x3ed7d1,_0x540df5){const _0x5c3cbe=_0x540df5-_0x3ed7d1;return Math['random']()*_0x5c3cbe+_0x3ed7d1;},'smoothstep'(_0x560aef,_0x8fec19,_0x427a71){return _0x427a71<=_0x560aef?0xcf7+-0x7*0x6b+-0xa0a:_0x427a71>=_0x8fec19?-0x1abe+-0x13*-0x125+0x4*0x140:(_0x427a71=(_0x427a71-_0x560aef)/(_0x8fec19-_0x560aef),_0x427a71*_0x427a71*(-0x2*0xe7d+-0x2572+0x426f*0x1-(0x1a2c+0x1aeb+-0x3515)*_0x427a71));},'smootherstep'(_0x1dd3d5,_0x4238a1,_0x107484){return _0x107484<=_0x1dd3d5?-0x3f7+0xc33*0x2+-0x1*0x146f:_0x107484>=_0x4238a1?-0x7b*0x1+0x1e4e+-0x1*0x1dd2:(_0x107484=(_0x107484-_0x1dd3d5)/(_0x4238a1-_0x1dd3d5),_0x107484*_0x107484*_0x107484*(_0x107484*(_0x107484*(0x162b+0x2*0x2e9+-0x1bf7)-(0x1*0x24d7+-0x1dc5+-0x703))+(-0x15a1+-0x1824+-0xf45*-0x3)));},'roundUp'(_0x695b15,_0x18ef55){return _0x18ef55===-0x20f0+-0x269e+0x478e?_0x695b15:Math['ceil'](_0x695b15/_0x18ef55)*_0x18ef55;},'between'(_0x1e0efe,_0x5f37da,_0x518809,_0x37e8ad){const _0x3fea25=Math['min'](_0x5f37da,_0x518809),_0x10d569=Math['max'](_0x5f37da,_0x518809);return _0x37e8ad?_0x1e0efe>=_0x3fea25&&_0x1e0efe<=_0x10d569:_0x1e0efe>_0x3fea25&&_0x1e0efe<_0x10d569;}},Tt=class Tt{constructor(_0x5f4705=0x244d+0x141f+-0x386c,_0x397850=0x23ab+-0x10a5+-0x1306,_0x50ac34=-0x20*0x118+-0x1a35*0x1+0x1467*0x3,_0x511d97=0x13ac+0x1*0x16d7+0x2a82*-0x1){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x239da9=_0x5f4705['length'];_0x239da9===-0x20e*0x6+0x1*-0x13b8+0x200f||_0x239da9===-0x259b+0x1a87+0xb18?(this['r']=_0x5f4705[0x1224+-0x6f5*-0x2+0x1*-0x200e],this['g']=_0x5f4705[0x1097*-0x2+0x177f+-0x9b0*-0x1],this['b']=_0x5f4705[0x1*0xf35+0x6c3+0x1*-0x15f6],this['a']=_0x5f4705[-0x197+0x2183*-0x1+0x231d]??-0x23ef*-0x1+0xeda+-0x32c8):(this['r']=_0x5f4705,this['g']=_0x397850,this['b']=_0x50ac34,this['a']=_0x511d97);}['clone'](){const _0x5fa017=this['constructo'+'r'];return new _0x5fa017(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x3902a8){return this['r']=_0x3902a8['r'],this['g']=_0x3902a8['g'],this['b']=_0x3902a8['b'],this['a']=_0x3902a8['a'],this;}['equals'](_0xe16add){return this['r']===_0xe16add['r']&&this['g']===_0xe16add['g']&&this['b']===_0xe16add['b']&&this['a']===_0xe16add['a'];}['set'](_0x464871,_0x5f34d7,_0x3138fd,_0x48b99a=-0x46f*-0x5+-0x1998+0x36e){return this['r']=_0x464871,this['g']=_0x5f34d7,this['b']=_0x3138fd,this['a']=_0x48b99a,this;}['lerp'](_0x19de9e,_0x114123,_0xb854f1){return this['r']=_0x19de9e['r']+_0xb854f1*(_0x114123['r']-_0x19de9e['r']),this['g']=_0x19de9e['g']+_0xb854f1*(_0x114123['g']-_0x19de9e['g']),this['b']=_0x19de9e['b']+_0xb854f1*(_0x114123['b']-_0x19de9e['b']),this['a']=_0x19de9e['a']+_0xb854f1*(_0x114123['a']-_0x19de9e['a']),this;}['linear'](_0x2e01a1=this){return this['r']=Math['pow'](_0x2e01a1['r'],-0x1*-0xf35+-0x11*0x13e+0x5eb+0.20000000000000018),this['g']=Math['pow'](_0x2e01a1['g'],-0x20b6+-0x1be4+0x3c9c+0.20000000000000018),this['b']=Math['pow'](_0x2e01a1['b'],-0x255*-0x9+-0x1e2b+-0x310*-0x3+0.20000000000000018),this['a']=_0x2e01a1['a'],this;}['gamma'](_0x53b417=this){return this['r']=Math['pow'](_0x53b417['r'],(0x16f4+-0x1ceb+0x2fc*0x2)/(-0x235a+-0x671*-0x1+0x2a1*0xb+0.20000000000000018)),this['g']=Math['pow'](_0x53b417['g'],(-0x1c19*-0x1+-0x1bcc+-0x4c)/(-0x3a2+0x1b97+-0x17f3+0.20000000000000018)),this['b']=Math['pow'](_0x53b417['b'],(-0x13b4+0x4*-0x3a7+0x2251)/(0xf6f+0x1203+-0x42e*0x8+0.20000000000000018)),this['a']=_0x53b417['a'],this;}['mulScalar'](_0x414fbf){return this['r']*=_0x414fbf,this['g']*=_0x414fbf,this['b']*=_0x414fbf,this;}['fromString'](_0x735c14){const _0x41eb03=parseInt(_0x735c14['replace']('#','0x'),-0x2*-0x996+-0x400+-0xf1c);let _0x57f9d1;return _0x735c14['length']>0x6c*-0x15+0x31a*0xc+-0x1c55?_0x57f9d1=Y['intToBytes'+'32'](_0x41eb03):(_0x57f9d1=Y['intToBytes'+'24'](_0x41eb03),_0x57f9d1[0x1b85+0x121e+-0x1*0x2da0]=0xb57*-0x2+-0x1*0xbe1+-0xde*-0x29),this['set'](_0x57f9d1[0x2a9+-0x1a5*-0x1+-0x44e]/(0x3bf+0x454*0x4+0x18*-0xd6),_0x57f9d1[-0x5b1+-0x91*0x10+0x1*0xec2]/(-0x622+-0x2652+-0x37f*-0xd),_0x57f9d1[-0x9*0x1c5+-0x1894+0x2883]/(-0x2333+0xe9*0x25+0x1*0x285),_0x57f9d1[-0x3*0xa97+0x21f9+-0x231]/(0x2ea+-0x739*-0x1+0xea*-0xa)),this;}['fromArray'](_0x253b33,_0x31e975=0x383*-0x9+-0x552+0x17*0x19b){return this['r']=_0x253b33[_0x31e975]??this['r'],this['g']=_0x253b33[_0x31e975+(0x6*0x26f+-0x1*-0x191b+0x16*-0x1ce)]??this['g'],this['b']=_0x253b33[_0x31e975+(-0x2048+-0x2f*0x38+-0x1549*-0x2)]??this['b'],this['a']=_0x253b33[_0x31e975+(0x1255+-0x9*-0x15d+0xbf*-0x29)]??this['a'],this;}['toString'](_0x3c6db8,_0x441fd2){const {r:_0x408bdb,g:_0xf33cfa,b:_0x5ed783,a:_0x2bc642}=this;if(_0x441fd2||_0x408bdb>0x1717+-0x5*-0x196+-0x1f04||_0xf33cfa>0x1*0x13ee+0x1f2+0x1fd*-0xb||_0x5ed783>0x3dd*0x9+-0x1727+0x3df*-0x3)return _0x408bdb['toFixed'](-0x1*0x18f2+-0x1*-0x2337+-0xa42)+',\x20'+_0xf33cfa['toFixed'](0x2*-0x251+0x1127*-0x2+0x26f3)+',\x20'+_0x5ed783['toFixed'](0x16b2+0x1b61+-0x3210)+',\x20'+_0x2bc642['toFixed'](-0x884+0xff5+-0x3b7*0x2);let _0x599033='#'+((-0x4*-0x215+-0x1*0x1d21+0x14ce<<-0x1*0x2671+0x2e7*0xd+0x2*0x67)+(Math['round'](_0x408bdb*(-0x3*-0xb7b+-0xc94+-0x1*0x14de))<<0x1*0x607+-0x1*-0x244d+-0x2a44)+(Math['round'](_0xf33cfa*(0x268d+0x45*-0x75+-0x1*0x605))<<0x1e86+0x2207*0x1+-0xc7*0x53)+Math['round'](_0x5ed783*(0xe95+-0x1e68+-0x1*-0x10d2)))['toString'](0x45*-0x20+0x4d7+0x3d9)['slice'](0x54f*-0x6+-0x226e+0x4249);if(_0x3c6db8===!(0x1fa4+0x14a8+-0x344c)){const _0x53a0ea=Math['round'](_0x2bc642*(-0x707*-0x5+-0xfab+-0x1279*0x1))['toString'](0x7*-0x392+0x62d+-0x1b*-0xb3);this['a']<(-0x11*0x9b+0x254c+-0x39*0x79)/(-0x10f5+0xabb+-0x1*-0x739)?_0x599033+='0'+_0x53a0ea:_0x599033+=_0x53a0ea;}return _0x599033;}['toArray'](_0xad1e70=[],_0x26edba=-0xa11*0x2+0xe*-0x6b+0x4*0x67f,_0x1088f9=!(0x184+-0x11bc+0x3*0x568)){return _0xad1e70[_0x26edba]=this['r'],_0xad1e70[_0x26edba+(-0x1a23+0x1b4a+-0x126)]=this['g'],_0xad1e70[_0x26edba+(0x151+0x1*-0x41b+0x2cc)]=this['b'],_0x1088f9&&(_0xad1e70[_0x26edba+(-0xf1a+-0x16e0+0x25fd)]=this['a']),_0xad1e70;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x1295+0x133*0x17+0x120*-0x8,0x4e6*-0x1+0x43b+-0x39*-0x3,0x1927+-0x18e5+-0x21*0x2,-0xa3*-0x21+0x1058*-0x1+-0x6*0xc7))),h(Tt,'BLUE',Object['freeze'](new Tt(-0xca6*-0x3+0x828*0x3+-0x1f35*0x2,-0x1ad8+0x6*-0x3ac+0x44*0xb8,0xb*-0xb7+0xc14*-0x2+0x2006,-0x14f3+0x224e*0x1+-0xd5a))),h(Tt,'CYAN',Object['freeze'](new Tt(-0x2195+-0x33*0x51+0x8*0x637,0x19fd+0x884+-0x2280,0x1f*-0x9a+-0x46*0x5f+-0x1c9*-0x19,-0x1d*0x49+-0x9f1*-0x1+-0x1ab))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x1*-0xce2+0x511+-0x11f3+0.5,0x7*0x3fe+0x801+-0x23f3+0.5,-0x4c1+0x1053+-0x5c9*0x2+0.5,0x1d48+-0x1bcd*0x1+0x1b*-0xe))),h(Tt,'GREEN',Object['freeze'](new Tt(-0xbf7*-0x1+-0x322*-0x1+-0xf19,0x1c4c+0x543*0x1+-0x2*0x10c7,0x2706+-0x3*-0x92f+-0x4293,-0x1dd1+-0x26b7+0x5*0xdb5))),h(Tt,'MAGENTA',Object['freeze'](new Tt(-0x4d6*0x4+0x5be+-0x2b*-0x51,-0xd*0xde+0x211*-0xb+0x1*0x2201,-0x10eb+-0x43e+0x152a,-0xf7*0xf+-0x5d*0x10+0x144a*0x1))),h(Tt,'RED',Object['freeze'](new Tt(-0xb6a*0x3+-0xda6+-0x3d*-0xc9,0x1476+0x1a9d*0x1+-0x3*0xfb1,-0x18f0+0x139f+0x551,-0x1*0x1296+0x15*-0x97+0x1efa))),h(Tt,'WHITE',Object['freeze'](new Tt(0x21b5+-0xd85*0x1+-0x142f*0x1,-0x1a*0x3b+-0x94e+0xf4d,-0x5ce+-0xc4e+0x121d,-0x1274+-0x295*0x4+0x1cc9))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x1f54+-0x208d+-0x1*-0x13a,0x1fa+-0x3*-0x7c+-0x36d,0x1443+-0x3*0xb1e+-0xd17*-0x1,0x19fe+-0x20f1*0x1+0x6f4)));let ie=Tt;class ZS{constructor(_0x181317,_0x308f15=-0x1229+-0x632+0x4df*0x5){h(this,'_curve'),h(this,'_left',-(-0xbb+0x183*-0x6+-0x1f6*-0x5)/(-0x3df+-0x2fe*-0x9+-0x170f*0x1)),h(this,'_right',(0x4dc*0x8+0x376*-0xb+0x1*-0xcd)/(-0x34*-0x65+-0x2cf*0xb+0xa61*0x1)),h(this,'_recip',-0xa75+0xd21+-0x2ac),h(this,'_p0',0x2*0x3dc+0x1704*-0x1+0xf4c),h(this,'_p1',0x9b5+-0x2c3*0xb+0x14ac),h(this,'_m0',0x2a8+0x4*-0x428+0xdf8),h(this,'_m1',-0xdc3+0x5*-0x5c9+0x2ab0),(this['_curve']=_0x181317,this['_reset'](_0x308f15));}['evaluate'](_0x7e6222,_0x4c0420=!(-0xb04+-0x1*-0x2329+-0x1824)){(_0x4c0420||_0x7e6222<this['_left']||_0x7e6222>=this['_right'])&&this['_reset'](_0x7e6222);let _0x1993fe;const _0x549627=this['_curve']['type'];if(_0x549627===_x)_0x1993fe=this['_p0'];else{const _0x28b2fd=this['_recip']===0x1*0x138b+0x1f7c+-0x3307?0x124b+-0x2258+-0x7*-0x24b:(_0x7e6222-this['_left'])*this['_recip'];_0x549627===mx?_0x1993fe=Y['lerp'](this['_p0'],this['_p1'],_0x28b2fd):_0x549627===tp?_0x1993fe=Y['lerp'](this['_p0'],this['_p1'],_0x28b2fd*_0x28b2fd*(-0x1*0x1381+0x2084+-0x100*0xd-(0x1052*0x1+0x161c+0x2*-0x1336)*_0x28b2fd)):_0x1993fe=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x28b2fd);}return _0x1993fe;}['_reset'](_0x4151b9){const _0x5af63e=this['_curve']['keys'],_0x239055=_0x5af63e['length'];if(!_0x239055)this['_left']=-(-0x6ae+-0x1*-0xba5+0x1*-0x4f6)/(-0x3*-0x66+-0x1*-0x9a9+-0x1*0xadb),this['_right']=(-0x25e8+-0x10e*-0x23+0xff)/(0x1125*0x2+-0xc09+0x1b*-0xd3),this['_recip']=0x1*-0x1492+0x191*-0x1+0x1623,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x14e+-0x5f*0x57+-0x2d1*-0xb;else{if(_0x4151b9<_0x5af63e[-0x17a5+-0x26fa+0x17*0x2b9][-0x1*-0x1c73+0x1373+-0x1*0x2fe6])this['_left']=-(0x130+0x2*-0xdd3+0x19*0x10f)/(0x18e5*-0x1+0x42+0x1*0x18a3),this['_right']=_0x5af63e[0xb*0xd7+0xd2d+0x166a*-0x1][-0xc8*0x16+0x1*0x1e1+0xf4f],this['_recip']=-0x19b5+0xed9+-0xadc*-0x1,this['_p0']=this['_p1']=_0x5af63e[0xd2c+0x7*-0x274+0x400][0x1c70+-0x3cf+-0x2*0xc50],this['_m0']=this['_m1']=-0x2f*-0x41+0x15dd+0x4*-0x873;else{if(_0x4151b9>=_0x5af63e[_0x239055-(0x10f8+-0x28d*0x2+0x1*-0xbdd)][0x54*-0x6+-0x1b71+0x1d69])this['_left']=_0x5af63e[_0x239055-(0x6ad*-0x3+0x1bb6*-0x1+0x2fbe)][-0x1d55+0x9*0x7f+0x18de],this['_right']=(-0x402+0x9bb+-0x2*0x2dc)/(0x1*0x5a7+-0x1*0xa2e+0x487),this['_recip']=0x259*-0xc+0x41+0x1beb*0x1,this['_p0']=this['_p1']=_0x5af63e[_0x239055-(-0x1385+-0x1a6b*-0x1+-0x5*0x161)][0xdda+0x1919+0x26f2*-0x1],this['_m0']=this['_m1']=-0x6f7*-0x5+-0x334+-0x1*0x1f9f;else{let _0x2ecef=0x1fd4+0x1*0x1b56+-0x1*0x3b2a;for(;_0x4151b9>=_0x5af63e[_0x2ecef+(-0x1da3+-0x1a*-0x9d+-0x1*-0xdb2)][0x18d8+0xe7f+0x2757*-0x1];)_0x2ecef++;this['_left']=_0x5af63e[_0x2ecef][0x2*-0x457+-0x687+0xf35],this['_right']=_0x5af63e[_0x2ecef+(0x2133+0x21f*-0x9+-0x17*0x9d)][-0x1ee+0x11ee+-0x1000];const _0x5129cf=(-0xf60+-0x1d15+-0x1*-0x2c76)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x5129cf)?_0x5129cf:-0x2663+-0x158c+-0x1*-0x3bef,this['_p0']=_0x5af63e[_0x2ecef][-0x1fc1+-0x2*-0x259+-0x1b10*-0x1],this['_p1']=_0x5af63e[_0x2ecef+(-0x34*0x7d+0x5*0x562+-0x185)][-0x1765*-0x1+0x1b91+-0x32f5*0x1],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x5af63e,_0x2ecef);}}}}['_calcTange'+'nts'](_0x1cc246,_0x1be719){let _0x23a572;const _0x399d97=_0x1cc246[_0x1be719],_0x440e40=_0x1cc246[_0x1be719+(-0x11*0x22c+0x25bd+-0xd0)];let _0x4202c2;if(_0x1be719===-0x1*0x18eb+0x19e7*0x1+-0xfc?_0x23a572=[_0x1cc246[-0x21c6+0x840+0x1986][-0x191+0x71*-0xa+-0x5fb*-0x1]+(_0x1cc246[-0x4a3*-0x7+-0x1a9c*0x1+-0x5d9][0xce9+0x238c+0x9b1*-0x5]-_0x1cc246[0x5*-0x4ca+0x1f93+-0x7a0][-0x1feb+0x2663+-0x678]),_0x1cc246[0x51*-0x69+0xee7+-0x1d5*-0xa][-0x33c*0x1+-0x14a7+-0x16*-0x116]+(_0x1cc246[0x1bd6+-0x1*-0xf1+-0x1cc7][0x226f+0x2*0x943+-0x34f4]-_0x1cc246[0x1*-0x23f1+0x2db*-0xd+0x57*0xd7][0xd78+-0xd5c+0x1*-0x1b])]:_0x23a572=_0x1cc246[_0x1be719-(0x3b2+-0x1*0x1142+0x1*0xd91)],_0x1be719===_0x1cc246['length']-(0x1*-0x150f+0x12b0+0x7*0x57)?_0x4202c2=[_0x1cc246[_0x1be719+(0x5*-0x4cd+0x1f26+-0x724)][-0x157*0x16+-0x79c+-0x2f*-0xca]+(_0x1cc246[_0x1be719+(0x43b*0x1+0x435*0x1+-0x86f)][-0x997*0x1+0x99e+0x1*-0x7]-_0x1cc246[_0x1be719][0x1c1c*0x1+-0x1d3b+0x11f]),_0x1cc246[_0x1be719+(0x1*0xbe3+0x7bd*0x1+0x139f*-0x1)][-0x536+-0xadf+0x1016]+(_0x1cc246[_0x1be719+(0x23ae+-0x101e+-0x138f)][0x146c+-0xcd*-0x1+-0x1538]-_0x1cc246[_0x1be719][-0x674+0x23d5+0x178*-0x14])]:_0x4202c2=_0x1cc246[_0x1be719+(0x13bf+0x707+-0xc*0x23b)],this['_curve']['type']===Nm){const _0x772ccb=(-0x1ec+-0x1990+0x1b7e)*(_0x440e40[0x763+0xfac+-0x170f]-_0x399d97[0x4f*0x35+-0x61*-0x4d+-0x2d88])/(_0x440e40[0x1450+-0xc4b+-0x805*0x1]-_0x23a572[0x878+0xe25+-0x169d]),_0x5d135c=(0x1889*-0x1+0x16ed*-0x1+-0x6c8*-0x7)*(_0x440e40[-0xf11+-0xf9b+0x1eac]-_0x399d97[0x5e1+-0x20f9+0x1b18])/(_0x4202c2[0x29*0x54+-0x1203+0x48f]-_0x399d97[-0x2*0xd8c+0xea5+0xc73]);this['_m0']=this['_curve']['tension']*(isFinite(_0x772ccb)?_0x772ccb:0x1*-0x2108+0x1e09+0x2ff)*(_0x440e40[0x162f+0x2057+-0x3685]-_0x23a572[0x2c7*0x6+0x220d+-0x195b*0x2]),this['_m1']=this['_curve']['tension']*(isFinite(_0x5d135c)?_0x5d135c:-0x1b1c*-0x1+-0x56*-0x8+0x4*-0x773)*(_0x4202c2[-0xcf7+-0x1f44+-0x13*-0x254]-_0x399d97[-0x1*0x229f+-0x265*-0x3+0x1b71]);}else{const _0x2dd9ad=(_0x440e40[-0x2*0xb8d+0x3*-0x885+-0x1*-0x30a9]-_0x399d97[0x1795+0x1*0x114a+-0x1*0x28df])/(_0x399d97[-0x11b*0x10+-0x25*0x5e+-0xfa3*-0x2]-_0x23a572[-0x1c3*0xd+-0x21fe+0xb61*0x5]),_0xec18a=(_0x440e40[0x5ce+-0x14e+-0x8*0x90]-_0x399d97[0x1*-0x15c3+-0xb15*0x1+0x1*0x20d8])/(_0x4202c2[0x162a+0x175e+-0x2d88]-_0x440e40[-0x1*0x95c+0x1015*0x1+0x1*-0x6b9]),_0x5c58c7=_0x399d97[-0x11*-0xe5+-0x1*-0x1fa2+-0x6d*0x6e]+(_0x23a572[-0x3*-0x269+0x19ef+-0x2129*0x1]-_0x399d97[-0x21f6+0x9ac+0x184b])*(isFinite(_0x2dd9ad)?_0x2dd9ad:-0x1a*-0xbc+0x1*-0x1492+0x17a),_0x257277=_0x440e40[0x77f*-0x1+-0x1e2b+-0x25ab*-0x1]+(_0x4202c2[-0x29e+-0xb57+0xdf6]-_0x440e40[-0x1*0x133a+0x1819+-0x4de])*(isFinite(_0xec18a)?_0xec18a:-0x3b5+0x1064+-0x11*0xbf),_0x132125=this['_curve']['tension'];this['_m0']=_0x132125*(_0x440e40[-0xa3*0x1e+-0x1*0x1c37+-0x1*-0x2f52]-_0x5c58c7),this['_m1']=_0x132125*(_0x257277-_0x399d97[0x13*0x1f0+-0x56*0x10+-0x1f6f]);}}['_evaluateH'+'ermite'](_0x1bfda0,_0x2b6b4c,_0xc7e11a,_0x14998a,_0x4fd565){const _0x5d3e9c=_0x4fd565*_0x4fd565,_0x4fe5f3=_0x4fd565+_0x4fd565,_0x57da63=-0x2602+-0x6*-0x405+0xde5-_0x4fd565,_0x4e8a1d=_0x57da63*_0x57da63;return _0x1bfda0*((0x2*-0x694+0xfc4+0x1*-0x29b+_0x4fe5f3)*_0x4e8a1d)+_0xc7e11a*(_0x4fd565*_0x4e8a1d)+_0x2b6b4c*(_0x5d3e9c*(-0x1e4b*0x1+-0x2252+-0x814*-0x8-_0x4fe5f3))+_0x14998a*(_0x5d3e9c*(_0x4fd565-(-0x1b2b+0x1f86+-0x45a)));}}class qs{constructor(_0x48470a){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x23da*-0x1+0x5*-0x295+-0x9*-0x56b+0.5),h(this,'_eval',new ZS(this));if(_0x48470a){for(let _0x4944df=0xd3a+0x2584+0x1*-0x32be;_0x4944df<_0x48470a['length']-(0x174b*0x1+-0x2*-0x117d+-0x3a44);_0x4944df+=0x1f56+0x5d9+-0x252d)this['keys']['push']([_0x48470a[_0x4944df],_0x48470a[_0x4944df+(0x7a5+0x601*0x3+-0x19a7)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x1b1cf2,_0x2d18d4){const _0x40e59f=this['keys'],_0x2c04d8=_0x40e59f['length'];let _0x57b93c=0xd25+-0x4d5*0x8+0x1983;for(;_0x57b93c<_0x2c04d8&&!(_0x40e59f[_0x57b93c][0x2d*-0x9d+0x1122+0xa77]>_0x1b1cf2);_0x57b93c++);const _0x110796=[_0x1b1cf2,_0x2d18d4];return this['keys']['splice'](_0x57b93c,0x9*0x3e+-0x2b*0xc9+0x4d*0x69,_0x110796),_0x110796;}['get'](_0x29f6c0){return this['keys'][_0x29f6c0];}['sort'](){this['keys']['sort']((_0x26d7c1,_0x25ba4a)=>_0x26d7c1[0x217b+-0x2117*0x1+-0x64]-_0x25ba4a[0x7*0x39a+-0x1*-0x30b+0x1*-0x1c41]);}['value'](_0x58a447){return this['_eval']['evaluate'](_0x58a447,!(0x2108+0x635+-0x273d));}['closest'](_0x290880){const _0x972151=this['keys'],_0x5cd324=_0x972151['length'];let _0x1d4c40=-0x1f71+0x4a4+0x1acf*0x1,_0x4079d0=null;for(let _0x48e89c=-0x1132+-0x1baf+0x2ce1;_0x48e89c<_0x5cd324;_0x48e89c++){const _0x24f5ca=Math['abs'](_0x290880-_0x972151[_0x48e89c][-0x29*0xbf+0x4*-0x905+0x42ab]);if(_0x1d4c40>=_0x24f5ca)_0x1d4c40=_0x24f5ca,_0x4079d0=_0x972151[_0x48e89c];else break;}return _0x4079d0;}['clone'](){const _0x317a93=new this['constructo'+'r']();return _0x317a93['keys']=this['keys']['map'](_0x26f9f5=>[..._0x26f9f5]),_0x317a93['type']=this['type'],_0x317a93['tension']=this['tension'],_0x317a93;}['quantize'](_0x1c2a62){_0x1c2a62=Math['max'](_0x1c2a62,-0x1dad+0x12*-0x188+0x393f*0x1);const _0xa4e7be=new Float32Array(_0x1c2a62),_0x4d750f=(-0x119f+-0x79e+-0x12*-0x167)/(_0x1c2a62-(0x6*0x2c8+0x1850+-0x28ff));_0xa4e7be[-0x1d73+-0x18b9*-0x1+0x4ba]=this['_eval']['evaluate'](0x1a7f+0x24d9+-0x3f58,!(-0x201e+0xef8+0x5*0x36e));for(let _0x10273a=0x11*-0xb9+0x4*-0x9b0+0x330a;_0x10273a<_0x1c2a62;_0x10273a++)_0xa4e7be[_0x10273a]=this['_eval']['evaluate'](_0x4d750f*_0x10273a);return _0xa4e7be;}['quantizeCl'+'amped'](_0x3a8d73,_0x5b4104,_0x194b5a){const _0x1ee5ab=this['quantize'](_0x3a8d73);for(let _0x3953f9=0x1*0x551+0x1*0xb9b+-0x10ec;_0x3953f9<_0x1ee5ab['length'];++_0x3953f9)_0x1ee5ab[_0x3953f9]=Math['min'](_0x194b5a,Math['max'](_0x5b4104,_0x1ee5ab[_0x3953f9]));return _0x1ee5ab;}}class na{constructor(..._0x3ed95c){h(this,'curves',[]),h(this,'_type',tp);if(_0x3ed95c['length']>0x1dbf*-0x1+0x3d5*0x9+-0x4bd*0x1){for(let _0x31117b=-0x67*0x29+0xd63+0x31c;_0x31117b<_0x3ed95c['length'];_0x31117b++)this['curves']['push'](new qs(_0x3ed95c[_0x31117b]));}else{if(_0x3ed95c['length']===-0x2011+0x2*0x495+0x16e7)this['curves']['push'](new qs());else{const _0x3a9579=_0x3ed95c[0x1fc5+0x31*-0x84+-0x681];if(typeof _0x3a9579=='number'){for(let _0x3bec6f=0xb20+0x1d8b+-0x1d*0x167;_0x3bec6f<_0x3a9579;_0x3bec6f++)this['curves']['push'](new qs());}else{for(let _0x409dfe=-0x1483+-0x1e95*0x1+-0x5*-0xa38;_0x409dfe<_0x3a9579['length'];_0x409dfe++)this['curves']['push'](new qs(_0x3a9579[_0x409dfe]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x32dcfc){this['_type']=_0x32dcfc;for(let _0x48443c=-0x2*0x5ae+0x1e17*-0x1+0x2973;_0x48443c<this['curves']['length'];_0x48443c++)this['curves'][_0x48443c]['type']=_0x32dcfc;}get['type'](){return this['_type'];}['get'](_0x4e1618){return this['curves'][_0x4e1618];}['value'](_0x5bef44,_0x172716=[]){const _0xc50712=this['curves']['length'];_0x172716['length']=_0xc50712;for(let _0x27e9fc=-0x2a*0x5b+-0x1*0x1c2e+0x2b1c;_0x27e9fc<_0xc50712;_0x27e9fc++)_0x172716[_0x27e9fc]=this['curves'][_0x27e9fc]['value'](_0x5bef44);return _0x172716;}['clone'](){const _0xbd5097=new this['constructo'+'r']();_0xbd5097['curves']=[];for(let _0x23ca9d=-0x15ea+-0x363*-0x1+-0x9*-0x20f;_0x23ca9d<this['curves']['length'];_0x23ca9d++)_0xbd5097['curves']['push'](this['curves'][_0x23ca9d]['clone']());return _0xbd5097['_type']=this['_type'],_0xbd5097;}['quantize'](_0x2fdb2b){_0x2fdb2b=Math['max'](_0x2fdb2b,-0x75*-0x4d+0x136*-0x1f+0x25b);const _0x23ee7e=this['curves']['length'],_0x523443=new Float32Array(_0x2fdb2b*_0x23ee7e),_0x1fe5dd=(-0x3*-0x73+0xe95+0x1*-0xfed)/(_0x2fdb2b-(0x1266+-0x25dd+0x164*0xe));for(let _0x361804=-0x12*0x80+-0x34*0x9a+-0x4*-0xa12;_0x361804<_0x23ee7e;_0x361804++){const _0x255319=new ZS(this['curves'][_0x361804]);for(let _0x19b6b9=-0xf53+-0x26ea*0x1+0x363d;_0x19b6b9<_0x2fdb2b;_0x19b6b9++)_0x523443[_0x19b6b9*_0x23ee7e+_0x361804]=_0x255319['evaluate'](_0x1fe5dd*_0x19b6b9);}return _0x523443;}['quantizeCl'+'amped'](_0x5e3d0a,_0x401a6f,_0x4e18a1){const _0x3ae9e5=this['quantize'](_0x5e3d0a);for(let _0x228864=0xb5f*0x2+-0x1d63+0x6a5;_0x228864<_0x3ae9e5['length'];++_0x228864)_0x3ae9e5[_0x228864]=Math['min'](_0x4e18a1,Math['max'](_0x401a6f,_0x3ae9e5[_0x228864]));return _0x3ae9e5;}}const Hf=new Float32Array(-0x6da*0x1+0x1f01+0x1*-0x1826),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x5ebd25){Hf[-0x384+-0xfa*0x6+0x50*0x1e]=_0x5ebd25;const _0x44424e=km[0x1*0x25ff+0x1d8*-0x2+-0x224f];let _0x137406=_0x44424e>>0x3*0xd5+0xb*0x259+-0x1c42&-0xc5b9+0x9562+0xb057,_0x336341=_0x44424e>>-0xa66*-0x3+0x214f+-0x4075&-0x928+0x705*-0x1+0x182c;const _0xff6c95=_0x44424e>>-0x1*-0xdc3+-0x1*0xd8d+0x1*-0x1f&-0x1423+-0x1*0x391+0x18b3;return _0xff6c95<-0xf95*0x1+0x2*-0x17f+0xe*0x15b?_0x137406:_0xff6c95>-0x1227+-0x1b2d+0xe*0x347?(_0x137406|=0x2*0x6c64+-0x3f4b+-0x1d7d*0x1,_0x137406|=(_0xff6c95===-0x8ea+-0x151b*0x1+0x1f04?-0x1d5a+-0x1cd1+0x3a2b:-0x13d0*-0x1+0x10e9+-0x24b8)&&_0x44424e&-0x7dd4a9+0xe89986*-0x1+-0x1e66e2e*-0x1,_0x137406):_0xff6c95<0x15c*0xd+-0x1*0xb6e+-0x5cd?(_0x336341|=-0x1081+0x3cd*0x3+0x1a*0x81,_0x137406|=(_0x336341>>0x15*-0x1a7+0x1f9*-0x1+0x251e-_0xff6c95)+(_0x336341>>-0x19f*0x6+0x1e69+0xa1f*-0x2-_0xff6c95&-0x181+0xb*0xa3+-0x57f),_0x137406):(_0x137406|=_0xff6c95-(0xa10+-0x25e3+0x1c43)<<-0x12e5+0x970*-0x4+0x1*0x38af|_0x336341>>-0x17c4+-0x38*-0x3d+-0x1*-0xa6d,_0x137406+=_0x336341&-0x23f6+0x7c*0x11+0x1f*0xe5,_0x137406);}static['float2RGBA'+'8'](_0x3951a4,_0x59dbe5){Hf[-0x1632+-0x15b*-0x1+0xb*0x1e5]=_0x3951a4;const _0x4d2768=km[0x1f*0x12a+0x944+-0x2d5a];_0x59dbe5['r']=(_0x4d2768>>0x12bb+-0x3*-0x23e+-0x195d&0x4*-0x450+0x6c2+0xb7d)/(-0x5*-0x554+-0x6d3*-0x3+0x1*-0x2e1e),_0x59dbe5['g']=(_0x4d2768>>-0x49*0x29+0x11f8+-0x637*0x1&-0x779*0x2+0x5b*0x17+-0x11c*-0x7)/(-0x1197+-0x1fb5*-0x1+0xd1f*-0x1),_0x59dbe5['b']=(_0x4d2768>>0xb3*-0x3+0x5f9+-0x3d8&-0x2*-0x6d5+-0x9+-0xca2)/(0x81+-0x29*0xa8+-0x7*-0x3ea),_0x59dbe5['a']=(_0x4d2768&-0x8e4+0x4b5*-0x5+-0x2c9*-0xc)/(0x32e*-0x8+0xf15+-0xb5a*-0x1);}}const wt=class wt{constructor(_0xe602f2=0x2533*-0x1+-0x1*-0x1631+0xf02,_0x3559fa=-0x278*0x4+-0x25a8+0x5f1*0x8,_0x1b54ae=-0x87c+-0x11*-0x1cf+0x1643*-0x1){h(this,'x'),h(this,'y'),h(this,'z'),_0xe602f2['length']===-0x190b+-0x243e+0x4*0xf53?(this['x']=_0xe602f2[-0x1ea2*0x1+0xb*-0x324+-0x26a*-0x1b],this['y']=_0xe602f2[-0x53*-0x23+-0xd3b+-0x45*-0x7],this['z']=_0xe602f2[-0xaa*-0x1+-0x1112+0x106a]):(this['x']=_0xe602f2,this['y']=_0x3559fa,this['z']=_0x1b54ae);}['add'](_0x37660e){return this['x']+=_0x37660e['x'],this['y']+=_0x37660e['y'],this['z']+=_0x37660e['z'],this;}['add2'](_0x1cc37c,_0x44efd5){return this['x']=_0x1cc37c['x']+_0x44efd5['x'],this['y']=_0x1cc37c['y']+_0x44efd5['y'],this['z']=_0x1cc37c['z']+_0x44efd5['z'],this;}['addScalar'](_0x2bda02){return this['x']+=_0x2bda02,this['y']+=_0x2bda02,this['z']+=_0x2bda02,this;}['addScaled'](_0xfa733c,_0x57dcd7){return this['x']+=_0xfa733c['x']*_0x57dcd7,this['y']+=_0xfa733c['y']*_0x57dcd7,this['z']+=_0xfa733c['z']*_0x57dcd7,this;}['clone'](){const _0x434c23=this['constructo'+'r'];return new _0x434c23(this['x'],this['y'],this['z']);}['copy'](_0x318bf6){return this['x']=_0x318bf6['x'],this['y']=_0x318bf6['y'],this['z']=_0x318bf6['z'],this;}['cross'](_0x19c263,_0xb2d2fb){const _0x1d45a3=_0x19c263['x'],_0x8ea89b=_0x19c263['y'],_0x5e441e=_0x19c263['z'],_0x56d67a=_0xb2d2fb['x'],_0x24ffd5=_0xb2d2fb['y'],_0x310f53=_0xb2d2fb['z'];return this['x']=_0x8ea89b*_0x310f53-_0x24ffd5*_0x5e441e,this['y']=_0x5e441e*_0x56d67a-_0x310f53*_0x1d45a3,this['z']=_0x1d45a3*_0x24ffd5-_0x56d67a*_0x8ea89b,this;}['distance'](_0x6f6cfd){const _0x853b4b=this['x']-_0x6f6cfd['x'],_0x261dfb=this['y']-_0x6f6cfd['y'],_0x3f23ed=this['z']-_0x6f6cfd['z'];return Math['sqrt'](_0x853b4b*_0x853b4b+_0x261dfb*_0x261dfb+_0x3f23ed*_0x3f23ed);}['div'](_0x1569b1){return this['x']/=_0x1569b1['x'],this['y']/=_0x1569b1['y'],this['z']/=_0x1569b1['z'],this;}['div2'](_0x91051b,_0x510e87){return this['x']=_0x91051b['x']/_0x510e87['x'],this['y']=_0x91051b['y']/_0x510e87['y'],this['z']=_0x91051b['z']/_0x510e87['z'],this;}['divScalar'](_0x2f2e00){return this['x']/=_0x2f2e00,this['y']/=_0x2f2e00,this['z']/=_0x2f2e00,this;}['dot'](_0x166f0f){return this['x']*_0x166f0f['x']+this['y']*_0x166f0f['y']+this['z']*_0x166f0f['z'];}['equals'](_0x5c10cd){return this['x']===_0x5c10cd['x']&&this['y']===_0x5c10cd['y']&&this['z']===_0x5c10cd['z'];}['equalsAppr'+'ox'](_0x5e0efe,_0x4bed13=0xed4*-0x1+-0x4*0x3a+0xfbc+0.000001){return Math['abs'](this['x']-_0x5e0efe['x'])<_0x4bed13&&Math['abs'](this['y']-_0x5e0efe['y'])<_0x4bed13&&Math['abs'](this['z']-_0x5e0efe['z'])<_0x4bed13;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x29cb22,_0x443559,_0x112589){return this['x']=_0x29cb22['x']+_0x112589*(_0x443559['x']-_0x29cb22['x']),this['y']=_0x29cb22['y']+_0x112589*(_0x443559['y']-_0x29cb22['y']),this['z']=_0x29cb22['z']+_0x112589*(_0x443559['z']-_0x29cb22['z']),this;}['mul'](_0x496006){return this['x']*=_0x496006['x'],this['y']*=_0x496006['y'],this['z']*=_0x496006['z'],this;}['mul2'](_0x3c4f8e,_0x4505c1){return this['x']=_0x3c4f8e['x']*_0x4505c1['x'],this['y']=_0x3c4f8e['y']*_0x4505c1['y'],this['z']=_0x3c4f8e['z']*_0x4505c1['z'],this;}['mulScalar'](_0x4bec84){return this['x']*=_0x4bec84,this['y']*=_0x4bec84,this['z']*=_0x4bec84,this;}['normalize'](_0x5467b5=this){const _0x181ab3=_0x5467b5['x']*_0x5467b5['x']+_0x5467b5['y']*_0x5467b5['y']+_0x5467b5['z']*_0x5467b5['z'];if(_0x181ab3>0x2*-0x97+-0x802*-0x2+-0xed6){const _0x855828=(0x19dd+0xc88+-0x2664)/Math['sqrt'](_0x181ab3);this['x']=_0x5467b5['x']*_0x855828,this['y']=_0x5467b5['y']*_0x855828,this['z']=_0x5467b5['z']*_0x855828;}return this;}['floor'](_0x19b1d3=this){return this['x']=Math['floor'](_0x19b1d3['x']),this['y']=Math['floor'](_0x19b1d3['y']),this['z']=Math['floor'](_0x19b1d3['z']),this;}['ceil'](_0x19a188=this){return this['x']=Math['ceil'](_0x19a188['x']),this['y']=Math['ceil'](_0x19a188['y']),this['z']=Math['ceil'](_0x19a188['z']),this;}['round'](_0x429f38=this){return this['x']=Math['round'](_0x429f38['x']),this['y']=Math['round'](_0x429f38['y']),this['z']=Math['round'](_0x429f38['z']),this;}['min'](_0x844f69){return _0x844f69['x']<this['x']&&(this['x']=_0x844f69['x']),_0x844f69['y']<this['y']&&(this['y']=_0x844f69['y']),_0x844f69['z']<this['z']&&(this['z']=_0x844f69['z']),this;}['max'](_0x3b2d0c){return _0x3b2d0c['x']>this['x']&&(this['x']=_0x3b2d0c['x']),_0x3b2d0c['y']>this['y']&&(this['y']=_0x3b2d0c['y']),_0x3b2d0c['z']>this['z']&&(this['z']=_0x3b2d0c['z']),this;}['project'](_0x4af405){const _0x5e7fca=this['x']*_0x4af405['x']+this['y']*_0x4af405['y']+this['z']*_0x4af405['z'],_0x1de31e=_0x4af405['x']*_0x4af405['x']+_0x4af405['y']*_0x4af405['y']+_0x4af405['z']*_0x4af405['z'],_0x28cea0=_0x5e7fca/_0x1de31e;return this['x']=_0x4af405['x']*_0x28cea0,this['y']=_0x4af405['y']*_0x28cea0,this['z']=_0x4af405['z']*_0x28cea0,this;}['set'](_0x42e855,_0x3b437e,_0x537153){return this['x']=_0x42e855,this['y']=_0x3b437e,this['z']=_0x537153,this;}['sub'](_0x5f1106){return this['x']-=_0x5f1106['x'],this['y']-=_0x5f1106['y'],this['z']-=_0x5f1106['z'],this;}['sub2'](_0x10e76a,_0x249781){return this['x']=_0x10e76a['x']-_0x249781['x'],this['y']=_0x10e76a['y']-_0x249781['y'],this['z']=_0x10e76a['z']-_0x249781['z'],this;}['subScalar'](_0x58eeaa){return this['x']-=_0x58eeaa,this['y']-=_0x58eeaa,this['z']-=_0x58eeaa,this;}['fromArray'](_0x183c97,_0x5a4158=-0x89b+-0x1*-0x1113+-0x878){return this['x']=_0x183c97[_0x5a4158]??this['x'],this['y']=_0x183c97[_0x5a4158+(0x9f*-0x10+0xeed*-0x1+0x18de)]??this['y'],this['z']=_0x183c97[_0x5a4158+(0x1*-0x103d+-0xd6b*-0x1+0x2d4)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x5d0e40=[],_0x4b6030=0x1c50+0x7f7+-0x2447){return _0x5d0e40[_0x4b6030]=this['x'],_0x5d0e40[_0x4b6030+(0x781+0x3e5*0x1+-0xb65)]=this['y'],_0x5d0e40[_0x4b6030+(-0x7e9*0x3+0x1e3a*0x1+-0xb*0x97)]=this['z'],_0x5d0e40;}};h(wt,'ZERO',Object['freeze'](new wt(0x2062+-0xc41+-0x1421,0x7*-0x355+-0x1f39*0x1+0x1*0x368c,0x63d+-0x1*0x23c9+0x1d8c))),h(wt,'HALF',Object['freeze'](new wt(0x12*-0x15d+-0x2079+0x1a1*0x23+0.5,0x50b*0x2+-0x611*-0x1+0x33b*-0x5+0.5,-0x1ba7+0xef3*0x1+0xcb4+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x1ac2+-0x373*-0xb+-0x40b2,0x4*-0x44+0x197b+0xa*-0x271,0xd*0x1bd+0x1f*-0xe0+0x4*0x122))),h(wt,'UP',Object['freeze'](new wt(-0x2222+0x25*0xe9+-0x27*-0x3,-0x1cd*0xd+0x2*0x89f+0x14*0x4f,0x15fa+-0x1*0x118+0x63*-0x36))),h(wt,'DOWN',Object['freeze'](new wt(0x2479+0x1636*0x1+-0x3aaf,-(-0x9d1*-0x3+-0xa92*0x3+0x244),-0x1062*-0x2+-0x17*-0x133+0x7*-0x89f))),h(wt,'RIGHT',Object['freeze'](new wt(-0xf1*0x18+-0x1f*-0x66+0xa3f,0x20fc+-0x5*-0x202+-0x1*0x2b06,-0xde8+-0x1be0+0x29c8))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x18ff+0x2432+-0xb32),0x154b+-0x263d+0x10f2,0x33a+0x2*0xdd5+-0x1ee4))),h(wt,'FORWARD',Object['freeze'](new wt(-0x1*0x2513+0x14b*-0x1d+0x4a92,0x1*-0x1cbf+-0x2*-0xad+0x1b65,-(-0x9f3+0x261f+-0x1c2b)))),h(wt,'BACK',Object['freeze'](new wt(-0x1959+0x927*0x2+-0x3*-0x259,0x4c1*0x3+0x858+-0x169b,0xec*-0x29+-0x5*-0x443+-0x83f*-0x2)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x1990+-0x8c4+-0x1*0x10c3)),this['data'][0x1e82+-0x182e+-0x654]=this['data'][-0x198b*-0x1+0x1*0x2581+-0x3f08]=this['data'][-0x1677+0x1eb5*-0x1+0x3534]=0x1c73+-0x4d9*0x1+0x1799*-0x1;}['clone'](){const _0x1583c5=this['constructo'+'r'];return new _0x1583c5()['copy'](this);}['copy'](_0x4207a3){const _0x1aee03=_0x4207a3['data'],_0x174e6a=this['data'];return _0x174e6a[0x1819+-0x12ea+0x1*-0x52f]=_0x1aee03[0x931*-0x2+0x253f*-0x1+0x37a1],_0x174e6a[-0xeaa+-0x49f+0x134a]=_0x1aee03[0x8d6+0x1b20+-0x1*0x23f5],_0x174e6a[-0x1959+0x1c77+-0x31c]=_0x1aee03[0x196e+-0x805*-0x2+0x6*-0x6e9],_0x174e6a[-0x49*0x32+-0x1b77+0x29bc]=_0x1aee03[-0x260c+0x21dd+0x432],_0x174e6a[0x1109*-0x2+0xbbe+-0x5*-0x478]=_0x1aee03[0x3fb*-0x4+-0x1*0x23bf+0x33af],_0x174e6a[0x3*0x32b+0x17d*-0x3+-0x505*0x1]=_0x1aee03[0x120b+0x250+-0x1456],_0x174e6a[0x20f9*-0x1+-0x1ac9*-0x1+-0x6a*-0xf]=_0x1aee03[0xb21+0x411+-0xf2c*0x1],_0x174e6a[0x1375+-0x7f4+-0x1a*0x71]=_0x1aee03[-0x38f*-0x1+-0xc84+0x8fc],_0x174e6a[-0x141*-0x2+0x136*0xc+-0x2*0x881]=_0x1aee03[0x61*-0x35+0x1*-0x1609+-0x19f*-0x1a],this;}['set'](_0x41fe8e){const _0x509fb0=this['data'];return _0x509fb0[0x59a*0x1+0xcba+0x44*-0x45]=_0x41fe8e[-0x2*0xf94+0xc97*-0x2+0x3856],_0x509fb0[-0x1b53+-0x45d*0x1+-0x1*-0x1fb1]=_0x41fe8e[-0x493*-0x4+0x1*-0x1a35+0x7ea],_0x509fb0[-0x2031+0x21fa*0x1+0x1c7*-0x1]=_0x41fe8e[-0x23ef+-0x24dd+0x48ce],_0x509fb0[-0x1fa*0x11+0xba*-0x1+0x2257]=_0x41fe8e[-0x1d32+0x31*-0xc7+0x434c],_0x509fb0[0x1861+-0x4b7+0x2*-0x9d3]=_0x41fe8e[0x1905+0x3d*0x29+-0x1*0x22c6],_0x509fb0[0x1fd*-0x13+0x14cb*0x1+0x1101]=_0x41fe8e[0x1*0x2057+0x6*0x223+-0x2d24],_0x509fb0[0x6f*-0x18+0xd59+-0x2eb]=_0x41fe8e[-0x1824+0x47d*-0x2+0x2124],_0x509fb0[-0x2498+-0x152f*0x1+0x39ce]=_0x41fe8e[-0x693+-0x1a38+0x20d2],_0x509fb0[0x2681*-0x1+0x4a8+-0x4d7*-0x7]=_0x41fe8e[-0x1c94+-0x95*0x3d+0x1*0x401d],this;}['getX'](_0x25950e=new D()){return _0x25950e['set'](this['data'][0x188f+-0x1758+-0x137],this['data'][0x1cc5+-0x151b+-0x7a9],this['data'][0x14e8+-0x2*0xaaf+0x78]);}['getY'](_0x238ae5=new D()){return _0x238ae5['set'](this['data'][-0xf14+-0x7b5+-0x5b3*-0x4],this['data'][0x1*-0x15f3+-0x5*-0x8b+0x9a0*0x2],this['data'][0x1d1c+-0x1d40+0x29]);}['getZ'](_0x2de541=new D()){return _0x2de541['set'](this['data'][0x1*0x815+-0x211a+0x190b],this['data'][0x1edc+-0x24a1+0x5cc],this['data'][-0x43*0x1+0x1*-0x1a81+0xe*0x1ea]);}['equals'](_0x57bd5b){const _0x10c592=this['data'],_0xe22d4e=_0x57bd5b['data'];return _0x10c592[0x2693+-0x29*0x5f+-0x175c]===_0xe22d4e[0x1543+0x17fe+-0x2d41]&&_0x10c592[0x1846+0xaae+-0x22f3]===_0xe22d4e[0x835*-0x1+0x3*0xb2c+-0x194e]&&_0x10c592[-0x20d2+-0x1910+0x39e4]===_0xe22d4e[-0x265f*-0x1+-0x14bc+-0x11a1]&&_0x10c592[-0x80f*0x1+-0x145*-0xa+-0x4a*0x10]===_0xe22d4e[-0x12ff*0x1+-0xae5*0x3+0x33b1]&&_0x10c592[0xaab*-0x1+0x21c0+-0x1711]===_0xe22d4e[-0xa72+-0x42d+0xea3*0x1]&&_0x10c592[-0x4b*0x76+-0x171+0x2408*0x1]===_0xe22d4e[0x57*0x72+-0x28d*-0x1+-0x24b*0x12]&&_0x10c592[-0x1*-0xf01+0x3ed+-0xb*0x1b8]===_0xe22d4e[0x131*0x1+0x8*-0x71+0x25d]&&_0x10c592[0x2161+-0x2*-0x68e+-0x2e76]===_0xe22d4e[-0x4*0x949+0x18dd+0x4b*0x2a]&&_0x10c592[0x19*0x26+0x1a57+-0x1*0x1e05]===_0xe22d4e[-0x224+0xac0+-0x894];}['isIdentity'](){const _0x57310f=this['data'];return _0x57310f[0x225a+0x19e6+-0x3c40]===-0x16f*0x15+-0x1d5a+0x3b76&&_0x57310f[-0x974+0x17dd+-0xe68*0x1]===0x16d2+-0x26f6*0x1+0x2*0x812&&_0x57310f[-0x1ad*-0x17+0x1*-0xf9e+-0x16eb]===-0x4b*-0x61+-0x7a0+0x14cb*-0x1&&_0x57310f[-0xb0a+0x20e7*-0x1+-0x2*-0x15fa]===0xb7*-0x11+0x1225+0x2*-0x2ff&&_0x57310f[0x1*0x717+-0x145c+0x1*0xd49]===-0x270*-0x1+-0x20d3+0x30a*0xa&&_0x57310f[-0x1407+-0xb0a+-0xad*-0x2e]===0x252d*0x1+0x1*-0x1c0d+-0x920&&_0x57310f[-0x209e+0x11*0xd+-0x5*-0x65b]===0x1*0x24f7+-0x65*0x3e+-0xc81&&_0x57310f[-0x23c+-0x2*0x1102+0x2447]===-0x1f0+0x2143+-0x1f53&&_0x57310f[0x356+-0xb29+0x7db]===0x242a+0x11*0x1c6+-0x424f;}['setIdentit'+'y'](){const _0x398bd6=this['data'];return _0x398bd6[-0xa0*0x1+0x213f+-0x209f]=0x4*0x3b3+-0x6*-0x422+0x7eb*-0x5,_0x398bd6[-0x7f*0x25+-0x220*-0x11+-0x11c4]=-0x1e33+0x17*0x1+-0x5e*-0x52,_0x398bd6[0x1070+-0x16b2+0x644]=0x1*-0x110b+-0x1c3c+0x1*0x2d47,_0x398bd6[0x19a3+0x1d1c+-0x36bc*0x1]=-0x3a*-0x4f+0x1a95+-0x2c7b*0x1,_0x398bd6[0xe3+0x11a8+-0x1287]=0x1381*0x1+-0xc*0x316+0x1188,_0x398bd6[-0xdba+0x76*-0x4a+0x2fdb]=-0x1043+-0x2*0x10b9+0x31b5,_0x398bd6[0x1d*-0xef+0x226d+0x3aa*-0x2]=-0x3*0x79d+0xb*-0x1dd+0x2b56,_0x398bd6[0x26d2*-0x1+0x1a18+0xcc1]=-0x4*0x5f6+0x2b5*-0xa+-0x10a*-0x31,_0x398bd6[0x257*0xa+-0x8a6+-0xeb8]=-0x45*-0x4+0x1ef4*-0x1+0x1de1,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x1ca835=this){const _0x2d34c3=_0x1ca835['data'],_0x48dc32=this['data'];if(_0x2d34c3===_0x48dc32){let _0x3cf9ed;_0x3cf9ed=_0x2d34c3[-0x1*0x1d7d+-0x14c8+0xd*0x3de],_0x48dc32[0x12*0x35+0x14b*-0x5+-0x3*-0xea]=_0x2d34c3[-0x1d46+0x2*-0x4a1+0x268b*0x1],_0x48dc32[0x1*0x543+-0x1*-0x1f4b+0x248b*-0x1]=_0x3cf9ed,_0x3cf9ed=_0x2d34c3[0x6e*0x6+0x154e+0x2*-0xbf0],_0x48dc32[0x49*-0x3b+0x8*0xeb+-0x97d*-0x1]=_0x2d34c3[0x987*0x3+0x18*0x97+-0x2ab7],_0x48dc32[-0x1645+0x1850+0xb*-0x2f]=_0x3cf9ed,_0x3cf9ed=_0x2d34c3[-0x1*0x6d1+-0x11a9+0x187f],_0x48dc32[-0x12f4+0x10a+0x11ef]=_0x2d34c3[-0x12a3+-0x922+-0x4a2*-0x6],_0x48dc32[0x185a+-0xf1*0x11+-0x852]=_0x3cf9ed;}else _0x48dc32[-0x139e+0x6d*-0x45+0x30ff]=_0x2d34c3[-0x2083*-0x1+0x2100+-0x4183],_0x48dc32[0x2*-0xe7f+0x10fd*0x1+0x1*0xc02]=_0x2d34c3[0xa3b+-0x258d+-0x1b55*-0x1],_0x48dc32[-0x2e5+-0x57d+-0x2cc*-0x3]=_0x2d34c3[0x2400+0x1479*-0x1+-0x3*0x52b],_0x48dc32[-0xf*-0x12b+-0x2*0x967+-0x14c*-0x1]=_0x2d34c3[-0x1dcb+-0x13df+-0x9ef*-0x5],_0x48dc32[0xb32+-0x15f0+0x36*0x33]=_0x2d34c3[-0xdbe+0x4e*-0x6f+0x2f94],_0x48dc32[0x261f*0x1+-0x8*-0x40a+0x2*-0x2335]=_0x2d34c3[-0x164d+-0x8c*0x1+0x1*0x16e0],_0x48dc32[-0x7d6*0x2+0x171e+-0x64*0x13]=_0x2d34c3[-0x7b2+0x7*0x1df+0x1*-0x565],_0x48dc32[-0x4*0x668+-0x1*-0x93d+0x17e*0xb]=_0x2d34c3[-0x87+-0x11ad+0x1239],_0x48dc32[0x1d3+0x2*0x1196+0x24f7*-0x1]=_0x2d34c3[-0x76*-0x2f+-0x35*0x14+-0x117e];return this;}['setFromMat'+'4'](_0x4b3ace){const _0x4b728b=_0x4b3ace['data'],_0x1ac08b=this['data'];return _0x1ac08b[0x6ad+0x3d2*0x1+-0x1*0xa7f]=_0x4b728b[-0xab+-0x3*-0x883+-0x18de],_0x1ac08b[-0x1*0x1d46+0x1788+0x5bf]=_0x4b728b[0x4*0x74d+-0x183a+-0x4f9],_0x1ac08b[0x14ae+0x2ac+-0x3e4*0x6]=_0x4b728b[-0x29f*-0xb+-0x105f+-0xc74],_0x1ac08b[0x12c+-0x620+0x4f7]=_0x4b728b[-0xb89+0x236d+-0x17e0],_0x1ac08b[-0x1597+-0x1*0x8b9+-0x4*-0x795]=_0x4b728b[-0x493*-0x1+0x2502+0x2f8*-0xe],_0x1ac08b[-0x29*-0xc7+0x94e+-0x2928]=_0x4b728b[0xc51+-0x1946+-0xcfb*-0x1],_0x1ac08b[-0xe6d+-0x1*0x51b+0x138e]=_0x4b728b[-0x1d91+0x12f2+0xaa7],_0x1ac08b[0x1d7a+-0x2c*0x79+-0x8a7]=_0x4b728b[-0xa9b+-0x1*-0xf50+0x4ac*-0x1],_0x1ac08b[0x1021+0x15bd+-0x25d6]=_0x4b728b[-0x8*-0x388+0xdba+-0x16*0x1e8],this;}['setFromQua'+'t'](_0x25bb2d){const _0x3d200a=_0x25bb2d['x'],_0x41d56e=_0x25bb2d['y'],_0x308e4e=_0x25bb2d['z'],_0x3bfc30=_0x25bb2d['w'],_0x61cbfc=_0x3d200a+_0x3d200a,_0x9bb9a4=_0x41d56e+_0x41d56e,_0x3aa2e5=_0x308e4e+_0x308e4e,_0x4bba4d=_0x3d200a*_0x61cbfc,_0x27894b=_0x3d200a*_0x9bb9a4,_0x465af8=_0x3d200a*_0x3aa2e5,_0x52692a=_0x41d56e*_0x9bb9a4,_0x1e83e2=_0x41d56e*_0x3aa2e5,_0x2a970a=_0x308e4e*_0x3aa2e5,_0x3f82bf=_0x3bfc30*_0x61cbfc,_0x3d18e5=_0x3bfc30*_0x9bb9a4,_0x43ffa6=_0x3bfc30*_0x3aa2e5,_0x9f7820=this['data'];return _0x9f7820[0x1d3*-0xf+-0x13*-0x11f+0x610]=-0x964+0x53+0x912-(_0x52692a+_0x2a970a),_0x9f7820[-0x3f*0x1c+-0xb3*0x1f+0x1c92]=_0x27894b+_0x43ffa6,_0x9f7820[-0xd93*0x1+-0x7ff*0x1+0x1594]=_0x465af8-_0x3d18e5,_0x9f7820[-0x1*-0x17ce+0x11c*0x3+-0x1b1f]=_0x27894b-_0x43ffa6,_0x9f7820[-0x7fc+-0xbf*0x5+0xbbb]=0x779+-0x1374+-0xec*-0xd-(_0x4bba4d+_0x2a970a),_0x9f7820[0x443*-0x2+0x19*-0x9f+-0xd*-0x1da]=_0x1e83e2+_0x3f82bf,_0x9f7820[0x32*-0x2f+0xa6a+-0x136*0x1]=_0x465af8+_0x3d18e5,_0x9f7820[0x2*-0xbf+0x5*-0x301+0x108a]=_0x1e83e2-_0x3f82bf,_0x9f7820[-0x26d9+-0x22e4+0x49c5]=-0x1*-0x8dd+0x1f85*-0x1+0x16a9-(_0x4bba4d+_0x52692a),this;}['invertMat4'](_0x2ea240){const _0x26c7b6=_0x2ea240['data'],_0x4f363a=_0x26c7b6[0x17b+0x2d*0x2d+-0x1*0x964],_0x5edb07=_0x26c7b6[-0xd*0x29e+-0x1d*-0xa4+0xf73],_0x3c9a0d=_0x26c7b6[-0x173f+0x34b+0x92*0x23],_0x3c8478=_0x26c7b6[-0xf33+0x1982+0x11*-0x9b],_0x19faba=_0x26c7b6[-0xe59*0x1+0x1dec*-0x1+0x2c4a],_0x1fc42d=_0x26c7b6[0xef*-0x14+-0x4d8+0x178a],_0x4da84f=_0x26c7b6[0x139*0x7+-0x23df+-0x28*-0xaf],_0x4963e0=_0x26c7b6[-0xc*-0x31a+-0x1de8+0x17*-0x51],_0x4be0d8=_0x26c7b6[0x11db*-0x1+0xad8+0x70d],_0x2fe1f7=_0x4be0d8*_0x19faba-_0x1fc42d*_0x4963e0,_0xd54718=-_0x4be0d8*_0x5edb07+_0x3c9a0d*_0x4963e0,_0x3f6c02=_0x1fc42d*_0x5edb07-_0x3c9a0d*_0x19faba,_0x4d05af=-_0x4be0d8*_0x3c8478+_0x1fc42d*_0x4da84f,_0x3faa50=_0x4be0d8*_0x4f363a-_0x3c9a0d*_0x4da84f,_0x143410=-_0x1fc42d*_0x4f363a+_0x3c9a0d*_0x3c8478,_0x3b0184=_0x4963e0*_0x3c8478-_0x19faba*_0x4da84f,_0x36ded8=-_0x4963e0*_0x4f363a+_0x5edb07*_0x4da84f,_0x50d938=_0x19faba*_0x4f363a-_0x5edb07*_0x3c8478,_0x2687fa=_0x4f363a*_0x2fe1f7+_0x5edb07*_0x4d05af+_0x3c9a0d*_0x3b0184;if(_0x2687fa===0x4ed*-0x7+-0x1*0x161b+0x3896)this['setIdentit'+'y']();else{const _0xff8513=(0x1c29+-0x269*-0x2+-0xe*0x25b)/_0x2687fa,_0x10d1d6=this['data'];_0x10d1d6[-0x16e7+-0x1*-0x526+0x11c1]=_0x2fe1f7*_0xff8513,_0x10d1d6[-0xde1*0x2+0xc91+0xf32]=_0xd54718*_0xff8513,_0x10d1d6[-0x1c5d*0x1+-0x22ed+0x3f4c]=_0x3f6c02*_0xff8513,_0x10d1d6[0x895+-0x1c88+0x13f6]=_0x4d05af*_0xff8513,_0x10d1d6[-0x1fc5+0x5*0x613+0x16a]=_0x3faa50*_0xff8513,_0x10d1d6[-0x2*0x28b+0x21c9+-0x1*0x1cae]=_0x143410*_0xff8513,_0x10d1d6[-0xdcc+-0x8c8*0x4+0x30f2]=_0x3b0184*_0xff8513,_0x10d1d6[-0xc21*-0x2+-0x2be*0x2+-0x12bf]=_0x36ded8*_0xff8513,_0x10d1d6[-0x5*0x3d+0x1*-0x138e+0x3*0x6ed]=_0x50d938*_0xff8513;}return this;}['transformV'+'ector'](_0x52ec1e,_0x4f2553=new D()){const _0x458c6e=this['data'],{x:_0x492630,y:_0x289c18,z:_0x1b49df}=_0x52ec1e;return _0x4f2553['x']=_0x492630*_0x458c6e[0xc6*0x1f+-0x145f+-0xd*0x47]+_0x289c18*_0x458c6e[0xdbe+0x1*0x2093+-0x2e4e]+_0x1b49df*_0x458c6e[0x1*-0x205d+-0x55*-0x72+-0x577],_0x4f2553['y']=_0x492630*_0x458c6e[-0x21b0+0xfa2+0x120f]+_0x289c18*_0x458c6e[-0x18c9+-0x1417+0x2ce4]+_0x1b49df*_0x458c6e[-0x1b19+0x1dd7+-0x5*0x8b],_0x4f2553['z']=_0x492630*_0x458c6e[0x17*0x153+-0x352*-0x5+-0x2f0d]+_0x289c18*_0x458c6e[-0x1*-0xc41+-0xab9+-0x3*0x81]+_0x1b49df*_0x458c6e[-0x1ec3+0x4*0x386+0x10b3],_0x4f2553;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([0x13f*0x15+0x3*0xe1+-0x4cd*0x6,0x1aa6+0x1*0x1d53+-0x37f9,0x1d48+0x1176*0x1+-0x2ebe*0x1,0xaac*-0x2+-0x1*0x2c2+0x181a,-0xc24+-0x1eac+0x4*0xab4,0x1273*-0x1+-0xbcd+-0x1e40*-0x1,0x24e8+0x2178+-0x4*0x1198,-0x1*0x1835+-0x2538+0x3d6d,-0x6*-0x328+-0x258b+0x1*0x129b])));let _i=gn;const Gt=class Gt{constructor(_0xf1e31f=0x30a+-0x1ab+-0x15f,_0x147c28=0x60e*0x3+0x2*0xe57+0x5db*-0x8){h(this,'x'),h(this,'y'),_0xf1e31f['length']===-0x1d50+-0x200f+-0x3d61*-0x1?(this['x']=_0xf1e31f[-0x3b5+-0x424+0x7d9],this['y']=_0xf1e31f[-0x523*-0x6+-0x1*-0x1cae+-0x3b7f]):(this['x']=_0xf1e31f,this['y']=_0x147c28);}['add'](_0x358fab){return this['x']+=_0x358fab['x'],this['y']+=_0x358fab['y'],this;}['add2'](_0xa6a0b2,_0x10b82c){return this['x']=_0xa6a0b2['x']+_0x10b82c['x'],this['y']=_0xa6a0b2['y']+_0x10b82c['y'],this;}['addScalar'](_0x293547){return this['x']+=_0x293547,this['y']+=_0x293547,this;}['addScaled'](_0x5f82d2,_0x3ddfc5){return this['x']+=_0x5f82d2['x']*_0x3ddfc5,this['y']+=_0x5f82d2['y']*_0x3ddfc5,this;}['clone'](){const _0x16736b=this['constructo'+'r'];return new _0x16736b(this['x'],this['y']);}['copy'](_0x43535b){return this['x']=_0x43535b['x'],this['y']=_0x43535b['y'],this;}['cross'](_0x82c4d7){return this['x']*_0x82c4d7['y']-this['y']*_0x82c4d7['x'];}['distance'](_0x3e1259){const _0x3c3e21=this['x']-_0x3e1259['x'],_0x1e6b87=this['y']-_0x3e1259['y'];return Math['sqrt'](_0x3c3e21*_0x3c3e21+_0x1e6b87*_0x1e6b87);}['div'](_0x475745){return this['x']/=_0x475745['x'],this['y']/=_0x475745['y'],this;}['div2'](_0x9a6949,_0x5953eb){return this['x']=_0x9a6949['x']/_0x5953eb['x'],this['y']=_0x9a6949['y']/_0x5953eb['y'],this;}['divScalar'](_0x2fcd18){return this['x']/=_0x2fcd18,this['y']/=_0x2fcd18,this;}['dot'](_0x2ce952){return this['x']*_0x2ce952['x']+this['y']*_0x2ce952['y'];}['equals'](_0x3c2520){return this['x']===_0x3c2520['x']&&this['y']===_0x3c2520['y'];}['equalsAppr'+'ox'](_0x21aa2b,_0x2109f5=-0x1761+-0x1*0x704+0x1e65+0.000001){return Math['abs'](this['x']-_0x21aa2b['x'])<_0x2109f5&&Math['abs'](this['y']-_0x21aa2b['y'])<_0x2109f5;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x33315,_0xdad35a,_0x561d64){return this['x']=_0x33315['x']+_0x561d64*(_0xdad35a['x']-_0x33315['x']),this['y']=_0x33315['y']+_0x561d64*(_0xdad35a['y']-_0x33315['y']),this;}['mul'](_0x524eec){return this['x']*=_0x524eec['x'],this['y']*=_0x524eec['y'],this;}['mul2'](_0x3a23cf,_0x3a4215){return this['x']=_0x3a23cf['x']*_0x3a4215['x'],this['y']=_0x3a23cf['y']*_0x3a4215['y'],this;}['mulScalar'](_0x5d8f13){return this['x']*=_0x5d8f13,this['y']*=_0x5d8f13,this;}['normalize'](_0x21893e=this){const _0x5d2697=_0x21893e['x']*_0x21893e['x']+_0x21893e['y']*_0x21893e['y'];if(_0x5d2697>0x1af*-0x3+0x15a8+-0x3*0x589){const _0x4fd184=(0x1*0x1471+0x1973+0x2b3*-0x11)/Math['sqrt'](_0x5d2697);this['x']=_0x21893e['x']*_0x4fd184,this['y']=_0x21893e['y']*_0x4fd184;}return this;}['rotate'](_0x4f060a){const _0xbc772b=Math['atan2'](this['x'],this['y'])+_0x4f060a*Y['DEG_TO_RAD'],_0x2eb3ab=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0xbc772b)*_0x2eb3ab,this['y']=Math['cos'](_0xbc772b)*_0x2eb3ab,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x5674cd){return Math['atan2'](this['x']*_0x5674cd['y']+this['y']*_0x5674cd['x'],this['x']*_0x5674cd['x']+this['y']*_0x5674cd['y'])*Y['RAD_TO_DEG'];}['floor'](_0x4f92f9=this){return this['x']=Math['floor'](_0x4f92f9['x']),this['y']=Math['floor'](_0x4f92f9['y']),this;}['ceil'](_0x51e2e0=this){return this['x']=Math['ceil'](_0x51e2e0['x']),this['y']=Math['ceil'](_0x51e2e0['y']),this;}['round'](_0xd898d3=this){return this['x']=Math['round'](_0xd898d3['x']),this['y']=Math['round'](_0xd898d3['y']),this;}['min'](_0x1f00b7){return _0x1f00b7['x']<this['x']&&(this['x']=_0x1f00b7['x']),_0x1f00b7['y']<this['y']&&(this['y']=_0x1f00b7['y']),this;}['max'](_0x549104){return _0x549104['x']>this['x']&&(this['x']=_0x549104['x']),_0x549104['y']>this['y']&&(this['y']=_0x549104['y']),this;}['set'](_0xe254c1,_0x3443e6){return this['x']=_0xe254c1,this['y']=_0x3443e6,this;}['sub'](_0x454b4e){return this['x']-=_0x454b4e['x'],this['y']-=_0x454b4e['y'],this;}['sub2'](_0x535fbe,_0x1de744){return this['x']=_0x535fbe['x']-_0x1de744['x'],this['y']=_0x535fbe['y']-_0x1de744['y'],this;}['subScalar'](_0x224471){return this['x']-=_0x224471,this['y']-=_0x224471,this;}['fromArray'](_0x50bcfc,_0x22ccfa=0x2525+0x90f+-0x2e34){return this['x']=_0x50bcfc[_0x22ccfa]??this['x'],this['y']=_0x50bcfc[_0x22ccfa+(-0x10*-0xc2+-0x5*-0x53+-0xdbe*0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x31ea72=[],_0x1d61eb=-0x811+0xbd7+-0x3c6){return _0x31ea72[_0x1d61eb]=this['x'],_0x31ea72[_0x1d61eb+(0x6*0x117+-0x42*-0xd+0x9e3*-0x1)]=this['y'],_0x31ea72;}static['angleRad'](_0x403eea,_0xcbd7c5){return Math['atan2'](_0x403eea['x']*_0xcbd7c5['y']-_0x403eea['y']*_0xcbd7c5['x'],_0x403eea['x']*_0xcbd7c5['x']+_0x403eea['y']*_0xcbd7c5['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x1*0x1915+-0x1e*-0x9f+-0x2bb7,-0x773*0x1+-0x4*0x23e+0x106b))),h(Gt,'HALF',Object['freeze'](new Gt(-0x17*0x17f+-0x45e+0x26c7+0.5,-0x33b*0x2+-0x184f+0x1ec5+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x99c+0x1757+-0xdba,0x145b+0x19ff+-0x317*0xf))),h(Gt,'UP',Object['freeze'](new Gt(-0x7fd+-0x13a*-0x8+0x1*-0x1d3,-0x1*-0x22f1+0x115*0x15+-0x1*0x39a9))),h(Gt,'DOWN',Object['freeze'](new Gt(0x1ea3+-0x495+-0x1a0e,-(0x2*-0x12b8+0xbd9*-0x3+0x48fc)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x22ca+-0x476*-0x7+-0x53*-0xb,0xcc+-0x117f*0x1+-0xe1*-0x13))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0x108c+-0x1a2f+0x2abc),-0xba4+0x489+0x71b)));let J=Gt;const pr=class pr{constructor(_0x1a8974=0x4cc+0x173*-0x7+0x559*0x1,_0x5e11f6=-0x17be*-0x1+0xf20+-0x26de,_0x44d551=0x3d7+-0x358*0x6+-0x1039*-0x1,_0x2df0eb=-0x7*0x15b+-0x2+-0xdd*-0xb){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x1a8974['length']===-0x1638+0x1383+0x29*0x11?(this['x']=_0x1a8974[0x1b*0xf6+-0x356+0xb4e*-0x2],this['y']=_0x1a8974[-0x98f+-0xcd4+0x1664],this['z']=_0x1a8974[-0x81+-0x81b+0x89e],this['w']=_0x1a8974[0x210+0x1f3*-0xd+0x174a]):(this['x']=_0x1a8974,this['y']=_0x5e11f6,this['z']=_0x44d551,this['w']=_0x2df0eb);}['add'](_0x712b38){return this['x']+=_0x712b38['x'],this['y']+=_0x712b38['y'],this['z']+=_0x712b38['z'],this['w']+=_0x712b38['w'],this;}['add2'](_0x34d44b,_0x4d4b1c){return this['x']=_0x34d44b['x']+_0x4d4b1c['x'],this['y']=_0x34d44b['y']+_0x4d4b1c['y'],this['z']=_0x34d44b['z']+_0x4d4b1c['z'],this['w']=_0x34d44b['w']+_0x4d4b1c['w'],this;}['addScalar'](_0x69d56a){return this['x']+=_0x69d56a,this['y']+=_0x69d56a,this['z']+=_0x69d56a,this['w']+=_0x69d56a,this;}['addScaled'](_0x4f8f58,_0x51d1bc){return this['x']+=_0x4f8f58['x']*_0x51d1bc,this['y']+=_0x4f8f58['y']*_0x51d1bc,this['z']+=_0x4f8f58['z']*_0x51d1bc,this['w']+=_0x4f8f58['w']*_0x51d1bc,this;}['clone'](){const _0x1b65f3=this['constructo'+'r'];return new _0x1b65f3(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x1318fd){return this['x']=_0x1318fd['x'],this['y']=_0x1318fd['y'],this['z']=_0x1318fd['z'],this['w']=_0x1318fd['w'],this;}['div'](_0xc119f5){return this['x']/=_0xc119f5['x'],this['y']/=_0xc119f5['y'],this['z']/=_0xc119f5['z'],this['w']/=_0xc119f5['w'],this;}['div2'](_0x1e31e9,_0x3b1ccf){return this['x']=_0x1e31e9['x']/_0x3b1ccf['x'],this['y']=_0x1e31e9['y']/_0x3b1ccf['y'],this['z']=_0x1e31e9['z']/_0x3b1ccf['z'],this['w']=_0x1e31e9['w']/_0x3b1ccf['w'],this;}['divScalar'](_0x3703a6){return this['x']/=_0x3703a6,this['y']/=_0x3703a6,this['z']/=_0x3703a6,this['w']/=_0x3703a6,this;}['dot'](_0x433971){return this['x']*_0x433971['x']+this['y']*_0x433971['y']+this['z']*_0x433971['z']+this['w']*_0x433971['w'];}['equals'](_0x1e00ae){return this['x']===_0x1e00ae['x']&&this['y']===_0x1e00ae['y']&&this['z']===_0x1e00ae['z']&&this['w']===_0x1e00ae['w'];}['equalsAppr'+'ox'](_0x169cef,_0x123edb=-0x1*-0x1058+-0x113b+0xe3+0.000001){return Math['abs'](this['x']-_0x169cef['x'])<_0x123edb&&Math['abs'](this['y']-_0x169cef['y'])<_0x123edb&&Math['abs'](this['z']-_0x169cef['z'])<_0x123edb&&Math['abs'](this['w']-_0x169cef['w'])<_0x123edb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x372225,_0x31a1b0,_0x5c2c8e){return this['x']=_0x372225['x']+_0x5c2c8e*(_0x31a1b0['x']-_0x372225['x']),this['y']=_0x372225['y']+_0x5c2c8e*(_0x31a1b0['y']-_0x372225['y']),this['z']=_0x372225['z']+_0x5c2c8e*(_0x31a1b0['z']-_0x372225['z']),this['w']=_0x372225['w']+_0x5c2c8e*(_0x31a1b0['w']-_0x372225['w']),this;}['mul'](_0x500ab5){return this['x']*=_0x500ab5['x'],this['y']*=_0x500ab5['y'],this['z']*=_0x500ab5['z'],this['w']*=_0x500ab5['w'],this;}['mul2'](_0x4b297a,_0x1cee5a){return this['x']=_0x4b297a['x']*_0x1cee5a['x'],this['y']=_0x4b297a['y']*_0x1cee5a['y'],this['z']=_0x4b297a['z']*_0x1cee5a['z'],this['w']=_0x4b297a['w']*_0x1cee5a['w'],this;}['mulScalar'](_0x4682ca){return this['x']*=_0x4682ca,this['y']*=_0x4682ca,this['z']*=_0x4682ca,this['w']*=_0x4682ca,this;}['normalize'](_0xfeb535=this){const _0x11931e=_0xfeb535['x']*_0xfeb535['x']+_0xfeb535['y']*_0xfeb535['y']+_0xfeb535['z']*_0xfeb535['z']+_0xfeb535['w']*_0xfeb535['w'];if(_0x11931e>-0x20bc+-0x244b+0x4507){const _0x43b293=(0x1330+0x5d*0x19+-0x1c44)/Math['sqrt'](_0x11931e);this['x']=_0xfeb535['x']*_0x43b293,this['y']=_0xfeb535['y']*_0x43b293,this['z']=_0xfeb535['z']*_0x43b293,this['w']=_0xfeb535['w']*_0x43b293;}return this;}['floor'](_0x55b29a=this){return this['x']=Math['floor'](_0x55b29a['x']),this['y']=Math['floor'](_0x55b29a['y']),this['z']=Math['floor'](_0x55b29a['z']),this['w']=Math['floor'](_0x55b29a['w']),this;}['ceil'](_0x3837b4=this){return this['x']=Math['ceil'](_0x3837b4['x']),this['y']=Math['ceil'](_0x3837b4['y']),this['z']=Math['ceil'](_0x3837b4['z']),this['w']=Math['ceil'](_0x3837b4['w']),this;}['round'](_0x836b84=this){return this['x']=Math['round'](_0x836b84['x']),this['y']=Math['round'](_0x836b84['y']),this['z']=Math['round'](_0x836b84['z']),this['w']=Math['round'](_0x836b84['w']),this;}['min'](_0x45d3af){return _0x45d3af['x']<this['x']&&(this['x']=_0x45d3af['x']),_0x45d3af['y']<this['y']&&(this['y']=_0x45d3af['y']),_0x45d3af['z']<this['z']&&(this['z']=_0x45d3af['z']),_0x45d3af['w']<this['w']&&(this['w']=_0x45d3af['w']),this;}['max'](_0x10e0da){return _0x10e0da['x']>this['x']&&(this['x']=_0x10e0da['x']),_0x10e0da['y']>this['y']&&(this['y']=_0x10e0da['y']),_0x10e0da['z']>this['z']&&(this['z']=_0x10e0da['z']),_0x10e0da['w']>this['w']&&(this['w']=_0x10e0da['w']),this;}['set'](_0x4f8556,_0x4a2977,_0x599989,_0x56434f){return this['x']=_0x4f8556,this['y']=_0x4a2977,this['z']=_0x599989,this['w']=_0x56434f,this;}['sub'](_0x1e03ab){return this['x']-=_0x1e03ab['x'],this['y']-=_0x1e03ab['y'],this['z']-=_0x1e03ab['z'],this['w']-=_0x1e03ab['w'],this;}['sub2'](_0x4ef093,_0xd647ba){return this['x']=_0x4ef093['x']-_0xd647ba['x'],this['y']=_0x4ef093['y']-_0xd647ba['y'],this['z']=_0x4ef093['z']-_0xd647ba['z'],this['w']=_0x4ef093['w']-_0xd647ba['w'],this;}['subScalar'](_0x28b0c7){return this['x']-=_0x28b0c7,this['y']-=_0x28b0c7,this['z']-=_0x28b0c7,this['w']-=_0x28b0c7,this;}['fromArray'](_0x4d8129,_0x2c75cc=-0x31*0x9a+0x5af+-0x1*-0x17cb){return this['x']=_0x4d8129[_0x2c75cc]??this['x'],this['y']=_0x4d8129[_0x2c75cc+(-0xb*0x2fd+0xc12+0x2*0xa67)]??this['y'],this['z']=_0x4d8129[_0x2c75cc+(0x1b8c+-0x21fb+-0x671*-0x1)]??this['z'],this['w']=_0x4d8129[_0x2c75cc+(0x137*0x13+0x91*0x1b+-0x17*0x1ab)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x351a40=[],_0x3a3128=0x1474+-0x7*-0x4eb+0x3f*-0xdf){return _0x351a40[_0x3a3128]=this['x'],_0x351a40[_0x3a3128+(-0x3*0x47f+-0x1692+0x2410)]=this['y'],_0x351a40[_0x3a3128+(-0x1*0xbd3+-0x5*0x18e+-0x7*-0x2cd)]=this['z'],_0x351a40[_0x3a3128+(-0xc*0x1f5+0x947+-0x16c*-0xa)]=this['w'],_0x351a40;}};h(pr,'ZERO',Object['freeze'](new pr(0x1913+0x1*0xa3+-0x19b6,0x76*-0xf+0x184a+0x8*-0x22c,-0x5*-0x739+0x1d55*0x1+0x2*-0x20b9,-0xc15*-0x2+0x174c+-0x10e*0x2d))),h(pr,'HALF',Object['freeze'](new pr(0x1*0x16eb+0x83b+-0x1f26+0.5,-0x21*0x54+0xc6b+-0x25*0xb+0.5,-0x73f+-0x1745+0x1e84+0.5,0x540+0x5*-0x6b4+0x1c44+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0x1a3b+-0x10af+0x2aeb,-0x38*0x1d+0x1f*0x15+0x1*0x3ce,0x1*-0x19+-0x3ab*0x3+-0xb1b*-0x1,-0x1*-0x1a11+0x564+-0x1f74)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0xc2e+0x20ed+-0x1*0x2d0b)),this['data'][-0x6a1*-0x1+0x35*0x1d+0x436*-0x3]=this['data'][-0xdb*-0xe+0xbc8+0x1*-0x17bd]=this['data'][0x36f*0x5+0x1*-0x21c7+0x10a6*0x1]=this['data'][0x141a+-0x2524+0x5b3*0x3]=-0x2156+0x1*0x56+0x2101;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x33ba06,_0x1b04dc,_0xd4140,_0x5359f3,_0xc44a92){_0xc44a92?(_0x33ba06['x']=_0x5359f3*Math['tan'](_0x1b04dc*Math['PI']/(0x2c*0x28+-0x4*-0x982+-0x2b80)),_0x33ba06['y']=_0x33ba06['x']/_0xd4140):(_0x33ba06['y']=_0x5359f3*Math['tan'](_0x1b04dc*Math['PI']/(-0x1de1+-0x3*0xc7+0x219e)),_0x33ba06['x']=_0x33ba06['y']*_0xd4140);}['add2'](_0x4ce678,_0x5f582e){const _0x4f03b0=_0x4ce678['data'],_0x57be71=_0x5f582e['data'],_0x23fa6d=this['data'];return _0x23fa6d[0x1*-0xa94+0x239b*0x1+-0x1907]=_0x4f03b0[0x1c66*0x1+0x13d5+-0x303b]+_0x57be71[-0xccd*-0x1+-0x7ec+0x4e1*-0x1],_0x23fa6d[0x3*0x2dc+-0x27f*-0xd+-0x2906]=_0x4f03b0[0x98*-0x24+-0xac0+0x7*0x497]+_0x57be71[-0x2*-0xc2f+-0x259a+-0xd3d*-0x1],_0x23fa6d[0xc*0x160+0x1*0x138b+-0x2409]=_0x4f03b0[0x85d+-0x38*-0xb1+0x3*-0xfb1]+_0x57be71[0x786+-0x3a*-0x9d+-0x2b16],_0x23fa6d[0xc03+0x7*-0x301+0x907]=_0x4f03b0[0xc1f+-0xb15*-0x3+-0x2d5b]+_0x57be71[-0x1152+-0x21d5+0x2*0x1995],_0x23fa6d[-0x218b+-0xa07*-0x3+0x37a]=_0x4f03b0[-0x1*-0xd64+0xf97+-0x1*0x1cf7]+_0x57be71[-0x3*0xa36+0x26d8+-0x419*0x2],_0x23fa6d[0x5*0x385+0x194b+-0x2adf]=_0x4f03b0[-0x3*-0x20b+0x1*-0x2063+0x1a47]+_0x57be71[0x13b5+-0x1227+0x189*-0x1],_0x23fa6d[-0x399*-0x1+0x2*0x6b8+-0x43*0x41]=_0x4f03b0[-0x1df*-0x5+0x1*0x11a3+0x1af8*-0x1]+_0x57be71[-0x1f1e+-0x155a+0x347e],_0x23fa6d[-0x1c8+0xc7f*-0x2+0x1acd]=_0x4f03b0[0x17b*0x10+-0x261*0x3+-0x9*0x1d6]+_0x57be71[0x83*0xe+0x3*0xfb+-0xd7*0xc],_0x23fa6d[0x8*0x16+0x49*0x77+-0x6eb*0x5]=_0x4f03b0[0x2a8*0xb+-0x1819+0x1*-0x517]+_0x57be71[0x21df*0x1+-0x66d+-0xdb5*0x2],_0x23fa6d[0x1f*-0x7f+-0x57*-0x1d+-0x1*-0x58f]=_0x4f03b0[-0x14c2+-0x271*-0xa+-0x39f]+_0x57be71[0x16a4+-0x2511+0x1*0xe76],_0x23fa6d[0x136e+0x1*-0xfd1+-0xb7*0x5]=_0x4f03b0[0xaf*0x32+-0x4f0+-0x1d34]+_0x57be71[-0x9ed+0x1336+-0x93f],_0x23fa6d[-0x65b*0x3+0x1*0xf8d+0x38f*0x1]=_0x4f03b0[0x55c+0xb*-0x189+0xb92]+_0x57be71[0x18b3+-0x26c9+0xe21],_0x23fa6d[0xe57+-0x6b*0xb+-0x2*0x4d9]=_0x4f03b0[-0x2*0x95f+-0x12b1+0x257b]+_0x57be71[0x76b*0x3+-0x2*-0x1266+-0x3b01],_0x23fa6d[-0x11*0x7b+-0x1*-0xe+0x82a]=_0x4f03b0[-0x1f1c+0x53*-0x66+-0x7*-0x92d]+_0x57be71[0x147*0x9+0x47f+-0xff1],_0x23fa6d[-0x22b+0x5*-0x161+-0x3*-0x30a]=_0x4f03b0[0x854+-0xd1*-0x9+0x1*-0xf9f]+_0x57be71[0x1*0x1b8f+-0x1*0x1cd+-0x524*0x5],_0x23fa6d[0x3*0xb35+-0x2171+-0x1*0x1f]=_0x4f03b0[-0x2*-0x777+0x757*-0x3+0x131*0x6]+_0x57be71[0x1f9c+-0x1b4b+0x6d*-0xa],this;}['add'](_0x341b87){return this['add2'](this,_0x341b87);}['clone'](){const _0x2db957=this['constructo'+'r'];return new _0x2db957()['copy'](this);}['copy'](_0x433e7a){const _0x60ab96=_0x433e7a['data'],_0x397a5c=this['data'];return _0x397a5c[0xa0b+0x1*0x88d+-0x5*0x3b8]=_0x60ab96[0x1ce*-0x11+-0x3f2+-0x22a*-0x10],_0x397a5c[0x20+0x1c93+-0x2*0xe59]=_0x60ab96[-0x4f*-0x30+0x6*-0x5c3+-0x1*-0x13c3],_0x397a5c[0xf54+-0x145+0xb*-0x147]=_0x60ab96[-0x4*-0x905+-0x1*0x238+0x26b*-0xe],_0x397a5c[0x9*0x315+-0x3*0x9e5+0x1f5*0x1]=_0x60ab96[0x8fc+0x1056+-0x194f],_0x397a5c[0x1e37+0x8f1+-0x2724]=_0x60ab96[0x75*-0x16+-0xe8d+-0x21*-0xbf],_0x397a5c[0xccd+0x24b9+-0x29b*0x13]=_0x60ab96[0x20db+-0xfd7*-0x1+-0x30ad],_0x397a5c[-0x2310+-0x865*-0x1+0x1ab1]=_0x60ab96[0x13e5*0x1+0x1456+0x3*-0xd67],_0x397a5c[0x12f*-0x16+0x12e6+-0x1*-0x72b]=_0x60ab96[0xfac+0x1*-0x1d9c+0x145*0xb],_0x397a5c[-0x1217+0x162*-0xa+0x1ff3*0x1]=_0x60ab96[-0x875+-0x83d*0x2+0x53*0x4d],_0x397a5c[-0x1b*-0x93+-0x24cc+0x1554]=_0x60ab96[0x1*0x1269+-0x2491+0x1231],_0x397a5c[-0x22e4+0x189d+0xa51]=_0x60ab96[-0x18*-0x124+0x1722+0xa18*-0x5],_0x397a5c[-0x20d2+0x4ab+0xe19*0x2]=_0x60ab96[0x1520+-0x23*-0xb2+0x2d6b*-0x1],_0x397a5c[-0x1440+-0x314*0x3+0x1d88]=_0x60ab96[-0x121b+-0x37*-0x6b+-0x4d6],_0x397a5c[-0x2a7*-0x5+0x158c+-0x22c2]=_0x60ab96[0x22e1+-0x1e20+-0x1c*0x2b],_0x397a5c[-0x2*0xd86+-0x1b51+-0x1*-0x366b]=_0x60ab96[-0x127a+0x1d31+0x1*-0xaa9],_0x397a5c[0x176+0x1*0x782+-0x8e9]=_0x60ab96[0x955+0x1*-0x1741+0x4a9*0x3],this;}['equals'](_0x1f92df){const _0x3e9a7e=this['data'],_0x3fcc07=_0x1f92df['data'];return _0x3e9a7e[-0x2455+-0xfec+0x3441]===_0x3fcc07[0x170b+-0x190e+0x203]&&_0x3e9a7e[0xdb6+0x5*0x2ff+-0x1cb0]===_0x3fcc07[-0x13*-0x1e3+-0x466*0x3+-0x16a6]&&_0x3e9a7e[-0x12b5+0x203a+-0xd83]===_0x3fcc07[-0x1f6c+-0x593+0x2501*0x1]&&_0x3e9a7e[-0x43d+0x1*-0x23b3+0x27f3]===_0x3fcc07[-0xb08+-0xbd2+0x16dd]&&_0x3e9a7e[0x5*0x157+-0x1*0x220b+0x6d7*0x4]===_0x3fcc07[-0x1fd8*-0x1+-0x1599+-0x9*0x123]&&_0x3e9a7e[0x122*0x8+-0x46c+0x1*-0x49f]===_0x3fcc07[0x1e98*-0x1+0x14d7*-0x1+0x3374]&&_0x3e9a7e[-0xa23*0x1+-0x1*-0x1727+0x1*-0xcfe]===_0x3fcc07[0x1377+-0x2aa*-0x7+-0x571*0x7]&&_0x3e9a7e[-0x64*0x2f+0x1*-0x112f+0x2392]===_0x3fcc07[0xc*0x1bb+-0x31a*-0x5+0x243f*-0x1]&&_0x3e9a7e[-0x467*0x8+0x1*-0x617+0x2957]===_0x3fcc07[-0x1af6+0x12c8*0x1+0x836]&&_0x3e9a7e[0x194d+0x1*-0x1f91+0x64d]===_0x3fcc07[0x1cd*0x7+-0x149*-0x17+-0x2a21]&&_0x3e9a7e[0x430*-0x3+0x1*-0xe33+0x1acd]===_0x3fcc07[-0xa54+-0x9df*-0x1+0x1*0x7f]&&_0x3e9a7e[-0x1*0x851+0x1f64+-0x1708]===_0x3fcc07[0x7*-0x3a5+-0xd*-0x67+0x1453]&&_0x3e9a7e[-0x2*-0xcec+0x8c4+-0x1148*0x2]===_0x3fcc07[-0x119e+0x6a6+-0x3ac*-0x3]&&_0x3e9a7e[-0x5*0x115+-0x26cf*-0x1+-0x2159]===_0x3fcc07[-0x169*0x1+0xa03*-0x3+0xb*0x2dd]&&_0x3e9a7e[0x3cc*-0xa+-0x14bf+0x3ac5]===_0x3fcc07[-0x1*0xac5+0x1*-0x19d3+-0x1*-0x24a6]&&_0x3e9a7e[-0xb*-0x161+-0x23b5+0x1499]===_0x3fcc07[-0x38c*0x2+-0x94*0x23+-0x29*-0xab];}['isIdentity'](){const _0x60bdca=this['data'];return _0x60bdca[0x132a+-0x251e*0x1+0x11f4]===0x1ef5+0x12e5+-0x7*0x71f&&_0x60bdca[0x3*0x941+-0x2*-0x905+-0x2dcc]===-0xf03+0xa*-0x358+0x3073&&_0x60bdca[0x1f2c+0x1e0*-0xf+-0x30a]===0x1*-0x9e6+0x674+0x372&&_0x60bdca[-0x1*0xd67+0x2*0x8c6+-0x422]===-0x79*-0x4+0x993*0x2+-0x150a&&_0x60bdca[0x7*0x57b+-0x50b*0x2+-0x1c43]===-0x19f*-0x3+0x20e6+-0x1*0x25c3&&_0x60bdca[0xe14+0x1a72+-0x2881]===-0x1edd*0x1+0x5*-0x114+-0xdd*-0x2a&&_0x60bdca[0xc83+-0x21f5+-0x8*-0x2af]===0x2127+0x2af*-0x4+0x166b*-0x1&&_0x60bdca[-0xc25+0x31d*-0x7+0x21f7]===-0x1*-0x217d+0x2e*-0x9c+0x7f*-0xb&&_0x60bdca[0xda8+0x114*-0x4+0x4a8*-0x2]===-0x516+0x20ee+-0x1bd8&&_0x60bdca[-0x2fa+-0x897*-0x1+-0x594]===-0x13b2*-0x1+0xe4e+-0x2200&&_0x60bdca[-0x21da*0x1+0x12b7+0xf2d]===0x4dd+-0x20f2+0x1c16&&_0x60bdca[0x1*0x7c7+-0xc0e*-0x1+0x9e5*-0x2]===-0x13b6+0x129c+0x2*0x8d&&_0x60bdca[0x1218+0x1eeb+-0x30f7*0x1]===0x2*-0x1be+0xa97+-0x71b&&_0x60bdca[-0x188f*0x1+-0x1*-0xc65+0xc37]===0x52d+0x3*-0x2b3+0x2ec&&_0x60bdca[0x23f3+-0x1*-0x7c3+-0x2ba8]===-0x1714*-0x1+-0x7*0x3b1+0x2c3&&_0x60bdca[-0x1*0x17ff+0x1f3f+-0x731]===0x1242+0xf5+0x1*-0x1336;}['mul2'](_0x5d6ace,_0x51fe65){const _0x599d9f=_0x5d6ace['data'],_0x86610e=_0x51fe65['data'],_0x19ab79=this['data'],_0x2d5260=_0x599d9f[0x12f*-0x5+-0x1*-0x2285+-0x1c9a],_0x578e93=_0x599d9f[0x27d*-0x7+0x1f1b+-0xdaf],_0x9114f9=_0x599d9f[0x11d5+-0x1*-0x16f9+-0x28cc],_0x1de48c=_0x599d9f[-0xa33+-0x1541+0x1f77],_0x59eee9=_0x599d9f[0x9c7*-0x1+0x1f82+-0x15b7],_0x2c7e68=_0x599d9f[-0x7d*-0x35+-0xcb9*0x3+0xc4f*0x1],_0x573220=_0x599d9f[-0x144e+0x593+0xec1],_0x539f9c=_0x599d9f[0x1134+-0x23db+0x2*0x957],_0x520341=_0x599d9f[0xf96+0x1a6b+0x1*-0x29f9],_0x19197f=_0x599d9f[0x1d80+0x2065+-0x3ddc],_0xb4ef1e=_0x599d9f[-0x20f*-0x3+0x4a2*0x8+-0x2b33*0x1],_0x1befed=_0x599d9f[0x19a7*-0x1+-0x1*0x1def+0x37a1],_0x2a607b=_0x599d9f[-0x393+-0x120+-0x2d*-0x1b],_0x5c2966=_0x599d9f[-0x861+0x1*0x214+-0x10f*-0x6],_0x489ba2=_0x599d9f[-0x2*-0x105e+-0x5e3*0x2+-0x6f8*0x3],_0x438d4a=_0x599d9f[0x243c+0x14*0x127+-0x3b39];let _0x16499c,_0x34d323,_0x2ee120,_0x4001c1;return _0x16499c=_0x86610e[0x9f6+0x336+-0xd2c],_0x34d323=_0x86610e[-0x101*-0x8+-0x794*-0x2+-0x1*0x172f],_0x2ee120=_0x86610e[0x1f1b+0x8b3+0x11b*-0x24],_0x4001c1=_0x86610e[0x1*-0x4bd+0x11*0x5f+-0x7*0x39],_0x19ab79[0x1282*-0x2+-0x17d*0x2+0x27fe]=_0x2d5260*_0x16499c+_0x59eee9*_0x34d323+_0x520341*_0x2ee120+_0x2a607b*_0x4001c1,_0x19ab79[0x2*0x11dd+-0x1787*0x1+-0x1*0xc32]=_0x578e93*_0x16499c+_0x2c7e68*_0x34d323+_0x19197f*_0x2ee120+_0x5c2966*_0x4001c1,_0x19ab79[0x393+-0x151*0x10+-0x1*-0x117f]=_0x9114f9*_0x16499c+_0x573220*_0x34d323+_0xb4ef1e*_0x2ee120+_0x489ba2*_0x4001c1,_0x19ab79[-0x1*0x11f1+0x7*0x529+-0x122b]=_0x1de48c*_0x16499c+_0x539f9c*_0x34d323+_0x1befed*_0x2ee120+_0x438d4a*_0x4001c1,_0x16499c=_0x86610e[-0xab+-0x1*-0x140b+0x1c*-0xb1],_0x34d323=_0x86610e[0x2013+-0x604*0x5+-0x17*0x16],_0x2ee120=_0x86610e[0x1035*-0x2+0x123a*0x1+0xe36],_0x4001c1=_0x86610e[-0x564+0xd*0x145+0x16*-0x81],_0x19ab79[-0xddf*0x2+-0xfad+-0x1*-0x2b6f]=_0x2d5260*_0x16499c+_0x59eee9*_0x34d323+_0x520341*_0x2ee120+_0x2a607b*_0x4001c1,_0x19ab79[0x24f5*-0x1+-0xb61+0x305b]=_0x578e93*_0x16499c+_0x2c7e68*_0x34d323+_0x19197f*_0x2ee120+_0x5c2966*_0x4001c1,_0x19ab79[0x12*-0xfe+-0x17*0x4f+0x18fb]=_0x9114f9*_0x16499c+_0x573220*_0x34d323+_0xb4ef1e*_0x2ee120+_0x489ba2*_0x4001c1,_0x19ab79[0x1*-0x15f6+0x1f6*0x2+0x1211]=_0x1de48c*_0x16499c+_0x539f9c*_0x34d323+_0x1befed*_0x2ee120+_0x438d4a*_0x4001c1,_0x16499c=_0x86610e[-0x1759*0x1+-0x1f*-0x12f+-0x8*0x1aa],_0x34d323=_0x86610e[-0x1*0x154b+0x11a+0x143a],_0x2ee120=_0x86610e[-0xd*-0x147+-0x559+-0x2*0x59c],_0x4001c1=_0x86610e[0x1b69+-0xc88*0x1+-0x76b*0x2],_0x19ab79[0x2494+0x9aa+-0xa*0x49f]=_0x2d5260*_0x16499c+_0x59eee9*_0x34d323+_0x520341*_0x2ee120+_0x2a607b*_0x4001c1,_0x19ab79[0x9d8+0x1*0x261b+-0x1*0x2fea]=_0x578e93*_0x16499c+_0x2c7e68*_0x34d323+_0x19197f*_0x2ee120+_0x5c2966*_0x4001c1,_0x19ab79[0xc7*0x20+0x75f*-0x1+-0x11*0x107]=_0x9114f9*_0x16499c+_0x573220*_0x34d323+_0xb4ef1e*_0x2ee120+_0x489ba2*_0x4001c1,_0x19ab79[0x5b6+-0x1782+-0x11d7*-0x1]=_0x1de48c*_0x16499c+_0x539f9c*_0x34d323+_0x1befed*_0x2ee120+_0x438d4a*_0x4001c1,_0x16499c=_0x86610e[0xa43*-0x2+-0x168c+0x2b1e],_0x34d323=_0x86610e[0x726+0x552*-0x1+-0x1c7],_0x2ee120=_0x86610e[-0xf9*-0x19+-0x15d4+-0x26f*0x1],_0x4001c1=_0x86610e[-0xf*0x224+0x1*-0x4ff+0x252a*0x1],_0x19ab79[0x1d48+-0xee0+-0x4*0x397]=_0x2d5260*_0x16499c+_0x59eee9*_0x34d323+_0x520341*_0x2ee120+_0x2a607b*_0x4001c1,_0x19ab79[-0x987*0x2+-0x1fe1+0xfb*0x34]=_0x578e93*_0x16499c+_0x2c7e68*_0x34d323+_0x19197f*_0x2ee120+_0x5c2966*_0x4001c1,_0x19ab79[0xaae+-0x1f19+0x1479]=_0x9114f9*_0x16499c+_0x573220*_0x34d323+_0xb4ef1e*_0x2ee120+_0x489ba2*_0x4001c1,_0x19ab79[-0x2460+0x189a*0x1+-0xbd5*-0x1]=_0x1de48c*_0x16499c+_0x539f9c*_0x34d323+_0x1befed*_0x2ee120+_0x438d4a*_0x4001c1,this;}['mulAffine2'](_0x4cc357,_0x27950a){const _0x543988=_0x4cc357['data'],_0x501d52=_0x27950a['data'],_0x9c2677=this['data'],_0x5d52fe=_0x543988[-0x20f6+-0x1335+0x342b],_0x2e5e69=_0x543988[-0x1*-0x42d+-0x1942+-0xa8b*-0x2],_0x4b18b7=_0x543988[-0x1e4b+-0x4a9+-0xb3*-0x32],_0x3d93a3=_0x543988[-0x3*-0x65b+0x8*-0x3cd+0xab*0x11],_0x12d33b=_0x543988[0xef8+-0x1*-0x25d5+-0x466*0xc],_0x1ea4c0=_0x543988[0x4b*0x19+0x18bb+-0x2008],_0x3c7f1a=_0x543988[0x3*0x970+0x42*-0x48+-0x9b8],_0x582f6c=_0x543988[0xfdf*-0x1+0x1a12+-0xa2a],_0xae858d=_0x543988[-0x552+-0x1c*0x6d+-0x229*-0x8],_0x38b22e=_0x543988[0x7db*-0x1+-0x1489+0x1c70],_0x2efc22=_0x543988[0xd19*0x2+-0xb7+-0x196e],_0x455b1d=_0x543988[-0x4a8+0x5*0x7+0x493];let _0x2f5fa0,_0x545716,_0x1fa671;return _0x2f5fa0=_0x501d52[-0x80a*0x2+-0x1e4e+0x6*0x7bb],_0x545716=_0x501d52[0x2548*0x1+0x39*0x50+0x61f*-0x9],_0x1fa671=_0x501d52[-0x17e5+-0x139*-0x10+-0x65*-0xb],_0x9c2677[0xa*0x267+0x198e+-0xc65*0x4]=_0x5d52fe*_0x2f5fa0+_0x3d93a3*_0x545716+_0x3c7f1a*_0x1fa671,_0x9c2677[-0x20*0x1d+-0x1672+0x1a13]=_0x2e5e69*_0x2f5fa0+_0x12d33b*_0x545716+_0x582f6c*_0x1fa671,_0x9c2677[-0x8*-0x39b+0x1*-0x14e5+-0x7f1]=_0x4b18b7*_0x2f5fa0+_0x1ea4c0*_0x545716+_0xae858d*_0x1fa671,_0x9c2677[0x61f*-0x1+-0xecc+-0x39*-0x5e]=-0x967+0x79c*0x2+0x5d1*-0x1,_0x2f5fa0=_0x501d52[-0x396+-0xdb4*0x1+-0x2*-0x8a7],_0x545716=_0x501d52[0x1f*0x5+0x3f*0x9e+-0x2778],_0x1fa671=_0x501d52[0x1e*0x71+-0x18*-0xf7+-0x2460],_0x9c2677[0x1e93+-0xbbc+-0x12d3]=_0x5d52fe*_0x2f5fa0+_0x3d93a3*_0x545716+_0x3c7f1a*_0x1fa671,_0x9c2677[-0x3*0xb7e+0x1a5b+0x824]=_0x2e5e69*_0x2f5fa0+_0x12d33b*_0x545716+_0x582f6c*_0x1fa671,_0x9c2677[0x1*-0x7f+0x1319*-0x1+0x139e]=_0x4b18b7*_0x2f5fa0+_0x1ea4c0*_0x545716+_0xae858d*_0x1fa671,_0x9c2677[-0x34*-0x5d+-0x190+0x67*-0x2b]=0x2160*0x1+0x19a7*-0x1+-0x7b9,_0x2f5fa0=_0x501d52[-0xad*-0x13+-0x1*-0x20b+-0xeda],_0x545716=_0x501d52[0x2063+0x1*0xe3b+-0x2e95],_0x1fa671=_0x501d52[0x8a3*0x1+-0x1871+0xfd8],_0x9c2677[-0xe1d+-0xd9b*-0x1+0x1*0x8a]=_0x5d52fe*_0x2f5fa0+_0x3d93a3*_0x545716+_0x3c7f1a*_0x1fa671,_0x9c2677[-0x17f2+0xb2d*0x1+0xcce]=_0x2e5e69*_0x2f5fa0+_0x12d33b*_0x545716+_0x582f6c*_0x1fa671,_0x9c2677[-0x1*-0x1159+-0xa1e+-0x107*0x7]=_0x4b18b7*_0x2f5fa0+_0x1ea4c0*_0x545716+_0xae858d*_0x1fa671,_0x9c2677[-0x1c96*-0x1+0x464+-0x20ef]=0x2*-0x1327+-0x1d7a+0x43c8,_0x2f5fa0=_0x501d52[0xee6*0x1+0x7f1+-0x5*0x48f],_0x545716=_0x501d52[-0x3cc+0x49*-0x49+0x18aa],_0x1fa671=_0x501d52[-0x1*-0x2264+0x2529+-0x477f*0x1],_0x9c2677[0x3*0x171+0x6c*0x3c+-0x5eb*0x5]=_0x5d52fe*_0x2f5fa0+_0x3d93a3*_0x545716+_0x3c7f1a*_0x1fa671+_0x38b22e,_0x9c2677[-0x226e+0x1f7*0xa+0xed5]=_0x2e5e69*_0x2f5fa0+_0x12d33b*_0x545716+_0x582f6c*_0x1fa671+_0x2efc22,_0x9c2677[0xb42+0xe*-0xf7+0x24e]=_0x4b18b7*_0x2f5fa0+_0x1ea4c0*_0x545716+_0xae858d*_0x1fa671+_0x455b1d,_0x9c2677[-0xaba*0x2+0x20c0+-0xb3d]=-0x1476+0x684*0x5+-0xc1d,this;}['mul'](_0x5a8ed8){return this['mul2'](this,_0x5a8ed8);}['transformP'+'oint'](_0x470ad2,_0x593029=new D()){const _0x1a20a1=this['data'],{x:_0x27293f,y:_0x3d2f93,z:_0xf5860c}=_0x470ad2;return _0x593029['x']=_0x27293f*_0x1a20a1[0xbf6*0x3+-0xf4d*-0x1+0x332f*-0x1]+_0x3d2f93*_0x1a20a1[-0xb*0x242+-0x2*-0x2f5+0x12f0]+_0xf5860c*_0x1a20a1[0x16fc+0x46a+-0xdaf*0x2]+_0x1a20a1[-0x2221+0x2563+-0x336],_0x593029['y']=_0x27293f*_0x1a20a1[-0x17*-0xb3+-0xb9*0x13+-0x259]+_0x3d2f93*_0x1a20a1[0x92b+0xb65*0x3+-0x2b55]+_0xf5860c*_0x1a20a1[-0x1fdd+0x1a6f+-0x1*-0x577]+_0x1a20a1[-0x35*-0xb6+-0xe27+-0x177a],_0x593029['z']=_0x27293f*_0x1a20a1[-0x1c6f*0x1+0x261e+-0x9ad]+_0x3d2f93*_0x1a20a1[0x1611+0x4*-0x68e+-0x1*-0x42d]+_0xf5860c*_0x1a20a1[-0x7f*-0x2b+-0x46f*-0x2+0x44f*-0x7]+_0x1a20a1[0x1757+0xf9e+-0x26e7],_0x593029;}['transformV'+'ector'](_0x37c9e4,_0x1d47f4=new D()){const _0x2390f2=this['data'],{x:_0x3cf9d1,y:_0x6371ad,z:_0x5d5cbe}=_0x37c9e4;return _0x1d47f4['x']=_0x3cf9d1*_0x2390f2[0x1a82+0x1*0xe57+0x28d9*-0x1]+_0x6371ad*_0x2390f2[0x25b9+-0x5f*-0x50+-0x4365]+_0x5d5cbe*_0x2390f2[-0x38*0x8c+-0x1f2c+0x3dd4],_0x1d47f4['y']=_0x3cf9d1*_0x2390f2[-0x1159*0x1+-0x104+0x125e]+_0x6371ad*_0x2390f2[0x1*0x15cd+-0x1*0x19ed+0x425]+_0x5d5cbe*_0x2390f2[0x2496+-0x1090+0x12d*-0x11],_0x1d47f4['z']=_0x3cf9d1*_0x2390f2[-0x11d1*0x1+0x1193+0x40]+_0x6371ad*_0x2390f2[-0x24a7*0x1+-0x1cf4*-0x1+-0x7b9*-0x1]+_0x5d5cbe*_0x2390f2[-0xd*0x1f7+0x16b*0x16+-0x59d],_0x1d47f4;}['transformV'+'ec4'](_0x2ba33d,_0x551b3c=new re()){const _0x3038c9=this['data'],{x:_0x4b28f7,y:_0x1da095,z:_0x1310d1,w:_0x1cf8ac}=_0x2ba33d;return _0x551b3c['x']=_0x4b28f7*_0x3038c9[-0x1*-0x1ae9+-0xce7+-0x1*0xe02]+_0x1da095*_0x3038c9[0x8e*-0x3b+-0x230+-0x20e*-0x11]+_0x1310d1*_0x3038c9[-0x1d*-0x44+-0x15cd+-0x1*-0xe21]+_0x1cf8ac*_0x3038c9[0x15eb+0xcfd+-0x22dc],_0x551b3c['y']=_0x4b28f7*_0x3038c9[0xc17*0x3+-0x1*-0x15f5+-0x10f*0x37]+_0x1da095*_0x3038c9[0x4a7+-0x119*0x6+-0x1*-0x1f4]+_0x1310d1*_0x3038c9[-0x35*0x41+-0x10bc+-0xf1d*-0x2]+_0x1cf8ac*_0x3038c9[-0x13ad+-0x57a*0x4+0x29a2],_0x551b3c['z']=_0x4b28f7*_0x3038c9[0x2ee*0xa+0x12d9+-0x3023]+_0x1da095*_0x3038c9[0x3b9+-0x32f*-0x3+-0xd40]+_0x1310d1*_0x3038c9[-0x2042*0x1+-0x3*-0x8b+0x3*0xa39]+_0x1cf8ac*_0x3038c9[0xf8c+-0x392*0x9+0x10a4],_0x551b3c['w']=_0x4b28f7*_0x3038c9[-0x11d9+-0xf91+0x216d]+_0x1da095*_0x3038c9[0x12f3+0x23ce+-0x36ba]+_0x1310d1*_0x3038c9[0x114*-0x7+0xdf2+-0x65b]+_0x1cf8ac*_0x3038c9[0x152e+0x6cd*0x4+0x59*-0x8b],_0x551b3c;}['setLookAt'](_0x2b77fb,_0x5d575a,_0x5a9398){ei['sub2'](_0x2b77fb,_0x5d575a)['normalize'](),Js['copy'](_0x5a9398)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x30d2c4=this['data'];return _0x30d2c4[0x2*-0xb8+0x39f+-0x22f]=Os['x'],_0x30d2c4[-0x21f7+0x230b*-0x1+-0x3*-0x1701]=Os['y'],_0x30d2c4[-0x1*-0x1765+0x1*0x9e+-0x1801]=Os['z'],_0x30d2c4[-0xcf8+-0x2078+0x2d73]=0x52b+0x136f+-0x2f*0x86,_0x30d2c4[-0x108e+-0x118c+0x221e]=Js['x'],_0x30d2c4[0x13e8+0x111d+0x20*-0x128]=Js['y'],_0x30d2c4[0x2696+0xaca*-0x1+-0x1bc6]=Js['z'],_0x30d2c4[0x8*-0xc3+0x25a*0x9+-0xf0b]=-0xf15+-0x1*-0x26e7+-0x17d2,_0x30d2c4[-0xceb*-0x1+-0x66b*0x1+-0x678]=ei['x'],_0x30d2c4[-0x1*-0x1ad1+-0x6eb+0x1*-0x13dd]=ei['y'],_0x30d2c4[-0xd25*0x1+0x20d5+0x13a6*-0x1]=ei['z'],_0x30d2c4[-0x91b+-0x17*-0x135+-0x129d]=-0x22f*-0x2+-0x2c*0x8a+-0x135a*-0x1,_0x30d2c4[-0x1*-0x95+0x100e+-0x1097]=_0x2b77fb['x'],_0x30d2c4[-0x1*-0x2eb+0x2*-0x1273+0x18*0x16b]=_0x2b77fb['y'],_0x30d2c4[0x307*-0x2+0x364+-0x74*-0x6]=_0x2b77fb['z'],_0x30d2c4[0x15*-0x1c4+-0xcbc+0x31df]=0x26ce+0xc1*-0x3+-0x248a,this;}['setFrustum'](_0x145252,_0x4ad703,_0x14f175,_0x2f3b4c,_0x2b4f1f,_0x3518ea){const _0x2b7de9=(0x19fc+-0x197*-0x1+-0x1b91)*_0x2b4f1f,_0xe5e0b1=_0x4ad703-_0x145252,_0x4ebaad=_0x2f3b4c-_0x14f175,_0x9018d1=_0x3518ea-_0x2b4f1f,_0x5b3631=this['data'];return _0x5b3631[0x857+-0x27*0x13+-0x22*0x29]=_0x2b7de9/_0xe5e0b1,_0x5b3631[0x7*0x22a+0x21*0x13+0x233*-0x8]=0x15bf*-0x1+-0x1*0x23fe+0x27*0x17b,_0x5b3631[-0x17*-0x138+0x2b*0x3d+-0x2645]=-0x1541+-0x48f*-0x7+-0xaa8,_0x5b3631[-0xad3+-0x26d*0x8+0x1e3e]=-0x146f+0xa15+-0x52d*-0x2,_0x5b3631[0x24f2+-0x342+-0x4*0x86b]=0x7b5*-0x4+0x20*-0x46+-0x11*-0x254,_0x5b3631[-0x1ffd+-0x3*-0xaf3+-0xd7]=_0x2b7de9/_0x4ebaad,_0x5b3631[0x1*0xdfd+0x63f*-0x1+-0x7b8]=0x1*0x1ad2+0x1*0x49+-0x1b1b,_0x5b3631[0xca5+-0x1*-0x247d+-0x311b]=-0xcf8+-0xdf2+-0x212*-0xd,_0x5b3631[0x20bf*-0x1+-0x5*0x71d+-0x5b2*-0xc]=(_0x4ad703+_0x145252)/_0xe5e0b1,_0x5b3631[0xd52+-0xf*0x235+-0x3b*-0x56]=(_0x2f3b4c+_0x14f175)/_0x4ebaad,_0x5b3631[0x2*-0x12+0x2b*-0x7d+0x152d]=(-_0x3518ea-_0x2b4f1f)/_0x9018d1,_0x5b3631[-0x2b1*-0x9+0x2*0x65d+-0x24e8]=-(-0xe6b*-0x1+-0x2d*-0x2b+-0x15f9),_0x5b3631[0x349*0x1+-0x1927+0x15ea]=-0x197*-0x2+-0x7*-0x31d+-0x18f9,_0x5b3631[-0x113d+0x2386+-0x6*0x30a]=-0x26*0x2f+-0x1eb*0x13+-0xd*-0x357,_0x5b3631[-0x843+-0x1*0xde9+0x163a]=-_0x2b7de9*_0x3518ea/_0x9018d1,_0x5b3631[-0x8*-0x27a+-0x1c49+0x888]=0x256e*0x1+0x43*0x25+-0x2f1d,this;}['setPerspec'+'tive'](_0x113e22,_0x3f32d4,_0x54af61,_0x2e4528,_0x594c6b){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x113e22,_0x3f32d4,_0x54af61,_0x594c6b),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x54af61,_0x2e4528);}['setOrtho'](_0x2ec816,_0xcdf1f1,_0x25e199,_0x2d47ac,_0x4f4ff2,_0xd99841){const _0x13a327=this['data'];return _0x13a327[-0x1*0x204b+0x250c*-0x1+0x1*0x4557]=(0x9*0x2e2+-0x1*0x16a5+-0x34b)/(_0xcdf1f1-_0x2ec816),_0x13a327[-0x152*-0x8+0x1cdb+-0x276a]=0x4bc+-0x20a0+0x1be4,_0x13a327[-0x1e41+0xe32+-0x1011*-0x1]=0x2*0x5f0+0x213a*-0x1+0x155a,_0x13a327[-0x1*0x14e7+-0x109d+0xd*0x2e3]=-0x1518+-0x1*-0x7a9+-0x1*-0xd6f,_0x13a327[0x4bd+-0xa5d+0x5a4]=0x18e1+-0x469*-0x1+-0xa3*0x2e,_0x13a327[0xf97+-0x18fd+0x96b]=(-0x15e7+0x12b2*0x1+-0x337*-0x1)/(_0x2d47ac-_0x25e199),_0x13a327[-0x321*-0xb+0xee5+-0x314a]=-0x2507+-0x1dd8+0x42df,_0x13a327[0x3*0x770+-0x1*-0x16aa+0x1*-0x2cf3]=0x1*-0x1393+0x1460+-0xcd,_0x13a327[-0x35d*-0x1+-0x1fb2*0x1+0x1c5d]=-0x1*0x135b+0xac*-0x2e+-0x1*-0x3243,_0x13a327[-0x182+-0x255f+0x2*0x1375]=-0x1*0x1475+0xd*-0x295+0x1202*0x3,_0x13a327[0x67d+0x1*-0x1513+-0x9c*-0x18]=-(-0x22ee+-0x1a7c+0x1*0x3d6c)/(_0xd99841-_0x4f4ff2),_0x13a327[0x1d3f*0x1+-0x1c16+-0x11e]=0x8*-0x14c+0xb5*0x14+-0x3c4,_0x13a327[-0x12*-0xd3+0xa*0x2cc+-0x1a*0x1a5]=-(_0xcdf1f1+_0x2ec816)/(_0xcdf1f1-_0x2ec816),_0x13a327[0x20a3*0x1+0x211e+0x1d*-0x244]=-(_0x2d47ac+_0x25e199)/(_0x2d47ac-_0x25e199),_0x13a327[-0x17b1+0x1*0x1981+0x12*-0x19]=-(_0xd99841+_0x4f4ff2)/(_0xd99841-_0x4f4ff2),_0x13a327[0x1*0x2f5+-0x1*0xd01+0xa1b*0x1]=0x2647*-0x1+0x95*-0x1f+0x3853,this;}['setFromAxi'+'sAngle'](_0x5effee,_0x24d4e8){_0x24d4e8*=Y['DEG_TO_RAD'];const {x:_0x2242ff,y:_0x449228,z:_0x3a8eb7}=_0x5effee,_0x34a415=Math['cos'](_0x24d4e8),_0x5e43f2=Math['sin'](_0x24d4e8),_0x44be0e=0xd*-0x1a+0x20f5+-0x1fa2-_0x34a415,_0x56d152=_0x44be0e*_0x2242ff,_0x3fede8=_0x44be0e*_0x449228,_0x536aa9=this['data'];return _0x536aa9[-0x5c+-0x122e+0x3*0x62e]=_0x56d152*_0x2242ff+_0x34a415,_0x536aa9[0x1bce+0x1*-0x93d+-0x1290]=_0x56d152*_0x449228+_0x5e43f2*_0x3a8eb7,_0x536aa9[-0x1*0x166f+-0x1948+0x2fb9]=_0x56d152*_0x3a8eb7-_0x5e43f2*_0x449228,_0x536aa9[0x91*0x26+0x2238+0x37bb*-0x1]=0x6*-0x419+0x1e9*0x13+-0xbb5,_0x536aa9[0x1*-0xfb5+-0x18ee+0x1*0x28a7]=_0x56d152*_0x449228-_0x5e43f2*_0x3a8eb7,_0x536aa9[0x1*-0x16f1+-0x1b*0x15d+0x3bc5]=_0x3fede8*_0x449228+_0x34a415,_0x536aa9[-0xc*0xb+-0x10c0+0x8a5*0x2]=_0x3fede8*_0x3a8eb7+_0x5e43f2*_0x2242ff,_0x536aa9[0x1*-0x1184+0x837*0x2+-0x3*-0x5f]=0x1bc3+-0xf95*0x1+-0xc2e,_0x536aa9[-0xde4*0x1+-0x1b72+0x295e]=_0x56d152*_0x3a8eb7+_0x5e43f2*_0x449228,_0x536aa9[-0x550+0x1c9f+-0x14b*0x12]=_0x3fede8*_0x3a8eb7-_0x2242ff*_0x5e43f2,_0x536aa9[0x32*-0x15+0x23a+-0x1ea*-0x1]=_0x44be0e*_0x3a8eb7*_0x3a8eb7+_0x34a415,_0x536aa9[0x1d*0x52+-0x110d*-0x1+0xcc*-0x21]=-0x12*0x21a+0x15c9+-0x25*-0x6f,_0x536aa9[0x4*-0x173+0x659*-0x1+0xc31*0x1]=-0x4c0+-0x77e*0x4+0x22b8,_0x536aa9[-0xdb*0xe+-0x1c55+-0x6ba*-0x6]=-0xfbd+-0x198f+0x294c,_0x536aa9[0xde4+-0x54c*-0x2+-0x186e*0x1]=0x7f0+-0xd*0x29f+0x1a23,_0x536aa9[0x6d0*0x2+-0x87c+-0x1*0x515]=-0x10ab+-0x269*0x3+0x17e7,this;}['setTransla'+'te'](_0xa8fa84,_0x4cbfe0,_0x2c74be){const _0x46ef59=this['data'];return _0x46ef59[-0x20b2+0x1d63*-0x1+0x3e15]=-0x94a+0x10*-0x53+0xe7b,_0x46ef59[0x1*0x13a5+-0x5c1*-0x1+0x24f*-0xb]=0x25c0+0x33b+-0xd*0x327,_0x46ef59[0x46*0x37+-0xed9+0x1*-0x2f]=-0x1303+0xe80+-0x15*-0x37,_0x46ef59[0x16fe*-0x1+-0x1e8b+0x358c]=-0x1924+-0x4*-0x30c+-0x33d*-0x4,_0x46ef59[-0x1246+-0xc*-0x2f1+-0x1*0x1102]=-0xd*-0x182+0x1900+-0x2c9a,_0x46ef59[0x25a4+0x19d5+-0x20c*0x1f]=-0x95*-0x1+-0xd1b+-0x42d*-0x3,_0x46ef59[-0x1*0xc9b+0x1ec*-0x1+0x2e9*0x5]=0x21d7+-0xc6f+-0x55a*0x4,_0x46ef59[-0x1*0x2667+-0x1832+0x3ea0]=0x6*-0x4e8+0x17d8+0x598,_0x46ef59[0x1269+-0x261e+0x13bd]=0x1e03+-0x5b0+-0x1853,_0x46ef59[0x1b*-0x2b+0x1e56+-0x19c4]=0x1a13+0x21f*-0xa+-0x5*0xf9,_0x46ef59[-0x247+-0x945+0xb96]=0x6f9+-0x14f3+0xdfb*0x1,_0x46ef59[-0x769+0x1cff+-0x158b]=-0x191d+0x167b*-0x1+0x2f98*0x1,_0x46ef59[-0x169f+-0xb18+-0x21c3*-0x1]=_0xa8fa84,_0x46ef59[0x1072+0x61d*-0x4+0x80f]=_0x4cbfe0,_0x46ef59[-0x6f7*-0x5+-0x5*-0x32d+0x1*-0x32a6]=_0x2c74be,_0x46ef59[0x361*0xb+0x42b*0x2+-0x2d72]=-0x1fbe+0x1d85*0x1+-0x26*-0xf,this;}['setScale'](_0x59e328,_0x39bc24,_0xdb861){const _0x43632b=this['data'];return _0x43632b[-0x125a+0xa3*0x1a+0x1cc]=_0x59e328,_0x43632b[0x2*-0x68e+-0x192e*-0x1+-0xc11]=-0xf47*-0x1+-0x1*0xcaa+0x1*-0x29d,_0x43632b[-0xd03*0x1+-0x1abf+0x27c4]=0x1d64+-0x2*-0xcee+-0x3740,_0x43632b[-0x1e49+-0x1d9a+0x2*0x1df3]=-0x1490+0x80f*0x2+0x472,_0x43632b[-0x7*-0x38e+-0x1024+0x8ba*-0x1]=-0x249c+0x1fd8+-0x3d*-0x14,_0x43632b[-0x19ea+0x2c2*-0xa+0x3583]=_0x39bc24,_0x43632b[0x3*0x765+0x218a+0x7*-0x7f5]=-0x2476+0x1db9+0x6bd,_0x43632b[0x2690+0x28*-0x9+-0x2521]=0x4db+0xf33+-0x140e,_0x43632b[-0xe8e*0x2+-0x3e*0x3e+0x2c28]=-0x663+-0x3*0xac7+0x162*0x1c,_0x43632b[0x4*-0xe3+-0x1*0x1fd9+0x236e]=0x4*0x656+0xc7b+-0x25d3*0x1,_0x43632b[0x283*0x6+-0x3c*0x39+-0x2*0xd6]=_0xdb861,_0x43632b[0x27*-0xf1+-0x12c3+0x3785]=0x5*0x716+-0x1d0a+-0x664,_0x43632b[0x17ce+0x1d83+-0x3545]=0x8a*-0x3f+0x6*0x19a+0x185a,_0x43632b[0x2*-0xea4+-0x9*-0x232+0x993]=0x17c4+-0x24f7+0xd33,_0x43632b[-0x1*0x265d+-0x57e+-0x4e1*-0x9]=0x2215+-0x4*0x580+-0xc15,_0x43632b[-0x1*-0xf47+0x31*0x6d+-0x2415]=-0x1*-0x2bd+0x1*0x1475+-0x1731,this;}['setViewpor'+'t'](_0x789914,_0x96feb1,_0x383866,_0x44db7a){const _0x3852c3=this['data'];return _0x3852c3[-0x9*-0x3b3+-0x86f+0x4*-0x637]=_0x383866*(-0x5e7+0x17*-0xd1+0x18ae+0.5),_0x3852c3[-0x2*0x482+0x2*-0x1139+-0x3*-0xe7d]=0x1186+-0x10c2+-0xc4,_0x3852c3[0x14e1+-0x1*0x1153+0xe3*-0x4]=-0x2195+0x1254+0xf41,_0x3852c3[-0x1eac+-0x1*-0x1b95+0x31a]=-0x25e1+0x25cd+-0x2*-0xa,_0x3852c3[0x396+0x1eb4+-0x2246]=-0x1e9*0x10+-0x5*0x3fb+0x3277,_0x3852c3[-0x7ba+0x1bcd+-0x140e]=_0x44db7a*(0xa85+-0xfd4*0x1+0x1*0x54f+0.5),_0x3852c3[-0x4a3*-0x7+0x2*0x277+-0x255d*0x1]=-0x3a6+-0x2111+0x2d3*0xd,_0x3852c3[0x1*0x2547+0x17a7+-0x3ce7]=0x1e49+-0x3aa*-0x8+-0x3b99,_0x3852c3[0x3*-0x38b+0x2*-0x74a+-0x47*-0x5b]=0x123b+0xd7b+-0x1fb6,_0x3852c3[0x12d3+-0x3a1*-0x4+-0x1d*0x126]=-0x1*-0xf29+-0x4b0*0x2+-0x1*0x5c9,_0x3852c3[-0x5ff*0x3+-0x26*-0xef+-0x1173]=0x10*0x1b+-0x2693+0x13*0x1f1+0.5,_0x3852c3[0x2074+0x5*0x1fd+-0x2a5a]=0x611+-0x97d*0x3+0x1666,_0x3852c3[-0xe95+0x1*0x1d27+-0xe86]=_0x789914+_0x383866*(0x1*-0x23ea+0xe1d+0x1*0x15cd+0.5),_0x3852c3[0x1ece+0x12b7+-0x3178]=_0x96feb1+_0x44db7a*(-0x14a6+0x11e7+-0x25*-0x13+0.5),_0x3852c3[-0x1ae9+0x12a5+0x852]=0x1e87+-0x43*-0x25+-0x1*0x2836+0.5,_0x3852c3[-0x11*0x45+0x2656+-0x21b2]=0x2533+0xc91+-0x31c3,this;}['setReflect'+'ion'](_0x4e89e0,_0x1cdd52){const _0x5a7b27=_0x4e89e0['x'],_0x28aecf=_0x4e89e0['y'],_0x14fae7=_0x4e89e0['z'],_0x130bdc=this['data'];return _0x130bdc[-0x1421+-0x118a+0x25ab*0x1]=-0x5d1*0x4+-0x47*-0x3d+-0x6*-0x10f-(-0x1d*0x23+-0x2292+-0xfd*-0x27)*_0x5a7b27*_0x5a7b27,_0x130bdc[0x1780+-0x1304+0x25*-0x1f]=-(-0x359*0x1+-0x1*-0x19ee+-0x1693)*_0x5a7b27*_0x28aecf,_0x130bdc[0x1*-0x103f+0x6ad*-0x4+0x1*0x2af5]=-(-0x1a71+-0x1*0xca1+0x2714)*_0x5a7b27*_0x14fae7,_0x130bdc[-0x983*-0x1+0x228f+-0x1*0x2c0f]=0xa53+0x2*0x466+0x1bd*-0xb,_0x130bdc[0x199a+0x5*0x1e+-0x43*0x64]=-(-0x1*0x13c7+0x197b+-0x5b2)*_0x5a7b27*_0x28aecf,_0x130bdc[-0x1aa7*-0x1+-0xb*0x95+0x1*-0x143b]=0x3d9+0x1*0x2312+0x125*-0x22-(0x7*-0x331+-0x3*-0x687+0x162*0x2)*_0x28aecf*_0x28aecf,_0x130bdc[-0x1aa*0x7+0x2ea+0x8c2]=-(0x1*-0xd69+0xf0b+0x2*-0xd0)*_0x28aecf*_0x14fae7,_0x130bdc[-0xf60+0x1*-0x505+-0x51b*-0x4]=-0xbce+0x23c5+-0x4cb*0x5,_0x130bdc[-0x1de4+-0x1327*-0x1+0xac5]=-(0x1ef2+-0x1ed7*0x1+0x1*-0x19)*_0x5a7b27*_0x14fae7,_0x130bdc[0x13a7+0x287*0x5+-0x17*0x167]=-(0x9*-0x2f1+0x1*0x1a8d+-0x12)*_0x28aecf*_0x14fae7,_0x130bdc[-0x2*-0xa07+-0x970+-0xa94]=0x673+0x1f9a+-0x1*0x260c-(-0x1*-0xcbd+0x142+0xdfd*-0x1)*_0x14fae7*_0x14fae7,_0x130bdc[-0x34b+0x11c6+-0x54*0x2c]=-0xba4+0x1d*-0x87+0x1aef,_0x130bdc[0x26ba+-0x23ed*-0x1+-0x4a9b*0x1]=-(0x631*0x1+0x15c*0x1+0x78b*-0x1)*_0x5a7b27*_0x1cdd52,_0x130bdc[-0x4d3+-0x19a9*-0x1+-0x14c9]=-(-0xe80+-0xcbb+-0x16f*-0x13)*_0x28aecf*_0x1cdd52,_0x130bdc[-0x1*0x707+0x1*-0x1217+0x192c]=-(-0x1fe7+-0x253c+-0x23b*-0x1f)*_0x14fae7*_0x1cdd52,_0x130bdc[-0x1*-0x70f+0x267f+-0x2d7f]=-0x3*-0x6d9+-0xee*-0x1b+-0x2da4,this;}['invert'](_0x32c120=this){const _0x13cdef=_0x32c120['data'],_0xc0410c=_0x13cdef[-0xc*-0x49+0x56a+-0x8d6],_0x308780=_0x13cdef[-0x758+-0x1b11+0x226a],_0xb005be=_0x13cdef[-0x9dc*0x1+0x186d+0xe8f*-0x1],_0x319d57=_0x13cdef[-0x1253+0xfc9+0x28d],_0x5886b4=_0x13cdef[0xd6b+0xf02+0x7*-0x40f],_0x1eaf69=_0x13cdef[0x9b5+0x1762+-0x6*0x583],_0x40d010=_0x13cdef[-0x990+0x1194+-0x1f*0x42],_0x13dfc0=_0x13cdef[0x2484+0x1*0x621+-0x2a9e],_0xb456a4=_0x13cdef[0x16*-0x159+0x2553+-0x1*0x7a5],_0x158cb2=_0x13cdef[0x1*0x175a+-0x15c8+-0x189],_0x452951=_0x13cdef[0xa2f+0x18d4+-0x22f9],_0x904c23=_0x13cdef[0x6*-0x2c5+-0x131d+0x23c6],_0xeaafd8=_0x13cdef[0x23df+-0x1173*-0x2+-0x46b9],_0xcd17f1=_0x13cdef[0x1*-0x3e7+-0x1d6*-0x15+0x67*-0x56],_0x3ed3c6=_0x13cdef[-0x1*-0xab4+-0x730+0x1*-0x376],_0xc30156=_0x13cdef[-0x18e4+-0x1*0xd94+0x2687],_0x41fc9=_0xc0410c*_0x1eaf69-_0x308780*_0x5886b4,_0x528317=_0xc0410c*_0x40d010-_0xb005be*_0x5886b4,_0x3d5a75=_0xc0410c*_0x13dfc0-_0x319d57*_0x5886b4,_0x447a49=_0x308780*_0x40d010-_0xb005be*_0x1eaf69,_0x31fd48=_0x308780*_0x13dfc0-_0x319d57*_0x1eaf69,_0x58b7ed=_0xb005be*_0x13dfc0-_0x319d57*_0x40d010,_0xa3ac69=_0xb456a4*_0xcd17f1-_0x158cb2*_0xeaafd8,_0x2555cb=_0xb456a4*_0x3ed3c6-_0x452951*_0xeaafd8,_0x5531bd=_0xb456a4*_0xc30156-_0x904c23*_0xeaafd8,_0x3ce19d=_0x158cb2*_0x3ed3c6-_0x452951*_0xcd17f1,_0x1762aa=_0x158cb2*_0xc30156-_0x904c23*_0xcd17f1,_0x3827a3=_0x452951*_0xc30156-_0x904c23*_0x3ed3c6,_0x1d9d87=_0x41fc9*_0x3827a3-_0x528317*_0x1762aa+_0x3d5a75*_0x3ce19d+_0x447a49*_0x5531bd-_0x31fd48*_0x2555cb+_0x58b7ed*_0xa3ac69;if(_0x1d9d87===0x94+-0x18bd+0x1829)this['setIdentit'+'y']();else{const _0x56f567=(-0xa5b+-0xf*0xaa+0x1452)/_0x1d9d87,_0x2dfd7e=this['data'];_0x2dfd7e[0x6*-0x3b9+-0x17*-0xa6+0x64*0x13]=(_0x1eaf69*_0x3827a3-_0x40d010*_0x1762aa+_0x13dfc0*_0x3ce19d)*_0x56f567,_0x2dfd7e[0x8*0x60+-0x9de+0x6df]=(-_0x308780*_0x3827a3+_0xb005be*_0x1762aa-_0x319d57*_0x3ce19d)*_0x56f567,_0x2dfd7e[0x89*0x46+0xe82+-0x12*0x2e3]=(_0xcd17f1*_0x58b7ed-_0x3ed3c6*_0x31fd48+_0xc30156*_0x447a49)*_0x56f567,_0x2dfd7e[0x78*0x52+0x1e2*0x6+-0x31b9]=(-_0x158cb2*_0x58b7ed+_0x452951*_0x31fd48-_0x904c23*_0x447a49)*_0x56f567,_0x2dfd7e[-0x1c59+0x21*-0x47+0x2584]=(-_0x5886b4*_0x3827a3+_0x40d010*_0x5531bd-_0x13dfc0*_0x2555cb)*_0x56f567,_0x2dfd7e[-0x2318*0x1+-0x34*-0x81+0x8e9]=(_0xc0410c*_0x3827a3-_0xb005be*_0x5531bd+_0x319d57*_0x2555cb)*_0x56f567,_0x2dfd7e[0x1*0x1311+0x130+-0x143b]=(-_0xeaafd8*_0x58b7ed+_0x3ed3c6*_0x3d5a75-_0xc30156*_0x528317)*_0x56f567,_0x2dfd7e[-0x1859+0x445*-0x3+0x1f5*0x13]=(_0xb456a4*_0x58b7ed-_0x452951*_0x3d5a75+_0x904c23*_0x528317)*_0x56f567,_0x2dfd7e[-0x1c2d+0x693+-0x2*-0xad1]=(_0x5886b4*_0x1762aa-_0x1eaf69*_0x5531bd+_0x13dfc0*_0xa3ac69)*_0x56f567,_0x2dfd7e[-0xb23+-0x1ec0+0x29ec]=(-_0xc0410c*_0x1762aa+_0x308780*_0x5531bd-_0x319d57*_0xa3ac69)*_0x56f567,_0x2dfd7e[0xb*0x1e2+0x22*-0xc+0x16*-0xde]=(_0xeaafd8*_0x31fd48-_0xcd17f1*_0x3d5a75+_0xc30156*_0x41fc9)*_0x56f567,_0x2dfd7e[-0xdef+0x56*-0x20+-0x5*-0x4f2]=(-_0xb456a4*_0x31fd48+_0x158cb2*_0x3d5a75-_0x904c23*_0x41fc9)*_0x56f567,_0x2dfd7e[-0x43*0x6e+-0x14d+0x1e23]=(-_0x5886b4*_0x3ce19d+_0x1eaf69*_0x2555cb-_0x40d010*_0xa3ac69)*_0x56f567,_0x2dfd7e[0xd2b+0xeae+0xde6*-0x2]=(_0xc0410c*_0x3ce19d-_0x308780*_0x2555cb+_0xb005be*_0xa3ac69)*_0x56f567,_0x2dfd7e[-0x1c9c+0x1*0x805+0x421*0x5]=(-_0xeaafd8*_0x447a49+_0xcd17f1*_0x528317-_0x3ed3c6*_0x41fc9)*_0x56f567,_0x2dfd7e[-0x155*0xe+-0x107*0xb+-0x2e*-0xa7]=(_0xb456a4*_0x447a49-_0x158cb2*_0x528317+_0x452951*_0x41fc9)*_0x56f567;}return this;}['set'](_0x2c836f){const _0x43b9d4=this['data'];return _0x43b9d4[0x26*0x8d+0x13a6+0x144a*-0x2]=_0x2c836f[0x21*-0x10c+-0x193e+0x1de5*0x2],_0x43b9d4[-0x4*0x51b+0x68c+0xbb*0x13]=_0x2c836f[0x34*-0x95+0x124*0x12+0x115*0x9],_0x43b9d4[0x2176*-0x1+0x77d*-0x4+0x3f6c]=_0x2c836f[-0x261+-0xea2+-0x1*-0x1105],_0x43b9d4[0x195*0x1+0x244f+-0x25e1]=_0x2c836f[-0x1feb+0xf7c+0x1072],_0x43b9d4[-0xd3c+0xc2*-0x1f+0x2*0x125f]=_0x2c836f[0x1c60+0x1270+-0x5*0x95c],_0x43b9d4[-0x70*-0x10+0x9dc+-0x10d7]=_0x2c836f[-0x1*0x13eb+-0x24cb*-0x1+-0x5*0x35f],_0x43b9d4[-0xa3f+-0xcaa+0x16ef]=_0x2c836f[0x23d7+-0x3d5+0x164*-0x17],_0x43b9d4[-0x2f4+0x2*-0x851+0x139d*0x1]=_0x2c836f[0x1a48+-0xf6*-0x8+-0x21f1],_0x43b9d4[0x617*0x3+0x1f2b+-0x3168]=_0x2c836f[-0x1*0x3ae+-0x1*0x9f7+0xdad],_0x43b9d4[0x1495+-0x5*-0x575+-0x1*0x2fd5]=_0x2c836f[-0x10c4+0x139f*-0x1+0x246c],_0x43b9d4[-0x2b*-0xe1+-0x1*-0x1753+-0x3d14]=_0x2c836f[-0x3bf*0x7+0x26f0*-0x1+0x4133],_0x43b9d4[-0x1*-0x250c+-0x1692+-0xe6f]=_0x2c836f[0x231c+0x8*0x287+-0x1*0x3749],_0x43b9d4[-0x2133+-0x7d2*0x2+0x30e3]=_0x2c836f[0x1cec+-0xd*0x146+-0xc52],_0x43b9d4[0xb7c+-0x213f+0x15d0]=_0x2c836f[0xc8c*0x1+-0xb4d+-0x132],_0x43b9d4[0x59+-0x16*0x183+0x1d*0x123]=_0x2c836f[0x1c9a+-0x5b4+-0x16d8],_0x43b9d4[-0x1*-0x15b9+0x1996+-0x3f*0xc0]=_0x2c836f[-0x2f*0x35+0xa3*-0x2f+0x27b7],this;}['setIdentit'+'y'](){const _0x141dd4=this['data'];return _0x141dd4[0x10ec+0x1160*0x2+-0x4*0xceb]=0x130d*-0x2+0x5a1+0x1*0x207a,_0x141dd4[0x1072+0x1537*0x1+0x1e2*-0x14]=-0x1fd0+0xaf0+0x14e0,_0x141dd4[-0x2172*0x1+0x1b*-0xfc+-0x1c4*-0x22]=-0x1201*-0x2+0x2*0x4fb+-0x2df8,_0x141dd4[0x1c05+-0x1271+-0x1f*0x4f]=0x23a0+-0xdc9+-0x1*0x15d7,_0x141dd4[-0x11+0x1ef9+-0x1ee4]=0x2247+0x648+-0x288f*0x1,_0x141dd4[-0x1dd7+-0x23a9*0x1+0x3*0x15d7]=-0x19+-0x201a*-0x1+-0x2000,_0x141dd4[-0x3*-0x6ff+-0x1deb+-0x23d*-0x4]=-0x150c+-0x2b8+0x17c4,_0x141dd4[-0x1732+-0x1*0x18c6+0x2fff]=-0x200d+0xe90+0x117d*0x1,_0x141dd4[0x2*0x122b+-0xd9b+0x1bf*-0xd]=-0x1ca4+-0xc*-0x12f+0x6*0x268,_0x141dd4[-0xa6*-0x2+0x12eb+-0x142e]=0x1b27+0xa59+-0x2580*0x1,_0x141dd4[0x230f+-0x2382+0x7d]=-0xab2+0x232+-0x137*-0x7,_0x141dd4[0x14*-0x85+-0xf28+0x1997]=-0x2*0x75b+-0x3*-0x887+-0x17*0x79,_0x141dd4[0x2e8+-0x1*0x11ad+-0x1*-0xed1]=0x2302*0x1+0x8*-0x30+-0x2182,_0x141dd4[0xa6*-0x1+0x618+0x565*-0x1]=0x1d*0xd3+0xd1d+0x1*-0x2504,_0x141dd4[-0xa1e+-0xbc4+0x15f0]=-0x2267+0x1bac+0x1*0x6bb,_0x141dd4[-0x21a+0x20c9+-0x1ea0]=0x1faf+-0x1882+-0x72c,this;}['setTRS'](_0x5e722e,_0x17249f,_0x10bd5d){const _0xef6b99=_0x17249f['x'],_0x586d40=_0x17249f['y'],_0x4e1423=_0x17249f['z'],_0x554f7f=_0x17249f['w'],_0x337075=_0x10bd5d['x'],_0x5ac237=_0x10bd5d['y'],_0x2ed75f=_0x10bd5d['z'],_0x45c101=_0xef6b99+_0xef6b99,_0x2710d3=_0x586d40+_0x586d40,_0xc8ea7e=_0x4e1423+_0x4e1423,_0x409507=_0xef6b99*_0x45c101,_0xc37e9=_0xef6b99*_0x2710d3,_0x2d7174=_0xef6b99*_0xc8ea7e,_0x56110d=_0x586d40*_0x2710d3,_0x28ebb1=_0x586d40*_0xc8ea7e,_0x296b71=_0x4e1423*_0xc8ea7e,_0x44c5ec=_0x554f7f*_0x45c101,_0x1c3727=_0x554f7f*_0x2710d3,_0x321623=_0x554f7f*_0xc8ea7e,_0x1a1d3a=this['data'];return _0x1a1d3a[0x15a3+-0x830+0x1*-0xd73]=(-0x1*0x749+0x8f7+0x3*-0x8f-(_0x56110d+_0x296b71))*_0x337075,_0x1a1d3a[0x706+-0x1a4a+0x1345*0x1]=(_0xc37e9+_0x321623)*_0x337075,_0x1a1d3a[-0x2672+0x697+0x1fdd]=(_0x2d7174-_0x1c3727)*_0x337075,_0x1a1d3a[0x9e7+-0x8c8+0x4*-0x47]=0xe*-0x6+0x1*0x1f17+-0x1ec3,_0x1a1d3a[-0x1e87+0x1*-0xfd9+0x4*0xb99]=(_0xc37e9-_0x321623)*_0x5ac237,_0x1a1d3a[0x24ec+0xef*-0x1+0x4*-0x8fe]=(0x26bf+0x1*0x4f+-0x270d-(_0x409507+_0x296b71))*_0x5ac237,_0x1a1d3a[-0xc3*0xa+-0x97*0x2f+-0x235d*-0x1]=(_0x28ebb1+_0x44c5ec)*_0x5ac237,_0x1a1d3a[0x10*0xb3+-0x1169+0x640]=-0x193*0x1+-0xeb0+-0x1043*-0x1,_0x1a1d3a[0x19f5+0x1*0x1352+-0x27*0x129]=(_0x2d7174+_0x1c3727)*_0x2ed75f,_0x1a1d3a[0x2448+0xfe5+0x1a12*-0x2]=(_0x28ebb1-_0x44c5ec)*_0x2ed75f,_0x1a1d3a[-0xcfd+0x1916+-0xc0f]=(0x27*-0x48+0xa5f+0xe*0xb-(_0x409507+_0x56110d))*_0x2ed75f,_0x1a1d3a[0x1*-0x12c1+0x3*-0xb7+-0x1*-0x14f1]=-0x10a2+0x9ff+-0x1*-0x6a3,_0x1a1d3a[-0x1*0x1b3b+-0xcd0+0x2817]=_0x5e722e['x'],_0x1a1d3a[0x44c+-0x25a5+0x5a*0x5f]=_0x5e722e['y'],_0x1a1d3a[-0x7f2+-0x6b6+0x21a*0x7]=_0x5e722e['z'],_0x1a1d3a[0x1971+-0xf7d+-0x9e5]=0x2f3*0x1+-0x1848+-0x1*-0x1556,this;}['transpose'](_0x5ef766=this){const _0x4e9259=_0x5ef766['data'],_0x594df4=this['data'];if(_0x4e9259===_0x594df4){let _0x12745b;_0x12745b=_0x4e9259[-0x1e23+-0x9be+0x27e2],_0x594df4[0x18a4+-0x1*-0x2570+0x1*-0x3e13]=_0x4e9259[0x17b*-0x11+-0x14b1+-0x16f0*-0x2],_0x594df4[0x42*0x4+0x4*0x74+-0x2*0x16a]=_0x12745b,_0x12745b=_0x4e9259[-0x1*-0x8dd+-0x1af2*0x1+0x1217],_0x594df4[-0x184+-0x269f+-0x2825*-0x1]=_0x4e9259[0x131f*-0x1+-0x1239+0x2560],_0x594df4[-0x5b9+-0xd4c*-0x1+-0x78b]=_0x12745b,_0x12745b=_0x4e9259[-0xcd4+0x22c4+-0x15ed],_0x594df4[-0x22*-0xd2+-0x1173+-0xa6e]=_0x4e9259[-0x14f0+-0x214+-0x48*-0x52],_0x594df4[-0x4ef+0x22ae+-0x1db3]=_0x12745b,_0x12745b=_0x4e9259[-0x9b*-0x17+0x129d+-0x2084],_0x594df4[-0x1667+-0x52b*0x7+0x3a9a]=_0x4e9259[-0x4*0x58a+-0x18a2+-0x1*-0x2ed3],_0x594df4[-0x15f*-0x19+-0x4db*-0x1+-0x2719]=_0x12745b,_0x12745b=_0x4e9259[0x89+-0x22*0xb8+0x2*0xbf7],_0x594df4[0x5*0x108+0x8*0x9e+-0xa11]=_0x4e9259[-0x1c2e+-0x5c9*0x6+0x3ef1*0x1],_0x594df4[-0x29*-0xf1+-0x238f+-0x2fd]=_0x12745b,_0x12745b=_0x4e9259[0xc*-0x5a+0x25df+-0x219c],_0x594df4[0x2*-0x97+-0x1*-0x1b05+-0x1a*0xfe]=_0x4e9259[-0x181+-0x673*-0x1+-0x4e4],_0x594df4[-0x26f8+-0x2218+0x491e*0x1]=_0x12745b;}else _0x594df4[-0x22d7+0x1e3+-0x26*-0xde]=_0x4e9259[-0x2115+0x1*-0xe5+-0x21fa*-0x1],_0x594df4[-0x1c60+-0xe*-0xd5+-0x1*-0x10bb]=_0x4e9259[0x46f+-0x179f+0x99a*0x2],_0x594df4[-0x1438+-0x3*0x993+0x30f3]=_0x4e9259[0x702+-0xd6c+0x672],_0x594df4[0x1b73+0xba4+-0x2714]=_0x4e9259[-0x17c9*0x1+-0x1ae9+0x32be],_0x594df4[-0x1337+-0x24c0+0x37fb]=_0x4e9259[-0x1b57+-0xd66+0x28be],_0x594df4[-0x1d79+-0x53b*0x1+-0x1*-0x22b9]=_0x4e9259[0x22b9+-0x26f2+-0xb5*-0x6],_0x594df4[0x67+0x2101+-0x2162]=_0x4e9259[0x7*0x98+0x2130+-0x1*0x254f],_0x594df4[0xb5*-0x16+0x1*-0xb07+0x1a9c]=_0x4e9259[-0x15ec+0x1a99*0x1+-0x8*0x94],_0x594df4[0x97c+0x6b*-0x7+-0x687]=_0x4e9259[0x16*0x18f+-0xe27+0x1421*-0x1],_0x594df4[-0x16*-0x16f+-0x162b*-0x1+-0x35ac]=_0x4e9259[0x15fe+0x2*0x1cf+-0x1996],_0x594df4[0x1*0x1de1+-0x1e4a+0x73]=_0x4e9259[0x52e*0x5+0xd*-0x2c6+-0x1*-0xa32],_0x594df4[-0x2*-0x88d+0x21f*0xd+0xc5*-0x3a]=_0x4e9259[0x2010+0x5*0x3f5+-0x33cb],_0x594df4[0x829*-0x3+-0x1b2b+0x33b2]=_0x4e9259[0x1*-0x11c2+0x3b3+0xe12],_0x594df4[0x2098+0xd8*-0xd+-0x107*0x15]=_0x4e9259[0x8*-0x407+-0x203e+0x407d],_0x594df4[-0x58*-0x6e+-0x1b9b+-0xa27]=_0x4e9259[-0xb65+-0x15a5*0x1+0x9*0x3ad],_0x594df4[-0x1f*-0x10b+0x1fdb+-0x4021*0x1]=_0x4e9259[-0x836+0x2226+0x5*-0x52d];return this;}['getTransla'+'tion'](_0x23c489=new D()){return _0x23c489['set'](this['data'][0x261f+0x1352+-0x1*0x3965],this['data'][-0x655*0x6+0x111*-0x1f+-0x2*-0x238d],this['data'][-0x3ef+-0x1*-0x8cf+0x4d2*-0x1]);}['getX'](_0x21b1e9=new D()){return _0x21b1e9['set'](this['data'][0x1*0x1e63+0xe84+0xd1*-0x37],this['data'][-0x1d87+-0x22d3+0x405b*0x1],this['data'][-0x16e5+0x5bf*0x4+-0x15]);}['getY'](_0x30125a=new D()){return _0x30125a['set'](this['data'][-0x1a*0x2e+-0x67*-0x41+-0x1577*0x1],this['data'][-0x7a*0x3+0xf8d*-0x2+0x208d],this['data'][0xb3e*0x1+-0x230d+0x17d5*0x1]);}['getZ'](_0x4402f9=new D()){return _0x4402f9['set'](this['data'][-0x1ff*-0xd+-0x1369+-0x682],this['data'][0xec4+-0x2474+0x53*0x43],this['data'][-0x79c+-0x16*-0x16a+-0x1776*0x1]);}['getScale'](_0x305082=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x305082['set'](Os['length'](),Js['length'](),ei['length']()),_0x305082;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x3*0xacb+0xf29+0x1138?-(-0xb*0x31c+0x591+0x1ca4):0x8cf*0x3+0x1ac6*0x1+-0xb*0x4d6;}['setFromEul'+'erAngles'](_0x58bf9b,_0x1c5bf1,_0x23d486){_0x58bf9b*=Y['DEG_TO_RAD'],_0x1c5bf1*=Y['DEG_TO_RAD'],_0x23d486*=Y['DEG_TO_RAD'];const _0x5d9b8c=Math['sin'](-_0x58bf9b),_0x25a120=Math['cos'](-_0x58bf9b),_0x529aca=Math['sin'](-_0x1c5bf1),_0x205ede=Math['cos'](-_0x1c5bf1),_0x45f818=Math['sin'](-_0x23d486),_0x48bb55=Math['cos'](-_0x23d486),_0x59514e=this['data'];return _0x59514e[0x230c+-0x8d3*0x3+-0x893]=_0x205ede*_0x48bb55,_0x59514e[-0x443*0x9+0x435+0x2227]=-_0x205ede*_0x45f818,_0x59514e[0x9c7+0x489*0x2+-0x12d7]=_0x529aca,_0x59514e[0xf58+0xed6+-0x1e2b]=-0x49*-0x34+0x923+-0x17f7,_0x59514e[-0x14b0+0x124+0x8*0x272]=_0x25a120*_0x45f818+_0x48bb55*_0x5d9b8c*_0x529aca,_0x59514e[-0x4*-0x72e+0x843+0x26*-0xf9]=_0x25a120*_0x48bb55-_0x5d9b8c*_0x529aca*_0x45f818,_0x59514e[-0x1*0x126d+-0x1*-0x595+-0x6*-0x225]=-_0x205ede*_0x5d9b8c,_0x59514e[-0xc4b+-0x876*-0x3+-0xd10]=0xaa+0x1c*-0x1+-0x2*0x47,_0x59514e[0xb*0x76+0x2*-0x7eb+0xacc]=_0x5d9b8c*_0x45f818-_0x25a120*_0x48bb55*_0x529aca,_0x59514e[-0x1b2f+0x19*0x88+0xdf0]=_0x48bb55*_0x5d9b8c+_0x25a120*_0x529aca*_0x45f818,_0x59514e[0x1*0xf3+-0xb83+-0x76*-0x17]=_0x25a120*_0x205ede,_0x59514e[0x1*0xc3c+-0xb4c+-0x1*0xe5]=0x9*0x327+-0x105*-0x11+-0x2db4,_0x59514e[-0xa9*0x2f+0xe02+0x101*0x11]=0x331*-0x1+-0x1abe+-0x1*-0x1def,_0x59514e[0x17*0x133+0x7*-0x2b3+-0x3*0x2e1]=-0x23*-0x4b+0x36a*-0x1+-0x6d7,_0x59514e[0x1*-0x875+0x1f7b+-0xd2*0x1c]=0x1*-0x319+-0x7*0x14b+0x1*0xc26,_0x59514e[-0x179a+-0x2245+0x39ee]=0x2618+0x376*-0xa+-0x63*0x9,this;}['getEulerAn'+'gles'](_0x26a8c8=new D()){this['getScale'](Hl);const _0x4d58c1=Hl['x'],_0x11b9ef=Hl['y'],_0x22045e=Hl['z'];if(_0x4d58c1===0x1b75+-0x63d*-0x5+0x1*-0x3aa6||_0x11b9ef===-0x1d1d+0x2*-0x1101+0x5bd*0xb||_0x22045e===-0xa*0xd1+0x1d19+-0x14ef)return _0x26a8c8['set'](-0x16*0x1+-0x14ec+0x1502,-0x245d+0x165b+0x146*0xb,0x1715+0x714*0x4+-0x3365);const _0x34297b=this['data'],_0x3a32fa=Math['asin'](-_0x34297b[-0x72d+0x1*0x6dd+0x2*0x29]/_0x4d58c1),_0x15b4fa=Math['PI']*(-0xcdb+-0x133+0xe0e+0.5);let _0x1fb83c,_0x2f86de;return _0x3a32fa<_0x15b4fa?_0x3a32fa>-_0x15b4fa?(_0x1fb83c=Math['atan2'](_0x34297b[0xd*0x7f+0xd98+-0x1405]/_0x11b9ef,_0x34297b[-0xe*0x95+0xa81*-0x2+0x1d32]/_0x22045e),_0x2f86de=Math['atan2'](_0x34297b[-0x3d3*-0x2+0x4e*-0x1a+0x1*0x47]/_0x4d58c1,_0x34297b[0x306+0x3d*-0xa3+-0x1*-0x23d1]/_0x4d58c1)):(_0x2f86de=-0x12f*0xc+-0xc4a+0xd3f*0x2,_0x1fb83c=-Math['atan2'](_0x34297b[-0x5f8+-0xd72*0x1+-0x67a*-0x3]/_0x11b9ef,_0x34297b[0xb83*-0x3+0x47*0x5b+0x951]/_0x11b9ef)):(_0x2f86de=-0x3ad+0x2*-0x26b+0x883,_0x1fb83c=Math['atan2'](_0x34297b[0xe*0xc5+-0x2*-0x1312+-0x239*0x16]/_0x11b9ef,_0x34297b[-0x213*0x11+-0x5*0x4b5+0x689*0x9]/_0x11b9ef)),_0x26a8c8['set'](_0x1fb83c,_0x3a32fa,_0x2f86de)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x150*0x5+0x16e6+0xebb*-0x2,-0xe*-0x24d+0x10c8+-0x30fe*0x1,-0x25b3+0x2d9+0x22da,-0x17*-0x22+-0x23*0xe5+0x1c41,-0xc67*-0x1+-0x2039+0x56*0x3b,-0x8a1*-0x1+-0x1*-0x1468+-0x1d09,0x5e*-0xd+0x2225+0x1*-0x1d5f,0x10c*-0x17+-0x1*0xc77+0x248b,0x2d*0x46+0x492+0x6*-0x2d0,-0x1363+0x747+0xc1c,0xfa0+0x1ba8+-0x2b48,-0xd24+-0x1*-0x202c+-0x1308,0x2514*-0x1+-0x53*-0x44+0x3c2*0x4,-0x9d3+0x233a*-0x1+-0x13*-0x25f,-0x1a08+-0x13f2+0x2dfa,0x2447+-0x75*0xf+0x10d*-0x1c])));let te=Qr;const Sn=class Sn{constructor(_0x231d74=-0x1*0x1279+0x13cd+-0x154,_0x4139c9=-0x7dd+0x70*0x53+-0x1c73,_0x34afce=0x11b2*-0x1+-0x4*0x26f+0x1b6e,_0x1bd968=0x1e9c+-0x26f6*0x1+-0x17*-0x5d){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x231d74['length']===0x251*-0x3+-0x11c3*0x2+-0x1*-0x2a7d?(this['x']=_0x231d74[0xfda+0x7*0x4e9+-0x3239],this['y']=_0x231d74[0x2*0xd5+0x49a+-0x643],this['z']=_0x231d74[-0x1*0x719+-0xb82+0x5*0x3b9],this['w']=_0x231d74[-0xab*-0x1f+-0x19*0x145+0xb0b]):(this['x']=_0x231d74,this['y']=_0x4139c9,this['z']=_0x34afce,this['w']=_0x1bd968);}['clone'](){const _0x67ba7=this['constructo'+'r'];return new _0x67ba7(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x8b64ed=this){return this['x']=_0x8b64ed['x']*-(0xb*-0x46+0x1341*-0x1+0x5*0x474),this['y']=_0x8b64ed['y']*-(0x24f5+-0x8c2+0x1*-0x1c32),this['z']=_0x8b64ed['z']*-(-0x1af1+-0x1f85+0x9*0x67f),this['w']=_0x8b64ed['w'],this;}['copy'](_0x165f84){return this['x']=_0x165f84['x'],this['y']=_0x165f84['y'],this['z']=_0x165f84['z'],this['w']=_0x165f84['w'],this;}['dot'](_0x264f83){return this['x']*_0x264f83['x']+this['y']*_0x264f83['y']+this['z']*_0x264f83['z']+this['w']*_0x264f83['w'];}['equals'](_0x25bc5c){return this['x']===_0x25bc5c['x']&&this['y']===_0x25bc5c['y']&&this['z']===_0x25bc5c['z']&&this['w']===_0x25bc5c['w'];}['equalsAppr'+'ox'](_0x38d95b,_0x1cd4d7=0xb2*0x14+0x1473*0x1+-0x5*0x6df+0.000001){return Math['abs'](this['x']-_0x38d95b['x'])<_0x1cd4d7&&Math['abs'](this['y']-_0x38d95b['y'])<_0x1cd4d7&&Math['abs'](this['z']-_0x38d95b['z'])<_0x1cd4d7&&Math['abs'](this['w']-_0x38d95b['w'])<_0x1cd4d7;}['getAxisAng'+'le'](_0x46411c){let _0x5ac726=Math['acos'](this['w'])*(0xa7a+0xfcc+0xd22*-0x2);const _0x25372c=Math['sin'](_0x5ac726/(0x1d78+0x1*-0x24e9+-0x773*-0x1));return _0x25372c!==0x12fd*0x1+-0xbd4*-0x2+-0x2aa5?(_0x46411c['x']=this['x']/_0x25372c,_0x46411c['y']=this['y']/_0x25372c,_0x46411c['z']=this['z']/_0x25372c,(_0x46411c['x']<0x2*-0xe6d+0x14d7*0x1+0x803||_0x46411c['y']<-0x10ac+-0x6fb+0x17a7||_0x46411c['z']<-0xe5*-0x9+-0x1*-0x1d2b+-0x2538)&&(_0x46411c['x']*=-(0x11ba+-0x9b0+0x809*-0x1),_0x46411c['y']*=-(0x1332+0x1*-0x28c+-0x1*0x10a5),_0x46411c['z']*=-(-0x1abb+-0xd3*-0x1+-0x43*-0x63),_0x5ac726*=-(0x51*0x5d+0x164d+-0x1*0x33b9))):(_0x46411c['x']=0x51*0xa+0x1a86+0x1bf*-0x11,_0x46411c['y']=0x5e*-0xe+-0x3*-0xa4+-0x19c*-0x2,_0x46411c['z']=-0x2*0x3c2+0x26e6+-0x1f62),_0x5ac726*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x2722ff=new D()){let _0x2e9cc7,_0x3ce2d5,_0x61fa2a;const _0x3659b5=this['x'],_0x476eef=this['y'],_0xd3bd05=this['z'],_0x4f671b=this['w'],_0x48033d=(-0x7d6*0x3+0x23*0xb+0x325*0x7)*(_0x4f671b*_0x476eef-_0x3659b5*_0xd3bd05);return _0x48033d<=-(-0x1078+-0x26e1*0x1+0x1*0x3759+0.99999)?(_0x2e9cc7=(0x59*0x2b+-0x256e+-0x65*-0x39)*Math['atan2'](_0x3659b5,_0x4f671b),_0x3ce2d5=-Math['PI']/(0x2032+-0xb6a*0x3+0x1*0x20e),_0x61fa2a=-0x1849+-0x2127+0x10*0x397):_0x48033d>=0x60a*0x2+0x3ed+-0x1001*0x1+0.99999?(_0x2e9cc7=(-0x5f5+0x1722+-0x112b)*Math['atan2'](_0x3659b5,_0x4f671b),_0x3ce2d5=Math['PI']/(0x19f7+-0x4*0x755+0x35f),_0x61fa2a=0x14ee+0x3*0x463+-0x2217):(_0x2e9cc7=Math['atan2']((-0x2272*0x1+0x4*0x4d6+0xf1c)*(_0x4f671b*_0x3659b5+_0x476eef*_0xd3bd05),-0x1e1e+0x3e1+0x1*0x1a3e-(-0xf3*-0x24+0x24f5*-0x1+0x2cb*0x1)*(_0x3659b5*_0x3659b5+_0x476eef*_0x476eef)),_0x3ce2d5=Math['asin'](_0x48033d),_0x61fa2a=Math['atan2']((0x12a*-0x18+-0x1c4a+-0x1c1e*-0x2)*(_0x4f671b*_0xd3bd05+_0x3659b5*_0x476eef),0x1*0x1cb8+-0x20f9+-0xda*-0x5-(-0x3*-0x8df+0x51b*-0x1+-0x1580)*(_0x476eef*_0x476eef+_0xd3bd05*_0xd3bd05))),_0x2722ff['set'](_0x2e9cc7,_0x3ce2d5,_0x61fa2a)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x1dd8a6=this){return this['conjugate'](_0x1dd8a6)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x2bc8f3,_0x23e09c,_0x8cb514){const _0x330dbe=(0x1ab3+0x1*-0x180d+-0x2a5-_0x8cb514)*(_0x2bc8f3['dot'](_0x23e09c)<-0x2e6+0x11*0x236+-0x22b0?-(0x1048+-0x9*0x34a+0xd53):0x12*-0x5+0xa24+-0x5*0x1f5);return this['x']=_0x2bc8f3['x']*_0x330dbe+_0x23e09c['x']*_0x8cb514,this['y']=_0x2bc8f3['y']*_0x330dbe+_0x23e09c['y']*_0x8cb514,this['z']=_0x2bc8f3['z']*_0x330dbe+_0x23e09c['z']*_0x8cb514,this['w']=_0x2bc8f3['w']*_0x330dbe+_0x23e09c['w']*_0x8cb514,this['normalize']();}['mul'](_0x5305aa){const _0x1b0db7=this['x'],_0x2a4d92=this['y'],_0x5c203f=this['z'],_0x3c15d6=this['w'],_0x1bc074=_0x5305aa['x'],_0x3ae7f1=_0x5305aa['y'],_0x4dfac4=_0x5305aa['z'],_0x401b67=_0x5305aa['w'];return this['x']=_0x3c15d6*_0x1bc074+_0x1b0db7*_0x401b67+_0x2a4d92*_0x4dfac4-_0x5c203f*_0x3ae7f1,this['y']=_0x3c15d6*_0x3ae7f1+_0x2a4d92*_0x401b67+_0x5c203f*_0x1bc074-_0x1b0db7*_0x4dfac4,this['z']=_0x3c15d6*_0x4dfac4+_0x5c203f*_0x401b67+_0x1b0db7*_0x3ae7f1-_0x2a4d92*_0x1bc074,this['w']=_0x3c15d6*_0x401b67-_0x1b0db7*_0x1bc074-_0x2a4d92*_0x3ae7f1-_0x5c203f*_0x4dfac4,this;}['mulScalar'](_0xcbb081,_0x4799d8=this){return this['x']=_0x4799d8['x']*_0xcbb081,this['y']=_0x4799d8['y']*_0xcbb081,this['z']=_0x4799d8['z']*_0xcbb081,this['w']=_0x4799d8['w']*_0xcbb081,this;}['mul2'](_0x4a642c,_0x261ff9){const _0x5afc0a=_0x4a642c['x'],_0x14f698=_0x4a642c['y'],_0x2767c7=_0x4a642c['z'],_0x40ea4c=_0x4a642c['w'],_0x28060c=_0x261ff9['x'],_0x3454ba=_0x261ff9['y'],_0x22db68=_0x261ff9['z'],_0x89d6f1=_0x261ff9['w'];return this['x']=_0x40ea4c*_0x28060c+_0x5afc0a*_0x89d6f1+_0x14f698*_0x22db68-_0x2767c7*_0x3454ba,this['y']=_0x40ea4c*_0x3454ba+_0x14f698*_0x89d6f1+_0x2767c7*_0x28060c-_0x5afc0a*_0x22db68,this['z']=_0x40ea4c*_0x22db68+_0x2767c7*_0x89d6f1+_0x5afc0a*_0x3454ba-_0x14f698*_0x28060c,this['w']=_0x40ea4c*_0x89d6f1-_0x5afc0a*_0x28060c-_0x14f698*_0x3454ba-_0x2767c7*_0x22db68,this;}['normalize'](_0x58994d=this){let _0x1a6394=_0x58994d['length']();return _0x1a6394===-0x201f+0x1b5a+0x1*0x4c5?(this['x']=this['y']=this['z']=-0x1*0x2147+0x1ae5+-0x331*-0x2,this['w']=0xa6c+-0xe*0x174+0x9ed):(_0x1a6394=(-0x3d*-0x19+-0xd06+0x712)/_0x1a6394,this['x']=_0x58994d['x']*_0x1a6394,this['y']=_0x58994d['y']*_0x1a6394,this['z']=_0x58994d['z']*_0x1a6394,this['w']=_0x58994d['w']*_0x1a6394),this;}['set'](_0x125a1c,_0x2b4502,_0x50fe09,_0x9eb136){return this['x']=_0x125a1c,this['y']=_0x2b4502,this['z']=_0x50fe09,this['w']=_0x9eb136,this;}['setFromAxi'+'sAngle'](_0x2914cc,_0x3f9839){_0x3f9839*=(-0x2067+0x1afe+0x569+0.5)*Y['DEG_TO_RAD'];const _0xea8284=Math['sin'](_0x3f9839),_0x35094a=Math['cos'](_0x3f9839);return this['x']=_0xea8284*_0x2914cc['x'],this['y']=_0xea8284*_0x2914cc['y'],this['z']=_0xea8284*_0x2914cc['z'],this['w']=_0x35094a,this;}['setFromEul'+'erAngles'](_0x92acd7,_0x5084ee,_0x3ae80d){if(_0x92acd7 instanceof D){const _0x4cc4d1=_0x92acd7;_0x92acd7=_0x4cc4d1['x'],_0x5084ee=_0x4cc4d1['y'],_0x3ae80d=_0x4cc4d1['z'];}const _0x4b83e9=(0x24a*-0xd+-0xe4e+0x2c10+0.5)*Y['DEG_TO_RAD'];_0x92acd7*=_0x4b83e9,_0x5084ee*=_0x4b83e9,_0x3ae80d*=_0x4b83e9;const _0x4468af=Math['sin'](_0x92acd7),_0x3278b4=Math['cos'](_0x92acd7),_0x6abeb0=Math['sin'](_0x5084ee),_0x450d60=Math['cos'](_0x5084ee),_0xf3cb97=Math['sin'](_0x3ae80d),_0x50518b=Math['cos'](_0x3ae80d);return this['x']=_0x4468af*_0x450d60*_0x50518b-_0x3278b4*_0x6abeb0*_0xf3cb97,this['y']=_0x3278b4*_0x6abeb0*_0x50518b+_0x4468af*_0x450d60*_0xf3cb97,this['z']=_0x3278b4*_0x450d60*_0xf3cb97-_0x4468af*_0x6abeb0*_0x50518b,this['w']=_0x3278b4*_0x450d60*_0x50518b+_0x4468af*_0x6abeb0*_0xf3cb97,this;}['setFromMat'+'4'](_0x3d678f){const _0x23747f=_0x3d678f['data'];let _0x42a807=_0x23747f[-0xa12+0x4d8+0x53a],_0x163102=_0x23747f[0xd88+-0x1c4b*0x1+-0x4*-0x3b1],_0x281ba5=_0x23747f[-0x1563*-0x1+0x1*0x19f+0x2e*-0x80],_0x3112f8=_0x23747f[-0x1adf+0xa2*-0x3+0x1cc9],_0x41fc1a=_0x23747f[-0x1dfa*-0x1+0x1128+-0x2f1d*0x1],_0x2c8f81=_0x23747f[0x11ce+0x742*0x3+-0x278e],_0x57cf74=_0x23747f[0x1b2d+-0x9*0x303+-0xa],_0x2f4976=_0x23747f[0xb7*-0x17+0x4*0x515+-0x3da],_0x1b98dd=_0x23747f[-0x772*0x5+-0x971*-0x4+-0x80],_0x5d0bd6;return _0x5d0bd6=_0x42a807*_0x42a807+_0x163102*_0x163102+_0x281ba5*_0x281ba5,_0x5d0bd6===0x195c*0x1+-0x2*0x114b+-0x2*-0x49d?this['set'](0x699*-0x3+-0x26ef+-0x1*-0x3aba,0x4*-0x7f1+0xde7*-0x1+0x2dab,-0x253a*-0x1+0x1e4f*-0x1+-0x6eb,0xe75+-0x11be+0x34a):(_0x5d0bd6=(0xc0+0x1937+0x2*-0xcfb)/Math['sqrt'](_0x5d0bd6),_0x42a807*=_0x5d0bd6,_0x163102*=_0x5d0bd6,_0x281ba5*=_0x5d0bd6,_0x5d0bd6=_0x3112f8*_0x3112f8+_0x41fc1a*_0x41fc1a+_0x2c8f81*_0x2c8f81,_0x5d0bd6===-0xf7*-0x13+0x231e*0x1+0x3*-0x11d1?this['set'](0x1d11+0x213f*0x1+0x1f28*-0x2,0x1*-0x3c5+0x243a+-0x2075,-0x4*-0x862+-0x1*0xd05+-0x1483*0x1,0x2643+0x904+-0x6*0x7e1):(_0x5d0bd6=(0x2*-0x116d+-0x628+0x2903)/Math['sqrt'](_0x5d0bd6),_0x3112f8*=_0x5d0bd6,_0x41fc1a*=_0x5d0bd6,_0x2c8f81*=_0x5d0bd6,_0x5d0bd6=_0x57cf74*_0x57cf74+_0x2f4976*_0x2f4976+_0x1b98dd*_0x1b98dd,_0x5d0bd6===0x26c3*0x1+0x112*0x6+-0x2d2f?this['set'](-0x1874+0x3*-0x749+0x2e4f,0x21fb*-0x1+0xb*-0x234+0x3a37,-0x7a5+-0x1*0x170e+0x1eb3,0x251*0x1+0x5*-0x39b+0x53d*0x3):(_0x5d0bd6=(-0x1c33+0x1e59*0x1+0x9*-0x3d)/Math['sqrt'](_0x5d0bd6),_0x57cf74*=_0x5d0bd6,_0x2f4976*=_0x5d0bd6,_0x1b98dd*=_0x5d0bd6,_0x1b98dd<-0x10de+-0x4fb+0x15d9?_0x42a807>_0x41fc1a?this['set'](-0xd*0xe9+0x79d*-0x5+-0x721*-0x7+_0x42a807-_0x41fc1a-_0x1b98dd,_0x163102+_0x3112f8,_0x57cf74+_0x281ba5,_0x2c8f81-_0x2f4976):this['set'](_0x163102+_0x3112f8,0x3*-0x95f+0x1ad6+0x148-_0x42a807+_0x41fc1a-_0x1b98dd,_0x2c8f81+_0x2f4976,_0x57cf74-_0x281ba5):_0x42a807<-_0x41fc1a?this['set'](_0x57cf74+_0x281ba5,_0x2c8f81+_0x2f4976,0x25a9+0x1c50+-0x41f8-_0x42a807-_0x41fc1a+_0x1b98dd,_0x163102-_0x3112f8):this['set'](_0x2c8f81-_0x2f4976,_0x57cf74-_0x281ba5,_0x163102-_0x3112f8,-0x1*0x13c6+0x2*-0xaea+0x1*0x299b+_0x42a807+_0x41fc1a+_0x1b98dd),this['mulScalar']((-0xe09+-0x2c*0x16+0x11d2)/this['length']()))));}['setFromDir'+'ections'](_0x1d43b4,_0x50f232){const _0x42e378=-0x1905+-0x3*-0x559+0x8fb+_0x1d43b4['dot'](_0x50f232);return _0x42e378<Number['EPSILON']?Math['abs'](_0x1d43b4['x'])>Math['abs'](_0x1d43b4['y'])?(this['x']=-_0x1d43b4['z'],this['y']=0x2*0xa53+-0x1d58+0x8b2,this['z']=_0x1d43b4['x'],this['w']=0xcc8+0x1577+-0x1*0x223f):(this['x']=-0x1*0x11c4+0x1*-0x13cf+0x2593,this['y']=-_0x1d43b4['z'],this['z']=_0x1d43b4['y'],this['w']=0x70*0x4a+-0x1*-0x1abf+-0xf*0x3f1):(this['x']=_0x1d43b4['y']*_0x50f232['z']-_0x1d43b4['z']*_0x50f232['y'],this['y']=_0x1d43b4['z']*_0x50f232['x']-_0x1d43b4['x']*_0x50f232['z'],this['z']=_0x1d43b4['x']*_0x50f232['y']-_0x1d43b4['y']*_0x50f232['x'],this['w']=_0x42e378),this['normalize']();}['slerp'](_0x3551a3,_0x3dd0fc,_0x30d0dc){const _0x5599d0=_0x3551a3['x'],_0x19b957=_0x3551a3['y'],_0x8be8e4=_0x3551a3['z'],_0x2a0710=_0x3551a3['w'];let _0x54f7f4=_0x3dd0fc['x'],_0x3cb2ec=_0x3dd0fc['y'],_0x261bab=_0x3dd0fc['z'],_0x32c928=_0x3dd0fc['w'],_0x3c6707=_0x2a0710*_0x32c928+_0x5599d0*_0x54f7f4+_0x19b957*_0x3cb2ec+_0x8be8e4*_0x261bab;if(_0x3c6707<-0x8bb+0xbb3+-0x2f8&&(_0x32c928=-_0x32c928,_0x54f7f4=-_0x54f7f4,_0x3cb2ec=-_0x3cb2ec,_0x261bab=-_0x261bab,_0x3c6707=-_0x3c6707),Math['abs'](_0x3c6707)>=0xb7a+0x1b9b*0x1+0x2714*-0x1)return this['w']=_0x2a0710,this['x']=_0x5599d0,this['y']=_0x19b957,this['z']=_0x8be8e4,this;const _0x5ec568=Math['acos'](_0x3c6707),_0x19a89c=Math['sqrt'](0x1c1a+0x41*-0x95+0x9bc-_0x3c6707*_0x3c6707);if(Math['abs'](_0x19a89c)<-0xc21*0x3+0x2315*0x1+0x14e+0.001)return this['w']=_0x2a0710*(-0x2429+-0xaa3+0x2ecc+0.5)+_0x32c928*(0x44+0x1f65+-0x1fa9+0.5),this['x']=_0x5599d0*(-0x1e4f+0x184d+0x602+0.5)+_0x54f7f4*(-0x21cc+-0x2*-0xa33+0xd66+0.5),this['y']=_0x19b957*(0x16fc+0x40*0x45+-0x283c+0.5)+_0x3cb2ec*(0x189*0x12+0x2*0xffd+-0x6d*0x8c+0.5),this['z']=_0x8be8e4*(-0x35f*-0xb+0x2637+-0x4f*0xf4+0.5)+_0x261bab*(0x32*-0x65+-0x109e+0x2*0x122c+0.5),this;const _0x1b0845=Math['sin']((0x23d4+-0x190f+0x1a*-0x6a-_0x30d0dc)*_0x5ec568)/_0x19a89c,_0x34a28c=Math['sin'](_0x30d0dc*_0x5ec568)/_0x19a89c;return this['w']=_0x2a0710*_0x1b0845+_0x32c928*_0x34a28c,this['x']=_0x5599d0*_0x1b0845+_0x54f7f4*_0x34a28c,this['y']=_0x19b957*_0x1b0845+_0x3cb2ec*_0x34a28c,this['z']=_0x8be8e4*_0x1b0845+_0x261bab*_0x34a28c,this;}['transformV'+'ector'](_0x13bbfe,_0x3fa3ac=new D()){const _0xb8530c=_0x13bbfe['x'],_0x24a99d=_0x13bbfe['y'],_0x1bc62e=_0x13bbfe['z'],_0x16d313=this['x'],_0x5ddf3f=this['y'],_0x4c362a=this['z'],_0x47a591=this['w'],_0x1b62c4=_0x47a591*_0xb8530c+_0x5ddf3f*_0x1bc62e-_0x4c362a*_0x24a99d,_0x931944=_0x47a591*_0x24a99d+_0x4c362a*_0xb8530c-_0x16d313*_0x1bc62e,_0x157bdc=_0x47a591*_0x1bc62e+_0x16d313*_0x24a99d-_0x5ddf3f*_0xb8530c,_0x4f6651=-_0x16d313*_0xb8530c-_0x5ddf3f*_0x24a99d-_0x4c362a*_0x1bc62e;return _0x3fa3ac['x']=_0x1b62c4*_0x47a591+_0x4f6651*-_0x16d313+_0x931944*-_0x4c362a-_0x157bdc*-_0x5ddf3f,_0x3fa3ac['y']=_0x931944*_0x47a591+_0x4f6651*-_0x5ddf3f+_0x157bdc*-_0x16d313-_0x1b62c4*-_0x4c362a,_0x3fa3ac['z']=_0x157bdc*_0x47a591+_0x4f6651*-_0x4c362a+_0x1b62c4*-_0x5ddf3f-_0x931944*-_0x16d313,_0x3fa3ac;}['fromArray'](_0x28370d,_0x20d0d4=0x10*0x18d+0xee1+-0x27b1){return this['x']=_0x28370d[_0x20d0d4]??this['x'],this['y']=_0x28370d[_0x20d0d4+(0x168b*-0x1+0xc15+-0x37d*-0x3)]??this['y'],this['z']=_0x28370d[_0x20d0d4+(0x3aa*0x1+-0x16fc*-0x1+0x554*-0x5)]??this['z'],this['w']=_0x28370d[_0x20d0d4+(0x2*0x6b1+-0x1251+0x3*0x1a6)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4e4920=[],_0x414711=0x1b3+-0x9*-0x26e+-0x1791){return _0x4e4920[_0x414711]=this['x'],_0x4e4920[_0x414711+(-0x5*0x546+-0x8f3*-0x1+0x116c*0x1)]=this['y'],_0x4e4920[_0x414711+(-0xbba+0xf0*0xf+0x4*-0x95)]=this['z'],_0x4e4920[_0x414711+(-0x1bba+-0x1*-0xb73+0x104a)]=this['w'],_0x4e4920;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0x13*0x3+-0x369+-0x3e*-0xf,0x120a+-0x30b+-0xeff,-0x1120+0x183b+0x71b*-0x1,0x864+-0x1569+0x683*0x2))),h(Sn,'ZERO',Object['freeze'](new Sn(0x1753+-0xf9e+0x1*-0x7b5,-0x26e7*-0x1+-0x2236+-0x1*0x4b1,0x1a72+-0x18de+-0x194,-0x1645+0x26*-0xf5+0x3aa3)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x42a697,_0x1c12a8){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x60a+-0x3c*0x6e+0xe*0x169+0.5,0xebf+-0xb*0x2b+-0xce6+0.5,0xcad+-0x65*0x5+0x4*-0x2ad+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x42a697&&this['center']['copy'](_0x42a697),_0x1c12a8&&this['halfExtent'+'s']['copy'](_0x1c12a8));}['add'](_0x29e2e0){const _0x4469fd=this['center'],_0x2973fa=_0x4469fd['x'],_0x4678e8=_0x4469fd['y'],_0x48d79f=_0x4469fd['z'],_0x3e1cde=this['halfExtent'+'s'],_0x475371=_0x3e1cde['x'],_0x1b86cf=_0x3e1cde['y'],_0x44b4d5=_0x3e1cde['z'];let _0x54adf1=_0x2973fa-_0x475371,_0x1ff53a=_0x2973fa+_0x475371,_0x2c14c7=_0x4678e8-_0x1b86cf,_0x5d60bb=_0x4678e8+_0x1b86cf,_0xb1fab1=_0x48d79f-_0x44b4d5,_0x39c30f=_0x48d79f+_0x44b4d5;const _0x171ba7=_0x29e2e0['center'],_0xc59b95=_0x171ba7['x'],_0x3b7b1b=_0x171ba7['y'],_0x2f08f0=_0x171ba7['z'],_0x342669=_0x29e2e0['halfExtent'+'s'],_0x25971e=_0x342669['x'],_0x1960b1=_0x342669['y'],_0x11035f=_0x342669['z'],_0x2d08b6=_0xc59b95-_0x25971e,_0x209e7b=_0xc59b95+_0x25971e,_0x111c6c=_0x3b7b1b-_0x1960b1,_0xdfc03c=_0x3b7b1b+_0x1960b1,_0x3ca93f=_0x2f08f0-_0x11035f,_0x57c88e=_0x2f08f0+_0x11035f;_0x2d08b6<_0x54adf1&&(_0x54adf1=_0x2d08b6),_0x209e7b>_0x1ff53a&&(_0x1ff53a=_0x209e7b),_0x111c6c<_0x2c14c7&&(_0x2c14c7=_0x111c6c),_0xdfc03c>_0x5d60bb&&(_0x5d60bb=_0xdfc03c),_0x3ca93f<_0xb1fab1&&(_0xb1fab1=_0x3ca93f),_0x57c88e>_0x39c30f&&(_0x39c30f=_0x57c88e),_0x4469fd['x']=(_0x54adf1+_0x1ff53a)*(0x1e4d+0xa9c*-0x1+-0x13b1+0.5),_0x4469fd['y']=(_0x2c14c7+_0x5d60bb)*(-0x1c4f+-0x18e+0x1ddd+0.5),_0x4469fd['z']=(_0xb1fab1+_0x39c30f)*(-0x2243+-0xa*0x1f1+0x35ad+0.5),_0x3e1cde['x']=(_0x1ff53a-_0x54adf1)*(-0x37*-0x95+0x268a+-0x468d+0.5),_0x3e1cde['y']=(_0x5d60bb-_0x2c14c7)*(-0x3a*0x35+0x16b+0xa97*0x1+0.5),_0x3e1cde['z']=(_0x39c30f-_0xb1fab1)*(0x13b1+0x1*-0x1eeb+0x3*0x3be+0.5);}['copy'](_0x398c9e){this['center']['copy'](_0x398c9e['center']),this['halfExtent'+'s']['copy'](_0x398c9e['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x17a3ab){const _0x4b47a4=this['getMax'](),_0x325b21=this['getMin'](),_0x3fc842=_0x17a3ab['getMax'](),_0x506b40=_0x17a3ab['getMin']();return _0x325b21['x']<=_0x3fc842['x']&&_0x4b47a4['x']>=_0x506b40['x']&&_0x325b21['y']<=_0x3fc842['y']&&_0x4b47a4['y']>=_0x506b40['y']&&_0x325b21['z']<=_0x3fc842['z']&&_0x4b47a4['z']>=_0x506b40['z'];}['_intersect'+'sRay'](_0x537ea3,_0x7fe6bc){const _0x33c246=Pa['copy'](this['getMin']())['sub'](_0x537ea3['origin']),_0x492e11=Ma['copy'](this['getMax']())['sub'](_0x537ea3['origin']),_0x3d0691=_0x537ea3['direction'];_0x3d0691['x']===-0xd49+0xe33+0x3*-0x4e?(_0x33c246['x']=_0x33c246['x']<-0x706+0x83*0x2+-0x1*-0x600?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x492e11['x']=_0x492e11['x']<0x9b3*0x3+-0x742*-0x5+-0x371*0x13?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x33c246['x']/=_0x3d0691['x'],_0x492e11['x']/=_0x3d0691['x']),_0x3d0691['y']===-0x1996+-0x7ab+0x1*0x2141?(_0x33c246['y']=_0x33c246['y']<-0x66d+-0x414+0xa81?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x492e11['y']=_0x492e11['y']<-0xb1*-0x11+-0x1*0x175d+0x2e7*0x4?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x33c246['y']/=_0x3d0691['y'],_0x492e11['y']/=_0x3d0691['y']),_0x3d0691['z']===-0x26d8+-0x235*-0x1+0x24a3?(_0x33c246['z']=_0x33c246['z']<-0xa3*0x1+0x43f+0x2*-0x1ce?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x492e11['z']=_0x492e11['z']<0x24ba+-0x2082+-0x438?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x33c246['z']/=_0x3d0691['z'],_0x492e11['z']/=_0x3d0691['z']);const _0x428063=Um['set'](Math['min'](_0x33c246['x'],_0x492e11['x']),Math['min'](_0x33c246['y'],_0x492e11['y']),Math['min'](_0x33c246['z'],_0x492e11['z'])),_0x428d0e=Bm['set'](Math['max'](_0x33c246['x'],_0x492e11['x']),Math['max'](_0x33c246['y'],_0x492e11['y']),Math['max'](_0x33c246['z'],_0x492e11['z'])),_0x5169c4=Math['min'](Math['min'](_0x428d0e['x'],_0x428d0e['y']),_0x428d0e['z']),_0x4c6601=Math['max'](Math['max'](_0x428063['x'],_0x428063['y']),_0x428063['z']),_0xfde03b=_0x5169c4>=_0x4c6601&&_0x4c6601>=-0x1*0xbba+-0x12c3*0x1+0x7*0x45b;return _0xfde03b&&_0x7fe6bc['copy'](_0x537ea3['direction'])['mulScalar'](_0x4c6601)['add'](_0x537ea3['origin']),_0xfde03b;}['_fastInter'+'sectsRay'](_0x3f73b4){const _0x3b9e6b=Pa,_0x12a05c=Ma,_0x29d286=Um,_0x3363a9=Bm,_0x411fd2=gx,_0x44fc91=_0x3f73b4['direction'];return _0x3b9e6b['sub2'](_0x3f73b4['origin'],this['center']),_0x3363a9['set'](Math['abs'](_0x3b9e6b['x']),Math['abs'](_0x3b9e6b['y']),Math['abs'](_0x3b9e6b['z'])),_0x29d286['mul2'](_0x3b9e6b,_0x44fc91),!(_0x3363a9['x']>this['halfExtent'+'s']['x']&&_0x29d286['x']>=-0x18b2+0x9b0+-0x11*-0xe2||_0x3363a9['y']>this['halfExtent'+'s']['y']&&_0x29d286['y']>=-0x1b12+0xf44*0x1+0xbce||_0x3363a9['z']>this['halfExtent'+'s']['z']&&_0x29d286['z']>=-0x49*0x4f+0x7*-0x20b+0x2*0x126a||(_0x411fd2['set'](Math['abs'](_0x44fc91['x']),Math['abs'](_0x44fc91['y']),Math['abs'](_0x44fc91['z'])),_0x12a05c['cross'](_0x44fc91,_0x3b9e6b),_0x12a05c['set'](Math['abs'](_0x12a05c['x']),Math['abs'](_0x12a05c['y']),Math['abs'](_0x12a05c['z'])),_0x12a05c['x']>this['halfExtent'+'s']['y']*_0x411fd2['z']+this['halfExtent'+'s']['z']*_0x411fd2['y'])||_0x12a05c['y']>this['halfExtent'+'s']['x']*_0x411fd2['z']+this['halfExtent'+'s']['z']*_0x411fd2['x']||_0x12a05c['z']>this['halfExtent'+'s']['x']*_0x411fd2['y']+this['halfExtent'+'s']['y']*_0x411fd2['x']);}['intersects'+'Ray'](_0x4fdc40,_0x3856cd){return _0x3856cd?this['_intersect'+'sRay'](_0x4fdc40,_0x3856cd):this['_fastInter'+'sectsRay'](_0x4fdc40);}['setMinMax'](_0x380194,_0x3a40af){this['center']['add2'](_0x3a40af,_0x380194)['mulScalar'](-0x1ff1+-0x1d79*0x1+-0x2*-0x1eb5+0.5),this['halfExtent'+'s']['sub2'](_0x3a40af,_0x380194)['mulScalar'](0x1*0x1ba6+-0xae9+-0x359*0x5+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x53f171){const _0x1a1ed7=this['getMin'](),_0x55eec6=this['getMax']();return!(_0x53f171['x']<_0x1a1ed7['x']||_0x53f171['x']>_0x55eec6['x']||_0x53f171['y']<_0x1a1ed7['y']||_0x53f171['y']>_0x55eec6['y']||_0x53f171['z']<_0x1a1ed7['z']||_0x53f171['z']>_0x55eec6['z']);}['setFromTra'+'nsformedAa'+'bb'](_0xde949c,_0x51fc83,_0x5257e0=!(0x25c+-0x31*-0x15+0x6*-0x110)){const _0x17633d=_0xde949c['center'],_0x168ef7=_0xde949c['halfExtent'+'s'],_0x304ccd=_0x51fc83['data'];let _0x1055fd=_0x304ccd[0x1051*-0x2+0x21f1*-0x1+0x17*0x2e5],_0x161b73=_0x304ccd[0x3e2+0x1fde+-0x23bc],_0x310a5d=_0x304ccd[0x1b*-0x99+0xa57+-0x175*-0x4],_0x1e8129=_0x304ccd[-0x3*-0xb99+0x1f75+0x3*-0x1615],_0x47fb2b=_0x304ccd[-0x1dc*-0x8+-0x210d+-0x89*-0x22],_0x330485=_0x304ccd[0x256d+0x1b50+-0x40b4],_0x5d73ad=_0x304ccd[-0xeb3*0x2+-0x24*0x1c+0x2158],_0x2a8300=_0x304ccd[-0x97f*0x3+0xc97*0x1+-0x2*-0x7f6],_0x47a22f=_0x304ccd[-0x2*0x1111+0x1f6a+-0x2c2*-0x1];if(_0x5257e0){let _0x8597aa=_0x1055fd*_0x1055fd+_0x161b73*_0x161b73+_0x310a5d*_0x310a5d;if(_0x8597aa>-0x1*0x93a+0x3f3*0x1+-0x547*-0x1){const _0x18d6d9=(-0x1237*-0x2+0x1689+0x3af6*-0x1)/Math['sqrt'](_0x8597aa);_0x1055fd*=_0x18d6d9,_0x161b73*=_0x18d6d9,_0x310a5d*=_0x18d6d9;}if(_0x8597aa=_0x1e8129*_0x1e8129+_0x47fb2b*_0x47fb2b+_0x330485*_0x330485,_0x8597aa>0x20*-0x36+0x17*0x11+0x539){const _0x3d2bcf=(-0x13*-0x119+0x1d78+-0x6*0x863)/Math['sqrt'](_0x8597aa);_0x1e8129*=_0x3d2bcf,_0x47fb2b*=_0x3d2bcf,_0x330485*=_0x3d2bcf;}if(_0x8597aa=_0x5d73ad*_0x5d73ad+_0x2a8300*_0x2a8300+_0x47a22f*_0x47a22f,_0x8597aa>0x4*0x40c+-0x4*-0x616+0x2888*-0x1){const _0x5f17c8=(-0xcdf+0x4*0xa4+-0x37*-0x30)/Math['sqrt'](_0x8597aa);_0x5d73ad*=_0x5f17c8,_0x2a8300*=_0x5f17c8,_0x47a22f*=_0x5f17c8;}}this['center']['set'](_0x304ccd[-0x4*0x5cc+-0x2cc*-0x4+0xc0c*0x1]+_0x1055fd*_0x17633d['x']+_0x161b73*_0x17633d['y']+_0x310a5d*_0x17633d['z'],_0x304ccd[0x1455+-0x8d+0x1*-0x13bb]+_0x1e8129*_0x17633d['x']+_0x47fb2b*_0x17633d['y']+_0x330485*_0x17633d['z'],_0x304ccd[-0x96b*-0x1+-0x842+0x11b*-0x1]+_0x5d73ad*_0x17633d['x']+_0x2a8300*_0x17633d['y']+_0x47a22f*_0x17633d['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x1055fd)*_0x168ef7['x']+Math['abs'](_0x161b73)*_0x168ef7['y']+Math['abs'](_0x310a5d)*_0x168ef7['z'],Math['abs'](_0x1e8129)*_0x168ef7['x']+Math['abs'](_0x47fb2b)*_0x168ef7['y']+Math['abs'](_0x330485)*_0x168ef7['z'],Math['abs'](_0x5d73ad)*_0x168ef7['x']+Math['abs'](_0x2a8300)*_0x168ef7['y']+Math['abs'](_0x47a22f)*_0x168ef7['z']);}static['computeMin'+'Max'](_0x182df1,_0x5ba2d7,_0x47100e,_0x4d0f60=_0x182df1['length']/(0x2*0x521+-0x5*-0x62f+0xb*-0x3be)){if(_0x4d0f60>-0x210c+0x3*-0xa9+0xbad*0x3){let _0x55394f=_0x182df1[-0x144d*0x1+0x1907+-0x4ba],_0x12a636=_0x182df1[-0x31*-0x81+-0x16*0x19a+0xa8c],_0x2a6c8f=_0x182df1[-0x1999+-0x1*0xc83+0x261e],_0x522818=_0x55394f,_0x4fb931=_0x12a636,_0x4eac5f=_0x2a6c8f;const _0x2c4879=_0x4d0f60*(-0x3e4+-0x1d*-0xce+-0x136f);for(let _0x520a3f=-0x1cf*0xb+-0x1234+0x261c;_0x520a3f<_0x2c4879;_0x520a3f+=-0x62*-0x5c+-0x161*-0x6+-0x2b7b){const _0x53dce1=_0x182df1[_0x520a3f],_0x14500d=_0x182df1[_0x520a3f+(-0x17e0+-0x1a81+0x3262)],_0x185c34=_0x182df1[_0x520a3f+(-0x21*-0x3f+-0x12e3+-0x1*-0xac6)];_0x53dce1<_0x55394f&&(_0x55394f=_0x53dce1),_0x14500d<_0x12a636&&(_0x12a636=_0x14500d),_0x185c34<_0x2a6c8f&&(_0x2a6c8f=_0x185c34),_0x53dce1>_0x522818&&(_0x522818=_0x53dce1),_0x14500d>_0x4fb931&&(_0x4fb931=_0x14500d),_0x185c34>_0x4eac5f&&(_0x4eac5f=_0x185c34);}_0x5ba2d7['set'](_0x55394f,_0x12a636,_0x2a6c8f),_0x47100e['set'](_0x522818,_0x4fb931,_0x4eac5f);}}['compute'](_0x5356d4,_0x5646df){De['computeMin'+'Max'](_0x5356d4,Pa,Ma,_0x5646df),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x10ba90){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x10ba90)<=_0x10ba90['radius']*_0x10ba90['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x642b3f){const _0x442ff3=this['getMin'](),_0x144063=this['getMax']();let _0xdb7ba0=-0x20be+0x27f*0x5+0x1443;const _0x189f6a=['x','y','z'];for(let _0xeb4903=-0x8d1+0x2300+-0x1a2f;_0xeb4903<-0x12f*-0x11+-0x1*0x11c3+0x1*-0x259;++_0xeb4903){let _0x58e9e6=0x444+0x13a*0x16+0x3e8*-0x8;const _0xd80cce=_0x642b3f['center'][_0x189f6a[_0xeb4903]],_0x44109f=_0x442ff3[_0x189f6a[_0xeb4903]],_0x167816=_0x144063[_0x189f6a[_0xeb4903]];let _0x11bd2f=0x3*-0x98e+0x665+0x1645;_0xd80cce<_0x44109f&&(_0x11bd2f=_0x44109f-_0xd80cce,_0x58e9e6+=_0x11bd2f*_0x11bd2f),_0xd80cce>_0x167816&&(_0x11bd2f=_0xd80cce-_0x167816,_0x58e9e6+=_0x11bd2f*_0x11bd2f),_0xdb7ba0+=_0x58e9e6;}return _0xdb7ba0;}['_expand'](_0x564bd7,_0x26cff0){Pa['add2'](this['getMin'](),_0x564bd7),Ma['add2'](this['getMax'](),_0x26cff0),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x4d77d7=new D(),_0x1128f0=0xe05+-0x1*-0xf63+-0x1d68+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x4d77d7),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x4d77d7,this['radius']=_0x1128f0);}['containsPo'+'int'](_0xecdef8){const _0x45ca7b=Wl['sub2'](_0xecdef8,this['center'])['lengthSq'](),_0x4b981d=this['radius'];return _0x45ca7b<_0x4b981d*_0x4b981d;}['intersects'+'Ray'](_0x393bde,_0x4b76f5){const _0x141fb9=Wl['copy'](_0x393bde['origin'])['sub'](this['center']),_0x20d322=_0x141fb9['dot'](Sx['copy'](_0x393bde['direction'])['normalize']()),_0x449180=_0x141fb9['dot'](_0x141fb9)-this['radius']*this['radius'];if(_0x449180>0x23ed*0x1+0x9*0x15d+0x3e*-0xc7&&_0x20d322>0x2265+-0x2*0x770+-0x1385)return!(0x1*0x1e6b+-0x3*0x3cd+-0x1303);const _0x3cffe3=_0x20d322*_0x20d322-_0x449180;if(_0x3cffe3<-0x1*0x2095+0x1852+0x843)return!(-0x4d+0x3*0xbb1+-0x22c5);const _0x10308d=Math['abs'](-_0x20d322-Math['sqrt'](_0x3cffe3));return _0x4b76f5&&_0x4b76f5['copy'](_0x393bde['direction'])['mulScalar'](_0x10308d)['add'](_0x393bde['origin']),!(0x3*-0x411+0xbce+-0x1*-0x65);}['intersects'+'BoundingSp'+'here'](_0x49ef7d){Wl['sub2'](_0x49ef7d['center'],this['center']);const _0x585768=_0x49ef7d['radius']+this['radius'];return Wl['lengthSq']()<=_0x585768*_0x585768;}}class QS{constructor(_0x4d8e48=D['UP'],_0xc4ff0a=-0x1*-0x29+-0x1*-0x1959+-0x1982){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x4d8e48),this['distance']=_0xc4ff0a);}['clone'](){const _0x19abe2=this['constructo'+'r'];return new _0x19abe2()['copy'](this);}['copy'](_0xc5921f){return this['normal']['copy'](_0xc5921f['normal']),this['distance']=_0xc5921f['distance'],this;}['intersects'+'Line'](_0x282fe6,_0x1af930,_0x36e1c0){const _0xfa95a7=this['distance'],_0x4e6769=this['normal']['dot'](_0x282fe6)+_0xfa95a7,_0x21835f=this['normal']['dot'](_0x1af930)+_0xfa95a7,_0x3ac1b7=_0x4e6769/(_0x4e6769-_0x21835f),_0x1708fb=_0x3ac1b7>=-0x278+0xb3*0x35+-0x2297&&_0x3ac1b7<=0x2*0x9b2+-0x14*0x6f+0xd3*-0xd;return _0x1708fb&&_0x36e1c0&&_0x36e1c0['lerp'](_0x282fe6,_0x1af930,_0x3ac1b7),_0x1708fb;}['intersects'+'Ray'](_0x3dc975,_0x3e2f29){const _0x306984=this['normal']['dot'](_0x3dc975['direction']);if(_0x306984===0x685+0x2*-0x79f+0x8b9)return!(0x8f8+-0x1*0xd4b+-0x454*-0x1);const _0x1810e2=-(this['normal']['dot'](_0x3dc975['origin'])+this['distance'])/_0x306984;return _0x1810e2>=-0x1b*-0xf+-0x1132*-0x2+-0x23f9&&_0x3e2f29&&_0x3e2f29['copy'](_0x3dc975['direction'])['mulScalar'](_0x1810e2)['add'](_0x3dc975['origin']),_0x1810e2>=-0x196a*-0x1+-0x1562+-0x6*0xac;}['normalize'](){const _0x307f7d=(0x43*-0xf+-0x2219*-0x1+-0x1e2b)/this['normal']['length']();return this['normal']['mulScalar'](_0x307f7d),this['distance']*=_0x307f7d,this;}['set'](_0x5b41aa,_0x58cd26,_0x1442cb,_0x187725){return this['normal']['set'](_0x5b41aa,_0x58cd26,_0x1442cb),this['distance']=_0x187725,this;}['setFromPoi'+'ntNormal'](_0x1d558f,_0x30b9b2){return this['normal']['copy'](_0x30b9b2),this['distance']=-this['normal']['dot'](_0x1d558f),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x501cbe=0x1dc8+0xb95*-0x2+0x69e*-0x1;_0x501cbe<-0x1*0xa23+-0x1bc6+0x25ef;_0x501cbe++)this['planes'][_0x501cbe]=new QS();}['clone'](){const _0xe85d78=this['constructo'+'r'];return new _0xe85d78()['copy'](this);}['copy'](_0x1c735e){for(let _0x5e540d=0x1cde+-0x914+-0x13ca;_0x5e540d<-0x1bbc+-0x434*-0x5+0x6be;_0x5e540d++)this['planes'][_0x5e540d]['copy'](_0x1c735e['planes'][_0x5e540d]);return this;}['setFromMat'+'4'](_0x1feee2){const [_0x1cf703,_0x1337e4,_0x1d5f20,_0x4fb27c,_0x172d07,_0x140e4d,_0x484c06,_0x4eb15f,_0x31d51b,_0x38b4f1,_0x3cc082,_0x4bc54e,_0x333dfc,_0x1a54ad,_0x46d4bd,_0x19f2c0]=_0x1feee2['data'],_0x256ed1=this['planes'];_0x256ed1[-0x1643*0x1+-0x790*0x5+0x3c13]['set'](_0x4fb27c-_0x1cf703,_0x4eb15f-_0x172d07,_0x4bc54e-_0x31d51b,_0x19f2c0-_0x333dfc)['normalize'](),_0x256ed1[0x295*-0xe+0xe8d+0x159a]['set'](_0x4fb27c+_0x1cf703,_0x4eb15f+_0x172d07,_0x4bc54e+_0x31d51b,_0x19f2c0+_0x333dfc)['normalize'](),_0x256ed1[-0x1a1+0xc63+0x4*-0x2b0]['set'](_0x4fb27c+_0x1337e4,_0x4eb15f+_0x140e4d,_0x4bc54e+_0x38b4f1,_0x19f2c0+_0x1a54ad)['normalize'](),_0x256ed1[-0x1da4+0x1*0x1953+0x454]['set'](_0x4fb27c-_0x1337e4,_0x4eb15f-_0x140e4d,_0x4bc54e-_0x38b4f1,_0x19f2c0-_0x1a54ad)['normalize'](),_0x256ed1[-0x525*0x3+0x4*-0x35e+-0x1ceb*-0x1]['set'](_0x4fb27c-_0x1d5f20,_0x4eb15f-_0x484c06,_0x4bc54e-_0x3cc082,_0x19f2c0-_0x46d4bd)['normalize'](),_0x256ed1[-0xea7*-0x1+0xc1*0x25+-0x2a87]['set'](_0x4fb27c+_0x1d5f20,_0x4eb15f+_0x484c06,_0x4bc54e+_0x3cc082,_0x19f2c0+_0x46d4bd)['normalize']();}['containsPo'+'int'](_0x3f2bc8){for(let _0x1f30d4=0x7*-0x85+0xc64*-0x1+0x1007;_0x1f30d4<0x2*-0x11c0+-0x8c4+0x2c4a;_0x1f30d4++){const {normal:_0x48d570,distance:_0xb43f2e}=this['planes'][_0x1f30d4];if(_0x48d570['dot'](_0x3f2bc8)+_0xb43f2e<=-0x227f*-0x1+0x891*-0x1+0xcf7*-0x2)return!(-0xcc*0x22+-0x1526+-0x45*-0xb3);}return!(0x1*-0x1aab+-0xcc2+-0x1*-0x276d);}['containsSp'+'here'](_0x29cdca){const {center:_0x2b321c,radius:_0x42bc49}=_0x29cdca;let _0xc7789d=-0xc60*-0x3+0x1*-0x6+0x1*-0x251a;for(let _0x1ae196=0x22e1+-0x13*0x209+-0x1e5*-0x2;_0x1ae196<-0xd99+-0x1*-0x2027+-0x1288;_0x1ae196++){const {normal:_0xf2f31a,distance:_0x1a13b0}=this['planes'][_0x1ae196],_0x8e422c=_0xf2f31a['dot'](_0x2b321c)+_0x1a13b0;if(_0x8e422c<=-_0x42bc49)return-0x18e4+0xc9f+-0x3*-0x417;_0x8e422c>_0x42bc49&&_0xc7789d++;}return _0xc7789d===-0xf0e+-0x1a12+0x2*0x1493?0x2*0xcad+0x5*0x1ff+-0x2353:-0x9f8+0x349*0x3+0x1e;}}class Dn{constructor(_0x2e5d4,_0xdcf5cb){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x2e5d4&&this['origin']['copy'](_0x2e5d4),_0xdcf5cb&&this['direction']['copy'](_0xdcf5cb));}['set'](_0x563197,_0x2a7e9a){return this['origin']['copy'](_0x563197),this['direction']['copy'](_0x2a7e9a),this;}['copy'](_0x49afc8){return this['set'](_0x49afc8['origin'],_0x49afc8['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0x22b3+-0xfa+-0x21b9,ue=0x2190+0x1c75+0x1*-0x3e04,ip=0x2641*0x1+-0x193*-0x9+-0x346a,rp=-0x12bb+-0xc71+0xa*0x31e,Ft=0x1190+-0x469*0x6+0x2b*0x35,vx=0xb8c+0x577*0x7+-0x31cb,JS=-0xd55*0x1+-0x3*0x1c1+-0x6*-0x31a,xx=-0x6eb+-0x1*-0x23e1+-0x1cf1,jh=-0x16ca+0xdb9*0x1+0x917,Yh=0x1f3*0x8+-0x176a+0x7da,fs=0x2b*-0x5+0x22ae*-0x1+0x2385,Tx=0x33*0xc+0x4*-0x401+0xda2,wx=0x18ea+0xdfd+-0x4*0x9b9,Ex=0x10*-0x24c+-0xccb*0x1+0x318f,ms=-0x1621+0x1de8+-0x7c7,lh=0x1*-0x1382+0x4*-0x772+0x314b*0x1,ey=-0x786+0x316+-0x472*-0x1,bx=0x4b*-0x49+0x119c+0x3ca,jo=0x8b4+-0x21f+-0x694,Yo=-0xb09*0x3+0x1236+0xee7,ch=0x6ea+0xb*-0x2ce+-0x92*-0x2a,bt=0x39*-0x2a+-0x261e+0x2f78,pa=0x6c3+0x333+0x9f5*-0x1,Fo=-0x444*0x1+0x2c5*0x3+0x409*-0x1,Ax=0x3e+-0x2642+-0x127*-0x21,Te=-0xbf2*-0x1+-0x76e+-0x484,vt=0x1974+0x1e*0x2e+-0x5*0x62b,Kh=0x1666+-0x9*-0x26b+0x7f*-0x59,Zh=0x1fe1+-0x1*-0x17f3+-0x21*0x1b1,Qh=0xc2f*0x2+0x9c3+-0x3*0xb5f,ma=-0x1999+0x1*-0xda1+0x3*0xd15,Cx=0x122d+-0xf09+-0x324,hh=-0x234e+0x5*-0x73a+0x4771,dh=0x54f+-0x1*0xd42+0x7f5,Wf=0x1604*0x1+-0x15*0x1db+0x10f6,Px=0x6*-0xdc+-0x1b*0x152+0x28d2,Mx=0xa*-0x22f+0x16d+-0x1*-0x146e,Dx=0xb34+0x2*-0xb2f+0xb30,Wi=-0x9b1*0x3+0x3a5*0x9+-0x3b3,$f=0x1304+-0x658+-0xcac,Yi=0x78b*0x5+0x17fb*0x1+-0x3db1,wr=-0x10da+-0x1*-0xb5d+-0x15*-0x43,ty=0x17*0x82+0x450+-0x2e*0x59,sy=0x187b+0x19*0x15+-0x1a87,ap=-0x20f4+-0x1f45*-0x1+0x1*0x1b1,Jh=-0x1fc7+-0x1*0x97f+0x2949,np=0x1*-0x35a+0x2ae+0xb0,ed=-0xa63*0x2+0x151*0x2+-0x1229*-0x1,Cr=-0x49*0x64+-0xed2+0x1*0x2b5c,Ne=0xf54+-0x4*0x970+0x1673,td=0x10*0xc5+0x212+-0xe5a,op=-0x232*-0xb+-0x1*0x43f+-0x13de,vl=-0x1*0xecb+0x2590+-0x16bb,ui=-0xa03+0x1*0x231e+-0x644*0x4,nt=-0x1254+-0x17*0x12d+-0x67d*-0x7,Ye=-0xaef+0x71*-0x10+0x120c,Xt=0x4b6*0x1+0x9*0x5+0x1*-0x4d5,Ji=-0x45*-0x61+0x1019*0x1+-0x2a2f,$i=-0x2459*0x1+-0x1093+-0x1*-0x34fc,sd=0x3ec*0x2+0xfb+0x13*-0x76,In=-0x121a+-0xfc8+-0x21f4*-0x1,lp=-0x10eb+0xf74+-0x1*-0x18a,_s=-0x26ac+0x26df+-0x1f,id=-0x1a7*0x13+-0x1*0x67c+-0x71*-0x56,cp=-0x1a0+0x1291+-0x1*0x10db,hp=-0x199*0x2+-0x12*0xf3+-0x7*-0x2e9,xl=0x1ad+0x84c+0x3*-0x34b,Tl=-0xe3+0x1b50+-0x2a2*0xa,rd=0x10d1+-0x1a0f+0x958,ad=-0x1fd5+-0x10df+0x23*0x165,iy=0x1d*0x1e+0xf8+-0x442,ry=0x17d2*0x1+0xb27+-0x22dc,ay=-0x1741+-0x11*0x1+0x1770,ny=0xca8+-0x1100+0x477,dp=0x277*-0x6+-0x106*0xa+-0x3a*-0x6f,oy=0x419*0x9+-0x2*-0x643+0xee*-0x35,fp=-0x1*-0x1395+0xfbf+-0x385*0xa,up=-0x1d33+0xc9*0x2e+-0x6c8,pp=0x8*0x420+-0x26*-0xd1+-0x2*0x1ff1,Ki=0x24da+0x139c+-0x3851,mp=0x411*-0x3+0x77a+-0x1*-0x4df,ly=-0x77a+-0x13af+-0x17*-0x130,_p=-0x1af0+0x23d3+-0xf*0x95,gp=-0x11*-0x107+-0xbab+-0x5a3,Sp=0x16f*0x16+0x5*-0x431+-0x7*0x17d,yp=-0x5*0x167+-0x18b8+0x1fe6,vp=0x20cd+0x185+0x2226*-0x1,cy=0x86a+-0x4*-0x778+-0x261d,xp=-0x21e4+0x1413+0x1*0xdff,nd=0x1*0x416+-0x19ad+0x15c6,Tp=0xe3*0x13+-0x19b6+0x90d,Ue=-0x3a*0x9a+0x23c9+-0xb4,od=-0x60*0x43+0x1*-0x22b1+-0x1401*-0x3,wp=-0x11d5+-0x2*-0x742+0x384,Ep=0x13*-0xb0+0xad7+-0x17*-0x1b,bp=-0x1c81*-0x1+0x10e4*-0x1+-0xb68,Xf=0xfac+0x9*0xfb+0x1849*-0x1,qf=-0x49*-0x4d+-0x1808+0x1*0x24a,jf=-0x11*-0x5d+0x2209*0x1+-0x27fe*0x1,Yf=0xc24*0x3+0x822+0x2c51*-0x1,Kf=0x1*0x2291+-0x226+0x1*-0x202d,Zf=0x432+-0x458+0x65,hy=0x882+-0x1*-0x208c+0xd9a*-0x3,dy=0x1*-0x4a9+0x5*0x53f+-0x1551,fy=-0x22c+-0xf5f+0x11cd,uy=0x3a*-0xd+-0xaaf+0x7*0x1fc,Qf=0x2297+0x1f52+-0x5*0xd21,vn=0xe58*-0x2+0xd7*-0x9+0xa4*0x39,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x1b3f*0x1+-0x15db+0x6*-0xe6)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x4*0x830+-0xa*0x102+-0xb56*0x2)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x1*0x11fb+-0x156b+0x2766)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x373*0x3+-0xdd5+0x182e)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x47e*0x8+0x25bf+-0x1cf)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x5c+-0x1aaa*0x1+0x1b06)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x1*-0x1b3a+-0x74b+0x2285)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0xa45+-0x14b0+0x1ef5)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x2309+-0x1*0x94f+-0x19ba)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x1*-0x8b5+-0x2*-0x38b+-0xfcb),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x2b0+0x1019+0x1*-0x12c9),'srgb':!(0x1d*0x63+-0xa*-0x377+-0x2ddd)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x10ac+0x4*-0x6b9+0xa38*0x1),'srgb':!(-0x2185+0x1a0+0x1fe5)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x1*0x31a+-0x1eb*0xc+0x1*0x13ea)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x2419+0x876+0x1ba3*0x1),'srgb':!(-0x81a+0x19e4+-0x11ca)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x25c0+-0x1*-0x6ad+0x1f13),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x421+0x1*-0x22b7+0x26d8),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x10d3*0x1+-0x4*-0x6e8+0x1*-0x2c73),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1ab+-0x1401+0x1256)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x1574+-0x1a9b+0x1*0x300f),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x1*0xbe7+0xc81+-0x9a),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x4*-0x4f6+-0x14*0xf2+-0x18*0xa),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x42b+-0x25b2+0x29dd),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0xd25+0x11ac+-0x1ed1),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x17*0x50+-0x1*-0x1673+-0x1da3),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x8*-0x45b+0x3*0x493+0x3091*-0x1),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x38+-0x173c+0x1704)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x12ee+-0xfa*0x1a+0x2c52)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0xbd+0x23f5+-0x24b2),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x1cd3+-0x9f5*0x2+0x30bd),'srgb':!(-0x15e2+-0x1*-0x910+0xcd2)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1481+-0xa*0x173+-0x1*-0x22ff),'srgb':!(-0xa39*-0x1+0xea6+-0x18df)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x139+0x2*0xab2+-0x1*0x142b),'srgb':!(0x9*0x31d+-0xcdd+-0x4*0x3ca)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x263a+-0x3e5*0x7+0x1*-0xaf7),'srgb':!(0x19c6+-0x21f7+0x831)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1fe5*-0x1+-0x2c7*-0x1+0x1d1e*0x1),'srgb':!(-0x19b1+-0xbfa+-0x1*-0x25ab)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x28*0x6e+0x6af+0x17df*-0x1),'srgb':!(-0x4*0x80b+0x155f+0xacd)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x1a75+0xf8f+-0x117*-0xa),'srgb':!(-0xb97+0x22bd+-0x1726*0x1)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x1f80+0x8b*-0x3a+0x3efe)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x94*-0x17+0x3*-0x275+0x5ed*-0x1)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0xb1d*-0x2+-0x1c*0x38+-0x2*-0xe2d)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x2009+0x320*-0xa+0xc9*-0x1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0x765+-0x20f5+-0x1*-0x1990)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x23*0x115+0x26ff+-0x4cde)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0xec9*-0x1+-0x1d41*0x1+0xe78*0x1)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x2306+-0x2*0x6a7+0x3054)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x2*0x6c6+0x17*0x196+-0x1903*0x2)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x1*-0x8d7+0x5*-0x71f+0x1*0x2c72)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x13f*-0x1c+-0x19c0+0x3c*-0x27)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x1563+0x14f6+0x1*0x6d)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x2415+-0x1a28+-0x9ed)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x125b+0x1bf9+-0x1*0x99e)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x1abe+-0xb88+-0x45*-0x8e)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x38*0x90+0xddc+0x2d5c*-0x1)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x49*-0x6d+0xdaf+0x8b3*0x2)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x726+0x1*-0x783+0x5d*0x1)}]]),Ix=_0x28d711=>{var _0x572f30;return((_0x572f30=Nt['get'](_0x28d711))==null?void(-0x838*0x2+0x21*0x8a+-0x1*0x15a):_0x572f30['blockSize'])!==void(-0x1*-0x13ea+-0x36d+0x57f*-0x3);},fh=_0x489ff1=>{var _0x5e81a6;return((_0x5e81a6=Nt['get'](_0x489ff1))==null?void(0x24e0+-0x15b*-0x18+-0x4568):_0x5e81a6['srgb'])===!(-0x2*0x10d7+0x9e*-0x1+0x224c);},dn=_0x34f448=>{var _0x4387d8;return((_0x4387d8=Nt['get'](_0x34f448))==null?void(-0x102b+-0x1*0x227+0x929*0x2):_0x4387d8['isInt'])===!(-0x552*-0x3+-0x5dd+-0xa19);},ld=_0x55c6bb=>{var _0x2e2ea5;return((_0x2e2ea5=Nt['get'](_0x55c6bb))==null?void(-0xc12+0x12a3+-0x691):_0x2e2ea5['srgbFormat'])||_0x55c6bb;},Lx=_0x1b026a=>{for(const [_0x26bc4a,_0x23117e]of Nt)if(_0x23117e['srgbFormat']===_0x1b026a)return _0x26bc4a;return _0x1b026a;},py=_0x58dc68=>{const _0x7b6f68=Nt['get'](_0x58dc68);return!!(_0x7b6f68!=null&&_0x7b6f68['ldr']&&!(_0x7b6f68!=null&&_0x7b6f68['srgb']));},my=_0x3a2132=>{switch(_0x3a2132){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0xa0c+-0x1*-0x21b9+-0x2bc5,hd=0x227*-0xd+0x1de+0x1a1e,_y=0x19d3+0x1*-0x1522+-0x4af,gy=0x225*0x3+0xf0b+-0x1577,js=0x104d+0x47*0x65+-0x2c4c,Er=0x7*0x306+0x1c11+0x1*-0x3136,oa=0x208b+0x1*0x10d0+-0x49*0xad,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0xfc0+-0x18f4+0x935,xn=-0x1*0x18d1+-0x171b+0x2fec*0x1,kx=0x1000*-0x2+-0x78a+-0x1*-0x278c,Ux=0x150f+0x13*0x4a+-0x1a8a*0x1,Bx=-0x2608+0xc53+0x19ba,$l=-0x19cb+0x27+0x4*0x669,yy=0x25*0x7f+0x5ce+0x60a*-0x4,Od=0x72c+0x2485*-0x1+0x5*0x5df,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x1*-0x866+0xdd*-0x25+0x2858,Pr=-0x17*0x16+0xf15+-0x7*0x1df,vy=0x566*-0x3+-0x3f3+-0xa14*-0x2,xy='2d',zx=-0x899+-0xab1*-0x1+-0x218,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x454*-0x5+0x252d+-0x3ad1,la=0x203e*-0x1+0x1524+0x1*0xb1b,fd=0x1*-0x29f+0x51*0x76+-0x22b5,Ml=0x292+0xa93+-0xd22,Ty=0x261b+0x1*-0xb53+-0x476*0x6,el=-0x696+0xd2e+0xbb*-0x9,Ve=0x1e9*0x11+-0x1677+-0x9fc,Tn=-0x1*0xfcb+0xb4*0x27+0xe5*-0xd,_a=0x11cb+-0x1a0a+0x840,Xs=-0x1e42*0x1+-0x1*-0x1139+0xd0b*0x1,ga=0x4*-0x2cb+-0x76*-0x13+0x26d,ds=-0x1479+-0x505*-0x3+0x56e,Rn=0x1086+0x193f+-0x29c*0x10,ca=0x2266+-0x3*0x39b+-0x25*0xa3,ha=-0x7*-0x51a+-0x1fbb+0x3f4*-0x1,da=-0xacf*0x1+-0x1f6d+0x2a44,tl=-0x2*-0xbd5+0xf4*-0x26+0xc97,sl=-0xf7a*-0x2+-0x219f+0x2b5,il=0x213*-0x11+-0x3*0x45d+-0xd*-0x3b9,_h=0xc*-0x314+-0x1f54+-0x88a*-0x8,On=-0x2*0x4ba+-0xe4e*-0x1+-0x4cd,li=-0x1913+-0xa1b+0x37*0xa4,Hx=0x8b9+0x1*-0xa5d+0x1b3,Wx=0xe*-0xd5+0xd8d+-0x1*0x1d7,ud=-0x1*0xbf0+-0x3*-0x7fb+-0xbf0*0x1,$x=-0x1a1e+0x14b5*0x1+0x57b,Xx=0x5*0x6f7+0x1*0x1ecb+-0x77*0x8d,qx=-0xefd+0x1*-0x1b3b+-0x2a4c*-0x1,pd=-0x2*0x89f+-0x6ff+0x2*0xc29,md=-0x1c5*0x16+0x1747*0x1+0xfbd,Lp=-0x2*-0xdff+0x2421*0x1+-0x4008*0x1,wy=-0x17c3+-0x1*-0x15cf+-0x4*-0x83,jx=-0x8*0x348+-0x1a65+-0x13a*-0x2b,Fn=0x16a*-0x16+0x1058+-0x76f*-0x2,Nn=-0x1b5*-0x1+-0x75b+-0x3*-0x1eb,kn=0x4b9*-0x7+-0x5*0x37d+0x329c,Un=-0xe5*0x13+0x67+-0x149*-0xd,Bn=0x1*-0x879+-0x103*0x1+0x99a,_d=0xa30+0x9*0x153+-0x15fc,gd=-0x2*-0x28d+-0x3e*0x32+-0x1*-0x722,zn=-0x2016+-0x810+0x2847,Sd=0x2*-0x2f6+-0x21f0+0x27fe*0x1,yd=-0x1b*-0xd4+0x2*0xa70+-0x2b19,Vn=0x3*-0xbb1+-0x1dc7+0x40fe,vd=0x1a30+-0x17*-0x4+-0x3*0x8cd,xd=0x34a*0x1+-0x1da1+0x1a7d,gh=-0x1edc+0x3e*-0x87+0x3fb5,Rp=0x1*-0x3c5+0x11*-0x37+0x14*0x61,Op=-0x2527+0x159a+-0xfb6*-0x1,Yx=-0x1ba5+0x25ba+0x9eb*-0x1,Kx=0x4e0*-0x1+-0x2*-0x2ab+-0x1*0x4b,Zx=-0x811+0xc5*-0xb+0x2*0x85a,Qx=0x257*-0x8+-0x5*-0x60e+-0xb61,Jx=0x1aa8+-0x1f1d+-0x4a3*-0x1,eT=-0x175e+-0x21fc+0x3989,tT=0x9d1*-0x1+-0x2107*-0x1+0x1a5*-0xe,sT=-0x7b*-0x13+0x8*0x18a+-0x1540,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x21b3dd,_0x27d73a)=>{_0x21b3dd['forEach'](_0x38a55b=>rT['set'](_0x38a55b,_0x27d73a));});const aT='webgl2',Fp=-0x1*0x833+-0x1b02+0x2336,by=-0x3*0x529+0x139*-0x11+0x2446,nT=-0x2329+-0xae+-0x1*-0x23db,oT='ldr',Ay=-0x9*0xd5+-0x1f56+0x26d4,Cy=-0xc17+-0x5*-0x599+-0xfe4,Py=-0xd6c+0xbe*0x32+-0x17ac,My=-0x5f*-0x2e+-0xd9*-0xe+-0x1ce8,Dy=0x142d+0xab*0x35+-0x3784,Iy=0x2625+0x1be*0x8+-0x33f5,Ly=0x2b8*-0xc+0x1f45*-0x1+0x4025,Ry=0x2085*0x1+-0xc2*-0x27+0x1*-0x3d93,lT=-0x86*-0xc+0x399*-0x5+0xcb4,rl=0x27*-0xa+-0x16ac+0x146*0x13,Oy=0x496*-0x1+-0x1cdf*0x1+0x1*0x2176,su=0x249f+0x4a*0x79+-0x4797,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[0x1c4e+-0x3*0xc89+0x94e,-0x5b*0x51+0x1*-0x271+-0x1f3d*-0x1,0x1*-0x509+0x15e5+0x3*-0x59e,0x117+-0x1a03+-0x1*-0x18ee,-0xcfc+-0x1*0x2009+0x2d09,0xca*-0x25+0x21b1+-0x25*0x1f,-0xd04+0x635*-0x1+0x5*0x3d9,-0x235+-0x767+0x99e],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x1bf*0x14+-0x18a5+0x32*0x131,0x1fd7+-0xf8f+-0x1046,-0x1d41+-0xc0*-0xe+0x12c5*0x1],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0xab2+0x4bf+0x5f3,Le[gs]=-0x4f*-0xd+0x59*-0x3f+-0x3*-0x5f7,Le[gi]=-0x84*-0x30+0x50*0x65+-0x384e,Le[us]=-0x2674+-0x1*0x2665+-0x266e*-0x2,Le[Wt]=-0x1c3d*0x1+-0x1694+0x32d5,Le[is]=0x7f8+0x5a9+0x6ce*-0x2,Le[ba]=-0x151*-0x19+-0x166c+-0x39*0x2f,Le[wl]=0xe87+0x952*0x3+0x5*-0x87e,Le[El]=-0xedf+0x16b7+-0xa*0xc8,Le[bl]=0x1a86+-0x65*0xf+-0x1492,Le[Al]=0xbd9+-0x2*0x12ec+0x1a09,Le[Cl]=0x2*-0x7e5+-0x167e*0x1+-0x1*-0x2653,Le[Pl]=-0x4e9+0x20e7+-0x1bf2,Le[yi]=0x1783+-0x71*0xb+-0x129b,Le[Jf]=0x27*0x10+-0x1*0xf8f+0x1*0xd1f,Le[uh]=-0x1733+-0x1a83+0x31b7,Le[Ap]=0x12fb+0xa1*-0x6+0xf33*-0x1,Le[Cp]=-0x6dd+0x85+-0x65b*-0x1,Le[Pp]=-0x3b*-0x99+-0x69+-0x22d6,Le[Rx]=-0x1eba+0x1bb2+-0xb*-0x47,Le[Ox]=-0x1187+-0x9*-0x329+-0x44*0x29,Le[Fx]=0xbe6*-0x1+-0x6f+0x1c4*0x7,Le[Ko]=0x8af*0x2+0x1210+-0x2366*0x1,Le[Zo]=0x1e49*0x1+-0x23a1+0x561,Le[Nx]=-0xf05+0x3c4+0x3b*0x31,Le[Mp]=-0x1bfd+0xada+0x2*0x897,Le[Dp]=-0x2*-0xda6+0xd51+0x14f*-0x1f,Le[ph]=-0x16bf*-0x1+-0x1782+0xd0,Le[Ip]=0x1d91+-0x55a+-0x1829,Le[Ln]=-0x2*-0xdf3+0x3*-0x163+-0x17ae;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x748+0x1ef8+0x440*-0x9;}static['pushGpuMar'+'ker'](_0x54d803,_0x1eb0bf){mr['markers']['push'](_0x1eb0bf),_0x54d803['pushMarker'](_0x1eb0bf);}static['popGpuMark'+'er'](_0x31d988){mr['markers']['length']&&mr['markers']['pop'](),_0x31d988['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0xe8a+0xef*-0x17+-0x19*-0x47;class Td{constructor(_0x5acd1e,_0x2b6aa0){h(this,'slot',-(-0x2097+-0x6cc*-0x1+0x34*0x7f)),h(this,'scopeId',null),(this['name']=_0x5acd1e,this['visibility']=_0x2b6aa0);}}class kp extends Td{}class fT extends Td{constructor(_0x4cd953,_0x3acd36,_0x22c878=!(0x451+-0x1*0x1379+0xf29*0x1)){super(_0x4cd953,_0x3acd36),h(this,'format',''),(this['readOnly']=_0x22c878,w['assert'](_0x22c878||!(_0x3acd36&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x1e6040,_0x4d3bbf,_0x4f9ecc=xy,_0x4a13a5=zx,_0x214900=!(0x101*0x19+0x128b+0x54*-0x85),_0x2d7d9a=null){super(_0x1e6040,_0x4d3bbf),this['textureDim'+'ension']=_0x4f9ecc,this['sampleType']=_0x4a13a5,this['hasSampler']=_0x214900,this['samplerNam'+'e']=_0x2d7d9a??_0x1e6040+'_sampler';}}class uT extends Td{constructor(_0x10ac82,_0x291d81=Ne,_0x27dda9=xy,_0x257c63=!(-0x9*0x1a1+-0xbd6+-0x3*-0x8d5),_0x2b0971=!(0x20a6+-0x2*-0xc95+0x3*-0x1345)){super(_0x10ac82,nT),this['format']=_0x291d81,this['textureDim'+'ension']=_0x27dda9,this['write']=_0x257c63,this['read']=_0x2b0971;}}class Ny{constructor(_0x549ded,_0x6fa843){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x6fa843));let _0x2d1880=-0x2a9*0x8+0x8cd*0x1+0xf*0xd5;_0x6fa843['forEach'](_0x194c7c=>{_0x194c7c['slot']=_0x2d1880++,_0x194c7c instanceof Gm&&_0x194c7c['hasSampler']&&_0x2d1880++,_0x194c7c instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x194c7c):_0x194c7c instanceof Gm?this['textureFor'+'mats']['push'](_0x194c7c):_0x194c7c instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x194c7c):_0x194c7c instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x194c7c):w['assert']('Invalid\x20bi'+'nd\x20format',_0x194c7c);}),this['device']=_0x549ded;const _0x4d0841=_0x549ded['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x289dc4,_0x24fd51)=>this['bufferForm'+'atsMap']['set'](_0x289dc4['name'],_0x24fd51)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x25955e,_0x15ac0b)=>{this['textureFor'+'matsMap']['set'](_0x25955e['name'],_0x15ac0b),_0x25955e['scopeId']=_0x4d0841['resolve'](_0x25955e['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x46ac19,_0x312f3e)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x46ac19['name'],_0x312f3e),_0x46ac19['scopeId']=_0x4d0841['resolve'](_0x46ac19['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x284688,_0x417d85)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x284688['name'],_0x417d85),_0x284688['scopeId']=_0x4d0841['resolve'](_0x284688['name']);}),this['impl']=_0x549ded['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x5c7157){const _0xad98e7=this['textureFor'+'matsMap']['get'](_0x5c7157);return _0xad98e7!==void(0xbcf*-0x3+0x1bfd+-0x77*-0x10)?this['textureFor'+'mats'][_0xad98e7]:null;}['getStorage'+'Texture'](_0x42ef20){const _0x53aba6=this['storageTex'+'tureFormat'+'sMap']['get'](_0x42ef20);return _0x53aba6!==void(-0x1*0x1051+-0x786*0x3+0x26e3)?this['storageTex'+'tureFormat'+'s'][_0x53aba6]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x56588b,_0x4e399b){return this['_cache']['has'](_0x56588b)||(this['_cache']['set'](_0x56588b,_0x4e399b()),_0x56588b['on']('destroy',()=>{this['remove'](_0x56588b);}),_0x56588b['on']('devicelost',()=>{var _0x9c6d5e,_0xd7866e;(_0xd7866e=(_0x9c6d5e=this['_cache']['get'](_0x56588b))==null?void(-0x242d+-0x1768+0x3b95):_0x9c6d5e['loseContex'+'t'])==null||_0xd7866e['call'](_0x9c6d5e,_0x56588b);})),this['_cache']['get'](_0x56588b);}['remove'](_0x202525){var _0x27bbb8,_0x144abe;(_0x144abe=(_0x27bbb8=this['_cache']['get'](_0x202525))==null?void(0x159d+0x6b+-0x1608):_0x27bbb8['destroy'])==null||_0x144abe['call'](_0x27bbb8,_0x202525),this['_cache']['delete'](_0x202525);}}class Xi{static['calcLevelD'+'imension'](_0xb62f9e,_0x268917){return Math['max'](_0xb62f9e>>_0x268917,0xd5c+0x1*0x1eef+-0x2c4a*0x1);}static['calcMipLev'+'elsCount'](_0x3ac5b6,_0x15d24a,_0xf23091=-0x22*0x8a+-0xb3f+0x1d94){return 0x1572+0x1e6+0x19*-0xef+Math['floor'](Math['log2'](Math['max'](_0x3ac5b6,_0x15d24a,_0xf23091)));}static['calcLevelG'+'puSize'](_0x1ba360,_0x265489,_0x5a5a29,_0x2476c9){var _0x130068;const _0x2a8ed7=Nt['get'](_0x2476c9);w['assert'](_0x2a8ed7!==void(0x1*-0x23f9+0x1*-0x1f05+0x15e*0x31),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x2476c9);const _0x5c0f8b=((_0x130068=Nt['get'](_0x2476c9))==null?void(-0xa6c+0xdd7*0x2+-0x1142):_0x130068['size'])??0xeb*0x2+0xe87+-0x105d;if(_0x5c0f8b>-0xaf3+-0x1*-0x680+0x473*0x1)return _0x1ba360*_0x265489*_0x5a5a29*_0x5c0f8b;const _0x41ff5d=_0x2a8ed7['blockSize']??0xa*-0x25a+-0xa37+0x21bb*0x1;let _0x228db9=Math['floor']((_0x1ba360+(-0x23d5*-0x1+0x491+0x7*-0x5c5))/(0x1*-0x9b7+-0x8fb+0x5*0x3be));const _0x250f30=Math['floor']((_0x265489+(-0x1*-0x25ef+0x222d*-0x1+-0x3bf))/(0xfa1*0x2+0x3b*-0xa7+-0x7*-0x109)),_0xb10fea=Math['floor']((_0x5a5a29+(-0x37c+-0x1*-0xf43+-0x2f1*0x4))/(-0x2*-0x584+0x629*0x1+-0x112d));return(_0x2476c9===xl||_0x2476c9===Tl)&&(_0x228db9=Math['max'](Math['floor'](_0x228db9/(-0x1d0d+0x48d+0x1882*0x1)),0x1885*-0x1+-0x1155+0x5*0x85f)),_0x228db9*_0x250f30*_0xb10fea*_0x41ff5d;}static['calcGpuSiz'+'e'](_0x25e997,_0xd7354e,_0x5f1cf8,_0x34fea0,_0x590533,_0x45d994){let _0x59f83a=-0xc7c+-0x22d1+0x2f4d;for(;_0x59f83a+=Xi['calcLevelG'+'puSize'](_0x25e997,_0xd7354e,_0x5f1cf8,_0x34fea0),!(!_0x590533||_0x25e997===0x35*0xa5+-0x12d4+-0xf54&&_0xd7354e===0x10*-0x30+-0x237e+0x267f&&_0x5f1cf8===-0x1*-0x23ef+0x219e+-0x458c);)_0x25e997=Math['max'](_0x25e997>>0x3*-0x13e+-0x152*0x1c+0x28b3,-0x12ef*-0x1+-0xd69+0x9d*-0x9),_0xd7354e=Math['max'](_0xd7354e>>-0x4f*0x67+-0x147f+0xa75*0x5,0x1dc4+0x1930+-0x1b*0x209),_0x5f1cf8=Math['max'](_0x5f1cf8>>0x6f7+-0x2058+0x1962,-0x1c12+0x47*0x7f+-0x7a*0xf);return _0x59f83a*(_0x45d994?0x4*-0x7b3+-0x12d7*0x1+0x31a9:-0x1*0xeb9+-0x303+0x11bd);}}let pT=0x1aa0+-0x1*0xdbe+0xce2*-0x1;class _e{constructor(_0x344325,_0x23656b={}){h(this,'name'),h(this,'_gpuSize',0xd5e+0x31*0x7+-0xeb5),h(this,'id',pT++),h(this,'_invalid',!(0x1f2a+0x12f2+-0x321b*0x1)),h(this,'_lockedLev'+'el',-(0x29*0x5+-0x1*0x16f+0xa3)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x2*0x909+0x1*0x542+-0xcd*-0x10),h(this,'_storage',!(-0xd12+-0x79*0xb+0x1246)),h(this,'_numLevels',0x5*0x50+0x1*0x95f+-0xaef*0x1),h(this,'_numLevels'+'Requested');var _0xa2555b;this['device']=_0x344325,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x23656b['width']||Number['isInteger'](_0x23656b['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x23656b),w['assert'](!_0x23656b['height']||Number['isInteger'](_0x23656b['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x23656b),w['assert'](!_0x23656b['depth']||Number['isInteger'](_0x23656b['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x23656b),this['name']=_0x23656b['name']??'',this['_width']=Math['floor'](_0x23656b['width']??-0x1a75+0x26f8+-0xc7f),this['_height']=Math['floor'](_0x23656b['height']??0x26a5+-0x119b*0x2+-0x7*0x7d),this['_format']=_0x23656b['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x23656b['minFilter']=Te,_0x23656b['magFilter']=Te),this['_volume']=_0x23656b['volume']??!(0x829+-0x1*0x1f09+0x16e1),this['_depth']=Math['floor'](_0x23656b['depth']??0x39*0x47+-0x25*0x4f+-0x463),this['_arrayLeng'+'th']=Math['floor'](_0x23656b['arrayLengt'+'h']??0x81e+0xf1*0x23+-0x2911),this['_storage']=_0x23656b['storage']??!(0x14d2+0x7*0x3e5+-0x1*0x3014),this['_cubemap']=_0x23656b['cubemap']??!(-0x1*-0xec3+-0x1*0x1df+-0xce3*0x1),this['_flipY']=_0x23656b['flipY']??!(-0x2175+-0x158*-0x8+-0x132*-0x13),this['_premultip'+'lyAlpha']=_0x23656b['premultipl'+'yAlpha']??!(-0x1d10+-0xe50+-0x5*-0x8ad),this['_mipmaps']=_0x23656b['mipmaps']??!(-0x42*-0x21+0xbb*0x1+-0x93d),this['_numLevels'+'Requested']=_0x23656b['numLevels'],_0x23656b['numLevels']!==void(-0x1dbe+0x22ba+0x4fc*-0x1)&&(this['_numLevels']=_0x23656b['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x23656b['minFilter']??ma,this['_magFilter']=_0x23656b['magFilter']??vt,this['_anisotrop'+'y']=_0x23656b['anisotropy']??0x98+0xc0e*-0x2+0x1785,this['_addressU']=_0x23656b['addressU']??yt,this['_addressV']=_0x23656b['addressV']??yt,this['_addressW']=_0x23656b['addressW']??yt,this['_compareOn'+'Read']=_0x23656b['compareOnR'+'ead']??!(-0x205e+-0x1915*-0x1+0x137*0x6),this['_compareFu'+'nc']=_0x23656b['compareFun'+'c']??hh,this['_type']=_0x23656b['type']??Ds,w['assert'](!_0x23656b['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x23656b['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x23656b['projection']&&_0x23656b['projection']!==tu&&(this['projection']=_0x23656b['projection']),this['profilerHi'+'nt']=_0x23656b['profilerHi'+'nt']??-0xb*-0x27e+0x5*0x22b+-0x2641,this['_levels']=_0x23656b['levels'];const _0x250d3d=!!_0x23656b['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x250d3d),_0x344325['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0xa2555b=Nt['get'](this['format']))==null?void(0x1d74+-0x306+-0x1a6e):_0xa2555b['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xe9e979=this['device'];if(_0xe9e979){const _0x84a684=_0xe9e979['textures']['indexOf'](this);_0x84a684!==-(0x1*-0x1d6c+-0x31*-0xe+0x1abf)&&_0xe9e979['textures']['splice'](_0x84a684,-0xdfc+0x1*0x849+0x4*0x16d),_0xe9e979['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0xe9e979),this['adjustVram'+'SizeTracki'+'ng'](_0xe9e979['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x28c620=!(-0x1dd2+0x1fe4+-0x212*0x1)){var _0x261891;const {device:_0x1b5480}=this;(_0x261891=this['impl'])==null||_0x261891['destroy'](_0x1b5480),this['impl']=null,this['impl']=_0x1b5480['createText'+'ureImpl'](this),this['dirtyAll'](),_0x28c620&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x3d5d4c,_0x3cf43c,_0x19f4d3=-0x89+0x14f8+0xa37*-0x2){const _0x4d0016=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x4d0016['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x4d0016),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x3d5d4c),this['_height']=Math['floor'](_0x3cf43c),this['_depth']=Math['floor'](_0x19f4d3),this['_updateNum'+'Level'](),this['impl']=_0x4d0016['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x50b8fd,_0x2a1115){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x2a1115+('\x20vram.text'+'ure:\x20')+_0x50b8fd['tex']+'\x20=>\x20'+(_0x50b8fd['tex']+_0x2a1115)),_0x50b8fd['tex']+=_0x2a1115,this['profilerHi'+'nt']===eu?_0x50b8fd['texShadow']+=_0x2a1115:this['profilerHi'+'nt']===Pr?_0x50b8fd['texAsset']+=_0x2a1115:this['profilerHi'+'nt']===vy&&(_0x50b8fd['texLightma'+'p']+=_0x2a1115);}['propertyCh'+'anged'](_0x4e1c43){this['impl']['propertyCh'+'anged'](_0x4e1c43),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x528dc6=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x11*-0x23b+-0x2b*-0xd+0x2819*-0x1,_0x269c09=this['_numLevels'+'Requested'];_0x269c09!==void(0x125a+0x688+0x41*-0x62)&&_0x269c09>_0x528dc6&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x528dc6,this),this['_numLevels']=Math['min'](_0x269c09??_0x528dc6,_0x528dc6),this['_mipmaps']=this['_numLevels']>-0x1713+-0x1*0x160e+0xda*0x35;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x170057){this['_minFilter']!==_0x170057&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x170057,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x5b8c51){this['_magFilter']!==_0x5b8c51&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x5b8c51,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x415652){this['_addressU']!==_0x415652&&(this['_addressU']=_0x415652,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x5a4068){this['_addressV']!==_0x5a4068&&(this['_addressV']=_0x5a4068,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0xe83746){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0xe83746!==this['_addressW']&&(this['_addressW']=_0xe83746,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x19e04){this['_compareOn'+'Read']!==_0x19e04&&(this['_compareOn'+'Read']=_0x19e04,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x1956a8){this['_compareFu'+'nc']!==_0x1956a8&&(this['_compareFu'+'nc']=_0x1956a8,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x30e025){this['_anisotrop'+'y']!==_0x30e025&&(this['_anisotrop'+'y']=_0x30e025,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x531c6a){this['_mipmaps']!==_0x531c6a&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x531c6a,_0x531c6a&&(this['_needsMipm'+'apsUpload']=!(0x1*-0x2311+0x20de+0x233)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x41ea30=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0xa3*-0x5+0x2131*-0x1+0x2461*0x1);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x41ea30,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x1de5+0x19*-0x56+0x264b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x17217e){this['_type']!==_0x17217e&&(this['_type']=_0x17217e,this['device']['_shadersDi'+'rty']=!(-0x1163+-0x1*-0x1535+-0x1*0x3d2));}get['type'](){return this['_type'];}set['srgb'](_0x2cb0d1){var _0x1daff4,_0x5842c3,_0x55f328,_0x275899;const _0x362473=fh(this['format']);if(_0x2cb0d1!==_0x362473){if(_0x2cb0d1){const _0x4dc8bf=ld(this['format']);this['_format']!==_0x4dc8bf&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x1daff4=Nt['get'](this['format']))==null?void(-0x1*-0xa1a+-0x18a7+0xe8d):_0x1daff4['name'])+'\x20->\x20'+((_0x5842c3=Nt['get'](_0x4dc8bf))==null?void(0x1*-0x266d+0x13c5+0x12a8):_0x5842c3['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x4dc8bf,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0xb11*-0x3+0xf*-0x254+0x441f*0x1));}else{const _0x5ab6ed=Lx(this['format']);this['_format']!==_0x5ab6ed&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x55f328=Nt['get'](this['format']))==null?void(0xc04+0x6ee*0x4+0x27bc*-0x1):_0x55f328['name'])+'\x20->\x20'+((_0x275899=Nt['get'](_0x5ab6ed))==null?void(-0x8*0x34e+0x13*0xd3+0xac7):_0x275899['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5ab6ed,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1954*-0x1+-0xd8c+0x26e0));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x2199fe){this['_flipY']!==_0x2199fe&&(this['_flipY']=_0x2199fe,this['_needsUplo'+'ad']=!(0x1e09+-0x21a*0x10+0x397));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x112d2f){this['_premultip'+'lyAlpha']!==_0x112d2f&&(this['_premultip'+'lyAlpha']=_0x112d2f,this['_needsUplo'+'ad']=!(-0x23d0+-0x153f+0x390f));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x11*-0x17d+-0x147e+0x269*0x13),!(0x20*-0xd+0x56b*0x6+-0x1ee2),!(-0x897+0x9c*-0x3d+0x2dc3),!(0x26d3+-0x18*0xeb+-0x10cb),!(-0xb3*0x10+-0x734+-0x1*-0x1264),!(-0x23f4*0x1+0xf1f+0x1*0x14d5)]]:[!(0x2263*-0x1+-0x25*0x19+0x2600)],this['_needsUplo'+'ad']=!(-0x1*0x26e+-0x1*0x1486+-0x2*-0xb7a),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x2*0x606+-0x9*0x189+0x19de),this['propertyCh'+'anged'](lT);}['lock'](_0x163d12={}){_0x163d12['level']??(_0x163d12['level']=-0xa9b+-0xb7e*0x1+0x1*0x1619),_0x163d12['face']??(_0x163d12['face']=-0x7c8+-0x499+0xc61),_0x163d12['mode']??(_0x163d12['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x163d12['mode']===yy||_0x163d12['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x163d12['mode'],this['_lockedLev'+'el']=_0x163d12['level'];const _0x3c39e0=this['cubemap']?this['_levels'][_0x163d12['face']]:this['_levels'];if((_0x3c39e0==null?void(0x152e+-0x7ef*-0x1+-0x101*0x1d):_0x3c39e0[_0x163d12['level']])===null){const _0xaa6a26=Math['max'](-0x2669+-0x331*0x5+0x365f,this['_width']>>_0x163d12['level']),_0xa89d12=Math['max'](0x223a+0xd*0xc+0x25*-0xf1,this['_height']>>_0x163d12['level']),_0x1c2950=Math['max'](0x2*0xf1+0xa11+-0xbf2,this['_depth']>>_0x163d12['level']),_0x1a8cf3=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0xaa6a26,_0xa89d12,_0x1c2950,this['_format']));_0x3c39e0[_0x163d12['level']]=new(my(this['_format']))(_0x1a8cf3);}return _0x3c39e0==null?void(-0x3*-0x901+0x1b*-0x6d+-0x7c2*0x2):_0x3c39e0[_0x163d12['level']];}['setSource'](_0x1b2e03,_0x3abd44=-0x25c7+-0x19b3+0x7d*0x82){let _0xacee4b=!(0x1192+-0x1d9e*-0x1+-0x2f2f*0x1),_0x46cd1a,_0x365a47;if(this['_cubemap']){if(_0x1b2e03[0x99f+-0x1e27+0x1488]){_0x46cd1a=_0x1b2e03[-0x79*0x4f+-0x1*-0x1675+-0x4f6*-0x3]['width']||-0xb*0x14a+-0x1*0x8ad+0x16db,_0x365a47=_0x1b2e03[-0x1d*-0x146+-0x1*0x25fb+0x10d]['height']||0xb3*0xb+-0xd7e+0x5cd;for(let _0x553a95=-0x12*-0x8+-0x177e+-0x24b*-0xa;_0x553a95<-0x1759+-0x14ab*0x1+0x2c0a;_0x553a95++){const _0x48843c=_0x1b2e03[_0x553a95];if(!_0x48843c||_0x48843c['width']!==_0x46cd1a||_0x48843c['height']!==_0x365a47||!this['device']['_isBrowser'+'Interface'](_0x48843c)){_0xacee4b=!(-0x462+0xa6e*-0x1+0xed0);break;}}}else _0xacee4b=!(-0xfc7*-0x1+-0x118e+-0x41*-0x7);if(!_0xacee4b){for(let _0x4baec9=-0xae1+0x13e6+-0x905*0x1;_0x4baec9<-0x1*-0x8+0x1533+0x1*-0x1535;_0x4baec9++)this['_levels'][_0x3abd44][_0x4baec9]!==_0x1b2e03[_0x4baec9]&&(this['_levelsUpd'+'ated'][_0x3abd44][_0x4baec9]=!(0x151f+-0x10*-0x23b+-0x38cf));}}else this['device']['_isBrowser'+'Interface'](_0x1b2e03)||(_0xacee4b=!(0x44c+0x583*0x6+-0x255e)),_0xacee4b||(_0x1b2e03!==this['_levels'][_0x3abd44]&&(this['_levelsUpd'+'ated'][_0x3abd44]=!(-0x1b08+-0xb*-0x283+-0x99*0x1)),_0x1b2e03 instanceof HTMLVideoElement?(_0x46cd1a=_0x1b2e03['videoWidth'],_0x365a47=_0x1b2e03['videoHeigh'+'t']):(_0x46cd1a=_0x1b2e03['width'],_0x365a47=_0x1b2e03['height']));if(_0xacee4b){if(this['_width']=0x1a74+0x51*-0x6f+0x8af,this['_height']=-0x2318+0x4*-0x8fb+0x4708,this['_cubemap']){for(let _0x1829de=-0x1387+-0x2*-0xefd+0x6b*-0x19;_0x1829de<-0x270e+0xb44+0x1bd0;_0x1829de++)this['_levels'][_0x3abd44][_0x1829de]=null,this['_levelsUpd'+'ated'][_0x3abd44][_0x1829de]=!(-0xc1d+0x2df+0x93e);}else this['_levels'][_0x3abd44]=null,this['_levelsUpd'+'ated'][_0x3abd44]=!(-0x20b*0xd+-0x1*0xf1+0x80*0x37);}else _0x3abd44===-0x3*-0x2fa+0x4a*-0x3c+0x86a&&(this['_width']=_0x46cd1a,this['_height']=_0x365a47),this['_levels'][_0x3abd44]=_0x1b2e03;(this['_invalid']!==_0xacee4b||!_0xacee4b)&&(this['_invalid']=_0xacee4b,this['upload']());}['getSource'](_0x44d132=-0x1*0xe31+0xa27+0x2f*0x16){return this['_levels'][_0x44d132];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0x2457+0xb4d*-0x3+-0x1*0x26f),this['_lockedMod'+'e']=$l;}['upload'](){var _0x17366b,_0x3af67e;this['_needsUplo'+'ad']=!(0xdaa+-0x1dec+0x1042),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x3af67e=(_0x17366b=this['impl'])['uploadImme'+'diate'])==null||_0x3af67e['call'](_0x17366b,this['device'],this);}['read'](_0x5c72ff,_0x264c12,_0x2298ea,_0x14f461,_0x8bd00={}){var _0x2a42e7,_0x4cccc4;return(_0x4cccc4=(_0x2a42e7=this['impl'])['read'])==null?void(-0x1*0x397+-0x16+0x3ad):_0x4cccc4['call'](_0x2a42e7,_0x5c72ff,_0x264c12,_0x2298ea,_0x14f461,_0x8bd00);}['write'](_0x822725,_0x12032b,_0xdbaee,_0x545e4d,_0x5f0bbe){var _0x5f27b0,_0x379fc7;return(_0x379fc7=(_0x5f27b0=this['impl'])['write'])==null?void(0x13e2+-0x3*-0x196+-0x18a4):_0x379fc7['call'](_0x5f27b0,_0x822725,_0x12032b,_0xdbaee,_0x545e4d,_0x5f0bbe);}}const mT={'white':[0x2*0x10d6+0x3*0x9d5+-0x1f16*0x2,-0x11+0x215e+-0x204e,0x259d+-0x2*0x24b+-0x148*0x19,-0x11*0x43+-0x1901+0x1e73],'gray':[0x11fc+-0x183e+0x6c2,-0xaa0+0x1b96+-0x1*0x1076,-0x1a6+-0xa23*0x1+-0x11*-0xb9,-0x1467+0x8b9+0x127*0xb],'black':[0x13ee+-0x1921+-0xb*-0x79,0x5ae+-0x1b*-0x1d+0x8bd*-0x1,-0xb38+-0xb89*-0x1+-0x51,-0x257*-0xd+-0x1670+-0x6fc*0x1],'normal':[-0x32*0x2b+-0x1fb+0xae1,-0x1b5+-0x1*-0x135a+-0x1125,0x1cd0+-0x27b+-0x1956,0x1*0x2693+-0x1e01*-0x1+-0x4395],'pink':[0xaea+-0x213a+-0x174f*-0x1,0x217*-0x3+-0x1a66*-0x1+-0x13a1,-0x77c*-0x4+-0xf*0x33+-0x19f4,0x667*0x5+-0xc62+-0x9*0x212]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0xe34d2b=>{_0xe34d2b['destroy']();});}}const gT=new Kt(),fa=(_0x1a15b8,_0x2d337a)=>{const _0x1a261d=gT['get'](_0x1a15b8,()=>new _T());if(!_0x1a261d['map']['has'](_0x2d337a)){const _0x4f0160=new _e(_0x1a15b8,{'name':'built-in-t'+'exture-'+_0x2d337a,'width':0x1,'height':0x1,'format':Ne}),_0x8aa251=_0x4f0160['lock'](),_0x432e96=mT[_0x2d337a];w['assert'](_0x432e96,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x2d337a+('\x27\x20not\x20foun'+'d')),_0x8aa251['set'](_0x432e96),_0x4f0160['unlock'](),_0x1a261d['map']['set'](_0x2d337a,_0x4f0160);}return _0x1a261d['map']['get'](_0x2d337a);};let ST=0x141+0x1*-0x1ba9+0x1a68;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x114480,_0x5ab93a,_0x363f54){h(this,'renderVers'+'ionUpdated',-(0x1a99+-0x1eea+-0x7*-0x9e)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x114480,this['format']=_0x5ab93a,this['dirty']=!(0x79c*0x3+0x1a82+-0x3156),this['impl']=_0x114480['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x363f54,_0x363f54&&this['setUniform'+'Buffer'](Np,_0x363f54),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x5ab93a));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x26c398,_0x13363d){const _0xc5f573=this['format']['bufferForm'+'atsMap']['get'](_0x26c398);w['assert'](_0xc5f573!==void(-0x4*0x8ff+-0x345*0x9+0x1*0x4169),'Setting\x20a\x20'+'uniform\x20['+_0x26c398+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0xc5f573]!==_0x13363d&&(this['uniformBuf'+'fers'][_0xc5f573]=_0x13363d,this['dirty']=!(0x97*-0x25+-0x4*-0x2ab+0xb27));}['setStorage'+'Buffer'](_0xa4165c,_0x12beff){const _0x267c06=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0xa4165c);w['assert'](_0x267c06!==void(-0x163d*0x1+-0x1*0x22c0+-0x38fd*-0x1),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0xa4165c+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x267c06]!==_0x12beff&&(this['storageBuf'+'fers'][_0x267c06]=_0x12beff,this['dirty']=!(0x75e*-0x1+-0x1*0x174d+-0x1eab*-0x1));}['setTexture'](_0x1f8334,_0x10f772){const _0x587801=this['format']['textureFor'+'matsMap']['get'](_0x1f8334);w['assert'](_0x587801!==void(-0x1b8d+0x1698*0x1+0x4f5),'Setting\x20a\x20'+'texture\x20['+_0x1f8334+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x587801]!==_0x10f772?(this['textures'][_0x587801]=_0x10f772,this['dirty']=!(-0xb4e+-0x662+0x2*0x8d8)):this['renderVers'+'ionUpdated']<_0x10f772['renderVers'+'ionDirty']&&(this['dirty']=!(0xba4+0x5d8+-0x2*0x8be));}['setStorage'+'Texture'](_0x394d38,_0x254eeb){const _0x195d8f=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x394d38);w['assert'](_0x195d8f!==void(0x173b+-0x229*-0x9+-0x2aac),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x394d38+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x195d8f]!==_0x254eeb?(this['storageTex'+'tures'][_0x195d8f]=_0x254eeb,this['dirty']=!(0x17bc+-0x242*0x5+0x36*-0x3b)):this['renderVers'+'ionUpdated']<_0x254eeb['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1f9e+-0x4*0x19c+0x260e));}['updateUnif'+'ormBuffers'](){for(let _0x1a6e85=0x79e+-0xd*0x23+0x1*-0x5d7;_0x1a6e85<this['uniformBuf'+'fers']['length'];_0x1a6e85++)this['uniformBuf'+'fers'][_0x1a6e85]['update']();}['update'](){const {textureFormats:_0x3c4e58,storageTextureFormats:_0x186fef,storageBufferFormats:_0x3cbf59}=this['format'];for(let _0x573dc9=0x3b*0x26+-0x13be+0xafc;_0x573dc9<_0x3c4e58['length'];_0x573dc9++){const _0x12d61a=_0x3c4e58[_0x573dc9];let _0x5ea9b9=_0x12d61a['scopeId']['value'];_0x5ea9b9||(_0x12d61a['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5ea9b9=fa(this['device'],'white')),_0x12d61a['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5ea9b9=fa(this['device'],'pink')),_0x5ea9b9||(w['errorOnce']('Texture\x20'+_0x12d61a['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x5ea9b9=fa(this['device'],'pink'))),this['setTexture'](_0x12d61a['name'],_0x5ea9b9);}for(let _0x274a8a=0x2519+-0x1c0b*0x1+-0x90e*0x1;_0x274a8a<_0x186fef['length'];_0x274a8a++){const _0x55d8ea=_0x186fef[_0x274a8a],_0x5e5d71=_0x55d8ea['scopeId']['value'];w['assert'](_0x5e5d71,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x55d8ea['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x55d8ea['name'],_0x5e5d71);}for(let _0x5a0ec1=-0x1593+0x4*0x298+0x3d*0x2f;_0x5a0ec1<_0x3cbf59['length'];_0x5a0ec1++){const _0x5f3196=_0x3cbf59[_0x5a0ec1],_0x506be3=_0x5f3196['scopeId']['value'];w['assert'](_0x506be3,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x5f3196['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x5f3196['name'],_0x506be3);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x4e78ca=0x12f2+0xa8d+-0x1d7f;_0x4e78ca<this['uniformBuf'+'fers']['length'];_0x4e78ca++){const _0x3d81cf=this['uniformBuf'+'fers'][_0x4e78ca];this['uniformBuf'+'ferOffsets'][_0x4e78ca]=_0x3d81cf['offset'],this['renderVers'+'ionUpdated']<_0x3d81cf['renderVers'+'ionDirty']&&(this['dirty']=!(0x22a*0x2+-0xf8*0x26+-0x207c*-0x1));}this['dirty']&&(this['dirty']=!(-0x130f+0x163d*-0x1+0x1*0x294d),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x4ed17c,_0x47720e,_0x2fcb1d,_0x4c98c8=-0x5*0x21+0xe83+-0xddd){return _0x4ed17c&~(_0x4c98c8<<_0x2fcb1d)|_0x47720e<<_0x2fcb1d;},'get'(_0x40b7ad,_0x6656e0,_0x11cd04=-0x13b8+-0x77d+0x1b36){return _0x40b7ad>>_0x6656e0&_0x11cd04;},'all'(_0x3ac6a2,_0x454b4b,_0x2e7c57=0x1a3b+0x20c2+-0x3afc){const _0x6b3073=_0x2e7c57<<_0x454b4b;return(_0x3ac6a2&_0x6b3073)===_0x6b3073;},'any'(_0x237067,_0x1f59c2,_0x148c29=0x5*0x653+0x2*-0x132d+0x6bc){return(_0x237067&_0x148c29<<_0x1f59c2)!==-0xe51+0x888+0x5c9;}},Xl=0xcd*-0x15+0xd*-0x221+0x83*0x57,ir=0x51b*-0x7+-0x2564+-0x493*-0x10,Hm=-0x1*-0x1629+-0x1774+0x14b,Wm=-0x952*-0x3+0x561+-0x2154,$m=0xf*0x1e8+-0x11fd+-0x2a5*0x4,Xm=-0x1cf1+0x507+0x17f5,qm=-0x2075+-0x5*0x3de+0x33d9,jm=0x10b5+0x1f52+-0x2ff5,iu=0x1*0x215+-0xd4a+0xb4b,Ym=-0x2*-0xf77+-0x2258+0x1*0x381,Km=0x21f+-0x1c2e*-0x1+-0x1e35,Zm=-0x13d*0x1f+0x1*0x1f9c+-0x6e*-0x10,Qm=-0x1da2+0x3*0x551+0xdc9,yT=0x4*-0x5b1+-0x13aa+0x95*0x49,vT=iu,ri=class ri{constructor(_0x15ccde=!(-0x1*-0xe8f+0x1*0x267b+-0x3509),_0x29ddc3=fs,_0x3386a6=Ft,_0x5c1946=rp,_0x3848a0,_0x559509,_0x5990ba,_0x581b0e=!(-0x1f2b+-0x833*0x1+0x275e),_0x49fb4b=!(-0x2*0x5cb+0x166d+-0xad7),_0x205389=!(-0x1683*-0x1+0x10d*-0x20+0x1*0xb1d),_0x4b6ab3=!(-0x2*-0x8d4+0x12ea+-0x1f*0x12e)){h(this,'target0',0x9a9+0x97*0x3f+0x39a*-0xd),(this['setColorBl'+'end'](_0x29ddc3,_0x3386a6,_0x5c1946),this['setAlphaBl'+'end'](_0x3848a0??_0x29ddc3,_0x559509??_0x3386a6,_0x5990ba??_0x5c1946),this['setColorWr'+'ite'](_0x581b0e,_0x49fb4b,_0x205389,_0x4b6ab3),this['blend']=_0x15ccde);}set['blend'](_0x5817b6){this['target0']=qe['set'](this['target0'],_0x5817b6?-0x1a18+0x29*-0xa4+0x345d:-0x17fd+-0xd3*-0x9+0x2*0x849,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0xa952b7,_0x488a4f,_0x7f40c3){this['target0']=qe['set'](this['target0'],_0xa952b7,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x488a4f,Wm,ir),this['target0']=qe['set'](this['target0'],_0x7f40c3,$m,ir);}['setAlphaBl'+'end'](_0x2fe8d7,_0x493d14,_0x28c142){this['target0']=qe['set'](this['target0'],_0x2fe8d7,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x493d14,qm,ir),this['target0']=qe['set'](this['target0'],_0x28c142,jm,ir);}['setColorWr'+'ite'](_0x356032,_0x20524b,_0x36ff11,_0x53bb3e){this['redWrite']=_0x356032,this['greenWrite']=_0x20524b,this['blueWrite']=_0x36ff11,this['alphaWrite']=_0x53bb3e;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x168275){this['target0']=qe['set'](this['target0'],_0x168275?0x2*0xcdd+-0x1*0xa7e+-0x22d*0x7:-0x2*-0x878+-0x90f*-0x3+0x17*-0x1eb,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x38a497){this['target0']=qe['set'](this['target0'],_0x38a497?0xbb3+0xd6+0x4*-0x322:0x3*-0x6e9+-0x192+-0xad*-0x21,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x5830c2){this['target0']=qe['set'](this['target0'],_0x5830c2?-0xa66+-0xf0d*0x1+0x1974:-0x1*0x75d+-0xdaf+0x150c,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x4386ec){this['target0']=qe['set'](this['target0'],_0x4386ec?0xa02+0x25c4*0x1+-0x1*0x2fc5:0x1426+-0x1*-0x243e+-0x12*0x322,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x53071e){return this['target0']=_0x53071e['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x193ab6){return this['target0']===_0x193ab6['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x1*-0x17c+-0x7*-0x1c0+-0xdbc),void(0x1*0x1937+0x1da3+-0x36da),void(0x1659+-0x2183+0x595*0x2),void(-0x1*-0x16fd+0xeef+-0x25ec),void(-0x1*-0x25bf+0x1*0x2173+0x57a*-0xd),void(0x2335*0x1+-0x2bd*-0xb+0x1c4*-0x25),void(0x423+-0x48*0x9+-0x19b),!(0xd91*0x1+-0xdea+0xf*0x6),!(-0x1a2b+0x819+0x1213),!(0x6cd*-0x1+-0x1c35+0x2303),!(-0x1733+0x98a+0xdaa)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(0x180a+-0x1bb*0xb+0x3*-0x1ab),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x177a+-0x1f6f+0x1*0x36e9),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0xd21*-0x1+-0x1e9*0xd+0x25f6);}['get'](_0x450861){let _0x282908=this['map']['get'](_0x450861);return _0x282908===void(-0x628+-0x12e8+-0x322*-0x8)&&(_0x282908=this['id']++,this['map']['set'](_0x450861,_0x282908)),_0x282908;}}const xT=new Bp(),Jm=0x7*0x463+0x7e*0x3e+0x1e99*-0x2,e_=-0xb1+0x5cb*-0x1+0x33e*0x2,t_=0xa22+0x4*0x64d+0x2353*-0x1,_r=class _r{constructor(_0x53644b=Wf,_0x554aa5=!(0x1*0x76b+0x924+-0x108f)){h(this,'data',0x115e+-0x8*-0x1fb+0x109b*-0x2),h(this,'_depthBias',0x10ae+-0x3*0xa4f+0xe3f),h(this,'_depthBias'+'Slope',0x1f69+-0x893+0x1*-0x16d6),h(this,'key',0x1*-0x22be+-0x1b73+0x3e31),(this['func']=_0x53644b,this['write']=_0x554aa5);}set['test'](_0x348af7){this['func']=_0x348af7?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x1e6b76){this['data']=qe['set'](this['data'],_0x1e6b76?-0x1754+-0x1b85+0x32da:0x67*0x29+0x2b3*-0x4+-0x5b3*0x1,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x4e5329){this['data']=qe['set'](this['data'],_0x4e5329,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x512d16){this['_depthBias']=_0x512d16,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x2bb2e5){this['_depthBias'+'Slope']=_0x2bb2e5,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x1f153d){return this['data']=_0x1f153d['data'],this['_depthBias']=_0x1f153d['_depthBias'],this['_depthBias'+'Slope']=_0x1f153d['_depthBias'+'Slope'],this['key']=_0x1f153d['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x36448f,_depthBias:_0x26b48a,_depthBiasSlope:_0x541161}=this,_0x59c6a0=_0x36448f+'-'+_0x26b48a+'-'+_0x541161;this['key']=xT['get'](_0x59c6a0);}['equals'](_0x3f88a3){return this['key']===_0x3f88a3['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x6*0x5ce+-0x2f*0x54+0x3241)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x53*-0x2f+-0x15*0x1a3+-0x19*-0x1fc))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x421+-0x1*0x621+0x200),h(this,'revision',-0xbd*-0x2f+-0x1e0e+0x1d*-0x29);}['equals'](_0x3b704f){return this['globalId']===_0x3b704f['globalId']&&this['revision']===_0x3b704f['revision'];}['copy'](_0x1505bb){this['globalId']=_0x1505bb['globalId'],this['revision']=_0x1505bb['revision'];}['reset'](){this['globalId']=0x19d0+0x1a89+-0x9*0x5d1,this['revision']=-0x90*-0x1d+-0x2*-0xcd3+-0x29f6;}}let s_=-0x1*-0x1a70+-0x1d99*-0x1+-0x3809;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x2d1002){this['name']=_0x2d1002,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x3e9d9d){}['setValue'](_0x299dfd){this['value']=_0x299dfd,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x243a22){this['name']=_0x243a22,this['variables']=new Map();}['resolve'](_0x35687f){return this['variables']['has'](_0x35687f)||this['variables']['set'](_0x35687f,new wT(_0x35687f)),this['variables']['get'](_0x35687f);}['removeValu'+'e'](_0x5ab5d6){for(const _0x444b3e in this['variables']){const _0x17c0e3=this['variables'][_0x444b3e];_0x17c0e3['value']===_0x5ab5d6&&(_0x17c0e3['value']=null);}}}let bT=0x1f4f*-0x1+-0x1*-0x1331+0x5e*0x21;class Is{constructor(_0x2f160a,_0x483e16,_0x4feff0,_0x16c2fa){h(this,'usage',ms),(w['assert'](arguments['length']<=-0xd06*0x2+-0x5*-0xb5+-0x4f*-0x49&&(!_0x16c2fa||typeof _0x16c2fa=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x16c2fa==null?void(0x784+-0x1*-0x21e9+-0x296d):_0x16c2fa['usage'])??ms,this['device']=_0x2f160a,this['format']=_0x483e16,this['numVertice'+'s']=_0x4feff0,this['id']=bT++,this['impl']=_0x2f160a['createVert'+'exBufferIm'+'pl'](this,_0x483e16,_0x16c2fa),this['numBytes']=_0x483e16['verticesBy'+'teSize']?_0x483e16['verticesBy'+'teSize']:_0x483e16['size']*_0x4feff0,this['adjustVram'+'SizeTracki'+'ng'](_0x2f160a['_vram'],this['numBytes']));const _0x47e61d=_0x16c2fa==null?void(-0x300+0x165*-0x13+0x347*0x9):_0x16c2fa['data'];_0x47e61d?this['setData'](_0x47e61d):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1ee1e8=this['device'],_0xad998c=_0x1ee1e8['buffers']['indexOf'](this);_0xad998c!==-(-0x1f*-0x140+0x12d9+-0x3998)&&_0x1ee1e8['buffers']['splice'](_0xad998c,0x10*-0x206+-0x2*-0xd3+0x1ebb),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1ee1e8),this['adjustVram'+'SizeTracki'+'ng'](_0x1ee1e8['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x5803a6,_0x53790a){w['trace'](q0,this['id']+'\x20size:\x20'+_0x53790a+'\x20vram.vb:\x20'+_0x5803a6['vb']+'\x20=>\x20'+(_0x5803a6['vb']+_0x53790a)),_0x5803a6['vb']+=_0x53790a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x67e9f0){return _0x67e9f0['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x67e9f0['byteLength']),!(0x240c+0x1*-0x6eb+0x8*-0x3a4)):(this['storage']=_0x67e9f0,this['unlock'](),!(-0x160a+-0x1*0x18b3+0x2ebd));}}function hi(_0xb00147){if(_0xb00147==null)return-0x252a+-0x2be+0x27e8*0x1;let _0x336eb5=0x1*0x289+-0xfbf+-0x13*-0xb2;for(let _0x221d32=-0x1a67+-0xd0a*0x2+0x347b,_0x273aea=_0xb00147['length'];_0x221d32<_0x273aea;_0x221d32++)_0x336eb5=(_0x336eb5<<-0x361+0x5*0x449+-0x1*0x1207)-_0x336eb5+_0xb00147['charCodeAt'](_0x221d32),_0x336eb5|=-0x1633+-0x2091+-0x2bd*-0x14;return _0x336eb5;}function By(_0x22c3fd){let _0x14bed6=0x96718c*-0x17e+-0xc0cdd882+0x12a33*0x1d515;for(let _0x432699=-0x186a+0x1*-0x7f4+-0x6*-0x565;_0x432699<_0x22c3fd['length'];_0x432699++)_0x14bed6^=_0x22c3fd[_0x432699],_0x14bed6*=0x1*0x1672e6d+-0x1640b85+0xfcdeab;return _0x14bed6>>>-0x2269+0x1*-0x20ef+0x5*0xd78;}const AT=new Bp(),CT=[0xded+-0x201b*0x1+0x1230,0x3e*-0x76+-0x1143*-0x1+0xb55,-0x8*0x40a+-0x4f*0x43+0x3505,-0x2*0xa22+0x2038+-0xbe8,-0xc9*0x13+0xd59+0x13*0x16],PT=new Kt();class kt{constructor(_0xc4ca5,_0x27d8fd,_0x159576){this['device']=_0xc4ca5,this['_elements']=[],this['hasUv0']=!(-0x5*-0xd7+-0x4*-0x826+-0x24ca),this['hasUv1']=!(0x81f+0xe0*0x15+-0xd3f*0x2),this['hasColor']=!(0x531+0x2381+-0x28b1),this['hasTangent'+'s']=!(-0x261f+0xd7f*-0x2+0x411e),this['verticesBy'+'teSize']=-0x5e*-0x9+-0x2416*-0x1+-0x2764,this['vertexCoun'+'t']=_0x159576,this['interleave'+'d']=_0x159576===void(-0x39*-0x85+-0x19d*0x1+-0x1c00),this['instancing']=!(-0x15eb*-0x1+-0x58+-0x1592),this['size']=_0x27d8fd['reduce']((_0x5c0c2c,_0x20e565)=>_0x5c0c2c+Math['ceil'](_0x20e565['components']*No[_0x20e565['type']]/(0x233b+-0xfa0+0x5*-0x3eb))*(-0x1*0x13+-0x4*0x139+0x4fb),-0x1565+-0x20b*0x3+0x1b86);let _0x25ee05=-0x6bf+-0x22*0x11f+0x2cdd,_0x13e3ec;for(let _0x2608e1=-0x7*0x526+0x1*-0x2197+-0x1f*-0x23f,_0x5cab1d=_0x27d8fd['length'];_0x2608e1<_0x5cab1d;_0x2608e1++){const _0x60c1c1=_0x27d8fd[_0x2608e1];_0x13e3ec=_0x60c1c1['components']*No[_0x60c1c1['type']],w['assert'](kt['isElementV'+'alid'](_0xc4ca5,_0x60c1c1),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x60c1c1['semantic']+'\x20:\x20'+cT[_0x60c1c1['type']]+'\x20x\x20'+_0x60c1c1['components']),_0x159576&&(_0x25ee05=Y['roundUp'](_0x25ee05,_0x13e3ec),w['assert'](_0x13e3ec%(-0x9cd*0x3+-0xca5*-0x1+0x10c6)===0x112*0xf+0x1ba9+-0x2bb7,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x13e3ec));const _0x20fc51=_0x60c1c1['asInt']??!(0x1bf4*0x1+-0x969+0x3*-0x62e),_0x5cdb5e=_0x20fc51?!(0x18ee+-0x1*-0xbdd+-0x24ca):_0x60c1c1['normalize']??!(0xe87+-0x3a*0x88+0x104a),_0x4d456d={'name':_0x60c1c1['semantic'],'offset':_0x159576?_0x25ee05:_0x60c1c1['hasOwnProp'+'erty']('offset')?_0x60c1c1['offset']:_0x25ee05,'stride':_0x159576?_0x13e3ec:_0x60c1c1['hasOwnProp'+'erty']('stride')?_0x60c1c1['stride']:this['size'],'dataType':_0x60c1c1['type'],'numComponents':_0x60c1c1['components'],'normalize':_0x5cdb5e,'size':_0x13e3ec,'asInt':_0x20fc51};this['_elements']['push'](_0x4d456d),_0x159576?_0x25ee05+=_0x13e3ec*_0x159576:_0x25ee05+=Math['ceil'](_0x13e3ec/(-0x1f3+-0x3e2+-0x3*-0x1f3))*(0x1*0xf87+-0x227f+0x12fc),_0x60c1c1['semantic']===is?this['hasUv0']=!(-0x11*0x137+-0x1*-0xa6f+-0x1*-0xa38):_0x60c1c1['semantic']===ba?this['hasUv1']=!(0x1e35+0xf17+-0x2d4c):_0x60c1c1['semantic']===Wt?this['hasColor']=!(-0x59a+0x156b*0x1+-0xfd1):_0x60c1c1['semantic']===yi&&(this['hasTangent'+'s']=!(0x1*0xd8b+0x12d5+-0x2060));}_0x159576&&(this['verticesBy'+'teSize']=_0x25ee05),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x3fdf3e){return PT['get'](_0x3fdf3e,()=>new kt(_0x3fdf3e,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x31bf4c,_0x489c21){const _0x76e9a2=_0x489c21['components']*No[_0x489c21['type']];return!(_0x31bf4c['isWebGPU']&&!CT['includes'](_0x76e9a2));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x12e422=[],_0x3ad993=[],_0x23d311=this['_elements']['length'];for(let _0x306aa6=0x2*0x8a5+0x17*0x199+-0x3609;_0x306aa6<_0x23d311;_0x306aa6++){const {name:_0x48fe70,dataType:_0x1078f9,numComponents:_0x30749e,normalize:_0xa110b1,offset:_0x305b87,stride:_0x5e9b86,size:_0x2a59dc,asInt:_0x2ec967}=this['_elements'][_0x306aa6],_0xab0a76=_0x48fe70+_0x1078f9+_0x30749e+_0xa110b1+_0x2ec967;_0x12e422['push'](_0xab0a76);const _0x2d7f26=_0xab0a76+_0x305b87+_0x5e9b86+_0x2a59dc;_0x3ad993['push'](_0x2d7f26);}_0x12e422['sort']();const _0x5d6516=_0x12e422['join']();this['batchingHa'+'sh']=hi(_0x5d6516),this['shaderProc'+'essingHash'+'String']=_0x5d6516,this['renderingH'+'ashString']=_0x3ad993['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x115416={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(-0xa9+-0x3e*-0x6b+-0x1941)),h(this,'_key'),(this['_func']=_0x115416['func']??Wi,this['_ref']=_0x115416['ref']??-0x1*-0x67a+-0x5*0x48b+0x103d,this['_readMask']=_0x115416['readMask']??-0x26d1+0x373+0x1d*0x141,this['_writeMask']=_0x115416['writeMask']??-0x6d0+0x1*-0x2545+0x241*0x14,this['_fail']=_0x115416['fail']??xn,this['_zfail']=_0x115416['zfail']??xn,this['_zpass']=_0x115416['zpass']??xn,this['_evalKey']());}set['func'](_0x5adedc){this['_func']=_0x5adedc,this['_dirty']=!(-0xb2*-0x35+-0x495+-0x2045);}get['func'](){return this['_func'];}set['ref'](_0x1ca529){this['_ref']=_0x1ca529,this['_dirty']=!(-0x23af+-0x599*-0x1+0x1e16);}get['ref'](){return this['_ref'];}set['fail'](_0x2a3fcd){this['_fail']=_0x2a3fcd,this['_dirty']=!(0x2ea+0x4f3+-0x7dd);}get['fail'](){return this['_fail'];}set['zfail'](_0x76fc40){this['_zfail']=_0x76fc40,this['_dirty']=!(-0x26ff+-0x1e88+0x4587);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x128039){this['_zpass']=_0x128039,this['_dirty']=!(0x53*-0x4f+0x49d+-0x380*-0x6);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x574319){this['_readMask']=_0x574319,this['_dirty']=!(-0xb5*0x2b+0x15ad*0x1+0x8ba);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x27a6d2){this['_writeMask']=_0x27a6d2,this['_dirty']=!(0xb*-0x22+-0x2519+0x268f);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x10a5ce,_ref:_0x3e2d3b,_fail:_0x4fffa1,_zfail:_0x3ffabc,_zpass:_0x47abf2,_readMask:_0xf461c3,_writeMask:_0xdcd6e1}=this,_0x225a7c=_0x10a5ce+','+_0x3e2d3b+','+_0x4fffa1+','+_0x3ffabc+','+_0x47abf2+','+_0xf461c3+','+_0xdcd6e1;this['_key']=MT['get'](_0x225a7c),this['_dirty']=!(-0x1991+-0x9*0x7+0x19d1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x4b4aed){return this['_func']=_0x4b4aed['_func'],this['_ref']=_0x4b4aed['_ref'],this['_readMask']=_0x4b4aed['_readMask'],this['_writeMask']=_0x4b4aed['_writeMask'],this['_fail']=_0x4b4aed['_fail'],this['_zfail']=_0x4b4aed['_zfail'],this['_zpass']=_0x4b4aed['_zpass'],this['_dirty']=_0x4b4aed['_dirty'],this['_key']=_0x4b4aed['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x3101b7,_0xf58541){var _0x33210b,_0x2e4555,_0x2e64ae,_0x177245,_0x26f0c8,_0x119110;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x45*-0x20+-0x5d8*-0x2+0x144f*-0x1)),h(this,'isWebGPU',!(0x141*0x5+0x23d7+-0x2a1b)),h(this,'isWebGL2',!(-0x18e8+-0x19a9+0x3292)),h(this,'isHdr',!(0xc5d+-0x653+-0x67*0xf)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0x31f+0x18*-0x189+0x2bf7),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0xcd+-0x26a2+-0xa7*-0x3a),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x1*-0x1d9d+-0x199b+-0x401),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0xa73+-0x1c6*-0xa+0x1*-0x1c2e)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x3*0x79d+0x2*0x48b+-0x2*0xff6)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',-0xd1c+0x73*0x45+-0x1*0x11e3),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x217+-0x1858+0x18*0x11a)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x1189*0x1+-0x2*0x120d+0x1292)),h(this,'supportsCl'+'ipDistance'+'s',!(0x1df2*0x1+-0x14f7+-0x8fa)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x180a+-0x24b0+0xca7)),h(this,'textureFlo'+'atFilterab'+'le',!(0x1960+0x123+-0x1a82)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x2*-0x9c+-0x1845+0xd*0x1c6)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0xa*0x1b7+0x1*0x3ab+0x11*0xcb,0x10ed*0x1+0x2513+0x240*-0x18,0x23aa+-0x25c9+-0x21f*-0x1,-0x184+-0x19c*0x8+0xe65],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x1*-0x199f+0xc7a+-0x693*-0x2)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x3101b7,'setAttribu'+'te'in _0x3101b7&&_0x3101b7['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0xf58541},(_0x33210b=this['initOption'+'s'])['alpha']??(_0x33210b['alpha']=!(-0xe74+0xf4*-0x21+0x2de8)),(_0x2e4555=this['initOption'+'s'])['depth']??(_0x2e4555['depth']=!(-0x152c+0x2*-0x1114+0x1baa*0x2)),(_0x2e64ae=this['initOption'+'s'])['stencil']??(_0x2e64ae['stencil']=!(-0x1bfb+0x2*-0xc89+0x350d)),(_0x177245=this['initOption'+'s'])['antialias']??(_0x177245['antialias']=!(-0x1b60+-0x1069+0xb*0x3fb)),(_0x26f0c8=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x26f0c8['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x119110=this['initOption'+'s'])['displayFor'+'mat']??(_0x119110['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x2*-0x8aa+-0x1*0x1884+0x731,window['devicePixe'+'lRatio']):-0x222b+0x579*0x4+0xc48,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x5f*-0x43+0x1*-0x132d+-0x1605*-0x2,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x40f*-0x4+-0x16df+0x6a3,this['_primsPerF'+'rame']=[]);for(let _0x5127b7=cd;_0x5127b7<=oa;_0x5127b7++)this['_primsPerF'+'rame'][_0x5127b7]=0x2*-0xbfd+-0x1db4+0x35ae;this['_renderTar'+'getCreatio'+'nTime']=-0x2256+0x319*-0x1+0x256f,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x129*0xd+-0x11*0xee+0x1ee3);}['postInit'](){const _0x97f1a5=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x298a8b=new Float32Array([-(-0xe9f+0xf1+0xdaf),-(0xf08+-0xb9c+0x23*-0x19),0x1481+0x4ea*0x4+-0x2828,-(0x1615*-0x1+-0x11*0x10d+0x27f3),-(-0x277*-0x2+0x18c0+0x6b*-0x47),-0x1efd*0x1+-0x2*-0x2f6+0x1912,0xd17+-0xd7+-0xc3f,-0x26a1+0x1296+0x140c]);this['quadVertex'+'Buffer']=new Is(this,_0x97f1a5,0x3*0x869+0x1bb5*-0x1+0x27e,{'data':_0x298a8b});}['initCapsDe'+'fines'](){const {capsDefines:_0x3789d9}=this;_0x3789d9['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x3789d9['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x3789d9['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x4c5e8c,_0x3d6fa5,_0x33ec73;this['fire']('destroy'),(_0x4c5e8c=this['quadVertex'+'Buffer'])==null||_0x4c5e8c['destroy'](),this['quadVertex'+'Buffer']=null,(_0x3d6fa5=this['dynamicBuf'+'fers'])==null||_0x3d6fa5['destroy'](),this['dynamicBuf'+'fers']=null,(_0x33ec73=this['gpuProfile'+'r'])==null||_0x33ec73['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x3493c5){this['fire']('destroy:sh'+'ader',_0x3493c5);const _0x5beac0=this['shaders']['indexOf'](_0x3493c5);_0x5beac0!==-(-0x24fc+-0x14*0x1a5+0x59*0xc9)&&this['shaders']['splice'](_0x5beac0,0x68f+-0x1eeb+0x185d);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x5de159;this['contextLos'+'t']=!(0xa*-0x3b3+-0x1cdd+0x41db),this['backBuffer'+'Size']['set'](-(0x25f*-0xd+0x29*-0x3+0x1f4f*0x1),-(0x1dec+-0x33d+0x2ab*-0xa));for(const _0x498e7b of this['textures'])_0x498e7b['loseContex'+'t']();for(const _0x2d48ee of this['buffers'])_0x2d48ee['loseContex'+'t']();for(const _0x8b0ff3 of this['targets'])_0x8b0ff3['loseContex'+'t']();(_0x5de159=this['gpuProfile'+'r'])==null||_0x5de159['loseContex'+'t']();}['restoreCon'+'text'](){var _0x26ae2a,_0x38a328;this['contextLos'+'t']=!(-0x1b50+0xc18+0xf39),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4ec6b7 of this['buffers'])_0x4ec6b7['unlock']();(_0x38a328=(_0x26ae2a=this['gpuProfile'+'r'])==null?void(-0x19*0x8b+0x22dd+0x1*-0x154a):_0x26ae2a['restoreCon'+'text'])==null||_0x38a328['call'](_0x26ae2a);}['toJSON'](_0x4ddab4){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x2631*0x1+0x389*0x9+0x1d*-0x26a),this['shaderAsyn'+'cCompile']=!(0x1*-0x8a5+-0x22d5*-0x1+0x1*-0x1a2f),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0xf22+-0xd30+-0x1f2,this['sx']=this['sy']=this['sw']=this['sh']=-0xb0d+0x2*0x1ca+0x1*0x779,this['blendColor']=new ie(-0x38*-0x4b+0x131e+0x2*-0x11c3,-0x95*-0x31+-0x1db3+-0x12e*-0x1,0x1d9f+-0x69b+-0x1704,-0x1401*-0x1+0x4b6+0x39*-0x6f);}['setStencil'+'State'](_0x2e9269,_0x3c705f){w['assert'](!(-0x499*-0x2+-0xf7e*0x1+0x64d));}['setBlendSt'+'ate'](_0xbaba70){w['assert'](!(0x59a+0x39f+-0x938));}['setBlendCo'+'lor'](_0xde74d6,_0x5b1238,_0x3b28bc,_0x52d758){w['assert'](!(0x1f71+0xbde*-0x1+-0x1392));}['setDepthSt'+'ate'](_0x522a17){w['assert'](!(-0x2*-0x989+0x21b8+-0x1*0x34c9));}['setCullMod'+'e'](_0x3827d1){w['assert'](!(-0x1e6f+0x1a*0x101+0x456));}['setRenderT'+'arget'](_0x55cc26){this['renderTarg'+'et']=_0x55cc26;}['setVertexB'+'uffer'](_0x141644){_0x141644&&this['vertexBuff'+'ers']['push'](_0x141644);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1*0x5c2+0x10*-0x1b+-0x1*0x412;}['getIndirec'+'tDrawSlot'](){return 0x6*-0x17b+0x3*0x783+-0xda7;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0xd39c4e){if(_0xd39c4e['initialize'+'d'])return;const _0x407c15=de();this['fire']('fbo:create',{'timestamp':_0x407c15,'target':this}),_0xd39c4e['init'](),this['targets']['add'](_0xd39c4e),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x407c15;}['draw'](_0x5c57bb,_0x2cbdff,_0x4acd5e,_0x113128,_0x1fa281=!(0x26bf+0x6*-0x184+-0x1da7),_0x7d54f=!(0x1*0xfa7+0xa7*0x2f+-0x2e50)){w['assert'](!(-0x3d*0xa3+-0x1197+-0x386f*-0x1));}['_isBrowser'+'Interface'](_0x3739b1){return this['_isImageBr'+'owserInter'+'face'](_0x3739b1)||this['_isImageCa'+'nvasInterf'+'ace'](_0x3739b1)||this['_isImageVi'+'deoInterfa'+'ce'](_0x3739b1);}['_isImageBr'+'owserInter'+'face'](_0x1920df){return typeof ImageBitmap<'u'&&_0x1920df instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x1920df instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x1dae06){return typeof HTMLCanvasElement<'u'&&_0x1dae06 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x4d6cd0){return typeof HTMLVideoElement<'u'&&_0x4d6cd0 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x18edcb,_0x264a27){const _0x12aac8=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0xfa2+-0x1*-0x22ee+-0x328f),_0x5ff848=Math['floor'](_0x18edcb*_0x12aac8),_0x1dfe0e=Math['floor'](_0x264a27*_0x12aac8);(_0x5ff848!==this['canvas']['width']||_0x1dfe0e!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x5ff848,_0x1dfe0e);}['setResolut'+'ion'](_0x5606a1,_0xbd7009){this['canvas']['width']=_0x5606a1,this['canvas']['height']=_0xbd7009,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x5606a1,_0xbd7009);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x2ae9bc=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x2ae9bc['width'],this['clientRect']['height']=_0x2ae9bc['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x4c4d95){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xf51*-0x1+0x1b2b*0x1+-0xbd9);}set['maxPixelRa'+'tio'](_0x3fc942){this['_maxPixelR'+'atio']=_0x3fc942;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x1626bc){}['endRenderP'+'ass'](_0x582c39){}['startCompu'+'tePass'](_0x47b435){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1d58+-0xb*-0xe5+-0x1381*-0x1,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x19ffe3=this['textures']['slice']();_0x19ffe3['sort']((_0x13caab,_0x515407)=>_0x515407['gpuSize']-_0x13caab['gpuSize']),w['log']('Textures:\x20'+_0x19ffe3['length']);let _0x32288f=0x1*-0x86d+-0x1*-0xf7e+0xc9*-0x9;_0x19ffe3['forEach']((_0x22dcfe,_0x5bd15f)=>{const _0x805982=_0x22dcfe['gpuSize'];_0x32288f+=_0x805982,w['log'](_0x5bd15f+'.\x20'+_0x22dcfe['name']+'\x20'+_0x22dcfe['width']+'x'+_0x22dcfe['height']+'\x20VRAM:\x20'+(_0x805982/(0x17*0x32+0x1*-0x147d+-0x13ff*-0x1)/(0x23b6+-0xa58*0x1+0x155e*-0x1))['toFixed'](0xad*0xf+0x1083+0x14*-0x155)+'\x20MB');}),w['log']('Total:\x20'+(_0x32288f/(-0x1e9*0x5+0x1b81+-0xdf4)/(0x14fd+-0x12b6+-0x1*-0x1b9))['toFixed'](-0x1cde+-0x1*0x1628+0x47*0xb8)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0xbe3e7e=>_0xbe3e7e['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x54a83d,_0x5dcaef='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x41ec3e=[In,nt,Xt],_0x3e50fc=!(0x38*-0x41+0x4ce+0x96a),_0x34536f=-0x1de2+0x88c*0x3+0x43f){for(let _0x5391b5=-0x20b*0x10+-0x16fe+0x1*0x37ae;_0x5391b5<_0x41ec3e['length'];_0x5391b5++){const _0x5ccfb9=_0x41ec3e[_0x5391b5];switch(_0x5ccfb9){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x5ccfb9;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x5ccfb9;break;case Xt:if(this['isWebGPU']&&_0x34536f>-0x2*0x333+-0x16*0x52+-0xb*-0x139)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x3e50fc||this['textureFlo'+'atFilterab'+'le']))return _0x5ccfb9;break;}}}['validateAt'+'tributes'](_0x5cab20,_0x430603,_0x14ef10){w['call'](()=>{ql['clear'](),_0x430603==null||_0x430603['elements']['forEach'](_0x15ae25=>ql['add'](Le[_0x15ae25['name']])),_0x14ef10==null||_0x14ef10['elements']['forEach'](_0x1bf797=>ql['add'](Le[_0x1bf797['name']]));for(const [_0x4ebe8c,_0x2d6ff1]of _0x5cab20['attributes'])ql['has'](_0x4ebe8c)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x2d6ff1+(']\x20at\x20locat'+'ion\x20')+_0x4ebe8c+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x5cab20,'vb0Format':_0x430603,'vb1Format':_0x14ef10});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x1c93+0x1*-0x1eeb+0x3b7e*0x1;class gt{constructor(_0x1dd7ec={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x3e118a,_0x594117,_0x60ba2d,_0x12e8da,_0x2b6dca,_0x4eadbd;w['assert'](!(_0x1dd7ec instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x24b238=((_0x3e118a=_0x1dd7ec['colorBuffe'+'r'])==null?void(-0x13d8+0x22*0x105+0x769*-0x2):_0x3e118a['device'])??((_0x594117=_0x1dd7ec['colorBuffe'+'rs'])==null?void(0xa1f*0x1+-0x3*-0x985+-0x26ae*0x1):_0x594117[-0x923*-0x2+0x24d4+-0x371a]['device'])??((_0x60ba2d=_0x1dd7ec['depthBuffe'+'r'])==null?void(0x94+-0x1*0xb85+0xaf1):_0x60ba2d['device'])??_0x1dd7ec['graphicsDe'+'vice'];w['assert'](_0x24b238,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x24b238;const {maxSamples:_0x200299}=this['_device'];if(this['_samples']=Math['min'](_0x1dd7ec['samples']??0x6*-0x182+0x48e*-0x1+-0x3*-0x489,_0x200299),_0x24b238['isWebGPU']&&(this['_samples']=this['_samples']>0x1*0x52f+0x18a8+-0x1dd6?_0x200299:-0x1*-0x6e5+-0x7*0x47d+-0x27*-0xa1),this['_colorBuff'+'er']=_0x1dd7ec['colorBuffe'+'r'],_0x1dd7ec['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x1dd7ec['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x1dd7ec['depthBuffe'+'r'],this['_face']=_0x1dd7ec['face']??0x9d*-0x5+-0x1*0x24af+0x27c0,this['_depthBuff'+'er']){const _0x444a94=this['_depthBuff'+'er']['_format'];_0x444a94===$i||_0x444a94===vn?(this['_depth']=!(0xe09+0x1b5c+0x2965*-0x1),this['_stencil']=!(0xb6b+0x1*0x819+-0x681*0x3)):_0x444a94===sd?(this['_depth']=!(0x1*0x147e+-0x1858+0x3a*0x11),this['_stencil']=!(-0xb*-0x257+-0x1553+-0x46a)):_0x444a94===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x1032*-0x1+0x1*0x56b+-0x159c?(this['_depth']=!(0x1e8e+-0x269a+0x80c),this['_stencil']=!(-0x8*0x1f+0x23e+-0x145)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x15a9+0x1*-0xe8d+-0x2437*-0x1),this['_stencil']=!(-0x53b*0x5+-0x1a*-0x6d+0x1*0xf16));}else this['_depth']=_0x1dd7ec['depth']??!(0x344+0xdcf+-0x8d*0x1f),this['_stencil']=_0x1dd7ec['stencil']??!(0x2*-0xde5+-0x5d9+0x10d2*0x2);_0x1dd7ec['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x1dd7ec['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x1dd7ec['colorBuffe'+'rs'][-0x1f2*0xd+0xc4b*-0x1+0x2595*0x1])),this['autoResolv'+'e']=_0x1dd7ec['autoResolv'+'e']??!(-0xe0d*-0x1+-0x2f5+-0x1*0xb18),this['name']=_0x1dd7ec['name'],this['name']||(this['name']=(_0x12e8da=this['_colorBuff'+'er'])==null?void(0x1d89+-0xee*0x17+-0x827*0x1):_0x12e8da['name']),this['name']||(this['name']=(_0x2b6dca=this['_depthBuff'+'er'])==null?void(0x1fa4+-0x16*0x121+-0x1a*0x43):_0x2b6dca['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x1dd7ec['flipY']??!(-0x2*0x166+-0x3da*-0x2+-0xfb*0x5),this['_mipLevel']=_0x1dd7ec['mipLevel']??-0x12bc+-0x28*-0x69+-0x2*-0x12a,this['_mipLevel']>-0xb7f+-0x3dc+0xf5b&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x1dd7ec}),this['_mipLevel']=-0x2*-0xf67+-0xd36*0x1+-0x1*0x1198),this['_mipmaps']=_0x1dd7ec['mipLevel']===void(0xe6e+-0x1*-0x2693+-0x3501),this['validateMr'+'t'](),this['impl']=_0x24b238['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4eadbd=this['_colorBuff'+'ers'])!=null&&_0x4eadbd['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2b5579=this['_device'];_0x2b5579&&(_0x2b5579['targets']['delete'](this),_0x2b5579['renderTarg'+'et']===this&&_0x2b5579['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1072f8=this['_device'];_0x1072f8&&this['impl']['destroy'](_0x1072f8);}['destroyTex'+'tureBuffer'+'s'](){var _0x539e87,_0x575b0f;(_0x539e87=this['_depthBuff'+'er'])==null||_0x539e87['destroy'](),this['_depthBuff'+'er']=null,(_0x575b0f=this['_colorBuff'+'ers'])==null||_0x575b0f['forEach'](_0x24c691=>{_0x24c691['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x139f88,_0x19e52){var _0x548eb2,_0x2cbea2;if(this['width']!==_0x139f88||this['height']!==_0x19e52){if(this['mipLevel']>0x551*-0x3+-0x20d8+0x30cb){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x4717bc=this['_device'];this['destroyFra'+'meBuffers'](),_0x4717bc['renderTarg'+'et']===this&&_0x4717bc['setRenderT'+'arget'](null),(_0x548eb2=this['_depthBuff'+'er'])==null||_0x548eb2['resize'](_0x139f88,_0x19e52),(_0x2cbea2=this['_colorBuff'+'ers'])==null||_0x2cbea2['forEach'](_0x271244=>{_0x271244['resize'](_0x139f88,_0x19e52);}),this['validateMr'+'t'](),this['impl']=_0x4717bc['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0xcb7301,height:_0xf9be17,cubemap:_0x1970bb,volume:_0x1906f6}=this['_colorBuff'+'ers'][-0x33+0x1391+-0x135e*0x1];for(let _0x32e573=0x71*-0x10+0x4c7*0x1+-0x24a*-0x1;_0x32e573<this['_colorBuff'+'ers']['length'];_0x32e573++){const _0x4c3aa9=this['_colorBuff'+'ers'][_0x32e573];w['assert'](_0x4c3aa9['width']===_0xcb7301,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x4c3aa9['height']===_0xf9be17,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x4c3aa9['cubemap']===_0x1970bb,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x4c3aa9['volume']===_0x1906f6,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x5397a1=!(-0x144a+0x4ae*0x1+0xf9c),_0xa6c46d=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x2*0x253+-0x179a+-0x17*-0xd3&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x5397a1?'[color]':'')+':'+(_0xa6c46d?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x5397a1,_0xa6c46d),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x23d350,_0x43db82,_0x53ca0a){if(!this['_device']){if(_0x23d350['_device'])this['_device']=_0x23d350['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1*0x21b9+0x1149+-0x3301);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x23d350['name']+'->'+this['name']);const _0x354fb6=this['_device']['copyRender'+'Target'](_0x23d350,this,_0x43db82,_0x53ca0a);return Q['popGpuMark'+'er'](this['_device']),_0x354fb6;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x6b8ba5){var _0x1bebf4;return(_0x1bebf4=this['_colorBuff'+'ers'])==null?void(-0x8*0x141+0xa8b*-0x1+-0xe5*-0x17):_0x1bebf4[_0x6b8ba5];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x21b224,_0x5e4b23;let _0x644397=((_0x21b224=this['_colorBuff'+'er'])==null?void(0x6*-0x221+-0x217f+-0x2e45*-0x1):_0x21b224['width'])||((_0x5e4b23=this['_depthBuff'+'er'])==null?void(-0x1f38+-0xb*0xcc+0x27fc):_0x5e4b23['width'])||this['_device']['width'];return this['_mipLevel']>0x5a4+0x1083+-0x1627&&(_0x644397=Xi['calcLevelD'+'imension'](_0x644397,this['_mipLevel'])),_0x644397;}get['height'](){var _0x517347,_0xdb20ff;let _0x21800c=((_0x517347=this['_colorBuff'+'er'])==null?void(0x1573+-0x2495+-0x95*-0x1a):_0x517347['height'])||((_0xdb20ff=this['_depthBuff'+'er'])==null?void(0x11*0x1c7+0x1*0x12fa+-0x3131):_0xdb20ff['height'])||this['_device']['height'];return this['_mipLevel']>0x181e+-0x33b*-0x8+-0x2*0x18fb&&(_0x21800c=Xi['calcLevelD'+'imension'](_0x21800c,this['_mipLevel'])),_0x21800c;}['isColorBuf'+'ferSrgb'](_0x199da4=0x1ab4+0x16b3+-0x3167*0x1){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x55ff43=this['getColorBu'+'ffer'](_0x199da4);return _0x55ff43?fh(_0x55ff43['format']):!(0x1f*0x95+-0xd6*-0x1+-0x12e0);}}const IT={'equals'(_0x5ecf2e,_0xae057b){if(_0x5ecf2e['length']!==_0xae057b['length'])return!(-0x979+-0x1*-0xecf+-0x555);for(let _0x42258a=-0xb7b*0x2+0x165f+0x97;_0x42258a<_0x5ecf2e['length'];_0x42258a++)if(_0x5ecf2e[_0x42258a]!==_0xae057b[_0x42258a])return!(0x1*-0x1fb9+-0x1901+0x38bb);return!(-0x21cc+0x1fc7+0x205);}};class wd{constructor(){h(this,'_refCount',0x1de+-0x8f9*-0x3+-0x1*0x1cc9);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x532fed){super(),h(this,'object'),(this['object']=_0x532fed,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x33b3dc=>{var _0x551b36;(_0x551b36=_0x33b3dc['object'])==null||_0x551b36['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x53431a){const _0x5c75f3=this['cache']['get'](_0x53431a);return _0x5c75f3?(_0x5c75f3['incRefCoun'+'t'](),_0x5c75f3['object']):null;}['set'](_0x5736d3,_0xb17c7f){w['assert'](!this['cache']['has'](_0x5736d3),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x5736d3,'object':_0xb17c7f}),this['cache']['set'](_0x5736d3,new LT(_0xb17c7f));}['release'](_0x32df29){var _0x22593c;const _0x109023=this['cache']['get'](_0x32df29);_0x109023?(_0x109023['decRefCoun'+'t'](),_0x109023['refCount']===-0x19fb+0xb1b*-0x1+0x1*0x2516&&(this['cache']['delete'](_0x32df29),(_0x22593c=_0x109023['object'])==null||_0x22593c['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x32df29});}}class OT extends RT{['loseContex'+'t'](_0x2e83a8){this['clear']();}}const FT=new Kt(),Fd=_0x39d0ec=>FT['get'](_0x39d0ec,()=>new OT()),At=[];At[Xs]=-0x1d05+0xd7*-0xb+-0x7a7*-0x5,At[ga]=0x1b6e*-0x1+-0x774*-0x2+0xc88,At[ds]=-0x1d1+-0x1*-0x1e79+-0x1ca5,At[Rn]=-0x15f0+0x1*-0x1f6d+0x3561,At[_a]=0xfe9*0x2+0x2*-0x187+0x1cc3*-0x1,At[ca]=0xb*-0x36d+0x1623*0x1+-0xb*-0x16a,At[ha]=-0x1*-0x1ccd+-0x7*-0x36e+-0xda*0x3e,At[da]=-0x2*0x377+-0x1*0x2318+-0x2a0a*-0x1,At[Tn]=-0x842+-0x321+0xb64,At[tl]=0x1a17*0x1+-0x1*0x1e9c+-0x1*-0x487,At[sl]=-0xfdc+0x1ba2+-0x1*0xbc3,At[il]=0x146+-0xe2f+0xced,At[_h]=0x4*-0x63a+0xdac+0xb44,At[On]=-0x12b9+-0xfdb+0x22a0,At[li]=0x23cf*-0x1+0x5fc+0x7*0x445,At[Fn]=0x26*0x3b+0x1*0x1fb9+-0x287a,At[Nn]=0x12b7*0x2+0x1be5+0x17*-0x2d7,At[kn]=-0xf7e+0x6cb+0x8b6,At[Un]=0x2*0xde+0x1*-0x1505+0x134d;class dt{constructor(_0x4d7ba3,_0x470b81,_0xc8438a=-0x7*0x103+0x17e5+0x21a*-0x8){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x4d7ba3,this['name']=_0xc8438a?_0x4d7ba3+'[0]':_0x4d7ba3,this['type']=_0x470b81,this['numCompone'+'nts']=At[_0x470b81],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x470b81+'\x20used\x20for\x20'+_0x4d7ba3),this['updateType']=_0x470b81,_0xc8438a>-0x7a6+0x1*0x2096+-0x18f0)switch(_0x470b81){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x470b81]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x4d7ba3+'\x27.'),w['call'](()=>{this['invalid']=!(-0x99b+-0x1*-0xb14+0x1*-0x179);});break;}this['count']=_0xc8438a,w['assert'](!isNaN(_0xc8438a),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x4d7ba3+'['+_0xc8438a+']'),w['call'](()=>{isNaN(_0xc8438a)&&(this['invalid']=!(0x20ee+0x23bf+-0x44ad));});let _0x5c0672=this['numCompone'+'nts'];_0xc8438a&&(_0x5c0672=Y['roundUp'](_0x5c0672,0x9ec+-0x1b5d+0x1175)),this['byteSize']=_0x5c0672*(0x2632+-0x1467*0x1+0x6f*-0x29),_0xc8438a&&(this['byteSize']*=_0xc8438a),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x470b81+'\x20used\x20for\x20'+_0x4d7ba3);}get['isArrayTyp'+'e'](){return this['count']>0x1b6a*0x1+0xc09+-0x2773;}['calculateO'+'ffset'](_0x522cef){let _0x81973c=this['byteSize']<=0x199a*-0x1+-0x820+-0x10e1*-0x2?this['byteSize']:-0x12bb*-0x2+-0x1d*-0xe3+-0x3f1d*0x1;this['count']&&(_0x81973c=0xa*0xd3+-0x58*-0x3a+0x76*-0x3d),_0x522cef=Y['roundUp'](_0x522cef,_0x81973c),this['offset']=_0x522cef/(0x833+0x1*-0x1601+0xdd2*0x1);}}class zy{constructor(_0x400333,_0x4d59c){h(this,'byteSize',0xf6c+0x4*0x4ff+-0x8*0x46d),h(this,'map',new Map()),(this['scope']=_0x400333['scope'],this['uniforms']=_0x4d59c);let _0x29ad4c=0x35*-0x8a+0x5e*-0x5c+0x3e5a;for(let _0x544f73=-0x5c*0xd+0x1f74+-0x1ac8;_0x544f73<_0x4d59c['length'];_0x544f73++){const _0x2e1593=_0x4d59c[_0x544f73];_0x2e1593['calculateO'+'ffset'](_0x29ad4c),_0x29ad4c=_0x2e1593['offset']*(-0xfc+-0x6*-0x16b+-0x782)+_0x2e1593['byteSize'],_0x2e1593['scopeId']=this['scope']['resolve'](_0x2e1593['name']),this['map']['set'](_0x2e1593['name'],_0x2e1593);}this['byteSize']=Y['roundUp'](_0x29ad4c,0x17d3+0xab7+-0x227a);}['get'](_0x5a3547){return this['map']['get'](_0x5a3547);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x68e48c,_0xf61849=new Map(),_0x1030bd={}){Lt['sourceName']=_0x1030bd['sourceName'],_0x68e48c=this['stripComme'+'nts'](_0x68e48c),_0x68e48c=_0x68e48c['split'](/\r?\n/)['map'](_0x3839c9=>_0x3839c9['trimEnd']())['join']('\x0a');const _0x40687b=new Map(),_0x163a56=new Map();if(_0x68e48c=this['_preproces'+'s'](_0x68e48c,_0x40687b,_0x163a56,_0xf61849,_0x1030bd['stripDefin'+'es']),_0x68e48c===null)return null;const _0xc6ab2c=new Map();return _0x40687b['forEach']((_0x38ee07,_0x246f02)=>{Number['isInteger'](parseFloat(_0x38ee07))&&!_0x38ee07['includes']('.')&&_0xc6ab2c['set'](_0x246f02,_0x38ee07);}),_0x68e48c=this['stripComme'+'nts'](_0x68e48c),_0x68e48c=this['stripUnuse'+'dColorAtta'+'chments'](_0x68e48c,_0x1030bd),_0x68e48c=this['RemoveEmpt'+'yLines'](_0x68e48c),_0x68e48c=this['processArr'+'aySize'](_0x68e48c,_0xc6ab2c),_0x68e48c=this['injectDefi'+'nes'](_0x68e48c,_0x163a56),_0x68e48c;}static['stripUnuse'+'dColorAtta'+'chments'](_0x208e9f,_0x3724a8){if(_0x3724a8['stripUnuse'+'dColorAtta'+'chments']){const _0x196d0a=new Map(),_0x249579=_0x208e9f['match'](a_);if(_0x249579==null||_0x249579['forEach'](_0x448186=>{const _0x2fa08d=parseInt(_0x448186['charAt'](_0x448186['length']-(0x2259+0x2*0x4bd+-0x2*0x15e9)),0x14b0*0x1+-0x31*0x43+-0x7d3);_0x196d0a['set'](_0x2fa08d,(_0x196d0a['get'](_0x2fa08d)??-0x695*-0x2+0x15ca+-0x22f4)+(0x2*0xcd8+0x1*-0xd45+-0xc6a));}),Array['from'](_0x196d0a['values']())['some'](_0x18614f=>_0x18614f===0x320+-0x4d+0x1*-0x2d2)){const _0x2e51e5=_0x208e9f['split']('\x0a'),_0x3c2180=[];for(let _0x3bef4d=0x1*0x1997+-0xa3b+0x4*-0x3d7;_0x3bef4d<_0x2e51e5['length'];_0x3bef4d++){const _0x572020=_0x2e51e5[_0x3bef4d]['match'](a_);if(_0x572020){const _0xf5d03c=parseInt(_0x572020[-0x2542+0x688+-0x1b5*-0x12]['charAt'](_0x572020[0x5d+0x8*-0x1bd+-0xd8b*-0x1]['length']-(0x668+0xe19+-0x4*0x520)),0x4*0x70b+-0xda3+-0x1*0xe7f);if(_0xf5d03c>-0x1113+0x11b9+-0xa6&&_0x196d0a['get'](_0xf5d03c)===-0xfc6+-0x12*0x1e6+0x2a1*0x13)continue;}_0x3c2180['push'](_0x2e51e5[_0x3bef4d]);}_0x208e9f=_0x3c2180['join']('\x0a');}}return _0x208e9f;}static['stripComme'+'nts'](_0x4d371e){return _0x4d371e['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x36d958,_0x1c3a13){return _0x36d958!==null&&_0x1c3a13['forEach']((_0x372118,_0x1fe3dc)=>{_0x36d958=_0x36d958['replace'](new RegExp('\x5c['+_0x1fe3dc+'\x5c]','g'),'['+_0x372118+']');}),_0x36d958;}static['injectDefi'+'nes'](_0x88e0d0,_0x3efcec){if(_0x88e0d0!==null&&_0x3efcec['size']>-0x2f5+0xfe1+-0xcec){const _0x481f98=_0x88e0d0['split']('\x0a');_0x3efcec['forEach']((_0x30e79b,_0x19fd4a)=>{const _0x5d18b8=new RegExp(_0x19fd4a,'g');for(let _0x1ba8b1=-0x1d0c+0x1d*-0x11+0x9*0x371;_0x1ba8b1<_0x481f98['length'];_0x1ba8b1++)_0x481f98[_0x1ba8b1]['includes']('#')||(_0x481f98[_0x1ba8b1]=_0x481f98[_0x1ba8b1]['replace'](_0x5d18b8,_0x30e79b));}),_0x88e0d0=_0x481f98['join']('\x0a');}return _0x88e0d0;}static['RemoveEmpt'+'yLines'](_0x1df9f2){return _0x1df9f2!==null&&(_0x1df9f2=_0x1df9f2['split'](/\r?\n/)['map'](_0xd7e3e9=>_0xd7e3e9['trim']()===''?'':_0xd7e3e9)['join']('\x0a'),_0x1df9f2=_0x1df9f2['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x1df9f2;}static['_preproces'+'s'](_0x1c1ff3,_0xd043a0=new Map(),_0x57b3b8,_0x290c6e,_0x54b086){var _0x2c1b26;const _0x2e98d8=_0x1c1ff3,_0x840cbb=[];let _0x36a74c=!(0x115f+-0x1*-0x14c9+0x1*-0x2627),_0x201cd7;for(;(_0x201cd7=Fs['exec'](_0x1c1ff3))!==null&&!_0x36a74c;){const _0x50ec32=_0x201cd7[-0x3*-0x13+-0x216f+0x2137];switch(_0x50ec32){case'define':{Nd['lastIndex']=_0x201cd7['index'];const _0x49faf7=Nd['exec'](_0x1c1ff3);w['assert'](_0x49faf7,'Invalid\x20['+_0x50ec32+']:\x20'+_0x1c1ff3['substring'](_0x201cd7['index'],_0x201cd7['index']+(-0x1de1*0x1+-0xb*0x18d+-0x34*-0xe9))+'...'),_0x36a74c||(_0x36a74c=_0x49faf7===null);const _0x224bb9=_0x49faf7[0x5*-0x34a+-0x1812+0x2885];r_['lastIndex']=_0x49faf7['index'];const _0x599f86=r_['exec'](_0x224bb9)[0x9a2+0x1*-0x98e+-0x14];let _0x476dbc=_0x224bb9['substring'](_0x599f86['length'])['trim']();_0x476dbc===''&&(_0x476dbc='true');const _0x5745ec=Lt['_keep'](_0x840cbb);let _0x6cbc11=_0x54b086;if(_0x5745ec){const _0x23427e=_0x599f86['startsWith']('{')&&_0x599f86['endsWith']('}');_0x23427e&&(_0x6cbc11=!(0x2481+0xfe1+-0x5*0xa7a)),_0x23427e?_0x57b3b8['set'](_0x599f86,_0x476dbc):_0xd043a0['set'](_0x599f86,_0x476dbc),_0x6cbc11&&(_0x1c1ff3=_0x1c1ff3['substring'](0x1*0xc55+0x69c+-0x12f1,_0x49faf7['index']-(-0xdc9*0x2+-0xa9a+0x262d))+_0x1c1ff3['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x49faf7['index']-(-0x529*-0x1+-0x2221+0x1cf9*0x1));}w['trace'](Lr,_0x50ec32+':\x20['+_0x599f86+']\x20'+_0x476dbc+'\x20'+(_0x5745ec?'':'IGNORED')),_0x6cbc11||(Fs['lastIndex']=_0x49faf7['index']+_0x49faf7[-0x25de+0xc26*-0x2+0x3e2a]['length']);break;}case'undef':{kd['lastIndex']=_0x201cd7['index'];const _0x4c7ed2=kd['exec'](_0x1c1ff3),_0x552c64=_0x4c7ed2[0x2*-0x1183+-0x1e53+0x46*0xef]['trim'](),_0x173bfe=Lt['_keep'](_0x840cbb);_0x173bfe&&(_0xd043a0['delete'](_0x552c64),_0x54b086&&(_0x1c1ff3=_0x1c1ff3['substring'](-0x1d63+0x1f9*-0x1+0x29d*0xc,_0x4c7ed2['index']-(0x1b6f+0x2635+0x3*-0x15e1))+_0x1c1ff3['substring'](kd['lastIndex']),Fs['lastIndex']=_0x4c7ed2['index']-(-0x1*-0x231a+0x3fc+-0x2715))),w['trace'](Lr,_0x50ec32+':\x20['+_0x552c64+']\x20'+(_0x173bfe?'':'IGNORED')),_0x54b086||(Fs['lastIndex']=_0x4c7ed2['index']+_0x4c7ed2[-0x4*-0xba+-0x16ba*-0x1+-0x19a2]['length']);break;}case'extension':{i_['lastIndex']=_0x201cd7['index'];const _0x44d83b=i_['exec'](_0x1c1ff3);if(w['assert'](_0x44d83b,'Invalid\x20['+_0x50ec32+']:\x20'+_0x1c1ff3['substring'](_0x201cd7['index'],_0x201cd7['index']+(0x6e*0x29+0x1a43+-0x2b7d))+'...'),_0x36a74c||(_0x36a74c=_0x44d83b===null),_0x44d83b){const _0xe1ac60=_0x44d83b[0x6a*-0x7+0x9*-0xc2+0x9b9],_0x352022=Lt['_keep'](_0x840cbb);_0x352022&&_0xd043a0['set'](_0xe1ac60,'true'),w['trace'](Lr,_0x50ec32+':\x20['+_0xe1ac60+']\x20'+(_0x352022?'':'IGNORED'));}Fs['lastIndex']=_0x44d83b['index']+_0x44d83b[-0x5*0x27f+-0x1*-0x9+0xc72]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x201cd7['index'];const _0x309fec=Ud['exec'](_0x1c1ff3),_0x23ac0f=_0x309fec[0x28d*0x1+0xc99+-0xf24],_0x4d063b=Lt['evaluate'](_0x23ac0f,_0xd043a0);_0x36a74c||(_0x36a74c=_0x4d063b['error']);let _0x4cd797=_0x4d063b['result'];_0x50ec32==='ifndef'&&(_0x4cd797=!_0x4cd797),_0x840cbb['push']({'anyKeep':_0x4cd797,'keep':_0x4cd797,'start':_0x201cd7['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x50ec32+':\x20['+_0x23ac0f+']\x20=>\x20'+_0x4cd797),Fs['lastIndex']=_0x309fec['index']+_0x309fec[0x1*-0xefb+0x3b2+-0x141*-0x9]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x201cd7['index'];const _0x32c500=Bd['exec'](_0x1c1ff3),_0x381979=_0x840cbb['pop']();if(!_0x381979){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x32c500[0x2*0xe01+0x189c+-0x1*0x349d]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1c1ff3['substring'](_0x201cd7['index'],_0x201cd7['index']+(0xaed*0x2+-0x1ed6+0x960))+'...',{'source':_0x2e98d8}),_0x36a74c=!(0x269*-0x7+-0x248c*0x1+0x356b);continue;}const _0x324f94=_0x381979['keep']?_0x1c1ff3['substring'](_0x381979['end'],_0x201cd7['index']):'';w['trace'](Lr,_0x50ec32+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x324f94!=='')),_0x1c1ff3=_0x1c1ff3['substring'](-0x9fb+0x476+0x3*0x1d7,_0x381979['start'])+_0x324f94+_0x1c1ff3['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x381979['start']+_0x324f94['length'];const _0x7b619b=_0x32c500[0xf*0xbf+-0x345+0x1*-0x7eb];if(_0x7b619b==='else'||_0x7b619b==='elif'){let _0x3a5e46=!(-0x6*0xc8+-0x1d2*0x2+0x855);if(!_0x381979['anyKeep']){if(_0x7b619b==='else')_0x3a5e46=!_0x381979['keep'];else{const _0x716012=Lt['evaluate'](_0x32c500[-0x7a7*-0x1+-0x558+-0x13*0x1f],_0xd043a0);_0x3a5e46=_0x716012['result'],_0x36a74c||(_0x36a74c=_0x716012['error']);}}_0x840cbb['push']({'anyKeep':_0x381979['anyKeep']||_0x3a5e46,'keep':_0x3a5e46,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x50ec32+':\x20['+_0x32c500[-0x23*-0x70+0x39*0x18+-0x3*0x6e2]+']\x20=>\x20'+_0x3a5e46);}break;}case'include':{zd['lastIndex']=_0x201cd7['index'];const _0x369608=zd['exec'](_0x1c1ff3);if(_0x36a74c||(_0x36a74c=_0x369608===null),!_0x369608){w['assert'](_0x369608,'Invalid\x20['+_0x50ec32+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x1c1ff3['substring'](_0x201cd7['index'],_0x201cd7['index']+(0x30*0x3+0x26*-0x16+-0x108*-0x3))+'...'),_0x36a74c=!(0xccc+-0x2*-0x197+-0xa*0x199);continue;}const _0x587ce3=_0x369608[0x22d8+-0x17c7+-0xb10]['trim'](),_0x524158=(_0x2c1b26=_0x369608[-0xe4d+0x2132+-0x12e3])==null?void(0x971+0x3a1*0x8+0xc9*-0x31):_0x2c1b26['trim'](),_0x548438=Lt['_keep'](_0x840cbb);if(_0x548438){let _0x386e2a=_0x290c6e==null?void(-0x12*0x9+-0x343+0x1*0x3e5):_0x290c6e['get'](_0x587ce3);if(_0x386e2a!==void(-0x8ec+0x2*-0xe9e+0x2628)){if(_0x386e2a=this['stripComme'+'nts'](_0x386e2a),_0x524158){const _0x4c34e4=_0xd043a0['get'](_0x524158),_0x38cb10=parseFloat(_0x4c34e4);if(Number['isInteger'](_0x38cb10)){let _0x59f4e5='';for(let _0x2cb382=0x8*-0x1d9+-0x7*0xc6+0xa19*0x2;_0x2cb382<_0x38cb10;_0x2cb382++)_0x59f4e5+=_0x386e2a['replace'](VT,String(_0x2cb382));_0x386e2a=_0x59f4e5;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x524158+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1c1ff3['substring'](_0x201cd7['index'],_0x201cd7['index']+(-0x25b3+-0x5a1+0x2bb8))+'...',{'originalSource':_0x2e98d8,'source':_0x1c1ff3}),_0x36a74c=!(-0x2304+-0x1*0x1a6b+0x3d6f);}_0x1c1ff3=_0x1c1ff3['substring'](0xc1c+-0x124a+0x62e,_0x369608['index']-(0x47f*-0x4+-0x42b+0x1628))+_0x386e2a+_0x1c1ff3['substring'](zd['lastIndex']),Fs['lastIndex']=_0x369608['index']-(0x2067+0xf7*0x3+0x5*-0x70f);}else{console['error']('Include\x20\x22'+_0x587ce3+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x2e98d8,'source':_0x1c1ff3}),_0x36a74c=!(0x19af+0x9*-0x16d+-0x292*0x5);continue;}}w['trace'](Lr,_0x50ec32+':\x20['+_0x587ce3+']\x20'+(_0x548438?'':'IGNORED'));break;}}}return _0x840cbb['length']>-0x15bc+-0x1bf1+0x9*0x585&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x36a74c=!(-0xed7+-0xa6b+-0x3d*-0x6a)),_0x36a74c?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x2e98d8}),null):_0x1c1ff3;}static['_keep'](_0x4efe73){for(let _0x10108b=0x76*-0x3b+0x81c+-0x2ba*-0x7;_0x10108b<_0x4efe73['length'];_0x10108b++)if(!_0x4efe73[_0x10108b]['keep'])return!(0x1280+0x1d17*-0x1+0xa98);return!(-0x9*-0xab+-0x1398+0xd95);}static['evaluateAt'+'omicExpres'+'sion'](_0x3b2127,_0x1d62b3){let _0xf64d41=!(0x17ea*-0x1+0x379*-0x6+0x2cc1);_0x3b2127=_0x3b2127['trim']();let _0x4b28b4=!(0x1689+0x23b5+0x3a3d*-0x1);if(_0x3b2127==='true')return{'result':!(-0x134*-0x13+0x1d*-0x1c+-0x1f8*0xa),'error':_0xf64d41};if(_0x3b2127==='false')return{'result':!(0x1*-0x17bf+-0x1*-0x923+0x57*0x2b),'error':_0xf64d41};const _0x1b8013=NT['exec'](_0x3b2127);if(_0x1b8013){_0x4b28b4=_0x1b8013[-0xc*0x39+-0x23ef+0x9a7*0x4]==='!',_0x3b2127=_0x1b8013[0x16c9+-0x1f19+0x852]['trim']();const _0xb51b87=_0x1d62b3['has'](_0x3b2127);return{'result':_0x4b28b4?!_0xb51b87:_0xb51b87,'error':_0xf64d41};}const _0x3b5093=BT['exec'](_0x3b2127);if(_0x3b5093){const _0x26e7ef=_0x1d62b3['get'](_0x3b5093[0x133*-0xe+0x1b8e*0x1+-0x5f*0x1d]['trim']())??_0x3b5093[-0x779*-0x1+-0x946*0x4+0x1da0]['trim'](),_0x5937a8=_0x1d62b3['get'](_0x3b5093[-0xd55+-0x1846+-0x1e*-0x141]['trim']())??_0x3b5093[-0x106a+0x24d6+0xb*-0x1db]['trim'](),_0x48a717=_0x3b5093[-0x1e73+0x3*0x282+-0x7a5*-0x3]['trim']();let _0x2fd877=!(-0x15*0x7+0xead+0x1*-0xe19);switch(_0x48a717){case'==':_0x2fd877=_0x26e7ef===_0x5937a8;break;case'!=':_0x2fd877=_0x26e7ef!==_0x5937a8;break;case'<':_0x2fd877=_0x26e7ef<_0x5937a8;break;case'<=':_0x2fd877=_0x26e7ef<=_0x5937a8;break;case'>':_0x2fd877=_0x26e7ef>_0x5937a8;break;case'>=':_0x2fd877=_0x26e7ef>=_0x5937a8;break;default:_0xf64d41=!(0x1*-0x1cfd+-0x1*-0x10f0+0xc0d);}return{'result':_0x2fd877,'error':_0xf64d41};}return{'result':_0x1d62b3['has'](_0x3b2127),'error':_0xf64d41};}static['processPar'+'entheses'](_0x5b6d2a,_0x204673){let _0x32d591=!(-0xe3c+0x8b6+0x5*0x11b),_0x148aed=_0x5b6d2a['trim']();for(;_0x148aed['startsWith']('(')&&_0x148aed['endsWith'](')');){let _0x31e175=-0x199f+-0x19d*-0x1+0x1802,_0x32a329=!(0xd8+-0x1b6e+0x1a96);for(let _0x2fdaac=0x198b+-0x70b+-0x1280;_0x2fdaac<_0x148aed['length']-(0x2fa*-0x1+0x2*-0x52f+0xd59);_0x2fdaac++)if(_0x148aed[_0x2fdaac]==='(')_0x31e175++;else{if(_0x148aed[_0x2fdaac]===')'&&(_0x31e175--,_0x31e175===-0x123b+0x16b8*-0x1+0x28f3*0x1)){_0x32a329=!(0x21f4+-0x1e8f*-0x1+-0x4082);break;}}if(_0x32a329)_0x148aed=_0x148aed['slice'](-0x105f+-0x198a+0x29ea,-(-0x14e3+0x1ec4+-0x2*0x4f0))['trim']();else break;}for(;;){let _0x303973=!(0x14af+-0x24*-0x90+-0x3e*0xa9),_0x57b743=0x49*-0x51+0x1*-0x19f3+0x310c,_0xcaf20e=0x3*-0xd3+0x202b+0xb5*-0x2a,_0x46baca=-(-0x1*0x262d+-0x977+0x2fa5),_0x521591=-(-0x19a4+-0x17e6+0x318b),_0x50ff30=0x34*-0x39+0x23f+0x955;for(let _0x4df00e=-0x1cd*-0x1+0x2*-0x147+0xc1;_0x4df00e<_0x148aed['length'];_0x4df00e++)if(_0x148aed[_0x4df00e]==='('){const _0x36dc57=_0x148aed['substring'](-0xc67+-0x16d5+0x5*0x70c,_0x4df00e);UT['test'](_0x36dc57)?_0x50ff30++:_0x50ff30===-0x7b4+-0x15ac+-0x5e*-0x50&&(_0x57b743++,_0x57b743>_0xcaf20e&&(_0xcaf20e=_0x57b743,_0x46baca=_0x4df00e),_0x303973=!(-0x41*0x1a+0x327*-0x1+0x1*0x9c1));}else _0x148aed[_0x4df00e]===')'&&(_0x50ff30>-0x11fb*0x2+-0xe8d+-0x3283*-0x1?_0x50ff30--:_0x57b743>0xd1d*-0x1+0x395+0xa*0xf4&&(_0x57b743===_0xcaf20e&&_0x46baca!==-(-0x24e9+0x86*0xa+-0xfd7*-0x2)&&(_0x521591=_0x4df00e),_0x57b743--));if(!_0x303973||_0x46baca===-(-0x1f84+-0xb*-0xf+0x1a*0x130)||_0x521591===-(-0x231d+0x12fd+0x1021))break;const _0x43b05a=_0x148aed['substring'](_0x46baca+(0x197*0x16+0xa2b*-0x1+0x32*-0x7f),_0x521591),{result:_0x3b1c16,error:_0x3bae28}=Lt['evaluate'](_0x43b05a,_0x204673);_0x32d591=_0x32d591||_0x3bae28,_0x148aed=_0x148aed['substring'](0x16d1+-0x1be6*-0x1+-0x1*0x32b7,_0x46baca)+(_0x3b1c16?'true':'false')+_0x148aed['substring'](_0x521591+(-0x22e0+-0x1c3+0x24a4));}return{'expression':_0x148aed,'error':_0x32d591};}static['evaluate'](_0x315e5e,_0x6bdd28){const _0x5948c6=zT['exec'](_0x315e5e)===null;w['assert'](_0x5948c6,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x315e5e);let _0x3dab58=_0x315e5e,_0x223394=!(-0x1*0x4b1+-0x1b9a+0x204c);if(_0x315e5e['replace'](kT,'')['indexOf']('(')!==-(-0x199d*0x1+0x180a+0x194)){const _0x1c8e24=Lt['processPar'+'entheses'](_0x315e5e,_0x6bdd28);_0x3dab58=_0x1c8e24['expression'],_0x223394=_0x1c8e24['error'];}if(_0x223394)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x315e5e+'\x22'),{'result':!(-0x2*0xba2+0x1586+0x1bf),'error':!(-0xeca+0x1be*0xc+-0x105*0x6)};const _0x4f38f8=_0x3dab58['split']('||');for(const _0x27935e of _0x4f38f8){const _0x485156=_0x27935e['split']('&&');let _0x39668d=!(-0x43*-0x86+0x413*-0x8+0x1*-0x27a);for(const _0x4c030f of _0x485156){const {result:_0x3a8b05,error:_0x42f4f0}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x4c030f['trim'](),_0x6bdd28);if(!_0x3a8b05||_0x42f4f0){_0x39668d=!(-0x109a+0x1d*0x139+0x13*-0xfe);break;}}if(_0x39668d)return{'result':!(0x5ad*0x3+-0x22ab+0x11a4),'error':!_0x5948c6};}return{'result':!(0xd1f+-0x268+-0x1*0xab6),'error':!_0x5948c6};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x5a0ae5,_0xf7f43d){w['assert'](_0xf7f43d),w['assert'](!_0xf7f43d['vertexDefi'+'nes']||_0xf7f43d['vertexDefi'+'nes']instanceof Map),w['assert'](!_0xf7f43d['vertexIncl'+'udes']||_0xf7f43d['vertexIncl'+'udes']instanceof Map),w['assert'](!_0xf7f43d['fragmentDe'+'fines']||_0xf7f43d['fragmentDe'+'fines']instanceof Map),w['assert'](!_0xf7f43d['fragmentIn'+'cludes']||_0xf7f43d['fragmentIn'+'cludes']instanceof Map);const _0x258493=_0x2b5649=>{let _0x1daa37=_0x2b5649['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x1daa37)||(_0x1daa37=[_0x1daa37]),_0x1daa37;},_0xc0f2e0=(_0x32ac3b,_0x269bc6,_0x3f3d76,_0x30c704)=>{const _0x3b0771=_0x5a0ae5['isWebGPU']?_0x32ac3b:_0x269bc6;let _0x328b34='';if(!_0x3f3d76){const _0x422f9b=_0x258493(_0x30c704);for(let _0x42760a=0x1b2c+-0x1*0xe8f+0xc9d*-0x1;_0x42760a<_0x5a0ae5['maxColorAt'+'tachments'];_0x42760a++){_0x328b34+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x42760a+'\x0a';const _0x59fafb=_0x422f9b[_0x42760a]??'vec4';_0x328b34+='#define\x20ou'+'tType_'+_0x42760a+'\x20'+_0x59fafb+'\x0a';}}return _0x328b34+_0x3b0771;},_0x34fcc5=(_0x177b00,_0x19058d)=>{let _0x1ade19='';if(!_0x177b00){const _0x47823b=_0x258493(_0x19058d);for(let _0x3490a0=0x5*0x4f+0x3fc+-0x5*0x11b;_0x3490a0<_0x5a0ae5['maxColorAt'+'tachments'];_0x3490a0++){const _0x52dfaa=_0x47823b[_0x3490a0]??'vec4',_0x175dbf=Fy['get'](_0x52dfaa);w['assert'](_0x175dbf,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x52dfaa+'\x20->\x20'+_0x175dbf),_0x1ade19+='alias\x20pcOu'+'tType'+_0x3490a0+'\x20=\x20'+_0x175dbf+';\x0a';}}return _0x1ade19;},_0x305ab2=_0xf7f43d['name']??'Untitled';let _0x3f2c38,_0x9a1497;const _0x202750=Jt['getDefines'+'Code'](_0x5a0ae5,_0xf7f43d['vertexDefi'+'nes']),_0x5ae480=Jt['getDefines'+'Code'](_0x5a0ae5,_0xf7f43d['fragmentDe'+'fines']);return _0xf7f43d['shaderLang'+'uage']===it?(_0x3f2c38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x34fcc5(!(-0x2*-0xc8f+0x2212+-0x1d98*0x2),_0xf7f43d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x202750+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xf7f43d['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x9a1497='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x34fcc5(!(-0xab9+-0xb8*0x24+0x249a),_0xf7f43d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5ae480+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xf7f43d['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0xf7f43d['vertexCode']),_0x3f2c38=Jt['versionCod'+'e'](_0x5a0ae5)+_0xc0f2e0(Wy,Gy,!(0x2086+0xabb+0x3*-0xe6b),_0xf7f43d)+_0x202750+Jt['precisionC'+'ode'](_0x5a0ae5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x305ab2)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xf7f43d['vertexCode'],w['assert'](_0xf7f43d['fragmentCo'+'de']),_0x9a1497=(_0xf7f43d['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x5a0ae5)+_0xc0f2e0(Hy,Vy,!(0x17*-0xe9+0x114*-0x11+0x2*0x13a2),_0xf7f43d)+_0x5ae480+Jt['precisionC'+'ode'](_0x5a0ae5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x305ab2)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xf7f43d['fragmentCo'+'de']),{'name':_0x305ab2,'shaderLanguage':_0xf7f43d['shaderLang'+'uage']??Fe,'attributes':_0xf7f43d['attributes'],'vshader':_0x3f2c38,'vincludes':_0xf7f43d['vertexIncl'+'udes'],'fincludes':_0xf7f43d['fragmentIn'+'cludes'],'fshader':_0x9a1497,'useTransformFeedback':_0xf7f43d['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0xf7f43d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xf7f43d['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x20c3db,_0x327053){let _0x47c55f='';return _0x20c3db['capsDefine'+'s']['forEach']((_0x5dfe80,_0x40d96e)=>{_0x47c55f+='#define\x20'+_0x40d96e+'\x20'+_0x5dfe80+'\x0a';}),_0x47c55f+='\x0a',_0x327053==null||_0x327053['forEach']((_0x283bc9,_0x5194b7)=>{_0x47c55f+='#define\x20'+_0x5194b7+'\x20'+_0x283bc9+'\x0a';}),_0x47c55f+='\x0a',_0x47c55f;}static['getShaderN'+'ameCode'](_0x4bb057){return'#define\x20SH'+'ADER_NAME\x20'+_0x4bb057+'\x0a';}static['versionCod'+'e'](_0x1dcfe3){return _0x1dcfe3['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x30d57d,_0x20dca7){_0x20dca7&&_0x20dca7!=='highp'&&_0x20dca7!=='mediump'&&_0x20dca7!=='lowp'&&(_0x20dca7=null),_0x20dca7&&(_0x20dca7==='highp'&&_0x30d57d['maxPrecisi'+'on']!=='highp'&&(_0x20dca7='mediump'),_0x20dca7==='mediump'&&_0x30d57d['maxPrecisi'+'on']==='lowp'&&(_0x20dca7='lowp'));const _0x29983e=_0x20dca7||_0x30d57d['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x29983e+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x29983e+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x29983e+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x29983e+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x29983e+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x29983e+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x29983e+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x3e7e38){const _0x200a5d={};let _0x4ab3f0=-0xbc3*-0x2+0x1a7a+-0x3200,_0xa1bb4a=_0x3e7e38['indexOf']('attribute');for(;_0xa1bb4a>=-0x1091*0x1+-0x5db*-0x1+0x2*0x55b&&!(_0xa1bb4a>0xbe3+0x176b+-0x234e&&_0x3e7e38[_0xa1bb4a-(0x46f+-0x2252+-0x4*-0x779)]==='/');){let _0x54484f=!(0x1cde*-0x1+-0x85d*-0x4+-0x33*0x17);if(_0xa1bb4a>0x17*0x112+0x2*-0x132f+-0xdc*-0x10){let _0x144cf4=_0x3e7e38['lastIndexO'+'f']('\x0a',_0xa1bb4a);_0x144cf4=_0x144cf4!==-(-0x26ba+0x2375+0x346)?_0x144cf4+(-0x1de8+-0x1*-0x1d56+0x93):-0x18cf+-0xc0a+-0x24d9*-0x1,_0x3e7e38['substring'](_0x144cf4,_0xa1bb4a)['includes']('#')&&(_0x54484f=!(0xeb8+-0xa31+-0x487));}if(!_0x54484f){const _0x317c2e=_0x3e7e38['indexOf'](';',_0xa1bb4a),_0x179505=_0x3e7e38['lastIndexO'+'f']('\x20',_0x317c2e),_0x1998bc=_0x3e7e38['substring'](_0x179505+(0x11b*0x22+0x1eb*0x13+0x2503*-0x2),_0x317c2e);if(_0x200a5d[_0x1998bc])w['warn']('Attribute\x20'+'['+_0x1998bc+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x3e7e38});else{const _0x51b32d=GT[_0x1998bc];_0x51b32d!==void(0x6*-0x56b+-0x1*0x232+0x2*0x115a)?_0x200a5d[_0x1998bc]=_0x51b32d:(_0x200a5d[_0x1998bc]='ATTR'+_0x4ab3f0,_0x4ab3f0++);}}_0xa1bb4a=_0x3e7e38['indexOf']('attribute',_0xa1bb4a+(-0x21a6+-0x15a5+0xdd3*0x4));}return _0x200a5d;}}let HT=0x1860+0x991+-0x1*0x21f1;class qy{constructor(_0x3f9bfb,_0x5010b2){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x3f9bfb,this['definition']=_0x5010b2,this['name']=_0x5010b2['name']||'Untitled',this['init'](),_0x5010b2['cshader'])w['assert'](_0x3f9bfb['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x5010b2['vshader']&&!_0x5010b2['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x5010b2['cshader']=ko['run'](_0x5010b2['cshader'],_0x5010b2['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0x12f5*0x2+0xb*-0x153+0xa7f*0x5)});else{w['assert'](_0x5010b2['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x5010b2['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x5010b2['vshader'],this['fUnmodifie'+'d']=_0x5010b2['fshader'];});const _0x31dd23=_0x5010b2['shaderLang'+'uage']===it;_0x5010b2['vshader']=ko['run'](_0x5010b2['vshader'],_0x5010b2['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x31dd23}),_0x5010b2['shaderLang'+'uage']===Fe&&(_0x5010b2['attributes']??(_0x5010b2['attributes']=Jt['collectAtt'+'ributes'](_0x5010b2['vshader'])));const _0x4805bf=_0x3f9bfb['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x5010b2['fshader']=ko['run'](_0x5010b2['fshader'],_0x5010b2['fincludes'],{'stripUnusedColorAttachments':_0x4805bf,'stripDefines':_0x31dd23,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x5010b2['vshader']||!_0x5010b2['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x1*-0xc0b+-0x1a0b+0x2616);return;}}this['impl']=_0x3f9bfb['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x1af2*-0x1+-0xf7*0x5+0x161e*-0x1),this['failed']=!(0x8e4+-0xb0f+-0x8b*-0x4);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x3d1976,_0x413011,_0x29244a){const _0x31137f=_0x3d1976['storageFlo'+'at32'];_0x31137f[_0x29244a]=_0x413011;},Be[ga]=(_0x52d20c,_0x467ebf,_0x638ab0)=>{const _0x5144d1=_0x52d20c['storageFlo'+'at32'];_0x5144d1[_0x638ab0]=_0x467ebf[-0xd3c+-0x1345+-0x1*-0x2081],_0x5144d1[_0x638ab0+(-0x6d9*-0x1+0x4*0x70b+-0x2304)]=_0x467ebf[0xf*0x1de+-0x114a+-0xab7];},Be[ds]=(_0x428a23,_0x5994e9,_0x230ab4)=>{const _0x2afe2c=_0x428a23['storageFlo'+'at32'];_0x2afe2c[_0x230ab4]=_0x5994e9[-0x1ef7*0x1+-0xac9*0x1+0x29c0],_0x2afe2c[_0x230ab4+(0x2*-0xf47+-0x575+-0x5*-0x734)]=_0x5994e9[0xb*-0x2af+0xd99*-0x1+0x2b1f],_0x2afe2c[_0x230ab4+(-0x1a8b+0x1ff9+-0x56c)]=_0x5994e9[0x14e7+-0x65*0x3e+0xb*0x53];},Be[Rn]=(_0x2828d0,_0x15371c,_0x2b54fe)=>{const _0x464823=_0x2828d0['storageFlo'+'at32'];_0x464823[_0x2b54fe]=_0x15371c[-0x202b+-0x19f6*-0x1+0x1*0x635],_0x464823[_0x2b54fe+(0x20f+0x102f+-0x123d)]=_0x15371c[-0x20bf*0x1+0x123*0x1d+-0x37],_0x464823[_0x2b54fe+(-0x26ca+-0xa9c+0x3168)]=_0x15371c[0x215*0x3+0x627+0xf4*-0xd],_0x464823[_0x2b54fe+(-0x3*0x849+0x6*0xfb+-0x144*-0xf)]=_0x15371c[-0x1*0x2+0x17*0x1ac+-0x266f];},Be[_a]=function(_0x4e0bb8,_0x583d0a,_0x1950ef){const _0x5782e1=_0x4e0bb8['storageInt'+'32'];_0x5782e1[_0x1950ef]=_0x583d0a;},Be[ca]=function(_0x3dbabc,_0x9fb52d,_0x5aa1da){const _0x51bdd7=_0x3dbabc['storageInt'+'32'];_0x51bdd7[_0x5aa1da]=_0x9fb52d[-0xfa4+0xb*-0x114+0xdc0*0x2],_0x51bdd7[_0x5aa1da+(0x130b+-0x1*-0x1f97+-0x32a1)]=_0x9fb52d[0x10c6+-0x1643+0x57e];},Be[ha]=function(_0x6f46e4,_0x43d2eb,_0x53d05c){const _0x5025f8=_0x6f46e4['storageInt'+'32'];_0x5025f8[_0x53d05c]=_0x43d2eb[-0x1c0d*-0x1+-0x1b9a*0x1+-0x73],_0x5025f8[_0x53d05c+(-0x1*-0x13+0x1e88+0xf4d*-0x2)]=_0x43d2eb[0x119*0x9+0x1*0xf8a+-0x196a],_0x5025f8[_0x53d05c+(0x235f*-0x1+-0x42f*0x9+-0x72*-0xa4)]=_0x43d2eb[0x13*-0x14e+-0x9b5+0x1*0x2281];},Be[da]=function(_0x317b69,_0x12b53f,_0x5eab18){const _0x2cb806=_0x317b69['storageInt'+'32'];_0x2cb806[_0x5eab18]=_0x12b53f[-0x1d91+-0xa47+-0x3c*-0xaa],_0x2cb806[_0x5eab18+(0x1bcd+0x1e60+0x4d9*-0xc)]=_0x12b53f[-0x593*-0x5+-0x170b+-0x4d3],_0x2cb806[_0x5eab18+(0x1*0x1da2+0xd3*-0x25+0xdf)]=_0x12b53f[-0x14ae+0x9*-0x2f7+0x43*0xb5],_0x2cb806[_0x5eab18+(0x2*-0x6d+0x98+-0x3*-0x17)]=_0x12b53f[0x21d6+-0x61c+-0x1bb7];},Be[_h]=(_0x49b231,_0xeb7987,_0x108a80)=>{const _0x25f52e=_0x49b231['storageFlo'+'at32'];_0x25f52e[_0x108a80]=_0xeb7987[-0x1cb7+0x1*0xd93+0xf24],_0x25f52e[_0x108a80+(0x1*0x1b73+0x2*-0xf35+-0x5*-0x98)]=_0xeb7987[0x31*0x9d+0x1b14+-0x3920],_0x25f52e[_0x108a80+(0x3*-0x976+0xb5a*0x1+0x110c)]=_0xeb7987[0xc*-0x1a5+0x81+0x3d9*0x5],_0x25f52e[_0x108a80+(-0x19d+-0x33d*0x1+0x4df)]=_0xeb7987[0x541+-0x20df+0x1ba1*0x1],_0x25f52e[_0x108a80+(0xc4e+-0x223a+0xafa*0x2)]=_0xeb7987[0xa60+-0x70*0x2f+0x51a*0x2],_0x25f52e[_0x108a80+(0x3*-0x481+-0x17ff+0x258b)]=_0xeb7987[-0x3e4+-0x1*0x2467+-0x18*-0x1ae];},Be[On]=(_0x3dad7e,_0x26f4ec,_0x1cce35)=>{const _0x4a2d40=_0x3dad7e['storageFlo'+'at32'];_0x4a2d40[_0x1cce35]=_0x26f4ec[0x52f*-0x3+-0x8e*0x17+0x1*0x1c4f],_0x4a2d40[_0x1cce35+(0x65*0x36+0x1*0xf7b+-0x6b*0x58)]=_0x26f4ec[0xcbe+0x2*0xf35+-0x2b27],_0x4a2d40[_0x1cce35+(0x1f90+0x1*-0xfa1+-0xfed)]=_0x26f4ec[-0x926*-0x1+-0x6cd+0x257*-0x1],_0x4a2d40[_0x1cce35+(-0x1*-0x1f60+-0x262+-0x1cfa)]=_0x26f4ec[-0xd6*0x2c+-0x1881+-0x1ea6*-0x2],_0x4a2d40[_0x1cce35+(0x2002+0xa6a*-0x1+-0x1593)]=_0x26f4ec[-0x53*0x28+0x22ac+0x2*-0xad8],_0x4a2d40[_0x1cce35+(-0xc19+-0x20b0+0x1*0x2ccf)]=_0x26f4ec[-0x15d1+-0x7f1+0x1dc7],_0x4a2d40[_0x1cce35+(-0xe77+-0x1*0x25af+-0x1*-0x342e)]=_0x26f4ec[-0x26d7+0x1306+0x13d7],_0x4a2d40[_0x1cce35+(-0x14b3+0xe3*-0x6+0x1a0e)]=_0x26f4ec[0x4*0x2e2+-0x1*0x1c55+-0x167*-0xc],_0x4a2d40[_0x1cce35+(-0x4*-0x418+0x20c+-0x931*0x2)]=_0x26f4ec[-0x1c2f+-0xdad+0x29e4];},Be[ud]=function(_0x337406,_0x1a8633,_0x46fd4e,_0x500a75){const _0x1d57cc=_0x337406['storageFlo'+'at32'];for(let _0x3ee5c4=-0x5*0x2f+-0x53*-0x2e+-0xdff;_0x3ee5c4<_0x500a75;_0x3ee5c4++)_0x1d57cc[_0x46fd4e+_0x3ee5c4*(-0x1b*0x2f+-0x6*-0x2b8+0x1*-0xb57)]=_0x1a8633[_0x3ee5c4];},Be[pd]=(_0x2159e4,_0x3119d3,_0xb88628,_0x1ed1e9)=>{const _0x15bd16=_0x2159e4['storageFlo'+'at32'];for(let _0x3be0a6=0xda5+-0x986+0x41f*-0x1;_0x3be0a6<_0x1ed1e9;_0x3be0a6++)_0x15bd16[_0xb88628+_0x3be0a6*(-0x2460+-0x51+0x24b5)]=_0x3119d3[_0x3be0a6*(0x40a+0x22cd+-0x26d5)],_0x15bd16[_0xb88628+_0x3be0a6*(-0x1094+0xc3c+-0x1*-0x45c)+(0x577*0x7+-0xe9b+-0x17a5*0x1)]=_0x3119d3[_0x3be0a6*(-0xabb*-0x1+0x1426+-0x1edf)+(0x1d95+-0x150f+-0x1*0x885)];},Be[md]=(_0xafe668,_0x3bc552,_0x5e9bf6,_0x1330cf)=>{const _0x4869cc=_0xafe668['storageFlo'+'at32'];for(let _0x46e6b6=-0x10c8+-0x1*-0x97f+-0x5*-0x175;_0x46e6b6<_0x1330cf;_0x46e6b6++)_0x4869cc[_0x5e9bf6+_0x46e6b6*(0x1dfd+0x22a8+-0x40a1)]=_0x3bc552[_0x46e6b6*(-0x2404+-0x31f*-0x9+0x7f0)],_0x4869cc[_0x5e9bf6+_0x46e6b6*(0x1325+-0x371+-0xfb0)+(-0x727*-0x1+-0x1a74*0x1+0x134e)]=_0x3bc552[_0x46e6b6*(-0x3*0x4ad+-0x4a9+0x12b3)+(0xd7e+0x8ac+0x763*-0x3)],_0x4869cc[_0x5e9bf6+_0x46e6b6*(0x1*-0x1bde+0x21eb+-0x609)+(-0x2*0x117d+0x1f9f+-0x1*-0x35d)]=_0x3bc552[_0x46e6b6*(0x3*-0xc6d+-0xe0f+0x3359)+(0x883*-0x1+0xded+-0x568)];},Be[Fn]=(_0x2703fe,_0x5db177,_0x4e7aef,_0x59eb61)=>{const _0x23887f=_0x2703fe['storageUin'+'t32'];_0x23887f[_0x4e7aef]=_0x5db177;},Be[Nn]=(_0x15b9df,_0x61a821,_0x4785cc,_0x2ee276)=>{const _0x59172b=_0x15b9df['storageUin'+'t32'];_0x59172b[_0x4785cc]=_0x61a821[-0x6a3+0x1d*-0x1d+0x4*0x27b],_0x59172b[_0x4785cc+(-0x59*-0x41+0x445+0x1add*-0x1)]=_0x61a821[-0x66f+0x389+-0x1*-0x2e7];},Be[kn]=(_0x11cdaf,_0x907810,_0x599795,_0x474720)=>{const _0x5c8647=_0x11cdaf['storageUin'+'t32'];_0x5c8647[_0x599795]=_0x907810[0x2*0x84+0x1d01+-0xb*0x2bb],_0x5c8647[_0x599795+(-0xaac+0x1*0x1a42+-0xf95*0x1)]=_0x907810[0x1*-0x1d16+0x23f9+0x2*-0x371],_0x5c8647[_0x599795+(0x755*-0x2+-0x26a9*-0x1+-0x17fd)]=_0x907810[0x472+0x207+0x14b*-0x5];},Be[Un]=(_0x25da34,_0x4feddb,_0x2037ba,_0x50e801)=>{const _0x3ac5a3=_0x25da34['storageUin'+'t32'];_0x3ac5a3[_0x2037ba]=_0x4feddb[-0x1f*0xef+0x77*0x54+-0xc7*0xd],_0x3ac5a3[_0x2037ba+(0x1983+0x71e*-0x1+0xd6*-0x16)]=_0x4feddb[0x1c41+-0x1e1c+0x1dc],_0x3ac5a3[_0x2037ba+(-0x1293+-0xc8a+-0x1f1f*-0x1)]=_0x4feddb[-0x1d3c+0x4d*0x77+-0x81*0xd],_0x3ac5a3[_0x2037ba+(0x1811+-0x664+0x77*-0x26)]=_0x4feddb[0x9f+0x173*-0x2+0x1*0x24a];},Be[Bn]=function(_0x2fb662,_0x870234,_0x18738d,_0x194241){const _0x17b6a8=_0x2fb662['storageInt'+'32'];for(let _0x19a8c2=-0x1027*0x1+0x118d+-0x166;_0x19a8c2<_0x194241;_0x19a8c2++)_0x17b6a8[_0x18738d+_0x19a8c2*(-0x365*0xb+-0x100a+0x3565*0x1)]=_0x870234[_0x19a8c2];},Be[gd]=Be[Bn],Be[_d]=function(_0x61bfae,_0xa82efe,_0x57749e,_0xc24f3c){const _0x3d653d=_0x61bfae['storageUin'+'t32'];for(let _0x3aca67=-0x39f+0x1059*0x2+-0x1d13*0x1;_0x3aca67<_0xc24f3c;_0x3aca67++)_0x3d653d[_0x57749e+_0x3aca67*(-0x88c*-0x1+0xa85+-0x130d)]=_0xa82efe[_0x3aca67];},Be[zn]=(_0x2ca406,_0x342bf3,_0x10595c,_0x40bd56)=>{const _0x276285=_0x2ca406['storageInt'+'32'];for(let _0x1c5c39=0xd*0x9+-0x1865*0x1+0x2*0xbf8;_0x1c5c39<_0x40bd56;_0x1c5c39++)_0x276285[_0x10595c+_0x1c5c39*(-0x1289+-0x24dd+-0x2*-0x1bb5)]=_0x342bf3[_0x1c5c39*(0x7a5+-0x1*0x52+-0x1*0x751)],_0x276285[_0x10595c+_0x1c5c39*(0x2404+0x335+-0x2735)+(-0x11c1+-0x37+-0x11f9*-0x1)]=_0x342bf3[_0x1c5c39*(0x1*0xa1d+-0xe82+0x467)+(0x42*0x11+-0x89*-0x8+-0x8a9)];},Be[yd]=Be[zn],Be[Sd]=(_0x20c198,_0x4efa6b,_0x555dfa,_0x12f055)=>{const _0xe4ab04=_0x20c198['storageUin'+'t32'];for(let _0x393b47=-0x4f*-0x5+0x2*-0xfd3+0x1e1b;_0x393b47<_0x12f055;_0x393b47++)_0xe4ab04[_0x555dfa+_0x393b47*(-0x1817+-0x35*0x7f+0x3266)]=_0x4efa6b[_0x393b47*(0x219a+-0x11*0x65+-0x1*0x1ae3)],_0xe4ab04[_0x555dfa+_0x393b47*(-0x16a1+-0x1f*-0xbd+0x1*-0x3e)+(-0x499*0x6+-0x1dde+0x3975)]=_0x4efa6b[_0x393b47*(-0x11*-0x242+-0xb99*0x3+-0x395)+(0x4ad+-0x6c7+0x21b)];},Be[Vn]=(_0x405baa,_0x4a2219,_0x5a965a,_0x5693af)=>{const _0x2d9648=_0x405baa['storageInt'+'32'];for(let _0x41ac49=-0xf76+0x10*0x158+-0x60a*0x1;_0x41ac49<_0x5693af;_0x41ac49++)_0x2d9648[_0x5a965a+_0x41ac49*(-0xe1f+-0x8*-0x62+0x1*0xb13)]=_0x4a2219[_0x41ac49*(0x26*0xd3+-0x2*0x11ef+-0x185*-0x3)],_0x2d9648[_0x5a965a+_0x41ac49*(-0x60c*-0x3+0x9eb*0x1+0x3*-0x959)+(0x3f*0x5e+-0x1*0x443+-0x12de)]=_0x4a2219[_0x41ac49*(0xd*0x19e+-0x267e+-0x1*-0x117b)+(0xadb*0x2+-0xccd*-0x1+-0x1141*0x2)],_0x2d9648[_0x5a965a+_0x41ac49*(-0x1aa1+-0x1426+0x2ecb)+(0xa21*-0x1+0x97e+0xa5)]=_0x4a2219[_0x41ac49*(0x3*-0x595+0xf4b*-0x2+0x2f58)+(0xf*0x17b+-0x1*-0x481+-0x4*0x6ad)];},Be[xd]=Be[Vn],Be[vd]=(_0x4e2876,_0x138ae9,_0x12af8b,_0x6f2eeb)=>{const _0x5e6f4e=_0x4e2876['storageUin'+'t32'];for(let _0x5e66a9=0x293*-0xc+-0x1c36+0x3b1a;_0x5e66a9<_0x6f2eeb;_0x5e66a9++)_0x5e6f4e[_0x12af8b+_0x5e66a9*(-0x607+-0x11*-0xcd+-0x792)]=_0x138ae9[_0x5e66a9*(0x1a81+-0x5*0x31+-0x1*0x1989)],_0x5e6f4e[_0x12af8b+_0x5e66a9*(-0x14e6+0x3*-0x6dd+-0x7d*-0x55)+(0x2423+0x25*0xbf+-0x3fbd)]=_0x138ae9[_0x5e66a9*(0x16a8+-0x1*-0x241+-0x18e6)+(0x337+0x973+-0xca9)],_0x5e6f4e[_0x12af8b+_0x5e66a9*(-0x345*-0x3+0x128d+-0x1c58)+(0x10f5+-0x1e89+-0x4a*-0x2f)]=_0x138ae9[_0x5e66a9*(0x2360+-0x1af6+-0x1*0x867)+(-0x1*-0x1895+0x3b*0x3d+0xa*-0x3dd)];};class zp{constructor(_0x352c57,_0x2c66d5,_0x210eb6=!(0xcbd+0x1442+-0x20ff*0x1)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x8*0x497+-0x10db+0x3593);if(this['device']=_0x352c57,this['format']=_0x2c66d5,this['persistent']=_0x210eb6,w['assert'](_0x2c66d5),_0x210eb6){this['impl']=_0x352c57['createUnif'+'ormBufferI'+'mpl'](this);const _0x572747=new ArrayBuffer(_0x2c66d5['byteSize']);this['assignStor'+'age'](new Int32Array(_0x572747)),_0x352c57['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x2747be=this['device'];this['impl']['destroy'](_0x2747be),_0x2747be['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x47d*-0x2+-0x191*-0x1+-0x769*-0x1:this['allocation']['offset'];}['assignStor'+'age'](_0x10468b){this['storageInt'+'32']=_0x10468b,this['storageUin'+'t32']=new Uint32Array(_0x10468b['buffer'],_0x10468b['byteOffset'],_0x10468b['byteLength']/(0xa6e+0x120b+-0x1c75)),this['storageFlo'+'at32']=new Float32Array(_0x10468b['buffer'],_0x10468b['byteOffset'],_0x10468b['byteLength']/(0x4bc*-0x1+0x9*-0x33+0x68b));}['loseContex'+'t'](){var _0x51c5a2;(_0x51c5a2=this['impl'])==null||_0x51c5a2['loseContex'+'t']();}['setUniform'](_0x16471c,_0x46c8cd){w['assert'](_0x16471c);const _0x47cb96=_0x16471c['offset'];if(_0x46c8cd!=null){const _0x4d8551=Be[_0x16471c['updateType']];_0x4d8551?_0x4d8551(this,_0x46c8cd,_0x47cb96,_0x16471c['count']):this['storageFlo'+'at32']['set'](_0x46c8cd,_0x47cb96);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x16471c['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x16471c['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x4e5307,_0x45f992){const _0x64f2af=this['format']['map']['get'](_0x4e5307);w['assert'](_0x64f2af,'Uniform\x20na'+'me\x20['+_0x4e5307+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x64f2af&&this['setUniform'](_0x64f2af,_0x45f992);}['startUpdat'+'e'](_0x522841){if(!this['persistent']){const _0x30a938=this['allocation'],_0x206ae8=_0x30a938['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x30a938,this['format']['byteSize']),this['assignStor'+'age'](_0x30a938['storage']),_0x522841&&(_0x522841['bindGroup']=_0x30a938['gpuBuffer']['getBindGro'+'up'](this),_0x522841['offsets'][0x1ffb+0x1867*0x1+-0x3862]=_0x30a938['offset']),_0x206ae8!==_0x30a938['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x52dcd2){this['startUpdat'+'e'](_0x52dcd2);const _0x3a5263=this['format']['uniforms'];for(let _0x38990e=-0x244b+0xfb*-0x1a+0x1*0x3dc9;_0x38990e<_0x3a5263['length'];_0x38990e++){const _0x4dd811=_0x3a5263[_0x38990e]['scopeId']['value'];this['setUniform'](_0x3a5263[_0x38990e],_0x4dd811);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x175*-0xb+0x254f+0x29*-0x14d)),h(this,'_enableReq'+'uest',!(0x2*-0x2c9+0x1a3e+-0x14ab)),h(this,'_frameTime',-0x1bec+0x23*0x8b+0x8eb);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x54d7ed){this['_enableReq'+'uest']=_0x54d7ed;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x8c7+0xe67+-0x172e));}['request'](_0xb2d408){this['pastFrameA'+'llocations']['set'](_0xb2d408,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x4a10e0,_0x74f983){if(_0x74f983){const _0x16c5c1=this['pastFrameA'+'llocations']['get'](_0x4a10e0);if(w['assert'](_0x16c5c1['length']===_0x74f983['length']),_0x74f983['length']>0x1fa4+-0xa*-0x241+-0x362e&&(this['_frameTime']=_0x74f983['reduce']((_0x438677,_0x57533e)=>_0x438677+_0x57533e,-0x2*-0xbc6+-0x713*0x1+0x1079*-0x1)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x4a10e0+'\x20--');let _0x3f3cb8=-0x28*-0xb6+-0x25e1+0x971;for(let _0x300e46=0xa9f*-0x2+0x12d5*-0x1+-0x1*-0x2813;_0x300e46<_0x16c5c1['length'];++_0x300e46){const _0x3f4650=_0x16c5c1[_0x300e46];_0x3f3cb8+=_0x74f983[_0x300e46],w['trace'](Gl,_0x74f983[_0x300e46]['toFixed'](0xa*0x233+-0x1*0xb+0x15f1*-0x1)+'\x20ms\x20'+_0x3f4650);}w['trace'](Gl,_0x3f3cb8['toFixed'](-0xa3e+-0xe75+0x18b5)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x4a10e0);}['getSlot'](_0x306cf0){const _0x42a7ed=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x306cf0),_0x42a7ed;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x232bae){this['bufferId']&&(_0x232bae['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x2299c0,_0x127e81,_0x128112,_0x4e7c97){const _0x55edd1=_0x2299c0['gl'];if(this['bufferId'])_0x55edd1['bindBuffer'](_0x128112,this['bufferId']),_0x55edd1['bufferSubD'+'ata'](_0x128112,-0x13ee+0xf04+-0x4a*-0x11,_0x4e7c97);else{let _0x76db85;switch(_0x127e81){case ms:_0x76db85=_0x55edd1['STATIC_DRA'+'W'];break;case lh:_0x76db85=_0x55edd1['DYNAMIC_DR'+'AW'];break;case ey:_0x76db85=_0x55edd1['STREAM_DRA'+'W'];break;case bx:_0x76db85=_0x55edd1['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x55edd1['createBuff'+'er'](),_0x55edd1['bindBuffer'](_0x128112,this['bufferId']),_0x55edd1['bufferData'](_0x128112,_0x4e7c97,_0x76db85);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x41f1ff){super['destroy'](_0x41f1ff),_0x41f1ff['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x168709){const _0x27dac5=_0x168709['device'];super['unlock'](_0x27dac5,_0x168709['usage'],_0x27dac5['gl']['ARRAY_BUFF'+'ER'],_0x168709['storage']);}}class qT extends jy{constructor(_0x15d21e){super();const _0x252b25=_0x15d21e['device']['gl'],_0x5b4e9c=_0x15d21e['format'];_0x5b4e9c===$f?this['glFormat']=_0x252b25['UNSIGNED_B'+'YTE']:_0x5b4e9c===Yi?this['glFormat']=_0x252b25['UNSIGNED_S'+'HORT']:_0x5b4e9c===wr&&(this['glFormat']=_0x252b25['UNSIGNED_I'+'NT']);}['unlock'](_0xed9c9f){const _0x241cc5=_0xed9c9f['device'];super['unlock'](_0x241cc5,_0xed9c9f['usage'],_0x241cc5['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0xed9c9f['storage']);}}class jT{constructor(_0x5ccfc3,_0x2263c7,_0x2d68fe,_0xdf06a9){if(this['locationId']=_0xdf06a9,this['scopeId']=_0x5ccfc3['scope']['resolve'](_0x2263c7),this['version']=new Uy(),_0x2263c7['substring'](_0x2263c7['length']-(0x1b8a+-0x1fe6+-0x3*-0x175))==='[0]')switch(_0x2d68fe){case Xs:_0x2d68fe=ud;break;case _a:_0x2d68fe=Bn;break;case Fn:_0x2d68fe=_d;break;case Tn:_0x2d68fe=gd;break;case ga:_0x2d68fe=pd;break;case ca:_0x2d68fe=zn;break;case Nn:_0x2d68fe=Sd;break;case tl:_0x2d68fe=yd;break;case ds:_0x2d68fe=md;break;case ha:_0x2d68fe=Vn;break;case kn:_0x2d68fe=vd;break;case sl:_0x2d68fe=xd;break;case Rn:_0x2d68fe=Lp;break;case da:_0x2d68fe=gh;break;case Un:_0x2d68fe=Rp;break;case il:_0x2d68fe=Op;break;}this['dataType']=_0x2d68fe,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x8ef*-0x1+-0x1*0x1801+0xf12;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x54f1c7){this['map']['forEach'](_0x3a0077=>{_0x54f1c7['gl']['deleteShad'+'er'](_0x3a0077);});}['loseContex'+'t'](_0x485f49){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x40dadb){h(this,'compileDur'+'ation',-0x1e0+-0x9b3+0xb93),(this['init'](),this['compile'](_0x40dadb['device'],_0x40dadb),this['link'](_0x40dadb['device'],_0x40dadb),_0x40dadb['device']['shaders']['push'](_0x40dadb));}['destroy'](_0x121c14){this['glProgram']&&(_0x121c14['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5c2d88,_0x5b04ee){this['compile'](_0x5c2d88,_0x5b04ee),this['link'](_0x5c2d88,_0x5b04ee);}['compile'](_0x3d6181,_0x2bd07c){const _0x27de0a=_0x2bd07c['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x3d6181,_0x27de0a['vshader'],!(0x2429+0x1e5*-0xc+-0x7*0x1eb)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x3d6181,_0x27de0a['fshader'],!(0x1c0b+0x12dc+-0x2ee6));}['link'](_0x3a7e43,_0x4824fe){if(this['glProgram'])return;const _0x18a5bf=_0x3a7e43['gl'];if(_0x18a5bf['isContextL'+'ost']())return;let _0x1544f4=-0x1*-0x24f1+0x556+-0x2a47;w['call'](()=>{this['compileDur'+'ation']=-0x2516+-0x5*0x45f+0x3af1,_0x1544f4=de();});const _0x518bbe=_0x18a5bf['createProg'+'ram']();this['glProgram']=_0x518bbe,_0x18a5bf['attachShad'+'er'](_0x518bbe,this['glVertexSh'+'ader']),_0x18a5bf['attachShad'+'er'](_0x518bbe,this['glFragment'+'Shader']);const _0x153acd=_0x4824fe['definition'],_0xeff6cd=_0x153acd['attributes'];if(_0x153acd['useTransfo'+'rmFeedback']){const _0x7e10bf=[];for(const _0xff9561 in _0xeff6cd)_0xeff6cd['hasOwnProp'+'erty'](_0xff9561)&&_0x7e10bf['push']('out_'+_0xff9561);_0x18a5bf['transformF'+'eedbackVar'+'yings'](_0x518bbe,_0x7e10bf,_0x18a5bf['INTERLEAVE'+'D_ATTRIBS']);}const _0x14ea3c={};for(const _0x513985 in _0xeff6cd)if(_0xeff6cd['hasOwnProp'+'erty'](_0x513985)){const _0x19dc56=_0xeff6cd[_0x513985],_0x47e122=Le[_0x19dc56];w['assert'](!_0x14ea3c['hasOwnProp'+'erty'](_0x47e122),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x14ea3c[_0x47e122]+'\x20and\x20'+_0x513985),_0x14ea3c[_0x47e122]=_0x513985,_0x18a5bf['bindAttrib'+'Location'](_0x518bbe,_0x47e122,_0x513985);}_0x18a5bf['linkProgra'+'m'](_0x518bbe),w['call'](()=>{this['compileDur'+'ation']=de()-_0x1544f4;}),_0x3a7e43['_shaderSta'+'ts']['linked']++,_0x153acd['tag']===Sy&&_0x3a7e43['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x21a813,_0x1400fb,_0x29468a){const _0x1485ba=_0x21a813['gl'];if(_0x1485ba['isContextL'+'ost']())return null;const _0x4396d2=(_0x29468a?ZT:QT)['get'](_0x21a813,()=>new KT());let _0x2a228d=_0x4396d2['map']['get'](_0x1400fb);if(!_0x2a228d){const _0x3927a2=de();_0x21a813['fire']('shader:com'+'pile:start',{'timestamp':_0x3927a2,'target':_0x21a813}),_0x2a228d=_0x1485ba['createShad'+'er'](_0x29468a?_0x1485ba['VERTEX_SHA'+'DER']:_0x1485ba['FRAGMENT_S'+'HADER']),_0x1485ba['shaderSour'+'ce'](_0x2a228d,_0x1400fb),_0x1485ba['compileSha'+'der'](_0x2a228d),_0x4396d2['map']['set'](_0x1400fb,_0x2a228d);const _0xd6b3de=de();_0x21a813['fire']('shader:com'+'pile:end',{'timestamp':_0xd6b3de,'target':_0x21a813}),_0x21a813['_shaderSta'+'ts']['compileTim'+'e']+=_0xd6b3de-_0x3927a2,_0x29468a?_0x21a813['_shaderSta'+'ts']['vsCompiled']++:_0x21a813['_shaderSta'+'ts']['fsCompiled']++;}return _0x2a228d;}['finalize'](_0xbb6d8e,_0x481e92){var _0x25cae1,_0x41aafa;const _0x4dc0a1=_0xbb6d8e['gl'];if(_0x4dc0a1['isContextL'+'ost']())return!(-0x1038+-0x1c5+0x5ff*0x3);const _0x322394=this['glProgram'],_0x21d6ec=_0x481e92['definition'],_0x13c922=de();_0xbb6d8e['fire']('shader:lin'+'k:start',{'timestamp':_0x13c922,'target':_0xbb6d8e});let _0x2de44a=-0x42f+0xd*0x283+-0x1c78;if(w['call'](()=>{_0x2de44a=de();}),!_0x4dc0a1['getProgram'+'Parameter'](_0x322394,_0x4dc0a1['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0xbb6d8e,_0x481e92,this['glVertexSh'+'ader'],_0x21d6ec['vshader'],'vertex')||!this['_isCompile'+'d'](_0xbb6d8e,_0x481e92,this['glFragment'+'Shader'],_0x21d6ec['fshader'],'fragment'))return!(0x24ce+0x139f+-0x386c);const _0x4a856d='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x4dc0a1['getProgram'+'InfoLog'](_0x322394);return _0x21d6ec['translated'+'Frag']=(_0x25cae1=_0x4dc0a1['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xb8*0x31+-0x1*0xe3+0x241b):_0x25cae1['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x21d6ec['translated'+'Vert']=(_0x41aafa=_0x4dc0a1['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1a0*0x4+-0xae5*-0x2+-0x1c4a):_0x41aafa['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x4a856d,_0x21d6ec),console['error'](_0x4a856d),!(0x3*0x457+0x2122+-0x16*0x219);}const _0x138fd6=_0x4dc0a1['getProgram'+'Parameter'](_0x322394,_0x4dc0a1['ACTIVE_ATT'+'RIBUTES']);_0x481e92['attributes']['clear']();for(let _0x58de17=0x166c+0x5f*0x65+-0xbfb*0x5;_0x58de17<_0x138fd6;_0x58de17++){const _0x148152=_0x4dc0a1['getActiveA'+'ttrib'](_0x322394,_0x58de17),_0xcc62c6=_0x4dc0a1['getAttribL'+'ocation'](_0x322394,_0x148152['name']);YT['has'](_0x148152['name'])||(_0x21d6ec['attributes'][_0x148152['name']]===void(-0x1a27+0x1d*-0xb5+0x2*0x1754)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x148152['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x481e92['label']+']',_0x481e92),_0x481e92['failed']=!(0x6be*0x4+-0x1521+0x12b*-0x5)):_0x481e92['attributes']['set'](_0xcc62c6,_0x148152['name']));}const _0x331a33=_0xbb6d8e['_samplerTy'+'pes'],_0x232811=_0x4dc0a1['getProgram'+'Parameter'](_0x322394,_0x4dc0a1['ACTIVE_UNI'+'FORMS']);for(let _0x214417=-0x901+0xd32+0x1d*-0x25;_0x214417<_0x232811;_0x214417++){const _0x3b8c8f=_0x4dc0a1['getActiveU'+'niform'](_0x322394,_0x214417),_0x4d7641=_0x4dc0a1['getUniform'+'Location'](_0x322394,_0x3b8c8f['name']),_0x3986b3=new jT(_0xbb6d8e,_0x3b8c8f['name'],_0xbb6d8e['pcUniformT'+'ype'][_0x3b8c8f['type']],_0x4d7641);_0x331a33['has'](_0x3b8c8f['type'])?this['samplers']['push'](_0x3986b3):this['uniforms']['push'](_0x3986b3);}_0x481e92['ready']=!(0x741*0x1+-0x23dc+0x989*0x3);const _0x39016a=de();return _0xbb6d8e['fire']('shader:lin'+'k:end',{'timestamp':_0x39016a,'target':_0xbb6d8e}),_0xbb6d8e['_shaderSta'+'ts']['compileTim'+'e']+=_0x39016a-_0x13c922,w['call'](()=>{const _0x3c6e08=de()-_0x2de44a;this['compileDur'+'ation']+=_0x3c6e08,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x481e92['id']+']\x20'+_0x481e92['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x1*0x270b+0x2220+-0x492a)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x559*-0x5+-0x5*0x1c5+0xbdd*0x3)+'ms');}),!(0x31d*-0xa+0x20*0xe3+0x2*0x161);}['_isCompile'+'d'](_0x1cd85b,_0x66c4a1,_0x4c1be0,_0xa3257f,_0x4ab0fe){const _0x194021=_0x1cd85b['gl'];if(!_0x194021['getShaderP'+'arameter'](_0x4c1be0,_0x194021['COMPILE_ST'+'ATUS'])){const _0x552715=_0x194021['getShaderI'+'nfoLog'](_0x4c1be0),[_0x240014,_0x3de183]=this['_processEr'+'ror'](_0xa3257f,_0x552715),_0x1623a5='Failed\x20to\x20'+'compile\x20'+_0x4ab0fe+'\x20shader:\x0a\x0a'+_0x552715+'\x0a'+_0x240014+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x3de183['shader']=_0x66c4a1,console['error'](_0x1623a5,_0x3de183),console['error'](_0x1623a5),!(-0x1*0x1c+0x1*0x1fc9+0x2*-0xfd6);}return!(0x2*0x47+0x25a5*0x1+-0x2633);}['isLinked'](_0x11b1de){const {extParallelShaderCompile:_0x4d12b2}=_0x11b1de;return _0x4d12b2?_0x11b1de['gl']['getProgram'+'Parameter'](this['glProgram'],_0x4d12b2['COMPLETION'+'_STATUS_KH'+'R']):!(0x1546+0x148f*0x1+-0x29d5);}['_processEr'+'ror'](_0x405826,_0x1372b5){const _0x43efa5={};let _0x3877e9='';if(_0x405826){const _0x55274a=_0x405826['split']('\x0a');let _0x30cdcd=-0x23bb+0x7*-0x183+0x2e50,_0x427fd0=_0x55274a['length'];if(_0x1372b5&&_0x1372b5['startsWith']('ERROR:')){const _0x2c3194=_0x1372b5['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x2c3194&&(_0x43efa5['message']=_0x2c3194[0xfc2+-0xff*-0x13+-0x22ac],_0x43efa5['line']=parseInt(_0x2c3194[-0x32f*-0x5+0xb23*0x3+-0x3152],0xda8+-0x1*-0x10af+-0x1e4d),_0x30cdcd=Math['max'](-0x263a*-0x1+-0x59b+-0x209f*0x1,_0x43efa5['line']-(-0x130f+-0x257f+0x3894)),_0x427fd0=Math['min'](_0x55274a['length'],_0x43efa5['line']+(0x15f5+-0x466+-0xa*0x1c1)));}for(let _0x49196c=_0x30cdcd;_0x49196c<_0x427fd0;_0x49196c++){const _0x28072d=_0x49196c+(0x1289+-0x218b+0xf03)===_0x43efa5['line']?'>\x20':'\x20\x20';_0x3877e9+=''+_0x28072d+(_0x49196c+(-0x1*-0xab0+0x13*-0xa7+-0x92*-0x3))+':\x09'+_0x55274a[_0x49196c]+'\x0a';}_0x43efa5['source']=_0x405826;}return[_0x3877e9,_0x43efa5];}}function c_(_0x243004,_0x548c7d){const _0x43642f=_0x243004['width'],_0x43df33=_0x243004['height'];if(_0x43642f>_0x548c7d||_0x43df33>_0x548c7d){const _0xb5414d=_0x548c7d/Math['max'](_0x43642f,_0x43df33),_0xc99903=Math['floor'](_0x43642f*_0xb5414d),_0x58818c=Math['floor'](_0x43df33*_0xb5414d);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x548c7d+('.\x20Resizing'+'\x20from\x20')+_0x43642f+',\x20'+_0x43df33+'\x20to\x20'+_0xc99903+',\x20'+_0x58818c+'.');const _0x5b6d9a=document['createElem'+'ent']('canvas');return _0x5b6d9a['width']=_0xc99903,_0x5b6d9a['height']=_0x58818c,_0x5b6d9a['getContext']('2d')['drawImage'](_0x243004,0x1d4e+0x779*0x3+-0x33b9,0x1f8c+-0xdf*-0x28+-0x1099*0x4,_0x43642f,_0x43df33,0x1f22+-0x11*0x13a+0x1*-0xa48,-0xc*0x24f+-0x2*0xeb9+-0x23*-0x1a2,_0xc99903,_0x58818c),_0x5b6d9a;}return _0x243004;}class ew{constructor(_0x35fecd){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x1*0x3ab+-0x4*-0x626+-0x14ed),this['texture']=_0x35fecd;}['destroy'](_0x2dc47d){if(this['_glTexture']){for(let _0x4e8c51=-0x257e+0x39d*-0x6+0x3b2c;_0x4e8c51<_0x2dc47d['textureUni'+'ts']['length'];_0x4e8c51++){const _0x3fec85=_0x2dc47d['textureUni'+'ts'][_0x4e8c51];for(let _0x3ca809=-0x2*0xaac+0x1*-0x19a2+0x2efa;_0x3ca809<_0x3fec85['length'];_0x3ca809++)_0x3fec85[_0x3ca809]===this['_glTexture']&&(_0x3fec85[_0x3ca809]=null);}_0x2dc47d['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x4b8975){this['dirtyParam'+'eterFlags']|=_0x4b8975;}['initialize'](_0x3bc21d,_0x5610a5){const _0x173421=_0x3bc21d['gl'];switch(this['_glTexture']=_0x173421['createText'+'ure'](),this['_glTarget']=_0x5610a5['_cubemap']?_0x173421['TEXTURE_CU'+'BE_MAP']:_0x5610a5['_volume']?_0x173421['TEXTURE_3D']:_0x5610a5['array']?_0x173421['TEXTURE_2D'+'_ARRAY']:_0x173421['TEXTURE_2D'],_0x5610a5['_format']){case ty:this['_glFormat']=_0x173421['ALPHA'],this['_glInterna'+'lFormat']=_0x173421['ALPHA'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x173421['LUMINANCE'],this['_glInterna'+'lFormat']=_0x173421['LUMINANCE'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x173421['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x173421['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x173421['RED'],this['_glInterna'+'lFormat']=_0x173421['R8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x173421['RG'],this['_glInterna'+'lFormat']=_0x173421['RG8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['RGB565'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['RGB5_A1'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['RGBA4'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['RGB8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['RGBA8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x173421['SRGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x173421['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x173421['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x173421['SRGB'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x173421['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x173421['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3bc21d['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x3bc21d['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x173421['RED'],this['_glInterna'+'lFormat']=_0x173421['R16F'],this['_glPixelTy'+'pe']=_0x173421['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x173421['RG'],this['_glInterna'+'lFormat']=_0x173421['RG16F'],this['_glPixelTy'+'pe']=_0x173421['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['RGB16F'],this['_glPixelTy'+'pe']=_0x173421['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['RGBA16F'],this['_glPixelTy'+'pe']=_0x173421['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['RGB32F'],this['_glPixelTy'+'pe']=_0x173421['FLOAT'];break;case Xt:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['RGBA32F'],this['_glPixelTy'+'pe']=_0x173421['FLOAT'];break;case Ji:this['_glFormat']=_0x173421['RED'],this['_glInterna'+'lFormat']=_0x173421['R32F'],this['_glPixelTy'+'pe']=_0x173421['FLOAT'];break;case $i:this['_glFormat']=_0x173421['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x173421['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x173421['FLOAT'];break;case vn:this['_glFormat']=_0x173421['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x173421['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x173421['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x173421['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x173421['RGB'],this['_glInterna'+'lFormat']=_0x173421['SRGB8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x173421['RGBA'],this['_glInterna'+'lFormat']=_0x173421['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R8I'],this['_glPixelTy'+'pe']=_0x173421['BYTE'];break;case oy:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R8UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R16I'],this['_glPixelTy'+'pe']=_0x173421['SHORT'];break;case up:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R16UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R32I'],this['_glPixelTy'+'pe']=_0x173421['INT'];break;case Ki:this['_glFormat']=_0x173421['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x173421['R32UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG8I'],this['_glPixelTy'+'pe']=_0x173421['BYTE'];break;case ly:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG8UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG16I'],this['_glPixelTy'+'pe']=_0x173421['SHORT'];break;case gp:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG16UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG32I'],this['_glPixelTy'+'pe']=_0x173421['INT'];break;case yp:this['_glFormat']=_0x173421['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x173421['RG32UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA8I'],this['_glPixelTy'+'pe']=_0x173421['BYTE'];break;case cy:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA8UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA16I'],this['_glPixelTy'+'pe']=_0x173421['SHORT'];break;case nd:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA16UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA32I'],this['_glPixelTy'+'pe']=_0x173421['INT'];break;case Ue:this['_glFormat']=_0x173421['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x173421['RGBA32UI'],this['_glPixelTy'+'pe']=_0x173421['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x92a+0x527*0x2+-0x123);}['upload'](_0x177920,_0x5935ee){w['assert'](_0x5935ee['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x5935ee);const _0x51dce3=_0x177920['gl'];if(!_0x5935ee['_needsUplo'+'ad']&&(_0x5935ee['_needsMipm'+'apsUpload']&&_0x5935ee['_mipmapsUp'+'loaded']||!_0x5935ee['pot']))return;let _0x2eb919=-0xf98+0x2*-0x778+-0x8*-0x3d1,_0x4f7f3f,_0x2c9802;const _0x2bc01d=_0x5935ee['numLevels'];for(_0x5935ee['array']&&_0x51dce3['texStorage'+'3D'](_0x51dce3['TEXTURE_2D'+'_ARRAY'],_0x2bc01d,this['_glInterna'+'lFormat'],_0x5935ee['_width'],_0x5935ee['_height'],_0x5935ee['_arrayLeng'+'th']);_0x5935ee['_levels'][_0x2eb919]||_0x2eb919===0x4b*-0x1+0x23ae+-0x2363;){if(!_0x5935ee['_needsUplo'+'ad']&&_0x2eb919===-0x1*0x76a+0x3d*-0x18+-0x691*-0x2){_0x2eb919++;continue;}else{if(_0x2eb919&&(!_0x5935ee['_needsMipm'+'apsUpload']||!_0x5935ee['_mipmaps']))break;}if(_0x4f7f3f=_0x5935ee['_levels'][_0x2eb919],_0x2c9802=(-0x2*-0xf48+-0x2b2+-0x1bdd)/Math['pow'](0x7a*-0x51+0x1f3*-0xc+0x3e00,_0x2eb919),_0x2eb919===-0x64*-0x3d+0x7+-0x56*0x47&&!_0x5935ee['_compresse'+'d']&&!_0x5935ee['_integerFo'+'rmat']&&_0x5935ee['_levels']['length']<_0x2bc01d&&(_0x51dce3['generateMi'+'pmap'](this['_glTarget']),_0x5935ee['_mipmapsUp'+'loaded']=!(-0xf*0x28f+-0x9e5*0x1+0x2*0x1823)),_0x5935ee['_cubemap']){let _0x4a9647;if(_0x177920['_isBrowser'+'Interface'](_0x4f7f3f[-0x54+-0x3*0x31d+0x4b*0x21]))for(_0x4a9647=0xb3f*0x2+0x511*-0x4+-0x23a;_0x4a9647<-0x8ce+-0xb04+0x13d8*0x1;_0x4a9647++){if(!_0x5935ee['_levelsUpd'+'ated'][-0x13*-0x80+-0x26d0+-0x1c*-0x10c][_0x4a9647])continue;let _0x178d2f=_0x4f7f3f[_0x4a9647];_0x177920['_isImageBr'+'owserInter'+'face'](_0x178d2f)&&(_0x178d2f['width']>_0x177920['maxCubeMap'+'Size']||_0x178d2f['height']>_0x177920['maxCubeMap'+'Size'])&&(_0x178d2f=c_(_0x178d2f,_0x177920['maxCubeMap'+'Size']),_0x2eb919===0x11d1+0x8e*0x21+-0x241f&&(_0x5935ee['_width']=_0x178d2f['width'],_0x5935ee['_height']=_0x178d2f['height'])),_0x177920['setUnpackF'+'lipY'](!(0xd6a+0xcd*-0x25+0x1038)),_0x177920['setUnpackP'+'remultiply'+'Alpha'](_0x5935ee['_premultip'+'lyAlpha']),this['_glCreated']?_0x51dce3['texSubImag'+'e2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,0x106b+-0x83*-0x33+-0x2a84,-0x188e+0x7d5*0x1+0x10b9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x178d2f):_0x51dce3['texImage2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x178d2f);}else for(_0x2c9802=(0xa65*-0x1+-0x4*-0x161+0x4e2)/Math['pow'](0xd44+0x4fa+0x2*-0x91e,_0x2eb919),_0x4a9647=-0x2531+0x25f6*-0x1+0x4b27;_0x4a9647<-0xba4+0x2*-0x439+0xc*0x1ad;_0x4a9647++){if(!_0x5935ee['_levelsUpd'+'ated'][-0x15ba*0x1+0x3*0x607+0x3a5][_0x4a9647])continue;const _0x2209bc=_0x4f7f3f[_0x4a9647];_0x5935ee['_compresse'+'d']?this['_glCreated']&&_0x2209bc?_0x51dce3['compressed'+'TexSubImag'+'e2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,-0xaf1*-0x2+-0xacf+-0xb13,-0x187*0x5+0x25c3*-0x1+0x2d66,Math['max'](_0x5935ee['_width']*_0x2c9802,-0x84b+0x1687+-0xe3b*0x1),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x2c2*-0x1+-0x1aff+0xd6*0x1d),this['_glInterna'+'lFormat'],_0x2209bc):_0x51dce3['compressed'+'TexImage2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](_0x5935ee['_width']*_0x2c9802,0x26f1+0x5a3+-0x2c93),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x2*-0x29b+-0x2260+-0x3*-0x9b9),0xb66+0x146*-0x18+0x16*0xdf,_0x2209bc):(_0x177920['setUnpackF'+'lipY'](!(-0x6fa+-0x1*0xf47+0x1642)),_0x177920['setUnpackP'+'remultiply'+'Alpha'](_0x5935ee['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2209bc?_0x51dce3['texSubImag'+'e2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,0x1ec*0x1+-0x21*-0xfb+-0x2247,-0xb73+-0x42+0xbb5,Math['max'](_0x5935ee['_width']*_0x2c9802,0x1*0x2287+0x2417+0x1*-0x469d),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x3ee+-0x83*0x11+0xca2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x2209bc):_0x51dce3['texImage2D'](_0x51dce3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4a9647,_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](_0x5935ee['_width']*_0x2c9802,-0x1343+-0xa89+0x9ef*0x3),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x2*-0x851+0x12ab+-0x12*0x1f6),0x2*0x1198+0x6*0x645+-0x2*0x2467,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2209bc));}}else{if(_0x5935ee['_volume'])_0x5935ee['_compresse'+'d']?_0x51dce3['compressed'+'TexImage3D'](_0x51dce3['TEXTURE_3D'],_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](_0x5935ee['_width']*_0x2c9802,0xa06+0x2238*-0x1+0x1833),Math['max'](_0x5935ee['_height']*_0x2c9802,-0xad5*-0x3+0x1166+-0x31e4),Math['max'](_0x5935ee['_depth']*_0x2c9802,0x184*0xd+0x6*0x24+-0x148b),-0xfc4+-0x10a3+0x2067,_0x4f7f3f):(_0x177920['setUnpackF'+'lipY'](!(0x1*-0xace+-0x623*-0x1+0x4ac)),_0x177920['setUnpackP'+'remultiply'+'Alpha'](_0x5935ee['_premultip'+'lyAlpha']),_0x51dce3['texImage3D'](_0x51dce3['TEXTURE_3D'],_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](_0x5935ee['_width']*_0x2c9802,0x2492+-0x10b*-0x3+-0x2*0x13d9),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x2*-0xab2+0x2182+-0x36e5),Math['max'](_0x5935ee['_depth']*_0x2c9802,0x1ec2+-0x2515*0x1+0x654),0x261c+0x260f+-0x4c2b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f));else{if(_0x5935ee['array']&&typeof _0x4f7f3f=='object'){if(_0x5935ee['_arrayLeng'+'th']===_0x4f7f3f['length']){if(_0x5935ee['_compresse'+'d']){for(let _0x46752b=-0x29*0x70+0x22ed+-0x10fd;_0x46752b<_0x5935ee['_arrayLeng'+'th'];_0x46752b++)_0x51dce3['compressed'+'TexSubImag'+'e3D'](_0x51dce3['TEXTURE_2D'+'_ARRAY'],_0x2eb919,0x138d+-0x1f*-0x43+-0x1baa,-0x5*0x125+-0x2*0xa6a+0x3cb*0x7,_0x46752b,Math['max'](Math['floor'](_0x5935ee['_width']*_0x2c9802),-0xc07*0x3+0x1487+0xf8f),Math['max'](Math['floor'](_0x5935ee['_height']*_0x2c9802),0x1*0x23b1+-0x39*-0x26+-0x2c26),-0x1e65+0x3*-0xbf5+0x4245*0x1,this['_glInterna'+'lFormat'],_0x4f7f3f[_0x46752b]);}else{for(let _0x4ee257=0x1*-0x1966+0x1dcf+-0x469;_0x4ee257<_0x5935ee['_arrayLeng'+'th'];_0x4ee257++)_0x51dce3['texSubImag'+'e3D'](_0x51dce3['TEXTURE_2D'+'_ARRAY'],_0x2eb919,-0xe7f*-0x1+0x2577+-0x33f6,0x10*-0x7d+0xe*0x70+0x1b0,_0x4ee257,Math['max'](Math['floor'](_0x5935ee['_width']*_0x2c9802),-0xf7c+0x1*-0x18ad+0x282a),Math['max'](Math['floor'](_0x5935ee['_height']*_0x2c9802),-0xf1a*-0x1+0x4b1+-0x1*0x13ca),0x5*0x7cf+-0x1eff+-0x80b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f[_0x4ee257]);}}}else{if(_0x177920['_isBrowser'+'Interface'](_0x4f7f3f)){_0x177920['_isImageBr'+'owserInter'+'face'](_0x4f7f3f)&&(_0x4f7f3f['width']>_0x177920['maxTexture'+'Size']||_0x4f7f3f['height']>_0x177920['maxTexture'+'Size'])&&(_0x4f7f3f=c_(_0x4f7f3f,_0x177920['maxTexture'+'Size']),_0x2eb919===-0xe73+-0x131e*-0x1+-0xef*0x5&&(_0x5935ee['_width']=_0x4f7f3f['width'],_0x5935ee['_height']=_0x4f7f3f['height']));const _0x2b52d7=_0x4f7f3f['width']||_0x4f7f3f['videoWidth'],_0x3dcc68=_0x4f7f3f['height']||_0x4f7f3f['videoHeigh'+'t'];_0x177920['setUnpackF'+'lipY'](_0x5935ee['_flipY']),_0x177920['setUnpackP'+'remultiply'+'Alpha'](_0x5935ee['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5935ee['_width']===_0x2b52d7&&_0x5935ee['_height']===_0x3dcc68&&!_0x177920['_isImageVi'+'deoInterfa'+'ce'](_0x4f7f3f)?_0x51dce3['texSubImag'+'e2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,0xbf*-0x7+-0x1d*0x83+0xc*0x1ac,0x228d*-0x1+0x2e*0x24+-0x4f*-0x5b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f):(_0x51dce3['texImage2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f),_0x2eb919===0x177b+0x899*-0x4+0x93*0x13&&(_0x5935ee['_width']=_0x2b52d7,_0x5935ee['_height']=_0x3dcc68));}else _0x2c9802=(0x5*0x18d+0x737*-0x1+-0x89)/Math['pow'](0x13fe+-0x40*0x5f+0x3c4,_0x2eb919),_0x5935ee['_compresse'+'d']?this['_glCreated']&&_0x4f7f3f?_0x51dce3['compressed'+'TexSubImag'+'e2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,-0x12*-0x175+0x12be+-0x167c*0x2,-0x1953+0x1*-0x201b+0x396e,Math['max'](Math['floor'](_0x5935ee['_width']*_0x2c9802),-0x1af7+-0x8ea+0x6*0x5fb),Math['max'](Math['floor'](_0x5935ee['_height']*_0x2c9802),-0x205c*-0x1+0x2535+-0x4590),this['_glInterna'+'lFormat'],_0x4f7f3f):_0x51dce3['compressed'+'TexImage2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x5935ee['_width']*_0x2c9802),0x1*-0x1fae+0x26da+-0x72b),Math['max'](Math['floor'](_0x5935ee['_height']*_0x2c9802),-0x1a6*0x2+-0x2e7*0xc+0x1*0x2621),0x1685+0x1dab+-0x3430,_0x4f7f3f):(_0x177920['setUnpackF'+'lipY'](!(-0x6da+0x3*0x7de+0x3*-0x595)),_0x177920['setUnpackP'+'remultiply'+'Alpha'](_0x5935ee['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4f7f3f?_0x51dce3['texSubImag'+'e2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,0x1ef2*-0x1+0x92*-0xa+0x24a6,-0xc1*-0x12+0x1*0x7a0+-0xa99*0x2,Math['max'](_0x5935ee['_width']*_0x2c9802,-0x116*-0x18+-0x45*0x1d+0x2*-0x91f),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x2*-0xdf0+0x1*0x26d5+0x4*-0x10ad),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f):_0x51dce3['texImage2D'](_0x51dce3['TEXTURE_2D'],_0x2eb919,this['_glInterna'+'lFormat'],Math['max'](_0x5935ee['_width']*_0x2c9802,-0x13a7*0x1+0xc8f+-0x17*-0x4f),Math['max'](_0x5935ee['_height']*_0x2c9802,-0x1*0x269e+0x1*0x2543+0x2*0xae),0x3*0x803+-0x1*0x1e70+0x95*0xb,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4f7f3f));_0x2eb919===-0xc64+-0x115a+0x1b*0x11a?_0x5935ee['_mipmapsUp'+'loaded']=!(-0xa1*-0x12+0x1f*0x2b+-0xf*0x11a):_0x5935ee['_mipmapsUp'+'loaded']=!(0x677+0x21c2+-0x5bf*0x7);}}}_0x2eb919++;}if(_0x5935ee['_needsUplo'+'ad']){if(_0x5935ee['_cubemap']){for(let _0x447c20=-0x26dd+0x3*0xafc+0x5e9;_0x447c20<-0x1d0c+-0x1*-0x2523+0x1*-0x811;_0x447c20++)_0x5935ee['_levelsUpd'+'ated'][-0x2c*0xdc+0x76*-0x26+0x3754][_0x447c20]=!(0x2396+0x2168+0x1d*-0x261);}else _0x5935ee['_levelsUpd'+'ated'][0x1*0x7ab+0x18*-0x8b+0x55d]=!(-0x641+0x49*0x6d+-0x18d3);}!_0x5935ee['_compresse'+'d']&&!_0x5935ee['_integerFo'+'rmat']&&_0x5935ee['_mipmaps']&&_0x5935ee['_needsMipm'+'apsUpload']&&_0x5935ee['_levels']['length']===-0x15e2+-0x250f+0xbca*0x5&&(_0x51dce3['generateMi'+'pmap'](this['_glTarget']),_0x5935ee['_mipmapsUp'+'loaded']=!(-0x167*0x19+-0x258a+0x4899)),_0x5935ee['_gpuSize']&&_0x5935ee['adjustVram'+'SizeTracki'+'ng'](_0x177920['_vram'],-_0x5935ee['_gpuSize']),_0x5935ee['_gpuSize']=_0x5935ee['gpuSize'],_0x5935ee['adjustVram'+'SizeTracki'+'ng'](_0x177920['_vram'],_0x5935ee['_gpuSize']),this['_glCreated']=!(-0x1c*-0x97+0x3*0x119+0x1cd*-0xb);}['read'](_0x19a4fb,_0x54ace2,_0x1af201,_0x813456,_0x51ac9c){const _0x172441=this['texture'];return _0x172441['device']['readTextur'+'eAsync'](_0x172441,_0x19a4fb,_0x54ace2,_0x1af201,_0x813456,_0x51ac9c);}['write'](_0x5af578,_0x2d5830,_0x494c7e,_0x713a62,_0xedff7c){const {texture:_0x53bb37}=this,{device:_0x393a97}=_0x53bb37;return _0x393a97['setTexture'](_0x53bb37,0xdd8+-0x127c*-0x1+-0x2054),_0x393a97['writeTextu'+'reAsync'](_0x53bb37,_0x5af578,_0x2d5830,_0x494c7e,_0x713a62,_0xedff7c);}}class tw{constructor(_0x172184,_0x3ec87f){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x172184,this['resolveFB']=_0x3ec87f);}['destroy'](_0x2a1c39){this['msaaFB']&&(_0x2a1c39['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x2a1c39['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(0x12f7+-0x1*-0x1e07+-0x30fd));}['destroy'](_0x550ca5){var _0x469a84;const _0x43ae68=_0x550ca5['gl'];this['_isInitial'+'ized']=!(-0x2*-0x11c5+-0x262b+0x2a2),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x43ae68['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x43ae68['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x43ae68['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x5635b3=>{_0x43ae68['deleteRend'+'erbuffer'](_0x5635b3);}),this['_glMsaaCol'+'orBuffers']['length']=0x2d9+0x1d5c*0x1+-0x2035,(_0x469a84=this['colorMrtFr'+'amebuffers'])==null||_0x469a84['forEach'](_0x4c0aa6=>{_0x4c0aa6['destroy'](_0x43ae68);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x550ca5)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x3*0xbaa+-0x10f*0x16+-0xbb4);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x3818c9,_0x56b667){var _0x4640d5,_0x211bc5;const _0x4da394=_0x3818c9['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x34b*0x6+-0x3fc+0x17be);const _0x35a524=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1885+0xe*0x1+-0xe9*0x1b))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x56b667['width']<=0x253c+0x104e*-0x2+0x1*-0x4a0||_0x56b667['height']<=-0xbf*-0x30+-0xb0e+0x1*-0x18c2)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x56b667['width']+'\x20x\x20'+_0x56b667['height'],_0x56b667);}),this['_glFrameBu'+'ffer']=_0x4da394['createFram'+'ebuffer'](),_0x3818c9['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x19a00d=((_0x4640d5=_0x56b667['_colorBuff'+'ers'])==null?void(-0x231e+0x1b34+-0x2*-0x3f5):_0x4640d5['length'])??-0x3a*0x11+0x18d2+-0x14f8,_0x3d1d3d=_0x4da394['COLOR_ATTA'+'CHMENT0'];for(let _0x5845f8=-0x11e+0x1213+-0x10f5;_0x5845f8<_0x19a00d;++_0x5845f8){const _0x1202a2=_0x56b667['getColorBu'+'ffer'](_0x5845f8);_0x1202a2&&(_0x1202a2['impl']['_glTexture']||(_0x1202a2['_width']=Math['min'](_0x1202a2['width'],_0x3818c9['maxRenderB'+'ufferSize']),_0x1202a2['_height']=Math['min'](_0x1202a2['height'],_0x3818c9['maxRenderB'+'ufferSize']),_0x3818c9['setTexture'](_0x1202a2,-0x1219*0x1+0x6f6+0xb23)),_0x4da394['framebuffe'+'rTexture2D'](_0x4da394['FRAMEBUFFE'+'R'],_0x3d1d3d+_0x5845f8,_0x1202a2['_cubemap']?_0x4da394['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x56b667['_face']:_0x4da394['TEXTURE_2D'],_0x1202a2['impl']['_glTexture'],_0x56b667['mipLevel']),_0x35a524['push'](_0x3d1d3d+_0x5845f8));}_0x4da394['drawBuffer'+'s'](_0x35a524);const _0x547070=_0x56b667['_depthBuff'+'er'];if(_0x547070||_0x56b667['_depth']){const _0x2ea43e=_0x56b667['_stencil']?_0x4da394['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4da394['DEPTH_ATTA'+'CHMENT'];if(_0x547070)_0x547070['impl']['_glTexture']||(_0x547070['_width']=Math['min'](_0x547070['width'],_0x3818c9['maxRenderB'+'ufferSize']),_0x547070['_height']=Math['min'](_0x547070['height'],_0x3818c9['maxRenderB'+'ufferSize']),_0x3818c9['setTexture'](_0x547070,-0x1*0xd79+0x1653*0x1+-0x8da)),_0x4da394['framebuffe'+'rTexture2D'](_0x4da394['FRAMEBUFFE'+'R'],_0x2ea43e,_0x547070['_cubemap']?_0x4da394['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x56b667['_face']:_0x4da394['TEXTURE_2D'],_0x56b667['_depthBuff'+'er']['impl']['_glTexture'],_0x56b667['mipLevel']);else{if(!(_0x56b667['_samples']>0x9dc+-0x1277+-0x227*-0x4)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x4da394['createRend'+'erbuffer']());const _0x29094a=_0x56b667['_stencil']?_0x4da394['DEPTH24_ST'+'ENCIL8']:_0x4da394['DEPTH_COMP'+'ONENT32F'];_0x4da394['bindRender'+'buffer'](_0x4da394['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4da394['renderbuff'+'erStorage'](_0x4da394['RENDERBUFF'+'ER'],_0x29094a,_0x56b667['width'],_0x56b667['height']),_0x4da394['framebuffe'+'rRenderbuf'+'fer'](_0x4da394['FRAMEBUFFE'+'R'],_0x2ea43e,_0x4da394['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4da394['bindRender'+'buffer'](_0x4da394['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x3818c9,_0x56b667));}if(_0x56b667['_samples']>-0xa9+0x2ea*0x3+-0x1*0x814){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x4da394['createFram'+'ebuffer'](),_0x3818c9['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x18db6e=((_0x211bc5=_0x56b667['_colorBuff'+'ers'])==null?void(-0x1e9a+0x1886+-0x614*-0x1):_0x211bc5['length'])??0x2*-0x9e8+0xddb*0x1+0x5f5;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x733+-0xa6e+0x33b)){const _0x1a7779=_0x4da394['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1a7779);const _0x20cebf=_0x3818c9['backBuffer'+'Format']===Ne?_0x4da394['RGBA8']:_0x4da394['RGB8'];_0x4da394['bindRender'+'buffer'](_0x4da394['RENDERBUFF'+'ER'],_0x1a7779),_0x4da394['renderbuff'+'erStorageM'+'ultisample'](_0x4da394['RENDERBUFF'+'ER'],_0x56b667['_samples'],_0x20cebf,_0x56b667['width'],_0x56b667['height']),_0x4da394['framebuffe'+'rRenderbuf'+'fer'](_0x4da394['FRAMEBUFFE'+'R'],_0x4da394['COLOR_ATTA'+'CHMENT0'],_0x4da394['RENDERBUFF'+'ER'],_0x1a7779);}else for(let _0x5b0437=0x1571+0x82*-0x37+0x67d;_0x5b0437<_0x18db6e;++_0x5b0437){const _0x2b345f=_0x56b667['getColorBu'+'ffer'](_0x5b0437);if(_0x2b345f){const _0x4c083c=_0x4da394['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x4c083c),_0x4da394['bindRender'+'buffer'](_0x4da394['RENDERBUFF'+'ER'],_0x4c083c),_0x4da394['renderbuff'+'erStorageM'+'ultisample'](_0x4da394['RENDERBUFF'+'ER'],_0x56b667['_samples'],_0x2b345f['impl']['_glInterna'+'lFormat'],_0x56b667['width'],_0x56b667['height']),_0x4da394['framebuffe'+'rRenderbuf'+'fer'](_0x4da394['FRAMEBUFFE'+'R'],_0x4da394['COLOR_ATTA'+'CHMENT0']+_0x5b0437,_0x4da394['RENDERBUFF'+'ER'],_0x4c083c);}}if(_0x56b667['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x4d6970=_0x56b667['_stencil']?_0x4da394['DEPTH24_ST'+'ENCIL8']:_0x4da394['DEPTH_COMP'+'ONENT32F'],_0x5161cf=_0x56b667['_stencil']?_0x4da394['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4da394['DEPTH_ATTA'+'CHMENT'];let _0x419804;const _0xc40326=_0x56b667['_depthBuff'+'er'];_0xc40326&&(_0x419804=_0xc40326['id']+':'+_0x56b667['width']+':'+_0x56b667['height']+':'+_0x56b667['_samples']+':'+_0x4d6970+':'+_0x5161cf,this['_glMsaaDep'+'thBuffer']=Fd(_0x3818c9)['get'](_0x419804)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x4da394['createRend'+'erbuffer'](),_0x4da394['bindRender'+'buffer'](_0x4da394['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x4da394['renderbuff'+'erStorageM'+'ultisample'](_0x4da394['RENDERBUFF'+'ER'],_0x56b667['_samples'],_0x4d6970,_0x56b667['width'],_0x56b667['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x4da394['deleteRend'+'erbuffer'](this);},_0xc40326&&Fd(_0x3818c9)['set'](_0x419804,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x419804,_0x4da394['framebuffe'+'rRenderbuf'+'fer'](_0x4da394['FRAMEBUFFE'+'R'],_0x5161cf,_0x4da394['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x3818c9,_0x56b667,'MSAA')),_0x18db6e>-0x16f5+0x77e*0x1+0x3de*0x4&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x3818c9,_0x56b667,_0x18db6e),_0x3818c9['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x4da394['drawBuffer'+'s'](_0x35a524));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x248e8b,_0xc407fd,_0x2c49ce){const _0x4ac98d=_0x248e8b['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x36b3c3=-0xb*-0x125+-0x394*0x4+-0x3f*-0x7;_0x36b3c3<_0x2c49ce;++_0x36b3c3){const _0x24c413=_0xc407fd['getColorBu'+'ffer'](_0x36b3c3),_0x2fccad=_0x4ac98d['createFram'+'ebuffer']();_0x248e8b['setFramebu'+'ffer'](_0x2fccad);const _0x274929=this['_glMsaaCol'+'orBuffers'][_0x36b3c3];_0x4ac98d['bindRender'+'buffer'](_0x4ac98d['RENDERBUFF'+'ER'],_0x274929),_0x4ac98d['renderbuff'+'erStorageM'+'ultisample'](_0x4ac98d['RENDERBUFF'+'ER'],_0xc407fd['_samples'],_0x24c413['impl']['_glInterna'+'lFormat'],_0xc407fd['width'],_0xc407fd['height']),_0x4ac98d['framebuffe'+'rRenderbuf'+'fer'](_0x4ac98d['FRAMEBUFFE'+'R'],_0x4ac98d['COLOR_ATTA'+'CHMENT0'],_0x4ac98d['RENDERBUFF'+'ER'],_0x274929),_0x4ac98d['drawBuffer'+'s']([_0x4ac98d['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x248e8b,_0xc407fd,'MSAA-MRT-s'+'rc'+_0x36b3c3));const _0x5ced52=_0x4ac98d['createFram'+'ebuffer']();_0x248e8b['setFramebu'+'ffer'](_0x5ced52),_0x4ac98d['framebuffe'+'rTexture2D'](_0x4ac98d['FRAMEBUFFE'+'R'],_0x4ac98d['COLOR_ATTA'+'CHMENT0'],_0x24c413['_cubemap']?_0x4ac98d['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xc407fd['_face']:_0x4ac98d['TEXTURE_2D'],_0x24c413['impl']['_glTexture'],-0x11b*-0xb+-0xa63*0x2+0x89d),this['colorMrtFr'+'amebuffers'][_0x36b3c3]=new tw(_0x2fccad,_0x5ced52),w['call'](()=>this['_checkFbo'](_0x248e8b,_0xc407fd,'MSAA-MRT-d'+'st'+_0x36b3c3));}}['_checkFbo'](_0x35542f,_0x10b884,_0x5b6dff=''){const _0x4555c3=_0x35542f['gl'],_0x1d2807=_0x4555c3['checkFrame'+'bufferStat'+'us'](_0x4555c3['FRAMEBUFFE'+'R']);let _0x25ac1e;switch(_0x1d2807){case _0x4555c3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x25ac1e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x4555c3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x25ac1e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x4555c3['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x25ac1e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x4555c3['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x25ac1e='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x25ac1e,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x25ac1e+(',\x20render\x20t'+'arget:\x20')+_0x10b884['name']+'\x20'+_0x5b6dff,_0x10b884);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x103*0x1d+0x1*-0x12f+-0x1*-0x1e86,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x17*0x39+-0x193a+-0x11*-0x1c9),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x17ac+0x20b9+0x90d*-0x1),this['_isInitial'+'ized']=!(0x1249+-0x2111+0xec9);}['internalRe'+'solve'](_0x135cba,_0x317e50,_0x1f4928,_0x1407c6,_0x4d9677){w['assert'](_0x317e50!==_0x1f4928,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x135cba['setScissor'](0x365+0x64d*0x5+0x2*-0x1173,-0x4aa+-0x728+-0x22*-0x59,_0x1407c6['width'],_0x1407c6['height']);const _0x14c5c0=_0x135cba['gl'];_0x14c5c0['bindFrameb'+'uffer'](_0x14c5c0['READ_FRAME'+'BUFFER'],_0x317e50),_0x14c5c0['bindFrameb'+'uffer'](_0x14c5c0['DRAW_FRAME'+'BUFFER'],_0x1f4928),_0x14c5c0['blitFrameb'+'uffer'](-0xaaf+0x95b*-0x1+0x140a,-0x1730+-0x2*0xf11+-0x15e*-0x27,_0x1407c6['width'],_0x1407c6['height'],0xb5*-0x26+0xc7d+0xe61,0x9e7+-0x1f12+0x152b,_0x1407c6['width'],_0x1407c6['height'],_0x4d9677,_0x14c5c0['NEAREST']);}['resolve'](_0x24c16f,_0x2e5383,_0x3eaab2,_0x198961){const _0xc3b7c9=_0x24c16f['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x3eaab2)for(let _0x41ecfd=0x1*-0x88f+0x1*0x15eb+-0xd5c;_0x41ecfd<this['colorMrtFr'+'amebuffers']['length'];_0x41ecfd++){const _0x3daf4c=this['colorMrtFr'+'amebuffers'][_0x41ecfd];Q['pushGpuMar'+'ker'](_0x24c16f,'RESOLVE-MR'+'T'+_0x41ecfd),this['internalRe'+'solve'](_0x24c16f,_0x3daf4c['msaaFB'],_0x3daf4c['resolveFB'],_0x2e5383,_0xc3b7c9['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x24c16f);}_0x198961&&(Q['pushGpuMar'+'ker'](_0x24c16f,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x24c16f,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2e5383,_0xc3b7c9['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x24c16f));}else Q['pushGpuMar'+'ker'](_0x24c16f,'RESOLVE'),this['internalRe'+'solve'](_0x24c16f,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2e5383,(_0x3eaab2?_0xc3b7c9['COLOR_BUFF'+'ER_BIT']:0x2aa*-0x1+0x393+-0xe9)|(_0x198961?_0xc3b7c9['DEPTH_BUFF'+'ER_BIT']:0x264d+-0x4cf*-0x7+-0x47f6)),Q['popGpuMark'+'er'](_0x24c16f);_0xc3b7c9['bindFrameb'+'uffer'](_0xc3b7c9['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x2efbfc){this['queries']['forEach'](_0x58df38=>_0x2efbfc['deleteQuer'+'y'](_0x58df38)),this['queries']=null;}}class rw extends $T{constructor(_0x3508b3){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x3508b3,this['ext']=_0x3508b3['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x3821f8=>this['device']['gl']['deleteQuer'+'y'](_0x3821f8)),this['frameQueri'+'es']['forEach'](_0x116faa=>this['device']['gl']['deleteQuer'+'y'](_0x116faa)),this['previousFr'+'ameQueries']['forEach'](_0x256064=>_0x256064['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x4ad0e4){if(this['ext']){const _0x3174ef=this['getSlot'](_0x4ad0e4),_0x3f441f=this['getQuery']();return this['frameQueri'+'es'][_0x3174ef]=_0x3f441f,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x3f441f),_0x3174ef;}}['end'](_0x5dc4a7){_0x5dc4a7!==void(-0x69*-0x21+-0x1cce+0xf45)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x38e4a7=this['ext'],_0x155085=this['device']['gl'],_0x1483c0=this['device']['renderVers'+'ion'],_0x2d3a4a=this['frameQueri'+'es'];if(_0x2d3a4a['length']>0x3*-0xbf9+0x5ed+0x15d*0x16){this['frameQueri'+'es']=[];const _0x1ffa3=new iw();_0x1ffa3['queries']=_0x2d3a4a,_0x1ffa3['renderVers'+'ion']=_0x1483c0,this['previousFr'+'ameQueries']['push'](_0x1ffa3);}if(this['previousFr'+'ameQueries']['length']>0x1b82+-0x1d0b+-0x83*-0x3){const _0x2a1712=this['previousFr'+'ameQueries'][0xc9*-0x11+0x441+0x6*0x184],_0xc4a997=_0x2a1712['queries'],_0x41ff82=_0xc4a997[_0xc4a997['length']-(0x25b0+-0x2480+0x3*-0x65)],_0x592239=_0x155085['getQueryPa'+'rameter'](_0x41ff82,_0x155085['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x15db7b=_0x155085['getParamet'+'er'](_0x38e4a7['GPU_DISJOI'+'NT_EXT']);if(_0x592239&&!_0x15db7b){this['previousFr'+'ameQueries']['shift']();const _0x3815c6=this['timings'];_0x3815c6['length']=0x3*0x57a+-0x1ad9+-0x17d*-0x7;for(let _0x5c010f=-0x1fd3*0x1+0x8b3+-0x25*-0xa0;_0x5c010f<_0xc4a997['length'];_0x5c010f++){const _0x5dcc6a=_0xc4a997[_0x5c010f],_0xdbed59=_0x155085['getQueryPa'+'rameter'](_0x5dcc6a,_0x155085['QUERY_RESU'+'LT']);_0x3815c6[_0x5c010f]=_0xdbed59*(0x3*0x6+-0x25e3+0x3*0xc9b+0.000001),this['freeQuerie'+'s']['push'](_0x5dcc6a);}this['report'](_0x2a1712['renderVers'+'ion'],_0x3815c6);}_0x15db7b&&(this['previousFr'+'ameQueries']['forEach'](_0x14fd01=>{this['report'](_0x14fd01['renderVers'+'ion'],null),_0x14fd01['destroy'](_0x155085);}),this['previousFr'+'ameQueries']['length']=0x11de+-0x3f9+-0xde5);}super['request'](_0x1483c0);}}}const Da=[];class aw extends $e{constructor(_0x57150b,_0x1b6b28={}){super(_0x57150b,_0x1b6b28),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x706+-0x2350+0x3*0xe1d)),(_0x1b6b28=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1*-0x967+-0x2224+0x18be),this['_contextLo'+'stHandler']=_0x23846b=>{_0x23846b['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x5f7b7f=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x5f7b7f&&_0x5f7b7f['includes']('AppleWebKi'+'t')&&(_0x5f7b7f['includes']('15.4')||_0x5f7b7f['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x1b6b28['antialias']=!(-0x5*-0x641+-0x1*0x2c8+-0x71f*0x4),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x212cea=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x362aa2=_0x212cea?_0x212cea[-0x61*0x5e+-0x1b2*-0x5+0x1b25*0x1]:null;if(_0x362aa2){const _0x4f2b1b=parseFloat(_0x362aa2);(Ae['name']==='windows'&&(_0x4f2b1b>=0x2009+0xb33+-0x2ac4||_0x4f2b1b===0x3*0x3b+0x2122+-0x2160)||Ae['name']==='android'&&_0x4f2b1b>=0x805+-0x3d*-0x9d+0x2cea*-0x1)&&(_0x1b6b28['antialias']=!(0xac*0x5+0x16df+0xd1d*-0x2),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x362aa2));}}this['backBuffer'+'Antialias']=_0x1b6b28['antialias']??!(-0x80e+0x78a+-0x7*-0x13),_0x1b6b28['antialias']=!(0x1*0x1e31+-0x1*-0xca5+0x81*-0x55);const _0x2c9403=_0x1b6b28['gl']??_0x57150b['getContext']('webgl2',_0x1b6b28);if(!_0x2c9403)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2c9403,this['isWebGL2']=!(0x151*0xc+-0x1*0x18e3+0x917),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x2b287c=Ae['browserNam'+'e']==='chrome',_0x583f98=Ae['browserNam'+'e']==='safari',_0x2cee7d=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x2139+0x1c0c+0x52e);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x583f98,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x2cee7d&&_0x2b287c&&!_0x1b6b28['alpha'],_0x57150b['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x16cd+-0x1*0x19a7+0x1*0x2db)),_0x57150b['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x2d*0x2+-0xa4c+0x9f3)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x583f98&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2c9403['SAMPLER_2D'],_0x2c9403['SAMPLER_CU'+'BE'],_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2c9403['INT_SAMPLE'+'R_2D'],_0x2c9403['SAMPLER_2D'+'_SHADOW'],_0x2c9403['SAMPLER_CU'+'BE_SHADOW'],_0x2c9403['SAMPLER_3D'],_0x2c9403['INT_SAMPLE'+'R_3D'],_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2c9403['SAMPLER_2D'+'_ARRAY'],_0x2c9403['INT_SAMPLE'+'R_2D_ARRAY'],_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2c9403['REPEAT'],_0x2c9403['CLAMP_TO_E'+'DGE'],_0x2c9403['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2c9403['FUNC_ADD'],_0x2c9403['FUNC_SUBTR'+'ACT'],_0x2c9403['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2c9403['MIN'],_0x2c9403['MAX']],this['glBlendFun'+'ctionColor']=[_0x2c9403['ZERO'],_0x2c9403['ONE'],_0x2c9403['SRC_COLOR'],_0x2c9403['ONE_MINUS_'+'SRC_COLOR'],_0x2c9403['DST_COLOR'],_0x2c9403['ONE_MINUS_'+'DST_COLOR'],_0x2c9403['SRC_ALPHA'],_0x2c9403['SRC_ALPHA_'+'SATURATE'],_0x2c9403['ONE_MINUS_'+'SRC_ALPHA'],_0x2c9403['DST_ALPHA'],_0x2c9403['ONE_MINUS_'+'DST_ALPHA'],_0x2c9403['CONSTANT_C'+'OLOR'],_0x2c9403['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2c9403['ZERO'],_0x2c9403['ONE'],_0x2c9403['SRC_COLOR'],_0x2c9403['ONE_MINUS_'+'SRC_COLOR'],_0x2c9403['DST_COLOR'],_0x2c9403['ONE_MINUS_'+'DST_COLOR'],_0x2c9403['SRC_ALPHA'],_0x2c9403['SRC_ALPHA_'+'SATURATE'],_0x2c9403['ONE_MINUS_'+'SRC_ALPHA'],_0x2c9403['DST_ALPHA'],_0x2c9403['ONE_MINUS_'+'DST_ALPHA'],_0x2c9403['CONSTANT_A'+'LPHA'],_0x2c9403['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2c9403['NEVER'],_0x2c9403['LESS'],_0x2c9403['EQUAL'],_0x2c9403['LEQUAL'],_0x2c9403['GREATER'],_0x2c9403['NOTEQUAL'],_0x2c9403['GEQUAL'],_0x2c9403['ALWAYS']],this['glStencilO'+'p']=[_0x2c9403['KEEP'],_0x2c9403['ZERO'],_0x2c9403['REPLACE'],_0x2c9403['INCR'],_0x2c9403['INCR_WRAP'],_0x2c9403['DECR'],_0x2c9403['DECR_WRAP'],_0x2c9403['INVERT']],this['glClearFla'+'g']=[-0x1*-0x2c2+0x31f*0x1+-0x23*0x2b,_0x2c9403['COLOR_BUFF'+'ER_BIT'],_0x2c9403['DEPTH_BUFF'+'ER_BIT'],_0x2c9403['COLOR_BUFF'+'ER_BIT']|_0x2c9403['DEPTH_BUFF'+'ER_BIT'],_0x2c9403['STENCIL_BU'+'FFER_BIT'],_0x2c9403['STENCIL_BU'+'FFER_BIT']|_0x2c9403['COLOR_BUFF'+'ER_BIT'],_0x2c9403['STENCIL_BU'+'FFER_BIT']|_0x2c9403['DEPTH_BUFF'+'ER_BIT'],_0x2c9403['STENCIL_BU'+'FFER_BIT']|_0x2c9403['COLOR_BUFF'+'ER_BIT']|_0x2c9403['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x8*0x3e4+-0x1b*-0x139+-0x3*0xa1,_0x2c9403['BACK'],_0x2c9403['FRONT'],_0x2c9403['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2c9403['NEAREST'],_0x2c9403['LINEAR'],_0x2c9403['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2c9403['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2c9403['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2c9403['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2c9403['POINTS'],_0x2c9403['LINES'],_0x2c9403['LINE_LOOP'],_0x2c9403['LINE_STRIP'],_0x2c9403['TRIANGLES'],_0x2c9403['TRIANGLE_S'+'TRIP'],_0x2c9403['TRIANGLE_F'+'AN']],this['glType']=[_0x2c9403['BYTE'],_0x2c9403['UNSIGNED_B'+'YTE'],_0x2c9403['SHORT'],_0x2c9403['UNSIGNED_S'+'HORT'],_0x2c9403['INT'],_0x2c9403['UNSIGNED_I'+'NT'],_0x2c9403['FLOAT'],_0x2c9403['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2c9403['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x2c9403['INT']]=_a,this['pcUniformT'+'ype'][_0x2c9403['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x2c9403['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x2c9403['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x2c9403['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x2c9403['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x2c9403['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x2c9403['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x2c9403['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x2c9403['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x2c9403['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x2c9403['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x2c9403['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x2c9403['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x2c9403['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2c9403['TEXTURE_2D']]=0xb*-0x13+0xbae*0x2+-0x168b,this['targetToSl'+'ot'][_0x2c9403['TEXTURE_CU'+'BE_MAP']]=-0xf4e+0x6b*-0x47+-0x2cfc*-0x1,this['targetToSl'+'ot'][_0x2c9403['TEXTURE_3D']]=-0x1216+-0x5a5+0x17bd;let _0x473cbc,_0x276d2b,_0x42041a,_0x1b9722,_0x3f257f;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x674a2,_0x17e74f){_0x674a2['value']!==_0x17e74f&&(_0x2c9403['uniform1i'](_0x674a2['locationId'],_0x17e74f),_0x674a2['value']=_0x17e74f);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x1796b1,_0x3ed068){_0x1796b1['value']!==_0x3ed068&&(_0x2c9403['uniform1f'](_0x1796b1['locationId'],_0x3ed068),_0x1796b1['value']=_0x3ed068);},this['commitFunc'+'tion'][ga]=function(_0x58c20a,_0x2ec60f){_0x3f257f=_0x58c20a['value'],_0x473cbc=_0x2ec60f[0x734+-0x234*0x7+0x2*0x41c],_0x276d2b=_0x2ec60f[0x1233*-0x2+-0x25*-0x47+0xd12*0x2],(_0x3f257f[0xcaf+-0x171e*0x1+0xa6f]!==_0x473cbc||_0x3f257f[-0x4*0x1e2+0xcc4+-0xd*0x67]!==_0x276d2b)&&(_0x2c9403['uniform2fv'](_0x58c20a['locationId'],_0x2ec60f),_0x3f257f[0x2021+-0x48f+-0x2*0xdc9]=_0x473cbc,_0x3f257f[0x1*-0xb3f+0x1e68+-0x1328]=_0x276d2b);},this['commitFunc'+'tion'][ds]=function(_0x4ff2bc,_0x3a98e3){_0x3f257f=_0x4ff2bc['value'],_0x473cbc=_0x3a98e3[0xd55*-0x2+-0xdf6+0x28a0],_0x276d2b=_0x3a98e3[0x533*0x4+-0x195d+0x492],_0x42041a=_0x3a98e3[-0x1*0x18dc+0x2470+-0xb92],(_0x3f257f[-0xfb3*-0x1+-0x64c+0x1d*-0x53]!==_0x473cbc||_0x3f257f[0x35*-0x1a+-0x264a*-0x1+-0x20e7*0x1]!==_0x276d2b||_0x3f257f[-0x7fd*-0x1+0x1*-0x24bc+0x1cc1]!==_0x42041a)&&(_0x2c9403['uniform3fv'](_0x4ff2bc['locationId'],_0x3a98e3),_0x3f257f[-0x134f+-0x1da5*0x1+-0x1e2*-0x1a]=_0x473cbc,_0x3f257f[0x6*0x12c+0x1dfc*-0x1+0x16f5]=_0x276d2b,_0x3f257f[-0x170c+0xce7+0xa27]=_0x42041a);},this['commitFunc'+'tion'][Rn]=function(_0x3e867,_0x4f95d7){_0x3f257f=_0x3e867['value'],_0x473cbc=_0x4f95d7[-0x2265+0x4*0x91e+-0x3b*0x9],_0x276d2b=_0x4f95d7[0x1761+0x122f+0x1*-0x298f],_0x42041a=_0x4f95d7[-0xdba+0x8*-0x1a8+0x1afc],_0x1b9722=_0x4f95d7[0x2604+-0xc2*-0x10+-0x3221*0x1],(_0x3f257f[0x3f0+-0x2*-0x802+0x9fa*-0x2]!==_0x473cbc||_0x3f257f[0x2*-0xd3+-0x21*-0x59+-0x6*0x1a3]!==_0x276d2b||_0x3f257f[-0x1883+0x1b03+-0x27e*0x1]!==_0x42041a||_0x3f257f[-0xb*-0x239+-0x29b+-0x51*0x45]!==_0x1b9722)&&(_0x2c9403['uniform4fv'](_0x3e867['locationId'],_0x4f95d7),_0x3f257f[0x1463*0x1+0xf61+-0x23c4]=_0x473cbc,_0x3f257f[-0x1c57+0x1bdb+0x7d*0x1]=_0x276d2b,_0x3f257f[-0x1*-0x1f+-0x2c7*-0x8+-0x1655*0x1]=_0x42041a,_0x3f257f[-0x2234+0x1*0x110e+0x1129]=_0x1b9722);},this['commitFunc'+'tion'][ca]=function(_0x12a40a,_0x3325c3){_0x3f257f=_0x12a40a['value'],_0x473cbc=_0x3325c3[-0xe4b+0x1*0x125f+-0x3a*0x12],_0x276d2b=_0x3325c3[-0x7f7*0x1+-0x4*0x1e7+0xf94*0x1],(_0x3f257f[0xc53+0x1*0x1c96+-0x28e9]!==_0x473cbc||_0x3f257f[-0x2479*-0x1+-0x259+-0x221f]!==_0x276d2b)&&(_0x2c9403['uniform2iv'](_0x12a40a['locationId'],_0x3325c3),_0x3f257f[0x171e+-0x4*0xfb+-0x1332*0x1]=_0x473cbc,_0x3f257f[0xcca*0x2+-0x1a1*0x1+0x5*-0x4ca]=_0x276d2b);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x56ac8f,_0x1d2188){_0x3f257f=_0x56ac8f['value'],_0x473cbc=_0x1d2188[0x31f*-0x7+0x1b10*0x1+-0x537],_0x276d2b=_0x1d2188[-0x201*0x13+-0x5e4*0x4+0x3da4],_0x42041a=_0x1d2188[0x1341+-0x9*0x2bb+0x7c*0xb],(_0x3f257f[0x5f7+0x97*-0xa+-0x11]!==_0x473cbc||_0x3f257f[-0xb3*-0x17+0x33*0x59+-0x21cf]!==_0x276d2b||_0x3f257f[0x1a6*0x5+-0x42*0x93+0xed5*0x2]!==_0x42041a)&&(_0x2c9403['uniform3iv'](_0x56ac8f['locationId'],_0x1d2188),_0x3f257f[-0x472*-0x2+-0xb9d+0x2b9]=_0x473cbc,_0x3f257f[-0x11ee+-0x4*0x43+-0x12fb*-0x1]=_0x276d2b,_0x3f257f[0x19eb+-0x83d+0x57*-0x34]=_0x42041a);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x18b469,_0xfec2dc){_0x3f257f=_0x18b469['value'],_0x473cbc=_0xfec2dc[-0x1fd*-0x10+-0x28*0x58+-0x1210],_0x276d2b=_0xfec2dc[0x9*-0x6c+-0x1*-0x25ab+-0x21de],_0x42041a=_0xfec2dc[-0xb0d+0x13ed*0x1+-0x8de],_0x1b9722=_0xfec2dc[-0x1f8+-0x6a*-0x24+-0xced],(_0x3f257f[0x1*-0x1c7c+-0x2112+0x3d8e*0x1]!==_0x473cbc||_0x3f257f[-0x1836+0xb0e+0xd29]!==_0x276d2b||_0x3f257f[-0x962+-0xb6*0x13+-0x1*-0x16e6]!==_0x42041a||_0x3f257f[-0xf9d+-0x175*-0x10+-0x7b0]!==_0x1b9722)&&(_0x2c9403['uniform4iv'](_0x18b469['locationId'],_0xfec2dc),_0x3f257f[0x2*0x393+0xbee+0x98a*-0x2]=_0x473cbc,_0x3f257f[-0xb8f+0x2*0x120a+-0x1884]=_0x276d2b,_0x3f257f[0x7eb*0x2+-0x2ca+-0xd0a]=_0x42041a,_0x3f257f[0x144+0x273+-0x3b4]=_0x1b9722);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x579da3,_0x383089){_0x2c9403['uniformMat'+'rix2fv'](_0x579da3['locationId'],!(0xd*0x61+-0x11*0x1c+-0x310),_0x383089);},this['commitFunc'+'tion'][On]=function(_0x14bd29,_0x2e8715){_0x2c9403['uniformMat'+'rix3fv'](_0x14bd29['locationId'],!(0x1*0x1d36+0x476*-0x1+0x18bf*-0x1),_0x2e8715);},this['commitFunc'+'tion'][li]=function(_0x46ae51,_0x4cedc5){_0x2c9403['uniformMat'+'rix4fv'](_0x46ae51['locationId'],!(0x4f*-0x9+-0xd16+0xfde),_0x4cedc5);},this['commitFunc'+'tion'][ud]=function(_0x5922d1,_0x347b82){_0x2c9403['uniform1fv'](_0x5922d1['locationId'],_0x347b82);},this['commitFunc'+'tion'][pd]=function(_0x1342fa,_0x1c8722){_0x2c9403['uniform2fv'](_0x1342fa['locationId'],_0x1c8722);},this['commitFunc'+'tion'][md]=function(_0x5e7e03,_0x58f822){_0x2c9403['uniform3fv'](_0x5e7e03['locationId'],_0x58f822);},this['commitFunc'+'tion'][Lp]=function(_0x56128e,_0x86704a){_0x2c9403['uniform4fv'](_0x56128e['locationId'],_0x86704a);},this['commitFunc'+'tion'][Fn]=function(_0x5181be,_0x183f14){_0x5181be['value']!==_0x183f14&&(_0x2c9403['uniform1ui'](_0x5181be['locationId'],_0x183f14),_0x5181be['value']=_0x183f14);},this['commitFunc'+'tion'][Nn]=function(_0x181920,_0x4d8bf9){_0x3f257f=_0x181920['value'],_0x473cbc=_0x4d8bf9[0x1*0x1aae+0x14*0x80+-0x1257*0x2],_0x276d2b=_0x4d8bf9[0x1cb5+-0x8b6+-0x13fe],(_0x3f257f[-0x2414+0x1d8*-0x12+0x22a2*0x2]!==_0x473cbc||_0x3f257f[0x1*0x1069+-0x1*-0x1ebb+-0x2f23]!==_0x276d2b)&&(_0x2c9403['uniform2ui'+'v'](_0x181920['locationId'],_0x4d8bf9),_0x3f257f[0x1044+-0x59*0x1e+0x6*-0xf9]=_0x473cbc,_0x3f257f[-0xc0a+-0x4*0x17c+0x11fb*0x1]=_0x276d2b);},this['commitFunc'+'tion'][kn]=function(_0x36d934,_0x24b58c){_0x3f257f=_0x36d934['value'],_0x473cbc=_0x24b58c[-0x59*0x4f+-0x14b+0x1cc2],_0x276d2b=_0x24b58c[0x9*0x54+0x1*-0x1d07+0x1a14],_0x42041a=_0x24b58c[0x2377+0x833*-0x1+-0x1b42],(_0x3f257f[-0x3cd*-0x4+-0x1a2+-0x243*0x6]!==_0x473cbc||_0x3f257f[-0x1*0xd33+0x70*-0x22+0x2*0xe0a]!==_0x276d2b||_0x3f257f[0x1af*-0x14+-0x90f*-0x1+0x21*0xbf]!==_0x42041a)&&(_0x2c9403['uniform3ui'+'v'](_0x36d934['locationId'],_0x24b58c),_0x3f257f[-0x1b1*-0xd+0x1*-0x1639+0x3c]=_0x473cbc,_0x3f257f[-0x4*0x431+-0xcb*-0xe+0x5ab]=_0x276d2b,_0x3f257f[-0x6ba+0x241e+-0x1d62]=_0x42041a);},this['commitFunc'+'tion'][Un]=function(_0x1f8d5f,_0x4cce09){_0x3f257f=_0x1f8d5f['value'],_0x473cbc=_0x4cce09[-0x237d+-0xd9*0x1b+-0x3a60*-0x1],_0x276d2b=_0x4cce09[-0xeaa+-0x7*-0x40d+-0xdb0],_0x42041a=_0x4cce09[0x1*0x33f+-0x427*-0x1+-0x2c*0x2b],_0x1b9722=_0x4cce09[-0x10cc+0x183c+-0x76d*0x1],(_0x3f257f[0x126*0x14+0x104a+-0x29e*0xf]!==_0x473cbc||_0x3f257f[0x2030+0xbc8+-0x8cb*0x5]!==_0x276d2b||_0x3f257f[0x1e9b+0x249d+-0x4336]!==_0x42041a||_0x3f257f[0x2129+-0x686+0x470*-0x6]!==_0x1b9722)&&(_0x2c9403['uniform4ui'+'v'](_0x1f8d5f['locationId'],_0x4cce09),_0x3f257f[0x11fd+-0x6*0x2fa+-0x21]=_0x473cbc,_0x3f257f[0xaf4+-0x1d22+0x7*0x299]=_0x276d2b,_0x3f257f[-0x52d+-0x1f69+0x2498]=_0x42041a,_0x3f257f[0xb*-0x32c+0x2f*-0x9+0x1*0x248e]=_0x1b9722);},this['commitFunc'+'tion'][Bn]=function(_0x283438,_0x51510b){_0x2c9403['uniform1iv'](_0x283438['locationId'],_0x51510b);},this['commitFunc'+'tion'][_d]=function(_0x55c0b1,_0x158ccf){_0x2c9403['uniform1ui'+'v'](_0x55c0b1['locationId'],_0x158ccf);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x3082db,_0x4580c2){_0x2c9403['uniform2iv'](_0x3082db['locationId'],_0x4580c2);},this['commitFunc'+'tion'][Sd]=function(_0x5a5e71,_0x3b4104){_0x2c9403['uniform2ui'+'v'](_0x5a5e71['locationId'],_0x3b4104);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x4e6e1d,_0x5c4a30){_0x2c9403['uniform3iv'](_0x4e6e1d['locationId'],_0x5c4a30);},this['commitFunc'+'tion'][vd]=function(_0x1fb4ab,_0x18c144){_0x2c9403['uniform3ui'+'v'](_0x1fb4ab['locationId'],_0x18c144);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x2aafda,_0x55f0c2){_0x2c9403['uniform4iv'](_0x2aafda['locationId'],_0x55f0c2);},this['commitFunc'+'tion'][Rp]=function(_0x2420c1,_0x5166c8){_0x2c9403['uniform4ui'+'v'](_0x2420c1['locationId'],_0x5166c8);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x20f058,_0x2728a4){_0x2c9403['uniformMat'+'rix4fv'](_0x20f058['locationId'],!(-0x37*0x7a+0x1eba+-0x483),_0x2728a4);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x18dcf4=this['gl'];this['feedback']&&_0x18dcf4['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x18fe+0x1383+0x57c)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x3c5*-0x1+-0x1*-0x17cb+-0x1405)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x23bbd9){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x23bbd9;}['updateBack'+'bufferForm'+'at'](_0x37e8e0){const _0x326f6b=this['gl'];_0x326f6b['bindFrameb'+'uffer'](_0x326f6b['FRAMEBUFFE'+'R'],_0x37e8e0);const _0x416674=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x416674?Ne:Cr;}['updateBack'+'buffer'](){const _0x21be7e=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x21be7e)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x2197*-0x1+-0x11*-0x7+0x1*-0x220d),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x19f3c5,_0x19b673){return new XT();}['createInde'+'xBufferImp'+'l'](_0x13c39b){return new qT(_0x13c39b);}['createShad'+'erImpl'](_0xc3699c){return new JT(_0xc3699c);}['createText'+'ureImpl'](_0x217435){return new ew(_0x217435);}['createRend'+'erTargetIm'+'pl'](_0x48f045){return new sw();}['pushMarker'](_0x5d3d6f){if(Ae['browser']&&window['spector']){const _0x1a7337=Q['toString']();window['spector']['setMarker'](_0x1a7337+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x1453ba=Q['toString']();_0x1453ba['length']?window['spector']['setMarker'](_0x1453ba+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x39884f=this['gl'];let _0x134686='highp';if(_0x39884f['getShaderP'+'recisionFo'+'rmat']){const _0x1ad2bb=_0x39884f['getShaderP'+'recisionFo'+'rmat'](_0x39884f['VERTEX_SHA'+'DER'],_0x39884f['HIGH_FLOAT']),_0x2b4788=_0x39884f['getShaderP'+'recisionFo'+'rmat'](_0x39884f['VERTEX_SHA'+'DER'],_0x39884f['MEDIUM_FLO'+'AT']),_0x444096=_0x39884f['getShaderP'+'recisionFo'+'rmat'](_0x39884f['FRAGMENT_S'+'HADER'],_0x39884f['HIGH_FLOAT']),_0x427f54=_0x39884f['getShaderP'+'recisionFo'+'rmat'](_0x39884f['FRAGMENT_S'+'HADER'],_0x39884f['MEDIUM_FLO'+'AT']);if(_0x1ad2bb&&_0x2b4788&&_0x444096&&_0x427f54){const _0x2b91f3=_0x1ad2bb['precision']>0x21ab+0x4ab+-0x2656&&_0x444096['precision']>0x213a+0x1215+0x25*-0x163,_0x206fcd=_0x2b4788['precision']>0x18*-0x9+-0x9e+-0x1*-0x176&&_0x427f54['precision']>-0x26e3+0x126d+-0xc2*-0x1b;_0x2b91f3||(_0x206fcd?(_0x134686='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x134686='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x134686;}['getExtensi'+'on'](){for(let _0x1a7359=-0xb29+-0x2447*-0x1+0x5*-0x506;_0x1a7359<arguments['length'];_0x1a7359++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1a7359])!==-(-0x2b*-0xd6+-0x29f+-0x2152))return this['gl']['getExtensi'+'on'](arguments[_0x1a7359]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2dbebe=this['gl'];this['supportedE'+'xtensions']=_0x2dbebe['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x1db3+-0x1*0x4a3+0x2*-0xc88),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x5d282c=this['gl'];let _0x1eb2b1;const _0x18737b=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0xf47c=_0x5d282c['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0xf47c==null?void(-0x1*-0x2635+-0x40*0x5d+-0xef5):_0xf47c['antialias'])??!(0x1a1f+-0x1*0x254d+0xb2f),this['supportsSt'+'encil']=(_0xf47c==null?void(0x2182+0x16f*-0xd+0x2f*-0x51):_0xf47c['stencil'])??!(-0x1d4b+0x3*-0x7f9+0x3*0x11bd),this['maxTexture'+'Size']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_3D_TEX'+'TURE_SIZE']),_0x1eb2b1=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x1eb2b1?_0x5d282c['getParamet'+'er'](_0x1eb2b1['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x1eb2b1?_0x5d282c['getParamet'+'er'](_0x1eb2b1['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x4b07d8=/\bMali-G52+/,_0x4ffea7=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x18737b['match'](_0x4ffea7))&&!this['unmaskedRe'+'nderer']['match'](_0x4b07d8),_0x1eb2b1=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x1eb2b1?_0x5d282c['getParamet'+'er'](_0x1eb2b1['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x629+-0x46b+0x5*-0x59;const _0x35fc52=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x35fc52?_0x5d282c['getParamet'+'er'](_0x5d282c['MAX_SAMPLE'+'S']):0x268b+-0x2c6+0x6d*-0x54,this['maxSamples']=Math['min'](this['maxSamples'],-0x190+0x139*0x19+-0xb5*0x29),this['samples']=_0x35fc52&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x10*0x1e9+-0x1a8d+-0x130a*-0x3,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0x737*-0x1+0x1a21+0x1*-0x12e2&&(this['supportsAr'+'eaLights']=!(0xb6f+-0x1ac2+0xf54)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x5c153c=this['gl'];_0x5c153c['disable'](_0x5c153c['BLEND']),_0x5c153c['blendFunc'](_0x5c153c['ONE'],_0x5c153c['ZERO']),_0x5c153c['blendEquat'+'ion'](_0x5c153c['FUNC_ADD']),_0x5c153c['colorMask'](!(-0x486+0x6*-0x664+0x2ade),!(0x2f*-0x23+-0x21ee+0x285b),!(-0xd*-0x7d+-0x1*0x89+-0x5d0),!(0xde+-0x5*-0x35+-0x1e7)),_0x5c153c['blendColor'](0x3e9+-0xa9e+0x11*0x65,-0x6c1+-0x1*-0x9bb+0xfe*-0x3,-0xc77+-0x1f64+0x2bdb,0x1228+0x3f*-0x9+-0x7*0x247),_0x5c153c['enable'](_0x5c153c['CULL_FACE']),this['cullFace']=_0x5c153c['BACK'],_0x5c153c['cullFace'](_0x5c153c['BACK']),_0x5c153c['enable'](_0x5c153c['DEPTH_TEST']),_0x5c153c['depthFunc'](_0x5c153c['LEQUAL']),_0x5c153c['depthMask'](!(0x1*-0x1261+-0x1*0x1fa+0x145b)),this['stencil']=!(-0x1*0x253d+-0x167*0x17+0x457f*0x1),_0x5c153c['disable'](_0x5c153c['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x599*-0x1+0xf*0xd3+-0x2*0x362,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x16ee+0x1261*-0x2+-0x159*-0xb,_0x5c153c['stencilFun'+'c'](_0x5c153c['ALWAYS'],-0xa12*-0x1+0xf19*0x1+-0x192b,0x331*-0x1+-0x4c0+-0xb0*-0xd),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=0x25b*-0xb+-0x1f62+-0x33d*-0x12,this['stencilWri'+'teMaskBack']=0xde2+-0x3*0x277+-0x57e,_0x5c153c['stencilOp'](_0x5c153c['KEEP'],_0x5c153c['KEEP'],_0x5c153c['KEEP']),_0x5c153c['stencilMas'+'k'](-0x67c+0x1*-0x1e24+0x259f),this['alphaToCov'+'erage']=!(0x22d*0xa+-0xbf7+-0x9ca),this['raster']=!(0x161*-0x1+0x38e*0x9+-0x1e9d),_0x5c153c['disable'](_0x5c153c['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x5c153c['disable'](_0x5c153c['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x9*0x12e+-0x21d2+0x1735),_0x5c153c['disable'](_0x5c153c['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x18dc+-0x11dc+0x2ab9,_0x5c153c['clearDepth'](0x167d+-0x1c6*0x9+-0x343*0x2),this['clearColor']=new ie(0x1*-0x13cb+0x19f0+-0x625,0xd*-0x2bd+-0xdf3*-0x1+-0x22*-0xa3,0x1*-0xc19+0x8*-0x495+0x30c1,0xdca+0xdb*-0x1a+0x874),_0x5c153c['clearColor'](-0x2050+0x1417*-0x1+0x3467,-0x2f5+-0x6*0x49e+-0xa7*-0x2f,0x707*-0x5+-0x1*-0x1767+0xbbc,-0x22d*0xe+0x19*-0x59+0x2727),this['clearStenc'+'il']=-0x59*0x17+0x1744+-0xf45,_0x5c153c['clearStenc'+'il'](0xbda+-0xf36*0x1+0x35c),_0x5c153c['hint'](_0x5c153c['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x5c153c['NICEST']),_0x5c153c['enable'](_0x5c153c['SCISSOR_TE'+'ST']),_0x5c153c['pixelStore'+'i'](_0x5c153c['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x5c153c['NONE']),this['unpackFlip'+'Y']=!(0x1d8a+0x1d82*-0x1+0x1*-0x7),_0x5c153c['pixelStore'+'i'](_0x5c153c['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x1*-0x51b+-0xf1a*0x2+-0xe*-0x1cb)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x1b5c+-0x191d+-0x1a3d*-0x2),_0x5c153c['pixelStore'+'i'](_0x5c153c['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x1ebb+-0x15b4+-0x906)),_0x5c153c['pixelStore'+'i'](_0x5c153c['UNPACK_ALI'+'GNMENT'],-0xf1f+-0x2659+0x15f*0x27);}['initTextur'+'eUnits'](_0x1e4de8=-0x7*0x201+0x217e+-0x1*0x1367){this['textureUni'+'ts']=[];for(let _0x3c28ac=0x1de0*-0x1+0x1a1*0x9+0xf37;_0x3c28ac<_0x1e4de8;_0x3c28ac++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1d96+0x1a0b+-0x12f*0x2f,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x332428 of this['shaders'])_0x332428['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x358d22 of this['shaders'])_0x358d22['restoreCon'+'text']();}['setViewpor'+'t'](_0x20e23d,_0x8b87ef,_0x557447,_0x4d91da){(this['vx']!==_0x20e23d||this['vy']!==_0x8b87ef||this['vw']!==_0x557447||this['vh']!==_0x4d91da)&&(this['gl']['viewport'](_0x20e23d,_0x8b87ef,_0x557447,_0x4d91da),this['vx']=_0x20e23d,this['vy']=_0x8b87ef,this['vw']=_0x557447,this['vh']=_0x4d91da);}['setScissor'](_0x1955b7,_0x361a65,_0x84fa25,_0x3d8338){(this['sx']!==_0x1955b7||this['sy']!==_0x361a65||this['sw']!==_0x84fa25||this['sh']!==_0x3d8338)&&(this['gl']['scissor'](_0x1955b7,_0x361a65,_0x84fa25,_0x3d8338),this['sx']=_0x1955b7,this['sy']=_0x361a65,this['sw']=_0x84fa25,this['sh']=_0x3d8338);}['setFramebu'+'ffer'](_0x316c06){if(this['activeFram'+'ebuffer']!==_0x316c06){const _0xdc4523=this['gl'];_0xdc4523['bindFrameb'+'uffer'](_0xdc4523['FRAMEBUFFE'+'R'],_0x316c06),this['activeFram'+'ebuffer']=_0x316c06;}}['copyRender'+'Target'](_0x39c95d,_0x2e07e7,_0x3d0056,_0x5a20c8){var _0xc9fee9,_0x1aeb32;const _0x123bce=this['gl'];if(_0x39c95d===this['backBuffer']&&(_0x39c95d=null),_0x3d0056){if(_0x2e07e7){if(_0x39c95d){if(!_0x39c95d['_colorBuff'+'er']||!_0x2e07e7['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x8b8*0x4+0x12a+-0x3*0xc03);if(_0x39c95d['_colorBuff'+'er']['_format']!==_0x2e07e7['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x6f1*0x2+-0x157e+-0x1*-0x2361);}}else{if(!_0x39c95d['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x172d+0x68e+-0x5*0x5f2);}}if(_0x5a20c8&&_0x39c95d&&!_0x39c95d['_depth']){if(!_0x39c95d['_depthBuff'+'er']||!_0x2e07e7['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1*-0xf94+0x52d+0x20*-0xa6);if(_0x39c95d['_depthBuff'+'er']['_format']!==_0x2e07e7['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0xaf5+-0x72*0x1+0x541*-0x2);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x3c00da=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x2e07e7,this['updateBegi'+'n']();const _0x152855=_0x39c95d?_0x39c95d['impl']['_glFrameBu'+'ffer']:(_0xc9fee9=this['backBuffer'])==null?void(0x238a+0x1*-0x95f+0x7*-0x3bd):_0xc9fee9['impl']['_glFrameBu'+'ffer'],_0x131503=_0x2e07e7?_0x2e07e7['impl']['_glFrameBu'+'ffer']:(_0x1aeb32=this['backBuffer'])==null?void(-0x1*0x97a+0x976+0x4):_0x1aeb32['impl']['_glFrameBu'+'ffer'];w['assert'](_0x152855!==_0x131503,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x123bce['bindFrameb'+'uffer'](_0x123bce['READ_FRAME'+'BUFFER'],_0x152855),_0x123bce['bindFrameb'+'uffer'](_0x123bce['DRAW_FRAME'+'BUFFER'],_0x131503);const _0x3decaa=_0x39c95d?_0x39c95d['width']:_0x2e07e7?_0x2e07e7['width']:this['width'],_0x1f19a6=_0x39c95d?_0x39c95d['height']:_0x2e07e7?_0x2e07e7['height']:this['height'];return _0x123bce['blitFrameb'+'uffer'](-0x23f0+-0x1aa7*0x1+0x3e97,-0x9c3+-0x18cd+0x2290,_0x3decaa,_0x1f19a6,0x783+0x1148+-0x18cb,0xc*-0x15b+0x2464*-0x1+0x4*0xd2a,_0x3decaa,_0x1f19a6,(_0x3d0056?_0x123bce['COLOR_BUFF'+'ER_BIT']:0x3*-0x50f+-0x4*0x291+0x1971)|(_0x5a20c8?_0x123bce['DEPTH_BUFF'+'ER_BIT']:0x85*-0x35+-0xf77+0x2b*0x100),_0x123bce['NEAREST']),this['renderTarg'+'et']=_0x3c00da,_0x123bce['bindFrameb'+'uffer'](_0x123bce['FRAMEBUFFE'+'R'],_0x3c00da?_0x3c00da['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x748*-0x4+0x9b4+0x136c);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x37927a){const _0x20dabf=_0x37927a['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x20dabf,w['assert'](_0x20dabf),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x37927a['name']+'\x20RT:'+_0x20dabf['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x596c66,height:_0xf5bcc0}=_0x20dabf;this['setViewpor'+'t'](-0x2710+-0x16*0x66+0xbf5*0x4,0x1c0b*0x1+0x2*-0x39e+-0x1*0x14cf,_0x596c66,_0xf5bcc0),this['setScissor'](-0x74f+-0x1*0xb15+0x1264,-0x1*0x1b8e+-0x3fb*-0x4+0x1*0xba2,_0x596c66,_0xf5bcc0);const _0x318f90=_0x37927a['colorOps'],_0x566fbf=_0x37927a['depthStenc'+'ilOps'];if(_0x318f90!=null&&_0x318f90['clear']||_0x566fbf['clearDepth']||_0x566fbf['clearStenc'+'il']){let _0x2261c2=-0x3*-0xabd+0xa72+0x1*-0x2aa9;const _0xc8c1aa={};_0x318f90!=null&&_0x318f90['clear']&&(_0x2261c2|=jo,_0xc8c1aa['color']=[_0x318f90['clearValue']['r'],_0x318f90['clearValue']['g'],_0x318f90['clearValue']['b'],_0x318f90['clearValue']['a']]),_0x566fbf['clearDepth']&&(_0x2261c2|=Yo,_0xc8c1aa['depth']=_0x566fbf['clearDepth'+'Value']),_0x566fbf['clearStenc'+'il']&&(_0x2261c2|=ch,_0xc8c1aa['stencil']=_0x566fbf['clearStenc'+'ilValue']),_0xc8c1aa['flags']=_0x2261c2,this['clear'](_0xc8c1aa);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1*0x6d1+-0x3*0x943+-0x7a*-0x2c),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x56b4ad){var _0x2105c6;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0xad0042=this['renderTarg'+'et'],_0xf7c741=_0x56b4ad['colorArray'+'Ops']['length'];if(_0xad0042){Da['length']=0x7*-0x191+0x5c*-0x13+0x1*0x11cb;const _0x4b188d=this['gl'];for(let _0x4afc13=-0x2f*0xc1+0x1892+0xadd;_0x4afc13<_0xf7c741;_0x4afc13++){const _0x41a96a=_0x56b4ad['colorArray'+'Ops'][_0x4afc13];_0x41a96a['store']||_0x41a96a['resolve']||Da['push'](_0x4b188d['COLOR_ATTA'+'CHMENT0']+_0x4afc13);}_0xad0042!==this['backBuffer']&&(_0x56b4ad['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x4b188d['DEPTH_ATTA'+'CHMENT']),_0x56b4ad['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x4b188d['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x14c+-0x1*0xacf+-0x3*-0x409&&_0x56b4ad['fullSizeCl'+'earRect']&&_0x4b188d['invalidate'+'Framebuffe'+'r'](_0x4b188d['DRAW_FRAME'+'BUFFER'],Da),_0xf7c741&&((_0x2105c6=_0x56b4ad['colorOps'])!=null&&_0x2105c6['resolve'])&&_0x56b4ad['samples']>-0x19c2+-0x56c*0x7+-0x1*-0x3fb7&&_0xad0042['autoResolv'+'e']&&_0xad0042['resolve'](!(-0xf8c+0x1426+-0x1f*0x26),!(-0x16a9+0x1446+0x264)),_0xad0042['depthBuffe'+'r']&&_0x56b4ad['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x56b4ad['samples']>-0x1fdc+-0x2042+0x401f&&_0xad0042['autoResolv'+'e']&&_0xad0042['resolve'](!(-0x3be+-0x109d+0x145c),!(0x24dd+-0x41*-0x7f+0x1147*-0x4));for(let _0x2313a2=0x4*-0x8cf+0xecc*-0x2+0x40d4;_0x2313a2<_0xf7c741;_0x2313a2++)if(_0x56b4ad['colorArray'+'Ops'][_0x2313a2]['genMipmaps']){const _0x489438=_0xad0042['_colorBuff'+'ers'][_0x2313a2];_0x489438&&_0x489438['impl']['_glTexture']&&_0x489438['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x2313a2),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x65*-0x61+-0x1647+-0x1*0xffd)),this['bindTextur'+'e'](_0x489438),this['gl']['generateMi'+'pmap'](_0x489438['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x1*-0x1d2c+-0x1f2f+-0x1*-0x204),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x405a7d){this['_defaultFr'+'amebuffer']!==_0x405a7d&&(this['_defaultFr'+'amebuffer']=_0x405a7d,this['_defaultFr'+'amebufferC'+'hanged']=!(0x228a+-0x1265*0x2+-0x4*-0x90));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x11c3ca=0x1*0xb9b+0x1955+0x10*-0x24f;_0x11c3ca<this['textureUni'+'ts']['length'];++_0x11c3ca)for(let _0x22d84f=0x1*0x245f+-0x24ff+-0x5*-0x20;_0x22d84f<-0x194b+0x1684+0x22*0x15;++_0x22d84f)this['textureUni'+'ts'][_0x11c3ca][_0x22d84f]=null;}const _0x4f49b8=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x4f49b8);const _0x549504=_0x4f49b8['impl'];_0x549504['initialize'+'d']||this['initRender'+'Target'](_0x4f49b8),this['setFramebu'+'ffer'](_0x549504['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0xc75230=this['renderTarg'+'et'];if(_0xc75230&&_0xc75230!==this['backBuffer']){_0xc75230['_samples']>0x71*-0x9+-0x9e7+0xde1&&_0xc75230['autoResolv'+'e']&&_0xc75230['resolve']();const _0x5e3c3c=_0xc75230['_colorBuff'+'er'];_0x5e3c3c&&_0x5e3c3c['impl']['_glTexture']&&_0x5e3c3c['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x16ac*0x1+-0xb*0x2b2+0x11d*0x2f)),this['bindTextur'+'e'](_0x5e3c3c),this['gl']['generateMi'+'pmap'](_0x5e3c3c['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x468afa){if(this['unpackFlip'+'Y']!==_0x468afa){this['unpackFlip'+'Y']=_0x468afa;const _0x408124=this['gl'];_0x408124['pixelStore'+'i'](_0x408124['UNPACK_FLI'+'P_Y_WEBGL'],_0x468afa);}}['setUnpackP'+'remultiply'+'Alpha'](_0x28bca8){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x28bca8){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x28bca8;const _0xadfbb0=this['gl'];_0xadfbb0['pixelStore'+'i'](_0xadfbb0['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x28bca8);}}['activeText'+'ure'](_0x38b179){this['textureUni'+'t']!==_0x38b179&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x38b179),this['textureUni'+'t']=_0x38b179);}['bindTextur'+'e'](_0x1eee67){const _0xcfa49e=_0x1eee67['impl'],_0x82a5bf=_0xcfa49e['_glTarget'],_0x188e99=_0xcfa49e['_glTexture'],_0x1f645f=this['textureUni'+'t'],_0x3e2ded=this['targetToSl'+'ot'][_0x82a5bf];this['textureUni'+'ts'][_0x1f645f][_0x3e2ded]!==_0x188e99&&(this['gl']['bindTextur'+'e'](_0x82a5bf,_0x188e99),this['textureUni'+'ts'][_0x1f645f][_0x3e2ded]=_0x188e99);}['bindTextur'+'eOnUnit'](_0x3d9311,_0x2f23fa){const _0x4c4860=_0x3d9311['impl'],_0x5dde88=_0x4c4860['_glTarget'],_0x51aefb=_0x4c4860['_glTexture'],_0xe93694=this['targetToSl'+'ot'][_0x5dde88];this['textureUni'+'ts'][_0x2f23fa][_0xe93694]!==_0x51aefb&&(this['activeText'+'ure'](_0x2f23fa),this['gl']['bindTextur'+'e'](_0x5dde88,_0x51aefb),this['textureUni'+'ts'][_0x2f23fa][_0xe93694]=_0x51aefb);}['setTexture'+'Parameters'](_0x8e6621){const _0x58b0bc=this['gl'],_0x5a37f=_0x8e6621['impl']['dirtyParam'+'eterFlags'],_0x46cbc5=_0x8e6621['impl']['_glTarget'];if(_0x5a37f&Ay){let _0x4dbe23=_0x8e6621['_minFilter'];(!_0x8e6621['_mipmaps']||_0x8e6621['_compresse'+'d']&&_0x8e6621['_levels']['length']===-0x1*-0x1e17+0x1294+-0x1*0x30aa)&&(_0x4dbe23===Kh||_0x4dbe23===Zh?_0x4dbe23=Te:(_0x4dbe23===Qh||_0x4dbe23===ma)&&(_0x4dbe23=vt)),_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x4dbe23]);}if(_0x5a37f&Cy&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x8e6621['_magFilter']]),_0x5a37f&Py&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x8e6621['_addressU']]),_0x5a37f&My&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x8e6621['_addressV']]),_0x5a37f&Dy&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x8e6621['_addressW']]),_0x5a37f&Iy&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_CO'+'MPARE_MODE'],_0x8e6621['_compareOn'+'Read']?_0x58b0bc['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x58b0bc['NONE']),_0x5a37f&Ly&&_0x58b0bc['texParamet'+'eri'](_0x46cbc5,_0x58b0bc['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x8e6621['_compareFu'+'nc']]),_0x5a37f&Ry){const _0x2f6d42=this['extTexture'+'FilterAnis'+'otropic'];_0x2f6d42&&_0x58b0bc['texParamet'+'erf'](_0x46cbc5,_0x2f6d42['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x8e6621['_anisotrop'+'y']),0x882*0x2+0x1b03*0x1+0x467*-0xa,this['maxAnisotr'+'opy']));}}['setTexture'](_0x244731,_0x15dd9d){const _0x18e609=_0x244731['impl'];_0x18e609['_glTexture']||_0x18e609['initialize'](this,_0x244731),_0x18e609['dirtyParam'+'eterFlags']>0x18*0x19c+0x41*-0x8f+-0x251||_0x244731['_needsUplo'+'ad']||_0x244731['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x15dd9d),this['bindTextur'+'e'](_0x244731),_0x18e609['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x244731),_0x18e609['dirtyParam'+'eterFlags']=-0x101f*-0x1+0x8*0x459+0x53*-0x9d),(_0x244731['_needsUplo'+'ad']||_0x244731['_needsMipm'+'apsUpload'])&&(_0x18e609['upload'](this,_0x244731),_0x244731['_needsUplo'+'ad']=!(0xeb4+-0x1a8f+0xbdc),_0x244731['_needsMipm'+'apsUpload']=!(0x13ce+0x8*0x2a5+0x3*-0xda7))):this['bindTextur'+'eOnUnit'](_0x244731,_0x15dd9d);}['createVert'+'exArray'](_0x314839){let _0x15d62d,_0x2a7fde;const _0x2960ae=_0x314839['length']>0x784+-0x2150+0x5*0x529;if(_0x2960ae){_0x15d62d='';for(let _0x5e5bdb=-0x1cd0+-0x8ca+0x259a;_0x5e5bdb<_0x314839['length'];_0x5e5bdb++){const _0x329ce0=_0x314839[_0x5e5bdb];_0x15d62d+=_0x329ce0['id']+_0x329ce0['format']['renderingH'+'ash'];}_0x2a7fde=this['_vaoMap']['get'](_0x15d62d);}if(!_0x2a7fde){const _0x45b4cd=this['gl'];_0x2a7fde=_0x45b4cd['createVert'+'exArray'](),_0x45b4cd['bindVertex'+'Array'](_0x2a7fde),_0x45b4cd['bindBuffer'](_0x45b4cd['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x31aad3=!(0x9ad*0x1+0x1d2f+-0x26db);for(let _0x4a9ac0=0x8d*0x25+0x3b*0x83+-0x3292;_0x4a9ac0<_0x314839['length'];_0x4a9ac0++){const _0x129fbf=_0x314839[_0x4a9ac0];_0x45b4cd['bindBuffer'](_0x45b4cd['ARRAY_BUFF'+'ER'],_0x129fbf['impl']['bufferId']);const _0x250a40=_0x129fbf['format']['elements'];for(let _0x3c0aaf=-0x283*-0xf+0xf7*0xa+-0x2f53;_0x3c0aaf<_0x250a40['length'];_0x3c0aaf++){const _0x29620c=_0x250a40[_0x3c0aaf],_0x2e4021=Le[_0x29620c['name']];_0x2e4021===0x2048+-0x1*-0x22be+-0x4306&&(_0x31aad3=!(-0x16d7*0x1+-0xa7*0x2+0x1825)),_0x29620c['asInt']?_0x45b4cd['vertexAttr'+'ibIPointer'](_0x2e4021,_0x29620c['numCompone'+'nts'],this['glType'][_0x29620c['dataType']],_0x29620c['stride'],_0x29620c['offset']):_0x45b4cd['vertexAttr'+'ibPointer'](_0x2e4021,_0x29620c['numCompone'+'nts'],this['glType'][_0x29620c['dataType']],_0x29620c['normalize'],_0x29620c['stride'],_0x29620c['offset']),_0x45b4cd['enableVert'+'exAttribAr'+'ray'](_0x2e4021),_0x129fbf['format']['instancing']&&_0x45b4cd['vertexAttr'+'ibDivisor'](_0x2e4021,-0x6fd*0x5+0x1477+0xe7b);}}_0x45b4cd['bindVertex'+'Array'](null),_0x45b4cd['bindBuffer'](_0x45b4cd['ARRAY_BUFF'+'ER'],null),_0x2960ae&&this['_vaoMap']['set'](_0x15d62d,_0x2a7fde),_0x31aad3||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x2a7fde;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x4f672){const _0x18f77f=this['gl'];let _0x20af34;if(this['vertexBuff'+'ers']['length']===-0x269c*-0x1+-0x15af+-0x10ec){const _0x447da7=this['vertexBuff'+'ers'][0x14*0x9d+0x4b5*-0x3+0x5f*0x5];w['assert'](_0x447da7['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x447da7['impl']['vao']||(_0x447da7['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x20af34=_0x447da7['impl']['vao'];}else _0x20af34=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x20af34&&(this['boundVao']=_0x20af34,_0x18f77f['bindVertex'+'Array'](_0x20af34));const _0x4f964e=_0x4f672?_0x4f672['impl']['bufferId']:null;_0x18f77f['bindBuffer'](_0x18f77f['ELEMENT_AR'+'RAY_BUFFER'],_0x4f964e);}['draw'](_0xacbc10,_0x2690b5,_0x37e17d,_0x243e73,_0x2952bb=!(-0x680+0x5*-0x47b+0x1ce7),_0x12e02c=!(-0x66e*-0x1+-0x1a25+-0x7*-0x2d1)){const _0x56e3dc=this['shader'];if(_0x56e3dc&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x4b5d5f=this['gl'];_0x2952bb&&(w['call'](()=>{var _0x2ee320,_0x3faf09;return this['validateAt'+'tributes'](this['shader'],(_0x2ee320=this['vertexBuff'+'ers'][-0x17d4+0xb2*0x19+0x672])==null?void(0xef8+0x2554+-0x1*0x344c):_0x2ee320['format'],(_0x3faf09=this['vertexBuff'+'ers'][0x257*0x2+0x19*0x6+-0x543])==null?void(0x10b9*0x2+0x16d0+-0x3842):_0x3faf09['format']);}),this['setBuffers'](_0x2690b5));let _0x3be008=0x9ca+-0xbe1+-0x217*-0x1;const _0x5050d6=_0x56e3dc['impl']['samplers'];for(let _0x1209b0=-0x1*0x20e7+0x2*-0x8+0x20f7,_0x3a5bb6=_0x5050d6['length'];_0x1209b0<_0x3a5bb6;_0x1209b0++){const _0x2f8b43=_0x5050d6[_0x1209b0];let _0x2e4dbf=_0x2f8b43['scopeId']['value'];if(!_0x2e4dbf){const _0x40befd=_0x2f8b43['scopeId']['name'];w['assert'](_0x40befd!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x40befd!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x40befd==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2e4dbf=fa(this,'white')),_0x40befd==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x2e4dbf=fa(this,'pink')),_0x2e4dbf||(w['errorOnce']('Shader\x20'+_0x56e3dc['name']+'\x20requires\x20'+_0x40befd+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x56e3dc),_0x2e4dbf=fa(this,'pink'));}if(_0x2e4dbf instanceof _e){const _0x5805af=_0x2e4dbf;this['setTexture'](_0x5805af,_0x3be008),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x260f+-0x24ff+0x4b10&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x5805af?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x5805af}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x5805af&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x5805af})),_0x2f8b43['slot']!==_0x3be008&&(_0x4b5d5f['uniform1i'](_0x2f8b43['locationId'],_0x3be008),_0x2f8b43['slot']=_0x3be008),_0x3be008++;}else{_0x2f8b43['array']['length']=-0xfab+-0x3*-0x977+-0xcba;const _0x586bfa=_0x2e4dbf['length'];for(let _0x5c3d5e=-0x4f*-0x3e+-0x155c*-0x1+-0x287e*0x1;_0x5c3d5e<_0x586bfa;_0x5c3d5e++){const _0x4fcb52=_0x2e4dbf[_0x5c3d5e];this['setTexture'](_0x4fcb52,_0x3be008),_0x2f8b43['array'][_0x5c3d5e]=_0x3be008,_0x3be008++;}_0x4b5d5f['uniform1iv'](_0x2f8b43['locationId'],_0x2f8b43['array']);}}const _0x45cfff=_0x56e3dc['impl']['uniforms'];for(let _0x1cd75d=0x1cb*-0xb+-0x25a7+0x3960,_0x52aaeb=_0x45cfff['length'];_0x1cd75d<_0x52aaeb;_0x1cd75d++){const _0x1ec810=_0x45cfff[_0x1cd75d],_0x12f056=_0x1ec810['scopeId'],_0x57fc07=_0x1ec810['version'],_0x6f8590=_0x12f056['versionObj'+'ect']['version'];if(_0x57fc07['globalId']!==_0x6f8590['globalId']||_0x57fc07['revision']!==_0x6f8590['revision']){_0x57fc07['globalId']=_0x6f8590['globalId'],_0x57fc07['revision']=_0x6f8590['revision'];const _0x3cad85=_0x12f056['value'];_0x3cad85!=null?this['commitFunc'+'tion'][_0x1ec810['dataType']](_0x1ec810,_0x3cad85):w['warnOnce']('Shader\x20['+_0x56e3dc['label']+(']\x20requires'+'\x20uniform\x20[')+_0x1ec810['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x4b5d5f['bindBuffer'+'Base'](_0x4b5d5f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x1*0xbf9+0x2077+-0x147e,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x4b5d5f['beginTrans'+'formFeedba'+'ck'](_0x4b5d5f['POINTS']));const _0x12cf83=this['glPrimitiv'+'e'][_0xacbc10['type']],_0x5310dc=_0xacbc10['count'];if(_0xacbc10['indexed']){w['assert'](_0x2690b5['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x41c078=_0x2690b5['impl']['glFormat'],_0x13bfe2=_0xacbc10['base']*_0x2690b5['bytesPerIn'+'dex'];_0x37e17d>-0x25a1+-0x116e+0xb03*0x5?_0x4b5d5f['drawElemen'+'tsInstance'+'d'](_0x12cf83,_0x5310dc,_0x41c078,_0x13bfe2,_0x37e17d):_0x4b5d5f['drawElemen'+'ts'](_0x12cf83,_0x5310dc,_0x41c078,_0x13bfe2);}else{const _0x408d6f=_0xacbc10['base'];_0x37e17d>-0xfca+-0x219f+0x3169?_0x4b5d5f['drawArrays'+'Instanced'](_0x12cf83,_0x408d6f,_0x5310dc,_0x37e17d):_0x4b5d5f['drawArrays'](_0x12cf83,_0x408d6f,_0x5310dc);}this['transformF'+'eedbackBuf'+'fer']&&(_0x4b5d5f['endTransfo'+'rmFeedback'](),_0x4b5d5f['bindBuffer'+'Base'](_0x4b5d5f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x23e*0x7+0x1a17+0x233*-0x13,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0xacbc10['type']]+=_0xacbc10['count']*(_0x37e17d>-0x218*-0x8+-0x192b+-0x2*-0x436?_0x37e17d:-0x112a+0x520+0xc0b);}_0x12e02c&&this['clearVerte'+'xBuffer']();}['clear'](_0x485d47){const _0x342f36=this['defaultCle'+'arOptions'];_0x485d47=_0x485d47||_0x342f36;const _0x2aa015=_0x485d47['flags']??_0x342f36['flags'];if(_0x2aa015!==-0x21*0xc0+-0xc38*-0x1+0xc88){const _0x143909=this['gl'];if(_0x2aa015&jo){const _0x3cc4f6=_0x485d47['color']??_0x342f36['color'],_0x2c1f1c=_0x3cc4f6[0x5*0x30f+-0x114+-0x3*0x4bd],_0x26af4a=_0x3cc4f6[-0x1c8f+-0xdce+0x2a5e],_0x5872b3=_0x3cc4f6[0x1114*-0x1+-0x1d*-0x62+0x5fc],_0x9eb364=_0x3cc4f6[-0x6*0x60+0xcb+-0x1*-0x178],_0x373027=this['clearColor'];(_0x2c1f1c!==_0x373027['r']||_0x26af4a!==_0x373027['g']||_0x5872b3!==_0x373027['b']||_0x9eb364!==_0x373027['a'])&&(this['gl']['clearColor'](_0x2c1f1c,_0x26af4a,_0x5872b3,_0x9eb364),this['clearColor']['set'](_0x2c1f1c,_0x26af4a,_0x5872b3,_0x9eb364)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x2aa015&Yo){const _0x2c144a=_0x485d47['depth']??_0x342f36['depth'];_0x2c144a!==this['clearDepth']&&(this['gl']['clearDepth'](_0x2c144a),this['clearDepth']=_0x2c144a),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x2aa015&ch){const _0x1ee675=_0x485d47['stencil']??_0x342f36['stencil'];_0x1ee675!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x1ee675),this['clearStenc'+'il']=_0x1ee675),_0x143909['stencilMas'+'k'](0x2051+0x415+0x9f*-0x39),this['stencilWri'+'teMaskFron'+'t']=0x15*0x172+-0x25af*0x1+0x854,this['stencilWri'+'teMaskBack']=0x2515+-0x523*0x7+-0x21;}_0x143909['clear'](this['glClearFla'+'g'][_0x2aa015]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x8aa2c2,_0x3194e0,_0x20811f,_0x1ba5c8,_0x37c144){const _0x14adec=this['gl'];_0x14adec['readPixels'](_0x8aa2c2,_0x3194e0,_0x20811f,_0x1ba5c8,_0x14adec['RGBA'],_0x14adec['UNSIGNED_B'+'YTE'],_0x37c144);}['clientWait'+'Async'](_0x50d3d3,_0x4cc289){const _0x253821=this['gl'],_0x17081d=_0x253821['fenceSync'](_0x253821['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0xdce+0x3*0x6e1+-0x2271);return this['submit'](),new Promise((_0x4dde37,_0x475b7c)=>{function _0x25178a(){const _0x1b6d42=_0x253821['clientWait'+'Sync'](_0x17081d,_0x50d3d3,-0x3*0x86f+-0x4*-0x733+0x5*-0xb3);_0x1b6d42===_0x253821['TIMEOUT_EX'+'PIRED']?setTimeout(_0x25178a,_0x4cc289):(_0x253821['deleteSync'](_0x17081d),_0x1b6d42===_0x253821['WAIT_FAILE'+'D']?_0x475b7c(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x4dde37());}_0x25178a();});}async['readPixels'+'Async'](_0x5b7dd8,_0x1c6d9b,_0x39e308,_0x55a552,_0x430625){var _0x495277;const _0x144962=this['gl'],_0x648287=(_0x495277=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x3*-0x8fe+-0x1*0x10fd+0x8cb*0x5):_0x495277['impl'],_0x550f69=(_0x648287==null?void(-0x2184+-0xb8*-0x2+0x2014):_0x648287['_glFormat'])??_0x144962['RGBA'],_0x33eaf7=(_0x648287==null?void(-0xb9*0x15+-0x1a*0x1+0xf47):_0x648287['_glPixelTy'+'pe'])??_0x144962['UNSIGNED_B'+'YTE'],_0x226889=_0x144962['createBuff'+'er']();return _0x144962['bindBuffer'](_0x144962['PIXEL_PACK'+'_BUFFER'],_0x226889),_0x144962['bufferData'](_0x144962['PIXEL_PACK'+'_BUFFER'],_0x430625['byteLength'],_0x144962['STREAM_REA'+'D']),_0x144962['readPixels'](_0x5b7dd8,_0x1c6d9b,_0x39e308,_0x55a552,_0x550f69,_0x33eaf7,-0x11ea+0x17*-0x1+-0x1a3*-0xb),_0x144962['bindBuffer'](_0x144962['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x5*0x69b+-0x5c9+0x26d0,-0x248+0xbc*0x23+-0xa*0x256),_0x144962['bindBuffer'](_0x144962['PIXEL_PACK'+'_BUFFER'],_0x226889),_0x144962['getBufferS'+'ubData'](_0x144962['PIXEL_PACK'+'_BUFFER'],-0x3ec*0x3+-0xe41+0x1a05*0x1,_0x430625),_0x144962['bindBuffer'](_0x144962['PIXEL_PACK'+'_BUFFER'],null),_0x144962['deleteBuff'+'er'](_0x226889),_0x430625;}['readTextur'+'eAsync'](_0x1dd88e,_0x433419,_0x5db81e,_0x5255f8,_0x557735,_0x5b402f){const _0x217b39=_0x5b402f['face']??-0xb7+0xe10+-0xd59,_0x4f110d=_0x5b402f['renderTarg'+'et']??new gt({'colorBuffer':_0x1dd88e,'depth':!(0x23be+0xd82+-0x313f),'face':_0x217b39});w['assert'](_0x4f110d['colorBuffe'+'r']===_0x1dd88e);const _0x505fe9=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x5255f8,_0x557735,0x20a1+-0xdd3+-0x12cd*0x1,_0x1dd88e['_format'])),_0x4038e6=_0x5b402f['data']??new(my(_0x1dd88e['_format']))(_0x505fe9);return this['setRenderT'+'arget'](_0x4f110d),this['initRender'+'Target'](_0x4f110d),new Promise((_0x1a3af5,_0x197de7)=>{this['readPixels'+'Async'](_0x433419,_0x5db81e,_0x5255f8,_0x557735,_0x4038e6)['then'](_0x92b95a=>{_0x5b402f['renderTarg'+'et']||_0x4f110d['destroy'](),_0x1a3af5(_0x92b95a);})['catch'](_0x197de7);});}async['writeTextu'+'reAsync'](_0xa5c514,_0x3a99db,_0x3df150,_0x354988,_0x149df2,_0x1613d3){const _0x5a2a07=this['gl'],_0x134e25=_0xa5c514['impl'],_0x29529=(_0x134e25==null?void(-0x1301+0x17ad+0x1*-0x4ac):_0x134e25['_glFormat'])??_0x5a2a07['RGBA'],_0x215499=(_0x134e25==null?void(0x1b9+0x53*0x25+-0x36e*0x4):_0x134e25['_glPixelTy'+'pe'])??_0x5a2a07['UNSIGNED_B'+'YTE'],_0x37bf43=_0x5a2a07['createBuff'+'er']();_0x5a2a07['bindBuffer'](_0x5a2a07['PIXEL_UNPA'+'CK_BUFFER'],_0x37bf43),_0x5a2a07['bufferData'](_0x5a2a07['PIXEL_UNPA'+'CK_BUFFER'],_0x1613d3,_0x5a2a07['STREAM_DRA'+'W']),_0x5a2a07['bindTextur'+'e'](_0x5a2a07['TEXTURE_2D'],_0x134e25['_glTexture']),_0x5a2a07['texSubImag'+'e2D'](_0x5a2a07['TEXTURE_2D'],-0x4*-0x7ef+-0x26*0x9+0x6*-0x511,_0x3a99db,_0x3df150,_0x354988,_0x149df2,_0x29529,_0x215499,-0x2*0x3a6+-0x1*-0x47+0x3*0x257),_0x5a2a07['bindBuffer'](_0x5a2a07['PIXEL_UNPA'+'CK_BUFFER'],null),_0xa5c514['_needsUplo'+'ad']=!(-0x875*0x1+0x317+0x55f),_0xa5c514['_mipmapsUp'+'loaded']=!(0x9*-0x30d+-0x4c3+-0x1*-0x2039),await this['clientWait'+'Async'](0x1ea1+0x23e4+-0x4285*0x1,-0x975+0xbf*0xe+-0xed);}['setAlphaTo'+'Coverage'](_0x2c354d){this['alphaToCov'+'erage']!==_0x2c354d&&(this['alphaToCov'+'erage']=_0x2c354d,_0x2c354d?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x255c9f){if(this['transformF'+'eedbackBuf'+'fer']!==_0x255c9f){this['transformF'+'eedbackBuf'+'fer']=_0x255c9f;const _0x7bc978=this['gl'];_0x255c9f?(this['feedback']||(this['feedback']=_0x7bc978['createTran'+'sformFeedb'+'ack']()),_0x7bc978['bindTransf'+'ormFeedbac'+'k'](_0x7bc978['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x7bc978['bindTransf'+'ormFeedbac'+'k'](_0x7bc978['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x3467a8){this['raster']!==_0x3467a8&&(this['raster']=_0x3467a8,_0x3467a8?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0xf0ee8b){if(this['stencil']!==_0xf0ee8b){const _0x57e7e7=this['gl'];_0xf0ee8b?_0x57e7e7['enable'](_0x57e7e7['STENCIL_TE'+'ST']):_0x57e7e7['disable'](_0x57e7e7['STENCIL_TE'+'ST']),this['stencil']=_0xf0ee8b;}}['setStencil'+'Func'](_0x27cff1,_0xe1cf9a,_0x9bb45e){(this['stencilFun'+'cFront']!==_0x27cff1||this['stencilRef'+'Front']!==_0xe1cf9a||this['stencilMas'+'kFront']!==_0x9bb45e||this['stencilFun'+'cBack']!==_0x27cff1||this['stencilRef'+'Back']!==_0xe1cf9a||this['stencilMas'+'kBack']!==_0x9bb45e)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x27cff1],_0xe1cf9a,_0x9bb45e),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x27cff1,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0xe1cf9a,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x9bb45e);}['setStencil'+'FuncFront'](_0x18e298,_0x404263,_0x8d489b){if(this['stencilFun'+'cFront']!==_0x18e298||this['stencilRef'+'Front']!==_0x404263||this['stencilMas'+'kFront']!==_0x8d489b){const _0x4bc1f5=this['gl'];_0x4bc1f5['stencilFun'+'cSeparate'](_0x4bc1f5['FRONT'],this['glComparis'+'on'][_0x18e298],_0x404263,_0x8d489b),this['stencilFun'+'cFront']=_0x18e298,this['stencilRef'+'Front']=_0x404263,this['stencilMas'+'kFront']=_0x8d489b;}}['setStencil'+'FuncBack'](_0x11131b,_0x2f93f7,_0x3f838a){if(this['stencilFun'+'cBack']!==_0x11131b||this['stencilRef'+'Back']!==_0x2f93f7||this['stencilMas'+'kBack']!==_0x3f838a){const _0x2c2dd6=this['gl'];_0x2c2dd6['stencilFun'+'cSeparate'](_0x2c2dd6['BACK'],this['glComparis'+'on'][_0x11131b],_0x2f93f7,_0x3f838a),this['stencilFun'+'cBack']=_0x11131b,this['stencilRef'+'Back']=_0x2f93f7,this['stencilMas'+'kBack']=_0x3f838a;}}['setStencil'+'Operation'](_0x3f22af,_0x23ba55,_0x1ba15f,_0x3684da){(this['stencilFai'+'lFront']!==_0x3f22af||this['stencilZfa'+'ilFront']!==_0x23ba55||this['stencilZpa'+'ssFront']!==_0x1ba15f||this['stencilFai'+'lBack']!==_0x3f22af||this['stencilZfa'+'ilBack']!==_0x23ba55||this['stencilZpa'+'ssBack']!==_0x1ba15f)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x3f22af],this['glStencilO'+'p'][_0x23ba55],this['glStencilO'+'p'][_0x1ba15f]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x3f22af,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x23ba55,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x1ba15f),(this['stencilWri'+'teMaskFron'+'t']!==_0x3684da||this['stencilWri'+'teMaskBack']!==_0x3684da)&&(this['gl']['stencilMas'+'k'](_0x3684da),this['stencilWri'+'teMaskFron'+'t']=_0x3684da,this['stencilWri'+'teMaskBack']=_0x3684da);}['setStencil'+'OperationF'+'ront'](_0x22c65d,_0x49c0c2,_0x3e7da9,_0x1bf6ed){(this['stencilFai'+'lFront']!==_0x22c65d||this['stencilZfa'+'ilFront']!==_0x49c0c2||this['stencilZpa'+'ssFront']!==_0x3e7da9)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x22c65d],this['glStencilO'+'p'][_0x49c0c2],this['glStencilO'+'p'][_0x3e7da9]),this['stencilFai'+'lFront']=_0x22c65d,this['stencilZfa'+'ilFront']=_0x49c0c2,this['stencilZpa'+'ssFront']=_0x3e7da9),this['stencilWri'+'teMaskFron'+'t']!==_0x1bf6ed&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x1bf6ed),this['stencilWri'+'teMaskFron'+'t']=_0x1bf6ed);}['setStencil'+'OperationB'+'ack'](_0x4fc6db,_0x2d558c,_0x4499c9,_0x17b1c9){(this['stencilFai'+'lBack']!==_0x4fc6db||this['stencilZfa'+'ilBack']!==_0x2d558c||this['stencilZpa'+'ssBack']!==_0x4499c9)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x4fc6db],this['glStencilO'+'p'][_0x2d558c],this['glStencilO'+'p'][_0x4499c9]),this['stencilFai'+'lBack']=_0x4fc6db,this['stencilZfa'+'ilBack']=_0x2d558c,this['stencilZpa'+'ssBack']=_0x4499c9),this['stencilWri'+'teMaskBack']!==_0x17b1c9&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x17b1c9),this['stencilWri'+'teMaskBack']=_0x17b1c9);}['setBlendSt'+'ate'](_0x399f22){const _0x4153da=this['blendState'];if(!_0x4153da['equals'](_0x399f22)){const _0x5af548=this['gl'],{blend:_0xd42696,colorOp:_0x4fb54e,alphaOp:_0x3c836c,colorSrcFactor:_0x3b00b1,colorDstFactor:_0x2800fe,alphaSrcFactor:_0x42a390,alphaDstFactor:_0x4c2f7a}=_0x399f22;if(_0x4153da['blend']!==_0xd42696&&(_0xd42696?_0x5af548['enable'](_0x5af548['BLEND']):_0x5af548['disable'](_0x5af548['BLEND'])),_0x4153da['colorOp']!==_0x4fb54e||_0x4153da['alphaOp']!==_0x3c836c){const _0x58d45e=this['glBlendEqu'+'ation'];_0x5af548['blendEquat'+'ionSeparat'+'e'](_0x58d45e[_0x4fb54e],_0x58d45e[_0x3c836c]);}(_0x4153da['colorSrcFa'+'ctor']!==_0x3b00b1||_0x4153da['colorDstFa'+'ctor']!==_0x2800fe||_0x4153da['alphaSrcFa'+'ctor']!==_0x42a390||_0x4153da['alphaDstFa'+'ctor']!==_0x4c2f7a)&&_0x5af548['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x3b00b1],this['glBlendFun'+'ctionColor'][_0x2800fe],this['glBlendFun'+'ctionAlpha'][_0x42a390],this['glBlendFun'+'ctionAlpha'][_0x4c2f7a]),_0x4153da['allWrite']!==_0x399f22['allWrite']&&this['gl']['colorMask'](_0x399f22['redWrite'],_0x399f22['greenWrite'],_0x399f22['blueWrite'],_0x399f22['alphaWrite']),_0x4153da['copy'](_0x399f22);}}['setBlendCo'+'lor'](_0x1be539,_0x4f0c25,_0x36f5f9,_0x587e36){const _0x126b6b=this['blendColor'];(_0x1be539!==_0x126b6b['r']||_0x4f0c25!==_0x126b6b['g']||_0x36f5f9!==_0x126b6b['b']||_0x587e36!==_0x126b6b['a'])&&(this['gl']['blendColor'](_0x1be539,_0x4f0c25,_0x36f5f9,_0x587e36),_0x126b6b['set'](_0x1be539,_0x4f0c25,_0x36f5f9,_0x587e36));}['setStencil'+'State'](_0x1c2f1c,_0x3efca0){_0x1c2f1c||_0x3efca0?(this['setStencil'+'Test'](!(-0x200a+0x2337+-0x32d)),_0x1c2f1c===_0x3efca0?(this['setStencil'+'Func'](_0x1c2f1c['func'],_0x1c2f1c['ref'],_0x1c2f1c['readMask']),this['setStencil'+'Operation'](_0x1c2f1c['fail'],_0x1c2f1c['zfail'],_0x1c2f1c['zpass'],_0x1c2f1c['writeMask'])):(_0x1c2f1c??(_0x1c2f1c=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x1c2f1c['func'],_0x1c2f1c['ref'],_0x1c2f1c['readMask']),this['setStencil'+'OperationF'+'ront'](_0x1c2f1c['fail'],_0x1c2f1c['zfail'],_0x1c2f1c['zpass'],_0x1c2f1c['writeMask']),_0x3efca0??(_0x3efca0=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x3efca0['func'],_0x3efca0['ref'],_0x3efca0['readMask']),this['setStencil'+'OperationB'+'ack'](_0x3efca0['fail'],_0x3efca0['zfail'],_0x3efca0['zpass'],_0x3efca0['writeMask']))):this['setStencil'+'Test'](!(0x1*0x1a2d+0x5ca*-0x1+-0x1462));}['setDepthSt'+'ate'](_0x379e45){const _0x233b59=this['depthState'];if(!_0x233b59['equals'](_0x379e45)){const _0x4ab506=this['gl'],_0x5038ce=_0x379e45['write'];_0x233b59['write']!==_0x5038ce&&_0x4ab506['depthMask'](_0x5038ce);let {func:_0x14ce56,test:_0x459002}=_0x379e45;!_0x459002&&_0x5038ce&&(_0x459002=!(0x1f5d+-0xb2c+-0x1431),_0x14ce56=Wi),_0x233b59['func']!==_0x14ce56&&_0x4ab506['depthFunc'](this['glComparis'+'on'][_0x14ce56]),_0x233b59['test']!==_0x459002&&(_0x459002?_0x4ab506['enable'](_0x4ab506['DEPTH_TEST']):_0x4ab506['disable'](_0x4ab506['DEPTH_TEST']));const {depthBias:_0x27b6b0,depthBiasSlope:_0x3e3c6f}=_0x379e45;_0x27b6b0||_0x3e3c6f?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x45*-0x77+0x1e79+-0x3e8c*0x1),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4ab506['polygonOff'+'set'](_0x3e3c6f,_0x27b6b0)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x158a+0x23*-0x3e+-0x1d*-0x109),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x233b59['copy'](_0x379e45);}}['setCullMod'+'e'](_0x403356){if(this['cullMode']!==_0x403356){if(_0x403356===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x2bffe3=this['glCull'][_0x403356];this['cullFace']!==_0x2bffe3&&(this['gl']['cullFace'](_0x2bffe3),this['cullFace']=_0x2bffe3);}this['cullMode']=_0x403356;}}['setShader'](_0x151c7c,_0x18ac1b=!(0xf*-0x1f+0x926+0x3aa*-0x2)){_0x151c7c!==this['shader']&&(this['shader']=_0x151c7c,this['shaderAsyn'+'cCompile']=_0x18ac1b,this['shaderVali'+'d']=void(-0x9f*0x35+0x15ea+0xb01),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x8a1586}=this,{impl:_0x33b860}=_0x8a1586;this['shaderVali'+'d']===void(-0x1b8c+-0xcb1+-0x283d*-0x1)&&(_0x8a1586['failed']?this['shaderVali'+'d']=!(-0xd*0x202+0x76*-0x2f+0x6d3*0x7):_0x8a1586['ready']||(this['shaderAsyn'+'cCompile']?_0x33b860['isLinked'](this)?_0x33b860['finalize'](this,_0x8a1586)||(_0x8a1586['failed']=!(0x1a68+-0x1190+-0x8d8),this['shaderVali'+'d']=!(0x21b3+-0x56c*-0x2+0x2*-0x1645)):this['shaderVali'+'d']=!(0x18f*-0x4+0x26df+0x20a2*-0x1):_0x33b860['finalize'](this,_0x8a1586)||(_0x8a1586['failed']=!(-0x1509+-0x8e+0x1597),this['shaderVali'+'d']=!(-0xd23+0x11*-0x88+-0x764*-0x3)))),this['shaderVali'+'d']===void(-0x1*0xda+0x20de+-0x2004)&&(this['gl']['useProgram'](_0x33b860['glProgram']),this['shaderVali'+'d']=!(-0x8*0x2d2+-0x1c48+0x32d8));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x1931df=this['gl'];this['_vaoMap']['forEach']((_0x519401,_0x556ecd,_0x17fb20)=>{_0x1931df['deleteVert'+'exArray'](_0x519401);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x1b7c77){_0x1b7c77?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x5b51aa=0x1*-0x16dd+0x4ea+0x3*0x61d){const _0xea0809=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0xea0809['loseContex'+'t'](),setTimeout(()=>_0xea0809['restoreCon'+'text'](),_0x5b51aa);}}let nw=0x20*-0x2+-0x2*0x33a+0x6b4;class br{constructor(_0x30a4e6,_0x3fdfd7,_0x1da852,_0x1a6dd0=ms,_0x3c9439,_0x57f1ff){this['device']=_0x30a4e6,this['format']=_0x3fdfd7,this['numIndices']=_0x1da852,this['usage']=_0x1a6dd0,this['id']=nw++,this['impl']=_0x30a4e6['createInde'+'xBufferImp'+'l'](this,_0x57f1ff);const _0x4a89b2=hT[_0x3fdfd7];this['bytesPerIn'+'dex']=_0x4a89b2,this['numBytes']=this['numIndices']*_0x4a89b2,_0x3c9439?this['setData'](_0x3c9439):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x30a4e6['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x715a0=this['device'],_0x4cc759=_0x715a0['buffers']['indexOf'](this);_0x4cc759!==-(0x5d+-0x1ca*-0xc+-0x1*0x15d4)&&_0x715a0['buffers']['splice'](_0x4cc759,-0x212f*-0x1+-0x244*-0x6+-0x2ec6),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x715a0),this['adjustVram'+'SizeTracki'+'ng'](_0x715a0['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x42accc,_0xf832ad){w['trace'](j0,this['id']+'\x20size:\x20'+_0xf832ad+'\x20vram.ib:\x20'+_0x42accc['ib']+'\x20=>\x20'+(_0x42accc['ib']+_0xf832ad)),_0x42accc['ib']+=_0xf832ad;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0xb82ae7){return _0xb82ae7['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0xb82ae7['byteLength']),!(-0x13*-0x8f+-0x1*-0x85d+-0x12f9)):(this['storage']=_0xb82ae7,this['unlock'](),!(0x9b*0x1+-0x1*-0x30e+0x3a9*-0x1));}['_lockTyped'+'Array'](){const _0x209121=this['lock']();return this['format']===wr?new Uint32Array(_0x209121):this['format']===Yi?new Uint16Array(_0x209121):new Uint8Array(_0x209121);}['writeData'](_0x27134d,_0xf6e032){const _0x1e4b3d=this['_lockTyped'+'Array']();if(_0x27134d['length']>_0xf6e032){if(ArrayBuffer['isView'](_0x27134d))_0x27134d=_0x27134d['subarray'](-0x1c59+0x121d*0x1+-0x2*-0x51e,_0xf6e032),_0x1e4b3d['set'](_0x27134d);else{for(let _0x15d59b=0x1cba+-0x439+-0x2b9*0x9;_0x15d59b<_0xf6e032;_0x15d59b++)_0x1e4b3d[_0x15d59b]=_0x27134d[_0x15d59b];}}else _0x1e4b3d['set'](_0x27134d);this['unlock']();}['readData'](_0x7d6c50){const _0x4f3852=this['_lockTyped'+'Array'](),_0x5b1253=this['numIndices'];if(ArrayBuffer['isView'](_0x7d6c50))_0x7d6c50['set'](_0x4f3852);else{_0x7d6c50['length']=-0x3*-0xa39+0x1b9f*-0x1+-0x30c;for(let _0x4982c3=-0x674+-0x1df9+-0x175*-0x19;_0x4982c3<_0x5b1253;_0x4982c3++)_0x7d6c50[_0x4982c3]=_0x4f3852[_0x4982c3];}return _0x5b1253;}}class ow{constructor(){h(this,'clearValue',new ie(-0x798+0x2b6*-0x4+0xec*0x14,-0x8ba+-0x24be+0x2d78,0x2622*-0x1+-0x4f*0x53+0x3fbf*0x1,-0x6e9*-0x4+0xce4+-0x2887)),h(this,'clearValue'+'Linear',new ie(-0x5f3+-0x1d*-0x116+-0x198b,0x4da+-0x1*0x9ee+0x28a*0x2,0x246*-0x3+0xe9a+-0x7c8,-0x1*0x103b+-0x1223*-0x2+-0x140a)),h(this,'clear',!(-0x23b*0x1+0x26e5+-0x24a9*0x1)),h(this,'store',!(-0x1*0x2521+0x1b83+0x99f)),h(this,'resolve',!(0x77a+-0x1938+0x11be)),h(this,'genMipmaps',!(0x1*0x213b+0x1ed7+-0x4011));}}class lw{constructor(){h(this,'clearDepth'+'Value',0x1781*-0x1+-0xd*0x28e+0x38b8),h(this,'clearStenc'+'ilValue',-0x6b*0x26+0xfef*0x1+-0xd),h(this,'clearDepth',!(0x153a*0x1+-0x2*0x1082+-0xbcb*-0x1)),h(this,'clearStenc'+'il',!(-0x19ed*-0x1+-0x815+-0x11d7)),h(this,'storeDepth',!(0x92a+0x96b*0x1+-0x1294)),h(this,'resolveDep'+'th',!(0x5*0x6d7+0x8f9+-0x101*0x2b)),h(this,'storeStenc'+'il',!(-0x405+0xc12+-0x80c));}}class ys{constructor(_0x28868f){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x6*-0x581+0x1*0x2471+-0x36b)),h(this,'_skipStart',!(-0xf*-0x1d5+0x53*-0x5+-0x1*0x19db)),h(this,'_skipEnd',!(0x1*-0x2515+-0xd9*-0x11+0x16ad)),h(this,'executeEna'+'bled',!(-0x1*-0x632+-0x49*-0x7b+-0x2945)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x1*-0xa51+0x1*0x2502+0x1ab1*-0x1),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0x1ef7*0x1+0x229f*-0x1+0x4*0xea)),h(this,'fullSizeCl'+'earRect',!(-0x115c+-0x233b+-0x3497*-0x1)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x28868f),this['device']=_0x28868f);}get['colorOps'](){return this['colorArray'+'Ops'][0x628+-0xb5*0x24+0x134c];}set['name'](_0x23542e){this['_name']=_0x23542e;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x281220){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x281220;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x5406a7){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x5406a7;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x479cf3){this['_options']=_0x479cf3,_0x479cf3&&(this['scaleX']=this['scaleX']??0xe*0x7b+-0x25ea+-0x63d*-0x5,this['scaleY']=this['scaleY']??-0x1*0x2329+0x95*0x1+0xb87*0x3);}get['options'](){return this['_options'];}['init'](_0x5f561e=null,_0x16c741){this['options']=_0x16c741,this['renderTarg'+'et']=_0x5f561e,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x3*-0x2af+0x7*0x3f7+-0x7b*0x29),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x3ccca7,_0x86180e,_0x2a8102,_0x3f97c0;const _0x423742=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x423742!=null&&_0x423742['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x19f3+-0x10e6*-0x2+-0x3bbf));const _0x2f9e9b=_0x423742?((_0x3ccca7=_0x423742['_colorBuff'+'ers'])==null?void(-0x32f+0x1*0x132c+-0xffd):_0x3ccca7['length'])??-0x1743+0x65*0x4a+-0x5ef:0x1f78+0x174e+-0x1*0x36c5;this['colorArray'+'Ops']['length']=-0x419+-0x1*0x1247+0x2*0xb30;for(let _0x3d2541=0x3*-0x89+-0x3fd*-0x2+-0x65f;_0x3d2541<_0x2f9e9b;_0x3d2541++){const _0x241544=new ow();this['colorArray'+'Ops'][_0x3d2541]=_0x241544,this['samples']===0x218f+0xd80+0x13d*-0x26&&(_0x241544['store']=!(0x1c1a+0xb1*0x14+0x14f7*-0x2),_0x241544['resolve']=!(0x1*0x259+-0x43*-0x7f+-0x2395*0x1));const _0x4836fa=(_0x2a8102=(_0x86180e=this['renderTarg'+'et'])==null?void(-0x20b5+0x1*-0xef3+0x2fa8):_0x86180e['_colorBuff'+'ers'])==null?void(0x135b+-0x10*0x9d+-0x98b):_0x2a8102[_0x3d2541];if((_0x3f97c0=this['renderTarg'+'et'])!=null&&_0x3f97c0['mipmaps']&&(_0x4836fa!=null&&_0x4836fa['mipmaps'])){const _0x16d4d4=dn(_0x4836fa['_format']);_0x241544['genMipmaps']=!_0x16d4d4;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x29797e=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x2d35c7=Math['floor'](_0x29797e['width']*this['scaleX']),_0x3202a3=Math['floor'](_0x29797e['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x2d35c7,_0x3202a3);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x23586e){this['_enabled']!==_0x23586e&&(this['_enabled']=_0x23586e,_0x23586e?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x5be176){const _0x2c83e8=this['colorArray'+'Ops']['length'];for(let _0x34c3d3=-0x57b+-0x133d+0x317*0x8;_0x34c3d3<_0x2c83e8;_0x34c3d3++){const _0x49d610=this['colorArray'+'Ops'][_0x34c3d3];_0x5be176&&(_0x49d610['clearValue']['copy'](_0x5be176),_0x49d610['clearValue'+'Linear']['linear'](_0x5be176)),_0x49d610['clear']=!!_0x5be176;}}['setClearDe'+'pth'](_0xad3f4a){_0xad3f4a&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0xad3f4a),this['depthStenc'+'ilOps']['clearDepth']=_0xad3f4a!==void(0xcdb*0x1+-0x112+-0xbc9);}['setClearSt'+'encil'](_0xd93bf1){_0xd93bf1&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0xd93bf1),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0xd93bf1!==void(0x106e+-0xaa0+-0x5ce);}['render'](){if(this['enabled']){const _0x1855d2=this['device'],_0x4213a7=this['renderTarg'+'et']!==void(0x2fb*0xd+-0x593*-0x1+-0x2c52);w['call'](()=>{this['log'](_0x1855d2,_0x1855d2['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x4213a7&&!this['_skipStart']&&_0x1855d2['startRende'+'rPass'](this),this['execute'](),_0x4213a7&&!this['_skipEnd']&&_0x1855d2['endRenderP'+'ass'](this)),this['after'](),_0x1855d2['renderPass'+'Index']++;}}['log'](_0x4bbeb6,_0x338934=0x4b6+0x16b*-0x1+-0x34b){var _0x525f4c,_0x599e16,_0x3fd60c;if(mi['get'](Pm)||mi['get'](cn)){const _0x4c2913=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x4bbeb6['backBuffer']:null),_0x469937=!!(_0x4c2913!=null&&_0x4c2913['impl']['assignedCo'+'lorTexture'])||(_0x4c2913==null?void(0x17*0xa+-0x251f+0x2439):_0x4c2913['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x1*-0x569+0x36f+0x1fa),_0x44b473=((_0x525f4c=_0x4c2913==null?void(-0x9*-0x4b+0x1158+-0xa5*0x1f):_0x4c2913['_colorBuff'+'ers'])==null?void(-0x1075*0x2+-0xcdf*0x3+0x1*0x4787):_0x525f4c['length'])??(_0x469937?0x192+-0x9*0x2f2+0x18f1:0x1a*-0x12e+-0x9dd*0x2+0x3266),_0x3c1a3d=_0x4c2913==null?void(-0x72c+0x397*0x8+0xac6*-0x2):_0x4c2913['depth'],_0x55fdf7=_0x4c2913==null?void(0x1*-0x3f1+-0x21b9+0x3*0xc8e):_0x4c2913['stencil'],_0x2678a0=_0x4c2913==null?void(-0x1a68+0x1*-0x11d3+-0x2c3b*-0x1):_0x4c2913['mipLevel'],_0x4a8db7=_0x4c2913?'\x20RT:\x20'+(_0x4c2913?_0x4c2913['name']:'NULL')+'\x20'+(_0x44b473>-0x1963*-0x1+0x78f+0x1079*-0x2?'[Color'+(_0x44b473>-0x24f0+0x108a+-0x6cd*-0x3?'\x20x\x20'+_0x44b473:'')+']':'')+(_0x3c1a3d?'[Depth]':'')+(_0x55fdf7?'[Stencil]':'')+'\x20'+_0x4c2913['width']+'\x20x\x20'+_0x4c2913['height']+(this['samples']>0x27a*0xb+-0x1b7*-0x6+-0x2588?'\x20samples:\x20'+this['samples']:'')+(_0x2678a0>0x8a4*0x1+0x155f+-0x1e03?'\x20mipLevel:'+'\x20'+_0x2678a0:''):'',_0x317f05=this['_skipStart']?'++':_0x338934['toString']()['padEnd'](-0x180d*-0x1+0x1*0x18e+-0x1999,'\x20');w['trace'](Pm,_0x317f05+':\x20'+this['name']['padEnd'](-0x210a+-0x1b5e+0x8a4*0x7,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x4a8db7['padEnd'](0x1dc7+-0x5a2+-0x1*0x1807));for(let _0x3d6ee3=0x1e38+-0x8e*-0x43+-0x4b*0xe6;_0x3d6ee3<_0x44b473;_0x3d6ee3++){const _0x249504=this['colorArray'+'Ops'][_0x3d6ee3],_0x148b06=(_0x599e16=Nt['get'](_0x469937?_0x4bbeb6['backBuffer'+'Format']:_0x4c2913['getColorBu'+'ffer'](_0x3d6ee3)['format']))==null?void(0x8*-0x4bc+-0x17b2*0x1+0x3d92):_0x599e16['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x3d6ee3+']:\x20'+(_0x249504['clear']?'clear':'load')+'->'+(_0x249504['store']?'store':'discard')+'\x20'+(_0x249504['resolve']?'resolve\x20':'')+(_0x249504['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x148b06+']\x20'+(_0x249504['clear']?'[clear:\x20'+_0x249504['clearValue']['toString'](!(0x7b1+-0xbbe+0x40d),!(-0x1a50+-0x60d+0x679*0x5))+']':''));}if(this['depthStenc'+'ilOps']){const _0xaaddfa=''+(_0x4c2913['depthBuffe'+'r']?'\x20[format:\x20'+((_0x3fd60c=Nt['get'](_0x4c2913['depthBuffe'+'r']['format']))==null?void(-0x192a+0x10d7+-0x1*-0x853):_0x3fd60c['name'])+']':'');_0x3c1a3d&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0xaaddfa+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x55fdf7&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0xaaddfa+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x394d5e){this['array'][this['index']]=_0x394d5e;}function hw(_0x17ed95,_0x5598f3){this['array'][this['index']]=_0x17ed95,this['array'][this['index']+(0x21*0xbf+-0x18c7*0x1+0x29)]=_0x5598f3;}function dw(_0x23e118,_0x30fdf9,_0x55c287){this['array'][this['index']]=_0x23e118,this['array'][this['index']+(0x228d+0xa*0x30f+-0x4122)]=_0x30fdf9,this['array'][this['index']+(0xf7d+0x6b*0x36+-0xcaf*0x3)]=_0x55c287;}function fw(_0x809380,_0x48e4dd,_0x424a60,_0x2b8cfa){this['array'][this['index']]=_0x809380,this['array'][this['index']+(0x5*-0x4c5+0x1a5d+-0x1*0x283)]=_0x48e4dd,this['array'][this['index']+(0x18b0+0x2c+-0x18da*0x1)]=_0x424a60,this['array'][this['index']+(-0x3fe*0x1+-0x15e1+-0xcf1*-0x2)]=_0x2b8cfa;}function uw(_0x784397,_0x42ce32,_0x3792e7){this['array'][_0x784397]=_0x42ce32[_0x3792e7];}function pw(_0x326b37,_0x324581,_0x3ac094){this['array'][_0x326b37]=_0x324581[_0x3ac094],this['array'][_0x326b37+(-0x13*-0x3b+-0x234d*0x1+-0xcb*-0x27)]=_0x324581[_0x3ac094+(0x2057*0x1+0x1452+-0x34a8)];}function mw(_0x90446f,_0x2a99f9,_0x424f99){this['array'][_0x90446f]=_0x2a99f9[_0x424f99],this['array'][_0x90446f+(-0x14e2+0x19d8+-0x4f5)]=_0x2a99f9[_0x424f99+(0xd23+0x2f+-0xd51)],this['array'][_0x90446f+(-0x895*-0x4+-0x8ba+0x15*-0x138)]=_0x2a99f9[_0x424f99+(0x18b*-0xa+-0x1*0x18bd+-0xb*-0x3a7)];}function _w(_0x42a591,_0x927926,_0x181e35){this['array'][_0x42a591]=_0x927926[_0x181e35],this['array'][_0x42a591+(-0xd*-0x1e2+0x19e5*-0x1+0x16c)]=_0x927926[_0x181e35+(-0x4d9*-0x2+-0x2*0x197+-0x683*0x1)],this['array'][_0x42a591+(0x560+0x54b*-0x1+0x13*-0x1)]=_0x927926[_0x181e35+(-0x1400+-0x2411*0x1+0xa5*0x57)],this['array'][_0x42a591+(0x199a*0x1+0x15af+0x7e1*-0x6)]=_0x927926[_0x181e35+(0x1cf+0x1*-0x1b8e+-0x3ae*-0x7)];}function gw(_0xf2bf36,_0x3f4ca0,_0x1f6547){_0x3f4ca0[_0x1f6547]=this['array'][_0xf2bf36];}function Sw(_0x30f1ad,_0x9b7845,_0x150775){_0x9b7845[_0x150775]=this['array'][_0x30f1ad],_0x9b7845[_0x150775+(0x1978+0xb4b+-0x24c2)]=this['array'][_0x30f1ad+(0x8a7*0x1+0xc02+-0x14a8)];}function yw(_0x10fd3b,_0x2b5f15,_0x3f7455){_0x2b5f15[_0x3f7455]=this['array'][_0x10fd3b],_0x2b5f15[_0x3f7455+(-0x2c*-0x1c+0x739*0x5+-0x6*0x6d2)]=this['array'][_0x10fd3b+(-0x13f1+-0x3*0x8c9+0x2e4d)],_0x2b5f15[_0x3f7455+(-0x2b4*-0xd+0x23a9+-0x46cb)]=this['array'][_0x10fd3b+(0x14b8+0x1325+-0x27db)];}function vw(_0x2fe162,_0x533760,_0x1ad3d9){_0x533760[_0x1ad3d9]=this['array'][_0x2fe162],_0x533760[_0x1ad3d9+(0x9*0x35+0x236b*0x1+-0x2547)]=this['array'][_0x2fe162+(-0x2*0xc43+0x1*0xbd7+0xcb0)],_0x533760[_0x1ad3d9+(0xb89+-0x1ec5*-0x1+-0x4*0xa93)]=this['array'][_0x2fe162+(0x1*0x1b46+-0x1*0x443+-0x1701)],_0x533760[_0x1ad3d9+(0x22b3+0x1946+-0x3bf6)]=this['array'][_0x2fe162+(0x240c+0x1*-0x1db3+-0x656)];}class xw{constructor(_0x4ca62e,_0x130e47,_0x161c4d){switch(this['index']=-0x496*-0x1+-0x2*-0x315+-0x560*0x2,this['numCompone'+'nts']=_0x130e47['numCompone'+'nts'],_0x161c4d['interleave'+'d']?this['array']=new wn[_0x130e47['dataType']](_0x4ca62e,_0x130e47['offset']):this['array']=new wn[_0x130e47['dataType']](_0x4ca62e,_0x130e47['offset'],_0x161c4d['vertexCoun'+'t']*_0x130e47['numCompone'+'nts']),this['stride']=_0x130e47['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x130e47['numCompone'+'nts']){case 0x1ba4+0x11b7+-0x78f*0x6:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0x13b1*-0x1+-0xbf6+-0x3*0x293:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x76*-0x10+0x6c*0x57+-0x1d*0x185:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0x3*0x96f+-0x902*0x4+-0x3*-0x295:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x38107d){return this['array'][this['index']+_0x38107d];}['set'](_0x1f04cf,_0x110148,_0x1fe954,_0x4a9609){}['getToArray'](_0x56614b,_0x2adbfd,_0x23a821){}['setFromArr'+'ay'](_0x63d73,_0x3847a6,_0x35c17d){}}class Uo{constructor(_0x298050){this['vertexBuff'+'er']=_0x298050,this['vertexForm'+'atSize']=_0x298050['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x290c9a=this['vertexBuff'+'er']['getFormat']();for(let _0x26db6c=0x5*-0x705+0x1764+0xbb5;_0x26db6c<_0x290c9a['elements']['length'];_0x26db6c++){const _0x44d861=_0x290c9a['elements'][_0x26db6c];this['accessors'][_0x26db6c]=new xw(this['buffer'],_0x44d861,_0x290c9a),this['element'][_0x44d861['name']]=this['accessors'][_0x26db6c];}}['next'](_0x16cbe9=0x197f+0x545+-0x13b*0x19){let _0x4d91a6=0x1898+0x32b*-0x1+-0x1*0x156d;const _0x2fb308=this['accessors'],_0x1f5a62=this['accessors']['length'];for(;_0x4d91a6<_0x1f5a62;){const _0x1bf6fc=_0x2fb308[_0x4d91a6++];_0x1bf6fc['index']+=_0x16cbe9*_0x1bf6fc['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x332690,_0x307127,_0x3ea12e){const _0x349b8b=this['element'][_0x332690];if(_0x349b8b){_0x3ea12e>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x3ea12e+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x3ea12e=this['vertexBuff'+'er']['numVertice'+'s']);const _0x3bfa0e=_0x349b8b['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x504a1e=-0x1*0xae5+0x1fd*-0xf+0x28b8;for(let _0x47d563=-0x6a5+0x2298+-0x1bf3;_0x47d563<_0x3ea12e;_0x47d563++)_0x349b8b['setFromArr'+'ay'](_0x504a1e,_0x307127,_0x47d563*_0x3bfa0e),_0x504a1e+=_0x349b8b['stride'];}else{if(_0x307127['length']>_0x3ea12e*_0x3bfa0e){const _0x6ce830=_0x3ea12e*_0x3bfa0e;if(ArrayBuffer['isView'](_0x307127))_0x307127=_0x307127['subarray'](0x1*-0x1c86+-0x202*0x11+-0xa*-0x644,_0x6ce830),_0x349b8b['array']['set'](_0x307127);else{for(let _0x483318=0x1745+0xdfd+0x2542*-0x1;_0x483318<_0x6ce830;_0x483318++)_0x349b8b['array'][_0x483318]=_0x307127[_0x483318];}}else _0x349b8b['array']['set'](_0x307127);}}}['readData'](_0xfe3bb4,_0x1a7f0c){const _0x40b22e=this['element'][_0xfe3bb4];let _0x6d3a2f=-0xdac+-0x22e7+0x3093*0x1;if(_0x40b22e){_0x6d3a2f=this['vertexBuff'+'er']['numVertice'+'s'];let _0x5c87b9;const _0x3000ec=_0x40b22e['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x1a7f0c)&&(_0x1a7f0c['length']=0x14*-0x9d+0x1629+-0x95*0x11),_0x40b22e['index']=0x1*-0x8a6+-0x11cc+0xa*0x2a5;let _0x383e6f=0x1fd2+-0x3*-0xcd3+-0x3d*0x127;for(_0x5c87b9=-0x1b4d+-0x8c7+0x2414;_0x5c87b9<_0x6d3a2f;_0x5c87b9++)_0x40b22e['getToArray'](_0x383e6f,_0x1a7f0c,_0x5c87b9*_0x3000ec),_0x383e6f+=_0x40b22e['stride'];}else{if(ArrayBuffer['isView'](_0x1a7f0c))_0x1a7f0c['set'](_0x40b22e['array']);else{_0x1a7f0c['length']=-0x2404+0x9*-0x3a9+0x44f5;const _0x2e29b7=_0x6d3a2f*_0x3000ec;for(_0x5c87b9=-0x2438*-0x1+-0xa94+0x3*-0x88c;_0x5c87b9<_0x2e29b7;_0x5c87b9++)_0x1a7f0c[_0x5c87b9]=_0x40b22e['array'][_0x5c87b9];}}}return _0x6d3a2f;}}const Tw=-(0x13*-0x5d+0x115d*-0x1+0x39*0x6d);class ww{constructor(_0x5cc31b,_0x24a321){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x24a321&&(this['key']=_0x24a321['keyCode'],this['element']=_0x24a321['target'],this['event']=_0x24a321);}}const jl=new ww();function Vd(_0x3f102e){return jl['key']=_0x3f102e['keyCode'],jl['element']=_0x3f102e['target'],jl['event']=_0x3f102e,jl;}function Yl(_0x175903){return typeof _0x175903=='string'?_0x175903['toUpperCas'+'e']()['charCodeAt'](0x2158+0x1f04+0x6*-0xaba):_0x175903;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x862381,_0x5eafd3={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x862381&&this['attach'](_0x862381),this['preventDef'+'ault']=_0x5eafd3['preventDef'+'ault']||!(0x685+-0x526*-0x6+0x7*-0x558),this['stopPropag'+'ation']=_0x5eafd3['stopPropag'+'ation']||!(0x10d*-0x1f+0x2ab*0x1+0x1de9));}['attach'](_0x407886){this['_element']&&this['detach'](),this['_element']=_0x407886,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x5*-0x139+0x3d7*-0x7+0x14c5)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x1d*-0x25+-0x18c7+0x1cf9)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x175+0x36a+-0x59*0xe)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1a65+-0x1*-0xc46+0x20*0x71)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x3*0x5d4+0x23d+0x3d0*0x4));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3*0x661+-0xd*0xf2+0x1f6e*0x1)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x17a+-0xfb5*0x2+0x1df1));}['toKeyIdent'+'ifier'](_0x45154e){_0x45154e=Yl(_0x45154e);const _0x4641f5=Ew[_0x45154e['toString']()];if(_0x4641f5)return _0x4641f5;let _0x36cef0=_0x45154e['toString'](0x7*0x4bc+-0x3*0x60f+0x2fb*-0x5)['toUpperCas'+'e']();const _0x1d6f40=_0x36cef0['length'];for(let _0xf2c01e=0x5ab*-0x6+-0x2198+0x3fa*0x11;_0xf2c01e<0x1424*-0x1+-0x1d01+0x3129-_0x1d6f40;_0xf2c01e++)_0x36cef0='0'+_0x36cef0;return'U+'+_0x36cef0;}['_handleKey'+'Down'](_0x8dba4b){const _0x5d6e3a=_0x8dba4b['keyCode']||_0x8dba4b['charCode'];if(_0x5d6e3a===void(-0x1218+-0x1*-0x123c+-0x24))return;const _0x52b397=this['toKeyIdent'+'ifier'](_0x5d6e3a);this['_keymap'][_0x52b397]=!(0xf1d+0x10b6+-0x1*0x1fd3),this['fire']('keydown',Vd(_0x8dba4b)),this['preventDef'+'ault']&&_0x8dba4b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x8dba4b['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x1a8792){const _0x278758=_0x1a8792['keyCode']||_0x1a8792['charCode'];if(_0x278758===void(-0x65e*0x4+0x1e48+-0x10*0x4d))return;const _0x1f19fb=this['toKeyIdent'+'ifier'](_0x278758);delete this['_keymap'][_0x1f19fb],this['fire']('keyup',Vd(_0x1a8792)),this['preventDef'+'ault']&&_0x1a8792['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1a8792['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x133804){this['fire']('keypress',Vd(_0x133804)),this['preventDef'+'ault']&&_0x133804['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x133804['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x54f61b in this['_lastmap'])delete this['_lastmap'][_0x54f61b];for(const _0xcd8b7e in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0xcd8b7e)&&(this['_lastmap'][_0xcd8b7e]=this['_keymap'][_0xcd8b7e]);}['isPressed'](_0x48d9ce){const _0x285bff=Yl(_0x48d9ce),_0x9048e6=this['toKeyIdent'+'ifier'](_0x285bff);return!!this['_keymap'][_0x9048e6];}['wasPressed'](_0x6e880e){const _0x1cf2be=Yl(_0x6e880e),_0x471b9f=this['toKeyIdent'+'ifier'](_0x1cf2be);return!!this['_keymap'][_0x471b9f]&&!this['_lastmap'][_0x471b9f];}['wasRelease'+'d'](_0x22c7ed){const _0x4dfdae=Yl(_0x22c7ed),_0x2784d2=this['toKeyIdent'+'ifier'](_0x4dfdae);return!this['_keymap'][_0x2784d2]&&!!this['_lastmap'][_0x2784d2];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x110f8b,_0x2bc64c){h(this,'x',-0xb*-0x36e+-0x1bce+-0x9ec),h(this,'y',-0x1006+0xb*-0x259+-0x1*-0x29d9),h(this,'dx',-0x20*-0x71+0x1*-0x7a2+0x6*-0x115),h(this,'dy',-0x7*-0x4d6+0xd1*-0x2e+0x3b4),h(this,'button',Tw),h(this,'wheelDelta',0x1*-0x119b+-0x986+0x56d*0x5),h(this,'element'),h(this,'ctrlKey',!(0x2436+0x26a2+0xab1*-0x7)),h(this,'altKey',!(0x1ddc+0x161*-0x7+0xa1a*-0x2)),h(this,'shiftKey',!(-0x15ab+-0x71*-0x3b+0x175*-0x3)),h(this,'metaKey',!(0x4f3+-0x6*-0x40a+-0x1d2e)),h(this,'event');let _0x196e97={'x':0x0,'y':0x0};if(_0x2bc64c){if(_0x2bc64c instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x196e97=_0x110f8b['_getTarget'+'Coords'](_0x2bc64c);}else _0x2bc64c={};if(_0x196e97)this['x']=_0x196e97['x'],this['y']=_0x196e97['y'];else{if(ru())this['x']=0x99d+-0x3*-0x45d+-0x16b4,this['y']=-0x2236+0x37d*-0x2+-0x8*-0x526;else return;}_0x2bc64c['type']==='wheel'&&(_0x2bc64c['deltaY']>-0x25d6+-0xc97*-0x2+0xca8?this['wheelDelta']=-0x73f*-0x2+0x7*-0x3d0+0xc33:_0x2bc64c['deltaY']<0x2*-0xa75+-0x54*-0x49+-0x30a&&(this['wheelDelta']=-(-0x10e8+-0x8+0x10f1))),ru()?(this['dx']=_0x2bc64c['movementX']||_0x2bc64c['webkitMove'+'mentX']||_0x2bc64c['mozMovemen'+'tX']||0x2*0xd64+0xa53+-0x251b,this['dy']=_0x2bc64c['movementY']||_0x2bc64c['webkitMove'+'mentY']||_0x2bc64c['mozMovemen'+'tY']||-0x1ad4+-0x1*-0x1688+0x226*0x2):(this['dx']=this['x']-_0x110f8b['_lastX'],this['dy']=this['y']-_0x110f8b['_lastY']),(_0x2bc64c['type']==='mousedown'||_0x2bc64c['type']==='mouseup')&&(this['button']=_0x2bc64c['button']),this['buttons']=_0x110f8b['_buttons']['slice'](-0x1*-0x2146+-0x225e*0x1+0x118),this['element']=_0x2bc64c['target'],this['ctrlKey']=_0x2bc64c['ctrlKey']??!(-0x1b1*0x13+-0x1*0x19cf+-0x159*-0x2b),this['altKey']=_0x2bc64c['altKey']??!(-0x3d1*-0x3+-0x289*-0x6+0x355*-0x8),this['shiftKey']=_0x2bc64c['shiftKey']??!(-0x3fc+0x1c91+0xf2*-0x1a),this['metaKey']=_0x2bc64c['metaKey']??!(0x9c5+-0xbc3+0x1ff),this['event']=_0x2bc64c;}}class sa extends me{constructor(_0x2b3c35){super(),h(this,'_lastX',-0x7f4*0x2+0x9b7+0x631),h(this,'_lastY',0x79*-0x2+-0x1669+-0x1*-0x175b),h(this,'_buttons',[!(-0x1df*0x10+0x8e*0x10+-0x1*-0x1511),!(0x10f3*0x1+-0x5b1*-0x1+-0x16a3),!(-0x1*-0xbc2+-0x2548+0x1*0x1987)]),h(this,'_lastbutto'+'ns',[!(-0x6b*-0x27+0x3*-0x695+0x373),!(-0xdb9+0x55d*-0x1+0x1b*0xb5),!(0x2288+-0xf*-0x213+0x41a4*-0x1)]),h(this,'_target',null),h(this,'_attached',!(-0x1*-0x1069+-0x1d19+0xab*0x13)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x37949a=>{_0x37949a['preventDef'+'ault']();},this['attach'](_0x2b3c35));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x49517e){if(this['_target']=_0x49517e,this['_attached'])return;this['_attached']=!(-0x71*0x37+0x1090+0x19*0x4f);const _0x571fb3={'passive':!(0x4f*-0x17+-0x544*-0x5+-0x99d*0x2)},_0x13d736=Ae['passiveEve'+'nts']?_0x571fb3:!(0x23c1+0x2e3*-0x4+-0x1834);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x13d736),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x13d736),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x13d736),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x13d736);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x16c1+0x470+-0x1252*-0x1),this['_target']=null;const _0x3c767c={'passive':!(-0xad3+-0xcbf+0x4b7*0x5)},_0x33f17f=Ae['passiveEve'+'nts']?_0x3c767c:!(0x2332+0x2378+-0x46a9);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x33f17f),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x33f17f),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x33f17f),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x33f17f);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x127b00,_0x3b2a55){if(!document['body']['requestPoi'+'nterLock']){_0x3b2a55&&_0x3b2a55();return;}const _0xbf77a0=()=>{_0x127b00(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xbf77a0);},_0x498f88=()=>{_0x3b2a55(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x498f88);};_0x127b00&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xbf77a0,!(0xfb*0x7+0x1f*-0xdf+0x1425)),_0x3b2a55&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x498f88,!(0xc03+-0x26ae+0x1aac)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x479f60){if(!document['exitPointe'+'rLock'])return;const _0x3c9779=()=>{_0x479f60(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3c9779);};_0x479f60&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3c9779,!(0xeff*-0x2+-0x71b*0x1+0x251a)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x2311*-0x1+0x8aa+0x1a67]=this['_buttons'][-0xa*0x1ca+-0x301*-0x2+0xbe2],this['_lastbutto'+'ns'][-0x19e9+-0x1ec7+-0x38b1*-0x1]=this['_buttons'][0x20d9+-0x37+-0x20a1*0x1],this['_lastbutto'+'ns'][-0x1365*-0x1+-0x865*0x1+-0x2a*0x43]=this['_buttons'][0x2*-0xb53+0x59*0x16+0x71*0x22];}['isPressed'](_0x53f34c){return this['_buttons'][_0x53f34c];}['wasPressed'](_0x1bc71b){return this['_buttons'][_0x1bc71b]&&!this['_lastbutto'+'ns'][_0x1bc71b];}['wasRelease'+'d'](_0x52765f){return!this['_buttons'][_0x52765f]&&this['_lastbutto'+'ns'][_0x52765f];}['_handleUp'](_0x1d58c6){this['_buttons'][_0x1d58c6['button']]=!(0x117*-0x6+-0x1c78+0x2303);const _0x390958=new ta(this,_0x1d58c6);_0x390958['event']&&this['fire']('mouseup',_0x390958);}['_handleDow'+'n'](_0x5d9b9e){this['_buttons'][_0x5d9b9e['button']]=!(-0x3*-0x9ab+-0xd*-0xfe+-0x29e7);const _0x3de06d=new ta(this,_0x5d9b9e);_0x3de06d['event']&&this['fire']('mousedown',_0x3de06d);}['_handleMov'+'e'](_0x3575c4){const _0x4f1c1e=new ta(this,_0x3575c4);_0x4f1c1e['event']&&(this['fire']('mousemove',_0x4f1c1e),this['_lastX']=_0x4f1c1e['x'],this['_lastY']=_0x4f1c1e['y']);}['_handleWhe'+'el'](_0x2a4af6){const _0x24734b=new ta(this,_0x2a4af6);_0x24734b['event']&&this['fire']('mousewheel',_0x24734b);}['_getTarget'+'Coords'](_0x530dc0){const _0x2bdb66=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x535ca9=Math['floor'](_0x2bdb66['left']),_0x6e69d9=Math['floor'](_0x2bdb66['top']);return _0x530dc0['clientX']<_0x535ca9||_0x530dc0['clientX']>=_0x535ca9+this['_target']['clientWidt'+'h']||_0x530dc0['clientY']<_0x6e69d9||_0x530dc0['clientY']>=_0x6e69d9+this['_target']['clientHeig'+'ht']?null:{'x':_0x530dc0['clientX']-_0x535ca9,'y':_0x530dc0['clientY']-_0x6e69d9};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x1c29ab){let _0x32f375=0xa02+0x1*0x1a7d+-0x247f,_0x413926=0x2396+0x1*-0x159e+-0xdf8,_0x295937=_0x1c29ab['target'];for(;!(_0x295937 instanceof HTMLElement)&&_0x295937;)_0x295937=_0x295937['parentNode'];for(;_0x295937;)_0x32f375+=_0x295937['offsetLeft']-_0x295937['scrollLeft'],_0x413926+=_0x295937['offsetTop']-_0x295937['scrollTop'],_0x295937=_0x295937['offsetPare'+'nt'];return{'x':_0x1c29ab['pageX']-_0x32f375,'y':_0x1c29ab['pageY']-_0x413926};}class d_{constructor(_0x90f1ba){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x45924e=Wc(_0x90f1ba);this['id']=_0x90f1ba['identifier'],this['x']=_0x45924e['x'],this['y']=_0x45924e['y'],this['target']=_0x90f1ba['target'],this['touch']=_0x90f1ba;}}class Kl{constructor(_0x1595c2,_0x28abdb){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x28abdb['target'],this['event']=_0x28abdb,this['touches']=Array['from'](_0x28abdb['touches'])['map'](_0x497779=>new d_(_0x497779)),this['changedTou'+'ches']=Array['from'](_0x28abdb['changedTou'+'ches'])['map'](_0x43738a=>new d_(_0x43738a)));}['getTouchBy'+'Id'](_0x42c25e,_0xe0fee3){return _0xe0fee3['find'](_0x40c114=>_0x40c114['id']===_0x42c25e)||null;}}class Zl extends me{constructor(_0x540358){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x540358);}['attach'](_0x36f62b){this['_element']&&this['detach'](),this['_element']=_0x36f62b,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0xec2+-0x17*0xbf+-0x7fb*-0x4)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x2*-0x137b+0x2*0x770+0x1*0x1817)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x40a*-0x4+-0xf4d+0x1f76)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x1934+0x1*0x1d7+-0xd85*0x2));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0x1a37*0x1+-0x1f9f*-0x1+-0x66d*0x9)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x1ab6+0x1660+-0x457*-0x1)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x1dc+0x4ad+-0x18*0x1e)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x1adc+-0x1d85+0xb*0x3e))),this['_element']=null;}['_handleTou'+'chStart'](_0x5c5915){this['fire']('touchstart',new Kl(this,_0x5c5915));}['_handleTou'+'chEnd'](_0x45cda7){this['fire']('touchend',new Kl(this,_0x45cda7));}['_handleTou'+'chMove'](_0x222b68){_0x222b68['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x222b68));}['_handleTou'+'chCancel'](_0x56d791){this['fire']('touchcance'+'l',new Kl(this,_0x56d791));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x2c464c,_0x2d968f,_0x1747b6){typeof _0x2d968f=='function'&&(_0x1747b6=_0x2d968f,_0x2d968f={});const _0x44a8d4=this['request']('GET',_0x2c464c,_0x2d968f,_0x1747b6),{progress:_0x319ca3}=_0x2d968f;if(_0x319ca3){const _0x295289=_0x42a94f=>{_0x42a94f['lengthComp'+'utable']&&_0x319ca3['fire']('progress',_0x42a94f['loaded'],_0x42a94f['total']);},_0x2d1a4a=_0x499483=>{_0x295289(_0x499483),_0x44a8d4['removeEven'+'tListener']('loadstart',_0x295289),_0x44a8d4['removeEven'+'tListener']('progress',_0x295289),_0x44a8d4['removeEven'+'tListener']('loadend',_0x2d1a4a);};_0x44a8d4['addEventLi'+'stener']('loadstart',_0x295289),_0x44a8d4['addEventLi'+'stener']('progress',_0x295289),_0x44a8d4['addEventLi'+'stener']('loadend',_0x2d1a4a);}return _0x44a8d4;}['post'](_0x580f01,_0x3d6769,_0xeb07ce,_0x22bfba){return typeof _0xeb07ce=='function'&&(_0x22bfba=_0xeb07ce,_0xeb07ce={}),_0xeb07ce['postdata']=_0x3d6769,this['request']('POST',_0x580f01,_0xeb07ce,_0x22bfba);}['put'](_0x59498a,_0x4d17a2,_0x23abdf,_0x2578b7){return typeof _0x23abdf=='function'&&(_0x2578b7=_0x23abdf,_0x23abdf={}),_0x23abdf['postdata']=_0x4d17a2,this['request']('PUT',_0x59498a,_0x23abdf,_0x2578b7);}['del'](_0x1fa3d3,_0x1d41fd,_0x2198c6){return typeof _0x1d41fd=='function'&&(_0x2198c6=_0x1d41fd,_0x1d41fd={}),this['request']('DELETE',_0x1fa3d3,_0x1d41fd,_0x2198c6);}['request'](_0x5e4b65,_0x12f90a,_0x59d7cf,_0x5bee16){let _0x3d593a,_0x1fa1b9,_0x2b4643,_0x59e5bc=!(-0xe43+-0x1c73+0x87*0x51);if(typeof _0x59d7cf=='function'&&(_0x5bee16=_0x59d7cf,_0x59d7cf={}),_0x59d7cf['retry']&&(_0x59d7cf=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x59d7cf)),_0x59d7cf['callback']=_0x5bee16,_0x59d7cf['async']==null&&(_0x59d7cf['async']=!(0xb69*0x2+0x5b4*0x2+-0x151*0x1a)),_0x59d7cf['headers']==null&&(_0x59d7cf['headers']={}),_0x59d7cf['postdata']!=null){if(_0x59d7cf['postdata']instanceof Document)_0x2b4643=_0x59d7cf['postdata'];else{if(_0x59d7cf['postdata']instanceof FormData)_0x2b4643=_0x59d7cf['postdata'];else{if(_0x59d7cf['postdata']instanceof Object){let _0x6a1784=_0x59d7cf['headers']['Content-Ty'+'pe'];switch(_0x6a1784===void(-0x52*0x6f+0xb*0x195+0x60d*0x3)&&(_0x59d7cf['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x6a1784=_0x59d7cf['headers']['Content-Ty'+'pe']),_0x6a1784){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x2b4643='';let _0x1d80f9=!(0x1*0x285+-0x666+0x3e1);for(const _0x4c1761 in _0x59d7cf['postdata'])if(_0x59d7cf['postdata']['hasOwnProp'+'erty'](_0x4c1761)){_0x1d80f9?_0x1d80f9=!(-0xf57+0xa32+-0x526*-0x1):_0x2b4643+='&';const _0x2924dd=encodeURIComponent(_0x4c1761),_0x189e47=encodeURIComponent(_0x59d7cf['postdata'][_0x4c1761]);_0x2b4643+=_0x2924dd+'='+_0x189e47;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x6a1784==null&&(_0x59d7cf['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x2b4643=JSON['stringify'](_0x59d7cf['postdata']);break;}}else _0x2b4643=_0x59d7cf['postdata'];}}}if(_0x59d7cf['cache']===!(0x1*-0x452+0x1*-0x13ae+-0x4cd*-0x5)){const _0x4cf3fb=de();_0x3d593a=new Rd(_0x12f90a),_0x3d593a['query']?_0x3d593a['query']=_0x3d593a['query']+'&ts='+_0x4cf3fb:_0x3d593a['query']='ts='+_0x4cf3fb,_0x12f90a=_0x3d593a['toString']();}_0x59d7cf['query']&&(_0x3d593a=new Rd(_0x12f90a),_0x1fa1b9=ah(_0x3d593a['getQuery'](),_0x59d7cf['query']),_0x3d593a['setQuery'](_0x1fa1b9),_0x12f90a=_0x3d593a['toString']());const _0x2d9de6=new XMLHttpRequest();_0x2d9de6['open'](_0x5e4b65,_0x12f90a,_0x59d7cf['async']),_0x2d9de6['withCreden'+'tials']=_0x59d7cf['withCreden'+'tials']!==void(-0x36*-0x80+-0x189f+0x3*-0xcb)?_0x59d7cf['withCreden'+'tials']:!(-0x1*-0x92f+-0x1*0x1263+-0x935*-0x1),_0x2d9de6['responseTy'+'pe']=_0x59d7cf['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x12f90a);for(const _0x33eddb in _0x59d7cf['headers'])_0x59d7cf['headers']['hasOwnProp'+'erty'](_0x33eddb)&&_0x2d9de6['setRequest'+'Header'](_0x33eddb,_0x59d7cf['headers'][_0x33eddb]);_0x2d9de6['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x5e4b65,_0x12f90a,_0x59d7cf,_0x2d9de6);},_0x2d9de6['onerror']=()=>{this['_onError'](_0x5e4b65,_0x12f90a,_0x59d7cf,_0x2d9de6),_0x59e5bc=!(0x2405*-0x1+0x173d+0xcc8);};try{_0x2d9de6['send'](_0x2b4643);}catch(_0x5b1772){_0x59e5bc||_0x59d7cf['error'](_0x2d9de6['status'],_0x2d9de6,_0x5b1772);}return _0x2d9de6;}['_guessResp'+'onseType'](_0x471b8b){const _0xcefd52=new Rd(_0x471b8b),_0x1a4b06=xe['getExtensi'+'on'](_0xcefd52['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x1a4b06)>=-0x222e+-0x153f+-0x7eb*-0x7?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1a4b06==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x1a4b06==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x2b9a9b){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x2b9a9b)>=-0xc4f+0x1254+-0x605;}['_isBinaryR'+'esponseTyp'+'e'](_0x53e06e){return _0x53e06e===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x53e06e===Oe['ResponseTy'+'pe']['BLOB']||_0x53e06e===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x185156,_0x92a333,_0x3fd440,_0x1fe88c){if(_0x1fe88c['readyState']===-0xa5+0x6ff*0x3+-0x1454)switch(_0x1fe88c['status']){case 0x1*0x11ab+0xa59*0x3+-0x30b6:{_0x1fe88c['responseUR'+'L']&&_0x1fe88c['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x185156,_0x92a333,_0x3fd440,_0x1fe88c):this['_onError'](_0x185156,_0x92a333,_0x3fd440,_0x1fe88c);break;}case-0x16dc+0x1613+0x191*0x1:case 0x1bb9+0x1fb4+-0x116*0x36:case-0x2*-0x134f+-0x8a8+-0x1d28:case 0x64e+0x23*0x42+-0xe24:{this['_onSuccess'](_0x185156,_0x92a333,_0x3fd440,_0x1fe88c);break;}default:{this['_onError'](_0x185156,_0x92a333,_0x3fd440,_0x1fe88c);break;}}}['_onSuccess'](_0x58e4a3,_0x27b442,_0x5ef72a,_0x64135c){let _0x30ca53,_0x419591;const _0x665e66=_0x64135c['getRespons'+'eHeader']('Content-Ty'+'pe');_0x665e66&&(_0x419591=_0x665e66['split'](';')[0x1*0x163a+-0x2351*0x1+0xd17*0x1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x419591)||this['_isBinaryR'+'esponseTyp'+'e'](_0x64135c['responseTy'+'pe'])?_0x30ca53=_0x64135c['response']:_0x419591===Oe['ContentTyp'+'e']['JSON']||_0x27b442['split']('?')[-0x355*-0x3+-0xad0+0xd1]['endsWith']('.json')?_0x30ca53=JSON['parse'](_0x64135c['responseTe'+'xt']):_0x64135c['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x419591===Oe['ContentTyp'+'e']['XML']?_0x30ca53=_0x64135c['responseXM'+'L']:_0x30ca53=_0x64135c['responseTe'+'xt'],_0x5ef72a['callback'](null,_0x30ca53);}catch(_0x2d3bf0){_0x5ef72a['callback'](_0x2d3bf0);}}['_onError'](_0x26ea88,_0x56fc24,_0x50c154,_0x1e4c50){if(!_0x50c154['retrying']){if(_0x50c154['retry']&&_0x50c154['retries']<_0x50c154['maxRetries']){_0x50c154['retries']++,_0x50c154['retrying']=!(-0x117e*-0x1+-0x12d+0x1051*-0x1);const _0x1ae83a=Y['clamp'](Math['pow'](0x5*0x272+0xa98+-0x50*0x49,_0x50c154['retries'])*Oe['retryDelay'],-0xb3+-0xe7b+-0x43*-0x3a,_0x50c154['maxRetryDe'+'lay']||0x1f5e+0x1e48+-0x2a1e);console['log'](_0x26ea88+':\x20'+_0x56fc24+'\x20-\x20Error\x20'+_0x1e4c50['status']+('.\x20Retrying'+'\x20in\x20')+_0x1ae83a+'\x20ms'),setTimeout(()=>{_0x50c154['retrying']=!(0x2*-0x3cc+0x82c+-0x31*0x3),this['request'](_0x26ea88,_0x56fc24,_0x50c154,_0x50c154['callback']);},_0x1ae83a);}else _0x50c154['callback'](_0x1e4c50['status']===-0x1*0x15cb+-0xc96+-0x2261*-0x1?'Network\x20er'+'ror':_0x1e4c50['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x17d4+0x1f59+-0x721);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x251eb3){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x251eb3;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x25d888){this['position']['copy'](_0x25d888);const _0x7aa10=this['listener'];_0x7aa10&&('positionX'in _0x7aa10?(_0x7aa10['positionX']['value']=_0x25d888['x'],_0x7aa10['positionY']['value']=_0x25d888['y'],_0x7aa10['positionZ']['value']=_0x25d888['z']):_0x7aa10['setPositio'+'n']&&_0x7aa10['setPositio'+'n'](_0x25d888['x'],_0x25d888['y'],_0x25d888['z']));}['setOrienta'+'tion'](_0x4a5ae6){this['orientatio'+'n']['copy'](_0x4a5ae6);const _0x1f976a=this['listener'];if(_0x1f976a){const _0x5f0d25=_0x4a5ae6['data'];'forwardX'in _0x1f976a?(_0x1f976a['forwardX']['value']=-_0x5f0d25[0x530+-0x3*0x288+0x270],_0x1f976a['forwardY']['value']=-_0x5f0d25[-0x1*-0x1f55+-0x273+-0x1cd9],_0x1f976a['forwardZ']['value']=-_0x5f0d25[0x1c24+0xf5a+-0x2b74],_0x1f976a['upX']['value']=_0x5f0d25[0x1*-0x1091+-0x4*0x2f9+0xc5*0x25],_0x1f976a['upY']['value']=_0x5f0d25[0x107f+0x9aa*0x4+-0x2*0x1b91],_0x1f976a['upZ']['value']=_0x5f0d25[-0xbb0+-0x17a9*-0x1+-0xbf3*0x1]):_0x1f976a['setOrienta'+'tion']&&_0x1f976a['setOrienta'+'tion'](-_0x5f0d25[-0x57*0x8+-0x207*-0xf+0x1*-0x1ba9],-_0x5f0d25[0xc74*-0x3+-0x2043+0x4*0x116a],-_0x5f0d25[0x1*0xb+0x2*0x175+-0x2eb],_0x5f0d25[0x1e36+-0x80*-0x20+-0x2e32],_0x5f0d25[0x2b*-0xcd+0x18a3+-0x1*-0x9d1],_0x5f0d25[-0x5f*-0x15+-0x236f*-0x1+-0x2b34]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x6d4ff3=this['_manager']['context'];return _0x6d4ff3?_0x6d4ff3['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x81d+-0x2198+0x197c),this['listener']=new Cw(this),this['_volume']=0x1419+-0x1*-0x26d7+-0x3aef;}set['volume'](_0x148fc7){_0x148fc7=Y['clamp'](_0x148fc7,-0xa*-0x2d7+0x81c+-0x2482,-0xc*0x66+-0x1508+-0x89b*-0x3),this['_volume']=_0x148fc7,this['fire']('volumechan'+'ge',_0x148fc7);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1*0x1a5+0x1525*-0x1+-0x2*-0x9c0),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x63d*0x6+-0x73d+0x1656*0x2),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x55c18c;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x55c18c=this['_context'])==null||_0x55c18c['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x20090b=this['_context']['createBuff'+'erSource']();_0x20090b['buffer']=this['_context']['createBuff'+'er'](0xc*0x2cc+0x13f*-0x19+-0x268,0x4*0x757+-0x415+-0x1946,this['_context']['sampleRate']),_0x20090b['connect'](this['_context']['destinatio'+'n']),_0x20090b['start'](-0x1b23+0x121c+0x907),_0x20090b['onended']=_0xafa9e0=>{_0x20090b['disconnect'](0x201+0x2*0xdbd+-0x1d7b),this['fire']('resume');};},_0x27f3a2=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x27f3a2);})['catch'](_0x2ed38e=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x2ed38e);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x20b00d=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x20b00d);})['catch'](_0x541958=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x541958);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x1e1619=>{window['addEventLi'+'stener'](_0x1e1619,this['_unlockHan'+'dlerFunc'],!(0x11b7+0x101c+-0x21d2));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x35024b=>{window['removeEven'+'tListener'](_0x35024b,this['_unlockHan'+'dlerFunc'],!(-0xf5*-0x1c+-0x1*0x943+-0x1188*0x1));});}}class Mw{constructor(_0x6964bf){h(this,'audio'),h(this,'buffer'),_0x6964bf instanceof Audio?this['audio']=_0x6964bf:this['buffer']=_0x6964bf;}get['duration'](){let _0x3cadd3=-0x15b3+0x136d*-0x1+0x1c*0x178;return this['buffer']?_0x3cadd3=this['buffer']['duration']:this['audio']&&(_0x3cadd3=this['audio']['duration']),_0x3cadd3||0x1ec7*-0x1+0x33b*-0xa+-0x301*-0x15;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x1a24+0x1*0x15e1+-0x3005,fn=0x772+0xfc0+0x3*-0x7bb,Hs=0x212e+0x17*-0x65+0x1*-0x1819;function es(_0x38d912,_0x3d7f05){return _0x38d912%_0x3d7f05||0x2*-0xb0b+0x1e4+0x1432;}class As extends me{constructor(_0x1b10db,_0xb3217c,_0x587949){super(),h(this,'source',null),(this['_manager']=_0x1b10db,this['_volume']=_0x587949['volume']!==void(0x2e3*0xa+-0x134a+0x2*-0x4ca)?Y['clamp'](Number(_0x587949['volume'])||0x162e+-0x91c+-0xd12,-0x23fd+-0x1*0x175+0x12b9*0x2,0x147*0x1+-0x6*-0x14b+-0x908):-0x3*-0x853+0x263a+-0x1f99*0x2,this['_pitch']=_0x587949['pitch']!==void(0xb*-0x223+-0x2446+-0x3*-0x13ed)?Math['max'](-0xeb9*0x2+-0x8*-0x2b3+0x1*0x7da+0.01,Number(_0x587949['pitch'])||-0x38f*0x7+0x1c0d+0x6*-0x86):-0x21d7*0x1+-0xfe*0x8+0x2fc*0xe,this['_loop']=!!(_0x587949['loop']!==void(-0x1932+-0x1c1d*0x1+-0x354f*-0x1)&&_0x587949['loop']),this['_sound']=_0xb3217c,this['_state']=Hs,this['_suspended']=!(-0xb39+0x394+0x2*0x3d3),this['_suspendEn'+'dEvent']=0x202b+-0x20b+-0x1e20,this['_suspendIn'+'stanceEven'+'ts']=!(-0x1420+-0x1717*-0x1+-0x17b*0x2),this['_playWhenL'+'oaded']=!(-0x1967*-0x1+-0x1f8a+0x623*0x1),this['_startTime']=Math['max'](-0x2418+-0x19e9+0x3e01,Number(_0x587949['startTime'])||-0x2223+-0x1f*-0x128+0x1*-0x1b5),this['_duration']=Math['max'](0xbe*-0xf+0x146*0x14+-0xe56,Number(_0x587949['duration'])||0x8fd+-0x11fb*0x2+-0x565*-0x5),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x587949['onPlay'],this['_onPauseCa'+'llback']=_0x587949['onPause'],this['_onResumeC'+'allback']=_0x587949['onResume'],this['_onStopCal'+'lback']=_0x587949['onStop'],this['_onEndCall'+'back']=_0x587949['onEnd'],Dl()?(this['_startedAt']=-0x77b*-0x4+0x18f1+-0x36dd,this['_currentTi'+'me']=0x286+-0x272+-0x14*0x1,this['_currentOf'+'fset']=-0x1*-0x1ebc+0x17cb+-0x3687,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xf67+0x1*-0x1eb6+0x2*0x170f),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1615*0x1+0x9ad*0x1+-0x1fc1),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x38f2c0){if(!(_0x38f2c0<-0x1*-0x154f+0x178c+0x1*-0x2cdb)){if(this['_state']===Zt){const _0x2fad41=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0xa07*-0x1+-0xca+-0xb*0xd7),this['stop'](),this['_startOffs'+'et']=_0x38f2c0,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x2fad41;}else this['_startOffs'+'et']=_0x38f2c0,this['_currentTi'+'me']=_0x38f2c0;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x1987+0x9d1+0xfb6:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x79616e){this['_duration']=Math['max'](0x5f9+-0x2a2+-0x357,Number(_0x79616e)||-0x231+0x106d+0x38f*-0x4);const _0x5f5926=this['_state']===Zt;this['stop'](),_0x5f5926&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x1dff+0x12f*0x3+-0x1*-0x1a72;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x511979){this['_loop']=!!_0x511979,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x177da4){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x177da4)||0x1d0a*-0x1+-0xa38*-0x1+0x92*0x21,-0x3ca+-0x2d4+0x69e+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x33b522){this['_sound']=_0x33b522,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x4f6289){this['_startTime']=Math['max'](-0xc71+0x5*0x4e6+-0xc0d,Number(_0x4f6289)||-0x2*-0x62f+0x1816*-0x1+0xbb8);const _0x49fea9=this['_state']===Zt;this['stop'](),_0x49fea9&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x1cbd0e){_0x1cbd0e=Y['clamp'](_0x1cbd0e,0x12aa+0x7ff+-0x1aa9,-0x5*-0x4b1+0x4b*-0x41+0x469*-0x1),this['_volume']=_0x1cbd0e,this['gain']&&(this['gain']['gain']['value']=_0x1cbd0e*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x84b*0x4+-0x43*0x6f+-0x41f){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0xf00+0x11ad+-0x2ad),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x6f*-0x53+0xeaa+0x34*0x69),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x3*-0xa06+-0x5*0x1d3+-0x2fe*0x7),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x23e0+0x1*0x1146+0xb*0x1b1):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x9*0xac+-0x1896+-0x62e*-0x3),!(-0x1*0xe06+0x3*0xb1a+0xf*-0x149)):(this['_playAudio'+'Immediate'](),!(0x25eb+-0xb31+-0x137*0x16));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xdb5+0x15+-0x1*-0xda1),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x1d3da3=es(this['_startOffs'+'et'],this['duration']);_0x1d3da3=es(this['_startTime']+_0x1d3da3,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x849+-0x2537+0xd0*0x38,_0x1d3da3,this['_duration']):this['source']['start'](0x1b41+-0xb13+-0x102e,_0x1d3da3),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x90+0xe*-0xdf+0x17*0x8e,this['_currentOf'+'fset']=_0x1d3da3,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x5b5*0x6+0x1463+-0x36a0),this['_state']!==Zt?!(0x3c7*-0x3+0x1*-0x29f+0xdf5):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x253+-0x2*0x12aa+0x27a7),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x62f+-0x1c35+0x2264));}['resume'](){if(this['_state']!==fn)return!(0x235f+-0x1f22*0x1+-0x43c);let _0x47fbd1=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x47fbd1=es(this['_startOffs'+'et'],this['duration']),_0x47fbd1=es(this['_startTime']+_0x47fbd1,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0xa85+-0xd*0x217+0x96c*0x4,_0x47fbd1,this['_duration']):this['source']['start'](0xae3*-0x3+0xe*-0x235+0x1*0x3f8f,_0x47fbd1),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x47fbd1,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1*0xff4+-0x1*-0x1dfe+-0x2df1),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1e2+0x3*-0x6df+0x12bb);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x895+-0x576*-0x2+0x30*-0x68),this['_state']===Hs)return!(-0xdd6+0xd99+0x3e);const _0x53704c=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1981*-0x1+-0x26da+0xd59,this['_currentTi'+'me']=0x1c12+-0x4*0x4ab+-0x966,this['_currentOf'+'fset']=0xd41+-0x155+0x2fb*-0x4,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x53704c&&this['source']&&this['source']['stop'](0x55b*0x7+-0x1c79+-0x482*0x2),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x14e9*0x1+0xdc+0x140d);}['setExterna'+'lNodes'](_0x8e842e,_0x495284){if(!_0x8e842e){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x495284||(_0x495284=_0x8e842e);const _0x310a76=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x8e842e&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x310a76),this['_firstNode']=_0x8e842e,this['_connector'+'Node']['connect'](_0x8e842e)),this['_lastNode']!==_0x495284&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x310a76),this['_lastNode']=_0x495284,this['_lastNode']['connect'](_0x310a76));}['clearExter'+'nalNodes'](){const _0x5d928c=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x5d928c),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x5d928c);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x3f13d0=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x3f13d0['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x1058+0x1*0x173d+0x1*-0x6e5),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x5*0x50a+-0x584*-0x6+-0x7e5):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x9e1+0x27*-0xea+0x19c6),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x1*0xd+0x11*0xa9+-0xde*0xd));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x1fa0+-0x14*0x1a1+-0x1*-0xf5):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x127a+-0x1808*-0x1+-0x117*0x27),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x49+-0x1811+0x40f*0x6));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0xb93+0x242d+-0x1899):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0xb10+-0x35e+-0xb*0xb3),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x3*-0x156+-0x265*0xe+0x1d84));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0x1e2b*-0x1+0x2*0x848+-0x2eba):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1d01+-0x4c0*0x3+-0xec*0x10),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x24*0x78+0x1710+-0x630));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x7c2+-0x3c*-0x93+-0x1ab2);let _0x3a2506=es(this['_startOffs'+'et'],this['duration']);_0x3a2506=es(this['_startTime']+_0x3a2506,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x3a2506;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1cfe+-0xc9d+-0x1060),this['source']=this['_sound']['audio']['cloneNode'](!(-0x11ce*0x2+0x26dd+0x31*-0x11)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x29453d){_0x29453d=Y['clamp'](_0x29453d,-0x1db6+-0x103d+0x2df3,0x1b0a*-0x1+-0x1cc2*0x1+0x37cd),this['_volume']=_0x29453d,this['source']&&(this['source']['volume']=_0x29453d*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x38b1dc){this['_pitch']=Math['max'](Number(_0x38b1dc)||-0x8c4*-0x2+-0x8*0x1be+-0x8*0x73,0x1ecd*-0x1+-0x1a9c+0x3969+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x43915d){this['stop'](),this['_sound']=_0x43915d;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0xe6d+0x1*-0xe56+-0x17:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x460c71){_0x460c71<0x24f1+-0x24da+-0x1*0x17||(this['_startOffs'+'et']=_0x460c71,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x460c71,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0x112c+0x33e7+0x455*0x1;class sn extends As{constructor(_0x299c54,_0x11b88c,_0xbb0c4f={}){super(_0x299c54,_0x11b88c,_0xbb0c4f),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0xbb0c4f['position']&&(this['position']=_0xbb0c4f['position']),this['maxDistanc'+'e']=_0xbb0c4f['maxDistanc'+'e']!==void(-0xd21+0x1537*0x1+-0x1*0x816)?Number(_0xbb0c4f['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0xbb0c4f['refDistanc'+'e']!==void(-0x26e+-0x1e92+0x210*0x10)?Number(_0xbb0c4f['refDistanc'+'e']):-0x3*0x5f3+-0x2169+0x3343,this['rollOffFac'+'tor']=_0xbb0c4f['rollOffFac'+'tor']!==void(0x1b70+0x691+-0x2201)?Number(_0xbb0c4f['rollOffFac'+'tor']):0x6b*-0x56+0x11b*0x9+0x1a00,this['distanceMo'+'del']=_0xbb0c4f['distanceMo'+'del']!==void(-0xc+-0x122d*0x2+0x2466)?_0xbb0c4f['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xf1f69c){this['_position']['copy'](_0xf1f69c);const _0x379820=this['panner'];'positionX'in _0x379820?(_0x379820['positionX']['value']=_0xf1f69c['x'],_0x379820['positionY']['value']=_0xf1f69c['y'],_0x379820['positionZ']['value']=_0xf1f69c['z']):_0x379820['setPositio'+'n']&&_0x379820['setPositio'+'n'](_0xf1f69c['x'],_0xf1f69c['y'],_0xf1f69c['z']);}get['position'](){return this['_position'];}set['velocity'](_0x4ff1e9){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x4ff1e9);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x3fa132){this['panner']['maxDistanc'+'e']=_0x3fa132;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x2113a3){this['panner']['refDistanc'+'e']=_0x2113a3;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x4678c8){this['panner']['rolloffFac'+'tor']=_0x4678c8;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x2cc6db){this['panner']['distanceMo'+'del']=_0x2cc6db;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x213367,_0x148d6d,_0x3bade0,_0x5c237f,_0x1ba514,_0x8af138){l=l['sub2'](_0x213367,_0x148d6d);const _0x2b0ea8=l['length']();if(_0x2b0ea8<_0x3bade0)return-0x798+-0x21f7+-0x46*-0x98;if(_0x2b0ea8>_0x5c237f)return 0xdc1+0x16d4+-0x2495;let _0x5a7976=0x3da+-0x1565+-0x118b*-0x1;return _0x8af138===Vp?_0x5a7976=-0x70f+0x3e7+-0x1*-0x329-_0x1ba514*(_0x2b0ea8-_0x3bade0)/(_0x5c237f-_0x3bade0):_0x8af138===bw?_0x5a7976=_0x3bade0/(_0x3bade0+_0x1ba514*(_0x2b0ea8-_0x3bade0)):_0x8af138===Aw&&(_0x5a7976=Math['pow'](_0x2b0ea8/_0x3bade0,-_0x1ba514)),Y['clamp'](_0x5a7976,-0x11*0x14b+-0x214d+0x3748,-0x1c6*0x10+0x1a6+-0x1*-0x1abb);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x442833){if(this['_position']['copy'](_0x442833),this['source']){const _0x365baa=this['_manager']['listener']['getPositio'+'n'](),_0x7adab9=t(_0x365baa,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x452c32=this['volume'];this['source']['volume']=_0x452c32*_0x7adab9*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x24d40b){this['_maxDistan'+'ce']=_0x24d40b;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x56eecd){this['_refDistan'+'ce']=_0x56eecd;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x45ab7a){this['_rollOffFa'+'ctor']=_0x45ab7a;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x407a67){this['_distanceM'+'odel']=_0x407a67;}});}const Gp=0xf1b+-0x2*0x286+-0x5*0x203,Hp=0x26e6*0x1+-0x232f*0x1+0xbe*-0x5,Zs=0x11c0+0x1202+0x160*-0x1a,Cs=-0x1*0xbcf+0x1a05*0x1+-0xe33,Gn=0x155e+-0x3a0*0x5+-0x7*0x76,Wp=0x6*-0x167+-0x7*-0x2e6+0xbdb*-0x1,Ed=0x3e+0x2450*-0x1+0x483*0x8,$p=0x4c*-0x30+-0x10c8+0x1f0f,Xp=-0x2000+0x2*0x117d+-0x2f2,qp=0x26f9+0x1664+0x4*-0xf55,jp=-0x67*-0x61+0x1742+-0x3e3f,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x8a8+0x14ac+-0xc04,Yp=-0x2*-0x903+0x821+-0x1*0x1a25,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x2291+-0x5e5*-0x6+-0x45ef,Ky=0x2291+0x15a5+-0x3827*0x1,er=0x188b+-0x1bbc+0x331,ps=-0x13ea*0x1+-0xd06+0x20f1,Kp=0x2*0x36c+-0xe23+0x74d,Zp=0x2*-0x6a9+0x14cc+-0x777,Il=0x43a*0x2+-0x194*-0xb+-0x19cc,ve=-0x404+-0x190c+0x1d1*0x10,Ke=-0xdca+0x5*0x19+0xd4e*0x1,Ze=-0x20ff*-0x1+0x11e*0x3+0x15*-0x1bb,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x2127+-0x4*0x24f+-0x2f*-0xe9,Ys=0x2*0x502+-0x6fe+-0x306,Zy=-0x1149+-0x137b+0x24c5,Qy=0x2*-0x407+-0xa82+0x1292,Jy=0x10bb*0x2+-0x100b+-0x45a*0x4,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0x492+-0x1*-0xae3+-0xf75,ev=-0x10c2+0x10f6+-0x11*0x3,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x1*0x8c8+-0xbd3*0x2+0x206e,au=-0xb2d*-0x2+0x1b*0x117+-0x1d*0x1c9,Jp=0x1e6c+0x2344+-0x41ad,kw=-0x17f*0x16+-0x2f*-0x65+0xe63,tv=0x10d7+-0x47b*-0x1+-0x30b*0x7,al=0x1d63+0x8e5+-0x2642,sv=-0x1*0xef9+-0x15cb+0x24cb,iv=-0x1b*-0x89+0x1*0x3f1+-0x125c,Uw=-0x5c*0x2f+0x19a2+0x2e7*-0x3,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x1071+-0x25b5+0x2*0xaa2)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(0x11*0x229+0x1ec5+0x146*-0x35)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x9a7+0x1*0xaf2+-0x1499*0x1)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x7af+-0xcca*-0x3+-0x1eaf)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1d40+0x2003+-0x3d43*0x1)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(0x16e5*-0x1+-0xfca+-0x3*-0xce5)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0xb0*0x2b+-0x3*0x39f+-0x12b3)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0x863+-0x1177*-0x1+0x2*-0x48a)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x1412+0x554+0xcb3*-0x2)}]]),Bw=0x224b+0x1f4c+-0xd4*0x4e,em=0x1329+0x21*0x15+0x1*-0x15dd,nu=0x1*-0x15c5+0x1*-0x883+0x1e48,rv=0x854*0x2+0x149*0x2+-0x133a,ai=0x155*0x2+-0x1c17+0x196d,zw=-0xf6+0xccb+-0xbd4,yh=0xd*-0x301+0x1e17+0x8f6,Vw=0x1*0x1cf0+0xb*0x1f9+-0x32a2,ni=0x6f9+-0x2*-0x173+0x169*-0x7,En=-0x9b6+0xd*0x10+0x8e7,un=0x1*-0x2696+-0x2354+0x49ea,$r=0x1c10+-0x129+-0x1ae6,Jl=0xc1b+0x23ba+-0x6d5*0x7,tm=-0x321*-0x4+-0xa70+0x1c*-0x13,av=-0x1*0x2572+-0xca2+0x3215*0x1,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x2b*0xc5+-0x2*0x475+-0x3*0x80f,Xc=-0xf25*0x1+0x189d*0x1+-0x977,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x268+0x1*0x3d9+-0x171,UU=-0x4a2+-0x15a7+0x1a4a,BU=-0x2548+-0x99b+0x2ee5,zU=0x3b*0x59+0x2*0xbbe+-0x2bfc,VU=0xe2*0x1e+-0x5*-0x1+-0x1a7d*0x1,GU=-0x1c33+-0x145*-0x2+0x19ae*0x1,nv=-0x265+-0x10*-0x71+-0x4a5,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=0x2220+-0x9a9+-0x1877,bd=-0x21cc+-0x5*-0x83+-0x3e*-0x81,cv=-0x1771+0x8c5+0xeae,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0xff4*-0x1+0xafc+-0x23*0xc5,nl=-0x805*0x1+0x2fe+0x1*0x509,nm=-0x18e0+-0xda+0xcdf*0x2,dv=0x1069+-0x1446+0x3e5,fv=0xa7f+-0x13d5+0x966,ol=-0x5*-0x3dd+0x6d*0x43+0x7f4*-0x6,ou=0x1269+-0x1813+0x5ea,uv=0xa7d+-0x3fb*-0x5+-0x2*0xef2,Eh=0x2561+-0xa52*-0x1+0xf*-0x31d,om=-0x160*-0x1+-0x832*0x1+0x8d2,ll=0x321+-0x6a1+0x780,cl=0x227*0x2+-0x1a*0x2b+0x810,pv=-0x1382+-0x1caa*0x1+0x2016*0x2,hl=-0xd45+-0x1df3+-0x12ce*-0x4,qc=0x1a54+-0x1*0x2175+0x4721,Ps=-0x6*0x245+-0x934+0x16d2,xr=-0xf6d*-0x1+0x3e7+0x33*-0x61,lm=0x661*0x2+0x85*-0x3a+0x8b1*0x2,Ss=-0x145f+-0x5*-0x375+0x71*0x7,di=0xa1*0x2b+0xe78+-0x1*0x2981,fi=-0x20b0+-0x2*-0x91a+0x20*0x74,Aa=0x188f+-0x1*-0x7b4+0x3*-0xac1,Rl=0x2510*0x1+0x1c28+-0x4137,cm=-0x5d*0x1f+0x1*0xb2a+0x1b,Zn=-0xa1e+0x743+0x2de,ci=-0x628+0x26dc+-0x256*0xe,Pt=0x1dee+-0x16ab+-0x742,Mt=0x137d*0x2+-0x157*-0x16+-0x4472,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x14cc+-0x19b5+0x2e82,ec=0x416*-0x1+-0xfe9+0x13ff,Yc=0x12*-0x95+0x473+0x607,jw=-0x138f+0x159d+0x19*-0x15,Yw=0xcd*-0x2b+0xe*-0x18+-0x3f9*-0x9,m_=0xb3*0x1c+0x1*0x25e5+-0x3976,Kw=-0xc*-0x2ba+-0x1fa+0x1b5*-0x12,Zw=0x1539+-0x5*0x2f+-0x1449,hm=-0xbf*0x2a+-0xb6e+0x2ac4,lu=-0x1e58+0x25d1*-0x1+0x15d*0x32,Ce=0x8af+0x53*-0x3c+-0xac5*-0x1,je=0xcf3+-0x429*0x4+0x3b2*0x1,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x4e0737,_0x2b4800,_0x4b7d9d){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x4e0737,this['bindGroupF'+'ormats'][rl]=_0x2b4800,this['vertexForm'+'at']=_0x4b7d9d);}['hasUniform'](_0x1a4069){for(let _0x55ba93=-0x617+-0x12f*0x5+0xc02;_0x55ba93<this['uniformFor'+'mats']['length'];_0x55ba93++){const _0x6756e7=this['uniformFor'+'mats'][_0x55ba93];if(_0x6756e7!=null&&_0x6756e7['get'](_0x1a4069))return!(-0x2*-0xd3f+0x13c0+-0x2e3e);}return!(-0x878*0x2+-0x220a+-0x32fb*-0x1);}['hasTexture'](_0x64e428){for(let _0x331e82=-0x725+-0x1205*-0x2+-0x1ce5;_0x331e82<this['bindGroupF'+'ormats']['length'];_0x331e82++){const _0x10f72a=this['bindGroupF'+'ormats'][_0x331e82];if(_0x10f72a!=null&&_0x10f72a['getTexture'](_0x64e428))return!(-0x2*-0x129e+-0x1350+0x47b*-0x4);}return!(-0x16*0x71+0x1ded+-0xd*0x18e);}['getVertexE'+'lement'](_0x12ce06){var _0x3a70d0;return(_0x3a70d0=this['vertexForm'+'at'])==null?void(-0x2bf+-0x1a*0x163+0x26cd):_0x3a70d0['elements']['find'](_0xe4878=>_0xe4878['name']===_0x12ce06);}['generateKe'+'y'](_0x169ee3){var _0x13d77c;let _0x12409b=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x169ee3['isWebGPU']&&(_0x12409b+=(_0x13d77c=this['vertexForm'+'at'])==null?void(0x1*0x6f2+-0x2185+-0x1*-0x1a93):_0x13d77c['shaderProc'+'essingHash'+'String']),_0x12409b;}}const gv=new Kt();function Hn(_0x235b28){const _0x4b3e38=gv['get'](_0x235b28);return w['assert'](_0x4b3e38),_0x4b3e38;}function cE(_0x214c3b,_0x597d68){w['assert'](_0x597d68),gv['get'](_0x214c3b,()=>_0x597d68);}class ya{static['definesHas'+'h'](_0x3c30fa){const _0x1b2cec=Array['from'](_0x3c30fa)['sort']((_0x4b4b0,_0x2f28da)=>_0x4b4b0[-0x164+0x1cde*0x1+-0x2*0xdbd]>_0x2f28da[0x1065+0x11*-0x61+-0x4fa*0x2]?0x98b+-0x2542+-0x1bb8*-0x1:-(-0x2*-0x1053+-0x10b9*0x2+0xcd));return hi(JSON['stringify'](_0x1b2cec));}}const hE=new Kt();class dE{constructor(_0x4c5ffc,_0x4830cb,_0x5e3722={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x4c5ffc),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x4c5ffc),this['name']=_0x4c5ffc,this['index']=_0x4830cb,Object['assign'](this,_0x5e3722),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x441589;this['isShadow']?_0x441589='SHADOW':this['isForward']?_0x441589='FORWARD':this['index']===Zn&&(_0x441589='PICK'),this['defines']['set'](_0x441589+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x21bd+-0x1e98+-0x17f*-0x2b);const _0x3665b2=(_0x2ff908,_0x1f68c9,_0xc2f2a4)=>{const _0x2ff568=this['allocate'](_0x2ff908,_0xc2f2a4);w['assert'](_0x2ff568['index']===_0x1f68c9);};_0x3665b2('forward',Aa,{'isForward':!(-0x223d+0x907+0x1936)}),_0x3665b2('prepass',Rl),_0x3665b2('shadow',cm),_0x3665b2('pick',Zn);}static['get'](_0x2565ec){return w['assert'](_0x2565ec),hE['get'](_0x2565ec,()=>new Si());}['allocate'](_0xbdb953,_0x267560){let _0x58728e=this['passesName'+'d']['get'](_0xbdb953);return _0x58728e===void(0x12a+0x3e2+-0x50c)&&(_0x58728e=new dE(_0xbdb953,this['nextIndex'],_0x267560),this['passesName'+'d']['set'](_0x58728e['name'],_0x58728e),this['passesInde'+'xed'][_0x58728e['index']]=_0x58728e,this['nextIndex']++),_0x58728e;}['getByIndex'](_0x38ae0b){const _0x537dc3=this['passesInde'+'xed'][_0x38ae0b];return w['assert'](_0x537dc3),_0x537dc3;}['getByName'](_0x368f21){return this['passesName'+'d']['get'](_0x368f21);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0x32d+0x2659+0x9*-0x49d)),h(this,'_key','');}['set'](_0x5f1416,_0x4171bc){return(!this['has'](_0x5f1416)||this['get'](_0x5f1416)!==_0x4171bc)&&this['markDirty'](),super['set'](_0x5f1416,_0x4171bc);}['add'](_0x163582){for(const [_0x2e3102,_0x328aab]of Object['entries'](_0x163582))this['set'](_0x2e3102,_0x328aab);return this;}['delete'](_0x2fe310){const _0x45c8a6=this['has'](_0x2fe310),_0x31628c=super['delete'](_0x2fe310);return _0x45c8a6&&_0x31628c&&this['markDirty'](),_0x31628c;}['clear'](){this['size']>0x1*-0xef9+0xcf0*0x3+0x167*-0x11&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0xe8f*0x1+-0xd3*0x3+0x221*0x8),this['_keyDirty']=!(0x1*0xf88+0x121d*0x2+-0x2*0x19e1);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x41f+0x24d9*0x1+-0x28f7);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x734+-0x2507*-0x1+-0x16*0x15b),this['_key']=Array['from'](this['entries']())['sort'](([_0x4a986d],[_0xe8791c])=>_0x4a986d<_0xe8791c?-(-0xa0a+0x9f6+-0x3*-0x7):_0x4a986d>_0xe8791c?-0x2*0xd3+0x23d5+0x222e*-0x1:0x19*0x167+0x1*0x16ff+0x3a0e*-0x1)['map'](([_0x38c035,_0x3b6f00])=>_0x38c035+'='+hi(_0x3b6f00))['join'](',')),this['_key'];}['copy'](_0x1c6357){this['clear']();for(const [_0x3a3ae2,_0x3fb9b9]of _0x1c6357)this['set'](_0x3a3ae2,_0x3fb9b9);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x131914,_0x217cb6=Fe){const _0x3c7ad1=fE['get'](_0x131914,()=>new Pe());return _0x217cb6===Fe?_0x3c7ad1['glsl']:_0x3c7ad1['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x509*0x1+0x267+0x2a2||this['wgsl']['size']>-0x16e5*-0x1+-0x21cb+0xae6;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x4fc81f){return this['version']=_0x4fc81f['version'],this['glsl']['copy'](_0x4fc81f['glsl']),this['wgsl']['copy'](_0x4fc81f['wgsl']),this;}}class bh{static['merge'](..._0x47ba53){const _0x3a1bba=new Map(_0x47ba53[-0x15d7*-0x1+-0xc*-0x2+0x1*-0x15ef]??[]);for(let _0x1ad984=0x21f*0xd+0x1c81+-0x1d*0x1ef;_0x1ad984<_0x47ba53['length'];_0x1ad984++){const _0x1f0f88=_0x47ba53[_0x1ad984];if(_0x1f0f88){for(const [_0x3a5b0c,_0x41f6bf]of _0x1f0f88)_0x3a1bba['set'](_0x3a5b0c,_0x41f6bf);}}return _0x3a1bba;}}class uE extends ya{constructor(_0x43be70,_0x1514ac){super(),this['key']=_0x43be70,this['shaderDefi'+'nition']=_0x1514ac;}['generateKe'+'y'](_0x2b0696){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x423a17,_0x3e2b7f){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x2b00c6,_0x265d38){const _0x5e7860=Hn(_0x2b00c6);let _0x225173=_0x5e7860['getCachedS'+'hader'](_0x265d38['uniqueName']);if(!_0x225173){const _0x363912=_0x2b00c6['isWebGPU']&&(!!_0x265d38['vertexWGSL']||!!_0x265d38['vertexChun'+'k'])&&(!!_0x265d38['fragmentWG'+'SL']||!!_0x265d38['fragmentCh'+'unk']),_0x236792=Pe['get'](_0x2b00c6,_0x363912?it:Fe),_0x45f958=_0x265d38['vertexChun'+'k']?_0x236792['get'](_0x265d38['vertexChun'+'k']):_0x363912?_0x265d38['vertexWGSL']:_0x265d38['vertexGLSL'],_0x3054e6=_0x265d38['fragmentCh'+'unk']?_0x236792['get'](_0x265d38['fragmentCh'+'unk']):_0x363912?_0x265d38['fragmentWG'+'SL']:_0x265d38['fragmentGL'+'SL'];w['assert'](_0x45f958,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x265d38),w['assert'](_0x3054e6,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x265d38);const _0x231314=bh['merge'](_0x236792,_0x265d38['fragmentIn'+'cludes']),_0x426624=bh['merge'](_0x236792,_0x265d38['vertexIncl'+'udes']);_0x225173=new qy(_0x2b00c6,Jt['createDefi'+'nition'](_0x2b00c6,{'name':_0x265d38['uniqueName'],'shaderLanguage':_0x363912?it:Fe,'attributes':_0x265d38['attributes'],'vertexCode':_0x45f958,'fragmentCode':_0x3054e6,'useTransformFeedback':_0x265d38['useTransfo'+'rmFeedback'],'vertexIncludes':_0x426624,'vertexDefines':_0x265d38['vertexDefi'+'nes'],'fragmentIncludes':_0x231314,'fragmentDefines':_0x265d38['fragmentDe'+'fines'],'fragmentOutputTypes':_0x265d38['fragmentOu'+'tputTypes']})),_0x5e7860['setCachedS'+'hader'](_0x265d38['uniqueName'],_0x225173);}return _0x225173;}static['getCoreDef'+'ines'](_0x38573c,_0x18e381){const _0x3cc587=new Map(_0x38573c['defines']);return _0x18e381['cameraShad'+'erParams']['defines']['forEach']((_0x1cad92,_0x143a13)=>_0x3cc587['set'](_0x143a13,_0x1cad92)),Si['get'](_0x18e381['device'])['getByIndex'](_0x18e381['pass'])['defines']['forEach']((_0x4de948,_0x7605cd)=>_0x3cc587['set'](_0x7605cd,_0x4de948)),_0x3cc587;}static['processSha'+'der'](_0x15a5e7,_0x389f3a){w['assert'](_0x15a5e7);const _0x116901=_0x15a5e7['definition'],_0x9a1d74=(_0x116901['name']??'shader')+'-id-'+_0x15a5e7['id'],_0x3bb2e7=new uE(_0x9a1d74,_0x116901),_0x56099a='shader',_0x478e7d=Hn(_0x15a5e7['device']);w['assert'](!_0x478e7d['isRegister'+'ed'](_0x56099a)),_0x478e7d['register'](_0x56099a,_0x3bb2e7);const _0x31fa2c=_0x478e7d['getProgram'](_0x56099a,{},_0x389f3a);return _0x478e7d['unregister'](_0x56099a),_0x31fa2c;}static['addScreenD'+'epthChunkD'+'efines'](_0x4aed0c,_0x26a721,_0x88deac){_0x26a721['sceneDepth'+'MapLinear']&&_0x88deac['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x4aed0c['textureFlo'+'atRenderab'+'le']&&_0x88deac['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x40*0x2f+0x2*-0x110b+0x2dd7)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x4fb53b){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x559dbf=_0x4fb53b['device'];if(this['shader']=_0x4fb53b,w['assert'](_0x4fb53b),_0x559dbf['supportsUn'+'iformBuffe'+'rs']){const _0x345f04=new Ad();this['shader']=$t['processSha'+'der'](_0x4fb53b,_0x345f04);const _0x269a68=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x269a68&&(this['uniformBuf'+'fer']=new zp(_0x559dbf,_0x269a68,!(-0x5da+0x2092+-0x1ab7)));const _0x1c5f88=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x1c5f88),this['bindGroup']=new Up(_0x559dbf,_0x1c5f88),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x183c4b,_0x1e7a47;(_0x183c4b=this['uniformBuf'+'fer'])==null||_0x183c4b['destroy'](),this['uniformBuf'+'fer']=null,(_0x1e7a47=this['bindGroup'])==null||_0x1e7a47['destroy'](),this['bindGroup']=null;}['render'](_0x3fa229,_0x1085f2){const _0x4d0abc=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x4d0abc,'QuadRender'),_0x3fa229&&(so['set'](_0x4d0abc['vx'],_0x4d0abc['vy'],_0x4d0abc['vw'],_0x4d0abc['vh']),io['set'](_0x4d0abc['sx'],_0x4d0abc['sy'],_0x4d0abc['sw'],_0x4d0abc['sh']),_0x1085f2=_0x1085f2??_0x3fa229,_0x4d0abc['setViewpor'+'t'](_0x3fa229['x'],_0x3fa229['y'],_0x3fa229['z'],_0x3fa229['w']),_0x4d0abc['setScissor'](_0x1085f2['x'],_0x1085f2['y'],_0x1085f2['z'],_0x1085f2['w'])),_0x4d0abc['setVertexB'+'uffer'](_0x4d0abc['quadVertex'+'Buffer'],0x1*-0x1af3+-0x1*-0xd55+-0x15*-0xa6);const _0x2d15ab=this['shader'];if(_0x4d0abc['setShader'](_0x2d15ab),_0x4d0abc['supportsUn'+'iformBuffe'+'rs']){_0x4d0abc['setBindGro'+'up'](rl,_0x4d0abc['emptyBindG'+'roup']);const _0x38de04=this['bindGroup'];_0x38de04['update'](),_0x4d0abc['setBindGro'+'up'](Oy,_0x38de04);const _0xa9faa2=this['uniformBuf'+'fer'];_0xa9faa2?(_0xa9faa2['update'](Gd),_0x4d0abc['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x4d0abc['setBindGro'+'up'](su,_0x4d0abc['emptyBindG'+'roup']);}_0x4d0abc['draw'](pE),_0x3fa229&&(_0x4d0abc['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x4d0abc['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x4d0abc);}}class mE extends ys{constructor(_0x466a35,_0x192671,_0x83056e,_0x4c517a){super(_0x466a35),this['quad']=_0x192671,this['rect']=_0x83056e,this['scissorRec'+'t']=_0x4c517a;}['execute'](){const {device:_0xe5b74d}=this;Q['pushGpuMar'+'ker'](_0xe5b74d,this['name']+':'+this['quad']['shader']['name']),_0xe5b74d['setCullMod'+'e'](bt),_0xe5b74d['setDepthSt'+'ate'](Yt['NODEPTH']),_0xe5b74d['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0xe5b74d);}}const _E=new re();function Ar(_0x41b950,_0x4a9873,_0x2ebe79,_0x3436fc,_0x5d7bca){w['assert'](_0x4a9873!==void(-0xb34+0x48f+-0x1b*-0x3f));const _0x152892=arguments[0x9*-0x293+0x453+0x1*0x12dd];w['call'](()=>{_0x152892!==void(0xd52+0x8de*0x3+-0x49*0x8c)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x548d73=new Ah(_0x2ebe79);_0x3436fc||(_0x3436fc=_E,_0x3436fc['x']=0x1*-0x1b7a+0x2*-0xd1+0x6*0x4da,_0x3436fc['y']=0x53+-0x1fda+-0x7*-0x481,_0x3436fc['z']=_0x4a9873?_0x4a9873['width']:_0x41b950['width'],_0x3436fc['w']=_0x4a9873?_0x4a9873['height']:_0x41b950['height']);const _0x2fde41=new mE(_0x41b950,_0x548d73,_0x3436fc,_0x5d7bca);_0x2fde41['init'](_0x4a9873),_0x2fde41['colorOps']['clear']=!(-0x1977+-0x21b3+0x3b2b),_0x2fde41['depthStenc'+'ilOps']['clearDepth']=!(0x3*-0x924+0x1e9b+0x32e*-0x1),_0x41b950['isWebGPU']&&_0x4a9873===null&&_0x41b950['samples']>-0x1dcf+-0x71*0x11+0x2551&&(_0x2fde41['colorOps']['store']=!(-0x226b+0x159*0x1+0xb06*0x3)),_0x2fde41['render'](),_0x548d73['destroy']();}class g_{constructor(_0x5ca05b,_0x3f59c4,_0x1330e5){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x5ca05b,this['dynamic']=_0x3f59c4,this['batchGroup'+'Id']=_0x1330e5);}['destroy'](_0x1e1cca,_0x3dfef6){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x1e1cca,_0x3dfef6),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0xdae683,_0x50bc1b){for(let _0x15f0d9=-0x1*0x1619+-0x22a9*-0x1+-0xc90;_0x15f0d9<_0x50bc1b['length'];_0x15f0d9++){const _0x52d871=_0xdae683['layers']['getLayerBy'+'Id'](_0x50bc1b[_0x15f0d9]);_0x52d871&&_0x52d871['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x3fe7d2,_0x97e5ee){for(let _0x2c070d=0x1*-0x62e+0x5d6*0x1+-0x58*-0x1;_0x2c070d<_0x97e5ee['length'];_0x2c070d++){const _0x3176d1=_0x3fe7d2['layers']['getLayerBy'+'Id'](_0x97e5ee[_0x2c070d]);_0x3176d1&&_0x3176d1['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x100+0x24b9+-0x25b9]['aabb']);for(let _0x257184=0x1f09+0x2249+-0x4151;_0x257184<this['origMeshIn'+'stances']['length'];_0x257184++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x257184]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x7d*0x28+-0x2*-0x10d2+-0xe1c;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x3f26e6,_0x2a3634,_0x5deb5c,_0x132a24,_0x567e4f=[er]){h(this,'_ui',!(-0x15cd+0xca*0x10+0x92e)),h(this,'_sprite',!(0x2588+-0x164*-0x5+-0x2c7b)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x3f26e6,this['name']=_0x2a3634,this['dynamic']=_0x5deb5c,this['maxAabbSiz'+'e']=_0x132a24,this['layers']=_0x567e4f);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x16b9b4){h(this,'bones'),(this['_dirty']=!(-0xa5d+0x8c9+0x1*0x194),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0xb3*-0x2c+-0x25*0xad+0xf2*0x3b),this['_updateBef'+'oreCull']=!(-0xf5b+-0x228f+-0x18f5*-0x2),_0x16b9b4&&this['initSkin'](_0x16b9b4));}set['rootBone'](_0x312a51){this['_rootBone']=_0x312a51;}get['rootBone'](){return this['_rootBone'];}['init'](_0x22691e,_0x125457){const _0x42f497=_0x125457*(0xe*0x7+0x804+0x863*-0x1);let _0x33d8e5=Math['ceil'](Math['sqrt'](_0x42f497));_0x33d8e5=Y['roundUp'](_0x33d8e5,-0x1*-0x1d02+0x2040+-0x3d3f*0x1);const _0x358a38=Math['ceil'](_0x42f497/_0x33d8e5);this['boneTextur'+'e']=new _e(_0x22691e,{'width':_0x33d8e5,'height':_0x358a38,'format':Xt,'mipmaps':!(0xc68*-0x2+-0x1*-0x7c9+-0x5*-0x368),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x47749a,_0xb0806c){this['rootBone']=_0x47749a;const _0x4492d3=this['skin'],_0x557ae5=[];for(let _0x414c6e=0x1a77+-0x13d0+-0x6a7;_0x414c6e<_0x4492d3['boneNames']['length'];_0x414c6e++){const _0x3c62e4=_0x4492d3['boneNames'][_0x414c6e];let _0x2a9c1f=_0x47749a['findByName'](_0x3c62e4);_0x2a9c1f||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x3c62e4+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0xb0806c['name']+(',\x20rootBone'+':\x20')+_0x47749a['name']),_0x2a9c1f=_0xb0806c),_0x557ae5['push'](_0x2a9c1f);}this['bones']=_0x557ae5;}['initSkin'](_0x365626){this['skin']=_0x365626,this['bones']=[];const _0x342ad8=_0x365626['inverseBin'+'dPose']['length'];this['init'](_0x365626['device'],_0x342ad8),this['matrices']=[];for(let _0x5d0194=0x159*-0xd+0x2504+0x2c9*-0x7;_0x5d0194<_0x342ad8;_0x5d0194++)this['matrices'][_0x5d0194]=new te();}['uploadBone'+'s'](_0xba16e0){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x1be59c,_0x22563c){if(this['_skinUpdat'+'eIndex']!==_0x22563c){this['_skinUpdat'+'eIndex']=_0x22563c,S_['copy'](_0x1be59c['getWorldTr'+'ansform']())['invert']();for(let _0x5e45fc=this['bones']['length']-(0x2189+0x19b4+-0x2*0x1d9e);_0x5e45fc>=-0x52d*-0x5+0xa3*-0x23+-0x398;_0x5e45fc--)this['matrices'][_0x5e45fc]['mulAffine2'](S_,this['bones'][_0x5e45fc]['getWorldTr'+'ansform']()),this['matrices'][_0x5e45fc]['mulAffine2'](this['matrices'][_0x5e45fc],this['skin']['inverseBin'+'dPose'][_0x5e45fc]);}}['updateMatr'+'ices'](_0x26242f,_0xdf693c){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x26242f,_0xdf693c);}['updateMatr'+'ixPalette'](_0x2e0b4e,_0x56d029){this['_updateMat'+'rices'](_0x2e0b4e,_0x56d029);const _0x320818=this['matrixPale'+'tte'],_0x185dd4=this['bones']['length'];for(let _0x311def=-0x15*-0xc8+0x770*-0x1+-0x8f8;_0x311def<_0x185dd4;_0x311def++){const _0x5ebc6e=this['matrices'][_0x311def]['data'],_0x198605=_0x311def*(0x1823*0x1+-0x22b4+0xa9d);_0x320818[_0x198605]=_0x5ebc6e[0x2d0+-0x2*-0xaed+0x29*-0x9a],_0x320818[_0x198605+(-0x122b*-0x1+0x12b4+-0x24de)]=_0x5ebc6e[0x67b+-0x1*-0x21f8+-0x286f],_0x320818[_0x198605+(0xdd3*-0x1+-0x2a1+0x7*0x25a)]=_0x5ebc6e[0x2*0x91d+-0x23*0x26+0x100*-0xd],_0x320818[_0x198605+(-0x138e+0x216*0x11+-0xfe5)]=_0x5ebc6e[0x725*-0x1+-0x53*0x51+0x4*0x85d],_0x320818[_0x198605+(-0x2ba+-0x1c04+0x1ec2)]=_0x5ebc6e[0x69*0x2+0x1*0x1acd+-0x1b9e],_0x320818[_0x198605+(0x268a+0xf3*-0x16+0x2b*-0x69)]=_0x5ebc6e[-0x40a+0x1*0x13eb+-0xe*0x122],_0x320818[_0x198605+(0x47*-0x7+0x105+0xf2)]=_0x5ebc6e[-0x12fe+0x2f5+0x2*0x809],_0x320818[_0x198605+(0x2111+-0x2084+-0x86)]=_0x5ebc6e[-0x188f+-0xb*-0x16f+0x8d7],_0x320818[_0x198605+(-0x92a*0x4+0x7*0x176+0x1a76)]=_0x5ebc6e[-0x1*0x265b+0x1bf+0x249e],_0x320818[_0x198605+(0x1540+-0x219+-0x131e)]=_0x5ebc6e[0x44*-0x79+-0x16bb+-0x17*-0x263],_0x320818[_0x198605+(-0x15ba+0x82+0x1542)]=_0x5ebc6e[0x614*0x1+0x86*-0x1+-0x584],_0x320818[_0x198605+(-0x1385+-0x2*0x860+0x2450)]=_0x5ebc6e[-0x2190+0xc28+-0x52*-0x43];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x106f2e,_0x793089,_0x44e03c){super();const _0x72eea5=_0x793089['length'];this['init'](_0x106f2e,_0x72eea5),this['device']=_0x106f2e,this['rootNode']=_0x44e03c,this['bones']=_0x793089;}['updateMatr'+'ices'](_0x41f450,_0x1d52cc){}['updateMatr'+'ixPalette'](_0xa5ac1c,_0x58d48c){const _0x23a7be=this['matrixPale'+'tte'],_0xbb5490=this['bones']['length'];for(let _0x45e4d0=-0x2485*-0x1+0xfb*-0x2+-0x3*0xb85;_0x45e4d0<_0xbb5490;_0x45e4d0++){const _0x4214f9=this['bones'][_0x45e4d0]['getWorldTr'+'ansform']()['data'],_0x2a911f=_0x45e4d0*(-0x80e*-0x3+0x4ee+-0x743*0x4);_0x23a7be[_0x2a911f]=_0x4214f9[-0x467+0x8+-0x45f*-0x1],_0x23a7be[_0x2a911f+(0x210+-0x71d+0x50e)]=_0x4214f9[-0x1*-0x23c9+0x1057*0x1+-0x5*0xa6c],_0x23a7be[_0x2a911f+(0xa99*-0x3+0x4f2+0x1adb)]=_0x4214f9[0x2de+-0x1122+-0x7a*-0x1e],_0x23a7be[_0x2a911f+(0x20f2+0xaef+-0x5*0x8c6)]=_0x4214f9[0x1*-0x2377+0x34e+0x2035],_0x23a7be[_0x2a911f+(0x19a8+0x113*0x1a+0x3592*-0x1)]=_0x4214f9[0x1079+-0x22a7+0x122f*0x1],_0x23a7be[_0x2a911f+(-0x1*-0x2401+-0x3*0xc9b+-0x7*-0x43)]=_0x4214f9[-0x1*-0x279+0x5d5*0x4+-0x19c8],_0x23a7be[_0x2a911f+(0x24d8+0x602*-0x6+0x63*-0x2)]=_0x4214f9[-0xe68+0xe0a+0x1*0x67],_0x23a7be[_0x2a911f+(0xa19+0x1*0x1de1+-0x1*0x27f3)]=_0x4214f9[-0x16f6+0x3*0xaf9+-0x9e8],_0x23a7be[_0x2a911f+(0x1*0x1c4f+-0xf08+-0xd3f)]=_0x4214f9[0x6dc+0x1e93*0x1+-0xd*0x2e1],_0x23a7be[_0x2a911f+(-0x1eb3*-0x1+0xf*-0x261+0x101*0x5)]=_0x4214f9[0x3c8*-0x4+0x1*0x73a+0x7ec],_0x23a7be[_0x2a911f+(0x1*-0x73+0x868*0x4+-0x2123*0x1)]=_0x4214f9[-0x65*0x7+-0x1c0f+0x1edc],_0x23a7be[_0x2a911f+(0x650*-0x2+0x1898+-0xbed)]=_0x4214f9[0x1006+-0x1b5e*-0x1+0x6*-0x739];}this['uploadBone'+'s'](this['device']);}}let gE=0xaef+-0x308+-0x77*0x11;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x3d3+-0x1*-0x2e7+0xed),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=0x9bc+0x100a+-0xce3*0x2,this['maxIndices']=0x7f7+0xfee*-0x2+0x17e5,this['vertexCoun'+'t']=0x1*0x46f+-0x1368+0xef9,this['indexCount']=0x1*-0x16ee+-0x1b*0x35+0x31*0x95,this['vertexStre'+'amsUpdated']=!(0x228f+-0x8f4+-0x199a),this['indexStrea'+'mUpdated']=!(0x133a+-0x71*-0x4a+-0x1*0x33e3),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x569c66,_0x58d26d){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x569c66,'Vertex\x20str'+'eam\x20'+_0x58d26d+'\x20has\x20'+_0x569c66+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x569c66;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1*-0x2aa+0x1*0x1337+-0x15de),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x1*0x1c8d+-0x11ef+0x2e7f),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x224*-0x7+0x77+-0x1*0xf71),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x86f+-0x474+0xce7*0x1);class SE{constructor(_0xd04be5,_0x16bbfe,_0x5c50c7,_0x20f9df,_0xd0791e){this['data']=_0xd04be5,this['componentC'+'ount']=_0x16bbfe,this['dataType']=_0x5c50c7,this['dataTypeNo'+'rmalize']=_0x20f9df,this['asInt']=_0xd0791e;}}class Ge extends wd{constructor(_0x558773,_0x57f287){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x235d*-0x1+-0x2ab*-0x4+0x935*-0x5),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x1*0x3ba+-0x1753*-0x1+-0x98*0x21)),h(this,'_storageVe'+'rtex',!(0x75*0x1d+-0x93*-0x43+-0x33b9*0x1)),(this['id']=gE++,w['assert'](_0x558773,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x558773,this['_storageIn'+'dex']=(_0x57f287==null?void(-0x1*0x1d8a+-0x1a71*0x1+-0x12a9*-0x3):_0x57f287['storageInd'+'ex'])||!(0x499+0xc85+-0x111d),this['_storageVe'+'rtex']=(_0x57f287==null?void(0x1077+-0x1835+0x3df*0x2):_0x57f287['storageVer'+'tex'])||!(0xf7a+-0x536+-0x1*0xa43));}static['fromGeomet'+'ry'](_0x5db09d,_0x4c5db0,_0x5c80c6={}){const _0x344058=new Ge(_0x5db09d,_0x5c80c6),{positions:_0x529a34,normals:_0x50b27b,tangents:_0x386e32,colors:_0x18027e,uvs:_0x84fe36,uvs1:_0xe15e68,blendIndices:_0x56e728,blendWeights:_0x472989,indices:_0x4dd82c}=_0x4c5db0;return _0x529a34&&_0x344058['setPositio'+'ns'](_0x529a34),_0x50b27b&&_0x344058['setNormals'](_0x50b27b),_0x386e32&&_0x344058['setVertexS'+'tream'](yi,_0x386e32,0x2*0x52a+-0x17ac+-0x4*-0x357),_0x18027e&&_0x344058['setColors3'+'2'](_0x18027e),_0x84fe36&&_0x344058['setUvs'](-0xc51+0x114d+0x16*-0x3a,_0x84fe36),_0xe15e68&&_0x344058['setUvs'](-0xdeb+0x1619+0x1*-0x82d,_0xe15e68),_0x56e728&&_0x344058['setVertexS'+'tream'](us,_0x56e728,-0xa*0x56+0x5*-0x6e3+0x25cf,_0x56e728['length']/(0x1b93+0x563*0x7+-0x1*0x4144),la),_0x472989&&_0x344058['setVertexS'+'tream'](gi,_0x472989,-0x1*0x13e5+-0x1b4f+-0x2f38*-0x1),_0x4dd82c&&_0x344058['setIndices'](_0x4dd82c),_0x344058['update'](),_0x344058;}set['morph'](_0x2a231a){_0x2a231a!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x2a231a,_0x2a231a&&_0x2a231a['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x4e2721){this['_aabb']=_0x4e2721,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x46be26=this['morph'];_0x46be26&&(this['morph']=null,_0x46be26['refCount']<-0x36*-0x87+-0x305*-0xb+-0x3db0&&_0x46be26['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x486103=0x1f*0x11+0x1cc8+-0x1ed7;_0x486103<this['indexBuffe'+'r']['length'];_0x486103++)this['_destroyIn'+'dexBuffer'](_0x486103);this['indexBuffe'+'r']['length']=0x1ab8+0xe8*0x19+-0x3160,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x2d1c96){this['indexBuffe'+'r'][_0x2d1c96]&&(this['indexBuffe'+'r'][_0x2d1c96]['destroy'](),this['indexBuffe'+'r'][_0x2d1c96]=null);}['_initBoneA'+'abbs'](_0x561786){this['boneAabb']=[],this['boneUsed']=[];let _0x27a7a2,_0x2251d8,_0x119875,_0x2a28c0,_0x335bb9;const _0x50cb26=[],_0x5367a9=[],_0x3f9867=this['boneUsed'],_0xd6823d=this['skin']['boneNames']['length'];let _0x127e2b,_0x36f723,_0x18a17b;for(let _0x1e039d=-0x116d+0x23ce+-0x1261;_0x1e039d<_0xd6823d;_0x1e039d++)_0x50cb26[_0x1e039d]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x5367a9[_0x1e039d]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x136414=new Uo(this['vertexBuff'+'er']),_0x25ec6b=_0x136414['element'][Me],_0x33240b=_0x136414['element'][gi],_0xffa66e=_0x136414['element'][us],_0x2ceede=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x50d331=0x9e5*0x1+-0x2d1*0x8+0xca3;_0x50d331<_0x2ceede;_0x50d331++){for(let _0x1f8c12=0x26da+-0x1b3f*0x1+-0xb9b;_0x1f8c12<-0x17a5*0x1+-0x2583+-0x366*-0x12;_0x1f8c12++)if(_0x33240b['array'][_0x33240b['index']+_0x1f8c12]>-0x8b*-0x1+0x31*-0x7+0x2*0x66){const _0x2d8dff=_0xffa66e['array'][_0xffa66e['index']+_0x1f8c12];if(_0x3f9867[_0x2d8dff]=!(-0x5b5+-0x1*-0xdc9+-0x814),_0x27a7a2=_0x25ec6b['array'][_0x25ec6b['index']],_0x2251d8=_0x25ec6b['array'][_0x25ec6b['index']+(-0x1974+0x5e7*0x2+0xda7)],_0x119875=_0x25ec6b['array'][_0x25ec6b['index']+(-0x1c86+0x1*0x65b+-0x162d*-0x1)],_0x2a28c0=_0x5367a9[_0x2d8dff],_0x335bb9=_0x50cb26[_0x2d8dff],_0x335bb9['x']>_0x27a7a2&&(_0x335bb9['x']=_0x27a7a2),_0x335bb9['y']>_0x2251d8&&(_0x335bb9['y']=_0x2251d8),_0x335bb9['z']>_0x119875&&(_0x335bb9['z']=_0x119875),_0x2a28c0['x']<_0x27a7a2&&(_0x2a28c0['x']=_0x27a7a2),_0x2a28c0['y']<_0x2251d8&&(_0x2a28c0['y']=_0x2251d8),_0x2a28c0['z']<_0x119875&&(_0x2a28c0['z']=_0x119875),_0x561786){let _0x465fed=_0x127e2b=_0x27a7a2,_0x4f0328=_0x36f723=_0x2251d8,_0x4ac6dd=_0x18a17b=_0x119875;for(let _0x45d2d8=-0x127f+0x1156+0x1*0x129;_0x45d2d8<_0x561786['length'];_0x45d2d8++){const _0x38f91d=_0x561786[_0x45d2d8],_0x2583e3=_0x38f91d['deltaPosit'+'ions'][_0x50d331*(-0x8*0x366+-0x1a22+-0x6f*-0x7b)],_0xb2ddd5=_0x38f91d['deltaPosit'+'ions'][_0x50d331*(0x1*-0x9fa+0x1478+-0xa7b)+(0x14d3+0x1bee+-0x30c0)],_0x5eba67=_0x38f91d['deltaPosit'+'ions'][_0x50d331*(0x19*0x124+0x9*0x3+-0x1c9c)+(-0x1*-0xa3b+0x355*-0x9+-0xa*-0x1fa)];_0x2583e3<-0x3ed*-0x1+-0x2*0x74f+0xab1?_0x465fed+=_0x2583e3:_0x127e2b+=_0x2583e3,_0xb2ddd5<-0x1*0x9fd+0x1951+0x28e*-0x6?_0x4f0328+=_0xb2ddd5:_0x36f723+=_0xb2ddd5,_0x5eba67<0x654+-0x257f*0x1+0x1f2b?_0x4ac6dd+=_0x5eba67:_0x18a17b+=_0x5eba67;}_0x335bb9['x']>_0x465fed&&(_0x335bb9['x']=_0x465fed),_0x335bb9['y']>_0x4f0328&&(_0x335bb9['y']=_0x4f0328),_0x335bb9['z']>_0x4ac6dd&&(_0x335bb9['z']=_0x4ac6dd),_0x2a28c0['x']<_0x127e2b&&(_0x2a28c0['x']=_0x127e2b),_0x2a28c0['y']<_0x36f723&&(_0x2a28c0['y']=_0x36f723),_0x2a28c0['z']<_0x18a17b&&(_0x2a28c0['z']=_0x18a17b);}}_0x136414['next']();}const _0xcda4fe=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x954352=>_0x954352['name']===Me);if(_0xcda4fe&&_0xcda4fe['normalize']){const _0xd44a83=((()=>{switch(_0xcda4fe['dataType']){case dd:return _0x44dfa7=>Math['max'](_0x44dfa7/(0x1db1+0xefb+-0x2c2d),-(0x9ef*0x1+0x2*0xf4f+0x14*-0x207));case la:return _0x4909b3=>_0x4909b3/(-0x261a+-0x140*0x1+0x21*0x139);case fd:return _0x4ece71=>Math['max'](_0x4ece71/(0xe37+0x2192+0x5036),-(-0x221b+0x368*0x1+0x1eb4));case Ml:return _0x1044ba=>_0x1044ba/(0xac74+-0x1df7a+-0xb*-0x332f);default:return _0x2d70bc=>_0x2d70bc;}})());for(let _0x42a77b=-0x445*-0x1+0x15b1+-0x19f6*0x1;_0x42a77b<_0xd6823d;_0x42a77b++)if(_0x3f9867[_0x42a77b]){const _0x557716=_0x50cb26[_0x42a77b],_0x16462e=_0x5367a9[_0x42a77b];_0x557716['set'](_0xd44a83(_0x557716['x']),_0xd44a83(_0x557716['y']),_0xd44a83(_0x557716['z'])),_0x16462e['set'](_0xd44a83(_0x16462e['x']),_0xd44a83(_0x16462e['y']),_0xd44a83(_0x16462e['z']));}}for(let _0x3d6a54=0xe3b+-0x5d1*0x1+-0x86a;_0x3d6a54<_0xd6823d;_0x3d6a54++){const _0x3ef3a0=new De();_0x3ef3a0['setMinMax'](_0x50cb26[_0x3d6a54],_0x5367a9[_0x3d6a54]),this['boneAabb']['push'](_0x3ef3a0);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1681+-0x1847+0xe3*0x2&&this['indexBuffe'+'r'][-0x1dd9*-0x1+0x20*-0x105+0x4f*0x9]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x2b*0xd+0x131b*0x2+0xd77*-0x3]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x1992+-0x1013+-0xdd*0xb]['numIndices']));}['clear'](_0x58b63e,_0x4a8913,_0x4e3d6b=0x10a7+0x20ef+-0x3196,_0x8ce612=-0x3*-0x22+-0x1c72+-0x4*-0x703){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x131b+-0x2e5+0xb0*0x20),this['_geometryD'+'ata']['maxVertice'+'s']=_0x4e3d6b,this['_geometryD'+'ata']['maxIndices']=_0x8ce612,this['_geometryD'+'ata']['verticesUs'+'age']=_0x58b63e?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x4a8913?ms:lh;}['setVertexS'+'tream'](_0x1421ce,_0x3a2ccc,_0x137de8,_0x446668,_0xfb5872=Ve,_0xc00bec=!(-0x1*-0xef+-0x12da+0x3e*0x4a),_0xa32556=!(0xf38+-0x1ecf+-0x1*-0xf98)){this['_initGeome'+'tryData']();const _0x4d5c7f=_0x446668||_0x3a2ccc['length']/_0x137de8;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x4d5c7f,_0x1421ce),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x20b4+-0x3*0x429+0x2d2f),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1421ce]=new SE(_0x3a2ccc,_0x137de8,_0xfb5872,_0xc00bec,_0xa32556);}['getVertexS'+'tream'](_0x9588e2,_0x3e6af4){let _0x740a97=0x7*-0x2d2+-0xb7*0xd+0x1d09,_0x1badcb=!(0x3*0x1c4+-0x37d+-0x9a*0x3);if(this['_geometryD'+'ata']){const _0x2c2ca2=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x9588e2];_0x2c2ca2&&(_0x1badcb=!(0x1c42+-0x78e*0x3+0x166*-0x4),_0x740a97=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x3e6af4)?_0x3e6af4['set'](_0x2c2ca2['data']):(_0x3e6af4['length']=-0xe91+0x48e+0xa03,_0x3e6af4['push'](_0x2c2ca2['data'])));}return _0x1badcb||this['vertexBuff'+'er']&&(_0x740a97=new Uo(this['vertexBuff'+'er'])['readData'](_0x9588e2,_0x3e6af4)),_0x740a97;}['setPositio'+'ns'](_0x485328,_0x1931d5=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x8fa30a){this['setVertexS'+'tream'](Me,_0x485328,_0x1931d5,_0x8fa30a,Ve,!(-0x2*0x3ad+0xca1+-0x546));}['setNormals'](_0x49b54e,_0x39e5af=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x287008){this['setVertexS'+'tream'](gs,_0x49b54e,_0x39e5af,_0x287008,Ve,!(-0x1e22+-0x60*0x7+0x20c3));}['setUvs'](_0x5c732e,_0x58643f,_0x22789c=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x5c35dd){this['setVertexS'+'tream'](zm+_0x5c732e,_0x58643f,_0x22789c,_0x5c35dd,Ve,!(0x1837*0x1+0xa25+-0x225b));}['setColors'](_0x75b435,_0x14379a=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2f45c1){this['setVertexS'+'tream'](Wt,_0x75b435,_0x14379a,_0x2f45c1,Ve,!(-0x29c*-0xa+-0x2*0x37f+-0x1319));}['setColors3'+'2'](_0x17b287,_0x3dd057){this['setVertexS'+'tream'](Wt,_0x17b287,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3dd057,la,!(0x1*-0xb19+0x13*-0x163+0x2572*0x1));}['setIndices'](_0x46385b,_0x2e5093){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x180e+0xc41*0x1+-0x244f),this['_geometryD'+'ata']['indices']=_0x46385b,this['_geometryD'+'ata']['indexCount']=_0x2e5093||_0x46385b['length'];}['getPositio'+'ns'](_0x16e260){return this['getVertexS'+'tream'](Me,_0x16e260);}['getNormals'](_0x368c15){return this['getVertexS'+'tream'](gs,_0x368c15);}['getUvs'](_0x157b7e,_0x23fd64){return this['getVertexS'+'tream'](zm+_0x157b7e,_0x23fd64);}['getColors'](_0x337776){return this['getVertexS'+'tream'](Wt,_0x337776);}['getIndices'](_0x15f375){let _0x3fd720=0x13af+-0x171d*-0x1+-0xb*0x3e4;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x56c117=this['_geometryD'+'ata']['indices'];if(_0x3fd720=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x15f375))_0x15f375['set'](_0x56c117);else{_0x15f375['length']=0x17e0+0x201*-0x7+-0x9d9*0x1;for(let _0x4e61e4=0x66*-0x53+0x13fb+0xd17,_0x4eaa8d=_0x56c117['length'];_0x4e61e4<_0x4eaa8d;_0x4e61e4++)_0x15f375['push'](_0x56c117[_0x4e61e4]);}}else this['indexBuffe'+'r']['length']>-0x637*-0x4+0x558*-0x4+0x37c*-0x1&&this['indexBuffe'+'r'][0x1a*0x153+-0x6e5*-0x1+0x95*-0x47]&&(_0x3fd720=this['indexBuffe'+'r'][-0x161*-0x13+-0x1627+0x7*-0x94]['readData'](_0x15f375));return _0x3fd720;}['update'](_0x574994=js,_0x34b7b7=!(-0xe41+-0x65*0x3b+-0x12c4*-0x2)){if(this['_geometryD'+'ata']){if(_0x34b7b7){const _0x37c9ce=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x37c9ce&&_0x37c9ce['componentC'+'ount']===0xfe7+0x2309+-0x32ed&&(this['_aabb']['compute'](_0x37c9ce['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x42062f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x42062f=!(0x1b6a+-0x109e+-0xacc),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x42062f&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x382ee5=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x382ee5=!(0x2116+0x5*0x4cf+-0x3921),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x382ee5&&this['indexBuffe'+'r']['length']>-0x5*-0x48b+-0x1*-0x266f+-0x3d26&&this['indexBuffe'+'r'][0x128b*-0x1+-0x1db+-0x2ea*-0x7]&&(this['indexBuffe'+'r'][0xb*-0x2ba+-0xf9a+0x2d98]['destroy'](),this['indexBuffe'+'r'][0x2*0x2e7+0x14f9+0x55b*-0x5]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x3*0x14d+0x1*0xcb5+0x1*-0x109c]['type']=_0x574994,this['indexBuffe'+'r']['length']>0xfe*-0x7+-0x1213+0x3d*0x69&&this['indexBuffe'+'r'][-0x1a96+0x1*0x241a+-0xc*0xcb]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x1619*-0x1+0x1af9+0x18*-0x34]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x14f+0x629*-0x3+0x112c]['indexed']=!(-0x195a+-0x2603*-0x1+-0xca9)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x2aa*-0xd+-0x3*-0x5eb+0x10e1]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x22fc+0x244b+0x5*-0x43]['indexed']=!(0x1212+0x1*0x1ea3+-0x103c*0x3)),this['_geometryD'+'ata']['vertexCoun'+'t']=0xa21+0x25c0+-0x2fe1,this['_geometryD'+'ata']['indexCount']=0x82*0x1d+-0x18c1+-0x11*-0x97,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1*-0x19a3+-0x145d+0x2e01*0x1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x2490+0x1b21+0x970),this['_geometryD'+'ata']['recreate']=!(-0x994+-0x1*-0xfc7+-0x632),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x13d4db){const _0x1ff338=[];for(const _0x5ecd8e in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3cb79b=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5ecd8e];_0x1ff338['push']({'semantic':_0x5ecd8e,'components':_0x3cb79b['componentC'+'ount'],'type':_0x3cb79b['dataType'],'normalize':_0x3cb79b['dataTypeNo'+'rmalize'],'asInt':_0x3cb79b['asInt']});}return new kt(this['device'],_0x1ff338,_0x13d4db);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x12628e=this['_geometryD'+'ata']['maxVertice'+'s'],_0x22d11d=this['_buildVert'+'exFormat'](_0x12628e);this['vertexBuff'+'er']=new Is(this['device'],_0x22d11d,_0x12628e,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x116d28=new Uo(this['vertexBuff'+'er']),_0x6af944=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x24f34e in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1b8ef3=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x24f34e];_0x116d28['writeData'](_0x24f34e,_0x1b8ef3['data'],_0x6af944),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x24f34e];}_0x116d28['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x1d*0x35+0x2435+0x4*-0x78d||!this['indexBuffe'+'r'][-0x711+0x1*0x12b3+-0xba2]){const _0x1682e1=this['_geometryD'+'ata']['maxVertice'+'s'],_0x457f03=_0x1682e1>-0x6550*-0x4+0x8112*0x3+0x46f*-0x79||_0x1682e1===0x18b1+0x26c+-0x1b1d?wr:Yi,_0x1559db=this['_storageIn'+'dex']?{'storage':!(-0x1f76*-0x1+-0xc3c+-0x1*0x133a)}:void(0x24f+0x52*0x11+-0x1*0x7c1);this['indexBuffe'+'r'][-0xe73+-0x14f0+0x1*0x2363]=new br(this['device'],_0x457f03,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0xdd4+-0x14b6+-0x371*-0x2),_0x1559db);}const _0x19146b=this['_geometryD'+'ata']['indices'];_0x19146b&&(this['indexBuffe'+'r'][-0x114d+-0x1695+-0x7fa*-0x5]['writeData'](_0x19146b,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x46dbd4){_0x46dbd4===$r?this['generateWi'+'reframe']():_0x46dbd4===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x21d1+-0x1175+-0x105c,'indexed':!(0x962*-0x1+-0x1d04+0x2667)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x2c61a6=this['vertexBuff'+'er']['numVertice'+'s'],_0x71c752=[];let _0xe920a9;if(this['indexBuffe'+'r']['length']>0x81f*0x2+0x4*0x98+0x1*-0x129e&&this['indexBuffe'+'r'][-0x1de*0x11+0xf29*0x1+0x1095]){const _0x58377c=[[0x78*-0x3e+0x12e3*-0x1+-0x5*-0x997,-0x12af*0x2+-0xb5*0x6+0x299d],[-0x1881*0x1+0x1855+0x2d,-0xe7+-0x35*-0x37+-0x1bf*0x6],[-0x1*0x1607+-0x24b3+0x7*0x864,0x5bb+0x11f8+-0x1*0x17b3]],_0x2a502f=this['primitive'][un]['base'],_0xcf5b9a=this['primitive'][un]['count'],_0x313b50=this['primitive'][un]['baseVertex']||0x1a13+-0x1*-0x1e13+-0x3826,_0xff10c9=this['indexBuffe'+'r'][un],_0x4eb6ca=new Sh[_0xff10c9['format']](_0xff10c9['storage']),_0x3b8492=new Set();for(let _0x992d19=_0x2a502f;_0x992d19<_0x2a502f+_0xcf5b9a;_0x992d19+=-0x1*-0x359+0xb*0x29f+-0x202b)for(let _0x313fc3=-0x115*-0x7+-0x8c*-0xa+0x459*-0x3;_0x313fc3<0xd*0x2f8+-0x222b*0x1+0xa*-0x71;_0x313fc3++){const _0x562824=_0x4eb6ca[_0x992d19+_0x58377c[_0x313fc3][0x154e+0x23dd*0x1+-0x392b]]+_0x313b50,_0x563826=_0x4eb6ca[_0x992d19+_0x58377c[_0x313fc3][-0xebb+-0x11ae*0x2+0x3218]]+_0x313b50,_0x18c02a=_0x562824>_0x563826?_0x563826*_0x2c61a6+_0x562824:_0x562824*_0x2c61a6+_0x563826;_0x3b8492['has'](_0x18c02a)||(_0x3b8492['add'](_0x18c02a),_0x71c752['push'](_0x562824,_0x563826));}_0xe920a9=_0xff10c9['format'];}else{for(let _0xf27e77=0x1474+-0x4*0x944+0x109c;_0xf27e77<_0x2c61a6;_0xf27e77+=-0x175*-0x2+0x1035+0x1*-0x131c)_0x71c752['push'](_0xf27e77,_0xf27e77+(-0xfd+-0x1b97+-0x987*-0x3),_0xf27e77+(0x49*-0x3d+0x1*0x13de+-0x278),_0xf27e77+(-0x48+-0x1966*0x1+0x19b0),_0xf27e77+(-0x1*0x3a9+-0x5e5+0x990),_0xf27e77);_0xe920a9=_0x71c752['length']>0x5a52*0x1+0xb*-0xb9d+-0x92b6*-0x2?wr:Yi;}const _0x2fc351=new br(this['vertexBuff'+'er']['device'],_0xe920a9,_0x71c752['length']);new Sh[_0x2fc351['format']](_0x2fc351['storage'])['set'](_0x71c752),_0x2fc351['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x71c752['length'],'indexed':!(0xf63+0x3f*0x49+-0x58f*0x6)},this['indexBuffe'+'r'][$r]=_0x2fc351;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x35b7cc,_0x1afa97){return _0x35b7cc instanceof Function?_0x35b7cc:_0x5ba019=>{let _0x297441=_0x5ba019[_0x35b7cc];return _0x297441 instanceof Function&&(_0x297441=_0x297441()),_0x297441===_0x1afa97;};}function Sv(_0x424643,_0x59cbbb){if(_0x59cbbb(_0x424643))return _0x424643;const _0x1bc2b0=_0x424643['_children'],_0x4beda0=_0x1bc2b0['length'];for(let _0x3bbdf0=0x19*0x5a+0x11*-0x101+0xa3*0xd;_0x3bbdf0<_0x4beda0;++_0x3bbdf0){const _0x239b52=Sv(_0x1bc2b0[_0x3bbdf0],_0x59cbbb);if(_0x239b52)return _0x239b52;}return null;}class Ie extends me{constructor(_0x3f8af9='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(-0x1662+-0x18ac+-0x1*-0x2f0f,-0x2531*0x1+-0x1e28+-0x4a*-0xe9,0xe95*0x1+-0xb2b*-0x1+-0x19bf)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0x1*-0x1c27+0x20c9+-0x3cef)),h(this,'_aabbVer',-0x14fb+0x595*-0x1+0x1a90),h(this,'_frozen',!(-0x6be*-0x5+-0x1c04+-0x5b1)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x21a1+-0x24b*0x7+-0x1193)),h(this,'_worldScal'+'eSign',0x871+0x1*-0xdbd+0x54c),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0x1cc+0x8d0+-0xa9c)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0xe26+-0x214c+0x2f72),h(this,'_enabled',!(-0x1589+0x3*0x4f+-0xa4e*-0x2)),h(this,'_enabledIn'+'Hierarchy',!(0x2597*0x1+0x1c2e+-0x41c4)),h(this,'scaleCompe'+'nsation',!(-0x1ab5+0x28*-0xd2+0x191*0x26)),this['name']=_0x3f8af9;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1*-0xda7+0x14*0x17+-0xf72));}get['normalMatr'+'ix'](){const _0x4f8a51=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x4f8a51['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x15a5+0x2565+-0xfbf)),_0x4f8a51;}set['enabled'](_0x24e74f){var _0x10882f;this['_enabled']!==_0x24e74f&&(this['_enabled']=_0x24e74f,(_0x24e74f&&((_0x10882f=this['_parent'])!=null&&_0x10882f['enabled'])||!_0x24e74f)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x24e74f));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x2e4ce7=this['_parent'];if(!_0x2e4ce7)return'';let _0x2054de=this['name'];for(;_0x2e4ce7&&_0x2e4ce7['_parent'];)_0x2054de=_0x2e4ce7['name']+'/'+_0x2054de,_0x2e4ce7=_0x2e4ce7['_parent'];return _0x2054de;}get['root'](){let _0x34d7d9=this;for(;_0x34d7d9['_parent'];)_0x34d7d9=_0x34d7d9['_parent'];return _0x34d7d9;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3bf4e0,_0xdba7c3){_0x3bf4e0['_onHierarc'+'hyStateCha'+'nged'](_0xdba7c3);const _0x1ed6d3=_0x3bf4e0['_children'];for(let _0x52b398=-0x12b8+-0x16b5+-0x69*-0x65,_0x24504c=_0x1ed6d3['length'];_0x52b398<_0x24504c;_0x52b398++)_0x1ed6d3[_0x52b398]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x1ed6d3[_0x52b398],_0xdba7c3);}['_onHierarc'+'hyStateCha'+'nged'](_0x187b32){this['_enabledIn'+'Hierarchy']=_0x187b32,_0x187b32&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x383ef7){_0x383ef7['name']=this['name'];const _0x539645=this['tags']['_list'];_0x383ef7['tags']['clear']();for(let _0x108720=0xed*-0x1+0x85*0x1f+-0x1*0xf2e;_0x108720<_0x539645['length'];_0x108720++)_0x383ef7['tags']['add'](_0x539645[_0x108720]);_0x383ef7['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x383ef7['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x383ef7['localScale']['copy'](this['localScale']),_0x383ef7['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x383ef7['position']['copy'](this['position']),_0x383ef7['rotation']['copy'](this['rotation']),_0x383ef7['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x383ef7['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x383ef7['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x383ef7['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x383ef7['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x383ef7['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x383ef7['_aabbVer']=this['_aabbVer']+(0xd33+0x46f+-0x11a1),_0x383ef7['_enabled']=this['_enabled'],_0x383ef7['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x383ef7['_enabledIn'+'Hierarchy']=!(0x54f+0x1*0xccf+-0x121d);}['clone'](){const _0x52c0c9=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x52c0c9),_0x52c0c9;}['copy'](_0x377f16){return _0x377f16['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x23fb26=this['_children'];for(;_0x23fb26['length'];){const _0x11c09a=_0x23fb26['pop']();_0x11c09a['_parent']=null,_0x11c09a['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0xbe18ee,_0x321dbf){const _0x2e6240=[],_0x16d0dc=b_(_0xbe18ee,_0x321dbf);return this['forEach'](_0x1e4af0=>{_0x16d0dc(_0x1e4af0)&&_0x2e6240['push'](_0x1e4af0);}),_0x2e6240;}['findOne'](_0x25048b,_0x502673){const _0x3d4dd0=b_(_0x25048b,_0x502673);return Sv(this,_0x3d4dd0);}['findByTag'](..._0x338c8e){const _0x2862ce=[],_0x4e3068=(_0x5718ca,_0x24a333)=>{_0x24a333&&_0x5718ca['tags']['has'](..._0x338c8e)&&_0x2862ce['push'](_0x5718ca);for(let _0x173267=0x2a+-0x1*0x13df+0x5*0x3f1;_0x173267<_0x5718ca['_children']['length'];_0x173267++)_0x4e3068(_0x5718ca['_children'][_0x173267],!(-0xd27+0x2*0xee6+0x10a5*-0x1));};return _0x4e3068(this,!(-0x808*0x4+0x115b+0xec6)),_0x2862ce;}['findByName'](_0x49a4e3){return this['findOne']('name',_0x49a4e3);}['findByPath'](_0x528b2b){const _0x4a51f1=Array['isArray'](_0x528b2b)?_0x528b2b:_0x528b2b['split']('/');let _0x4fe29a=this;for(let _0x1f982b=0x1a34+0x2266+0x1*-0x3c9a,_0x5d3f0f=_0x4a51f1['length'];_0x1f982b<_0x5d3f0f;++_0x1f982b)if(_0x4fe29a=_0x4fe29a['children']['find'](_0x3d0443=>_0x3d0443['name']===_0x4a51f1[_0x1f982b]),!_0x4fe29a)return null;return _0x4fe29a;}['forEach'](_0xef2afa,_0x49bdcf){_0xef2afa['call'](_0x49bdcf,this);const _0x5dcd01=this['_children'],_0x1b4b5a=_0x5dcd01['length'];for(let _0x14248d=-0x16*-0x1c1+-0x22d5+-0x3c1;_0x14248d<_0x1b4b5a;++_0x14248d)_0x5dcd01[_0x14248d]['forEach'](_0xef2afa,_0x49bdcf);}['isDescenda'+'ntOf'](_0x4839b8){let _0x4d76d2=this['_parent'];for(;_0x4d76d2;){if(_0x4d76d2===_0x4839b8)return!(0x1305*-0x1+-0x96f+0x1c74);_0x4d76d2=_0x4d76d2['_parent'];}return!(0x2069+-0xe03+-0x1265);}['isAncestor'+'Of'](_0x107a1f){return _0x107a1f['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x3*-0xfa+0xe1c+-0x1*0xb2d)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x819*-0x1+0x1899+-0x20b2&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x4feee9;(_0x4feee9=this['_parent'])==null||_0x4feee9['removeChil'+'d'](this);}['reparent'](_0x2b9ac5,_0x2081c5){this['remove'](),_0x2b9ac5&&(_0x2081c5>=0x1234*0x1+0x14eb+-0x271f?_0x2b9ac5['insertChil'+'d'](this,_0x2081c5):_0x2b9ac5['addChild'](this));}['setLocalEu'+'lerAngles'](_0x15324d,_0x45bfad,_0x5f51c6){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x15324d,_0x45bfad,_0x5f51c6),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x537075,_0x5efd95,_0x1b9b70){_0x537075 instanceof D?this['localPosit'+'ion']['copy'](_0x537075):this['localPosit'+'ion']['set'](_0x537075,_0x5efd95,_0x1b9b70),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x51558a,_0x250eb9,_0x59ccde,_0x4ad4b1){_0x51558a instanceof le?this['localRotat'+'ion']['copy'](_0x51558a):this['localRotat'+'ion']['set'](_0x51558a,_0x250eb9,_0x59ccde,_0x4ad4b1),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x1afe1d,_0x3a7381,_0x2a6348){_0x1afe1d instanceof D?this['localScale']['copy'](_0x1afe1d):this['localScale']['set'](_0x1afe1d,_0x3a7381,_0x2a6348),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0xb*0x199+-0x2*-0x111a+0x10a1*-0x1),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x35505a=this['_parent'];for(;_0x35505a;)_0x35505a['_frozen']=!(-0x90d*-0x3+0xe+-0x1b34),_0x35505a=_0x35505a['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1f*0xa7+-0x1d66+0x92e),this['_dirtyWorl'+'d']=!(-0x4c1*0x4+-0x13b0+0x26b4);for(let _0x382ef0=-0x91b+0x302+-0x7*-0xdf;_0x382ef0<this['_children']['length'];_0x382ef0++)this['_children'][_0x382ef0]['_dirtyWorl'+'d']||this['_children'][_0x382ef0]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x14bf+-0x24d9+0x3998),this['_worldScal'+'eSign']=0xcb4+0x1eef+-0x2ba3,this['_aabbVer']++;}['setPositio'+'n'](_0x1b5866,_0x2bec78,_0x3d828e){_0x1b5866 instanceof D?rs['copy'](_0x1b5866):rs['set'](_0x1b5866,_0x2bec78,_0x3d828e),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x2e55f2,_0x55119d,_0x49904c,_0x3108bf){if(_0x2e55f2 instanceof le?as['copy'](_0x2e55f2):as['set'](_0x2e55f2,_0x55119d,_0x49904c,_0x3108bf),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x5e58bb=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x5e58bb)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x17d0d6,_0x1c930f){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x17d0d6),this['localRotat'+'ion']['copy'](_0x1c930f);else{const _0x4a7ffb=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x4a7ffb)['invert'](),ro['transformP'+'oint'](_0x17d0d6,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x1c930f);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x53b96c,_0x449779,_0x5ac831){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x53b96c,_0x449779,_0x5ac831),this['_parent']!==null){const _0x5b9c24=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x5b9c24)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x3b31f9){this['_prepareIn'+'sertChild'](_0x3b31f9),this['_children']['push'](_0x3b31f9),this['_onInsertC'+'hild'](_0x3b31f9);}['addChildAn'+'dSaveTrans'+'form'](_0x219096){const _0x55620d=_0x219096['getPositio'+'n'](),_0xda1276=_0x219096['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x219096),_0x219096['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x55620d)),_0x219096['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0xda1276)),this['_children']['push'](_0x219096),this['_onInsertC'+'hild'](_0x219096);}['insertChil'+'d'](_0x347fc3,_0x315f0f){this['_prepareIn'+'sertChild'](_0x347fc3),this['_children']['splice'](_0x315f0f,-0x1256+0x6e8+0xb6e,_0x347fc3),this['_onInsertC'+'hild'](_0x347fc3);}['_prepareIn'+'sertChild'](_0x201f90){_0x201f90['remove'](),w['assert'](_0x201f90!==this,'GraphNode\x20'+(_0x201f90==null?void(-0x7e7+0xa74+-0x1*0x28d):_0x201f90['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x201f90),'GraphNode\x20'+(_0x201f90==null?void(-0x23e9*0x1+-0x28c+-0x5*-0x7b1):_0x201f90['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x468ffe,_0x29fdc9,_0x3d94f3){this['fire'](_0x468ffe,_0x3d94f3);for(let _0x3a67db=0xd37+0x9*0x3e9+0x1*-0x3068;_0x3a67db<this['_children']['length'];_0x3a67db++)this['_children'][_0x3a67db]['_fireOnHie'+'rarchy'](_0x29fdc9,_0x29fdc9,_0x3d94f3);}['_onInsertC'+'hild'](_0xe60046){_0xe60046['_parent']=this;const _0x499063=_0xe60046['_enabled']&&this['enabled'];_0xe60046['_enabledIn'+'Hierarchy']!==_0x499063&&(_0xe60046['_enabledIn'+'Hierarchy']=_0x499063,_0xe60046['_notifyHie'+'rarchyStat'+'eChanged'](_0xe60046,_0x499063)),_0xe60046['_updateGra'+'phDepth'](),_0xe60046['_dirtifyWo'+'rld'](),this['_frozen']&&_0xe60046['_unfreezeP'+'arentToRoo'+'t'](),_0xe60046['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0xe60046);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x1a90+-0x4*-0x95+0x183d):0x140d+0x1061*-0x1+-0x3ac;for(let _0x179714=0x1b04+0x647*0x1+-0x214b,_0x32c6ae=this['_children']['length'];_0x179714<_0x32c6ae;_0x179714++)this['_children'][_0x179714]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x20afed){const _0x53250e=this['_children']['indexOf'](_0x20afed);_0x53250e!==-(-0x1101*-0x1+-0x2f9*-0x2+0x216*-0xb)&&(this['_children']['splice'](_0x53250e,-0x1c9d+-0x917*0x1+0xc5*0x31),_0x20afed['_parent']=null,_0x20afed['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x20afed));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x328+-0xb57*0x3+-0x252e*-0x1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x9c7ea6;const _0x437349=this['_parent'];let _0x2a2f79=this['localScale'],_0x18b326=_0x437349;if(_0x18b326){for(;_0x18b326&&_0x18b326['scaleCompe'+'nsation'];)_0x18b326=_0x18b326['_parent'];_0x18b326&&(_0x18b326=_0x18b326['_parent'],_0x18b326&&(_0x9c7ea6=_0x18b326['worldTrans'+'form']['getScale'](),T_['mul2'](_0x9c7ea6,this['localScale']),_0x2a2f79=T_));}Wd['setFromMat'+'4'](_0x437349['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x23aa8a=_0x437349['worldTrans'+'form'];_0x437349['scaleCompe'+'nsation']&&(w_['mul2'](_0x9c7ea6,_0x437349['getLocalSc'+'ale']()),v_['setTRS'](_0x437349['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x23aa8a=v_),_0x23aa8a['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x2a2f79);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1*-0x31+-0x1d44+0x1d14);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1c4f+0x31*0x7c+0x493),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x3c2484=this['_children'];for(let _0x2b0439=0x1542+0x9aa+-0x1eec,_0x208bcb=_0x3c2484['length'];_0x2b0439<_0x208bcb;_0x2b0439++)_0x3c2484[_0x2b0439]['syncHierar'+'chy']();}['lookAt'](_0x100f62,_0x31c211,_0x38bd57,_0x46fdc0=-0x1792+-0x3*0xbab+0x1*0x3a93,_0x1a1ba9=0x1*0x1ef1+0x83d*-0x1+-0x1*0x16b3,_0x5da717=-0x22a5+-0xc17*0x3+0x46ea){if(_0x100f62 instanceof D)$d['copy'](_0x100f62),_0x31c211 instanceof D?tc['copy'](_0x31c211):tc['copy'](D['UP']);else{if(_0x38bd57===void(0xbed+-0x24eb+0x392*0x7))return;$d['set'](_0x100f62,_0x31c211,_0x38bd57),tc['set'](_0x46fdc0,_0x1a1ba9,_0x5da717);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x5504c1,_0x48a1cf,_0x374eb7){_0x5504c1 instanceof D?rs['copy'](_0x5504c1):rs['set'](_0x5504c1,_0x48a1cf,_0x374eb7),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x2cf896,_0x4d6925,_0x59d514){_0x2cf896 instanceof D?rs['copy'](_0x2cf896):rs['set'](_0x2cf896,_0x4d6925,_0x59d514),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x18b1f1,_0x443ded,_0x51b242){if(as['setFromEul'+'erAngles'](_0x18b1f1,_0x443ded,_0x51b242),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x4bb091=this['getRotatio'+'n'](),_0x174bce=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x174bce)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x4bb091);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x379536,_0xa92abe,_0x1c4e55){as['setFromEul'+'erAngles'](_0x379536,_0xa92abe,_0x1c4e55),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x4fc449){const _0x408689=yv['get'](_0x4fc449);return w['assert'](_0x408689),_0x408689;}function xE(_0x22357c,_0x1308ea){w['assert'](_0x1308ea),yv['get'](_0x22357c,()=>_0x1308ea);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x1b2f29,_0x37de4d)=>{_0x37de4d['destroy']();}),this['cache']['clear']();}['incRef'](_0x473fc9){const _0x5a3f23=(this['cache']['get'](_0x473fc9)||-0x1ef6+0x1e3a+-0x1*-0xbc)+(0x1c68+-0x2659+0x4f9*0x2);this['cache']['set'](_0x473fc9,_0x5a3f23);}['decRef'](_0x56c37f){if(_0x56c37f){let _0x26351c=this['cache']['get'](_0x56c37f);_0x26351c&&(_0x26351c--,_0x26351c===-0x1c9a+0x2166+-0x4cc*0x1?(this['cache']['delete'](_0x56c37f),_0x56c37f['destroy']()):this['cache']['set'](_0x56c37f,_0x26351c));}}}class zi{static['incRef'](_0x4372dc){this['cache']['incRef'](_0x4372dc);}static['decRef'](_0x41ba2b){this['cache']['decRef'](_0x41ba2b);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x8*0x35f+0x263c+0xb44*-0x1;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0xce7+0x13*0xf+0x1*0xbce);class bE{constructor(_0x524aed){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x3*-0xb09+-0xf*0x163+0x35e9*0x1)),this['count']=_0x524aed;}['destroy'](){var _0x457826;this['_destroyVe'+'rtexBuffer']&&((_0x457826=this['vertexBuff'+'er'])==null||_0x457826['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x3df+-0x106+-0x1*-0x4e9));}['get'](_0x348060){return this['map']['get'](_0x348060)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x29350d){if(!this['bindGroup']){const _0x580fe6=this['shader'];w['assert'](_0x580fe6);const _0x1a3ef5=_0x580fe6['meshBindGr'+'oupFormat'];w['assert'](_0x1a3ef5),this['bindGroup']=new Up(_0x29350d,_0x1a3ef5),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x5ad00d){if(!this['uniformBuf'+'fer']){const _0x2592e2=this['shader'];w['assert'](_0x2592e2);const _0x296f07=_0x2592e2['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x296f07),this['uniformBuf'+'fer']=new zp(_0x5ad00d,_0x296f07,!(-0x1302+-0xaed*-0x2+-0x1*0x2d7));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x37e508,_0x5ab658;(_0x37e508=this['bindGroup'])==null||_0x37e508['destroy'](),this['bindGroup']=null,(_0x5ab658=this['uniformBuf'+'fer'])==null||_0x5ab658['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x3081ef,_0x3f8787,_0x4b751b=null){h(this,'castShadow',!(-0x1aaf+0x1f93+-0x4e3)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x182+-0x2444+0x25c6)),h(this,'drawOrder',0x26ac+0x25e0+-0x4c8c),h(this,'_drawBucke'+'t',-0xd73+0x1ee7*0x1+0x1*-0x10f5),h(this,'node'),h(this,'visible',!(0xf1*-0x8+0x7*-0x427+0x2499)),h(this,'visibleThi'+'sFrame',!(0xaca+0x19d5+-0x2*0x124f)),h(this,'flipFacesF'+'actor',0x7ff*0x1+0x6e8+-0xee6*0x1),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x2542+-0xa59+-0x1*0x1ae9)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x1c10+0x1675+0xd4*-0x3d)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x26af*0x1+0x13a*0xd+-0x36a0)),h(this,'_aabbMeshV'+'er',-(-0x1d44+-0x1d*-0x94+0xc81)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x1*-0x872+-0x1*-0x1c4c+0x125f*-0x2)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',-0x1f65*-0x1+-0xed*-0x25+-0x1*0x41a6),h(this,'_sortKeyFo'+'rward',0xa3*0x27+-0x1437+-0x49e),h(this,'_sortKeyDy'+'namic',0x26ba+0x226+-0x6d0*0x6),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x1*0x25e2+-0x884*0x1+-0x1d5e)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x2f*0xb+0x1*0x210a+0x502*-0x7)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x17*-0xc1+-0x1*0xde3+-0x364),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x3081ef instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x4b751b,this['_mesh']=_0x3081ef,_0x3081ef['incRefCoun'+'t'](),this['material']=_0x3f8787,_0x3081ef['vertexBuff'+'er']){const _0x260ae0=_0x3081ef['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x260ae0['hasUv0']?nm:0xf*0x8e+-0x782*0x5+0x1d38,this['_shaderDef'+'s']|=_0x260ae0['hasUv1']?dv:-0x3d7*0x6+0x19dd+-0x2d3,this['_shaderDef'+'s']|=_0x260ae0['hasColor']?fv:-0x33b*0x1+-0x349*-0x1+-0xe,this['_shaderDef'+'s']|=_0x260ae0['hasTangent'+'s']?om:-0x2404+0x13a+0x22ca;}this['updateKey']();}set['drawBucket'](_0x55c7a5){this['_drawBucke'+'t']=Math['floor'](_0x55c7a5)&-0x26aa+0x1*-0xc47+0x115*0x30,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x6da159){this['_renderSty'+'le']=_0x6da159,this['mesh']['prepareRen'+'derState'](_0x6da159);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x287eed){_0x287eed!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x287eed,_0x287eed&&_0x287eed['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x46514e){this['_aabb']=_0x46514e;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x4c058d=this['_customAab'+'b'],_0x227fc2=!!_0x4c058d;if(!_0x4c058d){if(_0x4c058d=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x2a4c70=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x2a4c70);}const _0x5a029d=this['mesh']['boneUsed'];let _0x52ce16=!(0x49d+0x1*0xa9f+0x186*-0xa);for(let _0x3ebfb7=-0x4e8+0x1447+-0xf5f;_0x3ebfb7<this['mesh']['boneAabb']['length'];_0x3ebfb7++)_0x5a029d[_0x3ebfb7]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x3ebfb7],this['skinInstan'+'ce']['matrices'][_0x3ebfb7]),_0x52ce16?(_0x52ce16=!(-0x1d*0x105+-0x1e2b+-0x1*-0x3bbd),_0x4c058d['center']['copy'](sc['center']),_0x4c058d['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x4c058d['add'](sc));_0x227fc2=!(-0x1cfb+-0xd2d+0x2a28);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x4c058d['center']['copy'](this['mesh']['aabb']['center']),_0x4c058d['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x4c058d['center']['set'](-0xef9+-0x12d1*0x2+0x349b,-0x20b+0x2*0x1048+0x259*-0xd,-0x1c13+-0x4f6+-0x1*-0x2109),_0x4c058d['halfExtent'+'s']['set'](-0x8ac*0x1+-0xb*-0x2f1+-0x17af,-0x75d+-0x1314+-0x1*-0x1a71,0x1cf7+-0x2*0x62b+-0x10a1)),this['mesh']&&this['mesh']['morph']){const _0x46fca2=this['mesh']['morph']['aabb'];_0x4c058d['_expand'](_0x46fca2['getMin'](),_0x46fca2['getMax']());}_0x227fc2=!(0xe4b+-0x1afa+0x1*0xcaf),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x227fc2&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x4c058d,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x153914=>{_0x153914['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x1d86e9,_0x56aac7,_0x15aa1e,_0x7e3abc,_0x490652,_0x583f29,_0x299bac){var _0x57e22c;const _0x2f20b1=this['_shaderDef'+'s'];Rr[0x1*0x140e+0x18c9*-0x1+0x4bb]=_0x1d86e9,Rr[-0x1*-0x1605+-0x268a+0x9*0x1d6]=_0x56aac7,Rr[0x1*-0x1e65+-0x1*-0x1e09+-0x2f*-0x2]=_0x2f20b1,Rr[0x1*-0x6cf+0x140*0x14+-0x122e]=_0x7e3abc['hash'];const _0x273b11=By(Rr);let _0xd509b5=this['_shaderCac'+'he']['get'](_0x273b11);if(!_0xd509b5){const _0x380d83=this['_material'];if(_0xd509b5=new CE(),_0xd509b5['shader']=_0x380d83['variants']['get'](_0x273b11),_0xd509b5['hashes']=new Uint32Array(Rr),!_0xd509b5['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x3a723d=_0x380d83['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x15aa1e,'objDefs':_0x2f20b1,'cameraShaderParams':_0x7e3abc,'pass':_0x1d86e9,'sortedLights':_0x299bac,'viewUniformFormat':_0x490652,'viewBindGroupFormat':_0x583f29,'vertexFormat':(_0x57e22c=this['mesh']['vertexBuff'+'er'])==null?void(-0xc0*0x1+0xd4c+-0xc8c*0x1):_0x57e22c['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x380d83['variants']['set'](_0x273b11,_0x3a723d),_0xd509b5['shader']=_0x3a723d;}this['_shaderCac'+'he']['set'](_0x273b11,_0xd509b5);}return w['call'](()=>{IT['equals'](_0xd509b5['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0xd509b5;}set['material'](_0x28a9d3){this['clearShade'+'rs']();const _0x364749=this['_material'];_0x364749&&_0x364749['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x28a9d3,_0x28a9d3&&(_0x28a9d3['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x28a9d3['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x1537a3){_0x1537a3!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x1537a3,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x289c8f){this['_calculate'+'SortDistan'+'ce']=_0x289c8f;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x19d5fc){this['_receiveSh'+'adow']!==_0x19d5fc&&(this['_receiveSh'+'adow']=_0x19d5fc,this['_updateSha'+'derDefs'](_0x19d5fc?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x4f3fcb){this['_updateSha'+'derDefs'](_0x4f3fcb?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0x261a+0x1bbc+-0x6*0xaf9;}set['skinInstan'+'ce'](_0x551099){this['_skinInsta'+'nce']=_0x551099,this['_updateSha'+'derDefs'](_0x551099?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x12c63f){var _0x2c0315;(_0x2c0315=this['_morphInst'+'ance'])==null||_0x2c0315['destroy'](),this['_morphInst'+'ance']=_0x12c63f;let _0x58643c=this['_shaderDef'+'s'];_0x58643c=_0x12c63f&&_0x12c63f['morph']['morphPosit'+'ions']?_0x58643c|ll:_0x58643c&~ll,_0x58643c=_0x12c63f&&_0x12c63f['morph']['morphNorma'+'ls']?_0x58643c|cl:_0x58643c&~cl,_0x58643c=_0x12c63f&&_0x12c63f['morph']['intRenderF'+'ormat']?_0x58643c|hl:_0x58643c&~hl,this['_updateSha'+'derDefs'](_0x58643c);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x142596){this['_screenSpa'+'ce']!==_0x142596&&(this['_screenSpa'+'ce']=_0x142596,this['_updateSha'+'derDefs'](_0x142596?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x3ce5a2){this['_sortKeyFo'+'rward']=_0x3ce5a2;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x1ffd02){const _0x58298a=this['_shaderDef'+'s']&0xe*0x1883+0x10a*0x14f+-0x5*0x570d;this['_updateSha'+'derDefs'](_0x58298a|_0x1ffd02<<-0x1*0x22a7+0x1187+0x1130);}get['mask'](){return this['_shaderDef'+'s']>>-0x819*0x1+0x21a4+-0x197b;}set['instancing'+'Count'](_0x4c8d4){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x4c8d4);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x9*-0x259+-0x1*0x2272+0x1*0x3793;}['destroy'](){var _0x5c93a1,_0xf0338,_0x3cbabd;const _0x52d2e2=this['mesh'];_0x52d2e2&&(this['mesh']=null,_0x52d2e2['refCount']<-0x2234+0x12ca+-0xf6b*-0x1&&_0x52d2e2['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x8*-0x320+0x12ff*-0x2+0x3efe],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1*0x245b+0x4f*-0x35+-0x1*0x13ff],null),(_0x5c93a1=this['_skinInsta'+'nce'])==null||_0x5c93a1['destroy'](),this['_skinInsta'+'nce']=null,(_0xf0338=this['morphInsta'+'nce'])==null||_0xf0338['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3cbabd=this['instancing'+'Data'])==null||_0x3cbabd['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x1a4055,_0x55d1e1){if(_0x1a4055){for(let _0x14c89a=0x4*-0x623+-0x5*0x520+0x322c;_0x14c89a<_0x1a4055['length'];_0x14c89a++){_0x1a4055[_0x14c89a]['_renderSty'+'le']=_0x55d1e1;const _0x3879fa=_0x1a4055[_0x14c89a]['mesh'];qd['has'](_0x3879fa)||(qd['add'](_0x3879fa),_0x3879fa['prepareRen'+'derState'](_0x55d1e1));}qd['clear']();}}['_isVisible'](_0x499e75){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x499e75):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x499e75['frustum']['containsSp'+'here'](Xd)>-0x1926+0x3e*-0x44+-0x2f9*-0xe):!(-0x1c28+0x1481+-0x14*-0x62);}['updateKey'](){const {material:_0x51d879}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0x1b8e+0xae7*0x1+-0x265e*0x1|(_0x51d879['alphaToCov'+'erage']||_0x51d879['alphaTest']?0xa0e*0xb2d+0xe*-0x3d138+0x5129a:-0xc39+-0x1b02+0x273b)|_0x51d879['id']&0x578739+0x626b41+0x3*-0x28a629;}['setInstanc'+'ing'](_0x15d691,_0x51bb57=!(-0x43*-0x1c+-0x2065*0x1+0x1912)){_0x15d691?(this['instancing'+'Data']=new bE(_0x15d691['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x15d691,_0x15d691['format']['instancing']=!(-0x1a5b+0x164a+0x3*0x15b),this['cull']=_0x51bb57):(this['instancing'+'Data']=null,this['cull']=!(-0x1*-0x141b+-0x1*0x156a+0x14f)),this['_updateSha'+'derDefs'](_0x15d691?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x9d7594,_0x5c5a06){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x9d7594==null?void(0xa9*0x2b+0x17cf+0x3432*-0x1):_0x9d7594['camera'])??null,_0x5c5a06),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0xf32a25;this['_allocIndi'+'rectData']();const _0x59645c=(_0xf32a25=this['mesh'])==null?void(0x8c*0x1a+0x12f1+-0xd*0x28d):_0xf32a25['primitive'][this['renderStyl'+'e']],_0x307434=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x307434[-0x609+0x5b6+0x1*0x53]=_0x59645c['count'],_0x307434[-0xeb*-0x9+-0xb5*0x9+-0x1e5]=_0x59645c['base'],_0x307434[-0x137a+0x1de6+-0xa6a]=_0x59645c['baseVertex'],_0x307434;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x50e4c5){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x50e4c5));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x528828){return this['parameters'][_0x528828];}['setParamet'+'er'](_0x51c09f,_0x4e553a,_0x2d4bb6=0xf44083c3+-0x19db465ab+0x1d7*0xe73e71){const _0x39f094=this['parameters'][_0x51c09f];_0x39f094?(_0x39f094['data']=_0x4e553a,_0x39f094['passFlags']=_0x2d4bb6):this['parameters'][_0x51c09f]={'scopeId':null,'data':_0x4e553a,'passFlags':_0x2d4bb6};}['setRealtim'+'eLightmap'](_0x49f97e,_0x40e917){const _0x2170be=this['getParamet'+'er'](_0x49f97e);_0x2170be!==_0x40e917&&(_0x2170be&&zi['decRef'](_0x2170be['data']),_0x40e917?(zi['incRef'](_0x40e917),this['setParamet'+'er'](_0x49f97e,_0x40e917)):this['deletePara'+'meter'](_0x49f97e));}['deletePara'+'meter'](_0x322763){this['parameters'][_0x322763]&&delete this['parameters'][_0x322763];}['setParamet'+'ers'](_0x5de703,_0x37e50f){const _0x5168f7=this['parameters'];for(const _0x208f73 in _0x5168f7){const _0xc02db0=_0x5168f7[_0x208f73];_0xc02db0['passFlags']&_0x37e50f&&(_0xc02db0['scopeId']||(_0xc02db0['scopeId']=_0x5de703['scope']['resolve'](_0x208f73)),_0xc02db0['scopeId']['setValue'](_0xc02db0['data']));}}['setLightma'+'pped'](_0x1de941){_0x1de941?this['mask']=(this['mask']|di)&-(0x1*0x4ff+0x1*0x170b+-0x1c04):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x3f*0x97+-0xd3a*-0x2+-0x3f9d],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1*0x4b+-0x1bb2+0x1b68],null),this['_shaderDef'+'s']&=-(-0x2*0x8cb+-0x201b*-0x1+0x8f*0x4),this['mask']=(this['mask']|Ss)&-(0x21db+0x18e1+0x317*-0x13));}['setCustomA'+'abb'](_0xb5c109){_0xb5c109?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0xb5c109):this['_customAab'+'b']=_0xb5c109['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x2546+-0x4*0x325+-0x18b1)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x62*-0x49+-0x1c8a+-0xf*-0x3c4,0x1ee6+0x70d+-0x25f2,-0x14b*0x16+0x3*0x2a5+-0x25*-0x8e,0x9fe+0x472+-0xe6e,0x11d8+0x1*-0x1535+0x1b0*0x2,0x21ad+-0x14d8+0x4*-0x335],ME=[-0x1820+-0x1d*0x59+0x2235,0x70a+-0x886+-0x1*-0x17d,-0x8a3+0xd55+-0x4af*0x1,0x1f77+0x980+0x1*-0x28f7,0x1a*-0x2+-0x2655+0x268c,0x49*0x6e+-0x2*0xd0c+-0x544],A_=new _i();function C_(_0x2802b2,_0x28a08a){if(_0x2802b2&&!_0x28a08a||!_0x2802b2&&_0x28a08a)return!(-0x1587+0x1f98+-0xa10);if(_0x2802b2=_0x2802b2['data'],_0x28a08a=_0x28a08a['data'],_0x2802b2===_0x28a08a)return!(0x845*-0x4+0x153c+-0x2*-0x5ec);if(_0x2802b2 instanceof Float32Array&&_0x28a08a instanceof Float32Array){if(_0x2802b2['length']!==_0x28a08a['length'])return!(-0x479+-0x678+0x3*0x3a6);for(let _0x19cc92=0x78*0x2b+-0x19bc+0x33*0x1c;_0x19cc92<_0x2802b2['length'];_0x19cc92++)if(_0x2802b2[_0x19cc92]!==_0x28a08a[_0x19cc92])return!(-0x2*-0x648+-0x18b1+0xc22);return!(-0x2395*-0x1+-0x1342+-0x1053);}return!(0x17e4+0x9e*-0x14+-0xb8b);}function DE(_0x4cfcbe,_0x2a9d6e){for(const _0x509d0f in _0x4cfcbe)if(_0x4cfcbe['hasOwnProp'+'erty'](_0x509d0f)&&!C_(_0x4cfcbe[_0x509d0f],_0x2a9d6e[_0x509d0f]))return!(0x581*0x2+-0xe8e+0x38d);for(const _0xe16a35 in _0x2a9d6e)if(_0x2a9d6e['hasOwnProp'+'erty'](_0xe16a35)&&!C_(_0x2a9d6e[_0xe16a35],_0x4cfcbe[_0xe16a35]))return!(-0x2*-0xac1+0x7d*-0x3c+0x7cb);return!(-0x21*-0xcb+0x2*-0x108c+0x3*0x24f);}function jd(_0x19d865){return _0x19d865['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x56c1a8,_0x404619,_0x74c8fc){this['device']=_0x56c1a8,this['rootNode']=_0x404619,this['scene']=_0x74c8fc,this['_init']=!(0x4f8+0x1d*-0x87+0x1*0xa54),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x11*-0x1b1+-0x150c+0x31cd,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x4816db,_0xb4211d,_0x28245e,_0xb7aefd,_0x187274){if(_0xb7aefd===void(-0x15c2+0x121a+0x3a8)&&(_0xb7aefd=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xb7aefd]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xb7aefd+('\x20already\x20e'+'xists.'));return;}const _0x3f1cf0=new St(_0xb7aefd,_0x4816db,_0xb4211d,_0x28245e,_0x187274);return this['_batchGrou'+'ps'][_0xb7aefd]=_0x3f1cf0,_0x3f1cf0;}['removeGrou'+'p'](_0x151afd){if(!this['_batchGrou'+'ps'][_0x151afd]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x151afd+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x263024=[];for(let _0x232772=0x4e0+-0x2*0x505+-0x1*-0x52a;_0x232772<this['_batchList']['length'];_0x232772++)this['_batchList'][_0x232772]['batchGroup'+'Id']===_0x151afd?this['destroyBat'+'ch'](this['_batchList'][_0x232772]):_0x263024['push'](this['_batchList'][_0x232772]);this['_batchList']=_0x263024,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x151afd),delete this['_batchGrou'+'ps'][_0x151afd];}['markGroupD'+'irty'](_0x392ec9){this['_dirtyGrou'+'ps']['indexOf'](_0x392ec9)<0x39*-0x65+0x1b2b+-0x4ae&&this['_dirtyGrou'+'ps']['push'](_0x392ec9);}['getGroupBy'+'Name'](_0x340bf8){const _0x5eddbb=this['_batchGrou'+'ps'];for(const _0x13b150 in _0x5eddbb)if(_0x5eddbb['hasOwnProp'+'erty'](_0x13b150)&&_0x5eddbb[_0x13b150]['name']===_0x340bf8)return _0x5eddbb[_0x13b150];return null;}['getBatches'](_0x5f9308){const _0x47e82a=[],_0xec5ffb=this['_batchList']['length'];for(let _0x1a0fc4=0x9a7+-0xec+-0x8bb;_0x1a0fc4<_0xec5ffb;_0x1a0fc4++){const _0x30d1ca=this['_batchList'][_0x1a0fc4];_0x30d1ca['batchGroup'+'Id']===_0x5f9308&&_0x47e82a['push'](_0x30d1ca);}return _0x47e82a;}['_removeMod'+'elsFromBat'+'chGroup'](_0x218a25,_0x1c20b0){if(_0x218a25['enabled']){_0x218a25['model']&&_0x218a25['model']['batchGroup'+'Id']===_0x1c20b0&&(_0x218a25['model']['batchGroup'+'Id']=-(0x16bd+0xe3d+0x3*-0xc53)),_0x218a25['render']&&_0x218a25['render']['batchGroup'+'Id']===_0x1c20b0&&(_0x218a25['render']['batchGroup'+'Id']=-(0x2*-0x1275+-0x1*0x8ff+0x2dea)),_0x218a25['element']&&_0x218a25['element']['batchGroup'+'Id']===_0x1c20b0&&(_0x218a25['element']['batchGroup'+'Id']=-(-0x207d+0xd55+0x1329)),_0x218a25['sprite']&&_0x218a25['sprite']['batchGroup'+'Id']===_0x1c20b0&&(_0x218a25['sprite']['batchGroup'+'Id']=-(-0xe6+-0x1ac0+0x1ba7));for(let _0xe00e26=0x1*-0xe5+0x193d+0x616*-0x4;_0xe00e26<_0x218a25['_children']['length'];_0xe00e26++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x218a25['_children'][_0xe00e26],_0x1c20b0);}}['insert'](_0x3fc3d1,_0x2f242d,_0x53dfaa){const _0x2a426a=this['_batchGrou'+'ps'][_0x2f242d];w['assert'](_0x2a426a,'Invalid\x20ba'+'tch\x20'+_0x2f242d+'\x20insertion'),_0x2a426a&&_0x2a426a['_obj'][_0x3fc3d1]['indexOf'](_0x53dfaa)<0xc6e+-0xb*-0x1d3+0xad5*-0x3&&(_0x2a426a['_obj'][_0x3fc3d1]['push'](_0x53dfaa),this['markGroupD'+'irty'](_0x2f242d));}['remove'](_0x43f3c0,_0x530a66,_0x1807f0){const _0x1ff333=this['_batchGrou'+'ps'][_0x530a66];if(w['assert'](_0x1ff333,'Invalid\x20ba'+'tch\x20'+_0x530a66+'\x20insertion'),_0x1ff333){const _0x4972ee=_0x1ff333['_obj'][_0x43f3c0]['indexOf'](_0x1807f0);_0x4972ee>=-0x4*0x735+-0x1a0+0x1e74&&(_0x1ff333['_obj'][_0x43f3c0]['splice'](_0x4972ee,0x1063*0x1+-0xed*0x4+-0xcae*0x1),this['markGroupD'+'irty'](_0x530a66));}}['_extractRe'+'nder'](_0x191d0a,_0x5eee86,_0x28cbea,_0x2a541b){return _0x191d0a['render']&&(_0x5eee86=_0x2a541b[_0x191d0a['render']['batchGroup'+'Id']]=_0x5eee86['concat'](_0x191d0a['render']['meshInstan'+'ces']),_0x191d0a['render']['removeFrom'+'Layers']()),_0x5eee86;}['_extractMo'+'del'](_0x324a59,_0x301ff2,_0x281f09,_0x28637d){return _0x324a59['model']&&_0x324a59['model']['model']&&(_0x301ff2=_0x28637d[_0x324a59['model']['batchGroup'+'Id']]=_0x301ff2['concat'](_0x324a59['model']['meshInstan'+'ces']),_0x324a59['model']['removeMode'+'lFromLayer'+'s'](),_0x324a59['model']['_batchGrou'+'p']=_0x281f09),_0x301ff2;}['_extractEl'+'ement'](_0x20882,_0x274f73,_0x11ff48){if(!_0x20882['element'])return;let _0x5dc26b=!(0x161*-0x4+-0x2*-0xa75+-0xf65);_0x20882['element']['_text']&&_0x20882['element']['_text']['_model']['meshInstan'+'ces']['length']>0xe8+0x41*-0x26+0x8be*0x1?(_0x274f73['push'](_0x20882['element']['_text']['_model']['meshInstan'+'ces'][-0x1a43+0x22d*0x2+0x1*0x15e9]),_0x20882['element']['removeMode'+'lFromLayer'+'s'](_0x20882['element']['_text']['_model']),_0x5dc26b=!(-0x5*0x233+-0x26*-0x7f+-0x7db)):_0x20882['element']['_image']&&(_0x274f73['push'](_0x20882['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x20882['element']['removeMode'+'lFromLayer'+'s'](_0x20882['element']['_image']['_renderabl'+'e']['model']),_0x20882['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x274f73['push'](_0x20882['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x20882['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x20882['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x20882['element']['_dirtifyMa'+'sk'](),_0x20882['element']['_onPrerend'+'er']())),_0x5dc26b=!(-0x2*0x402+0x3ec*0x1+0x418)),_0x5dc26b&&(_0x11ff48['_ui']=!(-0xc9*0x26+-0x4f*0x66+0x3d50),_0x20882['element']['_batchGrou'+'p']=_0x11ff48);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x2e1a9e,_0x4b899e){for(let _0x27fc6e=0x2657+0x1a98+-0x1*0x40ef;_0x27fc6e<_0x4b899e['length'];_0x27fc6e++){const _0x5a8037=_0x4b899e[_0x27fc6e],_0xc97a0c=this['_batchGrou'+'ps'][_0x5a8037];if(!_0xc97a0c)continue;let _0x193eb1=_0x2e1a9e[_0x5a8037];_0x193eb1||(_0x193eb1=_0x2e1a9e[_0x5a8037]=[]);for(let _0x7aee5a=-0x2094+0x1*0xe3b+-0x4d*-0x3d;_0x7aee5a<_0xc97a0c['_obj']['model']['length'];_0x7aee5a++)_0x193eb1=this['_extractMo'+'del'](_0xc97a0c['_obj']['model'][_0x7aee5a],_0x193eb1,_0xc97a0c,_0x2e1a9e);for(let _0x4070d8=-0x1b6a+-0x1a1a+-0x112*-0x32;_0x4070d8<_0xc97a0c['_obj']['render']['length'];_0x4070d8++)_0x193eb1=this['_extractRe'+'nder'](_0xc97a0c['_obj']['render'][_0x4070d8],_0x193eb1,_0xc97a0c,_0x2e1a9e);for(let _0xf398a2=-0x65*-0x29+-0xdcb+-0x262;_0xf398a2<_0xc97a0c['_obj']['element']['length'];_0xf398a2++)this['_extractEl'+'ement'](_0xc97a0c['_obj']['element'][_0xf398a2],_0x193eb1,_0xc97a0c);for(let _0x29898a=0x228d+-0xf*-0x27f+-0x47fe;_0x29898a<_0xc97a0c['_obj']['sprite']['length'];_0x29898a++){const _0x5773ab=_0xc97a0c['_obj']['sprite'][_0x29898a];_0x5773ab['sprite']&&_0x5773ab['sprite']['_meshInsta'+'nce']&&(_0xc97a0c['dynamic']||_0x5773ab['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x193eb1['push'](_0x5773ab['sprite']['_meshInsta'+'nce']),_0x5773ab['sprite']['removeMode'+'lFromLayer'+'s'](),_0xc97a0c['_sprite']=!(0x36d+-0xc46*-0x1+-0xfb3),_0x5773ab['sprite']['_batchGrou'+'p']=_0xc97a0c);}}}['generate'](_0xd1cbfe){const _0x50c856={};_0xd1cbfe||(_0xd1cbfe=Object['keys'](this['_batchGrou'+'ps']));const _0x3f1864=[];for(let _0x262a09=-0x1*0x1df9+-0x2267+0x4060;_0x262a09<this['_batchList']['length'];_0x262a09++){if(_0xd1cbfe['indexOf'](this['_batchList'][_0x262a09]['batchGroup'+'Id'])<0x205e+0x983+-0x1*0x29e1){_0x3f1864['push'](this['_batchList'][_0x262a09]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x262a09]);}if(this['_batchList']=_0x3f1864,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x50c856,_0xd1cbfe),_0xd1cbfe===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0xa55+0x1d09*-0x1+0x275e*0x1;else{const _0x5f5787=[];for(let _0x14377d=-0xcd*-0x2f+0x1*0xa49+-0x2*0x17f6;_0x14377d<this['_dirtyGrou'+'ps']['length'];_0x14377d++)_0xd1cbfe['indexOf'](this['_dirtyGrou'+'ps'][_0x14377d])<0x7*0x28d+-0x2314+0x1139&&_0x5f5787['push'](this['_dirtyGrou'+'ps'][_0x14377d]);this['_dirtyGrou'+'ps']=_0x5f5787;}let _0x4d7831,_0x1ca1c8,_0x30ad54,_0x5e7118;for(const _0x1e3307 in _0x50c856)if(_0x50c856['hasOwnProp'+'erty'](_0x1e3307)){if(_0x4d7831=_0x50c856[_0x1e3307],_0x30ad54=this['_batchGrou'+'ps'][_0x1e3307],!_0x30ad54){w['error']('batch\x20grou'+'p\x20'+_0x1e3307+'\x20not\x20found');continue;}_0x1ca1c8=this['prepare'](_0x4d7831,_0x30ad54['dynamic'],_0x30ad54['maxAabbSiz'+'e'],_0x30ad54['_ui']||_0x30ad54['_sprite']);for(let _0x2c50ff=-0xa59+-0x195b+0x23b4*0x1;_0x2c50ff<_0x1ca1c8['length'];_0x2c50ff++)_0x5e7118=this['create'](_0x1ca1c8[_0x2c50ff],_0x30ad54['dynamic'],parseInt(_0x1e3307,0xd*0x77+-0x1781+0x1180)),_0x5e7118&&_0x5e7118['addToLayer'+'s'](this['scene'],_0x30ad54['layers']);}}['prepare'](_0x453c2e,_0x181ce3,_0x532b00=Number['POSITIVE_I'+'NFINITY'],_0xd90402){if(_0x453c2e['length']===-0x1b0b+0x3*0xa0c+-0x319)return[];const _0x15b37d=_0x532b00*(0x835*-0x4+-0xc9b*-0x1+0x1439+0.5),_0x4427e6=-0x173c+-0x7*-0x4f3+-0x769,_0x8f457=-0xb*0x15325451+-0x2e0dbcdf*0x5+-0x2cf6e4fd5*-0x1,_0x19f7d1=new De(),_0x27ac88=new De();let _0x1763c6=null,_0x418722;const _0x5abd0b=[];let _0x312043=0x2106+0xb*0x2b0+-0x3e96;_0xd90402&&_0x453c2e['sort']((_0x35d365,_0xbb86c1)=>_0x35d365['drawOrder']-_0xbb86c1['drawOrder']);let _0x4e431b=_0x453c2e,_0x24d935;const _0x124a9e=_0xd90402?function(_0x21ae70){_0x1763c6?_0x1763c6['add'](_0x21ae70['aabb']):_0x1763c6=_0x21ae70['aabb']['clone'](),_0x24d935['push'](_0x21ae70);}:function(_0x42fbef){_0x24d935['push'](_0x42fbef);};for(;_0x4e431b['length']>-0x232+-0xa7*0x10+-0x62*-0x21;){_0x5abd0b[_0x312043]=[_0x4e431b[-0x565*-0x2+0x9ac*0x1+-0x1476]],_0x24d935=[];const _0xd7d0bb=_0x4e431b[0x8cb+-0x1*-0x3b5+-0xc80]['material'],_0x264414=_0x4e431b[0xfb3+0x1*-0x1223+0x8*0x4e]['layer'],_0x13acc2=_0x4e431b[-0x7*-0x2de+0x1403+0x2815*-0x1]['_shaderDef'+'s'],_0x477f4f=_0x4e431b[0x18b6+-0x5dc+-0x12da]['parameters'],_0x1d29e0=_0x4e431b[-0x2293+0x9*0x184+0x14ef]['stencilFro'+'nt'];let _0x26bef8=_0x4e431b[0x13c9*-0x1+-0xb32*-0x2+-0x29b*0x1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x342a27=_0x4e431b[0x94*0x8+0x1*0xb31+0xfd1*-0x1]['drawOrder'];_0x19f7d1['copy'](_0x4e431b[-0x1811+-0x1262*-0x1+0x1*0x5af]['aabb']);const _0x3c415c=jd(_0x4e431b[-0x17c2+0x6a0+-0x66*-0x2b]),_0x3d9c25=_0x4e431b[0x3a7+0x20*-0x11c+0x1fd9]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x25b6a5=_0x4e431b[0x2e9*0x2+0x145*0xd+-0x5*0x477]['mesh']['primitive'][0x2e*0x6c+-0x228e*0x1+0xf26]['indexed'];_0x1763c6=null;for(let _0x264891=-0x7d8+-0xb4a*-0x1+0x1*-0x371;_0x264891<_0x4e431b['length'];_0x264891++){const _0x563a1f=_0x4e431b[_0x264891];if(_0x181ce3&&_0x5abd0b[_0x312043]['length']>=_0x4427e6){_0x24d935=_0x24d935['concat'](_0x4e431b['slice'](_0x264891));break;}if(_0xd7d0bb!==_0x563a1f['material']||_0x264414!==_0x563a1f['layer']||_0x3d9c25!==_0x563a1f['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x25b6a5!==_0x563a1f['mesh']['primitive'][0x1592+0xa91*0x1+-0x2023]['indexed']||_0x13acc2!==_0x563a1f['_shaderDef'+'s']||_0x26bef8+_0x563a1f['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x8f457){_0x124a9e(_0x563a1f);continue;}if(_0x27ac88['copy'](_0x19f7d1),_0x27ac88['add'](_0x563a1f['aabb']),_0x27ac88['halfExtent'+'s']['x']>_0x15b37d||_0x27ac88['halfExtent'+'s']['y']>_0x15b37d||_0x27ac88['halfExtent'+'s']['z']>_0x15b37d){_0x124a9e(_0x563a1f);continue;}if(_0x1d29e0&&(!(_0x418722=_0x563a1f['stencilFro'+'nt'])||_0x1d29e0['func']!==_0x418722['func']||_0x1d29e0['zpass']!==_0x418722['zpass'])){_0x124a9e(_0x563a1f);continue;}if(_0x3c415c!==jd(_0x563a1f)){_0x124a9e(_0x563a1f);continue;}if(!DE(_0x477f4f,_0x563a1f['parameters'])){_0x124a9e(_0x563a1f);continue;}if(_0xd90402&&_0x1763c6&&_0x1763c6['intersects'](_0x563a1f['aabb'])&&_0x563a1f['drawOrder']!==_0x342a27){_0x124a9e(_0x563a1f);continue;}_0x19f7d1['add'](_0x563a1f['aabb']),_0x26bef8+=_0x563a1f['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x5abd0b[_0x312043]['push'](_0x563a1f);}_0x312043++,_0x4e431b=_0x24d935;}return _0x5abd0b;}['collectBat'+'chedMeshDa'+'ta'](_0xc948d2,_0x3e5992){let _0x3cd26a=null,_0x4083f0=0xd*0x139+-0x1165*0x1+0x180,_0x17417a=-0x1bbc+0x724+-0x526*-0x4,_0x295a1f=null;for(let _0x342254=0x5dc+0x99*-0x24+-0x18*-0xa7;_0x342254<_0xc948d2['length'];_0x342254++)if(_0xc948d2[_0x342254]['visible']){const _0x5b9f83=_0xc948d2[_0x342254]['mesh'],_0x3dfba6=_0x5b9f83['vertexBuff'+'er']['numVertice'+'s'];if(_0x4083f0+=_0x3dfba6,_0x5b9f83['primitive'][0x13*0x1e+-0xb*-0x221+-0x19a5]['indexed'])_0x17417a+=_0x5b9f83['primitive'][-0x2*-0xc36+-0x2*0xcd7+-0x1*-0x142]['count'];else{const _0x2a387b=_0x5b9f83['primitive'][0x5f*0x3b+-0xf3f*0x1+-0x1*0x6a6]['type'];(_0x2a387b===oa||_0x2a387b===Er)&&_0x5b9f83['primitive'][0x1*0x1d72+-0x8e2+-0x1490]['count']===-0x1879+0x1c4*0x14+-0xad3*0x1&&(_0x17417a+=-0xce*-0xb+-0x1*0x26d+-0x1*0x667);}if(!_0x3cd26a){_0x295a1f=_0xc948d2[_0x342254]['material'],_0x3cd26a={};const _0x4dfeca=_0x5b9f83['vertexBuff'+'er']['format']['elements'];for(let _0x5778fe=-0x9cb+0x808+0x1c3;_0x5778fe<_0x4dfeca['length'];_0x5778fe++){const _0x2181f8=_0x4dfeca[_0x5778fe]['name'];_0x3cd26a[_0x2181f8]={'numComponents':_0x4dfeca[_0x5778fe]['numCompone'+'nts'],'dataType':_0x4dfeca[_0x5778fe]['dataType'],'normalize':_0x4dfeca[_0x5778fe]['normalize'],'count':0x0};}_0x3e5992&&(_0x3cd26a[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x2629*0x1+0x1d34+0x8f6),'count':0x0});}}return{'streams':_0x3cd26a,'batchNumVerts':_0x4083f0,'batchNumIndices':_0x17417a,'material':_0x295a1f};}['create'](_0x380a18,_0x1c735d,_0x346790){const _0x446bb0=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x3*0x3e1+-0x2*-0x136d+-0x2f*0x113));let _0x2bcb2f=null,_0x43602e,_0x2cac5e,_0x141fd2,_0x4b5872=null;const _0x54902a=this['collectBat'+'chedMeshDa'+'ta'](_0x380a18,_0x1c735d);if(_0x54902a['streams']){const _0x34a8e2=_0x54902a['streams'];let _0x2aa2da=_0x54902a['material'];const _0x339400=_0x54902a['batchNumVe'+'rts'],_0x1fd734=_0x54902a['batchNumIn'+'dices'];_0x4b5872=new g_(_0x380a18,_0x1c735d,_0x346790),this['_batchList']['push'](_0x4b5872);let _0x1e80e4,_0x1b6c1d,_0x240b40,_0x5c8643,_0x3471bb=-0x1e88+-0x3*0x571+0x5*0x95f,_0x2bcaf7=0x2076+0x105*0x11+-0x31cb,_0xb2cb5a;const _0x46e9f8=_0x339400<=-0x8f88+-0x66a*0x29+0x1*0x29681?Uint16Array:Uint32Array,_0x488a1e=new _0x46e9f8(_0x1fd734);for(_0x43602e in _0x34a8e2)_0x2bcb2f=_0x34a8e2[_0x43602e],_0x2bcb2f['typeArrayT'+'ype']=wn[_0x2bcb2f['dataType']],_0x2bcb2f['elementByt'+'eSize']=No[_0x2bcb2f['dataType']],_0x2bcb2f['buffer']=new _0x2bcb2f['typeArrayT'+'ype'](_0x339400*_0x2bcb2f['numCompone'+'nts']);for(let _0x27fe42=0xbb*0x1b+0xe63*0x2+-0x9b3*0x5;_0x27fe42<_0x380a18['length'];_0x27fe42++)if(_0x380a18[_0x27fe42]['visible']){_0x2cac5e=_0x380a18[_0x27fe42]['mesh'],_0x141fd2=_0x2cac5e['vertexBuff'+'er']['numVertice'+'s'],_0x1c735d||(_0xb2cb5a=_0x380a18[_0x27fe42]['node']['getWorldTr'+'ansform']());for(_0x43602e in _0x34a8e2)if(_0x43602e!==us){_0x2bcb2f=_0x34a8e2[_0x43602e];const _0x50758e=new _0x2bcb2f['typeArrayT'+'ype'](_0x2bcb2f['buffer']['buffer'],_0x2bcb2f['elementByt'+'eSize']*_0x2bcb2f['count']),_0x1ed2d2=_0x2cac5e['getVertexS'+'tream'](_0x43602e,_0x50758e)*_0x2bcb2f['numCompone'+'nts'];if(_0x2bcb2f['count']+=_0x1ed2d2,!_0x1c735d&&_0x2bcb2f['numCompone'+'nts']>=-0xf77+-0x26b7+0x3631*0x1){if(_0x43602e===Me){const _0x546d32=_0xb2cb5a['data'],_0x42291c=_0x546d32[-0x8b*-0x6+-0x2475+0x2133],_0x6622d9=_0x546d32[-0x41f*-0x9+0xc3e+-0x3154],_0x2f3880=_0x546d32[0x17*-0xd6+-0x368+0xcf*0x1c],_0x59c452=_0x546d32[0x1d*0xf3+-0x173d+0x2*-0x223],_0x163cf0=_0x546d32[0xa51*0x1+0x21b6+0x106*-0x2b],_0x550d74=_0x546d32[-0x43c*-0x2+-0x8*0x138+0x14e],_0x9ddea8=_0x546d32[-0x11+-0xbb+0xd4],_0x375d20=_0x546d32[0x1692+-0x25af*0x1+0xf26],_0xea5217=_0x546d32[0x2*-0x11bf+0x2056+-0x1*-0x332],_0x2e9284=_0x546d32[-0x493*0x1+-0xcec+0x118b],_0x3a8457=_0x546d32[-0x8*0x16f+-0xb6f*0x1+0x16f4],_0x75165e=_0x546d32[0x2*0x675+-0x1ec2+0x11e6];let _0x4fd8cf,_0x5b8f62,_0xa8a239;for(let _0x1d2069=0x13+-0x189f+0x188c;_0x1d2069<_0x1ed2d2;_0x1d2069+=_0x2bcb2f['numCompone'+'nts'])_0x4fd8cf=_0x50758e[_0x1d2069],_0x5b8f62=_0x50758e[_0x1d2069+(-0x7*-0x31+0xc*0x2fe+0xc6a*-0x3)],_0xa8a239=_0x50758e[_0x1d2069+(0xbc2+0x224*-0x4+-0x330)],_0x50758e[_0x1d2069]=_0x4fd8cf*_0x42291c+_0x5b8f62*_0x59c452+_0xa8a239*_0x9ddea8+_0x2e9284,_0x50758e[_0x1d2069+(-0x2*0x5+0x95*0x2b+-0x18fc)]=_0x4fd8cf*_0x6622d9+_0x5b8f62*_0x163cf0+_0xa8a239*_0x375d20+_0x3a8457,_0x50758e[_0x1d2069+(0x5fe+0x57d+-0x21*0x59)]=_0x4fd8cf*_0x2f3880+_0x5b8f62*_0x550d74+_0xa8a239*_0xea5217+_0x75165e;}else{if(_0x43602e===gs||_0x43602e===yi){A_['invertMat4'](_0xb2cb5a)['transpose']();const [_0x491705,_0xcb9709,_0x1060d8,_0x3b69f4,_0x51438c,_0x5900e2,_0x1799c1,_0x394ae4,_0x1b9b3c]=A_['data'];let _0x14fbd4,_0x28af27,_0x162e28;for(let _0x5e9dfe=-0x4a7*0x7+0xf01*0x1+0x1190;_0x5e9dfe<_0x1ed2d2;_0x5e9dfe+=_0x2bcb2f['numCompone'+'nts'])_0x14fbd4=_0x50758e[_0x5e9dfe],_0x28af27=_0x50758e[_0x5e9dfe+(0x316*-0xb+-0x1f*0xee+0x3ec5)],_0x162e28=_0x50758e[_0x5e9dfe+(0x22e3+0x2b4+-0x2595)],_0x50758e[_0x5e9dfe]=_0x14fbd4*_0x491705+_0x28af27*_0x3b69f4+_0x162e28*_0x1799c1,_0x50758e[_0x5e9dfe+(0x8c7+-0x5*0x239+0x257*0x1)]=_0x14fbd4*_0xcb9709+_0x28af27*_0x51438c+_0x162e28*_0x394ae4,_0x50758e[_0x5e9dfe+(0x6cc+-0x9b*-0x23+-0x1bfb)]=_0x14fbd4*_0x1060d8+_0x28af27*_0x5900e2+_0x162e28*_0x1b9b3c;}}}}if(_0x1c735d){_0x2bcb2f=_0x34a8e2[us];for(let _0x3fe6ed=0x2f*0xaf+0x1*0x17f8+-0x3819;_0x3fe6ed<_0x141fd2;_0x3fe6ed++)_0x2bcb2f['buffer'][_0x2bcb2f['count']++]=_0x27fe42;}if(_0x2cac5e['primitive'][-0x1*0x1744+-0x1bb9+-0xe5*-0x39]['indexed']){_0x1e80e4=_0x2cac5e['primitive'][-0x74a+-0x167+0x8b1]['base'],_0x1b6c1d=_0x2cac5e['primitive'][-0x189c+-0x4*-0x186+0x1284]['baseVertex']||-0x2*0xa9+-0xc*-0x326+-0x2476,_0x240b40=_0x2cac5e['primitive'][-0x1034+0xe*-0x295+0x345a]['count'];const _0xfc5479=_0x2cac5e['indexBuffe'+'r'][-0x8*-0x1a5+0x29*0xae+-0x2906]['getFormat']();_0x5c8643=new Sh[_0xfc5479](_0x2cac5e['indexBuffe'+'r'][0x233+0x1409+-0x163c]['storage']);}else{_0x1b6c1d=0x1c76+-0xf6f+-0x17*0x91;const _0x98ef32=_0x2cac5e['primitive'][-0x15d9+-0x10b1+-0x2*-0x1345]['type'];if(_0x98ef32===oa||_0x98ef32===Er){if(_0x2cac5e['primitive'][0xdce+-0x1a11+-0x49*-0x2b]['count']===-0x1*-0x2399+-0x1233+-0x8b1*0x2)_0x1e80e4=0x170+0x9fb+-0x4f*0x25,_0x240b40=-0x171f+-0x19d7+-0x1e*-0x1a2,_0x5c8643=_0x98ef32===oa?PE:ME;else{_0x240b40=-0x3c1*-0x8+0x131a+0x296*-0x13;continue;}}}for(let _0x2aa888=-0x5f0+0x1376+-0xd86;_0x2aa888<_0x240b40;_0x2aa888++)_0x488a1e[_0x2aa888+_0x2bcaf7]=_0x5c8643[_0x1e80e4+_0x2aa888]+_0x1b6c1d+_0x3471bb;_0x2bcaf7+=_0x240b40,_0x3471bb+=_0x141fd2;}_0x2cac5e=new Ge(this['device']);for(_0x43602e in _0x34a8e2)_0x2bcb2f=_0x34a8e2[_0x43602e],_0x2cac5e['setVertexS'+'tream'](_0x43602e,_0x2bcb2f['buffer'],_0x2bcb2f['numCompone'+'nts'],void(-0x4a7*0x1+0x7*-0x458+-0x1*-0x230f),_0x2bcb2f['dataType'],_0x2bcb2f['normalize']);_0x488a1e['length']>-0x20d7+0x1*-0x503+0x25da&&_0x2cac5e['setIndices'](_0x488a1e),_0x2cac5e['update'](js,!(-0x1f3e+0x2f*0x84+0x703)),_0x1c735d&&(_0x2aa2da=_0x2aa2da['clone'](),_0x2aa2da['update']());const _0x21a13f=new He(_0x2cac5e,_0x2aa2da,this['rootNode']);_0x21a13f['castShadow']=_0x4b5872['origMeshIn'+'stances'][-0x1289+-0x35*-0x7f+-0x7c2]['castShadow'],_0x21a13f['parameters']=_0x4b5872['origMeshIn'+'stances'][-0x1206+-0x279+0x147f]['parameters'],_0x21a13f['layer']=_0x4b5872['origMeshIn'+'stances'][-0x6d*0x13+0x1b4d+-0x99b*0x2]['layer'],_0x21a13f['_shaderDef'+'s']=_0x4b5872['origMeshIn'+'stances'][-0x1*0x1604+-0xa95+0x2099*0x1]['_shaderDef'+'s'],_0x21a13f['batching']=!(0x1a9f+0x57*-0x3a+-0x1d*0x3d),_0x21a13f['cull']=_0x4b5872['origMeshIn'+'stances'][-0x7*0x2dd+0xfe9+-0x17*-0x2e]['cull'];const _0x2d242d=this['_batchGrou'+'ps'][_0x346790];if(_0x2d242d&&_0x2d242d['_ui']&&(_0x21a13f['cull']=!(-0x1a6b*0x1+0x4*-0x46d+0x2c20)),_0x1c735d){const _0x27b930=[];for(let _0x148716=-0x1e2b*0x1+-0x2413+0x423e;_0x148716<_0x4b5872['origMeshIn'+'stances']['length'];_0x148716++)_0x27b930['push'](_0x4b5872['origMeshIn'+'stances'][_0x148716]['node']);_0x21a13f['skinInstan'+'ce']=new y_(this['device'],_0x27b930,this['rootNode']);}_0x21a13f['_updateAab'+'b']=!(0xacf+-0xb91+0x3*0x41),_0x21a13f['drawOrder']=_0x4b5872['origMeshIn'+'stances'][0xa7*-0xd+0xc26*0x3+-0x1bf7*0x1]['drawOrder'],_0x21a13f['stencilFro'+'nt']=_0x4b5872['origMeshIn'+'stances'][-0x13*-0x1f5+0x22a4+-0x47d3]['stencilFro'+'nt'],_0x21a13f['stencilBac'+'k']=_0x4b5872['origMeshIn'+'stances'][0x6*0xfc+-0x23b6+-0xe*-0x221]['stencilBac'+'k'],_0x21a13f['flipFacesF'+'actor']=jd(_0x4b5872['origMeshIn'+'stances'][-0x1ea5+0x4a*-0x80+-0x1*-0x43a5]),_0x21a13f['castShadow']=_0x4b5872['origMeshIn'+'stances'][0x2*0xd61+0x889+0x5*-0x70f]['castShadow'],_0x4b5872['meshInstan'+'ce']=_0x21a13f,_0x4b5872['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x446bb0,_0x4b5872;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x183c+0x8a*0x27+-0xf16*0x3&&this['generate'](this['_dirtyGrou'+'ps']);const _0x316cb0=de();for(let _0x53dcb3=-0x1*0x2dd+0x1ee9+-0x1c0c;_0x53dcb3<this['_batchList']['length'];_0x53dcb3++)this['_batchList'][_0x53dcb3]['dynamic']&&this['_batchList'][_0x53dcb3]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x316cb0;}['clone'](_0x5786a0,_0x2f87b9){const _0x483bb7=new g_(_0x2f87b9,_0x5786a0['dynamic'],_0x5786a0['batchGroup'+'Id']);this['_batchList']['push'](_0x483bb7);const _0x29fe21=[];for(let _0x307592=-0x28e*-0xb+-0x129d+-0x97d;_0x307592<_0x2f87b9['length'];_0x307592++)_0x29fe21['push'](_0x2f87b9[_0x307592]['node']);return _0x483bb7['meshInstan'+'ce']=new He(_0x5786a0['meshInstan'+'ce']['mesh'],_0x5786a0['meshInstan'+'ce']['material'],_0x5786a0['meshInstan'+'ce']['node']),_0x483bb7['meshInstan'+'ce']['_updateAab'+'b']=!(0x76a+0x1*-0xd6d+0x604),_0x483bb7['meshInstan'+'ce']['parameters']=_0x2f87b9[-0x777*-0x3+-0x1755+-0x14*-0xc]['parameters'],_0x483bb7['meshInstan'+'ce']['cull']=_0x2f87b9[-0x1*-0x1e66+-0x3ea*-0x5+-0x31f8]['cull'],_0x483bb7['meshInstan'+'ce']['layer']=_0x2f87b9[0x1adf+0x17*0x11+-0x1c66]['layer'],_0x5786a0['dynamic']&&(_0x483bb7['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x29fe21,this['rootNode'])),_0x483bb7['meshInstan'+'ce']['castShadow']=_0x5786a0['meshInstan'+'ce']['castShadow'],_0x483bb7;}['destroyBat'+'ch'](_0x4a084f){_0x4a084f['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x4a084f['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0xf84a93,_0x34bd5d,_0x811c71){if((_0xf84a93==null?void(-0xf65+0x1c6b*-0x1+-0x2bd0*-0x1):_0xf84a93['colorBuffe'+'r']['format'])!==_0x811c71)return!(-0x1*-0x4b4+0xe4a+-0x12fe);const _0x46c510=(_0x34bd5d==null?void(0x6*-0x4ae+-0x17f4+0x14*0x29a):_0x34bd5d['width'])||this['device']['width'],_0x2142b6=(_0x34bd5d==null?void(-0xd87*0x1+0x1913+0xb8c*-0x1):_0x34bd5d['height'])||this['device']['height'];return!_0xf84a93||_0x46c510!==_0xf84a93['width']||_0x2142b6!==_0xf84a93['height'];}['allocateRe'+'nderTarget'](_0x404310,_0x45d74f,_0x1494a2,_0x5a847b){const _0x33d988=new _e(_0x1494a2,{'name':P_,'format':_0x5a847b,'width':_0x45d74f?_0x45d74f['colorBuffe'+'r']['width']:_0x1494a2['width'],'height':_0x45d74f?_0x45d74f['colorBuffe'+'r']['height']:_0x1494a2['height'],'mipmaps':!(-0x1934+-0x1d21+-0x3655*-0x1),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x404310?(_0x404310['destroyFra'+'meBuffers'](),_0x404310['_colorBuff'+'er']=_0x33d988,_0x404310['_colorBuff'+'ers']=[_0x33d988]):_0x404310=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x33d988,'depth':!(-0x2ed*0x2+-0x1df5+0x23d0),'stencil':!(0x1664+0x231a+0x397d*-0x1),'autoResolve':!(0x2*-0xb52+0x19fd+0x1ac*-0x2)}),_0x404310;}['releaseRen'+'derTarget'](_0x184f12){_0x184f12&&(_0x184f12['destroyTex'+'tureBuffer'+'s'](),_0x184f12['destroy']());}['frameUpdat'+'e'](){const _0x4ac367=this['device'],_0x55825b=this['source'],_0x2ac882=(_0x55825b==null?void(0x26*-0x89+-0x3a*0x49+-0x76*-0x50):_0x55825b['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x55825b==null?void(-0x1*-0x2f5+-0x1*0xe8+-0x20d*0x1):_0x55825b['colorBuffe'+'r'],_0x2ac882)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x55825b,_0x4ac367,_0x2ac882));const _0x56b8cd=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4ac367['scope']['resolve'](P_)['setValue'](_0x56b8cd);}['execute'](){const _0x4a4d0b=this['device'];Q['pushGpuMar'+'ker'](_0x4a4d0b,'GRAB-COLOR');const _0x1769c3=this['source'],_0x374072=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4a4d0b['isWebGPU']?(_0x4a4d0b['copyRender'+'Target'](_0x1769c3,this['colorRende'+'rTarget'],!(0x1c5e+0x1*0x2225+-0x1*0x3e83),!(-0xde*0x9+-0x4*0x852+0x2917)),_0x4a4d0b['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x4a4d0b['copyRender'+'Target'](_0x1769c3,this['colorRende'+'rTarget'],!(-0x36b*-0x4+-0x8*0x3d7+0x110c),!(0x4f9*0x1+0x3*0xa7b+-0x1*0x2469)),_0x4a4d0b['activeText'+'ure'](_0x4a4d0b['maxCombine'+'dTextures']-(-0x15ce+-0x2043+0x3612)),_0x4a4d0b['bindTextur'+'e'](_0x374072),_0x4a4d0b['gl']['generateMi'+'pmap'](_0x374072['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x4a4d0b);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x120cd7,_0xf1bac9){super(_0x120cd7),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0xf1bac9;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x30392e,_0x133252){const _0x21e198=(_0x133252==null?void(0x1a*-0xf1+-0x11ec+0x51*0x86):_0x133252['width'])||this['device']['width'],_0x196874=(_0x133252==null?void(-0x1142+-0x1973+-0x349*-0xd):_0x133252['height'])||this['device']['height'];return!_0x30392e||_0x21e198!==_0x30392e['width']||_0x196874!==_0x30392e['height'];}['allocateRe'+'nderTarget'](_0x4f817a,_0x466843,_0xe3e504,_0x1f3a5f,_0x554d9b){const _0x47fa55=new _e(_0xe3e504,{'name':M_,'format':_0x1f3a5f,'width':_0x466843?_0x466843['colorBuffe'+'r']['width']:_0xe3e504['width'],'height':_0x466843?_0x466843['colorBuffe'+'r']['height']:_0xe3e504['height'],'mipmaps':!(-0x16*-0x79+-0x4d3+-0x1f*0x2e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x4f817a?(_0x4f817a['destroyFra'+'meBuffers'](),_0x554d9b?_0x4f817a['_depthBuff'+'er']=_0x47fa55:(_0x4f817a['_colorBuff'+'er']=_0x47fa55,_0x4f817a['_colorBuff'+'ers']=[_0x47fa55])):_0x4f817a=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x554d9b?null:_0x47fa55,'depthBuffer':_0x554d9b?_0x47fa55:null,'depth':!_0x554d9b,'stencil':_0xe3e504['supportsSt'+'encil'],'autoResolve':!(0x115f+0x2b1*-0x1+-0xead)}),_0x4f817a;}['releaseRen'+'derTarget'](_0xe84068){_0xe84068&&(_0xe84068['destroyTex'+'tureBuffer'+'s'](),_0xe84068['destroy']());}['before'](){var _0x5586d4,_0x29ca42;const _0x1b8ead=this['camera'],_0x1bfe94=this['device'],_0x39d94a=(_0x1b8ead==null?void(0x1411+0x90b*0x4+-0x383d):_0x1b8ead['renderTarg'+'et'])??_0x1bfe94['backBuffer'];let _0x1f6481=!(-0x2*0x3d3+-0x85*-0x2b+0xeb1*-0x1),_0x5a2803=_0x39d94a['stencil']?sd:$i;_0x1bfe94['isWebGPU']&&_0x39d94a['samples']>-0x1355+0x32*0x74+-0x352&&(_0x5a2803=Ji,_0x1f6481=!(0x355+-0x10e1+0x1*0xd8d));const _0x24de29=((_0x5586d4=_0x1b8ead['renderTarg'+'et'])==null?void(0x1*0xda9+-0x165a*-0x1+-0x2403):_0x5586d4['depthBuffe'+'r'])??((_0x29ca42=_0x1b8ead['renderTarg'+'et'])==null?void(0x17fd+0x12a7*0x1+-0x1*0x2aa4):_0x29ca42['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x24de29)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x1b8ead['renderTarg'+'et'],_0x1bfe94,_0x5a2803,_0x1f6481));const _0x53055e=_0x1f6481?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x1bfe94['scope']['resolve'](M_)['setValue'](_0x53055e);}['execute'](){const _0x38f43f=this['device'];if(Q['pushGpuMar'+'ker'](_0x38f43f,'GRAB-DEPTH'),_0x38f43f['isWebGL2']&&_0x38f43f['renderTarg'+'et']['samples']>0x2186+0x606*0x6+0x45a9*-0x1){const _0x2109ed=_0x38f43f['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x23ada0=this['depthRende'+'rTarget'];_0x38f43f['renderTarg'+'et']=_0x23ada0,_0x38f43f['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x38f43f,_0x2109ed,_0x23ada0['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x38f43f['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x38f43f['copyRender'+'Target'](_0x38f43f['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x14fa+-0x2087+0x3582),!(0x16cb+-0x665*-0x4+-0x305f));Q['popGpuMark'+'er'](_0x38f43f);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x208f+0x1*0x1123+0xf6d)),h(this,'_ssaoEnabl'+'ed',!(0x19*0x41+-0x1c2f+0x1*0x15d7)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(0x13d*0xd+0x2*0x118d+-0x3332*0x1)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0xda7+0x1d19*-0x1+0x720*0x6));}get['hash'](){if(this['_hash']===void(-0x255*0x9+0x3*-0xbf+-0x1*-0x173a)){const _0x25c7bb=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x25c7bb);}return this['_hash'];}get['defines'](){const _0x17107f=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x26b3+-0x7e1+-0x1ed1),_0x17107f['clear'](),this['_sceneDept'+'hMapLinear']&&_0x17107f['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x7cf*0x1+0x4d7*-0x3+0x1654)),_0x17107f['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x17107f['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x17107f['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x17107f;}['markDirty'](){this['_hash']=void(0x2fe+-0x20a7+0x1da9),this['_definesDi'+'rty']=!(-0x186*-0x11+-0x11da+-0x80c);}set['fog'](_0x1df181){this['_fog']!==_0x1df181&&(this['_fog']=_0x1df181,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x557d20){this['_ssaoEnabl'+'ed']!==_0x557d20&&(this['_ssaoEnabl'+'ed']=_0x557d20,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x2f0bb3){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1d84+0x5ab+0x17d9),this['_gammaCorr'+'ection']!==_0x2f0bb3&&(this['_gammaCorr'+'ection']=_0x2f0bb3,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x597fb7){this['_toneMappi'+'ng']!==_0x597fb7&&(this['_toneMappi'+'ng']=_0x597fb7,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x51b8c6){this['_srgbRende'+'rTarget']!==_0x51b8c6&&(this['_srgbRende'+'rTarget']=_0x51b8c6,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x179034){this['_sceneDept'+'hMapLinear']!==_0x179034&&(this['_sceneDept'+'hMapLinear']=_0x179034,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x1dc0+0x6fc+0x16c4),(this['_aspectRat'+'io']=(-0x2*-0xa91+-0x2344+0xe32)/(0x283*0x1+-0x892+-0x1a*-0x3c),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x2422+-0x1c95+-0x1*0x78d+0.75,0x9*-0x5b+-0xc*0x29c+0x11d*0x1f+0.75,0x181+0x17*0x137+-0x1d72+0.75,0x117c*-0x1+-0xa05+0x1b82),this['_clearColo'+'rBuffer']=!(0xf07+-0x4e7*-0x1+0x1*-0x13ee),this['_clearDept'+'h']=-0xd05+-0x188*0x7+-0x17be*-0x1,this['_clearDept'+'hBuffer']=!(0x1c8+0x2038+0x220*-0x10),this['_clearSten'+'cil']=0xe18+-0x20f3+0x3*0x649,this['_clearSten'+'cilBuffer']=!(0x6*-0x54e+0x1*0x1d39+0x29b),this['_cullFaces']=!(-0xdec+-0x1d1c+-0x51*-0x88),this['_farClip']=-0x3*0x146+0x1*-0x33d+0xaf7,this['_flipFaces']=!(0x556+0x439*0x6+0x1*-0x1eab),this['_fov']=0x2175+0x57b*-0x1+0x1bcd*-0x1,this['_frustumCu'+'lling']=!(0x127e+-0x1*-0x2237+0x67*-0x83),this['_horizonta'+'lFov']=!(-0x1784+-0x199a*0x1+-0x1*-0x311f),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x1*-0x11e5+-0x1*-0xdb+0x110a+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x1*-0x2567+-0x1c50+-0x90d,this['_projectio'+'n']=ni,this['_rect']=new re(0x288+-0x1d*-0x27+-0x251*0x3,0x12fb+-0x21eb+0xef0,-0x150b+-0x1*-0x18df+-0x1*0x3d3,0x2f*0x35+0x1*-0xb7e+0x1c4),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0xdb4+-0x1*0x1451+0x1*0x2205,-0x1dab+0x9a*-0x9+0x2315,0x182a+-0x1*-0x1e61+-0x368a*0x1,-0x22b7+-0x32b*-0x9+0xe3*0x7),this['_scissorRe'+'ctClear']=!(-0x13cb*0x1+-0x3cd+-0x7*-0x35f),this['_aperture']=-0x1*0x76+-0x1db2+0x1e38,this['_shutter']=(-0x100a*-0x1+0x6f0+0x1*-0x16f9)/(-0x2051*-0x1+-0x1*0x1595+0x5c*-0x13),this['_sensitivi'+'ty']=0x1626+-0x12aa+0x36*0x2,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x1f*0xdb+0x1*0x8ab+0x1*-0x2330),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0x15df*0x1+-0x1*0x10bd+-0x522),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x1ed3*-0x1+0x4*-0x74f+-0x197),this['_shaderMat'+'ricesVersi'+'on']=-0x1f7b+-0x7*-0x2fa+0x221*0x5,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x992+-0x11*0xad+-0x1eb*-0x1,-0x149d*0x1+0x1*0xfb+0x9d1*0x2,-0xe+-0x5*0x4fe+0x1904,-0x105*-0x9+-0x1d3d+0x30*0x6b],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x47af94,_0x42e376;(_0x47af94=this['renderPass'+'ColorGrab'])==null||_0x47af94['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x42e376=this['renderPass'+'DepthGrab'])==null||_0x42e376['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x9*0x1e4+0x2161+-0x105d;}['_storeShad'+'erMatrices'](_0x1c3da4,_0x1c5d82,_0x487a03,_0x358b03){this['_shaderMat'+'ricesVersi'+'on']!==_0x358b03&&(this['_shaderMat'+'ricesVersi'+'on']=_0x358b03,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x1c3da4),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x1c3da4),this['_viewProjI'+'nverse']['invert'](_0x1c3da4),this['_jitters'][0x79*0x4e+0x8d1*-0x1+0x959*-0x3]=this['_jitters'][-0x6d9+0x1ddf+-0x1706],this['_jitters'][0x110e+-0x1d1e+-0x1*-0xc13]=this['_jitters'][-0xef*-0x29+0x1*-0x185f+-0x1*0xde7],this['_jitters'][-0x18b9+-0xd22+0x25db]=_0x1c5d82,this['_jitters'][0xfb1+-0x207*0xd+0xaab]=_0x487a03);}get['fullSizeCl'+'earRect'](){const _0x386d9c=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x386d9c['x']===-0x835+0xf07*0x1+-0x6d2&&_0x386d9c['y']===0x398+0x192a+-0x1cc2&&_0x386d9c['z']===-0x1eb2+-0x6b2*0x1+0x2565&&_0x386d9c['w']===0x2*-0x12f4+0x1*0x326+-0x1*-0x22c3;}set['aspectRati'+'o'](_0x5d129a){this['_aspectRat'+'io']!==_0x5d129a&&(this['_aspectRat'+'io']=_0x5d129a,this['_projMatDi'+'rty']=!(0x1b1*-0x3+0xd07*0x1+0x1fd*-0x4));}get['aspectRati'+'o'](){var _0x14906e;return(_0x14906e=this['xr'])!=null&&_0x14906e['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x5cf86e){this['_aspectRat'+'ioMode']!==_0x5cf86e&&(this['_aspectRat'+'ioMode']=_0x5cf86e,this['_projMatDi'+'rty']=!(-0x26d9+-0x1*-0x24a1+-0x47*-0x8));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x505ef7){this['_calculate'+'Projection']=_0x505ef7,this['_projMatDi'+'rty']=!(-0x44c+0x85+0x3c7);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x18517b){this['_calculate'+'Transform']=_0x18517b;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x4b4ce2){this['_clearColo'+'r']['copy'](_0x4b4ce2);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x5eb644){this['_clearColo'+'rBuffer']=_0x5eb644;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0xffe4fd){this['_clearDept'+'h']=_0xffe4fd;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x129cc1){this['_clearDept'+'hBuffer']=_0x129cc1;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x174d22){this['_clearSten'+'cil']=_0x174d22;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x190c27){this['_clearSten'+'cilBuffer']=_0x190c27;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x2f85c5){this['_cullFaces']=_0x2f85c5;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4be193){this['_farClip']!==_0x4be193&&(this['_farClip']=_0x4be193,this['_projMatDi'+'rty']=!(0x2491+-0x5*-0x308+-0x33b9));}get['farClip'](){var _0x346725;return(_0x346725=this['xr'])!=null&&_0x346725['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x354410){this['_flipFaces']=_0x354410;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x45c3d7){this['_fov']!==_0x45c3d7&&(this['_fov']=_0x45c3d7,this['_projMatDi'+'rty']=!(0x7*-0x7+0x4*0x226+-0x2cd*0x3));}get['fov'](){var _0x306b17;return(_0x306b17=this['xr'])!=null&&_0x306b17['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x1dae39){this['_frustumCu'+'lling']=_0x1dae39;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x97c33){this['_horizonta'+'lFov']!==_0x97c33&&(this['_horizonta'+'lFov']=_0x97c33,this['_projMatDi'+'rty']=!(-0x36a+-0x3ed+-0x1*-0x757));}get['horizontal'+'Fov'](){var _0x450aed;return(_0x450aed=this['xr'])!=null&&_0x450aed['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x7549ee){this['_layers']=_0x7549ee['slice'](-0x1b2f+0x181f+-0x10*-0x31),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x5c26d5){this['_nearClip']!==_0x5c26d5&&(this['_nearClip']=_0x5c26d5,this['_projMatDi'+'rty']=!(0x5*-0x398+0xe72*-0x1+-0x1cd*-0x12));}get['nearClip'](){var _0x42260c;return(_0x42260c=this['xr'])!=null&&_0x42260c['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x2388ad){this['_node']=_0x2388ad;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0xd4d89){this['_orthoHeig'+'ht']!==_0xd4d89&&(this['_orthoHeig'+'ht']=_0xd4d89,this['_projMatDi'+'rty']=!(-0x74b+0xb99*-0x3+0x2a16));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x161f4b){this['_projectio'+'n']!==_0x161f4b&&(this['_projectio'+'n']=_0x161f4b,this['_projMatDi'+'rty']=!(0xb71+-0xafa+-0x77));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x1b14e4){this['_rect']['copy'](_0x1b14e4);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x1f6322){this['_renderTar'+'get']=_0x1f6322;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x2958ff){this['_scissorRe'+'ct']['copy'](_0x2958ff);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x21af38=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x21af38)['invert'](),this['_viewMatDi'+'rty']=!(0x1cdb+0x5e+-0x4*0x74e);}return this['_viewMat'];}set['aperture'](_0x4c3c4a){this['_aperture']=_0x4c3c4a;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x2e7c38){this['_sensitivi'+'ty']=_0x2e7c38;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0xb113a0){this['_shutter']=_0xb113a0;}get['shutter'](){return this['_shutter'];}set['xr'](_0x3b77e8){this['_xr']!==_0x3b77e8&&(this['_xr']=_0x3b77e8,this['_projMatDi'+'rty']=!(-0x2f*0xaa+0x4a7*-0x8+0x446e*0x1));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x504027){return this['_aspectRat'+'io']=_0x504027['_aspectRat'+'io'],this['_farClip']=_0x504027['_farClip'],this['_fov']=_0x504027['_fov'],this['_horizonta'+'lFov']=_0x504027['_horizonta'+'lFov'],this['_nearClip']=_0x504027['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x504027['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x504027['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x504027['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x504027['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x504027['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x504027['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x504027['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x504027['calculateT'+'ransform'],this['clearColor']=_0x504027['clearColor'],this['clearColor'+'Buffer']=_0x504027['clearColor'+'Buffer'],this['clearDepth']=_0x504027['clearDepth'],this['clearDepth'+'Buffer']=_0x504027['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x504027['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x504027['clearStenc'+'ilBuffer'],this['cullFaces']=_0x504027['cullFaces'],this['flipFaces']=_0x504027['flipFaces'],this['frustumCul'+'ling']=_0x504027['frustumCul'+'ling'],this['layers']=_0x504027['layers'],this['orthoHeigh'+'t']=_0x504027['orthoHeigh'+'t'],this['projection']=_0x504027['projection'],this['rect']=_0x504027['rect'],this['renderTarg'+'et']=_0x504027['renderTarg'+'et'],this['scissorRec'+'t']=_0x504027['scissorRec'+'t'],this['aperture']=_0x504027['aperture'],this['shutter']=_0x504027['shutter'],this['sensitivit'+'y']=_0x504027['sensitivit'+'y'],this['shaderPass'+'Info']=_0x504027['shaderPass'+'Info'],this['jitter']=_0x504027['jitter'],this['_projMatDi'+'rty']=!(-0x1e01*0x1+0x959*0x2+0x3*0x3c5),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x10017a,_0x9827b){var _0x29c19e;_0x9827b?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x10017a)):((_0x29c19e=this['renderPass'+'ColorGrab'])==null||_0x29c19e['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x2e71fb,_0x53d8f7,_0x695575){var _0x1536ac;_0x695575?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x2e71fb,this)):((_0x1536ac=this['renderPass'+'DepthGrab'])==null||_0x1536ac['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0xc70+0x1*0x2327+-0x1*0x16b6));}['worldToScr'+'een'](_0x916f06,_0x36daaa,_0x541028,_0x1a6a0d=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x916f06,_0x1a6a0d);const _0xce7739=this['_viewProjM'+'at']['data'],_0x2399c8=_0x916f06['x']*_0xce7739[0x1253+-0xd2d+-0x1*0x523]+_0x916f06['y']*_0xce7739[0xb*-0x277+0x10da+0x1*0xa4a]+_0x916f06['z']*_0xce7739[-0xa73+-0x115*0x3+0xdbd]+(0x11*0xb3+-0x1a4b+-0x77*-0x1f)*_0xce7739[0x4a6*-0x7+0x21*0xd3+0x566];_0x1a6a0d['x']=(_0x1a6a0d['x']/_0x2399c8+(0x4ba+0x1341+-0x17fa))*(0x72b+0x10e7+-0x1812+0.5),_0x1a6a0d['y']=(-0x1bde+-0x51*0x1a+0x2419-_0x1a6a0d['y']/_0x2399c8)*(-0x501+-0xef4+-0x1*-0x13f5+0.5);const {x:_0x4bf663,y:_0x187a70,z:_0x294900,w:_0x53651f}=this['_rect'];return _0x1a6a0d['x']=_0x1a6a0d['x']*_0x294900*_0x36daaa+_0x4bf663*_0x36daaa,_0x1a6a0d['y']=_0x1a6a0d['y']*_0x53651f*_0x541028+(-0x4bd*0x3+0xf73+-0x13b-_0x187a70-_0x53651f)*_0x541028,_0x1a6a0d;}['screenToWo'+'rld'](_0x33751c,_0x2fbe26,_0x1f57a8,_0x583956,_0xfc15e3,_0x137d19=new D()){const {x:_0x5431ee,y:_0x246706,z:_0x39fd80,w:_0x3c64dd}=this['_rect'],_0x345261=this['farClip']-this['nearClip'];if(La['set']((_0x33751c-_0x5431ee*_0x583956)/(_0x39fd80*_0x583956),0x8a*0x3f+0x1*0x11e7+-0x4*0xcf7-(_0x2fbe26-(-0x1cfe+-0x1ec8+0x3bc7-_0x246706-_0x3c64dd)*_0xfc15e3)/(_0x3c64dd*_0xfc15e3),_0x1f57a8/_0x345261),La['mulScalar'](-0x1810+0xf07+0x1cf*0x5),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0xe155fd=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0xe155fd['transformP'+'oint'](ao,D_);const _0x2034fe=this['_node']['getPositio'+'n']();_0x137d19['sub2'](D_,_0x2034fe),_0x137d19['normalize'](),_0x137d19['mulScalar'](_0x1f57a8),_0x137d19['add'](_0x2034fe);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x137d19);return _0x137d19;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x32fea8=this['_orthoHeig'+'ht'],_0x257d9d=_0x32fea8*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x257d9d,_0x257d9d,-_0x32fea8,_0x32fea8,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x40*-0x39+-0x26ad*-0x1+-0x186c);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x4e4a50=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x2*0x313+-0x1e8b+0x2515)/this['_sensitivi'+'ty']);return(0x1*0x2159+-0x10f6*-0x1+0x2*-0x1927)/(Math['pow'](-0x129c+-0x15b4+0x2852,_0x4e4a50)*(0x2d*0xcb+0x4e5*-0x1+0x3*-0xa43+0.19999999999999996));}['getScreenS'+'ize'](_0x3f9643){if(this['_projectio'+'n']===ni){const _0x3c0711=this['_node']['getPositio'+'n']()['distance'](_0x3f9643['center']);if(_0x3c0711<_0x3f9643['radius'])return-0x14d*0x9+0x1*0x2185+-0x15cf;const _0xfaa81e=Math['asin'](_0x3f9643['radius']/_0x3c0711),_0x53385a=Math['tan'](_0xfaa81e),_0x418d60=Math['tan'](this['fov']/(-0x69d+-0xff2+0x6d*0x35)*Y['DEG_TO_RAD']);return Math['min'](_0x53385a/_0x418d60,-0x13cb+-0x73*0x2b+0x24d*0x11);}return Y['clamp'](_0x3f9643['radius']/this['_orthoHeig'+'ht'],0x12ea+-0x2548+-0x125e*-0x1,0xe20*-0x2+0x43*0x44+0xa75);}['getFrustum'+'Corners'](_0x1e5fac=this['nearClip'],_0x59cbe4=this['farClip']){const _0x36f579=this['fov']*Math['PI']/(0x1067+-0x107*0x24+-0x1549*-0x1);let _0x5e06c9,_0x3fda52;this['projection']===ni?this['horizontal'+'Fov']?(_0x5e06c9=_0x1e5fac*Math['tan'](_0x36f579/(0x24f7*0x1+0x620+-0x2b15)),_0x3fda52=_0x5e06c9/this['aspectRati'+'o']):(_0x3fda52=_0x1e5fac*Math['tan'](_0x36f579/(0x1d53+-0x4ff+-0x11b*0x16)),_0x5e06c9=_0x3fda52*this['aspectRati'+'o']):(_0x3fda52=this['_orthoHeig'+'ht'],_0x5e06c9=_0x3fda52*this['aspectRati'+'o']);const _0x2195c5=OE;return _0x2195c5[-0xd31+-0x1d*0x9+-0x71b*-0x2]['x']=_0x5e06c9,_0x2195c5[0x1*-0x18f5+0x2*0xa0d+0x4db]['y']=-_0x3fda52,_0x2195c5[0x42*-0x29+-0xb51*-0x3+-0x1761]['z']=-_0x1e5fac,_0x2195c5[0xefb+-0x253d*-0x1+-0x3437]['x']=_0x5e06c9,_0x2195c5[-0x65*0x47+0x5a*-0xf+0x214a]['y']=_0x3fda52,_0x2195c5[-0x29*0x2+-0x161*0x5+0x738]['z']=-_0x1e5fac,_0x2195c5[-0x19*0xd+0x1f3d+-0x24e*0xd]['x']=-_0x5e06c9,_0x2195c5[0x9*0x6f+-0x219*-0x9+0x35*-0x6e]['y']=_0x3fda52,_0x2195c5[-0x1*0x1d75+0x107f+-0x4*-0x33e]['z']=-_0x1e5fac,_0x2195c5[-0x1*0x1841+-0x36b+0x1baf]['x']=-_0x5e06c9,_0x2195c5[-0x1*0x2104+-0x1ab+0x22b2]['y']=-_0x3fda52,_0x2195c5[0x1*0x1e3f+0x1*-0x608+-0x1834]['z']=-_0x1e5fac,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x5e06c9=_0x59cbe4*Math['tan'](_0x36f579/(0x66b*0x2+0x184*-0x2+0x21*-0x4c)),_0x3fda52=_0x5e06c9/this['aspectRati'+'o']):(_0x3fda52=_0x59cbe4*Math['tan'](_0x36f579/(-0x26cf+0x2*0x2b7+0x21*0x103)),_0x5e06c9=_0x3fda52*this['aspectRati'+'o'])),_0x2195c5[0xeb*0x7+-0xc25+-0x4*-0x16f]['x']=_0x5e06c9,_0x2195c5[0x49*0x49+0x2a5*0x7+-0x2750]['y']=-_0x3fda52,_0x2195c5[0x248e+-0x8*-0x356+-0x1f9d*0x2]['z']=-_0x59cbe4,_0x2195c5[-0xdc3+-0x1079*-0x2+0x1*-0x132a]['x']=_0x5e06c9,_0x2195c5[0x41*-0x38+0x21ea+-0x13ad]['y']=_0x3fda52,_0x2195c5[-0x84d+-0xd94+0x15e6]['z']=-_0x59cbe4,_0x2195c5[0x256c+0x22b9+0x481f*-0x1]['x']=-_0x5e06c9,_0x2195c5[-0x40*-0x5a+0x16a*-0x3+0xc*-0x185]['y']=_0x3fda52,_0x2195c5[0x2*-0x1ca+-0xdb*-0x1+-0x13*-0x25]['z']=-_0x59cbe4,_0x2195c5[0x6f7+0x1*-0x1399+0xca9]['x']=-_0x5e06c9,_0x2195c5[-0x1d9e+-0x1*-0x1816+0x58f]['y']=-_0x3fda52,_0x2195c5[0xb*-0x228+-0x2*-0xdc4+0x3*-0x143]['z']=-_0x59cbe4,_0x2195c5;}['setXrPrope'+'rties'](_0x35f168){Object['assign'](this['_xrPropert'+'ies'],_0x35f168),this['_projMatDi'+'rty']=!(-0x1a70+-0x18d2+-0x3*-0x1116);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x22b418,_0x16c1e9,_0x527228){const _0x2a2b00=new Fl();switch(_0x2a2b00['node']=new Ie(_0x22b418),_0x2a2b00['aspectRati'+'o']=-0x45*0x6+-0x1*-0x1c12+-0x1a73,_0x2a2b00['aspectRati'+'oMode']=lu,_0x2a2b00['_scissorRe'+'ctClear']=!(0x12f7*-0x1+-0x3*0x8bf+0x2d34),_0x16c1e9){case Ke:_0x2a2b00['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x527228]),_0x2a2b00['fov']=0xb55+0x89*-0x1+-0xa72*0x1,_0x2a2b00['projection']=ni;break;case Ze:_0x2a2b00['projection']=ni;break;case ve:_0x2a2b00['projection']=En;break;}return _0x2a2b00;}static['evalSpotCo'+'okieMatrix'](_0x26f856){let _0x464b0e=gr['_spotCooki'+'eCamera'];_0x464b0e||(_0x464b0e=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x464b0e),_0x464b0e['fov']=_0x26f856['_outerCone'+'Angle']*(-0x212a+0xae3+-0x1*-0x1649);const _0x209465=_0x464b0e['_node'];_0x209465['setPositio'+'n'](_0x26f856['_node']['getPositio'+'n']()),_0x209465['setRotatio'+'n'](_0x26f856['_node']['getRotatio'+'n']()),_0x209465['rotateLoca'+'l'](-(-0x1*0x1645+-0x7f9+-0x2*-0xf4c),0x4*-0x347+0x11f7+-0xb*0x71,0x1623+-0x23da+-0x1*-0xdb7),L_['setTRS'](_0x209465['getPositio'+'n'](),_0x209465['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x464b0e['projection'+'Matrix'],L_);const _0x224f92=_0x26f856['cookieMatr'+'ix'],_0x55d97f=_0x26f856['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x55d97f['x'],_0x55d97f['y'],_0x55d97f['z'],_0x55d97f['w']),_0x224f92['mul2'](O_,R_),_0x224f92;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0xbd9+0x20b1+-0x5c*0x3a,0x1dea+0x21f4+-0x3f84,0x2292+-0x1abf+-0x1*0x71f),new le()['setFromEul'+'erAngles'](0x1d5+-0x267e+0x24a9,-(0x17*-0x15b+0x4c7*-0x6+0x1*0x3c31),0xdf4+-0x5d1*0x6+0x15a6),new le()['setFromEul'+'erAngles'](0x19fa+-0x1c2+-0x17de,0xa80+0x7c4+0x491*-0x4,0x70f*0x4+-0xc0*-0x15+0x233*-0x14),new le()['setFromEul'+'erAngles'](-(-0x15e3+0x101*-0x11+0x274e),-0x16d3+0xb*-0x2eb+0x36ec,-0x914+0x527*0x3+0x1*-0x661),new le()['setFromEul'+'erAngles'](-0x70c*0x5+0x106*-0x22+0xf9*0x48,-0x76a*0x5+0x1e07*0x1+0x7bf,-0x4dc+0x91+0x4ff),new le()['setFromEul'+'erAngles'](-0xcaf+-0x4d*-0x5f+-0x12*0xe2,0x1*-0x18b9+0x186d+0x4c,-0x8a0+0x12e6+-0x992)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x7*0x3e+-0x5f7+0x7af),FE=new D(-(-0x177*0xd+-0x1*-0x1023+0x6*0x7c+0.5),0x3b4*-0x4+-0x1a7a+-0x14a5*-0x2,-0x5b9+-0x457*-0x1+0x162),NE=new D(0x813*0x2+-0xcb9*-0x3+-0x121b*0x3,-0x1006+0xe32+-0x4*-0x75,0xb1e+0xd1e+-0x183c+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x46b8df,_0x5450db)=>Object['keys'](_0x46b8df)['map'](_0xb5f6cc=>'#define\x20{'+_0x5450db+_0xb5f6cc+'}\x20'+_0x46b8df[_0xb5f6cc])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x1bee6f){h(this,'areaLights'+'Enabled',!(-0x840+0x6a0+0x1a1)),(this['device']=_0x1bee6f,Pe['get'](_0x1bee6f,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x1bee6f,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x1e23+0x1*0x1cd1+-0x3af3),this['shadowsEna'+'bled']=!(0x74f*0x2+-0x9*-0x3e1+-0x3186),this['areaLights'+'Enabled']=!(-0x691*-0x2+0x2*0x265+-0x11eb),this['maxLights']=0x147a+-0x2*0x19a+0x1cf*-0x9);const _0x152b51=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x20a8+-0x110e*0x1+0x31ba)*_0x152b51*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x152b51,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x2448+-0x15b*0x1c+-0x1*-0x1ac,this['invMaxAtte'+'nuation']=-0xa16*-0x1+0x8d0+-0x2*0x973,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x27ca20;(_0x27ca20=this['lightsText'+'ure'])==null||_0x27ca20['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x3e9ab0,_0xb431da,_0x29bd26,_0x27194b,_0x5d680c){return new _e(_0x3e9ab0,{'name':_0x5d680c,'width':_0xb431da,'height':_0x29bd26,'mipmaps':!(-0x9*-0x163+-0x6*0x32+-0xb4e),'format':_0x27194b,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x45810e,_0x47fdee){this['boundsMin']['copy'](_0x45810e),this['boundsDelt'+'a']['copy'](_0x47fdee);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x8742b4,_0x38790c){_0x38790c['_node']['getWorldTr'+'ansform']()['getY'](_0x8742b4)['mulScalar'](-(-0xc5c+-0x22ab+0x118*0x2b)),_0x8742b4['normalize']();}['getLightAr'+'eaSizes'](_0xbd6a9e){const _0x4aaec6=_0xbd6a9e['_node']['getWorldTr'+'ansform']();return _0x4aaec6['transformV'+'ector'](FE,vs),Or[-0x23fc+-0x18*0x14f+0x4364]=vs['x'],Or[-0x1*0x94d+0x5f*0xd+0x47b]=vs['y'],Or[0x1*0x17bb+-0xf43*-0x1+-0x14*0x1f3]=vs['z'],_0x4aaec6['transformV'+'ector'](NE,vs),Or[-0x17*-0x60+0x70*-0x54+0x93*0x31]=vs['x'],Or[-0x106a+0x2243+-0x19f*0xb]=vs['y'],Or[-0x3*0xc2f+-0xab3+0x1*0x2f45]=vs['z'],Or;}['addLightDa'+'ta'](_0x5331a8,_0x5f0ac7){const _0x803976=_0x5331a8['_type']===Ze,_0x2e5fa8=_0x5331a8['atlasViewp'+'ortAllocat'+'ed'],_0x4f8280=this['cookiesEna'+'bled']&&!!_0x5331a8['_cookie']&&_0x2e5fa8,_0x9d7f5f=this['areaLights'+'Enabled']&&_0x5331a8['shape']!==Ys,_0x275f48=this['shadowsEna'+'bled']&&_0x5331a8['castShadow'+'s']&&_0x2e5fa8,_0x26deea=_0x5331a8['_node']['getPositio'+'n']();let _0x37967e=null,_0xaddc3a=null;_0x803976?_0x275f48?_0x37967e=_0x5331a8['getRenderD'+'ata'](null,0x1b70+0x1bf3+-0x3763)['shadowMatr'+'ix']:_0x4f8280&&(_0x37967e=Wn['evalSpotCo'+'okieMatrix'](_0x5331a8)):(_0x275f48||_0x4f8280)&&(_0xaddc3a=_0x5331a8['atlasViewp'+'ort']);const _0x291409=this['lightsFloa'+'t'],_0x544b8f=this['lightsUint'],_0xc889f4=_0x5f0ac7*this['lightsText'+'ure']['width']*(0x4*-0x459+0x2073*0x1+-0xf0b);_0x291409[_0xc889f4+(-0xbb+0xb*0x227+0x2*-0xb77)*at['POSITION_R'+'ANGE']+(0xa5c+-0xc2c+0x1d0)]=_0x26deea['x'],_0x291409[_0xc889f4+(-0x2267+-0x627*0x6+0x4755)*at['POSITION_R'+'ANGE']+(0x1*-0x435+0xb9d*0x1+-0x767)]=_0x26deea['y'],_0x291409[_0xc889f4+(0xff+0x4ae+-0x15*0x45)*at['POSITION_R'+'ANGE']+(0x2*-0x160+-0x1ce1+0x1fa3)]=_0x26deea['z'],_0x291409[_0xc889f4+(0x21b5+0x35*0xbc+-0x1*0x489d)*at['POSITION_R'+'ANGE']+(-0x94b+-0xb07+0x15b*0xf)]=_0x5331a8['attenuatio'+'nEnd'];const _0x5bbf7b=_0x5331a8['clusteredD'+'ata'];if(_0x544b8f[_0xc889f4+(0x1d03+0x1*0x141f+-0x311e)*at['COLOR_ANGL'+'ES_BIAS']+(0x1*0x3f5+0x66+-0x45b)]=_0x5bbf7b[-0xc5*-0x15+-0xc4f*-0x3+-0x3516],_0x544b8f[_0xc889f4+(0x20f9+-0xc76+-0x147f)*at['COLOR_ANGL'+'ES_BIAS']+(0xd00*-0x2+-0xf*0x7d+0x2154)]=_0x5bbf7b[0x2*-0xd21+-0x1369*0x1+0x9e*0x4a],_0x544b8f[_0xc889f4+(-0x3*0xbc3+-0x1ced+0x403a*0x1)*at['COLOR_ANGL'+'ES_BIAS']+(0x23c2+0x1051+-0x115b*0x3)]=_0x5bbf7b[0x857+0xb26+-0x137b*0x1],_0x5331a8['castShadow'+'s']){const _0x46356e=_0x5331a8['getRenderD'+'ata'](null,-0xb9d+0x2*-0x8e3+0x1d63*0x1),_0x251f58=_0x5331a8['_getUnifor'+'mBiasValue'+'s'](_0x46356e),_0xf9ca30=Mn['float2Half'](_0x251f58['bias']),_0x50de6b=Mn['float2Half'](_0x251f58['normalBias']);_0x544b8f[_0xc889f4+(-0xc10+0x1d6f+-0x115b)*at['COLOR_ANGL'+'ES_BIAS']+(0x171e+-0x1e1f+0x704)]=_0xf9ca30|_0x50de6b<<-0x2*-0xc41+0x13*0xa7+-0x24d7;}if(_0x803976&&(this['getSpotDir'+'ection'](vs,_0x5331a8),_0x291409[_0xc889f4+(0x5*0x1e5+-0x1e4f+-0x1*-0x14da)*at['DIRECTION_'+'FLAGS']+(0x1a75*-0x1+0x566*-0x2+0x2541)]=vs['x'],_0x291409[_0xc889f4+(-0x1c51+-0x2244+-0x3e99*-0x1)*at['DIRECTION_'+'FLAGS']+(-0x189*-0x4+-0x228+0x3fb*-0x1)]=vs['y'],_0x291409[_0xc889f4+(0x7b9*0x2+-0x57d+-0x9f1)*at['DIRECTION_'+'FLAGS']+(0xf7*-0xd+-0x1b26+0x27b3*0x1)]=vs['z']),_0x544b8f[_0xc889f4+(-0x18a2+-0x25ae+0x3e54)*at['DIRECTION_'+'FLAGS']+(-0x2344+0x119*0x13+0xe6c)]=_0x5331a8['getCluster'+'edFlags'](_0x275f48,_0x4f8280),_0x37967e){const _0x3c1e67=_0x37967e['data'];for(let _0x2fb42e=-0x2188+-0x1*-0x1e9a+0x2ee;_0x2fb42e<-0x21a5+-0x110*0x1f+0x21*0x205;_0x2fb42e++)_0x291409[_0xc889f4+(0x241*0x7+-0x1*0x20bd+0x10fa)*at['PROJ_MAT_0']+_0x2fb42e]=_0x3c1e67[_0x2fb42e];}if(_0xaddc3a&&(_0x291409[_0xc889f4+(0xa7*-0x34+-0x1d75+0x3f65)*at['ATLAS_VIEW'+'PORT']+(0x25*0xa9+0x2554+-0x1*0x3dc1)]=_0xaddc3a['x'],_0x291409[_0xc889f4+(0x8*0x12e+-0x2219+0x1*0x18ad)*at['ATLAS_VIEW'+'PORT']+(0x1b*0xb5+-0x2131+0x1*0xe1b)]=_0xaddc3a['y'],_0x291409[_0xc889f4+(-0xec*-0xb+-0x2641+0x1c21)*at['ATLAS_VIEW'+'PORT']+(-0x10bb*-0x2+0x168d*0x1+0x639*-0x9)]=_0xaddc3a['z']/(-0x2282+0x1db6+0x4cf)),_0x9d7f5f){const _0x27f394=this['getLightAr'+'eaSizes'](_0x5331a8);_0x291409[_0xc889f4+(0x2441*-0x1+0x252c+-0x7*0x21)*at['AREA_DATA_'+'WIDTH']+(-0x335*0x1+-0x123f+-0x55d*-0x4)]=_0x27f394[0x194c+-0x1727*-0x1+-0x3073],_0x291409[_0xc889f4+(-0x1f0b+-0x22df+0x41ee)*at['AREA_DATA_'+'WIDTH']+(0xa*-0xe8+-0x14a0+-0x2b3*-0xb)]=_0x27f394[0x3*-0xe4+-0xf43+-0x38*-0x52],_0x291409[_0xc889f4+(0x23a8+0x11*-0x171+0xb23*-0x1)*at['AREA_DATA_'+'WIDTH']+(0x17e1+0x722+0x1*-0x1f01)]=_0x27f394[-0x254d+0xff3*-0x2+0x4535],_0x291409[_0xc889f4+(-0x1*-0x1+-0x103c+0x103f)*at['AREA_DATA_'+'HEIGHT']+(0x606+0x6cd*-0x1+-0xc7*-0x1)]=_0x27f394[0x1d6e+0xd2f+-0x7*0x616],_0x291409[_0xc889f4+(-0xd*-0x2ad+-0xfc*-0x5+-0xd3b*0x3)*at['AREA_DATA_'+'HEIGHT']+(-0x3*-0x4c1+0x1*0x13cc+-0x220e)]=_0x27f394[-0x2*0x657+-0xb*-0x184+-0x1*0x3fa],_0x291409[_0xc889f4+(-0x86e*0x1+0x151e+-0xcac)*at['AREA_DATA_'+'HEIGHT']+(-0xf23+0x85*-0x32+0x16b*0x1d)]=_0x27f394[-0x731*0x5+-0x16a7+0x3aa1];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x6d*-0x3d+0x12a8+-0x1ca1;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x159033){h(this,'clusterTex'+'ture'),(this['device']=_0x159033,this['name']='Untitled',this['reportCoun'+'t']=0x4+0x9c0+-0x4*0x271,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x1*0x1e94+-0x1e3d+0x3cd2,0x1529*-0x1+0x2*-0x8e5+0x6*0x67e,0x6a8+-0x3d*-0x6f+0xdf*-0x26),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x1*0x517+-0x2195+0x26b0,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x159033),this['registerUn'+'iforms'](_0x159033));}set['maxCellLig'+'htCount'](_0x4e6cc8){_0x4e6cc8!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x4e6cc8,this['_cellsDirt'+'y']=!(0x74b*0x4+0x21f0+-0x3f1c));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x3a1b9b){ic['copy'](_0x3a1b9b)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0x1ab3+0xbf2+-0x26a5));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x3780c5){this['_clusterSk'+'ipId']=_0x3780c5['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x3780c5['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x3780c5['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x3780c5['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x99*0x13+-0x1*0xf59+0x7*0x3d1),this['_clusterBo'+'undsMinId']=_0x3780c5['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x24a6+-0x26f2*0x1+-0x7*-0xacd),this['_clusterBo'+'undsDeltaI'+'d']=_0x3780c5['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x2593*0x1+0x1*-0xa94+-0x2d*-0x112),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x3780c5['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x24c2+0x16d*0xa+-0x3301),this['_clusterCe'+'llsDotId']=_0x3780c5['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x505*-0x3+0x233*0xd+-0xd85),this['_clusterCe'+'llsMaxId']=_0x3780c5['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x1*-0x17a1+-0x1*-0x1b6d+-0x330b);}['updatePara'+'ms'](_0x147aed){_0x147aed&&(this['cells']=_0x147aed['cells'],this['maxCellLig'+'htCount']=_0x147aed['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x147aed['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x147aed['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x147aed['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0xd24+-0xa27*0x3+0x2b9a);const _0x183d11=this['_cells']['x'],_0x80f275=this['_cells']['y'],_0x371caa=this['_cells']['z'],_0x2cc4aa=_0x183d11*_0x80f275*_0x371caa,_0x4fd842=this['maxCellLig'+'htCount']*_0x2cc4aa;let _0x55c250=Math['ceil'](Math['sqrt'](_0x4fd842));_0x55c250=Y['roundUp'](_0x55c250,this['maxCellLig'+'htCount']);const _0x363612=Math['ceil'](_0x4fd842/_0x55c250);w['assert'](_0x55c250<=k_&&_0x363612<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x2*-0x489+0x74*0x1+-0x986]=_0x183d11,this['_clusterCe'+'llsMaxData'][-0x6b*0x7+-0x3*0xbeb+0x26af]=_0x80f275,this['_clusterCe'+'llsMaxData'][0x22bb+-0x20*0x9a+0x1*-0xf79]=_0x371caa,this['_clusterCe'+'llsDotData'][-0xdbe+-0x1120*0x1+-0x1ede*-0x1]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1*0x6fe+-0x772*0x3+-0x1*-0xf59]=_0x183d11*_0x371caa*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1d59+0x1*0x1a53+-0x37aa]=_0x183d11*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x4fd842),this['counts']=new Int32Array(_0x2cc4aa),this['_clusterTe'+'xtureSizeD'+'ata'][0x11ab+0x26d6+-0x3881]=_0x55c250,this['_clusterTe'+'xtureSizeD'+'ata'][-0x9dd*-0x1+0x4*-0x253+0x10*-0x9]=(-0x3*-0x46e+-0x1345+0x5fc)/_0x55c250,this['_clusterTe'+'xtureSizeD'+'ata'][0xd23+-0x1bae+0xe8d]=(0x36*0x72+-0x2b*-0x9e+-0x3295)/_0x363612,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x55c250,_0x363612,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x1*-0x1df5+0xe07+-0x2bfb?-0x6*0x3af+-0x71*-0x39+-0x1b*0x1d:-0x1*0xcfd+-0x1887+0x2585),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x1e2c97=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x2643+-0x33*-0xc+-0xbf5*-0x3]=this['_cells']['x']/_0x1e2c97['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1c69+0x588*0x4+-0x3288]=this['_cells']['y']/_0x1e2c97['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0xce+0x7fe+-0x72e]=this['_cells']['z']/_0x1e2c97['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x133c+0xe6+0x1256]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x23dd*0x1+-0x1*0xfcd+-0x1*-0x33ab]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1c57+-0xbb5+-0x10a0]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1923+-0xb2d*-0x2+-0x2f7d]=_0x1e2c97['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x158f+0x22*-0x8b+0x2806]=_0x1e2c97['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x83*0x2c+0x5*-0x2a+-0x15b0]=_0x1e2c97['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x499996,_0x382c65,_0x343904){_0x382c65['copy'](_0x499996['min']),_0x382c65['sub'](this['boundsMin']),_0x382c65['div'](this['boundsDelt'+'a']),_0x382c65['mul2'](_0x382c65,this['cells']),_0x382c65['floor'](),_0x343904['copy'](_0x499996['max']),_0x343904['sub'](this['boundsMin']),_0x343904['div'](this['boundsDelt'+'a']),_0x343904['mul2'](_0x343904,this['cells']),_0x343904['ceil'](),_0x382c65['max'](D['ZERO']),_0x343904['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x125e75){const _0x1771fe=this['lightsBuff'+'er']['maxLights'],_0x23f9e3=this['_usedLight'+'s'];let _0x5e4b75=0x2*-0x533+0x1ceb+-0x1284;_0x125e75['forEach'](_0x430e96=>{const _0x17efac=!!(_0x430e96['mask']&(Ss|di)),_0x243181=_0x430e96['type']===Ze&&_0x430e96['_outerCone'+'Angle']===-0x2*-0x11fd+-0x1b*0xc6+-0xf18;if(_0x430e96['enabled']&&_0x430e96['type']!==ve&&_0x430e96['visibleThi'+'sFrame']&&_0x430e96['intensity']>-0x5*0x3b+-0xca4*-0x2+0xd5*-0x1d&&_0x17efac&&!_0x243181){if(_0x5e4b75<_0x1771fe){let _0x2c3d66;_0x5e4b75<_0x23f9e3['length']?_0x2c3d66=_0x23f9e3[_0x5e4b75]:(_0x2c3d66=new U_(),_0x23f9e3['push'](_0x2c3d66)),_0x2c3d66['light']=_0x430e96,_0x430e96['getBoundin'+'gBox'](Yd),_0x2c3d66['min']['copy'](Yd['getMin']()),_0x2c3d66['max']['copy'](Yd['getMax']()),_0x5e4b75++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x1771fe-(-0x419*0x6+0x2232+-0x99b))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x23f9e3['length']=_0x5e4b75;}['evaluateBo'+'unds'](){const _0xf639b4=this['_usedLight'+'s'],_0x5ce496=this['boundsMin'],_0x50ec29=this['boundsMax'];if(_0xf639b4['length']>-0x1*0x1556+-0x1f97+-0x19*-0x21e){_0x5ce496['copy'](_0xf639b4[-0x1ed7+-0x2*-0xd8b+0x3c2]['min']),_0x50ec29['copy'](_0xf639b4[-0x1*0x23d2+-0x5e7*0x1+-0x5f6*-0x7]['max']);for(let _0x101d44=0xd7e+-0x17ed+0xa71;_0x101d44<_0xf639b4['length'];_0x101d44++)_0x5ce496['min'](_0xf639b4[_0x101d44]['min']),_0x50ec29['max'](_0xf639b4[_0x101d44]['max']);}else _0x5ce496['set'](-0x2*-0x11ff+-0x15da+-0xe24,-0xb5*0x19+-0x2*0x971+0x248f,-0x2054+-0x11b0*-0x1+0xea4),_0x50ec29['set'](0x10f8+0x1*0xe39+-0x8*0x3e6,-0x7c4+-0x1bfd*-0x1+-0x1438,-0x2040+-0x6e7*-0x5+-0x242);this['boundsDelt'+'a']['sub2'](_0x50ec29,_0x5ce496),this['lightsBuff'+'er']['setBounds'](_0x5ce496,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x388448){this['counts']['fill'](0x5*-0x2ac+0x4cf+0x88d),this['clusters']['fill'](0x92f*-0x4+-0x332*0x9+0x417e),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x388448?_0x388448['areaLights'+'Enabled']:!(-0x643*0x1+-0x98a*0x2+0x1958);const _0x1596bc=this['_cells']['x'],_0x10fba6=this['_cells']['z'],_0x5b0323=this['counts'],_0x5b65b3=this['_maxCellLi'+'ghtCount'],_0x39f2b3=this['clusters'],_0x2face1=this['maxCellLig'+'htCount'];let _0x1b42d9=!(-0x12ee*-0x1+0x8b*0x21+-0x106*0x24);const _0x28c928=this['_usedLight'+'s'];for(let _0x4947ab=0x9f0+0x6e*0x35+-0x3*0xae7;_0x4947ab<_0x28c928['length'];_0x4947ab++){const _0x4ef383=_0x28c928[_0x4947ab],_0x1354da=_0x4ef383['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x1354da,_0x4947ab),this['evalLightC'+'ellMinMax'](_0x4ef383,rc,ac);const _0x4afcdd=rc['x'],_0x5dadfe=ac['x'],_0x492689=rc['y'],_0x500e2d=ac['y'],_0x2069d4=rc['z'],_0x103d54=ac['z'];for(let _0x5cf53e=_0x4afcdd;_0x5cf53e<=_0x5dadfe;_0x5cf53e++)for(let _0x2a0677=_0x2069d4;_0x2a0677<=_0x103d54;_0x2a0677++)for(let _0x50f570=_0x492689;_0x50f570<=_0x500e2d;_0x50f570++){const _0x1bc4be=_0x5cf53e+_0x1596bc*(_0x2a0677+_0x50f570*_0x10fba6),_0x36f8dc=_0x5b0323[_0x1bc4be];_0x36f8dc<_0x5b65b3?(_0x39f2b3[_0x2face1*_0x1bc4be+_0x36f8dc]=_0x4947ab,_0x5b0323[_0x1bc4be]=_0x36f8dc+(0x1fcf*-0x1+0xd2+0x1efe)):_0x1b42d9=!(-0x1ec8+-0x2588+0x4450);}}_0x1b42d9&&this['reportCoun'+'t']<-0x1*0x1ec2+0x1938+0x58f&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x123+-0x1df9*-0x1+-0x1f18?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x524200,_0x59b1b7=null){this['updatePara'+'ms'](_0x59b1b7),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x524200),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x59b1b7),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x73b*-0x1+0x1652+-0x1d8b+0.39996322972865306,Nl={'circlePoint'(_0x40ccbd){const _0x2ad889=Math['sqrt'](Math['random']()),_0xd3ff27=Math['random']()*(0x337*-0x2+0x26f2+-0x2082)*Math['PI'];_0x40ccbd['x']=_0x2ad889*Math['cos'](_0xd3ff27),_0x40ccbd['y']=_0x2ad889*Math['sin'](_0xd3ff27);},'circlePointDeterministic'(_0x1500ed,_0x5307a2,_0xb4cbd0){const _0x1eed73=_0x5307a2*B_,_0x80836f=Math['sqrt'](_0x5307a2)/Math['sqrt'](_0xb4cbd0);_0x1500ed['x']=_0x80836f*Math['cos'](_0x1eed73),_0x1500ed['y']=_0x80836f*Math['sin'](_0x1eed73);},'spherePointDeterministic'(_0x39574d,_0x294128,_0x2c33e2,_0xd4378f=-0x45*-0x3d+0x1*0x2571+0x35e2*-0x1,_0x3a2127=0x1*0x166d+0xd5*0x1f+-0x3037){_0xd4378f=0xa13*-0x1+-0x376+-0xd8a*-0x1-(0xf92+-0x1d1d+0xd8d)*_0xd4378f,_0x3a2127=0xfca+-0x9b*-0x1f+-0x228e-(0x5*-0x677+0x259b+-0x87*0xa)*_0x3a2127;const _0x48cedd=Y['lerp'](_0xd4378f,_0x3a2127,_0x294128/_0x2c33e2),_0x2a5436=Math['sqrt'](0x1644+-0x32a*0x4+-0x99b-_0x48cedd*_0x48cedd),_0x1cc1dc=B_*_0x294128;_0x39574d['x']=Math['cos'](_0x1cc1dc)*_0x2a5436,_0x39574d['y']=_0x48cedd,_0x39574d['z']=Math['sin'](_0x1cc1dc)*_0x2a5436;},'radicalInverse'(_0x5f47aa){let _0x22bdcd=(_0x5f47aa<<0x1*-0x180e+-0x1582*-0x1+0x29c|_0x5f47aa>>>0x3f*-0x7f+-0x8*-0x2fe+-0x1*-0x761)>>>0xd2*-0x23+-0x7ca+-0x40*-0x92;return _0x22bdcd=((_0x22bdcd&0xa2cde2a4+-0x1*0x65c773ff+0x184ee6b0)<<0xe5*-0x22+0x1f*0xc5+0x690|(_0x22bdcd&-0xbdf3c490+0x10e0caf7f+-0x5a91bfbb*-0x1)>>>-0x1*-0x1229+-0x266+-0x7e1*0x2)>>>-0x3e*0x16+-0x178f+0x1ce3,_0x22bdcd=((_0x22bdcd&-0x34bc3e86*-0x1+-0x3*0x102410e3+0x2ee32756)<<0x108a+0x1*-0xc00+0x74*-0xa|(_0x22bdcd&0x3fbef0e3+0xa32e5970+-0x16207d87)>>>-0x9b7+0xe4a+-0x491)>>>-0x2451+-0xc1*0x25+-0x2*-0x201b,_0x22bdcd=((_0x22bdcd&-0x1d2ca*0x557+0x1*0x53fa762+0x138bfc53)<<-0xbaf*-0x2+-0x1596+-0x1c4|(_0x22bdcd&0x47fb35e9+-0x11206795d*0x1+-0x3c10d76*-0x76)>>>0x7*0x2e7+-0x11*0x13d+0xc0)>>>0xd6a*0x2+-0x154e+0xca*-0x7,_0x22bdcd=((_0x22bdcd&-0xe3231b+-0x1c1*0x3b23+0x12219*0x205)<<-0x6*-0x574+-0xcac+-0x1404|(_0x22bdcd&0x15496c*-0x98f+0xe3943582+-0x27a93*-0x5d26)>>>0x14*0xdf+-0x2648+0x2*0xa72)>>>0x1b7*0x11+-0x3+-0x749*0x4,_0x22bdcd*(0x94c*0x1+0xc7*0x1+-0xa13*0x1+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x2646a6){return BE[_0x2646a6]??'decodeGamm'+'a';}static['encodeFunc'](_0x784f03){return zE[_0x784f03]??'encodeGamm'+'a';}}const z_=_0x58f620=>{switch(_0x58f620){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x22e812,_0x304e84,_0x437c2a)=>{if(_0x22e812<=-0x1*-0x986+0x23d3+-0x263*0x13)_0x304e84[_0x437c2a+(-0x1726+-0x394+-0xd5d*-0x2)]=0x2*-0xf7+0xec1*-0x1+0x10af*0x1,_0x304e84[_0x437c2a+(0x1*0x760+-0x9*0x2f0+0x1311)]=0x2257+0x147c+0x23*-0x191,_0x304e84[_0x437c2a+(-0x1b7d+-0x2*-0x7f9+-0xb8d*-0x1)]=-0x18c*-0x6+-0x83a*-0x2+-0x19bc,_0x304e84[_0x437c2a+(0x562*-0x2+-0x633+0x2*0x87d)]=-0x3a*0x38+-0x252b+0x31db;else{if(_0x22e812>=-0x119*0xa+-0x150a+0x2005)_0x304e84[_0x437c2a+(0x4da+-0xed9+0x9ff)]=-0x1*0x121+-0x23fc+0x32d*0xc,_0x304e84[_0x437c2a+(0xede*-0x2+-0x5*0x7c7+-0x120*-0x3d)]=-0x6b*0x10+0x4*-0x46c+0x1860,_0x304e84[_0x437c2a+(0xcdd*0x1+0x1*-0x1391+-0x35b*-0x2)]=-0x15e7+-0x6b6+-0x1*-0x1c9d,_0x304e84[_0x437c2a+(0x4d2*0x2+-0x252f+0x1b8e)]=-0x19b2*0x1+-0x25e3+0x3f95;else{let _0xa527a0=(-0x2471+0x1d*0x147+-0x3*0x33)*_0x22e812%(0x6bc+-0xcc7+0x60c),_0x84ec2d=(0x1150+-0x2689+0x1638)*_0x22e812%(0x1873+0x3df*-0x3+-0xcd5),_0x5db6a5=(0x1ea20+0x130b6+0x39*-0x97d)*_0x22e812%(0xc1d+0x5*0x593+-0x27fb);const _0x1e7907=(0x80444d+0x133e2aa+-0xb723f8)*_0x22e812%(-0x796+0x2402+0xf*-0x1e5);_0xa527a0-=_0x84ec2d/(0x24df+-0x6ef+0x1f*-0xef),_0x84ec2d-=_0x5db6a5/(0xa*-0x1b2+-0x1*-0x19c+0x1057),_0x5db6a5-=_0x1e7907/(-0xa52*-0x3+-0x23*0x3d+-0xad0*0x2),_0x304e84[_0x437c2a+(-0xcd8+-0x245d+0x3135)]=Math['min'](-0x2399*0x1+-0x2600+-0x1b2*-0x2c,Math['floor'](_0xa527a0*(0xe5f+0xd*0x137+-0xe95*0x2))),_0x304e84[_0x437c2a+(0x3a*0x48+0x142+0x3*-0x5db)]=Math['min'](-0x10a+0x175*0xb+-0x9*0x18e,Math['floor'](_0x84ec2d*(0x28*-0x28+-0xde1*0x2+-0x2*-0x1181))),_0x304e84[_0x437c2a+(0x2337+0x119+-0x244e)]=Math['min'](-0x1708+0x192e+-0x127*0x1,Math['floor'](_0x5db6a5*(-0xff6+-0x2454+0x354a))),_0x304e84[_0x437c2a+(-0x1e94+-0x2650+0x44e7)]=Math['min'](-0x1f1*0x3+-0xf6*0x3+0x9b4,Math['floor'](_0x1e7907*(0xb7d+-0x241f+0x19a2*0x1)));}}},VE=_0x12226c=>{const _0x4202b1=_0x12226c['length'],_0x3bfd8e=Math['min'](_0x4202b1,0x1*-0x17b+-0x2*-0x134f+-0x2323),_0x332d9e=Math['ceil'](_0x4202b1/_0x3bfd8e),_0x32518d=new Uint8Array(_0x3bfd8e*_0x332d9e*(0x3*-0x42f+-0x1*0xb7e+0x805*0x3));let _0x25a953=-0xf*0x8+0xc92*-0x3+-0x1b*-0x16a;for(let _0x3056ca=0x10d6+-0x1594+0x2*0x25f;_0x3056ca<_0x4202b1;_0x3056ca+=0x2e*0x65+0x969+0xb*-0x281)nc(_0x12226c[_0x3056ca+(0x56f+-0x2ed+-0x282)]*(0x2*-0x7c9+-0x1*0x1e0b+-0x1*-0x2d9d+0.5)+(-0x1366+-0x887*-0x3+-0x62f+0.5),_0x32518d,_0x25a953+(-0x371*-0x5+0x1*0xc01+0x2*-0xe9b)),nc(_0x12226c[_0x3056ca+(0xb*0x347+-0x162*0x12+0x2ca*-0x4)]*(-0x1*0xa15+-0x1*-0x1a0f+-0xffa+0.5)+(-0xd6c+0x1*-0x3eb+0x1*0x1157+0.5),_0x32518d,_0x25a953+(-0x1*0x1a2+0x29*-0x71+-0x13bf*-0x1)),nc(_0x12226c[_0x3056ca+(0x1*-0x14d1+0x1*0x16eb+-0x218)]*(-0x43a*0x4+-0xa53+-0x1b3b*-0x1+0.5)+(0xf53+-0xf87*0x1+0x1*0x34+0.5),_0x32518d,_0x25a953+(-0x1*0x149+0x757*-0x2+0xfff)),nc(_0x12226c[_0x3056ca+(-0x239c+-0x182d+0x3bcc)]/(-0x4*-0x949+0x1b3+-0x26cf),_0x32518d,_0x25a953+(0x2*-0x11f2+-0x1c4+-0x7f*-0x4c)),_0x25a953+=0x1472*0x1+-0x1f*0x10d+0xc31;return{'width':_0x3bfd8e,'height':_0x332d9e,'data':_0x32518d};},GE=(_0xcda745,_0x44ca9d,_0xc96da0,_0x135bf1)=>{const _0x398652=_0xc96da0*(-0xd9e+-0xa18+-0xb8*-0x21)*Math['PI'],_0x3e2465=Math['pow'](0x1*0x123c+0x16b7*0x1+-0xda6*0x3-_0x44ca9d,(-0x2e*-0x2a+0x3*-0x88+-0x1*0x5f3)/(_0x135bf1+(0x610*0x4+-0x1d3+-0x166c))),_0x1171ca=Math['sqrt'](0x246c+-0x57*0x6f+0x14e-_0x3e2465*_0x3e2465);_0xcda745['set'](Math['cos'](_0x398652)*_0x1171ca,Math['sin'](_0x398652)*_0x1171ca,_0x3e2465)['normalize']();},HE=(_0x3a8ce7,_0x300993,_0x281f5e)=>{const _0x56f8f3=_0x281f5e*(0x5*0x2df+0x1b48+-0x1*0x29a1)*Math['PI'],_0x207e1c=Math['sqrt'](-0x1*-0x1849+-0x97*-0x39+-0x39e7-_0x300993),_0x59444b=Math['sqrt'](_0x300993);_0x3a8ce7['set'](Math['cos'](_0x56f8f3)*_0x59444b,Math['sin'](_0x56f8f3)*_0x59444b,_0x207e1c)['normalize']();},WE=(_0x5692cc,_0x4c3d7e,_0x72a216,_0x6550e1)=>{const _0x58db7f=_0x72a216*(-0x3*-0x9+-0xac*-0x28+-0x1af9)*Math['PI'],_0x33430d=Math['sqrt']((-0x1530+-0x1f7e+0x34af-_0x4c3d7e)/(-0xfb*-0x21+-0x2215+0x1bb+(_0x6550e1*_0x6550e1-(-0x1119+0x747*0x3+0x7*-0xad))*_0x4c3d7e)),_0x15e4be=Math['sqrt'](0xa*0xc7+0x1*-0x641+-0x184-_0x33430d*_0x33430d);_0x5692cc['set'](Math['cos'](_0x58db7f)*_0x15e4be,Math['sin'](_0x58db7f)*_0x15e4be,_0x33430d)['normalize']();},$E=(_0x3386a2,_0x1d35df)=>{const _0x33ccfa=_0x3386a2*_0x1d35df,_0x2075ab=_0x1d35df/(-0x22a7+-0x1*0x751+0x29f9*0x1-_0x3386a2*_0x3386a2+_0x33ccfa*_0x33ccfa);return _0x2075ab*_0x2075ab*((0x1*-0x2332+-0x1a15+0x3d48)/Math['PI']);},XE=(_0x30243c,_0x28b055)=>{const _0x59ff97=new D(),_0x27ab5c=[];for(let _0x538c58=-0x952+0x14ed+-0xb9b;_0x538c58<_0x30243c;++_0x538c58)GE(_0x59ff97,_0x538c58/_0x30243c,Nl['radicalInv'+'erse'](_0x538c58),_0x28b055),_0x27ab5c['push'](_0x59ff97['x'],_0x59ff97['y'],_0x59ff97['z'],0x2*-0x1003+-0x1d4+-0xe*-0x26b);return _0x27ab5c;},qE=(_0x58e3d4,_0x56b70d)=>{const _0x1dd6dd=_0x56b70d/_0x58e3d4,_0x283010=new D(),_0x507be8=[];for(let _0x521de1=0x3b0*-0x1+0x20ef+-0x1d3f;_0x521de1<_0x58e3d4;++_0x521de1){HE(_0x283010,_0x521de1/_0x58e3d4,Nl['radicalInv'+'erse'](_0x521de1));const _0x3d9bb4=_0x283010['z']/Math['PI'],_0x11e18a=(-0x3*-0x612+0x5*0x48b+-0x28ed+0.5)*Math['log2'](_0x1dd6dd/_0x3d9bb4);_0x507be8['push'](_0x283010['x'],_0x283010['y'],_0x283010['z'],_0x11e18a);}return _0x507be8;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x50da83,_0x370836)=>{const _0x3d81a4=jE[_0x50da83];return _0x3d81a4&&_0x3d81a4[_0x370836]||_0x50da83;},KE=(_0x18e131,_0x3417d5,_0x5a2eb1)=>{const _0x4d0f48=_0x5a2eb1/_0x18e131,_0x3aceb1=0xa23+-0x5*0x689+-0x1*-0x168b-Math['log2'](_0x3417d5)/(0x215*0xd+-0x2f0+-0x1816),_0x50446c=_0x3aceb1*_0x3aceb1,_0x5855fa=new D(),_0x3c8512=new D(),_0x181676=new D(0x759+0x1*-0x14ae+0xd55*0x1,0x12c+0xb03+0x1*-0xc2f,-0x446*0x1+0x39*0xaa+0xb31*-0x3),_0xf0181b=[],_0x4e4348=YE(_0x18e131,_0x3417d5);for(let _0x59417f=0xc8e*0x3+-0x1*-0x1f0a+-0x44b4;_0x59417f<_0x4e4348;++_0x59417f){WE(_0x5855fa,_0x59417f/_0x4e4348,Nl['radicalInv'+'erse'](_0x59417f),_0x50446c);const _0x2a48e6=_0x5855fa['z'];if(_0x3c8512['set'](_0x5855fa['x'],_0x5855fa['y'],_0x5855fa['z'])['mulScalar']((0x1cbc+-0x1*0x2483+0x7c9)*_0x2a48e6)['sub'](_0x181676),_0x3c8512['z']>-0x2c*0xb3+0x1b7*-0x9+0x2e33){const _0x32d6cd=$E(Math['min'](-0x200c+-0x186a+0x3877,_0x2a48e6),_0x50446c)/(-0x9*0x97+-0x2*-0x701+-0x8af)+(0x11*-0x203+-0xea*0xa+0x23*0x13d+0.001),_0x251464=(-0xed1*0x1+0x334+0xb9d+0.5)*Math['log2'](_0x4d0f48/_0x32d6cd);_0xf0181b['push'](_0x3c8512['x'],_0x3c8512['y'],_0x3c8512['z'],_0x251464);}}for(;_0xf0181b['length']<_0x18e131*(0xd99+0xd49+-0x1*0x1ade);)_0xf0181b['push'](0x228*0x9+-0x1*-0x4b5+-0x181d,-0x2556+0xb7*0x20+0xe76,0x64f*0x1+0x2282+0x9*-0x489,0x10+-0x7ca*-0x2+-0x16*0xb6);return _0xf0181b;},ZE=(_0x2a4f63,_0x434e95,_0x2ea2b0)=>{const _0x4e319d=VE(_0x2ea2b0);return new _e(_0x2a4f63,{'name':_0x434e95,'width':_0x4e319d['width'],'height':_0x4e319d['height'],'mipmaps':!(-0x1b81*-0x1+0x1722+-0x32a2),'minFilter':Te,'magFilter':Te,'levels':[_0x4e319d['data']]});};class xv{constructor(_0x865285=!(-0x5*-0x47c+-0x11db*0x1+-0x491)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x865285;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0xb2036a,_0x339a83)=>{_0xb2036a['destroy']();});}['get'](_0x35de81,_0x4bbce4){if(!this['map']['has'](_0x35de81)){const _0x4da027=_0x4bbce4();return this['map']['set'](_0x35de81,_0x4da027),_0x4da027;}return this['map']['get'](_0x35de81);}}const QE=new xv(!(-0x2c*0x41+-0x1*-0x245f+-0x1932)),JE=new Kt(),dm=(_0x4debec,_0xc8e37a,_0x3f1f2b)=>JE['get'](_0x4debec,()=>new xv())['get'](_0xc8e37a,()=>ZE(_0x4debec,_0xc8e37a,QE['get'](_0xc8e37a,_0x3f1f2b))),eb=(_0x523335,_0x1f26f1,_0x480c5c)=>{const _0x17a451='lambert-sa'+'mples-'+_0x1f26f1+'-'+_0x480c5c;return dm(_0x523335,_0x17a451,()=>qE(_0x1f26f1,_0x480c5c));},tb=(_0x35cdd0,_0x2bc997,_0x27e773)=>{const _0x2ffbd4='phong-samp'+'les-'+_0x2bc997+'-'+_0x27e773;return dm(_0x35cdd0,_0x2ffbd4,()=>XE(_0x2bc997,_0x27e773));},sb=(_0x432a83,_0xa2ab26,_0x43428d,_0x4b3109)=>{const _0x30af56='ggx-sample'+'s-'+_0xa2ab26+'-'+_0x43428d+'-'+_0x4b3109;return dm(_0x432a83,_0x30af56,()=>KE(_0xa2ab26,_0x43428d,_0x4b3109));};function vi(_0x1916da,_0x3f41ee,_0x3de02b={}){var _0x2918fe,_0x296288;w['assert'](_0x1916da instanceof _e&&_0x3f41ee instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0xa28990=_0x3de02b['seamPixels']??-0x3b2+-0x1*-0x14a+0x4d*0x8,_0x33e072=(((_0x2918fe=_0x3de02b['rect'])==null?void(0x8b1+0x1885+0x6*-0x589):_0x2918fe['z'])??_0x3f41ee['width'])-_0xa28990*(0x1459+-0x2*-0xa37+-0x28c5),_0x1436dd=(((_0x296288=_0x3de02b['rect'])==null?void(-0x44e*0x2+0x25b*0x8+-0x14*0x83):_0x296288['w'])??_0x3f41ee['height'])-_0xa28990*(0x9b*0xe+-0xc43*-0x1+-0x14bb);if(_0x33e072<0x1*-0x19e2+0x79f+0x1244||_0x1436dd<-0x74e*0x4+-0x1c03*0x1+0xb*0x534)return!(-0x962+0x22ee+0x1f7*-0xd);const _0x1b7261={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x4ecdbb=_0x3de02b['hasOwnProp'+'erty']('specularPo'+'wer')?_0x3de02b['specularPo'+'wer']:-0x4*0x5b6+0xa4*-0x25+-0x11*-0x2bd,_0xbb4b97=_0x3de02b['hasOwnProp'+'erty']('face')?_0x3de02b['face']:null,_0x384857=_0x3de02b['hasOwnProp'+'erty']('distributi'+'on')?_0x3de02b['distributi'+'on']:_0x4ecdbb===-0x2397+-0xb*0x69+0x281b?'none':'phong',_0x121162=_0x1b7261[_0x384857]||'reproject',_0x1c76b3=_0x121162['startsWith']('prefilterS'+'amples'),_0x2b787c=Tr['decodeFunc'](_0x1916da['encoding']),_0x161eba=Tr['encodeFunc'](_0x3f41ee['encoding']),_0x5e52ab='sample'+z_(_0x1916da['projection']),_0x5cde76='getDirecti'+'on'+z_(_0x3f41ee['projection']),_0x56143f=_0x3de02b['hasOwnProp'+'erty']('numSamples')?_0x3de02b['numSamples']:-0x623+-0x1a7a*-0x1+-0x1057,_0x23ded0='ReprojectS'+'hader:'+_0x121162+'_'+_0x2b787c+'_'+_0x161eba+'_'+_0x5e52ab+'_'+_0x5cde76+'_'+_0x56143f,_0x56a0f0=_0x1916da['device'];let _0x115e26=Hn(_0x56a0f0)['getCachedS'+'hader'](_0x23ded0);if(!_0x115e26){const _0x2227e2=new Map();_0x1c76b3&&_0x2227e2['set']('USE_SAMPLE'+'S_TEX',''),_0x1916da['cubemap']&&_0x2227e2['set']('CUBEMAP_SO'+'URCE',''),_0x2227e2['set']('{PROCESS_F'+'UNC}',_0x121162),_0x2227e2['set']('{DECODE_FU'+'NC}',_0x2b787c),_0x2227e2['set']('{ENCODE_FU'+'NC}',_0x161eba),_0x2227e2['set']('{SOURCE_FU'+'NC}',_0x5e52ab),_0x2227e2['set']('{TARGET_FU'+'NC}',_0x5cde76),_0x2227e2['set']('{NUM_SAMPL'+'ES}',_0x56143f),_0x2227e2['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x56143f))['toFixed'](-0x1b05+0x1c67*-0x1+0x376d));const _0x4622d4=_0x56a0f0['isWebGPU'],_0x22c4e0=Pe['get'](_0x56a0f0,_0x4622d4?it:Fe),_0x3edfd3=new Map();_0x3edfd3['set']('decodePS',_0x22c4e0['get']('decodePS')),_0x3edfd3['set']('encodePS',_0x22c4e0['get']('encodePS')),_0x115e26=$t['createShad'+'er'](_0x56a0f0,{'uniqueName':_0x23ded0,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x3edfd3,'fragmentDefines':_0x2227e2});}Q['pushGpuMar'+'ker'](_0x56a0f0,'ReprojectT'+'exture'),_0x56a0f0['setBlendSt'+'ate'](pt['NOBLEND']);const _0x4aefbb=_0x56a0f0['scope']['resolve'](_0x1916da['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x4aefbb),_0x4aefbb['setValue'](_0x1916da);const _0x3ab6c1=_0x56a0f0['scope']['resolve']('params'),_0x5cd69e=_0x56a0f0['scope']['resolve']('uvMod');_0xa28990>0x54d*-0x3+-0x134*0xb+0x1d23?_0x5cd69e['setValue']([(_0x33e072+_0xa28990*(-0x11bc*-0x2+-0x18ef*-0x1+-0x3c65))/_0x33e072,(_0x1436dd+_0xa28990*(0x1*0x18+-0x20ac+0x2096))/_0x1436dd,-_0xa28990/_0x33e072,-_0xa28990/_0x1436dd]):_0x5cd69e['setValue']([0x1fe1+-0x2*0x11d7+0x3ce,-0x226a+-0x8b9+0x2c*0xfb,-0x7cd+0x1*-0x13b0+0x1b7d,0xd0b+-0x1*0xee6+0x1db]);const _0x5b32a0=[0x2*-0x617+-0x120e+0x1e3c,_0x3f41ee['width']*_0x3f41ee['height']*(_0x3f41ee['cubemap']?-0x9*0x309+-0xf*0x281+0x736*0x9:-0x3b*-0x19+-0x72*0x2f+0x796*0x2),_0x1916da['width']*_0x1916da['height']*(_0x1916da['cubemap']?-0x63c+-0x1*-0x9e6+-0x4*0xe9:-0x1*-0x1e1f+-0x35*-0x76+-0x368c)];if(_0x1c76b3){const _0x368b96=_0x1916da['width']*_0x1916da['height']*(_0x1916da['cubemap']?0xaea+-0x22*0xd3+0x1122:0x2210+0x15a3+-0x37b2),_0x2396c1=_0x384857==='ggx'?sb(_0x56a0f0,_0x56143f,_0x4ecdbb,_0x368b96):_0x384857==='lambert'?eb(_0x56a0f0,_0x56143f,_0x368b96):tb(_0x56a0f0,_0x56143f,_0x4ecdbb);_0x56a0f0['scope']['resolve']('samplesTex')['setValue'](_0x2396c1),_0x56a0f0['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x6*-0x1a5+-0x1baa+0x2589)/_0x2396c1['width'],(-0x1*-0xcb+0x36f*-0x2+-0x30a*-0x2)/_0x2396c1['height']]);}for(let _0x1ecc56=0x40*0x57+0x423+-0x19e3;_0x1ecc56<(_0x3f41ee['cubemap']?0x1fcb+-0x24e2+-0x7*-0xbb:0x2a3*-0xd+-0xf65+0x31ad);_0x1ecc56++)if(_0xbb4b97===null||_0x1ecc56===_0xbb4b97){const _0x24d832=new gt({'colorBuffer':_0x3f41ee,'face':_0x1ecc56,'depth':!(0x124f*0x1+-0x1be3+0x995),'flipY':_0x56a0f0['isWebGPU']});_0x5b32a0[-0x8*0x2dd+0x19*-0x27+0x1ab7]=_0x1ecc56,_0x3ab6c1['setValue'](_0x5b32a0),Ar(_0x56a0f0,_0x24d832,_0x115e26,_0x3de02b==null?void(0x5*0x563+0xaea+-0x25d9*0x1):_0x3de02b['rect']),_0x24d832['destroy']();}return Q['popGpuMark'+'er'](_0x56a0f0),!(0xdf*0x11+-0x3*-0x525+0x2*-0xf1f);}const Kd=(_0x1504d2,_0x1b795d=-0x59*0x1f+0x1964+0x57*-0x2b)=>-0x94*-0x14+-0xf9f+0x14*0x34+Math['floor'](Math['log2'](Math['max'](_0x1504d2,_0x1b795d))),ib=_0x2baa3e=>_0x2baa3e['textureHal'+'fFloatRend'+'erable'],rb=_0x36d173=>_0x36d173['textureFlo'+'atRenderab'+'le'],ab=_0x197b0b=>ib(_0x197b0b)?nt:rb(_0x197b0b)?Xt:Ne,nb=_0x2f510a=>Ne,ob=(_0x600e6f,_0x2bec24,_0x543b6e,_0x14cc3e)=>new _e(_0x600e6f,{'name':'lighting-'+_0x2bec24,'cubemap':!(0x9c3+0x7d3*0x1+0x2*-0x8cb),'width':_0x2bec24,'height':_0x2bec24,'format':_0x543b6e,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x394*0x4+0x21ac+-0x135b)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x2a4dbd,_0x5c096d){const _0x37bf02=_0x2a4dbd['device'];Q['pushGpuMar'+'ker'](_0x37bf02,'genSkyboxC'+'ubemap');const _0x301b5d=ob(_0x37bf02,_0x5c096d||(_0x2a4dbd['cubemap']?_0x2a4dbd['width']:_0x2a4dbd['width']/(-0x2*-0xf44+-0xf20*0x1+-0xf64)),Ne);return vi(_0x2a4dbd,_0x301b5d,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x37bf02),_0x301b5d;}static['generateLi'+'ghtingSour'+'ce'](_0x491989,_0xc8a2dd){const _0x27d5bb=_0x491989['device'];Q['pushGpuMar'+'ker'](_0x27d5bb,'genLightin'+'gSource');const _0x208dad=ab(_0x27d5bb),_0x1c9785=(_0xc8a2dd==null?void(0xf1d+-0x2*-0x98b+-0x2233*0x1):_0xc8a2dd['target'])||new _e(_0x27d5bb,{'name':'lighting-s'+'ource','cubemap':!(-0x2d*0x6a+0x19a+-0x8*-0x221),'width':(_0xc8a2dd==null?void(-0x9a2+0x7d4+-0x6*-0x4d):_0xc8a2dd['size'])||-0x1*0xffd+0x165e+-0x5e1,'height':(_0xc8a2dd==null?void(0x889+0x1*0x23b+0x35*-0x34):_0xc8a2dd['size'])||-0x1548+-0x2473+0x3a3b,'format':_0x208dad,'type':_0x208dad===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x467+-0xf48+0x1*0x13af)});return vi(_0x491989,_0x1c9785,{'numSamples':_0x491989['mipmaps']?-0x392+-0x25*0xb+0x52a*0x1:0x163b+-0x411+-0xe2a}),Q['popGpuMark'+'er'](_0x27d5bb),_0x1c9785;}static['generateAt'+'las'](_0x19d96b,_0x212b1a){const _0xd149dd=_0x19d96b['device'],_0x347be0=nb();Q['pushGpuMar'+'ker'](_0xd149dd,'genAtlas');const _0x4bab1a=(_0x212b1a==null?void(0x1f90+0xd*-0xe0+-0x1430):_0x212b1a['target'])||new _e(_0xd149dd,{'name':'envAtlas','width':(_0x212b1a==null?void(-0x856+0x23*-0x42+0x457*0x4):_0x212b1a['size'])||0x1ea4+-0x1c23+-0x81,'height':(_0x212b1a==null?void(0x28+-0x17ed+0x5*0x4c1):_0x212b1a['size'])||-0x3b7+0xee7*-0x1+0x149e,'format':_0x347be0,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x18d*0x3+0x40b+0x9d)});Q['pushGpuMar'+'ker'](_0xd149dd,'mipmaps');const _0x9ca215=_0x4bab1a['width']/(0x11aa+-0x7*0x3d8+0xb3e),_0x2b6710=new re(-0xd*0x11f+0xc6c+-0x13*-0x1d,-0x20c4+-0x23d1+0x4495,(-0x1*0xee+-0x1*0x1345+0x1633)*_0x9ca215,(0xe77+0x19fa+0x17*-0x1b7)*_0x9ca215),_0x108816=Kd(-0x1*-0x12fd+0x2c5*-0xa+0x9b5*0x1)-Kd(0x53*-0x71+-0x248c*-0x1+0x1b);for(let _0x596f32=-0x1904+0x2a0+0x1*0x1664;_0x596f32<_0x108816;++_0x596f32)vi(_0x19d96b,_0x4bab1a,{'numSamples':0x1,'rect':_0x2b6710,'seamPixels':_0x9ca215}),_0x2b6710['x']+=_0x2b6710['w'],_0x2b6710['y']+=_0x2b6710['w'],_0x2b6710['z']=Math['max'](-0x67a*0x5+-0x1*-0x3e5+0x1c7e,Math['floor'](_0x2b6710['z']*(0x1*0x53c+0x50c+0x38*-0x2f+0.5))),_0x2b6710['w']=Math['max'](0x20+0x1dfa+0x43*-0x73,Math['floor'](_0x2b6710['w']*(-0x7*-0x4d2+-0xd49*-0x2+-0xc1*0x50+0.5)));Q['popGpuMark'+'er'](_0xd149dd),Q['pushGpuMar'+'ker'](_0xd149dd,'reflection'+'s'),_0x2b6710['set'](-0x150+0x749*-0x1+0x899,(-0x1c40+0x2*-0x110a+0x3f54)*_0x9ca215,(-0x1df0+0x281*0xb+0xb*0x4f)*_0x9ca215,(0x1*-0x2368+0x17*0x158+-0x28*-0x20)*_0x9ca215);for(let _0x5980f5=0x1f69+-0x1fb7+-0x4f*-0x1;_0x5980f5<-0xa2d+0x26*-0x54+0x1*0x16ac;++_0x5980f5)vi(_0x19d96b,_0x4bab1a,{'numSamples':(_0x212b1a==null?void(0xe5*0xd+-0x1*-0xa8b+0xc*-0x1d9):_0x212b1a['numReflect'+'ionSamples'])||-0xb5*0x33+-0x1*-0x91d+0x1ef2,'distribution':(_0x212b1a==null?void(0x16b0+-0x25b7*-0x1+-0x3c67):_0x212b1a['distributi'+'on'])||'ggx','specularPower':Math['max'](0xf*-0x49+-0x44b+0x893,-0x1dab+0xe02+0x17a9>>_0x5980f5*(-0x2567+0x1f6b+0x5fe)),'rect':_0x2b6710,'seamPixels':_0x9ca215}),_0x2b6710['y']+=_0x2b6710['w'],_0x2b6710['z']=Math['max'](0x1741+-0x77*-0xd+-0x1d4b,Math['floor'](_0x2b6710['z']*(0x6*0x12e+0x17f7+0x1*-0x1f0b+0.5))),_0x2b6710['w']=Math['max'](-0x2*-0xfb3+0x31c+-0x2281,Math['floor'](_0x2b6710['w']*(0xfed+0x1*-0x1725+0x738+0.5)));return Q['popGpuMark'+'er'](_0xd149dd),Q['pushGpuMar'+'ker'](_0xd149dd,'ambient'),_0x2b6710['set']((0x3*0x242+0x1*-0x1177+0xb31)*_0x9ca215,(-0x8ba*0x3+-0xa87+0x2635*0x1)*_0x9ca215,(-0xba3+0x202e+0x144b*-0x1)*_0x9ca215,(0x1d*0x99+-0x2*0x8e6+0x97)*_0x9ca215),vi(_0x19d96b,_0x4bab1a,{'numSamples':(_0x212b1a==null?void(0x119f*-0x2+0x371+0x1fcd):_0x212b1a['numAmbient'+'Samples'])||-0x1*0x264b+0xc30+0x221b,'distribution':'lambert','rect':_0x2b6710,'seamPixels':_0x9ca215}),Q['popGpuMark'+'er'](_0xd149dd),Q['popGpuMark'+'er'](_0xd149dd),_0x4bab1a;}static['generatePr'+'efilteredA'+'tlas'](_0x459cdf,_0x364fd5){const _0x41c380=_0x459cdf[0x253a+-0x664+-0x1ed6*0x1]['device'],_0x1ce630=_0x459cdf[0x207c+0x62a*-0x3+-0xdfe]['format'],_0x581632=_0x459cdf[0x9cc+-0x14a3*0x1+0x6f*0x19]['type'];Q['pushGpuMar'+'ker'](_0x41c380,'genPrefilt'+'eredAtlas');const _0x18708c=(_0x364fd5==null?void(-0x283*-0xa+-0x123a+-0x6e4):_0x364fd5['target'])||new _e(_0x41c380,{'name':'envPrefilt'+'eredAtlas','width':(_0x364fd5==null?void(-0x777+0x1*-0x991+0x368*0x5):_0x364fd5['size'])||-0xd86+-0x1*0x23b8+-0x2*-0x199f,'height':(_0x364fd5==null?void(0x1*0x6bb+-0x14bf+0xe04):_0x364fd5['size'])||-0x23c5*0x1+0x1e45+-0x14*-0x60,'format':_0x1ce630,'type':_0x581632,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x45*0xf+0x15aa*0x1+-0x119e)});Q['pushGpuMar'+'ker'](_0x41c380,'mipmaps');const _0x2abde8=_0x18708c['width']/(-0x9e3+-0x19e6+0x1*0x25c9),_0x1b71e3=new re(0x5*-0x2c5+-0x3*0x851+0xd*0x2fc,0x234+0xb2*-0x2f+0x1e7a,(0x232c+-0xdd8+-0x1354)*_0x2abde8,(-0x17*0x17e+-0x341*0x3+-0x3*-0xf07)*_0x2abde8),_0x5b68d0=Kd(0x3*0x57a+0x1845+-0x26b3);for(let _0x25e217=-0x53*-0x6d+0x21c4+-0x451b;_0x25e217<_0x5b68d0;++_0x25e217)vi(_0x459cdf[0x56c*-0x2+-0x1c25+-0x9*-0x455],_0x18708c,{'numSamples':0x1,'rect':_0x1b71e3,'seamPixels':_0x2abde8}),_0x1b71e3['x']+=_0x1b71e3['w'],_0x1b71e3['y']+=_0x1b71e3['w'],_0x1b71e3['z']=Math['max'](-0x2286+-0x11dd+-0x77c*-0x7,Math['floor'](_0x1b71e3['z']*(0x27*-0xd+-0x145+0x340+0.5))),_0x1b71e3['w']=Math['max'](0x1*0x95+-0xa45+0x9b1,Math['floor'](_0x1b71e3['w']*(-0x3c*-0x1f+0x1737+0x33*-0x99+0.5)));Q['popGpuMark'+'er'](_0x41c380),Q['pushGpuMar'+'ker'](_0x41c380,'reflection'+'s'),_0x1b71e3['set'](-0xe0*-0x29+-0x1725+-0xcbb,(0x1*-0x24a1+-0x3cd*-0x9+0x1*0x36c)*_0x2abde8,(0x1*-0x1c5+-0x1742+-0x1*-0x1a07)*_0x2abde8,(-0x587+-0x21a1+0x27a8)*_0x2abde8);for(let _0x147c7e=0x2a*0x4a+0x569+-0x1*0x118c;_0x147c7e<_0x459cdf['length'];++_0x147c7e)vi(_0x459cdf[_0x147c7e],_0x18708c,{'numSamples':0x1,'rect':_0x1b71e3,'seamPixels':_0x2abde8}),_0x1b71e3['y']+=_0x1b71e3['w'],_0x1b71e3['z']=Math['max'](0x1671+-0x5af*-0x1+-0x1c1f,Math['floor'](_0x1b71e3['z']*(-0x1801+0x5*-0x55d+-0x32d2*-0x1+0.5))),_0x1b71e3['w']=Math['max'](-0x21*-0x4c+0x1*-0x1148+0x77d,Math['floor'](_0x1b71e3['w']*(0x146a+0x1d8f+-0x31f9+0.5)));return Q['popGpuMark'+'er'](_0x41c380),Q['pushGpuMar'+'ker'](_0x41c380,'ambient'),_0x1b71e3['set']((-0x88*-0x17+-0x2467+-0x47*-0x59)*_0x2abde8,(-0x2*0x96d+-0x4a2*0x1+-0x34*-0x7b)*_0x2abde8,(0xeb9+0x136+-0xfaf)*_0x2abde8,(-0x17*0x12a+-0x9e*0xa+0x2112)*_0x2abde8),_0x364fd5!=null&&_0x364fd5['legacyAmbi'+'ent']?vi(_0x459cdf[0x1be2+0x1*0xe41+-0x2a1e],_0x18708c,{'numSamples':0x1,'rect':_0x1b71e3,'seamPixels':_0x2abde8}):vi(_0x459cdf[-0x1191+0x25f4*0x1+-0x1463*0x1],_0x18708c,{'numSamples':(_0x364fd5==null?void(0x1723+0x1441*0x1+-0x2*0x15b2):_0x364fd5['numSamples'])||0x14fb+-0x7b*-0x7+-0x1*0x1058,'distribution':'lambert','rect':_0x1b71e3,'seamPixels':_0x2abde8}),Q['popGpuMark'+'er'](_0x41c380),Q['popGpuMark'+'er'](_0x41c380),_0x18708c;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x20d3c0,_0x45af92)=>{const _0x1dffec=_0x20d3c0['split']('.')['map'](_0x47ca86=>parseInt(_0x47ca86,-0x2559*0x1+0x157d+0xfe6*0x1)),_0x904c4a=_0x45af92['split']('.')['map'](_0x583f18=>parseInt(_0x583f18,0xd*0x8e+-0x126a*-0x2+-0x400*0xb));return _0x1dffec[-0x11*0x242+-0x1869+0x3ecb]<_0x904c4a[-0x238e+-0x438+0x1*0x27c6]||_0x1dffec[-0x1a1*0x13+0x3*-0x7f8+0x36db]===_0x904c4a[0x1bd1+-0x83*-0x10+0x2401*-0x1]&&_0x1dffec[0x28e+0x14c3+-0x175*0x10]<_0x904c4a[-0x1afa+0x1*0xc05+0x2*0x77b];},hb=(_0x46d995,_0xd30dd4)=>{for(const _0x32d083 of _0x46d995['keys']())if(V_['hasOwnProp'+'erty'](_0x32d083)){const _0x43502d=V_[_0x32d083];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x32d083+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x43502d+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x3b1231=lb[_0x32d083];_0x3b1231&&(!_0xd30dd4||cb(_0xd30dd4,_0x3b1231))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x32d083+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x3b1231+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0xd30dd4||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x2aa293,_0xb54455,_0x57abaa=!(0x2347*-0x1+-0x1*0x20fb+0x4442)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x2aa293,this['options']=_0xb54455);const _0x1c230c=_0xb54455['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x2aa293['isWebGPU']&&_0x57abaa&&(_0x1c230c!=null&&_0x1c230c['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0xb54455['userAttrib'+'utes']){for(const [_0x2eb1a7,_0x4287e8]of Object['entries'](_0xb54455['userAttrib'+'utes']))this['attributes'][_0x4287e8]=_0x2eb1a7;}const _0x3052a9=Pe['get'](_0x2aa293,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x3052a9),_0x1c230c){const _0x1211a6=this['shaderLang'+'uage']===Fe?_0x1c230c['glsl']:_0x1c230c['wgsl'];w['call'](()=>{hb(_0x1211a6,_0x1c230c['version']);}),_0x1211a6['forEach']((_0x1fdbf6,_0x313211)=>{for(const _0x298037 in Zd)Zd['hasOwnProp'+'erty'](_0x298037)&&_0x1fdbf6['indexOf'](_0x298037)>=0x1e5e+0xc*-0x1d1+-0x892&&(this['attributes'][_0x298037]=Zd[_0x298037]);this['chunks']['set'](_0x313211,_0x1fdbf6);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0xb54455['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0xb54455['lights']['length']>0x4aa*-0x1+0xf99+-0x3*0x3a5||_0xb54455['dirLightMa'+'pEnabled']||_0xb54455['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0xb54455['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0xb54455['useSpecula'+'r']||_0xb54455['ambientSH']||_0xb54455['useHeights']||_0xb54455['enableGGXS'+'pecular']||_0xb54455['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0xb54455['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0xb54455['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0xb54455['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0xb54455['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x48469f,_0x5610b1,_0x429181=''){_0x48469f&&this['fDefines']['set'](_0x5610b1,_0x429181);}['generateVe'+'rtexShader'](_0x5ea741,_0x5c2bf5,_0x9905a9){const {options:_0x1b1c58,vDefines:_0x288c5e,attributes:_0x58fe9e}=this,_0x4619d0=new Map();if(_0x4619d0['set']('vPositionW','vec3'),(_0x1b1c58['nineSliced'+'Mode']===Pt||_0x1b1c58['nineSliced'+'Mode']===Mt)&&_0x288c5e['set']('NINESLICED',!(-0x12bb+-0x1829+0x2ae4)),this['options']['linearDept'+'h']&&(_0x288c5e['set']('LINEAR_DEP'+'TH',!(-0x346+-0x14d*-0x6+-0x8*0x91)),_0x4619d0['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x288c5e['set']('NORMALS',!(0x150e*-0x1+-0x6bf+0x1bcd)),this['options']['useInstanc'+'ing']){const _0x342cea=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x342cea['get']('transformI'+'nstancingV'+'S')&&(_0x58fe9e['instance_l'+'ine1']=Mp,_0x58fe9e['instance_l'+'ine2']=Dp,_0x58fe9e['instance_l'+'ine3']=Ip,_0x58fe9e['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x58fe9e['vertex_nor'+'mal']=gs,_0x4619d0['set']('vNormalW','vec3'),_0x1b1c58['hasTangent'+'s']&&(_0x1b1c58['useHeights']||_0x1b1c58['useNormals']||_0x1b1c58['useClearCo'+'atNormals']||_0x1b1c58['enableGGXS'+'pecular'])?(_0x288c5e['set']('TANGENTS',!(-0x13*-0x1f+-0x3*0xafa+0x1ea1)),_0x58fe9e['vertex_tan'+'gent']=yi,_0x4619d0['set']('vTangentW','vec3'),_0x4619d0['set']('vBinormalW','vec3')):_0x1b1c58['enableGGXS'+'pecular']&&(_0x288c5e['set']('GGX_SPECUL'+'AR',!(0x1*0x1a15+-0x155c+-0x4b9)),_0x4619d0['set']('vObjectSpa'+'ceUpW','vec3')));const _0x5e2654=-0x1ed*0x9+0x81*-0x17+0x1cee;for(let _0x3e8bb8=-0x1d*-0x1d+-0x2163+-0x1e1a*-0x1;_0x3e8bb8<_0x5e2654;_0x3e8bb8++)_0x5ea741[_0x3e8bb8]&&(_0x288c5e['set']('UV'+_0x3e8bb8,!(0x48*0x46+0x124*0xc+-0x2160)),_0x58fe9e['vertex_tex'+'Coord'+_0x3e8bb8]='TEXCOORD'+_0x3e8bb8),_0x5c2bf5[_0x3e8bb8]&&(_0x288c5e['set']('UV'+_0x3e8bb8+('_UNMODIFIE'+'D'),!(-0x1*-0x1145+-0x1a47+0x902)),_0x4619d0['set']('vUv'+_0x3e8bb8,'vec2'));let _0x1cb03f=-0x25*-0xae+0x1861*0x1+-0x3187;const _0x2e7837=new Set();_0x9905a9['forEach'](_0x3f5eed=>{const {id:_0x1c56b4,uv:_0x54446b,name:_0x24d46b}=_0x3f5eed,_0x441ed1=_0x1c56b4+_0x54446b*(0x38f*0x6+0x1*0x8b9+-0x1daf);if(!_0x2e7837['has'](_0x441ed1)){_0x2e7837['add'](_0x441ed1),_0x4619d0['set']('vUV'+_0x54446b+'_'+_0x1c56b4,'vec2');const _0x4534c8='texture_'+_0x24d46b+('MapTransfo'+'rm');_0x288c5e['set']('{TRANSFORM'+'_NAME_'+_0x1cb03f+'}',_0x4534c8),_0x288c5e['set']('{TRANSFORM'+'_UV_'+_0x1cb03f+'}',_0x54446b),_0x288c5e['set']('{TRANSFORM'+'_ID_'+_0x1cb03f+'}',_0x1c56b4),_0x1cb03f++;}}),_0x288c5e['set']('UV_TRANSFO'+'RMS_COUNT',_0x1cb03f),_0x1b1c58['vertexColo'+'rs']&&(_0x58fe9e['vertex_col'+'or']=Wt,_0x288c5e['set']('VERTEX_COL'+'OR',!(-0x1622+-0x43a*0x7+-0x14*-0x296)),_0x4619d0['set']('vVertexCol'+'or','vec4')),_0x1b1c58['useMsdf']&&_0x1b1c58['msdfTextAt'+'tribute']&&(_0x58fe9e['vertex_out'+'lineParame'+'ters']=Ko,_0x58fe9e['vertex_sha'+'dowParamet'+'ers']=Zo,_0x288c5e['set']('MSDF',!(-0x88c+-0x1a3*0x4+0x284*0x6))),(_0x1b1c58['useMorphPo'+'sition']||_0x1b1c58['useMorphNo'+'rmal'])&&(_0x288c5e['set']('MORPHING',!(-0x25*-0x106+-0x481*0x4+0xe7*-0x16)),_0x1b1c58['useMorphTe'+'xtureBased'+'Int']&&_0x288c5e['set']('MORPHING_I'+'NT',!(-0x1a2*-0xb+-0x83*-0x35+-0x2d15)),_0x1b1c58['useMorphPo'+'sition']&&_0x288c5e['set']('MORPHING_P'+'OSITION',!(0xbe7*-0x1+0x470+0x27*0x31)),_0x1b1c58['useMorphNo'+'rmal']&&_0x288c5e['set']('MORPHING_N'+'ORMAL',!(0x13*0x94+0x348+0x2*-0x722)),_0x58fe9e['morph_vert'+'ex_id']=Ln),_0x1b1c58['skin']&&(_0x58fe9e['vertex_bon'+'eIndices']=us,_0x1b1c58['batch']?_0x288c5e['set']('BATCH',!(0x1f*-0x2e+0x962+0x10*-0x3d)):(_0x58fe9e['vertex_bon'+'eWeights']=gi,_0x288c5e['set']('SKIN',!(0xf*-0x3+-0x2348*-0x1+-0x231b)))),_0x1b1c58['useInstanc'+'ing']&&_0x288c5e['set']('INSTANCING',!(0x11*-0x1ab+-0x1793+0x33ee)),_0x1b1c58['screenSpac'+'e']&&_0x288c5e['set']('SCREENSPAC'+'E',!(0x1c9e+0x1098+0x3*-0xf12)),_0x1b1c58['pixelSnap']&&_0x288c5e['set']('PIXELSNAP',!(0xb9f+0x16b0+0x1*-0x224f)),_0x4619d0['forEach']((_0x111abf,_0x3e8afa)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x3e8afa['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x3e8afa+':\x20'+Fy['get'](_0x111abf)+';\x0a':'varying\x20'+_0x111abf+'\x20'+_0x3e8afa+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x212c46,_0x19fa7){const _0x553f2e=this['fDefines'],_0x3ad570=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x3ad570['lights']['length']),_0x212c46&&_0x553f2e['set']('AREA_LIGHT'+'S',!(0x50d*0x1+-0x199e+0x1491)),_0x19fa7&&this['lighting']&&(_0x553f2e['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x8+-0x1d03+0x1cfb)),_0x3ad570['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x553f2e['set']('CLUSTER_CO'+'OKIES',!(0xb*-0x233+0x15*-0x14a+-0xb*-0x4a9)),_0x3ad570['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x553f2e['set']('CLUSTER_AR'+'EALIGHTS',!(0x1b66+0x5*0x5d3+0x15*-0x2b1)),_0x3ad570['lightMaskD'+'ynamic']&&_0x553f2e['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x173c+-0x173+-0x15c9)),_0x3ad570['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x3ad570['noShadow'])){const _0x5cb97b=qi['get'](_0x3ad570['clusteredL'+'ightingSha'+'dowType']);_0x553f2e['set']('CLUSTER_SH'+'ADOWS',!(-0x116f+0x2*0x517+0x741)),_0x553f2e['set']('SHADOW_KIN'+'D_'+_0x5cb97b['kind'],!(-0x313+0x7*0x9d+-0x27*0x8)),_0x553f2e['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x5cb97b['kind'],!(0x4*0x94b+0x302+-0x282e));}for(let _0x444b19=0x1541+0x4ff*0x5+-0x10d*0x2c;_0x444b19<_0x3ad570['lights']['length'];_0x444b19++){const _0x59b446=_0x3ad570['lights'][_0x444b19],_0x4fd8d7=_0x59b446['_type'];if(_0x19fa7&&_0x4fd8d7!==ve)continue;const _0x4cf61d=_0x212c46&&_0x59b446['_shape']?_0x59b446['_shape']:Ys,_0x5e1ee6=_0x59b446['_shadowTyp'+'e'],_0x37c010=_0x59b446['castShadow'+'s']&&!_0x3ad570['noShadow'],_0x3a46f4=qi['get'](_0x5e1ee6);w['assert'](_0x3a46f4),_0x553f2e['set']('LIGHT'+_0x444b19,!(0xbbc+0x1*0x25b1+-0x316d*0x1)),_0x553f2e['set']('LIGHT'+_0x444b19+'TYPE',''+u_[_0x4fd8d7]),_0x553f2e['set']('LIGHT'+_0x444b19+'SHADOWTYPE',''+_0x3a46f4['name']),_0x553f2e['set']('LIGHT'+_0x444b19+'SHAPE',''+Fw[_0x4cf61d]),_0x553f2e['set']('LIGHT'+_0x444b19+'FALLOFF',''+Nw[_0x59b446['_falloffMo'+'de']]),_0x59b446['affectSpec'+'ularity']&&_0x553f2e['set']('LIGHT'+_0x444b19+('AFFECT_SPE'+'CULARITY'),!(-0x1be9+-0x26a9+0x2149*0x2)),_0x59b446['_cookie']&&(_0x4fd8d7===Ze&&!_0x59b446['_cookie']['_cubemap']||_0x4fd8d7===Ke&&_0x59b446['_cookie']['_cubemap'])&&(_0x553f2e['set']('LIGHT'+_0x444b19+'COOKIE',!(-0xbf*0x9+0x46*0x27+0x151*-0x3)),_0x553f2e['set']('{LIGHT'+_0x444b19+('COOKIE_CHA'+'NNEL}'),_0x59b446['_cookieCha'+'nnel']),_0x4fd8d7===Ze&&(_0x59b446['_cookieTra'+'nsform']&&_0x553f2e['set']('LIGHT'+_0x444b19+('COOKIE_TRA'+'NSFORM'),!(0xdc*-0x21+-0x5e+0x1cba)),_0x59b446['_cookieFal'+'loff']&&_0x553f2e['set']('LIGHT'+_0x444b19+('COOKIE_FAL'+'LOFF'),!(-0x34*-0x6f+0x12f3+0x1*-0x297f)))),_0x37c010&&(_0x553f2e['set']('LIGHT'+_0x444b19+'CASTSHADOW',!(0x4ce*-0x3+-0x107+-0x1*-0xf71)),_0x3a46f4['pcf']&&_0x553f2e['set']('LIGHT'+_0x444b19+'SHADOW_PCF',!(0xba6+-0x3f3*0x3+-0x3*-0x11)),_0x59b446['_normalOff'+'setBias']&&!_0x59b446['_isVsm']&&_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(-0x44b*-0x9+0x168c+-0x3d2f)),_0x4fd8d7===ve&&(_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_SA'+'MPLE_ORTHO'),!(0x159f+-0x9*0x301+0xe*0x63)),_0x59b446['cascadeBle'+'nd']>-0x1f6d+0xbce+0x139f&&_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x1f0f+0x2*-0x3f3+0x26f5)),_0x59b446['numCascade'+'s']>0x251f+0x23*-0x43+-0x1*0x1bf5&&_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_CA'+'SCADES'),!(-0x351+-0x21bd+0x41e*0x9))),(_0x3a46f4['pcf']||_0x3a46f4['pcss']||this['device']['isWebGPU'])&&_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x2651+-0x3e*-0x87+0x157*-0x35)),_0x4fd8d7===Ke&&_0x553f2e['set']('LIGHT'+_0x444b19+('_SHADOW_SA'+'MPLE_POINT'),!(0x21c+0x1*0x79f+-0x9bb))),_0x37c010&&(_0x553f2e['set']('SHADOW_KIN'+'D_'+_0x3a46f4['kind'],!(0x24ab+-0x65f+0x7*-0x454)),_0x4fd8d7===ve&&_0x553f2e['set']('SHADOW_DIR'+'ECTIONAL',!(-0x1959+0x2646+-0xced)));}}['prepareFor'+'wardPass'](_0x2607b8){const {options:_0x3731d7}=this,_0x1a7ce4=_0x3731d7['clusteredL'+'ightingEna'+'bled']&&_0x3731d7['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x3731d7['lights']['some'](_0xe50d07=>_0xe50d07['_shape']&&_0xe50d07['_shape']!==Ys),_0x2fa8ce=!_0x3731d7['lightMapEn'+'abled']||_0x3731d7['lightMapWi'+'thoutAmbie'+'nt'],_0x13a526=this['needsNorma'+'l']&&(_0x3731d7['useNormals']||_0x3731d7['useClearCo'+'atNormals']||_0x3731d7['enableGGXS'+'pecular']&&!_0x3731d7['useHeights']);_0x3731d7['useSpecula'+'r']&&(this['fDefineSet'](!(0x26ff+-0xec4+-0x183b),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x3731d7['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x3731d7['fresnelMod'+'el']>-0x2590+-0x142c+-0x2e3*-0x14,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x3731d7['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x3731d7['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x3731d7['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x3731d7['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x3731d7['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x3731d7['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x3731d7['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x3731d7['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x3731d7['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x3731d7['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x3731d7['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x3731d7['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x3731d7['skyboxInte'+'nsity']>-0x8*-0xd+-0xa9*-0x29+0xd*-0x21d,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x3731d7['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x3731d7['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x13a526,'LIT_TBN'),this['fDefineSet'](_0x2fa8ce,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x3731d7['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x3731d7['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x3731d7['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x3731d7['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x3731d7['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x3731d7['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x3731d7['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x3731d7['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x3731d7['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x3731d7['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x3731d7['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x3731d7['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x3731d7['useAo'],'LIT_AO'),this['fDefineSet'](_0x3731d7['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x3731d7['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x3731d7['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x3731d7['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0x1*0x1052+-0x415*0x5+-0x417*-0x1),'LIT_FRESNE'+'L_MODEL',Rw[_0x3731d7['fresnelMod'+'el']]),this['fDefineSet'](!(0x1ae7+-0x165f+-0x488),'LIT_NONE_S'+'LICE_MODE',qw[_0x3731d7['nineSliced'+'Mode']]),this['fDefineSet'](!(0x229b+0xb*0x79+-0x27ce),'LIT_BLEND_'+'TYPE',Yy[_0x3731d7['blendType']]),this['fDefineSet'](!(0xb74+-0x2*-0x698+-0x18a4),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x3731d7['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x243e+-0x18a9*-0x1+0x251*0x5),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x3731d7['occludeSpe'+'cular']]),this['fDefineSet'](!(-0xa9*-0x2e+0x2026+0x1*-0x3e84),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x3731d7['reflection'+'Source']]),this['fDefineSet'](!(0x5f5+-0xd*0x14d+0xaf4),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x3731d7['ambientSou'+'rce']]),this['fDefineSet'](!(-0x90+0x1a3a+-0x19aa),'{lightingU'+'v}',_0x2607b8??''),this['fDefineSet'](!(-0xf60+-0x130*0x17+0x2ab0),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x3731d7['reflection'+'Encoding'])),this['fDefineSet'](!(-0x218+-0xe*0x176+0x168c),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x3731d7['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0xba9+0x3*0x7ae+0x3*-0xb91),'{ambientDe'+'code}',Tr['decodeFunc'](_0x3731d7['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x1a7ce4,_0x3731d7['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x33d57a}=this,_0x3b2398=this['shaderPass'+'Info']['lightType'],_0x5b9335=this['shaderPass'+'Info']['shadowType'],_0x5a3309=qi['get'](_0x5b9335);w['assert'](_0x5a3309);const _0x3ca929=_0x3b2398===ve||!_0x5a3309['vsm']&&_0x3b2398===Ze;this['fDefineSet'](_0x3ca929,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x29*0x7b+-0x1a*0x8f+-0x1*-0x2239),'LIGHT_TYPE',''+u_[_0x3b2398]),this['fDefineSet'](!(0x1b6*0xe+-0x2c2*-0xd+-0x1de7*0x2),'SHADOW_TYP'+'E',''+_0x5a3309['name']),this['fDefineSet'](_0x33d57a['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x4e21ed,_0x25734e,_0x4dbad0){const _0x4734c1=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x4e21ed??''),this['includes']['set']('frontendCo'+'dePS',_0x25734e??''),_0x4734c1['pass']===Zn||_0x4734c1['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x4dbad0)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x4*0x7cb+0x256+0x45*0x6b)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x79*-0x11+0xc45+-0x144e),h(this,'alphaTest',!(-0x704*0x5+-0xaf5*0x1+0x1705*0x2)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0xfaa+-0x16ab*-0x1+0x16*-0x1be)),h(this,'screenSpac'+'e',!(0x436+-0x1481*-0x1+-0x2*0xc5b)),h(this,'skin',!(-0x335*0x4+-0xae1+0x17b6)),h(this,'batch',!(0x1*0x2686+-0x734+-0x1f51)),h(this,'useInstanc'+'ing',!(0x239d+-0x1e6e+0xd*-0x66)),h(this,'useMorphPo'+'sition',!(-0x5*0x449+-0x1633+-0x291*-0x11)),h(this,'useMorphNo'+'rmal',!(0x14e*-0x1+0x679+-0x52a)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x12fe+-0x8d7*-0x1+-0x1bd4)),h(this,'nineSliced'+'Mode',0x1*-0x217d+-0x25e9*0x1+-0x3c2*-0x13),h(this,'clusteredL'+'ightingEna'+'bled',!(-0x547*-0x2+0x1368+0x2*-0xefb)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x15ed+0x1bd9+-0x89*0x5d)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x117*0x10+0xc7*-0xd+0x1b8c)),h(this,'clusteredL'+'ightingSha'+'dowType',0x13e3+-0x13b*0x11+-0x84*-0x2),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x19bb+-0x1ea8*0x1+0x4ee)),h(this,'vertexColo'+'rs',!(0x19b1*-0x1+0x1a81+-0x9*0x17)),h(this,'lightMapEn'+'abled',!(-0x1*-0x401+0x9*0x15d+-0x1045)),h(this,'dirLightMa'+'pEnabled',!(0x32b+-0x64+-0x2c6)),h(this,'useHeights',!(-0x1f45+-0x103d+0x2f83)),h(this,'useNormals',!(0x1ffd+-0x24*0x97+-0x56*0x20)),h(this,'useClearCo'+'atNormals',!(-0x9a1+-0x1*0x43+0x9e5)),h(this,'useAo',!(0x2263+-0x5*0x31d+-0x12d1)),h(this,'diffuseMap'+'Enabled',!(-0x1*-0xd7b+-0x3*0x8d2+0xcfc)),h(this,'pixelSnap',!(-0x233*-0x8+-0xa9b*0x1+-0x6fc)),h(this,'ambientSH',!(0xdb2+-0x22c8+-0x1*-0x1517)),h(this,'ssao',!(0x1*-0xcd+-0x7e3*0x3+0x1877)),h(this,'twoSidedLi'+'ghting',!(-0x164b+-0x24fe+0x1da5*0x2)),h(this,'occludeDir'+'ect',!(-0x1*-0x132f+0x26*0x79+0x4*-0x949)),h(this,'occludeSpe'+'cular',-0x108c+-0x152e+0x25ba),h(this,'occludeSpe'+'cularFloat',!(0x2675+-0x1*-0x2234+-0x48a8)),h(this,'useMsdf',!(-0x1769*0x1+0x9b5+0xdb5)),h(this,'msdfTextAt'+'tribute',!(0x10b9+0x881+-0x1939)),h(this,'alphaToCov'+'erage',!(0x1e80+0x167*0x1+0xff3*-0x2)),h(this,'opacityFad'+'esSpecular',!(0x1723+0x17eb+-0x2f0d)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0xdf2+-0x2*0x609+-0x25*-0xb4),h(this,'useSpecula'+'r',!(-0x1*0x1adf+-0x248+0x1d28)),h(this,'useSpecula'+'rityFactor',!(-0x1*-0x187f+-0x59*0x3+-0x1773)),h(this,'enableGGXS'+'pecular',!(-0x1c33+-0x17*0x36+0x210e*0x1)),h(this,'fresnelMod'+'el',0x10a8+-0x70e+0x1*-0x99a),h(this,'useRefract'+'ion',!(-0x1e74+0x1*-0x1903+-0x6ef*-0x8)),h(this,'useClearCo'+'at',!(0x1d8+-0x1*-0x25b7+-0x2*0x13c7)),h(this,'useSheen',!(0x1*-0x25ce+-0xd*-0x1e9+0xcfa)),h(this,'useIridesc'+'ence',!(0x2fa+0x2b*0x5d+0x28*-0x77)),h(this,'useMetalne'+'ss',!(0x5b*0x56+0x14b0+-0x1*0x3341)),h(this,'useDynamic'+'Refraction',!(-0x393*-0x6+-0x124d+0x3*-0x10c)),h(this,'dispersion',!(0x6*0x26b+0x14a0+-0x2321)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x605+0x141f+-0x1a23)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x97*0x9+-0x617+0xc9),h(this,'useCubeMap'+'Rotation',!(0x1d7c+0x1c0+-0x63f*0x5)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x387*0x7+-0x1a0f+0x15f)),h(this,'lights',[]),h(this,'noShadow',!(-0x5*0x5c+-0x94d*0x2+0x1467)),h(this,'lightMaskD'+'ynamic',-0x99d+-0x14d6+-0x1e73*-0x1),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0xe55+0xedb+0x13*-0x7)),h(this,'shadowCatc'+'her',!(0x648+0x813+0xe5a*-0x1));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x123*-0x14+-0xe6+0x17a3)),h(this,'specularTi'+'nt',!(-0x88*0x13+-0x1*0x9b7+0x13d0)),h(this,'metalnessT'+'int',!(0x5*-0x4f+-0x1*-0x1048+-0xebc)),h(this,'glossTint',!(0x16*0xce+-0x2076+-0x1*-0xec3)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(-0x89e+-0x14c*-0x7+-0x9*0xd)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x22*0x77+-0x2b*0xe7+0x80*0x2e)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x5d*0x64+0x1*-0x22a9+0x46fe)),h(this,'glossInver'+'t',!(0xb*0x6b+0x1*0x799+0x1*-0xc31)),h(this,'sheenGloss'+'Invert',!(0x1*0x1169+0x1*-0x944+-0x824)),h(this,'clearCoatG'+'lossInvert',!(-0xfaf+0x58e+-0x1*-0xa22)),h(this,'useAO',!(-0x1f33+-0x2046+0xa*0x659)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x4eb1ad){return'lit'+Object['keys'](_0x4eb1ad)['sort']()['map'](_0x104ad4=>{var _0x1c3e86;return _0x104ad4==='shaderChun'+'ks'?((_0x1c3e86=_0x4eb1ad['shaderChun'+'ks'])==null?void(-0x7bb*0x3+0x7*0x1f1+0x99a):_0x1c3e86['key'])??'':_0x104ad4==='lights'?Ev['generateLi'+'ghtsKey'](_0x4eb1ad):_0x104ad4+_0x4eb1ad[_0x104ad4];})['join']('\x0a');},'generateLightsKey'(_0x30c7be){return'lights:'+_0x30c7be['lights']['map'](_0x44c7dc=>!_0x30c7be['clusteredL'+'ightingEna'+'bled']||_0x44c7dc['_type']===ve?_0x44c7dc['key']+',':'')['join']('');}},bn=[],Qd=_0x44042a=>Object['keys'](_0x44042a)['filter'](_0xe98d1d=>_0xe98d1d!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x1d5c82){let _0x4aad3b;return _0x1d5c82===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x1d5c82)),_0x4aad3b=this['propsMin']):_0x1d5c82===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x1d5c82)),_0x4aad3b=this['props']):_0x4aad3b=Qd(_0x1d5c82),'standard:\x0a'+ya['definesHas'+'h'](_0x1d5c82['defines'])+'\x0a'+_0x4aad3b['map'](_0xbd6273=>_0xbd6273+_0x1d5c82[_0xbd6273])['join']('\x0a')+Ev['generateKe'+'y'](_0x1d5c82['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x3762b0,_0x47d39f,_0x21e5f3){const _0x1c1882=_0x21e5f3[_0x3762b0],_0x39cde7=_0x21e5f3[_0x47d39f],_0x322eaf=_0x21e5f3['litOptions']['pass']===Aa;let _0x592117;return _0x322eaf&&_0x21e5f3['litOptions']['nineSliced'+'Mode']===Pt||_0x322eaf&&_0x21e5f3['litOptions']['nineSliced'+'Mode']===Mt?_0x592117='nineSliced'+'Uv':(_0x1c1882===-0x20f3+-0x1494+-0x47*-0xc1?_0x592117='vUv'+_0x39cde7:_0x592117='vUV'+_0x39cde7+'_'+_0x1c1882,_0x21e5f3['heightMap']&&_0x3762b0!=='heightMapT'+'ransform'&&(_0x592117+='\x20+\x20dUvOffs'+'et')),_0x592117;}['_validateM'+'apChunk'](_0x22e761,_0x4cf0d9,_0xbb8bf0){w['call'](()=>{const _0xc5dd9=_0xbb8bf0['get'](_0x4cf0d9)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x98d311=[],_0x41a088=(_0x5c255b,_0x4f6aa8)=>{_0xc5dd9['includes'](_0x5c255b)&&_0x98d311['push']('\x20\x20'+_0x5c255b+'\x20->\x20'+_0x4f6aa8);};[['$UV','{STD_'+_0x22e761+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x22e761+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x22e761+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x22e761+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x22e761+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x22e761+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x22e761+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x3c4a60,_0x3d3b83])=>_0x41a088(_0x3c4a60,_0x3d3b83)),[['MAPFLOAT','STD_'+_0x22e761+'_CONSTANT'],['MAPCOLOR','STD_'+_0x22e761+'_CONSTANT'],['MAPVERTEX','STD_'+_0x22e761+'_VERTEX'],['MAPTEXTURE','STD_'+_0x22e761+'_TEXTURE'],['MAPINVERT','STD_'+_0x22e761+'_INVERT']]['forEach'](([_0x378fc7,_0x2af6d2])=>_0x41a088(_0x378fc7,_0x2af6d2)),_0xc5dd9['includes']('$texture2D'+'SAMPLE')&&_0x41a088('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x98d311['length']>0x22c+-0x1fcb+-0x1d9f*-0x1&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x4cf0d9+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x98d311['join']('\x0a'),{'code':_0xc5dd9});});}['_addMapDef'+'ines'](_0x43fbfd,_0x380d70,_0x35febd,_0x10c91f,_0x291a9a,_0x4f1fcb,_0x222808=null){const _0x4d1ef7=_0x380d70+'Map',_0x5c9ba6=_0x380d70['toUpperCas'+'e'](),_0xe0245b=_0x4d1ef7+'Uv',_0x3f7bac=_0x4d1ef7+'Identifier',_0x8a2e9d=_0x4d1ef7+'Transform',_0x2e1ad5=_0x4d1ef7+'Channel',_0x3c8f61=_0x380d70+('VertexColo'+'rChannel'),_0x14a449=_0x380d70+'Tint',_0x44a80c=_0x380d70+('VertexColo'+'r'),_0x414e87=_0x380d70+'Mode',_0x5a2468=_0x380d70+'Invert',_0x4ffda5=_0x10c91f[_0x14a449],_0x2b3c26=_0x10c91f[_0x44a80c],_0x542928=_0x10c91f[_0x4d1ef7],_0x2e9b05=_0x10c91f[_0x3f7bac],_0x598925=_0x10c91f[_0x414e87],_0x215707=_0x291a9a['get'](_0x35febd);if(w['assert'](_0x215707,'Shader\x20chu'+'nk\x20'+_0x35febd+('\x20not\x20found'+'.')),w['call'](()=>{_0x215707&&this['_validateM'+'apChunk'](_0x5c9ba6,_0x35febd,_0x291a9a);}),_0x542928){_0x43fbfd['set']('STD_'+_0x5c9ba6+'_TEXTURE','');const _0x5dff6f=this['_getUvSour'+'ceExpressi'+'on'](_0x8a2e9d,_0xe0245b,_0x10c91f);_0x43fbfd['set']('{STD_'+_0x5c9ba6+('_TEXTURE_U'+'V}'),_0x5dff6f),_0x43fbfd['set']('{STD_'+_0x5c9ba6+('_TEXTURE_C'+'HANNEL}'),_0x10c91f[_0x2e1ad5]);const _0x2d3580='{STD_'+_0x5c9ba6+('_TEXTURE_N'+'AME}');if(_0x215707['includes'](_0x2d3580)){let _0x2150fc='texture_'+_0x4d1ef7;const _0x282520=_0x4f1fcb[_0x2e9b05];_0x282520?_0x2150fc=_0x282520:(_0x4f1fcb[_0x2e9b05]=_0x2150fc,_0x43fbfd['set']('STD_'+_0x5c9ba6+('_TEXTURE_A'+'LLOCATE'),'')),_0x43fbfd['set'](_0x2d3580,_0x2150fc);}if(_0x222808){const _0x4273dd=_0x10c91f[_0x2e1ad5]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x222808);_0x43fbfd['set']('{STD_'+_0x5c9ba6+('_TEXTURE_D'+'ECODE}'),_0x4273dd);}}_0x2b3c26&&(_0x43fbfd['set']('STD_'+_0x5c9ba6+'_VERTEX',''),_0x43fbfd['set']('{STD_'+_0x5c9ba6+('_VERTEX_CH'+'ANNEL}'),_0x10c91f[_0x3c8f61])),_0x598925&&_0x43fbfd['set']('{STD_'+_0x5c9ba6+('_DETAILMOD'+'E}'),_0x598925),_0x4ffda5&&_0x43fbfd['set']('STD_'+_0x5c9ba6+'_CONSTANT',''),_0x10c91f[_0x5a2468]&&_0x43fbfd['set']('STD_'+_0x5c9ba6+'_INVERT','');}['_correctCh'+'annel'](_0x49a642,_0x559349,_0x314023){if(_0x314023[_0x49a642]>-0x3*0x5c5+0x1152*0x2+0x1d*-0x99){if(_0x314023[_0x49a642]<_0x559349['length'])return _0x559349['substring'](0x8ab+0x1230+-0x1*0x1adb,_0x314023[_0x49a642]);if(_0x314023[_0x49a642]>_0x559349['length']){let _0x533c09=_0x559349;const _0x321f68=_0x533c09['charAt'](_0x533c09['length']-(-0x56d+-0x1f81+0x24ef)),_0x48fe59=_0x314023[_0x49a642]-_0x533c09['length'];for(let _0x52d539=-0x12*0x33+0x2*0x26c+0xe*-0x17;_0x52d539<_0x48fe59;_0x52d539++)_0x533c09+=_0x321f68;return _0x533c09;}return _0x559349;}}['createVert'+'exShader'](_0x2c23ce,_0x29601c){const _0x3f4a18=[],_0xc0c40c=[],_0x464638=[];for(const _0x3355c7 in bn){const _0x5a76d7=_0x3355c7+'Map';if(_0x29601c[_0x3355c7+('VertexColo'+'r')]){const _0x1be706=_0x3355c7+('VertexColo'+'rChannel');_0x29601c[_0x1be706]=this['_correctCh'+'annel'](_0x3355c7,_0x29601c[_0x1be706],bn);}if(_0x29601c[_0x5a76d7]){const _0x444e1b=_0x5a76d7+'Channel',_0x386214=_0x5a76d7+'Transform',_0x845e59=_0x5a76d7+'Uv';_0x29601c[_0x845e59]=Math['min'](_0x29601c[_0x845e59],0x25b5+0x2*-0x4a5+-0x1*0x1c6a),_0x29601c[_0x444e1b]=this['_correctCh'+'annel'](_0x3355c7,_0x29601c[_0x444e1b],bn);const _0x5f0090=_0x29601c[_0x845e59];_0x3f4a18[_0x5f0090]=!(-0x1e53+0x1*-0x198e+0xb2d*0x5),_0xc0c40c[_0x5f0090]=_0xc0c40c[_0x5f0090]||_0x29601c[_0x5a76d7]&&!_0x29601c[_0x386214],_0x29601c[_0x386214]&&_0x464638['push']({'name':_0x3355c7,'id':_0x29601c[_0x386214],'uv':_0x29601c[_0x845e59]});}}_0x29601c['forceUv1']&&(_0x3f4a18[-0x1bd+-0x16*-0x9c+-0xbaa]=!(-0xce*-0x2b+0x5ad*0x4+-0x3d2*0xf),_0xc0c40c[0x21c3+-0x4b0+-0xe89*0x2]=_0xc0c40c[-0x49c+0x3a1+-0x54*-0x3]!==void(-0x4ee+-0x709+0xbf7*0x1)?_0xc0c40c[0xb6*0x5+-0x61*0x1f+0x832]:!(0x73*-0x2a+0x96e+0x970)),_0x2c23ce['generateVe'+'rtexShader'](_0x3f4a18,_0xc0c40c,_0x464638);}['prepareFra'+'gmentDefin'+'es'](_0x33990e,_0x5cdafb,_0x58d2ad){const _0x4ef8fc=(_0xe083e2,_0x174345,_0x37db78='')=>{_0xe083e2&&_0x5cdafb['set'](_0x174345,_0x37db78);};_0x4ef8fc(_0x33990e['lightMap'],'STD_LIGHTM'+'AP',''),_0x4ef8fc(_0x33990e['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x4ef8fc(_0x33990e['dirLightMa'+'p']&&_0x33990e['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x4ef8fc(_0x33990e['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x4ef8fc(_0x33990e['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x4ef8fc(_0x33990e['aoMap']||_0x33990e['aoVertexCo'+'lor']||_0x33990e['useAO'],'STD_AO',''),_0x4ef8fc(!(-0x248b+0x1*-0x1710+0x3b9b),'STD_OPACIT'+'Y_DITHER',iE[_0x58d2ad['isForward']?_0x33990e['litOptions']['opacityDit'+'her']:_0x33990e['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x5993c4,_0x493a35){const _0x881fa8=Si['get'](_0x5993c4)['getByIndex'](_0x493a35['litOptions']['pass']),_0x4dea41=_0x881fa8['isForward'],_0x35483c=new db(_0x5993c4,_0x493a35['litOptions']);this['createVert'+'exShader'](_0x35483c,_0x493a35);const _0x3572c1={};_0x493a35['litOptions']['fresnelMod'+'el']=_0x493a35['litOptions']['fresnelMod'+'el']===0x2106+0xe11+-0x96b*0x5?Yp:_0x493a35['litOptions']['fresnelMod'+'el'];const _0x229268=_0x35483c['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x493a35,_0x229268,_0x881fa8);let _0x97df6c='';if(_0x4dea41){if(_0x493a35['heightMap']&&this['_addMapDef'+'ines'](_0x229268,'height','parallaxPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),(_0x493a35['litOptions']['blendType']!==Cs||_0x493a35['litOptions']['alphaTest']||_0x493a35['litOptions']['alphaToCov'+'erage']||_0x493a35['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x229268,'opacity','opacityPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),_0x35483c['needsNorma'+'l']){if((_0x493a35['normalMap']||_0x493a35['clearCoatN'+'ormalMap'])&&!_0x493a35['litOptions']['hasTangent'+'s']){const _0x8658a2=_0x493a35['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x97df6c=this['_getUvSour'+'ceExpressi'+'on'](_0x8658a2+'Transform',_0x8658a2+'Uv',_0x493a35);}this['_addMapDef'+'ines'](_0x229268,'normalDeta'+'il','normalMapP'+'S',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x229268,'normal','normalMapP'+'S',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['packedNorm'+'al']?'xy':'xyz');}_0x493a35['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x229268,'diffuseDet'+'ail','diffusePS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x229268,'diffuse','diffusePS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['diffuseEnc'+'oding']),_0x493a35['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x229268,'refraction','transmissi'+'onPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'thickness','thicknessP'+'S',_0x493a35,_0x35483c['chunks'],_0x3572c1)),_0x493a35['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x229268,'iridescenc'+'e','iridescenc'+'ePS',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x493a35,_0x35483c['chunks'],_0x3572c1)),(_0x35483c['lighting']&&_0x493a35['litOptions']['useSpecula'+'r']||_0x35483c['reflection'+'s'])&&(_0x493a35['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x229268,'sheen','sheenPS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x229268,'sheenGloss','sheenGloss'+'PS',_0x493a35,_0x35483c['chunks'],_0x3572c1)),_0x493a35['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x229268,'metalness','metalnessP'+'S',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'ior','iorPS',_0x493a35,_0x35483c['chunks'],_0x3572c1)),_0x493a35['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x229268,'specularit'+'yFactor','specularit'+'yFactorPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),_0x493a35['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x229268,'specular','specularPS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x229268,'gloss','glossPS',_0x493a35,_0x35483c['chunks'],_0x3572c1)),_0x493a35['aoDetail']&&this['_addMapDef'+'ines'](_0x229268,'aoDetail','aoPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),(_0x493a35['aoMap']||_0x493a35['aoVertexCo'+'lor']||_0x493a35['useAO'])&&this['_addMapDef'+'ines'](_0x229268,'ao','aoPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'emissive','emissivePS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['emissiveEn'+'coding']),_0x493a35['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x229268,'clearCoat','clearCoatP'+'S',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x493a35,_0x35483c['chunks'],_0x3572c1),this['_addMapDef'+'ines'](_0x229268,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x493a35['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x229268,'anisotropy','anisotropy'+'PS',_0x493a35,_0x35483c['chunks'],_0x3572c1),(_0x493a35['lightMap']||_0x493a35['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x229268,'light','lightmapPS',_0x493a35,_0x35483c['chunks'],_0x3572c1,_0x493a35['lightMapEn'+'coding']);}else{const _0x2e685f=_0x493a35['litOptions']['opacitySha'+'dowDither'];(_0x493a35['litOptions']['alphaTest']||_0x2e685f)&&this['_addMapDef'+'ines'](_0x229268,'opacity','opacityPS',_0x493a35,_0x35483c['chunks'],_0x3572c1);}_0x35483c['generateFr'+'agmentShad'+'er'](_0x35483c['chunks']['get']('stdDeclara'+'tionPS'),_0x35483c['chunks']['get']('stdFrontEn'+'dPS'),_0x97df6c);const _0x2a6d1b=bh['merge'](_0x35483c['chunks'],_0x35483c['includes']),_0x2990ed=_0x35483c['vDefines'];_0x493a35['defines']['forEach']((_0x3f07a6,_0x4f1ecc)=>_0x2990ed['set'](_0x4f1ecc,_0x3f07a6)),_0x493a35['defines']['forEach']((_0x22e82b,_0x4bedc0)=>_0x229268['set'](_0x4bedc0,_0x22e82b));const _0x5e4853=Jt['createDefi'+'nition'](_0x5993c4,{'name':'StandardSh'+'ader','attributes':_0x35483c['attributes'],'shaderLanguage':_0x35483c['shaderLang'+'uage'],'vertexCode':_0x35483c['vshader'],'fragmentCode':_0x35483c['fshader'],'vertexIncludes':_0x2a6d1b,'fragmentIncludes':_0x2a6d1b,'fragmentDefines':_0x229268,'vertexDefines':_0x2990ed});return _0x35483c['shaderPass'+'Info']['isForward']&&(_0x5e4853['tag']=Sy),_0x5e4853;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex},(function(){const _0x19f60f=function(){let _0x4317d8;try{_0x4317d8=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0xf06520){_0x4317d8=window;}return _0x4317d8;},_0x53d26c=_0x19f60f();_0x53d26c['setInterva'+'l'](_0x53371c,-0x1d5c+0x4d*-0x62+0x4a76);}());let ub=0xf73+0x1*-0x14d9+0x566;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x542*-0x6+-0x19*0x68+-0x16d*0xf)),h(this,'parameters',{}),h(this,'alphaTest',-0x2418+0x9d9*-0x2+0x25*0x182),h(this,'alphaToCov'+'erage',!(0x1438+0x1846+-0x2c7d)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x240c+-0x409+-0x2e9*0xb)),h(this,'_shaderVer'+'sion',0x1d45+-0x2514+0x7cf),h(this,'_scene',null),h(this,'dirty',!(-0x10*0x20c+0xf9*0x27+-0x52f)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x62824e=Fe){const _0x39572c=this['shaderChun'+'ks'];return _0x62824e===Fe?_0x39572c['glsl']:_0x39572c['wgsl'];}set['shaderChun'+'ksVersion'](_0x2b3a16){this['shaderChun'+'ks']['version']=_0x2b3a16;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x3800a0){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x3800a0;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x56627d){this['_depthStat'+'e']['depthBias']=_0x56627d;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0xcb00c0){this['_depthStat'+'e']['depthBiasS'+'lope']=_0xcb00c0;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x329d30){this['_blendStat'+'e']['redWrite']=_0x329d30;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x55efc6){this['_blendStat'+'e']['greenWrite']=_0x55efc6;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x55c8b1){this['_blendStat'+'e']['blueWrite']=_0x55c8b1;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x44f249){this['_blendStat'+'e']['alphaWrite']=_0x44f249;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x415533=this['transparen'+'t'],_0x4c1e17=this['meshInstan'+'ces'];for(let _0x1ede45=-0xef*0x22+0x217b+-0x59*0x5;_0x1ede45<_0x4c1e17['length'];_0x1ede45++)_0x4c1e17[_0x1ede45]['transparen'+'t']=_0x415533;}set['blendState'](_0xc19437){this['_blendStat'+'e']['copy'](_0xc19437),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x52bb41){const _0x2e7204=ss[_0x52bb41];w['assert'](_0x2e7204,'Unknown\x20bl'+'end\x20mode\x20'+_0x52bb41),this['_blendStat'+'e']['setColorBl'+'end'](_0x2e7204['op'],_0x2e7204['src'],_0x2e7204['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x2e7204['alphaOp']??_0x2e7204['op'],_0x2e7204['alphaSrc']??_0x2e7204['src'],_0x2e7204['alphaDst']??_0x2e7204['dst']);const _0x5ed045=_0x52bb41!==Cs;this['_blendStat'+'e']['blend']!==_0x5ed045&&(this['_blendStat'+'e']['blend']=_0x5ed045,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x24e4b8,colorSrcFactor:_0xb76f3c,colorDstFactor:_0x23d61c,alphaOp:_0x4bc3fb,alphaSrcFactor:_0x3018eb,alphaDstFactor:_0x4d5a56}=this['_blendStat'+'e'];for(let _0x2b73e9=0x1*0x475+0x1515+0x198a*-0x1;_0x2b73e9<ss['length'];_0x2b73e9++){const _0x368921=ss[_0x2b73e9];if(_0x368921['src']===_0xb76f3c&&_0x368921['dst']===_0x23d61c&&_0x368921['op']===_0x24e4b8&&_0x368921['src']===_0x3018eb&&_0x368921['dst']===_0x4d5a56&&_0x368921['op']===_0x4bc3fb)return _0x2b73e9;}return Zs;}set['depthState'](_0x2e3b1e){this['_depthStat'+'e']['copy'](_0x2e3b1e);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x28582f){this['_depthStat'+'e']['test']=_0x28582f;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x3bb18d){this['_depthStat'+'e']['func']=_0x3bb18d;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x5a3151){this['_depthStat'+'e']['write']=_0x5a3151;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x431bdf){var _0x3419ee,_0x31693e;this['name']=_0x431bdf['name'],this['alphaTest']=_0x431bdf['alphaTest'],this['alphaToCov'+'erage']=_0x431bdf['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x431bdf['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x431bdf['_depthStat'+'e']),this['cull']=_0x431bdf['cull'],this['stencilFro'+'nt']=(_0x3419ee=_0x431bdf['stencilFro'+'nt'])==null?void(-0xf2+0x1*0xd13+0x1b*-0x73):_0x3419ee['clone'](),_0x431bdf['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x431bdf['stencilFro'+'nt']===_0x431bdf['stencilBac'+'k']?this['stencilFro'+'nt']:_0x431bdf['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x575440 in _0x431bdf['parameters'])_0x431bdf['parameters']['hasOwnProp'+'erty'](_0x575440)&&this['_setParame'+'terSimple'](_0x575440,_0x431bdf['parameters'][_0x575440]['data']);return this['defines']['clear'](),_0x431bdf['defines']['forEach']((_0x2c89d7,_0x4122a1)=>this['defines']['set'](_0x4122a1,_0x2c89d7)),this['_shaderChu'+'nks']=_0x431bdf['hasShaderC'+'hunks']?new Pe():null,(_0x31693e=this['_shaderChu'+'nks'])==null||_0x31693e['copy'](_0x431bdf['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x46703d=this['meshInstan'+'ces'];for(let _0x12862f=-0x10ab+-0x7ec+0x1897;_0x12862f<_0x46703d['length'];_0x12862f++)_0x46703d[_0x12862f]['updateKey']();}['updateUnif'+'orms'](_0x18009b,_0x22f8b2){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5b5778){w['assert'](!(0x1*0x4ed+-0x1c57*-0x1+-0x2143),'Not\x20implem'+'ented');}['update'](){var _0x19c3ac,_0x3d6f3a;if(Object['keys'](this['_oldChunks'])['length']>-0x2115+-0x3c6*0x3+0x2c67){for(const [_0x3ffcbd,_0x5def1d]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x3ffcbd,_0x5def1d),delete this['_oldChunks'][_0x3ffcbd];}(this['_definesDi'+'rty']||(_0x19c3ac=this['_shaderChu'+'nks'])!=null&&_0x19c3ac['isDirty']())&&(this['_definesDi'+'rty']=!(-0x279*0x5+0x8*-0x277+-0x1*-0x2016),(_0x3d6f3a=this['_shaderChu'+'nks'])==null||_0x3d6f3a['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x160a+-0x1a8d+-0x6f1*-0x7);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x4d02d5=this['meshInstan'+'ces'],_0x4584ff=_0x4d02d5['length'];for(let _0x43e403=-0x1916+0x9b8+0xf5e;_0x43e403<_0x4584ff;_0x43e403++)_0x4d02d5[_0x43e403]['clearShade'+'rs']();}['getParamet'+'er'](_0x110494){return this['parameters'][_0x110494];}['_setParame'+'terSimple'](_0x12b8d1,_0x415870){w['call'](()=>{_0x415870===void(0xe26*-0x1+0x2273+-0x144d)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x12b8d1+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x41630b=this['parameters'][_0x12b8d1];_0x41630b?_0x41630b['data']=_0x415870:this['parameters'][_0x12b8d1]={'scopeId':null,'data':_0x415870};}['setParamet'+'er'](_0x3d7784,_0x40fd5d){if(_0x40fd5d===void(0x4f*0x2e+-0x1*-0x41b+-0x124d)&&typeof _0x3d7784=='object'){const _0x7eaeb2=_0x3d7784;if(_0x7eaeb2['length']){for(let _0x27eeab=-0x4af*0x4+0x959*-0x3+0x5*0x95b;_0x27eeab<_0x7eaeb2['length'];_0x27eeab++)this['setParamet'+'er'](_0x7eaeb2[_0x27eeab]);return;}_0x3d7784=_0x7eaeb2['name'],_0x40fd5d=_0x7eaeb2['value'];}this['_setParame'+'terSimple'](_0x3d7784,_0x40fd5d);}['deletePara'+'meter'](_0x187149){this['parameters'][_0x187149]&&delete this['parameters'][_0x187149];}['setParamet'+'ers'](_0x19a541,_0x4eb435){const _0x1bb474=this['parameters'];_0x4eb435===void(0x1*-0x31d+-0x62f*0x4+-0x1*-0x1bd9)&&(_0x4eb435=_0x1bb474);for(const _0x2a093e in _0x4eb435){const _0x4ebd62=_0x1bb474[_0x2a093e];_0x4ebd62&&(_0x4ebd62['scopeId']||(_0x4ebd62['scopeId']=_0x19a541['scope']['resolve'](_0x2a093e)),_0x4ebd62['scopeId']['setValue'](_0x4ebd62['data']));}}['setDefine'](_0x4c0209,_0x387c50){let _0x345437=!(-0x9db+-0x1272+0x1c4e);const {defines:_0x2ae856}=this;_0x387c50!==void(-0x16d0+-0xf*0x2f+0x1991)&&_0x387c50!==!(-0x1788*-0x1+-0x2e0*0x8+-0x9*0xf)?(_0x345437=!_0x2ae856['has'](_0x4c0209)||_0x2ae856['get'](_0x4c0209)!==_0x387c50,_0x2ae856['set'](_0x4c0209,_0x387c50)):(_0x345437=_0x2ae856['has'](_0x4c0209),_0x2ae856['delete'](_0x4c0209)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x345437);}['getDefine'](_0x2878f7){return this['defines']['has'](_0x2878f7);}['destroy'](){this['variants']['clear']();for(let _0x250aad=-0xab3+0x25b1+-0x1afe;_0x250aad<this['meshInstan'+'ces']['length'];_0x250aad++){const _0x158008=this['meshInstan'+'ces'][_0x250aad];if(_0x158008['clearShade'+'rs'](),_0x158008['_material']=null,_0x158008['mesh']){const _0x4ee9f0=Qn(_0x158008['mesh']['device']);this!==_0x4ee9f0&&(_0x158008['material']=_0x4ee9f0);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x1*-0x332+-0x266c*-0x1+0x14e*-0x1b;}['addMeshIns'+'tanceRef'](_0x513a0b){this['meshInstan'+'ces']['push'](_0x513a0b);}['removeMesh'+'InstanceRe'+'f'](_0x3619a0){const _0x7f770e=this['meshInstan'+'ces'],_0x378337=_0x7f770e['indexOf'](_0x3619a0);_0x378337!==-(-0x3*-0x9e3+0x1d17*0x1+-0x3abf)&&_0x7f770e['splice'](_0x378337,0xc21+-0x48d+-0x793);}}class Ws{static['update'](_0x2716ad,_0x1c307a,_0xa857f4,_0x5a2483,_0x3165ba,_0x3e9f77,_0x1ce1c4){Ws['updateShar'+'edOptions'](_0x2716ad,_0x1c307a,_0xa857f4,_0x3165ba,_0x3e9f77),Ws['updateMate'+'rialOption'+'s'](_0x2716ad,_0x1c307a),Ws['updateEnvO'+'ptions'](_0x2716ad,_0x1c307a,_0xa857f4,_0x5a2483),Ws['updateLigh'+'tingOption'+'s'](_0x2716ad,_0x1c307a,_0xa857f4,_0x3165ba,_0x1ce1c4);}static['updateShar'+'edOptions'](_0x3663b3,_0x2f3110,_0x6d28bd,_0x2b2cd4,_0x492897){_0x3663b3['shaderChun'+'ks']=_0x2f3110['shaderChun'+'ks'],_0x3663b3['pass']=_0x492897,_0x3663b3['alphaTest']=_0x2f3110['alphaTest']>-0x24dd+-0x13+0x24f0,_0x3663b3['blendType']=_0x2f3110['blendType'],_0x3663b3['screenSpac'+'e']=_0x2b2cd4&&(_0x2b2cd4&Eh)!==0x71*-0xa+-0xc07+0x1071,_0x3663b3['skin']=_0x2b2cd4&&(_0x2b2cd4&nl)!==-0x199*-0x7+0x7*0x3f3+0x1f1*-0x14,_0x3663b3['useInstanc'+'ing']=_0x2b2cd4&&(_0x2b2cd4&ol)!==-0x194*0xb+-0x6b4+0x1810*0x1,_0x3663b3['useMorphPo'+'sition']=_0x2b2cd4&&(_0x2b2cd4&ll)!==-0x2*0x1066+-0x2bb*0x5+0x2e73,_0x3663b3['useMorphNo'+'rmal']=_0x2b2cd4&&(_0x2b2cd4&cl)!==0x802+-0x15ea+0xde8,_0x3663b3['useMorphTe'+'xtureBased'+'Int']=_0x2b2cd4&&(_0x2b2cd4&hl)!==-0x2473+-0x2129+0x459c,_0x3663b3['hasTangent'+'s']=_0x2b2cd4&&(_0x2b2cd4&om)!==0x3*-0x92e+0x2df+0x18ab,_0x3663b3['nineSliced'+'Mode']=_0x2f3110['nineSliced'+'Mode']||ci,_0x2f3110['useLightin'+'g']&&_0x6d28bd['clusteredL'+'ightingEna'+'bled']?(_0x3663b3['clusteredL'+'ightingEna'+'bled']=!(0xb8c+0x15*-0xab+0x27b),_0x3663b3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x6d28bd['lighting']['cookiesEna'+'bled'],_0x3663b3['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x6d28bd['lighting']['shadowsEna'+'bled'],_0x3663b3['clusteredL'+'ightingSha'+'dowType']=_0x6d28bd['lighting']['shadowType'],_0x3663b3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x6d28bd['lighting']['areaLights'+'Enabled']):(_0x3663b3['clusteredL'+'ightingEna'+'bled']=!(-0x1f7b+0x2697+-0x71b),_0x3663b3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0xf1b+0x774+0x168e*-0x1),_0x3663b3['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0xafa+-0x1ee3+0x29de),_0x3663b3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0xbbe+0x1*0x1fa2+-0x2b5f));}static['updateMate'+'rialOption'+'s'](_0x5d29a4,_0x3a3bf6){_0x5d29a4['separateAm'+'bient']=!(-0x131*0x1+0x407*0x1+0x2d5*-0x1),_0x5d29a4['pixelSnap']=_0x3a3bf6['pixelSnap'],_0x5d29a4['ambientSH']=_0x3a3bf6['ambientSH'],_0x5d29a4['twoSidedLi'+'ghting']=_0x3a3bf6['twoSidedLi'+'ghting'],_0x5d29a4['occludeDir'+'ect']=_0x3a3bf6['occludeDir'+'ect'],_0x5d29a4['occludeSpe'+'cular']=_0x3a3bf6['occludeSpe'+'cular'],_0x5d29a4['occludeSpe'+'cularFloat']=_0x3a3bf6['occludeSpe'+'cularInten'+'sity']!==0x9*-0x1be+-0x17*0x31+-0x6*-0x359,_0x5d29a4['useMsdf']=!(0x1*-0x1661+-0x1292+0x28f4),_0x5d29a4['msdfTextAt'+'tribute']=!(-0x2454+-0xdbb+0x3210),_0x5d29a4['alphaToCov'+'erage']=_0x3a3bf6['alphaToCov'+'erage'],_0x5d29a4['opacityFad'+'esSpecular']=_0x3a3bf6['opacityFad'+'esSpecular'],_0x5d29a4['opacityDit'+'her']=_0x3a3bf6['opacityDit'+'her'],_0x5d29a4['cubeMapPro'+'jection']=tm,_0x5d29a4['useSpecula'+'r']=_0x3a3bf6['hasSpecula'+'r'],_0x5d29a4['useSpecula'+'rityFactor']=_0x3a3bf6['hasSpecula'+'rityFactor'],_0x5d29a4['enableGGXS'+'pecular']=_0x3a3bf6['ggxSpecula'+'r'],_0x5d29a4['fresnelMod'+'el']=_0x3a3bf6['fresnelMod'+'el'],_0x5d29a4['useRefract'+'ion']=_0x3a3bf6['hasRefract'+'ion'],_0x5d29a4['useClearCo'+'at']=_0x3a3bf6['hasClearCo'+'at'],_0x5d29a4['useSheen']=_0x3a3bf6['hasSheen'],_0x5d29a4['useIridesc'+'ence']=_0x3a3bf6['hasIrrides'+'cence'],_0x5d29a4['useMetalne'+'ss']=_0x3a3bf6['hasMetalne'+'ss'],_0x5d29a4['useDynamic'+'Refraction']=_0x3a3bf6['dynamicRef'+'raction'],_0x5d29a4['dispersion']=_0x3a3bf6['dispersion']>0x1*-0xeba+0x184e+0x4ca*-0x2,_0x5d29a4['vertexColo'+'rs']=!(-0x810+0x2390+-0x1b7f),_0x5d29a4['lightMapEn'+'abled']=_0x3a3bf6['hasLightin'+'g'],_0x5d29a4['dirLightMa'+'pEnabled']=_0x3a3bf6['dirLightMa'+'p'],_0x5d29a4['useHeights']=_0x3a3bf6['hasHeights'],_0x5d29a4['useNormals']=_0x3a3bf6['hasNormals'],_0x5d29a4['useClearCo'+'atNormals']=_0x3a3bf6['hasClearCo'+'atNormals'],_0x5d29a4['useAo']=_0x3a3bf6['hasAo'],_0x5d29a4['diffuseMap'+'Enabled']=_0x3a3bf6['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x28477c,_0x367a03,_0x796cb1,_0x2697a5){_0x28477c['fog']=_0x367a03['useFog']?_0x2697a5['fog']:Kn,_0x28477c['gamma']=_0x2697a5['shaderOutp'+'utGamma'],_0x28477c['toneMap']=_0x367a03['useTonemap']?_0x2697a5['toneMappin'+'g']:nv,_0x367a03['useSkybox']&&_0x796cb1['envAtlas']&&_0x796cb1['skybox']?(_0x28477c['reflection'+'Source']=xh,_0x28477c['reflection'+'Encoding']=_0x796cb1['envAtlas']['encoding'],_0x28477c['reflection'+'CubemapEnc'+'oding']=_0x796cb1['skybox']['encoding']):_0x367a03['useSkybox']&&_0x796cb1['envAtlas']?(_0x28477c['reflection'+'Source']=vh,_0x28477c['reflection'+'Encoding']=_0x796cb1['envAtlas']['encoding']):_0x367a03['useSkybox']&&_0x796cb1['skybox']?(_0x28477c['reflection'+'Source']=Th,_0x28477c['reflection'+'Encoding']=_0x796cb1['skybox']['encoding']):(_0x28477c['reflection'+'Source']=vr,_0x28477c['reflection'+'Encoding']=null),_0x367a03['ambientSH']?(_0x28477c['ambientSou'+'rce']=im,_0x28477c['ambientEnc'+'oding']=null):_0x28477c['reflection'+'Source']!==vr&&_0x796cb1['envAtlas']?(_0x28477c['ambientSou'+'rce']=rm,_0x28477c['ambientEnc'+'oding']=_0x796cb1['envAtlas']['encoding']):(_0x28477c['ambientSou'+'rce']=am,_0x28477c['ambientEnc'+'oding']=null);const _0x3ad5d8=_0x28477c['reflection'+'Source']!==vr;_0x28477c['skyboxInte'+'nsity']=_0x3ad5d8,_0x28477c['useCubeMap'+'Rotation']=_0x3ad5d8&&_0x796cb1['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x26fccd,_0x143ce3,_0x507dad,_0x17f838,_0x7ea041){if(_0x26fccd['lightMapWi'+'thoutAmbie'+'nt']=!(-0x43*0x4d+-0x2*-0x6db+0x672),_0x143ce3['useLightin'+'g']){const _0x19e6f1=[],_0x14a9a1=_0x17f838?_0x17f838>>-0x18d1+-0x1*0x1efd+-0x2*-0x1bef:Ss;_0x26fccd['lightMaskD'+'ynamic']=!!(_0x14a9a1&Ss),_0x26fccd['lightMapWi'+'thoutAmbie'+'nt']=!(-0x16cd+-0x15eb+0x2cb9),_0x7ea041&&(Ws['collectLig'+'hts'](ve,_0x7ea041[ve],_0x19e6f1,_0x14a9a1),_0x507dad['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x7ea041[Ke],_0x19e6f1,_0x14a9a1),Ws['collectLig'+'hts'](Ze,_0x7ea041[Ze],_0x19e6f1,_0x14a9a1))),_0x26fccd['lights']=_0x19e6f1;}else _0x26fccd['lights']=[];(_0x26fccd['lights']['length']===-0x1a30*0x1+-0xdaf+-0xad*-0x3b&&!_0x507dad['clusteredL'+'ightingEna'+'bled']||(_0x17f838&wh)!==-0xbd9+-0x620+-0x2b*-0x6b)&&(_0x26fccd['noShadow']=!(-0x7f5+0x1bac+-0x13b7));}static['collectLig'+'hts'](_0x4a1cad,_0x53a4eb,_0x14e03b,_0x8a44d){for(let _0x11b205=-0x1d7f+-0xdf7+0x2b76;_0x11b205<_0x53a4eb['length'];_0x11b205++){const _0x17ba60=_0x53a4eb[_0x11b205];_0x17ba60['enabled']&&_0x17ba60['mask']&_0x8a44d&&_0x14e03b['push'](_0x17ba60);}}}const G_=(_0x1888a0,_0x4282ff)=>{if(_0x1888a0['length']!==_0x4282ff['length'])return!(-0x2400+0x31f*-0x5+0x339c);for(let _0x322bfd=0x1*0x24a6+0x9f5+-0x7b*0x61;_0x322bfd<_0x1888a0['length'];++_0x322bfd)if(_0x1888a0[_0x322bfd]!==_0x4282ff[_0x322bfd])return!(-0x17c0*-0x1+-0x112d*0x2+0x21f*0x5);return!(0x9d*-0x2c+0x4d*0x69+-0x1*0x499);},pb=_0x21f2ea=>_0x21f2ea['r']!==-0x1*-0x18b6+0x9f3*-0x3+0x4*0x149||_0x21f2ea['g']!==-0x1c3c+0x1a8c+0x1b1||_0x21f2ea['b']!==-0x9*-0x41c+-0x1666+-0x1*0xe95,mb=_0x46fa39=>_0x46fa39['r']!==-0x19c0+-0x1c14+0x424*0xd||_0x46fa39['g']!==0x1*0x2709+-0x21f0+0x3*-0x1b3||_0x46fa39['b']!==0x4*-0x20c+-0x14*-0x18e+-0x16e8;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x357635,_0x56b166,_0xf881b9,_0x3b33d7,_0x9d0a2,_0x23d308){this['_updateSha'+'redOptions'](_0x357635,_0x56b166,_0xf881b9,_0x3b33d7,_0x9d0a2),this['_updateMin'+'Options'](_0x357635,_0xf881b9,_0x9d0a2),this['_updateUVO'+'ptions'](_0x357635,_0xf881b9,_0x3b33d7,!(-0x39f*-0x9+0xe9a+-0x3*0xfbb));}['updateRef'](_0xe956c9,_0x29abdc,_0x51c6a7,_0x3d0a0c,_0x31e7b1,_0x4bc905,_0x16c33c){this['_updateSha'+'redOptions'](_0xe956c9,_0x29abdc,_0x3d0a0c,_0x31e7b1,_0x4bc905),this['_updateEnv'+'Options'](_0xe956c9,_0x3d0a0c,_0x29abdc,_0x51c6a7),this['_updateMat'+'erialOptio'+'ns'](_0xe956c9,_0x3d0a0c,_0x29abdc),_0xe956c9['litOptions']['hasTangent'+'s']=_0x31e7b1&&(_0x31e7b1&om)!==0x1ab5+0x208f+-0x3b44,this['_updateLig'+'htOptions'](_0xe956c9,_0x29abdc,_0x3d0a0c,_0x31e7b1,_0x16c33c),this['_updateUVO'+'ptions'](_0xe956c9,_0x3d0a0c,_0x31e7b1,!(-0x53*-0x31+-0x32d+-0x1*0xcb5),_0x51c6a7);}['_updateSha'+'redOptions'](_0x4cdf47,_0x55b5d5,_0x2e5d17,_0x5288b7,_0x520521){_0x4cdf47['forceUv1']=_0x2e5d17['forceUv1'],_0x2e5d17['userAttrib'+'utes']&&(_0x4cdf47['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x2e5d17['userAttrib'+'utes']['entries']())),_0x4cdf47['litOptions']['shaderChun'+'ks']=_0x2e5d17['shaderChun'+'ks'],_0x4cdf47['litOptions']['pass']=_0x520521,_0x4cdf47['litOptions']['alphaTest']=_0x2e5d17['alphaTest']>0x2a5*0x7+-0x3*0x3c1+-0x740,_0x4cdf47['litOptions']['blendType']=_0x2e5d17['blendType'],_0x4cdf47['litOptions']['screenSpac'+'e']=_0x5288b7&&(_0x5288b7&Eh)!==0x46c+-0x1*0x38b+-0x2d*0x5,_0x4cdf47['litOptions']['skin']=_0x5288b7&&(_0x5288b7&nl)!==-0x1f9e+0x47c*0x2+0x16a6,_0x4cdf47['litOptions']['batch']=_0x5288b7&&(_0x5288b7&qc)!==0x2*0x58b+-0x440+-0x6d6,_0x4cdf47['litOptions']['useInstanc'+'ing']=_0x5288b7&&(_0x5288b7&ol)!==0x1cb0+0x37*0x9f+-0x3ed9,_0x4cdf47['litOptions']['useMorphPo'+'sition']=_0x5288b7&&(_0x5288b7&ll)!==-0x160e+-0xc*-0x1f6+-0x17a,_0x4cdf47['litOptions']['useMorphNo'+'rmal']=_0x5288b7&&(_0x5288b7&cl)!==0x1*-0x1ae4+0x2425+-0x941*0x1,_0x4cdf47['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x5288b7&&(_0x5288b7&hl)!==0xca1+0x1e9*0x5+0x162e*-0x1,_0x4cdf47['litOptions']['nineSliced'+'Mode']=_0x2e5d17['nineSliced'+'Mode']||0x1*0x158a+-0x9fd+-0xb8d*0x1,_0x55b5d5['clusteredL'+'ightingEna'+'bled']&&_0x2e5d17['useLightin'+'g']?(_0x4cdf47['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1*0x22a6+-0x3aa*-0x6+0x2*-0x1c51),_0x4cdf47['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x55b5d5['lighting']['cookiesEna'+'bled'],_0x4cdf47['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x55b5d5['lighting']['shadowsEna'+'bled'],_0x4cdf47['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x55b5d5['lighting']['shadowType'],_0x4cdf47['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x55b5d5['lighting']['areaLights'+'Enabled']):(_0x4cdf47['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x99e+0x145a*-0x1+0xabd),_0x4cdf47['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1a4c+-0xa*0x341+0x27*0x29),_0x4cdf47['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1818+-0x239f+-0x2*-0x1ddc),_0x4cdf47['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x9f3+0x1279+-0x1c6b));}['_updateUVO'+'ptions'](_0x51d8d6,_0x172da3,_0x2b5250,_0x59e0b7,_0x550060){let _0x48627c=!(0x231d+-0x4f*-0x22+0x16cd*-0x2),_0x52547c=!(-0x1*0x26a7+-0x17*-0xf1+0x1101),_0x1f8d82=!(-0x6b2+-0x9e5+-0x588*-0x3);_0x2b5250&&(_0x48627c=(_0x2b5250&nm)!==0x306*-0x9+0x8*-0x44+0x1d56,_0x52547c=(_0x2b5250&dv)!==-0x1*-0x256b+-0x1d0c+-0x85f*0x1,_0x1f8d82=(_0x2b5250&fv)!==-0x1*-0x19a+-0x1f10+-0x6*-0x4e9),_0x51d8d6['litOptions']['vertexColo'+'rs']=!(-0x20f0*0x1+0xd7b*0x1+-0x5e*-0x35),this['_mapXForms']=[];const _0x1ae897={};for(const _0x4168b5 in bn)this['_updateTex'+'Options'](_0x51d8d6,_0x172da3,_0x4168b5,_0x48627c,_0x52547c,_0x1f8d82,_0x59e0b7,_0x1ae897);this['_mapXForms']=null,_0x51d8d6['litOptions']['ssao']=_0x550060==null?void(0xa19+-0x18ba+0xea1):_0x550060['ssaoEnable'+'d'],_0x51d8d6['useAO']=_0x51d8d6['litOptions']['ssao'],_0x51d8d6['litOptions']['lightMapEn'+'abled']=_0x51d8d6['lightMap'],_0x51d8d6['litOptions']['dirLightMa'+'pEnabled']=_0x51d8d6['dirLightMa'+'p'],_0x51d8d6['litOptions']['useHeights']=_0x51d8d6['heightMap'],_0x51d8d6['litOptions']['useNormals']=_0x51d8d6['normalMap'],_0x51d8d6['litOptions']['useClearCo'+'atNormals']=_0x51d8d6['clearCoatN'+'ormalMap'],_0x51d8d6['litOptions']['useAo']=_0x51d8d6['aoMap']||_0x51d8d6['aoVertexCo'+'lor']||_0x51d8d6['litOptions']['ssao'],_0x51d8d6['litOptions']['diffuseMap'+'Enabled']=_0x51d8d6['diffuseMap'];}['_updateTex'+'Options'](_0xf992ed,_0x5f23d7,_0x37002f,_0x41affc,_0x4668cb,_0x1683c9,_0x50377c,_0x51793b){const _0x598a9a=_0x37002f==='opacity';if(!_0x50377c||_0x598a9a){const _0x4de9da=_0x37002f+'Map',_0x2a5bff=_0x37002f+('VertexColo'+'r'),_0x208a78=_0x37002f+('VertexColo'+'rChannel'),_0x5ccb09=_0x4de9da+'Channel',_0x3ff3f3=_0x4de9da+'Transform',_0x335b5d=_0x4de9da+'Uv',_0x4ab2e9=_0x4de9da+'Identifier';if(_0x37002f!=='light'&&(_0xf992ed[_0x4de9da]=!(0x2594+-0x21a*-0xa+0x3a97*-0x1),_0xf992ed[_0x4ab2e9]=void(0x13f*0xe+0x12a3+0x1*-0x2415),_0xf992ed[_0x5ccb09]='',_0xf992ed[_0x3ff3f3]=0xb3+-0x4c*0x73+-0x1*-0x2171,_0xf992ed[_0x335b5d]=-0x907*0x3+-0x4ae+-0x2f*-0xad),_0xf992ed[_0x2a5bff]=!(0xcae*-0x3+-0x5d*0x3d+0x1*0x3c34),_0xf992ed[_0x208a78]='',_0x598a9a&&_0x5f23d7['blendType']===Cs&&_0x5f23d7['alphaTest']===0x1347+0x1e7*-0xf+0x942&&!_0x5f23d7['alphaToCov'+'erage']&&_0x5f23d7['opacityDit'+'her']===Sa)return;if(_0x37002f!=='height'&&_0x5f23d7[_0x2a5bff]&&_0x1683c9&&(_0xf992ed[_0x2a5bff]=_0x5f23d7[_0x2a5bff],_0xf992ed[_0x208a78]=_0x5f23d7[_0x208a78],_0xf992ed['litOptions']['vertexColo'+'rs']=!(-0x1bce+-0x177*-0x1+0x265*0xb)),_0x5f23d7[_0x4de9da]){let _0x65b179=!(-0xd36+-0x5cf+0x1305);if(_0x5f23d7[_0x335b5d]===0x347+-0x169f+-0x8*-0x26b&&!_0x41affc&&(_0x65b179=!(-0x71b+0x102c+-0x910)),_0x5f23d7[_0x335b5d]===0x2*0xf31+-0xf2*-0x1+-0x37b*0x9&&!_0x4668cb&&(_0x65b179=!(0x15eb*0x1+-0xb*-0xad+0x2ab*-0xb)),_0x65b179){const _0x3e2f62=_0x5f23d7[_0x4de9da]['id'];let _0x3a4ee5=_0x51793b[_0x3e2f62];_0x3a4ee5===void(-0x1e58+0x1*0x1fc9+0x3*-0x7b)&&(_0x51793b[_0x3e2f62]=_0x37002f,_0x3a4ee5=_0x37002f),_0xf992ed[_0x4de9da]=!!_0x5f23d7[_0x4de9da],_0xf992ed[_0x4ab2e9]=_0x3a4ee5,_0xf992ed[_0x3ff3f3]=this['_getMapTra'+'nsformID'](_0x5f23d7['getUniform'](_0x3ff3f3),_0x5f23d7[_0x335b5d]),_0xf992ed[_0x5ccb09]=_0x5f23d7[_0x5ccb09],_0xf992ed[_0x335b5d]=_0x5f23d7[_0x335b5d];}}}}['_updateMin'+'Options'](_0x4f9b1a,_0x437f02,_0xe2b3f7){const _0x3aa1f7=_0xe2b3f7===Rl;_0x4f9b1a['litOptions']['opacitySha'+'dowDither']=_0x3aa1f7?_0x437f02['opacityDit'+'her']:_0x437f02['opacitySha'+'dowDither'],_0x4f9b1a['litOptions']['linearDept'+'h']=_0x3aa1f7,_0x4f9b1a['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x35a16f,_0x24e03c,_0x2bdae9){var _0x104482,_0x46d547,_0x2d3ac1,_0x593cc1,_0x9d7fe6,_0x8a0feb;const _0x16497a=!!(_0x24e03c['useMetalne'+'ss']||_0x24e03c['specularMa'+'p']||_0x24e03c['sphereMap']||_0x24e03c['cubeMap']||mb(_0x24e03c['specular'])||_0x24e03c['specularit'+'yFactor']>-0xc*0x255+0x1b2*-0x15+0x3f96&&_0x24e03c['useMetalne'+'ss']||_0x24e03c['enableGGXS'+'pecular']||_0x24e03c['clearCoat']>-0x17*-0x14+-0x59*-0x50+-0x1d9c),_0x7e8fbc=!_0x24e03c['useMetalne'+'ss']||_0x24e03c['useMetalne'+'ssSpecular'+'Color'],_0x5b7e7b=_0x16497a&&(_0x24e03c['specularTi'+'nt']||!_0x24e03c['specularMa'+'p']&&!_0x24e03c['specularVe'+'rtexColor'])&&pb(_0x24e03c['specular']),_0x4871c4=_0x16497a&&_0x24e03c['useMetalne'+'ssSpecular'+'Color']&&(_0x24e03c['specularit'+'yFactorTin'+'t']||_0x24e03c['specularit'+'yFactor']<0x43*-0x4d+-0x1cb6+0x30de&&!_0x24e03c['specularit'+'yFactorMap']),_0x10235b=_0x4cdfb9=>_0x4cdfb9?_0x4cdfb9['format']===vl||_0x4cdfb9['type']===Jo:!(0x3*0x7ad+0x6fd*-0x1+-0x335*0x5),_0x524a7c=(_0x1adcf8,_0x45de63)=>Math['abs'](_0x1adcf8-_0x45de63)<-0x1c6a*0x1+0x26b1+-0xa47+0.0001;_0x35a16f['specularTi'+'nt']=_0x5b7e7b,_0x35a16f['specularit'+'yFactorTin'+'t']=_0x4871c4,_0x35a16f['metalnessT'+'int']=_0x24e03c['useMetalne'+'ss']&&_0x24e03c['metalness']<0x23c9+-0x867+-0x1b61,_0x35a16f['glossTint']=!(-0xee1*-0x2+-0x5b*0x11+0x1*-0x17b7),_0x35a16f['diffuseEnc'+'oding']=(_0x104482=_0x24e03c['diffuseMap'])==null?void(0x2a9*-0x6+0x123a+-0x244):_0x104482['encoding'],_0x35a16f['diffuseDet'+'ailEncodin'+'g']=(_0x46d547=_0x24e03c['diffuseDet'+'ailMap'])==null?void(0x13e6+-0x1*-0x1edf+-0x13d*0x29):_0x46d547['encoding'],_0x35a16f['emissiveEn'+'coding']=(_0x2d3ac1=_0x24e03c['emissiveMa'+'p'])==null?void(-0x199c+0x12e3*0x1+0x1*0x6b9):_0x2d3ac1['encoding'],_0x35a16f['lightMapEn'+'coding']=(_0x593cc1=_0x24e03c['lightMap'])==null?void(0xeef*-0x1+-0x2673+0x1*0x3562):_0x593cc1['encoding'],_0x35a16f['packedNorm'+'al']=_0x10235b(_0x24e03c['normalMap']),_0x35a16f['refraction'+'Tint']=_0x524a7c(_0x24e03c['refraction'],0x1*0x208f+0x1815+-0x38a3),_0x35a16f['refraction'+'IndexTint']=_0x524a7c(_0x24e03c['refraction'+'Index'],(0x31*0x4+-0x1*-0x7c9+-0x88c)/(0x14f*-0x12+-0x174b+0x2eda+0.5)),_0x35a16f['thicknessT'+'int']=_0x24e03c['useDynamic'+'Refraction']&&_0x24e03c['thickness']!==-0x40d+-0x247a+0x2888,_0x35a16f['specularEn'+'coding']=(_0x9d7fe6=_0x24e03c['specularMa'+'p'])==null?void(0x2f9*0x3+-0x82*0x1f+0x6d3):_0x9d7fe6['encoding'],_0x35a16f['sheenEncod'+'ing']=(_0x8a0feb=_0x24e03c['sheenMap'])==null?void(0x43e*0x9+-0x160e*-0x1+-0x3c3c):_0x8a0feb['encoding'],_0x35a16f['aoMapUv']=_0x24e03c['aoUvSet'],_0x35a16f['aoDetail']=!!_0x24e03c['aoDetailMa'+'p'],_0x35a16f['diffuseDet'+'ail']=!!_0x24e03c['diffuseDet'+'ailMap'],_0x35a16f['normalDeta'+'il']=!!_0x24e03c['normalMap'],_0x35a16f['normalDeta'+'ilPackedNo'+'rmal']=_0x10235b(_0x24e03c['normalDeta'+'ilMap']),_0x35a16f['diffuseDet'+'ailMode']=_0x24e03c['diffuseDet'+'ailMode'],_0x35a16f['aoDetailMo'+'de']=_0x24e03c['aoDetailMo'+'de'],_0x35a16f['clearCoatG'+'loss']=!!_0x24e03c['clearCoatG'+'loss'],_0x35a16f['clearCoatP'+'ackedNorma'+'l']=_0x10235b(_0x24e03c['clearCoatN'+'ormalMap']),_0x35a16f['iorTint']=_0x524a7c(_0x24e03c['refraction'+'Index'],(0x27*0x9e+0x18ef+-0xe0*0x38)/(-0x384+-0x471*0x1+0x7f6+0.5)),_0x2bdae9['forcePassT'+'hroughSpec'+'ular']&&(_0x35a16f['specularEn'+'coding']='linear',_0x35a16f['sheenEncod'+'ing']='linear'),_0x35a16f['iridescenc'+'eTint']=_0x24e03c['iridescenc'+'e']!==0x2383+-0xef2+-0x1490,_0x35a16f['glossInver'+'t']=_0x24e03c['glossInver'+'t'],_0x35a16f['sheenGloss'+'Invert']=_0x24e03c['sheenGloss'+'Invert'],_0x35a16f['clearCoatG'+'lossInvert']=_0x24e03c['clearCoatG'+'lossInvert'],_0x35a16f['useSpecula'+'rColor']=_0x7e8fbc,_0x35a16f['litOptions']['separateAm'+'bient']=!(-0x53c+0x2277+-0x1d3a),_0x35a16f['litOptions']['pixelSnap']=_0x24e03c['pixelSnap'],_0x35a16f['litOptions']['ambientSH']=!!_0x24e03c['ambientSH'],_0x35a16f['litOptions']['twoSidedLi'+'ghting']=_0x24e03c['twoSidedLi'+'ghting'],_0x35a16f['litOptions']['occludeSpe'+'cular']=_0x24e03c['occludeSpe'+'cular'],_0x35a16f['litOptions']['occludeSpe'+'cularFloat']=_0x24e03c['occludeSpe'+'cularInten'+'sity']!==-0x1842+-0xa0e+0x2251,_0x35a16f['litOptions']['useMsdf']=!!_0x24e03c['msdfMap'],_0x35a16f['litOptions']['msdfTextAt'+'tribute']=!!_0x24e03c['msdfTextAt'+'tribute'],_0x35a16f['litOptions']['alphaToCov'+'erage']=_0x24e03c['alphaToCov'+'erage'],_0x35a16f['litOptions']['opacityFad'+'esSpecular']=_0x24e03c['opacityFad'+'esSpecular'],_0x35a16f['litOptions']['opacityDit'+'her']=_0x24e03c['opacityDit'+'her'],_0x35a16f['litOptions']['cubeMapPro'+'jection']=_0x24e03c['cubeMapPro'+'jection'],_0x35a16f['litOptions']['occludeDir'+'ect']=_0x24e03c['occludeDir'+'ect'],_0x35a16f['litOptions']['useSpecula'+'r']=_0x16497a,_0x35a16f['litOptions']['useSpecula'+'rityFactor']=(_0x4871c4||!!_0x24e03c['specularit'+'yFactorMap'])&&_0x24e03c['useMetalne'+'ssSpecular'+'Color'],_0x35a16f['litOptions']['enableGGXS'+'pecular']=_0x24e03c['enableGGXS'+'pecular'],_0x35a16f['litOptions']['fresnelMod'+'el']=_0x24e03c['fresnelMod'+'el'],_0x35a16f['litOptions']['useRefract'+'ion']=(_0x24e03c['refraction']||!!_0x24e03c['refraction'+'Map'])&&(_0x24e03c['useDynamic'+'Refraction']||_0x35a16f['litOptions']['reflection'+'Source']!==vr),_0x35a16f['litOptions']['useClearCo'+'at']=!!_0x24e03c['clearCoat'],_0x35a16f['litOptions']['useSheen']=_0x24e03c['useSheen'],_0x35a16f['litOptions']['useIridesc'+'ence']=_0x24e03c['useIridesc'+'ence']&&_0x24e03c['iridescenc'+'e']!==-0xeff+-0x199*-0x9+-0x9e*-0x1,_0x35a16f['litOptions']['useMetalne'+'ss']=_0x24e03c['useMetalne'+'ss'],_0x35a16f['litOptions']['useDynamic'+'Refraction']=_0x24e03c['useDynamic'+'Refraction'],_0x35a16f['litOptions']['dispersion']=_0x24e03c['dispersion']>0x167*0x6+-0x9cf*-0x1+-0x1239,_0x35a16f['litOptions']['shadowCatc'+'her']=_0x24e03c['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x4bf451,_0x44fd10,_0x1a713b,_0x56dd13){_0x4bf451['litOptions']['fog']=_0x44fd10['useFog']?_0x56dd13['fog']:Kn,_0x4bf451['litOptions']['gamma']=_0x56dd13['shaderOutp'+'utGamma'],_0x4bf451['litOptions']['toneMap']=_0x44fd10['useTonemap']?_0x56dd13['toneMappin'+'g']:nv;let _0x441951=!(-0x1e93+0x18ee*0x1+0x5a6);if(_0x44fd10['envAtlas']&&_0x44fd10['cubeMap']?(_0x4bf451['litOptions']['reflection'+'Source']=xh,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x44fd10['envAtlas']['encoding'],_0x4bf451['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x44fd10['cubeMap']['encoding']):_0x44fd10['envAtlas']?(_0x4bf451['litOptions']['reflection'+'Source']=vh,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x44fd10['envAtlas']['encoding']):_0x44fd10['cubeMap']?(_0x4bf451['litOptions']['reflection'+'Source']=Th,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x44fd10['cubeMap']['encoding']):_0x44fd10['sphereMap']?(_0x4bf451['litOptions']['reflection'+'Source']=hv,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x44fd10['sphereMap']['encoding']):_0x44fd10['useSkybox']&&_0x1a713b['envAtlas']&&_0x1a713b['skybox']?(_0x4bf451['litOptions']['reflection'+'Source']=xh,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x1a713b['envAtlas']['encoding'],_0x4bf451['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1a713b['skybox']['encoding'],_0x441951=!(-0x43e+-0xf6c+0x13aa)):_0x44fd10['useSkybox']&&_0x1a713b['envAtlas']?(_0x4bf451['litOptions']['reflection'+'Source']=vh,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x1a713b['envAtlas']['encoding'],_0x441951=!(0x4bd*0x5+0x1*0x173+-0x1924)):_0x44fd10['useSkybox']&&_0x1a713b['skybox']?(_0x4bf451['litOptions']['reflection'+'Source']=Th,_0x4bf451['litOptions']['reflection'+'Encoding']=_0x1a713b['skybox']['encoding'],_0x441951=!(0xe83+-0x7fc+0x1*-0x687)):(_0x4bf451['litOptions']['reflection'+'Source']=vr,_0x4bf451['litOptions']['reflection'+'Encoding']=null),_0x44fd10['ambientSH'])_0x4bf451['litOptions']['ambientSou'+'rce']=im,_0x4bf451['litOptions']['ambientEnc'+'oding']=null;else{const _0x489d09=_0x44fd10['envAtlas']||(_0x44fd10['useSkybox']&&_0x1a713b['envAtlas']?_0x1a713b['envAtlas']:null);_0x489d09&&!_0x44fd10['sphereMap']?(_0x4bf451['litOptions']['ambientSou'+'rce']=rm,_0x4bf451['litOptions']['ambientEnc'+'oding']=_0x489d09['encoding']):(_0x4bf451['litOptions']['ambientSou'+'rce']=am,_0x4bf451['litOptions']['ambientEnc'+'oding']=null);}_0x4bf451['litOptions']['skyboxInte'+'nsity']=_0x441951,_0x4bf451['litOptions']['useCubeMap'+'Rotation']=_0x441951&&_0x1a713b['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x2aa7bc,_0x430807,_0x5853dc,_0x29be8f,_0x46374a){if(_0x2aa7bc['lightMap']=!(-0x5*0x1a6+0x249d*0x1+0x1*-0x1c5e),_0x2aa7bc['lightMapCh'+'annel']='',_0x2aa7bc['lightMapUv']=0x11*-0x3c+0x266a+0x4e*-0x71,_0x2aa7bc['lightMapTr'+'ansform']=-0x1fe+-0x1bd3+-0x1dd1*-0x1,_0x2aa7bc['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x6ea+0xf17+-0x160*0x10),_0x2aa7bc['dirLightMa'+'p']=!(0x1*0x10b4+-0x1*0x23ad+0x12fa),_0x29be8f&&(_0x2aa7bc['litOptions']['noShadow']=(_0x29be8f&wh)!==-0xf86*0x2+0x67f*0x1+0x1a3*0xf,(_0x29be8f&ou)!==-0xd7e+-0x4d8+0x1256&&(_0x2aa7bc['lightMapEn'+'coding']=_0x430807['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x2aa7bc['lightMap']=!(0x1fd4+0x3*-0xd5+-0x1*0x1d55),_0x2aa7bc['lightMapCh'+'annel']='rgb',_0x2aa7bc['lightMapUv']=0x1d9b+-0x163d*0x1+-0x75d,_0x2aa7bc['lightMapTr'+'ansform']=0xcfe+-0xfb6+0x2b8,_0x2aa7bc['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x5853dc['lightMap'],(_0x29be8f&uv)!==0x991+-0xac3*-0x1+0xa2a*-0x2&&(_0x2aa7bc['dirLightMa'+'p']=!(-0x1bdb+0x25ef+-0xa14)),(_0x29be8f&pv)!==0x1*-0x177b+0x8b*0x25+0x364&&(_0x2aa7bc['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xb2e+-0x25a5*0x1+0x30d4)))),_0x5853dc['useLightin'+'g']){const _0x4bcce1=[],_0x39a127=_0x29be8f?_0x29be8f>>0x21d1+0xa57*0x2+-0x366f:Ss;_0x2aa7bc['litOptions']['lightMaskD'+'ynamic']=!!(_0x39a127&Ss),_0x46374a&&(Ws['collectLig'+'hts'](ve,_0x46374a[ve],_0x4bcce1,_0x39a127),_0x430807['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x46374a[Ke],_0x4bcce1,_0x39a127),Ws['collectLig'+'hts'](Ze,_0x46374a[Ze],_0x4bcce1,_0x39a127))),_0x2aa7bc['litOptions']['lights']=_0x4bcce1;}else _0x2aa7bc['litOptions']['lights']=[];_0x2aa7bc['litOptions']['lights']['length']===-0x2455+-0x57*-0x3+-0x8*-0x46a&&!_0x430807['clusteredL'+'ightingEna'+'bled']&&(_0x2aa7bc['litOptions']['noShadow']=!(-0x3b*0x61+0x2258+-0xbfd));}['_getMapTra'+'nsformID'](_0x158beb,_0xcfd06f){if(!_0x158beb)return 0xc84+0x1454+-0x20d8;let _0x1e53ab=this['_mapXForms'][_0xcfd06f];_0x1e53ab||(_0x1e53ab=[],this['_mapXForms'][_0xcfd06f]=_0x1e53ab);for(let _0x71dc51=0xa17*-0x1+-0x1f*-0x11b+0x5*-0x4d6;_0x71dc51<_0x1e53ab['length'];_0x71dc51++)if(G_(_0x1e53ab[_0x71dc51][0x1f33+0xa*-0x12d+-0x1371]['value'],_0x158beb[0x1272+-0x1*-0x1a6b+-0x2cdd]['value'])&&G_(_0x1e53ab[_0x71dc51][-0x3*-0xaff+-0x22d3*-0x1+-0x43cf]['value'],_0x158beb[0x1c*0xd+-0x2427+0x13*0x1d4]['value']))return _0x71dc51+(0x159a+0x89*0x19+0x197*-0x16);return _0x1e53ab['push'](_0x158beb);}}function rt(_0x15bed5,_0x1c8d97=!(-0x15d7*0x1+0x3*0xa3+0x13ee),_0x18935e=!(0x236d+0x8b*-0x29+0x695*-0x2)){const _0x5d9564={};return _0x5d9564[_0x15bed5+'Map']='texture',_0x5d9564[_0x15bed5+'MapTiling']='vec2',_0x5d9564[_0x15bed5+'MapOffset']='vec2',_0x5d9564[_0x15bed5+('MapRotatio'+'n')]='number',_0x5d9564[_0x15bed5+'MapUv']='number',_0x1c8d97&&(_0x5d9564[_0x15bed5+'MapChannel']='string',_0x18935e&&(_0x5d9564[_0x15bed5+('VertexColo'+'r')]='boolean',_0x5d9564[_0x15bed5+('VertexColo'+'rChannel')]='string')),_0x5d9564;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x3*-0x559+-0x15ec+0x5e1),!(0x2*0xe27+0x5cf*0x6+-0x3f27)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x1*0x1de5+0xb77+-0x295c),!(-0x1*-0x2c2+0xd*0x7b+0x20*-0x48)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x14d1*0x1+0x13*0x192+-0x4*0x241)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x169c+-0x176a+-0x2e07*-0x1)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x1*-0x94d+0x1*-0xda+-0x64*-0x1a)),'normalDetailMapBumpiness':'number',...rt('height',!(0xa8c+0x216+0x15*-0x9a),!(0x31*-0xc+-0x2087+0xc*0x2e7)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x51654d=>{this['_'+_0x51654d]=Kc[_0x51654d]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x3e66e0){return super['copy'](_0x3e66e0),Object['keys'](Kc)['forEach'](_0x2e3adf=>{this[_0x2e3adf]=_0x3e66e0[_0x2e3adf];}),this['userAttrib'+'utes']=new Map(_0x3e66e0['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0xe880b3,_0x5b1c7e){this['userAttrib'+'utes']['set'](_0x5b1c7e,_0xe880b3);}['_setParame'+'ter'](_0x1227a4,_0x2f092a){no['add'](_0x1227a4),this['setParamet'+'er'](_0x1227a4,_0x2f092a);}['_setParame'+'ters'](_0x4c27f5){_0x4c27f5['forEach'](_0x5f59d2=>{this['_setParame'+'ter'](_0x5f59d2['name'],_0x5f59d2['value']);});}['_processPa'+'rameters'](_0x13480f){const _0x206717=this[_0x13480f];_0x206717['forEach'](_0x1de42f=>{no['has'](_0x1de42f)||delete this['parameters'][_0x1de42f];}),this[_0x13480f]=no,no=_0x206717,no['clear']();}['_updateMap'](_0x2cb89a){const _0x4ec507=_0x2cb89a+'Map',_0x434250=this[_0x4ec507];if(_0x434250){this['_setParame'+'ter']('texture_'+_0x4ec507,_0x434250);const _0x26117b=_0x4ec507+'Transform',_0x7ff652=this['getUniform'](_0x26117b);_0x7ff652&&this['_setParame'+'ters'](_0x7ff652);}}['_allocUnif'+'orm'](_0x5975a7,_0x48e8ed){let _0x5683c4=this['_uniformCa'+'che'][_0x5975a7];return _0x5683c4||(_0x5683c4=_0x48e8ed(),this['_uniformCa'+'che'][_0x5975a7]=_0x5683c4),_0x5683c4;}['getUniform'](_0x19c44d,_0x26bb57,_0x56c682){return bv[_0x19c44d](this,_0x26bb57,_0x56c682);}['updateUnif'+'orms'](_0x126a05,_0x581ca3){const _0x1ca9ae=_0x3a26b7=>this['getUniform'](_0x3a26b7,_0x126a05,_0x581ca3);this['_setParame'+'ter']('material_a'+'mbient',_0x1ca9ae('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x1ca9ae('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x2*-0x5cc+-0x1281+0x162*0x5)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x1ca9ae('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x1ca9ae('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x1ca9ae('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0x19f0+0x1f8a+-0x6*0xef&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x12e1+-0xc61+-0x1*-0x1f42&&this['emissive']['g']===-0x1417+-0x40b+0xc11*0x2&&this['emissive']['b']===0x170e+-0x125*0xb+-0xa77&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x1ca9ae('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x5*-0x45e+-0xa13*0x1+0x1fe9&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1c86+0x2363+-0x6dd&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x1ca9ae('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x83b*-0x3+-0x166*-0x6+-0x9*0x3ad?-0x23a4+0x1a*-0x7a+0xc02*0x4:(-0x1*-0x5ac+-0x2b4+-0x2f7)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x12a9+-0x19c4+-0x79*-0x5e)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x1ca9ae('cubeMapPro'+'jectionBox'));for(const _0x341f15 in bn)this['_updateMap'](_0x341f15);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x1ca9ae('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x126a05,_0x581ca3);}['updateEnvU'+'niforms'](_0x2e10dd,_0xe7ca3f){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0xe7ca3f['envAtlas']&&_0xe7ca3f['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0xe7ca3f['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0xe7ca3f['skybox'])):_0xe7ca3f['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0xe7ca3f['envAtlas']):_0xe7ca3f['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0xe7ca3f['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x2e3f82){const {device:_0x4c31e2,scene:_0x19bf89,pass:_0x92cf9d,objDefs:_0x5b16a4,sortedLights:_0x4f10b3,cameraShaderParams:_0x5d082e}=_0x2e3f82;this['updateEnvU'+'niforms'](_0x4c31e2,_0x19bf89);const _0x13a7cd=Si['get'](_0x4c31e2)['getByIndex'](_0x92cf9d),_0x108b8f=_0x92cf9d===Zn||_0x92cf9d===Rl||_0x13a7cd['isShadow'];let _0x5c4d14=_0x108b8f?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x5c4d14['defines']=$t['getCoreDef'+'ines'](this,_0x2e3f82),_0x108b8f?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x5c4d14,_0x19bf89,this,_0x5b16a4,_0x92cf9d,_0x4f10b3):this['shaderOptB'+'uilder']['updateRef'](_0x5c4d14,_0x19bf89,_0x5d082e,this,_0x5b16a4,_0x92cf9d,_0x4f10b3),this['useFog']||_0x5c4d14['defines']['set']('FOG','NONE'),_0x5c4d14['defines']['set']('TONEMAP',ov[_0x5c4d14['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x5c4d14=this['onUpdateSh'+'ader'](_0x5c4d14));const _0x18a6c2=new Ad(_0x2e3f82['viewUnifor'+'mFormat'],_0x2e3f82['viewBindGr'+'oupFormat'],_0x2e3f82['vertexForm'+'at']),_0x378323=Hn(_0x4c31e2);_0x378323['register']('standard',Jd);const _0x4baa9e=_0x378323['getProgram']('standard',_0x5c4d14,_0x18a6c2,this['userId']);return this['_dirtyShad'+'er']=!(0x909+0x1*-0xec3+0x5bb),_0x4baa9e;}['destroy'](){for(const _0xfd17d9 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0xfd17d9]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0xd03a17,_0x5d8c27)=>{bv[_0xd03a17]=_0x5d8c27;},um=(_0x382d97,_0x1096af,_0x305096,_0x25aaff)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x382d97,{'get':_0x25aaff||function(){return this['_'+_0x382d97];},'set':_0x305096}),Kc[_0x382d97]={'value':_0x1096af};},Sb=_0x18759=>{const _0x246347='_'+_0x18759['name'],_0x522548=_0x18759['dirtyShade'+'rFunc']||(()=>!(0xc6f+-0x2509+-0x43*-0x5e)),_0x36842e=function(_0xc10b41){const _0x40933f=this[_0x246347];_0x40933f!==_0xc10b41&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x522548(_0x40933f,_0xc10b41),this[_0x246347]=_0xc10b41);};um(_0x18759['name'],()=>_0x18759['defaultVal'+'ue'],_0x36842e,_0x18759['getterFunc']);},yb=_0x44fda1=>{const _0x1a688d='_'+_0x44fda1['name'],_0x26d65e=_0x44fda1['dirtyShade'+'rFunc']||(()=>!(0x1837*0x1+-0xca+-0x7cf*0x3)),_0x1a403f=function(_0x439e4c){const _0x3c07c8=this[_0x1a688d];_0x3c07c8['equals'](_0x439e4c)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x26d65e(_0x3c07c8,_0x439e4c),this[_0x1a688d]=_0x3c07c8['copy'](_0x439e4c));};um(_0x44fda1['name'],()=>_0x44fda1['defaultVal'+'ue']['clone'](),_0x1a403f,_0x44fda1['getterFunc']);},Es=_0x516762=>_0x516762['defaultVal'+'ue']&&_0x516762['defaultVal'+'ue']['clone']?yb(_0x516762):Sb(_0x516762);function et(_0x4563d4,_0xb24846='rgb',_0x21f586=!(0x181d*-0x1+-0x19*-0x9e+0x8af*0x1),_0x257ee8=0x15d3+0x193c+-0x2f0f){bn[_0x4563d4]=_0xb24846['length']||-(-0x6f2+-0x7*-0x1ec+-0x681),Es({'name':_0x4563d4+'Map','defaultValue':null,'dirtyShaderFunc':(_0x2a4e09,_0x3ffc91)=>!!_0x2a4e09!=!!_0x3ffc91||_0x2a4e09&&(_0x2a4e09['type']!==_0x3ffc91['type']||_0x2a4e09['format']!==_0x3ffc91['format'])}),Es({'name':_0x4563d4+'MapTiling','defaultValue':new J(0x23ae+-0xa50+0x1*-0x195d,0xa*0x25+0x22*0xe+-0x34d)}),Es({'name':_0x4563d4+'MapOffset','defaultValue':new J(-0x1*0x6de+-0x963*0x4+0x2c6a,0x101*0x1b+-0x4e0*-0x5+-0x1*0x337b)}),Es({'name':_0x4563d4+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x4563d4+'MapUv','defaultValue':_0x257ee8}),_0xb24846&&(Es({'name':_0x4563d4+'MapChannel','defaultValue':_0xb24846}),_0x21f586&&(Es({'name':_0x4563d4+('VertexColo'+'r'),'defaultValue':!(0x11d9+0x6cf+-0x18a7)}),Es({'name':_0x4563d4+('VertexColo'+'rChannel'),'defaultValue':_0xb24846})));const _0x4629d9=_0x4563d4+'MapTiling',_0x502e8f=_0x4563d4+'MapOffset',_0x312187=_0x4563d4+('MapRotatio'+'n'),_0x262b22=_0x4563d4+('MapTransfo'+'rm');Pd(_0x262b22,(_0x448488,_0x36993a,_0x280115)=>{const _0x35c38b=_0x448488[_0x4629d9],_0x592a27=_0x448488[_0x502e8f],_0x5387e1=_0x448488[_0x312187];if(_0x35c38b['x']===-0xb51*-0x3+-0x1*0x246b+0xd3*0x3&&_0x35c38b['y']===-0xe83+-0xe3f+-0x25*-0xc7&&_0x592a27['x']===0x10bb*-0x1+-0x1439*0x1+0x2c*0xd7&&_0x592a27['y']===0x209b+0x1f91*-0x1+-0x10a&&_0x5387e1===-0x767+-0x67*0x4e+0x26c9)return null;const _0xd65c15=_0x448488['_allocUnif'+'orm'](_0x262b22,()=>[{'name':'texture_'+_0x262b22+'0','value':new Float32Array(-0x95f*0x2+-0x1e5d*0x1+-0x188f*-0x2)},{'name':'texture_'+_0x262b22+'1','value':new Float32Array(0x19b+0xbab+-0xd43*0x1)}]),_0xc5bd4e=Math['cos'](_0x5387e1*Y['DEG_TO_RAD']),_0x4403a3=Math['sin'](_0x5387e1*Y['DEG_TO_RAD']),_0x390425=_0xd65c15[-0x1ad3+0x1eb0+-0x2b*0x17]['value'];_0x390425[-0x165+-0x22e+0xf*0x3d]=_0xc5bd4e*_0x35c38b['x'],_0x390425[-0x19*0x12f+0xdb2+0x25*0x6e]=-_0x4403a3*_0x35c38b['y'],_0x390425[-0x104d*0x1+0x9fd+0x329*0x2]=_0x592a27['x'];const _0x2cb274=_0xd65c15[0x33*-0xad+-0x1*0x28d+0x15f*0x1b]['value'];return _0x2cb274[0x1c48+0x16c4+-0x330c]=_0x4403a3*_0x35c38b['x'],_0x2cb274[-0xa*0x1bd+-0x1f7c+-0x30df*-0x1]=_0xc5bd4e*_0x35c38b['y'],_0x2cb274[-0x20d2*0x1+-0x17c1*-0x1+0x1*0x913]=0x10da+0xd*-0x95+-0x948-_0x35c38b['y']-_0x592a27['y'],_0xd65c15;});}function Ra(_0x47bd81,_0x24435d){Es({'name':_0x47bd81,'defaultValue':_0x24435d,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x1bb*0x3+0x2038+-0x197*0x11),this['_'+_0x47bd81];}}),Pd(_0x47bd81,(_0x54e4e8,_0x416ea9,_0x31df3b)=>{const _0x57f59a=_0x54e4e8['_allocUnif'+'orm'](_0x47bd81,()=>new Float32Array(-0x5*0x9b+0x21bb+-0x1eb1)),_0x81a402=_0x54e4e8[_0x47bd81];return oc['linear'](_0x81a402),_0x57f59a[0x1177*0x1+0x3c8+-0x153f*0x1]=oc['r'],_0x57f59a[0x542+-0x649*-0x5+-0x3ab*0xa]=oc['g'],_0x57f59a[-0x1c6c+-0x1*0x25cd+-0x423b*-0x1]=oc['b'],_0x57f59a;});}function ze(_0x1dc9d0,_0x4588b3,_0xc456f7){Es({'name':_0x1dc9d0,'defaultValue':_0x4588b3,'dirtyShaderFunc':(_0x5ae811,_0x11e125)=>(_0x5ae811===-0xa9a+-0x7a6+0x1240||_0x5ae811===0x2194+0x1*0xddf+-0x2f72*0x1)!=(_0x11e125===0x178a+0x1*-0x6fa+-0xd4*0x14||_0x11e125===0x6*-0x4e1+-0xc82+0x29c9)}),Pd(_0x1dc9d0,_0xc456f7);}function oo(_0x3e8272,_0x57c31f){Es({'name':_0x3e8272,'defaultValue':null,'dirtyShaderFunc':(_0x36152b,_0x16ed0c)=>!!_0x36152b==!!_0x16ed0c}),Pd(_0x3e8272,_0x57c31f);}function ke(_0x550ac5,_0x2cc475){Es({'name':_0x550ac5,'defaultValue':_0x2cc475});}function vb(){Ra('ambient',new ie(-0x1*0x1a80+-0x2*-0x317+0x1453,0x19cf*-0x1+0xce4+-0x676*-0x2,0x133d*-0x1+0x97f*-0x2+0x4*0x98f)),Ra('diffuse',new ie(-0x6*0x72+-0xde2+0x108f,0x1*0xc31+0x2*-0x249+0x5*-0x186,-0x1aa3+0x749+0x135b)),Ra('specular',new ie(0x2524*0x1+-0x242e+-0xf6,0x1359+-0xe3e+-0x51b*0x1,-0x223f+-0x106c*0x2+0x4317)),Ra('emissive',new ie(0x1*-0x19f9+0x25f3+-0xbfa,-0x12dd+0x8*0x290+-0x1*0x1a3,0x175*-0x13+0x183c+0x373)),Ra('sheen',new ie(-0x1*0xa0b+0x11*0x31+0x1*0x6cb,-0x148*-0x11+0x1*0x946+-0x1f0d*0x1,-0x6c3*-0x2+-0x2656+0x18d1)),Ra('attenuatio'+'n',new ie(-0x22a0*-0x1+-0x1558+-0xb*0x135,0x5*0x2d7+0x272*-0x1+0x8*-0x178,-0x1f79*0x1+-0x8d1+0x284b*0x1)),ze('emissiveIn'+'tensity',-0x203c+-0x1af*0xd+0x3620),ze('specularit'+'yFactor',0x2b*0x9e+-0x1f40+0x47*0x11),ze('sheenGloss',-0x1cad+-0xac2+0x276f),ze('gloss',0x711+0x1*0xe75+-0x1586+0.25),ze('aoIntensit'+'y',-0x1b3*-0x12+-0x245b+-0x2*-0x2e3),ze('heightMapF'+'actor',-0x1555+-0x2415+0x396b*0x1,(_0x49a675,_0xc150a2,_0x5555c2)=>_0x49a675['heightMapF'+'actor']*(-0x8f9+-0x36e+0x5*0x27b+0.025)),ze('opacity',-0x1*-0x1767+0x92a+-0x2090),ze('alphaFade',0x511*0x3+0xbf*0x9+-0x15e9),ze('alphaTest',0xf2f+-0x17a4+0x1*0x875),ze('bumpiness',0x16*0xb3+0x19c2+-0x2923*0x1),ze('normalDeta'+'ilMapBumpi'+'ness',0x7fd+-0x14*-0x49+-0x18*0x92),ze('reflectivi'+'ty',0x2006+0x8ed+-0x28f2),ze('occludeSpe'+'cularInten'+'sity',-0x106*-0x8+0x1*-0x26a9+0x1e7a*0x1),ze('refraction',-0x6a3*0x1+0xe40+-0x79d),ze('refraction'+'Index',(0x94*-0xd+-0x1431+0x1bb6)/(0x377+-0xb*0x10d+0x819+0.5)),ze('dispersion',0x472+-0xa1c*0x1+0x91*0xa),ze('thickness',0x1*-0x13eb+0x835+-0x2*-0x5db),ze('attenuatio'+'nDistance',0x1bf4+-0x152d+-0x1*0x6c7),ze('metalness',-0x250f+0xa2d*-0x3+-0x625*-0xb),ze('anisotropy'+'Intensity',0x6f6*-0x1+0x251*-0xa+-0x10*-0x1e2),ze('anisotropy'+'Rotation',0xfb0+0x1667+-0x2617),ze('clearCoat',-0x1*0x1ce1+-0x1f99+0x3c7a),ze('clearCoatG'+'loss',-0x1f36+-0x12ff+-0x2*-0x191b),ze('clearCoatB'+'umpiness',-0x2c9*-0xb+0x1a84+-0x3926),ze('aoUvSet',-0x1df*-0xc+-0x195+-0x14df,null),ze('iridescenc'+'e',-0x3c5+0xe29+-0xa64),ze('iridescenc'+'eRefractio'+'nIndex',(0x4*-0x89c+0x3*-0x304+-0x9*-0x4d5)/(0x4bc+0x214a+0x1*-0x2605+0.5)),ze('iridescenc'+'eThickness'+'Min',-0x1*0x226d+-0xa79+0x2*0x1673),ze('iridescenc'+'eThickness'+'Max',-0x2*0x135e+0x2*0xd52+0xc18),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x1741a1,_0x13810f,_0x2e412a)=>{const _0x4c7ad1=_0x1741a1['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1b7*0x7+0xa1*-0x1b+0x1cff)},{'name':'envBoxMax','value':new Float32Array(-0x7ed*0x1+-0xda7+0x1597)}]),_0x12710e=_0x1741a1['cubeMapPro'+'jectionBox']['getMin'](),_0x4ea47a=_0x4c7ad1[-0xd3+0x11*0x1c4+-0x1d31]['value'];_0x4ea47a[0x186c+0x68b+0x1ef7*-0x1]=_0x12710e['x'],_0x4ea47a[0x2578+0x6e6+-0x2c5d]=_0x12710e['y'],_0x4ea47a[-0xaff+0x17fd+-0xcfc]=_0x12710e['z'];const _0x5ada5f=_0x1741a1['cubeMapPro'+'jectionBox']['getMax'](),_0x1439c8=_0x4c7ad1[0x6b0+0x9d9*0x2+-0x1a61]['value'];return _0x1439c8[0x17d*-0x4+0x16*0x13c+0x54d*-0x4]=_0x5ada5f['x'],_0x1439c8[-0x5*-0x5d1+-0x58d*-0x5+-0x1*0x38d5]=_0x5ada5f['y'],_0x1439c8[-0x1894+0x1e12+-0x57c]=_0x5ada5f['z'],_0x4c7ad1;}),ke('specularTi'+'nt',!(-0x28*0xc+-0x1e42+0x2023)),ke('specularit'+'yFactorTin'+'t',!(-0xc60+0x5*0x727+-0x1762)),ke('useMetalne'+'ss',!(-0xa12+-0xee7+0x18fa)),ke('useMetalne'+'ssSpecular'+'Color',!(0xb1*0x21+0x12d5+0x1*-0x29a5)),ke('useSheen',!(0x427+-0x1*-0x2e7+-0x70d)),ke('enableGGXS'+'pecular',!(0x1*-0x6b+0x42*0x1c+-0x6cc)),ke('occludeDir'+'ect',!(-0x163e*0x1+0x1*-0x2019+0x3658)),ke('opacityFad'+'esSpecular',!(-0x2e7+0x1f12*0x1+-0x1c2b)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x1eab+-0x13b7+0x3263*0x1)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0xb9*-0x35+-0x2261+0x48ae)),ke('useLightin'+'g',!(0x62*0x12+0x7*-0x4e9+0x1b7b)),ke('useTonemap',!(0x15a*0xb+0xcf*-0xa+-0x6c8)),ke('useSkybox',!(-0x1*0x1505+-0x4c8*-0x5+-0x2e3*0x1)),ke('forceUv1',!(-0x5*-0x108+-0x7d*-0x17+-0x1062)),ke('pixelSnap',!(0x17e9+0x1b1c+-0x3304*0x1)),ke('twoSidedLi'+'ghting',!(-0x3a3+-0x16*-0x15c+-0x1a44)),ke('nineSliced'+'Mode',void(-0x19ce+-0x5*-0x2+0x19c4)),ke('msdfTextAt'+'tribute',!(0x7*-0x89+-0x3*0x6a1+0x17a3)),ke('useIridesc'+'ence',!(-0x434*0x2+0x1da7*-0x1+-0x261*-0x10)),ke('glossInver'+'t',!(-0x556+-0x9a7*-0x2+-0xdf7)),ke('sheenGloss'+'Invert',!(0x1*-0x1363+0xb9b*-0x2+0x2a9a)),ke('clearCoatG'+'lossInvert',!(0xf*-0x39+-0x713*-0x5+-0x2007)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x3a0*-0x6+0xb9b*0x3+-0xd10)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x9*-0x3ce+-0x1dd2+0x4011)),et('ao','g'),et('light','rgb',!(-0x5d5*-0x4+-0x2492*-0x1+-0x3be6),-0x23be+-0x3f9*-0x1+-0x7*-0x48a),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x1ae7+-0x2400+-0x6*-0xa7c)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x3d7*0x1+-0x4d*-0x32+-0x599*0x2)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x1b78e2=function(){return this['_prefilter'+'edCubemaps'];},_0x4ca4be=function(_0x2a0bfb){const _0x3b234b=this['_prefilter'+'edCubemaps'];_0x2a0bfb=_0x2a0bfb||[];let _0x5db3cb=!(0x1228+0x12c*0x1f+-0x367b),_0x4897b8=!(0x5c*0x5c+-0x797*0x4+-0x2b4);for(let _0x43ac06=0x4*0x2ea+-0x210+-0x998;_0x43ac06<-0xd*0x12c+0x1a53+-0xb11*0x1;++_0x43ac06){const _0x676f9c=_0x2a0bfb[_0x43ac06]||null;_0x3b234b[_0x43ac06]!==_0x676f9c&&(_0x3b234b[_0x43ac06]=_0x676f9c,_0x5db3cb=!(0xd*-0x246+0x660+-0x56*-0x45)),_0x4897b8=_0x4897b8&&!!_0x3b234b[_0x43ac06];}_0x5db3cb&&(_0x4897b8?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3b234b,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x2*-0x8a5+-0x1b38+-0x9*-0x4f2));},_0x382dd0=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x382dd0['slice'](),_0x4ca4be,_0x1b78e2);}vb();const Rt=class Rt{static['render'](_0x32dcc1,_0x53cf70){const _0x46420e=_0x53cf70['device'],_0x13da06=_0x32dcc1['cells'],_0x21b9ad=_0x32dcc1['lightsBuff'+'er'],_0x44d197=_0x21b9ad['boundsMin'],_0x4a601f=_0x21b9ad['boundsDelt'+'a'],_0x1c8889=_0x44d197['clone']()['add'](_0x4a601f),_0x311271=_0x21b9ad['boundsDelt'+'a']['clone']()['div'](_0x13da06),_0x15adae=Rt['gridPositi'+'ons'],_0x40fb4a=Rt['gridColors'],_0x106e6f=new ie(0x14f6+-0x163e+0x148*0x1+0.3,-0x6*0x16a+0x198a+0x2*-0x887+0.3,-0x860+-0x1745*-0x1+-0x1*0xee5+0.3),_0x1b43fe=(_0x28deb8,_0x1dbdc3,_0x46c90e,_0x20baa0,_0x48b285,_0x241e06,_0x207a6c,_0x530b3d,_0x4aeab1)=>{for(let _0x1880f9=0x1866+-0xc7*0x2e+-0x2*-0x5ae;_0x1880f9<=_0x28deb8;_0x1880f9++)for(let _0x37d794=-0x5*-0x2dd+0x6aa*0x1+0x83*-0x29;_0x37d794<=_0x1dbdc3;_0x37d794++){const _0x541f0a=_0x46c90e+_0x1880f9*_0x20baa0,_0x134fe5=_0x48b285+_0x37d794*_0x241e06;_0x4aeab1===0x4*0x772+-0x599*-0x5+-0x39c5?_0x15adae['push'](_0x541f0a,_0x207a6c,_0x134fe5,_0x541f0a,_0x530b3d,_0x134fe5):_0x4aeab1===0x9*0x2fe+-0x1e93+-0x2*-0x1d3?_0x15adae['push'](_0x541f0a,_0x134fe5,_0x207a6c,_0x541f0a,_0x134fe5,_0x530b3d):_0x4aeab1===-0x21f8+0x1*-0x1985+0x1*0x3b7f&&_0x15adae['push'](_0x207a6c,_0x541f0a,_0x134fe5,_0x530b3d,_0x541f0a,_0x134fe5);}};if(_0x1b43fe(_0x13da06['x'],_0x13da06['z'],_0x44d197['x'],_0x311271['x'],_0x44d197['z'],_0x311271['z'],_0x44d197['y'],_0x1c8889['y'],0x16fa+-0x2392+0xc98),_0x1b43fe(_0x13da06['x'],_0x13da06['y'],_0x44d197['x'],_0x311271['x'],_0x44d197['y'],_0x311271['y'],_0x44d197['z'],_0x1c8889['z'],0xeae+-0x85a+-0x653),_0x1b43fe(_0x13da06['y'],_0x13da06['z'],_0x44d197['y'],_0x311271['y'],_0x44d197['z'],_0x311271['z'],_0x44d197['x'],_0x1c8889['x'],0x1bd1+-0x2*0xff5+0x41b*0x1),_0x15adae['length']){const _0x4a6ddf=_0x15adae['length']/(-0x963+-0xb53+0x5*0x425);if(_0x4a6ddf!==_0x40fb4a['length']/(0x1*-0x33d+0x1*0x773+0xb3*-0x6)){_0x40fb4a['length']=-0x5e*0x4f+0x22de+0x1e*-0x32;for(let _0xa62ad1=0x140f+-0xa35+-0x1*0x9da;_0xa62ad1<_0x4a6ddf;_0xa62ad1++)_0x40fb4a['push'](_0x106e6f['r'],_0x106e6f['g'],_0x106e6f['b'],_0x106e6f['a']);}_0x53cf70['drawLineAr'+'rays'](_0x15adae,_0x40fb4a),_0x15adae['length']=-0x17ed+0x2446+0x1*-0xc59;}let _0x313acc=Rt['mesh'];_0x313acc||(_0x313acc=new Ge(_0x46420e),_0x313acc['clear'](!(0xf*0x283+0x1b22+-0x40cf),!(0x14b*0x9+-0x345+-0x85e)),Rt['mesh']=_0x313acc);const _0x3e53ac=[],_0x2b9384=[],_0x116b47=[],_0x5dc257=_0x32dcc1['_cells']['x'],_0x27e796=_0x32dcc1['_cells']['z'],_0x3edb5=_0x32dcc1['counts'],_0x4b0a44=_0x32dcc1['_maxCellLi'+'ghtCount'],_0x5ab209=new D(),_0x7a064d=new D(),_0xfe8367=new D(),_0x546508=_0x4a601f['clone']()['div'](_0x13da06);let _0x46bbce=-0x4d1*-0x4+0x867+-0x1bab;for(let _0x29c9d6=0x64*-0x25+-0x8d3+0x1747;_0x29c9d6<_0x13da06['x'];_0x29c9d6++)for(let _0x2cc50d=0x1747+0x3*-0x4f8+0x85f*-0x1;_0x2cc50d<_0x13da06['z'];_0x2cc50d++)for(let _0x3c9b98=-0x6*-0x3e3+0x19c*0xc+-0x141*0x22;_0x3c9b98<_0x13da06['y'];_0x3c9b98++){const _0x1fac48=_0x29c9d6+_0x5dc257*(_0x2cc50d+_0x3c9b98*_0x27e796),_0x593437=_0x3edb5[_0x1fac48];if(_0x593437>-0x887+0xf3b+0x34*-0x21){_0x5ab209['x']=_0x44d197['x']+_0x546508['x']*_0x29c9d6,_0x5ab209['y']=_0x44d197['y']+_0x546508['y']*_0x3c9b98,_0x5ab209['z']=_0x44d197['z']+_0x546508['z']*_0x2cc50d,_0x7a064d['add2'](_0x5ab209,_0x546508),_0x3e53ac['push'](_0x5ab209['x'],_0x5ab209['y'],_0x7a064d['z']),_0x3e53ac['push'](_0x7a064d['x'],_0x5ab209['y'],_0x7a064d['z']),_0x3e53ac['push'](_0x7a064d['x'],_0x7a064d['y'],_0x7a064d['z']),_0x3e53ac['push'](_0x5ab209['x'],_0x7a064d['y'],_0x7a064d['z']),_0x3e53ac['push'](_0x7a064d['x'],_0x5ab209['y'],_0x5ab209['z']),_0x3e53ac['push'](_0x5ab209['x'],_0x5ab209['y'],_0x5ab209['z']),_0x3e53ac['push'](_0x5ab209['x'],_0x7a064d['y'],_0x5ab209['z']),_0x3e53ac['push'](_0x7a064d['x'],_0x7a064d['y'],_0x5ab209['z']),_0xfe8367['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x593437/_0x4b0a44)['round']();for(let _0x7f0cc8=-0x2529+-0xbc*-0xa+0x1dd1;_0x7f0cc8<-0x522+-0x485*0x3+-0x12b9*-0x1;_0x7f0cc8++)_0x2b9384['push'](_0xfe8367['x'],_0xfe8367['y'],_0xfe8367['z'],0x43e+-0x412*-0x4+0x1485*-0x1);_0x116b47['push'](_0x46bbce*(-0x39d+0x236+0x16f*0x1)+(0x1*0x109d+-0x218+-0x19d*0x9),_0x46bbce*(-0x4ee+0x1ca9+0x1*-0x17b3)+(-0x1099+0x6*-0x3b7+0x26e4),_0x46bbce*(0x2*-0xbe9+0x411*-0x7+0x3451)+(-0x1*0xda0+-0x95*-0x13+0x294)),_0x116b47['push'](_0x46bbce*(0x530*0x2+-0x21c7+0x1*0x176f)+(-0x22d0+-0x1e34+-0x219*-0x1f),_0x46bbce*(0x5cb*0x2+-0x61*-0xc+-0x3*0x55e)+(-0x1f10+0x1*0x1747+0x7ca),_0x46bbce*(0x1*0x239d+-0x1*0x21be+-0x1d7)+(-0x4d*-0x49+-0xffb*0x1+-0x5f8)),_0x116b47['push'](_0x46bbce*(0x1867+-0x8ed+0xf72*-0x1)+(-0x21c5+-0x2373+-0x2a*-0x1a6),_0x46bbce*(-0x1*0x247c+-0xbe7+0x306b)+(-0x1*0x1d11+-0x170+0x1e86),_0x46bbce*(-0x4e2*-0x7+-0x1*0x5a7+-0x1c7f)+(-0x1*0x19da+-0x12fa+0x2cdb*0x1)),_0x116b47['push'](_0x46bbce*(0xd4b+-0x1a19+-0xcd6*-0x1)+(0xfe0+0x65*-0x2f+-0x6*-0x73),_0x46bbce*(0x1fb3*-0x1+-0x1447+0x1156*0x3)+(-0x1b*0xa2+0x851*0x3+0x1*-0x7d8),_0x46bbce*(0x1e1b+0x1c4e+-0x3a61)+(0x1697+-0x53*0x2+0x15eb*-0x1)),_0x116b47['push'](_0x46bbce*(0x1fd+-0x1735+0x1540)+(0x1*0x1a11+0x18f*-0x11+0x71),_0x46bbce*(-0x1*-0x1731+-0xfe9+-0x74*0x10)+(-0x758+0x2060+-0x1906),_0x46bbce*(-0x269f+0x14fe+-0x89*-0x21)+(0x19a+0x45*0x1b+-0x8db*0x1)),_0x116b47['push'](_0x46bbce*(0x1*-0x13b3+-0x1*-0x1e10+-0xa55)+(-0x4bf+0x2075+-0xdda*0x2),_0x46bbce*(0x4*-0x407+-0x1f11+-0x971*-0x5)+(-0x20d1*-0x1+-0x1757+-0x973),_0x46bbce*(0x1814+0x1*-0x1447+-0x3c5*0x1)+(-0x1*0x1f5b+0x206*0x11+0x1*-0x305)),_0x116b47['push'](_0x46bbce*(-0x1a99+0x961*-0x4+0x4025*0x1)+(-0x3*0x87d+-0x90f*0x1+0x2287),_0x46bbce*(-0x1ef5+-0x1*0x121d+0x311a)+(0x1443+-0x985*-0x1+-0xee4*0x2),_0x46bbce*(-0xb*-0x221+-0xe2c*0x2+-0x1b*-0x2f)+(-0x1d2d+0x3ef+0x1942)),_0x116b47['push'](_0x46bbce*(-0x60d+-0x2b*-0xdb+-0x1eb4)+(0xdf*0x2b+-0x64e+-0x1*0x1f27),_0x46bbce*(0x1f4d+-0x19c7+-0x57e*0x1)+(-0x220b+0x151d+0xcf3),_0x46bbce*(-0x1202+-0xa7*0x1b+-0x1*-0x23a7)+(-0x9*-0x2a1+0x1ff*0x1+-0x19a4)),_0x116b47['push'](_0x46bbce*(0x1828+0x1c6f+-0xf*0x381)+(0xa11+0x3e4*0x3+-0x15bc),_0x46bbce*(-0xe*-0x10d+-0x1a71+0x1*0xbc3)+(-0x2*-0x8ef+-0x222a+-0x24*-0x74),_0x46bbce*(0x1*-0x1028+0x25f9+-0x15c9)+(-0xf07+0x13ba+-0x4b1)),_0x116b47['push'](_0x46bbce*(0x1*0x13c3+-0x6*0x211+-0x755)+(-0xdf6+0x108a+0xa4*-0x4),_0x46bbce*(0x1*0x5ae+0x24*0x10d+-0x2b7a)+(0x1802+-0x22b6+0xabb),_0x46bbce*(-0x7*0x514+0x1c29+0x76b)+(-0x1d53*0x1+0x26*0x85+0x997)),_0x116b47['push'](_0x46bbce*(-0x147*-0x1d+-0x72b+-0x1dd8)+(0x6*-0x46c+-0x460+0x1eed),_0x46bbce*(0x1575+-0x21fa+0xc8d)+(0xd*-0x3d+-0x2587+-0x1*-0x28a0),_0x46bbce*(-0xb08+0x43f+0x6d1)+(-0x2177+-0x347*0x9+-0xfbf*-0x4)),_0x116b47['push'](_0x46bbce*(-0x1dd6+0x14f6*0x1+0x8e8)+(0x6e1*0x5+-0x833*0x1+-0xd19*0x2),_0x46bbce*(0x21c9+0x566*-0x3+-0x118f)+(0x89e*0x1+0x136e+0x1*-0x1c09),_0x46bbce*(-0x29f+0x1*-0x718+0x9bf)+(0x1c+-0x1fc7*-0x1+-0x1fdd)),_0x46bbce++;}}if(_0x46bbce){if(_0x313acc['setPositio'+'ns'](_0x3e53ac),_0x313acc['setNormals'](new Float32Array(_0x3e53ac['length'])),_0x313acc['setColors3'+'2'](_0x2b9384),_0x313acc['setIndices'](_0x116b47),_0x313acc['update'](js,!(-0x174d+0x195c+-0x20e)),!Rt['meshInstan'+'ce']){const _0x299529=new Ut();_0x299529['useLightin'+'g']=!(-0x984+-0xfda+0x195f),_0x299529['emissive']=new ie(-0x152e*-0x1+-0x1e85+0x34*0x2e,-0x23f*0x5+-0x249b*-0x1+-0x195f,0x1136*-0x2+0x2058+0xd*0x29),_0x299529['emissiveVe'+'rtexColor']=!(-0x5a*0x1b+-0x78*-0x2b+-0xaaa),_0x299529['blendType']=Ed,_0x299529['depthWrite']=!(0x6*-0x50b+-0x856+-0x1*-0x2699),_0x299529['update']();const _0x4c1105=new Ie('WorldClust'+'ersDebug');_0x4c1105['worldTrans'+'form']=te['IDENTITY'],_0x4c1105['_dirtyWorl'+'d']=_0x4c1105['_dirtyNorm'+'al']=!(-0x1*-0x195b+-0x7*0x43f+0x3*0x175),Rt['meshInstan'+'ce']=new He(_0x313acc,_0x299529,_0x4c1105),Rt['meshInstan'+'ce']['cull']=!(-0xee2+-0x383*0x9+0x2e7e);}const _0x20738a=Rt['meshInstan'+'ce'];_0x53cf70['immediate']['drawMesh'](_0x20738a['material'],_0x20738a['node']['worldTrans'+'form'],null,_0x20738a,_0x53cf70['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0xb2a+-0xf71*-0x1+0x6*-0x46f,0x1a*-0x104+0x1a8c+-0x5*0x7,0x204f+-0x234c+0x2*0x17f)),h(Rt,'colorHigh',new D(0x1f6c+-0x229c+0x358,0x27c+0x395+0x611*-0x1,-0x1119+-0x1e2d+0x17a3*0x2));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0xd5add8=atob(xb);Vi=Uint8Array['from'](_0xd5add8,_0x3a2212=>_0x3a2212['charCodeAt'](0x234e*0x1+0x2123+-0x1*0x4471));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x3ce9c6=0x79e+0x9cc+-0x116a){h(this,'seed',-0x1a70+-0x244d+0x3ebd),(this['seed']=_0x3ce9c6*(-0x24be*0x1+-0x2209*0x1+-0xa1d*-0x7),Av());}['_next'](){this['seed']=(this['seed']+(0x3f*-0x93+-0x9*-0x57+0x2122))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x1358+0x233a+0x1*-0xee3);}['vec4'](_0x451683=new re()){return this['_next'](),_0x451683['set'](Vi[this['seed']],Vi[this['seed']+(-0x2452*0x1+-0x1*0x12b7+-0x2*-0x1b85)],Vi[this['seed']+(0x1*0x1f75+0x13eb+-0x335e)],Vi[this['seed']+(-0x14e3+-0x2f*-0xb+0x12e1)])['mulScalar']((0x34d+0x251c+-0x2868*0x1)/(0x1970+-0x3*0x35+0x2*-0xbe9));}}const Eb=[new D(-(0x1e66+-0x61*0x3+-0xe*0x217),-0x1bb7*0x1+0x15d*-0x3+0x1fce,-0x2482+-0x14d7+0x3959*0x1),new D(-0x1aa3+-0x22be+0x2*0x1eb1,-0x1*-0x1477+-0x15d2+0x15b,0x4*0x9aa+0xe35*-0x1+0xb*-0x239),new D(-0x236b+-0x1f1e+0x4289*0x1,-(0x1f2c+-0x12fe+-0xc2d),0x5e8+-0x1*0xd8d+0x67*0x13),new D(0x2362+0x89*-0x8+-0x1f1a,-0xb2a*-0x1+0x3b2+-0xedb,-0x14d*0x2+-0x57d+-0x13*-0x6d),new D(0x4*-0x928+0x1935+0xb6b,-0x2200+0x1*0xec3+0x133d,-(-0xb2d+0x234a+0xc0e*-0x2)),new D(-0xfa7+0x230a+-0x1363,-0x251b+-0x5*0x38a+0x36cd,0xe1d*0x2+-0x5*-0x2e+-0x163*0x15)];class bb{constructor(){h(this,'colors',new Float32Array(0x12*-0xa1+0x2675+0x215*-0xd));}['update'](_0x414d2d,_0x6744a0){const _0x5e4b2e=this['colors'],{r:_0x4ebda0,g:_0x1f6b37,b:_0xcd772c}=_0x414d2d;for(let _0x3317ae=-0x61e+0x5fd+-0x1*-0x21;_0x3317ae<0x21df+0x1e07+-0x1ff0*0x2;_0x3317ae++)_0x5e4b2e[_0x3317ae*(0x1157*0x2+-0x101b*-0x2+-0x3*0x164b)]=_0x4ebda0,_0x5e4b2e[_0x3317ae*(-0x1*-0x13c7+0x111*-0x9+-0xa2b)+(-0x8*0x289+-0x22c7+-0x1b88*-0x2)]=_0x1f6b37,_0x5e4b2e[_0x3317ae*(0x577*-0x4+0x1*0x3ef+0x11f0)+(-0x3a5*0x1+0xbd0+0x829*-0x1)]=_0xcd772c;for(let _0x46a501=-0x5*0x102+-0x20b4+0x25be;_0x46a501<_0x6744a0['length'];_0x46a501++){const _0x58999b=_0x6744a0[_0x46a501];if(_0x58999b['_type']===ve)for(let _0x23e03e=-0x56*-0x6d+0x17ae+-0x2*0x1e26;_0x23e03e<0x1*-0x297+0x13d*-0x2+0x1*0x517;_0x23e03e++){const _0x4ab06b=Math['max'](Eb[_0x23e03e]['dot'](_0x58999b['_direction']),0x2*-0x114d+-0x179b+-0x1*-0x3a35)*_0x58999b['_intensity'],_0x4b00ce=_0x58999b['_color'];_0x5e4b2e[_0x23e03e*(0x941+0x1ddd+0x47*-0x8d)]+=_0x4b00ce['r']*_0x4ab06b,_0x5e4b2e[_0x23e03e*(0x9b*0x1d+-0x1a17*0x1+0x2d9*0x3)+(0x5d*0x1f+-0x2cf*0xd+0x1941*0x1)]+=_0x4b00ce['g']*_0x4ab06b,_0x5e4b2e[_0x23e03e*(-0xfe*0x3+-0x58*0x2b+-0x11c5*-0x1)+(-0x1eba+-0xaa2+0x295e*0x1)]+=_0x4b00ce['b']*_0x4ab06b;}}}}const Ab=(_0x549cc9,_0x1c7c7e,_0x1e4198,_0x33bac9)=>{const _0x4d089a=new _e(_0x549cc9,{'name':''+_0x1c7c7e+_0x1e4198,'width':_0x1e4198,'height':_0x1e4198,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x5*0x283+-0x4*-0x8b0+0x5*-0x976)});return _0x4d089a['lock']()['set'](_0x33bac9),_0x4d089a['unlock'](),_0x4d089a;},Cb=new Kt(),Pb=_0x2cb423=>Cb['get'](_0x2cb423,()=>{const _0x2a856b=Tb(),_0x4eab3f=Math['sqrt'](_0x2a856b['length']/(0x2f2+0x25c0+-0x28ae));return Ab(_0x2cb423,'BlueNoise',_0x4eab3f,_0x2a856b);});class va{constructor(_0x3791a6,_0x4c4edb){this['texture']=_0x3791a6,this['cached']=!(0x285*0x7+0x1*-0x112b+-0x77*0x1),this['renderTarg'+'ets']=_0x4c4edb;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0xc37a4f=this['renderTarg'+'ets'];for(let _0x585a65=-0x24f1+-0x8d3+-0x4*-0xb71;_0x585a65<_0xc37a4f['length'];_0x585a65++)_0xc37a4f[_0x585a65]['destroy']();this['renderTarg'+'ets']['length']=0x1997+-0x103e+-0x959;}static['create'](_0x434636,_0xbcb23){let _0x5e1492=null;return _0xbcb23['_type']===Ke?_0x5e1492=this['createCube'+'map'](_0x434636,_0xbcb23['_shadowRes'+'olution'],_0xbcb23['_shadowTyp'+'e']):_0x5e1492=this['create2dMa'+'p'](_0x434636,_0xbcb23['_shadowRes'+'olution'],_0xbcb23['_shadowTyp'+'e']),_0x5e1492;}static['createAtla'+'s'](_0x3d0da5,_0x36d499,_0x53ab84){const _0x2706ff=this['create2dMa'+'p'](_0x3d0da5,_0x36d499,_0x53ab84),_0xd7a032=_0x2706ff['renderTarg'+'ets'],_0x4144f1=_0xd7a032[0x1*0x1389+0x68f*0x1+-0x4*0x686];for(let _0x198d5f=0x2619+-0xf8+-0x2521;_0x198d5f<-0x12a3*0x1+0x3f3*0x3+-0x15*-0x53;_0x198d5f++)_0xd7a032['push'](_0x4144f1);return _0x2706ff;}static['create2dMa'+'p'](_0x8baee7,_0xdfae6c,_0x457e86){var _0x252f4b;const _0x3d7d2a=qi['get'](_0x457e86);w['assert'](_0x3d7d2a);let _0x59ba41=_0x3d7d2a['format'];_0x59ba41===Ji&&!_0x8baee7['textureFlo'+'atRenderab'+'le']&&_0x8baee7['textureHal'+'fFloatRend'+'erable']&&(_0x59ba41=od);const _0x14c062=(_0x252f4b=Nt['get'](_0x59ba41))==null?void(0x1ff6+-0x14c1+-0xb35):_0x252f4b['name'];let _0x572573=vt;_0x457e86===Jp&&(_0x572573=_0x8baee7['extTexture'+'FloatLinea'+'r']?vt:Te),_0x457e86===al&&(_0x572573=Te);const _0x192d14=new _e(_0x8baee7,{'profilerHint':eu,'format':_0x59ba41,'width':_0xdfae6c,'height':_0xdfae6c,'mipmaps':!(-0xdf9+-0xa2b*-0x1+-0x4b*-0xd),'minFilter':_0x572573,'magFilter':_0x572573,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x14c062});let _0x32a47d=null;return _0x3d7d2a!=null&&_0x3d7d2a['pcf']?(_0x192d14['compareOnR'+'ead']=!(0x1*-0x1025+0x61*0x7+0x2*0x6bf),_0x192d14['compareFun'+'c']=hh,_0x32a47d=new gt({'depthBuffer':_0x192d14})):_0x32a47d=new gt({'colorBuffer':_0x192d14,'depth':!(-0x1a0*-0x1+-0x224d+0x23*0xef)}),_0x8baee7['isWebGPU']&&(_0x32a47d['flipY']=!(0x10c3+-0x1cdb+-0x1*-0xc18)),new va(_0x192d14,[_0x32a47d]);}static['createCube'+'map'](_0x38e320,_0x3ed7b4,_0xf89725){var _0x656622;const _0x11d96d=qi['get'](_0xf89725);w['assert'](_0x11d96d);const _0x547f91=(_0x656622=Nt['get'](_0x11d96d['format']))==null?void(-0x1*0x1532+-0x1dba+-0x32ec*-0x1):_0x656622['name'],_0x5aaf96=_0xf89725===al,_0xd923b6=_0x5aaf96?Te:vt,_0x378856=new _e(_0x38e320,{'profilerHint':eu,'format':_0x11d96d==null?void(-0x19a9+-0x1b2f+-0x34d8*-0x1):_0x11d96d['format'],'width':_0x3ed7b4,'height':_0x3ed7b4,'cubemap':!(-0x1*-0x14bc+-0x1*0x1bcd+-0x711*-0x1),'mipmaps':!(-0x2*0xee3+-0x1*-0x8aa+0x151d),'minFilter':_0xd923b6,'magFilter':_0xd923b6,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x547f91});_0x5aaf96||(_0x378856['compareOnR'+'ead']=!(-0x11f*-0xa+-0x219e*0x1+-0x4*-0x59a),_0x378856['compareFun'+'c']=hh);const _0x32721d=[];for(let _0x340390=-0x21c4+-0x650+0x2814;_0x340390<-0x2d8*0x8+0x1*-0xff9+0x6d*0x5b;_0x340390++)_0x5aaf96?_0x32721d['push'](new gt({'colorBuffer':_0x378856,'face':_0x340390,'depth':!(-0x2*0xa82+0x179*-0x18+-0x2*-0x1c2e)})):_0x32721d['push'](new gt({'depthBuffer':_0x378856,'face':_0x340390}));return new va(_0x378856,_0x32721d);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x38df2a){this['size']=Math['floor'](_0x38df2a['w']*(0x223e+0x259a*0x1+-0x43d8)),this['used']=!(0xfc2+-0x2043+0x1082),this['lightId']=-(-0x12b*-0x17+-0x19a7+0x135*-0x1),this['rect']=_0x38df2a;}}class Ib{constructor(_0x1c1f1e){this['device']=_0x1c1f1e,this['version']=-0x1a96+-0xcb+0x1b62,this['shadowAtla'+'sResolutio'+'n']=0x8*0x34d+-0x1*0x17e2+0x57a,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x226b+-0x3dc+-0x1e8c,this['cookieAtla'+'sResolutio'+'n']=0x1*-0xd79+0xa*-0x12c+0x1935,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x8e2+0x773*-0x1+-0x3*0x7a),'mipmaps':!(-0x1811+0x3f*0x7b+-0x633),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x1fca*0x1+0x434*0x2+-0x1763*-0x1),'flipY':!(-0xb1f+0x1*0x1630+-0xb11)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x1306+-0x1*0x2604+0x12fe,0x14b7+-0xa70+-0xa47),new J(0x25*0xbf+0x23db+-0x3f76,-0x235*0xe+0x16d1+0x9*0xe6),new J(-0xfd9+-0x1c42+0xc*0x3ad,0x143*0x13+-0x237f+0xb86),new J(-0x1ea5+0xdc4+-0x871*-0x2,-0x1*0x26f8+0x6*-0x518+0x4589),new J(-0x429+0x1630+-0x1205,-0x1103+-0x27*-0xe8+-0x13*0xf7),new J(-0x60a*-0x5+0x8*0x16d+-0xb*0x3c8,-0x698*0x4+0x13*-0x1c7+0x3c26*0x1)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x3f4+0x63*-0x9+-0x1dc*-0x4),this['allocateCo'+'okieAtlas'](0x15*-0x49+-0x20e2+0x26e0),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x5edc21;(_0x5edc21=this['shadowAtla'+'s'])==null||_0x5edc21['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x5f4284,_0x2bfc05;(_0x5f4284=this['cookieAtla'+'s'])==null||_0x5f4284['destroy'](),this['cookieAtla'+'s']=null,(_0x2bfc05=this['cookieRend'+'erTarget'])==null||_0x2bfc05['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x1448b1,_0x23533e=$s){var _0x7b07d4;const _0x580730=(_0x7b07d4=this['shadowAtla'+'s'])==null?void(0x25e7+0x1*0x1184+-0x376b):_0x7b07d4['texture']['format'],_0xf5ce18=qi['get'](_0x23533e)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x1448b1||_0x580730!==_0xf5ce18){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x1448b1,_0x23533e),this['shadowAtla'+'s']['cached']=!(-0x1a3c+0xa61+0xfdb);const _0x495d40=(-0x2681+-0x18c*-0x17+0x2f1)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x495d40,_0x495d40,-(-0x1e0e+0x104*0x19+0x4ac)*_0x495d40,-(-0xa6d+0x1687+-0xc18)*_0x495d40);}}['allocateCo'+'okieAtlas'](_0x4f48b1){this['cookieAtla'+'s']['width']!==_0x4f48b1&&(this['cookieRend'+'erTarget']['resize'](_0x4f48b1,_0x4f48b1),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x248d+0xdb9+0x1*0x16d6),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x547ea2=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x56*0x35+-0xe12+0x1fe0]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x547ea2),this['_shadowAtl'+'asParams'][-0x6b9+-0x22fa+0x29b3]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x6*0x1f1+0x24b*0xd+0x5ec*-0x7]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x56f07c,_0x4ff673){let _0x5c5ef3=_0x4ff673['atlasSplit'];if(!_0x5c5ef3){const _0x485dcf=Math['ceil'](Math['sqrt'](_0x56f07c));_0x5c5ef3=Db,_0x5c5ef3[0x1*-0x257f+0x4b0+0x20cf]=_0x485dcf,_0x5c5ef3['length']=-0x1067+-0x2*-0x6b6+0x2fc;}if(!((_0x5de727,_0x222f99)=>_0x5de727['length']===_0x222f99['length']&&_0x5de727['every']((_0x2ea45f,_0x52d2a1)=>_0x2ea45f===_0x222f99[_0x52d2a1]))(_0x5c5ef3,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x101*-0x19+-0x4a9*-0x8+0x3e61*-0x1,this['atlasSplit']['length']=0x29a+0x1*0x247f+-0x2719,this['atlasSplit']['push'](..._0x5c5ef3);const _0x13a5ec=this['atlasSplit'][0x1638+-0x1*0x23aa+0xd72*0x1];if(_0x13a5ec>-0x1339+0x1*-0x1e65+0x319f){const _0x4841a8=(0x1d*0xc7+0x11ce+-0x50b*0x8)/_0x13a5ec;for(let _0x2c9aee=-0x1*-0x17f3+0x9*0x147+-0x11b9*0x2;_0x2c9aee<_0x13a5ec;_0x2c9aee++)for(let _0xb3f491=0xbc*-0x2b+0x2*0xfd1+-0x7*0x2;_0xb3f491<_0x13a5ec;_0xb3f491++){const _0x5cf435=new re(_0x2c9aee*_0x4841a8,_0xb3f491*_0x4841a8,_0x4841a8,_0x4841a8),_0x46ef6c=this['atlasSplit'][0xa*-0x1a+0x25+0xe0+_0x2c9aee*_0x13a5ec+_0xb3f491];if(_0x46ef6c>-0x14b2+-0xcfb*0x3+0x2*0x1dd2){for(let _0x1f2c1e=0x1*0xd48+-0x646+-0x3*0x256;_0x1f2c1e<_0x46ef6c;_0x1f2c1e++)for(let _0x3e0141=-0x5ed+-0x1*0x1b7f+0x216c;_0x3e0141<_0x46ef6c;_0x3e0141++){const _0x2ff275=_0x4841a8/_0x46ef6c,_0x557e0c=new re(_0x5cf435['x']+_0x1f2c1e*_0x2ff275,_0x5cf435['y']+_0x3e0141*_0x2ff275,_0x2ff275,_0x2ff275);this['slots']['push'](new tf(_0x557e0c));}}else this['slots']['push'](new tf(_0x5cf435));}}else this['slots']['push'](new tf(new re(0x239*-0x7+-0xa31*-0x1+-0x55e*-0x1,0x1e9e+0xc51*-0x3+0x1*0x655,-0x15bd+-0x20*-0x109+-0xb62,-0x1016*-0x1+-0x154e+0x539)));this['slots']['sort']((_0x513e46,_0xad94f)=>_0xad94f['size']-_0x513e46['size']);}}['collectLig'+'hts'](_0x529e46,_0x5ec85a){const _0x404c91=_0x5ec85a['cookiesEna'+'bled'],_0x955f70=_0x5ec85a['shadowsEna'+'bled'];let _0x2a878a=!(-0xbdd+-0x65+0xc43),_0x5d4f30=!(0x244e+-0x2*0x314+-0x1e25);const _0x46421a=Mb;return _0x46421a['length']=0x2640+0xa8d*0x1+-0x30cd,(_0x404c91||_0x955f70)&&(_0x237de7=>{for(let _0x1bbab5=-0x2205+-0x2403+0x4608;_0x1bbab5<_0x237de7['length'];_0x1bbab5++){const _0x4b8f89=_0x237de7[_0x1bbab5];if(_0x4b8f89['visibleThi'+'sFrame']){const _0x5e781c=_0x955f70&&_0x4b8f89['castShadow'+'s'],_0x1888f2=_0x404c91&&!!_0x4b8f89['cookie'];_0x2a878a||(_0x2a878a=_0x5e781c),_0x5d4f30||(_0x5d4f30=_0x1888f2),(_0x5e781c||_0x1888f2)&&_0x46421a['push'](_0x4b8f89);}}})(_0x529e46),_0x46421a['sort']((_0x5718ac,_0x115f60)=>_0x115f60['maxScreenS'+'ize']-_0x5718ac['maxScreenS'+'ize']),_0x2a878a&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x5ec85a['shadowType']),_0x5d4f30&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x2a878a||_0x5d4f30)&&this['subdivide'](_0x46421a['length'],_0x5ec85a),_0x46421a;}['setupSlot'](_0x334cea,_0x158736){_0x334cea['atlasViewp'+'ort']['copy'](_0x158736);const _0x348543=_0x334cea['numShadowF'+'aces'];for(let _0xe42587=-0x199b+-0x7*-0x272+0x87d;_0xe42587<_0x348543;_0xe42587++)if(_0x334cea['castShadow'+'s']||_0x334cea['_cookie']){if(xi['copy'](_0x158736),ef['copy'](_0x158736),_0x334cea['_type']===Ze&&xi['add'](this['scissorVec']),_0x334cea['_type']===Ke){const _0x3cf27f=xi['z']/(-0x1d46+-0x48e+0x1*0x21d7),_0x32c803=this['cubeSlotsO'+'ffsets'][_0xe42587];xi['x']+=_0x3cf27f*_0x32c803['x'],xi['y']+=_0x3cf27f*_0x32c803['y'],xi['z']=_0x3cf27f,xi['w']=_0x3cf27f,ef['copy'](xi);}if(_0x334cea['castShadow'+'s']){const _0x3b02eb=_0x334cea['getRenderD'+'ata'](null,_0xe42587);_0x3b02eb['shadowView'+'port']['copy'](xi),_0x3b02eb['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x3bdd4d,_0xcf41bd,_0x22398f){_0x3bdd4d['atlasViewp'+'ortAllocat'+'ed']=!(-0x1807*0x1+0x2d4+0x1*0x1533);const _0x530598=this['slots'][_0xcf41bd];_0x530598['lightId']=_0x3bdd4d['id'],_0x530598['used']=!(0x16d1+0x771+-0x1e42),_0x22398f&&(_0x3bdd4d['atlasSlotU'+'pdated']=!(0x180f*-0x1+0x1*-0x1b4d+0x335c*0x1),_0x3bdd4d['atlasVersi'+'on']=this['version'],_0x3bdd4d['atlasSlotI'+'ndex']=_0xcf41bd);}['update'](_0x1a62d7,_0x84e6d8){this['shadowAtla'+'sResolutio'+'n']=_0x84e6d8['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x84e6d8['cookieAtla'+'sResolutio'+'n'];const _0x225416=this['collectLig'+'hts'](_0x1a62d7,_0x84e6d8);if(_0x225416['length']>0x14ff+0x536+-0x1a35){const _0x20c689=this['slots'];for(let _0x4af200=0x137f+0x2*0x828+-0x23cf;_0x4af200<_0x20c689['length'];_0x4af200++)_0x20c689[_0x4af200]['used']=!(-0xd60+0x5b3*0x6+-0x49*0x49);const _0x69192d=Math['min'](_0x225416['length'],_0x20c689['length']);for(let _0x10d9d5=-0x1bb6+-0x20c5*0x1+0x3c7b;_0x10d9d5<_0x69192d;_0x10d9d5++){const _0x192553=_0x225416[_0x10d9d5];_0x192553['castShadow'+'s']&&(_0x192553['_shadowMap']=this['shadowAtla'+'s']);const _0x226fac=_0x20c689[_0x192553['atlasSlotI'+'ndex']];if(_0x192553['atlasVersi'+'on']===this['version']&&_0x192553['id']===(_0x226fac==null?void(0x4*-0x7a2+0x4eb*0x7+-0x3e5):_0x226fac['lightId'])){const _0x3eed58=_0x20c689[_0x192553['atlasSlotI'+'ndex']];_0x3eed58['size']===_0x20c689[_0x10d9d5]['size']&&!_0x3eed58['used']&&this['assignSlot'](_0x192553,_0x192553['atlasSlotI'+'ndex'],!(-0x175*0x2+0x1df0+-0x1b05));}}let _0x247cf3=0x1e0b+0xe*0x1dd+-0x3821;for(let _0x4a92b1=0x29*0x5d+-0x8*-0x167+-0x23*0xbf;_0x4a92b1<_0x69192d;_0x4a92b1++){for(;_0x247cf3<_0x20c689['length']&&_0x20c689[_0x247cf3]['used'];)_0x247cf3++;const _0x3db86b=_0x225416[_0x4a92b1];_0x3db86b['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x3db86b,_0x247cf3,!(0x2*-0x8e4+-0x1ce*-0x7+0x526));const _0x505253=_0x20c689[_0x3db86b['atlasSlotI'+'ndex']];this['setupSlot'](_0x3db86b,_0x505253['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x58c10e=>{_0x58c10e['forEach'](_0x271aa8=>{_0x271aa8['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2d721c){const _0x20b4f0=_0x2d721c['_type']===Ke,_0x2a3979=_0x2d721c['_shadowTyp'+'e'],_0x5f9fda=_0x2d721c['_shadowRes'+'olution'];return _0x20b4f0+'-'+_0x2a3979+'-'+_0x5f9fda;}['get'](_0x332931,_0x3422c9){const _0x39315b=this['getKey'](_0x3422c9),_0x4e7145=this['cache']['get'](_0x39315b);if(_0x4e7145&&_0x4e7145['length'])return _0x4e7145['pop']();const _0x1f5624=va['create'](_0x332931,_0x3422c9);return _0x1f5624['cached']=!(-0x22a5+0x1573+0xd32),_0x1f5624;}['add'](_0x1c1053,_0xe36eb){const _0x2fb6a6=this['getKey'](_0x1c1053),_0x74ae6a=this['cache']['get'](_0x2fb6a6);_0x74ae6a?_0x74ae6a['push'](_0xe36eb):this['cache']['set'](_0x2fb6a6,[_0xe36eb]);}}class Rb extends ys{constructor(_0x23a662,_0x27cfea,_0x273c77,_0x1f9186,_0x1f4028){super(_0x23a662),Ea['setName'](this,this['name']+'-'+_0x273c77['_node']['name']),this['requiresCu'+'bemaps']=!(0x9f*0x19+-0x210a+0x1184),this['shadowRend'+'erer']=_0x27cfea,this['light']=_0x273c77,this['face']=_0x1f9186,this['applyVsm']=_0x1f4028,this['shadowCame'+'ra']=_0x27cfea['prepareFac'+'e'](_0x273c77,null,_0x1f9186),_0x27cfea['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x1b9d+0x24fc+-0x4099));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x11*-0x20a+-0x187f+0x3b2a*0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x1f99cb,_0x3c00e8){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x1f99cb,this['shadowRend'+'erer']=_0x3c00e8,this['device']=_0x1f99cb['device']);}['cull'](_0x2f2f5f,_0x554f82,_0x36e83b=null){const _0x7fae07=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x2f2f5f['visibleThi'+'sFrame']=!(-0x93+0x3f*0x26+0x3*-0x2ed),_0x7fae07||_0x2f2f5f['_shadowMap']||(_0x2f2f5f['_shadowMap']=va['create'](this['device'],_0x2f2f5f));const _0x13e0e3=_0x2f2f5f['_type'],_0x5b954d=_0x13e0e3===Ze?0xd47+0x13*0x1a0+-0x1613*0x2:0x25e+-0x530+0x2d8;for(let _0x8f2522=-0x22ed+-0x1ed9+-0x2*-0x20e3;_0x8f2522<_0x5b954d;_0x8f2522++){const _0x27506f=_0x2f2f5f['getRenderD'+'ata'](null,_0x8f2522),_0x19056f=_0x27506f['shadowCame'+'ra'];_0x19056f['nearClip']=_0x2f2f5f['attenuatio'+'nEnd']/(-0x41f+-0xde2*-0x1+0x1*-0x5db),_0x19056f['farClip']=_0x2f2f5f['attenuatio'+'nEnd'];const _0x1e331b=_0x19056f['_node'],_0x2dc2ca=_0x2f2f5f['_node'];if(_0x1e331b['setPositio'+'n'](_0x2dc2ca['getPositio'+'n']()),_0x13e0e3===Ze)_0x19056f['fov']=_0x2f2f5f['_outerCone'+'Angle']*(0x8b4+0x8a9+-0x3*0x5c9),_0x1e331b['setRotatio'+'n'](_0x2dc2ca['getRotatio'+'n']()),_0x1e331b['rotateLoca'+'l'](-(-0x9*-0x32f+-0x100d+-0xc40),0x2c*-0x8e+0x6dd+0x118b,-0x1324+0x14fe+-0x3*0x9e);else{if(_0x13e0e3===Ke){if(_0x7fae07){const _0x2cd66b=(-0x126e+-0x2b*0x1d+-0x11*-0x15f)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x2f2f5f['atlasViewp'+'ort']['z']/(0x1875+-0x146c+-0x406))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x19056f['fov']=Math['atan'](0x4*0x330+0x25*0x97+-0x2292+_0x2cd66b)*Y['RAD_TO_DEG']*(-0x1*0x56b+-0x2*-0x4f4+0x1*-0x47b);}else _0x19056f['fov']=0xa5c+-0x5eb+-0x3*0x15d;}}this['renderer']['updateCame'+'raFrustum'](_0x19056f),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x554f82,_0x2f2f5f,_0x27506f['visibleCas'+'ters'],_0x19056f,_0x36e83b);}}['prepareLig'+'hts'](_0xa3b293,_0x567af4){let _0x1814a5;for(let _0x39d70a=-0x6b6+-0x2*-0x1276+-0xf1b*0x2;_0x39d70a<_0x567af4['length'];_0x39d70a++){const _0x1ff402=_0x567af4[_0x39d70a];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1ff402)&&_0x1ff402['atlasViewp'+'ortAllocat'+'ed']){_0xa3b293['push'](_0x1ff402);for(let _0x3f65a9=-0x1d7d+-0x2df+-0xda*-0x26;_0x3f65a9<_0x1ff402['numShadowF'+'aces'];_0x3f65a9++)_0x1814a5=this['shadowRend'+'erer']['prepareFac'+'e'](_0x1ff402,null,_0x3f65a9);}}return _0x1814a5;}['buildNonCl'+'usteredRen'+'derPasses'](_0x17cbaa,_0x4e27c8){for(let _0x4c1fe5=0x95*-0x2b+0x1*0x1338+0x5cf;_0x4c1fe5<_0x4e27c8['length'];_0x4c1fe5++){const _0x45eebd=_0x4e27c8[_0x4c1fe5];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x45eebd)){const _0x1c622a=_0x45eebd['_type']===Ze,_0x1d88d7=_0x45eebd['numShadowF'+'aces'];for(let _0x3dc0f1=-0x118f+0x2525+-0x2e*0x6d;_0x3dc0f1<_0x1d88d7;_0x3dc0f1++){const _0x30e3ce=new Rb(this['device'],this['shadowRend'+'erer'],_0x45eebd,_0x3dc0f1,_0x1c622a);_0x17cbaa['addRenderP'+'ass'](_0x30e3ce);}}}}}class Fb extends ys{constructor(_0x165d1e,_0x5f506a,_0x53038f,_0x6b1a9f,_0x4fd3b1){super(_0x165d1e),Ea['setName'](this,this['name']+'-'+_0x53038f['_node']['name']),this['shadowRend'+'erer']=_0x5f506a,this['light']=_0x53038f,this['camera']=_0x6b1a9f,this['allCascade'+'sRendering']=_0x4fd3b1;}['execute'](){const {light:_0x1128b8,camera:_0x509fc0,shadowRenderer:_0x57581f,allCascadesRendering:_0x4f2ada}=this,_0x44081a=_0x1128b8['numShadowF'+'aces'],_0x2921f1=_0x1128b8['shadowUpda'+'teOverride'+'s'];for(let _0x1e63fd=0x1*-0x36e+0x121c*-0x1+0x158a;_0x1e63fd<_0x44081a;_0x1e63fd++)(_0x2921f1==null?void(-0x23d*0xf+-0x1*-0x237+0x7d7*0x4):_0x2921f1[_0x1e63fd])!==Ps&&_0x57581f['renderFace'](_0x1128b8,_0x509fc0,_0x1e63fd,!_0x4f2ada),(_0x2921f1==null?void(-0xd04+0x22b1*-0x1+0x2fb5*0x1):_0x2921f1[_0x1e63fd])===xr&&(_0x2921f1[_0x1e63fd]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x460561,_0x3d8ce7,_0x3eeeb2){Xe[0x92b*0x1+0x12b5+-0x1be0]['x']=Xe[0x4a8+-0x1e55+-0x19ae*-0x1]['x']=Xe[-0x206c+-0x1d*-0xd8+0x7f6]['x']=Xe[-0xa19+0x2519+0x1*-0x1afd]['x']=_0x3d8ce7['x'],Xe[-0x16a8+0x1b39+-0x490]['y']=Xe[0x2228+-0x6eb+-0x1b3a]['y']=Xe[-0x2632+-0x2*0x104b+0x46cf*0x1]['y']=Xe[0x1*0x10ba+-0x1*-0x1e26+-0x5*0x95f]['y']=_0x3d8ce7['y'],Xe[-0x258b*-0x1+-0x1bdb+0x15*-0x76]['z']=Xe[0x100e*0x2+-0x1*0x2421+-0x56*-0xc]['z']=Xe[0x1*-0x11c3+0x23cd+-0x1*0x1204]['z']=Xe[0xdf5+-0x1266+0xd*0x58]['z']=_0x3d8ce7['z'],Xe[-0x17*0x1a8+0x2447+0x1d5]['x']=Xe[-0x6b3*0x1+0x81a+0x162*-0x1]['x']=Xe[0xcb3+-0x1dda+-0x112d*-0x1]['x']=Xe[-0x16bc+-0x1198+0x1*0x285b]['x']=_0x3eeeb2['x'],Xe[0x136+0x2*-0x175+0x1b4]['y']=Xe[0x2*-0x7e1+-0x1*0x261b+-0x1*-0x35df]['y']=Xe[0x91d*-0x2+-0x2*-0x641+0x5bc]['y']=Xe[-0x1677+0x2*0x667+0x25*0x43]['y']=_0x3eeeb2['y'],Xe[0x1dea+-0x2bf*0x9+-0xb*0x79]['z']=Xe[-0x85c+-0xd63*0x1+-0x10*-0x15c]['z']=Xe[0xb27+0x21f1+-0x2d14*0x1]['z']=Xe[0x1d63+0x1e98+-0x3bf6]['z']=_0x3eeeb2['z'];let _0x5a098f=-0x4978aef64+0x2860d6dae+0x4658965b5,_0x1f449b=-(-0x4105495b8+-0x45edffd1d+0xac34076d4);for(let _0x953e2f=-0x1c4d+-0x7*0x13e+0x24ff;_0x953e2f<-0x269d+0x46*0x2b+0x1ae3;++_0x953e2f){_0x460561['transformP'+'oint'](Xe[_0x953e2f],Xe[_0x953e2f]);const _0x25bc02=Xe[_0x953e2f]['z'];_0x25bc02<_0x5a098f&&(_0x5a098f=_0x25bc02),_0x25bc02>_0x1f449b&&(_0x1f449b=_0x25bc02);}return sf['min']=_0x5a098f,sf['max']=_0x1f449b,sf;}class kb{constructor(_0x172f30,_0x176144){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x172f30,this['shadowRend'+'erer']=_0x176144,this['device']=_0x172f30['device']);}['cull'](_0x472c95,_0x31dbb6,_0x13ad46,_0x18b35c=null){_0x472c95['visibleThi'+'sFrame']=!(-0xa23+-0x172e+0x2151),_0x472c95['_shadowMap']||(_0x472c95['_shadowMap']=va['create'](this['device'],_0x472c95));const _0x101f25=_0x13ad46['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x472c95,_0x101f25,Math['min'](_0x13ad46['_farClip'],_0x472c95['shadowDist'+'ance']));const _0x470cb4=_0x472c95['shadowUpda'+'teOverride'+'s'];for(let _0x1cd120=-0x38b+-0x2*0x1086+0x2497;_0x1cd120<_0x472c95['numCascade'+'s']&&(_0x470cb4==null?void(0x3*-0x106+-0x7*-0x2dd+-0x10f9):_0x470cb4[_0x1cd120])!==Ps;_0x1cd120++){const _0x3033b7=_0x472c95['getRenderD'+'ata'](_0x13ad46,_0x1cd120),_0x36fe04=_0x3033b7['shadowCame'+'ra'];_0x36fe04['renderTarg'+'et']=_0x472c95['_shadowMap']['renderTarg'+'ets'][0x1c0e+0x185*-0xb+0x1*-0xb57],_0x3033b7['shadowView'+'port']['copy'](_0x472c95['cascades'][_0x1cd120]),_0x3033b7['shadowScis'+'sor']['copy'](_0x472c95['cascades'][_0x1cd120]);const _0x2feb6e=_0x36fe04['_node'],_0x4ae9a0=_0x472c95['_node'];_0x2feb6e['setPositio'+'n'](_0x4ae9a0['getPositio'+'n']()),_0x2feb6e['setRotatio'+'n'](_0x4ae9a0['getRotatio'+'n']()),_0x2feb6e['rotateLoca'+'l'](-(0xdc3+-0xcbc+-0xad*0x1),0xa6c+0x1320+-0x1d8c,-0x1f4d+0x9*-0x2bb+-0x1bf0*-0x2);const _0x408a54=_0x1cd120===0x1206+-0x1bdc*-0x1+0x2*-0x16f1?_0x101f25:_0x472c95['_shadowCas'+'cadeDistan'+'ces'][_0x1cd120-(0x9eb*0x1+0xfb7+-0x19a1)],_0x47df89=_0x472c95['_shadowCas'+'cadeDistan'+'ces'][_0x1cd120],_0x51d401=_0x13ad46['getFrustum'+'Corners'](_0x408a54,_0x47df89);Ti['set'](-0x14cc+0x1b80+0x23c*-0x3,-0x250d+0x1f93+0x2bd*0x2,-0x53*-0x75+-0x1fa2+0x1*-0x64d);const _0x2bd7c5=_0x13ad46['node']['getWorldTr'+'ansform']();for(let _0x2712dd=0x245d+-0x156e*0x1+-0xeef;_0x2712dd<-0x3*0x35f+0x12fb+-0x8d6;_0x2712dd++)_0x2bd7c5['transformP'+'oint'](_0x51d401[_0x2712dd],_0x51d401[_0x2712dd]),Ti['add'](_0x51d401[_0x2712dd]);Ti['mulScalar']((-0x126f+-0x244c+0x36bc)/(-0xc1b+0x1*0x2429+-0x1806*0x1));let _0x42b08c=-0x37*-0x29+-0x1*0x4e1+0x1*-0x3ee;for(let _0x49c4e8=-0x6b*0x2b+0x12c4+-0xcb;_0x49c4e8<-0x2*0xf67+-0x2fb+0x21d1;_0x49c4e8++){const _0x2bb841=_0x51d401[_0x49c4e8]['sub'](Ti)['length']();_0x2bb841>_0x42b08c&&(_0x42b08c=_0x2bb841);}const _0x5dd913=_0x2feb6e['right'],_0x1cf5f0=_0x2feb6e['up'],_0xc48788=_0x2feb6e['forward'],_0x2e616c=(-0xfca+-0x1256*-0x1+-0x28c+0.25)*_0x472c95['_shadowRes'+'olution']/_0x42b08c,_0x29365b=Math['ceil'](Ti['dot'](_0x1cf5f0)*_0x2e616c)/_0x2e616c,_0x2d406f=Math['ceil'](Ti['dot'](_0x5dd913)*_0x2e616c)/_0x2e616c,_0x39b44a=_0x1cf5f0['mulScalar'](_0x29365b),_0x3f5847=_0x5dd913['mulScalar'](_0x2d406f),_0x5db7fc=Ti['dot'](_0xc48788),_0x4cf96e=_0xc48788['mulScalar'](_0x5db7fc);Ti['add2'](_0x39b44a,_0x3f5847)['add'](_0x4cf96e),_0x2feb6e['setPositio'+'n'](Ti),_0x2feb6e['translateL'+'ocal'](-0x1c0c+-0x1cf*-0x4+0x14d0,0x297*0xd+-0x6c*-0x4b+0x1*-0x414f,0x40c8c+0xaa490+0x9124),_0x36fe04['nearClip']=-0x46c+0xdd6+-0x96a+0.01,_0x36fe04['farClip']=0x1cbc04+0x32a7c3+-0x30df47,_0x36fe04['orthoHeigh'+'t']=_0x42b08c,this['renderer']['updateCame'+'raFrustum'](_0x36fe04),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x31dbb6,_0x472c95,_0x3033b7['visibleCas'+'ters'],_0x36fe04,_0x18b35c);const _0x2adc23=0x3*0x3f4+0x407*0x9+-0x2f*0x106<<_0x1cd120,_0x54931a=_0x3033b7['visibleCas'+'ters'],_0x484610=_0x54931a['length'];let _0x3ecb28=-0x22b3+0x18c+-0xcf*-0x29;for(let _0x51155c=0xa*-0x268+-0x1955+0x3165;_0x51155c<_0x484610;_0x51155c++){const _0x25c028=_0x54931a[_0x51155c];_0x25c028['shadowCasc'+'adeMask']&_0x2adc23&&(_0x54931a[_0x3ecb28++]=_0x25c028,_0x3ecb28===0x1*0x33d+0x59*0x20+-0xe5c?lc['copy'](_0x25c028['aabb']):lc['add'](_0x25c028['aabb']));}_0x484610!==_0x3ecb28&&(_0x54931a['length']=_0x3ecb28),H_['copy'](_0x2feb6e['getWorldTr'+'ansform']())['invert']();const _0x1f9452=Nb(H_,lc['getMin'](),lc['getMax']());_0x2feb6e['translateL'+'ocal'](0x1*-0x21c7+0x1e0e*-0x1+0x1a3*0x27,-0x5*0x613+0x1244*0x2+-0x629,_0x1f9452['max']+(0x1*-0x1f6a+0x690+0x2*0xc6d+0.1)),_0x36fe04['farClip']=_0x1f9452['max']-_0x1f9452['min']+(-0x57*0x4c+0x107e*0x1+-0x2*-0x4ab+0.2),_0x3033b7['projection'+'Compensati'+'on']=_0x42b08c;}}['generateSp'+'litDistanc'+'es'](_0x34f30d,_0x5c38d7,_0x530835){_0x34f30d['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x530835);for(let _0x3eeb1b=-0x1a*0x9f+0x6*-0x2bf+0x20a1;_0x3eeb1b<_0x34f30d['numCascade'+'s'];_0x3eeb1b++){const _0x40b1be=_0x3eeb1b/_0x34f30d['numCascade'+'s'],_0x409809=_0x5c38d7+(_0x530835-_0x5c38d7)*_0x40b1be,_0x59f527=_0x5c38d7*(_0x530835/_0x5c38d7)**_0x40b1be,_0x1ae079=Y['lerp'](_0x409809,_0x59f527,_0x34f30d['cascadeDis'+'tribution']);_0x34f30d['_shadowCas'+'cadeDistan'+'ces'][_0x3eeb1b-(-0x1d26*0x1+-0x1291+0x2fb8)]=_0x1ae079;}}['getLightRe'+'nderPass'](_0x791611,_0x51f5e0){w['assert'](_0x791611&&_0x791611['_type']===ve);let _0x14f790=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x791611)){const _0x43eab0=_0x791611['numShadowF'+'aces'],_0x292a2a=_0x791611['shadowUpda'+'teOverride'+'s'];let _0x5895f3=!(-0x14b1*-0x1+0x24*-0x4a+-0xa49),_0x4d4536;for(let _0x2d5ea7=0x1326+-0x18a5+0x57f;_0x2d5ea7<_0x43eab0;_0x2d5ea7++)(_0x292a2a==null?void(0x613+0x8a5*-0x2+0xb37):_0x292a2a[_0x2d5ea7])===Ps&&(_0x5895f3=!(-0x15c8+0x22*0x3+0xdb*0x19)),_0x4d4536=this['shadowRend'+'erer']['prepareFac'+'e'](_0x791611,_0x51f5e0,_0x2d5ea7);_0x14f790=new Fb(this['device'],this['shadowRend'+'erer'],_0x791611,_0x51f5e0,_0x5895f3),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x14f790,_0x4d4536,_0x5895f3);}return _0x14f790;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x23df+0x1bce+-0x3fab),lo=new re(0x1fb4+-0x14aa*-0x1+-0x77b*0x7,-0x77*0x1+0x26b6+0x7a6*-0x5,0x1*-0x1955+0x1e10+0x7*-0xad,-0xfb*0x1b+-0x37*-0x15+0x15f6),X_=new te();function Ub(_0x595880,_0x4ad10d){return Math['exp'](-(_0x595880*_0x595880)/((0x12a+0x1b37*-0x1+0x7*0x3b9)*_0x4ad10d*_0x4ad10d));}function Bb(_0x343d2e){const _0x35da0e=(_0x343d2e-(-0x218b+0x15e4+-0xba8*-0x1))/(-0x1*0x1e15+0x1b3a+0x2e1),_0x1b0be6=(_0x343d2e-(-0x21c+0x4db+-0x2be))*(-0x1bd+0x213b+-0x8b*0x3a+0.5),_0x35177a=new Array(_0x343d2e);let _0x67b026=0x4*-0x556+0x941*0x1+0xc17;for(let _0x5f034d=0x1415+-0x1bb4+0x79f;_0x5f034d<_0x343d2e;++_0x5f034d)_0x35177a[_0x5f034d]=Ub(_0x5f034d-_0x1b0be6,_0x35da0e),_0x67b026+=_0x35177a[_0x5f034d];for(let _0x32104f=0x1333+-0x50d*0x3+-0xe*0x4a;_0x32104f<_0x343d2e;++_0x32104f)_0x35177a[_0x32104f]/=_0x67b026;return _0x35177a;}class Cv{constructor(_0x1f1ca0,_0x1a4972){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x1f1ca0['device'],this['renderer']=_0x1f1ca0,this['lightTextu'+'reAtlas']=_0x1a4972);const _0x30dfa8=this['device']['scope'];this['sourceId']=_0x30dfa8['resolve']('source'),this['pixelOffse'+'tId']=_0x30dfa8['resolve']('pixelOffse'+'t'),this['weightId']=_0x30dfa8['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x30dfa8['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0xe97+0x1cb1+-0x4b3*0x3),!(-0x1*0x543+0x13f1+-0xead),!(0x2af+0x2*-0x8ad+0xeac),!(0x226b+-0x25fb+-0x53*-0xb));}static['createShad'+'owCamera'](_0xc5ee8d,_0x25b8bc,_0x3ad5c9){const _0x1f4892=Wn['create']('ShadowCame'+'ra',_0x25b8bc,_0x3ad5c9),_0x55e266=qi['get'](_0xc5ee8d);w['assert'](_0x55e266);const _0x1c2676=(_0x55e266==null?void(-0xbe6+-0x1cb+-0x2bd*-0x5):_0x55e266['vsm'])??!(-0x72f*0x3+0x2566+-0x34*0x4e),_0x3a2663=(_0x55e266==null?void(0x17a3+0x63*-0x1f+-0x7*0x1aa):_0x55e266['pcf'])??!(0x38d*0x1+0x125*-0x21+0x2239);return _0x1c2676?_0x1f4892['clearColor']=new ie(0x9*0x422+-0xd87*-0x1+-0xa25*0x5,-0x11*-0x243+0x1*-0x1c33+-0xa40,-0x25e7*-0x1+0x976+-0x2f5d,0x1ecd+0x3*-0x17+-0x4*0x7a2):_0x1f4892['clearColor']=new ie(0x1*0x1e15+0xa*-0x2f3+-0x96,0x304*-0x2+-0x246f+0x1*0x2a78,0xd26+-0x1*0x2623+0x18fe,0x26*0xf9+0x608+-0x5*0x899),_0x1f4892['clearDepth'+'Buffer']=!(0x3*0x3d+0x514+0x1*-0x5cb),_0x1f4892['clearStenc'+'ilBuffer']=!(0x5*-0x67a+0x2034+0x2f),_0x1f4892['clearColor'+'Buffer']=!_0x3a2663,_0x1f4892;}['_cullShado'+'wCastersIn'+'ternal'](_0x31da5c,_0x39ff1e,_0x31dc69){const _0x1c7c5b=_0x31da5c['length'];for(let _0x565aa1=0x11f1+0x2a8+-0x1499*0x1;_0x565aa1<_0x1c7c5b;_0x565aa1++){const _0x29453a=_0x31da5c[_0x565aa1];_0x29453a['castShadow']&&(!_0x29453a['cull']||_0x29453a['_isVisible'](_0x31dc69))&&(_0x29453a['visibleThi'+'sFrame']=!(-0x20*0x5d+0x1fc8+-0x1428),_0x39ff1e['push'](_0x29453a));}}['cullShadow'+'Casters'](_0x92cc9e,_0x38d681,_0xf70cc5,_0x1aa42f,_0x496311){var _0xccf55e,_0x243e0f;if((_0xccf55e=this['renderer']['scene'])==null||_0xccf55e['fire'](mv,_0x1aa42f),_0xf70cc5['length']=-0x1241+0x1*0x102d+0xe*0x26,_0x496311)this['_cullShado'+'wCastersIn'+'ternal'](_0x496311,_0xf70cc5,_0x1aa42f);else{const _0x3af3bd=_0x92cc9e['layerList'],_0x494238=_0x3af3bd['length'];for(let _0x490d43=-0x1822*0x1+0x2544+0x691*-0x2;_0x490d43<_0x494238;_0x490d43++){const _0x4ae11d=_0x3af3bd[_0x490d43];_0x4ae11d['_lightsSet']['has'](_0x38d681)&&(rf['has'](_0x4ae11d)||(rf['add'](_0x4ae11d),this['_cullShado'+'wCastersIn'+'ternal'](_0x4ae11d['shadowCast'+'ers'],_0xf70cc5,_0x1aa42f)));}rf['clear']();}_0xf70cc5['sort'](this['sortCompar'+'eShader']),(_0x243e0f=this['renderer']['scene'])==null||_0x243e0f['fire'](_v,_0x1aa42f);}['sortCompar'+'eShader'](_0xcac885,_0x41cbe9){const _0x328758=_0xcac885['_sortKeySh'+'adow'],_0x32c7f0=_0x41cbe9['_sortKeySh'+'adow'];return _0x328758===_0x32c7f0?_0x41cbe9['mesh']['id']-_0xcac885['mesh']['id']:_0x32c7f0-_0x328758;}['setupRende'+'rState'](_0x5afd2e,_0x2ed0cc){const _0x50afe0=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x2ed0cc['_isPcf']:_0x2ed0cc['_isPcf']&&_0x2ed0cc['_type']!==Ke;_0x5afd2e['setBlendSt'+'ate'](_0x50afe0?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x5afd2e['setDepthSt'+'ate'](_0x2ed0cc['shadowDept'+'hState']),_0x5afd2e['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x5d98b6,_0x1f2a5f,_0x5b1b80,_0x17ef1b){const _0x17f39e=_0x1f2a5f['_node'];_0x5d98b6['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x17f39e['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x5d98b6['attenuatio'+'nEnd'])),W_['setTRS'](_0x17f39e['getPositio'+'n'](),_0x17f39e['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x1f2a5f['projection'+'Matrix'],W_);const _0x239295=_0x5b1b80['shadowView'+'port'];_0x1f2a5f['rect']=_0x239295,_0x1f2a5f['scissorRec'+'t']=_0x5b1b80['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x239295['x'],_0x239295['y'],_0x239295['z'],_0x239295['w']),_0x5b1b80['shadowMatr'+'ix']['mul2'](X_,$_),_0x5d98b6['_type']===ve&&_0x5d98b6['_shadowMat'+'rixPalette']['set'](_0x5b1b80['shadowMatr'+'ix']['data'],_0x17ef1b*(0x169e+0x1743+-0x2dd1));}['getShadowP'+'ass'](_0x592f8a){var _0x2aad12;const _0x2173ac=_0x592f8a['_type'],_0x1d0904=_0x592f8a['_shadowTyp'+'e'];let _0x29f91d=(_0x2aad12=this['shadowPass'+'Cache'][_0x2173ac])==null?void(-0x4b*0x45+0x227*-0x2+0x1885):_0x2aad12[_0x1d0904];if(!_0x29f91d){const _0x1e494a='ShadowPass'+'_'+_0x2173ac+'_'+_0x1d0904;_0x29f91d=Si['get'](this['device'])['allocate'](_0x1e494a,{'isShadow':!(0x6c8+-0x8c*0x39+0x7*0x37c),'lightType':_0x2173ac,'shadowType':_0x1d0904}),this['shadowPass'+'Cache'][_0x2173ac]||(this['shadowPass'+'Cache'][_0x2173ac]=[]),this['shadowPass'+'Cache'][_0x2173ac][_0x1d0904]=_0x29f91d;}return _0x29f91d['index'];}['submitCast'+'ers'](_0x1fd469,_0x1a53c5,_0x220f68){var _0x5020af;const _0x13139c=this['device'],_0x389a22=this['renderer'],_0x168b7f=_0x389a22['scene'],_0x2415b8=0x1647+-0x258c+0xf46<<cm,_0x2cce67=this['getShadowP'+'ass'](_0x1a53c5),_0x454e11=_0x220f68['shaderPara'+'ms'],_0x4907ea=_0x220f68['renderTarg'+'et']['flipY']?-(0xbfe+-0x1fbb*0x1+-0x13*-0x10a):0x487+-0x6f6+-0x270*-0x1,_0x194d2a=_0x1fd469['length'];for(let _0x230941=-0xf51+-0x2623+0x3574;_0x230941<_0x194d2a;_0x230941++){const _0xb32a5=_0x1fd469[_0x230941],_0x99fbbc=_0xb32a5['mesh'],_0xacdeba=_0xb32a5['instancing'+'Data'];if(_0xacdeba&&_0xacdeba['count']<=-0x2195+0xdfd+0x1398)continue;_0xb32a5['ensureMate'+'rial'](_0x13139c);const _0x565b8b=_0xb32a5['material'];Q['pushGpuMar'+'ker'](_0x13139c,'Node:\x20'+_0xb32a5['node']['name']+(',\x20Material'+':\x20')+_0x565b8b['name']),_0x389a22['setBaseCon'+'stants'](_0x13139c,_0x565b8b),_0x389a22['setSkinnin'+'g'](_0x13139c,_0xb32a5),_0x565b8b['dirty']&&(_0x565b8b['updateUnif'+'orms'](_0x13139c,_0x168b7f),_0x565b8b['dirty']=!(-0x2678+0x1dd0+-0x3*-0x2e3)),_0x389a22['setupCullM'+'ode'](!(0x5*-0x161+-0x7d1*-0x1+-0xec),_0x4907ea,_0xb32a5),_0x565b8b['setParamet'+'ers'](_0x13139c),_0xb32a5['setParamet'+'ers'](_0x13139c,_0x2415b8);const _0xf08178=_0xb32a5['getShaderI'+'nstance'](_0x2cce67,0x1*0x9cd+-0x1*0x1b7a+0x11ad,_0x168b7f,_0x454e11,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x5c50b3=_0xf08178['shader'];if(w['assert'](_0x5c50b3,'no\x20shader\x20'+'for\x20pass\x20'+_0x2cce67,_0x565b8b),_0x5c50b3['failed'])continue;_0xb32a5['_sortKeySh'+'adow']=_0x5c50b3['id'],_0x13139c['setShader'](_0x5c50b3),_0x389a22['setVertexB'+'uffers'](_0x13139c,_0x99fbbc),_0x389a22['setMorphin'+'g'](_0x13139c,_0xb32a5['morphInsta'+'nce']),_0xacdeba&&_0x13139c['setVertexB'+'uffer'](_0xacdeba['vertexBuff'+'er']),_0x389a22['setMeshIns'+'tanceMatri'+'ces'](_0xb32a5),_0x389a22['setupMeshU'+'niformBuff'+'ers'](_0xf08178);const _0x22965e=_0xb32a5['renderStyl'+'e'],_0x29a815=(_0x5020af=_0xb32a5['indirectDa'+'ta'])==null?void(-0x197b*0x1+0x3*0x985+-0x2*0x18a):_0x5020af['get'](_0x220f68);_0x13139c['draw'](_0x99fbbc['primitive'][_0x22965e],_0x99fbbc['indexBuffe'+'r'][_0x22965e],_0xacdeba==null?void(-0x17a5+0x2335*-0x1+0x3ada):_0xacdeba['count'],_0x29a815),_0x389a22['_shadowDra'+'wCalls']++,_0xacdeba&&_0x389a22['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x13139c);}}['needsShado'+'wRendering'](_0x4b0149){const _0x97ce3a=_0x4b0149['enabled']&&_0x4b0149['castShadow'+'s']&&_0x4b0149['shadowUpda'+'teMode']!==Ps&&_0x4b0149['visibleThi'+'sFrame'];return _0x4b0149['shadowUpda'+'teMode']===xr&&(_0x4b0149['shadowUpda'+'teMode']=Ps),_0x97ce3a&&(this['renderer']['_shadowMap'+'Updates']+=_0x4b0149['numShadowF'+'aces']),_0x97ce3a;}['getLightRe'+'nderData'](_0x1afeff,_0x443347,_0x1d2a55){return _0x1afeff['getRenderD'+'ata'](_0x1afeff['_type']===ve?_0x443347:null,_0x1d2a55);}['setupRende'+'rPass'](_0x3cdb5b,_0xf127cb,_0x16a0b5){const _0x55edfc=_0xf127cb['renderTarg'+'et'];_0x3cdb5b['init'](_0x55edfc),_0x3cdb5b['depthStenc'+'ilOps']['clearDepth'+'Value']=0x1a8f+-0x1471+0x61d*-0x1,_0x3cdb5b['depthStenc'+'ilOps']['clearDepth']=_0x16a0b5,_0x55edfc['depthBuffe'+'r']?_0x3cdb5b['depthStenc'+'ilOps']['storeDepth']=!(0x5cc+-0x24f6+0x1f2a):(_0x3cdb5b['colorOps']['clearValue']['copy'](_0xf127cb['clearColor']),_0x3cdb5b['colorOps']['clear']=_0x16a0b5,_0x3cdb5b['depthStenc'+'ilOps']['storeDepth']=!(-0x1675*-0x1+0x6ee+0x1*-0x1d62)),_0x3cdb5b['requiresCu'+'bemaps']=!(-0x1bce+-0x1*-0x112d+0xaa2);}['prepareFac'+'e'](_0x32ac3,_0xd60aa2,_0x2d8548){const _0x3eea94=_0x32ac3['_type'],_0x4af1a7=this['getLightRe'+'nderData'](_0x32ac3,_0xd60aa2,_0x2d8548)['shadowCame'+'ra'],_0x1c7785=_0x3eea94===ve?-0x2*0xf91+-0x266b+0x458d:_0x2d8548;return _0x4af1a7['renderTarg'+'et']=_0x32ac3['_shadowMap']['renderTarg'+'ets'][_0x1c7785],_0x4af1a7;}['renderFace'](_0x504701,_0x37c574,_0x34a322,_0x501a82,_0x1f9229=!(-0x8*0x12f+-0x3*-0x3bf+-0x1*0x1c5)){const _0x584cdc=this['device'],_0x16d6d1=de();Q['pushGpuMar'+'ker'](_0x584cdc,'SHADOW\x20'+_0x504701['_node']['name']+'\x20FACE\x20'+_0x34a322);const _0x3b629b=this['getLightRe'+'nderData'](_0x504701,_0x37c574,_0x34a322),_0x83cfaf=_0x3b629b['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x504701,_0x83cfaf,_0x3b629b,_0x34a322);const _0x5ef360=_0x83cfaf['renderTarg'+'et'],_0x21ad24=this['renderer'];_0x21ad24['setCameraU'+'niforms'](_0x83cfaf,_0x5ef360),_0x584cdc['supportsUn'+'iformBuffe'+'rs']&&_0x21ad24['setupViewU'+'niformBuff'+'ers'](_0x3b629b['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x1f9229?(_0x21ad24['setupViewp'+'ort'](_0x83cfaf,_0x5ef360),_0x501a82&&_0x21ad24['clear'](_0x83cfaf)):_0x21ad24['clearView'](_0x83cfaf,_0x5ef360,!(0x6e1*-0x1+-0x1b73+0x2254),!(-0x38*0x1d+-0x26*-0x47+0x431*-0x1)),this['setupRende'+'rState'](_0x584cdc,_0x504701),this['submitCast'+'ers'](_0x3b629b['visibleCas'+'ters'],_0x504701,_0x83cfaf),Q['popGpuMark'+'er'](_0x584cdc),_0x21ad24['_shadowMap'+'Time']+=de()-_0x16d6d1;}['render'](_0x18ea52,_0x2ed34c,_0x29bde5=!(0x1769+0xa65+-0x21ce)){if(this['needsShado'+'wRendering'](_0x18ea52)){const _0x183c99=_0x18ea52['numShadowF'+'aces'];for(let _0x383557=0x253f+0x197d+-0x3ebc;_0x383557<_0x183c99;_0x383557++)this['prepareFac'+'e'](_0x18ea52,_0x2ed34c,_0x383557),this['renderFace'](_0x18ea52,_0x2ed34c,_0x383557,!(-0x39a*-0x9+-0x314+-0x1d56),_0x29bde5);this['renderVsm'](_0x18ea52,_0x2ed34c);}}['renderVsm'](_0x37ac30,_0x5837cd){_0x37ac30['_isVsm']&&_0x37ac30['_vsmBlurSi'+'ze']>-0x1b31*0x1+0xb76+-0x35*-0x4c&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x37ac30['_type']===ve)&&this['applyVsmBl'+'ur'](_0x37ac30,_0x5837cd);}['getVsmBlur'+'Shader'](_0x1893bb,_0x453382){const _0x20fc16=this['blurVsmSha'+'der'];let _0x2ca1b3=_0x20fc16[_0x1893bb][_0x453382];if(!_0x2ca1b3){this['blurVsmWei'+'ghts'][_0x453382]=Bb(_0x453382);const _0x32660d=new Map();_0x32660d['set']('{SAMPLES}',_0x453382),_0x1893bb===-0x8a*-0x23+0xba*0x5+-0x167f&&_0x32660d['set']('GAUSS',''),_0x2ca1b3=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x1893bb+_0x453382,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x32660d}),_0x20fc16[_0x1893bb][_0x453382]=_0x2ca1b3;}return _0x2ca1b3;}['applyVsmBl'+'ur'](_0x4dea9b,_0x16edd2){const _0x5189da=this['device'];Q['pushGpuMar'+'ker'](_0x5189da,'VSM\x20'+_0x4dea9b['_node']['name']),_0x5189da['setBlendSt'+'ate'](pt['NOBLEND']);const _0x3b4b06=_0x4dea9b['getRenderD'+'ata'](_0x4dea9b['_type']===ve?_0x16edd2:null,0x11*0x127+0x1*-0x12be+-0x7*0x1f)['shadowCame'+'ra']['renderTarg'+'et'],_0x1fe313=this['renderer']['shadowMapC'+'ache']['get'](_0x5189da,_0x4dea9b),_0x443867=_0x1fe313['renderTarg'+'ets'][-0x4f+-0x13*0xeb+0x11c0],_0x16529c=_0x4dea9b['vsmBlurMod'+'e'],_0x2b72d6=_0x4dea9b['_vsmBlurSi'+'ze'],_0x1f0afa=this['getVsmBlur'+'Shader'](_0x16529c,_0x2b72d6);lo['z']=_0x4dea9b['_shadowRes'+'olution']-(-0x485*0x3+-0x11e7*-0x2+-0x163d),lo['w']=lo['z'],this['sourceId']['setValue'](_0x3b4b06['colorBuffe'+'r']),Fr[0x1d2c+-0x9e7+-0x1345]=(-0x2631+-0x3*-0x1bf+0x20f5*0x1)/_0x4dea9b['_shadowRes'+'olution'],Fr[0x8c7+-0x1a13+0x114d*0x1]=0x23de+0x1*0x2228+-0x4606,this['pixelOffse'+'tId']['setValue'](Fr),_0x16529c===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x2b72d6]),Ar(_0x5189da,_0x443867,_0x1f0afa,null,lo),this['sourceId']['setValue'](_0x443867['colorBuffe'+'r']),Fr[0x934+-0x23ad+0x1a7a]=Fr[-0xc*-0xac+0x1eee+0x592*-0x7],Fr[0x68*0x14+-0x63e+-0x1e2]=-0x14e*-0x11+0x26f4+-0x272*0x19,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x5189da,_0x3b4b06,_0x1f0afa,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x4dea9b,_0x1fe313),Q['popGpuMark'+'er'](_0x5189da);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x3ff87a){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x3ff87a;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x2c91f1=>{_0x2c91f1['destroy']();}),this['_allocated']['length']=-0x20bd+-0x2*-0xc53+0x817;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x245d78=new cu(this['device']);_0x245d78['name']='ClusterEmp'+'ty',_0x245d78['update']([]),this['_empty']=_0x245d78;}return this['_empty'];}['assign'](_0x25132b){const _0x1c9741=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0xd7*-0x1a+-0x1fa3+0x9cd,this['_clusters']['clear']();const _0x309485=_0x25132b['length'];for(let _0x225431=0x2*0xf58+-0x1*0x1c8d+0x1*-0x223;_0x225431<_0x309485;_0x225431++){const _0x42350a=_0x25132b[_0x225431]['renderActi'+'ons'];if(_0x42350a){const _0x78762c=_0x42350a['length'];for(let _0x247296=0x2*-0xb3a+0x3b*0x10+0x12c4;_0x247296<_0x78762c;_0x247296++){const _0x55de43=_0x42350a[_0x247296];_0x55de43['lightClust'+'ers']=null;const _0x2db0c7=_0x55de43['layer'];if(_0x2db0c7['hasCluster'+'edLights']&&_0x2db0c7['meshInstan'+'ces']['length']){const _0x1ba58d=_0x2db0c7['getLightId'+'Hash'](),_0x28ce67=this['_clusters']['get'](_0x1ba58d);let _0x216804=_0x28ce67==null?void(0x285+-0x2f6*-0x1+-0x57b):_0x28ce67['lightClust'+'ers'];_0x216804||(_0x216804=cc['pop']()??new cu(this['device']),Ea['setName'](_0x216804,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x216804),this['_clusters']['set'](_0x1ba58d,_0x55de43)),_0x55de43['lightClust'+'ers']=_0x216804;}_0x55de43['lightClust'+'ers']||(_0x55de43['lightClust'+'ers']=_0x1c9741);}}}cc['forEach'](_0x4dedef=>_0x4dedef['destroy']()),cc['length']=0x45*-0x5b+-0x2245+-0x8e*-0x6a;}['update'](_0x23a551,_0x427d46){this['assign'](_0x23a551),this['_clusters']['forEach'](_0x1faefa=>{const _0x35c528=_0x1faefa['layer'];_0x1faefa['lightClust'+'ers']['update'](_0x35c528['clusteredL'+'ightsSet'],_0x427d46);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x3aea93,_0x2f4755){super(_0x3aea93),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x1388+0x1*0xc91+-0x68*0x4f)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x2f4755,this['requiresCu'+'bemaps']=!(0x6*0xf2+0x62*0x29+-0x155d),this['blitTextur'+'eId']=_0x3aea93['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x3aea93['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x3aea93['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x54d417,_0x24548f,_0x2548d7;(_0x54d417=this['_quadRende'+'rer2D'])==null||_0x54d417['destroy'](),this['_quadRende'+'rer2D']=null,(_0x24548f=this['_quadRende'+'rerCube'])==null||_0x24548f['destroy'](),this['_quadRende'+'rerCube']=null,(_0x2548d7=this['_evtDevice'+'Restored'])==null||_0x2548d7['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x4cddfb,_0x5c69ab){w['assert'](_0x4cddfb);const _0x2c96b7=new pm(_0x4cddfb['device'],_0x5c69ab);return _0x2c96b7['init'](_0x4cddfb),_0x2c96b7['colorOps']['clear']=!(0x9bf+0xc*0xc5+0x1*-0x12fa),_0x2c96b7['depthStenc'+'ilOps']['clearDepth']=!(0x2b*0x31+0x140b*0x1+-0x1c45),_0x2c96b7;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x1*0x150b+-0x35*-0x50+-0x259b);}['update'](_0x2e1a31){const _0xe7ae6c=this['_filteredL'+'ights'];this['filter'](_0x2e1a31,_0xe7ae6c),this['executeEna'+'bled']=_0xe7ae6c['length']>0x14c2*-0x1+-0x6*0x4eb+-0x2*-0x1922;}['filter'](_0x2d5a8c,_0x8c7ca3){for(let _0x5518bf=-0x28*0x79+0x1e29+0x2b*-0x43;_0x5518bf<_0x2d5a8c['length'];_0x5518bf++){const _0x275766=_0x2d5a8c[_0x5518bf];_0x275766['_type']!==ve&&_0x275766['atlasViewp'+'ortAllocat'+'ed']&&(!_0x275766['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x275766['enabled']&&_0x275766['cookie']&&_0x275766['visibleThi'+'sFrame']&&_0x8c7ca3['push'](_0x275766));}this['_forceCopy']=!(0x21c9+0x4a*-0x5b+-0x16*0x57);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0xf6f2a2=0xe60+0x3e3*-0x7+0xf*0xdb;_0xf6f2a2<-0x979*-0x2+-0xd*-0x1af+0x151*-0x1f;_0xf6f2a2++){const _0x21064c=Wn['create'](null,Ke,_0xf6f2a2),_0x14504d=_0x21064c['projection'+'Matrix'],_0x111b61=_0x21064c['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0xf6f2a2]=new te()['mul2'](_0x14504d,_0x111b61)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x3fdc1a=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x3fdc1a);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x3ce5ba=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x3ce5ba);}return this['_quadRende'+'rerCube'];}['execute'](){const _0xe9dec3=this['device'];_0xe9dec3['setBlendSt'+'ate'](pt['NOBLEND']),_0xe9dec3['setCullMod'+'e'](bt),_0xe9dec3['setDepthSt'+'ate'](Yt['NODEPTH']),_0xe9dec3['setStencil'+'State']();const _0x1e34ba=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x48a5bd=this['_cubeSlots'+'Offsets'],_0xb25d33=this['_filteredL'+'ights'];for(let _0x145171=-0x1*-0x129b+0x5ac+0x71*-0x37;_0x145171<_0xb25d33['length'];_0x145171++){const _0x4213e3=_0xb25d33[_0x145171];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x4213e3['_node']['name']);const _0x1c0d86=_0x4213e3['numShadowF'+'aces'],_0x10dba7=_0x1c0d86>-0xa58+0x51*-0x67+0x2af0?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x1c0d86>0x1704+-0x19f9+-0x2*-0x17b&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x4213e3['cookie']);for(let _0x426402=0x8da+-0xeda*-0x1+-0x17b4*0x1;_0x426402<_0x1c0d86;_0x426402++){if(rr['copy'](_0x4213e3['atlasViewp'+'ort']),_0x1c0d86>0x252d+-0x162a+-0xf02){const _0xff63fa=rr['z']/(-0x757+0x9f2+-0x298),_0x9bccef=_0x48a5bd[_0x426402];rr['x']+=_0xff63fa*_0x9bccef['x'],rr['y']+=_0xff63fa*_0x9bccef['y'],rr['z']=_0xff63fa,rr['w']=_0xff63fa,this['invViewPro'+'jId']['setValue'](af[_0x426402]['data']);}rr['mulScalar'](_0x1e34ba),_0x10dba7['render'](rr);}Q['popGpuMark'+'er'](_0xe9dec3);}_0xb25d33['length']=-0x1101+-0x1c38+0x2d39;}}class Vb extends ys{constructor(_0x5124ec,_0x1bd631,_0x13aa3a){super(_0x5124ec),this['requiresCu'+'bemaps']=!(0x243+0x2*0x1025+0x86*-0x42),this['shadowRend'+'erer']=_0x1bd631,this['shadowRend'+'ererLocal']=_0x13aa3a;}['update'](_0x393901){const _0x478f88=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x11b7dd=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x478f88,_0x393901),_0x105abe=_0x478f88['length'];this['enabled']=_0x105abe>-0x35*-0x95+-0x1*0x1143+-0xd96,_0x105abe&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x11b7dd,!(0x12e4+0x1df3+-0x30d6));}['execute'](){const _0x5c94e6=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x23580e=_0x5c94e6['length'];for(let _0xbf930=0x20fb+-0x3df+-0x1d1c;_0xbf930<_0x23580e;_0xbf930++){const _0x45adbc=_0x5c94e6[_0xbf930];for(let _0x593f70=0xd93+0x25fa+-0x338d;_0x593f70<_0x45adbc['numShadowF'+'aces'];_0x593f70++)this['shadowRend'+'erer']['renderFace'](_0x45adbc,null,_0x593f70,!(-0x2479+0xda1+-0x16d8*-0x1));}_0x5c94e6['length']=0xe69+0x1*0xe57+-0x1cc0;}}class Gb extends ys{constructor(_0x332390,_0x2de475,_0x4adc04,_0x3ee5ea,_0x10b401){super(_0x332390),this['renderer']=_0x2de475,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x10b401['cookieRend'+'erTarget'],_0x10b401['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x332390,_0x4adc04,_0x3ee5ea),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x46788f,_0x1a0fd2,_0xbe8cc4,_0x31882f,_0x484eda){this['frameGraph']=_0x46788f,this['cookiesRen'+'derPass']['enabled']=_0xbe8cc4,_0xbe8cc4&&this['cookiesRen'+'derPass']['update'](_0x31882f),this['shadowRend'+'erPass']['enabled']=_0x1a0fd2,_0x1a0fd2&&this['shadowRend'+'erPass']['update'](_0x484eda);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x19b302=de(),{renderer:_0x12df13}=this,{scene:_0x147873}=_0x12df13;_0x12df13['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x147873['lighting']),_0x12df13['_lightClus'+'tersTime']+=de()-_0x19b302,_0x12df13['_lightClus'+'ters']=_0x12df13['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x4b*0x3d+-0x64c+-0xb93;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x23c0+-0x307+-0x20b8,-(-0x26c4+0x2*0xa2+0x2581*0x1),0xbe6+-0xd12+0x12d),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x427*-0x3+-0x24e3+-0x1*-0x3159,-0x14*0xf9+0x1f5a+-0xbe6,0x1*-0x15fa+-0x5*-0x503+0x107*-0x3,-0x853+-0x15*0x2+0x87d,0x1*-0x2263+0x2a2+-0x1fc1*-0x1,0x1*-0x1ccc+0xb*-0x191+0x18*0x1eb,0x1*-0x1f43+-0x1*0x21e5+0x116*0x3c,-0x49*-0x7f+-0x1dc+-0x225b,0x12ac+-0xb9*0x15+0x37f*-0x1,-0x1961+-0x1*-0x150c+0x1*0x455,0x238+-0x1a4e*-0x1+-0x2*0xe43+0.5,0xc60+-0x1730+0xad0,0xe5e*0x1+0x189e+-0x26fc,-0x48b*0x5+0x5*-0x20f+0x34d*0xa,0x2a*-0xcc+0x438+0x1d40+0.5,0x4a*0x4e+-0x5*0x291+-0x9b6]),K_=[new J(0x2f3+0x1f5b+-0x224e+0.5,0x1966+0x125e*-0x1+0x2d*-0x28+0.333333),new J(0x93*0x2e+-0x17b9*0x1+-0xd*0x35+0.25,-0x1556+0x1e2b*0x1+-0x8d5+0.666667),new J(0x1718+-0x23e1+0xcc9+0.75,0x11b5+-0x20b*-0x1+-0x13c0+0.111111),new J(-0x149d+-0x494+0x1931+0.125,-0x18*-0x2+-0x4*-0x48e+-0x13*0xf8+0.444444),new J(-0x262f+-0x1f72+-0x45a1*-0x1+0.625,-0x5*0x515+-0x1ae5+0x5*0xa76+0.777778),new J(0x1983+0x2*0x61d+-0x1*0x25bd+0.375,-0x1367+-0x1*0xfb5+-0x282*-0xe+0.222222),new J(0x3b9+-0x2*0x9e9+0x1019+0.875,-0x5da+-0xb38+0x1112+0.555556),new J(-0x16be+0x1356*0x1+-0x2*-0x1b4+0.0625,-0x232e+-0x20eb+0x4419+0.888889),new J(-0x189b*-0x1+-0xf1a+-0x3*0x32b+0.5625,0x13*-0x17f+-0x1*0xeb9+-0x2a*-0x107+0.037037),new J(-0x1*-0xa09+-0x1d5*0xf+0x1172+0.3125,-0x9b0+0x15b0+-0xc00+0.37037),new J(-0x342+0x1a86+-0xba2*0x2+0.8125,-0x18bd+-0x1*0x1cdb+-0x6b3*-0x8+0.703704),new J(-0x13e6+-0x1*-0x1fbd+-0x1*0xbd7+0.1875,-0x264a+0x171d+0xf2d+0.148148),new J(-0xd40+-0x24f7*0x1+0x3237+0.6875,0xc*0x180+0x3*-0x45a+-0x2*0x279+0.481481),new J(0x1*0x2615+-0x1b4d+-0xac8+0.4375,0x89*-0x32+-0x21e6*-0x1+-0x724+0.814815),new J(-0x23c1*-0x1+-0x1*-0x3e2+-0x27a3+0.9375,0x169b+-0x1184+0x1*-0x517+0.259259),new J(-0x6b1+-0xf6b+0x2*0xb0e+0.03125,0x39*-0xa4+0x1*0x12e7+0x119d*0x1+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0xdd38f){h(this,'clustersDe'+'bugRendere'+'d',!(-0x1a29+0x2287*-0x1+-0x3cb1*-0x1)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0xe*-0x17f+0x11*0x89+0x1*0xc54)),(this['device']=_0xdd38f,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0xdd38f),this['lightTextu'+'reAtlas']=new Ib(_0xdd38f),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x206f+-0x39f*-0x1+-0x240e,this['_morphTime']=-0x4c9+0x23d6+-0x1f0d,this['_cullTime']=-0xf3d+-0x64b+0x1588,this['_shadowMap'+'Time']=-0x2*-0xf86+0x17*0x65+-0x281f,this['_lightClus'+'tersTime']=0x2189+-0x6e2+-0x1aa7,this['_layerComp'+'ositionUpd'+'ateTime']=-0xcfe+0x1aa6+-0xda8,this['_shadowDra'+'wCalls']=0x217e+-0x1338+-0xe46,this['_skinDrawC'+'alls']=-0x25*0x74+0x1d24*-0x1+0x1c4*0x1a,this['_instanced'+'DrawCalls']=0x25af*-0x1+-0x1feb+0x459a,this['_shadowMap'+'Updates']=0xd3+0xd93+0x61*-0x26,this['_numDrawCa'+'llsCulled']=-0x730+0xa2e+-0x2fe,this['_camerasRe'+'ndered']=-0xd35+-0x49*-0x2a+-0xf*-0x15,this['_lightClus'+'ters']=-0x167*0x2+-0x2*-0xe9e+-0x1*0x1a6e);const _0x5b83ea=_0xdd38f['scope'];this['boneTextur'+'eId']=_0x5b83ea['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x5b83ea['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x5b83ea['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x5b83ea['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x22d*0x1+-0xe4+-0x146),this['viewPosId']=_0x5b83ea['resolve']('view_posit'+'ion'),this['projId']=_0x5b83ea['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x5b83ea['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x5b83ea['resolve']('matrix_vie'+'w'),this['viewId3']=_0x5b83ea['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x5b83ea['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x5b83ea['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x5b83ea['resolve']('tbnBasis'),this['nearClipId']=_0x5b83ea['resolve']('camera_nea'+'r'),this['farClipId']=_0x5b83ea['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x233b+0x250a+-0x4841*0x1),this['cameraPara'+'msId']=_0x5b83ea['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x5b83ea['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0xf3a+0x185b+-0x921),this['blueNoiseJ'+'itterVersi'+'on']=-0x249e*-0x1+0x68*0x2a+0x35ae*-0x1,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x989+0xe60+-0x1*0x17e5),this['blueNoiseJ'+'itterId']=_0x5b83ea['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x5b83ea['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x5b83ea['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x5b83ea['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x5b83ea['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x5b83ea['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x25dc*-0x1+-0x2*0x115f+0x489a),this['morphPosit'+'ionTex']=_0x5b83ea['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x5b83ea['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x5b83ea['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x5b83ea['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x3deb37,_0x1290c1){const _0x3f1502=this['device'],_0x390997=_0x1290c1?_0x1290c1['width']:_0x3f1502['width'],_0x2c669f=_0x1290c1?_0x1290c1['height']:_0x3f1502['height'],_0x1c09f7=_0x3deb37['rect'];let _0x132437=Math['floor'](_0x1c09f7['x']*_0x390997),_0x3ec755=Math['floor'](_0x1c09f7['y']*_0x2c669f),_0x5d431c=Math['floor'](_0x1c09f7['z']*_0x390997),_0x56ce9d=Math['floor'](_0x1c09f7['w']*_0x2c669f);if(_0x3f1502['setViewpor'+'t'](_0x132437,_0x3ec755,_0x5d431c,_0x56ce9d),_0x3deb37['_scissorRe'+'ctClear']){const _0x47319b=_0x3deb37['scissorRec'+'t'];_0x132437=Math['floor'](_0x47319b['x']*_0x390997),_0x3ec755=Math['floor'](_0x47319b['y']*_0x2c669f),_0x5d431c=Math['floor'](_0x47319b['z']*_0x390997),_0x56ce9d=Math['floor'](_0x47319b['w']*_0x2c669f);}_0x3f1502['setScissor'](_0x132437,_0x3ec755,_0x5d431c,_0x56ce9d);}['setCameraU'+'niforms'](_0x5aec2c,_0x1c1398){var _0x47ae8e,_0x18097d;const _0x40d0ba=_0x1c1398==null?void(-0x18f5*0x1+0xe*0xcb+0xddb):_0x1c1398['flipY'];let _0x4504d3=null;if(_0x5aec2c['xr']&&_0x5aec2c['xr']['session']){const _0x2d2db4=((_0x18097d=(_0x47ae8e=_0x5aec2c['_node'])==null?void(0x15*0xf5+0x5*0x70c+0x5*-0xb11):_0x47ae8e['parent'])==null?void(0x2*-0x14e+0x21a*-0x1+-0x12*-0x43):_0x18097d['getWorldTr'+'ansform']())||null;_0x4504d3=_0x5aec2c['xr']['views']['list'];for(let _0x2c7360=0x968+0x65*0x4d+0x23*-0x123;_0x2c7360<_0x4504d3['length'];_0x2c7360++){const _0x34af40=_0x4504d3[_0x2c7360];_0x34af40['updateTran'+'sforms'](_0x2d2db4),_0x5aec2c['frustum']['setFromMat'+'4'](_0x34af40['projViewOf'+'fMat']);}}else{let _0x57a898=_0x5aec2c['projection'+'Matrix'];_0x5aec2c['calculateP'+'rojection']&&_0x5aec2c['calculateP'+'rojection'](_0x57a898,ec);let _0x25cfd7=_0x5aec2c['getProject'+'ionMatrixS'+'kybox']();_0x40d0ba&&(_0x57a898=Hb['mul2'](j_,_0x57a898),_0x25cfd7=Wb['mul2'](j_,_0x25cfd7)),this['device']['isWebGPU']&&(_0x57a898=$b['mul2'](Y_,_0x57a898),_0x25cfd7=Xb['mul2'](Y_,_0x25cfd7));const {jitter:_0x4834df}=_0x5aec2c;let _0x40fb1e=-0x1c33+-0xc53+0xe*0x2e5,_0x561e95=-0x1*-0x116c+-0x1112+-0x5a;if(_0x4834df>-0x10e2+-0xcf0+0x1dd2){const _0x25853e=_0x1c1398?_0x1c1398['width']:this['device']['width'],_0x12b267=_0x1c1398?_0x1c1398['height']:this['device']['height'],_0x1c2c65=K_[this['device']['renderVers'+'ion']%K_['length']];_0x40fb1e=_0x4834df*(_0x1c2c65['x']*(0x1*0x3ed+-0x24ae+-0x20c3*-0x1)-(-0x11df+-0x1d05+0x2ee5))/_0x25853e,_0x561e95=_0x4834df*(_0x1c2c65['y']*(0x1*0x1d3+-0x5*-0x7ab+-0x2828*0x1)-(0x1b12+-0x63f*-0x1+-0x2150))/_0x12b267,_0x57a898=qb['copy'](_0x57a898),_0x57a898['data'][0x673*-0x1+0x2221*0x1+-0x1ba6]=_0x40fb1e,_0x57a898['data'][0x2215+-0x1653+0x1*-0xbb9]=_0x561e95,_0x25cfd7=jb['copy'](_0x25cfd7),_0x25cfd7['data'][-0x18a9*0x1+-0x754*-0x5+-0xbf3]=_0x40fb1e,_0x25cfd7['data'][0x11*0x6d+-0xc*-0x2c+-0x944]=_0x561e95,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x3859e7=_0x4834df>0x1*-0x517+-0x2194+0x26ab?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x1*-0xeef+0x1*0xb99+-0x1*-0x356]=_0x3859e7['x'],this['blueNoiseJ'+'itterData'][-0x5e*-0x5+-0xdd8+0xc03]=_0x3859e7['y'],this['blueNoiseJ'+'itterData'][-0x1df*0x3+-0x1f55*-0x1+-0x19b6]=_0x3859e7['z'],this['blueNoiseJ'+'itterData'][0x4a9*-0x2+-0x599*-0x4+-0xd0f]=_0x3859e7['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x57a898['data']),this['projSkybox'+'Id']['setValue'](_0x25cfd7['data']),_0x5aec2c['calculateT'+'ransform'])_0x5aec2c['calculateT'+'ransform'](nr,ec);else{const _0x4105a9=_0x5aec2c['_node']['getPositio'+'n'](),_0x49372f=_0x5aec2c['_node']['getRotatio'+'n']();nr['setTRS'](_0x4105a9,_0x49372f,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x57a898,Oa),this['viewProjId']['setValue'](ar['data']),_0x5aec2c['_storeShad'+'erMatrices'](ar,_0x40fb1e,_0x561e95,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x40d0ba?-(-0x1401+-0x3f*0x95+-0x38ad*-0x1):-0x575*-0x1+0xaea*0x2+-0x1b48),this['dispatchVi'+'ewPos'](_0x5aec2c['_node']['getPositio'+'n']()),_0x5aec2c['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x40d0ba?-(0x6b*-0x1f+0x9c*0x6+0x94e):0x2*-0xd95+0xf55+0x3*0x3f2);const _0x9a37f=_0x5aec2c['_nearClip'],_0x1f98b3=_0x5aec2c['_farClip'];return this['nearClipId']['setValue'](_0x9a37f),this['farClipId']['setValue'](_0x1f98b3),this['cameraPara'+'ms'][-0x1c8c+0x9*0x3af+-0x49b*0x1]=(0x37e*0x4+0x33*0xb3+-0x31a0)/_0x1f98b3,this['cameraPara'+'ms'][-0x111b+-0x6c+0x1188]=_0x1f98b3,this['cameraPara'+'ms'][-0x2*-0x5f8+-0x1549*0x1+0x95b]=_0x9a37f,this['cameraPara'+'ms'][-0x1ef6+-0x868*-0x1+0x1691]=_0x5aec2c['projection']===En?0x3*0x887+0x1e84+-0x2*0x1c0c:0x1c65+-0x67c*-0x5+0x1*-0x3cd1,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x5aec2c['getExposur'+'e']():this['scene']['exposure']),_0x4504d3;}['clear'](_0x420029,_0x5b8c00,_0x13797f,_0x18f1aa){const _0x9a801f=(_0x5b8c00??_0x420029['_clearColo'+'rBuffer']?jo:-0x4a*0x4d+-0x1013+-0x3*-0xcc7)|(_0x13797f??_0x420029['_clearDept'+'hBuffer']?Yo:0xd95+-0x78f+-0x1*0x606)|(_0x18f1aa??_0x420029['_clearSten'+'cilBuffer']?ch:-0x116*-0x5+-0x29b*0x1+-0x2d3);if(_0x9a801f){const _0x1bb329=this['device'];Q['pushGpuMar'+'ker'](_0x1bb329,'CLEAR'),_0x1bb329['clear']({'color':[_0x420029['_clearColo'+'r']['r'],_0x420029['_clearColo'+'r']['g'],_0x420029['_clearColo'+'r']['b'],_0x420029['_clearColo'+'r']['a']],'depth':_0x420029['_clearDept'+'h'],'stencil':_0x420029['_clearSten'+'cil'],'flags':_0x9a801f}),Q['popGpuMark'+'er'](_0x1bb329);}}['setCamera'](_0x138454,_0x330cfb,_0x5e95c9,_0x32d81e=null){this['setCameraU'+'niforms'](_0x138454,_0x330cfb),this['clearView'](_0x138454,_0x330cfb,_0x5e95c9,!(0x1*0x775+-0x1c06+0x1492));}['clearView'](_0x59c4a8,_0x355c18,_0x5a590a,_0x16deac){const _0x5bbbe4=this['device'];if(Q['pushGpuMar'+'ker'](_0x5bbbe4,'CLEAR-VIEW'),_0x5bbbe4['setRenderT'+'arget'](_0x355c18),_0x5bbbe4['updateBegi'+'n'](),_0x16deac&&(_0x5bbbe4['setColorWr'+'ite'](!(-0x223f+-0xb26+0x2d65*0x1),!(-0x8d+0x2598+0x147*-0x1d),!(-0x26f5*-0x1+0x1ef8+-0x45ed),!(0x1*0x3df+-0x1dd5+0x19f6*0x1)),_0x5bbbe4['setDepthWr'+'ite'](!(0x611+0x193e+0x7*-0x479))),this['setupViewp'+'ort'](_0x59c4a8,_0x355c18),_0x5a590a){const _0x34476d=_0x59c4a8['_clearOpti'+'ons'];_0x5bbbe4['clear'](_0x34476d||{'color':[_0x59c4a8['_clearColo'+'r']['r'],_0x59c4a8['_clearColo'+'r']['g'],_0x59c4a8['_clearColo'+'r']['b'],_0x59c4a8['_clearColo'+'r']['a']],'depth':_0x59c4a8['_clearDept'+'h'],'flags':(_0x59c4a8['_clearColo'+'rBuffer']?jo:0x9fe+-0x739*-0x1+0x1137*-0x1)|(_0x59c4a8['_clearDept'+'hBuffer']?Yo:0x1e23+0x25ee+-0x4411)|(_0x59c4a8['_clearSten'+'cilBuffer']?ch:0x673+-0x3*-0x327+-0xfe8),'stencil':_0x59c4a8['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x5bbbe4);}['setupCullM'+'ode'](_0x159672,_0xa2b7f2,_0xa1fb62){const _0x590773=_0xa1fb62['material'];let _0x5713a7=bt;if(_0x159672){let _0x22a8dd=-0x72b+0x127b+-0x1*0xb4f;(_0x590773['cull']===Fo||_0x590773['cull']===pa)&&(_0x22a8dd=_0xa2b7f2*_0xa1fb62['flipFacesF'+'actor']*_0xa1fb62['node']['worldScale'+'Sign']),_0x22a8dd<0x1e47+0x815*-0x2+0xe1d*-0x1?_0x5713a7=_0x590773['cull']===Fo?pa:Fo:_0x5713a7=_0x590773['cull'];}this['device']['setCullMod'+'e'](_0x5713a7),_0x5713a7===bt&&_0x590773['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xa1fb62['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2d52b8){if(_0x2d52b8['xr']&&_0x2d52b8['xr']['views']['list']['length']){const _0x4e6258=_0x2d52b8['xr']['views']['list'][0x1e86+-0x70a+-0x177c];ar['mul2'](_0x4e6258['projMat'],_0x4e6258['viewOffMat']),_0x2d52b8['frustum']['setFromMat'+'4'](ar);return;}const _0x206549=_0x2d52b8['projection'+'Matrix'];if(_0x2d52b8['calculateP'+'rojection']&&_0x2d52b8['calculateP'+'rojection'](_0x206549,ec),_0x2d52b8['calculateT'+'ransform'])_0x2d52b8['calculateT'+'ransform'](nr,ec);else{const _0x3d29c6=_0x2d52b8['_node']['getPositio'+'n'](),_0x4b96a5=_0x2d52b8['_node']['getRotatio'+'n']();nr['setTRS'](_0x3d29c6,_0x4b96a5,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x206549,Oa),_0x2d52b8['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x58bef8,_0x282620){_0x58bef8['setCullMod'+'e'](_0x282620['cull']),_0x282620['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x282620['opacityMap']),(_0x282620['opacityMap']||_0x282620['alphaTest']>0x1*0xaa2+-0x105c+0x5ba)&&this['alphaTestI'+'d']['setValue'](_0x282620['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x281efa){nf++;const _0x1614f6=_0x281efa['length'];if(_0x1614f6===-0x632*0x5+-0x1*0x2223+0x411d)return;const _0x23cc75=de();for(let _0x4b8a5f=0xb8d*0x3+-0xc5a+0xb*-0x207;_0x4b8a5f<_0x1614f6;_0x4b8a5f++){const _0x1a70b7=_0x281efa[_0x4b8a5f]['skinInstan'+'ce'];_0x1a70b7&&(_0x1a70b7['updateMatr'+'ices'](_0x281efa[_0x4b8a5f]['node'],nf),_0x1a70b7['_dirty']=!(0xf4f*0x1+0x3*0x21e+-0x15a9));}this['_skinTime']+=de()-_0x23cc75;}['updateGpuS'+'kinMatrice'+'s'](_0x15edb4){const _0x268456=de();for(const _0x466ef1 of _0x15edb4){const _0x4bbd47=_0x466ef1['skinInstan'+'ce'];_0x4bbd47&&_0x4bbd47['_dirty']&&(_0x4bbd47['updateMatr'+'ixPalette'](_0x466ef1['node'],nf),_0x4bbd47['_dirty']=!(0x24de+0x2663+-0x10*0x4b4));}this['_skinTime']+=de()-_0x268456;}['updateMorp'+'hing'](_0x5953de){const _0x20641a=de();for(const _0x1dcd13 of _0x5953de){const _0x4d4eb4=_0x1dcd13['morphInsta'+'nce'];_0x4d4eb4&&_0x4d4eb4['_dirty']&&_0x4d4eb4['update']();}this['_morphTime']+=de()-_0x20641a;}['updateGSpl'+'ats'](_0x34faad){var _0x4d5cae;for(const _0x9ab0aa of _0x34faad)(_0x4d5cae=_0x9ab0aa['gsplatInst'+'ance'])==null||_0x4d5cae['update']();}['gpuUpdate'](_0x1cf3a3){this['updateGpuS'+'kinMatrice'+'s'](_0x1cf3a3),this['updateMorp'+'hing'](_0x1cf3a3),this['updateGSpl'+'ats'](_0x1cf3a3);}['setVertexB'+'uffers'](_0x433adb,_0x3d5985){_0x433adb['setVertexB'+'uffer'](_0x3d5985['vertexBuff'+'er']);}['setMorphin'+'g'](_0xa747c,_0xad82f6){_0xad82f6&&(_0xad82f6['prepareRen'+'dering'](_0xa747c),_0xa747c['setVertexB'+'uffer'](_0xad82f6['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0xad82f6['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0xad82f6['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0xad82f6['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x225be6,_0x471a8d){const _0x20128c=_0x471a8d['skinInstan'+'ce'];if(_0x20128c){this['_skinDrawC'+'alls']++;const _0x4f0dff=_0x20128c['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x4f0dff);}}['dispatchVi'+'ewPos'](_0x23e9dd){const _0x17a3bd=this['viewPos'];_0x17a3bd[-0x590+0x2*0x18+0x560]=_0x23e9dd['x'],_0x17a3bd[-0x5*0x685+-0x1dd7+-0x73*-0x8b]=_0x23e9dd['y'],_0x17a3bd[0x1*-0x2129+-0x3*0x185+0x25ba]=_0x23e9dd['z'],this['viewPosId']['setValue'](_0x17a3bd);}['initViewBi'+'ndGroupFor'+'mat'](_0x54dc29){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2fb983=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x54dc29&&_0x2fb983['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x2fb983);const _0x38c514=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x38c514);}}['setupViewU'+'niforms'](_0x25248d,_0x150061){this['projId']['setValue'](_0x25248d['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x25248d['projMat']['data']),this['viewId']['setValue'](_0x25248d['viewOffMat']['data']),this['viewInvId']['setValue'](_0x25248d['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x25248d['viewMat3']['data']),this['viewProjId']['setValue'](_0x25248d['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x25248d['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x150061);}['setupViewU'+'niformBuff'+'ers'](_0x4dce03,_0x226d02,_0x3370af,_0x299702){w['assert'](Array['isArray'](_0x4dce03),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x825f6e}=this,_0x14ed42=(_0x299702==null?void(-0x175f+-0x65*-0x28+0x797):_0x299702['length'])??0x2*0x9c5+-0x411*0x6+0x4dd;for(;_0x4dce03['length']<_0x14ed42;){const _0x18d8b5=new zp(_0x825f6e,_0x226d02,!(0xaa5+0x3b6*-0x2+-0x338)),_0xa8486=new Up(_0x825f6e,_0x3370af,_0x18d8b5);Ea['setName'](_0xa8486,'ViewBindGr'+'oup_'+_0xa8486['id']),_0x4dce03['push'](_0xa8486);}if(_0x299702)for(let _0x4e4c95=-0x84b+-0x54*0xa+0x1*0xb93;_0x4e4c95<_0x14ed42;_0x4e4c95++){const _0x23ae6e=_0x299702[_0x4e4c95];this['setupViewU'+'niforms'](_0x23ae6e,_0x4e4c95);const _0x380e26=_0x4dce03[_0x4e4c95];_0x380e26['defaultUni'+'formBuffer']['update'](),_0x380e26['update']();}else{const _0xecb54d=_0x4dce03[-0x15ac+0xe88+0x724*0x1];_0xecb54d['defaultUni'+'formBuffer']['update'](),_0xecb54d['update']();}_0x299702||_0x825f6e['setBindGro'+'up'](rl,_0x4dce03[0x5aa+-0x1*0x1b94+-0x15ea*-0x1]);}['setupMeshU'+'niformBuff'+'ers'](_0x1bccbd){const _0x4add05=this['device'];if(_0x4add05['supportsUn'+'iformBuffe'+'rs']){const _0xeb9367=_0x1bccbd['getBindGro'+'up'](_0x4add05);_0xeb9367['update'](),_0x4add05['setBindGro'+'up'](Oy,_0xeb9367),_0x1bccbd['getUniform'+'Buffer'](_0x4add05)['update'](hf),_0x4add05['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x352e18,_0x2f6dd1=!(-0x1ea*0x1+-0x2086+-0x3*-0xb7b)){const _0x46cd8a=_0x352e18['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x46cd8a['data']),_0x2f6dd1&&this['normalMatr'+'ixId']['setValue'](_0x352e18['node']['normalMatr'+'ix']['data']);}['cull'](_0x2f91da,_0x408a55,_0x180c84){const _0x6beb86=de(),_0x1ff135=_0x180c84['opaque'];_0x1ff135['length']=0x113*-0x19+-0x67*0x26+0x2a25*0x1;const _0xfc2d3=_0x180c84['transparen'+'t'];_0xfc2d3['length']=0x208c+-0x1*0x24f7+0x46b;const _0x4326a7=_0x2f91da['frustumCul'+'ling'],_0x1fdb41=_0x408a55['length'];for(let _0x53c825=-0x187e+-0xea9+0xd*0x303;_0x53c825<_0x1fdb41;_0x53c825++){const _0x275f2f=_0x408a55[_0x53c825];_0x275f2f['visible']&&(!_0x4326a7||!_0x275f2f['cull']||_0x275f2f['_isVisible'](_0x2f91da))&&(_0x275f2f['visibleThi'+'sFrame']=!(-0x1*0x12a+0x20e0+-0x1fb6),(_0x275f2f['transparen'+'t']?_0xfc2d3:_0x1ff135)['push'](_0x275f2f),(_0x275f2f['skinInstan'+'ce']||_0x275f2f['morphInsta'+'nce']||_0x275f2f['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x275f2f),_0x275f2f['gsplatInst'+'ance']&&_0x275f2f['gsplatInst'+'ance']['cameras']['push'](_0x2f91da)));}this['_cullTime']+=de()-_0x6beb86,this['_numDrawCa'+'llsCulled']+=_0x4326a7?_0x1fdb41:0x13f5+0x94e+-0x1d43;}['collectLig'+'hts'](_0x4101ab){this['lights']['length']=-0x1eb*0x13+-0x2*0x940+0x91*0x61,this['localLight'+'s']['length']=-0xdf0+0x1*0x18d+0xc63;const _0x3ef4e9=this['scene']['_stats'];_0x3ef4e9['dynamicLig'+'hts']=-0x54a*-0x2+0x2a3+-0x11*0xc7,_0x3ef4e9['bakedLight'+'s']=0x2*-0xf26+-0x122*0x4+0x22d4;const _0x507b67=_0x4101ab['layerList']['length'];for(let _0x24a70c=0x197f+0x21f8+-0x3b77;_0x24a70c<_0x507b67;_0x24a70c++){const _0x3fcd2f=_0x4101ab['layerList'][_0x24a70c];if(!cf['has'](_0x3fcd2f)){cf['add'](_0x3fcd2f);const _0x4bd829=_0x3fcd2f['_lights'];for(let _0x43e346=0x13da+-0x14f4+0x3*0x5e;_0x43e346<_0x4bd829['length'];_0x43e346++){const _0x5124ce=_0x4bd829[_0x43e346];lf['has'](_0x5124ce)||(lf['add'](_0x5124ce),this['lights']['push'](_0x5124ce),_0x5124ce['_type']!==ve&&this['localLight'+'s']['push'](_0x5124ce),(_0x5124ce['mask']&Ss||_0x5124ce['mask']&di)&&_0x3ef4e9['dynamicLig'+'hts']++,_0x5124ce['mask']&fi&&_0x3ef4e9['bakedLight'+'s']++);}}}_0x3ef4e9['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x58ed77,_0x508054){const _0x12dec3=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x13ae26=this['scene']['physicalUn'+'its'];for(let _0x45ea47=0xb19+0x2d9*0xd+-0x2*0x180f;_0x45ea47<_0x508054['length'];_0x45ea47++){const _0x13fee2=_0x508054[_0x45ea47];if(_0x13fee2['enabled']){if(_0x13fee2['_type']!==ve){if(_0x13fee2['getBoundin'+'gSphere'](of),_0x58ed77['frustum']['containsSp'+'here'](of)){_0x13fee2['visibleThi'+'sFrame']=!(-0x39b+0x616*0x5+-0x1ad3),_0x13fee2['usePhysica'+'lUnits']=_0x13ae26;const _0x1414a9=_0x58ed77['getScreenS'+'ize'](of);_0x13fee2['maxScreenS'+'ize']=Math['max'](_0x13fee2['maxScreenS'+'ize'],_0x1414a9);}else _0x12dec3||_0x13fee2['castShadow'+'s']&&!_0x13fee2['shadowMap']&&(_0x13fee2['visibleThi'+'sFrame']=!(0x1856+-0x1308+-0x54e));}else _0x13fee2['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x532209){const _0x507dc8=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x157722=0x46*0x1+-0x535+0x3*0x1a5;_0x157722<this['localLight'+'s']['length'];_0x157722++){const _0x20cb48=this['localLight'+'s'][_0x157722];_0x20cb48['_type']!==ve&&(_0x507dc8?_0x20cb48['atlasSlotU'+'pdated']&&_0x20cb48['shadowUpda'+'teMode']===Ps&&(_0x20cb48['shadowUpda'+'teMode']=xr):_0x20cb48['shadowUpda'+'teMode']===Ps&&_0x20cb48['castShadow'+'s']&&(_0x20cb48['getRenderD'+'ata'](null,-0x1956+-0x1daf+0x3ab*0xf)['shadowCame'+'ra']['renderTarg'+'et']||(_0x20cb48['shadowUpda'+'teMode']=xr)),_0x20cb48['visibleThi'+'sFrame']&&_0x20cb48['castShadow'+'s']&&_0x20cb48['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x20cb48,_0x532209));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x56a395=_0x532209['cameras'];for(let _0x228836=-0x9a*0x38+0x1bcd+0x5e3;_0x228836<_0x56a395['length'];_0x228836++){const _0x5c8f3f=_0x56a395[_0x228836];if(_0x5c8f3f['enabled']){const _0x11e29a=_0x5c8f3f['camera'];let _0x1b20b3;const _0x28a877=_0x11e29a['layers'];for(let _0x18490e=-0x1e65*0x1+0x35e+-0xb*-0x275;_0x18490e<_0x28a877['length'];_0x18490e++){const _0x3051ac=_0x532209['getLayerBy'+'Id'](_0x28a877[_0x18490e]);if(_0x3051ac){const _0x225675=_0x3051ac['splitLight'+'s'][ve];for(let _0x5afa00=0x180f+0x3a*-0x32+-0xcbb;_0x5afa00<_0x225675['length'];_0x5afa00++){const _0x3e3736=_0x225675[_0x5afa00];_0x3e3736['castShadow'+'s']&&!Fa['has'](_0x3e3736)&&(Fa['add'](_0x3e3736),_0x1b20b3=_0x1b20b3??[],_0x1b20b3['push'](_0x3e3736),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x3e3736,_0x532209,_0x11e29a));}}}_0x1b20b3&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x11e29a,_0x1b20b3),Fa['clear']();}}}['cullCompos'+'ition'](_0x100224){const _0x5e64dd=de(),{scene:_0x512331}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x6ede3b=_0x100224['cameras']['length'];this['_camerasRe'+'ndered']+=_0x6ede3b;for(let _0x42ebdc=-0x1*-0x116f+-0x7af*-0x5+0x2*-0x1bed;_0x42ebdc<_0x6ede3b;_0x42ebdc++){const _0x450579=_0x100224['cameras'][_0x42ebdc];_0x512331==null||_0x512331['fire'](mv,_0x450579);const _0x572d29=_0x450579['renderTarg'+'et'];_0x450579['frameUpdat'+'e'](_0x572d29),this['updateCame'+'raFrustum'](_0x450579['camera']);const _0x2ddd98=_0x450579['layers'];for(let _0x46ef0d=0x467*-0x7+-0xff1+0x532*0x9;_0x46ef0d<_0x2ddd98['length'];_0x46ef0d++){const _0x23f3de=_0x100224['getLayerBy'+'Id'](_0x2ddd98[_0x46ef0d]);if(_0x23f3de&&_0x23f3de['enabled']){this['cullLights'](_0x450579['camera'],_0x23f3de['_lights']);const _0xc5f487=_0x23f3de['getCulledI'+'nstances'](_0x450579['camera']);this['cull'](_0x450579['camera'],_0x23f3de['meshInstan'+'ces'],_0xc5f487);}}_0x512331==null||_0x512331['fire'](_v,_0x450579);}_0x512331['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x100224),_0x512331==null||_0x512331['fire'](lE),this['_cullTime']+=de()-_0x5e64dd;}['updateShad'+'ers'](_0x228184,_0x24386e){const _0x236dab=_0x228184['length'];for(let _0x40135e=0x4fd+0x15d0+-0x1acd;_0x40135e<_0x236dab;_0x40135e++){const _0x15f682=_0x228184[_0x40135e]['material'];if(_0x15f682&&!Fa['has'](_0x15f682)&&(Fa['add'](_0x15f682),_0x15f682['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x24386e&&(!_0x15f682['useLightin'+'g']||_0x15f682['emitter']&&!_0x15f682['emitter']['lighting']))continue;_0x15f682['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x1865e9){const _0x210171=this['scene'],_0x36120e=_0x210171['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x28f0a7=0x986+-0xc1c+0x296;const _0x23c712=_0x1865e9['layerList'],_0x21aceb=_0x23c712['length'];for(let _0x176bd4=-0x144e+-0x220*0x1+0x166e;_0x176bd4<_0x21aceb;_0x176bd4++){const _0x27d11d=_0x23c712[_0x176bd4]['meshInstan'+'ces'],_0x9cd9d0=_0x27d11d['length'];_0x28f0a7+=_0x9cd9d0;for(let _0x2e1f18=0x38f*0x8+0x1*0x1ed6+-0x1*0x3b4e;_0x2e1f18<_0x9cd9d0;_0x2e1f18++){const _0xda8f70=_0x27d11d[_0x2e1f18];_0xda8f70['visibleThi'+'sFrame']=!(-0x561+0x17d+0x3e5*0x1),_0x36120e&&df['push'](_0xda8f70),_0xda8f70['skinInstan'+'ce']&&ff['push'](_0xda8f70);}}if(_0x210171['_stats']['meshInstan'+'ces']=_0x28f0a7,_0x36120e){const _0x12bf6c=!_0x210171['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x12bf6c),_0x210171['updateShad'+'ers']=!(-0x21e*0x12+0x152+0x1*0x24cb),this['device']['_shadersDi'+'rty']=!(-0x1ce4+-0xb45+-0x1415*-0x2),_0x210171['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x7ed*0x3+-0xf5c*0x1+-0x86b,ff['length']=-0x18cb+-0x14*-0x148+-0xd5;const _0x58c0c1=this['lights'],_0x1ff9d3=_0x58c0c1['length'];for(let _0x28cd3c=0x2108+0x3b*-0x6a+-0x89a;_0x28cd3c<_0x1ff9d3;_0x28cd3c++)_0x58c0c1[_0x28cd3c]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x1f257b){const _0xd9393d=de(),_0x828b02=_0x1f257b['layerList']['length'],_0x327a9f=this['scene']['_shaderVer'+'sion'];for(let _0xfc2b78=0x9*0x23c+0x1ce*0xd+0x3*-0xe86;_0xfc2b78<_0x828b02;_0xfc2b78++){const _0xba4e56=_0x1f257b['layerList'][_0xfc2b78];_0xba4e56['_shaderVer'+'sion']=_0x327a9f,_0xba4e56['_skipRende'+'rCounter']=0xec*0x10+0xef5+-0x1db5,_0xba4e56['_forwardDr'+'awCalls']=0x1*0x2212+-0x9e3+-0x182f,_0xba4e56['_shadowDra'+'wCalls']=-0x5*0x63f+-0x1*0x2681+0x116f*0x4,_0xba4e56['_renderTim'+'e']=0x3f3*-0x2+-0x3*-0xced+-0x1ee1;}_0x1f257b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0xd9393d;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1d12+0x199c+0x377),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x1*0x328+-0x99e*0x1+-0x677*-0x1),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x44b*0x3+-0x16f*0xd+-0x1*-0x5c3),this['clearDepth']=!(-0x2*0xa9f+-0x1*0xad+-0x1*-0x15ec),this['clearStenc'+'il']=!(-0x1164+0x4f5*0x1+-0x638*-0x2),this['triggerPos'+'tprocess']=!(-0x1e2+-0x266e+0x2851),this['firstCamer'+'aUse']=!(-0x1*0x1cd3+0x1d*-0x9+-0x1*-0x1dd9),this['lastCamera'+'Use']=!(0x222c+-0x1*-0xf63+-0x318e),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x796*-0x2+0x54b*-0x5+0xb4c));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2a979e=>{_0x2a979e['defaultUni'+'formBuffer']['destroy'](),_0x2a979e['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1fa1+0x10*-0x18+0x1*0x2121;}['setupClear'+'s'](_0x5829b1,_0x3cd5c9){this['clearColor']=(_0x5829b1==null?void(0x24dd+0x15a8+0x47*-0xd3):_0x5829b1['clearColor'+'Buffer'])||_0x3cd5c9['clearColor'+'Buffer'],this['clearDepth']=(_0x5829b1==null?void(0x4*-0x2cc+-0x14bf+0x1*0x1fef):_0x5829b1['clearDepth'+'Buffer'])||_0x3cd5c9['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x5829b1==null?void(0x1*-0x6d1+0x1e50+-0x177f):_0x5829b1['clearStenc'+'ilBuffer'])||_0x3cd5c9['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x5eaf91,_0x36d318,_0x28ee91,_0x1ecdfc){super(_0x5eaf91),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(0x1*-0x972+0x2631+-0x1cbe)),(this['layerCompo'+'sition']=_0x36d318,this['scene']=_0x28ee91,this['renderer']=_0x1ecdfc);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x64*0x19+0x4*0x283+0x4*-0x12;}['addRenderA'+'ction'](_0xd7c4af){this['renderActi'+'ons']['push'](_0xd7c4af);}['addLayer'](_0x2dc226,_0x137487,_0x38dab0,_0xfe82dc=!(0x231f+-0xe0b*-0x1+-0x312a)){w['assert'](_0x2dc226),w['assert'](this['renderTarg'+'et']!==void(-0xe8f*-0x2+-0x144b+0x9*-0xfb),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x2dc226['camera']['layersSet']['has'](_0x137487['id']),'Camera\x20'+_0x2dc226['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x137487['name']+'.');const _0x322b7c=new Pv();if(_0x322b7c['renderTarg'+'et']=this['renderTarg'+'et'],_0x322b7c['camera']=_0x2dc226,_0x322b7c['layer']=_0x137487,_0x322b7c['transparen'+'t']=_0x38dab0,_0xfe82dc){const _0x932c6b=this['renderActi'+'ons']['length']===0x1a0+0x36f+-0x50f;_0x322b7c['setupClear'+'s'](_0x932c6b?_0x2dc226:void(0x1*-0x2501+0x9a3+-0xe2*-0x1f),_0x137487);}this['addRenderA'+'ction'](_0x322b7c);}['addLayers'](_0x2bdecb,_0x551c75,_0x5c473d,_0x562918,_0x21fa7d,_0x4d1086=!(0x1*0x1956+0x1d*-0x1+-0x1939)){const {layerList:_0x296997,subLayerList:_0x539f69}=_0x2bdecb;let _0x209927=_0x562918,_0x1b2921=_0x5c473d;for(;_0x1b2921<_0x296997['length'];){const _0x5c085f=_0x296997[_0x1b2921],_0x15ab81=_0x539f69[_0x1b2921];if(_0x551c75['camera']['layersSet']['has'](_0x5c085f['id'])&&(this['addLayer'](_0x551c75,_0x5c085f,_0x15ab81,_0x209927),_0x209927=!(-0x1*0x12df+-0x18c5+-0x2ba5*-0x1)),_0x1b2921++,_0x5c085f['id']===_0x21fa7d&&_0x15ab81===_0x4d1086)break;}return _0x1b2921;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5d71e6,renderActions:_0x6bfe55}=this;for(let _0x201906=-0xae6+0x19ec+-0x783*0x2;_0x201906<_0x6bfe55['length'];_0x201906++){const _0x477867=_0x6bfe55[_0x201906]['camera']['camera'],_0x3a8299=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x477867);if(_0x3a8299)for(let _0x3a11d2=-0x1*0x1697+-0x1e5a+-0x34f1*-0x1;_0x3a11d2<_0x3a8299['length'];_0x3a11d2++){const _0x13b4e8=_0x3a8299[_0x3a11d2];if(_0x5d71e6['dirLightSh'+'adows']['get'](_0x13b4e8)!==_0x477867){_0x5d71e6['dirLightSh'+'adows']['set'](_0x13b4e8,_0x477867);const _0x38c8a1=_0x5d71e6['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x13b4e8,_0x477867);_0x38c8a1&&this['beforePass'+'es']['push'](_0x38c8a1);}}}}['updateClea'+'rs'](){const _0x57a75a=this['renderActi'+'ons'][-0x1*-0x53+0x10d1+-0x1124*0x1];if(_0x57a75a){const _0xb3317d=_0x57a75a['camera']['camera'],_0x118259=_0xb3317d['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x118259&&_0x57a75a['clearColor']?_0xb3317d['clearColor']:void(0x275*0x1+-0x5f5*0x3+0x1*0xf6a)),this['setClearDe'+'pth'](_0x118259&&_0x57a75a['clearDepth']&&!this['noDepthCle'+'ar']?_0xb3317d['clearDepth']:void(-0x79*0x8+0x212d+0x7*-0x433)),this['setClearSt'+'encil'](_0x118259&&_0x57a75a['clearStenc'+'il']?_0xb3317d['clearStenc'+'il']:void(-0x203e+0x1c*-0x2+0x115*0x1e));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x249058}=this;for(let _0x3ab72c=-0x15a1+-0xa6*0x31+0x3567;_0x3ab72c<_0x249058['length'];_0x3ab72c++){const _0xc6f541=_0x249058[_0x3ab72c];_0xc6f541['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0xc6f541['camera']);}}['execute'](){const {layerComposition:_0x3fbbfc,renderActions:_0x51eb1c}=this;for(let _0x444ece=0x1*-0x1997+0x73d+-0x51*-0x3a;_0x444ece<_0x51eb1c['length'];_0x444ece++){const _0x3b848d=_0x51eb1c[_0x444ece],_0x5d4b02=_0x3b848d['layer'];w['call'](()=>{_0x3fbbfc['getLayerBy'+'Name'](_0x5d4b02['name'])||w['warnOnce']('Layer\x20'+_0x5d4b02['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x3fbbfc['isEnabled'](_0x5d4b02,_0x3b848d['transparen'+'t'])&&this['renderRend'+'erAction'](_0x3b848d,_0x444ece===0x19e*-0x2+-0x4*0x8c2+0x2644*0x1);}}['after'](){for(let _0x1709b6=0x1fa2+0x2*-0x1b+-0x1f6c*0x1;_0x1709b6<this['renderActi'+'ons']['length'];_0x1709b6++){const _0x4c0374=this['renderActi'+'ons'][_0x1709b6];_0x4c0374['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x4c0374['camera']);}this['beforePass'+'es']['length']=0x5bb*0x4+-0x2*-0x1f1+-0x1ace;}['renderRend'+'erAction'](_0x2ebb6e,_0x2635e1){var _0x16ac2a;const {renderer:_0x28dd67,scene:_0x49bd8a}=this,_0x27ea83=_0x28dd67['device'],{layer:_0x3314b5,transparent:_0x402e75,camera:_0x4c4229}=_0x2ebb6e;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4c4229?_0x4c4229['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x3314b5['name']+'('+(_0x402e75?'TRANSP':'OPAQUE')+')');const _0x23aeb8=de();if(_0x4c4229){const _0x35e0dd=_0x4c4229['gammaCorre'+'ction'],_0x2e5481=_0x4c4229['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x112*-0x1d+-0xb06+-0x1404)&&(_0x4c4229['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x14bb*0x1+-0x3*-0xa47+-0xa1a)&&(_0x4c4229['toneMappin'+'g']=this['toneMappin'+'g']),_0x49bd8a['fire'](nE,_0x4c4229,_0x3314b5,_0x402e75);const _0x2fe792={'lightClusters':_0x2ebb6e['lightClust'+'ers']},_0x118d1f=((_0x16ac2a=_0x4c4229['camera']['shaderPass'+'Info'])==null?void(-0x213+-0x11ed*-0x1+-0xfda*0x1):_0x16ac2a['index'])??Aa;(!_0x2635e1||!_0x4c4229['camera']['fullSizeCl'+'earRect'])&&(_0x2fe792['clearColor']=_0x2ebb6e['clearColor'],_0x2fe792['clearDepth']=_0x2ebb6e['clearDepth'],_0x2fe792['clearStenc'+'il']=_0x2ebb6e['clearStenc'+'il']);const _0x3c2c45=_0x2ebb6e['renderTarg'+'et']??_0x27ea83['backBuffer'];_0x28dd67['renderForw'+'ardLayer'](_0x4c4229['camera'],_0x3c2c45,_0x3314b5,_0x402e75,_0x118d1f,_0x2ebb6e['viewBindGr'+'oups'],_0x2fe792),_0x27ea83['setBlendSt'+'ate'](pt['NOBLEND']),_0x27ea83['setStencil'+'State'](null,null),_0x27ea83['setAlphaTo'+'Coverage'](!(-0x7f*-0x10+-0x1*0x1442+0x1*0xc53)),_0x49bd8a['fire'](oE,_0x4c4229,_0x3314b5,_0x402e75),this['gammaCorre'+'ction']!==void(0x1*-0xe9+-0x8a2+0x98b)&&(_0x4c4229['gammaCorre'+'ction']=_0x35e0dd),this['toneMappin'+'g']!==void(0x6d7+0x1e49+-0x2520)&&(_0x4c4229['toneMappin'+'g']=_0x2e5481);}Q['popGpuMark'+'er'](this['device']),_0x3314b5['_renderTim'+'e']+=de()-_0x23aeb8;}['log'](_0x1e292d,_0x508719){if(super['log'](_0x1e292d,_0x508719),mi['get'](cn)){const {layerComposition:_0x406e6c}=this;this['renderActi'+'ons']['forEach']((_0x384880,_0x40294e)=>{const _0x54b18d=_0x384880['layer'],_0x2c4707=_0x54b18d['enabled']&&_0x406e6c['isEnabled'](_0x54b18d,_0x384880['transparen'+'t']),_0x113312=_0x384880['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x40294e+':'+('\x20Cam:\x20'+(_0x113312?_0x113312['entity']['name']:'-'))['padEnd'](-0x1df7+-0xe4d+0x2c5a*0x1,'\x20')+('\x20Lay:\x20'+_0x54b18d['name'])['padEnd'](-0x241d+0x7bc+-0x15b*-0x15,'\x20')+(_0x384880['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2c4707?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x54b18d['meshInstan'+'ces']['length'])['padEnd'](0x54c*0x5+-0x1722*-0x1+-0x3199,'\x20'));});}}}class Zb extends ys{constructor(_0x6512e4,_0x3a2367,_0x289935){super(_0x6512e4),this['renderer']=_0x3a2367,this['renderActi'+'on']=_0x289935,this['requiresCu'+'bemaps']=!(0xbe9+0x336*0x1+-0xf1e);}['execute'](){const _0x52b007=this['renderActi'+'on'],_0x1ff40c=_0x52b007['camera'];w['assert'](_0x52b007['triggerPos'+'tprocess']&&_0x1ff40c['onPostproc'+'essing']),_0x1ff40c['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x23*0x9d+-0x219b+0xc24,this['shaderInst'+'ances']['length']=0x1*0xddb+0x135+0x4*-0x3c4,this['isNewMater'+'ial']['length']=0x1795+0x3a4+-0x45*0x65,this['lightMaskC'+'hanged']['length']=-0x47*0x8c+0x67+-0x1*-0x266d;}};function Jb(_0x54c01b){const _0x4a916b=[];for(let _0x425bc1=-0x16*0x191+0x6de*0x2+0x14ba;_0x425bc1<_0x54c01b;++_0x425bc1){const _0x46ac9d=Math['sqrt'](_0x425bc1+(0x9fa*-0x1+0x1c36+-0x30a*0x6+0.5))/Math['sqrt'](_0x54c01b);_0x4a916b['push'](_0x46ac9d);}return _0x4a916b;}function eA(_0x46aa12){const _0xa85de3=[];for(let _0x27953e=0xaae+0x1f59+0x35*-0xcb;_0x27953e<_0x46aa12;_0x27953e++){const _0x3f8493=_0x27953e/_0x46aa12,_0x40413e=Math['sqrt'](_0x3f8493*_0x3f8493);_0xa85de3['push'](_0x40413e);}return _0xa85de3;}const Ni=class Ni extends Yb{constructor(_0x22c423){super(_0x22c423);const _0x23a1f1=this['device'];this['_forwardDr'+'awCalls']=-0xdd*0xb+-0x43*-0x62+0x5*-0x33b,this['_materialS'+'witches']=0x3d6*0x1+0x13d*-0x1a+0x2c*0xa5,this['_depthMapT'+'ime']=0x4*-0x80f+0x257*-0x1+0x2293*0x1,this['_forwardTi'+'me']=-0xfb4+0x321*0x3+0x4d*0x15,this['_sortTime']=-0x4da*0x1+0x1*-0xa7+-0x1*-0x581;const _0x245a2f=_0x23a1f1['scope'];this['fogColorId']=_0x245a2f['resolve']('fog_color'),this['fogStartId']=_0x245a2f['resolve']('fog_start'),this['fogEndId']=_0x245a2f['resolve']('fog_end'),this['fogDensity'+'Id']=_0x245a2f['resolve']('fog_densit'+'y'),this['ambientId']=_0x245a2f['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x245a2f['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x245a2f['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x245a2f['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x245a2f['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x245a2f['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x57+0x469*0x8+-0x239b),this['fogColor']=new Float32Array(0xf+0x1d36*-0x1+-0x1*-0x1d2a),this['ambientCol'+'or']=new Float32Array(0x609*0x2+-0x1435+-0x7*-0x12a),this['pcssDiskSa'+'mples']=Jb(0xa98+0x14f*-0x5+-0x3fd*0x1),this['pcssSphere'+'Samples']=eA(-0xedf+0x1abb+-0x12e*0xa);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x333aa2){const _0x40a5d1=this['ambientCol'+'or'];if(or['linear'](_0x333aa2['ambientLig'+'ht']),_0x40a5d1[0x1c01+-0x52b+0x4f*-0x4a]=or['r'],_0x40a5d1[0x133d+-0x1*-0x1a57+0x3*-0xf31]=or['g'],_0x40a5d1[0x2594+0x1*-0x23e4+-0x1ae]=or['b'],_0x333aa2['physicalUn'+'its']){for(let _0x4c71af=-0x126c+-0x7*0x162+0x1c1a;_0x4c71af<0x2*-0x824+-0x731+0x177c;_0x4c71af++)_0x40a5d1[_0x4c71af]*=_0x333aa2['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x40a5d1),this['skyboxInte'+'nsityId']['setValue'](_0x333aa2['physicalUn'+'its']?_0x333aa2['skyboxLumi'+'nance']:_0x333aa2['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x333aa2['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x468c15,_0x18c802){const _0x2497b4='light'+_0x18c802;this['lightColor'+'Id'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_color'),this['lightDir'][_0x18c802]=new Float32Array(-0x1*0x1cd1+-0x6de*-0x1+0x15f6),this['lightDirId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_direction'),this['lightShado'+'wMapId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_radius'),this['lightPos'][_0x18c802]=new Float32Array(0x13*0x58+-0x12*-0x1f4+-0x29ad),this['lightPosId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_position'),this['lightWidth'][_0x18c802]=new Float32Array(-0x1*-0x16bd+-0x165a+0x3*-0x20),this['lightWidth'+'Id'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_halfWidth'),this['lightHeigh'+'t'][_0x18c802]=new Float32Array(0x11*0x14+0x1a1e*0x1+-0x925*0x3),this['lightHeigh'+'tId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+'_cookie'),this['lightCooki'+'eIntId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x18c802]=_0x468c15['resolve'](_0x2497b4+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x35ab20,_0x519abd,_0x3bf743,_0x464a4e,_0x4d8747){this['lightPos'][_0x519abd][0x23d7+-0x3*0xfb+-0x20e6*0x1]=_0x464a4e['x']-_0x3bf743['x']*_0x4d8747,this['lightPos'][_0x519abd][0x1a7e+-0x8fe*0x3+0x7d]=_0x464a4e['y']-_0x3bf743['y']*_0x4d8747,this['lightPos'][_0x519abd][0x9*0x3b3+-0x3c0+-0x1d89]=_0x464a4e['z']-_0x3bf743['z']*_0x4d8747,this['lightPosId'][_0x519abd]['setValue'](this['lightPos'][_0x519abd]);const _0x2a8f29=_0x35ab20['transformV'+'ector'](new D(-(0x163a+-0x13d5*0x1+-0x265+0.5),-0x1e2b*-0x1+0x1349*0x1+-0x107c*0x3,0xb95+-0x1d8a+0x11f5));this['lightWidth'][_0x519abd][0xedd+-0xac5*-0x1+-0x19a2]=_0x2a8f29['x']*_0x4d8747,this['lightWidth'][_0x519abd][0xb*-0xf+0x22*0xb+0x68*-0x2]=_0x2a8f29['y']*_0x4d8747,this['lightWidth'][_0x519abd][-0x92b*-0x1+0x1be*0xb+-0x1*0x1c53]=_0x2a8f29['z']*_0x4d8747,this['lightWidth'+'Id'][_0x519abd]['setValue'](this['lightWidth'][_0x519abd]);const _0xdfcd3=_0x35ab20['transformV'+'ector'](new D(0x2e*0x44+0x1*-0x258d+0x1955,-0x4*-0x516+-0xd16+-0x742,0x2232+-0x126e+-0xfc4+0.5));this['lightHeigh'+'t'][_0x519abd][0xfb8*0x2+0x45d*-0x6+-0x2*0x2a1]=_0xdfcd3['x']*_0x4d8747,this['lightHeigh'+'t'][_0x519abd][-0x1*-0x123b+0xa66+-0x1ca0]=_0xdfcd3['y']*_0x4d8747,this['lightHeigh'+'t'][_0x519abd][0x233a+0x1*-0x1b2d+-0x80b*0x1]=_0xdfcd3['z']*_0x4d8747,this['lightHeigh'+'tId'][_0x519abd]['setValue'](this['lightHeigh'+'t'][_0x519abd]);}['dispatchDi'+'rectLights'](_0x570b1c,_0xa0f76c,_0x23cc99){let _0x9759a1=0x5*-0x4ca+0xb23*-0x1+-0x2315*-0x1;const _0x2c26f9=this['device']['scope'];for(let _0x2159fa=0x95b+-0x1460+0x1f*0x5b;_0x2159fa<_0x570b1c['length'];_0x2159fa++){if(!(_0x570b1c[_0x2159fa]['mask']&_0xa0f76c))continue;const _0x367dec=_0x570b1c[_0x2159fa],_0x5545e6=_0x367dec['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x9759a1]||this['_resolveLi'+'ght'](_0x2c26f9,_0x9759a1),this['lightColor'+'Id'][_0x9759a1]['setValue'](_0x367dec['_colorLine'+'ar']),_0x5545e6['getY'](_0x367dec['_direction'])['mulScalar'](-(-0x2*-0x1d9+-0x2a9*-0xd+-0x2646)),_0x367dec['_direction']['normalize'](),this['lightDir'][_0x9759a1][-0xd1c+-0x1*-0x4e4+0x838]=_0x367dec['_direction']['x'],this['lightDir'][_0x9759a1][-0x115f*0x2+-0x1799+-0x74b*-0x8]=_0x367dec['_direction']['y'],this['lightDir'][_0x9759a1][-0x1e3b+0x2594+-0x757]=_0x367dec['_direction']['z'],this['lightDirId'][_0x9759a1]['setValue'](this['lightDir'][_0x9759a1]),_0x367dec['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x5545e6,_0x9759a1,_0x367dec['_direction'],_0x23cc99['_node']['getPositio'+'n'](),_0x23cc99['farClip']),_0x367dec['castShadow'+'s']){const _0x1817e3=_0x367dec['getRenderD'+'ata'](_0x23cc99,0x238e+0x1c01+-0x3f8f),_0x3d4837=_0x367dec['_getUnifor'+'mBiasValue'+'s'](_0x1817e3);this['lightShado'+'wMapId'][_0x9759a1]['setValue'](_0x1817e3['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x9759a1]['setValue'](_0x1817e3['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x9759a1]['setValue'](_0x367dec['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x9759a1]['setValue'](_0x367dec['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x9759a1]['setValue'](_0x367dec['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x9759a1]['setValue'](0x252f+0x3e9+-0x2917-_0x367dec['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x9759a1]['setValue'](_0x367dec['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x9759a1]['setValue'](_0x367dec['_softShado'+'wParams']),_0x1817e3['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x9759a1]['setValue'](_0x367dec['penumbraSi'+'ze']/_0x1817e3['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x1817e3['projection'+'Compensati'+'on']);const _0x3be0e1=_0x367dec['_shadowCam'+'eraParams'];_0x3be0e1['length']=0x947+-0x1*0xaf5+0x1*0x1b2,_0x3be0e1[0xb7d+-0xbe4*0x1+0x67]=0x6*-0x66+-0x5*-0x24e+0x491*-0x2,_0x3be0e1[0x1*-0x113b+0x78a+0x9b2]=_0x1817e3['shadowCame'+'ra']['_farClip'],_0x3be0e1[0x1459+0x85*0x17+-0x204a]=_0x1817e3['shadowCame'+'ra']['_nearClip'],_0x3be0e1[0x11f5+0x2510+0x1b81*-0x2]=-0x1*0x21e2+0x90c+0x18d7,this['lightCamer'+'aParamsId'][_0x9759a1]['setValue'](_0x3be0e1);const _0x30b2c2=_0x367dec['_shadowRen'+'derParams'];_0x30b2c2['length']=0xdff+0x6*0x1df+-0x9*0x2cd,_0x30b2c2[0x2e*0xb3+0xc43*0x1+0xdf*-0x33]=_0x367dec['_shadowRes'+'olution'],_0x30b2c2[0x25d7+-0xa*-0x3e+-0x2842]=_0x3d4837['normalBias'],_0x30b2c2[0x1fda+-0x1*-0x23e5+-0x43bd]=_0x3d4837['bias'],_0x30b2c2[-0x4*-0x6f3+0x1a5*-0x9+-0x67e*0x2]=-0x2*0xfc5+0x50f+-0x1a7b*-0x1,this['lightShado'+'wParamsId'][_0x9759a1]['setValue'](_0x30b2c2);}_0x9759a1++;}return _0x9759a1;}['setLTCPosi'+'tionalLigh'+'t'](_0xc61305,_0x501c32){const _0x58bf2c=_0xc61305['transformV'+'ector'](new D(-(0x77+0x1*0x1c27+0x6*-0x4c5+0.5),-0x3*-0xbfb+-0x6ae+0x2a9*-0xb,-0x7*-0x105+0x1cfa+-0x241d));this['lightWidth'][_0x501c32][-0x1*-0x1702+-0x2*0xeca+0x692*0x1]=_0x58bf2c['x'],this['lightWidth'][_0x501c32][0x2*-0x481+0x1629*-0x1+0x1f2c]=_0x58bf2c['y'],this['lightWidth'][_0x501c32][-0x2308*0x1+-0x26*-0x1d+0x1ebc]=_0x58bf2c['z'],this['lightWidth'+'Id'][_0x501c32]['setValue'](this['lightWidth'][_0x501c32]);const _0x201124=_0xc61305['transformV'+'ector'](new D(-0x1271*-0x1+0x17e4+-0x2a55*0x1,-0x1*0x6af+0xe1e+0x76f*-0x1,0x60f*0x4+0x4a4+-0x38*0x84+0.5));this['lightHeigh'+'t'][_0x501c32][0x22e3+-0xb63+-0x1780]=_0x201124['x'],this['lightHeigh'+'t'][_0x501c32][0x1*-0x1845+-0x2*0x358+-0xf7b*-0x2]=_0x201124['y'],this['lightHeigh'+'t'][_0x501c32][0xf17*-0x2+-0x12f9+-0x5*-0x9d5]=_0x201124['z'],this['lightHeigh'+'tId'][_0x501c32]['setValue'](this['lightHeigh'+'t'][_0x501c32]);}['dispatchOm'+'niLight'](_0x2edcfe,_0x186e4d,_0x332e25){const _0x1ff9d0=_0x186e4d['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x332e25]||this['_resolveLi'+'ght'](_0x2edcfe,_0x332e25),this['lightRadiu'+'sId'][_0x332e25]['setValue'](_0x186e4d['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x332e25]['setValue'](_0x186e4d['_colorLine'+'ar']),_0x1ff9d0['getTransla'+'tion'](_0x186e4d['_position']),this['lightPos'][_0x332e25][-0x1*-0xd5+0x10fd*0x1+-0x11d2*0x1]=_0x186e4d['_position']['x'],this['lightPos'][_0x332e25][-0x757*-0x5+0x14*0x8e+-0x7f7*0x6]=_0x186e4d['_position']['y'],this['lightPos'][_0x332e25][0x6*-0x581+-0x1e5a+0x3f62]=_0x186e4d['_position']['z'],this['lightPosId'][_0x332e25]['setValue'](this['lightPos'][_0x332e25]),_0x186e4d['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x1ff9d0,_0x332e25),_0x186e4d['castShadow'+'s']){const _0x814d8d=_0x186e4d['getRenderD'+'ata'](null,-0x1*-0x6b7+0x2338+-0x29ef);this['lightShado'+'wMapId'][_0x332e25]['setValue'](_0x814d8d['shadowBuff'+'er']);const _0x283869=_0x186e4d['_getUnifor'+'mBiasValue'+'s'](_0x814d8d),_0x5bd3c3=_0x186e4d['_shadowRen'+'derParams'];_0x5bd3c3['length']=0x100b+-0x2*0x296+-0xadb,_0x5bd3c3[0xbaa+-0x352*-0x8+-0x1d2*0x15]=_0x186e4d['_shadowRes'+'olution'],_0x5bd3c3[0x866+0x187f+-0x5*0x694]=_0x283869['normalBias'],_0x5bd3c3[-0xfb*-0x16+-0x391*-0x1+-0x1921]=_0x283869['bias'],_0x5bd3c3[0x23ed+0x157*0x16+0x4164*-0x1]=(0x123b+0x1d65+-0x2f9f)/_0x186e4d['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x332e25]['setValue'](_0x5bd3c3),this['lightShado'+'wIntensity'][_0x332e25]['setValue'](_0x186e4d['shadowInte'+'nsity']);const _0xf318d7=_0x186e4d['penumbraSi'+'ze']/_0x814d8d['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x332e25]['setValue'](_0xf318d7);const _0x36f5e1=_0x186e4d['_shadowCam'+'eraParams'];_0x36f5e1['length']=-0x22bf+0x1*0x233e+-0x7b,_0x36f5e1[0x4cc*-0x1+0xdf9*0x2+-0x1726]=-0xdf*-0x17+-0x89f*-0x2+-0x2547,_0x36f5e1[0x61*-0x3d+-0x168c+-0x23*-0x14e]=_0x814d8d['shadowCame'+'ra']['_farClip'],_0x36f5e1[-0xbc+-0x1*0x16bd+0x177b]=_0x814d8d['shadowCame'+'ra']['_nearClip'],_0x36f5e1[0x1300+0x57*-0x5b+0xbf0]=0xb5b+-0x381*-0x1+0x1*-0xedc,this['lightCamer'+'aParamsId'][_0x332e25]['setValue'](_0x36f5e1);}_0x186e4d['_cookie']&&(this['lightCooki'+'eId'][_0x332e25]['setValue'](_0x186e4d['_cookie']),this['lightShado'+'wMatrixId'][_0x332e25]['setValue'](_0x1ff9d0['data']),this['lightCooki'+'eIntId'][_0x332e25]['setValue'](_0x186e4d['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x2ffc05,_0x1afc78,_0x446c32){const _0x18e2cc=_0x1afc78['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x446c32]||this['_resolveLi'+'ght'](_0x2ffc05,_0x446c32),this['lightInAng'+'leId'][_0x446c32]['setValue'](_0x1afc78['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x446c32]['setValue'](_0x1afc78['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x446c32]['setValue'](_0x1afc78['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x446c32]['setValue'](_0x1afc78['_colorLine'+'ar']),_0x18e2cc['getTransla'+'tion'](_0x1afc78['_position']),this['lightPos'][_0x446c32][0xd86*0x1+0x3*-0x3ce+-0x21c]=_0x1afc78['_position']['x'],this['lightPos'][_0x446c32][-0x1e45+-0x7*0x5b+-0x20c3*-0x1]=_0x1afc78['_position']['y'],this['lightPos'][_0x446c32][-0x2f*0x7d+-0x3fd*-0x2+0xefb]=_0x1afc78['_position']['z'],this['lightPosId'][_0x446c32]['setValue'](this['lightPos'][_0x446c32]),_0x1afc78['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x18e2cc,_0x446c32),_0x18e2cc['getY'](_0x1afc78['_direction'])['mulScalar'](-(-0xc*-0x20d+-0xa90+-0xe0b)),_0x1afc78['_direction']['normalize'](),this['lightDir'][_0x446c32][0xa1d*0x1+0x93e*-0x2+0x85f]=_0x1afc78['_direction']['x'],this['lightDir'][_0x446c32][0x1*-0x7b5+0x244f+0x1c99*-0x1]=_0x1afc78['_direction']['y'],this['lightDir'][_0x446c32][-0x5fd+-0x4c*-0x23+-0x465]=_0x1afc78['_direction']['z'],this['lightDirId'][_0x446c32]['setValue'](this['lightDir'][_0x446c32]),_0x1afc78['castShadow'+'s']){const _0x355cd4=_0x1afc78['getRenderD'+'ata'](null,-0x26ed*-0x1+-0xf46+0x23*-0xad);this['lightShado'+'wMapId'][_0x446c32]['setValue'](_0x355cd4['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x446c32]['setValue'](_0x355cd4['shadowMatr'+'ix']['data']);const _0x34c6dc=_0x1afc78['_getUnifor'+'mBiasValue'+'s'](_0x355cd4),_0x311b9d=_0x1afc78['_shadowRen'+'derParams'];_0x311b9d['length']=-0x1396+0x1*0xa54+-0x4a3*-0x2,_0x311b9d[-0x2155+0x1363+-0x66*-0x23]=_0x1afc78['_shadowRes'+'olution'],_0x311b9d[-0x1409*0x1+-0x69*0x1+0x1473]=_0x34c6dc['normalBias'],_0x311b9d[-0xa*0x107+-0x307+0x1*0xd4f]=_0x34c6dc['bias'],_0x311b9d[-0x1dff+0x426+0x19dc]=(0x2627+0x211d+-0x4743)/_0x1afc78['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x446c32]['setValue'](_0x311b9d),this['lightShado'+'wIntensity'][_0x446c32]['setValue'](_0x1afc78['shadowInte'+'nsity']);const _0x2a29dd=_0x1afc78['penumbraSi'+'ze']/_0x355cd4['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5b9120=_0x355cd4['shadowCame'+'ra']['_fov']*Math['PI']/(-0x2133+-0x11cc+0xa57*0x5),_0x4ff9da=(-0xff9+0x1f06+-0xf0c)/Math['tan'](_0x5b9120/(-0x16c+-0x1e74*0x1+0x1fe2));this['lightShado'+'wSearchAre'+'aId'][_0x446c32]['setValue'](_0x2a29dd*_0x4ff9da);const _0x4e3f1b=_0x1afc78['_shadowCam'+'eraParams'];_0x4e3f1b['length']=0x11*-0xbd+-0x1004+0x1c95,_0x4e3f1b[0x2c3*-0x9+0x2*0xac+0x1783]=-0x1*0xa6+0xdc9+-0xd23,_0x4e3f1b[-0x21f1+0x6d*-0x20+0x2f92]=_0x355cd4['shadowCame'+'ra']['_farClip'],_0x4e3f1b[-0x1a64+0x8b8+0x11ae]=_0x355cd4['shadowCame'+'ra']['_nearClip'],_0x4e3f1b[-0x23bc*-0x1+0xd05+-0x30be]=0x7b*0x1d+-0x13ab+0x16f*0x4,this['lightCamer'+'aParamsId'][_0x446c32]['setValue'](_0x4e3f1b);}if(_0x1afc78['_cookie']){if(!_0x1afc78['castShadow'+'s']){const _0x291153=Wn['evalSpotCo'+'okieMatrix'](_0x1afc78);this['lightShado'+'wMatrixId'][_0x446c32]['setValue'](_0x291153['data']);}this['lightCooki'+'eId'][_0x446c32]['setValue'](_0x1afc78['_cookie']),this['lightCooki'+'eIntId'][_0x446c32]['setValue'](_0x1afc78['cookieInte'+'nsity']),_0x1afc78['_cookieTra'+'nsform']&&(_0x1afc78['_cookieTra'+'nsformUnif'+'orm'][0x1*-0x1caf+0x1666+0x649]=_0x1afc78['_cookieTra'+'nsform']['x'],_0x1afc78['_cookieTra'+'nsformUnif'+'orm'][0xb5*-0x2f+-0x12e1+0x3*0x115f]=_0x1afc78['_cookieTra'+'nsform']['y'],_0x1afc78['_cookieTra'+'nsformUnif'+'orm'][-0x51a*-0x2+0xee8+-0x191a]=_0x1afc78['_cookieTra'+'nsform']['z'],_0x1afc78['_cookieTra'+'nsformUnif'+'orm'][-0x100e+-0x5e+-0x7*-0x259]=_0x1afc78['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x446c32]['setValue'](_0x1afc78['_cookieTra'+'nsformUnif'+'orm']),_0x1afc78['_cookieOff'+'setUniform'][-0x6b1*0x5+0x1eb*-0x1+0x2360]=_0x1afc78['_cookieOff'+'set']['x'],_0x1afc78['_cookieOff'+'setUniform'][0x962*-0x3+0x1*0xc47+0xfe0]=_0x1afc78['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x446c32]['setValue'](_0x1afc78['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x3bcc02,_0x430e21,_0xa21553){let _0xc74d62=_0xa21553;const _0x3449d0=this['device']['scope'],_0x57243e=_0x3bcc02[Ke],_0x330435=_0x57243e['length'];for(let _0x4860aa=0x25a6+0x10a+-0x26b0;_0x4860aa<_0x330435;_0x4860aa++){const _0x4cdf3e=_0x57243e[_0x4860aa];_0x4cdf3e['mask']&_0x430e21&&(this['dispatchOm'+'niLight'](_0x3449d0,_0x4cdf3e,_0xc74d62),_0xc74d62++);}const _0x3f88dd=_0x3bcc02[Ze],_0x1ececb=_0x3f88dd['length'];for(let _0x5b4624=0x77*-0x47+0x190d+0x7f4;_0x5b4624<_0x1ececb;_0x5b4624++){const _0x54a02d=_0x3f88dd[_0x5b4624];_0x54a02d['mask']&_0x430e21&&(this['dispatchSp'+'otLight'](_0x3449d0,_0x54a02d,_0xc74d62),_0xc74d62++);}}['renderForw'+'ardPrepare'+'Materials'](_0x2e2756,_0x53bd5a,_0x36e521,_0x13f81a,_0x4b752d,_0x30e7ed){const _0x4f63d2=_0x2e2756['fogParams']??this['scene']['fog'],_0x512a21=_0x2e2756['shaderPara'+'ms'];_0x512a21['fog']=_0x4f63d2['type'],_0x512a21['srgbRender'+'Target']=(_0x53bd5a==null?void(-0x1bb2+0x130*0x11+0x2*0x3c1):_0x53bd5a['isColorBuf'+'ferSrgb'](0x137e+0x8*-0x199+0x6b6*-0x1))??!(-0x5dd+-0x1485+-0xc1*-0x23);const _0x427647=(_0x2ce375,_0x1a4492,_0x425e67,_0x1303fe)=>{Nr['drawCalls']['push'](_0x2ce375),Nr['shaderInst'+'ances']['push'](_0x1a4492),Nr['isNewMater'+'ial']['push'](_0x425e67),Nr['lightMaskC'+'hanged']['push'](_0x1303fe);};Nr['clear']();const _0xec765f=this['device'],_0x1fed74=this['scene'],_0x2d44c7=_0x1fed74['clusteredL'+'ightingEna'+'bled'],_0x5cd09f=(_0x4b752d==null?void(-0x18d*-0xb+-0x140d+0x2*0x17f):_0x4b752d['getLightHa'+'sh'](_0x2d44c7))??-0x1*-0x12da+-0x5b0*-0x4+-0xd5*0x32;let _0x2c3fff=null,_0x57e7de,_0x14be49;const _0x81810d=_0x36e521['length'];for(let _0x5ae6dd=-0x28b+-0x5fb+0x2*0x443;_0x5ae6dd<_0x81810d;_0x5ae6dd++){const _0x3e2efc=_0x36e521[_0x5ae6dd];if(_0x2e2756===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x4b752d){if(_0x4b752d['_skipRende'+'rCounter']>=_0x4b752d['skipRender'+'After'])continue;_0x4b752d['_skipRende'+'rCounter']++;}const _0x11cf6e=_0x3e2efc['instancing'+'Data'];if(_0x11cf6e&&_0x11cf6e['count']<=-0x1*0x697+0x1da8+0x1711*-0x1)continue;_0x3e2efc['ensureMate'+'rial'](_0xec765f);const _0x42d6ae=_0x3e2efc['material'],_0x20daf1=_0x3e2efc['_shaderDef'+'s'],_0x1b9c7c=_0x3e2efc['mask'];_0x42d6ae&&_0x42d6ae===_0x2c3fff&&_0x20daf1!==_0x57e7de&&(_0x2c3fff=null),_0x42d6ae!==_0x2c3fff&&(this['_materialS'+'witches']++,_0x42d6ae['_scene']=_0x1fed74,_0x42d6ae['dirty']&&(Q['pushGpuMar'+'ker'](_0xec765f,'Node:\x20'+_0x3e2efc['node']['name']+(',\x20Material'+':\x20')+_0x42d6ae['name']),_0x42d6ae['updateUnif'+'orms'](_0xec765f,_0x1fed74),_0x42d6ae['dirty']=!(0xc4e+-0x2*0xb02+0x33d*0x3),Q['popGpuMark'+'er'](_0xec765f)));const _0x4a2078=_0x3e2efc['getShaderI'+'nstance'](_0x30e7ed,_0x5cd09f,_0x1fed74,_0x512a21,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x13f81a);_0x427647(_0x3e2efc,_0x4a2078,_0x42d6ae!==_0x2c3fff,!_0x2c3fff||_0x1b9c7c!==_0x14be49),_0x2c3fff=_0x42d6ae,_0x57e7de=_0x20daf1,_0x14be49=_0x1b9c7c;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x300da1,_0xb34ee5,_0xf5b8f7,_0x65d7c9,_0x33098a,_0x1bed59,_0x5af82e){var _0x1d75f4,_0x3a3122;const _0x555b67=this['device'],_0x27b061=this['scene'],_0x365c21=0x22fd+0x1c0b+-0x5*0xc9b<<_0x65d7c9,_0x1c3583=_0x1bed59?-(0xd*-0x19+-0x10d5+0xf*0x135):0x96d+0x1b06+0x1*-0x2472,_0x1fcb1d=_0x27b061['clusteredL'+'ightingEna'+'bled'],_0x3eab97=(_0x1d75f4=_0x300da1['xr'])!=null&&_0x1d75f4['session']&&_0x300da1['xr']['views']['list']['length']?_0x300da1['xr']['views']['list']:null,_0x20de84=_0xb34ee5['drawCalls']['length'];for(let _0x1f6a8b=-0x1f0b+-0x210b+0x4016;_0x1f6a8b<_0x20de84;_0x1f6a8b++){const _0x46deda=_0xb34ee5['drawCalls'][_0x1f6a8b],_0x13169d=_0xb34ee5['isNewMater'+'ial'][_0x1f6a8b],_0x54862c=_0xb34ee5['lightMaskC'+'hanged'][_0x1f6a8b],_0x13918c=_0xb34ee5['shaderInst'+'ances'][_0x1f6a8b],_0x346e59=_0x46deda['material'],_0x62dea3=_0x46deda['mask'];if(_0x13918c['shader']['failed'])continue;if(_0x13169d){if(_0x555b67['setShader'](_0x13918c['shader'],!(0x1ee8+0x3de+-0x2b*0xcf)),_0x346e59['setParamet'+'ers'](_0x555b67),_0x54862c){const _0x4d9a64=this['dispatchDi'+'rectLights'](_0xf5b8f7[ve],_0x62dea3,_0x300da1);_0x1fcb1d||this['dispatchLo'+'calLights'](_0xf5b8f7,_0x62dea3,_0x4d9a64);}this['alphaTestI'+'d']['setValue'](_0x346e59['alphaTest']),_0x555b67['setBlendSt'+'ate'](_0x346e59['blendState']),_0x555b67['setDepthSt'+'ate'](_0x346e59['depthState']),_0x555b67['setAlphaTo'+'Coverage'](_0x346e59['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x555b67,'Node:\x20'+_0x46deda['node']['name']+(',\x20Material'+':\x20')+_0x346e59['name']),this['setupCullM'+'ode'](_0x300da1['_cullFaces'],_0x1c3583,_0x46deda);const _0x508a26=_0x46deda['stencilFro'+'nt']??_0x346e59['stencilFro'+'nt'],_0x5296b6=_0x46deda['stencilBac'+'k']??_0x346e59['stencilBac'+'k'];_0x555b67['setStencil'+'State'](_0x508a26,_0x5296b6),_0x46deda['setParamet'+'ers'](_0x555b67,_0x365c21),_0x555b67['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x46deda['id']);const _0x1e7c85=_0x46deda['mesh'];this['setVertexB'+'uffers'](_0x555b67,_0x1e7c85),this['setMorphin'+'g'](_0x555b67,_0x46deda['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x555b67,_0x46deda);const _0x371ef3=_0x46deda['instancing'+'Data'];_0x371ef3&&_0x555b67['setVertexB'+'uffer'](_0x371ef3['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x46deda,!(0x11a1+-0x13c9+0x2*0x114)),this['setupMeshU'+'niformBuff'+'ers'](_0x13918c);const _0xa61dd0=_0x46deda['renderStyl'+'e'],_0x3d5731=_0x1e7c85['indexBuffe'+'r'][_0xa61dd0];_0x33098a==null||_0x33098a(_0x46deda,_0x1f6a8b);const _0x22896a=(_0x3a3122=_0x46deda['indirectDa'+'ta'])==null?void(-0x1145+0xab5*-0x3+0x3164):_0x3a3122['get'](_0x300da1);if(_0x3eab97)for(let _0x414044=-0x181b+-0x1134+0x1*0x294f;_0x414044<_0x3eab97['length'];_0x414044++){const _0x535b35=_0x3eab97[_0x414044];if(_0x555b67['setViewpor'+'t'](_0x535b35['viewport']['x'],_0x535b35['viewport']['y'],_0x535b35['viewport']['z'],_0x535b35['viewport']['w']),_0x555b67['supportsUn'+'iformBuffe'+'rs']){const _0x4b5722=_0x5af82e[_0x414044];_0x555b67['setBindGro'+'up'](rl,_0x4b5722);}else this['setupViewU'+'niforms'](_0x535b35,_0x414044);const _0x27476a=_0x414044===-0xd3*-0x1d+0x361*0x5+-0x28cc,_0x3a319e=_0x414044===_0x3eab97['length']-(0x1cff+-0x16f6+-0x608);_0x555b67['draw'](_0x1e7c85['primitive'][_0xa61dd0],_0x3d5731,_0x371ef3==null?void(-0x1b67*0x1+0x17f1+0x376):_0x371ef3['count'],_0x22896a,_0x27476a,_0x3a319e),this['_forwardDr'+'awCalls']++,_0x46deda['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x555b67['draw'](_0x1e7c85['primitive'][_0xa61dd0],_0x3d5731,_0x371ef3==null?void(-0x1ed*0xd+0x24c5*-0x1+0x3dce):_0x371ef3['count'],_0x22896a),this['_forwardDr'+'awCalls']++,_0x46deda['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x1f6a8b<_0x20de84-(-0x64d*-0x1+0x435+-0xa81)&&!_0xb34ee5['isNewMater'+'ial'][_0x1f6a8b+(0x2fc*-0x1+0x4cb*-0x8+0x2955)]&&_0x346e59['setParamet'+'ers'](_0x555b67,_0x46deda['parameters']),Q['popGpuMark'+'er'](_0x555b67);}}['renderForw'+'ard'](_0x32440e,_0x574ce6,_0x4ebbfa,_0x1a17d4,_0x3a6915,_0x366732,_0x9aab05,_0x3a0921,_0x72595f){const _0x2bb591=de(),_0x2cf5c1=this['renderForw'+'ardPrepare'+'Materials'](_0x32440e,_0x574ce6,_0x4ebbfa,_0x1a17d4,_0x9aab05,_0x3a6915);this['renderForw'+'ardInterna'+'l'](_0x32440e,_0x2cf5c1,_0x1a17d4,_0x3a6915,_0x366732,_0x3a0921,_0x72595f),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x2bb591;}['renderForw'+'ardLayer'](_0x330d03,_0x5254f6,_0x2cb8ad,_0x250017,_0x29a517,_0x51ffe6,_0x146c1d={}){const {scene:_0x24c98b,device:_0x633c76}=this,_0xaeb18=_0x24c98b['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x330d03,_0x5254f6);let _0x1a4a94,_0x1284af;if(_0x2cb8ad){const _0x4c090a=de();_0x2cb8ad['sortVisibl'+'e'](_0x330d03,_0x250017),this['_sortTime']+=de()-_0x4c090a;const _0x551ecf=_0x2cb8ad['getCulledI'+'nstances'](_0x330d03);_0x1a4a94=_0x250017?_0x551ecf['transparen'+'t']:_0x551ecf['opaque'],_0x24c98b['immediate']['onPreRende'+'rLayer'](_0x2cb8ad,_0x1a4a94,_0x250017),_0x2cb8ad['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x24c98b['ambientLig'+'ht'],_0x2cb8ad['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x1284af=_0x2cb8ad['splitLight'+'s'];}else _0x1a4a94=_0x146c1d['meshInstan'+'ces'],_0x1284af=_0x146c1d['splitLight'+'s']??Qb;if(w['assert'](_0x1a4a94,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0xaeb18){const _0x55f8c7=_0x146c1d['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x55f8c7['activate'](),_0x2cb8ad&&!this['clustersDe'+'bugRendere'+'d']&&_0x24c98b['lighting']['debugLayer']===_0x2cb8ad['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0xa81*0x2+-0x1*-0x179b+-0x23*0x13),hu['render'](_0x55f8c7,this['scene']));}_0x24c98b['_activeCam'+'era']=_0x330d03;const _0x5d43e2=_0x330d03['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x5d43e2);const _0x15f46c=this['setCameraU'+'niforms'](_0x330d03,_0x5254f6);_0x633c76['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x51ffe6,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x15f46c);const _0x54c702=_0x146c1d['clearColor']??!(0xb*0x19a+0x17c9*-0x1+0x2*0x316),_0x248a25=_0x146c1d['clearDepth']??!(-0xb*0xa3+0x234f+-0x1c4d),_0x13edba=_0x146c1d['clearStenc'+'il']??!(0x1*-0x683+0x76*0x1b+-0xfd*0x6);(_0x54c702||_0x248a25||_0x13edba)&&this['clear'](_0x330d03,_0x54c702,_0x248a25,_0x13edba);const _0x1a5032=!!(_0x330d03['_flipFaces']^(_0x5254f6==null?void(0x155+-0x20b7+0x1f62*0x1):_0x5254f6['flipY'])),_0x20810a=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x330d03,_0x5254f6,_0x1a4a94,_0x1284af,_0x29a517,null,_0x2cb8ad,_0x1a5032,_0x51ffe6),_0x2cb8ad&&(_0x2cb8ad['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x20810a);}['setFogCons'+'tants'](_0x56e02c){if(_0x56e02c['type']!==Kn){or['linear'](_0x56e02c['color']);const _0x49415c=this['fogColor'];_0x49415c[-0x262c*0x1+0xd*-0x8+0x2694]=or['r'],_0x49415c[-0x1c75+-0x2028+0x2*0x1e4f]=or['g'],_0x49415c[-0x727*0x1+-0x1*0x1a17+-0x38*-0x98]=or['b'],this['fogColorId']['setValue'](_0x49415c),_0x56e02c['type']===Iw?(this['fogStartId']['setValue'](_0x56e02c['start']),this['fogEndId']['setValue'](_0x56e02c['end'])):this['fogDensity'+'Id']['setValue'](_0x56e02c['density']);}}['setSceneCo'+'nstants'](){const _0x2efc9a=this['scene'];this['dispatchGl'+'obalLights'](_0x2efc9a);const _0x5a1076=this['device'];this['_screenSiz'+'e'][0x8*-0x449+0x1*-0x7e3+0x2a2b]=_0x5a1076['width'],this['_screenSiz'+'e'][0x38*-0x38+0x177*-0x1a+-0x1*-0x3257]=_0x5a1076['height'],this['_screenSiz'+'e'][-0x2076+0x1*0x3db+0x1c9d]=(-0x1410+0x16e3+-0x13*0x26)/_0x5a1076['width'],this['_screenSiz'+'e'][-0x7*0x1db+0x100f+-0x30f]=(0x5*-0x5+0x115*0x17+-0x18c9)/_0x5a1076['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x1fd6f1,_0x37f84d){const _0x63a144=this['scene'];if(_0x1fd6f1['reset'](),_0x63a144['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x3544f7,cookiesEnabled:_0x2bb1fc}=_0x63a144['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x1fd6f1,_0x3544f7,_0x2bb1fc,this['lights'],this['localLight'+'s']),_0x1fd6f1['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x1fd6f1,this['localLight'+'s']);let _0x4624e3=0x4e+0x2*0xae8+-0x13*0x12a,_0x50b7c8=!(-0x2*0xb7b+0x2084*0x1+-0x98e),_0x4191e2=null;const _0x5b12d7=_0x37f84d['_renderAct'+'ions'];for(let _0x4fee85=_0x4624e3;_0x4fee85<_0x5b12d7['length'];_0x4fee85++){const _0x659887=_0x5b12d7[_0x4fee85],{layer:_0x352cc8,camera:_0x296bb2}=_0x659887;if(_0x659887['useCameraP'+'asses'])w['call'](()=>{_0x296bb2['postEffect'+'s']['effects']['length']>0x1*-0x1c91+-0x26d9+0x436a&&w['warnOnce']('Camera\x20\x27'+_0x296bb2['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x296bb2['camera']['renderPass'+'es']['forEach'](_0x1309df=>{_0x1fd6f1['addRenderP'+'ass'](_0x1309df);});else{const _0x2c9aec=_0x352cc8['id']===ps,_0x3af37e=_0x2c9aec&&(_0x296bb2['renderScen'+'eColorMap']||_0x296bb2['renderScen'+'eDepthMap']);_0x50b7c8&&(_0x50b7c8=!(0x47*-0x77+0x1*0x2386+-0x284),_0x4624e3=_0x4fee85,_0x4191e2=_0x659887['renderTarg'+'et']);const _0x85e3b6=_0x5b12d7[_0x4fee85+(-0xa*0x1bb+-0x1ad2+-0x1*-0x2c21)],_0x3ab413=(_0x85e3b6?!_0x85e3b6['useCameraP'+'asses']&&_0x85e3b6['layer']['id']===ps:!(0x256+-0xda4+0xb4f))&&(_0x296bb2['renderScen'+'eColorMap']||_0x296bb2['renderScen'+'eDepthMap']),_0xe22403=_0x85e3b6?_0x85e3b6['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x85e3b6['camera']['camera']):!(0x207*0x1+0x256b+0x1b7*-0x17);if(!_0x85e3b6||_0x85e3b6['renderTarg'+'et']!==_0x4191e2||_0xe22403||_0x3ab413||_0x3af37e){if(_0x2c9aec&&_0x4624e3===_0x4fee85||this['addMainRen'+'derPass'](_0x1fd6f1,_0x37f84d,_0x4191e2,_0x4624e3,_0x4fee85),_0x2c9aec){if(_0x296bb2['renderScen'+'eColorMap']){const _0x53f424=_0x296bb2['camera']['renderPass'+'ColorGrab'];_0x53f424['source']=_0x296bb2['renderTarg'+'et'],_0x1fd6f1['addRenderP'+'ass'](_0x53f424);}_0x296bb2['renderScen'+'eDepthMap']&&_0x1fd6f1['addRenderP'+'ass'](_0x296bb2['camera']['renderPass'+'DepthGrab']);}if(_0x659887['triggerPos'+'tprocess']&&(_0x296bb2!=null&&_0x296bb2['onPostproc'+'essing'])){const _0x9b3dd7=new Zb(this['device'],this,_0x659887);_0x1fd6f1['addRenderP'+'ass'](_0x9b3dd7);}_0x50b7c8=!(0x1a0c+0x4*-0x2c1+-0xf08);}}}}['addMainRen'+'derPass'](_0x40cd8f,_0x4f7014,_0x14089f,_0x37ca67,_0x2424f7){const _0x865f5a=new Kb(this['device'],_0x4f7014,this['scene'],this);_0x865f5a['init'](_0x14089f);const _0x46b618=_0x4f7014['_renderAct'+'ions'];for(let _0xee73bb=_0x37ca67;_0xee73bb<=_0x2424f7;_0xee73bb++)_0x865f5a['addRenderA'+'ction'](_0x46b618[_0xee73bb]);_0x40cd8f['addRenderP'+'ass'](_0x865f5a);}['update'](_0x200aba){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x200aba),this['collectLig'+'hts'](_0x200aba),this['beginFrame'](_0x200aba),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x200aba),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x2d*-0x9a+-0x1862+0x3374),h(Ni,'skipRender'+'After',0x1d78+-0x1*0x171a+-0x65e);let fl=Ni,uf=0x2021+-0x6c*-0x9+-0x23ed;const co=[],hc=new Set();function tA(_0x26e2f1,_0x188d70){return _0x26e2f1['drawOrder']-_0x188d70['drawOrder'];}function sA(_0x7d47a6,_0x1399f1){const _0x3ddfc4=_0x7d47a6['_sortKeyFo'+'rward'],_0x3cc52b=_0x1399f1['_sortKeyFo'+'rward'];return _0x3ddfc4===_0x3cc52b?_0x1399f1['mesh']['id']-_0x7d47a6['mesh']['id']:_0x3cc52b-_0x3ddfc4;}function iA(_0x487fd3,_0x32a59c){return _0x32a59c['_sortKeyDy'+'namic']-_0x487fd3['_sortKeyDy'+'namic'];}function rA(_0x28fbdc,_0x4b1bd3){return _0x28fbdc['_sortKeyDy'+'namic']-_0x4b1bd3['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x42e0d0={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x164*0x15+0x976*-0x3+-0x36*-0x111)),h(this,'requiresLi'+'ghtCube',!(0x767+0x775+0xedb*-0x1)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x22ee+-0x12bd+0x40c*-0x4)),(_0x42e0d0['id']!==void(0x22e5+0x2a4*0x2+-0x282d)?(this['id']=_0x42e0d0['id'],uf=Math['max'](this['id']+(-0x2*-0x1229+0x197*0x15+0x2*-0x22da),uf)):this['id']=uf++,this['name']=_0x42e0d0['name'],this['_enabled']=_0x42e0d0['enabled']??!(-0xdd*0x18+0x1d2b+-0x873),this['_refCounte'+'r']=this['_enabled']?0xe3*0x1+-0x5b*0x61+0x2f*0xb7:-0xc7b+-0x4*0x3b2+0x1b43,this['opaqueSort'+'Mode']=_0x42e0d0['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x42e0d0['transparen'+'tSortMode']??m_,_0x42e0d0['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x42e0d0['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x42e0d0['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x42e0d0['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x42e0d0['clearStenc'+'ilBuffer'],this['onEnable']=_0x42e0d0['onEnable'],this['onDisable']=_0x42e0d0['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1c2d+-0x137b+-0x3*0x2e6,this['_lightHash'+'Dirty']=!(0x1f69+-0x217+0x1d51*-0x1),this['_lightIdHa'+'sh']=-0x160b*0x1+0xa33+0xbd8,this['_lightIdHa'+'shDirty']=!(-0x1*-0x13b4+-0x5*-0xf5+0x4*-0x61f),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x504+0x4f*0x17+0x1*-0xc1d,this['_renderTim'+'e']=0x3*-0x10b+-0xdad*0x2+0x1e7b,this['_forwardDr'+'awCalls']=-0x4fd+-0x8*0x314+-0x15*-0x169,this['_shadowDra'+'wCalls']=0x1fc2+-0x1772+-0x850,this['_shaderVer'+'sion']=-(0x14b9*-0x1+0x1cf2+-0x838));}set['enabled'](_0x22de9c){_0x22de9c!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x2012+-0xc9+0x20db),this['_enabled']=_0x22de9c,_0x22de9c?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0xdea196){this['_clearColo'+'rBuffer']=_0xdea196,this['_dirtyComp'+'osition']=!(0x170a*-0x1+-0x1497+0x2ba1);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x4efc64){this['_clearDept'+'hBuffer']=_0x4efc64,this['_dirtyComp'+'osition']=!(-0x2*0x63+-0x973*0x1+0xa39*0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x1e20d6){this['_clearSten'+'cilBuffer']=_0x1e20d6,this['_dirtyComp'+'osition']=!(-0x3*-0x2af+0xf0e+0x5*-0x49f);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x4*-0x841+0x587+-0x268b;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x21c2+-0x1988+0x3b4a&&(this['_enabled']=!(0x5*-0x418+-0x164e+0x2ac6),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x50*-0xb+-0x161+-0x20e)this['_enabled']=!(-0x15*-0x1a1+0x23cd+-0x4601*0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x1*-0xef6+-0x55e*-0x3+-0x124){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x5d735f,_0x3e576b){const _0x1e909a=this['meshInstan'+'ces'],_0x18abac=this['meshInstan'+'cesSet'];for(let _0x3e2c64=-0x1faa+-0x3c2+0x8db*0x4;_0x3e2c64<_0x5d735f['length'];_0x3e2c64++){const _0x11ea3e=_0x5d735f[_0x3e2c64];_0x18abac['has'](_0x11ea3e)||(_0x1e909a['push'](_0x11ea3e),_0x18abac['add'](_0x11ea3e),hc['add'](_0x11ea3e['material']));}if(_0x3e576b||this['addShadowC'+'asters'](_0x5d735f),hc['size']>0xc*-0x266+0x12f+0x1b99){const _0x1dc58a=this['_shaderVer'+'sion'];hc['forEach'](_0x3e8b19=>{_0x1dc58a>=-0x9c6+-0x44b*0x3+0x3*0x78d&&_0x3e8b19['_shaderVer'+'sion']!==_0x1dc58a&&(_0x3e8b19['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x3e8b19['clearVaria'+'nts'](),_0x3e8b19['_shaderVer'+'sion']=_0x1dc58a);}),hc['clear']();}}['removeMesh'+'Instances'](_0xc2c4b8,_0x154237){const _0x1ed2dc=this['meshInstan'+'ces'],_0x373a83=this['meshInstan'+'cesSet'];for(let _0x2ac7d3=-0x1ea2+-0x19c7+0x3869;_0x2ac7d3<_0xc2c4b8['length'];_0x2ac7d3++){const _0xaacdd4=_0xc2c4b8[_0x2ac7d3];if(_0x373a83['has'](_0xaacdd4)){_0x373a83['delete'](_0xaacdd4);const _0x2dac7e=_0x1ed2dc['indexOf'](_0xaacdd4);_0x2dac7e>=0x196d+0x290*0x8+-0x2ded&&_0x1ed2dc['splice'](_0x2dac7e,-0x1126+0x1*-0x19b5+0x2adc);}}_0x154237||this['removeShad'+'owCasters'](_0xc2c4b8);}['addShadowC'+'asters'](_0x1bcc06){const _0x3bb3f8=this['shadowCast'+'ers'],_0x5964b1=this['shadowCast'+'ersSet'];for(let _0x38b48a=0x1*-0x729+0x2*-0x8c6+-0x113*-0x17;_0x38b48a<_0x1bcc06['length'];_0x38b48a++){const _0x2c1633=_0x1bcc06[_0x38b48a];_0x2c1633['castShadow']&&!_0x5964b1['has'](_0x2c1633)&&(_0x5964b1['add'](_0x2c1633),_0x3bb3f8['push'](_0x2c1633));}}['removeShad'+'owCasters'](_0x148057){const _0xfeae39=this['shadowCast'+'ers'],_0x52b594=this['shadowCast'+'ersSet'];for(let _0x3fa15f=0x4d+-0x5f1+-0x4c*-0x13;_0x3fa15f<_0x148057['length'];_0x3fa15f++){const _0x26e38a=_0x148057[_0x3fa15f];if(_0x52b594['has'](_0x26e38a)){_0x52b594['delete'](_0x26e38a);const _0x2f2b11=_0xfeae39['indexOf'](_0x26e38a);_0x2f2b11>=-0x5cf*0x1+-0x1*-0xcb9+-0x6ea*0x1&&_0xfeae39['splice'](_0x2f2b11,0x2*0x14a+-0x1ce3+0x1a50);}}}['clearMeshI'+'nstances'](_0x29a97d=!(-0x4*0x8e9+0x1*-0xdc+0x2481)){this['meshInstan'+'ces']['length']=-0x1*0x2230+-0x1e47+0x4077,this['meshInstan'+'cesSet']['clear'](),_0x29a97d||(this['shadowCast'+'ers']['length']=0x1e94+-0x1*0x2bd+0x1*-0x1bd7,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x36d+0x1*0x2615+0x3c6*-0xb),this['_lightIdHa'+'shDirty']=!(-0x1021+-0x271*0x3+-0x1774*-0x1),this['_splitLigh'+'tsDirty']=!(0xdc8+0x16*0x12d+-0x27a6);}['hasLight'](_0x3c6d52){return this['_lightsSet']['has'](_0x3c6d52);}['addLight'](_0x475773){const _0x15f83a=_0x475773['light'];this['_lightsSet']['has'](_0x15f83a)||(this['_lightsSet']['add'](_0x15f83a),this['_lights']['push'](_0x15f83a),this['markLights'+'Dirty']()),_0x15f83a['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x15f83a);}['removeLigh'+'t'](_0x43e395){const _0x17f108=_0x43e395['light'];this['_lightsSet']['has'](_0x17f108)&&(this['_lightsSet']['delete'](_0x17f108),this['_lights']['splice'](this['_lights']['indexOf'](_0x17f108),-0xb45+-0x1f*-0x7e+-0x3fc),this['markLights'+'Dirty']()),_0x17f108['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x17f108);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x356242=>_0x356242['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0xa73+-0xdd+-0x10*-0xb5,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0xa3a+-0x2*-0xafb+-0x202f);const _0x4e6c2b=this['_splitLigh'+'ts'];for(let _0x34292e=0x20b7+0x143*-0xb+-0x12d6;_0x34292e<_0x4e6c2b['length'];_0x34292e++)_0x4e6c2b[_0x34292e]['length']=-0x5c8+-0x121b+0x17e3;const _0x144b96=this['_lights'];for(let _0x6e3690=-0x292*0xd+-0x54+0x21be;_0x6e3690<_0x144b96['length'];_0x6e3690++){const _0x1d9c0b=_0x144b96[_0x6e3690];_0x1d9c0b['enabled']&&_0x4e6c2b[_0x1d9c0b['_type']]['push'](_0x1d9c0b);}for(let _0x4da613=-0xe5*-0x2b+0x143+-0x27ba;_0x4da613<_0x4e6c2b['length'];_0x4da613++)_0x4e6c2b[_0x4da613]['sort']((_0x2e99a2,_0x3cc3ba)=>_0x2e99a2['key']-_0x3cc3ba['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x292c39,_0x5110ee,_0x5724aa){let _0x3bdf83=-0x1e*-0x12d+0x1a*-0xbd+-0x1014;const _0x15fc92=this['_lights'];for(let _0x3a1828=0x97*-0x17+-0x1598+0x2329;_0x3a1828<_0x15fc92['length'];_0x3a1828++){const _0x9d6d85=_0x15fc92[_0x3a1828]['type']!==ve;(_0x292c39&&_0x9d6d85||_0x5110ee&&!_0x9d6d85)&&co['push'](_0x5724aa?_0x15fc92[_0x3a1828]['id']:_0x15fc92[_0x3a1828]['key']);}return co['length']>-0x848+0x51d+0x32b*0x1&&(co['sort'](),_0x3bdf83=By(co),co['length']=0x1a9e+0x1*0x92f+-0x23cd),_0x3bdf83;}['getLightHa'+'sh'](_0x50a94e){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0xac1+-0x5df+0x10a1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x50a94e,!(0x1abd+0x1ce*-0xd+-0x347),!(-0x1f*-0xca+-0x163f+-0x236))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x1a5*0x1+-0x21c6+0x2022),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*-0x1417+0x1b1+-0x15c8),!(0x1*-0x253a+0x1356+0x3*0x5f7),!(0x23b3+0x18f4+-0x3ca7))),this['_lightIdHa'+'sh'];}['addCamera'](_0x13b6e3){this['camerasSet']['has'](_0x13b6e3['camera'])||(this['camerasSet']['add'](_0x13b6e3['camera']),this['cameras']['push'](_0x13b6e3),this['_dirtyComp'+'osition']=!(-0x178*-0x18+0x16*0xad+-0x190f*0x2));}['removeCame'+'ra'](_0x4f49e){if(this['camerasSet']['has'](_0x4f49e['camera'])){this['camerasSet']['delete'](_0x4f49e['camera']);const _0x370974=this['cameras']['indexOf'](_0x4f49e);this['cameras']['splice'](_0x370974,-0x1204+0x8*-0x3f1+0x127*0x2b),this['_dirtyComp'+'osition']=!(0x732+-0x27*0x13+-0x44d);}}['clearCamer'+'as'](){this['cameras']['length']=-0x1f*0x97+-0x1d*-0x147+-0x12c2,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x66*0xf+0x185+0x475);}['_calculate'+'SortDistan'+'ces'](_0x2c84c6,_0x116ea5,_0x2e8209){const _0x4fbf5f=_0x2c84c6['length'],{x:_0x331387,y:_0x18b2e,z:_0x346f75}=_0x116ea5,{x:_0x3b67fd,y:_0x540669,z:_0x25e5e6}=_0x2e8209;for(let _0x3cd2a1=0x1523+-0x1f*-0xdb+-0x32*0xf4;_0x3cd2a1<_0x4fbf5f;_0x3cd2a1++){const _0x417f84=_0x2c84c6[_0x3cd2a1];let _0x5dad35;if(_0x417f84['calculateS'+'ortDistanc'+'e'])_0x5dad35=_0x417f84['calculateS'+'ortDistanc'+'e'](_0x417f84,_0x116ea5,_0x2e8209);else{const _0x16a97a=_0x417f84['aabb']['center'];_0x5dad35=(_0x16a97a['x']-_0x331387)*_0x3b67fd+(_0x16a97a['y']-_0x18b2e)*_0x540669+(_0x16a97a['z']-_0x346f75)*_0x25e5e6;}const _0x31f262=_0x417f84['_drawBucke'+'t']*(-0x4dc25c43*0x1+0xaaf2e*0x552+0x50852387);_0x417f84['_sortKeyDy'+'namic']=_0x31f262+_0x5dad35;}}['getCulledI'+'nstances'](_0x102949){let _0x120587=this['_visibleIn'+'stances']['get'](_0x102949);return _0x120587||(_0x120587=new nA(),this['_visibleIn'+'stances']['set'](_0x102949,_0x120587)),_0x120587;}['sortVisibl'+'e'](_0x50b313,_0x5a5d09){const _0x522eb2=_0x5a5d09?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x522eb2===Yc)return;const _0x270ef0=this['getCulledI'+'nstances'](_0x50b313),_0x2403dc=_0x5a5d09?_0x270ef0['transparen'+'t']:_0x270ef0['opaque'],_0x155eb6=_0x50b313['node'];if(_0x522eb2===Zw){const _0x461f59=_0x155eb6['getPositio'+'n'](),_0x52277c=_0x155eb6['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x2403dc,_0x2403dc['length'],_0x461f59,_0x52277c),this['customSort'+'Callback']&&_0x2403dc['sort'](this['customSort'+'Callback']);}else{if(_0x522eb2===m_||_0x522eb2===Kw){const _0x32e8da=_0x155eb6['getPositio'+'n'](),_0x160273=_0x155eb6['forward'];this['_calculate'+'SortDistan'+'ces'](_0x2403dc,_0x32e8da,_0x160273);}_0x2403dc['sort'](aA[_0x522eb2]);}}}const oA=(_0xf342d5,_0x3d175a)=>_0xf342d5['priority']-_0x3d175a['priority'],ul=_0x503f90=>_0x503f90['sort'](oA);class du extends me{constructor(_0x3667a0='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x2634+-0x16d5+-0xf5e)),(this['name']=_0x3667a0,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0xc27b1d=>_0xc27b1d['destroy']()),this['_renderAct'+'ions']['length']=0x33*0x39+-0x11ec+0x691;}['markDirty'](){this['_dirty']=!(-0x1b0d+0x1*0x29+0x4*0x6b9);}['_update'](){const _0x253181=this['layerList']['length'];if(!this['_dirty']){for(let _0x73d8d7=-0x25fc+0x1*0x22e6+0x316;_0x73d8d7<_0x253181;_0x73d8d7++)if(this['layerList'][_0x73d8d7]['_dirtyComp'+'osition']){this['_dirty']=!(0x1c85+0x20dd+0x3d62*-0x1);break;}}if(this['_dirty']){this['_dirty']=!(0x1565+0xf3c+-0x24a0),this['cameras']['length']=-0x3*0xceb+-0x241c+0x1*0x4add;for(let _0x320a4c=0x578+0x26f6+0xb*-0x40a;_0x320a4c<_0x253181;_0x320a4c++){const _0x399401=this['layerList'][_0x320a4c];_0x399401['_dirtyComp'+'osition']=!(-0x622*-0x1+0x2*0x418+-0xe51*0x1);for(let _0x301ebd=0x19c*-0x8+0x2460+0x1*-0x1780;_0x301ebd<_0x399401['cameras']['length'];_0x301ebd++){const _0x17b1c1=_0x399401['cameras'][_0x301ebd];this['cameras']['indexOf'](_0x17b1c1)<0xe54*0x1+-0x2*0x6d+-0xd7a&&this['cameras']['push'](_0x17b1c1);}}this['cameras']['length']>0x3*-0x2a3+-0x1c27*0x1+-0x2411*-0x1&&ul(this['cameras']);let _0x40598c=-0xf0*0x10+-0xc06+0x1b06;this['destroyRen'+'derActions']();for(let _0x2e324d=0x9f6+0x3d*-0x8f+0x181d*0x1;_0x2e324d<this['cameras']['length'];_0x2e324d++){const _0xb45cfc=this['cameras'][_0x2e324d];if(_0xb45cfc['camera']['renderPass'+'es']['length']>-0x73b*-0x2+-0x1*0x114b+0x2d5){this['addDummyRe'+'nderAction'](_0x40598c,_0xb45cfc),_0x40598c++;continue;}let _0x5b1052=!(-0x541*0x2+0x11f8+-0x776);const _0x4846f0=_0x40598c;let _0x36a77b=null,_0x4b8330=!(-0x1*0x1fb7+-0x1d07+0x3cbf);for(let _0xdf2144=-0x178f+-0x196+0x9d*0x29;_0xdf2144<_0x253181;_0xdf2144++){const _0xc0cc7e=this['layerList'][_0xdf2144];if(_0xc0cc7e['enabled']&&this['subLayerEn'+'abled'][_0xdf2144]&&_0xc0cc7e['cameras']['length']>-0x12d*0x10+-0x1950+0x2c20&&_0xb45cfc['layers']['indexOf'](_0xc0cc7e['id'])>=-0x1b*-0x10d+0x1a3+-0x1e02*0x1){!_0x4b8330&&_0xc0cc7e['id']===_0xb45cfc['disablePos'+'tEffectsLa'+'yer']&&(_0x4b8330=!(0x105f+0x1a89+0x55d*-0x8),_0x36a77b&&(_0x36a77b['triggerPos'+'tprocess']=!(0x1f7*-0x5+0xb2e+-0x15b)));const _0x39b68d=this['subLayerLi'+'st'][_0xdf2144];_0x36a77b=this['addRenderA'+'ction'](_0x40598c,_0xc0cc7e,_0x39b68d,_0xb45cfc,_0x5b1052,_0x4b8330),_0x40598c++,_0x5b1052=!(-0xa6c+-0x1603+0x2070);}}_0x4846f0<_0x40598c&&(_0x36a77b['lastCamera'+'Use']=!(0x82*0xd+-0x21f+-0x47b)),!_0x4b8330&&_0x36a77b&&(_0x36a77b['triggerPos'+'tprocess']=!(0x1a21+0x22db*0x1+-0x3cfc)),_0xb45cfc['renderTarg'+'et']&&_0xb45cfc['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x4846f0-(0x4c*0xf+0x1f7e+-0x23f1),_0xb45cfc);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3219ad){w['assert'](this['_renderAct'+'ions']['length']===_0x3219ad);const _0x4f8974=new Pv();return this['_renderAct'+'ions']['push'](_0x4f8974),_0x4f8974;}['addDummyRe'+'nderAction'](_0xaed9a1,_0x5b7ebd){const _0x46d39d=this['getNextRen'+'derAction'](_0xaed9a1);_0x46d39d['camera']=_0x5b7ebd,_0x46d39d['useCameraP'+'asses']=!(0xce3+-0x121f+0x53c);}['addRenderA'+'ction'](_0x33ca1d,_0x12aac9,_0x8cc2cb,_0x3d3127,_0x171375,_0x16f0a4){let _0x1103c1=_0x12aac9['id']!==ps?_0x3d3127['renderTarg'+'et']:null,_0x4fc627=!(0x12f7*-0x2+0xd73+0x187c);const _0xf27647=this['_renderAct'+'ions'];for(let _0x39c5df=_0x33ca1d-(0x1*0x22e9+-0x1606+-0x671*0x2);_0x39c5df>=0x21d*0xd+0x1*0xdf9+0x14b9*-0x2;_0x39c5df--)if(_0xf27647[_0x39c5df]['camera']===_0x3d3127&&_0xf27647[_0x39c5df]['renderTarg'+'et']===_0x1103c1){_0x4fc627=!(-0x1*0x520+0x668+-0x148);break;}_0x16f0a4&&_0x3d3127['postEffect'+'sEnabled']&&(_0x1103c1=null);const _0x2a09e5=this['getNextRen'+'derAction'](_0x33ca1d);_0x2a09e5['triggerPos'+'tprocess']=!(-0x32*-0x14+0x6e7+-0x6*0x1cd),_0x2a09e5['layer']=_0x12aac9,_0x2a09e5['transparen'+'t']=_0x8cc2cb,_0x2a09e5['camera']=_0x3d3127,_0x2a09e5['renderTarg'+'et']=_0x1103c1,_0x2a09e5['firstCamer'+'aUse']=_0x171375,_0x2a09e5['lastCamera'+'Use']=!(-0x2*0x11c7+-0x14e0+-0x386f*-0x1);const _0x1d78a0=_0x171375||!_0x4fc627,_0x4f8043=_0x12aac9['clearColor'+'Buffer']||_0x12aac9['clearDepth'+'Buffer']||_0x12aac9['clearStenc'+'ilBuffer'];return(_0x1d78a0||_0x4f8043)&&_0x2a09e5['setupClear'+'s'](_0x1d78a0?_0x3d3127:void(0xfcf+0x1930+0x5*-0x833),_0x12aac9),_0x2a09e5;}['propagateR'+'enderTarge'+'t'](_0x4379b3,_0x3e2756){for(let _0x3e6514=_0x4379b3;_0x3e6514>=0x295*0x7+0x337*-0xb+-0x2*-0x8a5;_0x3e6514--){const _0x41e2af=this['_renderAct'+'ions'][_0x3e6514],_0x495d43=_0x41e2af['layer'];if(_0x41e2af['renderTarg'+'et']&&_0x495d43['id']!==ps)break;if(_0x495d43['id']===ps)continue;if(_0x41e2af['useCameraP'+'asses'])break;const _0x49bc4c=_0x41e2af==null?void(0x76*-0x2e+-0x3*-0x9fa+-0x8ba):_0x41e2af['camera']['camera'];if(_0x49bc4c&&(!_0x3e2756['camera']['rect']['equals'](_0x49bc4c['rect'])||!_0x3e2756['camera']['scissorRec'+'t']['equals'](_0x49bc4c['scissorRec'+'t'])))break;_0x41e2af['renderTarg'+'et']=_0x3e2756['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x27ad17=0x95f+0x104f*-0x2+-0x173f*-0x1;_0x27ad17<this['_renderAct'+'ions']['length'];_0x27ad17++){const _0x42d77b=this['_renderAct'+'ions'][_0x27ad17],_0x4ac3f4=_0x42d77b['camera'];if(_0x42d77b['useCameraP'+'asses'])w['trace'](Vl,_0x27ad17+('CustomPass'+'es\x20Cam:\x20')+(_0x4ac3f4?_0x4ac3f4['entity']['name']:'-'));else{const _0x441390=_0x42d77b['layer'],_0x42f629=_0x441390['enabled']&&this['isEnabled'](_0x441390,_0x42d77b['transparen'+'t']),_0x4fdc26=(_0x42d77b['clearColor']?'Color\x20':'.....\x20')+(_0x42d77b['clearDepth']?'Depth\x20':'.....\x20')+(_0x42d77b['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x27ad17+('\x20Cam:\x20'+(_0x4ac3f4?_0x4ac3f4['entity']['name']:'-'))['padEnd'](0x56*-0x1b+0x897*-0x2+0x1a56,'\x20')+('\x20Lay:\x20'+_0x441390['name'])['padEnd'](0x21eb+-0x6e4+-0x1af1,'\x20')+(_0x42d77b['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x42f629?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x42d77b['renderTarg'+'et']?_0x42d77b['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1*0xd3+-0x951+0xa42,'\x20')+'\x20Clear:\x20'+_0x4fdc26+(_0x42d77b['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x42d77b['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x42d77b['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x4caa95){const _0x49adec=this['layerIdMap']['get'](_0x4caa95['id'])===_0x4caa95;return w['assert'](!_0x49adec,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x4caa95['name']),_0x49adec;}['_isSublaye'+'rAdded'](_0x384e27,_0x32f873){return(_0x32f873?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x384e27)!==void(0xd23+-0xdba+0x97*0x1)?(w['error']('Sublayer\x20'+_0x384e27['name']+(',\x20transpar'+'ent:\x20')+_0x32f873+('\x20is\x20alread'+'y\x20added.')),!(-0x4a*0x61+-0x145+0x7b*0x3d)):!(0x157a+-0x2490+-0x1*-0xf17);}['push'](_0x41b46d){this['_isLayerAd'+'ded'](_0x41b46d)||(this['layerList']['push'](_0x41b46d),this['layerList']['push'](_0x41b46d),this['_opaqueOrd'+'er'][_0x41b46d['id']]=this['subLayerLi'+'st']['push'](!(-0x155*0xe+-0x1*-0x1f1f+-0xc78))-(0x2697+0x1*-0x268d+0x9*-0x1),this['_transpare'+'ntOrder'][_0x41b46d['id']]=this['subLayerLi'+'st']['push'](!(-0x2*-0xce0+0x196e+-0x2*0x1997))-(0xea1+-0x25a1+0x1701),this['subLayerEn'+'abled']['push'](!(0x8c2*-0x1+-0x1a05+0x22c7)),this['subLayerEn'+'abled']['push'](!(-0xe1c*-0x1+-0x3b*-0xf+-0x1191)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1d03+-0x15ad+-0x756),this['fire']('add',_0x41b46d));}['insert'](_0x240e64,_0x30d3aa){if(this['_isLayerAd'+'ded'](_0x240e64))return;this['layerList']['splice'](_0x30d3aa,-0x10b9+-0x1*-0xf07+-0x1*-0x1b2,_0x240e64,_0x240e64),this['subLayerLi'+'st']['splice'](_0x30d3aa,-0x20*-0xf2+-0x1be7+-0x1*0x259,!(0x17*0x141+0x24dc+-0x41b2),!(-0x1*0x499+-0x1d43+0x4*0x877));const _0x38206e=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x30d3aa,_0x38206e-(0x9fc+-0x31*0x43+0xd*0x38)),this['_updateTra'+'nsparentOr'+'der'](_0x30d3aa,_0x38206e-(-0xbc7*0x2+0x4b1+-0x8a*-0x23)),this['subLayerEn'+'abled']['splice'](_0x30d3aa,-0x1*-0x177f+-0x23*-0xcb+-0xcd0*0x4,!(0x12*-0x177+-0x8e1*-0x1+0x117d),!(-0x241f+0x13ce+0x1051)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2666+-0xf1+0x2575*-0x1),this['fire']('add',_0x240e64);}['remove'](_0x2bb5ef){let _0x20ca4b=this['layerList']['indexOf'](_0x2bb5ef);for(delete this['_opaqueOrd'+'er'][_0x20ca4b],delete this['_transpare'+'ntOrder'][_0x20ca4b];_0x20ca4b>=-0x48*0x23+-0xc36+0x160e;)this['layerList']['splice'](_0x20ca4b,-0x4e+0xca2+-0x277*0x5),this['subLayerLi'+'st']['splice'](_0x20ca4b,0x1*-0x4be+0x184f+-0x1390),this['subLayerEn'+'abled']['splice'](_0x20ca4b,0x264b+-0x1376*-0x1+-0x39c0),_0x20ca4b=this['layerList']['indexOf'](_0x2bb5ef),this['_dirty']=!(-0x1*0x235c+-0x191f+-0x1*-0x3c7b),this['fire']('remove',_0x2bb5ef);const _0x1be622=this['layerList']['length'];this['_updateOpa'+'queOrder'](0xc6a*0x2+0x3d*0x17+-0x1e4f,_0x1be622-(-0x3*0x581+-0x202d*-0x1+-0xfa9)),this['_updateTra'+'nsparentOr'+'der'](-0x5d5*-0x5+0x27*-0xcb+0x1*0x1c4,_0x1be622-(0xb82+-0x12e+-0xa53)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x42edd8){this['_isSublaye'+'rAdded'](_0x42edd8,!(0xd6*0x2d+0x74c*-0x5+-0x1*0x121))||(this['layerList']['push'](_0x42edd8),this['_opaqueOrd'+'er'][_0x42edd8['id']]=this['subLayerLi'+'st']['push'](!(-0x1b52+-0xb*0x10+0x47*0x65))-(0xa07*0x3+-0x4*-0x1a0+0x2*-0x124a),this['subLayerEn'+'abled']['push'](!(-0x247*-0x3+-0x23f3+0x1*0x1d1e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x2*-0x67d+-0x3da+0x920*-0x1),this['fire']('add',_0x42edd8));}['insertOpaq'+'ue'](_0x1f251b,_0x343914){if(this['_isSublaye'+'rAdded'](_0x1f251b,!(0x1*-0x543+0x26*0xca+-0x18b8)))return;this['layerList']['splice'](_0x343914,0x7f4+0xd*-0x26c+0x3ec*0x6,_0x1f251b),this['subLayerLi'+'st']['splice'](_0x343914,-0x6ab+0x2d*-0xd8+0x2ca3*0x1,!(-0xa3e+-0x21df+0x2c1e));const _0x3cf685=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x343914,_0x3cf685-(-0x287*0x7+-0x2351*0x1+0x3503)),this['subLayerEn'+'abled']['splice'](_0x343914,-0x15*-0x15d+0x23a5+-0x1*0x4046,!(-0x1*0x925+0x19a5+-0x1080)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*-0xc7+-0x1b57+0x1a90),this['fire']('add',_0x1f251b);}['removeOpaq'+'ue'](_0x90a204){for(let _0x1feb2e=0x12c3+-0x1*0x45b+-0xe68,_0x3e6aed=this['layerList']['length'];_0x1feb2e<_0x3e6aed;_0x1feb2e++)if(this['layerList'][_0x1feb2e]===_0x90a204&&!this['subLayerLi'+'st'][_0x1feb2e]){this['layerList']['splice'](_0x1feb2e,0x25*0x7b+0x4*-0x1c0+-0xac6),this['subLayerLi'+'st']['splice'](_0x1feb2e,-0x6f6+0xc7*0x27+-0x175a),_0x3e6aed--,this['_updateOpa'+'queOrder'](_0x1feb2e,_0x3e6aed-(0x5a3+-0x1493+0xef1)),this['subLayerEn'+'abled']['splice'](_0x1feb2e,0x215d+-0x1*0x2e3+-0x1e79*0x1),this['_dirty']=!(0xc37+0x939*-0x1+-0x2fe),this['layerList']['indexOf'](_0x90a204)<0xf1*-0x25+-0x1c9d+-0x1526*-0x3&&this['fire']('remove',_0x90a204);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x152a5d){this['_isSublaye'+'rAdded'](_0x152a5d,!(-0x2491+-0x123d+-0x17*-0x262))||(this['layerList']['push'](_0x152a5d),this['_transpare'+'ntOrder'][_0x152a5d['id']]=this['subLayerLi'+'st']['push'](!(0x3*0x419+0x1*0x153d+-0x2188))-(0x18*-0x21+-0x3*0x72d+0x4*0x628),this['subLayerEn'+'abled']['push'](!(0x214c+0x15c4+0x1*-0x3710)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x4b*0x6a+0x4*0x19c+0x89*0x2e),this['fire']('add',_0x152a5d));}['insertTran'+'sparent'](_0x539e7c,_0x2bff71){if(this['_isSublaye'+'rAdded'](_0x539e7c,!(0x1*-0x31f+0x210f+0x2*-0xef8)))return;this['layerList']['splice'](_0x2bff71,-0x213f+0x194d+0x7f2,_0x539e7c),this['subLayerLi'+'st']['splice'](_0x2bff71,-0x1f17+-0x1b0b+-0x427*-0xe,!(0x501*0x3+0x261*-0x6+-0x1b*0x7));const _0x3d097c=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x2bff71,_0x3d097c-(0x17*-0x1af+0x1428+0x1292*0x1)),this['subLayerEn'+'abled']['splice'](_0x2bff71,-0x25d4+-0x1f7d+0x4551,!(-0x913*-0x3+0xa40+-0x2579)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x12ae+0xc31*0x1+-0x1*0x1edf),this['fire']('add',_0x539e7c);}['removeTran'+'sparent'](_0x1cd300){for(let _0x43427e=-0xdf*-0x11+0x1f10+0x1*-0x2ddf,_0x142bac=this['layerList']['length'];_0x43427e<_0x142bac;_0x43427e++)if(this['layerList'][_0x43427e]===_0x1cd300&&this['subLayerLi'+'st'][_0x43427e]){this['layerList']['splice'](_0x43427e,0x1*0x1d23+-0x1b80+-0x1a2),this['subLayerLi'+'st']['splice'](_0x43427e,-0x25e9+-0x14e8+0x3ad2),_0x142bac--,this['_updateTra'+'nsparentOr'+'der'](_0x43427e,_0x142bac-(-0x185c+-0x165c+-0x1b*-0x1bb)),this['subLayerEn'+'abled']['splice'](_0x43427e,0x166b+0x17cc+-0x2e36),this['_dirty']=!(-0x179a+0x1d6b*0x1+-0x5d1*0x1),this['layerList']['indexOf'](_0x1cd300)<0x2423+0x1d54+-0x4177*0x1&&this['fire']('remove',_0x1cd300);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1354e7){return this['layerOpaqu'+'eIndexMap']['get'](_0x1354e7)??-(0x908+-0x1*-0x13af+-0x1cb6);}['getTranspa'+'rentIndex'](_0x41ad38){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x41ad38)??-(-0x127d*-0x2+-0x1*-0x115d+0x42e*-0xd);}['isEnabled'](_0x1d1344,_0x748251){if(_0x1d1344['enabled']){const _0x58696=_0x748251?this['getTranspa'+'rentIndex'](_0x1d1344):this['getOpaqueI'+'ndex'](_0x1d1344);if(_0x58696>=0x1*0xd5d+-0x2*-0x1000+-0x67b*0x7)return this['subLayerEn'+'abled'][_0x58696];}return!(-0xde4+0x1d34+-0xf4f);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xc37c69=-0x17*-0x179+0x3fe*-0x5+0x1*-0xde9;_0xc37c69<this['layerList']['length'];_0xc37c69++){const _0x322485=this['layerList'][_0xc37c69];this['layerIdMap']['set'](_0x322485['id'],_0x322485),this['layerNameM'+'ap']['set'](_0x322485['name'],_0x322485),(this['subLayerLi'+'st'][_0xc37c69]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x322485,_0xc37c69);}}['getLayerBy'+'Id'](_0x1b0175){return this['layerIdMap']['get'](_0x1b0175)??null;}['getLayerBy'+'Name'](_0x22f0fb){return this['layerNameM'+'ap']['get'](_0x22f0fb)??null;}['_updateOpa'+'queOrder'](_0x5de57b,_0x3eca1e){for(let _0x2df4c0=_0x5de57b;_0x2df4c0<=_0x3eca1e;_0x2df4c0++)this['subLayerLi'+'st'][_0x2df4c0]===!(-0x1986+-0xaae*0x2+0x2ee3*0x1)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x2df4c0]['id']]=_0x2df4c0);}['_updateTra'+'nsparentOr'+'der'](_0x362782,_0x39b18e){for(let _0xd0038e=_0x362782;_0xd0038e<=_0x39b18e;_0xd0038e++)this['subLayerLi'+'st'][_0xd0038e]===!(-0x1a3+0x4*-0x6c6+0x1cbb*0x1)&&(this['_transpare'+'ntOrder'][this['layerList'][_0xd0038e]['id']]=_0xd0038e);}['_sortLayer'+'sDescendin'+'g'](_0x19ac5b,_0x596657,_0x4476dc){let _0x46b336=-(-0x5f*0x4f+-0x28d*-0xb+0x143*0x1),_0x4bb046=-(-0xfcd*0x1+0x56c+0x1*0xa62);for(let _0x409e13=0x17fe+0x7*0x3aa+0x1*-0x31a4,_0x2949f0=_0x19ac5b['length'];_0x409e13<_0x2949f0;_0x409e13++){const _0x8c3cbb=_0x19ac5b[_0x409e13];_0x4476dc['hasOwnProp'+'erty'](_0x8c3cbb)&&(_0x46b336=Math['max'](_0x46b336,_0x4476dc[_0x8c3cbb]));}for(let _0x32a253=-0x49*0x45+0x2b7*-0x5+0x2140,_0x5a4fea=_0x596657['length'];_0x32a253<_0x5a4fea;_0x32a253++){const _0x2b19e1=_0x596657[_0x32a253];_0x4476dc['hasOwnProp'+'erty'](_0x2b19e1)&&(_0x4bb046=Math['max'](_0x4bb046,_0x4476dc[_0x2b19e1]));}return _0x46b336===-(0x62*-0x61+0xc77*-0x1+0x716*0x7)&&_0x4bb046!==-(-0x5b3+0x1c5f+-0x16ab)?-0x7cd*0x1+-0x4c*-0x25+-0x25*0x16:_0x4bb046===-(0x1637+-0x6d*-0x35+-0x2cc7)&&_0x46b336!==-(-0x1*-0x211a+-0x1*-0xe7a+-0x281*0x13)?-(0x1f1b+0x247b*-0x1+0x561):_0x4bb046-_0x46b336;}['sortTransp'+'arentLayer'+'s'](_0x29a9ea,_0x246a30){return this['_sortLayer'+'sDescendin'+'g'](_0x29a9ea,_0x246a30,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4cb58b,_0x116324){return this['_sortLayer'+'sDescendin'+'g'](_0x4cb58b,_0x116324,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x170c+0x1874+0x9*-0x28,-0xcfb+-0x2cf*0x2+0x1299,0xb7c+-0x2c0+-0x8bb,0x2af+0x1574+0x1822*-0x1)],[new re(0xd*0xb3+0x2479+-0xd8*0x36,0x12f0+-0x993+0x2f*-0x33,0x638+-0x19*0x53+0x1e3+0.5,-0x68e+0x12e3*0x2+0x1*-0x1f38+0.5),new re(-0x13c*0x8+0x401*-0x2+0x11e2,0xc*0x43+0xf33+-0x1257+0.5,0x1*-0x1250+0xe*-0x20c+0x2ef8+0.5,-0x1*-0xca1+-0x849*0x1+0x8*-0x8b+0.5)],[new re(-0x2389+-0x5fe*-0x1+0x3*0x9d9,0xe*-0x158+0x1d06+-0xa36,0x219*-0xc+-0x17b5+0x30e1+0.5,0x1c10+0x368*0x3+-0x2648+0.5),new re(0x10d6+-0x1*0x1d+-0x3*0x593,0x78c+0x789*-0x2+0x786+0.5,0x22a6+-0x100a+-0x94e*0x2+0.5,-0x3a1*-0x5+-0xc23+-0x2*0x301+0.5),new re(-0x1c6+-0x184d*-0x1+-0x4f*0x49+0.5,0x186+-0x12*-0x123+0x324*-0x7,0x20+0x4b2+0x269*-0x2+0.5,-0x1cf5+-0x3*0xa7d+-0x4*-0xf1b+0.5)],[new re(-0x1*0x664+0x19ee+0x7a*-0x29,-0xa3*-0x2+0xf*-0x16a+0x13f0,0x6dd+-0x2586+0x1ea9*0x1+0.5,-0x120+-0x11*0x244+0x27a4+0.5),new re(-0xad*-0x7+0x1268+-0x1723,-0x9c0+-0x1069+-0x25*-0xb5+0.5,-0x9*0x13c+-0x13eb*0x1+0x1f07+0.5,-0xf7*0x1+-0x15*-0x1cd+-0x24da+0.5),new re(-0x3*-0x93f+0x2*-0xb5d+0x1*-0x503+0.5,-0x908+0x1*0x1aba+-0x1*0x11b2,-0x1c1*-0x2+0x2*0x8cd+-0x151c+0.5,0x12e0+-0x1*-0x2153+-0x1*0x3433+0.5),new re(0x1922+0x28f*0x6+-0x287c+0.5,-0x73f+0xe49+-0x70a+0.5,-0x1c7c+0xc68*0x1+0x1014+0.5,0xe5*-0x13+0x3*0x13c+0x29*0x53+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0xa4*-0x12+0x1ef3+-0x1d*0x177;class dA{constructor(_0x5aeff3,_0x5eac57,_0x2364e6){this['light']=_0x2364e6,this['camera']=_0x5aeff3,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x2364e6['_shadowTyp'+'e'],_0x2364e6['_type'],_0x5eac57),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(-0x1*-0x204d+0x958+-0x29a5,-0x36*-0x49+0xbeb+-0x1b51,0x2618+-0x1c44+0x1f7*-0x5,-0x5*-0x5a7+-0x1346+-0x8fc),this['shadowScis'+'sor']=new re(-0x55*0x59+0x1*-0x359+-0x20e6*-0x1,0x33b*-0x1+-0x9f0+0xd2b,-0x1c0b+-0xb8c+0x2798,0x15*0xcc+0x460+-0x151b),this['projection'+'Compensati'+'on']=0x45*-0x41+0x3c+0x19*0xb1,this['face']=_0x5eac57,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3eb36f=>{_0x3eb36f['defaultUni'+'formBuffer']['destroy'](),_0x3eb36f['destroy']();}),this['viewBindGr'+'oups']['length']=-0x2b*-0xad+0x11*0xa0+0x1*-0x27af;}get['shadowBuff'+'er'](){const _0x33461b=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x33461b?this['light']['_isPcf']?_0x33461b['depthBuffe'+'r']:_0x33461b['colorBuffe'+'r']:null;}}class pl{constructor(_0x9b7a3b,_0xb28c7b){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0x135e+0x2b*0x10+0x10ae),h(this,'clusteredD'+'ata',new Uint32Array(-0x918+0x1*0x2593+-0x1c78)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x9b7a3b,this['clusteredL'+'ighting']=_0xb28c7b,this['id']=hA++,this['_evtDevice'+'Restored']=_0x9b7a3b['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x2225+-0x201d*0x1+0x4242+0.8,0x101c+0x153e*0x1+0x556*-0x7+0.8,0x3b*-0x4d+-0xd*0x1c1+0x288c+0.8),this['_intensity']=0x1f46+0x3*0x2e7+-0x27fa,this['_affectSpe'+'cularity']=!(-0x2155+-0x7a3*-0x5+0x4da*-0x1),this['_luminance']=-0x9d0+-0x5e*0x4d+0x2616,this['_castShado'+'ws']=!(-0x694+-0x7ae*0x1+0xe43),this['_enabled']=!(-0x20f7+-0x425+0x251d),this['_mask']=Ss,this['isStatic']=!(0x13a6+-0x1b25*0x1+0xa*0xc0),this['key']=0x235c+0x14bd+-0x3819,this['bakeDir']=!(-0x49*-0x1+-0x3*0xc24+0x2423),this['bakeNumSam'+'ples']=0x1320+0x962+-0x1c81,this['bakeArea']=-0xba2+0xb11*0x3+0x1591*-0x1,this['attenuatio'+'nStart']=0x2*-0xf47+-0xbb8+0x4*0xa94,this['attenuatio'+'nEnd']=-0x9d9*-0x1+-0x1e9e+0x14cf,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0x97b*0x3+0x164f*-0x1+-0x1*0x617,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0x117d+0x51*0x13+-0xe2*-0xd+0.01)*(0x1d65+-0x23f8*0x1+0x9*0xbb+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0xb*-0x18+-0xa7*-0x1+0x62,this['_cookieFal'+'loff']=!(-0x2b3+0x166+-0x6f*-0x3),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1*-0xaf+0x1*-0x1e16+0x1ec9),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x834+0x13*0x1ef+0x1*-0x1c87),this['_cookieTra'+'nsformSet']=!(-0x4fa*0x5+0x1a12+-0x12f),this['_cookieOff'+'setSet']=!(-0x187d+-0x6a1+0x101*0x1f),this['_innerCone'+'Angle']=-0x1c0f+-0x13*0x5d+-0x136*-0x1d,this['_outerCone'+'Angle']=0xc*-0xf4+0x1*0x160d+0xa7*-0x10,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x1542+-0x26c1*0x1+0x3c04,this['_cascadeBl'+'end']=-0x2*0x14+-0x11dd+0x1205,this['cascadeDis'+'tribution']=0x67*0x40+0x684+-0x2044+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0x61*-0x5+-0x165d+-0x3*-0x817),this['_updateLin'+'earColor'](),this['_position']=new D(0x136f+-0x217*0x2+-0x37*0x47,0x79*-0x1a+-0x92*0x15+0x1844,-0xdd7+0x887*0x1+0x550),this['_direction']=new D(0x2583+0x5*0x2cf+0x1*-0x338e,0xe8f*-0x1+0x75e+0x731,0x2cb+-0xa0f+0x1d1*0x4),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1025+-0xca*-0x3+-0x11cf)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xec9*0x1+0x11fd+0xa4*-0x5),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x265b*0x1+-0x6ed+0x1*-0x1f46,this['_shadowRes'+'olution']=0x13d6+0x220f+-0x31e5,this['_shadowBia'+'s']=-(0xe8b+0x1883*-0x1+0x9f8+0.0005),this['_shadowInt'+'ensity']=0x164e+0x19e1+-0x302e,this['_normalOff'+'setBias']=-0x7a4+-0x5*-0x5cf+-0x1567,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x51*0x3f+-0x1db2+0x31a2),this['_isPcf']=!(0x801+-0x17*0x56+-0x47),this['_softShado'+'wParams']=new Float32Array(-0x2eb+-0x1c96*0x1+0x1f85),this['shadowSamp'+'les']=0x25dd+0x1976+-0xcd*0x4f,this['shadowBloc'+'kerSamples']=-0x1*0x1a6b+0x114d*0x1+0x92e,this['penumbraSi'+'ze']=0x7*0x17b+0x10b4+-0x6c4*0x4,this['penumbraFa'+'lloff']=-0x69*-0x11+0x252f+-0x59*0x7f,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x230e+0x16ca+0xc45),this['atlasVersi'+'on']=-0xb*-0x267+0x22c3+-0x3d30,this['atlasSlotI'+'ndex']=0x243c+-0x1a8d+-0x9af,this['atlasSlotU'+'pdated']=!(-0xc01*0x3+-0x37a+0x277e),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xf45+-0x1633+0x2579),this['maxScreenS'+'ize']=0xbac+0x4*-0x86e+-0x53*-0x44,this['_updateSha'+'dowBias']());}['destroy'](){var _0x739cd1;(_0x739cd1=this['_evtDevice'+'Restored'])==null||_0x739cd1['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x324614=-0x22*-0xa3+-0x162c+-0x86*-0x1;_0x324614<this['_renderDat'+'a']['length'];_0x324614++)this['_renderDat'+'a'][_0x324614]['destroy']();this['_renderDat'+'a']['length']=-0x1f97+-0x1d50+0x3ce7;}}['addLayer'](_0x383a6e){this['layers']['add'](_0x383a6e);}['removeLaye'+'r'](_0x2b7a56){this['layers']['delete'](_0x2b7a56);}set['shadowSamp'+'les'](_0x296a17){this['_softShado'+'wParams'][0xeac+-0x1d*-0xb2+-0x22d6]=_0x296a17;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x18b5+0x233d+0x8*-0x151];}set['shadowBloc'+'kerSamples'](_0x5414a7){this['_softShado'+'wParams'][0x1ac*-0x11+0x40*0x5f+0x4ad]=_0x5414a7;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x67a*-0x2+0xd*0xf+-0xdb6];}set['shadowBias'](_0x404fd1){this['_shadowBia'+'s']!==_0x404fd1&&(this['_shadowBia'+'s']=_0x404fd1,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x2f78fa){(!this['cascades']||this['numCascade'+'s']!==_0x2f78fa)&&(this['cascades']=lA[_0x2f78fa-(-0x1a5*-0x1+-0x4e8+-0x4c*-0xb)],this['_shadowMat'+'rixPalette']=new Float32Array(-0x4*-0x1be+-0x1205+0xb4d*0x1),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x2003+0x1*0x9dd+0x162a),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1b57be){this['_cascadeBl'+'end']!==_0x1b57be&&(this['_cascadeBl'+'end']=_0x1b57be,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x6ac970){this['_shadowMap']!==_0x6ac970&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x6ac970);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x4b1c43){this['_mask']!==_0x4b1c43&&(this['_mask']=_0x4b1c43,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x4faf44=this['_type'];return _0x4faf44===ve?this['numCascade'+'s']:_0x4faf44===Ke?0x7*-0x6f+0x5d5*-0x4+-0x7*-0x3c5:-0x1*-0x769+-0x1*-0x1223+-0x198b;}set['type'](_0x353ae8){if(this['_type']===_0x353ae8)return;this['_type']=_0x353ae8,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x26a93f=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x26a93f;}get['type'](){return this['_type'];}set['shape'](_0x10cc1c){if(this['_shape']===_0x10cc1c)return;this['_shape']=_0x10cc1c,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x5d45f8=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x5d45f8;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x1a03b1){this['_usePhysic'+'alUnits']!==_0x1a03b1&&(this['_usePhysic'+'alUnits']=_0x1a03b1,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3ff963){if(this['_shadowTyp'+'e']===_0x3ff963)return;let _0x4f75ea=qi['get'](_0x3ff963);_0x4f75ea||(_0x3ff963=$s);const _0x358051=this['device'];_0x3ff963===al&&!_0x358051['textureFlo'+'atRenderab'+'le']&&!_0x358051['textureHal'+'fFloatRend'+'erable']&&(_0x3ff963=$s),this['_type']===Ke&&_0x3ff963!==tv&&_0x3ff963!==$s&&_0x3ff963!==sv&&_0x3ff963!==iv&&_0x3ff963!==al&&(_0x3ff963=$s),_0x3ff963===Jp&&(!_0x358051['textureFlo'+'atRenderab'+'le']||!_0x358051['textureFlo'+'atFilterab'+'le'])&&(_0x3ff963=au),_0x3ff963===au&&!_0x358051['textureHal'+'fFloatRend'+'erable']&&(_0x3ff963=$s),_0x4f75ea=qi['get'](_0x3ff963),this['_isVsm']=(_0x4f75ea==null?void(-0x1c24+0x63c+-0x1*-0x15e8):_0x4f75ea['vsm'])??!(0x1*-0x2593+-0x19c*-0x15+-0x16*-0x2c),this['_isPcf']=(_0x4f75ea==null?void(0x1*-0x358+-0x7*-0xdf+-0x2c1):_0x4f75ea['pcf'])??!(-0x23dc+0x451*0x1+0x1f8c),this['_shadowTyp'+'e']=_0x3ff963,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x2d0f26){this['_enabled']!==_0x2d0f26&&(this['_enabled']=_0x2d0f26,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x5b381d){this['_castShado'+'ws']!==_0x5b381d&&(this['_castShado'+'ws']=_0x5b381d,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0x6b*0x36+0x214d+0x1*-0xabb;}set['shadowInte'+'nsity'](_0x3a62a5){this['_shadowInt'+'ensity']!==_0x3a62a5&&(this['_shadowInt'+'ensity']=_0x3a62a5,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x15259c){this['_shadowRes'+'olution']!==_0x15259c&&(this['_type']===Ke?_0x15259c=Math['min'](_0x15259c,this['device']['maxCubeMap'+'Size']):_0x15259c=Math['min'](_0x15259c,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x15259c,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x4ec7c1){this['_vsmBlurSi'+'ze']!==_0x4ec7c1&&(_0x4ec7c1%(0x1*0x21b3+-0x24cd+0x31c)===0x1219*-0x1+0x164b+-0xb3*0x6&&_0x4ec7c1++,this['_vsmBlurSi'+'ze']=_0x4ec7c1);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x3cb46d){if(this['_normalOff'+'setBias']!==_0x3cb46d){const _0x3c580f=!this['_normalOff'+'setBias']&&_0x3cb46d||this['_normalOff'+'setBias']&&!_0x3cb46d;this['_normalOff'+'setBias']=_0x3cb46d,_0x3c580f&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x436262){this['_falloffMo'+'de']!==_0x436262&&(this['_falloffMo'+'de']=_0x436262,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x33f42c){this['_innerCone'+'Angle']!==_0x33f42c&&(this['_innerCone'+'Angle']=_0x33f42c,this['_innerCone'+'AngleCos']=Math['cos'](_0x33f42c*Math['PI']/(0x1*0x351+0x1*0x170f+-0x66b*0x4)),this['updateClus'+'terData'](!(0x7d0+-0x2*-0xe26+-0x241b),!(0x1063*0x2+-0x1*-0x1583+0xd*-0x42d)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x4bf186){this['_outerCone'+'Angle']!==_0x4bf186&&(this['_outerCone'+'Angle']=_0x4bf186,this['_updateOut'+'erAngle'](_0x4bf186),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x1d3731){this['_penumbraS'+'ize']=_0x1d3731,this['_softShado'+'wParams'][0x82*0x2+-0x1494+0xf*0x14e]=_0x1d3731;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x412a09){this['_softShado'+'wParams'][-0x2079+0x21a3+-0x127]=_0x412a09;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0xa*-0x89+-0x2e*-0x5c+-0xb2b];}['_updateOut'+'erAngle'](_0x1ca96e){const _0x729d1b=_0x1ca96e*Math['PI']/(0x96b+-0xbf4+-0x33d*-0x1);this['_outerCone'+'AngleCos']=Math['cos'](_0x729d1b),this['_outerCone'+'AngleSin']=Math['sin'](_0x729d1b),this['updateClus'+'terData'](!(-0x14d9+-0x1*-0xfbd+0x4d*0x11),!(0x14a5+-0xe*-0x20b+-0x313f));}set['intensity'](_0x4511a2){this['_intensity']!==_0x4511a2&&(this['_intensity']=_0x4511a2,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x1e5f4e){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x1e5f4e,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x4541fb){this['_luminance']!==_0x4541fb&&(this['_luminance']=_0x4541fb,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x8*-0x164+-0x787+-0x3bb*-0x5,0x7*0x219+-0x6d*0x2f+0x554,0x25dc+0x235*0x1+-0x2*0x1408,0x1319+-0x29*0x9c+0x2f2*0x2)),this['_atlasView'+'port'];}set['cookie'](_0x79ae67){this['_cookie']!==_0x79ae67&&(this['_cookie']=_0x79ae67,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x4c02f9){this['_cookieFal'+'loff']!==_0x4c02f9&&(this['_cookieFal'+'loff']=_0x4c02f9,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x1cb3e7){if(this['_cookieCha'+'nnel']!==_0x1cb3e7){if(_0x1cb3e7['length']<-0x224d+0xc95+0x15bb){const _0x5e1e14=_0x1cb3e7['charAt'](_0x1cb3e7['length']-(-0x1ae5+0x1*0x1aef+-0x9)),_0x421e0b=0x1a*-0x3e+0x1e2c+0x29*-0x95-_0x1cb3e7['length'];for(let _0x2f29a3=-0x1bad+0x6f*-0x1+0x1c1c;_0x2f29a3<_0x421e0b;_0x2f29a3++)_0x1cb3e7+=_0x5e1e14;}this['_cookieCha'+'nnel']=_0x1cb3e7,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x29be23){this['_cookieTra'+'nsform']!==_0x29be23&&(this['_cookieTra'+'nsform']=_0x29be23,this['_cookieTra'+'nsformSet']=!!_0x29be23,_0x29be23&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x2465+-0x1*-0x2084+0x3e2)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x4a5245){if(this['_cookieOff'+'set']===_0x4a5245)return;!!(this['_cookieTra'+'nsformSet']||_0x4a5245)&&!_0x4a5245&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x3f*-0x74+-0xdd1*0x1+0x2a5d,0x3d+0x1ac*-0x13+0x481*0x7):this['_cookieOff'+'set']=_0x4a5245,this['_cookieOff'+'setSet']=!!_0x4a5245,_0x4a5245&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x3ca+0x1138+-0xd6d,0x7e3+-0x14*-0xfd+-0x1ba6*0x1,-0x10bf+-0x1f4e+-0x1*-0x300d,-0x1*0x1607+0x3c8+0x123f),this['_cookieTra'+'nsformSet']=!(0x874+-0x2332+-0xa7*-0x29)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0xbe8+-0x1dc6+0x29ae,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x79f+-0x1*0x1f67+0x2707),this['atlasSlotU'+'pdated']=!(-0xa55*-0x1+-0xcbb*0x2+0x1a*0x95);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x15cd01=-0xf*-0x1dc+0x1fdd+-0x3bc1;_0x15cd01<this['shadowUpda'+'teOverride'+'s']['length'];_0x15cd01++)this['shadowUpda'+'teOverride'+'s'][_0x15cd01]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x15cd01]=xr);}}['getRenderD'+'ata'](_0x32c278,_0x38e5f7){for(let _0x30d5da=0x1*0x1d03+0x2180+0xd*-0x4cf;_0x30d5da<this['_renderDat'+'a']['length'];_0x30d5da++){const _0x24007d=this['_renderDat'+'a'][_0x30d5da];if(_0x24007d['camera']===_0x32c278&&_0x24007d['face']===_0x38e5f7)return _0x24007d;}const _0x112d98=new dA(_0x32c278,_0x38e5f7,this);return this['_renderDat'+'a']['push'](_0x112d98),_0x112d98;}['clone'](){const _0xbefc3d=new pl(this['device'],this['clusteredL'+'ighting']);return _0xbefc3d['type']=this['_type'],_0xbefc3d['setColor'](this['_color']),_0xbefc3d['intensity']=this['_intensity'],_0xbefc3d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0xbefc3d['luminance']=this['_luminance'],_0xbefc3d['castShadow'+'s']=this['castShadow'+'s'],_0xbefc3d['_enabled']=this['_enabled'],_0xbefc3d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0xbefc3d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0xbefc3d['falloffMod'+'e']=this['_falloffMo'+'de'],_0xbefc3d['shadowType']=this['_shadowTyp'+'e'],_0xbefc3d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0xbefc3d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0xbefc3d['vsmBias']=this['vsmBias'],_0xbefc3d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0xbefc3d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0xbefc3d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0xbefc3d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0xbefc3d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0xbefc3d['numCascade'+'s']=this['numCascade'+'s'],_0xbefc3d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0xbefc3d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0xbefc3d['shape']=this['_shape'],_0xbefc3d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0xbefc3d['shadowBias']=this['shadowBias'],_0xbefc3d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0xbefc3d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0xbefc3d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0xbefc3d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0xbefc3d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0xbefc3d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0xbefc3d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0xbefc3d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0xbefc3d;}static['getLightUn'+'itConversi'+'on'](_0x32fb94,_0x57c3f5=Math['PI']/(-0x1*-0xf59+-0x1ead*-0x1+-0x2e02),_0x5120da=0x37*-0x22+0xd53+-0x605){switch(_0x32fb94){case Ze:{const _0x5d8354=Math['cos'](_0x57c3f5),_0x56e350=Math['cos'](_0x5120da);return(-0x26bb+-0xb7b*0x3+0x227*0x22)*Math['PI']*(-0x28*-0x33+0x2f*-0xa6+-0x1*-0x1683-_0x56e350+(_0x56e350-_0x5d8354)/(-0x86+-0x29*0x6b+0x11ab));}case Ke:return(0x5fc*-0x5+0x1156+0xc9a)*Math['PI'];case ve:return 0x122a*-0x2+-0x950+0x2da5;}}['_getUnifor'+'mBiasValue'+'s'](_0x333270){const _0x959678=_0x333270['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x2b3+-0x1f36+0x1c83+0.00001)*(-0x147b+-0x1c6*0x1+0x1655*0x1):wi['bias']=this['shadowBias']*(-0x18+-0x2243+0x226f),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x11*-0x132+-0x971+-0xada*0x1)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x213+-0x11c9+-0x9ee*-0x2+0.00001)*(-0x5d1+0x35*-0xad+-0x1*-0x29b6):wi['bias']=this['shadowBias']/_0x959678*(0xc52+0xc27*0x1+0x1*-0x1815),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x959678/(0x83+-0xb4d+-0x47*-0x27)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x3e993a){if(this['_type']===Ze){const _0x22c03c=this['attenuatio'+'nEnd'],_0x5968dd=this['_outerCone'+'Angle'],_0x2c7729=this['_outerCone'+'AngleCos'],_0x353c62=this['_node'];dc['copy'](_0x353c62['up']),_0x5968dd>0x1*0x22d+0x55e+-0x2e*0x29?(_0x3e993a['radius']=_0x22c03c*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x22c03c*_0x2c7729)):(_0x3e993a['radius']=_0x22c03c/((-0x1*-0x103f+0x3d7*0x2+-0x17eb)*_0x2c7729),dc['mulScalar'](-_0x3e993a['radius'])),_0x3e993a['center']['add2'](_0x353c62['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x3e993a['center']=this['_node']['getPositio'+'n'](),_0x3e993a['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x54de97){if(this['_type']===Ze){const _0x5cadd7=this['attenuatio'+'nEnd'],_0x1908f7=this['_outerCone'+'Angle'],_0x5a24e4=this['_node'],_0x2aabba=Math['abs'](Math['sin'](_0x1908f7*Y['DEG_TO_RAD'])*_0x5cadd7);_0x54de97['center']['set'](-0x1fc+-0xda1+0xf9d,-_0x5cadd7*(-0x1*0x220f+-0x183f+0x3a4e+0.5),-0x2133*-0x1+-0xa9*0x3b+0x1*0x5c0),_0x54de97['halfExtent'+'s']['set'](_0x2aabba,_0x5cadd7*(-0x1*-0x482+-0x19ee+0x4*0x55b+0.5),_0x2aabba),_0x54de97['setFromTra'+'nsformedAa'+'bb'](_0x54de97,_0x5a24e4['getWorldTr'+'ansform'](),!(-0x2*-0x11de+0x6f*-0xb+-0x1ef7*0x1));}else this['_type']===Ke&&(_0x54de97['center']['copy'](this['_node']['getPositio'+'n']()),_0x54de97['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x1*-0x64d+0x10f*-0x22+0x2a4b,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x23b4+-0x92*0x22+0x3718;else{const _0x5e76f1=this['shadowBias']*-(-0x15e9+-0x636+0x2007);this['shadowDept'+'hState']['depthBias']=_0x5e76f1,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x5e76f1;}}['_updateLin'+'earColor'](){let _0x231791=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x231791=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x5f5461=this['_color'],_0x5b5dcc=this['_colorLine'+'ar'];_0x231791>=0xef5+0x1d77+0x2c6b*-0x1?ho['linear'](_0x5f5461)['mulScalar'](_0x231791):ho['copy'](_0x5f5461)['mulScalar'](_0x231791)['linear'](),_0x5b5dcc[0xf5d+-0x719*-0x4+-0x2bc1]=ho['r'],_0x5b5dcc[-0x1*-0x2449+0x5*-0x161+0x1d63*-0x1]=ho['g'],_0x5b5dcc[0x43*-0x2b+0x5a2*0x2+-0x1]=ho['b'],this['updateClus'+'terData'](!(0x1d99*0x1+0x1966+-0x36ff));}['setColor'](){arguments['length']===-0x1c6b+-0x1*-0x25e9+-0x1*0x97d?this['_color']['set'](arguments[-0x1773+0x1ddf+-0x66c]['r'],arguments[-0x1e09+0x3*0x81c+-0x3*-0x1e7]['g'],arguments[-0x1660+0x1*0x216c+0x1c*-0x65]['b']):arguments['length']===-0xed*-0x9+0xb*0x33f+-0x2c07&&this['_color']['set'](arguments[-0x193d*0x1+0x757+-0x1*-0x11e6],arguments[-0x1c69*-0x1+-0x222+-0x1a46],arguments[-0x24c9*0x1+-0x61*-0x3f+0xcec*0x1]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x2b3a30=>{_0x2b3a30['hasLight'](this)&&_0x2b3a30['markLights'+'Dirty']();});}['updateKey'](){let _0x2d8347=this['_type']<<0x1a5+0x407*-0x4+0x4dc*0x3|this['_shadowTyp'+'e']<<0x268+0x10d0+-0x131f|this['_falloffMo'+'de']<<-0x89*-0x22+0x177+0x3*-0x686|(this['_normalOff'+'setBias']!==-0x230c+0xfc5+0x2f*0x69?-0xb22+0x1dd9+0x1df*-0xa:-0x262*0x1+-0x51*0x5+0x5*0xcb)<<0x4de*0x2+0x1*-0x229f+-0x3*-0x853|(this['_cookie']?-0x11dc+0x48+0x1195:0x11a7*0x1+0x2*-0x91+0x1*-0x1085)<<-0x2a3+-0x1e8e+0x2146|(this['_cookieFal'+'loff']?0x2f8+-0x2*-0x12c2+-0x1*0x287b:0x411+-0x5f*0x26+-0x1*-0xa09)<<-0x1*0x168+0x11d6+-0xe*0x12b|pf[this['_cookieCha'+'nnel']['charAt'](-0x8*-0x4a5+0x1b2d+-0x4055)]<<0x5a6*0x1+-0x12a8+0xd14|(this['_cookieTra'+'nsform']?0xcec+-0x1dc0+0x10d5:-0x199d+0x903+-0x352*-0x5)<<-0x7f6+0x26*-0x7+-0x4*-0x243|this['_shape']<<0x1979*0x1+-0x14ac+-0x4c3|(this['numCascade'+'s']>-0x791*0x1+-0x83*-0xa+0x273?-0x190b+-0x2084+-0x1330*-0x3:0x7*-0x2c5+0x1a+-0x1*-0x1349)<<0x1*-0x159e+0x1*-0x2521+0xeb2*0x4|(this['_cascadeBl'+'end']>0x1749+-0x1*-0x15ce+-0x2d17?-0x2*-0x135+-0x2619+0x23b0:-0x1*0x43f+-0xa8*-0x7+-0x59)<<0x695+-0x22da*0x1+0x73*0x3f|(this['affectSpec'+'ularity']?-0x1ea6+0x26*-0x15+-0x4d3*-0x7:0x20cf+0x24eb+0x55*-0xd2)<<0x3ae+-0x7*0x548+-0x2151*-0x1|this['mask']<<0x1*-0xcd2+0x6*0x4a7+0x506*-0x3|(this['_castShado'+'ws']?-0x79*-0x21+-0x19ca+-0x20a*-0x5:-0x24a+-0x6a0+0x8ea)<<0x21f7+-0x3*-0x55b+-0x41*0xc5;this['_cookieCha'+'nnel']['length']===0x1311+0x2f5+0xf5*-0x17&&(_0x2d8347|=pf[this['_cookieCha'+'nnel']['charAt'](0xfbc+0x108f+0x1025*-0x2)]<<0x3be+-0x15f1*-0x1+-0x199f,_0x2d8347|=pf[this['_cookieCha'+'nnel']['charAt'](0x10d5+-0x15*-0xd+-0x11e4)]<<0x25*-0x10+-0x1*-0x246a+0x1106*-0x2),_0x2d8347!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x2d8347;}['updateClus'+'teredFlags'](){const _0x1c5b77=!!(this['mask']&Ss),_0x596895=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x2*-0xeaa+-0x49f+0x21f4:-0x3ad+0x4c7+0x5e*-0x3)<<0x19ed*-0x1+-0xe6f*0x1+0x287a|(this['_shape']&0xe*-0x20b+0x1*0x1550+0x74d)<<-0x1e10+0x31c*-0xc+0x2*0x21be|(this['_falloffMo'+'de']&-0x327+-0x5a6+0x8ce)<<-0x155f*0x1+0x14*-0x196+0x1a99*0x2|(cA[this['_cookieCha'+'nnel']]??-0x137c+0x160f+-0x1*0x293)<<0x19e6+0x18be+0x1*-0x328d|(_0x1c5b77?0x1605+-0x615*-0x2+-0x222e:-0x47f+-0xccd+0x114c)<<0x1*0xe1f+-0x5*-0x683+-0x238*0x15|(_0x596895?0x1172+0xf75+0x20e6*-0x1:0x12d3*0x1+-0x2073*-0x1+-0x2*0x19a3)<<-0xf9*0x28+0xc40+-0xb9*-0x25;}['getCluster'+'edFlags'](_0x5f1ad7,_0x32101e){return this['clusteredF'+'lags']|((_0x5f1ad7?Math['floor'](this['shadowInte'+'nsity']*(0x1dc6+-0x1d38+0x71)):0x1168+0xb54+-0x1cbc)&0x25e2+-0x3*0x6c3+0xfa*-0x11)<<-0x9d2+0x1adf*0x1+-0x110d|((_0x32101e?Math['floor'](this['cookieInte'+'nsity']*(0x2*-0x10d+0x233f+-0x2026)):-0x1f*0x69+0x77d*0x1+0x29d*0x2)&0x1ab7*0x1+0x5ca+-0x1f82)<<-0x328*-0x7+-0xa6c+-0xba4;}['updateClus'+'terData'](_0x5b9411,_0x5e3912){const {clusteredData16:_0x25cc9e}=this,_0x2e93a5=Mn['float2Half'];_0x5b9411&&(_0x25cc9e[-0x4*-0x4c2+-0x592+0xd76*-0x1]=_0x2e93a5(Y['clamp'](this['_colorLine'+'ar'][-0x1*-0x93f+-0xc6f+0x110*0x3]/$c,0xa09+0x1c32+0x263b*-0x1,-0x7d7c+0x2*0x18de+0x14ba0)),_0x25cc9e[0x5*0x4f3+-0x7*0x17b+-0xe61]=_0x2e93a5(Y['clamp'](this['_colorLine'+'ar'][0x1*-0x1d7+0x15c2+-0x2*0x9f5]/$c,0x2*0x82c+-0x1fca+0xf72,-0x359*-0x76+-0x8b4b+-0x1*-0x25)),_0x25cc9e[-0xc7c+0x1*0x24c3+-0x1845]=_0x2e93a5(Y['clamp'](this['_colorLine'+'ar'][-0x25*0x1f+-0x6a1+0xb1e*0x1]/$c,0x14c1+-0x1226+0x17*-0x1d,0xa3ce+-0x1a062+0x1fc74))),_0x5e3912&&(_0x25cc9e[0x1*0x2647+0x1*0x839+-0x173e*0x2]=_0x2e93a5(this['_innerCone'+'AngleCos']),_0x25cc9e[-0x324+-0xcd1+0x332*0x5]=_0x2e93a5(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x3c4b76,_0x14787a,_0x3831d6){h(this,'_areaLight'+'sEnabled',!(-0x5f4+-0x188c+-0xa2b*-0x3)),h(this,'_cells',new D(-0xef4+0xde1+-0x13*-0xf,0x11d3+-0x1f81*0x1+0xdb1,-0x14fd+-0x241e+0x3925)),h(this,'_maxLights'+'PerCell',0x8b3*-0x4+-0x1*-0x10b+0x116*0x20),h(this,'_shadowsEn'+'abled',!(0x1c2d+0x1c76+0x219*-0x1b)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x2dd*0x2+0x1349*-0x1+0x158f),h(this,'_cookiesEn'+'abled',!(0x722+0x124*0x1+-0x845)),h(this,'_cookieAtl'+'asResoluti'+'on',0x1*-0xec5+0x1655+0x70),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x3c4b76,this['_maxTextur'+'eSize']=_0x14787a,this['_dirtyLigh'+'tsFnc']=_0x3831d6);}['applySetti'+'ngs'](_0x3e29de){this['shadowsEna'+'bled']=_0x3e29de['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x3e29de['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x3e29de['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x3e29de['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3e29de['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x3e29de['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x3e29de['lightingSh'+'adowType']??this['shadowType'],_0x3e29de['lightingCe'+'lls']&&(this['cells']=new D(_0x3e29de['lightingCe'+'lls']));}set['cells'](_0x141510){this['_cells']['copy'](_0x141510);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x5d941c){this['_maxLights'+'PerCell']=Y['clamp'](_0x5d941c,0x8*0x39f+0x50*-0x1a+0x1e5*-0xb,-0x1f90+-0xd*-0x119+-0x124a*-0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x416096){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x416096,-0x15*0x58+0xfe8+-0x890,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x2aecde){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x2aecde,-0x24ed+-0xc27+0x3134,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x1b676f){this['_shadowTyp'+'e']!==_0x1b676f&&(this['_shadowTyp'+'e']=_0x1b676f,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x3d988d){this['_cookiesEn'+'abled']!==_0x3d988d&&(this['_cookiesEn'+'abled']=_0x3d988d,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x38340a){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x38340a&&(this['_areaLight'+'sEnabled']=_0x38340a,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x2659e1){this['_shadowsEn'+'abled']!==_0x2659e1&&(this['_shadowsEn'+'abled']=_0x2659e1,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x56ebe8){this['morph']=_0x56ebe8,_0x56ebe8['incRefCoun'+'t'](),this['device']=_0x56ebe8['device'];const _0xae124=_0x56ebe8['_targets']['length'];this['shader']=this['_createSha'+'der'](_0xae124),this['_weights']=[],this['_weightMap']=new Map();for(let _0x33c41a=-0x65*-0x4a+0x1dba+-0x3aec;_0x33c41a<_0x56ebe8['_targets']['length'];_0x33c41a++){const _0x265486=_0x56ebe8['_targets'][_0x33c41a];_0x265486['name']&&this['_weightMap']['set'](_0x265486['name'],_0x33c41a),this['setWeight'](_0x33c41a,_0x265486['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0xae124),this['_shaderMor'+'phIndex']=new Uint32Array(_0xae124);const _0x4d7918=(_0x410689,_0x5cf808)=>(this[_0x5cf808]=_0x56ebe8['_createTex'+'ture'](_0x410689,_0x56ebe8['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x5cf808],'depth':!(-0x24dc+0x1233+0x12aa)}));_0x56ebe8['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x4d7918('MorphRTPos','texturePos'+'itions')),_0x56ebe8['morphNorma'+'ls']&&(this['rtNormals']=_0x4d7918('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x56ebe8['morphTextu'+'reWidth'],_0x56ebe8['morphTextu'+'reHeight']]);const _0x170c71=_0x56ebe8['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x170c71['x']*(0x301*0xd+-0x1db5+-0x954),_0x170c71['y']*(0x1*0xd94+0x2258+-0x2fe8),_0x170c71['z']*(0x252a+-0x3bd*-0x5+-0xf*0x3b9)]);const _0x13fce9=_0x56ebe8['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x13fce9['x']*(-0x353+-0xd38+0x108d),_0x13fce9['y']*(0x1*0x197c+-0xce9*-0x1+0x2663*-0x1),_0x13fce9['z']*(-0x1*-0x13f9+-0x20f+-0x11e8)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1464+-0x1*-0xe17+-0x1*0x2279,-0xc1d+0x1*-0xe57+-0xd3b*-0x2,-0xb*0x251+-0x1*-0x19f1+0x2*-0x3a]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x2581+0x5c*0x3a+0x10aa),-(0x1877*0x1+0x1478+0xd5*-0x36),-(0x20b1+-0x167*0x1+0x1*-0x1f49)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x1*0x1edd+-0x7ff*-0x1+-0x493*-0x5);}['destroy'](){var _0x18ea54,_0x41032d,_0x154357,_0x341cbb;this['shader']=null;const _0x3dfd3b=this['morph'];_0x3dfd3b&&(this['morph']=null,_0x3dfd3b['decRefCoun'+'t'](),_0x3dfd3b['refCount']<-0x1*0x2173+-0x25fe+0x725*0xa&&_0x3dfd3b['destroy']()),(_0x18ea54=this['rtPosition'+'s'])==null||_0x18ea54['destroy'](),this['rtPosition'+'s']=null,(_0x41032d=this['texturePos'+'itions'])==null||_0x41032d['destroy'](),this['texturePos'+'itions']=null,(_0x154357=this['rtNormals'])==null||_0x154357['destroy'](),this['rtNormals']=null,(_0x341cbb=this['textureNor'+'mals'])==null||_0x341cbb['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0xc34676){if(typeof _0xc34676=='string'){const _0xef04f4=this['_weightMap']['get'](_0xc34676);return _0xef04f4===void(-0x13f2+-0x22*-0x121+0x28*-0x76)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0xc34676+'.'),_0xef04f4;}return _0xc34676;}['getWeight'](_0x74af1f){const _0x22decd=this['_getWeight'+'Index'](_0x74af1f);return this['_weights'][_0x22decd];}['setWeight'](_0x531696,_0x3b5902){const _0x902c99=this['_getWeight'+'Index'](_0x531696);w['assert'](_0x902c99>=-0x1541+-0x3*0x1f+-0x1*-0x159e&&_0x902c99<this['morph']['_targets']['length']),this['_weights'][_0x902c99]=_0x3b5902,this['_dirty']=!(0x1b5d+0xb6+-0x1*0x1c13);}['_createSha'+'der'](_0x500c50){const _0x1045ee=new Map();_0x1045ee['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x500c50),this['morph']['intRenderF'+'ormat']&&_0x1045ee['set']('MORPH_INT','');const _0x2e8985=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x500c50+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x1045ee,'fragmentOutputTypes':[_0x2e8985]});}['_updateTex'+'tureRender'+'Target'](_0x3424a6,_0x266834,_0x38506d){const {morph:_0x5b6398,device:_0x907b4a}=this;this['setAabbUni'+'forms'](_0x38506d),this['morphTextu'+'reId']['setValue'](_0x38506d?_0x5b6398['targetsTex'+'turePositi'+'ons']:_0x5b6398['targetsTex'+'tureNormal'+'s']),_0x907b4a['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x266834),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x907b4a,_0x3424a6,this['shader']);}['_updateTex'+'tureMorph'](_0x1e9fd5){const _0x337fd7=this['device'];Q['pushGpuMar'+'ker'](_0x337fd7,'MorphUpdat'+'e'),(_0x1e9fd5>0xd*-0x173+0xe6b+-0x236*-0x2||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x1e9fd5,!(0x31*0x59+-0x4d*-0x3d+-0x2362)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x1e9fd5,!(-0x25be+-0x7f0+0x2daf)),this['zeroTextur'+'es']=_0x1e9fd5===-0x1876*-0x1+-0x1b16+-0x30*-0xe),Q['popGpuMark'+'er'](_0x337fd7);}['setAabbUni'+'forms'](_0x23c37d=!(0x194d+-0x21*0x127+0xb5*0x12)){this['aabbSizeId']['setValue'](_0x23c37d?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x23c37d?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x27e425){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x694+-0x1*0x25f1+0x2c86);const _0x4b1015=this['morph']['_targets'],_0x22803e=0x1cb8*0x1+-0x5*-0x47d+-0x74f*0x7+0.00001,_0x1730e0=this['_shaderMor'+'phWeights'],_0x14db12=this['_shaderMor'+'phIndex'];let _0xc0d6bf=0x84*-0x33+-0x2664+0x40b0;for(let _0x48e914=-0x11ae+-0x5f8+-0x3f1*-0x6;_0x48e914<_0x4b1015['length'];_0x48e914++)Math['abs'](this['getWeight'](_0x48e914))>_0x22803e&&(_0x1730e0[_0xc0d6bf]=this['getWeight'](_0x48e914),_0x14db12[_0xc0d6bf]=_0x48e914,_0xc0d6bf++);this['_updateTex'+'tureMorph'](_0xc0d6bf);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x1f*0x1+-0x1739+0x1758,this['_immutable']=!(-0xb66+0x1457+-0x8f0));}['getGraph'](){return this['graph'];}['setGraph'](_0x12c508){this['graph']=_0x12c508;}['getCameras'](){return this['cameras'];}['setCameras'](_0x26368d){this['cameras']=_0x26368d;}['getLights'](){return this['lights'];}['setLights'](_0x36f0bf){this['lights']=_0x36f0bf;}['getMateria'+'ls'](){const _0x3bf2b1=[];for(let _0x3175de=-0x659+0x1d2+0x487;_0x3175de<this['meshInstan'+'ces']['length'];_0x3175de++){const _0x188ae7=this['meshInstan'+'ces'][_0x3175de];_0x3bf2b1['indexOf'](_0x188ae7['material'])===-(0x6*0x3fb+-0x887*-0x1+-0x2068)&&_0x3bf2b1['push'](_0x188ae7['material']);}return _0x3bf2b1;}['clone'](){const _0x1d4a25=[],_0x542768=[],_0x5f4b15=function(_0x6bd8d7){const _0x5e20f8=_0x6bd8d7['clone']();_0x1d4a25['push'](_0x6bd8d7),_0x542768['push'](_0x5e20f8);for(let _0x34230b=-0x18b0+0xa1f+0xe91;_0x34230b<_0x6bd8d7['_children']['length'];_0x34230b++)_0x5e20f8['addChild'](_0x5f4b15(_0x6bd8d7['_children'][_0x34230b]));return _0x5e20f8;},_0xdcee2=_0x5f4b15(this['graph']),_0x247780=[],_0xa18c7=[],_0x20fdf8=[];for(let _0x5aca54=0x882*-0x3+0x11a5*-0x1+-0x2b*-0x101;_0x5aca54<this['skinInstan'+'ces']['length'];_0x5aca54++){const _0x45d715=this['skinInstan'+'ces'][_0x5aca54]['skin'],_0x2e90c9=new Ol(_0x45d715),_0x50dde7=[];for(let _0x3b7a80=0x24e1+0x5ed*0x3+-0x36a8;_0x3b7a80<_0x45d715['boneNames']['length'];_0x3b7a80++){const _0x29f054=_0x45d715['boneNames'][_0x3b7a80],_0x22a5b4=_0xdcee2['findByName'](_0x29f054);_0x50dde7['push'](_0x22a5b4);}_0x2e90c9['bones']=_0x50dde7,_0xa18c7['push'](_0x2e90c9);}for(let _0x2d18ce=0xf22+-0x126a+0x348;_0x2d18ce<this['morphInsta'+'nces']['length'];_0x2d18ce++){const _0x205106=this['morphInsta'+'nces'][_0x2d18ce]['morph'],_0x2cd6d6=new xa(_0x205106);_0x20fdf8['push'](_0x2cd6d6);}for(let _0xa5ec27=0xd08+0xe7d+-0x1*0x1b85;_0xa5ec27<this['meshInstan'+'ces']['length'];_0xa5ec27++){const _0x268d25=this['meshInstan'+'ces'][_0xa5ec27],_0x5599ad=_0x1d4a25['indexOf'](_0x268d25['node']),_0x45def7=new He(_0x268d25['mesh'],_0x268d25['material'],_0x542768[_0x5599ad]);if(_0x268d25['skinInstan'+'ce']){const _0x59ae0f=this['skinInstan'+'ces']['indexOf'](_0x268d25['skinInstan'+'ce']);_0x45def7['skinInstan'+'ce']=_0xa18c7[_0x59ae0f];}if(_0x268d25['morphInsta'+'nce']){const _0x5bb8fb=this['morphInsta'+'nces']['indexOf'](_0x268d25['morphInsta'+'nce']);_0x45def7['morphInsta'+'nce']=_0x20fdf8[_0x5bb8fb];}_0x247780['push'](_0x45def7);}const _0x19ee15=new sr();return _0x19ee15['graph']=_0xdcee2,_0x19ee15['meshInstan'+'ces']=_0x247780,_0x19ee15['skinInstan'+'ces']=_0xa18c7,_0x19ee15['morphInsta'+'nces']=_0x20fdf8,_0x19ee15['getGraph']()['syncHierar'+'chy'](),_0x19ee15;}['destroy'](){const _0xea01e4=this['meshInstan'+'ces'];for(let _0x3cb564=-0x1aaf*-0x1+-0xcf+-0x19e0;_0x3cb564<_0xea01e4['length'];_0x3cb564++)_0xea01e4[_0x3cb564]['destroy']();this['meshInstan'+'ces']['length']=0x1f1f+-0x7*0x241+0x3d6*-0x4;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x53e9c3,_0x2b2eca,{preferHighPrecision:_0x29b8d8=!(0x1462+-0x1*-0x1fe2+-0x3443)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x2b2eca,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x2b2eca);const _0x277b50=_0x2b2eca;this['preferHigh'+'Precision']=_0x29b8d8,w['assert'](_0x53e9c3['every'](_0x47da72=>!_0x47da72['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x53e9c3['slice']();const _0x5428bd=_0x277b50['textureHal'+'fFloatRend'+'erable']?nt:void(-0x20ff*-0x1+-0x24fd*0x1+0x2*0x1ff),_0x30a19a=_0x277b50['textureFlo'+'atRenderab'+'le']?Xt:void(0x43c+0x54f+-0x15d*0x7);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x30a19a??_0x5428bd:_0x5428bd??_0x30a19a,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x36d128,_0x216c22,_0x983ca3;(_0x36d128=this['vertexBuff'+'erIds'])==null||_0x36d128['destroy'](),this['vertexBuff'+'erIds']=null,(_0x216c22=this['targetsTex'+'turePositi'+'ons'])==null||_0x216c22['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x983ca3=this['targetsTex'+'tureNormal'+'s'])==null||_0x983ca3['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x3ec6ee=new D(),_0x2dc76c=new D();for(let _0x5c9c93=0x1*-0x1bbf+-0x1160+0x2d1f;_0x5c9c93<this['_targets']['length'];_0x5c9c93++){const _0x190f58=this['_targets'][_0x5c9c93]['aabb'];_0x3ec6ee['min'](_0x190f58['getMin']()),_0x2dc76c['max'](_0x190f58['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x3ec6ee,_0x2dc76c);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2d3937=0x7*-0x351+0x5e4+0x1153;_0x2d3937<this['_targets']['length'];_0x2d3937++)this['_targets'][_0x2d3937]['_postInit']();}['_findSpars'+'eSet'](_0x58679b,_0x2e8e94,_0x9bd155){let _0x5c923e=0x3e*0x3+0x1add+-0x1b96;const _0x12be7d=_0x58679b[-0x1bd3+-0x4d6+-0x3a1*-0x9]['length'];for(let _0x525ca1=-0x1e6d+0x292*0x7+0xc6f;_0x525ca1<_0x12be7d;_0x525ca1+=-0x3*0x680+-0x2bf*0x6+0xbff*0x3){let _0x41f87b=!(0x174e*0x1+-0xb5d+-0x5f8*0x2);for(let _0x35a6b6=-0x20c7+0x2646+0x7*-0xc9;_0x35a6b6<_0x58679b['length'];_0x35a6b6++){const _0x1756d1=_0x58679b[_0x35a6b6];if(_0x1756d1[_0x525ca1]!==-0x3dd*0x1+0x1d9+0x204||_0x1756d1[_0x525ca1+(0x493+0x2179+-0x260b*0x1)]!==0x1*-0x763+-0xd96+0x14f9||_0x1756d1[_0x525ca1+(-0x169+0x16*0x18+-0x37*0x3)]!==0x2074+-0x4*-0x357+-0x5ba*0x8){_0x41f87b=!(0x175b*0x1+0xc3e*-0x1+-0x5*0x239);break;}}_0x41f87b?(_0x2e8e94['push'](_0x5c923e),_0x9bd155['push'](_0x525ca1/(-0x9c6+0x411*0x1+-0x8*-0xb7)),_0x5c923e++):_0x2e8e94['push'](0x24c1+-0x56*0x33+0x1*-0x139f);}return _0x5c923e;}['_initTextu'+'reBased'](){const _0x310049=[],_0x5055bd=[],_0xe0e5c8=this['_targets'];for(let _0x41f69c=-0x7*0x29b+0x4e4+0x473*0x3;_0x41f69c<_0xe0e5c8['length'];_0x41f69c++){const _0x33c688=_0xe0e5c8[_0x41f69c];_0x33c688['options']['deltaPosit'+'ions']&&(_0x310049['push'](_0x33c688['options']['deltaPosit'+'ions']),_0x5055bd['push'](!(-0x769*-0x1+-0x24a3+0x1d3a))),_0x33c688['options']['deltaNorma'+'ls']&&(_0x310049['push'](_0x33c688['options']['deltaNorma'+'ls']),_0x5055bd['push'](!(0x3*-0xe5+-0x44d+0x6fd)));}const _0x9d43f3=[],_0x1c9a62=[],_0x39e6dd=this['_findSpars'+'eSet'](_0x310049,_0x9d43f3,_0x1c9a62),_0x4d6930=this['device']['maxTexture'+'Size'];let _0x5c0a6f=Math['ceil'](Math['sqrt'](_0x39e6dd));_0x5c0a6f=Math['min'](_0x5c0a6f,_0x4d6930);const _0x111f0c=Math['ceil'](_0x39e6dd/_0x5c0a6f);if(_0x111f0c>_0x4d6930){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x5c0a6f+'x'+_0x111f0c+(',\x20max\x20text'+'ure\x20size:\x20')+_0x4d6930+'x'+_0x4d6930+'.');return;}this['morphTextu'+'reWidth']=_0x5c0a6f,this['morphTextu'+'reHeight']=_0x111f0c;let _0x541f46=!(0x361*-0xb+-0x2f6+0x2822);const _0x491475=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x541f46=!(0x1*0x10a6+0x17*-0xd3+-0x24f*-0x1));const _0x4a5f90=[],_0x389c8b=[],_0x272113=_0x5c0a6f*_0x111f0c*(0xdce+-0x2330+0x1566*0x1);for(let _0x2e8518=-0xdc4+-0x3*-0x80a+-0xa5a;_0x2e8518<_0x310049['length'];_0x2e8518++){const _0x807526=_0x310049[_0x2e8518],_0x407467=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x272113):new Float32Array(_0x272113);if((_0x5055bd[_0x2e8518]?_0x4a5f90:_0x389c8b)['push'](_0x407467),_0x541f46)for(let _0x3ede81=-0xe11*0x1+-0x202*-0x4+0x609;_0x3ede81<_0x1c9a62['length'];_0x3ede81++){const _0x362a24=_0x1c9a62[_0x3ede81]*(-0x27*-0xba+-0x1fa*-0xb+-0x3211),_0x1e5590=_0x3ede81*(-0x19d+0x2423+-0x2282)+(0x7eb*-0x2+0x135*-0xc+0x1e56);_0x407467[_0x1e5590]=_0x491475(_0x807526[_0x362a24]),_0x407467[_0x1e5590+(0x21a6+-0x1d65+0x20*-0x22)]=_0x491475(_0x807526[_0x362a24+(0x2532+-0x266+0x22cb*-0x1)]),_0x407467[_0x1e5590+(0x1*0x2b0+0x1d*-0xc8+0x13fa)]=_0x491475(_0x807526[_0x362a24+(0x1*-0x173d+-0x11dd+0x291c)]);}else for(let _0x5665e4=-0x7*-0x478+-0x908+-0x1640;_0x5665e4<_0x1c9a62['length'];_0x5665e4++){const _0x5f4da6=_0x1c9a62[_0x5665e4]*(0x24be+0x1*-0x441+-0x207a),_0x26599e=_0x5665e4*(-0x1466+-0x21d*0x1+-0x49*-0x4f)+(-0x1*0x15dd+-0x3*-0x613+0x3a8);_0x407467[_0x26599e]=_0x807526[_0x5f4da6],_0x407467[_0x26599e+(-0x1057+-0x757+0x17af)]=_0x807526[_0x5f4da6+(0x1915+-0x813+-0x1101)],_0x407467[_0x26599e+(0x2593*0x1+-0x1c8d*0x1+-0x904)]=_0x807526[_0x5f4da6+(-0x18bf+0x25f4+0x6d*-0x1f)];}}_0x4a5f90['length']>-0x179f+-0x449*0x1+0x4*0x6fa&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0xe0e5c8['length'],[_0x4a5f90]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x389c8b['length']>0x259*0x8+-0xd03*0x2+0x73e&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0xe0e5c8['length'],[_0x389c8b]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x433164=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x102b+-0x24ce+0x34f9)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x433164,_0x9d43f3['length']),_0x9d43f3['length'],{'data':new Uint32Array(_0x9d43f3)}),!(0x1d42+0x119*-0x17+0xd*-0x4f);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x18c*-0x3+-0x1f*-0x85+-0xb76),this['_morphNorm'+'als']=!(0x265a+0x3f3*-0x5+-0x129a);for(let _0x310d16=0x1*-0x2574+0xf86*-0x1+0x34fa;_0x310d16<this['_targets']['length'];_0x310d16++){const _0x562a70=this['_targets'][_0x310d16];_0x562a70['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x17b*0x2+0x1a6f*-0x1+0x3*0x7d3)),_0x562a70['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0xb1*0x35+-0x283+-0x2222*0x1));}}['_createTex'+'ture'](_0x4c3f4c,_0xc9f27f,_0x5c7270,_0x5079cb){return new _e(this['device'],{'levels':_0x5079cb,'arrayLength':_0x5c7270,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0xc9f27f,'cubemap':!(0xf9b+0x1*0xd61+-0x1cfb),'mipmaps':!(0x51*-0x1b+0x2618+0x7a*-0x3e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x4c3f4c});}}class Md{constructor(_0x24f6e7){h(this,'used',!(-0x213c+0xf35+0x1208)),(w['assert'](arguments['length']===-0x1f2d+0xb6*0x1+0xf3c*0x2),this['options']=_0x24f6e7,this['_name']=_0x24f6e7['name'],this['_defaultWe'+'ight']=_0x24f6e7['defaultWei'+'ght']||0x1*-0x12cd+0x34*-0x36+0x1dc5,this['_aabb']=_0x24f6e7['aabb'],this['deltaPosit'+'ions']=_0x24f6e7['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x24f6e7['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x24f6e7['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x2393+-0xb27*-0x1+0x186c);}}let Ei,Z_=-0x1b8d+0x329*0xb+-0x735;const ce=-0x3*-0xfe+-0x1421*-0x1+-0x101*0x17,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x543a2e){return _0x543a2e-Math['floor'](_0x543a2e);}function fA(_0x10b8fb){return Math['max'](Math['min'](_0x10b8fb,0x3*0x837+0x607*0x1+-0x1*0x1eab),-0x42*-0x69+0xd54*0x1+-0x2866);}function gf(_0xddbd3,_0x3db723){return _0xddbd3-_0x3db723*Math['floor'](_0xddbd3/_0x3db723);}function uA(_0x21f68c){let _0x253305=pn(_0x21f68c),_0x24fe07=pn((0x2627+-0x1dd4+-0x86*0xe)*_0x21f68c),_0x213a61=pn((-0x1*0xc7fd+-0x3eb*0x16+-0x430*-0x81)*_0x21f68c),_0x43410b=pn((0x3207747+-0x2e4eb4*0x25+0xd232fbc)*_0x21f68c);return _0x253305-=_0x24fe07/(0x1*0x259a+-0x14e5+-0xfb6),_0x24fe07-=_0x213a61/(0x7f9+-0xd9a*-0x1+-0x1494),_0x213a61-=_0x43410b/(0x2c*0x6e+0x6*-0x479+0x8ed),_0x43410b-=_0x43410b/(-0x11c*0x4+0x2c2*-0xb+-0x1*-0x23c5),[_0x253305,_0x24fe07,_0x213a61,_0x43410b];}function uc(_0x1f5925){let _0x2cb293=pn(_0x1f5925),_0x3acd5a=pn((0x1930+-0x1f99+0x768)*_0x1f5925);return _0x2cb293-=_0x3acd5a/(-0x12e3+0x923+0xabf),_0x3acd5a-=_0x3acd5a/(-0x1712*0x1+-0xd9b+-0x1*-0x25ac),[_0x2cb293,_0x3acd5a];}class pA{constructor(_0x2057d7){this['_emitter']=_0x2057d7;}['calcSpawnP'+'osition'](_0x30109c,_0x30aeee,_0x65a92c,_0x493354,_0x4bfafc){const _0x5157f9=this['_emitter'],_0x332e50=Math['random'](),_0x35c2eb=Math['random'](),_0x3c9fea=Math['random'](),_0x11037e=Math['random']();if(_0x5157f9['useCpu']&&(_0x30109c[_0x4bfafc*ce+(0x425*-0x4+0x174b+-0x6b7)+_0x5157f9['numParticl'+'esPot']*(-0x1*0x39e+-0x180d+-0x589*-0x5)*ce]=_0x332e50,_0x30109c[_0x4bfafc*ce+(0xf*-0x4f+-0x28+0x4ca*0x1)+_0x5157f9['numParticl'+'esPot']*(0x38+0x731*-0x2+0xe2c)*ce]=_0x35c2eb,_0x30109c[_0x4bfafc*ce+(-0x1370+0xbb*-0x14+0x220e)+_0x5157f9['numParticl'+'esPot']*(0x12e2+-0x1ce+0x1*-0x1112)*ce]=_0x3c9fea),tt['x']=_0x332e50-(0x4*-0x9+-0x1d92+0x1*0x1db6+0.5),tt['y']=_0x35c2eb-(-0x1*-0x875+0x84a*-0x4+0x1*0x18b3+0.5),tt['z']=_0x3c9fea-(0x3*0xb56+0x1d65+-0x3f67+0.5),_0x5157f9['emitterSha'+'pe']===ai){const _0x35cb4d=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x3e19cb=_0x35cb4d+(-0x1*-0x22c+-0x7c1+0x595+0.5-_0x35cb4d)*_0x65a92c[0x1ff5+-0x5*-0x3e5+-0x336e],_0x1c333c=_0x35cb4d+(0x84e+0x1*-0x7bb+-0x15*0x7+0.5-_0x35cb4d)*_0x65a92c[0x43*-0x4a+0x608+-0x1*-0xd57],_0x1ec790=_0x35cb4d+(-0x36d+0x2164+-0x1df7+0.5-_0x35cb4d)*_0x65a92c[-0x2*0x9b2+-0x1561+0x28c7];tt['x']=_0x3e19cb*(_0x35cb4d===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x13b7+-0x2cd*0x2+-0xe1b)*tt['x']),tt['y']=_0x1c333c*(_0x35cb4d===Math['abs'](tt['y'])?Math['sign'](tt['y']):(0x391*-0x7+0x1163+0x796)*tt['y']),tt['z']=_0x1ec790*(_0x35cb4d===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0xf5+0x1d35+-0x1c3e)*tt['z']),_0x5157f9['localSpace']?ti['copy'](_0x30aeee['transformP'+'oint'](tt)):ti['copy'](_0x493354)['add'](_0x30aeee['transformP'+'oint'](tt));}else{tt['normalize']();const _0x477d98=_0x5157f9['emitterRad'+'ius']===-0x1e37+-0x3*0x674+0x7*0x715?-0x5c6*-0x3+-0x1*-0xf59+0x20ab*-0x1:_0x5157f9['emitterRad'+'iusInner']/_0x5157f9['emitterRad'+'ius'],_0x342ce6=_0x11037e*(-0x1476+0x2e*-0xad+-0x35*-0xf9-_0x477d98)+_0x477d98;_0x5157f9['localSpace']?ti['copy'](tt['mulScalar'](_0x342ce6*_0x5157f9['emitterRad'+'ius'])):ti['copy'](_0x493354)['add'](tt['mulScalar'](_0x342ce6*_0x5157f9['emitterRad'+'ius']));}let _0x193cb5=-Y['lerp'](_0x5157f9['rate'],_0x5157f9['rate2'],_0x332e50)*_0x4bfafc;if(_0x5157f9['pack8']){const _0x425c4b=(ti['x']-_0x5157f9['worldBound'+'s']['center']['x'])/_0x5157f9['worldBound'+'sSize']['x']+(0x2610+0x1281+-0x3891+0.5),_0x45b501=(ti['y']-_0x5157f9['worldBound'+'s']['center']['y'])/_0x5157f9['worldBound'+'sSize']['y']+(-0x175+-0x10ce+-0x1243*-0x1+0.5),_0x2fbf09=(ti['z']-_0x5157f9['worldBound'+'s']['center']['z'])/_0x5157f9['worldBound'+'sSize']['z']+(0x1d5*0x7+0x7ff*-0x4+0x1329+0.5);let _0x497ace=Y['lerp'](_0x5157f9['startAngle']*Y['DEG_TO_RAD'],_0x5157f9['startAngle'+'2']*Y['DEG_TO_RAD'],_0x332e50);_0x497ace=_0x497ace%(Math['PI']*(-0x1*0x1c09+0x2611*-0x1+0x421c))/(Math['PI']*(0x20e7+0x1*0xd12+-0x691*0x7));const _0x54e85b=uc(_0x425c4b);_0x30109c[_0x4bfafc*ce]=_0x54e85b[0x706*-0x3+0xe36+0x6dc],_0x30109c[_0x4bfafc*ce+(0x7*0x365+-0x211d+0x95b)]=_0x54e85b[0x1f19+0x17*0x12b+-0x25*0x191];const _0x3347ba=uc(_0x45b501);_0x30109c[_0x4bfafc*ce+(-0x376*0xb+0x2f2*0x8+0xe84)]=_0x3347ba[-0x11*0x1c1+-0x50d+-0x1*-0x22de],_0x30109c[_0x4bfafc*ce+(0x2b6+0xe91+-0x1144)]=_0x3347ba[0x7a7+0x1c30+-0x23d6];const _0x4d926a=uc(_0x2fbf09);_0x30109c[_0x4bfafc*ce+(-0x2672+0x146e+0x1204)+_0x5157f9['numParticl'+'esPot']*ce]=_0x4d926a[-0x687*-0x1+0x1*-0x58e+-0xf9],_0x30109c[_0x4bfafc*ce+(-0xd52+-0x7ff+0x1552)+_0x5157f9['numParticl'+'esPot']*ce]=_0x4d926a[0x8f9+-0xecd+0x5d5];const _0x29a120=uc(_0x497ace);_0x30109c[_0x4bfafc*ce+(-0x13c0*-0x1+0x147*0x1+-0x1505)+_0x5157f9['numParticl'+'esPot']*ce]=_0x29a120[-0x37*0x58+-0x142*-0xd+0x6*0x6d],_0x30109c[_0x4bfafc*ce+(0x794+-0xd4d+0x2*0x2de)+_0x5157f9['numParticl'+'esPot']*ce]=_0x29a120[0x1*-0x2039+0xfb*-0xd+0x2cf9];const _0x10e51=0x11b*0x11+-0x245e+-0xb4*-0x19;_0x30109c[_0x4bfafc*ce+(-0x12d7+-0x1*-0x1069+0x271)+_0x5157f9['numParticl'+'esPot']*ce*(-0x239+0x1743+-0xa84*0x2)]=_0x10e51;const _0x54c691=Math['max'](_0x5157f9['lifetime'],(_0x5157f9['numParticl'+'es']-(0x21e9*0x1+-0x3*0x76d+-0xba1))*Math['max'](_0x5157f9['rate'],_0x5157f9['rate2'])),_0x39421e=_0x5157f9['lifetime']+(-0xb*-0x1f2+0x22a6+-0x380b);_0x193cb5=(_0x193cb5+_0x54c691)/(_0x54c691+_0x39421e);const _0x1b3b71=uA(_0x193cb5);_0x30109c[_0x4bfafc*ce+(0xf84*-0x1+0x1b4e+-0xbca)+_0x5157f9['numParticl'+'esPot']*ce*(-0x11f5*0x1+0x1*0x1f57+-0x1e9*0x7)]=_0x1b3b71[-0xb66+0x5*-0x28d+0x1*0x1827],_0x30109c[_0x4bfafc*ce+(-0x24bb+-0x1bd*-0xd+-0xb*-0x149)+_0x5157f9['numParticl'+'esPot']*ce*(0x1ef5+0x23ab+0x429d*-0x1)]=_0x1b3b71[0x1*0xd57+0x192*-0x17+0x16c8],_0x30109c[_0x4bfafc*ce+(0x20a3+0x11*0x1f6+-0x41f7)+_0x5157f9['numParticl'+'esPot']*ce*(-0xa92+-0x1b2c*0x1+-0x78d*-0x5)]=_0x1b3b71[-0x2*0x4be+0x1fd9+0x1*-0x165b],_0x30109c[_0x4bfafc*ce+(-0x26a9+0x1aa8+0xc04*0x1)+_0x5157f9['numParticl'+'esPot']*ce*(0x635*0x1+0x1*0xb41+-0x3*0x5d1)]=_0x1b3b71[0x1*0x16fa+-0x981*0x1+0x6bb*-0x2];}else _0x30109c[_0x4bfafc*ce]=ti['x'],_0x30109c[_0x4bfafc*ce+(0x1fad+-0x2605+0x659)]=ti['y'],_0x30109c[_0x4bfafc*ce+(0xe1+-0x2261+-0x2*-0x10c1)]=ti['z'],_0x30109c[_0x4bfafc*ce+(0x4*-0x21e+-0x1317+0x1b92)]=Y['lerp'](_0x5157f9['startAngle']*Y['DEG_TO_RAD'],_0x5157f9['startAngle'+'2']*Y['DEG_TO_RAD'],_0x332e50),_0x30109c[_0x4bfafc*ce+(0x4c1*0x3+0x203+-0x17*0xb5)+_0x5157f9['numParticl'+'esPot']*ce]=_0x193cb5;}['update'](_0x12d4ad,_0x525642,_0x3c9ad7,_0x3a66de,_0x47a459,_0xba1070,_0x3ff518,_0x1dfbdc){let _0x30b6ee,_0x8444ed,_0x311f7f;const _0x27be0f=this['_emitter'];if(_0x27be0f['meshInstan'+'ce']['node']){const _0x808c69=_0x27be0f['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x301b5f=-0x39c*-0x2+0x1*-0x9ad+0x275;_0x301b5f<0x96b*0x3+-0x9a0+-0x1*0x1295;_0x301b5f++)mf['data'][_0x301b5f]=_0x808c69['data'][_0x301b5f];_f['copy'](mf),_f['invert'](),Ei=_0x27be0f['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0xba1070=_0x27be0f['meshInstan'+'ce']['node']===null||_0x27be0f['localSpace']?D['ZERO']:_0x27be0f['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x6510e0=_0x27be0f['camera']?_0x27be0f['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x212f6d=_0x27be0f['useMesh']?0x2350+-0x79d*-0x5+-0x4950:-0x1*-0x125b+-0x1a88+-0x22*-0x3e;let _0x24db2d,_0x3785d1,_0x2b6689,_0x343da4,_0x44553f,_0xb081bc,_0x46f658,_0x33f61d,_0x2b20dd;const _0x478c75=_0x27be0f['precision']-(-0x1c07*0x1+-0x21f8*0x1+0xf8*0x40);for(let _0x436677=0x2*0x11f7+-0x1a43+-0x9*0x113;_0x436677<_0x27be0f['numParticl'+'es'];_0x436677++){const _0x35924f=Math['floor'](_0x27be0f['vbCPU'][_0x436677*_0x27be0f['numParticl'+'eVerts']*(_0x27be0f['useMesh']?0xb56+0x1e03+-0x2953:0x1230+0x81+-0x12ad)+(0xa*0x119+-0x1ada+-0x1*-0xfe3)]),_0x1eb835=_0x3c9ad7[_0x35924f*ce+(0xc01+-0x9db*0x3+0x1190)+_0x27be0f['numParticl'+'esPot']*(-0x205e*0x1+0xaa+0x1fb6)*ce];Ns['x']=_0x1eb835,Ns['y']=_0x3c9ad7[_0x35924f*ce+(0x1*-0x67a+-0x23be+-0x2a39*-0x1)+_0x27be0f['numParticl'+'esPot']*(-0x37*0x56+-0xb11*-0x2+-0x3a6)*ce],Ns['z']=_0x3c9ad7[_0x35924f*ce+(-0x1bda+-0x1567+0x3143)+_0x27be0f['numParticl'+'esPot']*(-0xbf*-0x2f+0x124a*-0x2+0x185)*ce];const _0x43b588=_0x27be0f['rate']+(_0x27be0f['rate2']-_0x27be0f['rate'])*_0x1eb835,_0x3586ca=_0x27be0f['lifetime'];let _0x356528=_0x3c9ad7[_0x35924f*ce+(-0xa1*0x12+-0x1*-0x192e+-0xdd9)+_0x27be0f['numParticl'+'esPot']*ce]+_0x3ff518;const _0x4788f0=fA(_0x356528/_0x3586ca);let _0x30a837=0x99a*0x1+-0x1710+-0x6bb*-0x2,_0x1e297f=0x23e7+0x964+-0x2d4b;const _0x3cdf2a=0x18*-0x129+0x1e11+-0x239;(_0x356528-_0x3ff518<=0x5ff*-0x1+-0x1e40+0x407*0x9||_0x356528>=_0x3586ca)&&this['calcSpawnP'+'osition'](_0x3c9ad7,_0x3a66de,_0x47a459,_0xba1070,_0x35924f);let _0xfca202=_0x356528>-0x1e3+0x18b8*0x1+-0x16d5&&_0x356528<_0x3586ca;_0xfca202&&(_0x311f7f=_0x4788f0*_0x478c75,_0x24db2d=Math['floor'](_0x311f7f),_0x3785d1=Math['ceil'](_0x311f7f),_0x311f7f%=-0x7e4*-0x1+0x198e+0x7*-0x4c7,_0x30b6ee=_0x27be0f['qRotSpeed'][_0x24db2d],_0x8444ed=_0x27be0f['qRotSpeed'][_0x3785d1],_0x2b6689=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qRotSpeed2'][_0x24db2d],_0x8444ed=_0x27be0f['qRotSpeed2'][_0x3785d1],_0x343da4=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qScale'][_0x24db2d],_0x8444ed=_0x27be0f['qScale'][_0x3785d1],_0x30a837=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qScale2'][_0x24db2d],_0x8444ed=_0x27be0f['qScale2'][_0x3785d1],_0x44553f=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qAlpha'][_0x24db2d],_0x8444ed=_0x27be0f['qAlpha'][_0x3785d1],_0xb081bc=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qAlpha2'][_0x24db2d],_0x8444ed=_0x27be0f['qAlpha2'][_0x3785d1],_0x46f658=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qRadialSpe'+'ed'][_0x24db2d],_0x8444ed=_0x27be0f['qRadialSpe'+'ed'][_0x3785d1],_0x33f61d=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qRadialSpe'+'ed2'][_0x24db2d],_0x8444ed=_0x27be0f['qRadialSpe'+'ed2'][_0x3785d1],_0x2b20dd=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x33f61d+=(_0x2b20dd-_0x33f61d)*(_0x1eb835*(-0x1d*0x4a+0xaf*-0xf+0x1*0x1307)%(-0x451+-0xf5+0x547)),Na['x']=_0x3c9ad7[_0x35924f*ce],Na['y']=_0x3c9ad7[_0x35924f*ce+(0x2*0xe1d+-0xaf9*0x3+-0x2*-0x259)],Na['z']=_0x3c9ad7[_0x35924f*ce+(-0x181a+0x323+0x14f9)],_0x27be0f['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0xba1070),fo['normalize']()['mulScalar'](_0x33f61d),_0x24db2d*=0x690+-0x1*0xe1a+0x78d,_0x3785d1*=-0x58b+0x1b6*-0x3+0xab0,_0x30b6ee=_0x27be0f['qLocalVelo'+'city'][_0x24db2d],_0x8444ed=_0x27be0f['qLocalVelo'+'city'][_0x3785d1],_t['x']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qLocalVelo'+'city'][_0x24db2d+(0x1*-0xed3+-0x3a3+-0x1277*-0x1)],_0x8444ed=_0x27be0f['qLocalVelo'+'city'][_0x3785d1+(0x3*0x193+0x2586*0x1+-0x2a3e)],_t['y']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qLocalVelo'+'city'][_0x24db2d+(0x3b2+0x330+0x6e*-0x10)],_0x8444ed=_0x27be0f['qLocalVelo'+'city'][_0x3785d1+(0x53*-0x4b+-0x3*-0xc+-0x97*-0x29)],_t['z']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qLocalVelo'+'city2'][_0x24db2d],_0x8444ed=_0x27be0f['qLocalVelo'+'city2'][_0x3785d1],Ua['x']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qLocalVelo'+'city2'][_0x24db2d+(-0x2b*0x29+0x146b+-0x1*0xd87)],_0x8444ed=_0x27be0f['qLocalVelo'+'city2'][_0x3785d1+(0x389*0x5+0x1*0x16c1+-0x286d*0x1)],Ua['y']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qLocalVelo'+'city2'][_0x24db2d+(0x1*-0x3eb+-0x4af*-0x2+-0xc7*0x7)],_0x8444ed=_0x27be0f['qLocalVelo'+'city2'][_0x3785d1+(-0x4*0x739+0x252d+0xa3*-0xd)],Ua['z']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity'][_0x24db2d],_0x8444ed=_0x27be0f['qVelocity'][_0x3785d1],ns['x']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity'][_0x24db2d+(0x1f*-0xa2+0x295*-0xa+0x2d71)],_0x8444ed=_0x27be0f['qVelocity'][_0x3785d1+(0x1*0xb39+0x1*-0x20ab+0x1573)],ns['y']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity'][_0x24db2d+(-0x10*-0x1cf+0x2c5*0xe+-0x43b4)],_0x8444ed=_0x27be0f['qVelocity'][_0x3785d1+(-0x2*-0x1247+-0x26*-0x3b+-0x1*0x2d4e)],ns['z']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity2'][_0x24db2d],_0x8444ed=_0x27be0f['qVelocity2'][_0x3785d1],ka['x']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity2'][_0x24db2d+(-0x184d*-0x1+0x16f*-0x4+-0x1290)],_0x8444ed=_0x27be0f['qVelocity2'][_0x3785d1+(0x4*-0x139+0xee1+-0x2*0x4fe)],ka['y']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_0x30b6ee=_0x27be0f['qVelocity2'][_0x24db2d+(0x8*-0x170+-0x253d+0x30bf)],_0x8444ed=_0x27be0f['qVelocity2'][_0x3785d1+(-0x1583+0xfdf+0x5a6)],ka['z']=_0x30b6ee+(_0x8444ed-_0x30b6ee)*_0x311f7f,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x27be0f['initialVel'+'ocity']>-0x200e+-0x1cf8+0x3d06&&(_0x27be0f['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x1*0x14ac+0x1df2+-0x944)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x27be0f['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x27be0f['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x2b6689+=(_0x343da4-_0x2b6689)*Ns['y'],_0x30a837=(_0x30a837+(_0x44553f-_0x30a837)*(_0x1eb835*(-0x4cc9*0x1+-0x3791+0x2*0x55b5)%(0x1d2c+0x2a+0x1*-0x1d55)))*Z_,_0x1e297f=(_0x46f658-_0xb081bc)*(_0x1eb835*(0x16b4+0x11*0x133+-0x599*0x7)%(-0x1*0xc56+0x1*-0x1c47+0x289e)),_0x27be0f['meshInstan'+'ce']['node']&&(_0x27be0f['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x27be0f['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x3ff518)),zt['copy'](Q_),_0x3c9ad7[_0x35924f*ce]=zt['x'],_0x3c9ad7[_0x35924f*ce+(-0x1ca2+0x19a4+-0x1*-0x2ff)]=zt['y'],_0x3c9ad7[_0x35924f*ce+(0x1a0f+0x26b*-0x6+-0xb8b)]=zt['z'],_0x3c9ad7[_0x35924f*ce+(-0x979+-0x15ba+0x1f36)]+=_0x2b6689*_0x3ff518,_0x27be0f['wrap']&&_0x27be0f['wrapBounds']&&(_0x27be0f['localSpace']||zt['sub'](_0xba1070),zt['x']=gf(zt['x'],_0x27be0f['wrapBounds']['x'])-_0x27be0f['wrapBounds']['x']*(0x1*-0x237b+-0x15*-0x1b+0x2*0x10a2+0.5),zt['y']=gf(zt['y'],_0x27be0f['wrapBounds']['y'])-_0x27be0f['wrapBounds']['y']*(-0x2*-0xd04+0xba0+-0x25a8*0x1+0.5),zt['z']=gf(zt['z'],_0x27be0f['wrapBounds']['z'])-_0x27be0f['wrapBounds']['z']*(0x143*0x9+-0x1712*0x1+0xbb7*0x1+0.5),_0x27be0f['localSpace']||zt['add'](_0xba1070)),_0x27be0f['sort']>0x5fe+-0x139c+0x245*0x6&&(_0x27be0f['sort']===-0x781*0x1+-0x6*0x5e6+0x2ae6?(kr['copy'](zt)['sub'](_0x6510e0),_0x27be0f['particleDi'+'stance'][_0x35924f]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x27be0f['sort']===-0x8b*-0x32+0x259c+-0x40c0?_0x27be0f['particleDi'+'stance'][_0x35924f]=_0x356528:_0x27be0f['sort']===0x2*0xf9d+-0x66*0xd+0x535*-0x5&&(_0x27be0f['particleDi'+'stance'][_0x35924f]=-_0x356528))),_0x1dfbdc?_0x356528<0x49*-0x3b+-0x16a6*0x1+0x7e5*0x5&&(_0x3c9ad7[_0x35924f*ce+(0x6da+-0xb*-0x311+-0x482*0x9)+_0x27be0f['numParticl'+'esPot']*(-0x1e*0xdc+0x153*-0x10+0x2efa)*ce]=-(0x1be9+-0x171a+-0x4ce)):(_0x356528>=_0x3586ca&&(_0x356528-=Math['max'](_0x3586ca,(_0x27be0f['numParticl'+'es']-(-0x6*-0x30a+0x1*0x13d0+-0x260b))*_0x43b588),_0x3c9ad7[_0x35924f*ce+(-0x1e78+0x382*-0x4+0x2c83)+_0x27be0f['numParticl'+'esPot']*(0x1121+-0x5f3+0x16*-0x82)*ce]=_0x27be0f['loop']?-0x1569*0x1+0x15a6+-0x1e*0x2:-(-0x115b+0x1b35+0x9d9*-0x1)),_0x356528<0x99a*0x1+-0x56a+-0x8*0x86&&_0x27be0f['loop']&&(_0x3c9ad7[_0x35924f*ce+(0xd7*-0x2+0x3e8*-0x3+0xd69)+_0x27be0f['numParticl'+'esPot']*(-0x1a8+-0x23f3+0x259d)*ce]=0xbc0+0xdd5+0x1*-0x1994)),_0x3c9ad7[_0x35924f*ce+(-0x13*0x1d3+-0x1383+-0x4ed*-0xb)+_0x27be0f['numParticl'+'esPot']*(-0x14e*-0x5+-0x3*0x325+0x2eb)*ce]<0x1df4+-0x10d*-0x2+-0x200e&&(_0xfca202=!(-0x2118+-0x1212+0x332b)),_0x3c9ad7[_0x35924f*ce+(0x18eb+-0x4b6+-0x40a*0x5)+_0x27be0f['numParticl'+'esPot']*ce]=_0x356528;for(let _0x48d3c1=-0x18bb+0x14ff*-0x1+0x2dba;_0x48d3c1<_0x27be0f['numParticl'+'eVerts'];_0x48d3c1++){const _0x9a40be=(_0x436677*_0x27be0f['numParticl'+'eVerts']+_0x48d3c1)*(_0x27be0f['useMesh']?0x9*-0x28c+0xd50+0x9a2:-0x1*0x1415+-0x123c+-0x3*-0xcc7);let _0x344c12=_0x27be0f['vbCPU'][_0x9a40be],_0x4bee66=_0x27be0f['vbCPU'][_0x9a40be+(0x2ab*-0xc+-0xbf9+0x2bfe)],_0x33807b=_0x27be0f['vbCPU'][_0x9a40be+(0xeeb*-0x1+0x11c2+-0x2d5)];_0xfca202||(_0x344c12=_0x4bee66=_0x33807b=-0x1*0x15a9+0x9af+0xbfa);const _0x2be902=_0x436677*_0x27be0f['numParticl'+'eVerts']*_0x212f6d+_0x48d3c1*_0x212f6d;_0x12d4ad[_0x2be902]=zt['x'],_0x12d4ad[_0x2be902+(0x1755+0x19e9+-0x313d)]=zt['y'],_0x12d4ad[_0x2be902+(-0x2cc*0xc+-0x27*-0xe9+-0x1ed)]=zt['z'],_0x12d4ad[_0x2be902+(-0x26aa+-0xd70+0x341d)]=_0x4788f0,_0x12d4ad[_0x2be902+(-0x4*-0x4f4+0x1d03+-0x30cf)]=_0x27be0f['alignToMot'+'ion']?_0x3cdf2a:_0x3c9ad7[_0x35924f*ce+(0x2500+0xf31*0x1+-0x342e)],_0x12d4ad[_0x2be902+(-0x1660+-0x1*0xdfd+0x2462*0x1)]=_0x30a837,_0x12d4ad[_0x2be902+(0x22e+0x1e39*0x1+-0x2061)]=_0x1e297f,_0x12d4ad[_0x2be902+(0x22f3+0x3*-0x853+-0x9f3)]=fc['x'],_0x12d4ad[_0x2be902+(0x21df+-0x943+-0x1894)]=_0x344c12,_0x12d4ad[_0x2be902+(0x2480+0x816+0x1*-0x2c8d)]=_0x4bee66,_0x12d4ad[_0x2be902+(-0x1e*0x56+0x20db+-0x16bd)]=_0x33807b,_0x12d4ad[_0x2be902+(-0x17*0x16+0x1d0d+-0x1b08)]=fc['y'],_0x12d4ad[_0x2be902+(0x43e+-0x11a5+0xd73*0x1)]=_0x35924f,_0x12d4ad[_0x2be902+(0x1*-0xd85+0x1f56+0x2*-0x8e2)]=fc['z'],_0x12d4ad[_0x2be902+(0x239*0xd+-0x1*-0x1741+0xd06*-0x4)]=_0x27be0f['vbCPU'][_0x9a40be+(-0x8*0x34+0x3*0x81a+-0x16ab)],_0x27be0f['useMesh']&&(_0x12d4ad[_0x2be902+(0x13*0x1cd+0xa7b+-0x2ca3)]=_0x27be0f['vbCPU'][_0x9a40be+(-0xef0+-0x1a8+0x109c)],_0x12d4ad[_0x2be902+(-0x1*0x1592+-0xc5*0x17+0x1*0x2755)]=_0x27be0f['vbCPU'][_0x9a40be+(-0x9b1+-0x1989*-0x1+-0xfd3)]);}}if(_0x27be0f['sort']>nu&&_0x27be0f['camera']){const _0x3a48dd=_0x27be0f['useMesh']?-0x1bf0+0x104*0x4+0x17e6:-0x7ee+-0x169f+0x139*0x19,_0x2ca3f7=_0x27be0f['particleDi'+'stance'];for(let _0x4a6dc2=0x1c1d+0x11c3*-0x1+-0xa5a;_0x4a6dc2<_0x27be0f['numParticl'+'es'];_0x4a6dc2++)_0x525642[_0x4a6dc2][0x2287+-0x143*0x11+-0xd14]=_0x4a6dc2,_0x525642[_0x4a6dc2][-0x2c*-0x17+0xb5c+-0xf4f*0x1]=_0x2ca3f7[Math['floor'](_0x27be0f['vbCPU'][_0x4a6dc2*_0x27be0f['numParticl'+'eVerts']*_0x3a48dd+(0x23b*-0x9+-0x2*0x8c3+0x259c)])];_0x27be0f['vbOld']['set'](_0x27be0f['vbCPU']),_0x525642['sort']((_0xacc7c0,_0x4056ec)=>_0xacc7c0[-0x1062+0x1a0a*0x1+-0x9a7]-_0x4056ec[0x19e7*-0x1+0x3b*-0xa1+0x3f03]);for(let _0x33e9a2=0x2*-0x10fc+0x5f3+0x1c05;_0x33e9a2<_0x27be0f['numParticl'+'es'];_0x33e9a2++){const _0x225323=_0x525642[_0x33e9a2][-0x1a02+-0x2515+0x3f17]*_0x27be0f['numParticl'+'eVerts']*_0x3a48dd,_0x3b5ea1=_0x33e9a2*_0x27be0f['numParticl'+'eVerts']*_0x3a48dd;for(let _0x2dad7f=0x153a+-0x25a8+0x1*0x106e;_0x2dad7f<_0x27be0f['numParticl'+'eVerts']*_0x3a48dd;_0x2dad7f++)_0x27be0f['vbCPU'][_0x3b5ea1+_0x2dad7f]=_0x27be0f['vbOld'][_0x225323+_0x2dad7f];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x3f1da0,_0x55bab9){this['_emitter']=_0x3f1da0,this['frameRando'+'mUniform']=new Float32Array(0x219*0x5+0x16f6+-0x2170),this['emitterPos'+'Uniform']=new Float32Array(-0x36*-0x4d+-0x516+-0xb25),this['emitterSca'+'leUniform']=new Float32Array([0x796+0x162b+0x22*-0xe0,0x1cb5+-0x1cd*0x13+0x53*0x11,0xe2e+0x22d+0x105a*-0x1]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x314*-0x2+0x1*-0x1861+0x1e8c),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x8e*-0x8+0x7af*-0x1+0x2*0x611),this['inBoundsSi'+'zeUniform']=new Float32Array(0xf*-0x163+0x1*0xf65+0x56b),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x110*0x8+-0x1679+0x6fe*0x2),this['constantPa'+'rticleTexI'+'N']=_0x55bab9['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x55bab9['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x55bab9['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x55bab9['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x55bab9['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x55bab9['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x55bab9['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x55bab9['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x55bab9['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x55bab9['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x55bab9['scope']['resolve']('delta'),this['constantRa'+'te']=_0x55bab9['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x55bab9['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x55bab9['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x55bab9['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x55bab9['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x55bab9['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x55bab9['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x55bab9['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x55bab9['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x55bab9['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x55bab9['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x55bab9['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x55bab9['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x55bab9['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x55bab9['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x55bab9['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x55bab9['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x55bab9['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x55bab9['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x55bab9['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x55bab9['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x55bab9['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x55bab9['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x55bab9['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x55bab9['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x55bab9['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x1d8a+-0x7a7*-0x1+0x2531*-0x1]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x26fd+0x260f+0xef]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1f06+0x1f56+-0x3e5a]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x2281+0xd3*0xb+-0x2b92]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x37*0xaf+0x1*0x2691+0x1*-0xf7]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1eac+-0x5de+0x1246*0x2]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x121c+0x7af*0x5+0x1*-0x144f]=Math['random'](),this['frameRando'+'mUniform'][0x1241*0x2+0x772*0x1+0x2bf3*-0x1]=Math['random'](),this['frameRando'+'mUniform'][0x2*-0x429+0x295*0x4+-0x200]=Math['random']();}['update'](_0x54e9c8,_0x2864de,_0x58e38c,_0x5eec2a,_0x30fbcd){Q['pushGpuMar'+'ker'](_0x54e9c8,'ParticleGP'+'U');const _0x52e3ab=this['_emitter'];_0x54e9c8['setBlendSt'+'ate'](pt['NOBLEND']),_0x54e9c8['setDepthSt'+'ate'](Yt['NODEPTH']),_0x54e9c8['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x1*-0x7ba+0x244a*-0x1+-0x3b*-0xbf)/_0x52e3ab['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x52e3ab['precision']),this['constantNu'+'mParticles']['setValue'](_0x52e3ab['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x52e3ab['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x52e3ab['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x52e3ab['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x52e3ab['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x52e3ab['internalTe'+'x3']);const _0x41f2e4=_0x52e3ab['meshInstan'+'ce']['node'],_0x13fb4b=_0x41f2e4===null?D['ONE']:_0x41f2e4['localScale'];if(_0x52e3ab['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x1aa2+0x25ef+0x107*-0xb]=_0x52e3ab['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x1*-0x17cd+-0x38d*0xa+0xbb6]=_0x52e3ab['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x187f+-0x1a57+0x32d8]=_0x52e3ab['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x20cb+-0xfa3+-0x2*-0x1837]=_0x52e3ab['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x8ab+0x33b*0x9+-0x3*0x6cd]=_0x52e3ab['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x657+-0x1*0x106e+-0x7*-0x341]=_0x52e3ab['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x2de296=_0x52e3ab['maxVel']*Math['max'](Math['max'](_0x13fb4b['x'],_0x13fb4b['y']),_0x13fb4b['z']);_0x2de296=Math['max'](_0x2de296,0x5b1*-0x1+0x163*0xa+-0x82c),this['constantMa'+'xVel']['setValue'](_0x2de296);}const _0x4ad326=_0x41f2e4===null||_0x52e3ab['localSpace']?D['ZERO']:_0x41f2e4['getPositio'+'n'](),_0xf6d92c=_0x41f2e4===null?te['IDENTITY']:_0x41f2e4['getWorldTr'+'ansform']();_0x52e3ab['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x2864de),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x58e38c)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x52e3ab['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x52e3ab['emitterRad'+'ius']===-0x241a+-0xba1+0x2fbb?0x1faf+-0x17*0xa1+-0x1138:_0x52e3ab['emitterRad'+'iusInner']/_0x52e3ab['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x52e3ab['initialVel'+'ocity']),eg['setFromMat'+'4'](_0xf6d92c),tg['invertMat4'](_0xf6d92c),this['emitterPos'+'Uniform'][-0x2*-0x3eb+0xe5*0x2a+-0x1*0x2d68]=_0x4ad326['x'],this['emitterPos'+'Uniform'][0x8*-0x31f+-0x8b5+0x21ae]=_0x4ad326['y'],this['emitterPos'+'Uniform'][0xc4+0x3de+-0x4*0x128]=_0x4ad326['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x5eec2a),this['constantRa'+'te']['setValue'](_0x52e3ab['rate']),this['constantRa'+'teDiv']['setValue'](_0x52e3ab['rate2']-_0x52e3ab['rate']),this['constantSt'+'artAngle']['setValue'](_0x52e3ab['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x52e3ab['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x52e3ab['seed']),this['constantLi'+'fetime']['setValue'](_0x52e3ab['lifetime']),this['emitterSca'+'leUniform'][0x1c4c+0x2*0x647+-0x28da]=_0x13fb4b['x'],this['emitterSca'+'leUniform'][-0x13e7+0x4c5*-0x1+0x18ad*0x1]=_0x13fb4b['y'],this['emitterSca'+'leUniform'][-0x16b*0x1+0x1779+-0x160c]=_0x13fb4b['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x52e3ab['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x52e3ab['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x52e3ab['rotSpeedUM'+'ax'][0x72f*0x3+-0x1*-0x1d1b+-0x2*0x1954]);let _0x13beef=_0x52e3ab['swapTex']?_0x52e3ab['particleTe'+'xOUT']:_0x52e3ab['particleTe'+'xIN'];_0x13beef=_0x52e3ab['beenReset']?_0x52e3ab['particleTe'+'xStart']:_0x13beef;const _0x1fcc4d=_0x52e3ab['swapTex']?_0x52e3ab['particleTe'+'xIN']:_0x52e3ab['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x13beef),Ar(_0x54e9c8,_0x52e3ab['swapTex']?_0x52e3ab['rtParticle'+'TexIN']:_0x52e3ab['rtParticle'+'TexOUT'],_0x30fbcd?_0x52e3ab['shaderPart'+'icleUpdate'+'OnStop']:_0x52e3ab['loop']?_0x52e3ab['shaderPart'+'icleUpdate'+'Respawn']:_0x52e3ab['shaderPart'+'icleUpdate'+'NoRespawn']),_0x52e3ab['material']['setParamet'+'er']('particleTe'+'xOUT',_0x13beef),_0x52e3ab['material']['setParamet'+'er']('particleTe'+'xIN',_0x1fcc4d),_0x52e3ab['beenReset']=!(-0x79f*-0x1+0x995+-0x1133),_0x52e3ab['swapTex']=!_0x52e3ab['swapTex'],_0x52e3ab['prevWorldB'+'oundsSize']['copy'](_0x52e3ab['worldBound'+'sSize']),_0x52e3ab['prevWorldB'+'oundsCente'+'r']['copy'](_0x52e3ab['worldBound'+'s']['center']),_0x52e3ab['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x54e9c8);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x4cfbde){let _0x5cc770='particle_'+ya['definesHas'+'h'](_0x4cfbde['defines'])+'_';for(const _0x2e2265 in _0x4cfbde)_0x4cfbde['hasOwnProp'+'erty'](_0x2e2265)&&(_0x5cc770+=_0x4cfbde[_0x2e2265]);return _0x5cc770;}['createVert'+'exDefines'](_0x5e2edb,_0x5c85c7){const _0x262357=new Map(_0x5e2edb['defines']);return _0x5e2edb['mesh']&&_0x262357['set']('USE_MESH',''),_0x5e2edb['meshUv']&&_0x262357['set']('USE_MESH_U'+'V',''),_0x5e2edb['localSpace']&&_0x262357['set']('LOCAL_SPAC'+'E',''),_0x5e2edb['screenSpac'+'e']&&_0x262357['set']('SCREEN_SPA'+'CE',''),_0x5e2edb['animTex']&&_0x262357['set']('ANIMTEX',''),_0x5e2edb['soft']>0x469*-0x1+-0x1982+0x1deb*0x1&&_0x262357['set']('SOFT',''),_0x5e2edb['stretch']>0x1651+-0x9d0+-0x61*0x21&&_0x262357['set']('STRETCH',''),_0x5e2edb['customFace']&&_0x262357['set']('CUSTOM_FAC'+'E',''),_0x5e2edb['pack8']&&_0x262357['set']('PACK8',''),_0x5e2edb['localSpace']&&_0x262357['set']('LOCAL_SPAC'+'E',''),_0x5e2edb['animTexLoo'+'p']&&_0x262357['set']('ANIMTEX_LO'+'OP',''),_0x5e2edb['wrap']&&_0x262357['set']('WRAP',''),_0x5e2edb['alignToMot'+'ion']&&_0x262357['set']('ALIGN_TO_M'+'OTION',''),_0x262357['set']('NORMAL',sg[_0x5e2edb['normal']]),_0x5c85c7['particle_v'+'ertexData']=Me,_0x5e2edb['mesh']&&_0x5e2edb['meshUv']&&(_0x5c85c7['particle_u'+'v']=is),_0x5e2edb['useCpu']&&(_0x5c85c7['particle_v'+'ertexData2']=uh,_0x5c85c7['particle_v'+'ertexData3']=Ap,_0x5c85c7['particle_v'+'ertexData4']=Cp,_0x5c85c7['particle_v'+'ertexData5']=Pp),_0x262357;}['createFrag'+'mentDefine'+'s'](_0x3ef292){const _0x2e9ce5=new Map(_0x3ef292['defines']);return _0x3ef292['soft']>0x17*-0xb0+0x1043+0x1*-0x73&&_0x2e9ce5['set']('SOFT',''),_0x3ef292['halflamber'+'t']&&_0x2e9ce5['set']('HALF_LAMBE'+'RT',''),_0x2e9ce5['set']('NORMAL',sg[_0x3ef292['normal']]),_0x2e9ce5['set']('BLEND',Yy[_0x3ef292['blend']]),_0x2e9ce5;}['createShad'+'erDefiniti'+'on'](_0x51fefb,_0x1a4c4e){const _0x5f47e3=_0x51fefb['isWebGPU']?it:Fe,_0x39c715=Pe['get'](_0x51fefb,_0x5f47e3),_0x43cf40={},_0x1fe1c9=this['createVert'+'exDefines'](_0x1a4c4e,_0x43cf40),_0x3ecad3=this['createFrag'+'mentDefine'+'s'](_0x1a4c4e),_0x4827b4='PARTICLE_'+(_0x1a4c4e['useCpu']?'CPU':'GPU')+'\x0a';_0x1fe1c9['set'](_0x4827b4,''),_0x3ecad3['set'](_0x4827b4,'');const _0x36f3e6=new Map(_0x39c715);return Jt['createDefi'+'nition'](_0x51fefb,{'name':'ParticleSh'+'ader','shaderLanguage':_0x5f47e3,'attributes':_0x43cf40,'vertexCode':_0x39c715['get']('particle_s'+'haderVS'),'fragmentCode':_0x39c715['get']('particle_s'+'haderPS'),'fragmentDefines':_0x3ecad3,'fragmentIncludes':_0x36f3e6,'vertexIncludes':_0x36f3e6,'vertexDefines':_0x1fe1c9});}}const gA=new _A();class SA extends tr{constructor(_0x2df0c0){super(),h(this,'emitter',null),(this['emitter']=_0x2df0c0,w['assert'](_0x2df0c0));}['getShaderV'+'ariant'](_0x39cab8){const {device:_0x2cc681,scene:_0x2ac0f5,cameraShaderParams:_0x346ba2,objDefs:_0x8742e4}=_0x39cab8,{emitter:_0x4668f0}=this,_0x34bf25={'defines':$t['getCoreDef'+'ines'](this,_0x39cab8),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x4668f0['lighting']?_0x4668f0['normalMap']!==null?0x2*-0x122f+0x479*0x2+0x1b6e:-0x1b9a+-0xb*0x2b+-0x82*-0x3a:-0x16e2*0x1+-0x1e33+0x1*0x3515,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x8742e4&nm,'gamma':(_0x346ba2==null?void(0xb*-0x1c5+0x9b9+0x9be):_0x346ba2['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x346ba2==null?void(0x1bd2+-0x2671+-0x1*-0xa9f):_0x346ba2['toneMappin'+'g'])??sm,'fog':_0x2ac0f5&&!this['emitter']['noFog']?_0x2ac0f5['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x4668f0['inTools']?!(0x1d74+-0x4dc+0x4eb*-0x5):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x1ba011=new Ad(_0x39cab8['viewUnifor'+'mFormat'],_0x39cab8['viewBindGr'+'oupFormat'],_0x39cab8['vertexForm'+'at']),_0x4c984b=Hn(_0x2cc681);return _0x4c984b['register']('particle',gA),_0x4c984b['getProgram']('particle',_0x34bf25,_0x1ba011,this['userId']);}}const ig=[[-(-0x7df+-0x29e*-0xa+-0x124c),-(0x13d6+0x56c*0x4+-0x2985)],[0x383*0x7+-0x2*-0x3e9+0x11e*-0x1d,-(0x2*-0xacc+-0x26a+0x1803)],[0x33b*-0x5+0x1*-0xedb+0x11*0x1d3,0x559*0x2+0x4f*0x3+-0x1*0xb9e],[-(0x7*0x29c+-0x1ad1+0x88e),-0x4b*0x49+-0x2696+0x3bfa]];function xs(_0xe2af85,_0x5d2ee6,_0x584731,_0x32df90,_0x532af7=Xt,_0x59072d,_0x1571cc){let _0x61be57=Te;_0x1571cc&&(_0x532af7===Ne||_0x532af7===_s)&&(_0x61be57=vt);const _0x36715e=new _e(_0xe2af85,{'width':_0x5d2ee6,'height':_0x584731,'format':_0x532af7,'cubemap':!(-0x1*0x449+0x1*0xa3d+-0x5f3),'mipmaps':!(-0x5*0x297+-0x6b*-0xd+0x113*0x7),'minFilter':_0x61be57,'magFilter':_0x61be57,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x5ec371=_0x36715e['lock']();if(_0x532af7===Ne||_0x532af7===_s){const _0x1bd140=new Uint8Array(_0x32df90['length']);for(let _0x59d219=0x969+-0x1163+0x7fa;_0x59d219<_0x32df90['length'];_0x59d219++)_0x1bd140[_0x59d219]=_0x32df90[_0x59d219]*_0x59072d*(0x26*-0x1a+-0x1246+0x1721);_0x32df90=_0x1bd140;}return _0x5ec371['set'](_0x32df90),_0x36715e['unlock'](),_0x36715e;}function rg(_0xfce25a){return Math['max'](Math['min'](_0xfce25a,0x22ad+-0x1b0d+-0x79f),-0x452*-0x1+0x2*0x106a+-0x2526);}const ag=new qs([0x571+-0x1e22+0x31*0x81,0x685*0x1+-0x1*0x1d99+0x1714,0x58f*-0x7+-0x793*0x1+0x2e7d,-0x29*-0x2e+-0x27*-0xb+-0x90b]),ng=new qs([-0x2*-0x5+0x4c9+-0x4d3,-0x2*0x991+0xe59*0x1+-0x265*-0x2,0x2f1*0x5+-0x128+-0x44*0x33,0x1d8*-0xb+-0x1f8c+0x33d5]),og=new na([0xc2*-0x6+-0x2682+-0x6*-0x72d,-0x3d1+-0x12e*-0x1+0x2a3,0x1178+-0x35a+0xe1d*-0x1,0x26bd+0x9a3+-0x3*0x1020],[0x4*0x137+0x25d8+0x38f*-0xc,-0x117c+-0x15b6+0x1d*0x15a,-0x14c0+-0x7b*0x35+0x2e38,0x97d*-0x1+-0x3*-0x9ae+0x23*-0x8f],[-0x3cb+-0x551*-0x4+-0x1179,0x2404+-0x1*0x1b55+-0x8af,0x2575+0x17*0x131+0x40db*-0x1,0x8*-0x4a5+0x1*-0x796+0x45*0xa6]),yA=new na([0x20cb+-0x4b*-0x29+-0x25*0x136,0x96+-0x6*-0x3cd+-0x1763,-0x252a+0x11e4+0x1347,-0x7*0x19d+-0x21ec+0x169c*0x2],[-0xd1e+0x231b+-0x15fd,-0x5a9*0x3+-0x303*-0x6+-0x1*0x116,0xd0a+-0x1*-0x1265+-0x1f6e,-0xc90+-0x117a*-0x2+-0x1663*0x1],[-0x1*-0x293+0x36d*-0x6+0x11fb,-0x1e0a+-0xef5+-0x140*-0x24,-0x16da+-0xbca+-0xb5*-0x31,-0x1f5b*-0x1+0x1*0x6f2+0x662*-0x6]);let bi=-0x13c9+-0x92*0x29+0x2b2d;const pc=-0x5db+-0x12b*0x1d+0x27be,Ai=new Float32Array(-0x16d*0xf+-0x1db1+0x3317),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0xa453d8,_0x20fc0e){Zc[_0xa453d8]!==void(0x190b+-0x3a1*-0x8+-0x3613)&&Zc[_0xa453d8]!==null?uu[_0xa453d8]=Zc[_0xa453d8]:uu[_0xa453d8]=_0x20fc0e;}function Dv(_0x50e1ea,_0x5011a5,_0x8f7099){return(_0x50e1ea*(-0x11ac+-0x1cad*-0x1+-0xa02)<<-0x6c*0x20+0x256a+-0x17da*0x1|_0x5011a5*(-0x478*-0x6+0x1fa3*-0x1+0x95*0xa)<<0xee1+0x2619+-0x34f2|_0x8f7099*(-0x27a+0x2579*-0x1+-0xda6*-0x3))/(-0x268f+0x473+0x221d<<0x1cee+-0x1*-0x1a11+-0x36e7);}function cg(_0x40ae02,_0x1af197){const _0x2f3e46=_0x40ae02['length']/(-0x9e0+0x19c6+-0xfe3),_0x18dfef=new Array(_0x2f3e46*(0xf29+0x1099+-0x1fbe));for(let _0x94cf5=-0xc55*0x3+-0x899+0x2d98*0x1;_0x94cf5<_0x2f3e46;_0x94cf5++)_0x18dfef[_0x94cf5*(0x285*0x7+0x127d+-0x241c)]=_0x40ae02[_0x94cf5*(0x12dc+-0xa5b+0x1*-0x87e)],_0x18dfef[_0x94cf5*(-0x1a62+0x6f6+-0x1370*-0x1)+(-0xf9d+-0x5*0x6d1+-0x1091*-0x3)]=_0x40ae02[_0x94cf5*(-0x92a+0x84*-0x16+0x11*0x135)+(-0x2d7*-0x7+-0xdc2+-0x30f*0x2)],_0x18dfef[_0x94cf5*(0xdd3+-0x1eaa+0x10db)+(-0x892*-0x1+0x7*-0x481+0x16f7)]=_0x40ae02[_0x94cf5*(0xa2*0x3+0x2f+-0xa*0x35)+(-0xcbf+0x1*0x16db+0x1af*-0x6)],_0x18dfef[_0x94cf5*(0x1a3e+0x1*-0xbb3+-0xe87)+(0xf*0x1e5+0x9ad*0x3+-0x27*0x179)]=Dv(_0x1af197[_0x94cf5*(0x10e1+0x218e+-0x326c)],_0x1af197[_0x94cf5*(-0x18a*0x6+-0x1fc4+-0x1*-0x2903)+(0x4*0x431+-0x1a*0x9c+-0xeb)],_0x1af197[_0x94cf5*(0x1d90+-0x10be*0x1+-0xccf)+(0xa41+-0x184*0x8+-0x25*-0xd)]);return _0x18dfef;}function vA(_0x3bc03c,_0x24413c){const _0x889068=new Array(_0x24413c['length']*(-0x15fd*-0x1+0x6*0x14d+-0x1dc7));for(let _0x25ad76=0xce*-0x23+-0x1*0x8c5+0x24ef;_0x25ad76<_0x24413c['length'];_0x25ad76++)_0x889068[_0x25ad76*(0x1*0x11a5+0x1f79*-0x1+0xdd8)]=_0x3bc03c[_0x25ad76*(0x1a67+0x19+0x1a7d*-0x1)],_0x889068[_0x25ad76*(0xee6*0x1+-0x2*0x584+0x1*-0x3da)+(-0x3*-0x809+0x2283+-0x3a9d*0x1)]=_0x3bc03c[_0x25ad76*(-0x1521*-0x1+-0x1a*-0xfd+0x70*-0x6b)+(0x1a4d+-0x2*0x92b+-0x3fb*0x2)],_0x889068[_0x25ad76*(0x1b9b*-0x1+0x1*-0x426+0x3*0xa97)+(0x138b*-0x1+0x3c5+0x194*0xa)]=_0x3bc03c[_0x25ad76*(-0x6f7+0x1520+-0xe26)+(-0x1302+-0x2279+0x357d)],_0x889068[_0x25ad76*(0x13cd+-0x1d86+-0x1*-0x9bd)+(-0x20*-0x10+0x3a1*0x2+-0x9*0x107)]=_0x24413c[_0x25ad76];return _0x889068;}function xA(_0x420605,_0x4cdc34,_0x46aeee,_0x57df53,_0x27d6d4){const _0x595540=new Array(_0x420605['length']*(-0x31e+0x5*0x721+0x29*-0xcb));for(let _0x34a189=-0xbeb+-0x1*0x1c6+-0x5*-0x2bd;_0x34a189<_0x420605['length'];_0x34a189++)_0x595540[_0x34a189*(-0x59*0x1+0x1277*-0x1+0x12d4)]=_0x420605[_0x34a189],_0x595540[_0x34a189*(-0x6cf*0x1+-0x12df+0x8f*0x2e)+(0x7cd*0x2+-0x1*0x1461+-0x66*-0xc)]=_0x4cdc34[_0x34a189],_0x595540[_0x34a189*(0x227*0x12+0x611*-0x4+0x1*-0xe76)+(-0x252f+-0x5b*0x56+-0x391*-0x13)]=0xaf3*0x2+-0x2e*0x69+0x2*-0x184,_0x595540[_0x34a189*(0x68f*-0x5+0x14*0x7a+0x1747)+(0x21c2+0x2014+0x19b*-0x29)]=Dv(_0x46aeee[_0x34a189],_0x57df53[_0x34a189],_0x27d6d4[_0x34a189]);return _0x595540;}function TA(_0x5cbeea,_0x5c5dd9){const _0x3451bf=new Array(_0x5cbeea['length']*(0x19*0x60+0x1*0x1cb7+-0x2613));for(let _0x5f4fbf=0x2*-0x58e+0x1*-0x267b+-0x5*-0x9eb;_0x5f4fbf<_0x5cbeea['length'];_0x5f4fbf++)_0x3451bf[_0x5f4fbf*(-0xcba+-0xd81+-0x1a3f*-0x1)]=_0x5cbeea[_0x5f4fbf],_0x3451bf[_0x5f4fbf*(0xe40+-0x102c+-0xf8*-0x2)+(0x2374*0x1+0x1*0x1509+-0x5*0xb4c)]=_0x5c5dd9[_0x5f4fbf],_0x3451bf[_0x5f4fbf*(0x53*-0x68+0x133d+0xe7f)+(-0x1e2b+-0x1da2*0x1+0x3bcf)]=-0x4*-0x806+-0x1*-0x1159+-0x3171,_0x3451bf[_0x5f4fbf*(-0x1*0x5e3+-0x25e0+-0x1*-0x2bc7)+(0x22e6+-0x164b+-0xf8*0xd)]=0x973+-0x726+-0x24d;return _0x3451bf;}function wA(_0x524089){const _0x380bf0=Math['max'](_0x524089['rate'],_0x524089['rate2'])*_0x524089['numParticl'+'es']+_0x524089['lifetime'];return Date['now']()+_0x380bf0*(-0x25e6+-0x24db+0xd*0x60d);}function EA(_0x407dcc,_0x3d144a){const _0x2a9dc2=new Float32Array(_0x407dcc['length']);for(let _0x52de53=-0x1dc4+0x1363*-0x1+-0x1*-0x3127;_0x52de53<_0x407dcc['length'];_0x52de53++)_0x2a9dc2[_0x52de53]=_0x407dcc[_0x52de53]-_0x3d144a[_0x52de53];return _0x2a9dc2;}function Xr(_0x168b76,_0x6bd5b2){const _0x4aaa47=_0x6bd5b2['length'],_0xe42a9f=_0x168b76['length']/_0x4aaa47;for(let _0x2485d8=-0x217b*-0x1+0x1f6e+0x3*-0x15a3;_0x2485d8<_0xe42a9f;_0x2485d8++)for(let _0x2806f6=-0x113a+0xd15+-0x425*-0x1;_0x2806f6<_0x4aaa47;_0x2806f6++){const _0x43945b=Math['abs'](_0x168b76[_0x2485d8*_0x4aaa47+_0x2806f6]);_0x6bd5b2[_0x2806f6]=Math['max'](_0x6bd5b2[_0x2806f6],_0x43945b);}}function bA(_0x27f9c5,_0x2a0dff){const _0x98b909=_0x2a0dff['length'],_0x1838b5=_0x27f9c5['length']/_0x98b909;for(let _0x457893=0x1*0x1ff6+-0x1d86+-0x270;_0x457893<_0x1838b5;_0x457893++)for(let _0xfdf9=-0xf84+0x17*-0xb2+0x1f82;_0xfdf9<_0x98b909;_0xfdf9++)_0x27f9c5[_0x457893*_0x98b909+_0xfdf9]/=_0x2a0dff[_0xfdf9]===-0x1fc3+-0x1231+-0x8b*-0x5c?0x1555+-0xafd*-0x3+-0x364b:_0x2a0dff[_0xfdf9],_0x27f9c5[_0x457893*_0x98b909+_0xfdf9]*=0x26bb+-0xc42+-0x1a79+0.5,_0x27f9c5[_0x457893*_0x98b909+_0xfdf9]+=-0x3*-0x1a5+0x7a*-0x2d+0x1083*0x1+0.5;}function Br(_0x2ee8e7,_0x102171,_0x579e39){const _0x10ceeb=EA(_0x102171,_0x2ee8e7);return Xr(_0x10ceeb,_0x579e39),bA(_0x10ceeb,_0x579e39),_0x10ceeb;}const AA=new Kt();class CA{constructor(_0x5181c5,_0x57ad67){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x5181c5;const _0x512d36=_0x5181c5,_0x4e28cb=0x423+-0x5ed+-0x23*-0xe;this['precision']=_0x4e28cb,this['_addTimeTi'+'me']=0x269b+-0x17f2+-0xea9,uu=this,Zc=_0x57ad67,he('numParticl'+'es',-0x34*-0xe+0x1be0+-0x1eb7),this['numParticl'+'es']>_0x5181c5['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x5181c5['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x5181c5['maxTexture'+'Size']),he('rate',-0x1f3*0xd+-0x1853+-0x9ef*-0x5),he('rate2',this['rate']),he('lifetime',-0xf*-0x4f+0xd5*-0x7+0x164),he('emitterExt'+'ents',new D(0x21a6+-0x6a1+-0x1b05,0x1369*0x1+0x1*-0x2433+0x10ca,0x1e2*0xd+-0xee3+-0x1eb*0x5)),he('emitterExt'+'entsInner',new D(-0xf6f+0x1e2f+0xec0*-0x1,-0x9*0x22f+0x2*0xe8+0x11d7,0x95f*-0x1+-0x10a7+0x1a06)),he('emitterRad'+'ius',-0x7*-0x589+-0x1*-0x49+-0x2708),he('emitterRad'+'iusInner',0x135a*-0x1+-0xa4c*-0x3+-0xb8a),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0xc85+-0x1d59*0x1+0xdf5*0x3),he('wrap',!(-0x1bf4+-0x22eb+0x3ee0)),he('localSpace',!(0xb*-0xd+0x5b3*-0x5+-0xad*-0x2b)),he('screenSpac'+'e',!(0x6*-0x21b+0x2*0x113e+-0x15d9)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x1fc7*-0x1+0x12aa+0xd1d)),he('preWarm',!(0x10b*-0x7+-0x617+0xd65)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x1*0x2438+-0x2fc*-0x8+0x3c17*-0x1)),he('halfLamber'+'t',!(-0xa7b*-0x1+0x5*-0x2cf+0x391)),he('intensity',0x322*-0x1+-0x2*-0xb8d+0x1*-0x13f7),he('stretch',0x1*-0x1b36+0xbc9+0x167*0xb),he('alignToMot'+'ion',!(-0x7*0x2f9+-0x23ef+0x38bf)),he('depthSofte'+'ning',-0x170e+-0x257a*-0x1+0x4*-0x39b),he('mesh',null),he('particleNo'+'rmal',new D(-0x2e4+0x19b7+-0x1*0x16d3,-0xa76+0x1f29+-0x14b2,-0x680+-0xd*0x1c4+0x1d74)),he('orientatio'+'n',yh),he('depthWrite',!(0x665*0x2+-0x185*-0x4+-0x12dd)),he('noFog',!(-0x13*0x17a+0x3*0x1eb+0x164e)),he('blendType',Zs),he('node',null),he('startAngle',0x11*0x11f+0x52f+-0x183e),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x1da5+-0x15*0x1a7+0x4059),he('animTilesY',0xa55+-0x18a1+0x1*0xe4d),he('animStartF'+'rame',0x1f75+-0x3*0xb2a+-0x1*-0x209),he('animNumFra'+'mes',0x24e6+-0xc39+-0x18ac),he('animNumAni'+'mations',0x3f*-0x6f+0x1*0x8b1+0x1*0x12a1),he('animIndex',-0x1*0x1382+0x1*-0x1d15+0x3097),he('randomizeA'+'nimIndex',!(-0x1d14+0x36f*-0x2+-0x1*-0x23f3)),he('animSpeed',-0x494+-0xb2d*-0x1+-0x698),he('animLoop',!(0x1c*-0x155+-0x14bb+0x3a07)),this['_gpuUpdate'+'r']=new mA(this,_0x512d36),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x28*-0xa+-0x96d+-0x80*-0x16),this['wrapBounds'+'Uniform']=new Float32Array(-0x1be9+-0x1122+0x2*0x1687),this['emitterSca'+'leUniform']=new Float32Array([0x8a*-0x2+0x32*0x9d+-0x1d95*0x1,0x1fcb+-0x9*-0x22+-0x20fc,0x1*0x67+-0x2fb*0xd+0x2659]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x3ad*0x7+-0x1632+-0x387),this['animParams']=new Float32Array(0x32*0x99+-0xc*0x83+0xbdd*-0x2),this['animIndexP'+'arams']=new Float32Array(-0x1*0x205c+0x41c*-0x1+0x247a),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x1*0x5c1+0x4*0x2f7+-0x1c*0xa1),this['useMesh']=!(0xd7*-0x1f+-0x6b*0x3+0x1b4a),this['useCpu']=!_0x5181c5['supportsGp'+'uParticles'],this['pack8']=!(-0xc14*0x2+0x1*-0x2056+0x7*0x812),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0x1ba3+-0x72c+0x1*-0x1477,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x5*0x1b5+0x23dd+-0x6d5*0x4,this['numParticl'+'eIndices']=0x6ba+-0x3fb*0x2+0x9e*0x2,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x29*-0x56+0xbbf*-0x3+0x1*0x3103,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x1197+0x197*0x5+-0x9a5*-0x1)/(-0x58*-0x5+0x1696+-0x1812),this['maxSubStep'+'s']=-0xa3*-0x36+-0x1*0xfc9+-0x128f,this['simTime']=-0x17e6+0x1153+-0x9*-0xbb,this['simTimeTot'+'al']=-0x2c2*0x1+0xf35+-0xc73,this['beenReset']=!(0x7*-0x259+-0x6b*0x4+0x4c*0x3d),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x3b58db=new Float32Array(-0x1266+-0x1211+-0xd7d*-0x3);for(let _0x19b790=-0x2*-0x129b+-0x115b+-0x13db;_0x19b790<0xb5e*0x3+0x19*0x79+-0x111*0x2b;_0x19b790++)for(let _0x424ff4=-0x49*0x5b+0x2260+-0x86d;_0x424ff4<-0x52*0x21+0x1*-0x1d14+0x27b6;_0x424ff4++){const _0x59c657=_0x424ff4+(0x1abb+0xf5c+0x2*-0x150b)-(0xdf8+0x7*-0x50e+0x1572+0.5),_0x37e811=_0x19b790+(0x709*-0x5+0x1*-0xa8f+0xf3f*0x3)-(-0x60a+-0xd1b*-0x1+-0x709*0x1+0.5),_0x231c01=rg(0xd92+-0x859*0x1+-0x538-rg(Math['sqrt'](_0x59c657*_0x59c657+_0x37e811*_0x37e811)/(0x641*-0x2+0x1*0x20a7+-0x1415))-(-0x255d*-0x1+0x131*0xc+-0x33a9+0.5)),_0x8c5637=_0x19b790*(-0x1*-0xb89+-0x30*0x23+-0x1a3*0x3)+_0x424ff4;_0x3b58db[_0x8c5637*(-0x26bb+0xf+-0x26b0*-0x1)]=0x49f+0x5*0x3ba+0x18*-0xf8,_0x3b58db[_0x8c5637*(0x1034*-0x1+0x49*-0x1+0x1081)+(0x24*-0x98+-0x77*0x31+0x2c28)]=-0xc5*-0x2b+-0xb9c+-0x157a*0x1,_0x3b58db[_0x8c5637*(0x1791+0x1*0x21b5+-0x3942)+(0x1*0x2179+-0x1f*0xe3+0x1e*-0x33)]=0x1111+-0x1*0xd5f+-0xf*0x3f,_0x3b58db[_0x8c5637*(-0x8*0x77+0x258*0xa+-0x13b4)+(0xb*0x17d+0x14c0+-0x251c)]=_0x231c01;}const _0x4c0ce4=xs(this['graphicsDe'+'vice'],-0x1*-0x180+-0xa*0x380+0x3*0xb30,-0x174a+-0x144e+-0x15d4*-0x2,_0x3b58db,_s,-0x1047+0x729+0x91f,!(-0x2451+0xcb9*0x1+-0x4*-0x5e6));return _0x4c0ce4['minFilter']=vt,_0x4c0ce4['magFilter']=vt,_0x4c0ce4;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x51e+-0x67a*0x1+0xb99)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x17*-0x7d+-0x90b+0x1447)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1daa+-0x1*0xf39+-0xe70)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0xc7f+-0x347*-0x5+0x1*-0x3e3)),this['worldBound'+'sAdd']['x']+=0x10d3+-0x106*0x22+0x2b*0x6b+0.5,this['worldBound'+'sAdd']['y']+=-0x6*-0x481+-0x112f*-0x1+-0x2c35*0x1+0.5,this['worldBound'+'sAdd']['z']+=0x8*0xf9+0x1d09+-0x24d1+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x124ef6=!(0x1f34+0x218e+0x5e3*-0xb);this['emitterSha'+'pe']===ai?_0x124ef6=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x124ef6=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x124ef6&&this['calculateL'+'ocalBounds']();}const _0x2c71ba=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x2c71ba),this['worldBound'+'sTrail'][-0x7d7+0x1d*-0x11+0x9c4]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x3*0xb8a+0x3a*0x61+0xca5]['add'](this['worldBound'+'sNoTrail']);const _0x241686=this['simTimeTot'+'al'];_0x241686>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x681+-0x102b+0x2*0x4d5]['copy'](this['worldBound'+'sTrail'][-0x197b+-0x40*0x13+0x1e3c]),this['worldBound'+'sTrail'][0x140e+-0xfea*0x2+0xbc7]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x241686+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0xde4+-0x14*0xe+-0x1c*-0x89]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2509+-0x5d1*0x5+-0x6*0x153),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x2c71ba),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x2c71ba)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0xf71+-0x1feb+-0x61*-0x7d-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x29b*0x5+0x89b+-0x236*-0x2]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x14b+-0x2*-0xb15+-0x1774]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x19f7+-0x13*-0x149+0x3262*-0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0xce2*0x2+-0xa79+-0xf49),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x18*0x161+0x29c*0x5+0x503*0x4,this['timeToSwit'+'chBounds']=-0xc33+-0x2*-0x120f+-0x17eb);}['calculateL'+'ocalBounds'](){let _0x1397f2=Number['MAX_VALUE'],_0x466ca6=Number['MAX_VALUE'],_0x3a5a83=Number['MAX_VALUE'],_0x404c99=-Number['MAX_VALUE'],_0x2abf02=-Number['MAX_VALUE'],_0x328e36=-Number['MAX_VALUE'],_0x259273=-0x1e69+-0xb*-0x25b+0x4*0x120,_0x14fbd8=0x9*0x1a3+-0x102b*0x1+-0x1*-0x170;const _0x55212f=this['lifetime']/this['precision'],_0x5e9857=[this['qVelocity'],this['qVelocity2']],_0x31fdc7=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x4e1ffe=[-0x184c+-0x1311*0x1+0x2b5d,-0x7d*-0x3b+0x1f6e+-0x3c3d],_0x18d76f=[-0x15ab+0xd*-0x2c9+0x39e0,0x1fc0+0x20de+-0x409e],_0x141489=[-0x255*-0x4+-0x7*0x18b+0x179,0x1aa5*0x1+0x6*-0x1a1+0x1*-0x10df],_0x205c26=[0x77*-0x7+-0x13*-0x155+-0x160e,-0x7*-0x199+0x174d+-0x227c],_0x3380b2=[-0x22eb+0xa7*-0x21+-0x3872*-0x1,-0x3*-0xc73+0x1822+-0x1*0x3d7b];let _0x1e2649,_0x3251b6,_0x6d1005;for(let _0x1cb3b1=-0x315*-0x4+-0x763*-0x3+-0xb7f*0x3;_0x1cb3b1<this['precision']+(0x15ce*-0x1+0x174b+-0x17c);_0x1cb3b1++){const _0x1f10b6=Math['min'](_0x1cb3b1,this['precision']-(-0x1*-0x199b+-0x1*-0x66b+-0x2005));for(let _0x3657c5=-0x92d+-0x1d14+0x2641;_0x3657c5<-0x2bb+0x1d69*0x1+-0x1aac;_0x3657c5++)_0x1e2649=_0x31fdc7[_0x3657c5][_0x1f10b6*(-0x1867*-0x1+0x1*0x14cb+0x1*-0x2d2f)+(-0x37d+0x2*0x1051+-0x33d*0x9)]*_0x55212f+_0x4e1ffe[_0x3657c5],_0x3251b6=_0x31fdc7[_0x3657c5][_0x1f10b6*(0x7c6*-0x4+0xa48+0x14d3)+(0x152b*-0x1+0xb6d+0x1f3*0x5)]*_0x55212f+_0x18d76f[_0x3657c5],_0x6d1005=_0x31fdc7[_0x3657c5][_0x1f10b6*(0xda4+0x3eb+-0x118c)+(0xb8f*0x1+-0x107b*-0x2+-0x2c83)]*_0x55212f+_0x141489[_0x3657c5],_0x1397f2=Math['min'](_0x1e2649,_0x1397f2),_0x466ca6=Math['min'](_0x3251b6,_0x466ca6),_0x3a5a83=Math['min'](_0x6d1005,_0x3a5a83),_0x404c99=Math['max'](_0x1e2649,_0x404c99),_0x2abf02=Math['max'](_0x3251b6,_0x2abf02),_0x328e36=Math['max'](_0x6d1005,_0x328e36),_0x4e1ffe[_0x3657c5]=_0x1e2649,_0x18d76f[_0x3657c5]=_0x3251b6,_0x141489[_0x3657c5]=_0x6d1005;for(let _0x3d763a=-0x63d+0x1*-0x12df+0x191c;_0x3d763a<0x1*0x255d+0x1985+-0x2*0x1f70;_0x3d763a++)_0x3380b2[_0x3d763a]+=_0x55212f*Math['sqrt'](_0x5e9857[_0x3d763a][_0x1f10b6*(-0x1780+-0x5f4+0x1d77)+(-0x3*-0x293+0xba9+0x1362*-0x1)]*_0x5e9857[_0x3d763a][_0x1f10b6*(0x2565*0x1+-0x8e*-0x13+-0x2*0x17f6)+(-0x1*-0x4fc+-0x1ed4*-0x1+-0x23d0)]+_0x5e9857[_0x3d763a][_0x1f10b6*(0x175*-0x1+0x20c2+-0x5a*0x59)+(0x11*0x163+-0x21ab+0xa19)]*_0x5e9857[_0x3d763a][_0x1f10b6*(0x481*0x3+-0x9af*-0x1+-0x172f)+(0xa48+-0x15d2+0xb8b)]+_0x5e9857[_0x3d763a][_0x1f10b6*(0xc1+-0x1771+0x16b3)+(-0x8*0x32+0xfbf+-0xe2d)]*_0x5e9857[_0x3d763a][_0x1f10b6*(0xa6a*-0x1+0x1b15+-0x10a8)+(-0x1cd7+0xb87*-0x1+0x11*0x260)]);_0x205c26[0x1f9*0xd+-0x112c+-0x879]+=this['qRadialSpe'+'ed'][_0x1f10b6]*_0x55212f,_0x205c26[-0x8b*0x27+-0x1ee9+0x3417]+=this['qRadialSpe'+'ed2'][_0x1f10b6]*_0x55212f,_0x259273=Math['max'](_0x259273,Math['max'](Math['abs'](_0x205c26[-0x1*0x8cc+-0x9dd*-0x1+-0xd*0x15]),Math['abs'](_0x205c26[0x13*-0x1b5+0x1f55+0x11b]))),_0x14fbd8=Math['max'](_0x14fbd8,this['qScale'][_0x1f10b6]);}this['emitterSha'+'pe']===ai?(_0x1e2649=this['emitterExt'+'ents']['x']*(0x1*0x22c2+0x702+-0x29c4+0.5),_0x3251b6=this['emitterExt'+'ents']['y']*(-0x1c72+-0xae6+0x4eb*0x8+0.5),_0x6d1005=this['emitterExt'+'ents']['z']*(0x2f2*-0x1+-0x5f4*-0x6+-0x20c6+0.5)):(_0x1e2649=this['emitterRad'+'ius'],_0x3251b6=this['emitterRad'+'ius'],_0x6d1005=this['emitterRad'+'ius']);const _0x4a1faa=Math['max'](_0x3380b2[-0xf15+-0x1a8d+0x29a2],_0x3380b2[0xa*-0x21f+0x1*0x97d+-0x1*-0xbba]);mc['x']=_0x1397f2-_0x14fbd8-_0x1e2649-_0x259273-_0x4a1faa,mc['y']=_0x466ca6-_0x14fbd8-_0x3251b6-_0x259273-_0x4a1faa,mc['z']=_0x3a5a83-_0x14fbd8-_0x6d1005-_0x259273-_0x4a1faa,_c['x']=_0x404c99+_0x14fbd8+_0x1e2649+_0x259273+_0x4a1faa,_c['y']=_0x2abf02+_0x14fbd8+_0x3251b6+_0x259273+_0x4a1faa,_c['z']=_0x328e36+_0x14fbd8+_0x6d1005+_0x259273+_0x4a1faa,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x4f841a=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x4f841a['maxVertexT'+'extures']<=-0x23ea+0xb3e*0x2+0xd6f||_0x4f841a['fragmentUn'+'iformsCoun'+'t']<0x14e5+-0x1277*0x2+-0x1*-0x1049||_0x4f841a['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x4f841a['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x3*0x6fd+-0x21db+-0x36d6*-0x1:-0x11c8+0x1be4+-0x6*0x1af,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x25df+0x138*0x9+-0x30d7]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x2214+-0x159c+-0x37b1*-0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x13d2+-0x2217+0x35eb),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x579a64=-0xe1d+0x11*0xb5+0x218;_0x579a64<this['numParticl'+'es'];_0x579a64++)this['vbToSort'][_0x579a64]=[0x265*0xf+0x21f+-0x260a,-0x1*0x1f1+-0xe2b*-0x2+-0x1a65];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x2d8d09=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x64*0x40+0xcb3+0xc4d]=this['emitterExt'+'ents']['x']!==-0xc8*0x10+0x30d+0x973?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x187c+-0x6b9*-0x1+-0x1f35,Ai[-0x1d93+-0x1706+0x2*0x1a4d]=this['emitterExt'+'ents']['y']!==-0x75d*0x5+-0x19e9+0x3eba?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x7*-0xe5+-0x1a6a+0x1427,Ai[0x1df5+0x452*0x6+-0x37df]=this['emitterExt'+'ents']['z']!==-0x1bc9*0x1+-0xb9c+-0x2765*-0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x15f3+-0x1d49+-0x2*-0x3ab);for(let _0x508d2e=0x73c*0x5+-0x322+-0x210a;_0x508d2e<this['numParticl'+'es'];_0x508d2e++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x2d8d09,_0x508d2e),this['useCpu']&&(this['particleTe'+'x'][_0x508d2e*pc+(-0xb*-0xf4+0x1166+-0x1bdf)+this['numParticl'+'esPot']*(0x23f+0x172+-0x3af)*pc]=-0x2278+0x139a+0xedf);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x452f57=-0xa94*-0x2+0xfb3*0x1+0x11*-0x22b;_0x452f57<this['particleTe'+'xStart']['length'];_0x452f57++)this['particleTe'+'xStart'][_0x452f57]=this['particleTe'+'x'][_0x452f57];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x56+-0x175a*0x1+0x17b1,!(0x13*0x7c+0x2*0x846+-0x19bf)),this['particleTe'+'xOUT']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0xef*0x17+0x1cba*0x1+-0x1*0x3232,!(-0x14d+0x15dd+-0x148f)),this['particleTe'+'xStart']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0x7a4+0x682*-0x2+0x14a9,!(-0x3bf+0x120+0x2a0))):(this['particleTe'+'xIN']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x4f841a,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x10ec+0x260b+-0x151e)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x2116+-0x23cb+0x44e2)}),this['swapTex']=!(-0x9bf+-0x47b*-0x5+-0xca7));const _0x350183=new Map();this['localSpace']&&_0x350183['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x350183['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x350183['set']('EMITTERSHA'+'PE_BOX','');const _0x580cb1='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x53383b=Pe['get'](_0x4f841a,_0x4f841a['isWebGPU']?it:Fe),_0x328dfd=new Map(_0x53383b),_0x5b6270={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x350183,'fragmentIncludes':_0x328dfd};_0x5b6270['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x580cb1,_0x350183['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x4f841a,_0x5b6270),_0x350183['delete']('RESPAWN'),_0x5b6270['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x580cb1,_0x350183['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x4f841a,_0x5b6270),_0x350183['delete']('NO_RESPAWN'),_0x5b6270['uniqueName']='ParticleUp'+'dateStop-'+_0x580cb1,_0x350183['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x4f841a,_0x5b6270),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x14cf*0x1+0x15c2+0x1*-0xef,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x65*-0x1d+-0x21b0+0x163f]['numIndices']:-0xd75*-0x2+0xa67*-0x1+-0x7*0x25b,this['_allocate'](this['numParticl'+'es']);const _0x2a395e=new Ge(_0x4f841a);_0x2a395e['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x2a395e['indexBuffe'+'r'][0xad+0x8*0x229+-0x11f5*0x1]=this['indexBuffe'+'r'],_0x2a395e['primitive'][0x19*-0xe5+0x1*-0x617+0x4*0x71d]['type']=js,_0x2a395e['primitive'][0x16aa+0x2611+-0x3cbb]['base']=-0x106e+0x7fa+0x874,_0x2a395e['primitive'][0x3*0x328+0x1c04+-0x257c]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x2a395e['primitive'][-0x52b+-0x1*-0x20f+-0x2*-0x18e]['indexed']=!(0x269e*0x1+0xa92+-0x3130),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x421500=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x15d3+0x1339+0x29a);this['meshInstan'+'ce']=new He(_0x2a395e,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x11*-0x137+-0x15ff+-0x17*-0xf),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x2cf*-0x6+-0x1c8+-0x789*0x2),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0xf89+-0x7b+-0xf0d),this['meshInstan'+'ce']['visible']=_0x421500,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*-0x475+0x4a2*-0x7+0x1bf9,!(-0x24a8+0x517*0x1+0x1f92)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x720+0x3e*0x17+-0xcb1&&(this['animTilesX']>0x1*-0x1f03+0x2*0xad2+0x2*0x4b0||this['animTilesY']>0x1*0x26c5+0x11e2+0x3*-0x12e2)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x1ee70c=this['precision'],_0x3f53b4=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x1ee70c),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x1ee70c),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x1ee70c,0x183d+0x1ffa*-0x1+-0x7bd*-0x1,0x2655+-0x1673+0x32d*-0x5),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x1ee70c),this['qScale']=this['scaleGraph']['quantize'](_0x1ee70c),this['qAlpha']=this['alphaGraph']['quantize'](_0x1ee70c),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x1ee70c),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x1ee70c),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x1ee70c),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x1ee70c,-0x24fc+-0x1*0xf3b+0x3437,-0x176*0xf+-0x18c9+0x2eb4),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x1ee70c),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x1ee70c),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x1ee70c),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x1ee70c);for(let _0x10ab14=0x71*0x44+-0x9b*-0x35+-0x3e1b;_0x10ab14<_0x1ee70c;_0x10ab14++)this['qRotSpeed'][_0x10ab14]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x10ab14]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x724*0x1+0x1337*-0x1+0xd2f*0x2),this['velocityUM'+'ax']=new Float32Array(0x1a62+-0x2*0x4c7+-0x10d1),this['colorUMax']=new Float32Array(-0xeb*0x2+-0x23*-0x1d+-0x21e),this['rotSpeedUM'+'ax']=[-0x6*-0x332+-0x1e85+-0x1*-0xb59],this['scaleUMax']=[0x2*0xd1b+-0x3e*-0x2+-0x1ab2],this['alphaUMax']=[-0x1859*0x1+0x25eb+-0xd92],this['radialSpee'+'dUMax']=[0x25*0xe5+0x1c*0x6a+0x11*-0x2a1],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x4c2639=[0xac6*0x3+-0xbf8+-0x145a,-0x20eb+0x2093+0x58,0xed8+-0x1f1d+-0x11*-0xf5];Xr(this['qVelocity'],_0x4c2639);const _0x239825=[-0x1*0xf97+0x83*-0x9+0x1432,-0x1cc9+-0x1*-0x1451+0x878,0x6f0+0x2*0x321+0x6*-0x233];Xr(this['qVelocity2'],_0x239825);const _0x458398=[0x1*0x252e+0x143d+-0x396b,-0x9ee+-0x1790+0x217e,-0x1ec5+0x1*0x2372+0x1*-0x4ad];Xr(this['qLocalVelo'+'city'],_0x458398);const _0x1f6f91=[-0xd0d*-0x2+0x22cd+0x3*-0x144d,-0x73e*-0x5+0x12fd*-0x1+-0x1139,-0x1*-0xa8b+0x24df+0x2*-0x17b5];Xr(this['qLocalVelo'+'city2'],_0x1f6f91);const _0x33588d=[-0x2*0x1155+-0x157+0x2401];Xr(this['qRadialSpe'+'ed'],_0x33588d);const _0x569425=[-0x57a*0x4+-0xb7c+-0x4*-0x859];Xr(this['qRadialSpe'+'ed2'],_0x569425);let _0x125002=Math['max'](_0x4c2639[0x23aa+-0xc8+-0x22e2],_0x239825[0x235*0x2+0x1bf6+-0x2060]);_0x125002=Math['max'](_0x125002,_0x4c2639[-0x7cd+-0x1aab+0x19*0x161]),_0x125002=Math['max'](_0x125002,_0x239825[-0x1e06+0xc77+-0x8*-0x232]),_0x125002=Math['max'](_0x125002,_0x4c2639[-0x6d3+-0x2161+-0x2*-0x141b]),_0x125002=Math['max'](_0x125002,_0x239825[0x5*-0x1cd+-0x1*-0xa61+-0xaf*0x2]);let _0x2974fe=Math['max'](_0x458398[-0x1744+-0x5*-0x4f8+-0x65*0x4],_0x1f6f91[0xc85+0x1abd+-0x2742]);_0x2974fe=Math['max'](_0x2974fe,_0x458398[-0x75c*-0x3+0x1*0xe14+-0x5*0x73b]),_0x2974fe=Math['max'](_0x2974fe,_0x1f6f91[-0x3be*-0xa+-0x14ca+-0x2b*0x63]),_0x2974fe=Math['max'](_0x2974fe,_0x458398[-0xb1e*-0x1+0x245c+-0x2f78]),_0x2974fe=Math['max'](_0x2974fe,_0x1f6f91[0x15ea+0x2558+0x20*-0x1da]);const _0x5c004d=Math['max'](_0x33588d[-0x1*0xec9+-0x148+0x1011],_0x569425[-0x1469+0x54a*0x6+-0xb53]);this['maxVel']=_0x125002+_0x2974fe+_0x5c004d;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x3f53b4,_0x1ee70c,0x8*-0x59+0x3*-0x131+-0x4a*-0x16,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x3f53b4,_0x1ee70c,0x1*-0x1d30+0x2432+-0x701,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x3f53b4,_0x1ee70c,-0x1*-0x5c4+-0x7c9*0x1+0x206,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x3f53b4,_0x1ee70c,0x234c+0x1e0f+0xe*-0x4ab,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x3f53b4,_0x1ee70c,0x2a*0x9a+-0x3e3+-0x1560,vA(this['qColor'],this['qAlpha']),_s,-0xb3f+0x1*-0xedb+0x1a1b,!(0x2*0x6c3+0x19c*-0x10+-0x139*-0xa));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x3fc6e1=new SA(this);return _0x3fc6e1['name']='EmitterMat'+'erial:'+this['node']['name'],_0x3fc6e1['cull']=bt,_0x3fc6e1['alphaWrite']=!(-0x5*0x20a+0x25a3*0x1+0x2*-0xdb8),_0x3fc6e1['blendType']=this['blendType'],_0x3fc6e1['depthWrite']=this['depthWrite'],_0x3fc6e1;}['resetMater'+'ial'](){const _0x564ad4=this['material'];_0x564ad4['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x564ad4['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x564ad4['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x564ad4['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x564ad4['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x564ad4['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x564ad4['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x564ad4['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x564ad4['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x564ad4['setParamet'+'er']('colorParam',this['colorParam']),_0x564ad4['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x564ad4['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x564ad4['setParamet'+'er']('lifetime',this['lifetime']),_0x564ad4['setParamet'+'er']('rate',this['rate']),_0x564ad4['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x564ad4['setParamet'+'er']('seed',this['seed']),_0x564ad4['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x24e6+-0x13*0x14d+-0xc2f]),_0x564ad4['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x24b*-0x7+0x11cc+-0x1bf]),_0x564ad4['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x11b7+0x1*-0xaf4+-0x6c3]),_0x564ad4['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x564ad4['setParamet'+'er']('graphSampl'+'eSize',(0x1*-0xef5+-0x1*-0x181a+-0x924)/this['precision']),_0x564ad4['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x15e9+0x234a+0x1c99*-0x2,-0x1a8f*-0x1+0x3f1*0x1+-0x1e7f*0x1,0x3ec*-0x1+-0x1157+0x1544])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x564ad4['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x564ad4['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x564ad4['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x19*-0x28+-0x11af+0x1597]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0xb65+-0x10ee+0x58a]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x24e1+0x9e*-0x22+-0xfe3]=this['wrapBounds']['z'],_0x564ad4['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0xd*-0xe1+0x312+-0x45*-0x1f&&_0x564ad4['setParamet'+'er']('softening',(0x2*0xaee+-0xb85+-0xa56)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1*0xe1e+-0x1f88+0x2e0a))),this['stretch']>-0xce+-0x2ba+-0x4*-0xe2&&(_0x564ad4['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x429119,_0x4e6e8e;if(this['orientatio'+'n']===yh)_0x429119=new Float32Array([-0xee*0x7+-0xa5+-0x4*-0x1ca,-0x24fb+0xd56+0x1*0x17a5,0x26fb+0x4be*-0x5+-0x3*0x517]),_0x4e6e8e=new Float32Array([-0x1758+0xa2b+-0xd2d*-0x1,-0x1314*0x1+0x1*0x1253+0xc1,0x2469+0x2555*-0x1+0x4f*0x3]);else{let _0x1a5f24;this['orientatio'+'n']===Vw?_0x1a5f24=this['particleNo'+'rmal']['normalize']():_0x1a5f24=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x4e5bce=new D(0xa9d+0x13d7+-0x1e73,-0xceb+-0xeb6+0x1ba1,0x597+-0x7*-0x83+-0x92c*0x1);Math['abs'](_0x4e5bce['dot'](_0x1a5f24))===0xe*-0x57+0xfee+-0xb2b&&_0x4e5bce['set'](0x181d*0x1+0x1e2f+0x19*-0x22c,-0xe9e+-0x1*-0xf5c+-0xa*0x13,-0x1*-0x1bf8+-0x1fe1+0x3ea);const _0x35c3a2=new D()['cross'](_0x1a5f24,_0x4e5bce)['normalize']();_0x4e5bce['cross'](_0x35c3a2,_0x1a5f24)['normalize'](),_0x429119=new Float32Array([_0x4e5bce['x'],_0x4e5bce['y'],_0x4e5bce['z']]),_0x4e6e8e=new Float32Array([_0x35c3a2['x'],_0x35c3a2['y'],_0x35c3a2['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x429119),this['material']['setParamet'+'er']('faceBinorm',_0x4e6e8e);}['getVertexI'+'nfo'](){const _0x30a3af=[];return this['useCpu']?_0x30a3af['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x1*0x2615+-0xaed*-0x2+-0x1*-0x103f:-0x2*-0x2bf+-0x1e*-0x115+0x6*-0x653,'type':Ve}):(_0x30a3af['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x30a3af['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x30a3af;}['_allocate'](_0x563c26){const _0x3ff040=_0x563c26*this['numParticl'+'eVerts'],_0x85c00=_0x563c26*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x14a4+-0x26d8+-0x2f*-0x144)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x3ff040){const _0x59aa96=this['getVertexI'+'nfo'](),_0x8f6f36=new kt(this['graphicsDe'+'vice'],_0x59aa96);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x8f6f36,_0x3ff040,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x85c00);const _0x580c1a=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x580769,_0xe7ae16,_0x4a8cd1;if(this['useMesh']){_0x580769=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0xe7ae16=_0x580769['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2c3486=0x214f+-0x5*-0x3ff+-0x354a*0x1;_0x2c3486<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x2c3486++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2c3486]['name']===is){_0x4a8cd1=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2c3486]['offset']/(0x1*-0xb56+0x11d1+-0x1*0x677);break;}}for(let _0x38b885=-0x2*-0x9fa+0x557*-0x1+-0xe9d;_0x38b885<_0x3ff040;_0x38b885++){const _0x43f87c=Math['floor'](_0x38b885/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x2bab58=_0x38b885%this['numParticl'+'eVerts'];_0x580c1a[_0x38b885*(-0x2*0x348+-0x6f7+0x1*0xd8d)]=_0x580769[_0x2bab58*_0xe7ae16],_0x580c1a[_0x38b885*(0x10a7+0x21dd+0x232*-0x17)+(-0x36b+-0x7*0x50b+-0x17*-0x1af)]=_0x580769[_0x2bab58*_0xe7ae16+(0x247b+-0x11ef+0x128b*-0x1)],_0x580c1a[_0x38b885*(0xdf2+0x277*-0x8+-0x35*-0x1c)+(-0x2419*0x1+-0x1f*-0x129+0xc*0x3)]=_0x580769[_0x2bab58*_0xe7ae16+(0xa*0x189+-0xf*0x283+-0x1*-0x1655)],_0x580c1a[_0x38b885*(-0x1562+0x4d1*0x2+0x89*0x16)+(0x3*-0xad9+0x246e*-0x1+0x6e6*0xa)]=_0x43f87c,_0x580c1a[_0x38b885*(-0x2*0x50d+0xa45+-0x25)+(0x86a+-0x6cc+-0x5*0x52)]=_0x580769[_0x2bab58*_0xe7ae16+_0x4a8cd1+(-0x157e+-0x1*-0x24d4+-0x1a*0x97)],_0x580c1a[_0x38b885*(-0x191*0x17+0x34*-0xa3+0x4529)+(0x32*-0x4f+0x1136*0x2+-0x12f9)]=-0x6f4*0x3+-0x1fa+-0x79d*-0x3-_0x580769[_0x2bab58*_0xe7ae16+_0x4a8cd1+(-0x130*0x14+0x576+-0x3*-0x619)];}else{const _0x53546c=_0x38b885%(0x2030+-0x10*-0x173+-0x2*0x1bae);_0x580c1a[_0x38b885*(-0x5*-0x794+-0x483+-0x215d)]=ig[_0x53546c][-0x1fc6+-0x2*-0x123c+0x2*-0x259],_0x580c1a[_0x38b885*(0x1c41+0x1*0x1a11+-0x364e)+(0x17b0*-0x1+-0x18ef*0x1+-0x8*-0x614)]=ig[_0x53546c][0xbbd+0x2*-0x1128+0x2*0xb4a],_0x580c1a[_0x38b885*(0x80*0xd+0x1edf+0x83*-0x49)+(0x202+0x1a3*0x5+0x1*-0xa2f)]=0x4*-0x4a7+-0x132+0x13ce,_0x580c1a[_0x38b885*(0x1c5*0x13+0x22*0x9+-0x22cd)+(0x1b7b+-0x189+-0x19ef)]=_0x43f87c;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x580c1a),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x5cd5e7=-0x4f*0x79+0x1b25+0xa32*0x1;const _0x564b85=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x2403da=this['mesh']['indexBuffe'+'r'][0xfe7+0x19b4+0x1*-0x299b];_0x580769=new Sh[_0x2403da['format']](_0x2403da['lock']());}for(let _0x2dcafa=0x1cd6+-0x2*0x3cd+-0x153c;_0x2dcafa<_0x563c26;_0x2dcafa++)if(this['useMesh']){for(let _0x4051ec=0xa0f+0x17*0xe8+-0x125*0x1b;_0x4051ec<this['numParticl'+'eIndices'];_0x4051ec++)_0x564b85[_0x2dcafa*this['numParticl'+'eIndices']+_0x4051ec]=_0x580769[_0x4051ec]+_0x2dcafa*this['numParticl'+'eVerts'];}else{const _0x319e90=_0x2dcafa*(0x1c9d+0xdcc+-0x2a65);_0x564b85[_0x5cd5e7++]=_0x319e90,_0x564b85[_0x5cd5e7++]=_0x319e90+(-0x1778+0x1*-0x26b3+0x5c*0xad),_0x564b85[_0x5cd5e7++]=_0x319e90+(-0x1*-0x1a09+-0x3*0x64b+-0x726),_0x564b85[_0x5cd5e7++]=_0x319e90,_0x564b85[_0x5cd5e7++]=_0x319e90+(0x33b+0x218a+-0x3*0xc41),_0x564b85[_0x5cd5e7++]=_0x319e90+(0xe8a*0x1+0x380+-0x1207);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x1*-0x1367+-0xd3*0x1c+0x3ad]['unlock']();}}['reset'](){if(this['beenReset']=!(0x1*-0x1a45+0x1af9+0x5*-0x24),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x460c46=-0x2*-0xe8f+0x3f3+-0x2111;_0x460c46<this['particleTe'+'xStart']['length'];_0x460c46++)this['particleTe'+'x'][_0x460c46]=this['particleTe'+'xStart'][_0x460c46];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x3329a6=this['loop'];this['loop']=!(-0x21e0+0x10*-0x4f+-0x450*-0x9),this['addTime'](-0x2cd*-0x1+0xa4f+-0xd1c,!(-0x1a*0xa3+0x293*-0x9+0x27ba)),this['loop']=_0x3329a6,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x11b997){const _0x13dd46=_0x11b997/this['lifetime'],_0x506c09=Math['min'](Math['floor'](_0x13dd46*this['precision']),this['precision']),_0x2ae93f=_0x11b997/_0x506c09;for(let _0x5a5e6b=-0x7*0x45d+-0x26*0x8f+-0x1d*-0x1c9;_0x5a5e6b<_0x506c09;_0x5a5e6b++)this['addTime'](_0x2ae93f,!(-0x1899+-0x41f+-0x993*-0x3));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2353f5,_0x828dbf){const _0x3e1c7c=this['graphicsDe'+'vice'],_0x3ab4f4=de();if(this['simTimeTot'+'al']+=_0x2353f5,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x58676f=this['animTilesP'+'arams'];_0x58676f[-0x1*0x1d11+-0x4e9+0x21fa]=(-0x15bd+0x528+0x1096)/this['animTilesX'],_0x58676f[-0x316+0x16b4+0x139d*-0x1]=(0x2655+0xcc5*0x3+-0x1*0x4ca3)/this['animTilesY'];const _0x23d67b=this['animParams'];_0x23d67b[-0x1*-0x8dd+-0x1655+-0x2*-0x6bc]=this['animStartF'+'rame'],_0x23d67b[0x1c2b+0x7*-0x4f2+-0x674*-0x1]=this['animNumFra'+'mes']*this['animSpeed'],_0x23d67b[0x1d*-0x10d+-0x15e6+0xb*0x4c3]=this['animNumFra'+'mes']-(0x1*-0x226e+0xb3d*0x2+-0xbf5*-0x1),_0x23d67b[-0x8bf+-0x1872+0x2134]=this['animNumAni'+'mations']-(0xef3+-0x4e*-0x47+-0x2*0x124a);const _0x24f8c4=this['animIndexP'+'arams'];_0x24f8c4[-0x1f61+-0x10df+0x3040]=this['animIndex'],_0x24f8c4[0x2a1*0x3+0x3df*0x2+-0x4*0x3e8]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x9f*0x1+0x5e*0x6a+-0x109*0x25]=this['emitterExt'+'ents']['x']!==0x38f*0x5+-0x2488+-0x12bd*-0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x50*0x47+-0xddb+-0x855,Ai[0x1855+-0x2314+0xac0]=this['emitterExt'+'ents']['y']!==-0x1b65*-0x1+-0x23e0+0xa7*0xd?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1*-0x9ff+0x2a8+-0x29*0x4f,Ai[0x4e4+-0xd64+0x882]=this['emitterExt'+'ents']['z']!==0x158*0x6+-0xb3*-0x13+0x445*-0x5?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1604+0x20fa+-0x36fe,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x3ced12;const _0x489d31=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1*0x146b+0x19c8+-0x1*0x2e33]=_0x489d31['x'],this['emitterSca'+'leUniform'][-0x1c27+0xb8d*-0x1+0x7f1*0x5]=_0x489d31['y'],this['emitterSca'+'leUniform'][0xb7b*0x1+-0x6d+-0x1c*0x65]=_0x489d31['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x3ced12=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x2543*-0x1+-0xfd+-0x2446]=_0x3ced12['x'],this['emitterPos'+'Uniform'][-0xb4c+-0x7e+0xbcb]=_0x3ced12['y'],this['emitterPos'+'Uniform'][0xfa0+-0x1*0x567+-0xa37]=_0x3ced12['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x3e1c7c,Ur,Ai,_0x2353f5,_0x828dbf);else{const _0x154c44=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x154c44,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x3ced12,_0x2353f5,_0x828dbf);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x1cc*-0x4+-0x77*0x38+0x12d9)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x3ab4f4;}['_destroyRe'+'sources'](){var _0x3dc024,_0x10f8ee,_0x120e20,_0xdeca94,_0x386681,_0x471bcc,_0x123f87,_0x28120d,_0x1dc9a4,_0x377b01,_0x569a44,_0x4088d4;(_0x3dc024=this['particleTe'+'xIN'])==null||_0x3dc024['destroy'](),this['particleTe'+'xIN']=null,(_0x10f8ee=this['particleTe'+'xOUT'])==null||_0x10f8ee['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x120e20=this['rtParticle'+'TexIN'])==null||_0x120e20['destroy'](),this['rtParticle'+'TexIN']=null,(_0xdeca94=this['rtParticle'+'TexOUT'])==null||_0xdeca94['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x386681=this['internalTe'+'x0'])==null||_0x386681['destroy'](),this['internalTe'+'x0']=null,(_0x471bcc=this['internalTe'+'x1'])==null||_0x471bcc['destroy'](),this['internalTe'+'x1']=null,(_0x123f87=this['internalTe'+'x2'])==null||_0x123f87['destroy'](),this['internalTe'+'x2']=null,(_0x28120d=this['internalTe'+'x3'])==null||_0x28120d['destroy'](),this['internalTe'+'x3']=null,(_0x1dc9a4=this['colorParam'])==null||_0x1dc9a4['destroy'](),this['colorParam']=null,(_0x377b01=this['vertexBuff'+'er'])==null||_0x377b01['destroy'](),this['vertexBuff'+'er']=void(-0x4a9*-0x5+0x19cd*0x1+-0x311a),(_0x569a44=this['indexBuffe'+'r'])==null||_0x569a44['destroy'](),this['indexBuffe'+'r']=void(0xbf8*0x3+-0x5*0x511+-0xa93),(_0x4088d4=this['material'])==null||_0x4088d4['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x1d8284){var _0xa3b131;const _0x5c3f25=_0x1d8284['shaderDesc'],_0x556f12=_0x5c3f25['vertexGLSL']?hi(_0x5c3f25['vertexGLSL']):0x20ac+-0x1*0x1916+-0x796,_0x97e7f7=_0x5c3f25['fragmentGL'+'SL']?hi(_0x5c3f25['fragmentGL'+'SL']):-0x2206+-0x1b1c+0x3d22,_0x15db23=_0x5c3f25['vertexWGSL']?hi(_0x5c3f25['vertexWGSL']):-0xb*-0x241+0x1*0x8f1+-0x21bc,_0x15f656=_0x5c3f25['fragmentWG'+'SL']?hi(_0x5c3f25['fragmentWG'+'SL']):-0x1f76+0x1aeb*0x1+0x1*0x48b,_0x25462b=ya['definesHas'+'h'](_0x1d8284['defines']),_0x2e059e=((_0xa3b131=_0x1d8284['shaderChun'+'ks'])==null?void(-0x996+-0xe43+0x22b*0xb):_0xa3b131['key'])??'';let _0x299a92=_0x5c3f25['uniqueName']+'_'+_0x25462b+'_'+_0x556f12+'_'+_0x97e7f7+'_'+_0x15db23+'_'+_0x15f656+'_'+_0x2e059e;return _0x1d8284['skin']&&(_0x299a92+='_skin'),_0x1d8284['useInstanc'+'ing']&&(_0x299a92+='_inst'),_0x1d8284['useMorphPo'+'sition']&&(_0x299a92+='_morphp'),_0x1d8284['useMorphNo'+'rmal']&&(_0x299a92+='_morphn'),_0x1d8284['useMorphTe'+'xtureBased'+'Int']&&(_0x299a92+='_morphi'),_0x299a92;}['createAttr'+'ibutesDefi'+'nition'](_0x2cae7c,_0x360d97){const _0x47aab9=_0x360d97['shaderDesc']['attributes'],_0x20b0dd=_0x47aab9?{..._0x47aab9}:void(-0x155b+0x1d95*-0x1+0x32f0);_0x360d97['skin']&&(_0x20b0dd['vertex_bon'+'eWeights']=gi,_0x20b0dd['vertex_bon'+'eIndices']=us),(_0x360d97['useMorphPo'+'sition']||_0x360d97['useMorphNo'+'rmal'])&&(_0x20b0dd['morph_vert'+'ex_id']=Ln),_0x2cae7c['attributes']=_0x20b0dd;}['createVert'+'exDefiniti'+'on'](_0x56e3d6,_0x8b8c3a,_0x1aa2a3,_0x43d762){const _0x547e0a=_0x8b8c3a['shaderDesc'],_0x311d43=new Map(_0x1aa2a3);_0x311d43['set']('transformI'+'nstancingV'+'S','');const _0x9c784d=new Map(_0x8b8c3a['defines']);_0x8b8c3a['skin']&&_0x9c784d['set']('SKIN',!(-0x113*-0xb+0x3a*0xd+-0xec3)),_0x8b8c3a['useInstanc'+'ing']&&_0x9c784d['set']('INSTANCING',!(-0xd7b+0x1*-0x1a6+0xf21)),(_0x8b8c3a['useMorphPo'+'sition']||_0x8b8c3a['useMorphNo'+'rmal'])&&(_0x9c784d['set']('MORPHING',!(-0x1986+0x6f9+0x128d)),_0x8b8c3a['useMorphTe'+'xtureBased'+'Int']&&_0x9c784d['set']('MORPHING_I'+'NT',!(0x2fe+-0x1c49+0x194b)),_0x8b8c3a['useMorphPo'+'sition']&&_0x9c784d['set']('MORPHING_P'+'OSITION',!(-0x1664+-0x8a5+-0xe3*-0x23)),_0x8b8c3a['useMorphNo'+'rmal']&&_0x9c784d['set']('MORPHING_N'+'ORMAL',!(0x44c*-0x6+-0x1ad7*0x1+0x349f))),_0x56e3d6['vertexCode']=_0x43d762?_0x547e0a['vertexWGSL']:_0x547e0a['vertexGLSL'],_0x56e3d6['vertexIncl'+'udes']=_0x311d43,_0x56e3d6['vertexDefi'+'nes']=_0x9c784d;}['createFrag'+'mentDefini'+'tion'](_0x1a3e27,_0x31417b,_0x45e6b4,_0x5f2a6a){const _0x439ad1=_0x31417b['shaderDesc'],_0x557576=new Map(_0x45e6b4),_0x355927=new Map(_0x31417b['defines']);_0x1a3e27['fragmentCo'+'de']=_0x5f2a6a?_0x439ad1['fragmentWG'+'SL']:_0x439ad1['fragmentGL'+'SL'],_0x1a3e27['fragmentIn'+'cludes']=_0x557576,_0x1a3e27['fragmentDe'+'fines']=_0x355927;}['createShad'+'erDefiniti'+'on'](_0x689b04,_0x46a5f8){var _0x475c46;const _0x4f62f2=_0x46a5f8['shaderDesc'],_0x1b1773=_0x689b04['isWebGPU']&&!!_0x4f62f2['vertexWGSL']&&!!_0x4f62f2['fragmentWG'+'SL']&&(((_0x475c46=_0x46a5f8['shaderChun'+'ks'])==null?void(-0x1f95+0x1c49+-0x4*-0xd3):_0x475c46['useWGSL'])??!(-0x339*-0x6+-0x1*0x1367+0x11)),_0x55e72e={'name':'ShaderMate'+'rial-'+_0x4f62f2['uniqueName'],'shaderLanguage':_0x1b1773?it:Fe,'fragmentOutputTypes':_0x4f62f2['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x4f62f2['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4f62f2['meshBindGr'+'oupFormat']},_0x4cec43=_0x1b1773?it:Fe,_0x16ee14=bh['merge'](Pe['get'](_0x689b04,_0x4cec43),_0x46a5f8['shaderChun'+'ks'][_0x4cec43]);return this['createAttr'+'ibutesDefi'+'nition'](_0x55e72e,_0x46a5f8),this['createVert'+'exDefiniti'+'on'](_0x55e72e,_0x46a5f8,_0x16ee14,_0x1b1773),this['createFrag'+'mentDefini'+'tion'](_0x55e72e,_0x46a5f8,_0x16ee14,_0x1b1773),Jt['createDefi'+'nition'](_0x689b04,_0x55e72e);}}const MA=new PA();class Xn extends tr{constructor(_0x5e7115){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x5e7115;}set['shaderDesc'](_0xebb751){if(this['_shaderDes'+'c']=void(0x1*-0x18b6+-0x1a95+0x334b),_0xebb751&&(this['_shaderDes'+'c']={'uniqueName':_0xebb751['uniqueName'],'attributes':_0xebb751['attributes'],'fragmentOutputTypes':_0xebb751['fragmentOu'+'tputTypes'],'vertexGLSL':_0xebb751['vertexGLSL'],'fragmentGLSL':_0xebb751['fragmentGL'+'SL'],'vertexWGSL':_0xebb751['vertexWGSL'],'fragmentWGSL':_0xebb751['fragmentWG'+'SL']},_0xebb751['vertexCode']||_0xebb751['fragmentCo'+'de']||_0xebb751['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0xebb751['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x205776=_0xebb751['shaderLang'+'uage']??Fe;_0x205776===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0xebb751['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0xebb751['fragmentCo'+'de']):_0x205776===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0xebb751['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0xebb751['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3e461f){return super['copy'](_0x3e461f),this['shaderDesc']=_0x3e461f['shaderDesc'],this;}['getShaderV'+'ariant'](_0x4c3fc4){const {objDefs:_0x46d239}=_0x4c3fc4,_0x2f0c0b={'defines':$t['getCoreDef'+'ines'](this,_0x4c3fc4),'skin':(_0x46d239&nl)!==-0x13f4+0x1e52+0x1*-0xa5e,'useInstancing':(_0x46d239&ol)!==0xfa3*0x1+0xd76+-0x1d19,'useMorphPosition':(_0x46d239&ll)!==0x1a7e+0x1bd9*0x1+-0x3657,'useMorphNormal':(_0x46d239&cl)!==0x1*-0x18a+0x27*-0xb9+0x1db9,'useMorphTextureBasedInt':(_0x46d239&hl)!==-0x16*0x10a+-0xc7*-0x1+0x1*0x1615,'pass':_0x4c3fc4['pass'],'gamma':_0x4c3fc4['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x4c3fc4['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x4c3fc4['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x4d2422=new Ad(_0x4c3fc4['viewUnifor'+'mFormat'],_0x4c3fc4['viewBindGr'+'oupFormat'],_0x4c3fc4['vertexForm'+'at']),_0x5a7429=Hn(_0x4c3fc4['device']);return _0x5a7429['register']('shader-mat'+'erial',MA),_0x5a7429['getProgram']('shader-mat'+'erial',_0x2f0c0b,_0x4d2422,this['userId']);}}const Iv=(_0x33da22,_0x33d715)=>{const _0x335d9f=_0x33d715['length']/(-0x17*0x187+0x73f+-0x1be5*-0x1),_0x122798=_0x33da22['length']/(0x7e7+0x353+-0x13f*0x9),_0x1773d2=new D(),_0x2121bb=new D(),_0x360378=new D(),_0x1a8026=new D(),_0x1d441d=new D(),_0x35a6e4=new D(),_0x17b48e=[];for(let _0x43a4a=-0x211c+0x5*0x369+0x1*0x100f;_0x43a4a<_0x33da22['length'];_0x43a4a++)_0x17b48e[_0x43a4a]=0xa*-0x284+0x814*-0x4+-0x72f*-0x8;for(let _0x242afe=-0x9f8+0x6ac+0x34c;_0x242afe<_0x335d9f;_0x242afe++){const _0x56f557=_0x33d715[_0x242afe*(0xd1b+0x237*0x2+-0x1186)],_0x178c5b=_0x33d715[_0x242afe*(-0x36*-0xb2+0x3*0x52d+-0x3510)+(0x1a31+0x22a0+-0x3cd0)],_0x3b109b=_0x33d715[_0x242afe*(0x115f*0x2+-0x1*0x972+-0x1949)+(-0x3*-0x4d6+0x6d0+0x1550*-0x1)];_0x1773d2['set'](_0x33da22[_0x56f557*(-0x162*0x3+0x1d2a*-0x1+-0x2153*-0x1)],_0x33da22[_0x56f557*(0x1*0x1579+-0x1ce+-0x13a8)+(0x261f+-0x3*-0x727+-0x3b93)],_0x33da22[_0x56f557*(0x1*-0x1ce7+-0xb7*0x1+0x1da1)+(-0x1*0xc4f+-0xa43+0xaa*0x22)]),_0x2121bb['set'](_0x33da22[_0x178c5b*(-0x1dfb+-0xa*0x1d7+-0xc19*-0x4)],_0x33da22[_0x178c5b*(0xdf7+0x1430+0x13*-0x1cc)+(-0xeab+0xa31*-0x1+0x18dd)],_0x33da22[_0x178c5b*(0x5fc*-0x2+0x3*0x256+0x1*0x4f9)+(-0xc71+0x4*-0xef+0x1*0x102f)]),_0x360378['set'](_0x33da22[_0x3b109b*(-0x169+-0x2bd+0x429*0x1)],_0x33da22[_0x3b109b*(0x3*0x548+-0x33f*0x3+-0x30c*0x2)+(-0x18b9*0x1+0x22d+0x168d)],_0x33da22[_0x3b109b*(0x1*-0x2cd+0x365+-0x95*0x1)+(-0x742+0x3*0xb2a+0x3*-0x8be)]),_0x1a8026['sub2'](_0x2121bb,_0x1773d2),_0x1d441d['sub2'](_0x360378,_0x1773d2),_0x35a6e4['cross'](_0x1a8026,_0x1d441d)['normalize'](),_0x17b48e[_0x56f557*(0x1b05*0x1+-0x2331+0x82f)]+=_0x35a6e4['x'],_0x17b48e[_0x56f557*(0x23e4+-0x17a7+-0xc3a)+(0x1111*-0x1+0x20e1+-0xfcf)]+=_0x35a6e4['y'],_0x17b48e[_0x56f557*(-0xb67*0x2+0x2567+-0xe96)+(0xbab+-0x3d*0x3c+0x2a3)]+=_0x35a6e4['z'],_0x17b48e[_0x178c5b*(0xe9*0xf+-0x2294+0x14f0)]+=_0x35a6e4['x'],_0x17b48e[_0x178c5b*(0x1cae*0x1+-0x1*0x581+-0x172a)+(-0x2395+-0x218f+0x4525)]+=_0x35a6e4['y'],_0x17b48e[_0x178c5b*(-0x1e1d*-0x1+0x186e+0xda2*-0x4)+(0x336+0x10c4+0x8e*-0x24)]+=_0x35a6e4['z'],_0x17b48e[_0x3b109b*(0x16cd*-0x1+0xa6d+0xc63)]+=_0x35a6e4['x'],_0x17b48e[_0x3b109b*(-0x104a+-0x261c+0x3669)+(0x2*-0x380+0x22e4+-0x1be3)]+=_0x35a6e4['y'],_0x17b48e[_0x3b109b*(-0xc6f+-0x788+0x13fa)+(0x2124+-0x1f19+-0x209*0x1)]+=_0x35a6e4['z'];}for(let _0x91c943=-0xa*-0x12b+0x3cb+-0xf79;_0x91c943<_0x122798;_0x91c943++){const _0x2eb049=_0x17b48e[_0x91c943*(0xda1+0xee+-0xe8c)],_0x5c1bfe=_0x17b48e[_0x91c943*(0x1*0x21e6+-0xc14+-0x15cf*0x1)+(0xb2*-0x4+-0x1441+-0x7ae*-0x3)],_0xfccecd=_0x17b48e[_0x91c943*(0xef3+-0x9c*-0x3f+-0x3554)+(0x13b9+-0x2049+0xc92*0x1)],_0x5f33d9=(0x2265+-0xd99+-0x14cb)/Math['sqrt'](_0x2eb049*_0x2eb049+_0x5c1bfe*_0x5c1bfe+_0xfccecd*_0xfccecd);_0x17b48e[_0x91c943*(-0x1111*0x2+-0xa12+0x2c37)]*=_0x5f33d9,_0x17b48e[_0x91c943*(0x198b+0x2f*0xc7+-0x3e11)+(-0x2cd*-0x7+-0x39b*-0x5+-0x25a1)]*=_0x5f33d9,_0x17b48e[_0x91c943*(0x62a*-0x2+0x1dc1+0x2*-0x8b5)+(-0x8*0x46b+-0x9d*0x17+0x3175*0x1)]*=_0x5f33d9;}return _0x17b48e;},Mr=(_0x563b4c,_0x46c5f8,_0x1452a5,_0x21f897)=>{const _0x4077e8=_0x21f897['length']/(0xe5*-0x1c+-0x1*0x587+0x1e96),_0x55ce55=_0x563b4c['length']/(0xe*0x20e+0x187c+-0x353d),_0x519c3c=new D(),_0x37f289=new D(),_0x25b061=new D(),_0x392904=new J(),_0x136ab8=new J(),_0x50e9e8=new J(),_0x1b8cfe=new D(),_0x1bea5c=new D(),_0x369c38=new Float32Array(_0x55ce55*(-0x1*-0x1b51+0x1*0x1bcb+-0x3719)),_0xea70=new Float32Array(_0x55ce55*(-0x22f5+-0x1b89+0x3e81)),_0x33d208=[];for(let _0xec11a=0x1144+0x1*-0x917+-0x82d;_0xec11a<_0x4077e8;_0xec11a++){const _0x16181c=_0x21f897[_0xec11a*(0x95*0xe+0x1*0x22df+-0x2b02)],_0x5786df=_0x21f897[_0xec11a*(0x6*0x24a+-0x1*-0x601+-0x19*0xca)+(-0x1*0x21c9+0x484*0x1+-0x4e1*-0x6)],_0x45e21d=_0x21f897[_0xec11a*(-0x25*-0xa7+-0x10*-0x1d3+-0x3550)+(0x1*0x1d02+0x2527+0x3*-0x160d)];_0x519c3c['set'](_0x563b4c[_0x16181c*(0x12*-0x2e+-0x14a8+0x17e7)],_0x563b4c[_0x16181c*(-0x1007+0x485*0x1+0xb85)+(0x58*0x2a+-0x5a+-0xe15)],_0x563b4c[_0x16181c*(0x31*0x3f+0xfe0+-0x1bec)+(0x1*0x176e+0x1e83*-0x1+-0xb*-0xa5)]),_0x37f289['set'](_0x563b4c[_0x5786df*(0x105a*-0x2+0x185b+0xa*0xd6)],_0x563b4c[_0x5786df*(0xb47*-0x1+0x9*0x26c+-0xa82)+(0x7*0x2eb+0x31*0x1e+-0xd15*0x2)],_0x563b4c[_0x5786df*(0x1077+0x16d5+0x1*-0x2749)+(0x2311+-0x101d+-0x12f2)]),_0x25b061['set'](_0x563b4c[_0x45e21d*(-0x1819+0x9be*0x4+0x3*-0x4f4)],_0x563b4c[_0x45e21d*(-0x26e0+0x1159+0x158a)+(0x22b6+0xb*0x6b+-0x274e)],_0x563b4c[_0x45e21d*(-0x3cc+-0x1df*0x8+0xfd*0x13)+(-0x16ca+0xd*-0x2f9+0x3d71)]),_0x392904['set'](_0x1452a5[_0x16181c*(0x1fa4+0x13f3*0x1+-0x8b*0x5f)],_0x1452a5[_0x16181c*(-0x1ca3*-0x1+-0x811*-0x1+-0x1*0x24b2)+(-0x1ff+0x1578+-0x1378)]),_0x136ab8['set'](_0x1452a5[_0x5786df*(0x1e4e+0x1af0*0x1+-0xc6*0x4a)],_0x1452a5[_0x5786df*(0x15d7+-0x508*-0x1+-0x1add)+(-0x1bf+0x6*0x6b+-0xc2)]),_0x50e9e8['set'](_0x1452a5[_0x45e21d*(0x237+0x7eb+-0x8*0x144)],_0x1452a5[_0x45e21d*(-0x1*-0x40f+-0x2*0x1f6+-0x21)+(0x16ba+-0xe63+-0x856)]);const _0x44c22e=_0x37f289['x']-_0x519c3c['x'],_0x539f84=_0x25b061['x']-_0x519c3c['x'],_0x3c8e48=_0x37f289['y']-_0x519c3c['y'],_0x570ff4=_0x25b061['y']-_0x519c3c['y'],_0x15bcb3=_0x37f289['z']-_0x519c3c['z'],_0x1924da=_0x25b061['z']-_0x519c3c['z'],_0x24b6bf=_0x136ab8['x']-_0x392904['x'],_0x3c156d=_0x50e9e8['x']-_0x392904['x'],_0x16d992=_0x136ab8['y']-_0x392904['y'],_0x5c4a4a=_0x50e9e8['y']-_0x392904['y'],_0x122275=_0x24b6bf*_0x5c4a4a-_0x3c156d*_0x16d992;if(_0x122275===0x1df+-0x1*0xdae+0xbcf)_0x1b8cfe['set'](0x1421+-0xbe2+-0x83f,0x4d8+0x2683*0x1+0x15ad*-0x2,0x717*-0x4+-0x4db*-0x7+0xb*-0x83),_0x1bea5c['set'](0x1*0x2133+0x2217+0x4349*-0x1,0x1b96+0xd74+-0x290a,-0x152c+-0x113a+0x1*0x2666);else{const _0x383e3e=(0xa34+0x824+-0x1257)/_0x122275;_0x1b8cfe['set']((_0x5c4a4a*_0x44c22e-_0x16d992*_0x539f84)*_0x383e3e,(_0x5c4a4a*_0x3c8e48-_0x16d992*_0x570ff4)*_0x383e3e,(_0x5c4a4a*_0x15bcb3-_0x16d992*_0x1924da)*_0x383e3e),_0x1bea5c['set']((_0x24b6bf*_0x539f84-_0x3c156d*_0x44c22e)*_0x383e3e,(_0x24b6bf*_0x570ff4-_0x3c156d*_0x3c8e48)*_0x383e3e,(_0x24b6bf*_0x1924da-_0x3c156d*_0x15bcb3)*_0x383e3e);}_0x369c38[_0x16181c*(0xd2+-0x104a*0x1+0xf7b)+(-0x1*-0x100f+0xc7*0x5+-0x13f2)]+=_0x1b8cfe['x'],_0x369c38[_0x16181c*(-0x14d9+0x323*0x3+-0x3*-0x3d1)+(-0x5*-0xcc+0x189a*-0x1+0x149f)]+=_0x1b8cfe['y'],_0x369c38[_0x16181c*(0x704+-0x1e07*-0x1+-0x9e*0x3c)+(0x1*-0xad9+-0x159d+0x2078)]+=_0x1b8cfe['z'],_0x369c38[_0x5786df*(-0xff8+-0xae7+0x1ae2)+(-0x55*0x11+0x125a+-0xcb5)]+=_0x1b8cfe['x'],_0x369c38[_0x5786df*(-0x18e1+-0x4fd+0x1de1)+(-0x1816+0x23*-0x1b+-0x1bc8*-0x1)]+=_0x1b8cfe['y'],_0x369c38[_0x5786df*(0x13*0x13d+-0x2*-0x1e7+-0x2*0xda9)+(-0x25e+0xee7+-0xc87)]+=_0x1b8cfe['z'],_0x369c38[_0x45e21d*(0xebf+0x1*-0x2435+0x1579)+(0x5ad*-0x2+0x23d5+-0x187b)]+=_0x1b8cfe['x'],_0x369c38[_0x45e21d*(0xc*-0x2fb+0x50c+0x1ebb)+(-0x1*-0x2187+-0x1907*0x1+-0xf*0x91)]+=_0x1b8cfe['y'],_0x369c38[_0x45e21d*(-0xcdc+0x7*-0x7d+-0x116*-0xf)+(-0xd34+0x2675+-0x193f)]+=_0x1b8cfe['z'],_0xea70[_0x16181c*(0x25bd+0xd1b+-0x32d5)+(0x174b*-0x1+-0x721+0x1e6c)]+=_0x1bea5c['x'],_0xea70[_0x16181c*(0x3*-0x3a1+0xada+-0x3*-0x4)+(-0x1ac*0x13+0x1f*-0x21+0x23c4)]+=_0x1bea5c['y'],_0xea70[_0x16181c*(0x244e+-0x52*0x3+-0x2355)+(-0x81b*0x2+0xd3*-0x1+-0x1*-0x110b)]+=_0x1bea5c['z'],_0xea70[_0x5786df*(0x41b*0x4+0x4f*0x65+-0x2f94)+(-0xefb+-0x8db*-0x1+-0x31*-0x20)]+=_0x1bea5c['x'],_0xea70[_0x5786df*(-0x88*0xf+-0x1e*-0x122+0x13d*-0x15)+(0x13e*0x3+-0x4*-0x693+-0x1e05)]+=_0x1bea5c['y'],_0xea70[_0x5786df*(-0x1779*0x1+-0x12a0+0x2a1c)+(0x1a3c+0x55*-0x17+0x1*-0x1297)]+=_0x1bea5c['z'],_0xea70[_0x45e21d*(0x1a72+-0x1e*-0x136+-0x3ec3*0x1)+(-0x1fba+-0x1*0xca6+0x2c60)]+=_0x1bea5c['x'],_0xea70[_0x45e21d*(0x112*0x5+-0x5*0x327+0x2e*0x3a)+(-0x248c+0x3d3+0x20ba)]+=_0x1bea5c['y'],_0xea70[_0x45e21d*(-0x1565+0x1f*-0x91+0x26f7)+(0xd5a+-0x2071+0x1319)]+=_0x1bea5c['z'];}const _0x375c43=new D(),_0x46c479=new D(),_0x36887e=new D(),_0x3d8225=new D();for(let _0x1cf37a=0x1*0x90c+-0x1c96+0x29*0x7a;_0x1cf37a<_0x55ce55;_0x1cf37a++){_0x36887e['set'](_0x46c5f8[_0x1cf37a*(0x2*-0x726+-0x124a+0x2099)],_0x46c5f8[_0x1cf37a*(-0x14c3+0xaf5+0x9d1)+(0x7fd+-0x923+0x127)],_0x46c5f8[_0x1cf37a*(-0x3db+0x1fd3*-0x1+0x1*0x23b1)+(0x8f5*0x1+-0xbd4+0x2e1)]),_0x375c43['set'](_0x369c38[_0x1cf37a*(0x15*-0x10d+-0x1*-0x40b+0x1209)],_0x369c38[_0x1cf37a*(0x33+-0x30*0xb1+0x80*0x42)+(0x3*-0x1e9+0x7*0x3a3+-0x13b9)],_0x369c38[_0x1cf37a*(0x2*0xddf+0x3*-0x838+-0x313)+(-0xc93*0x1+-0xb9*0x29+-0x3*-0xe12)]),_0x46c479['set'](_0xea70[_0x1cf37a*(-0x7d5+0x24d7*0x1+0x23b*-0xd)],_0xea70[_0x1cf37a*(0xff7+0x1981*0x1+-0x2975)+(0x1b0f+-0x1aa*0xf+0x2*-0x10c)],_0xea70[_0x1cf37a*(0x5b*-0x48+-0x1da4*-0x1+-0x409*0x1)+(-0x2*-0x27a+-0x53*-0x3f+-0x1b1*0xf)]);const _0x1c193a=_0x36887e['dot'](_0x375c43);_0x3d8225['copy'](_0x36887e)['mulScalar'](_0x1c193a),_0x3d8225['sub2'](_0x375c43,_0x3d8225)['normalize'](),_0x33d208[_0x1cf37a*(0x1b0f+-0x19*0x4b+0x2*-0x9dc)]=_0x3d8225['x'],_0x33d208[_0x1cf37a*(-0x8c5+0x292*0x1+0x25*0x2b)+(0x233*-0xa+0x9d*-0x1f+0x2902)]=_0x3d8225['y'],_0x33d208[_0x1cf37a*(0x1052*-0x1+0xb72+0x4e4)+(-0x203*-0x6+0x2082+-0x1649*0x2)]=_0x3d8225['z'],_0x3d8225['cross'](_0x36887e,_0x375c43),_0x33d208[_0x1cf37a*(0x1de1*0x1+-0x2536+0x9*0xd1)+(-0xb*-0x4c+-0x1ccd+-0x6d*-0x3c)]=_0x3d8225['dot'](_0x46c479)<0xb*-0x10e+-0x7b*-0x11+0x125*0x3?-(0x18f*0x1+-0x11*-0x47+-0x645):0x6*0x20f+-0x8c+-0xbcd;}return _0x33d208;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x1302*-0x2+0x26c4+-0x1*0xbc)/(-0x1d5d*0x1+0x25f7*-0x1+-0x15a*-0x32),hg=0x1e*-0xed+0x6*-0x33b+0x2f29*0x1-pu*(-0x4*-0x716+0x6ab+0x135*-0x1d);class mu extends Ta{constructor(_0x453087={}){super();const _0x541ab3=_0x453087['halfExtent'+'s']??new D(0x49*-0x42+-0x23*-0x112+0x4*-0x4a9+0.5,0x1a55+-0x1c25+-0x4*-0x74+0.5,-0x48d+-0x2121+-0x1*-0x25ae+0.5),_0x280436=_0x453087['widthSegme'+'nts']??0x7e1+-0x581*0x1+-0x1*0x25f,_0x26136c=_0x453087['lengthSegm'+'ents']??0x15b1+0x1924+0x6*-0x7ce,_0x2abfe3=_0x453087['heightSegm'+'ents']??-0xdf*0xc+-0x1acb+0x12a*0x20,_0x3c4165=_0x453087['yOffset']??0xaf7+0x12e3*-0x2+0x1acf,_0x1640b2=-_0x541ab3['y']+_0x3c4165,_0x4c63be=_0x541ab3['y']+_0x3c4165,_0x1be02f=[new D(-_0x541ab3['x'],_0x1640b2,_0x541ab3['z']),new D(_0x541ab3['x'],_0x1640b2,_0x541ab3['z']),new D(_0x541ab3['x'],_0x4c63be,_0x541ab3['z']),new D(-_0x541ab3['x'],_0x4c63be,_0x541ab3['z']),new D(_0x541ab3['x'],_0x1640b2,-_0x541ab3['z']),new D(-_0x541ab3['x'],_0x1640b2,-_0x541ab3['z']),new D(-_0x541ab3['x'],_0x4c63be,-_0x541ab3['z']),new D(_0x541ab3['x'],_0x4c63be,-_0x541ab3['z'])],_0x46eb82=[[0x13f9*-0x1+0x1424+0x2b*-0x1,-0x14db+-0x1cf6+0x31d2,-0x14e*-0x6+-0x13ac+0xbdb*0x1],[0x1*-0x2527+-0x1337*0x1+0x3862,0x1*-0x1858+0x108f+0x6f*0x12,0x1*0x26ef+-0x1*0x1dde+-0x485*0x2],[0xa3+-0x149+0xa9,-0x26b6+-0x548*-0x2+0x385*0x8,-0x9d*-0x15+-0x203*0x9+-0x18*-0x38],[-0x1fc7+-0x183a+-0x43*-0xd6,-0x941*-0x2+0x8b2+0x1*-0x1b34,0x4b7*0x1+-0x1579+0x10c6],[0x25d7+-0x23bd+-0x219,-0x111f+-0x1a39+-0xc*-0x39d,0x42*-0x8+-0x1a*0x98+0x1182],[0x71a+-0xd*0x259+0x1770,0x10e2*0x2+0x10fc+-0x1d0*0x1c,-0x2*0x4e4+0xecb+0x4fd*-0x1]],_0x1c6d42=[[0x20*0xaf+0x89*0x26+0x709*-0x6,0x1af*0xb+-0x1*0x6c7+-0xbbe,0xf97+0x4e5*-0x1+-0xab1],[0x11e9*0x1+-0x5b*-0x4+-0x1355,-0xae7*0x3+-0x9*0xf1+-0x2a*-0xfb,-(0x1389*-0x1+0x257+0x1133)],[0x5*0x367+0x1dcb+-0x2ece,-0x6*-0x1d4+-0x329*0x1+-0x7ce,0x1135+0x1*-0x37d+-0xdb8],[-0x2622+-0x72d*0x5+0x4a03*0x1,-(-0xff0+-0x2149*-0x1+-0x1158),-0xa*-0x7c+-0xd*-0x85+0xb99*-0x1],[0x1a3b*-0x1+0x2*-0x75e+0x28f8,0x33d*-0x4+-0xd3f*0x1+0x1a33*0x1,-0x2576+-0x1*-0x1e17+0x75f],[-(0x1272+-0x25f0+-0x1*-0x137f),0x1cef+0x1622+-0x301*0x11,-0x2135+0x1630+-0xd9*-0xd]],_0x26badd={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x3f459d=[],_0x3ad11a=[],_0x5c9c56=[],_0x51d98d=[];let _0xf3a4fa=-0x37*-0x5e+0x5a3+-0x19d5;const _0x450bc0=(_0x58591e,_0x4e1e0a,_0x24cf62)=>{const _0x1a5e55=new D(),_0x281fd0=new D(),_0x14a547=new D(),_0xf8f731=new D();for(let _0x20a3e9=-0xb*0x71+0xe08+-0x92d;_0x20a3e9<=_0x4e1e0a;_0x20a3e9++)for(let _0x376681=-0x457*0x2+-0x16f3+0x1fa1;_0x376681<=_0x24cf62;_0x376681++){_0x1a5e55['lerp'](_0x1be02f[_0x46eb82[_0x58591e][0x164c*0x1+0x1bdb+-0x3227]],_0x1be02f[_0x46eb82[_0x58591e][-0x34+-0x2b*-0x85+-0x1622]],_0x20a3e9/_0x4e1e0a),_0x281fd0['lerp'](_0x1be02f[_0x46eb82[_0x58591e][-0x1*-0x1e4d+-0x19f9+0x2*-0x22a]],_0x1be02f[_0x46eb82[_0x58591e][-0x717+0x13e2+0xcc9*-0x1]],_0x376681/_0x24cf62),_0x14a547['sub2'](_0x281fd0,_0x1be02f[_0x46eb82[_0x58591e][0xdd9+-0xaa8+-0x331]]),_0xf8f731['add2'](_0x1a5e55,_0x14a547);let _0x56257e=_0x20a3e9/_0x4e1e0a,_0x3fc801=_0x376681/_0x24cf62;_0x3f459d['push'](_0xf8f731['x'],_0xf8f731['y'],_0xf8f731['z']),_0x3ad11a['push'](_0x1c6d42[_0x58591e][0x1d17+-0x2c3+-0x1a54],_0x1c6d42[_0x58591e][-0x4*-0x6bb+0xb*0x191+-0x2c26],_0x1c6d42[_0x58591e][0x1e4a+-0x1993+-0xf1*0x5]),_0x5c9c56['push'](_0x56257e,-0x6*-0x447+-0x7*-0x356+-0x3103-_0x3fc801),_0x56257e=_0x56257e*hg+pu,_0x3fc801=_0x3fc801*hg+pu,_0x56257e/=-0x1b89+0x946*-0x2+0x2e18,_0x3fc801/=-0x67b+0x1168+-0xaea,_0x56257e+=_0x58591e%(-0x484+-0x1b88+0x11b*0x1d)/(0x21*-0x6c+-0x1*-0x18ed+0x1*-0xafe),_0x3fc801+=Math['floor'](_0x58591e/(0x10*-0xc4+-0x1*0x2054+0x2c97))/(0x2*-0x1fb+0x3*0x7af+-0x1bc*0xb),_0x20a3e9<_0x4e1e0a&&_0x376681<_0x24cf62&&(_0x51d98d['push'](_0xf3a4fa+_0x24cf62+(-0x13*-0x81+-0xc3d+0x2ab*0x1),_0xf3a4fa+(0x1e68+0x19e2+0x1*-0x3849),_0xf3a4fa),_0x51d98d['push'](_0xf3a4fa+_0x24cf62+(0x17df+-0x3*0x6cd+-0x377),_0xf3a4fa+_0x24cf62+(-0x2242+0xb5*-0x9+0x28a1),_0xf3a4fa+(0x1779+-0x2600+0xe88))),_0xf3a4fa++;}};_0x450bc0(_0x26badd['FRONT'],_0x280436,_0x2abfe3),_0x450bc0(_0x26badd['BACK'],_0x280436,_0x2abfe3),_0x450bc0(_0x26badd['TOP'],_0x280436,_0x26136c),_0x450bc0(_0x26badd['BOTTOM'],_0x280436,_0x26136c),_0x450bc0(_0x26badd['RIGHT'],_0x26136c,_0x2abfe3),_0x450bc0(_0x26badd['LEFT'],_0x26136c,_0x2abfe3),this['positions']=_0x3f459d,this['normals']=_0x3ad11a,this['uvs']=_0x5c9c56,this['uvs1']=_0x5c9c56,this['indices']=_0x51d98d,_0x453087['calculateT'+'angents']&&(this['tangents']=Mr(_0x3f459d,_0x3ad11a,_0x5c9c56,_0x51d98d));}}class _m extends Ta{constructor(_0x61b41e={}){super();const _0x11aee2=_0x61b41e['radius']??0x85b+0x128+-0x983+0.5,_0x4e0a56=_0x61b41e['latitudeBa'+'nds']??0x952+-0x20d0+0x1*0x178e,_0x446faa=_0x61b41e['longitudeB'+'ands']??-0x209c+-0x57*0x3b+-0x21*-0x199,_0x4e0ac3=[],_0x33dd4a=[],_0x56e805=[],_0x24ebcb=[];for(let _0x21c41d=-0x1e8c+-0x15ea+0xa*0x53f;_0x21c41d<=_0x4e0a56;_0x21c41d++){const _0x6ff947=_0x21c41d*Math['PI']/_0x4e0a56,_0x3f5e03=Math['sin'](_0x6ff947),_0x41c82a=Math['cos'](_0x6ff947);for(let _0xfaf88e=0x80e*-0x1+-0x6a9+0xeb7;_0xfaf88e<=_0x446faa;_0xfaf88e++){const _0x1134fd=_0xfaf88e*(-0x7b*-0x1e+-0x1*-0xc7f+-0x1ae7)*Math['PI']/_0x446faa-Math['PI']/(-0x18f7*-0x1+0x1737+-0x302c),_0x4a9cef=Math['sin'](_0x1134fd),_0x2a372e=Math['cos'](_0x1134fd)*_0x3f5e03,_0x450641=_0x41c82a,_0x139baa=_0x4a9cef*_0x3f5e03,_0x3f6e49=-0x3*0x429+0x1182+-0x506-_0xfaf88e/_0x446faa,_0x3249cf=-0x3*-0x955+-0xe63+0x183*-0x9-_0x21c41d/_0x4e0a56;_0x4e0ac3['push'](_0x2a372e*_0x11aee2,_0x450641*_0x11aee2,_0x139baa*_0x11aee2),_0x33dd4a['push'](_0x2a372e,_0x450641,_0x139baa),_0x56e805['push'](_0x3f6e49,-0x1*0xe4b+-0x71*0x49+0x2e85-_0x3249cf);}}for(let _0x26d19d=-0x64d*0x5+-0xf3f*-0x2+-0x7*-0x25;_0x26d19d<_0x4e0a56;++_0x26d19d)for(let _0x4b831d=0x164d+0xcbb*-0x2+0x329;_0x4b831d<_0x446faa;++_0x4b831d){const _0x2fd9f5=_0x26d19d*(_0x446faa+(0x25bf+-0x12e8+-0x12d6))+_0x4b831d,_0x277352=_0x2fd9f5+_0x446faa+(0x2*-0x836+-0x7cd+-0x2*-0xc1d);_0x24ebcb['push'](_0x2fd9f5+(-0x298*0x8+-0x742*-0x1+0xd7f),_0x277352,_0x2fd9f5),_0x24ebcb['push'](_0x2fd9f5+(0x0+0x13a6+-0x13a5),_0x277352+(0x1*0x193+-0xad*-0x16+-0x1070),_0x277352);}this['positions']=_0x4e0ac3,this['normals']=_0x33dd4a,this['uvs']=_0x56e805,this['uvs1']=_0x56e805,this['indices']=_0x24ebcb,_0x61b41e['calculateT'+'angents']&&(this['tangents']=Mr(_0x4e0ac3,_0x33dd4a,_0x56e805,_0x24ebcb));}}class DA extends _m{constructor(_0x4d113d={}){const _0x1617e4=_0x4d113d['latitudeBa'+'nds']??0x2058+-0xe99+-0x1*0x11af,_0x1f5301=_0x4d113d['longitudeB'+'ands']??0x2342+-0xd46*-0x2+-0x8d2*0x7;super({'radius':0.5,'latitudeBands':_0x1617e4,'longitudeBands':_0x1f5301});const _0x48c905=0x95c+0x1*0x1556+0x1*-0x1eb2+0.1,_0x258fb9=0x144f+0x151*-0xb+0x4*-0x175+0.95,_0x5be990=_0x258fb9*_0x258fb9,_0x31bd1a=this['positions'];for(let _0x109ca1=-0x121+0x161f+-0x14fe;_0x109ca1<_0x31bd1a['length'];_0x109ca1+=-0x2390+0x1366+0x29*0x65){const _0x248406=_0x31bd1a[_0x109ca1]/(-0x10a9+-0x5*-0x247+0x12*0x4b+0.5);let _0x19714b=_0x31bd1a[_0x109ca1+(0x664+0x6a*-0x4c+0x1915*0x1)]/(0x1d72+-0x1*-0x21bf+-0x3f31+0.5);const _0xc26b55=_0x31bd1a[_0x109ca1+(0x16bb*-0x1+0xbe6*-0x1+0x22a3)]/(0xccb*-0x1+-0x1*-0x1b6b+-0xea0+0.5);_0x19714b<-0x1b1c+-0x1029+0xb*0x3ef&&(_0x19714b*=0x424+0xacb*0x3+-0x2485+0.3,_0x248406*_0x248406+_0xc26b55*_0xc26b55<_0x5be990&&(_0x19714b=-_0x48c905)),_0x19714b+=_0x48c905,_0x19714b*=0x1*0x2399+0x1cbf+-0x4058+0.5,_0x31bd1a[_0x109ca1+(0x275+0x2*-0xdd2+0x1930)]=_0x19714b;}}}class zo{static['create'](_0x27b46b,_0x399731){switch(_0x399731){case Qw:return zo['box'](_0x27b46b);case Jw:return zo['dome'](_0x27b46b);}return w['assert'](_0x399731===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x399731),zo['infinite'](_0x27b46b);}static['infinite'](_0x7a953){return Ge['fromGeomet'+'ry'](_0x7a953,new mu(_0x7a953));}static['box'](_0x23dc67){return Ge['fromGeomet'+'ry'](_0x23dc67,new mu({'yOffset':0.5}));}static['dome'](_0x5c0612){const _0x595b68=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x595b68['normals']=void(0x395+-0x9f+-0x2f6),_0x595b68['uvs']=void(0x22*-0x9c+-0x17*-0x67+0x1*0xb77),Ge['fromGeomet'+'ry'](_0x5c0612,_0x595b68);}}class IA{constructor(_0x491db0,_0x5052c4,_0x29394a,_0xcfd58f,_0x291295){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(-0x16*0x137+-0xa09+-0x2*-0x1262));const _0x365b75=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x491db0,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x491db0,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x491db0,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x491db0,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x365b75['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0xcfd58f['encoding'])),_0x291295!==Bo&&_0x365b75['setDefine']('SKYMESH',''),_0xcfd58f['cubemap']&&_0x365b75['setDefine']('SKY_CUBEMA'+'P',''),_0x365b75['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x5052c4['skyboxHigh'+'lightMulti'+'plier']),_0xcfd58f['cubemap']?_0x365b75['setParamet'+'er']('texture_cu'+'beMap',_0xcfd58f):(_0x365b75['setParamet'+'er']('texture_en'+'vAtlas',_0xcfd58f),_0x365b75['setParamet'+'er']('mipLevel',_0x5052c4['skyboxMip'])),_0x365b75['cull']=Fo,_0x365b75['depthWrite']=this['_depthWrit'+'e'];const _0x11c28d=_0x5052c4['layers']['getLayerBy'+'Id'](Kp);if(_0x11c28d){const _0x2bc094=zo['create'](_0x491db0,_0x291295),_0x38fbac=new He(_0x2bc094,_0x365b75,_0x29394a);this['meshInstan'+'ce']=_0x38fbac,_0x38fbac['cull']=!(0xb90+0x2*-0x1139+-0x345*-0x7),_0x38fbac['pick']=!(0x1*-0x5d9+-0xe*-0x24b+-0x8c*0x30),_0x11c28d['addMeshIns'+'tances']([_0x38fbac]),this['skyLayer']=_0x11c28d;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x3ec282){this['_depthWrit'+'e']=_0x3ec282,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x3ec282);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x2460b){h(this,'_type',Bo),h(this,'_center',new D(-0x1*0x527+-0x1bb9+0x20e0,0x25b0*0x1+-0x15d*0x18+-0x4f7,0x22*0xe2+0xba4+-0x3e*0xac)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x22f6+-0x1888+0x11*-0x9d)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x2460b['device'],this['scene']=_0x2460b,this['center']=new D(-0x10f4+0xc29+0x4cb,-0x1*-0x1a45+-0x1*-0x6fb+0x1*-0x213f,0x1df5*0x1+-0x11fa+-0xbfb),this['centerArra'+'y']=new Float32Array(-0x617+0x264c+-0x2032),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x54d6a9){this['type']=_0x54d6a9['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x54d6a9['skyMeshPos'+'ition']??[-0x11*-0x249+-0x123b*0x2+-0x263,-0x46b+-0x1c78+-0x20e3*-0x1,0x11*-0xc7+-0x1262+0x1f99])),this['node']['setLocalEu'+'lerAngles'](new D(_0x54d6a9['skyMeshRot'+'ation']??[-0x15ce+0x1*0x226c+-0xc9e,-0xda6+0x1e73+-0xb*0x187,-0x906+0x2bd*0x4+0x1ee*-0x1])),this['node']['setLocalSc'+'ale'](new D(_0x54d6a9['skyMeshSca'+'le']??[-0x24fe+-0xbe4+0x30e3,0x4f+-0x2385+0x2337,-0x1629+0xa4*-0x8+0x1b4a])),_0x54d6a9['skyCenter']&&(this['_center']=new D(_0x54d6a9['skyCenter']));}set['type'](_0x11104a){this['_type']!==_0x11104a&&(this['_type']=_0x11104a,this['scene']['updateShad'+'ers']=!(0x24b*0xb+0x559*-0x1+0x4*-0x4f8),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x332db2){this['_center']['copy'](_0x332db2);}get['center'](){return this['_center'];}set['depthWrite'](_0x27e899){this['_depthWrit'+'e']!==_0x27e899&&(this['_depthWrit'+'e']=_0x27e899,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x27e899));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x402334=this['scene']['_getSkybox'+'Tex']();_0x402334&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x402334,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x402334));}['resetSkyMe'+'sh'](){var _0x313689;(_0x313689=this['skyMesh'])==null||_0x313689['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x191f67,centerArray:_0xb4670}=this,_0x3426d8=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x191f67,_0x3426d8),_0xb4670[0x207*0x7+-0xda*0x11+0x49*0x1]=_0x3426d8['x'],_0xb4670[0x17dc+0x1*-0x1546+-0x295*0x1]=_0x3426d8['y'],_0xb4670[0x676*-0x5+0x1aad+0x5a3]=_0x3426d8['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0xb4670);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x1dd1+-0x2f3+-0x1*-0x20c5);class RA{constructor(_0x1843eb,_0xbc5218,_0x5331c0){this['material']=_0xbc5218,this['layer']=_0x5331c0,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x1843eb),this['meshInstan'+'ce']=null;}['addLines'](_0x1e28e9,_0x41c6d8){const _0x292496=this['positions'],_0x551126=_0x1e28e9['length'];for(let _0x343eba=0x101*-0x17+0x175e+-0x47;_0x343eba<_0x551126;_0x343eba++){const _0x55d5f1=_0x1e28e9[_0x343eba];_0x292496['push'](_0x55d5f1['x'],_0x55d5f1['y'],_0x55d5f1['z']);}const _0x29c4b4=this['colors'];if(_0x41c6d8['length'])for(let _0x28f51=0x2d*0x26+-0x264a+0x1f9c;_0x28f51<_0x551126;_0x28f51++){const _0x52792d=_0x41c6d8[_0x28f51];_0x29c4b4['push'](_0x52792d['r'],_0x52792d['g'],_0x52792d['b'],_0x52792d['a']);}else{for(let _0x409074=-0xc0c+0x19d9+-0xdcd;_0x409074<_0x551126;_0x409074++)_0x29c4b4['push'](_0x41c6d8['r'],_0x41c6d8['g'],_0x41c6d8['b'],_0x41c6d8['a']);}}['addLinesAr'+'rays'](_0x54bb83,_0x3ee68d){const _0x3fe497=this['positions'];for(let _0x5d2116=0x2*0x63a+-0x1f63+0x12ef;_0x5d2116<_0x54bb83['length'];_0x5d2116+=-0x120c+0x7ca*-0x1+0x19d9*0x1)_0x3fe497['push'](_0x54bb83[_0x5d2116],_0x54bb83[_0x5d2116+(-0x602+0x1*-0xc77+-0xd7*-0x16)],_0x54bb83[_0x5d2116+(-0x18a7+-0x26bc+-0x1*-0x3f65)]);const _0x3a6310=this['colors'];if(_0x3ee68d['length']){for(let _0x37e10a=-0x107d+-0x13fa+-0x5*-0x74b;_0x37e10a<_0x3ee68d['length'];_0x37e10a+=-0x10ed*0x2+0x2661+-0x483)_0x3a6310['push'](_0x3ee68d[_0x37e10a],_0x3ee68d[_0x37e10a+(0x1*-0x1fa2+0x1*-0x25c9+0x1*0x456c)],_0x3ee68d[_0x37e10a+(0x1568+-0x1*-0x75c+-0x1cc2)],_0x3ee68d[_0x37e10a+(-0x1*-0x2141+0x1ec5+-0x1*0x4003)]);}else{const _0xe39f5d=_0x54bb83['length']/(-0x5c5+-0x1*-0x2523+-0x1f5b);for(let _0x4bc4bc=0xf11*0x1+-0x2562+0x1d*0xc5;_0x4bc4bc<_0xe39f5d;_0x4bc4bc++)_0x3a6310['push'](_0x3ee68d['r'],_0x3ee68d['g'],_0x3ee68d['b'],_0x3ee68d['a']);}}['onPreRende'+'r'](_0x52c017,_0xdbfe33){this['positions']['length']>0xc7*0xa+-0x11f9+0x7*0x175&&this['material']['transparen'+'t']===_0xdbfe33&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x1964+0x703+-0x2066)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x52c017['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x6eb+-0xf52+0x163d,this['colors']['length']=0x18e*0xe+0x360+0x4*-0x649;}}class OA{constructor(_0x4f0598){this['device']=_0x4f0598,this['map']=new Map();}['getBatch'](_0x49ca6e,_0x32190f){let _0xb1de29=this['map']['get'](_0x49ca6e);return _0xb1de29||(_0xb1de29=new RA(this['device'],_0x49ca6e,_0x32190f),this['map']['set'](_0x49ca6e,_0xb1de29)),_0xb1de29;}['onPreRende'+'r'](_0x2ab2f7,_0x1c8282){this['map']['forEach'](_0x2bff7f=>{_0x2bff7f['onPreRende'+'r'](_0x2ab2f7,_0x1c8282);});}['clear'](){this['map']['forEach'](_0x4495b5=>_0x4495b5['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x2b013d){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x2b013d,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x470c79){const _0x5077ee=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x5077ee['blendType']=Zs,_0x5077ee['depthTest']=_0x470c79,_0x5077ee['update'](),_0x5077ee;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x684+0x104f+0x17*-0x6d))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x1420+-0x9bb+0x1ddc))),this['_materialN'+'oDepth'];}['getBatch'](_0x226c4b,_0x41079a){let _0x1342ef=this['batchesMap']['get'](_0x226c4b);_0x1342ef||(_0x1342ef=new OA(this['device']),this['batchesMap']['set'](_0x226c4b,_0x1342ef)),this['allBatches']['add'](_0x1342ef);const _0x3911db=_0x41079a?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x1342ef['getBatch'](_0x3911db,_0x226c4b);}['getShaderD'+'esc'](_0x3078ee,_0x43975d,_0x4fb34d){return this['shaderDesc'+'s']['has'](_0x3078ee)||this['shaderDesc'+'s']['set'](_0x3078ee,{'uniqueName':'DebugShade'+'r:'+_0x3078ee,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x43975d,'fragmentWGSL':_0x4fb34d,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x3078ee);}['getTexture'+'ShaderDesc'](_0x4c786a){const _0x4e5b6b=Tr['decodeFunc'](_0x4c786a);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x4c786a,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x4e5b6b+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x4e5b6b+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x175+-0x9e8*0x2+-0x7f*-0x25+0.5),-(0x16f+-0x40e*-0x5+-0x15b5+0.5),0x104f*0x2+0x22a7+0x3f5*-0x11,0x1709+0xf69+-0x2672+0.5,-(-0x17aa+-0x1*0x2188+0x3932*0x1+0.5),-0x16b5+0x17e7*-0x1+-0x2*-0x174e,-(-0xa95+-0x14d3+0xf*0x218+0.5),-0x76d+-0x1fb0+0x1f*0x143+0.5,-0xc08+0x1c16+-0x100e,-0x3a0*-0x9+-0x1*0x1237+-0xe69+0.5,0x65b*0x1+-0x132e+0xcd3+0.5,-0x1703*-0x1+-0x1465+-0x29e]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x2131ce,_0x1556b7,_0x47ce4a,_0x22cdf4,_0x4a6c96){if(!_0x22cdf4){const _0x37c7fb=this['getGraphNo'+'de'](_0x1556b7);_0x22cdf4=new He(_0x47ce4a,_0x2131ce,_0x37c7fb);}let _0x11ace8=this['layerMeshI'+'nstances']['get'](_0x4a6c96);_0x11ace8||(_0x11ace8=[],this['layerMeshI'+'nstances']['set'](_0x4a6c96,_0x11ace8)),_0x11ace8['push'](_0x22cdf4);}['drawWireAl'+'ignedBox'](_0x1c08e1,_0x3ead01,_0x31152e,_0x232903,_0x5d8b86,_0xd98b91){if(_0xd98b91){const _0xaefc68=(_0x30b58e,_0x581a7c,_0x3aee50)=>{Ba['set'](_0x30b58e,_0x581a7c,_0x3aee50),_0xd98b91['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z']),_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z']),_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z']),_0xaefc68(_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z']);}else Ts['push'](_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z'],_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z'],_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z'],_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z'],_0x1c08e1['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x1c08e1['y'],_0x3ead01['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x1c08e1['x'],_0x3ead01['y'],_0x3ead01['z'],_0x3ead01['x'],_0x3ead01['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x3ead01['y'],_0x3ead01['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x1c08e1['z'],_0x3ead01['x'],_0x1c08e1['y'],_0x3ead01['z']);this['getBatch'](_0x5d8b86,_0x232903)['addLinesAr'+'rays'](Ts,_0x31152e),Ts['length']=-0x1c7e+0xd1*-0x13+0x2c01;}['drawWireSp'+'here'](_0x15cfb9,_0x1c1248,_0x26426e,_0x92153,_0x34b283,_0x24449e){const _0x4151ac=(-0x1cfb+-0x126b*-0x1+0xa92)*Math['PI']/_0x92153;let _0x3d6c2c=-0xf57+0x2*0x9af+0x1*-0x407;for(let _0x5eb5bd=0xb*-0x189+0x23*0x6d+0xfe*0x2;_0x5eb5bd<_0x92153;_0x5eb5bd++){const _0x137229=Math['sin'](_0x3d6c2c),_0x55922c=Math['cos'](_0x3d6c2c);_0x3d6c2c+=_0x4151ac;const _0x1aa7db=Math['sin'](_0x3d6c2c),_0x381fd1=Math['cos'](_0x3d6c2c);Ts['push'](_0x15cfb9['x']+_0x1c1248*_0x137229,_0x15cfb9['y'],_0x15cfb9['z']+_0x1c1248*_0x55922c),Ts['push'](_0x15cfb9['x']+_0x1c1248*_0x1aa7db,_0x15cfb9['y'],_0x15cfb9['z']+_0x1c1248*_0x381fd1),Ts['push'](_0x15cfb9['x']+_0x1c1248*_0x137229,_0x15cfb9['y']+_0x1c1248*_0x55922c,_0x15cfb9['z']),Ts['push'](_0x15cfb9['x']+_0x1c1248*_0x1aa7db,_0x15cfb9['y']+_0x1c1248*_0x381fd1,_0x15cfb9['z']),Ts['push'](_0x15cfb9['x'],_0x15cfb9['y']+_0x1c1248*_0x137229,_0x15cfb9['z']+_0x1c1248*_0x55922c),Ts['push'](_0x15cfb9['x'],_0x15cfb9['y']+_0x1c1248*_0x1aa7db,_0x15cfb9['z']+_0x1c1248*_0x381fd1);}this['getBatch'](_0x24449e,_0x34b283)['addLinesAr'+'rays'](Ts,_0x26426e),Ts['length']=-0x1a47+0x48*-0x19+0x1*0x214f;}['getGraphNo'+'de'](_0x4633bc){const _0x4eb237=new Ie('ImmediateD'+'ebug');return _0x4eb237['worldTrans'+'form']=_0x4633bc,_0x4eb237['_dirtyWorl'+'d']=_0x4eb237['_dirtyNorm'+'al']=!(0x47*0x7d+0xb7*-0xf+-0x9*0x2a9),_0x4eb237;}['onPreRende'+'rLayer'](_0x4a266d,_0x235a3a,_0x35b11e){if(this['batchesMap']['forEach']((_0x37d0c7,_0x27dbf0)=>{_0x27dbf0===_0x4a266d&&_0x37d0c7['onPreRende'+'r'](_0x235a3a,_0x35b11e);}),!this['updatedLay'+'ers']['has'](_0x4a266d)){this['updatedLay'+'ers']['add'](_0x4a266d);const _0x188779=this['layerMeshI'+'nstances']['get'](_0x4a266d);if(_0x188779){for(let _0x4b6ecd=0x1920+-0x5*0x127+-0x135d*0x1;_0x4b6ecd<_0x188779['length'];_0x4b6ecd++)_0x235a3a['push'](_0x188779[_0x4b6ecd]);_0x188779['length']=-0xb*0x241+-0x7*0x27c+0x2a2f*0x1;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x38451b=>_0x38451b['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0x704*0x3+-0x1607+0xfb*0x1,0x2*0x125e+-0x925+-0x1b97*0x1,-0x1097+0x8*0x108+0x857)),h(this,'density',-0x1a50+-0x2b*0xf+0x1cd5),h(this,'start',0x1e49*0x1+-0xe7d*0x1+-0xfcb*0x1),h(this,'end',-0x431*0x1+-0x575*-0x3+-0x846);}}class Et extends me{constructor(_0x220532){super(),h(this,'ambientBak'+'e',!(0xd*-0x125+0x1741+-0x85f)),h(this,'ambientBak'+'eOcclusion'+'Brightness',0x7e2*-0x1+-0x7*0x35f+0x1f7b),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x1096+-0x14c*0x10+0x213*0x12),h(this,'ambientLig'+'ht',new ie(0xef*0x16+-0x192c+0x4a2,0xb96+0x1*0xa3b+-0x15d1*0x1,-0x1*0x1d95+-0xb05+0x289a)),h(this,'ambientLum'+'inance',-0xcbe+-0xb0d+0x17cb),h(this,'exposure',-0xe44+0x41*-0x90+-0x3e9*-0xd),h(this,'lightmapSi'+'zeMultipli'+'er',0x4*-0x82+-0x1c*0x131+-0x2365*-0x1),h(this,'lightmapMa'+'xResolutio'+'n',0x6b6+0x496*-0x5+0x7c*0x32),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x3*0x886+-0xf*-0x294+-0xd19)),h(this,'lightmapHD'+'R',!(0x1935+0x16c0+0x21*-0x174)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x378*-0xb+0x54e+-0x1*0x2b75)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0xfd2+0x1*-0x44b+0x141e)),(w['assert'](_0x220532,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x220532,this['_gravity']=new D(0x1151*-0x2+0x26df+-0x9b*0x7,-(-0x19ac+-0x1689+-0x1db*-0x1a+0.8000000000000007),0xc5*0xa+0x5*0xeb+-0xc49),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x215c+-0x1d22+-0x439,this['_skyboxLum'+'inance']=-0xfe6*-0x2+-0x54c*0x4+-0x54e*0x2,this['_skyboxMip']=-0x22a7+-0x1cbd+0x1*0x3f64,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1357+-0x1a20+0x2d78,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x159a+-0x1d05+0x32a0),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x5c5+-0x10f7+0x16bd,this['_ambientBa'+'keSpherePa'+'rt']=-0x397*-0x3+-0x268a*0x1+0x1bc5*0x1+0.4,this['_lightmapF'+'ilterRange']=-0x2571+0x26bc+-0x6b*0x3,this['_lightmapF'+'ilterSmoot'+'hness']=0x58d*-0x2+0x1*0x1917+0x1*-0xdfd+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0xe5*-0x2b+0x1ce2*-0x1+-0x995*0x1),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x1c60+0x1238+0x68*0x19);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1002+-0x1e38+0x2*0x171d),this['_shaderVer'+'sion']=-0x1085*-0x1+0x2e*0x17+-0x14a7*0x1,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x3df6fc){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x3df6fc),0x1623+-0x18f8+0x2d6,0x6d2+-0xb6c*-0x3+-0x3a5*0xb);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x5ee4b4){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x5ee4b4,-0x1ba+0x118b+0x1*-0xfd1+0.001,0x1115+0x6*0x4e1+0x11*-0x2ba);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0xb670b7){if(this['device']['isWebGPU']&&!_0xb670b7){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0xb670b7){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0xb670b7;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x39ba54){_0x39ba54!==this['_envAtlas']&&(this['_envAtlas']=_0x39ba54,_0x39ba54&&(_0x39ba54['addressU']=ue,_0x39ba54['addressV']=ue,_0x39ba54['minFilter']=vt,_0x39ba54['magFilter']=vt,_0x39ba54['mipmaps']=!(0x10*0x1c6+0x8d3+0x2*-0x1299)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x4ae258){const _0x6ee037=this['_layers'];this['_layers']=_0x4ae258,this['fire']('set:layers',_0x6ee037,_0x4ae258);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x51a7dc){this['_lightmapF'+'ilterRange']=Math['max'](_0x51a7dc,-0x1022+0xb0*-0x16+0x1f42+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x233e17){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x233e17,0x59*0x3e+0x1a39+-0x2fc7+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x19d1a8){_0x19d1a8=_0x19d1a8||[];const _0x5eb2ce=this['_prefilter'+'edCubemaps'];(_0x5eb2ce['length']!==_0x19d1a8['length']||_0x5eb2ce['some']((_0xe5094a,_0x44601a)=>_0xe5094a!==_0x19d1a8[_0x44601a]))&&(_0x19d1a8['length']===-0x2304+-0x3e3*-0x1+0x1d*0x113&&_0x19d1a8['every'](_0x2a6f36=>!!_0x2a6f36)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x19d1a8,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x19d1a8['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x5a4d19){_0x5a4d19!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x5a4d19,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x5ed744){_0x5ed744!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x5ed744,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x3df63f){_0x3df63f!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x3df63f,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x501f78){_0x501f78!==this['_skyboxMip']&&(this['_skyboxMip']=_0x501f78,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x4bf44a){_0x4bf44a!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x4bf44a,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x40d5d9){if(!this['_skyboxRot'+'ation']['equals'](_0x40d5d9)){const _0x46a6ef=_0x40d5d9['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x40d5d9),_0x46a6ef?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x40d5d9,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x46a6ef&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x333*0x9+0x45*0x51+0x14*-0x288),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x517eb4,_0x4644e2,_0xd3364e=ie['WHITE'],_0x44c2a9=!(-0x1*0xf8e+0x1906+0x4bc*-0x2),_0x445da3=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x445da3,_0x44c2a9)['addLines']([_0x517eb4,_0x4644e2],[_0xd3364e,_0xd3364e]);}['drawLines'](_0x463f26,_0x4bf093,_0x3f0ee3=!(0x11d4+-0x2*-0x3df+0xcc9*-0x2),_0x5b43e7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5b43e7,_0x3f0ee3)['addLines'](_0x463f26,_0x4bf093);}['drawLineAr'+'rays'](_0xcf2da5,_0xc80b98,_0x4c0e08=!(0x1*-0x1712+-0x7f*0x19+0x2379),_0x13df6f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x13df6f,_0x4c0e08)['addLinesAr'+'rays'](_0xcf2da5,_0xc80b98);}['applySetti'+'ngs'](_0x1462ac){const _0x1b07fe=_0x1462ac['physics'],_0x532ffd=_0x1462ac['render'];this['_gravity']['set'](_0x1b07fe['gravity'][-0x7*-0x3d5+0x676+-0x2149],_0x1b07fe['gravity'][-0x1*-0x3cb+0x2447*-0x1+0x1*0x207d],_0x1b07fe['gravity'][0x797+-0x7e4+0x4f]),this['ambientLig'+'ht']['set'](_0x532ffd['global_amb'+'ient'][0x1*0x5da+-0x43*0x5e+0x12c0],_0x532ffd['global_amb'+'ient'][0x18b*-0x1+-0x9cc+0xb58],_0x532ffd['global_amb'+'ient'][-0x2531*0x1+0xf32+0x1601]),this['ambientLum'+'inance']=_0x532ffd['ambientLum'+'inance'],this['fog']['type']=_0x532ffd['fog'],this['fog']['color']['set'](_0x532ffd['fog_color'][0x188*0x15+0x1856+-0x812*0x7],_0x532ffd['fog_color'][0x12cc+-0x1d*0x132+0xfdf],_0x532ffd['fog_color'][0x913*-0x3+-0x7*0x2a2+-0x2da9*-0x1]),this['fog']['start']=_0x532ffd['fog_start'],this['fog']['end']=_0x532ffd['fog_end'],this['fog']['density']=_0x532ffd['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x532ffd['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x532ffd['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x532ffd['lightmapMo'+'de'],this['exposure']=_0x532ffd['exposure'],this['_skyboxInt'+'ensity']=_0x532ffd['skyboxInte'+'nsity']??0x6*0x506+0xfef+0x2*-0x1709,this['_skyboxLum'+'inance']=_0x532ffd['skyboxLumi'+'nance']??-0x28a*-0x33+0x20e0+-0x543e,this['_skyboxMip']=_0x532ffd['skyboxMip']??0x3*0x3d+-0x98*-0x7+-0x4df,_0x532ffd['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x532ffd['skyboxRota'+'tion'][-0xac*-0x15+-0x1*0x1905+0x13*0x93],_0x532ffd['skyboxRota'+'tion'][-0xb5d+0xd32+-0x12*0x1a],_0x532ffd['skyboxRota'+'tion'][-0x54f+-0x13b5+-0x2*-0xc83])),this['sky']['applySetti'+'ngs'](_0x532ffd),this['clusteredL'+'ightingEna'+'bled']=_0x532ffd['clusteredL'+'ightingEna'+'bled']??!(-0x1924*0x1+-0x1*-0x1211+0x714),this['lighting']['applySetti'+'ngs'](_0x532ffd),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x4cd75c=>{_0x532ffd['hasOwnProp'+'erty'](_0x4cd75c)&&(this[_0x4cd75c]=_0x532ffd[_0x4cd75c]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x5cdc83=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x5cdc83[[0x2*0xfa9+0x65f*-0x3+-0x19*0x7d,-0x1f6d+-0x2376+-0x42e4*-0x1,-0x1fdc+-0x7cc+0x27ab*0x1,-0x8c4+0x37*-0x5b+-0x1c55*-0x1,0x3*-0xe8+0xbb3*-0x3+0x12eb*0x2,-0x313+0x1*-0x6cd+0x7*0x16a][this['_skyboxMip']]]||this['_envAtlas']||_0x5cdc83[0x12e*0xe+-0x1*0x23ec+0x1368]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x5cdc83[0x4*0x6b0+-0x11*-0x17e+0x3b9*-0xe]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x610*-0x4+-0x7*0x1d5+-0x1*-0x2513);}['setSkybox'](_0x59e30b){_0x59e30b?(this['skybox']=_0x59e30b[0x1d48+0xf*0x23+0x1*-0x1f55]||null,_0x59e30b[0x26*0x48+-0x1*-0x13ef+-0x1e9e]&&!_0x59e30b[-0x99f*-0x1+-0x51*-0x53+-0x23e1]['cubemap']?this['envAtlas']=_0x59e30b[-0xd7e*0x2+-0x79a+0x2297*0x1]:this['prefiltere'+'dCubemaps']=_0x59e30b['slice'](-0x1b60+-0x1726+0x3287*0x1)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x54e904,_0x2f04f4,_0x28d271){this['device']=_0x54e904,this['inverseBin'+'dPose']=_0x2f04f4,this['boneNames']=_0x28d271;}}const kA=[0xd26+0x3*-0x152+-0x930,-0x1*-0x2125+-0x1*0x263f+-0x2*-0x28d,-0x1314+-0xfc*0x24+0x3685*0x1,0x4ea+0x21b9*-0x1+0x1ccf,0x64d*0x1+0x26d*0x3+-0x9e*0x16,-0x1*-0x1b4b+-0x16*0x167+0x390*0x1,-0x6*-0xff+0x1*0xc82+-0x127c,-0x2a*-0x97+0x13*0x1d1+-0x3b49,0x72a+0x1a3a+0x25*-0xe7,0x96d+0x303+0xc70*-0x1,-0x21a2+-0xc9e+0x2e40,0xe50+-0xb56+-0x2f9],UA=[-0x140f+-0x174*-0x2+-0x1127*-0x1,-0xcb1+0x6ca+0x5e8*0x1,0x1e7*0x7+-0x1eb4+0x1166,-0x26*-0xf2+0x1*-0x12bb+0x35*-0x53,0x1*-0xb8+-0xaa2+0xb5d,-0x1*0x1cb7+-0xc27+-0x1*-0x28df];class BA extends me{constructor(_0x39af7f,_0xd1c038){super(),this['_device']=_0x39af7f,this['_pixelsPer'+'Unit']=_0xd1c038&&_0xd1c038['pixelsPerU'+'nit']!==void(-0x3fd*0x3+0x1756+0x1*-0xb5f)?_0xd1c038['pixelsPerU'+'nit']:0x3a*-0x30+0x67*0x5e+-0x1af1,this['_renderMod'+'e']=_0xd1c038&&_0xd1c038['renderMode']!==void(-0x96c+0x4*-0x371+0x1730)?_0xd1c038['renderMode']:ci,this['_atlas']=_0xd1c038&&_0xd1c038['atlas']!==void(0x22+0x1810+0x1832*-0x1)?_0xd1c038['atlas']:null,this['_frameKeys']=_0xd1c038&&_0xd1c038['frameKeys']!==void(0x2*-0x9dc+-0x20e2+0x349a)?_0xd1c038['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x579+-0x28b*0xb+0x1681),this['_meshesDir'+'ty']=!(0x14c7+0x8b2+-0x1d78),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0xa2056f){this['_frameKeys']=_0xa2056f,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1*0x2288+-0x2e5*-0x4+-0x2e1c):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0xa2056f);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x50bc37){_0x50bc37!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x50bc37,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1e3d+0x1569+-0x33a6):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x50bc37));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x54ee36){this['_pixelsPer'+'Unit']!==_0x54ee36&&(this['_pixelsPer'+'Unit']=_0x54ee36,this['fire']('set:pixels'+'PerUnit',_0x54ee36),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x121*0x15+-0xd*-0x1b6+0x177):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x1ca1e8){if(this['_renderMod'+'e']===_0x1ca1e8)return;const _0x4fb7bb=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x1ca1e8,this['fire']('set:render'+'Mode',_0x1ca1e8),(_0x4fb7bb===ci||_0x1ca1e8===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x529+-0x31*0x86+0x1ecf):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x1fcf96=this['_meshes']['length'];for(let _0x2c41c1=0x1f51+0x1*0x1e01+0x14e*-0x2f;_0x2c41c1<_0x1fcf96;_0x2c41c1++){const _0x52348c=this['_meshes'][_0x2c41c1];_0x52348c&&_0x52348c['destroy']();}const _0x2eed49=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2eed49);const _0x148de5=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x5b4822=-0x1*0x461+0x161b+-0x11ba;_0x5b4822<_0x2eed49;_0x5b4822++){const _0x315511=this['_atlas']['frames'][this['_frameKeys'][_0x5b4822]];this['_meshes'][_0x5b4822]=_0x315511?_0x148de5['call'](this,_0x315511):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x4f4cb9){const _0x431b91=_0x4f4cb9['rect'],_0x25cb4f=this['_atlas']['texture']['width'],_0x221387=this['_atlas']['texture']['height'],_0x48729c=_0x431b91['z']/this['_pixelsPer'+'Unit'],_0x18a924=_0x431b91['w']/this['_pixelsPer'+'Unit'],_0x396a37=_0x4f4cb9['pivot']['x'],_0x547989=_0x4f4cb9['pivot']['y'],_0x11cb8e=[-_0x396a37*_0x48729c,-_0x547989*_0x18a924,0x18ac+-0x244c+0xba0,(0x1*0x2683+-0x1*-0x917+-0x2f99-_0x396a37)*_0x48729c,-_0x547989*_0x18a924,-0xa69*-0x1+0x165a+-0x20c3*0x1,(-0x25fb+-0x1*0x16d9+-0x3*-0x1447-_0x396a37)*_0x48729c,(0x665*0x5+0x267+-0xb75*0x3-_0x547989)*_0x18a924,0x242f+0x565+-0x2994,-_0x396a37*_0x48729c,(-0x1962+0x1*0xb29+0x4be*0x3-_0x547989)*_0x18a924,-0x350+0x1321+-0xfd1],_0x2440d8=_0x431b91['x']/_0x25cb4f,_0x22ca65=0x1223+0x9bc+-0x1bde-_0x431b91['y']/_0x221387,_0x39b70b=(_0x431b91['x']+_0x431b91['z'])/_0x25cb4f,_0x7bcc7c=-0x2244+0x17a5*-0x1+0x134e*0x3-(_0x431b91['y']+_0x431b91['w'])/_0x221387,_0x17c4d3=[_0x2440d8,_0x22ca65,_0x39b70b,_0x22ca65,_0x39b70b,_0x7bcc7c,_0x2440d8,_0x7bcc7c],_0x67cf1d=new Ta();return _0x67cf1d['positions']=_0x11cb8e,_0x67cf1d['normals']=kA,_0x67cf1d['uvs']=_0x17c4d3,_0x67cf1d['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x67cf1d);}['_create9Sl'+'iceMesh'](){const _0x272e30=J['ONE'],_0x5825b7=-0x117*-0x1a+0x1d08+-0x395b,_0x5c619f=0xaf6+-0x1f21+-0x171*-0xe,_0x79d046=[],_0x1317f3=[],_0x52a91a=[],_0xa2caeb=[];let _0x27eddb=0xb90+-0x2*0x1cf+0x153*-0x6;for(let _0xc728a7=-0x1b1f+-0x653+0x2172;_0xc728a7<=_0x5825b7;_0xc728a7++){const _0x17afd5=_0xc728a7===0x1749*-0x1+-0x1*0xc6d+0xe*0x28d||_0xc728a7===_0x5825b7?-0x1cfc+-0x3*0x4c+0x20*0xef:-0x4e8+-0x1157+0x1640;for(let _0x2c6a16=0x681+-0x7*-0x2a9+-0x60*0x43;_0x2c6a16<=_0x5c619f;_0x2c6a16++){const _0x47d775=-_0x272e30['x']+(0x1362+0x11ca+-0x252a)*_0x272e30['x']*(_0xc728a7<=0xc34+-0x20d4+-0x1*-0x14a1?-0x1e4f+0xa*0x23d+0x7ed:-0x1*-0xa0f+0x183c+0x4*-0x892)/_0x5825b7,_0x1ad8ea=-0xbc8*-0x2+-0x150f+-0x281,_0x2b884d=-(-_0x272e30['y']+(-0xb*0xa+-0x208a+-0x12*-0x1d5)*_0x272e30['y']*(_0x2c6a16<=-0x1a1f+0xa8c+0x4*0x3e5?-0x3*0x306+0x1*0x5d5+0x33d:-0xbfd+0x84c+0x3b4)/_0x5c619f),_0x14970c=_0x2c6a16===-0x1*0x24b7+0xa3e+0x1a79||_0x2c6a16===_0x5c619f?-0xa9c*-0x1+-0x352+-0x74a:0x5*-0x707+0xbf*0x29+0x48d;_0x79d046['push'](-_0x47d775,_0x1ad8ea,_0x2b884d),_0x1317f3['push'](-0x11e7*0x1+0x199*0xd+0x1*-0x2de,-0x240d+-0x655*0x6+0x2506*0x2,-0xc51+0x1959+0x116*-0xc),_0x52a91a['push'](_0x17afd5,_0x14970c),_0xc728a7<_0x5825b7&&_0x2c6a16<_0x5c619f&&(_0xa2caeb['push'](_0x27eddb+_0x5c619f+(0xed5+0x34f*0x2+-0x1572),_0x27eddb+(-0x5b2+0xa*-0x3e2+-0x2c87*-0x1),_0x27eddb),_0xa2caeb['push'](_0x27eddb+_0x5c619f+(0x61*0x1+-0x101+0xa1),_0x27eddb+_0x5c619f+(-0x26a9+-0x2638+0x4ce3*0x1),_0x27eddb+(-0x1ac2+-0xe87+0x294a*0x1))),_0x27eddb++;}}const _0x1dedcc=new Ta();return _0x1dedcc['positions']=_0x79d046,_0x1dedcc['normals']=_0x1317f3,_0x1dedcc['uvs']=_0x52a91a,_0x1dedcc['indices']=_0xa2caeb,Ge['fromGeomet'+'ry'](this['_device'],_0x1dedcc);}['_onSetFram'+'es'](_0x32893c){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1781*0x1+0xa9+-0x3*0x80e):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x3aeccd,_0x485d1c){const _0x88e6cb=this['_frameKeys']['indexOf'](_0x3aeccd);_0x88e6cb<0x9c*-0x2d+-0xa7c+0x25e8||(_0x485d1c?this['renderMode']===ci&&(this['_meshes'][_0x88e6cb]=this['_createSim'+'pleMesh'](_0x485d1c)):this['_meshes'][_0x88e6cb]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x589ef6){const _0x3a1cf0=this['_frameKeys']['indexOf'](_0x589ef6);_0x3a1cf0<0xcbb*0x3+0x1e65*-0x1+-0x7cc||(this['_meshes'][_0x3a1cf0]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x133*-0x1+-0x1438+0x1305),this['_meshesDir'+'ty']=!(-0x11*-0x149+-0x7f*-0x2+0xb6b*-0x2);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x25*0x25+-0x13bc+-0x266*-0x6),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0xd*0xc5+-0x1bd6+0x11d6);}['destroy'](){for(const _0x16e7dd of this['_meshes'])_0x16e7dd&&_0x16e7dd['destroy']();this['_meshes']['length']=0x47*-0x64+-0xd*-0x1e9+0x1*0x2e7;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1a2d40){this['_texture']=_0x1a2d40,this['fire']('set:textur'+'e',_0x1a2d40);}get['texture'](){return this['_texture'];}set['frames'](_0x12b659){this['_frames']=_0x12b659,this['fire']('set:frames',_0x12b659);}get['frames'](){return this['_frames'];}['setFrame'](_0x7fd072,_0x2bfaae){let _0x2f6b3e=this['_frames'][_0x7fd072];_0x2f6b3e?(_0x2f6b3e['rect']['copy'](_0x2bfaae['rect']),_0x2f6b3e['pivot']['copy'](_0x2bfaae['pivot']),_0x2f6b3e['border']['copy'](_0x2bfaae['border'])):(_0x2f6b3e={'rect':_0x2bfaae['rect']['clone'](),'pivot':_0x2bfaae['pivot']['clone'](),'border':_0x2bfaae['border']['clone']()},this['_frames'][_0x7fd072]=_0x2f6b3e),this['fire']('set:frame',_0x7fd072['toString'](),_0x2f6b3e);}['removeFram'+'e'](_0x7fe12a){const _0x50a2bd=this['_frames'][_0x7fe12a];_0x50a2bd&&(delete this['_frames'][_0x7fe12a],this['fire']('remove:fra'+'me',_0x7fe12a['toString'](),_0x50a2bd));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x142e7c,_0x5bb28e,_0x45599a,_0xc5f415){this['time']=_0x142e7c,this['position']=_0x5bb28e,this['rotation']=_0x45599a,this['scale']=_0xc5f415;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x5e4+-0x3*-0xb7e+-0x1c96),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x24b2f0){return this['_nodeDict'][_0x24b2f0];}['addNode'](_0x4792a9){this['_nodes']['push'](_0x4792a9),this['_nodeDict'][_0x4792a9['_name']]=_0x4792a9;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x1*-0x14d1+-0x1913+0x2de5),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x1c80a3){this['_targetNod'+'e']=_0x1c80a3;}}class Sf{constructor(_0x1be675){h(this,'looping',!(-0x3*-0x326+0x2*-0x6d3+0x21a*0x2)),(this['_animation']=null,this['_time']=-0x1*-0x3fb+-0x42a+0x1*0x2f,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0xc21ff7=_0x26e805=>{const _0x466442=new VA();_0x466442['_name']=_0x26e805['name'],this['_interpola'+'tedKeys']['push'](_0x466442),this['_interpola'+'tedKeyDict'][_0x26e805['name']]=_0x466442,this['_currKeyIn'+'dices'][_0x26e805['name']]=-0x943+0x1d1a+0x1*-0x13d7;for(let _0x28d1f2=-0x796*-0x5+-0x1*0x2084+0x1ce*-0x3;_0x28d1f2<_0x26e805['_children']['length'];_0x28d1f2++)_0xc21ff7(_0x26e805['_children'][_0x28d1f2]);};_0xc21ff7(_0x1be675);}set['animation'](_0x312f5e){this['_animation']=_0x312f5e,this['currentTim'+'e']=0x89*0x2e+0x13*-0x1c6+0x914*0x1;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x155c0d){this['_time']=_0x155c0d;const _0x55fdcd=this['_interpola'+'tedKeys']['length'];for(let _0x3236ad=0x22a3+-0x383*-0x1+0x1313*-0x2;_0x3236ad<_0x55fdcd;_0x3236ad++){const _0x339704=this['_interpola'+'tedKeys'][_0x3236ad]['_name'];this['_currKeyIn'+'dices'][_0x339704]=0x8*0x23b+-0x1d1f+-0xb47*-0x1;}this['addTime'](0x2524+-0x1*0x2b6+-0x226e),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x308dad){if(this['_animation']!==null){const _0x206c32=this['_animation']['_nodes'],_0x225c84=this['_animation']['duration'];if(this['_time']===_0x225c84&&!this['looping'])return;if(this['_time']+=_0x308dad,this['_time']>_0x225c84){this['_time']=this['looping']?-0x6dd*-0x2+-0xd*0x22c+-0x6*-0x26b:_0x225c84;for(let _0x5724c8=-0x66+-0x5*-0x10d+-0x4db;_0x5724c8<_0x206c32['length'];_0x5724c8++){const _0x2566e9=_0x206c32[_0x5724c8]['_name'];this['_currKeyIn'+'dices'][_0x2566e9]=0x47f+-0x9*-0x25e+-0x1*0x19cd;}}else{if(this['_time']<-0xc29+0xbf9+0x30){this['_time']=this['looping']?_0x225c84:-0x7*0x4d2+0x7*-0x1e1+0x2ee5;for(let _0x1537c5=0x2*-0xf3d+0x116c+0xd0e;_0x1537c5<_0x206c32['length'];_0x1537c5++){const _0x3f729c=_0x206c32[_0x1537c5],_0x456ff3=_0x3f729c['_name'];this['_currKeyIn'+'dices'][_0x456ff3]=_0x3f729c['_keys']['length']-(0x1a6a+-0x61+-0x1*0x1a07);}}}const _0x5a3846=_0x308dad>=0xa03*-0x1+0x3f*0x5f+0x1d*-0x76?0x279+-0x174+-0x34*0x5:-(-0x133c+-0x20*0xe3+0x2f9d*0x1);for(let _0x3927b1=0x2581*0x1+0x1*0x10f3+-0x3674;_0x3927b1<_0x206c32['length'];_0x3927b1++){const _0x48a369=_0x206c32[_0x3927b1],_0x59f291=_0x48a369['_name'],_0x5f42c9=_0x48a369['_keys'],_0x162772=this['_interpola'+'tedKeyDict'][_0x59f291];if(_0x162772===void(-0xf2c+-0x1b00+-0x4*-0xa8b)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x59f291);continue;}let _0x464b04=!(-0x1174+-0x2*-0xdc1+-0xa0d);if(_0x5f42c9['length']!==-0x1423+0x5*0x8b+0x3*0x5cf)for(let _0x48d73a=this['_currKeyIn'+'dices'][_0x59f291];_0x48d73a<_0x5f42c9['length']-(-0xd22*-0x2+-0xb5c+-0xee7)&&_0x48d73a>=0x161c+-0x359*-0x1+0x1*-0x1975;_0x48d73a+=_0x5a3846){const _0x365aa8=_0x5f42c9[_0x48d73a],_0x1e0cc3=_0x5f42c9[_0x48d73a+(0x2547*-0x1+-0x2*-0x4bd+0x2*0xde7)];if(_0x365aa8['time']<=this['_time']&&_0x1e0cc3['time']>=this['_time']){const _0x1d4991=(this['_time']-_0x365aa8['time'])/(_0x1e0cc3['time']-_0x365aa8['time']);_0x162772['_pos']['lerp'](_0x365aa8['position'],_0x1e0cc3['position'],_0x1d4991),_0x162772['_quat']['slerp'](_0x365aa8['rotation'],_0x1e0cc3['rotation'],_0x1d4991),_0x162772['_scale']['lerp'](_0x365aa8['scale'],_0x1e0cc3['scale'],_0x1d4991),_0x162772['_written']=!(0x15f2*-0x1+0x427*0x4+0x556),this['_currKeyIn'+'dices'][_0x59f291]=_0x48d73a,_0x464b04=!(0x1000+0xb5a+-0x30a*0x9);break;}}(_0x5f42c9['length']===0x182+-0x1*-0x2635+0x1a*-0x187||!_0x464b04&&this['_time']===0x1*-0x946+0x1*0xf9d+-0x21d*0x3&&this['looping'])&&(_0x162772['_pos']['copy'](_0x5f42c9[0x7b1*-0x4+0x1140+0xd84]['position']),_0x162772['_quat']['copy'](_0x5f42c9[-0x2285+-0xe57+-0xec*-0x35]['rotation']),_0x162772['_scale']['copy'](_0x5f42c9[-0x2*0xf29+-0xf15+-0x2d67*-0x1]['scale']),_0x162772['_written']=!(-0x1*0xa6d+-0x4*0x62+0x1*0xbf5));}}}['blend'](_0x17c3d0,_0x7408d3,_0x111da0){const _0x4a3a59=this['_interpola'+'tedKeys']['length'];for(let _0x5014c4=0x133f+-0x247f+-0x4*-0x450;_0x5014c4<_0x4a3a59;_0x5014c4++){const _0x56c2be=_0x17c3d0['_interpola'+'tedKeys'][_0x5014c4],_0x426e54=_0x7408d3['_interpola'+'tedKeys'][_0x5014c4],_0x472e5e=this['_interpola'+'tedKeys'][_0x5014c4];_0x56c2be['_written']&&_0x426e54['_written']?(_0x472e5e['_quat']['slerp'](_0x56c2be['_quat'],_0x7408d3['_interpola'+'tedKeys'][_0x5014c4]['_quat'],_0x111da0),_0x472e5e['_pos']['lerp'](_0x56c2be['_pos'],_0x7408d3['_interpola'+'tedKeys'][_0x5014c4]['_pos'],_0x111da0),_0x472e5e['_scale']['lerp'](_0x56c2be['_scale'],_0x426e54['_scale'],_0x111da0),_0x472e5e['_written']=!(0x1326+0x1*-0xb18+-0x407*0x2)):_0x56c2be['_written']?(_0x472e5e['_quat']['copy'](_0x56c2be['_quat']),_0x472e5e['_pos']['copy'](_0x56c2be['_pos']),_0x472e5e['_scale']['copy'](_0x56c2be['_scale']),_0x472e5e['_written']=!(0x3*-0x13f+0x3e*-0x47+0x14ef)):_0x426e54['_written']&&(_0x472e5e['_quat']['copy'](_0x426e54['_quat']),_0x472e5e['_pos']['copy'](_0x426e54['_pos']),_0x472e5e['_scale']['copy'](_0x426e54['_scale']),_0x472e5e['_written']=!(0x1827+0xa21*0x2+-0x2c69));}}['setGraph'](_0x5f2af6){if(this['graph']=_0x5f2af6,_0x5f2af6)for(let _0x16b1b4=-0x2f*0x25+0x1*-0x1c37+-0x1181*-0x2;_0x16b1b4<this['_interpola'+'tedKeys']['length'];_0x16b1b4++){const _0x1b021e=this['_interpola'+'tedKeys'][_0x16b1b4],_0x15223c=_0x5f2af6['findByName'](_0x1b021e['_name']);this['_interpola'+'tedKeys'][_0x16b1b4]['setTarget'](_0x15223c);}else{for(let _0x154f5e=-0x8f*-0x1e+0x1a83+-0x2b45;_0x154f5e<this['_interpola'+'tedKeys']['length'];_0x154f5e++)this['_interpola'+'tedKeys'][_0x154f5e]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x460083=-0x1*-0x2467+0x1fc7+-0x442e;_0x460083<this['_interpola'+'tedKeys']['length'];_0x460083++){const _0x4ab819=this['_interpola'+'tedKeys'][_0x460083];if(_0x4ab819['_written']){const _0x124783=_0x4ab819['getTarget']();_0x124783['localPosit'+'ion']['copy'](_0x4ab819['_pos']),_0x124783['localRotat'+'ion']['copy'](_0x4ab819['_quat']),_0x124783['localScale']['copy'](_0x4ab819['_scale']),_0x124783['_dirtyLoca'+'l']||_0x124783['_dirtifyLo'+'cal'](),_0x4ab819['_written']=!(-0x1*0xc75+-0xc57*0x1+-0x38b*-0x7);}}}}const zs=(-0x2298+0x1*0xf68+0x1334)/(-0x1e0f+-0x2*0xb0+-0x1faf*-0x1),si=-0x1569+-0xa*0x272+0x2dde-zs*(0xc29*0x1+-0x2671+-0xa*-0x2a1);class gm extends Ta{constructor(_0x4e29e1,_0x40b99c,_0x4861fd,_0x10d7b9,_0x1af6f1,_0x22ab7e){super();const _0x1533aa=new D(),_0x2f5f1d=new D(),_0x1edac3=new D(),_0x3784bb=new D(),_0x55f744=new D(),_0x4498d7=new D(),_0x3047e0=[],_0x54bc5b=[],_0x4f7680=[],_0x52ff2e=[],_0x25c8a0=[];let _0x312089;if(_0x4861fd>-0x376*-0x4+0xb0a+0x1c7*-0xe){for(let _0x3390e1=-0x1a08*-0x1+0x6d0*-0x1+-0x1338;_0x3390e1<=_0x10d7b9;_0x3390e1++)for(let _0x47dbe3=-0x10b+0x1*-0x122c+0x1337;_0x47dbe3<=_0x1af6f1;_0x47dbe3++){const _0x3648be=_0x47dbe3/_0x1af6f1*(0x3cd+-0x22ae+0x1*0x1ee3)*Math['PI']-Math['PI'],_0x26bc0c=Math['sin'](_0x3648be),_0x3f1838=Math['cos'](_0x3648be);_0x55f744['set'](_0x26bc0c*_0x4e29e1,-_0x4861fd/(-0x48d+-0x2*-0x85d+-0xc2b),_0x3f1838*_0x4e29e1),_0x3784bb['set'](_0x26bc0c*_0x40b99c,_0x4861fd/(0x180f+0x4ec+-0x1cf9),_0x3f1838*_0x40b99c),_0x1533aa['lerp'](_0x55f744,_0x3784bb,_0x3390e1/_0x10d7b9),_0x2f5f1d['sub2'](_0x3784bb,_0x55f744)['normalize'](),_0x4498d7['set'](_0x3f1838,0x430+0x1ff6*0x1+0x1*-0x2426,-_0x26bc0c),_0x1edac3['cross'](_0x4498d7,_0x2f5f1d)['normalize'](),_0x3047e0['push'](_0x1533aa['x'],_0x1533aa['y'],_0x1533aa['z']),_0x54bc5b['push'](_0x1edac3['x'],_0x1edac3['y'],_0x1edac3['z']);let _0x4c56de=_0x47dbe3/_0x1af6f1,_0x45d4c2=_0x3390e1/_0x10d7b9;_0x4f7680['push'](_0x4c56de,-0x1*-0x112+-0x1*-0xe19+-0xf2a*0x1-_0x45d4c2);const _0x2fb97f=_0x45d4c2;if(_0x45d4c2=_0x4c56de,_0x4c56de=_0x2fb97f,_0x4c56de=_0x4c56de*si+zs,_0x45d4c2=_0x45d4c2*si+zs,_0x4c56de/=-0x3*0x6e3+-0x1b57+0x3003*0x1,_0x52ff2e['push'](_0x4c56de,0x83*0x35+-0x1a10+-0x10e-_0x45d4c2),_0x3390e1<_0x10d7b9&&_0x47dbe3<_0x1af6f1){const _0x452982=_0x3390e1*(_0x1af6f1+(-0x1*0x2329+0x1060+0x12ca))+_0x47dbe3,_0x45aea7=_0x3390e1*(_0x1af6f1+(0x7*-0x232+-0xa3d+0x199c))+(_0x47dbe3+(-0x121b+0x19c+0x1080)),_0x2c24f1=(_0x3390e1+(-0x1e61+0x161*0x7+0x14bb))*(_0x1af6f1+(0x1*0x6fb+0x1477+-0x1b71))+_0x47dbe3,_0x430001=(_0x3390e1+(0x38c+0xcd1+-0x105c))*(_0x1af6f1+(0x821+-0x1c0f+-0x15*-0xf3))+(_0x47dbe3+(-0xb06+-0x1*-0x1079+-0x572));_0x25c8a0['push'](_0x452982,_0x45aea7,_0x2c24f1),_0x25c8a0['push'](_0x45aea7,_0x430001,_0x2c24f1);}}}if(_0x22ab7e){const _0x43f490=Math['floor'](_0x1af6f1/(0xfd9*-0x1+0x1b22+0xb47*-0x1)),_0x4a2b9e=_0x1af6f1,_0x193e70=_0x4861fd/(-0x2565+-0x8b1+0x8*0x5c3);for(let _0x3dae83=-0x46*0x5f+-0x1b8b*0x1+0x3*0x11d7;_0x3dae83<=_0x43f490;_0x3dae83++){const _0x463040=_0x3dae83*Math['PI']*(0xbe0+0xe93*0x2+-0x2906+0.5)/_0x43f490,_0xe25097=Math['sin'](_0x463040),_0x4af7d9=Math['cos'](_0x463040);for(let _0x547d9a=-0x164a+-0x1*-0xa88+-0x46*-0x2b;_0x547d9a<=_0x4a2b9e;_0x547d9a++){const _0x5dffc0=_0x547d9a*(-0xe31+-0x1*-0x11d4+-0x3a1)*Math['PI']/_0x4a2b9e-Math['PI']/(0x15c9*-0x1+-0x116f*-0x2+-0xd13),_0x2461f6=Math['sin'](_0x5dffc0),_0x596995=Math['cos'](_0x5dffc0)*_0xe25097,_0x58ec12=_0x4af7d9,_0x3c0a49=_0x2461f6*_0xe25097;let _0x12754d=0x156c+0x795+-0x20*0xe8-_0x547d9a/_0x4a2b9e,_0x3941d6=-0xb*0x1fa+0x324*0x5+0x1*0x60b-_0x3dae83/_0x43f490;_0x3047e0['push'](_0x596995*_0x40b99c,_0x58ec12*_0x40b99c+_0x193e70,_0x3c0a49*_0x40b99c),_0x54bc5b['push'](_0x596995,_0x58ec12,_0x3c0a49),_0x4f7680['push'](_0x12754d,0x4*-0x2a+-0x23*0x95+0x1508-_0x3941d6),_0x12754d=_0x12754d*si+zs,_0x3941d6=_0x3941d6*si+zs,_0x12754d/=0x15c2*0x1+0x2b9*0x3+-0x1dea,_0x3941d6/=0x1*-0x16bd+0xa6e+0xa6*0x13,_0x12754d+=(0x2b*-0x1+0x5*-0x767+0x252f)/(0x1b36+-0x2659*-0x1+-0x418c),_0x52ff2e['push'](_0x12754d,0xd33+0x80d*-0x3+0xaf5-_0x3941d6);}}_0x312089=(_0x10d7b9+(-0xc6*-0x8+0x8a*-0x47+0x5*0x66b))*(_0x1af6f1+(-0x127d+0x1d3*-0x6+0x1d70));for(let _0x121ef5=-0x13ca+-0x1eff+0x1*0x32c9;_0x121ef5<_0x43f490;++_0x121ef5)for(let _0x4ed904=0x1d*0x11a+0x18f9*-0x1+0x1*-0x6f9;_0x4ed904<_0x4a2b9e;++_0x4ed904){const _0x49d360=_0x121ef5*(_0x4a2b9e+(0xee5+-0x1*0x1d24+0xe40))+_0x4ed904,_0x4b8ef4=_0x49d360+_0x4a2b9e+(-0x9d*-0x36+-0x1191+-0xf8c);_0x25c8a0['push'](_0x312089+_0x49d360+(0x77c*0x3+0x1*0x148f+0x1581*-0x2),_0x312089+_0x4b8ef4,_0x312089+_0x49d360),_0x25c8a0['push'](_0x312089+_0x49d360+(-0x1eca+0x1434+-0xa97*-0x1),_0x312089+_0x4b8ef4+(0x2*-0xfd6+-0x170*-0x17+-0x47*0x5),_0x312089+_0x4b8ef4);}for(let _0x5eaac0=-0x45*-0xe+-0x265*-0x7+-0x1489*0x1;_0x5eaac0<=_0x43f490;_0x5eaac0++){const _0xc50296=Math['PI']*(0x13*-0x1a3+0x1d59+-0x70*-0x4+0.5)+_0x5eaac0*Math['PI']*(-0x1*-0x14bb+-0x2c*-0xc2+-0x3613+0.5)/_0x43f490,_0xe3df1e=Math['sin'](_0xc50296),_0x36a68a=Math['cos'](_0xc50296);for(let _0x138c2b=0xb44+-0x425+0x71f*-0x1;_0x138c2b<=_0x4a2b9e;_0x138c2b++){const _0x2532e1=_0x138c2b*(0x1973+-0x1a67+0xf6)*Math['PI']/_0x4a2b9e-Math['PI']/(0x9fb*-0x1+-0x43*0x35+0x17dc),_0x578f20=Math['sin'](_0x2532e1),_0x6996d2=Math['cos'](_0x2532e1)*_0xe3df1e,_0xb2cd6d=_0x36a68a,_0x227f91=_0x578f20*_0xe3df1e;let _0x18593a=-0x54f*-0x3+-0x31f+0x1*-0xccd-_0x138c2b/_0x4a2b9e,_0x3601c2=-0x73*0x4d+0x2*-0x12b3+-0x733*-0xa-_0x5eaac0/_0x43f490;_0x3047e0['push'](_0x6996d2*_0x40b99c,_0xb2cd6d*_0x40b99c-_0x193e70,_0x227f91*_0x40b99c),_0x54bc5b['push'](_0x6996d2,_0xb2cd6d,_0x227f91),_0x4f7680['push'](_0x18593a,-0x1*0x71f+0x17ba+-0x109a-_0x3601c2),_0x18593a=_0x18593a*si+zs,_0x3601c2=_0x3601c2*si+zs,_0x18593a/=-0x2544+-0x1*-0x12b+0x241c,_0x3601c2/=0x2*-0xf54+-0x25b7+0x4462,_0x18593a+=(-0xcb4+0x120+0xb96)/(-0x36e+-0x5ab+0x91c),_0x52ff2e['push'](_0x18593a,0xd*-0x3c+0x7a3*0x3+-0x2*0x9ee-_0x3601c2);}}_0x312089=(_0x10d7b9+(0x2477+-0x2269+-0x20d))*(_0x1af6f1+(-0x248b+0x8*-0x2dd+0x3b74))+(_0x4a2b9e+(0x1c89*-0x1+0x3be*0x7+-0x28*-0xf))*(_0x43f490+(-0x1f74+-0x1a41+0x59*0xa6));for(let _0x5dfe11=-0x1e9+-0x2db*-0x2+-0x8b*0x7;_0x5dfe11<_0x43f490;++_0x5dfe11)for(let _0xb55dcc=-0x1aa5+0x208e+-0x5e9;_0xb55dcc<_0x4a2b9e;++_0xb55dcc){const _0xe9b6dd=_0x5dfe11*(_0x4a2b9e+(-0x13a*-0x1a+0x1ddd+-0x3dc0))+_0xb55dcc,_0x168aed=_0xe9b6dd+_0x4a2b9e+(-0x9*-0x42d+0xf1b+0x1*-0x34af);_0x25c8a0['push'](_0x312089+_0xe9b6dd+(0xf31+0x13*-0x26+-0xc5e),_0x312089+_0x168aed,_0x312089+_0xe9b6dd),_0x25c8a0['push'](_0x312089+_0xe9b6dd+(-0x686+0x343+-0x2c*-0x13),_0x312089+_0x168aed+(0x4*0x160+0x237+-0x7b6),_0x312089+_0x168aed);}}else{if(_0x312089=(_0x10d7b9+(-0x19ba+0x339*-0x1+-0x11*-0x1b4))*(_0x1af6f1+(0xed9+-0x5*0x66f+-0x1153*-0x1)),_0x4e29e1>0xb9c+0x245f*0x1+0x47*-0xad)for(let _0x3f9169=0x23*0xc7+-0x1113+-0xa22;_0x3f9169<_0x1af6f1;_0x3f9169++){const _0x17770c=_0x3f9169/_0x1af6f1*(-0x6a5*-0x4+-0x11ae*0x1+-0x239*0x4)*Math['PI'],_0x2d672b=Math['sin'](_0x17770c),_0x28396e=-_0x4861fd/(-0x146*-0x11+0x899*0x2+-0x26d6),_0x309c12=Math['cos'](_0x17770c);let _0x59d90b=0x6d*-0x3b+-0xef5+-0x14b*-0x1f-(_0x2d672b+(-0x12fd+0x113e*0x2+-0xf7e))/(-0x83*-0x1a+-0x751*0x1+0x1*-0x5fb),_0x573a6f=(_0x309c12+(-0x211b+0x7*0xcb+0x1b8f))/(-0x1d56+-0x58*0x5+-0xf88*-0x2);_0x3047e0['push'](_0x2d672b*_0x4e29e1,_0x28396e,_0x309c12*_0x4e29e1),_0x54bc5b['push'](-0x1a07+-0x4*-0x875+-0x7cd*0x1,-(-0x4b1*0x5+-0x2639+0x3daf),-0x1217+0x538+0xcdf),_0x4f7680['push'](_0x59d90b,0x1*-0xdf1+0xc19+0x1d9-_0x573a6f),_0x59d90b=_0x59d90b*si+zs,_0x573a6f=_0x573a6f*si+zs,_0x59d90b/=-0x3*-0x9d9+0x2aa*-0x5+0x81b*-0x2,_0x573a6f/=0x9a+-0x1e7+0x150,_0x59d90b+=(0x17c2+-0x2481+0xcc0)/(0x7a8+-0x1e59+-0x4*-0x5ad),_0x52ff2e['push'](_0x59d90b,0x2*-0x35d+0x20f1+-0x29f*0xa-_0x573a6f),_0x3f9169>-0x26*0x39+0x18db+-0x1064&&_0x25c8a0['push'](_0x312089,_0x312089+_0x3f9169,_0x312089+_0x3f9169-(-0x1cd*-0x1+0x17d8+-0x669*0x4));}if(_0x312089+=_0x1af6f1,_0x40b99c>0x1e11*0x1+0x2154+-0x1*0x3f65)for(let _0xad8fa4=0x78*-0x42+-0x2546+0x221b*0x2;_0xad8fa4<_0x1af6f1;_0xad8fa4++){const _0x45288c=_0xad8fa4/_0x1af6f1*(0x211c+-0x1b35+-0x1*0x5e5)*Math['PI'],_0x4f231c=Math['sin'](_0x45288c),_0x2047e5=_0x4861fd/(-0x1df6*0x1+0x1*0x475+0x1983),_0x3d9217=Math['cos'](_0x45288c);let _0x4566f7=-0x883+-0x1afe+0x12f*0x1e-(_0x4f231c+(0x1c22*0x1+0x1e03+-0x3a24))/(0x241*-0x3+0x18*-0xe+-0x815*-0x1),_0x652087=(_0x3d9217+(-0x7bb*-0x5+-0xb64+-0x1b42))/(-0x65*0x19+0x15*-0x15e+0x583*0x7);_0x3047e0['push'](_0x4f231c*_0x40b99c,_0x2047e5,_0x3d9217*_0x40b99c),_0x54bc5b['push'](-0x24f8+-0x2332+0x482a,0x13*-0x1ef+-0x3*0x327+0x2e33,-0x3f+0x2343*-0x1+0x2382),_0x4f7680['push'](_0x4566f7,-0x1137+0x1a59+0x1*-0x921-_0x652087),_0x4566f7=_0x4566f7*si+zs,_0x652087=_0x652087*si+zs,_0x4566f7/=-0x2*0x127d+-0x9fe+0x39*0xd3,_0x652087/=-0xc79+0x1ab2+-0xe36,_0x4566f7+=(-0xc8e+-0xb*0x2dd+0x2c0f)/(0x2*-0x1044+0x1d63*0x1+0x328),_0x52ff2e['push'](_0x4566f7,0x560+-0x10*-0x259+0x17b*-0x1d-_0x652087),_0xad8fa4>0x408+-0x1a95+-0x2*-0xb47&&_0x25c8a0['push'](_0x312089,_0x312089+_0xad8fa4-(-0x527*0x3+-0x19*0x85+0x1c73*0x1),_0x312089+_0xad8fa4);}}this['positions']=_0x3047e0,this['normals']=_0x54bc5b,this['uvs']=_0x4f7680,this['uvs1']=_0x52ff2e,this['indices']=_0x25c8a0;}}class GA extends gm{constructor(_0x460f76={}){const _0x23542c=_0x460f76['radius']??0xe7e+0x2e*0x58+-0x50d*0x6+0.3,_0x4192f3=_0x460f76['height']??-0x60d+0xa88+0x47a*-0x1,_0x12de79=_0x460f76['heightSegm'+'ents']??-0xb05+0x211+-0x1*-0x8f5,_0x3124e7=_0x460f76['sides']??0x23e4+-0x23d8+-0x2*-0x4;super(_0x23542c,_0x23542c,_0x4192f3-(-0x2074+0x6d6+-0x20*-0xcd)*_0x23542c,_0x12de79,_0x3124e7,!(-0x20b5+-0x25f2+0x46a7)),_0x460f76['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x4f6b96={}){const _0x175ca3=_0x4f6b96['baseRadius']??-0x1ad1+0x2027*0x1+0x2*-0x2ab+0.5,_0x640b3a=_0x4f6b96['peakRadius']??0x1*0xd17+0x29*-0x7+-0xbf8,_0x1f8b73=_0x4f6b96['height']??-0xdd7+-0x1*0x153d+-0x7*-0x503,_0x282e56=_0x4f6b96['heightSegm'+'ents']??0x19e7+-0x225+-0x17bd,_0x3e439b=_0x4f6b96['capSegment'+'s']??-0x135f+0x7a0+0xbd1;super(_0x175ca3,_0x640b3a,_0x1f8b73,_0x282e56,_0x3e439b,!(-0x1a14+0x1*-0x13d+0x1b52)),_0x4f6b96['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x24ee70={}){const _0x213dea=_0x24ee70['radius']??-0x3*0x83e+0x13cb*-0x1+0x2c85+0.5,_0x4e13f2=_0x24ee70['height']??0x83*0x3f+0x9ad+-0x1*0x29e9,_0x4fb385=_0x24ee70['heightSegm'+'ents']??0x1336+-0xd40+-0x5f1,_0x396ea8=_0x24ee70['capSegment'+'s']??-0x101b+0x309+-0x693*-0x2;super(_0x213dea,_0x213dea,_0x4e13f2,_0x4fb385,_0x396ea8,!(-0x17*0xfb+-0x58a*0x1+0x1c18)),_0x24ee70['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x2d7a30={}){super();const _0x33c6ea=_0x2d7a30['halfExtent'+'s']??new J(-0x1fe*-0xb+0x3d*-0x45+-0x579+0.5,0x168b+-0x20ae+-0x3*-0x361+0.5),_0x5b2e3c=_0x2d7a30['widthSegme'+'nts']??-0x68a*0x1+0xd*0x272+-0x193b,_0x1d1c87=_0x2d7a30['lengthSegm'+'ents']??0x4*0x2dc+-0x16*0x15d+0x1293,_0x541cbf=[],_0x1cb0f4=[],_0x19133c=[],_0x68114=[];let _0x226071=0x2383*-0x1+-0x411*0x7+0x2*0x1ffd;for(let _0x49129f=-0x1b7f+0x123*0x7+-0x52*-0x3d;_0x49129f<=_0x5b2e3c;_0x49129f++)for(let _0x324950=0x0+-0x669+0x669;_0x324950<=_0x1d1c87;_0x324950++){const _0x1b2017=-_0x33c6ea['x']+(0x187c+0x1*-0x24a3+-0xc29*-0x1)*_0x33c6ea['x']*_0x49129f/_0x5b2e3c,_0x550c37=-0x19*-0x5+-0x19*0x16f+0x235a,_0x336211=-(-_0x33c6ea['y']+(-0x1ae*0x4+0x2679+-0x1fbf)*_0x33c6ea['y']*_0x324950/_0x1d1c87),_0x3ce016=_0x49129f/_0x5b2e3c,_0x15ca64=_0x324950/_0x1d1c87;_0x541cbf['push'](_0x1b2017,_0x550c37,_0x336211),_0x1cb0f4['push'](-0x2287*-0x1+0x1c81+-0x3f08,-0x1575+-0x1*0x2461+-0x473*-0xd,0xbdf+-0xd0*-0x25+0x863*-0x5),_0x19133c['push'](_0x3ce016,-0x18ae+0x3*0xc89+-0xcec-_0x15ca64),_0x49129f<_0x5b2e3c&&_0x324950<_0x1d1c87&&(_0x68114['push'](_0x226071+_0x1d1c87+(-0xa5*-0x13+0x92f+-0x156d),_0x226071+(0x1178+0x58d*0x1+-0x1704),_0x226071),_0x68114['push'](_0x226071+_0x1d1c87+(-0x1*0x2309+0x25cc+-0x2c2),_0x226071+_0x1d1c87+(0x16f2+-0x26f7+0x1007),_0x226071+(-0x108a+-0x119*-0x16+-0x79b))),_0x226071++;}this['positions']=_0x541cbf,this['normals']=_0x1cb0f4,this['uvs']=_0x19133c,this['uvs1']=_0x19133c,this['indices']=_0x68114,_0x2d7a30['calculateT'+'angents']&&(this['tangents']=Mr(_0x541cbf,_0x1cb0f4,_0x19133c,_0x68114));}}class XA extends Ta{constructor(_0x273a47={}){super();const _0x4539e7=_0x273a47['tubeRadius']??-0xe62+-0x1648+-0x1a*-0x169+0.2,_0x4cd83d=_0x273a47['ringRadius']??0xe9d+0x2*-0x2dd+-0x8e3+0.3,_0xf4674b=(_0x273a47['sectorAngl'+'e']??0x2*0x2c+-0x1917+0x1a27)*Y['DEG_TO_RAD'],_0x150b89=_0x273a47['segments']??0x3*-0x6aa+0x12cd+-0x43*-0x5,_0x229335=_0x273a47['sides']??-0x655*-0x2+-0x9c8+-0x2ce,_0x8c736d=[],_0x51ee05=[],_0x24858c=[],_0x524765=[];for(let _0x21d320=-0xd85+0xbb9*0x3+0x2*-0xad3;_0x21d320<=_0x229335;_0x21d320++)for(let _0x1726bf=-0xe38+-0x1994+-0xc*-0x351;_0x1726bf<=_0x150b89;_0x1726bf++){const _0x3c5024=Math['cos'](_0xf4674b*_0x1726bf/_0x150b89)*(_0x4cd83d+_0x4539e7*Math['cos']((-0x2b*-0xbf+0x1dff+0x1*-0x3e12)*Math['PI']*_0x21d320/_0x229335)),_0x25e3a0=Math['sin']((0x62*0x34+0xd8a+0xd6*-0x28)*Math['PI']*_0x21d320/_0x229335)*_0x4539e7,_0x2471bb=Math['sin'](_0xf4674b*_0x1726bf/_0x150b89)*(_0x4cd83d+_0x4539e7*Math['cos']((0x2029+-0xe2*0x2a+0xd*0x61)*Math['PI']*_0x21d320/_0x229335)),_0x564071=Math['cos'](_0xf4674b*_0x1726bf/_0x150b89)*Math['cos']((-0xacc+-0x210c+-0x2bda*-0x1)*Math['PI']*_0x21d320/_0x229335),_0x2225c5=Math['sin']((0x1861+-0x1e71+0x103*0x6)*Math['PI']*_0x21d320/_0x229335),_0x1b5035=Math['sin'](_0xf4674b*_0x1726bf/_0x150b89)*Math['cos']((0x2*-0x632+-0x1*0x4+0xc6a)*Math['PI']*_0x21d320/_0x229335),_0x2a6e19=_0x21d320/_0x229335,_0xb526bc=0x5*0x4bf+0x132f+-0x41*0xa9-_0x1726bf/_0x150b89;if(_0x8c736d['push'](_0x3c5024,_0x25e3a0,_0x2471bb),_0x51ee05['push'](_0x564071,_0x2225c5,_0x1b5035),_0x24858c['push'](_0x2a6e19,0x2301+0x2ae*-0x1+-0x2052-_0xb526bc),_0x21d320<_0x229335&&_0x1726bf<_0x150b89){const _0x1f09b5=_0x21d320*(_0x150b89+(0x7*0x13d+-0x16*0x12a+0x10f2))+_0x1726bf,_0x49feaf=(_0x21d320+(0x215f+0x2*0x2c5+-0x26e8))*(_0x150b89+(-0x17*-0x19f+-0x2*0x257+-0x209a))+_0x1726bf,_0x1412c5=_0x21d320*(_0x150b89+(0x113f*-0x1+0x5f0+0xb50))+(_0x1726bf+(-0x822*0x3+-0x80*-0x10+0x1067*0x1)),_0xe39ea4=(_0x21d320+(0x1*-0x1d93+-0x1c39+0x1*0x39cd))*(_0x150b89+(-0x1a41+-0x28f+0x1cd1))+(_0x1726bf+(-0xfa2+-0x1*0x5fb+0xacf*0x2));_0x524765['push'](_0x1f09b5,_0x49feaf,_0x1412c5),_0x524765['push'](_0x49feaf,_0xe39ea4,_0x1412c5);}}this['positions']=_0x8c736d,this['normals']=_0x51ee05,this['uvs']=_0x24858c,this['uvs1']=_0x24858c,this['indices']=_0x524765,_0x273a47['calculateT'+'angents']&&(this['tangents']=Mr(_0x8c736d,_0x51ee05,_0x24858c,_0x524765));}}class qA{constructor(_0x478f06,_0x23d68f){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x478f06,this['_isClearin'+'gCache']=!(0x958+-0x2550+-0x1*-0x1bf9),this['_precached']=!(0xd5*0x25+0x1*0x2543+-0x440b),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x764318=new vv();_0x23d68f['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x764318,_0x23d68f,null,[],Aa,null),_0x23d68f['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x23d68f,null,cm,null),_0x478f06['on']('destroy:sh'+'ader',_0x2fd800=>{this['removeFrom'+'Cache'](_0x2fd800);});}['destroy'](){this['clearCache']();}['register'](_0xb29354,_0x146450){this['_generator'+'s']['has'](_0xb29354)||this['_generator'+'s']['set'](_0xb29354,_0x146450);}['unregister'](_0x46284a){this['_generator'+'s']['has'](_0x46284a)&&this['_generator'+'s']['delete'](_0x46284a);}['isRegister'+'ed'](_0x17b793){return this['_generator'+'s']['has'](_0x17b793);}['generateSh'+'aderDefini'+'tion'](_0x3cafd2,_0xbba23e,_0xc20270,_0x2b2ab0){var _0x1a5377,_0x2202df;let _0x3fc534=this['definition'+'sCache']['get'](_0xc20270);if(!_0x3fc534){let _0x408632;(_0x1a5377=_0x2b2ab0['litOptions'])!=null&&_0x1a5377['lights']&&(_0x408632=_0x2b2ab0['litOptions']['lights'],_0x2b2ab0['litOptions']['lights']=_0x408632['map'](_0x51ee69=>{const _0x5099be=_0x51ee69['clone']?_0x51ee69['clone']():_0x51ee69;return _0x5099be['key']=_0x51ee69['key'],_0x5099be;})),this['storeNewPr'+'ogram'](_0xbba23e,_0x2b2ab0),(_0x2202df=_0x2b2ab0['litOptions'])!=null&&_0x2202df['lights']&&(_0x2b2ab0['litOptions']['lights']=_0x408632),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0xbba23e+'\x20key\x20'+_0xc20270+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3aa711=this['_device'];_0x3fc534=_0x3cafd2['createShad'+'erDefiniti'+'on'](_0x3aa711,_0x2b2ab0),_0x3fc534['name']=_0x3fc534['name']??(_0x2b2ab0['pass']?_0xbba23e+'-pass:'+_0x2b2ab0['pass']:_0xbba23e),this['definition'+'sCache']['set'](_0xc20270,_0x3fc534);}return _0x3fc534;}['getCachedS'+'hader'](_0xf09f49){return this['processedC'+'ache']['get'](_0xf09f49);}['setCachedS'+'hader'](_0x37f41c,_0x51a9e1){this['processedC'+'ache']['set'](_0x37f41c,_0x51a9e1);}['getProgram'](_0x49e132,_0x20802b,_0x59dd40,_0x15cc85){const _0x5cc7a2=this['_generator'+'s']['get'](_0x49e132);if(!_0x5cc7a2)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x49e132),null;const _0x55aa90=_0x5cc7a2['generateKe'+'y'](_0x20802b),_0x3476e2=hi(_0x55aa90),_0x1ea968=_0x59dd40['generateKe'+'y'](this['_device']),_0x452928=hi(_0x1ea968),_0x527920=_0x3476e2+'#'+_0x452928;let _0x5664a0=this['getCachedS'+'hader'](_0x527920);if(!_0x5664a0){const _0x5769bb=this['generateSh'+'aderDefini'+'tion'](_0x5cc7a2,_0x49e132,_0x3476e2,_0x20802b);w['assert'](_0x5769bb);let _0x5147b5='',_0x12d98d;_0x20802b['pass']!==void(-0x2567+0x174e*-0x1+0x1*0x3cb5)&&(_0x12d98d=Si['get'](this['_device'])['getByIndex'](_0x20802b['pass']),_0x5147b5='-'+_0x12d98d['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x15cc85,'shaderPassInfo':_0x12d98d,'definition':_0x5769bb});const _0x33b4f4={'name':''+_0x5769bb['name']+_0x5147b5+'-proc','attributes':_0x5769bb['attributes'],'vshader':_0x5769bb['vshader'],'vincludes':_0x5769bb['vincludes'],'fincludes':_0x5769bb['fincludes'],'fshader':_0x5769bb['fshader'],'processingOptions':_0x59dd40,'shaderLanguage':_0x5769bb['shaderLang'+'uage'],'meshUniformBufferFormat':_0x5769bb['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5769bb['meshBindGr'+'oupFormat']};_0x5664a0=new qy(this['_device'],_0x33b4f4),w['call'](()=>{_0x5664a0['_generatio'+'nKey']=_0x55aa90,_0x5664a0['_processin'+'gKey']=_0x1ea968;}),this['setCachedS'+'hader'](_0x527920,_0x5664a0);}return _0x5664a0;}['storeNewPr'+'ogram'](_0x49630e,_0x10db45){let _0x4f0518={};if(_0x49630e==='standard'){const _0x1130b6=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x10db45['pass']);for(const _0x41f160 in _0x10db45)(_0x10db45['hasOwnProp'+'erty'](_0x41f160)&&_0x1130b6[_0x41f160]!==_0x10db45[_0x41f160]||_0x41f160==='pass')&&(_0x4f0518[_0x41f160]=_0x10db45[_0x41f160]);for(const _0x1a07a0 in _0x10db45['litOptions'])_0x4f0518[_0x1a07a0]=_0x10db45['litOptions'][_0x1a07a0];}else _0x4f0518=_0x10db45;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x49630e,'options':_0x4f0518}));}['dumpProgra'+'ms'](){let _0xa91d4d='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0xa91d4d+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0xbfd+-0xb50+0x174d]&&(_0xa91d4d+='\x0a\x09'+this['_programsC'+'ollection'][0x243+-0x164e+0x1*0x140b]);for(let _0x2655f9=-0x1624+-0x1cd*-0xe+0x311*-0x1;_0x2655f9<this['_programsC'+'ollection']['length'];++_0x2655f9)_0xa91d4d+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2655f9];_0xa91d4d+='\x0a];\x0a',_0xa91d4d+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0xa91d4d+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0xa91d4d+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x4d9b32=document['createElem'+'ent']('a');_0x4d9b32['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0xa91d4d)),_0x4d9b32['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x4d9b32['style']['display']='none',document['body']['appendChil'+'d'](_0x4d9b32),_0x4d9b32['click'](),document['body']['removeChil'+'d'](_0x4d9b32);}['clearCache'](){this['_isClearin'+'gCache']=!(0x15fb+0x5ef+0x4a7*-0x6),this['processedC'+'ache']['forEach'](_0x4baabe=>{_0x4baabe['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x943*-0x3+0x191f+-0x2ab*-0x1);}['removeFrom'+'Cache'](_0x4e0e3f){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x291683,_0x59ae16)=>{_0x4e0e3f===_0x291683&&this['processedC'+'ache']['delete'](_0x59ae16);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xa83f62){const _0x54a2fb=Si['get'](this['_device'])['getByIndex'](_0xa83f62);return _0xa83f62===Zn||_0xa83f62===Rl||_0x54a2fb['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x1fe284){if(_0x1fe284){const _0x1529db=new Array(_0x1fe284['length']);for(let _0x268b46=-0xb0a+-0x2701+-0x17*-0x22d;_0x268b46<_0x1fe284['length'];_0x268b46++){if(_0x1fe284[_0x268b46]['name']==='standard'){const _0x9fa749=_0x1fe284[_0x268b46]['options'],_0x506317=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x9fa749['pass']);for(const _0x496166 in _0x506317)_0x506317['hasOwnProp'+'erty'](_0x496166)&&_0x9fa749[_0x496166]===void(-0x66*0x22+0x56*0x43+-0x4a*0x1f)&&(_0x9fa749[_0x496166]=_0x506317[_0x496166]);}_0x1529db[_0x268b46]=this['getProgram'](_0x1fe284[_0x268b46]['name'],_0x1fe284[_0x268b46]['options']);}}this['_precached']=!(0x2009+0x2349+-0x4352);}}async function jA(){const _0x2e7562=new Float32Array(0x1c1*-0x3+-0x5ac+0xaf*0x10),_0x56445c=new Int32Array(_0x2e7562['buffer']);let _0xf3cdaa=-0xa5*0x3b+0x854+0x1db3,_0x1b799b={};self['onmessage']=async _0x205c46=>{const {data:_0x5aca9c}=_0x205c46;switch(_0x5aca9c['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x2ca6db(_0x5aca9c['properties'],_0x5aca9c['timeIndex'],_0x5aca9c['timeOption']);break;case'releaseSeq'+'Data':_0x5b04ab(_0x5aca9c['index']);break;case'releaseAll'+'SeqData':_0x1eeda1();break;case'destroyWor'+'ker':_0x5eab6e();break;}};class _0x4e19a1{constructor(_0x9f5f2d=-0x1849*0x1+-0x1490+0x2cd9,_0x27f8f4=-0xe07+0x10eb*-0x1+0x22*0xe9,_0x4d1a73=0x287*0x3+-0x13fc+0xc67,_0x2ce5e7=-0x2685+-0x44*0x83+0xeaa*0x5){this['x']=_0x9f5f2d,this['y']=_0x27f8f4,this['z']=_0x4d1a73,this['w']=_0x2ce5e7;}['set'](_0x5bb4bc,_0xacd110,_0x32d8af,_0x107bf4){return this['x']=_0x5bb4bc,this['y']=_0xacd110,this['z']=_0x32d8af,this['w']=_0x107bf4,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x5725a1=this){let _0x1993b7=_0x5725a1['length']();return _0x1993b7===0x1aa*-0x6+-0xafc+0x4*0x53e?(this['x']=this['y']=this['z']=0x1*-0x1cfd+-0x37*-0x25+0x2*0xa85,this['w']=0x6fb*0x3+-0x3*-0x8d3+-0x2f69):(_0x1993b7=(-0x9*0xf1+-0x10c+0x986)/_0x1993b7,this['x']=_0x5725a1['x']*_0x1993b7,this['y']=_0x5725a1['y']*_0x1993b7,this['z']=_0x5725a1['z']*_0x1993b7,this['w']=_0x5725a1['w']*_0x1993b7),this;}['mulScalar'](_0x2d0a96,_0x21170e=this){return this['x']=_0x21170e['x']*_0x2d0a96,this['y']=_0x21170e['y']*_0x2d0a96,this['z']=_0x21170e['z']*_0x2d0a96,this['w']=_0x21170e['w']*_0x2d0a96,this;}}const _0x56bc64=_0x5d0ff7=>{_0x2e7562[-0x1e73+-0x1*-0xb11+0x1362]=_0x5d0ff7;const _0x3cd24=_0x56445c[-0x20c+0x1310+-0x1104];let _0x1ae7da=_0x3cd24>>0xe*0x21+0x37*0x5f+0x35*-0x6b&0xfa1a+-0x1*0xad5f+0x36b*0xf,_0x1373ce=_0x3cd24>>-0xfc0+0x78f+0x83d&0x1e*-0x14b+0x2*0x63f+0x224b;const _0x2a3897=_0x3cd24>>0x2157*-0x1+-0x826+0x2994&-0x9*0x35d+0x5*-0x35+-0x204d*-0x1;return _0x2a3897<0x24b0*0x1+-0xbe2+0x1867*-0x1?_0x1ae7da:_0x2a3897>0x1648+-0x8fa+-0x11*0xc0?(_0x1ae7da|=-0xf7ba+-0x2*-0x4723+0xe574,_0x1ae7da|=(_0x2a3897===-0xad*-0x14+0x2529+0x1*-0x31ae?-0x331+-0x745*0x3+0x190*0x10:-0x2*-0x26f+-0x2003+-0x8b*-0x32)&&_0x3cd24&-0x3e0a5c+-0x92274f+-0x70108e*-0x3,_0x1ae7da):_0x2a3897<0xd3b+-0x2125+0x3*0x6c9?(_0x1373ce|=0x1c2d*0x1+-0x1977+0x1*0x54a,_0x1ae7da|=(_0x1373ce>>-0x2c0+0x3a6+-0x74-_0x2a3897)+(_0x1373ce>>0x135e*0x2+0x11cb+-0x3816-_0x2a3897&-0x1af1+0xd37+0xdbb),_0x1ae7da):(_0x1ae7da|=_0x2a3897-(0x801+0xf*0x1bf+-0x21c2)<<-0x1bfa+0x123d+-0x9c7*-0x1|_0x1373ce>>-0x5*-0x4fd+-0x176e*0x1+-0x182,_0x1ae7da+=_0x1373ce&-0x3*-0xae7+0x1808+-0x38bc,_0x1ae7da);},_0x3dc6b0=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x19fac7=-0xb3f+-0x1725+0x8e*0x3e;_0x19fac7<0xf7c+-0x1d2f+-0x4a*-0x30;++_0x19fac7)if(!_0x1b799b['f_rest_'+_0x19fac7])return _0x19fac7;return 0x9d*0xa+0x11a1+-0x1796;})())]??-0x1a63+0xf9e+0xac5),_0x2ca6db=(_0x230e65,_0x848652,_0xef386f)=>{const _0x8dae1e=!!_0x230e65['time_index'];_0x8dae1e||(_0x230e65['time_index']=new Float32Array(-0x2af*-0xa+-0x11*-0x1ef+-0x5*0xbf1)),_0xf3cdaa+=_0x230e65['x']['length']??-0x1e1f*-0x1+-0x44d+0x52a*-0x5;const _0x54b86d=Object['keys'](_0x230e65);for(let _0x244d02=0x20e*-0x1+-0x15af*-0x1+-0x13a1;_0x244d02<_0x54b86d['length'];_0x244d02++){const _0x992128=_0x54b86d[_0x244d02],_0x33e857=_0x230e65[_0x992128],_0x4ebe03=_0x1b799b[_0x992128]??new Float32Array(0x77f*-0x5+-0xc77*0x1+0x31f2);if(!_0x8dae1e&&_0x992128==='time_index'){const _0x7c95b7=new Float32Array(_0xf3cdaa);_0x7c95b7['fill'](_0x848652),_0x7c95b7['set'](_0x4ebe03,-0x1c57+-0x10b1+-0x4*-0xb42),_0x1b799b[_0x992128]=_0x7c95b7;}else{if(!_0x8dae1e&&_0x33e857&&_0x992128==='t'){const _0x1ce725=new Float32Array(_0xf3cdaa);if(_0x1ce725['set'](_0x4ebe03,-0x1f5f+0x3ad*0x8+0x1f7),_0xef386f){for(let _0x307919=_0x4ebe03['length'];_0x307919<_0xf3cdaa;_0x307919++)_0x33e857[_0x307919-_0x4ebe03['length']]>-(-0xea+-0x24dd*-0x1+-0x3fe*0x9)?_0x1ce725[_0x307919]=_0x33e857[_0x307919-_0x4ebe03['length']]+_0xef386f[(0x5a0+0xa07+-0x321*0x5)*_0x848652]:_0x1ce725[_0x307919]=_0x33e857[_0x307919-_0x4ebe03['length']];}_0x1b799b[_0x992128]=_0x1ce725;}else{if(_0x33e857){const _0x46884a=new Float32Array(_0xf3cdaa);_0x46884a['set'](_0x4ebe03,-0xb*-0x1d3+0x277+-0xb44*0x2),_0x46884a['set'](_0x33e857,_0x4ebe03['length']),_0x1b799b[_0x992128]=_0x46884a;}}}}const _0x2a5d2b={};Object['keys'](_0x1b799b)['forEach'](_0x208316=>{_0x2a5d2b[_0x208316]=new Float32Array(_0x1b799b[_0x208316]['buffer']['slice']());});const _0x1a74de=Object['keys'](_0x2a5d2b)['map'](_0x1f2c00=>_0x2a5d2b[_0x1f2c00]['buffer']),_0x12316b=_0x20f1b4(),_0x44a73a=Object['keys'](_0x12316b)['map'](_0x2628eb=>_0x12316b[_0x2628eb]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x2a5d2b,'transformData':_0x12316b},_0x1a74de['concat'](_0x44a73a));},_0x20f1b4=()=>{const _0x284573=_0x1b799b['x']['length'],_0x165a9e=_0x1b799b['x'],_0x5e5048=_0x1b799b['y'],_0x10445e=_0x1b799b['z'],_0x13e914=_0x1b799b['scale_0'],_0x326ac4=_0x1b799b['scale_1'],_0x3977a4=_0x1b799b['scale_2'],_0x1a7406=_0x1b799b['rot_1'],_0x19e4da=_0x1b799b['rot_2'],_0x58d746=_0x1b799b['rot_3'],_0x31901c=_0x1b799b['rot_0'],_0x482767=_0x1b799b['motion_0'],_0x4b5553=_0x1b799b['motion_1'],_0x4b50da=_0x1b799b['motion_2'],_0x3e08ff=_0x1b799b['t'],_0x149b1e=_0x1b799b['t_scale'],_0x1de7e4=_0x1b799b['time_index'],_0x3a03e2=_0x1b799b['f_dc_0'],_0x17b9c3=_0x1b799b['f_dc_1'],_0x1cf877=_0x1b799b['f_dc_2'],_0x1798fa=_0x1b799b['opacity'],_0x5a2f09=(_0x3e08ff==null?void(-0xc*-0xfc+0xc1*-0x3+0x5*-0x1e9):_0x3e08ff['length'])>-0x1*-0x164f+0x2002+-0x3651,_0x5a1147=new Float32Array(_0x284573*(0x627+0x177*0xf+0x3*-0x95f)),_0x1482b6=new Float32Array(_0x284573*(-0x82a+0x953*-0x1+0x1180)),_0x373e64=new Uint16Array(_0x284573*(0x151d*-0x1+0x11c5+-0x1*-0x35b)),_0x213850=new Float32Array(_0x284573*(0x1950+0x1*-0x1d50+-0xd*-0x4f));let _0x1553ff=null,_0x569615=null,_0x59a4d3=null,_0xaae5e3=null;_0x5a2f09&&(_0x1553ff=new Float32Array(_0x284573*(0xda2+-0xc5b*-0x2+-0x2655)),_0x569615=new Float32Array(_0x284573*(0x31*0x6e+-0x16e8+0x1dd)),_0x59a4d3=new Float32Array(_0x284573*(-0x169*0x2+0x5*0x4b+0x15e)),_0xaae5e3=new Float32Array(_0x284573));const _0x5af232=new _0x4e19a1(0x1*0x1d61+0x66*0x1b+-0x2823,0x1b7*-0xb+0x1835+0x2ac*-0x2,-0x22b5+0x1256+0x105f,-0x174d+0x101+-0x164c*-0x1);let _0x50a420=0x3*-0x8b+0x7aa*0x1+-0x3*0x203,_0x5e6040=-0x2*0xf3a+0x995+-0x27*-0x89,_0x3fe2de=0x2370+0x10ca+-0x343a,_0x2a8a33=0x1760+0x1033+-0x2793,_0x46ad25=-0x1c3e+-0x1b73*-0x1+0xcb,_0x5cbf38=0x780+0x13e4+-0x1b64,_0x57e663=!(0x1d81+-0xbf6+0x9*-0x1f3);const _0x14e0f3=new Float32Array(-0x4e5*0x2+-0x16c2+0x208f),_0x4e23bd=new Float32Array(-0x25e5+0x9a3+0x1*0x1c45),_0x47dd78=new Uint16Array(_0x284573*(0xc7*-0x17+-0x191+-0x35*-0x5e)),_0x3e6b0f=-0xc7*0x5+0xcc0+-0x1*0x8dd+0.28209479177387814;for(let _0x2d5ef7=-0x1573+-0x1ce*-0x7+0x8d1;_0x2d5ef7<_0x284573;++_0x2d5ef7){const _0x46ece2=_0x3a03e2[_0x2d5ef7]*_0x3e6b0f+(-0x1244+-0x2*-0xa1d+0x1f6*-0x1+0.5),_0x3c964e=_0x17b9c3[_0x2d5ef7]*_0x3e6b0f+(0xfb*0x11+0x254f+-0x1afd*0x2+0.5),_0x2f42b9=_0x1cf877[_0x2d5ef7]*_0x3e6b0f+(0x3*0xc07+-0x2633+0x10f*0x2+0.5),_0x5114af=_0x1798fa[_0x2d5ef7];_0x47dd78[_0x2d5ef7*(-0xf7c*-0x2+0x1*0x23c7+0xb*-0x611)+(-0xfc2+-0xf9*0x2+0x11b4)]=_0x56bc64(_0x46ece2),_0x47dd78[_0x2d5ef7*(-0xe7d*-0x2+-0x19ef+-0x307)+(-0x1*0x209a+0x19c9*0x1+0x6d2)]=_0x56bc64(_0x3c964e),_0x47dd78[_0x2d5ef7*(0x726+0x11d1+-0x18f3)+(-0xc53*-0x1+-0x1*-0xfe7+0x204*-0xe)]=_0x56bc64(_0x2f42b9),_0x47dd78[_0x2d5ef7*(0x879+-0x1b63*0x1+-0x2*-0x977)+(-0xcdb*-0x1+-0x1ddc+0x1104)]=_0x56bc64(_0x5114af);const _0x4fe79f=_0x165a9e[_0x2d5ef7],_0x4061db=_0x5e5048[_0x2d5ef7],_0x2ad970=_0x10445e[_0x2d5ef7],_0x50f7ab=Math['max'](_0x13e914[_0x2d5ef7],_0x326ac4[_0x2d5ef7],_0x3977a4[_0x2d5ef7]);if(isFinite(_0x4fe79f)&&isFinite(_0x4061db)&&isFinite(_0x2ad970)&&isFinite(_0x50f7ab)){const _0x44a99f=(-0x194+-0x9*0x407+0x25d5)*Math['exp'](_0x50f7ab);_0x57e663?(_0x57e663=!(-0x1eef+-0x1336+0x3226),_0x50a420=_0x4fe79f-_0x44a99f,_0x5e6040=_0x4061db-_0x44a99f,_0x3fe2de=_0x2ad970-_0x44a99f,_0x2a8a33=_0x4fe79f+_0x44a99f,_0x46ad25=_0x4061db+_0x44a99f,_0x5cbf38=_0x2ad970+_0x44a99f):(_0x50a420=Math['min'](_0x50a420,_0x4fe79f-_0x44a99f),_0x5e6040=Math['min'](_0x5e6040,_0x4061db-_0x44a99f),_0x3fe2de=Math['min'](_0x3fe2de,_0x2ad970-_0x44a99f),_0x2a8a33=Math['max'](_0x2a8a33,_0x4fe79f+_0x44a99f),_0x46ad25=Math['max'](_0x46ad25,_0x4061db+_0x44a99f),_0x5cbf38=Math['max'](_0x5cbf38,_0x2ad970+_0x44a99f));}_0x5af232['set'](_0x1a7406[_0x2d5ef7],_0x19e4da[_0x2d5ef7],_0x58d746[_0x2d5ef7],_0x31901c[_0x2d5ef7]),_0x5af232['normalize'](),_0x5af232['w']<-0x2109+-0x5*0x623+0x1*0x3fb8&&_0x5af232['mulScalar'](-(-0x1*0x14a7+-0x1*0x238f+0x3*0x12bd)),_0x1482b6[_0x2d5ef7*(-0x1a25+-0x412*0x3+0x265e)+(-0xd*0xad+0x3ee*0x3+-0x301*0x1)]=_0x165a9e[_0x2d5ef7],_0x1482b6[_0x2d5ef7*(-0x1718*0x1+0x1e58+-0x73d)+(-0x19d3*0x1+0x18d1+0x103)]=_0x5e5048[_0x2d5ef7],_0x1482b6[_0x2d5ef7*(0x35*-0x15+0x590+0x134*-0x1)+(0x8e5+-0x25f6+-0x1*-0x1d13)]=_0x10445e[_0x2d5ef7],_0x5a1147[_0x2d5ef7*(-0x2a5*0x1+0x73a+0x5*-0xea)+(-0x221d+-0x14ab*-0x1+0xd72)]=_0x165a9e[_0x2d5ef7],_0x5a1147[_0x2d5ef7*(0x36b+0x1*0x22c4+-0x262c)+(-0x1ad4+-0x83*0x7+0x1e6a)]=_0x5e5048[_0x2d5ef7],_0x5a1147[_0x2d5ef7*(0x20f4+0x66b+-0x13ae*0x2)+(-0xdb3*0x1+0x216+0x253*0x5)]=_0x10445e[_0x2d5ef7],_0x373e64[_0x2d5ef7*(0x1382+0x14*-0x1cd+0x1085)+(0xe62+0x957+0x1*-0x17b9)]=_0x56bc64(Math['exp'](_0x13e914[_0x2d5ef7])),_0x373e64[_0x2d5ef7*(-0x1dca+0x17a3+0x62a)+(-0x2630+-0x5*0x192+0x2e0b)]=_0x56bc64(Math['exp'](_0x326ac4[_0x2d5ef7])),_0x373e64[_0x2d5ef7*(0x98*-0x2f+0x557+0x1694)+(-0x3*-0x943+0x13*-0xa7+0x2*-0x7b1)]=_0x56bc64(Math['exp'](_0x3977a4[_0x2d5ef7])),_0x213850[_0x2d5ef7*(-0x4f6+0x166f+-0x1176)+(-0x2*0xeb1+0x26f*-0x10+-0x35*-0x14a)]=_0x5af232['x'],_0x213850[_0x2d5ef7*(0x2274+0x1d80+-0x3ff1*0x1)+(-0x55f*0x6+0x757+-0x3*-0x84c)]=_0x5af232['y'],_0x213850[_0x2d5ef7*(-0x401+0x9ce+0x3*-0x1ee)+(-0x475+-0x19c*0x8+-0x1*-0x1157)]=_0x5af232['z'],_0x5a2f09&&_0x1553ff&&_0x569615&&_0x59a4d3&&_0xaae5e3&&(_0x1553ff[_0x2d5ef7*(-0xdf3+-0x1025+0x1e1b)+(0x12*-0x7a+0x1a82+-0x2fd*0x6)]=_0x482767[_0x2d5ef7],_0x1553ff[_0x2d5ef7*(0xd7e+-0x2*-0x37+0x3*-0x4a3)+(0x20ac+0x2e*0xd1+-0x4639)]=_0x4b5553[_0x2d5ef7],_0x1553ff[_0x2d5ef7*(0x1a84+0x5c9+0x1025*-0x2)+(-0x1442+-0x53*0x3e+0x285e)]=_0x4b50da[_0x2d5ef7],_0x59a4d3[_0x2d5ef7*(-0x1520+0x13fd+0x6*0x31)+(0x12*0x167+0x28*-0x5e+-0xa8e)]=_0x482767[_0x2d5ef7],_0x59a4d3[_0x2d5ef7*(0x1*0x1f4c+-0x26b8+0xb*0xad)+(0xe1d+-0x1104+0x5d*0x8)]=_0x4b5553[_0x2d5ef7],_0x59a4d3[_0x2d5ef7*(0x14a0+0x1*-0x2239+0x4*0x367)+(-0x2*-0xd2b+0x39*0x13+-0x1e8f)]=_0x4b50da[_0x2d5ef7],_0xaae5e3[_0x2d5ef7]=_0x149b1e?Math['exp'](_0x149b1e[_0x2d5ef7]):-0x21d3+-0xca6+0x2e79,_0x569615[_0x2d5ef7*(-0x2145+-0x62b*-0x5+0x271)+(-0x23d2+0x20a3+0x32f)]=_0x3e08ff?_0x3e08ff[_0x2d5ef7]:0xf5+0x24cc+-0x1*0x25c1,_0x569615[_0x2d5ef7*(0x12ad+-0xb0c+-0x79e)+(-0x232e+0x2*0xcee+-0x7*-0x155)]=_0xaae5e3[_0x2d5ef7]);}_0x57e663||(_0x14e0f3[0x19ac+0x1d19+0x1*-0x36c5]=(_0x50a420+_0x2a8a33)*(-0x3*0xc5b+0x3*0x55d+0x37f*0x6+0.5),_0x14e0f3[-0x24f*0x5+-0x1992+-0x1*-0x251e]=(_0x5e6040+_0x46ad25)*(0x12fd*-0x2+0x235*-0x7+-0x61*-0x8d+0.5),_0x14e0f3[-0x358*-0x5+-0x1*-0x106f+-0x2125]=(_0x3fe2de+_0x5cbf38)*(-0xdbb+-0x238c+0x3147+0.5),_0x4e23bd[0x1acc+-0x1928+-0x14*0x15]=(_0x2a8a33-_0x50a420)*(-0x1*0x22d3+-0x35*0x17+0x2796+0.5),_0x4e23bd[-0x1*0x1a12+0x1f*0x8e+-0x8e1*-0x1]=(_0x46ad25-_0x5e6040)*(-0x1eff+-0x57d*0x6+-0x5*-0xcc9+0.5),_0x4e23bd[-0x16a7+-0xb*-0x28f+-0x57c]=(_0x5cbf38-_0x3fe2de)*(-0xd*0x133+0x5ee*-0x1+0x1585+0.5));const _0x20716c=_0x1e323e();let _0x1e69e9={'dataColor':_0x47dd78,'center':_0x14e0f3,'halfExtents':_0x4e23bd,'dataCenters':_0x5a1147,'dataPosition':_0x1482b6,'dataScale':_0x373e64,'dataRotation':_0x213850,..._0x20716c};return _0x5a2f09&&(_0x1e69e9={..._0x1e69e9,'dataMotion':_0x1553ff,'dataTime':_0x569615,'motion':_0x59a4d3,'tScaleArray':_0xaae5e3,'muT':new Float32Array(_0x3e08ff),'timeIndex':new Float32Array(_0x1de7e4)}),_0x1e69e9;},_0x4f5f36=_0x11dfdd=>{const _0x49253a=[];for(let _0x5ba939=0xa71+0xe8b+-0x854*0x3;_0x5ba939<_0x11dfdd;++_0x5ba939)_0x49253a['push'](_0x1b799b['f_rest_'+_0x5ba939]);return _0x49253a;},_0x1e323e=()=>{const _0x41c40f=_0x3dc6b0();if(_0x41c40f<=-0x58c+-0x89f+0xe2b)return{};const _0x40ca35=_0x1b799b['x']['length'],_0x1f229d=new Uint32Array(_0x40ca35*(0x5cb*-0x5+0x1*0xdb7+0x2*0x7a2)),_0x5876b7=new Uint32Array(_0x40ca35*(-0x1*0x1bfa+0x5*-0x95+0x1ee7)),_0x5092b5=new Uint32Array(_0x40ca35*(0x2*0x1128+-0xc44+-0x18*0xeb)),_0x5edfe0=new Uint32Array(_0x40ca35*(-0x2c1+-0x529+-0x7*-0x122)),_0x40afc8={0x1:0x3,0x2:0x8,0x3:0xf}[_0x41c40f],_0x529e77=_0x4f5f36(_0x40afc8*(-0x1*-0xeb6+0x1*0x1d4b+-0x755*0x6)),_0x1d49ce=0x1b7+0x74d+-0x105,_0x4a7c60=-0x114b*0x1+0xead+0x69d,_0xc52015=new Float32Array(-0xc84*0x1+0x1*0x26b7+-0x3be*0x7),_0x2e9383=new Uint32Array(_0xc52015['buffer']),_0x4a2f58=new Array(_0x40afc8*(-0x152+0x2129+-0x1fd4))['fill'](-0x1f86+0x14d+0x1e39);for(let _0x281d4f=0x171b+0x17b0+-0x2ecb;_0x281d4f<_0x40ca35;++_0x281d4f){for(let _0x10a965=0x211+0x3fa+-0xd*0x77;_0x10a965<_0x40afc8;++_0x10a965)_0x4a2f58[_0x10a965*(0x17*-0x13a+-0x11d8+-0x2e11*-0x1)]=_0x529e77[_0x10a965][_0x281d4f],_0x4a2f58[_0x10a965*(-0x1f3c+-0x11*0x1ab+-0x1*-0x3b9a)+(0xc49*-0x1+0x1*-0xc88+0x18d2)]=_0x529e77[_0x10a965+_0x40afc8][_0x281d4f],_0x4a2f58[_0x10a965*(0x10c*-0x1+0x18bb+0x2*-0xbd6)+(-0x49*-0xd+-0xd11+0x4af*0x2)]=_0x529e77[_0x10a965+_0x40afc8*(0x7*0x184+0x1e59+-0x28f3)][_0x281d4f];let _0x5f37c5=_0x4a2f58[0x1678+-0x5*0x577+0xb*0x71];for(let _0x3c5679=-0xa4e*0x2+0xf71+-0x296*-0x2;_0x3c5679<_0x40afc8*(0x2063*-0x1+-0x1b4f+0x13e7*0x3);++_0x3c5679)_0x5f37c5=Math['max'](_0x5f37c5,Math['abs'](_0x4a2f58[_0x3c5679]));if(_0x5f37c5!==-0xb5+0x14c1+-0x4*0x503){for(let _0x2f22b3=0x1*0xd96+-0xe34+0x1*0x9e;_0x2f22b3<_0x40afc8;++_0x2f22b3)_0x4a2f58[_0x2f22b3*(0x95a+0x1*0x24cd+0x2e24*-0x1)+(-0x1a86+0x2695+-0xc0f)]=Math['max'](0x2*0x1a6+-0x696*-0x4+-0x1da4,Math['min'](_0x1d49ce,Math['floor']((_0x4a2f58[_0x2f22b3*(0x2*0xc1a+-0x71*-0x46+0x3717*-0x1)+(-0xda2+-0x15af+-0x1*-0x2351)]/_0x5f37c5*(0x6f3+0x201b+-0x2*0x1387+0.5)+(-0x1f+0x25ce+-0x25af+0.5))*_0x1d49ce+(0x1cf9*-0x1+0x1b74+0x185+0.5)))),_0x4a2f58[_0x2f22b3*(0x5*0x6b1+-0x5*-0x2ef+-0x301d)+(0x283+-0x15f8+-0x2f*-0x6a)]=Math['max'](-0x46b*-0x2+-0x11f2+0x91c,Math['min'](_0x4a7c60,Math['floor']((_0x4a2f58[_0x2f22b3*(-0x1e56+0x2394+0x53b*-0x1)+(0xdf*-0x25+-0xa4b+0x13*0x23d)]/_0x5f37c5*(0x8*0x20b+0x254c+-0x35a4+0.5)+(0x213a+-0x37e*0x6+-0xc46+0.5))*_0x4a7c60+(-0x4*-0x3ea+-0x19c9+0x1*0xa21+0.5)))),_0x4a2f58[_0x2f22b3*(-0x15*0x1aa+0x1587+0x3*0x47a)+(0x232b*0x1+-0x833+-0x7*0x3da)]=Math['max'](-0xea7+0x97*-0x7+0x12c8,Math['min'](_0x1d49ce,Math['floor']((_0x4a2f58[_0x2f22b3*(-0xf97+-0x11a8+-0x42*-0x81)+(-0x269*-0x7+-0x1728+0x219*0x3)]/_0x5f37c5*(-0x1*0x1a5a+-0x26c8+-0x6*-0xadb+0.5)+(-0x10*-0x1d2+-0x1746+-0x5da+0.5))*_0x1d49ce+(0x1dcd+-0x46d*-0x1+-0x2*0x111d+0.5))));_0xc52015[-0x159b+-0x1872+-0x1*-0x2e0d]=_0x5f37c5,_0x1f229d[_0x281d4f*(-0x92*0x2+-0x1*0x7f1+-0x919*-0x1)+(-0xe*-0x223+0xb94+-0x71*0x5e)]=_0x2e9383[-0x1*-0x12e+-0x1864+0x1736],_0x1f229d[_0x281d4f*(-0x5fc*-0x2+-0x550+-0x6a4)+(0x20ed+-0x16b8+-0xa34)]=_0x4a2f58[-0x17*-0xa3+0x2141*-0x1+0x129c]<<0x1f96+-0x1*-0x153d+-0x34be|_0x4a2f58[-0x1*0x1b47+0x1eb1*0x1+-0x123*0x3]<<0x1d91+-0x12ab+-0xadb*0x1|_0x4a2f58[-0xfca*0x1+-0x2068+-0xa*-0x4d2],_0x1f229d[_0x281d4f*(-0x5af+-0x206+0x7b9)+(0x27*0xc5+-0xd81+0x18*-0xb0)]=_0x4a2f58[-0x8*-0x344+0x1*0x9fd+0x1*-0x241a]<<0x56*0x22+0x10c*-0x13+-0x88d*-0x1|_0x4a2f58[-0x1b6*0x11+-0x1ba7*-0x1+0x173]<<0x335*0xb+0xfa0+0x7c*-0x69|_0x4a2f58[0xb6*-0x31+0x9*0x2a5+0xb0e],_0x1f229d[_0x281d4f*(-0x1a1e+-0x1fb5+-0x11*-0x367)+(-0x585+-0xd*0x2f5+0x2bf9*0x1)]=_0x4a2f58[0xffc*-0x2+-0x2b4+-0x22b2*-0x1]<<0x1c67+-0x621+-0x1631|_0x4a2f58[-0x25*0x5a+-0x7*-0x1f5+-0xaa]<<-0xad*-0xb+0x195d+-0xd7*0x27|_0x4a2f58[-0xad*0x35+-0x314+0x26ed],_0x41c40f>0xb2c+-0x59*-0x2+0x1*-0xbdd&&(_0x5876b7[_0x281d4f*(0x1b3+0x1f*0x5a+0xc95*-0x1)+(-0x1c2f+0x6*-0xb5+-0x3*-0xacf)]=_0x4a2f58[0x1*0x823+0x8c0+0x2cf*-0x6]<<0x2094+-0x18d9+-0x7a6*0x1|_0x4a2f58[0x1e2*0x10+0x1f09+-0x3d1f]<<-0x19ca+0xefc+0xad9|_0x4a2f58[-0x5bb+-0x1*-0x1932+-0x136c],_0x5876b7[_0x281d4f*(-0x1*-0xda9+-0x3dc+-0xa7*0xf)+(0xe32*-0x1+-0x259c+0x1145*0x3)]=_0x4a2f58[0x1482+-0xcb2*-0x3+-0xea3*0x4]<<-0x887*-0x1+-0x1*0x69a+-0x1d8|_0x4a2f58[0x1*-0x7cf+-0x3*0x183+-0x13*-0xa7]<<-0x90*0xf+0x49*0x7c+-0x1ae1|_0x4a2f58[0x9f2+0xf6*0x7+-0x109e],_0x5876b7[_0x281d4f*(0x8ba+0xe69*0x1+-0x1*0x171f)+(-0x2082+-0x13*0x1f2+0x457a)]=_0x4a2f58[0x6a*-0x19+-0x1af4+0x1*0x255d]<<-0x1*0x1741+-0x2e*0x10+-0x1a36*-0x1|_0x4a2f58[-0x1b6+0x129*-0x9+0xc37]<<-0x66*0x45+-0x25a7+0x826*0x8|_0x4a2f58[-0x24e0+0x17d5+0xd1c],_0x5876b7[_0x281d4f*(0x6f1+0x1b15+-0x6*0x5ab)+(0x20d3+0x235*0x6+-0x2e0e)]=_0x4a2f58[-0x12*-0x1bb+-0x9df*-0x1+0x28f3*-0x1]<<-0x1*0xed3+-0x200b+0x2ef3|_0x4a2f58[-0x6b7+0x829+-0x75*0x3]<<-0x29*0xc7+-0x1bdd+0x3bc7|_0x4a2f58[-0x11b*0x18+-0x1805+0xd*0x3e5],_0x41c40f>-0x1ab6+-0x1*0x1f6f+-0x3a27*-0x1?(_0x5092b5[_0x281d4f*(0x1*-0x1cae+0x1848+0x46a)+(-0x228b*0x1+-0x468+0x26f3)]=_0x4a2f58[-0x1bad+0xfd3+0xbef]<<-0xe0e+0x9*0xa3+0x8*0x10d|_0x4a2f58[0x1*-0x230b+-0x49f+0xd40*0x3]<<0x223f*0x1+0xd*-0x2b6+0x10a|_0x4a2f58[-0x11a6+-0x1*-0x1d23+-0xb66],_0x5092b5[_0x281d4f*(0x20d8+-0x3*0x5e5+-0xf25)+(0x3d*0x1+-0x60d*-0x6+0x2*-0x1245)]=_0x4a2f58[0x1e94+0x71*0x3d+-0x3969]<<-0x15*-0x5c+0x1c1*-0x8+0x691*0x1|_0x4a2f58[0x8*0x173+-0x21da+-0x1*-0x165b]<<-0x167*-0x6+-0x15ed+0x15b*0xa|_0x4a2f58[0x1c95+-0x1512*0x1+-0x769*0x1],_0x5092b5[_0x281d4f*(0x223e+0x31*0xa6+-0x4200)+(0x886+0x1d87+-0x260b)]=_0x4a2f58[0x87b+-0x104+0x4*-0x1d7]<<-0x31d+0x30c+0x26*0x1|_0x4a2f58[-0x4db+-0x73c*-0x1+-0x1*0x245]<<-0x44e+-0x6b5+0xb0e|_0x4a2f58[0x4c*0x1a+-0x3*-0x36+-0x25*0x39],_0x5092b5[_0x281d4f*(-0x1c3+0x1*-0x1e26+0x1*0x1fed)+(-0x2529+0x3d1*-0x1+0x28fd)]=_0x4a2f58[-0x5e*0x27+-0x4ae+0x2*0x98f]<<-0x21b5+0x1873+0x957|_0x4a2f58[-0x1612+0x1*0xb51+0x15c*0x8]<<0x23*-0x41+0x1b3c+-0x124e|_0x4a2f58[-0x237e+0x1217+-0x1*-0x1187],_0x5edfe0[_0x281d4f*(0x3*-0x9a9+-0x1e4f+0x3b4e)+(-0x1968+0x2662+0x2*-0x67d)]=_0x4a2f58[0x156f*-0x1+-0x1d23+0x32b3]<<0x190f+-0x10*-0xf7+-0x286a|_0x4a2f58[0x1e04+-0xe3*0x1f+-0x265]<<-0x95*-0x37+-0x1015+-0xfe3|_0x4a2f58[-0x2*-0x8b7+0x4bb+-0x1*0x1606],_0x5edfe0[_0x281d4f*(0x954+0x23a9+0x1*-0x2cf9)+(-0x17b0+0x9*-0x2c8+0x30b9*0x1)]=_0x4a2f58[-0xd8d*0x2+-0xade+0x43c*0x9]<<-0x2623+0x78*0x27+0x1d*0xb0|_0x4a2f58[0x1*0x7c4+-0x1*0x282+-0x51d]<<-0x73d+-0x571*0x3+-0x1*-0x179b|_0x4a2f58[0x1*-0x91d+0x4a+-0x8f9*-0x1],_0x5edfe0[_0x281d4f*(-0x23c3*0x1+0x1208+0xb*0x19d)+(0x687+-0x7de+0x5*0x45)]=_0x4a2f58[-0x1*0x128c+0x223c+-0xf89]<<-0xf9a+0x1150+-0x1a1|_0x4a2f58[-0x7a*-0x22+0xf8e+-0x1f9a]<<0x11*0x193+-0x4*-0x977+-0x1*0x4094|_0x4a2f58[0x17be*0x1+0x1425+-0x3a*0xc1],_0x5edfe0[_0x281d4f*(0x4*-0x8bd+-0x1b72*-0x1+-0x9*-0xd6)+(-0x1867+-0x46d+0x1cd7)]=_0x4a2f58[-0xccd+-0x3*-0x748+-0x8e1]<<0x43b+0x99b*-0x1+-0x1*-0x575|_0x4a2f58[-0x7*0x2cf+-0x1*0x1d92+0x3166]<<-0x1a36+0x987*-0x1+0xe5*0x28|_0x4a2f58[-0x2622*0x1+-0x29*-0x44+0x1b6a]):_0x5092b5[_0x281d4f]=_0x4a2f58[-0x3*0xad9+0xf27+-0xd5*-0x15]<<0x1d*-0x107+0x15c5+0x81b|_0x4a2f58[-0x1*0x1878+-0x9bf+0x224d]<<0x13c+0x1867+-0x1f8*0xd|_0x4a2f58[-0x1*-0x577+0x1216+-0x1776]);}}return{'sh1to3Data':_0x1f229d,'sh4to7Data':_0x5876b7,'sh8to11Data':_0x5092b5,'sh12to15Data':_0x5edfe0};},_0x5b04ab=_0x9ad54d=>{if(!_0x1b799b['time_index'])return;const _0x390b5e=_0x1b799b['time_index']['findIndex'](_0x2d712a=>_0x2d712a===_0x9ad54d);let _0x3224b4=_0x1b799b['time_index']['findIndex']((_0x2e16da,_0x37a2b3)=>_0x2e16da!==_0x9ad54d&&_0x37a2b3>_0x390b5e);if(_0x3224b4===-(-0x1c8d+-0x1493+0x3121)&&_0x390b5e===-(-0x1ce0+-0xcc*-0x2e+-0x7c7))return;_0x3224b4===-(-0x33+-0x39b+0x3cf)&&_0x390b5e!==-(0x121a+-0xc42+-0x5d7)&&(_0x3224b4=_0x1b799b['time_index']['length']),_0xf3cdaa-=_0x3224b4-_0x390b5e;const _0x492fb3=Object['keys'](_0x1b799b);for(let _0xd55c3b=0x24da+0x1*-0x1007+-0x14d3;_0xd55c3b<_0x492fb3['length'];_0xd55c3b++){const _0x5066b0=_0x492fb3[_0xd55c3b],_0x8c973b=_0x1b799b[_0x5066b0];if(_0x8c973b){const _0x1c143b=new Float32Array(_0xf3cdaa);_0x390b5e>-0x1*0x19b5+-0x1876+0x322b*0x1?(_0x1c143b['set'](_0x8c973b['subarray'](-0xf*-0x1bd+-0x13f9*-0x1+-0x2*0x1706,_0x390b5e),-0x1*-0x3b9+0xd3f+0x10f8*-0x1),_0x1c143b['set'](_0x8c973b['subarray'](_0x3224b4),_0x390b5e)):_0x1c143b['set'](_0x8c973b['subarray'](_0x3224b4),-0x1071+-0x55f*0x2+0x1b2f),_0x1b799b[_0x5066b0]=_0x1c143b;}}},_0x1eeda1=()=>{const _0x5dec73=Object['keys'](_0x1b799b);for(let _0x2f5eae=-0x2f*0xb1+-0x785+0xc5*0x34;_0x2f5eae<_0x5dec73['length'];_0x2f5eae++){const _0x45cd71=_0x5dec73[_0x2f5eae];_0x1b799b[_0x45cd71]&&(_0x1b799b[_0x45cd71]=[]);}},_0x5eab6e=()=>{_0x1b799b={},_0xf3cdaa=-0xd*-0x171+-0x83*0x45+0x1092;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x123310,_0x5a2a28,_0x5e188a,_0x50c28b=!(0x91d+-0x20fd+0x17e1)){var _0x452037,_0x512385;const _0x4436e3={};return _0x123310['elements'][0x2399+-0xdf*-0x7+0x2*-0x14d9]['properties']['forEach'](_0xa613b2=>{_0x4436e3[_0xa613b2['name']]=_0xa613b2['storage'];}),_0x50c28b?(_0x452037=this['worker'])==null||_0x452037['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4436e3,'timeIndex':_0x5a2a28,'timeOption':_0x5e188a},_0x123310['elements'][-0x173f+0x4*-0x15d+0x1cb3]['properties']['map'](_0x411d7c=>_0x411d7c['storage']['buffer'])):(_0x512385=this['worker'])==null||_0x512385['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4436e3,'timeIndex':_0x5a2a28,'timeOption':_0x5e188a}),new Promise(_0x1f4979=>{this['worker']['onmessage']=_0x10966f=>{if(!this['worker'])return;const {data:_0x1a48cd}=_0x10966f;_0x1a48cd['type']==='newAppendD'+'ata'&&_0x1f4979(_0x1a48cd);};});}async['releaseSeq'+'Data'](_0x4ad0dd){var _0x4c0e77;(_0x4c0e77=this['worker'])==null||_0x4c0e77['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x4ad0dd});}async['releaseAll'+'SeqData'](){var _0x573d96;(_0x573d96=this['worker'])==null||_0x573d96['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4b1280;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4b1280=this['worker'])==null||_0x4b1280['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x3*0x17c+0x140d+-0xf98,-0x1a*-0x4+0x9*0x146+0x1*-0xbdd,-0x8aa*0x4+0x19b*0xc+0xf64,-0x321*0x4+0x107*0x6+0x65a+0.4),vf=-0xf9b+-0x164b+0x25e6+0.28209479177387814,xf=0x11b0f*-0x2+-0x1*0x3e97b+0xf*0x9c97;let ZA=class{constructor(_0x314c33,_0x263047,_0x1e5831,_0x3c3bc0,_0x46c051,_0x4f8bea){const _0x35a59a=_0x314c33['getProp']('x'),_0x12e525=_0x314c33['getProp']('y'),_0x43b8d8=_0x314c33['getProp']('z'),_0x3f9373=_0x314c33['getProp']('rot_1'),_0x33bda9=_0x314c33['getProp']('rot_2'),_0x4f87ac=_0x314c33['getProp']('rot_3'),_0x5cc09b=_0x314c33['getProp']('rot_0'),_0x121a54=_0x314c33['getProp']('motion_0'),_0x5449ab=_0x314c33['getProp']('motion_1'),_0x4498bf=_0x314c33['getProp']('motion_2'),_0x42f8b8=_0x314c33['getProp']('scale_0'),_0x5df007=_0x314c33['getProp']('scale_1'),_0x1f0a65=_0x314c33['getProp']('scale_2'),_0x425d61=_0x314c33['getProp']('f_dc_0'),_0x3b3afe=_0x314c33['getProp']('f_dc_1'),_0x1793d8=_0x314c33['getProp']('f_dc_2'),_0x111b81=_0x314c33['getProp']('opacity');this['read']=_0x5b515d=>{_0x263047&&(_0x263047['x']=_0x35a59a[_0x5b515d],_0x263047['y']=_0x12e525[_0x5b515d],_0x263047['z']=_0x43b8d8[_0x5b515d]),_0x1e5831&&_0x1e5831['set'](_0x3f9373[_0x5b515d],_0x33bda9[_0x5b515d],_0x4f87ac[_0x5b515d],_0x5cc09b[_0x5b515d]),_0x3c3bc0&&_0x3c3bc0['set'](Math['exp'](_0x42f8b8[_0x5b515d]),Math['exp'](_0x5df007[_0x5b515d]),Math['exp'](_0x1f0a65[_0x5b515d])),_0x4f8bea&&_0x121a54&&_0x4f8bea['set'](_0x121a54[_0x5b515d],_0x5449ab[_0x5b515d],_0x4498bf[_0x5b515d]),_0x46c051&&_0x46c051['set'](0x2a*-0x19+0x1bd9+-0x17bf+0.5+_0x425d61[_0x5b515d]*vf,-0x4de+0x266e+-0x2190+0.5+_0x3b3afe[_0x5b515d]*vf,0xe8d*0x2+0x2637+-0x4351+0.5+_0x1793d8[_0x5b515d]*vf,_0x111b81[_0x5b515d]);};}};const _g=(_0x5c4c77,_0x5b6de1,_0x2cb829)=>{pg['set'](_0x2cb829['x'],_0x2cb829['y'],_0x2cb829['z'],_0x2cb829['w'])['normalize'](),_0x5c4c77['setTRS'](_0x5b6de1,pg,D['ONE']);};class qn{constructor(_0x209165,_0x4469f2=[]){h(this,'elements'),h(this,'numSplats',-0xcb*0x13+0x125d+0x2*-0x1a6),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x2ca053;(_0x2ca053=this['dataWorker'])==null||_0x2ca053['destroy'](),this['dataWorker']=null;});var _0x2d2d4d,_0x65561c,_0x26afc6;this['elements']=_0x209165,this['numSplats']=((_0x2d2d4d=this['getElement']('vertex'))==null?void(-0x16b8+0x1c29+-0x571):_0x2d2d4d['count'])??-0x1*-0x7fd+0x1c1*0x6+-0x1283,this['comments']=_0x4469f2,this['is4D']=!!((_0x26afc6=(_0x65561c=this['getElement']('vertex'))==null?void(-0x29*0xe5+-0x194b+0x3df8):_0x65561c['properties']['find'](_0x218811=>_0x218811['name']==='t'))!=null&&_0x26afc6['storage']);}async['appendGSpl'+'atData'](_0x4b7bf0,_0x52142b,_0x3e061e){var _0x2b50a8;let _0x88744d=-0x1*-0x46e+0x5f*0xc+-0x8e2;for(let _0x48b2b2=-0x1830+-0x14*-0xc8+0x890;_0x48b2b2<_0x3e061e['length']&&_0x52142b>_0x3e061e[_0x48b2b2];_0x48b2b2+=-0x1c03+0xd26+0xedf)_0x88744d=_0x48b2b2/(-0x2420+0x660+-0xd*-0x24a);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x88744d),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x13*-0x2c+0x6d2+-0xa16,_0x3e061e));const _0x1ec254=this['getElement']('vertex');_0x1ec254&&(_0x1ec254['count']=this['numSplats']);const _0x1f945a=await this['dataWorker']['appendGSpl'+'atData'](_0x4b7bf0,_0x88744d,_0x3e061e,!(-0x1994+-0x1ab7+0x344b)),_0x4a122d=_0x1f945a['properties'],_0x127103=((_0x2b50a8=this['getElement']('vertex'))==null?void(-0x637*-0x5+-0x3*0x317+-0x15ce):_0x2b50a8['properties'])??[];for(const _0x4df75c in _0x4a122d){const _0x45f82c=_0x127103['find'](_0x2e353e=>_0x2e353e['name']===_0x4df75c);_0x45f82c?_0x45f82c['storage']=_0x4a122d[_0x4df75c]:_0x127103['push']({'type':'float','name':_0x4df75c,'storage':_0x4a122d[_0x4df75c],'byteSize':0x4});}this['transformD'+'ata']=_0x1f945a['transformD'+'ata'],this['numSplats']=_0x4a122d['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x2aef94){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x2aef94),this['dataWorker']['releaseSeq'+'Data'](_0x2aef94),this;}async['releaseAll'+'SeqData'](){var _0x334d96;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x334d96=this['dataWorker'])==null||_0x334d96['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0xd11674,_0x36ecef,_0x22d7f7,_0x6a6fa8){_g(za,_0x36ecef,_0x22d7f7),yf['center']['set'](0x85a+-0xa39+0x1df,-0x40*0x49+0x28*0xa8+-0x800,-0x18ad+-0x426*-0x8+-0x883),yf['halfExtent'+'s']['set'](_0x6a6fa8['x']*(-0x745*0x4+-0x5*0x777+-0x3*-0x1623),_0x6a6fa8['y']*(0x18ee+0x17ec+0x2*-0x186c),_0x6a6fa8['z']*(-0x91d*0x1+0x9*-0x63+-0x1*-0xc9a)),_0xd11674['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x13ee47,_0x3491d3='vertex'){var _0x1de1d5,_0xb8f896;return(_0xb8f896=(_0x1de1d5=this['getElement'](_0x3491d3))==null?void(0x15ca+-0x9ad*0x1+-0x1*0xc1d):_0x1de1d5['properties']['find'](_0x3f8310=>_0x3f8310['name']===_0x13ee47))==null?void(0x2112+0x1b64+-0x3c76):_0xb8f896['storage'];}['getElement'](_0x54b573){return this['elements']['find'](_0x4e6d3d=>_0x4e6d3d['name']===_0x54b573);}['addProp'](_0x57a993,_0x1299c3){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x57a993,'storage':_0x1299c3,'byteSize':0x4});}['createIter'](_0x4cb5dc,_0x588255,_0x7c435f,_0x34b050,_0x26efa4){return new ZA(this,_0x4cb5dc,_0x588255,_0x7c435f,_0x34b050,_0x26efa4);}async['calcAabbAs'+'ync'](_0x40b098,_0x5afba5){var _0x3628ea,_0x19f20d;if((_0x3628ea=this['transformD'+'ata'])!=null&&_0x3628ea['center']&&((_0x19f20d=this['transformD'+'ata'])!=null&&_0x19f20d['halfExtent'+'s'])){_0x40b098['center']['set'](this['transformD'+'ata']['center'][-0xa*0x161+0x82*0x3d+0xa*-0x1b8],this['transformD'+'ata']['center'][0x88*-0xf+-0x201f+0x2818],this['transformD'+'ata']['center'][0x1240+0xc75*0x3+-0x26b*0x17]),_0x40b098['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x1*0x24dd+-0x859*0x2+-0x142b],this['transformD'+'ata']['halfExtent'+'s'][-0x47f+0x2308+-0x1e88],this['transformD'+'ata']['halfExtent'+'s'][0x1367*-0x1+-0x613+0x197c]);return;}const _0x256a29=this['getProp']('x'),_0x796c93=this['getProp']('y'),_0xbe9209=this['getProp']('z'),_0x177fd1=this['getProp']('scale_0'),_0x4ea7f8=this['getProp']('scale_1'),_0x5c9ee6=this['getProp']('scale_2'),_0x2f6142=await(_0x5afba5==null?void(-0x19ed+0x21b1+-0x8e*0xe):_0x5afba5['calcAabb'](this['numSplats'],_0x256a29,_0x796c93,_0xbe9209,_0x177fd1,_0x4ea7f8,_0x5c9ee6));_0x40b098['center']['set'](_0x2f6142['center'][-0x1*-0x22c1+-0x235*0x1+-0x208c],_0x2f6142['center'][-0x2a5+-0x101*-0x1+0x1a5],_0x2f6142['center'][-0x1*0x22cb+-0x7bd+0x12*0x25d]),_0x40b098['halfExtent'+'s']['set'](_0x2f6142['halfExtent'+'s'][0x2072+0x95e+-0x29d0],_0x2f6142['halfExtent'+'s'][0x1*0x1f57+0xa2c+0x4d*-0x8a],_0x2f6142['halfExtent'+'s'][-0x1291*0x2+-0x48c+0x5c*0x74]);}['calcAabb'](_0x224939,_0x48a788){let _0x220f27,_0x208a05,_0x140297,_0x162cbc,_0x1830cb,_0x989ef8,_0x3312ce=!(-0x2546+0x1*0x10+0x2*0x129b);const _0x2e54d8=this['getProp']('x'),_0x1bab50=this['getProp']('y'),_0x58abc8=this['getProp']('z'),_0x24d14f=this['getProp']('scale_0'),_0x392bed=this['getProp']('scale_1'),_0x51fc02=this['getProp']('scale_2');for(let _0x548d25=-0x10f4+0x735+0x9bf;_0x548d25<this['numSplats'];++_0x548d25){if(_0x48a788&&!_0x48a788(_0x548d25))continue;const _0x5cf61a=_0x2e54d8[_0x548d25],_0x315021=_0x1bab50[_0x548d25],_0x48bfbd=_0x58abc8[_0x548d25],_0x37f424=Math['max'](_0x24d14f[_0x548d25],_0x392bed[_0x548d25],_0x51fc02[_0x548d25]);if(!isFinite(_0x5cf61a)||!isFinite(_0x315021)||!isFinite(_0x48bfbd)||!isFinite(_0x37f424))continue;const _0x477074=(0x1ea2+-0x9ea*-0x1+-0x288a)*Math['exp'](_0x37f424);_0x3312ce?(_0x3312ce=!(0x222b*0x1+-0x1173+-0x10b7),_0x220f27=_0x5cf61a-_0x477074,_0x208a05=_0x315021-_0x477074,_0x140297=_0x48bfbd-_0x477074,_0x162cbc=_0x5cf61a+_0x477074,_0x1830cb=_0x315021+_0x477074,_0x989ef8=_0x48bfbd+_0x477074):(_0x220f27=Math['min'](_0x220f27,_0x5cf61a-_0x477074),_0x208a05=Math['min'](_0x208a05,_0x315021-_0x477074),_0x140297=Math['min'](_0x140297,_0x48bfbd-_0x477074),_0x162cbc=Math['max'](_0x162cbc,_0x5cf61a+_0x477074),_0x1830cb=Math['max'](_0x1830cb,_0x315021+_0x477074),_0x989ef8=Math['max'](_0x989ef8,_0x48bfbd+_0x477074));}return _0x3312ce||(_0x224939['center']['set']((_0x220f27+_0x162cbc)*(0xe02+0x1a53+-0x127*0x23+0.5),(_0x208a05+_0x1830cb)*(-0x13b3+-0x43*0x5b+0x1*0x2b84+0.5),(_0x140297+_0x989ef8)*(-0x243+-0x25*-0x2f+-0x488+0.5)),_0x224939['halfExtent'+'s']['set']((_0x162cbc-_0x220f27)*(0x1*-0x737+-0x1*-0x1bf0+0x5*-0x425+0.5),(_0x1830cb-_0x208a05)*(-0x1e67+0x62*-0x1e+-0x29e3*-0x1+0.5),(_0x989ef8-_0x140297)*(0x241+-0x18eb+-0x2*-0xb55+0.5))),!_0x3312ce;}['yieldToMai'+'n'](){var _0x2b7cf5;return(_0x2b7cf5=globalThis['scheduler'])!=null&&_0x2b7cf5['yield']?globalThis['scheduler']['yield']():new Promise(_0x258df7=>{setTimeout(_0x258df7,-0xa9e+-0xd06*-0x2+-0xf6e);});}['calcAabbEx'+'act'](_0xfca180,_0x3ff276){const _0x304813=new D(),_0x38b4a8=new le(),_0x2c290c=new D(),_0x5053e0=this['createIter'](_0x304813,_0x38b4a8,_0x2c290c);let _0x453cb7=!(0x4e+0x10f*0xb+0x1*-0xbf3);for(let _0x8a274a=0x26c1+0x22ea*0x1+0x49ab*-0x1;_0x8a274a<this['numSplats'];++_0x8a274a)_0x3ff276&&!_0x3ff276(_0x8a274a)||(_0x5053e0['read'](_0x8a274a),_0x453cb7?(_0x453cb7=!(-0x2362+0x1*-0x193a+0x3c9d),qn['calcSplatA'+'abb'](_0xfca180,_0x304813,_0x38b4a8,_0x2c290c)):(qn['calcSplatA'+'abb'](mg,_0x304813,_0x38b4a8,_0x2c290c),_0xfca180['add'](mg)));return!_0x453cb7;}async['getCenters'](_0x9d25a4){const _0x1367a1=this['getProp']('x'),_0x530c5e=this['getProp']('y'),_0x5586bc=this['getProp']('z');for(let _0x58d997=0xf6d+-0x2390+0x1423;_0x58d997<this['numSplats'];++_0x58d997)_0x9d25a4[_0x58d997*(0x22a3+-0x80*-0x21+-0x1*0x3320)+(0x3*-0x7c2+0x3*0x5c5+0x5f7)]=_0x1367a1[_0x58d997],_0x9d25a4[_0x58d997*(-0x1653+0x178c+-0x136)+(0x967+0x67a+0x1fc*-0x8)]=_0x530c5e[_0x58d997],_0x9d25a4[_0x58d997*(0x61*0x56+-0x4cd*-0x7+-0x2b*0x18a)+(-0xdb9*0x2+-0x264+-0x2fc*-0xa)]=_0x5586bc[_0x58d997],_0x58d997%xf===0x1*0x1052+0xd1*-0x19+0x417&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x3ce4b7;if((_0x3ce4b7=this['transformD'+'ata'])!=null&&_0x3ce4b7['muT'])return this['transformD'+'ata']['muT'];const _0x48a69c=this['getProp']('t');return _0x48a69c?new Float32Array(_0x48a69c):void(0xc23+0x1*-0x1678+0xa55);}async['getTScale'](){const _0x442c18=this['getProp']('t_scale');if(!_0x442c18)return;const _0x4d8173=new Float32Array(this['numSplats']);for(let _0x108eeb=-0x65*-0x3d+-0x1ba9*0x1+-0x2e*-0x14;_0x108eeb<this['numSplats'];++_0x108eeb)_0x4d8173[_0x108eeb]=Math['exp'](_0x442c18[_0x108eeb]),_0x108eeb%xf===0x463+0x621+-0xa84&&await this['yieldToMai'+'n']();return _0x4d8173;}async['getMotion'](_0xa09413){const _0x3e36d2=this['getProp']('motion_0'),_0x3eff60=this['getProp']('motion_1'),_0x591a72=this['getProp']('motion_2');if(!(!_0x3e36d2||!_0x3eff60||!_0x591a72)){for(let _0x3ddcca=-0xe13+-0x765+-0xabc*-0x2;_0x3ddcca<this['numSplats'];++_0x3ddcca)_0xa09413[_0x3ddcca*(0x1*-0x14d1+-0xa*-0x83+0xfb6)+(0x930+-0x2*0x181+-0x62e)]=_0x3e36d2[_0x3ddcca],_0xa09413[_0x3ddcca*(0x1*0x1bb0+-0x1a8*0x4+0x13d*-0x11)+(0x2*0xc73+-0x1*0x21fd+0x918)]=_0x3eff60[_0x3ddcca],_0xa09413[_0x3ddcca*(0x496+-0x142d+0xf9a)+(0x731*-0x1+0xe24+-0x6f1)]=_0x591a72[_0x3ddcca],_0x3ddcca%xf===-0x6*-0x677+-0xa77+-0x1c53&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x541ec6;if((_0x541ec6=this['transformD'+'ata'])!=null&&_0x541ec6['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0xdbd945=this['getProp']('time_index');if(_0xdbd945)return new Float32Array(_0xdbd945);}['calcFocalP'+'oint'](_0x2b09bd,_0x101251){const _0x2402fb=this['getProp']('x'),_0x37d12c=this['getProp']('y'),_0x27aa6e=this['getProp']('z'),_0x110a98=this['getProp']('scale_0'),_0x8072fa=this['getProp']('scale_1'),_0x3d299e=this['getProp']('scale_2');_0x2b09bd['x']=0x255e+0x7*0x2ff+-0x1d*0x203,_0x2b09bd['y']=-0x26a3*-0x1+-0x1*-0x12e9+-0x2*0x1cc6,_0x2b09bd['z']=0x1*0x7c2+-0xdc+0x2*-0x373;let _0xa74935=0x2015+-0x5*0x417+-0xba2;for(let _0x578a6b=-0x1532+-0x11cb+0x26fd;_0x578a6b<this['numSplats'];++_0x578a6b){if(_0x101251&&!_0x101251(_0x578a6b))continue;const _0x426a71=_0x2402fb[_0x578a6b],_0x3a989f=_0x37d12c[_0x578a6b],_0xb4928e=_0x27aa6e[_0x578a6b];if(!isFinite(_0x426a71)||!isFinite(_0x3a989f)||!isFinite(_0xb4928e))continue;const _0x13cd93=(-0x460*0x8+0x2*0xa09+-0xeef*-0x1)/(-0x1241+-0x1*0xad+0x12ef+Math['exp'](Math['max'](_0x110a98[_0x578a6b],_0x8072fa[_0x578a6b],_0x3d299e[_0x578a6b])));_0x2b09bd['x']+=_0x426a71*_0x13cd93,_0x2b09bd['y']+=_0x3a989f*_0x13cd93,_0x2b09bd['z']+=_0xb4928e*_0x13cd93,_0xa74935+=_0x13cd93;}_0x2b09bd['mulScalar']((0x829+0x2e*-0xb3+0x1802)/_0xa74935);}['renderWire'+'frameBound'+'s'](_0x47e36d,_0x2f20fa){const _0xa4150a=new D(),_0x4dbc52=new le(),_0x41f021=new D(),_0x23441d=new D(),_0x3957a6=new D(),_0x1711f2=this['createIter'](_0xa4150a,_0x4dbc52,_0x41f021);for(let _0x48cc40=0xa7*0x36+-0x1*0x156e+-0x1*0xdcc;_0x48cc40<this['numSplats'];++_0x48cc40)_0x1711f2['read'](_0x48cc40),_g(za,_0xa4150a,_0x4dbc52),za['mul2'](_0x2f20fa,za),_0x23441d['set'](_0x41f021['x']*-(0x171d+0x58*0x3b+-0x2b63),_0x41f021['y']*-(-0x328+-0x390*0x6+0x3*0x82e),_0x41f021['z']*-(0x54*0x9+-0x1745+0x1453)),_0x3957a6['set'](_0x41f021['x']*(-0x1*0x26a0+-0x2274+0x4916),_0x41f021['y']*(-0x225c+0x16d5+0xb89),_0x41f021['z']*(0x3f*-0x90+-0x1631+-0xd*-0x46f)),_0x47e36d['immediate']['drawWireAl'+'ignedBox'](_0x23441d,_0x3957a6,KA,!(-0x2*-0xa9b+-0xbb*0xb+-0x1*0xd2d),_0x47e36d['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0xaea*-0x3+0x859*-0x4+0x1*0xa7);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x38564b=0x21db*0x1+-0x35e*-0x8+0xc5*-0x4f;_0x38564b<-0x4*-0x859+0x104*0x23+-0x44c3;++_0x38564b)if(!this['getProp']('f_rest_'+_0x38564b))return _0x38564b;return 0x1a49+0x1d77+-0x3793;})())]??0x694*0x1+0x20*0x4e+-0x4c*0x37;}['calcMorton'+'Order'](){const _0x3ba11e=_0x516e59=>{let _0x51c288=_0x516e59[0x1*0xdef+0x26a6+0x783*-0x7],_0x36b079=_0x516e59[-0x4*-0x5bf+0x1bd9*-0x1+0x4dd];for(let _0x29ecc4=-0x7*0x50b+-0xe35*-0x1+0x1519;_0x29ecc4<_0x516e59['length'];_0x29ecc4++)_0x516e59[_0x29ecc4]<_0x51c288&&(_0x51c288=_0x516e59[_0x29ecc4]),_0x516e59[_0x29ecc4]>_0x36b079&&(_0x36b079=_0x516e59[_0x29ecc4]);return{'min':_0x51c288,'max':_0x36b079};},_0x290f9f=(_0x5d78b8,_0x159dd1,_0x331d1f)=>{const _0x22ac31=_0x23d42e=>(_0x23d42e&=-0x1299+0x2536+-0xe9e,_0x23d42e=(_0x23d42e^_0x23d42e<<0x5*0x51b+-0xfa1+0x2*-0x4eb)&0x2f050eb*0x47+-0xa05e0d69*0x1+0x1*0xceb79d3b,_0x23d42e=(_0x23d42e^_0x23d42e<<0x1d45*0x1+0x2d2*-0xb+-0x1c9*-0x1)&-0x1*0x26e7cb5+0x9*0x7a50c9+-0x1*-0x12295b3,_0x23d42e=(_0x23d42e^_0x23d42e<<0x1*0xae9+0x70f+-0x11f4)&-0x162ebad+0x451dbb3*0x1+0x1*0x1d40bd,_0x23d42e=(_0x23d42e^_0x23d42e<<0x6f*0x17+-0x4*-0x18e+-0x102f)&-0x18c8de0*-0x1+0x7251f10+0x72e559,_0x23d42e);return(_0x22ac31(_0x331d1f)<<-0x3f1*0x5+-0x1929+-0x2ce0*-0x1)+(_0x22ac31(_0x159dd1)<<0x1e*0x35+-0x91c+-0x2e7*-0x1)+_0x22ac31(_0x5d78b8);},_0x105d3d=this['getProp']('x'),_0x1af07d=this['getProp']('y'),_0x6aa1d3=this['getProp']('z'),{min:_0x50b7e7,max:_0x193ecd}=_0x3ba11e(_0x105d3d),{min:_0x26eaec,max:_0x50a5dc}=_0x3ba11e(_0x1af07d),{min:_0x12ccac,max:_0x4360fe}=_0x3ba11e(_0x6aa1d3),_0x390a1a=_0x50b7e7===_0x193ecd?-0x11ba+0x1200+-0x5*0xe:(-0x4*-0x38e+-0x13ed*-0x1+-0x1e25)/(_0x193ecd-_0x50b7e7),_0x33e99a=_0x26eaec===_0x50a5dc?0x260b*0x1+0x1*0x199d+-0x3fa8:(0x1*0x1966+0x57a*-0x5+0x17f*0x4)/(_0x50a5dc-_0x26eaec),_0x1a890e=_0x12ccac===_0x4360fe?0x17b9*-0x1+-0x2473+0x3c2c:(-0x245+-0x1*-0xa3b+-0x3f6*0x1)/(_0x4360fe-_0x12ccac),_0xb67232=new Map();for(let _0xe9b483=-0x62f*0x5+-0x9b4+-0x1*-0x289f;_0xe9b483<this['numSplats'];_0xe9b483++){const _0x1da9cd=Math['min'](-0x189*0x1+0xf*0x13+0x46b,Math['floor']((_0x105d3d[_0xe9b483]-_0x50b7e7)*_0x390a1a)),_0xa73399=Math['min'](-0x89c+0x3*-0x38b+0x173c*0x1,Math['floor']((_0x1af07d[_0xe9b483]-_0x26eaec)*_0x33e99a)),_0xe11f44=Math['min'](0x5*-0x476+0x1*-0x1349+0x2d96,Math['floor']((_0x6aa1d3[_0xe9b483]-_0x12ccac)*_0x1a890e)),_0x3a1dd3=_0x290f9f(_0x1da9cd,_0xa73399,_0xe11f44),_0x2e5a17=_0xb67232['get'](_0x3a1dd3);_0x2e5a17?_0x2e5a17['push'](_0xe9b483):_0xb67232['set'](_0x3a1dd3,[_0xe9b483]);}const _0x4ac0df=Array['from'](_0xb67232['keys']())['sort']((_0x27bd9d,_0x157c6e)=>_0x27bd9d-_0x157c6e),_0x4f1c45=new Uint32Array(this['numSplats']);let _0x4751c4=0x1*0xe05+0x23b6+0x31bb*-0x1;for(let _0x277f9c=-0x1*-0xa67+0xee6*-0x1+0x47f*0x1;_0x277f9c<_0x4ac0df['length'];++_0x277f9c){const _0x25d54f=_0xb67232['get'](_0x4ac0df[_0x277f9c]);for(let _0x21caca=-0xd7b+0xfad*-0x1+0x8*0x3a5;_0x21caca<_0x25d54f['length'];++_0x21caca)_0x4f1c45[_0x4751c4++]=_0x25d54f[_0x21caca];}return _0x4f1c45;}['reorder'](_0x1904de){const _0x3e3a90=new Map(),_0x316850=_0x318cae=>{if(_0x3e3a90['has'](_0x318cae)){const _0x580b01=_0x3e3a90['get'](_0x318cae);return _0x3e3a90['delete'](_0x318cae),_0x580b01;}return new ArrayBuffer(_0x318cae);},_0x1c7f4f=_0x51716e=>{_0x3e3a90['set'](_0x51716e['byteLength'],_0x51716e);},_0x26ffa6=_0x1798a3=>{const _0x1a3477=new _0x1798a3['constructo'+'r'](_0x316850(_0x1798a3['byteLength']));for(let _0x25b3d1=-0x1a9b+-0x7*-0x530+-0x9b5;_0x25b3d1<_0x1904de['length'];_0x25b3d1++)_0x1a3477[_0x25b3d1]=_0x1798a3[_0x1904de[_0x25b3d1]];return _0x1c7f4f(_0x1798a3['buffer']),_0x1a3477;};this['elements']['forEach'](_0x1c9e0c=>{_0x1c9e0c['properties']['forEach'](_0x5cfddc=>{_0x5cfddc['storage']&&(_0x5cfddc['storage']=_0x26ffa6(_0x5cfddc['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x5ab4b3=new Float32Array(-0x79*-0x26+-0xb29*0x2+0x45d);new Int32Array(_0x5ab4b3['buffer']);let _0x28aab7=-0xea7+0x1fb9*-0x1+0x2e60,_0x5c36ef={};self['onmessage']=async _0x270e2f=>{const {data:_0x4cb3ec}=_0x270e2f;switch(_0x4cb3ec['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x5c8dd0(_0x4cb3ec['properties'],_0x4cb3ec['timeIndex'],_0x4cb3ec['timeOption']);break;case'releaseSeq'+'Data':_0x218024(_0x4cb3ec['index']);break;case'releaseAll'+'SeqData':_0xd3c4e6();break;case'destroyWor'+'ker':_0x2b7b61();break;}};const _0x2cebb9=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4bbfb0=0x121b*-0x1+0x16d*-0x14+0x2e9f;_0x4bbfb0<0x27a*-0xd+0x838+0x1827;++_0x4bbfb0)if(!_0x5c36ef['f_rest_'+_0x4bbfb0])return _0x4bbfb0;return 0xa*-0x33f+0x10ec+0xfb7;})())]??0x705+-0x1*0x159b+0x74b*0x2),_0x5c8dd0=(_0x22ec6a,_0x19699e,_0x146818)=>{var _0x218bb7,_0x481fcc;_0x28aab7+=(((_0x218bb7=_0x22ec6a['position'])==null?void(0x1*0x1b86+0x1d32+-0x38b8):_0x218bb7['length'])??-0x2*-0x446+0x1*0x97e+-0x120a)/(-0xbd2*-0x1+-0x5fb*0x5+0x1218),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x28aab7,(((_0x481fcc=_0x22ec6a['position'])==null?void(0x902+0xdd3*-0x1+0x4d1):_0x481fcc['length'])??0x655*0x2+0x10cd+-0x13*0x18d)/(-0x99f+-0xd1*-0xb+0xa7*0x1));const _0x45d1c1=Object['keys'](_0x22ec6a);for(let _0x3043d6=-0x36c+0x554+-0x1e8;_0x3043d6<_0x45d1c1['length'];_0x3043d6++){const _0xc862b0=_0x45d1c1[_0x3043d6],_0x1f9a1f=_0x22ec6a[_0xc862b0],_0x4bc69e=_0x5c36ef[_0xc862b0]??new Float32Array(0x17e7+-0x47*-0x5a+-0x30dd);if(_0x1f9a1f){let _0x54adbe=null;switch(_0xc862b0){case'position':_0x54adbe=new Float32Array(_0x28aab7*(0x7*0x9f+0x8b8+-0xd0e));break;case'color_opac'+'ity':_0x54adbe=new Uint16Array(_0x28aab7*(-0xcf2+-0x21dd+0x2ed3));break;case'scale':_0x54adbe=new Uint16Array(_0x28aab7*(0xa87*0x1+-0x476*-0x5+-0x20d2));break;case'motion':_0x54adbe=new Float32Array(_0x28aab7*(0x2014+-0x7fc+-0x1815));break;case'rotation':_0x54adbe=new Float32Array(_0x28aab7*(0x1*-0xf3d+0xbe6+0x3*0x11e));break;default:_0x54adbe=new Float32Array(_0x28aab7);break;}_0x54adbe['set'](_0x4bc69e,-0x1c58+-0x113f+0x2d97),_0x54adbe['set'](_0x1f9a1f,_0x4bc69e['length']),_0x5c36ef[_0xc862b0]=_0x54adbe;}}const _0x45c19a={};Object['keys'](_0x5c36ef)['forEach'](_0x27f88d=>{_0x27f88d==='scale'||_0x27f88d==='color_opac'+'ity'?_0x45c19a[_0x27f88d]=new Uint16Array(_0x5c36ef[_0x27f88d]['buffer']['slice']()):_0x45c19a[_0x27f88d]=new Float32Array(_0x5c36ef[_0x27f88d]['buffer']['slice']());});const _0x6e4b30=Object['keys'](_0x45c19a)['map'](_0x3c378f=>_0x45c19a[_0x3c378f]['buffer']),_0x154c36=_0x28331b(),_0x16874e=Object['keys'](_0x154c36)['map'](_0x41b841=>_0x154c36[_0x41b841]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x45c19a,'transformData':_0x154c36},_0x6e4b30['concat'](_0x16874e));},_0x28331b=()=>{const _0x1fcc93=_0x5c36ef['position']['length']/(0x1926+-0x3ad+0x1*-0x1576),_0x15001c=_0x5c36ef['position'],_0x4df1d5=_0x5c36ef['scale'],_0x496f42=_0x5c36ef['rotation'],_0xaa7328=_0x5c36ef['motion'],_0x469247=_0x5c36ef['t'],_0x25ca9f=_0x5c36ef['t_scale'],_0x1f346e=_0x5c36ef['time_index'],_0x36f863=_0x5c36ef['color_opac'+'ity'],_0x411a10=(_0x469247==null?void(0x1c76+-0x567+-0x170f):_0x469247['length'])>-0xbf5*-0x1+-0x1048+0x453;let _0x32874e=null,_0x3cd25f=null,_0x129e48=null,_0x42f85e=null;_0x411a10&&(_0x3cd25f=new Float32Array(_0x1fcc93*(-0x1bdc+0xb*0x16f+0xc1a)),_0x42f85e=new Float32Array(_0x1fcc93),_0x32874e=new Float32Array(_0xaa7328['buffer']['slice']()),_0x129e48=new Float32Array(_0xaa7328['buffer']['slice']()));const _0x5855a6=new Float32Array(_0x15001c['buffer']['slice']()),_0x4b404e=new Float32Array(_0x15001c['buffer']['slice']()),_0x128516=new Uint16Array(_0x36f863['buffer']['slice']()),_0x593986=new Uint16Array(_0x4df1d5['buffer']['slice']()),_0x3a7751=new Float32Array(_0x496f42['buffer']['slice']());for(let _0x57303f=0x1*-0x193b+0x1*-0xf3+-0xd17*-0x2;_0x57303f<_0x1fcc93;++_0x57303f)_0x411a10&&_0x3cd25f&&_0x42f85e&&(_0x42f85e[_0x57303f]=_0x25ca9f?Math['exp'](_0x25ca9f[_0x57303f]):-0x13e4+-0x1*0x179+0x155d,_0x3cd25f[_0x57303f*(0x9ea+-0x624+-0x3c3)+(0x2221+0x148d*0x1+-0x36ae)]=_0x469247?_0x469247[_0x57303f]:-0x5ad*0x3+-0xc9b+0x1da2,_0x3cd25f[_0x57303f*(-0xee4+-0x1743+0x262a)+(-0x161*-0x2+-0x26aa+0x23e9)]=_0x42f85e[_0x57303f]);const _0x2ef8c7=_0x4bdbd1();let _0x393333={'dataColor':_0x128516,'dataCenters':_0x4b404e,'dataPosition':_0x5855a6,'dataScale':_0x593986,'dataRotation':_0x3a7751,..._0x2ef8c7};return _0x411a10&&(_0x393333={..._0x393333,'dataMotion':_0x32874e,'dataTime':_0x3cd25f,'motion':_0x129e48,'tScaleArray':_0x42f85e,'muT':new Float32Array(_0x469247),'timeIndex':new Float32Array(_0x1f346e)}),_0x393333;},_0x40aa76=_0x54913c=>{const _0x34bba8=[];for(let _0x3ab2fc=-0x18fb+0xe2e+0xacd;_0x3ab2fc<_0x54913c;++_0x3ab2fc)_0x34bba8['push'](_0x5c36ef['f_rest_'+_0x3ab2fc]);return _0x34bba8;},_0x4bdbd1=()=>{const _0x498f29=_0x2cebb9();if(_0x498f29<=0x120b+-0x1841+0x636)return{};const _0x312e53=_0x5c36ef['x']['length'],_0x1dcd94=new Uint32Array(_0x312e53*(0x1768+0x2266+-0x1a*0x239)),_0x17a5df=new Uint32Array(_0x312e53*(-0x1*-0x168a+0x25b2+-0x3c38)),_0x3489c6=new Uint32Array(_0x312e53*(0x10*0x3d+-0x1df9*0x1+0x1a2d*0x1)),_0xd65cb2=new Uint32Array(_0x312e53*(-0x1804+0x1eb9+-0x6b1)),_0x13b91c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x498f29],_0x2dbbf7=_0x40aa76(_0x13b91c*(0x1*0x5ec+0x5d4*-0x4+-0x1b*-0xa5)),_0xef0eaa=0x770*-0x1+0x35e*0x3+0x555,_0x265624=-0xf69+0x713*0x3+-0x1d1,_0x597c5=new Float32Array(0x2675+0x2521+-0x4b95),_0x1632f5=new Uint32Array(_0x597c5['buffer']),_0x6d6d05=new Array(_0x13b91c*(-0x12e6+0x982+0x967*0x1))['fill'](-0x1*0x1523+-0x1f3*-0x13+-0xfe6);for(let _0x2b862e=-0x1*-0x9f7+-0xf33*-0x1+-0x192a;_0x2b862e<_0x312e53;++_0x2b862e){for(let _0x33380f=0x2*0x7+0x7fd+0x1d*-0x47;_0x33380f<_0x13b91c;++_0x33380f)_0x6d6d05[_0x33380f*(-0xc38+0x15a*-0xe+0x1f27)]=_0x2dbbf7[_0x33380f][_0x2b862e],_0x6d6d05[_0x33380f*(0x5f7+0xb5+-0x6a9)+(0x1b6c+0x305+-0x1e70)]=_0x2dbbf7[_0x33380f+_0x13b91c][_0x2b862e],_0x6d6d05[_0x33380f*(0x4*-0x19+0x207b+-0x2014)+(0x2705+0x1f9+-0x28fc)]=_0x2dbbf7[_0x33380f+_0x13b91c*(0x8b3*0x1+-0xf52+0x6a1)][_0x2b862e];let _0x29bec2=_0x6d6d05[0x839*-0x3+0x8*-0x43+0x1ac3];for(let _0x502aa3=-0xc5*-0x8+0x7*0x9+-0x3*0x222;_0x502aa3<_0x13b91c*(0x10db+-0x1a66+0x98e);++_0x502aa3)_0x29bec2=Math['max'](_0x29bec2,Math['abs'](_0x6d6d05[_0x502aa3]));if(_0x29bec2!==0x953+0x97b+-0x2*0x967){for(let _0x410937=-0x3a9+0x4ba+0x1*-0x111;_0x410937<_0x13b91c;++_0x410937)_0x6d6d05[_0x410937*(-0x45d*0x3+-0x1b*0x33+0x127b)+(-0x130+0xf34+-0xe04)]=Math['max'](-0xd8e+-0x373*0xb+0x337f,Math['min'](_0xef0eaa,Math['floor']((_0x6d6d05[_0x410937*(0x49*-0x4b+-0xe29+0x238f)+(-0x1cf8+0x1a06+-0x1a*-0x1d)]/_0x29bec2*(0x112*0x12+0x1104+-0x2448*0x1+0.5)+(-0x75*0x36+0x13b4+0x31*0x1a+0.5))*_0xef0eaa+(0x4*0x6f6+0x2588+-0x4160+0.5)))),_0x6d6d05[_0x410937*(-0x3*-0x322+0x3*0x32b+-0x2*0x972)+(-0x17*-0x55+-0x1c4e+0x14ac)]=Math['max'](-0x671+-0xcfe+0x136f*0x1,Math['min'](_0x265624,Math['floor']((_0x6d6d05[_0x410937*(-0x787+0x8be+0x1c*-0xb)+(-0x531+0x13*0x9e+0x98*-0xb)]/_0x29bec2*(0x2154+0xa4d*-0x1+0x2d*-0x83+0.5)+(-0xa82+0x1317+-0x895+0.5))*_0x265624+(0x2545+-0x5*-0x407+-0x8*0x72d+0.5)))),_0x6d6d05[_0x410937*(0x568*-0x6+0x1*-0xa54+0x1*0x2ac7)+(-0x25+-0x5fd+-0x3*-0x20c)]=Math['max'](-0x1a93*-0x1+0x1122+-0x2bb5,Math['min'](_0xef0eaa,Math['floor']((_0x6d6d05[_0x410937*(-0x817+0x5e9*0x5+-0x1573)+(-0x23ab+0xd*0x82+0x1d13*0x1)]/_0x29bec2*(-0xfe*-0x1c+0x1f76+0x1d9f*-0x2+0.5)+(-0x4e4+-0x2eb+0x7cf+0.5))*_0xef0eaa+(0x207a*0x1+0x157a+-0x35f4+0.5))));_0x597c5[-0x137f+-0x1e58+0x31d7*0x1]=_0x29bec2,_0x1dcd94[_0x2b862e*(0x7*-0x16d+-0xc39+0x3b4*0x6)+(0x2*-0x506+0x4*-0x5d8+-0x174*-0x17)]=_0x1632f5[-0x1288+0x1ac2+0x51*-0x1a],_0x1dcd94[_0x2b862e*(-0x12e2*-0x1+0x6d*-0x3f+-0x1*-0x7f5)+(0x1343+-0x684+-0xcbe)]=_0x6d6d05[0x7b2+-0x1bdb+0x1*0x1429]<<0x18a9+-0x1f1b*0x1+0x687|_0x6d6d05[-0x3*0x199+0x235c+-0x1e90]<<-0x3c6+0x2011+0xe20*-0x2|_0x6d6d05[0x1a69+-0xa32+0x9*-0x1cd],_0x1dcd94[_0x2b862e*(0x1dfc+-0x9f*-0x1+-0x1e97)+(0x16db+-0x1758+0x7f)]=_0x6d6d05[-0xf5e+-0x5ba+0x709*0x3]<<-0x1*-0x217d+0x1b29*-0x1+-0x63f|_0x6d6d05[-0x225e+0x209d+-0x3*-0x97]<<-0x1359+0x2*-0x4d5+0x1d0e|_0x6d6d05[-0x21fa+0x1895+0xa*0xf1],_0x1dcd94[_0x2b862e*(-0x129a+0x2*0x1111+-0x1*0xf84)+(0x1*0x6fc+-0x1c03+0x150a)]=_0x6d6d05[0x1ba6*-0x1+0x22bb+-0x70f]<<-0x1a3*0x11+0x49*0x6e+-0x1bb*0x2|_0x6d6d05[0x4*0x135+0x2622+-0x2aef]<<-0x839+-0x41*0x5f+0x2063|_0x6d6d05[0x380+-0xe04+0xa8c],_0x498f29>0x100d*0x2+0x243c+-0x4455&&(_0x17a5df[_0x2b862e*(-0x59f*0x2+0x237c+-0x183a)+(0x149a+0x10a+0x569*-0x4)]=_0x6d6d05[-0x1594+-0x2*-0x7de+0x5e1]<<0x1*-0x144c+-0x2a6+-0x1707*-0x1|_0x6d6d05[-0x24cf+0x912+-0x1bc7*-0x1]<<-0x19bc+0x1119+0x1*0x8ae|_0x6d6d05[-0x31c*-0x1+0x24f0+-0x2801],_0x17a5df[_0x2b862e*(-0xd5d+-0x655*-0x2+-0x3*-0x3d)+(-0x1f21+-0x1925+0x3847*0x1)]=_0x6d6d05[0xcfb*0x2+-0x1812+-0x1*0x1d8]<<0x2523+-0xc1d*0x1+-0x1*0x18f1|_0x6d6d05[-0x26db+-0x1*-0x26d9+0xf]<<0x155e+-0x140+-0x1413|_0x6d6d05[0x3b9*-0x2+0x16d+-0x137*-0x5],_0x17a5df[_0x2b862e*(0x211f*-0x1+-0x1a20+0x185*0x27)+(-0x1041+0x39*0x9+0xe42)]=_0x6d6d05[0x6f0+0x1c*0xc1+-0x1bfd]<<0x4f*-0x38+-0x104a+-0x21a7*-0x1|_0x6d6d05[0x1a1b+0x13d*-0x17+-0x1*-0x270]<<0xdf*0x1+0xea0+-0xf74|_0x6d6d05[0xc52+0x880+0x21*-0xa1],_0x17a5df[_0x2b862e*(0xa9*0xd+-0x5*0x6bb+0x1916)+(-0x14a7+-0x24d*0xf+-0x71*-0x7d)]=_0x6d6d05[0xc9c+0x1e8+-0x56*0x2b]<<0x1c3d+0x702*0x5+-0x3f32|_0x6d6d05[-0x5*-0x79+-0x1f3d+-0x1*-0x1cf3]<<0x1cf*-0x15+0x66*0x15+0xd*0x248|_0x6d6d05[-0x1883+0x14d*-0xb+0x2*0x1373],_0x498f29>-0x1*0x17ca+-0x15b3+-0x2d7f*-0x1?(_0x3489c6[_0x2b862e*(0x1*0x16af+-0x1714+0x69)+(0x202a+-0x1866+0x7*-0x11c)]=_0x6d6d05[-0x85+-0x5eb+0x685]<<-0x1b8a+-0x86*0x2f+0x3439|_0x6d6d05[0xbf3*-0x1+-0x230b+0x2f14]<<-0x10c4*-0x2+-0x2525+-0x24*-0x1a|_0x6d6d05[-0x1998+-0x22*0xe2+0x3*0x1291],_0x3489c6[_0x2b862e*(-0xbc*0x11+-0x1346*-0x1+-0x6c6)+(0x1*-0x14bd+0x1eb+0x12d3)]=_0x6d6d05[0x2*-0xce+0x1317+-0x1163]<<-0x2*-0x907+0x3*-0x765+0x436|_0x6d6d05[0x2*0xa9b+-0x7+-0x1516*0x1]<<0x13d*0x5+-0x1307+0x9d*0x15|_0x6d6d05[0x21a6+0x1*0x1c45+-0x19*0x279],_0x3489c6[_0x2b862e*(0x1566+0xe3*-0x29+0xef9*0x1)+(-0x1e0d*-0x1+-0x5f2*-0x1+-0x23fd)]=_0x6d6d05[0x2f3+0xf7d+-0x1255]<<0x4*-0x9a1+0x2011+0x688|_0x6d6d05[0x1db9+0x1c47+-0x4c*0xc3]<<-0x1*-0x1ade+0x151a+-0x2fed|_0x6d6d05[0x1*-0x1d21+0x28d*0x4+0x130a],_0x3489c6[_0x2b862e*(-0x1f9c+-0xc2e+0x3*0xe9a)+(0xd9+-0xefb+0xe25)]=_0x6d6d05[0x1327+0x20de+-0x33e7]<<0x1fee+-0x209b+0xc2|_0x6d6d05[0x1140+-0x7fd+-0x924]<<0x10b+0x81+0xb*-0x23|_0x6d6d05[0x182d+0x1*-0x9d6+-0xe37],_0xd65cb2[_0x2b862e*(-0x1501+0xf*-0x251+0x53*0xac)+(0x3*-0x5de+-0x3*0xc69+-0x1247*-0x3)]=_0x6d6d05[0x6f*-0x15+0x823*0x4+-0x1750]<<0x1*-0x571+0xb*-0x104+-0x859*-0x2|_0x6d6d05[0x179*-0x1+-0x3d6+0x571]<<-0x6c6*-0x3+0x443+-0x188a|_0x6d6d05[-0x2b*0x31+-0xda8+0x1606],_0xd65cb2[_0x2b862e*(0x131c*0x1+-0x25*-0xa9+-0x2b85)+(0x1*0x10fa+-0x589*-0x3+-0x7*0x4cc)]=_0x6d6d05[0x2c6+0x1ee2+-0x2184]<<-0x3d*-0xa+0x31d*-0x4+0xa27|_0x6d6d05[-0x34e+0x2374+-0x1*0x2001]<<-0x1*-0xc91+-0x2604+0x1*0x197e|_0x6d6d05[-0xd4f+-0x15cf*-0x1+0x85a*-0x1],_0xd65cb2[_0x2b862e*(-0x2454+-0x4eb*0x1+0x3*0xdc1)+(0x1437+-0x7b2*0x4+0xa93)]=_0x6d6d05[-0x72a*0x5+-0x2309*0x1+0x12a*0x3d]<<-0x1d37+0x50e*-0x1+0x225a|_0x6d6d05[-0x1e8b+0xdaf*0x1+-0x6*-0x2d6]<<0x17e2+-0x1d1d+0x546|_0x6d6d05[0x17*0x2c+0x27*0x43+-0xe*0x100],_0xd65cb2[_0x2b862e*(-0x83+-0x2f*-0x1+-0x2c*-0x2)+(-0x16*-0xe9+-0x1*0x1efd+0x232*0x5)]=_0x6d6d05[0x9*-0x9a+0x158+-0x4*-0x10f]<<-0x8*-0x1+0x1b1d*-0x1+-0x1*-0x1b2a|_0x6d6d05[0x12b2+0x145e+0x3*-0xcf7]<<0x33b*-0x1+-0xd*0x2ce+0x4*0x9ef|_0x6d6d05[0xb37*0x1+-0x17fb*-0x1+-0x2306*0x1]):_0x3489c6[_0x2b862e]=_0x6d6d05[-0x1734+0x1*-0x1869+-0x21*-0x172]<<0x63a*0x6+0x309*-0x7+-0x1008|_0x6d6d05[0xad7+0x89*0x3d+-0x2b66]<<-0x1e84+0x224c+-0x3bd|_0x6d6d05[0x10c*-0x25+-0x3b3*0x1+0x2a86]);}}return{'sh1to3Data':_0x1dcd94,'sh4to7Data':_0x17a5df,'sh8to11Data':_0x3489c6,'sh12to15Data':_0xd65cb2};},_0x218024=_0x3bbe00=>{if(!_0x5c36ef['time_index'])return;const _0x5170f1=_0x5c36ef['time_index']['findIndex'](_0x19b9ea=>_0x19b9ea===_0x3bbe00);let _0x45c715=_0x5c36ef['time_index']['findIndex']((_0x3c4c8d,_0x127c69)=>_0x3c4c8d!==_0x3bbe00&&_0x127c69>_0x5170f1);if(_0x45c715===-(-0x267b*-0x1+0x1fd*-0x7+-0x188f)&&_0x5170f1===-(0x398*-0x1+0x771+-0x52*0xc))return;_0x45c715===-(-0x3*-0xfd+-0x1d*-0x8b+-0x12b5*0x1)&&_0x5170f1!==-(0x35*0x81+0x1094+-0x2b48)&&(_0x45c715=_0x5c36ef['time_index']['length']),_0x28aab7-=_0x45c715-_0x5170f1,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x28aab7,_0x45c715-_0x5170f1);const _0x59bac4=Object['keys'](_0x5c36ef);for(let _0x18d9ee=-0x2c0*-0xe+0x1032+-0x1*0x36b2;_0x18d9ee<_0x59bac4['length'];_0x18d9ee++){const _0x4fd753=_0x59bac4[_0x18d9ee],_0x494b32=_0x5c36ef[_0x4fd753];if(_0x494b32){let _0x5cf622=-0xc0f*0x3+0xba5+0x23b*0xb;switch(_0x4fd753){case'position':_0x5cf622=-0x17*-0x178+-0x254b+0x386;break;case'color_opac'+'ity':_0x5cf622=-0x22e+0x1186+-0xf54;break;case'scale':_0x5cf622=0x170f*0x1+0x4*0x82e+0xac*-0x53;break;case'motion':_0x5cf622=-0x1*0x292+-0x12*-0x12c+0x2a5*-0x7;break;case'rotation':_0x5cf622=-0x1558+-0x33*0x1d+0x1b22;break;default:_0x5cf622=-0xa04+-0x1a4+0xba9;break;}const _0x46cb32=new Float32Array(_0x28aab7*_0x5cf622);_0x5170f1>-0x2cc*-0x4+0x20a6+0x16a*-0x1f?(_0x46cb32['set'](_0x494b32['subarray'](0x39*0x9e+-0x1e9c+-0x492,_0x5170f1*_0x5cf622),-0xc*0xb1+-0x1cf*0x5+-0x1*-0x1157),_0x46cb32['set'](_0x494b32['subarray'](_0x45c715*_0x5cf622),_0x5170f1*_0x5cf622)):_0x46cb32['set'](_0x494b32['subarray'](_0x45c715*_0x5cf622),-0x1*-0xf55+-0x4*0x80e+0x21*0x83),_0x5c36ef[_0x4fd753]=_0x46cb32;}}},_0xd3c4e6=()=>{const _0x2adb1c=Object['keys'](_0x5c36ef);for(let _0x52a889=-0x1*0x122e+-0x602+0x10*0x183;_0x52a889<_0x2adb1c['length'];_0x52a889++){const _0x5bba44=_0x2adb1c[_0x52a889];_0x5c36ef[_0x5bba44]&&(_0x5c36ef[_0x5bba44]=[]);}},_0x2b7b61=()=>{_0x5c36ef={},_0x28aab7=0x23a6+-0xb*0x81+-0x1e1b;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x2efab8,_0x120350,_0x285db6,_0x22fcbe=!(0x1*-0x3d9+0x2575+0x219b*-0x1)){var _0x2dcd05,_0x198e7c;const _0x1da7ba={};return _0x2efab8['elements'][-0x1*-0x33d+0x28*0x8+0x47d*-0x1]['properties']['forEach'](_0x5c24a8=>{_0x1da7ba[_0x5c24a8['name']]=_0x5c24a8['storage'];}),_0x22fcbe?(_0x2dcd05=this['worker'])==null||_0x2dcd05['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x1da7ba,'timeIndex':_0x120350,'timeOption':_0x285db6},_0x2efab8['elements'][-0x1802+-0x11*0xf7+0x815*0x5]['properties']['map'](_0x1a324c=>_0x1a324c['storage']['buffer'])):(_0x198e7c=this['worker'])==null||_0x198e7c['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x1da7ba,'timeIndex':_0x120350,'timeOption':_0x285db6}),new Promise(_0x18ed24=>{this['worker']['onmessage']=_0xcb7ff1=>{if(!this['worker'])return;const {data:_0x4035d1}=_0xcb7ff1;_0x4035d1['type']==='newAppendD'+'ata'&&_0x18ed24(_0x4035d1);};});}async['releaseSeq'+'Data'](_0x1ff3b1){var _0x567e5b;(_0x567e5b=this['worker'])==null||_0x567e5b['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x1ff3b1});}async['releaseAll'+'SeqData'](){var _0x48d2ad;(_0x48d2ad=this['worker'])==null||_0x48d2ad['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x46088e;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x46088e=this['worker'])==null||_0x46088e['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x1*-0x1e3b+-0x1*-0x3af+0x1a8d,0x1*0x734+0x769*0x5+-0x2c40,-0x1*0xd17+0x1*0x20b+0xb0c,0x1*-0x21e5+-0x23fc*0x1+-0x59*-0xc9+0.4),Sg=0x1*-0x217af+0x323c2+0x2012d;class tC{constructor(_0x2a3c96,_0x4847ca,_0x472689,_0x5829ab,_0xe9e6ec,_0x9ca42b){const _0x45f234=_0x2a3c96['getProp']('position'),_0x55bf3a=_0x2a3c96['getProp']('color_opac'+'ity'),_0x15f6af=_0x2a3c96['getProp']('scale'),_0x5aa077=_0x2a3c96['getProp']('motion'),_0x349b98=_0x2a3c96['getProp']('rotation');this['read']=_0x567130=>{_0x4847ca&&_0x4847ca['set'](_0x45f234[_0x567130*(0x1d1e+0xa6c+-0x2787)+(-0x11af+0x1*0x7dc+0x9d3)],_0x45f234[_0x567130*(0x147e*-0x1+-0x2699+0x3b1a)+(0x2*-0x9c1+0x827*0x1+-0x5ae*-0x2)],_0x45f234[_0x567130*(-0x157d+-0x16c3+0x2c43)+(0x5*-0x2ea+-0x15*-0x15d+-0xe0d)]),_0x472689&&_0x472689['set'](_0x349b98[_0x567130*(0x20f*-0x9+0x1*0x10db+0x1*0x1af)+(0xa3*0x28+-0xd2c*0x1+-0xc4c)],_0x349b98[_0x567130*(-0x125b+-0x815*-0x1+0xa49)+(-0x7e0+0x145e+0x17*-0x8b)],_0x349b98[_0x567130*(-0x1*-0x1744+-0x1*-0xb1b+-0x225c)+(-0x5*-0x37e+0x1fd0+-0x3144)]),_0x5829ab&&_0x5829ab['set'](_0x15f6af[_0x567130*(-0x86d+0x8db*0x4+-0x1afc)+(0x6*0x180+0xf9*0x13+-0x1b7b)],_0x15f6af[_0x567130*(-0x44*-0x47+-0xe8*-0x2b+-0x39d1)+(-0x9*0x15b+0x1f72+-0x133e)],_0x15f6af[_0x567130*(-0xc83+0x2*-0x773+0x1b6c)+(0x1517+-0x1a05+-0x278*-0x2)]),_0x9ca42b&&_0x5aa077&&_0x9ca42b['set'](_0x5aa077[_0x567130*(-0x226e+0x1*-0x12d5+0x3546)+(0x772+0x2*-0x805+0x898)],_0x5aa077[_0x567130*(-0x1691*0x1+0x1246+0x44e)+(0x11e3+-0x85a*-0x1+-0x1a3c)],_0x5aa077[_0x567130*(-0x7*-0x472+-0x1411*0x1+-0xb0a)+(0xc67*-0x1+0x2d9*0xa+-0x1011)]),_0xe9e6ec&&_0xe9e6ec['set'](_0x55bf3a[_0x567130*(0x5d*0x67+-0x133*-0x1+-0x269a)+(-0x4*0x29b+-0x18cb+0x2337)],_0x55bf3a[_0x567130*(0x185d+0x266*0xf+0x3c53*-0x1)+(-0xaf9+0x6a1*-0x1+0x1*0x119b)],_0x55bf3a[_0x567130*(0xc*-0x5c+-0x1*-0xc52+-0x7fe)+(-0x1c83+0xaa4+-0x11e1*-0x1)],_0x55bf3a[_0x567130*(0x12d1+0x369*0x1+0x2*-0xb1b)+(-0x1594*0x1+0x8a0+0xcf7)]);};}}const sC=(_0xa6d5e,_0x42e4cd,_0x14cf2b)=>{gg['set'](_0x14cf2b['x'],_0x14cf2b['y'],_0x14cf2b['z'],_0x14cf2b['w'])['normalize'](),_0xa6d5e['setTRS'](_0x42e4cd,gg,D['ONE']);};class iC{constructor(_0x1bc875,_0x7ba7df=[],_0x476d73=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0x5*0x72b+-0x218e+0x1*-0x249),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x22388d;(_0x22388d=this['dataWorker'])==null||_0x22388d['destroy'](),this['dataWorker']=null;});var _0x541e7c,_0x176924,_0x50757d;this['elements']=_0x1bc875,this['properties']=_0x476d73,this['numSplats']=((_0x541e7c=this['getElement']('vertex'))==null?void(-0x267f+-0x727*0x2+0x34cd):_0x541e7c['count'])??-0x179*0xd+-0x17b4+0x1*0x2ad9,this['comments']=_0x7ba7df,this['is4D']=!!((_0x50757d=(_0x176924=this['getElement']('vertex'))==null?void(-0x20*0x34+0x2340+-0x1cc0):_0x176924['properties']['find'](_0x4a981d=>_0x4a981d['name']==='t'))!=null&&_0x50757d['storage']);}async['appendGSpl'+'atData'](_0x5648cc,_0x1f3021,_0x221945){var _0x26a661;let _0x35c052=-0x23ab+0x419+0x1f92;for(let _0x4d9ebb=-0xe3a+-0x1eff+0x2a9*0x11;_0x4d9ebb<_0x221945['length']&&_0x1f3021>_0x221945[_0x4d9ebb];_0x4d9ebb+=-0x7*-0x399+-0x4bc*-0x1+0x1f*-0xf7)_0x35c052=_0x4d9ebb/(0x2bb+0xc*-0xd3+0x72b);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x2*-0x4f9+-0x181d*-0x1+-0xe2b,_0x221945));const _0x5e4da4=this['getElement']('vertex');_0x5e4da4&&(_0x5e4da4['count']=this['numSplats']);const _0x1832d2=await this['dataWorker']['appendGSpl'+'atData'](_0x5648cc,_0x35c052,_0x221945,!(0x1*-0xd91+-0x18fb+0x268c)),_0x513942=_0x1832d2['properties'],_0x2af914=((_0x26a661=this['getElement']('vertex'))==null?void(-0x68*-0x38+-0xc2e+-0x6*0x1c3):_0x26a661['properties'])??[];for(const _0x5898e2 in _0x513942){const _0x1372bd=_0x2af914['find'](_0x189fd5=>_0x189fd5['name']===_0x5898e2);_0x1372bd?_0x1372bd['storage']=_0x513942[_0x5898e2]:_0x2af914['push']({'type':'float','name':_0x5898e2,'storage':_0x513942[_0x5898e2],'byteSize':0x4});}this['transformD'+'ata']=_0x1832d2['transformD'+'ata'],this['numSplats']=_0x513942['position']['length']/(0x1*0x23d1+0x1f66+-0x4334*0x1);}async['releaseSeq'+'Data'](_0x52051c){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x52051c),this['dataWorker']['releaseSeq'+'Data'](_0x52051c),this;}async['releaseAll'+'SeqData'](){var _0x5bd2f2;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x5bd2f2=this['dataWorker'])==null||_0x5bd2f2['releaseAll'+'SeqData'](),this;}['getProp'](_0x1bab29,_0x5ba52d='vertex'){var _0x4e484,_0x3fcba4;return(_0x3fcba4=(_0x4e484=this['getElement'](_0x5ba52d))==null?void(-0xfef*-0x2+-0xf8f+0x5*-0x343):_0x4e484['properties']['find'](_0x20ec66=>_0x20ec66['name']===_0x1bab29))==null?void(-0x2a9*0x8+0x1f98+-0xdc*0xc):_0x3fcba4['storage'];}['getElement'](_0x4026a4){return this['elements']['find'](_0x5a2e69=>_0x5a2e69['name']===_0x4026a4);}['createIter'](_0x3ecf46,_0xfbcda1,_0x3c131d,_0x495cad,_0x471000){return new tC(this,_0x3ecf46,_0xfbcda1,_0x3c131d,_0x495cad,_0x471000);}['calcAabb'](_0x269954,_0x5dc063){let _0x29d542=-0x627*-0x1+-0x1c39+0x1612,_0x1141b1=0x2572+0x1f4f+-0x3*0x16eb,_0x2d9773=-0xe87*0x1+-0x2138*-0x1+-0x12b1,_0x30d18e=0x1db*-0x7+0x1*-0x2cd+0x56*0x2f,_0x3c0cc1=0x865+-0x2457+0x1bf2,_0xb37028=0x5d9*0x4+-0x1e9b*0x1+-0x1*-0x737,_0x4b52db=!(-0x44f*-0x1+-0x1*0x407+-0x1*0x48);const _0x4af46d=this['getProp']('position'),_0x161148=this['getProp']('scale');for(let _0x4956ae=-0x16c6+-0x1c54+0x331a;_0x4956ae<this['numSplats'];++_0x4956ae){if(_0x5dc063&&!_0x5dc063(_0x4956ae))continue;const _0x13cc1b=_0x4af46d[_0x4956ae*(0x137*0x15+-0xeed*0x1+-0xa93)+(0x17*-0xfb+0x39*0xa2+0x1*-0xd85)],_0x4f09f8=_0x4af46d[_0x4956ae*(-0x7ba+0x79f+0x1e)+(-0x149e+0x419*0x5+-0x2*-0x11)],_0x1a45e2=_0x4af46d[_0x4956ae*(-0x647*0x1+0xe82*0x1+-0x838)+(0x59*-0x35+-0x1f7+0x1466)],_0x2c7791=Math['max'](_0x161148[_0x4956ae*(0x1*-0xedd+0x4*-0x60b+-0x270c*-0x1)+(-0xd17+0xbd0+0x147)],_0x161148[_0x4956ae*(0x1*0xfb3+0x1*-0xcf2+0x1*-0x2be)+(-0x1c07+0xd*0xe8+-0x1040*-0x1)],_0x161148[_0x4956ae*(0x1acb+0x332*0xc+0x20*-0x209)+(-0x1*0x1e7+-0x5f8+-0x1*-0x7e1)]);if(!isFinite(_0x13cc1b)||!isFinite(_0x4f09f8)||!isFinite(_0x1a45e2)||!isFinite(_0x2c7791))continue;const _0x1dcb1f=(-0x1*0x204c+-0x7fa+0x8*0x509)*Math['exp'](_0x2c7791);_0x4b52db?(_0x4b52db=!(-0xb*0xf7+0x77f+-0x2f*-0x11),_0x29d542=_0x13cc1b-_0x1dcb1f,_0x1141b1=_0x4f09f8-_0x1dcb1f,_0x2d9773=_0x1a45e2-_0x1dcb1f,_0x30d18e=_0x13cc1b+_0x1dcb1f,_0x3c0cc1=_0x4f09f8+_0x1dcb1f,_0xb37028=_0x1a45e2+_0x1dcb1f):(_0x29d542=Math['min'](_0x29d542,_0x13cc1b-_0x1dcb1f),_0x1141b1=Math['min'](_0x1141b1,_0x4f09f8-_0x1dcb1f),_0x2d9773=Math['min'](_0x2d9773,_0x1a45e2-_0x1dcb1f),_0x30d18e=Math['max'](_0x30d18e,_0x13cc1b+_0x1dcb1f),_0x3c0cc1=Math['max'](_0x3c0cc1,_0x4f09f8+_0x1dcb1f),_0xb37028=Math['max'](_0xb37028,_0x1a45e2+_0x1dcb1f));}return _0x4b52db||(_0x269954['center']['set']((_0x29d542+_0x30d18e)*(-0x2231+0x18*0x1b+0x1fa9+0.5),(_0x1141b1+_0x3c0cc1)*(0x1493+0x1*0x742+-0x1bd5+0.5),(_0x2d9773+_0xb37028)*(-0x233e+0x1*0x21aa+0x194*0x1+0.5)),_0x269954['halfExtent'+'s']['set']((_0x30d18e-_0x29d542)*(-0x2*0x12f7+0x203*0x1+0x23eb+0.5),(_0x3c0cc1-_0x1141b1)*(0xf78+0x1*0x607+-0x1*0x157f+0.5),(_0xb37028-_0x2d9773)*(0x1559+-0x1*0x1957+0x3fe+0.5))),!_0x4b52db;}['yieldToMai'+'n'](){var _0x59d077;return(_0x59d077=globalThis['scheduler'])!=null&&_0x59d077['yield']?globalThis['scheduler']['yield']():new Promise(_0x29924e=>{setTimeout(_0x29924e,0x2122+-0x142c+0x2*-0x67b);});}async['getCenters'](_0xbc9cd){const _0x4b97ca=this['getProp']('x'),_0x14ca1d=this['getProp']('y'),_0x1a7426=this['getProp']('z');for(let _0x3a7b9c=-0x11*-0x95+0x28a*-0x3+-0x247;_0x3a7b9c<this['numSplats'];++_0x3a7b9c)_0xbc9cd[_0x3a7b9c*(-0x1ea5+0x239a+-0x4f2)+(-0x1307*0x1+-0x2*0x120+0x1547)]=_0x4b97ca[_0x3a7b9c],_0xbc9cd[_0x3a7b9c*(-0xb6*0x34+-0x155*0x2+0x1*0x27a5)+(0x211*-0x11+0x11da*-0x2+0x2*0x236b)]=_0x14ca1d[_0x3a7b9c],_0xbc9cd[_0x3a7b9c*(0x284+-0x8*-0x4cc+-0xa1*0x41)+(0x240e+0x12b0+-0x36bc)]=_0x1a7426[_0x3a7b9c],_0x3a7b9c%Sg===0xa7*0x11+0x13*0x67+-0x12bc&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x470ec0;if((_0x470ec0=this['transformD'+'ata'])!=null&&_0x470ec0['muT'])return this['transformD'+'ata']['muT'];const _0x487ec8=this['getProp']('t');return _0x487ec8?new Float32Array(_0x487ec8):void(0x3*-0x5af+0x1*-0x26d3+0x950*0x6);}async['getTScale'](){const _0x307a37=this['getProp']('t_scale');if(!_0x307a37)return;const _0x3832b8=new Float32Array(this['numSplats']);for(let _0x9743e4=0x2443+-0x26a7+0x264;_0x9743e4<this['numSplats'];++_0x9743e4)_0x3832b8[_0x9743e4]=Math['exp'](_0x307a37[_0x9743e4]),_0x9743e4%Sg===-0x549*-0x3+0x893*-0x1+0x1*-0x748&&await this['yieldToMai'+'n']();return _0x3832b8;}['getMotion'](_0x190cbb){const _0x14e095=this['getProp']('motion');_0x14e095&&new Float32Array(_0x14e095['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x32bd17;if((_0x32bd17=this['transformD'+'ata'])!=null&&_0x32bd17['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x203d5b=this['getProp']('time_index');if(_0x203d5b)return new Float32Array(_0x203d5b);}['calcFocalP'+'oint'](_0x171702,_0x584c2d){const _0x38af90=this['getProp']('position'),_0x190d9a=this['getProp']('scale');_0x171702['x']=0x17d6+-0x1b6e+0x398,_0x171702['y']=-0x18fb+0xc4b*0x1+0xcb0,_0x171702['z']=-0xb38*0x1+-0x1633*0x1+0x5*0x6af;let _0x4e7cbc=0xd68+-0x72d+-0x63b;for(let _0x322529=-0x3d7*-0x2+-0xe05+0x657;_0x322529<this['numSplats'];++_0x322529){if(_0x584c2d&&!_0x584c2d(_0x322529))continue;const _0x22b115=_0x38af90[_0x322529*(0x15b9*-0x1+0x21*-0x41+0x1e1d)+(-0x15be+-0x145c+0x11*0x27a)],_0x10540a=_0x38af90[_0x322529*(-0x7c3+-0x72a*-0x2+-0x68e)+(-0x24aa+0x1b9d+0x1*0x90e)],_0x4204e4=_0x38af90[_0x322529*(-0x1fbf+0x2666+-0x6a4)+(-0x1cb2+-0x2*-0xf5b+-0x202)];if(!isFinite(_0x22b115)||!isFinite(_0x10540a)||!isFinite(_0x4204e4))continue;const _0x33efa0=(0x2*-0x106b+-0x912+0x29e9)/(0xfd7+-0x548*0x2+-0x546+Math['max'](_0x190d9a[_0x322529*(0x3*-0x5cd+0x1bb+-0x323*-0x5)+(-0x75*0x49+-0x1*0x2f3+0x2450)],_0x190d9a[_0x322529*(-0xdf8*-0x2+-0x9f7+-0x11f6)+(0x77*0x11+-0x4b1*0x1+-0x1*0x335)],_0x190d9a[_0x322529*(0x1*0x156e+0x1116*0x2+-0x3797)+(-0xbc7+-0x1d*0x137+0x2f04)]));_0x171702['x']+=_0x22b115*_0x33efa0,_0x171702['y']+=_0x10540a*_0x33efa0,_0x171702['z']+=_0x4204e4*_0x33efa0,_0x4e7cbc+=_0x33efa0;}_0x171702['mulScalar']((-0x3a1*0x5+0x78*0x2a+0x1*-0x18a)/_0x4e7cbc);}['renderWire'+'frameBound'+'s'](_0x3a0496,_0x1c7613){const _0x51544f=new D(),_0x1df6d3=new le(),_0x30f42b=new D(),_0xccfa98=new D(),_0x46a3af=new D(),_0x5e4a66=this['createIter'](_0x51544f,_0x1df6d3,_0x30f42b);for(let _0x5ba6da=0x19bb+0xa2e+-0x23e9;_0x5ba6da<this['numSplats'];++_0x5ba6da)_0x5e4a66['read'](_0x5ba6da),sC(gc,_0x51544f,_0x1df6d3),gc['mul2'](_0x1c7613,gc),_0xccfa98['set'](_0x30f42b['x']*-(-0xb50+0x25*-0xd8+0x37*0xc6),_0x30f42b['y']*-(0xf8c+0x1779+0x1*-0x2703),_0x30f42b['z']*-(0xc29+0x1105+-0x1d2c)),_0x46a3af['set'](_0x30f42b['x']*(0xce7+-0x5d0*0x5+0x102b),_0x30f42b['y']*(-0x2623+-0x1d5+0x27fa),_0x30f42b['z']*(-0x6d*0x59+0x10ae+0x1539)),_0x3a0496['immediate']['drawWireAl'+'ignedBox'](_0xccfa98,_0x46a3af,eC,!(-0x1760+-0x1ffc+0x375c),_0x3a0496['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x3*-0xcb3+0x1fef+0x1*0x62b);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x31565c=-0x65*-0x62+0x114e+-0x954*0x6;_0x31565c<0x89d+0x620+-0x10*0xe9;++_0x31565c)if(!this['getProp']('f_rest_'+_0x31565c))return _0x31565c;return 0x19f+0x1eea+0x26*-0xda;})())]??-0x1*-0x1f41+-0x3*0x67f+-0xbc4;}['calcMorton'+'Order'](){const _0x4fc0f8=_0xc7b3b8=>{let _0x232c6b=_0xc7b3b8[0x173*-0x19+-0xa28+-0x7d*-0x5f],_0x123993=_0xc7b3b8[0x1*-0x254b+-0x1*-0xef9+-0xb29*-0x2];for(let _0x41800a=-0x2663+-0x1c83+0x21*0x207;_0x41800a<_0xc7b3b8['length'];_0x41800a++)_0xc7b3b8[_0x41800a]<_0x232c6b&&(_0x232c6b=_0xc7b3b8[_0x41800a]),_0xc7b3b8[_0x41800a]>_0x123993&&(_0x123993=_0xc7b3b8[_0x41800a]);return{'min':_0x232c6b,'max':_0x123993};},_0x5682d6=(_0x45d477,_0x413602,_0x332957)=>{const _0x531e68=_0x48b470=>(_0x48b470&=-0x250c+-0x42*-0x29+0x1e79,_0x48b470=(_0x48b470^_0x48b470<<-0x2534+-0x26fa+0x4c3e)&-0x39d9e9*0x435+0x1f06b4a3b*-0x1+-0x1c6019*-0x230f,_0x48b470=(_0x48b470^_0x48b470<<-0x2591+-0x113f+0x104*0x36)&-0x340da08*-0x1+0x2306234+-0x2704c2d,_0x48b470=(_0x48b470^_0x48b470<<0x4*-0x335+-0x3*0x1e7+0x128d)&0x2*0x279ef8+-0x1fd*0xc9c2+0x44e198d,_0x48b470=(_0x48b470^_0x48b470<<-0x2386+-0x1019+0x33a1)&-0x1d3267*0x38+-0x938c0db+0xa27874*0x27,_0x48b470);return(_0x531e68(_0x332957)<<0xda5+0x9dd*0x3+-0x159d*0x2)+(_0x531e68(_0x413602)<<-0x101*-0x25+0x1*-0x21e0+-0xd1*0x4)+_0x531e68(_0x45d477);},_0x3c23fe=this['getProp']('x'),_0x4de54e=this['getProp']('y'),_0x5075a1=this['getProp']('z'),{min:_0x586f23,max:_0x11d3ec}=_0x4fc0f8(_0x3c23fe),{min:_0xb0a9b5,max:_0x10131d}=_0x4fc0f8(_0x4de54e),{min:_0x1a7f47,max:_0x2db157}=_0x4fc0f8(_0x5075a1),_0x1a3c8f=_0x586f23===_0x11d3ec?-0xb*-0x1f7+-0x1a*-0xee+-0x2dc9:(-0x49*0x6a+-0x2*0x132b+-0x4890*-0x1)/(_0x11d3ec-_0x586f23),_0x26b337=_0xb0a9b5===_0x10131d?0x5be+-0x265f+0x20a1:(0x281*0x7+-0x509*-0x5+-0x26b4)/(_0x10131d-_0xb0a9b5),_0x1533ef=_0x1a7f47===_0x2db157?0xa40+0xa*-0x175+-0x7*-0x9e:(0xeed+-0xbf6+0x109)/(_0x2db157-_0x1a7f47),_0x5b2dd4=new Map();for(let _0xceee62=-0x1*0x21f5+-0x1*-0x607+0x1bee;_0xceee62<this['numSplats'];_0xceee62++){const _0x538281=Math['min'](0x4a*-0x1b+-0x790+0x135d,Math['floor']((_0x3c23fe[_0xceee62]-_0x586f23)*_0x1a3c8f)),_0x18c89d=Math['min'](-0x26cb+0x1d38+0xd92,Math['floor']((_0x4de54e[_0xceee62]-_0xb0a9b5)*_0x26b337)),_0x3e634a=Math['min'](0x22c9+0x15d*0xc+-0x2f26,Math['floor']((_0x5075a1[_0xceee62]-_0x1a7f47)*_0x1533ef)),_0x32a38d=_0x5682d6(_0x538281,_0x18c89d,_0x3e634a),_0x539a14=_0x5b2dd4['get'](_0x32a38d);_0x539a14?_0x539a14['push'](_0xceee62):_0x5b2dd4['set'](_0x32a38d,[_0xceee62]);}const _0x3951d7=Array['from'](_0x5b2dd4['keys']())['sort']((_0x250208,_0x6d82f)=>_0x250208-_0x6d82f),_0x3893e3=new Uint32Array(this['numSplats']);let _0x5815d9=-0x2637+0x7*0x2c7+0x12c6;for(let _0x2b499a=0x183*-0x14+-0x180c*-0x1+0x3*0x210;_0x2b499a<_0x3951d7['length'];++_0x2b499a){const _0x504d67=_0x5b2dd4['get'](_0x3951d7[_0x2b499a]);for(let _0x1feaef=0x74f+0x1d92+-0x1*0x24e1;_0x1feaef<_0x504d67['length'];++_0x1feaef)_0x3893e3[_0x5815d9++]=_0x504d67[_0x1feaef];}return _0x3893e3;}['reorder'](_0x1e51e6){const _0x42e250=new Map(),_0x5325bf=_0x45e621=>{if(_0x42e250['has'](_0x45e621)){const _0x40d97a=_0x42e250['get'](_0x45e621);return _0x42e250['delete'](_0x45e621),_0x40d97a;}return new ArrayBuffer(_0x45e621);},_0xfa2556=_0x5a65b7=>{_0x42e250['set'](_0x5a65b7['byteLength'],_0x5a65b7);},_0x2787cc=_0x372e74=>{const _0x39015e=new _0x372e74['constructo'+'r'](_0x5325bf(_0x372e74['byteLength']));for(let _0x189b60=-0xc*-0x1ae+0x103a+-0x2462;_0x189b60<_0x1e51e6['length'];_0x189b60++)_0x39015e[_0x189b60]=_0x372e74[_0x1e51e6[_0x189b60]];return _0xfa2556(_0x372e74['buffer']),_0x39015e;};this['elements']['forEach'](_0x3efaa6=>{_0x3efaa6['properties']['forEach'](_0x513509=>{_0x513509['storage']&&(_0x513509['storage']=_0x2787cc(_0x513509['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0xff50a4,_0x517c94)=>{for(const _0xcbdcbc in _0x517c94)_0xff50a4['resolve'](_0xcbdcbc)['setValue'](_0x517c94[_0xcbdcbc]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x103205;(_0x103205=this['executeCal'+'lback'])==null||_0x103205['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x1921ec,_0x3a325e){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x1921ec,this['gsplatInst'+'ance']=_0x3a325e);const {resource:_0x4631cf}=_0x3a325e,_0x700ef0=new Map(Pe['get'](_0x1921ec,_0x1921ec['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x1921ec,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x700ef0,'fragmentIncludes':_0x700ef0,'fragmentDefines':new Map([['SH_BANDS',_0x4631cf['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x4631cf['createText'+'ure']('centroids',Ne,new J(0x1fa9+0x932*-0x2+-0xd05,0x4f3+-0x2658+0x2565)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x1f17+0x115*-0x1+-0x1e01)}),this['renderPass']=new dC(_0x1921ec),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x245f+0x7a7*0x1+-0x2c06),this['quadRender']=new Ah(this['shader']);const {material:_0x16ce89}=_0x3a325e;_0x16ce89['setDefine']('SH_BANDS','0');const {shaderChunks:_0x220eb9}=_0x16ce89;_0x220eb9['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x220eb9['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x16ce89['update'](),_0x1921ec['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x29b607}=this,{material:_0x514ee9}=_0x29b607;_0x514ee9['setDefine']('SH_BANDS',_0x29b607['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x1c1061}=_0x514ee9;_0x1c1061['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x1c1061['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x514ee9['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x599685,_0x19d4ec){const {prevDir:_0x126db4,updateMode:_0x588d80}=this;if(_0x588d80==='disable'||(yg['invert'](_0x19d4ec),yg['transformV'+'ector'](_0x599685['forward'],uo),uo['normalize'](),_0x588d80==='enable'&&uo['equalsAppr'+'ox'](_0x126db4,0x1*0x1d4f+-0x107*0xb+-0x1202+0.001)))return;_0x126db4['copy'](uo);const _0x73c6c4=()=>{const {device:_0x5a2325}=this,{sh_centroids:_0x2d6698,meta:_0x4c557d}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x5a2325['scope'],{'dir':uo['toArray'](),'centroids':_0x2d6698,'shN_mins':_0x4c557d['shN']['mins'],'shN_maxs':_0x4c557d['shN']['maxs']}),_0x5a2325['setCullMod'+'e'](bt),_0x5a2325['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5a2325['setStencil'+'State'](null,null),_0x5a2325['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x73c6c4,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0x2*-0xa73+0x904+-0x1dea+0.28209479177387814,Ci=_0x13fd1f=>_0x13fd1f['read'](-0x1*-0x23b+0x8*-0xaa+0x315,0x557+-0x4*0x694+0x14f9,_0x13fd1f['width'],_0x13fd1f['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x44a+0x3*-0xaa7+0x1bab)}),mC=(_0x3a5784,_0x5912ce)=>{for(const _0x8c3784 in _0x5912ce)_0x3a5784['resolve'](_0x8c3784)['setValue'](_0x5912ce[_0x8c3784]);};class _C{constructor(_0x5bf144,_0x35268c,_0x29d076,_0x1038a2,_0x5b01b8,_0x33d50a){const _0x197b5f=(_0x19f6bd,_0x83bb5e,_0x1360f1)=>_0x19f6bd*(-0xf40+-0x1676+0x25b7-_0x1360f1)+_0x83bb5e*_0x1360f1,{meta:_0x854695}=_0x5bf144,{means:_0x33d0a5,scales:_0xd6e816,sh0:_0x48a71e,shN:_0x2ef4f0}=_0x854695,_0x10a417=_0x35268c&&_0x5bf144['means_l']['_levels'][-0xb26+0x7*0x184+0x8a],_0xf13b7=_0x35268c&&_0x5bf144['means_u']['_levels'][0xd46+0xc7+0x147*-0xb],_0x48254b=_0x29d076&&_0x5bf144['quats']['_levels'][0x9*-0x21d+0xce*0x2+-0x1169*-0x1],_0xa0ff2e=_0x1038a2&&_0x5bf144['scales']['_levels'][-0x119*0x1+-0x1580+0x1699],_0xf48853=_0x5b01b8&&_0x5bf144['sh0']['_levels'][-0x25*0xf0+-0x1c42*0x1+0x3ef2],_0x430545=_0x33d50a&&_0x5bf144['sh_labels']['_levels'][-0x5*0x21+0x6cf*-0x2+0x4c1*0x3],_0x1a893b=_0x33d50a&&_0x5bf144['sh_centroi'+'ds']['_levels'][0x1f6a+0x11f3+-0x1*0x315d],_0x170899=(0x1182+-0xab*-0x7+-0x162d)/Math['sqrt'](0x4*0x567+0x2*0x5fe+-0x2196);this['read']=_0x3cfb7b=>{if(_0x35268c){const _0x5690a2=_0x197b5f(_0x33d0a5['mins'][0x1787*0x1+-0x2*-0xcbd+-0x3101],_0x33d0a5['maxs'][0x5d1*-0x2+-0x49+-0x153*-0x9],((_0xf13b7[_0x3cfb7b*(0x17*0xc5+-0x21a0+0xff1)+(0x20dc+-0x2*-0x9d9+-0x348e)]<<0xfc3+-0x21ad+0x11f2)+_0x10a417[_0x3cfb7b*(0x718*-0x5+-0x73+0x23ef)+(-0x957+-0xdd+0x4*0x28d)])/(-0x2b59+-0x5f97*0x1+0x18aef)),_0x51cd3f=_0x197b5f(_0x33d0a5['mins'][0xbb8+-0x1d24+0x116d],_0x33d0a5['maxs'][0x1899+-0x1596+-0x302],((_0xf13b7[_0x3cfb7b*(0x1*-0x20c2+0x22a4+-0x1de)+(0x580+0x97*-0x11+-0x1*-0x488)]<<0x2*0xc7a+0xdc7+-0x26b3)+_0x10a417[_0x3cfb7b*(0x1739+-0x31d+-0x1418)+(-0x27b*-0xd+-0x1*0x160e+0xa30*-0x1)])/(0x77*0x187+-0x10c55+0x15693*0x1)),_0x18b322=_0x197b5f(_0x33d0a5['mins'][-0xe8f*0x2+-0x3c*0x33+0x2*0x148a],_0x33d0a5['maxs'][0x17e+0x1*0x916+-0xa92],((_0xf13b7[_0x3cfb7b*(-0x524+-0xf85+0x14ad)+(0x70d+0xe*-0x1cf+0x1247*0x1)]<<0x1*-0x1bcf+0x1cbd+-0xa*0x17)+_0x10a417[_0x3cfb7b*(0xfed+0x190d+-0xd6*0x31)+(-0xbfa+0x2389+0x178d*-0x1)])/(0x1*0x422d+0x1*-0x8cf5+0x14ac7));_0x35268c['x']=Math['sign'](_0x5690a2)*(Math['exp'](Math['abs'](_0x5690a2))-(-0x176d*0x1+-0x8b6+0x79*0x44)),_0x35268c['y']=Math['sign'](_0x51cd3f)*(Math['exp'](Math['abs'](_0x51cd3f))-(-0xa06*0x1+0x1a36+0x565*-0x3)),_0x35268c['z']=Math['sign'](_0x18b322)*(Math['exp'](Math['abs'](_0x18b322))-(-0xadc+-0x1af5*-0x1+-0x28*0x67));}if(_0x29d076){const _0x67889c=(_0x48254b[_0x3cfb7b*(0x2595+-0x7*-0x31a+0x19*-0x25f)+(-0x1b5+0x1*-0x1b23+-0x736*-0x4)]/(-0x2*-0x79f+0x1cee+0x2b2d*-0x1)-(-0x329*-0x3+-0x1b1f*-0x1+-0x249a+0.5))*_0x170899,_0x42a6ac=(_0x48254b[_0x3cfb7b*(-0x13*0x13+0xa10+-0x8a3)+(0xc78+-0xd37*0x1+0xc0)]/(0x1ffd+-0x1*-0x1619+-0x3517)-(-0x1615*0x1+-0x4f*-0x1d+0x52*0x29+0.5))*_0x170899,_0x2ce260=(_0x48254b[_0x3cfb7b*(0x263f*0x1+-0x59e*0x3+0x1a5*-0xd)+(0x7c9+0x24c0+0x2c87*-0x1)]/(0x281*0x3+0x1655+-0x1cd9*0x1)-(-0x44*0x7f+0x25d7+-0x41b+0.5))*_0x170899,_0x2713d8=Math['sqrt'](Math['max'](-0x1*0x262+0x22d8+-0x2076,0x6ad*-0x3+-0x1452+0x285a-(_0x67889c*_0x67889c+_0x42a6ac*_0x42a6ac+_0x2ce260*_0x2ce260)));switch(_0x48254b[_0x3cfb7b*(-0xd*-0x5+-0x88*0x35+0x1beb)+(-0x885+0x1466+-0x1f*0x62)]-(-0x1b6a+-0x2546+0x41ac)){case 0x3b9*0x6+0x1d6c+-0x19e1*0x2:_0x29d076['set'](_0x67889c,_0x42a6ac,_0x2ce260,_0x2713d8);break;case-0x1691*0x1+0x21b7+-0x9*0x13d:_0x29d076['set'](_0x2713d8,_0x42a6ac,_0x2ce260,_0x67889c);break;case-0x10bc+0x26b1+-0x15f3:_0x29d076['set'](_0x42a6ac,_0x2713d8,_0x2ce260,_0x67889c);break;case-0x1*-0x11de+-0x1*-0x406+-0x15e1*0x1:_0x29d076['set'](_0x42a6ac,_0x2ce260,_0x2713d8,_0x67889c);break;}}if(_0x1038a2){const _0x696fb2=_0x197b5f(_0xd6e816['mins'][0x6*0x655+0x147d*0x1+-0x3a7b],_0xd6e816['maxs'][-0x1bc9+-0x7*0x28+0x1ce1],_0xa0ff2e[_0x3cfb7b*(-0xd56+-0xca*0xd+0x179c)+(0x1*-0x1607+0xfb1+0x656)]/(-0x9f9+0x2f*0x81+0x23*-0x5d)),_0x3319d6=_0x197b5f(_0xd6e816['mins'][-0x2f*-0x2b+-0xc*-0x32c+-0x2df4],_0xd6e816['maxs'][0x1ee3+-0x133*0xb+-0x11b1],_0xa0ff2e[_0x3cfb7b*(0x1de1+-0x1432+-0x9ab)+(0x833+0xb77+-0x13a9)]/(-0x128c+-0x1256+0x25e1)),_0x4fff57=_0x197b5f(_0xd6e816['mins'][-0x14d3*0x1+-0x1*0x254b+0x3a20],_0xd6e816['maxs'][-0xb7e+0x1e44+-0x12c4],_0xa0ff2e[_0x3cfb7b*(0xb1a+-0x73c+-0x1d*0x22)+(0x6c9*0x3+0x1817+-0x2c70)]/(0x1567+0x9e3*0x2+-0x4a*0x8b));_0x1038a2['set'](_0x696fb2,_0x3319d6,_0x4fff57);}if(_0x5b01b8){const _0x5dae88=_0x197b5f(_0x48a71e['mins'][0xb*-0x20b+-0x21f*0x11+0x3a88],_0x48a71e['maxs'][-0xc3b*-0x2+-0x1651+0x1*-0x225],_0xf48853[_0x3cfb7b*(0x2548+0x1362+-0x6*0x971)+(0x23dd+0x16*0x9+-0x24a3)]/(-0x17e*0xb+0x2*0x9f7+-0x285*0x1)),_0x56d506=_0x197b5f(_0x48a71e['mins'][-0x1*0x1a99+-0x148a+0xbc9*0x4],_0x48a71e['maxs'][-0x2196+-0x262c+-0x47c3*-0x1],_0xf48853[_0x3cfb7b*(-0x2449+0x1a8b+0x9c2)+(-0x1ebb+0x194*0x4+0xc*0x209)]/(-0x1*-0x1255+0x2296+-0x4*0xcfb)),_0x5a93a1=_0x197b5f(_0x48a71e['mins'][0xac8*-0x3+-0x440+0x249a],_0x48a71e['maxs'][-0x55*-0x4f+0x881*-0x1+-0x11b8],_0xf48853[_0x3cfb7b*(0xb86+0x1fc1*-0x1+0x143f)+(0x6bc+-0x21f*-0xb+-0x1b*0x11d)]/(0x1fa2+0x238f+0x2*-0x2119)),_0x22a8db=_0x197b5f(_0x48a71e['mins'][0x13*0xb+0x1815+-0x18e3],_0x48a71e['maxs'][0x1fe8*-0x1+-0x1*-0x310+0x1cdb],_0xf48853[_0x3cfb7b*(0x3d*-0x15+0x1dfb+-0x18f6)+(-0xd04+0xffd+-0x2f6*0x1)]/(-0xdfc+-0xfa+0x2b*0x5f));_0x5b01b8['set'](-0x1c06+-0x53*-0x78+0xc7*-0xe+0.5+_0x5dae88*An,-0x99b*-0x2+-0x6*-0x229+-0x202c+0.5+_0x56d506*An,0x1*0x928+0x126*-0x1c+-0x100*-0x17+0.5+_0x5a93a1*An,(-0x7bb*-0x4+-0xd9a+0x155*-0xd)/(0x2*-0x7ed+-0x9*0x225+0x2328+Math['exp'](-_0x22a8db)));}if(_0x33d50a){const _0x5802af=_0x430545[_0x3cfb7b*(0x1*-0x131b+-0x10a8+0x23c7)+(-0x2103+-0x20a3+0x2*0x20d3)]+(_0x430545[_0x3cfb7b*(-0x4e1+-0x1827*0x1+0x1d0c)+(-0x241d+0xf26*0x1+0x14f8*0x1)]<<-0x6fc*-0x3+0x1863+-0x2d4f),_0x3ddcf0=_0x5802af%(-0x161*0x7+0x1*-0x20b5+-0x25e*-0x12)*(0xdf8+0x773+-0x155c),_0xc6e3be=Math['floor'](_0x5802af/(-0x1*-0x71e+-0x5*-0x78e+-0x2ca4));for(let _0x623f68=0x68a+0x1*0x15b+-0x7e5;_0x623f68<-0x21f6+-0x25b1*0x1+0x47aa;++_0x623f68)for(let _0x314fdb=-0x16f5+-0x1a41+0x3136;_0x314fdb<0x7a2+0xf*-0x126+0x9a7;++_0x314fdb)_0x33d50a[_0x623f68*(-0x6a1*0x1+-0x1898+0x1a*0x134)+_0x314fdb]=_0x197b5f(_0x2ef4f0['mins'],_0x2ef4f0['maxs'],_0x1a893b[(_0x3ddcf0+_0x314fdb)*(0x2562+0x102f*-0x2+-0x140*0x4)+_0x623f68+_0xc6e3be*_0x5bf144['sh_centroi'+'ds']['width']*(-0x230a+0xa85+0x1*0x1889)]/(0x2f3+0x1*-0x26b9+-0x1*-0x24c5));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0xeaf9cd,_0x154b3a,_0x474c9f,_0xf6f34b,_0x24c8c1,_0x398c3b,_0x560d78,_0x3e3d72;(_0xeaf9cd=this['means_l'])==null||_0xeaf9cd['destroy'](),(_0x154b3a=this['means_u'])==null||_0x154b3a['destroy'](),(_0x474c9f=this['quats'])==null||_0x474c9f['destroy'](),(_0xf6f34b=this['scales'])==null||_0xf6f34b['destroy'](),(_0x24c8c1=this['sh0'])==null||_0x24c8c1['destroy'](),(_0x398c3b=this['sh_centroi'+'ds'])==null||_0x398c3b['destroy'](),(_0x560d78=this['sh_labels'])==null||_0x560d78['destroy'](),(_0x3e3d72=this['packedText'+'ure'])==null||_0x3e3d72['destroy']();}['createIter'](_0x1b16d9,_0x2339c7,_0x2d439a,_0x3b5ba5,_0x4d4723){return new _C(this,_0x1b16d9,_0x2339c7,_0x2d439a,_0x3b5ba5,_0x4d4723);}['calcAabb'](_0x4c8ae3){const {mins:_0x2a4582,maxs:_0x44bffd}=this['meta']['means'],_0x226896=_0x204478=>Math['sign'](_0x204478)*(Math['exp'](Math['abs'](_0x204478))-(-0x11dd+-0xe76+0x2054));_0x4c8ae3['center']['set']((_0x226896(_0x2a4582[-0x3*0x4db+0x262a+0x1799*-0x1])+_0x226896(_0x44bffd[0x50d+0x26*0x40+0xe8d*-0x1]))*(0x1*-0x1afb+0x1cce+-0x1d3+0.5),(_0x226896(_0x2a4582[-0x18db+0x8*0x3b9+-0x4ec])+_0x226896(_0x44bffd[0x2247+-0x16b4*0x1+-0x2*0x5c9]))*(-0x2c2*0x2+-0x1632+-0x1*-0x1bb6+0.5),(_0x226896(_0x2a4582[-0x1574+0x19*0xfb+-0x30d])+_0x226896(_0x44bffd[-0x12da+0xb8+0x1224]))*(-0x16c*-0x14+-0xb01+-0x116f*0x1+0.5)),_0x4c8ae3['halfExtent'+'s']['set']((_0x226896(_0x44bffd[-0x206e+0x7d*0x1d+0x1245])-_0x226896(_0x2a4582[0x26f1+-0x15f7+-0x52*0x35]))*(-0x62*-0x4a+0x65*-0x7+-0x1991+0.5),(_0x226896(_0x44bffd[-0x1fd+-0x13ee+0xf4*0x17])-_0x226896(_0x2a4582[0x228d*-0x1+0x1cad+0x5e1]))*(0x23b6+0x2616+-0x49cc+0.5),(_0x226896(_0x44bffd[0x9d*0xb+-0x1*0x2215+0x1b58])-_0x226896(_0x2a4582[-0x23b1+-0xc98+0x304b]))*(0x1d20+-0x17f2+-0x1a*0x33+0.5));}['getCenters'](_0x2fd4a3){const {meta:_0x2bb146,means_l:_0x1653e1,means_u:_0x28731f,numSplats:_0x3e5c1e}=this,{means:_0x5035c3}=_0x2bb146,_0x4c6cd2=new Uint32Array(_0x28731f['_levels'][-0x82c+-0xe4c+-0x1678*-0x1]['buffer']),_0x36ae69=new Uint32Array(_0x1653e1['_levels'][-0x1*-0x1537+0x3*-0x609+-0x31c]['buffer']),_0x55c2cc=_0x5035c3['mins'][0xc13+0x204a+-0x2c5d]/(-0x13860+-0x1*0x12b95+0x2162*0x1a),_0x48cb08=_0x5035c3['mins'][0x281*0x1+-0x1*-0x548+-0x53*0x18]/(-0x1ecfa+0x1683+0x2d676),_0x56c635=_0x5035c3['mins'][0x147a+0x19a3*-0x1+-0x93*-0x9]/(-0x1*0x5d31+0x1*0x57df+-0x571b*-0x3),_0x4713f8=_0x5035c3['maxs'][0x2*-0xd30+-0x3b*-0x4a+0x952*0x1]/(-0x155ba+0x5494+0x20125),_0x5d43eb=_0x5035c3['maxs'][0x1e98+-0x1f3f+-0x7*-0x18]/(-0xd*0xb51+0x35*0x4ae+0x9b16),_0x5c502e=_0x5035c3['maxs'][0x67*0x7+-0x2*-0x1211+-0x3*0xcfb]/(0xe5f*0x6+-0x44*-0x11c+-0x5e55*-0x1);for(let _0x142d3b=-0x2341*0x1+-0x67f+0x29c0;_0x142d3b<_0x3e5c1e;_0x142d3b++){const _0x3a7932=_0x142d3b,_0x4e79af=_0x4c6cd2[_0x3a7932],_0x148201=_0x36ae69[_0x3a7932],_0x2e176f=_0x4e79af<<0x1370+0x1508+-0x2870&0xc50a+0x1de27*-0x1+-0x1*-0x2181d|_0x148201&-0x1f14+-0x9bc*-0x2+0xc9b,_0x2dc5de=_0x4e79af&-0x8d2d+-0x7059+0x1fc86|_0x148201>>>-0x2b7*-0x2+0x106*-0x1+-0xe0*0x5&0x7f+-0x23*-0x115+-0x255f*0x1,_0x3f807c=_0x4e79af>>>0xa0d+-0x1*-0x23a1+-0x2*0x16d3&0x115c8+-0x4*-0x7cc3+-0x209d4|_0x148201>>>-0x1d5c*0x1+0x16fd*0x1+0x66f*0x1&-0x4*0x106+-0x20ef+0x2606,_0x3d0bbc=_0x55c2cc*(0x18105+0x1208*-0x9+-0xc6*-0x2b-_0x2e176f)+_0x4713f8*_0x2e176f,_0x35fac1=_0x48cb08*(0x112*-0xee+0x5daf+0x1a10c-_0x2dc5de)+_0x5d43eb*_0x2dc5de,_0x588f45=_0x56c635*(-0x1d8e0+0x2*0x953a+0x1dd*0xe7-_0x3f807c)+_0x5c502e*_0x3f807c,_0x4733fd=_0x3d0bbc<-0x72*-0x3d+-0x16c6+-0x4*0x119?-_0x3d0bbc:_0x3d0bbc,_0x22eb3e=_0x35fac1<-0x3*-0x9b6+0x2246*0x1+-0x3f68?-_0x35fac1:_0x35fac1,_0x371fdd=_0x588f45<-0x4*0xc7+0x1*-0x1609+0x1925?-_0x588f45:_0x588f45;_0x2fd4a3[_0x142d3b*(0x24d*-0x1+-0x376*-0x9+0x2*-0xe6b)]=(_0x3d0bbc<-0xbbe+0x79b+-0x161*-0x3?-(0x1*0xdd+-0x5*0x6b+-0x5*-0x3f):-0x1*-0x23c4+-0x76e+0x1c55*-0x1)*(Math['exp'](_0x4733fd)-(-0x173*-0xf+0x2*0x583+0x20c2*-0x1)),_0x2fd4a3[_0x142d3b*(-0xf79+-0x3*0x737+-0x2521*-0x1)+(-0x887+-0xc44+0x14cc)]=(_0x35fac1<-0x2*-0x566+0x3f4+-0xec*0x10?-(0x12b6*0x2+0x144b*0x1+-0x39b6):0x5*0x437+0x23af+-0x38c1)*(Math['exp'](_0x22eb3e)-(0x7*-0x1bf+0x43*-0x62+0x25e0)),_0x2fd4a3[_0x142d3b*(-0x15bf*-0x1+-0x7be+-0xdfe)+(0x38*-0x40+0x115a+0x1*-0x358)]=(_0x588f45<-0x9*0x291+0x5d*-0x45+-0x302a*-0x1?-(-0xd01+-0x14*-0x2+0x46*0x2f):0x218*0xb+0x2090+-0x13*0x2ed)*(Math['exp'](_0x371fdd)-(-0x1*0xd44+-0x4*-0x3a9+-0x15f));}}['calcFocalP'+'oint'](_0x4d450d,_0x5a9435){_0x4d450d['set'](-0x100*0x8+0x1*0x54d+0x1*0x2b3,-0x232d+0x435+0x4*0x7be,0x11*-0x1d0+0x1b82+0x34e*0x1);}get['isSogs'](){return!(0x1*0x94f+-0x203b+0x5bb*0x4);}get['shBands'](){var _0xc20cdf;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0xc20cdf=this['sh_centroi'+'ds'])==null?void(-0xf0+-0x3*-0x6dd+-0x13a7):_0xc20cdf['width']]??-0x727*-0x5+-0x1*0x2377+-0x4c;}async['decompress'](){const _0x375ca3=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0xf63618}=this,{means_l:_0x5e1356,means_u:_0x5eb028,quats:_0x2b377e,scales:_0x45df61,sh0:_0x29142c,sh_labels:_0x1ecf50,sh_centroids:_0x5d2409}=this;if(_0x5e1356['_levels'][0x8b5+-0x142b*-0x1+-0x1c*0x108]=await Ci(_0x5e1356),_0x5eb028['_levels'][-0x1afd+0x11*0x193+-0x1*-0x3a]=await Ci(_0x5eb028),_0x2b377e['_levels'][0x2f*-0x4+-0xb1*-0xd+-0x841]=await Ci(_0x2b377e),_0x45df61['_levels'][-0x20ee+-0x489*-0x1+0x1c65]=await Ci(_0x45df61),_0x29142c['_levels'][0x1*-0x749+0x153*0x6+-0xa9]=await Ci(_0x29142c),_0xf63618>0x11b*-0x3+0x60d*0x1+-0x2bc){_0x1ecf50['_levels'][0x1523+-0x15df+0xbc]=await Ci(_0x1ecf50),_0x5d2409['_levels'][-0x10a5+0x1*0x1e63+-0xdbe]=await Ci(_0x5d2409);const _0x79e344=[];for(let _0x35edfd=-0x1*-0x6c1+-0x1*0x2385+-0x7*-0x41c;_0x35edfd<0x10f9+-0x119*0x13+0x40f;++_0x35edfd)_0x79e344['push']('f_rest_'+_0x35edfd);_0x375ca3['splice'](_0x375ca3['indexOf']('f_dc_0')+(0xafa+0xf44+-0x1a3d),-0x4c7*-0x5+0xa89+-0x226c,..._0x79e344);}const _0x3e9b39={};_0x375ca3['forEach'](_0x591c72=>{_0x3e9b39[_0x591c72]=new Float32Array(this['numSplats']);});const _0x4424f6=new D(),_0x2faf03=new le(),_0x2ef833=new D(),_0x47853b=new re(),_0x106303=_0xf63618>-0xccc+-0x1*-0x1b6b+-0xe9f?new Float32Array(0x1e9*0x4+-0x175b+0xfe4):null,_0x9a0590=this['createIter'](_0x4424f6,_0x2faf03,_0x2ef833,_0x47853b,_0x106303);for(let _0x4fdf34=0xa82+-0xa14+0x1*-0x6e;_0x4fdf34<this['numSplats'];++_0x4fdf34)if(_0x9a0590['read'](_0x4fdf34),_0x3e9b39['x'][_0x4fdf34]=_0x4424f6['x'],_0x3e9b39['y'][_0x4fdf34]=_0x4424f6['y'],_0x3e9b39['z'][_0x4fdf34]=_0x4424f6['z'],_0x3e9b39['rot_1'][_0x4fdf34]=_0x2faf03['x'],_0x3e9b39['rot_2'][_0x4fdf34]=_0x2faf03['y'],_0x3e9b39['rot_3'][_0x4fdf34]=_0x2faf03['z'],_0x3e9b39['rot_0'][_0x4fdf34]=_0x2faf03['w'],_0x3e9b39['scale_0'][_0x4fdf34]=_0x2ef833['x'],_0x3e9b39['scale_1'][_0x4fdf34]=_0x2ef833['y'],_0x3e9b39['scale_2'][_0x4fdf34]=_0x2ef833['z'],_0x3e9b39['f_dc_0'][_0x4fdf34]=(_0x47853b['x']-(-0xebb*0x1+-0xa1+0xf5c+0.5))/An,_0x3e9b39['f_dc_1'][_0x4fdf34]=(_0x47853b['y']-(-0x10ba*-0x2+0xff3+-0x3167*0x1+0.5))/An,_0x3e9b39['f_dc_2'][_0x4fdf34]=(_0x47853b['z']-(0xa52*-0x1+0x19e4+0x7c9*-0x2+0.5))/An,_0x3e9b39['opacity'][_0x4fdf34]=_0x47853b['w']<=-0xb5c*-0x3+-0xbb1+-0x209*0xb?-(0x195*-0x13+0x17f*-0x1+0x171*0x16):_0x47853b['w']>=-0x2560+-0x13*0x6d+0x2d78?-0x2*-0xd12+0x1b5b*0x1+-0x3557:-Math['log']((0x4d3*0x6+-0x136d+-0x984)/_0x47853b['w']-(0x1*-0x1fc9+-0x2693+-0x1*-0x465d)),_0x106303){for(let _0x217363=-0x94*0x1+-0x11c4+-0x1258*-0x1;_0x217363<0x8*0x4dc+0x2*0x55d+0x316d*-0x1;++_0x217363)_0x3e9b39['f_rest_'+_0x217363][_0x4fdf34]=_0x106303[_0x217363];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x375ca3['map'](_0x20e0d5=>({'name':_0x20e0d5,'type':'float','byteSize':0x4,'storage':_0x3e9b39[_0x20e0d5]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x440e5d,means_u:_0xee9222,quats:_0x3512a8,scales:_0x2788a6,sh_labels:_0x2b1005,numSplats:_0x1e93c7}=this,{device:_0x34851d}=_0x440e5d,{scope:_0x13d52a}=_0x34851d,_0x535912=$t['createShad'+'er'](_0x34851d,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x2d1e9e=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x1*0x2356+0x2b3+0x20a4),'mipLevel':0x0});_0x34851d['setCullMod'+'e'](bt),_0x34851d['setBlendSt'+'ate'](pt['NOBLEND']),_0x34851d['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x13d52a,{'means_l':_0x440e5d,'means_u':_0xee9222,'quats':_0x3512a8,'scales':_0x2788a6,'sh_labels':_0x2b1005??_0x440e5d,'numSplats':_0x1e93c7}),Ar(_0x34851d,_0x2d1e9e,_0x535912),_0x2d1e9e['destroy'](),_0x535912['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x1d24fc,height:_0x3b79bd,width:_0x322929}=this['means_l'];this['means_l']['_levels'][0x183c+0xb9*-0x2+0x1*-0x16ca]=await Ci(this['means_l']),this['means_u']['_levels'][0x5*-0x139+0xdc2+-0x7a5]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x1d24fc,{'name':'sogsPacked'+'Texture','width':_0x322929,'height':_0x3b79bd,'format':Ue,'mipmaps':!(-0x96e+0x4*-0x792+-0x27b7*-0x1)}),_0x1d24fc['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x4cf8a7=null,_0x1a50be=null,_0x43cd57=null,_0x3e8a4a=null,_0x358b4b=null,_0x44097c=null,_0x1587cf=null,_0x219181=null,_0x5b58a5=null,_0x1ded9c=null,_0x95710=null,_0x1e2e49=null,_0x1e670a=null,_0x2652f3=null,_0x58b13c=null,_0xfab8b4=null,_0x2204ee=null,_0x418f1f=null,_0x21cd6a=null,_0xd6e19=null,_0x128b54=null,_0x219956=null,_0x51a10e=null,_0x410445=null,_0x42ca98=Float32Array['BYTES_PER_'+'ELEMENT'],_0x270f74=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x1e1c4e=-0x7*0x24a+0x1849+0xf*-0x8d,_0xb4f535=!(-0x1f10+0x18a+-0xec3*-0x2),_0x26fd02,_0x299f22,_0x50e9fc={'x':0x0,'y':0x0,'z':0x0},_0x9441d9={'x':0x0,'y':0x0,'z':0x0},_0x4c2bd7=!(-0x5*-0x3ce+-0x1be6+0x238*0x4),_0x35bef7=!(0x2034+0x21e9+-0x421d*0x1),_0x2b3b21=!(-0x15cb*-0x1+-0x16*-0x1a2+0x59*-0xa6),_0x150993=!(-0x8d*0x3+0x8a6+-0x6fe),_0x341ca8=0x14a5+0x1f03*0x1+-0x33a8,_0x243008=-0x1bbc+0xe7f+-0x1*-0xd3d,_0x359acb=!(0x48b+0x9c5+-0x4c5*0x3),_0x1690f6=null,_0x509479=!(-0xc6c+0x13d*-0x9+0xbc9*0x2),_0x3f08cc=0xaf*-0x5+-0x1795+0x6*0x480,_0x46a691=-0x257c+-0x855+0x2dd1,_0x49a8cc={'x':0x0,'y':0x0,'z':0x0},_0x2047ec={'x':0x0,'y':0x0,'z':0x0},_0x51d04b,_0x1622db;self['onmessage']=async _0x5891d6=>{const {data:_0x20d498}=_0x5891d6;switch(_0x20d498['type']){case'initWorker':await _0x4fedc2(_0x20d498['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x1e1c4e=_0x20d498['centers']['length']/(-0x1*0x16c2+-0xdab*0x1+0x2470),_0x1e1c4e<=0xa81*0x1+0x1*-0x299+-0x7e8||!_0x1a50be)return;_0x161f2e(),_0xb4f535=_0x20d498['is4d'],_0x51d04b=_0x20d498['id'];const _0x8c4ef4=_0x34b07f(_0x1e1c4e);if(_0x78ba9a(_0x8c4ef4),_0x43cd57[0x2*-0xdab+0x1293+0x8c3]=_0x49a8cc['x'],_0x43cd57[-0x3b*0x3f+-0x171e+0x25a4]=_0x49a8cc['y'],_0x43cd57[0x1427+0x1789*-0x1+0x364]=_0x49a8cc['z'],_0x3e8a4a[-0x47*-0x7d+-0xa1*-0x1+0x3*-0xbc4]=_0x2047ec['x'],_0x3e8a4a[-0x3*0xc65+-0x5d*-0x1d+0x1aa7]=_0x2047ec['y'],_0x3e8a4a[0x1654+0x139b+-0x29ed]=_0x2047ec['z'],_0x44097c&&_0x20d498['centers']&&_0x44097c['length']===_0x20d498['centers']['length']){const _0x44e889=new Float32Array(_0x20d498['centers']);_0x44097c['set'](_0x44e889);}if(_0x219181&&_0x20d498['timeIndex']&&_0x219181['length']===_0x20d498['timeIndex']['length']){const _0x12531d=new Uint32Array(_0x20d498['timeIndex']);_0x219181['set'](_0x12531d);}if(_0x95710&&_0x20d498['motion']&&_0x95710['length']===_0x20d498['motion']['length']){const _0x180750=new Float32Array(_0x20d498['motion']);_0x95710['set'](_0x180750);}if(_0xb4f535&&_0x5b58a5&&_0x1ded9c&&_0x20d498['muT']&&_0x20d498['tScale']&&_0x5b58a5['length']===_0x20d498['muT']['length']&&_0x1ded9c['length']===_0x20d498['tScale']['length']&&(_0x5b58a5['set'](_0x20d498['muT']),_0x1ded9c['set'](_0x20d498['tScale'])),_0x1587cf){for(let _0xd93bc2=-0x71*-0x33+-0x64d*0x5+0x8fe;_0xd93bc2<_0x1587cf['length'];++_0xd93bc2)_0x1587cf[_0xd93bc2]=_0xd93bc2;}_0x358b4b&&_0x20d498['timeOption']&&_0x358b4b['set'](_0x20d498['timeOption']),_0x118954(),_0x509479=!(0x3f*0x49+-0xc37+0x10*-0x5c),_0x2b3b21=!(0x1*-0x233b+-0xe17+0x3152),_0x1c376b();break;case'setTime':_0x26fd02=_0x20d498['time'],_0x1c376b();break;case'setUseTemp'+'oralSort':_0x4c2bd7=_0x20d498['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x35bef7=_0x20d498['useDynamic'+'Sort'];break;case'sort':if(!_0x43cd57)return;_0x43cd57[0x1868+0x382*0x8+-0x3478]=_0x20d498['cameraPosi'+'tion']['x'],_0x43cd57[-0x17*0x13b+-0x12*0x12+0x1d92]=_0x20d498['cameraPosi'+'tion']['y'],_0x43cd57[0x901+-0x113b*0x1+0x83c]=_0x20d498['cameraPosi'+'tion']['z'],_0x3e8a4a[0x1e43*0x1+-0xb8b+-0x12b8]=_0x20d498['cameraDire'+'ction']['x'],_0x3e8a4a[-0x40*-0x79+-0x1*0xbd5+-0x2*0x935]=_0x20d498['cameraDire'+'ction']['y'],_0x3e8a4a[-0x104a+-0x162*-0xe+0x10*-0x31]=_0x20d498['cameraDire'+'ction']['z'],_0x49a8cc['x']=_0x20d498['cameraPosi'+'tion']['x'],_0x49a8cc['y']=_0x20d498['cameraPosi'+'tion']['y'],_0x49a8cc['z']=_0x20d498['cameraPosi'+'tion']['z'],_0x2047ec['x']=_0x20d498['cameraDire'+'ction']['x'],_0x2047ec['y']=_0x20d498['cameraDire'+'ction']['y'],_0x2047ec['z']=_0x20d498['cameraDire'+'ction']['z'],_0x1c376b();break;}};const _0x161f2e=()=>{_0x243008=Math['max'](0x1c3e+-0x55*0x23+0x1095*-0x1,Math['min'](0x2*-0x1246+-0x5dd+0x1*0x2a7d,Math['round'](Math['log2'](_0x1e1c4e/(-0x2f*-0x14+-0x259b+0x3*0xb51))))),_0x341ca8=(-0x3f4+-0x20e5+0x24db)**_0x243008+(0x1*-0x24e6+-0x8c*-0x2+0x23cf);},_0x78ba9a=_0x1b2769=>{_0x1e2e49=0xbe+-0x7*0x44+0x11e,_0x1e670a=_0x1e2e49+_0x1e1c4e*_0x42ca98*(-0x2637+0x1*-0x26e+0x28a8),_0x418f1f=_0x1e670a+(0x191*0x8+-0x26ce+0x1aaa*0x1)*_0x42ca98*(0x1*0x1bad+-0x1*0x22c3+0x718),_0x21cd6a=_0x418f1f+_0x1e1c4e*_0x270f74,_0xd6e19=_0x21cd6a+(0x67*0x5c+0x2*-0xe62+-0x83d)*_0x42ca98,_0x128b54=_0xd6e19+(-0x225d+0x2*0xab4+0x19f*0x8)*_0x42ca98,_0x219956=_0x128b54+(0x13*-0xf8+-0xc08*0x1+0x1e73)*_0x42ca98,_0x51a10e=_0x219956+(-0x1d*0x95+-0xb52+0x1c36)*_0x42ca98,_0x410445=_0x51a10e+_0x1e1c4e*_0x270f74,_0x44097c=new Float32Array(_0x1b2769,_0x1e2e49,_0x1e1c4e*(0x151*-0x2+-0xe86+-0x112b*-0x1)),_0x358b4b=new Float32Array(_0x1b2769,_0x1e670a,-0xb01+0x20fd*0x1+-0x1534),_0x1587cf=new Uint32Array(_0x1b2769,_0x418f1f,_0x1e1c4e),_0x43cd57=new Float32Array(_0x1b2769,_0x21cd6a,0x118*0x22+0x1*-0x14cb+-0x1062),_0x3e8a4a=new Float32Array(_0x1b2769,_0xd6e19,-0x29*0x7+-0x212f+-0x4e7*-0x7),_0xb4f535&&(_0xfab8b4=_0x410445+_0x341ca8*_0x270f74,_0x2204ee=_0xfab8b4+_0x1e1c4e*_0x42ca98,_0x58b13c=_0x2204ee+_0x1e1c4e*_0x42ca98,_0x2652f3=_0x58b13c+_0x1e1c4e*(0xfa*-0x2+-0x10a7*-0x2+-0x1f57)*_0x42ca98,_0x5b58a5=new Float32Array(_0x1b2769,_0xfab8b4,_0x1e1c4e),_0x1ded9c=new Float32Array(_0x1b2769,_0x2204ee,_0x1e1c4e),_0x95710=new Float32Array(_0x1b2769,_0x58b13c,_0x1e1c4e*(-0x2b5*-0xd+-0x1373+-0xfbb)),_0x219181=new Uint32Array(_0x1b2769,_0x2652f3,_0x1e1c4e));},_0x4fedc2=async _0x11dd64=>{_0x3f08cc=-0x17+0x1*0x203+-0x1eb;const _0x4a557f={'env':{'memory':new WebAssembly['Memory']({'initial':_0x3f08cc}),'pthread_self':function(){return-0x2544+0x2231+0x1*0x313;},'emscripten_builtin_memalign':function(){return 0x211*0x1+-0x2a5+-0x1*-0x94;},'loggerVec3':(_0x2b5f50,_0x2691f3,_0x54ec59,_0x312112)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x2b5f50+']\x200:'+_0x2691f3+'\x201:'+_0x54ec59+'\x202:'+_0x312112);},'loggerFloat':(_0xbfa289,_0x26818a)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0xbfa289+']\x20a:'+_0x26818a);},'loggerValue':(_0x43676a,_0x575496,_0x459474,_0x391afa,_0x46c514)=>{console['log']('C++\x20logger'+'Value\x20['+_0x43676a+']\x20minDist:'+_0x575496+'\x20maxDist:'+_0x459474+'\x20range:'+_0x391afa+'\x20divider:'+_0x46c514);},'loggerCamera':(_0x15c553,_0x700e50,_0x2daa90,_0x500196,_0x34dd46,_0x58077f,_0x195422)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x15c553+']\x20x:'+_0x700e50+'\x20y:'+_0x2daa90+'\x20z:'+_0x500196+'\x20dx:'+_0x34dd46+'\x20dy:'+_0x58077f+'\x20dz:'+_0x195422);},'loggerBound':(_0x1f724,_0x194b1a,_0x3c55a6,_0x3a8bed,_0x26c1b2,_0x4116e4)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x1f724+'\x20minY:'+_0x194b1a+'\x20minZ:'+_0x3c55a6+'\x20maxX:'+_0x3a8bed+'\x20maxY:'+_0x26c1b2+'\x20maxZ:'+_0x4116e4);},'loggerDebug':_0xe8a62d=>{console['log']('C++\x20logger'+'Debug\x20['+_0xe8a62d+']');}}};try{const _0x2ee820=await(await fetch(_0x11dd64))['arrayBuffe'+'r']();return _0x4cf8a7=(await WebAssembly['instantiat'+'e'](_0x2ee820,_0x4a557f))['instance'],_0x1a50be=_0x4a557f['env']['memory'],_0x4cf8a7;}catch(_0x3ae9ff){throw console['error']('WASM'+':',_0x3ae9ff),_0x3ae9ff;}},_0x2c776a=_0x171317=>{if(_0x171317<=0xa04+-0x1cbf+0x12bb)return 0x3d1*-0x2+0xb*-0x26b+-0x4e4*-0x7;let _0x1b26fe=_0x171317*_0x42ca98*(-0x4f8*0x2+-0x150d+0x1f00);_0x1b26fe+=_0x171317*_0x270f74,_0x1b26fe+=(-0xf*0x1a3+0xccd*0x1+0x1*0xbc3)*_0x42ca98,_0x1b26fe+=(-0xa0a+0x45a*0x5+-0xbb5)*_0x42ca98,_0x1b26fe+=(-0x50e*0x4+-0x1d*0x47+-0x5e*-0x4d)*_0x42ca98,_0x1b26fe+=(-0x1cc*0x5+-0x234d+0x1b*0x1a4)*_0x42ca98,_0x1b26fe+=_0x171317*_0x42ca98,_0x1b26fe+=_0x341ca8*_0x270f74,_0x1b26fe+=(0x11c0+0x16ac+0x3d*-0xa8)*_0x42ca98*(-0x164b*0x1+0x995+0x2*0x65c),_0x1b26fe+=_0x171317*_0x270f74,_0xb4f535&&(_0x1b26fe+=_0x171317*_0x42ca98,_0x1b26fe+=_0x171317*_0x42ca98,_0x1b26fe+=_0x171317*_0x42ca98*(0x2c1+-0x3cb+0x10d));const _0xdcdee8=(0x2316*-0x1+-0x415+0x1*0x276b)*(-0x2*0x1302+-0xd44+0x3748);return Math['ceil'](_0x1b26fe/_0xdcdee8);},_0x34b07f=_0x56fe32=>{const _0xd93a2b=_0x2c776a(_0x56fe32);return _0xd93a2b>_0x3f08cc?(_0x1a50be['grow'](_0xd93a2b-_0x3f08cc),_0x3f08cc=_0xd93a2b):_0x1a50be['grow'](0x192e+0x1dba+-0x4*0xdba),_0x1a50be['buffer'];},_0x118954=()=>{if(!_0x4cf8a7)return;const {calcAABB:_0x252572}=_0x4cf8a7['exports'];_0x252572(_0x1e2e49,_0x128b54,_0x219956,_0x1e1c4e);},_0x1c376b=()=>{_0x1690f6&&clearTimeout(_0x1690f6),_0x1690f6=setTimeout(()=>{_0x1690f6=null,_0x3a56dc();},0x25db+0x1a6*0xb+0x517*-0xb);},_0x3a56dc=()=>{if(!_0x4cf8a7||!_0x509479||_0x1587cf['length']!==_0x1e1c4e||_0x418f1f===null||_0x1e2e49===null||_0x21cd6a===null||_0xd6e19===null||_0x128b54===null||_0x219956===null)return;const _0x5ca40f=_0x43cd57[0xa8d*-0x2+-0x2286+-0x20*-0x1bd],_0x4bc40a=_0x43cd57[0x12f1+-0x2179+0xe89],_0x546585=_0x43cd57[-0x171f+0x370+0x13b1],_0x33c417=_0x3e8a4a[0x2596+-0x3df+-0x21b7],_0x22485c=_0x3e8a4a[0x2659+-0x1*0x113d+-0x151b],_0x754b8c=_0x3e8a4a[-0x715+-0x17*0x5b+0x1*0xf44],_0x4fd2cb=0x20f9*0x1+0x226f+0x2cf*-0x18+0.001;if(!_0x2b3b21&&Math['abs'](_0x5ca40f-_0x50e9fc['x'])<_0x4fd2cb&&Math['abs'](_0x4bc40a-_0x50e9fc['y'])<_0x4fd2cb&&Math['abs'](_0x546585-_0x50e9fc['z'])<_0x4fd2cb&&Math['abs'](_0x33c417-_0x9441d9['x'])<_0x4fd2cb&&Math['abs'](_0x22485c-_0x9441d9['y'])<_0x4fd2cb&&Math['abs'](_0x754b8c-_0x9441d9['z'])<_0x4fd2cb&&Math['abs'](_0x26fd02-_0x299f22)<-0xd36*-0x2+-0x382*-0x4+-0x2874+0.01)return;if(_0x150993){_0x359acb=!(0x15b+-0x1d1a+-0x1*-0x1bbf);return;}_0x150993=!(0x1b79+-0x1a8*0x2+-0x1829),_0x2b3b21=!(-0xa98+0x11d0+0x1*-0x737),_0x299f22=_0x26fd02,_0x50e9fc['x']=_0x5ca40f,_0x50e9fc['y']=_0x4bc40a,_0x50e9fc['z']=_0x546585,_0x9441d9['x']=_0x33c417,_0x9441d9['y']=_0x22485c,_0x9441d9['z']=_0x754b8c,_0x359acb=!(-0x30+0x13*0x1da+-0x22fd*0x1);const {sortIndexes:_0x53f3ec}=_0x4cf8a7['exports'];try{const _0x16290f=_0x53f3ec(_0x418f1f,_0x1e2e49,_0x58b13c,_0xfab8b4,_0x2204ee,_0x21cd6a,_0xd6e19,_0x128b54,_0x219956,_0x51a10e,_0x410445,_0x26fd02||-0x7ac+-0x10cc*0x2+-0x4*-0xa51,_0x4c2bd7,_0x35bef7,_0xb4f535,_0x1e1c4e,_0x341ca8,_0x243008,_0x1e670a,_0x2652f3),_0x1d791b=new Uint32Array(_0x1587cf);if(_0x16290f===0x189*-0x3+-0xf31+0x4f3*0x4){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x16290f);}const _0x33cbaa=_0x1e1c4e!==_0x46a691||_0x1622db!==_0x51d04b;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x16290f,'order':_0x1d791b,'isNewOrder':_0x33cbaa},[_0x1d791b['buffer']]),_0x46a691=_0x1e1c4e,_0x1622db=_0x51d04b;}catch(_0x109882){console['error'](':',_0x109882),self['postMessag'+'e']({'type':'error','error':_0x109882['message']});}_0x150993=!(-0x1eaa+0x1e97+-0xa*-0x2),_0x359acb&&_0x1c376b();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x7b1+-0x1c8c+0x243d),h(this,'is4d',!(0xd3f*-0x1+0x7a8+0x1b*0x35)),h(this,'sortStartT'+'ime',0x8d7*0x3+-0x888+-0x11fd),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x59aca1=>{var _0x19f1ba;if(!this['worker'])return;const {data:_0x1ef036}=_0x59aca1;switch(_0x1ef036['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x1ef036['order']&&(_0x1ef036['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x19f1ba=this['orderTextu'+'re'])==null||_0x19f1ba['write'](-0x1*0x7cf+-0x1fb5+-0x12*-0x232,0xb8b+0x15c*-0x1+-0x1*0xa2f,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(-0x193c+0x1cc1+-0x384),_0x1ef036['order']));let _0x427e00=-0x1eec+0xc9e+0xd5*0x16;this['sortStartT'+'ime']!==-0x71*-0x33+0x100f+-0x2692&&(_0x427e00=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x59aca1['data']['count'],_0x427e00,_0x1ef036['isNewOrder']),this['sortStartT'+'ime']=-0x1da7+0x19b3*-0x1+0x2*0x1bad;break;case'error':console['error']('Worker:',_0x1ef036['error']),this['fire']('error',_0x1ef036['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x3ee583,_0x59b373,_0x367867,_0x430f5b,_0x249b67,_0x2748f7,_0x1bf705,_0xead3a8){var _0xef103c;this['is4d']=_0xead3a8,this['numSplats']=_0x59b373['length']/(0x8e1*-0x4+-0xbd8+0x2f5f),(!_0x1bf705||_0x1bf705['length']===-0x4*0x917+0x1*0x1297+0x1*0x11c5)&&(_0x1bf705=[0x2c*-0x4f+0x53e+0xb*0xc2,0x15d4+0x4cd*-0x1+-0x10cb]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x3ee583),this['backOrderT'+'exture']=_0x3ee583;const _0x28f551=new Date()['getTime']();(_0xef103c=this['worker'])==null||_0xef103c['postMessag'+'e']({'type':'initData','centers':_0x59b373,'muT':_0x367867,'tScale':_0x430f5b,'motion':_0x249b67,'timeIndex':_0x2748f7,'timeOption':_0x1bf705,'is4d':_0xead3a8,'id':_0x28f551});}['setCamera'](_0x129d8d,_0x4f79fa){this['worker']&&(!_0x129d8d||!_0x4f79fa||(this['data']['cameraPosi'+'tion']={'x':_0x129d8d['x'],'y':_0x129d8d['y'],'z':_0x129d8d['z']},this['data']['cameraDire'+'ction']={'x':_0x4f79fa['x'],'y':_0x4f79fa['y'],'z':_0x4f79fa['z']},this['sortStartT'+'ime']===0x7*-0x1f+0x5ac*-0x6+0x1*0x22e1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x129d8d['x'],'y':_0x129d8d['y'],'z':_0x129d8d['z']},'cameraDirection':{'x':_0x4f79fa['x'],'y':_0x4f79fa['y'],'z':_0x4f79fa['z']}})));}['setCurrent'+'Time'](_0xac32c4){this['worker']&&(this['data']['time']=_0xac32c4,this['sortStartT'+'ime']===0x25*-0x29+-0xc57+0x922*0x2&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0xac32c4}));}['setUseTemp'+'oralSort'](_0x1539d1){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x1539d1});}['setUseDyna'+'micSort'](_0x1b44c2){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x1b44c2});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x18ce+-0x1b3b*0x1+-0xb*-0x4bb,-0xd43+0x5*0x429+-0x78a];class xC{constructor(_0x5e1562,_0x5c793d={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x2514+-0xb5e+-0x6*0x449),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x419ccf,_0x4e8bd5=void(-0x1cd*0xb+0x6dc*-0x4+0x127*0x29))=>{(_0x4e8bd5||_0x4e8bd5===0x2*-0xb21+0x1202+0x440)&&(this['material']['setParamet'+'er']('uTime',_0x4e8bd5),this['updateTime'](_0x4e8bd5)),this['sort'](_0x419ccf);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x5e1562['numSplats']),this['resource']=_0x5e1562,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5c793d['material']?(this['_material']=_0x5c793d['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0xda8+-0x148f+-0x13*-0x5d)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x1d2e+-0x197b+0x36a9,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x2a7e51,_0x35f827,_0x5e7bbf,_0x1f4298,_0x54c56d,_0x51fd72,_0x55519f,_0x3c463a,_0x156ac2,_0x34cdaf,_0x15aba6;const _0x505124=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x1cdc72=new Float32Array(((_0x35f827=(_0x2a7e51=this['resource']['muT'])==null?void(0x213c+-0x1702+-0x77*0x16):_0x2a7e51['buffer'])==null?void(0x1502+0x2440+-0x3942):_0x35f827['slice']())??new Float32Array()),_0xedbefb=new Float32Array(((_0x1f4298=(_0x5e7bbf=this['resource']['tScale'])==null?void(-0x805*-0x1+-0x15b2+0xdad):_0x5e7bbf['buffer'])==null?void(0x1*0x2441+-0x18fa+0xb47*-0x1):_0x1f4298['slice']())??new Float32Array()),_0x52bdbf=new Float32Array(((_0x51fd72=(_0x54c56d=this['resource']['motion'])==null?void(0x15c5+0x7*0xb3+-0x1aaa):_0x54c56d['buffer'])==null?void(-0x62b*-0x5+0x137b+-0x3252):_0x51fd72['slice']())??new Float32Array()),_0x561752=new Float32Array(((_0x3c463a=(_0x55519f=this['resource']['timeIndex'])==null?void(0x1819+0x2ea*-0x7+-0x3b3*0x1):_0x55519f['buffer'])==null?void(-0x1efd+-0x41*-0x7d+-0xc0):_0x3c463a['slice']())??new Float32Array(-0x9fc+0x1557+-0xb5b)),_0x164f11=new Float32Array(((_0x34cdaf=(_0x156ac2=this['resource']['timeOption'])==null?void(0x1*-0x22be+-0x21e8+0x44a6):_0x156ac2['buffer'])==null?void(-0x5d8*0x4+-0x405*0x7+0x3383*0x1):_0x34cdaf['slice']())??new Float32Array());(_0x15aba6=this['sorter'])==null||_0x15aba6['initData'](this['orderTextu'+'re'],_0x505124,_0x1cdc72,_0xedbefb,_0x52bdbf,_0x561752,_0x164f11,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x312bd9,_0x14fa63,_0x886362)=>{var _0x116bbd;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x312bd9/this['resource']['instanceSi'+'ze']),_0x886362&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x886362&&((_0x116bbd=this['resource'])==null||_0x116bbd['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x312bd9);}),this['setHighQua'+'litySH'](_0x5c793d['highQualit'+'ySH']??!(0x6*-0x2f7+0x20ad+0x17d*-0xa)));}async['updateInst'+'anceData'](_0x45e406){var _0xa6c66a,_0x2a38a7;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x45e406['numSplats']),this['resource']=_0x45e406;const _0x48e2b8=this['resource']['evalTextur'+'eSize'](_0x45e406['centers']['length']/(-0x6b5*0x1+-0x4c*0x35+0x1674));return(_0xa6c66a=this['backOrderT'+'exture'])==null||_0xa6c66a['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x48e2b8),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x1*0x1549+-0x22*-0xa4+0x19*-0x1b9)),(_0x2a38a7=this['sorter'])==null||_0x2a38a7['initData'](this['backOrderT'+'exture'],_0x45e406['centers'],_0x45e406['muT'],_0x45e406['tScale'],_0x45e406['motion'],_0x45e406['timeIndex'],_0x45e406['timeOption'],_0x45e406['is4D']),new Promise(_0x521bdf=>{var _0x51e1f8;const _0x24ec69=(_0x383f09,_0x2e45d1,_0x17762f)=>{var _0x3d8558;_0x17762f&&((_0x3d8558=this['sorter'])==null||_0x3d8558['off']('updated',_0x24ec69),_0x521bdf(!(0x3*-0xd1+0x162c+-0x13b9)));};(_0x51e1f8=this['sorter'])==null||_0x51e1f8['on']('updated',_0x24ec69);});}['destroy'](){var _0x144080,_0x11ec89,_0x1a2061,_0x258290,_0x1df542,_0x357488;(_0x144080=this['resolveSH'])==null||_0x144080['destroy'](),(_0x11ec89=this['material'])==null||_0x11ec89['destroy'](),(_0x1a2061=this['meshInstan'+'ce'])==null||_0x1a2061['destroy'](),(_0x258290=this['sorter'])==null||_0x258290['destroy'](),(_0x1df542=this['orderTextu'+'re'])==null||_0x1df542['destroy'](),(_0x357488=this['backOrderT'+'exture'])==null||_0x357488['destroy']();}set['material'](_0x48a9f9){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x48a9f9&&(this['_material']=_0x48a9f9,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x48a9f9));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x170dd9,_0xded463={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x170dd9),_0x170dd9['setParamet'+'er']('numSplats',-0x38b*-0x1+0x732+0xabd*-0x1),_0x170dd9['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x170dd9['setParamet'+'er']('alphaClip',0x1*0x1feb+0x958+-0x2943+0.3),_0x170dd9['setDefine']('DITHER_'+(_0xded463['dither']?'BLUENOISE':'NONE'),''),_0x170dd9['cull']=bt,_0x170dd9['blendType']=_0xded463['dither']?Cs:Zs,_0x170dd9['depthWrite']=!!_0xded463['dither'];}['updateView'+'port'](_0x39efc6){var _0x171ac4;const _0x16fb4e=_0x39efc6==null?void(-0x1468*-0x1+0x2*-0x1245+0x1022):_0x39efc6['camera'],_0x941f46=_0x16fb4e==null?void(0x7e3+-0x11e7+-0x2*-0x502):_0x16fb4e['renderTarg'+'et'],{width:_0x358b52,height:_0x4eed1d}=_0x941f46??this['resource']['device'];Sc[0xbcd+0x120e+-0x1ddb]=_0x358b52,Sc[-0x8*0x106+0x52*0xf+0x363]=_0x4eed1d;const _0x10792d=(_0x171ac4=_0x16fb4e==null?void(-0x19*-0x97+0x830+-0x1*0x16ef):_0x16fb4e['camera'])==null?void(0x1320+-0x1*0x24a7+0x1*0x1187):_0x171ac4['xr'];_0x10792d!=null&&_0x10792d['active']&&_0x10792d['views']['list']['length']===-0x2681+0x25e*0x2+0x1*0x21c7&&(Sc[-0x665+-0x1a11+0x3*0xad2]*=-0x1*0x23f7+0xdf6+-0x1601*-0x1+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x502bbb){if(this['sorter']){const _0x2ea660=_0x502bbb['getWorldTr'+'ansform']();_0x2ea660['getTransla'+'tion'](Va),_0x2ea660['getZ'](Ga);const _0x3e10ca=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x5154b5=vC['invert'](_0x3e10ca);_0x5154b5['transformP'+'oint'](Va,Va),_0x5154b5['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x502bbb);}['update'](){var _0x5e1fc4;if(this['cameras']['length']>-0x35e*-0x1+0xcfb+-0x1059){const _0x4c555d=this['cameras'][-0xcbf+0xb18+0x1a7];this['sort'](_0x4c555d['_node']),(_0x5e1fc4=this['resolveSH'])==null||_0x5e1fc4['render'](_0x4c555d['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0xba*0x13+0x2203+-0x1*0x2fd1;}}['setHighQua'+'litySH'](_0x4316f3){const {resource:_0xffbd}=this,{gsplatData:_0x111125}=_0xffbd;_0x111125 instanceof gC&&_0x111125['shBands']>0x8a*0xe+-0x1d0e+0xac1*0x2&&_0x4316f3===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0xffbd['device'],this));}['updateTime'](_0x826ab5){this['time']=_0x826ab5;}}class Rv{constructor(_0x2fa97f,_0x2331df){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x6d7*-0x2+-0x27*-0x5b+-0x2f)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x2fa97f,this['gsplatData']=_0x2331df,this['isDestroye'+'d']=!(0x184c+-0xcb5+0xb96*-0x1));const _0x5a6a2c=-0x3*0x7ff+0x2d*-0xc1+0x3a6a,_0x4341c8=Math['ceil'](_0x2331df['numSplats']/_0x5a6a2c)*_0x5a6a2c/_0x5a6a2c,_0x190a12=new Uint32Array(_0x4341c8);for(let _0x3a1b33=0x1698+0x9a2+-0x203a;_0x3a1b33<_0x4341c8;++_0x3a1b33)_0x190a12[_0x3a1b33]=_0x3a1b33*_0x5a6a2c;const _0x33c010=new kt(_0x2fa97f,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x35*0x87+0x3*-0xba2+0x6f3)}]),_0x4ab5b5=new Float32Array((0x2*-0x16b+0x2266*0x1+-0x1f84)*_0x5a6a2c),_0x286358=new Uint32Array((0x15d8+0x18d*-0x13+-0x7a5*-0x1)*_0x5a6a2c);for(let _0x53912d=0x698+-0x1*0x15df+0xf47*0x1;_0x53912d<_0x5a6a2c;++_0x53912d){_0x4ab5b5['set']([-(-0x5ab*-0x3+-0x1df2+0xcf2),-(0x39*0x11+-0xb4b+-0x3*-0x281),_0x53912d,0xbba+0x21e6+-0x3*0xf35,-(-0xb9d+0x25c9*-0x1+0x3167),_0x53912d,0x1*-0x2+-0x17*0xad+0xf8e,0xc9*-0x21+-0xab4+0x249e,_0x53912d,-(0x4ed+-0x28f+-0x25d),-0x1e12+0x2704+-0x147*0x7,_0x53912d],_0x53912d*(-0x213f+0x11b*0x16+-0x8f9*-0x1));const _0x341041=_0x53912d*(0x11af*-0x1+-0xc0d*0x3+-0x35da*-0x1);_0x286358['set']([0x1021+-0x11b0+0x18f+_0x341041,0x155+-0x1ff9+-0x1*-0x1ea5+_0x341041,0x615+-0x8e7+0x2d4+_0x341041,-0x854+-0x3b*-0x7f+0x1*-0x14f1+_0x341041,-0x1791+0x29*0x41+0xd2a+_0x341041,-0x500+0x8*0x22d+-0xc65+_0x341041],_0x53912d*(0x1402+0x2386+-0xe*0x3f7));}this['mesh']=new Ge(_0x2fa97f),this['mesh']['setPositio'+'ns'](_0x4ab5b5,0x10a7+0x207a+0x311e*-0x1),this['mesh']['setIndices'](_0x286358),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x2fa97f,_0x33c010,_0x4341c8,{'usage':ms,'data':_0x190a12['buffer']});}['updateData'](){var _0xd22681;const _0x597e04=this['gsplatData'];if(!_0x597e04)return;const _0x11558d=-0x1db3+-0x145d+0x3290,_0x50d1af=Math['ceil'](_0x597e04['numSplats']/_0x11558d)*_0x11558d/_0x11558d,_0x37ae3d=new Uint32Array(_0x50d1af);for(let _0x1c9183=0x1*0x19ab+-0x2*0x1046+0x6e1;_0x1c9183<_0x50d1af;++_0x1c9183)_0x37ae3d[_0x1c9183]=_0x1c9183*_0x11558d;const _0x2f0a19=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x61*-0x2+-0x700+0x7c2)}]),_0x16eb22=new Float32Array((0x790+0xe62+0xaf3*-0x2)*_0x11558d),_0x3a56c1=new Uint32Array((-0x18e+-0xd82+-0x78b*-0x2)*_0x11558d);for(let _0x2f4a5a=-0x8*0x390+-0x8d*0x21+0x2ead*0x1;_0x2f4a5a<_0x11558d;++_0x2f4a5a){_0x16eb22['set']([-(-0x49d*0x7+-0x26c1+-0x17af*-0x3),-(0x77*0x53+0x5*-0x1e7+-0x7*0x427),_0x2f4a5a,0x1dcd+0x706+-0x24d2,-(0x258b+-0xefd*0x1+-0x168d),_0x2f4a5a,-0x7dc+0x1c44+-0x1467,-0x2230+0x15f*-0x1a+0x1*0x45d7,_0x2f4a5a,-(-0x8e*-0x1+0x1*-0x2306+0x2279),0x2435+0x501+-0x2935,_0x2f4a5a],_0x2f4a5a*(-0x14fa+0x3*-0x643+-0x1*-0x27cf));const _0x27e378=_0x2f4a5a*(-0x144+-0x1*-0x212b+-0x1fe3);_0x3a56c1['set']([-0x617*-0x2+-0xc34+-0x2*-0x3+_0x27e378,0x4c3*0x3+0xe3*-0x15+0x65*0xb+_0x27e378,0x1129+0x196*0x1+-0x12bd+_0x27e378,-0x1328+0x121e+0x10a+_0x27e378,-0x1607+0x1475+0x194+_0x27e378,0x1*-0x269b+0xaca*-0x2+-0x605*-0xa+_0x27e378],_0x2f4a5a*(0xc6c+0x18bd+-0x2523));}this['mesh']['setPositio'+'ns'](_0x16eb22,-0x1d*0x39+0x1*-0xd38+0x13b0),this['mesh']['setIndices'](_0x3a56c1),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0xd22681=this['instanceIn'+'dices'])==null||_0xd22681['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x2f0a19,_0x50d1af,{'usage':ms,'data':_0x37ae3d['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x44c23d,_0x5b5ced,_0x1239d3,_0x4b511d;(_0x44c23d=this['mesh'])==null||_0x44c23d['destroy'](),(_0x5b5ced=this['instanceIn'+'dices'])==null||_0x5b5ced['destroy'](),(_0x1239d3=this['gsplatData'])==null||_0x1239d3['destroy'](),this['gsplatData']=null,(_0x4b511d=this['gsplatInst'+'ance'])==null||_0x4b511d['destroy'](),this['gsplatInst'+'ance']=void(-0x1*-0x1e3b+0x11db+-0x3016),this['isDestroye'+'d']=!(-0x1407*-0x1+-0x3*0x3b2+-0x8f1),this['mesh']=null;}get['instanceSi'+'ze'](){return-0x36*-0x13+0x66*0x11+0x4*-0x292;}get['numSplats'](){var _0x3a15f1;return(_0x3a15f1=this['gsplatData'])==null?void(0x3*-0x69+0x4f7+-0x3bc):_0x3a15f1['numSplats'];}['setSceneIn'+'fo'](_0xca8eb1){}['configureM'+'aterial'](_0x368894){}['evalTextur'+'eSize'](_0x5c922a){return J['ZERO'];}['appendGSpl'+'atResource'](_0x10fd06,_0x1606a1,_0x1ce3c2,_0x3fbbfb,_0x679a5d){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x259c5e,_0x14e36e,_0x3cde87,_0x4c1f54){return new _e(this['device'],{'name':_0x259c5e,'width':_0x3cde87['x'],'height':_0x3cde87['y'],'format':_0x14e36e,'cubemap':!(0x1579+0x21ea+-0x116*0x33),'mipmaps':!(0x164*-0x12+-0x4*-0x854+-0x847),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x4c1f54?{'levels':[_0x4c1f54]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x5c52eb,_0x1baf2f){return this['gsplatInst'+'ance']=new xC(_0x5c52eb,_0x1baf2f),this['gsplatInst'+'ance'];}}async function TC(){const _0x44157a=new Float32Array(-0x77*0xb+0x26ee+-0x21d0),_0xfc14a4=new Int32Array(_0x44157a['buffer']);let _0x45ae50=null,_0x2310c6=null,_0xf6cc92=null,_0xc657cc=null,_0xc4cee8=null,_0x1858f5=null,_0x4500f0=null,_0x419b65=null;self['onmessage']=async _0x5a7707=>{const {data:_0x52290b}=_0x5a7707;switch(_0x52290b['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x49cf75(_0x52290b['numSplats'],_0x52290b['shBands'],_0x52290b['SHData']);break;case'updateColo'+'rData':_0x4ad3a8(_0x52290b['numSplats'],_0x52290b['cr'],_0x52290b['cg'],_0x52290b['cb'],_0x52290b['ca']);break;case'updateTran'+'sformData':_0x21e78b(_0x52290b['numSplats'],_0x52290b['is4D'],_0x52290b['x'],_0x52290b['y'],_0x52290b['z'],_0x52290b['rx'],_0x52290b['ry'],_0x52290b['rz'],_0x52290b['rw'],_0x52290b['mx'],_0x52290b['my'],_0x52290b['mz'],_0x52290b['sx'],_0x52290b['sy'],_0x52290b['sz'],_0x52290b['muT'],_0x52290b['tScale']);break;case'calcAabb':_0x4f002a(_0x52290b['numSplats'],_0x52290b['x'],_0x52290b['y'],_0x52290b['z'],_0x52290b['sx'],_0x52290b['sy'],_0x52290b['sz']);break;case'destroyWor'+'ker':_0x487d32();break;}};class _0x3c8d2f{constructor(_0x1e2208=-0x150*0x2+0xa8d+-0x1*0x7ed,_0x2387c4=0xe75*0x1+0x1*-0x1714+-0x1*-0x89f,_0x5e82c3=0x1*0x9e3+-0x2b3*0xa+0x111b*0x1,_0x415ebd=0x1*0x632+0x88*-0x3+-0x499){this['x']=_0x1e2208,this['y']=_0x2387c4,this['z']=_0x5e82c3,this['w']=_0x415ebd;}['set'](_0x43651e,_0x965f8b,_0x164448,_0x2bbdd2){return this['x']=_0x43651e,this['y']=_0x965f8b,this['z']=_0x164448,this['w']=_0x2bbdd2,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x2182e2=this){let _0x51a4bd=_0x2182e2['length']();return _0x51a4bd===0x1d2*-0x6+0x4*0x3aa+-0x3bc?(this['x']=this['y']=this['z']=0xd*0xe3+0x22c3*-0x1+0x173c,this['w']=0x1d42+-0x1e20+0xdf):(_0x51a4bd=(0x238b+0x18e*-0x9+-0x158c)/_0x51a4bd,this['x']=_0x2182e2['x']*_0x51a4bd,this['y']=_0x2182e2['y']*_0x51a4bd,this['z']=_0x2182e2['z']*_0x51a4bd,this['w']=_0x2182e2['w']*_0x51a4bd),this;}['mulScalar'](_0x4bad67,_0x4021af=this){return this['x']=_0x4021af['x']*_0x4bad67,this['y']=_0x4021af['y']*_0x4bad67,this['z']=_0x4021af['z']*_0x4bad67,this['w']=_0x4021af['w']*_0x4bad67,this;}}const _0x103848=_0x7dae85=>{_0x44157a[-0xbcc+-0xbd3+0x179f]=_0x7dae85;const _0x2a5d92=_0xfc14a4[0x2*-0x42f+-0x120a+0x1a68];let _0x45727d=_0x2a5d92>>0x221*-0x7+0x1e2d+-0x6*0x289&0x3afb+-0x284e+0x5c1*0x13,_0x4b7979=_0x2a5d92>>-0xc*0x2f6+-0x9ad+-0x2d41*-0x1&-0xd*-0x216+0xa85+-0x21e*0xe;const _0x583b39=_0x2a5d92>>-0x2a*0xa1+-0x1549+-0x1*-0x2fca&-0x1e77+-0x10b2+0x1*0x3028;return _0x583b39<0xe20*0x2+0x12e8*0x1+-0x1*0x2ec1?_0x45727d:_0x583b39>0x47b+-0xa63*0x1+0x676?(_0x45727d|=-0x8e*-0x3a+-0x5f*0x12d+0x1*0xcb87,_0x45727d|=(_0x583b39===-0x247d*-0x1+0x5d3+-0x2951?0xdef+-0x1*0x88c+-0x563:0x1769+-0xcf*-0xf+-0x2389)&&_0x2a5d92&0x5*-0x2f497a+-0x1c635a*-0x6+-0x26d241*-0x5,_0x45727d):_0x583b39<-0x1*0x193c+0xc3e+0x1*0xd6f?(_0x4b7979|=0x1*0x8f1+-0xe8+-0x1*0x9,_0x45727d|=(_0x4b7979>>-0x2543+-0x80d*-0x1+0x1da8-_0x583b39)+(_0x4b7979>>-0x4*-0x784+-0x28e*-0x4+-0x27d7-_0x583b39&-0x1d6f+-0x16ce+-0x1a1f*-0x2),_0x45727d):(_0x45727d|=_0x583b39-(0x3*-0xa63+0x8dd*0x1+-0x123*-0x14)<<-0x9*0xb3+-0x2f3*0x8+0xa3*0x2f|_0x4b7979>>-0x1*-0x190b+-0x10fb+-0x80f*0x1,_0x45727d+=_0x4b7979&0xd60*0x1+-0x24c7+-0x2*-0xbb4,_0x45727d);},_0x4f002a=(_0x1860bc,_0x57725f,_0x4a6b03,_0xe760cc,_0x324b3f,_0xe3768c,_0x56f14b)=>{let _0x5e32dd=0x2486+0x275*-0x1+-0x2211,_0x3a7666=-0x20ad+0x1*-0x7c9+-0x2876*-0x1,_0x55bc29=-0x165d+0x2224+-0xf*0xc9,_0x4a52e2=-0x72a*0x2+0x1*-0x1733+-0x2587*-0x1,_0x1cf166=-0x287*-0x8+-0x66a*0x1+-0xdce,_0x14b6af=0x3*0x62b+0x288+-0x1509,_0x1c9fde=!(0x1*0x2492+-0x1e5a+-0x2*0x31c);const _0x2491c3=new Float32Array(0x190*-0x13+0x437*0x1+-0x197c*-0x1),_0xec623d=new Float32Array(-0x11b4+0x74f*0x1+0x48*0x25);for(let _0xbeaf78=0x1*-0x1cac+0x4*0x337+-0x1*-0xfd0;_0xbeaf78<_0x1860bc;++_0xbeaf78){const _0x374781=_0x57725f[_0xbeaf78],_0x3c233c=_0x4a6b03[_0xbeaf78],_0x5b7ded=_0xe760cc[_0xbeaf78],_0x18a514=Math['max'](_0x324b3f[_0xbeaf78],_0xe3768c[_0xbeaf78],_0x56f14b[_0xbeaf78]);if(!isFinite(_0x374781)||!isFinite(_0x3c233c)||!isFinite(_0x5b7ded)||!isFinite(_0x18a514))continue;const _0xc23986=(0x1*0x10b7+-0xc3b*-0x2+-0x1*0x292b)*Math['exp'](_0x18a514);_0x1c9fde?(_0x1c9fde=!(-0x5b*-0x2e+0xce*-0xf+-0x447),_0x5e32dd=_0x374781-_0xc23986,_0x3a7666=_0x3c233c-_0xc23986,_0x55bc29=_0x5b7ded-_0xc23986,_0x4a52e2=_0x374781+_0xc23986,_0x1cf166=_0x3c233c+_0xc23986,_0x14b6af=_0x5b7ded+_0xc23986):(_0x5e32dd=Math['min'](_0x5e32dd,_0x374781-_0xc23986),_0x3a7666=Math['min'](_0x3a7666,_0x3c233c-_0xc23986),_0x55bc29=Math['min'](_0x55bc29,_0x5b7ded-_0xc23986),_0x4a52e2=Math['max'](_0x4a52e2,_0x374781+_0xc23986),_0x1cf166=Math['max'](_0x1cf166,_0x3c233c+_0xc23986),_0x14b6af=Math['max'](_0x14b6af,_0x5b7ded+_0xc23986));}_0x1c9fde||(_0x2491c3[0x1c47+-0x44a+-0x17fd]=(_0x5e32dd+_0x4a52e2)*(-0x198e*0x1+-0x1*-0x305+-0x1689*-0x1+0.5),_0x2491c3[-0x1d2c+0x4*0x25+0x1*0x1c99]=(_0x3a7666+_0x1cf166)*(0xf2b+0x13*0x35+-0x131a+0.5),_0x2491c3[0x1*-0x1007+0x24f1+-0x14e8]=(_0x55bc29+_0x14b6af)*(-0x129a+-0x1582+0x281c+0.5),_0xec623d[-0x2*-0x754+-0x71*0x1+0x1*-0xe37]=(_0x4a52e2-_0x5e32dd)*(-0x7*-0x292+-0x6dc*-0x4+-0x2d6e*0x1+0.5),_0xec623d[0x1*0xbb3+0x47*-0x55+0x1*0xbe1]=(_0x1cf166-_0x3a7666)*(-0x1fe8+-0x1073+0x305b*0x1+0.5),_0xec623d[0xe52+0x3*0x39+-0x5*0x2ff]=(_0x14b6af-_0x55bc29)*(-0x17*0x10d+-0xe6d+0x2698+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x2491c3,'halfExtents':_0xec623d});},_0x21e78b=(_0x232462,_0x229c02,_0x386496,_0x1b3b37,_0x405660,_0x467fd2,_0x2f5b9f,_0x39174b,_0x101f13,_0x339a17,_0x52c019,_0x3c9b37,_0x5155c8,_0x17cf7b,_0x48ce97,_0x3aa985,_0x2a1571)=>{_0x487d32(),_0x45ae50=new Float32Array(_0x232462*(0xa18+-0x1659*-0x1+-0x206e*0x1)),_0xc657cc=new Float32Array(_0x232462*(-0xe5b+-0x257a+-0x33d8*-0x1)),_0x1858f5=new Uint16Array(_0x232462*(-0x1e7a*-0x1+-0x17e*-0xd+-0x31dd)),_0xf6cc92=new Float32Array(_0x232462*(-0x23fb+0x16df+-0x1*-0xd1f)),_0x229c02&&(_0xc4cee8=new Float32Array(_0x232462*(0x226b+0xe16+0x183f*-0x2)),_0x2310c6=new Float32Array(_0x232462*(0xe7*-0x1d+-0xc7*-0x13+-0x17*-0x7f)),_0x4500f0=new Float32Array(_0x232462*(-0x2*-0x624+-0x23*0x13+-0x9ac)),_0x419b65=new Float32Array(_0x232462));const _0x15a5e6=new _0x3c8d2f(-0x443*0x8+-0xe0f+0x3027,-0x17a5+-0x12a*0xe+0x27f1,0x13cf+0xe5*-0x15+-0x106*0x1,-0x3d7+-0x3*0xa1a+0x1*0x2225);for(let _0xe2bd44=-0xdce+-0x784+0x2*0xaa9;_0xe2bd44<_0x232462;_0xe2bd44++)_0x15a5e6['set'](_0x467fd2[_0xe2bd44],_0x2f5b9f[_0xe2bd44],_0x39174b[_0xe2bd44],_0x101f13[_0xe2bd44]),_0x15a5e6['normalize'](),_0x15a5e6['w']<0x22*0xaa+0xc97*0x3+-0x89f*0x7&&_0x15a5e6['mulScalar'](-(0x2408+-0x5*-0x527+-0x3dca)),_0xc657cc[_0xe2bd44*(0xc31*-0x1+-0x2300+0x2f34)+(-0xa*0xb5+-0x188b+0x1f9d)]=_0x386496[_0xe2bd44],_0xc657cc[_0xe2bd44*(-0x4ec+0x1500+-0x1011)+(0x18*-0x7b+-0x2600+0x3189)]=_0x1b3b37[_0xe2bd44],_0xc657cc[_0xe2bd44*(-0x263+0x2*-0x20a+-0x2*-0x33d)+(-0x6a*-0x22+0xf1b+-0x1d2d)]=_0x405660[_0xe2bd44],_0x45ae50[_0xe2bd44*(0x1a32+-0x4*0x145+-0x151b)+(-0x11e0+0x10c8+0x14*0xe)]=_0x386496[_0xe2bd44],_0x45ae50[_0xe2bd44*(-0xbe4*0x1+0x137d+-0x796)+(0x6a*0x35+-0xe2a+-0x7c7)]=_0x1b3b37[_0xe2bd44],_0x45ae50[_0xe2bd44*(0x1191*0x1+0x137e+-0x250c)+(0x154d*-0x1+0x2*0x3e6+0x3*0x481)]=_0x405660[_0xe2bd44],_0x1858f5[_0xe2bd44*(-0x7*0x257+-0x94+0x10f8)+(-0x3*-0xba8+-0x1*-0x2216+-0x1*0x450e)]=_0x103848(Math['exp'](_0x5155c8[_0xe2bd44])),_0x1858f5[_0xe2bd44*(-0x2*0xfa7+-0xc*-0x5a+0x3df*0x7)+(0x24e0+0x1*0x4f+0x252e*-0x1)]=_0x103848(Math['exp'](_0x17cf7b[_0xe2bd44])),_0x1858f5[_0xe2bd44*(0x217d+-0x14d5+0xf9*-0xd)+(-0x19d3+0x211*-0x1+-0xdf3*-0x2)]=_0x103848(Math['exp'](_0x48ce97[_0xe2bd44])),_0xf6cc92[_0xe2bd44*(-0x5*-0x695+-0x4d8+-0x13*0x17a)+(0xa97+0x1068+-0x1aff)]=_0x15a5e6['x'],_0xf6cc92[_0xe2bd44*(0x184*0xf+0x20a1+0xa*-0x589)+(-0xd52+0x3*-0x952+0x2949)]=_0x15a5e6['y'],_0xf6cc92[_0xe2bd44*(-0x67+-0x153+0x1bd*0x1)+(-0x2*-0x10cf+0x11bd*-0x2+0x1de)]=_0x15a5e6['z'],_0x229c02&&_0xc4cee8&&_0x2310c6&&(_0xc4cee8[_0xe2bd44*(-0xf3*-0x29+0x117e*-0x1+-0x156a)+(-0x1ac5+0xe7c+0x55*0x25)]=_0x339a17[_0xe2bd44],_0xc4cee8[_0xe2bd44*(0x14ae*0x1+0xa2a+-0x1ed5)+(-0x1521+0x7cc+-0xd56*-0x1)]=_0x52c019[_0xe2bd44],_0xc4cee8[_0xe2bd44*(0x1ab2+-0x1577+-0x2*0x29c)+(0x805*-0x3+0x105a*0x2+0x21*-0x43)]=_0x3c9b37[_0xe2bd44],_0x4500f0[_0xe2bd44*(-0x17e3+-0x2*0x124f+-0x1*-0x3c84)+(0x13*-0x65+0x31*-0x25+-0x3*-0x4dc)]=_0x339a17[_0xe2bd44],_0x4500f0[_0xe2bd44*(0x1*-0x12eb+0x13bb*-0x1+0x26a9*0x1)+(0x1eeb+-0x108e+-0xe5c)]=_0x52c019[_0xe2bd44],_0x4500f0[_0xe2bd44*(-0x25fd+-0x1*-0x1423+0x10d*0x11)+(0x1*0x1b6f+-0x224f*-0x1+0x24*-0x1b7)]=_0x3c9b37[_0xe2bd44],_0x419b65[_0xe2bd44]=_0x2a1571?Math['exp'](_0x2a1571[_0xe2bd44]):-0x26fa+-0x1586+0x3c80,_0x2310c6[_0xe2bd44*(-0xa5a+-0x1f55+0x29b2)+(-0xbcf+-0x1*0x823+0x25*0x8a)]=_0x3aa985?_0x3aa985[_0xe2bd44]:0x15c3+0x5d*0x1d+0x562*-0x6,_0x2310c6[_0xe2bd44*(-0x13dc+0x81d+0xbc2)+(0x76*-0x9+0xe24+0x1*-0x9fd)]=_0x419b65[_0xe2bd44]);const _0x2f2fc0=[_0x45ae50['buffer'],_0xc657cc['buffer'],_0x1858f5['buffer'],_0xf6cc92['buffer']];_0x229c02&&_0x2f2fc0['push'](_0xc4cee8['buffer'],_0x2310c6['buffer'],_0x4500f0['buffer'],_0x419b65['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x45ae50,'dataPosition':_0xc657cc,'dataScale':_0x1858f5,'dataRotation':_0xf6cc92,'dataMotion':_0xc4cee8,'dataTime':_0x2310c6,'motion':_0x4500f0,'tScaleArray':_0x419b65},_0x2f2fc0);},_0x4ad3a8=(_0x190476,_0xda00ec,_0x501d9e,_0x493307,_0x46d224)=>{const _0xe46d98=new Uint16Array(_0x190476*(0x27e+-0x299+0x1f)),_0x2654ec=-0x253*-0xb+0x3b6*0x3+-0x24b3+0.28209479177387814;for(let _0x491a0c=0xb*-0xe9+-0x1ec9+0x28cc;_0x491a0c<_0x190476;++_0x491a0c){const _0x393937=_0xda00ec[_0x491a0c]*_0x2654ec+(0x20a9*0x1+-0xdb8+-0x12f1+0.5),_0x8f8f39=_0x501d9e[_0x491a0c]*_0x2654ec+(-0x63+-0x125a+0x12bd+0.5),_0x4ee189=_0x493307[_0x491a0c]*_0x2654ec+(0x151a+0x26c*0x6+-0x23a2+0.5),_0x2fb087=_0x46d224[_0x491a0c];_0xe46d98[_0x491a0c*(0x5*-0x37c+-0x12b*-0x5+0xb99*0x1)+(0x1992+-0x1810+-0x182)]=_0x103848(_0x393937),_0xe46d98[_0x491a0c*(0x72*0x2b+0x4d7+-0x143*0x13)+(-0x1*0xb2f+0x1*0x222a+-0x16fa)]=_0x103848(_0x8f8f39),_0xe46d98[_0x491a0c*(-0x1*-0x1c13+0x233c+-0x3f4b)+(-0x11f7*-0x2+0x1a31+-0x3e1d)]=_0x103848(_0x4ee189),_0xe46d98[_0x491a0c*(-0x4d2*-0x6+0x15*0x1a1+-0x97*0x6b)+(0x24d0+-0xf3e*-0x1+-0x1*0x340b)]=_0x103848(_0x2fb087);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0xe46d98});},_0x49cf75=(_0x144c54,_0x736d89,_0x29e9cd)=>{const _0x28de30=new Uint32Array(_0x144c54*(-0x52a+-0x2f*-0x1+0x4ff)),_0xe440de=new Uint32Array(_0x144c54*(-0xed1+-0x7*-0x346+-0x815)),_0x4cea0c=new Uint32Array(_0x144c54*(-0x1a4c+-0x1*0xceb+0x273b)),_0x34371c=new Uint32Array(_0x144c54*(0x5*-0xd+0x1d3d+-0xe7c*0x2)),_0x1f891c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x736d89],_0x59bdee=_0x29e9cd,_0x47e5d8=-0x216d*0x1+0x2c+0x2940,_0x40bb9c=-0xb5f*0x1+0x314+0x79*0x1a,_0x99f586=new Float32Array(-0x2475+0xf77+0x14ff),_0x3856db=new Uint32Array(_0x99f586['buffer']),_0x45a2ff=new Array(_0x1f891c*(0xe96+0x3b*0x43+-0x2*0xf02))['fill'](0x185+0x2301+-0x2486);for(let _0x2fca31=-0x2278+-0x1077*-0x2+-0x2*-0xc5;_0x2fca31<_0x144c54;++_0x2fca31){for(let _0x3675f5=0x2091+-0x25de*0x1+0x54d;_0x3675f5<_0x1f891c;++_0x3675f5)_0x45a2ff[_0x3675f5*(0xc57+0x1607*0x1+0x1*-0x225b)]=_0x59bdee[_0x3675f5][_0x2fca31],_0x45a2ff[_0x3675f5*(-0x45f*-0x1+-0x1b41+0x16e5)+(0x83*-0x1+-0x66c*-0x2+-0xc54)]=_0x59bdee[_0x3675f5+_0x1f891c][_0x2fca31],_0x45a2ff[_0x3675f5*(-0x909+-0x11e5*0x1+-0xb*-0x273)+(0x6*-0x265+-0xf1*-0x19+-0x929)]=_0x59bdee[_0x3675f5+_0x1f891c*(0x1b2b+0x8ff*-0x3+-0x2c)][_0x2fca31];let _0x4a6cb2=_0x45a2ff[0x1*-0xe68+-0x18e2+0x274a];for(let _0x3a0c1f=0x134a+0x224f+0x46*-0xc4;_0x3a0c1f<_0x1f891c*(0x264e+-0x46b*0x2+0x1*-0x1d75);++_0x3a0c1f)_0x4a6cb2=Math['max'](_0x4a6cb2,Math['abs'](_0x45a2ff[_0x3a0c1f]));if(_0x4a6cb2!==-0x1*-0x21ec+0x25*-0x83+-0xefd){for(let _0x45f529=-0x2*0xfb3+-0x5e9*0x1+0x254f;_0x45f529<_0x1f891c;++_0x45f529)_0x45a2ff[_0x45f529*(0x1*0x76c+-0x139a+0xc31)+(0x1151+-0x5*0x56c+0x9cb)]=Math['max'](0xb5*-0x2f+0x8b*-0x29+0x377e,Math['min'](_0x47e5d8,Math['floor']((_0x45a2ff[_0x45f529*(0x20cd+-0x1e*0xdf+-0x6a8)+(-0x2409+0x77d+0x1c8c)]/_0x4a6cb2*(-0x1*-0xf55+0x1*-0xf53+-0x2*0x1+0.5)+(0x11c2+0xcf3+-0x7*0x463+0.5))*_0x47e5d8+(0x3*-0x6de+0x29*-0xa3+-0xb*-0x43f+0.5)))),_0x45a2ff[_0x45f529*(-0xf4+0x2*-0x182+-0x3fb*-0x1)+(-0x1*0x5f8+0x893*0x1+-0x6*0x6f)]=Math['max'](0x23dc+-0x58*0x44+0x22*-0x5e,Math['min'](_0x40bb9c,Math['floor']((_0x45a2ff[_0x45f529*(-0x1dbf+-0x8a5+0x1d*0x153)+(0x1837+0x1*0x99a+-0x874*0x4)]/_0x4a6cb2*(0xd2*-0x20+-0xf88+0x539*0x8+0.5)+(-0x7e+-0x4*0x66b+0x1a2a*0x1+0.5))*_0x40bb9c+(-0xfde+-0x14ea+0x24c8+0.5)))),_0x45a2ff[_0x45f529*(0x6*-0x5cb+-0x1451+0x16*0x281)+(0x7a0+0x37*0x2b+-0x10db)]=Math['max'](0x545*-0x3+-0x6*0x27a+0x1eab,Math['min'](_0x47e5d8,Math['floor']((_0x45a2ff[_0x45f529*(0x98a+-0xf17+0x164*0x4)+(-0x26f0+-0x2329+0x4a1b)]/_0x4a6cb2*(-0x2228*-0x1+0x2515+-0x473d+0.5)+(-0x22*0x5d+-0x10a2*0x1+0x1cfc+0.5))*_0x47e5d8+(0x13c3+-0x1*0x7af+0x60a*-0x2+0.5))));_0x99f586[0x2*-0x914+0x1890+-0x52*0x14]=_0x4a6cb2,_0x28de30[_0x2fca31*(0x1aea+0x48*-0x45+0x77e*-0x1)+(-0x1a1a+-0x245+0x1c5f)]=_0x3856db[0xd1e+0x294+-0xfb2],_0x28de30[_0x2fca31*(-0xc+-0x3*-0x5b0+-0x1100)+(0x10f6+0x16af+-0x27a4)]=_0x45a2ff[-0x1447+0x8e9*-0x4+0x37eb]<<0xc64+0xf5e+-0x1bad|_0x45a2ff[0x14a1+-0x102*-0xf+-0x23be]<<-0xe95*0x1+-0x133b+0x141*0x1b|_0x45a2ff[-0x4*0x3d7+0x658*0x4+0x1*-0xa02],_0x28de30[_0x2fca31*(-0x1df*-0x9+0x1dd1+0xc7*-0x3c)+(0x14e8*-0x1+0x5d5*0x6+-0xe14)]=_0x45a2ff[0x25d0+-0x1*-0xd4c+0x7f*-0x67]<<0x1acf+0x585*0x4+0x30ce*-0x1|_0x45a2ff[-0x7e8*0x3+0x1f42+-0x786]<<-0x420+0x173+0x2b8|_0x45a2ff[0x591+0x1995+-0x1f21],_0x28de30[_0x2fca31*(-0x1b28+-0x1*-0x26dd+-0xbb1)+(-0x15ba+0x31*0x33+-0xdb*-0xe)]=_0x45a2ff[0x155*0x7+-0x173+-0x1*0x7da]<<-0x125c+0x1*-0x1525+-0x12*-0x233|_0x45a2ff[0x26e+-0x1c85+-0x1*-0x1a1e]<<0x1*0x1d39+0x5e*-0x59+0x380|_0x45a2ff[-0x227d+0x1*-0x1537+0x37bc],_0x736d89>-0x2395+0x195b+0x61*0x1b&&(_0xe440de[_0x2fca31*(0x5ea*-0x3+0xe2*-0x24+0x318a)+(-0xfb6+-0xc8*-0x27+0x2*-0x761)]=_0x45a2ff[0x22eb*0x1+0x12e+-0x10*0x241]<<-0x7*-0x16f+0x962+-0x1356|_0x45a2ff[0x17f0+-0x22f3+-0x1*-0xb0d]<<0x140a+-0x1204+-0x1fb|_0x45a2ff[0x9*-0x33b+0x1*0x1f75+-0x257],_0xe440de[_0x2fca31*(0x1fb3*-0x1+0xd8b+0x1*0x122c)+(0x14*-0x185+-0x1f*-0x11f+0x1*-0x45c)]=_0x45a2ff[0x7df+-0x1*0x8+0x11d*-0x7]<<-0x129c+-0x1cf1*-0x1+-0xa40|_0x45a2ff[-0x1fba+-0x1cf0+0x585*0xb]<<0xa*0x20f+0xdd9*0x2+-0x303d|_0x45a2ff[0x12*-0xb3+0xfa+0xbaa],_0xe440de[_0x2fca31*(-0x863+-0x1*0xc2b+-0x1*-0x1492)+(0x1d0b*-0x1+-0x4*0x5fb+-0x34f9*-0x1)]=_0x45a2ff[-0x1457*-0x1+0x108d*-0x1+0x1*-0x3bb]<<0x12a3*-0x1+-0xbcb*0x1+0x1e83*0x1|_0x45a2ff[0x19d3+-0x5*-0x207+-0x2*0x11f3]<<-0x1277+-0xab0+0x1d32|_0x45a2ff[-0x35*-0x6+0x1*0xa5f+-0x4*0x2e3],_0xe440de[_0x2fca31*(0x1264+-0x2*-0x4a8+0x1bb*-0x10)+(-0x5d6+0x1eb+0x3ee)]=_0x45a2ff[-0xc1*0x5+-0x1f98+0x236f]<<-0x2645*-0x1+-0x18c2+-0xd6e|_0x45a2ff[-0x2*-0xedb+0x2006+-0x7*0x8cf]<<0x1a90+0x6*0x23c+-0x27ed|_0x45a2ff[0x62+0x1924+0x1*-0x1972],_0x736d89>0xe0f+0x1c27*-0x1+0x5f*0x26?(_0x4cea0c[_0x2fca31*(-0x20f5+0x1faf+0x14a)+(-0x8*0x25c+-0x993+0x1c73)]=_0x45a2ff[0x57+0xa87+-0xac9]<<0x961+0x1d22+-0x266e|_0x45a2ff[0x24c2+-0x1e5*-0x7+-0x1*0x31ef]<<0x1*0x7e1+-0x1c60+-0x1*-0x148a|_0x45a2ff[-0x2*0xd9d+-0x43a+0x1f8b],_0x4cea0c[_0x2fca31*(-0x1*-0x24a0+-0x1866*0x1+-0xc36)+(0x1c6d+0x20b9+-0x3d25)]=_0x45a2ff[0x308*-0x5+-0x9dd*0x1+0x3*0x85f]<<-0xae5*0x2+-0xa77+-0x102b*-0x2|_0x45a2ff[-0x20a*-0x5+-0x2005*0x1+0x1*0x15ec]<<-0x1a11+0x1*-0x825+0x6f*0x4f|_0x45a2ff[-0x11c8+-0xb*0xfe+0x1ccc],_0x4cea0c[_0x2fca31*(0x456+0x305*-0xa+-0x8*-0x33c)+(0x542+-0x824+0x2e4*0x1)]=_0x45a2ff[0x24ee*-0x1+-0x3d7+0x28e0]<<0x1ae6+-0x2b*-0xbc+-0x3a65|_0x45a2ff[0x5a6+0x1cf*0xa+-0x17a0]<<-0x5d*0x2f+0x7*0x1d1+0x467|_0x45a2ff[0xb*0x2dd+0x214f+-0x40b1],_0x4cea0c[_0x2fca31*(0x2402+0x18*-0x1d+-0x2146)+(0x74d+0x1a5e+-0x3*0xb38)]=_0x45a2ff[-0x5*0x58a+-0x2*-0x47a+0x12dc*0x1]<<-0x1243*0x2+-0xb9*0x2d+-0x70*-0x9e|_0x45a2ff[0x1f53+-0x159c+0x133*-0x8]<<0x382*0x3+-0x3a*-0x17+-0xfb1|_0x45a2ff[-0x11a7+0xda6*-0x2+0x2d13],_0x34371c[_0x2fca31*(-0x2595+0x92d+-0xe36*-0x2)+(-0x115*-0xc+-0x18*-0xc7+-0x1fa4)]=_0x45a2ff[0x13f*0x1c+-0x1559*-0x1+0x1c0e*-0x2]<<-0x1*0xf94+0x105*-0x1f+0x5*0x974|_0x45a2ff[-0x21*0x67+0x13b0+-0x1*0x647]<<-0x1c33+0x1681+-0x71*-0xd|_0x45a2ff[0x25*0xb3+-0x1672+-0x34a],_0x34371c[_0x2fca31*(-0x32*-0x9a+0xed4+0x34*-0xdd)+(0x1ff7*0x1+-0x25f1+0x5fb)]=_0x45a2ff[-0xa87+-0x55*-0x3d+0x3*-0x332]<<-0x253c+0x7*-0xda+0x2b47|_0x45a2ff[-0x1*-0x17a1+-0x1709*0x1+-0x1*0x73]<<-0x1a5*0x8+-0x12ec+0x201f|_0x45a2ff[-0x1*0x2077+-0x1197+-0xcc*-0x3f],_0x34371c[_0x2fca31*(0x7bd+0x2*-0x685+0x1*0x551)+(-0x2587+-0x71*0x13+-0x2dec*-0x1)]=_0x45a2ff[0xbed+0x2*-0xe12+-0x5*-0x346]<<0x79d*-0x4+0x1a6b+0x41e|_0x45a2ff[-0x1664+0x1a1b+-0x1*0x38f]<<0x2053*-0x1+0x1fa7+-0x1*-0xb7|_0x45a2ff[-0x1*-0x20cb+-0x12dc+-0xdc6],_0x34371c[_0x2fca31*(0xfdd*0x1+0x16d*0x9+-0x1cae*0x1)+(0x1493+-0x2698+0x1208)]=_0x45a2ff[0x782+0x11dc+-0x1934]<<0x195+0x64*0x26+-0x4*0x416|_0x45a2ff[-0x15b*-0xb+-0x1b37*-0x1+0x1*-0x29f5]<<-0x1542+-0x1*-0x1b99+-0x64c|_0x45a2ff[0x4cb+0x1f3b+-0x23da]):_0x4cea0c[_0x2fca31]=_0x45a2ff[-0x1bb3+0x3e2+-0x2*-0xbf3]<<0x2e*0x3a+0x1d*-0x151+-0x3fa*-0x7|_0x45a2ff[-0x1*-0x7fc+-0x55*-0x58+-0x2*0x128f]<<-0x2af*0x2+0x20f8+-0x1b8f|_0x45a2ff[-0x10c+0x1*0x19b1+0x188e*-0x1]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x28de30,'sh4to7Data':_0xe440de,'sh8to11Data':_0x4cea0c,'sh12to15Data':_0x34371c}},[_0x28de30['buffer'],_0xe440de['buffer'],_0x4cea0c['buffer'],_0x34371c['buffer']]);},_0x487d32=()=>{_0x45ae50=null,_0x2310c6=null,_0xf6cc92=null,_0xc657cc=null,_0xc4cee8=null,_0x1858f5=null,_0x4500f0=null,_0x419b65=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x5dbc6c,_0x394950,_0x2cf5d3){_0x5dbc6c['onmessage']=_0x240e2f=>{if(!this['worker'])return;const {data:_0x302e8c}=_0x240e2f;if(_0x302e8c['type']===_0x394950)switch(_0x394950){case'updatedSHD'+'ata1':_0x2cf5d3(_0x302e8c['data']);break;case'updatedCol'+'orData':_0x2cf5d3(_0x302e8c['data']);break;case'updatedTra'+'nsformData':_0x2cf5d3(_0x302e8c);break;case'updatedAab'+'bData':_0x2cf5d3(_0x302e8c);break;}};}['updateSHDa'+'ta1'](_0x367237,_0x4ec384,_0x23f879){var _0x585d8a;return(_0x585d8a=this['worker'])==null||_0x585d8a['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x367237,'shBands':_0x4ec384,'SHData':_0x23f879}),new Promise(_0x1cdf87=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x4487d3=>{_0x1cdf87(_0x4487d3);});});}async['updateColo'+'rData'](_0x36183b,_0x401248,_0x26e0d8,_0x78f57c,_0x5d5398){var _0x2b1792;return(_0x2b1792=this['worker'])==null||_0x2b1792['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x36183b,'cr':_0x401248,'cg':_0x26e0d8,'cb':_0x78f57c,'ca':_0x5d5398}),new Promise(_0x4c2d26=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x30a149=>{_0x4c2d26(_0x30a149);});});}async['calcAabb'](_0x3e32be,_0x725c7d,_0x19e63e,_0x55307e,_0x5639f5,_0x110e30,_0x7548d4){var _0x36b6ea;const _0x211dcb=new Float32Array(_0x725c7d),_0x28b597=new Float32Array(_0x19e63e),_0xc31438=new Float32Array(_0x55307e),_0x3eb779=new Float32Array(_0x5639f5),_0x1a2c63=new Float32Array(_0x110e30),_0x417b9a=new Float32Array(_0x7548d4);return(_0x36b6ea=this['worker'])==null||_0x36b6ea['postMessag'+'e']({'type':'calcAabb','numSplats':_0x3e32be,'x':_0x211dcb,'y':_0x28b597,'z':_0xc31438,'sx':_0x3eb779,'sy':_0x1a2c63,'sz':_0x417b9a},[_0x211dcb['buffer'],_0x28b597['buffer'],_0xc31438['buffer'],_0x3eb779['buffer'],_0x1a2c63['buffer'],_0x417b9a['buffer']]),new Promise(_0x523b9f=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x37976e=>{_0x523b9f(_0x37976e);});});}async['updateTran'+'sData'](_0x2dd4ab,_0x496094,_0x20c15d,_0x282ee4,_0x51895e,_0x1b0abe,_0xb94942,_0x5d0f18,_0x573377,_0x56daa7,_0x1bef20,_0x2ce17e,_0x2156d5,_0x173397,_0x17c724,_0x137d88,_0x4a5e62){var _0xa6757;return(_0xa6757=this['worker'])==null||_0xa6757['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x2dd4ab,'is4D':_0x496094,'x':_0x20c15d,'y':_0x282ee4,'z':_0x51895e,'rx':_0x1b0abe,'ry':_0xb94942,'rz':_0x5d0f18,'rw':_0x573377,'mx':_0x56daa7,'my':_0x1bef20,'mz':_0x2ce17e,'sx':_0x2156d5,'sy':_0x173397,'sz':_0x17c724,'muT':_0x137d88,'tScale':_0x4a5e62}),new Promise(_0x4933f9=>{const _0x4f7878=_0x2fc92e=>{_0x4933f9(_0x2fc92e);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x4f7878);});}['destroy'](){var _0x309466;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x309466=this['worker'])==null||_0x309466['terminate'](),this['worker']=null);}};const vg=(_0x41e04a,_0x4374f3)=>{const _0x4b465f=[];for(let _0x4658df=-0x10ab+-0x67f+0x172a;_0x4658df<_0x4374f3;++_0x4658df)_0x4b465f['push'](_0x41e04a['getProp']('f_rest_'+_0x4658df));return _0x4b465f;};class EC extends Rv{constructor(_0x42f5bd,_0x1f0cfb){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x42f5bd,_0x1f0cfb),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0xa5e*-0x2+0x11*0x191+-0xbd7*0x4)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x13*0xef+0x30d*0x6+-0x23*0x4);}async['updateData'](){var _0xd37111,_0x1bb9c8,_0x326b8c,_0x5957f0,_0x57e8e3,_0x193b12,_0x5a81ba,_0x40c57c,_0x3e236b,_0x4e383e,_0x333cbf;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x442a50=this['gsplatData'];if(!_0x442a50)return;this['is4D']=_0x442a50['is4D'];const _0x2efca0=await this['getTransfo'+'rmDataByWo'+'rker'](_0x442a50);this['aabb']=new De(),await _0x442a50['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x2efca0['centers'],this['motion']=_0x2efca0['motion'],this['tScale']=_0x2efca0['tScaleArra'+'y'],this['muT']=await _0x442a50['getMuT'](),this['timeIndex']=await _0x442a50['getTimeInd'+'ex']();const _0x4549ea=this['evalTextur'+'eSize'](_0x442a50['numSplats']);this['colorTextu'+'re']?((_0xd37111=this['colorTextu'+'re2'])==null||_0xd37111['destroy'](),(_0x1bb9c8=this['transformA'+'Texture2'])==null||_0x1bb9c8['destroy'](),(_0x326b8c=this['transformB'+'Texture2'])==null||_0x326b8c['destroy'](),(_0x5957f0=this['transformR'+'Texture2'])==null||_0x5957f0['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4549ea),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4549ea),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4549ea),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4549ea),this['is4D']&&((_0x57e8e3=this['transformM'+'otionTextu'+'re2'])==null||_0x57e8e3['destroy'](),(_0x193b12=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x193b12['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4549ea),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4549ea))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x4549ea),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4549ea),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x4549ea),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4549ea),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x4549ea),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4549ea),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x4549ea),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4549ea),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x4549ea),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4549ea),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x4549ea),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4549ea))),await this['updateColo'+'rData'](_0x442a50),await this['updateTran'+'sformFromD'+'ata'](_0x2efca0),this['shBands']=_0x442a50['shBands'],this['shBands']>-0x1e58+-0x360+-0x1*-0x21b8&&(this['sh1to3Text'+'ure']?((_0x5a81ba=this['sh1to3Text'+'ure2'])==null||_0x5a81ba['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4549ea),this['shBands']>0x7bf*-0x3+0x21b+0x1523*0x1&&((_0x40c57c=this['sh4to7Text'+'ure2'])==null||_0x40c57c['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4549ea),this['shBands']>0x22a+0x1*-0xbca+-0x12*-0x89?((_0x3e236b=this['sh8to11Tex'+'ture2'])==null||_0x3e236b['destroy'](),(_0x4e383e=this['sh12to15Te'+'xture2'])==null||_0x4e383e['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4549ea),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4549ea)):((_0x333cbf=this['sh8to11Tex'+'ture2'])==null||_0x333cbf['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4549ea)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4549ea),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x4549ea),this['shBands']>-0x18*0xf6+0x43*0x33+0x9b8&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x4549ea),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4549ea),this['shBands']>0x4*0x106+-0x1a76+0x1660?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x4549ea),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4549ea),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x4549ea),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4549ea)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x4549ea),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x4549ea)))),await this['updateSHDa'+'taByWorker'](_0x442a50));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x3d71f0){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x3d71f0}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x17d04a,_0x40656e,_0x1afe7f,_0x5d1de1,_0x2a88e3){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x17d04a,'timeOption':_0x40656e,'loadedTime':_0x1afe7f,'asset':_0x5d1de1,'events':_0x2a88e3}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x116d+-0x89*0x4+0x1391);try{for(;this['appendQueu'+'e']['length']>0x1c33+0x2391+-0x3fc4;){const _0x1f49f5=this['appendQueu'+'e']['shift']();_0x1f49f5['type']==='append'?await this['processApp'+'endTask'](_0x1f49f5['data']):_0x1f49f5['type']==='release'&&await this['processRel'+'easeTask'](_0x1f49f5['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0xdb6+0x8*-0xab+0x130f);}}}async['processRel'+'easeTask'](_0x4bf9f3){const {index:_0x5646f1}=_0x4bf9f3;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x5646f1),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x5646f1);}async['processApp'+'endTask'](_0x125912){var _0x5e1f1e;const {gsplatData:_0xd37277,timeOption:_0x4eaeae,loadedTime:_0x15fc79,asset:_0x54c06e,events:_0x475f60}=_0x125912;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x4eaeae,await this['gsplatData']['appendGSpl'+'atData'](_0xd37277,_0x15fc79,_0x4eaeae),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0xc4b*0x1+0x183f*-0x1+0x248c),_0xd37277['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0xd37277['numSplats'])['toFixed'](0x415*-0x9+0x1*-0x1166+-0x1b13*-0x2)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*0xd55+0xe10+-0x1*0xb9),_0xd37277['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x5e1f1e=this['gsplatInst'+'ance'])==null||_0x5e1f1e['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x235+-0x14e3+0x1*0x171a),_0xd37277['numSplats']),this['asset']=_0x54c06e,this['assetsMana'+'gerLoadedT'+'ime']=_0x15fc79,this['events']=_0x475f60);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x1728e4;const _0x104c52=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x104c52),(_0x1728e4=this['asset'])==null||_0x1728e4['fire']('setAssetsL'+'oaded',_0x104c52);}['destroy'](){var _0x22ddda,_0x49d343,_0x3aad3a,_0x3d922b,_0x383f4b,_0x284954,_0x5cfae6,_0x219d37,_0x4d48e6,_0x4803d1,_0x36c227,_0x202dd0,_0x599c27,_0x1f7d0a,_0x573bf9,_0x1212cd,_0x127d4d,_0xc275d5,_0x2a86b,_0x97ca90,_0x210dd7;(_0x22ddda=this['updateData'+'Worker'])==null||_0x22ddda['destroy'](),this['updateData'+'Worker']=void(-0x25db+0xd4e*-0x1+0x3329),(_0x49d343=this['colorTextu'+'re'])==null||_0x49d343['destroy'](),(_0x3aad3a=this['transformA'+'Texture'])==null||_0x3aad3a['destroy'](),(_0x3d922b=this['transformB'+'Texture'])==null||_0x3d922b['destroy'](),(_0x383f4b=this['transformR'+'Texture'])==null||_0x383f4b['destroy'](),(_0x284954=this['transformM'+'otionTextu'+'re'])==null||_0x284954['destroy'](),(_0x5cfae6=this['transformL'+'ifecycleTe'+'xture'])==null||_0x5cfae6['destroy'](),(_0x219d37=this['sh1to3Text'+'ure'])==null||_0x219d37['destroy'](),(_0x4d48e6=this['sh4to7Text'+'ure'])==null||_0x4d48e6['destroy'](),(_0x4803d1=this['sh8to11Tex'+'ture'])==null||_0x4803d1['destroy'](),(_0x36c227=this['sh12to15Te'+'xture'])==null||_0x36c227['destroy'](),(_0x202dd0=this['colorTextu'+'re2'])==null||_0x202dd0['destroy'](),(_0x599c27=this['transformA'+'Texture2'])==null||_0x599c27['destroy'](),(_0x1f7d0a=this['transformB'+'Texture2'])==null||_0x1f7d0a['destroy'](),(_0x573bf9=this['transformR'+'Texture2'])==null||_0x573bf9['destroy'](),(_0x1212cd=this['transformM'+'otionTextu'+'re2'])==null||_0x1212cd['destroy'](),(_0x127d4d=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x127d4d['destroy'](),(_0xc275d5=this['sh1to3Text'+'ure2'])==null||_0xc275d5['destroy'](),(_0x2a86b=this['sh4to7Text'+'ure2'])==null||_0x2a86b['destroy'](),(_0x97ca90=this['sh8to11Tex'+'ture2'])==null||_0x97ca90['destroy'](),(_0x210dd7=this['sh12to15Te'+'xture2'])==null||_0x210dd7['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x45a41d){var _0x43f20e,_0x48fbd9,_0x3921fa,_0x54c8f2,_0x93d888,_0x5ccb01,_0x366aef,_0x567081,_0x7cc919,_0xd235b1,_0x5c541a,_0x66055b,_0xf889f1;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x21c139=((_0x43f20e=_0x45a41d['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1962+0x130c+-0x2c6e):_0x43f20e['data'])??-0x2139+0x1*-0x1372+-0x1*-0x34ab,_0x54ea0a=((_0x48fbd9=_0x45a41d['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x16*0x56+-0x25*0x19+-0x3c7):_0x48fbd9['data'])??0x259+0x85*-0x6+0xc6,_0x4cf7a6=((_0x3921fa=_0x45a41d['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x3*-0x46a+0x23*-0xef+0x5*0x3e3):_0x3921fa['data'])??-0x1fea+-0x1*0xe5+0x20d0,_0x52b990=((_0x54c8f2=_0x45a41d['getParamet'+'er']('uHueOffset'))==null?void(-0x103*0x16+-0x5*0x26b+0x2259):_0x54c8f2['data'])??-0x17b7+0x57c+0x123b,_0x3f7820=((_0x93d888=_0x45a41d['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x1d34+0x128e+0x17e1*-0x2):_0x93d888['data'])??0x68*-0x20+0x2664+-0x1964,_0x4160ca=((_0x5ccb01=_0x45a41d['getParamet'+'er']('uOpacity'))==null?void(0x7b1+-0x92*-0x1d+-0x183b):_0x5ccb01['data'])??-0x1*0x1122+-0x400*0x4+0x2123,_0x5201fd=((_0x366aef=_0x45a41d['getParamet'+'er']('clrOffset'))==null?void(0x161*0x5+-0x1d62+0x65*0x39):_0x366aef['data'])??[-0x21f2+0x2f*-0x49+0x2f59,-0x1080+0x2*0x11d2+0x1*-0x1324,-0x239+-0xe7f+0x10b8,0x1cf*-0x2+-0x2489+0x2828],_0x3fe108=((_0x567081=_0x45a41d['getParamet'+'er']('clrScale'))==null?void(-0x3f*0x49+0x4f*0x68+-0xe21*0x1):_0x567081['data'])??[-0x2257*-0x1+-0x1740+-0x3*0x3b2,0x52*0x33+-0x1c29+-0x2*-0x5ea,0x151*0x13+0x1efe+-0x800*0x7,-0xea8+-0x66e+0x1517],_0x2e04ab=((_0x7cc919=_0x45a41d['getParamet'+'er']('uShapeN'))==null?void(0x5bf*-0x1+0xb5c+-0x1*0x59d):_0x7cc919['data'])??0x6e5*-0x1+-0x1a45+0x212a,_0x384a2b=((_0xd235b1=_0x45a41d['getParamet'+'er']('mode'))==null?void(-0x211d+-0x651+0x276e):_0xd235b1['data'])??0x7*-0x367+0x1187+0x64a,_0x333973=((_0x5c541a=_0x45a41d['getParamet'+'er']('ringSize'))==null?void(-0x1aba+0x247e+-0x9c4):_0x5c541a['data'])??-0x75d*-0x4+0x244e+-0x41c2,_0x1f6028=((_0x66055b=_0x45a41d['defines'])==null?void(0x23b*-0x6+0x1*-0x138a+-0x12d*-0x1c):_0x66055b['get']('uOpenAnim'))??'0',_0x148d5b=((_0xf889f1=_0x45a41d['defines'])==null?void(0x358+0xa5*-0x1+-0x2b3):_0xf889f1['get']('uControlCo'+'lorMode'))??'0';_0x45a41d['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x45a41d['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x45a41d['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x45a41d['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x45a41d['setParamet'+'er']('uSplatScal'+'e',_0x54ea0a),_0x45a41d['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x21c139),_0x45a41d['setParamet'+'er']('uSaturatio'+'n',_0x4cf7a6),_0x45a41d['setParamet'+'er']('uHueOffset',_0x52b990),_0x45a41d['setParamet'+'er']('uInvertOpa'+'city',_0x3f7820),_0x45a41d['setParamet'+'er']('uOpacity',_0x4160ca),_0x45a41d['setParamet'+'er']('clrOffset',_0x5201fd),_0x45a41d['setParamet'+'er']('clrScale',_0x3fe108),_0x45a41d['setParamet'+'er']('uShapeN',_0x2e04ab),_0x45a41d['setParamet'+'er']('mode',_0x384a2b),_0x45a41d['setParamet'+'er']('ringSize',_0x333973),_0x45a41d['setParamet'+'er']('prerenderC'+'Time',-0x1414*0x1+0x17a8+-0xe5*0x4),_0x45a41d['setParamet'+'er']('renderSpac'+'e',-0x2fe*0x2+0x252f+-0xa63*0x3),_0x45a41d['setParamet'+'er']('endSpace',0x2*0xc1e+-0x20*-0xc+-0x19b2),_0x45a41d['setDefine']('uOpenAnim',_0x1f6028),_0x45a41d['setDefine']('uControlCo'+'lorMode',_0x148d5b),this['transformM'+'otionTextu'+'re']&&_0x45a41d['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x45a41d['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x45a41d['setDefine']('SH_BANDS',this['shBands']),_0x45a41d['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x45a41d['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x45a41d['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x45a41d['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x45a41d['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x315bd2){const _0xa646fb=Math['ceil'](Math['sqrt'](_0x315bd2)),_0x5f2eba=Math['ceil'](_0x315bd2/_0xa646fb);return new J(_0xa646fb,_0x5f2eba);}async['updateColo'+'rData'](_0x2a954d){var _0x2eba89;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x42601d=this['colorTextu'+'re2'];if(!_0x42601d||this['isDestroye'+'d'])return;const _0x3f3846=_0x2a954d['getProp']('f_dc_0'),_0x32f326=_0x2a954d['getProp']('f_dc_1'),_0x84f3a7=_0x2a954d['getProp']('f_dc_2'),_0x3b2c07=_0x2a954d['getProp']('opacity');let _0x4b7cbc=(_0x2eba89=_0x2a954d['transformD'+'ata'])==null?void(0x2*0x3b7+0xa6*0x11+-0x1274):_0x2eba89['dataColor'];_0x4b7cbc||(_0x4b7cbc=await this['updateData'+'Worker']['updateColo'+'rData'](_0x2a954d['numSplats'],_0x3f3846,_0x32f326,_0x84f3a7,_0x3b2c07)),await this['idleUpdate'+'TexturePro'+'mise'](_0x42601d,_0x4b7cbc);}async['getTransfo'+'rmDataByWo'+'rker'](_0x311a30){var _0x59dce7;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x59dce7=_0x311a30['transformD'+'ata'])!=null&&_0x59dce7['dataCenter'+'s'])return{'centers':_0x311a30['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x311a30['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x311a30['transformD'+'ata']['dataScale'],'dataRotation':_0x311a30['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x311a30['transformD'+'ata']['dataMotion'],'dataTime':_0x311a30['transformD'+'ata']['dataTime'],'motion':_0x311a30['transformD'+'ata']['motion'],'tScaleArray':_0x311a30['transformD'+'ata']['tScaleArra'+'y']};const _0x3dacdd=_0x311a30['getProp']('x'),_0x4f5adf=_0x311a30['getProp']('y'),_0x22930d=_0x311a30['getProp']('z'),_0x24de0f=_0x311a30['getProp']('rot_1'),_0x2fc7b6=_0x311a30['getProp']('rot_2'),_0x2774b3=_0x311a30['getProp']('rot_3'),_0x5c9dba=_0x311a30['getProp']('rot_0'),_0x2e78f7=_0x311a30['getProp']('motion_0'),_0x437b4e=_0x311a30['getProp']('motion_1'),_0x3c1298=_0x311a30['getProp']('motion_2'),_0xbbc1ca=_0x311a30['getProp']('scale_0'),_0x1452b2=_0x311a30['getProp']('scale_1'),_0x389702=_0x311a30['getProp']('scale_2'),_0x1b33bc=_0x311a30['getProp']('t'),_0x2d7af1=_0x311a30['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x311a30['numSplats'],this['is4D'],_0x3dacdd,_0x4f5adf,_0x22930d,_0x24de0f,_0x2fc7b6,_0x2774b3,_0x5c9dba,_0x2e78f7,_0x437b4e,_0x3c1298,_0xbbc1ca,_0x1452b2,_0x389702,_0x1b33bc,_0x2d7af1);}async['updateTran'+'sformFromD'+'ata'](_0x30530f){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x30530f['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x30530f['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x30530f['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x30530f['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x30530f['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x410b7b,_0x5f5ca4){if(!this['isDestroye'+'d'])return new Promise(_0x5e6bc1=>{requestIdleCallback(()=>{const _0x95749d=_0x410b7b['lock']();_0x95749d==null||_0x95749d['set'](_0x5f5ca4),_0x410b7b['unlock'](),_0x5e6bc1(!(-0x258e*0x1+-0x1*-0x1656+-0x2*-0x79c));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x18d090){var _0x31caa3,_0x76b54c,_0x18a8e7,_0x1c0081;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x53e954=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x7b1d10=this['transformA'+'Texture']['lock'](),_0x575ec4=this['transformR'+'Texture']['lock'](),_0x10023a=this['transformB'+'Texture']['lock'](),_0x2351f5=(_0x31caa3=this['transformM'+'otionTextu'+'re'])==null?void(-0x1c60+0x2155+0x8d*-0x9):_0x31caa3['lock'](),_0x5854da=(_0x76b54c=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0x1404+-0x48d*0x3+0x21ab):_0x76b54c['lock'](),_0x50988b=new D(),_0x1f1095=new le(),_0xcf57d2=new D(),_0x5e4495=new D(),_0x186c31=_0x18d090['createIter'](_0x50988b,_0x1f1095,_0xcf57d2,null,_0x5e4495),_0x959783=_0x18d090['getProp']('t'),_0x5aa689=_0x18d090['getProp']('t_scale');for(let _0x5c02c4=0xd96*0x2+-0x22c7*0x1+0x79b;_0x5c02c4<_0x18d090['numSplats'];_0x5c02c4++)_0x186c31['read'](_0x5c02c4),_0x1f1095['normalize'](),_0x1f1095['w']<-0x83*0x7+0x482*0x3+-0x9f1&&_0x1f1095['mulScalar'](-(-0x1ac2+0xb*-0x11c+0x26f7)),_0x7b1d10[_0x5c02c4*(-0x1e7e+0x1*-0x902+0x121*0x23)+(0x442+0x68*-0x1a+0x64e)]=_0x50988b['x'],_0x7b1d10[_0x5c02c4*(-0x240b+0x39d*0x3+-0x50b*-0x5)+(-0x1df2+0x1b89+0x67*0x6)]=_0x50988b['y'],_0x7b1d10[_0x5c02c4*(-0x2*-0x7aa+0x1*-0x77d+-0x14e*0x6)+(-0x935+-0x195b+-0x162*-0x19)]=_0x50988b['z'],_0x10023a[_0x5c02c4*(0xfb*0x17+-0x3*0x27+0x1615*-0x1)+(-0x4*0x4ff+0x259e+-0x4a*0x3d)]=_0x53e954(_0xcf57d2['x']),_0x10023a[_0x5c02c4*(0x1a0c+0x1f2e+-0x3937)+(-0x3*-0x17+0x1e11+-0x1e55)]=_0x53e954(_0xcf57d2['y']),_0x10023a[_0x5c02c4*(-0xb8d+-0x1e25*0x1+0x3*0xde7)+(0xb6+0x1*0xffb+-0x1*0x10af)]=_0x53e954(_0xcf57d2['z']),_0x575ec4[_0x5c02c4*(0xcf5+-0xb62+0x14*-0x14)+(0xfec+-0x1e17+0xe2b)]=_0x1f1095['x'],_0x575ec4[_0x5c02c4*(-0x737*0x1+-0x1ae7+0x1*0x2221)+(0x14f3+0xef*0x2+-0x10*0x16d)]=_0x1f1095['y'],_0x575ec4[_0x5c02c4*(-0x25cc+-0xee1*-0x1+0x16ee)+(0x4*0x836+0x1347*0x1+0x1*-0x341d)]=_0x1f1095['z'],this['is4D']&&_0x2351f5&&_0x5854da&&(_0x2351f5[_0x5c02c4*(-0x2ef+-0x23ab+0x269d*0x1)+(-0x9f9+0x2667+-0x1c6e)]=_0x5e4495['x'],_0x2351f5[_0x5c02c4*(-0x264f*0x1+0x5d2+-0x34*-0xa0)+(-0x4*-0x23c+0x223c+-0x2b2b)]=_0x5e4495['y'],_0x2351f5[_0x5c02c4*(-0x1fe1+0x58*-0x29+0x2dfc)+(0x2513+0x1c*-0x31+-0x1fb5)]=_0x5e4495['z'],_0x5854da[_0x5c02c4*(0x1*-0x16f+-0x1490*-0x1+-0x2*0x98f)+(-0x138a+0x94*0x31+-0x2ee*0x3)]=_0x959783?_0x959783[_0x5c02c4]:-0x12ef+0x2*-0xefd+0x13*0x293,_0x5854da[_0x5c02c4*(-0xc1*-0x7+0xe8a+-0x13ce)+(0x266a+0x3*0x40f+-0x3296)]=_0x5aa689?Math['exp'](_0x5aa689[_0x5c02c4]):-0x90d+-0x1b71+-0x123f*-0x2);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x18a8e7=this['transformM'+'otionTextu'+'re'])==null||_0x18a8e7['unlock'](),(_0x1c0081=this['transformL'+'ifecycleTe'+'xture'])==null||_0x1c0081['unlock']();}async['updateSHDa'+'ta'](_0x23fce9){var _0x508b78,_0x5604ef,_0x2306f7,_0x3de103,_0x53b100,_0x3cf536,_0x47e8ef,_0x22cbaa;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x3e2150=(_0x508b78=this['sh1to3Text'+'ure2'])==null?void(0x10a8+-0x18b6+-0x1*-0x80e):_0x508b78['lock'](),_0x5e63e1=(_0x5604ef=this['sh4to7Text'+'ure2'])==null?void(-0x1dc7+0x38f+-0x68e*-0x4):_0x5604ef['lock'](),_0x18daa4=(_0x2306f7=this['sh8to11Tex'+'ture2'])==null?void(0x3*0x2d3+-0xb*0x1df+0xc1c):_0x2306f7['lock'](),_0x534f6f=(_0x3de103=this['sh12to15Te'+'xture2'])==null?void(0x20fc+0x218*-0x1+-0x1ee4):_0x3de103['lock'](),_0x2d3397={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3abe22=vg(_0x23fce9,_0x2d3397*(-0x1891*-0x1+0x13e3+0x16f*-0x1f)),_0x5de5f0=0xab6+-0x95*-0x25+-0xc20*0x2,_0x3d8dda=-0x2*-0x92c+-0x3*-0x749+-0x2*0x121a,_0x5d0487=new Float32Array(-0x838*-0x4+0x1e2*0x6+-0x2c2b),_0xc883e0=new Uint32Array(_0x5d0487['buffer']),_0x4dfd4f=new Array(_0x2d3397*(-0x123b+0x1c59+-0xa1b))['fill'](0xd87+-0x1250+0x4c9);for(let _0x26ce0c=0xad*0x35+-0x8a0+-0x1b31;_0x26ce0c<_0x23fce9['numSplats'];++_0x26ce0c){for(let _0x43c53f=0xcd2*-0x1+0x556+0x3be*0x2;_0x43c53f<_0x2d3397;++_0x43c53f)_0x4dfd4f[_0x43c53f*(-0x1f14+-0x7af+0x7*0x58a)]=_0x3abe22[_0x43c53f][_0x26ce0c],_0x4dfd4f[_0x43c53f*(-0x177b+-0x2*-0x1a1+0x143c)+(-0x4*0x68e+0x1*-0x2129+0x1db1*0x2)]=_0x3abe22[_0x43c53f+_0x2d3397][_0x26ce0c],_0x4dfd4f[_0x43c53f*(0x2*-0xd17+0x466+0x15cb*0x1)+(-0x1d92+-0x1*0x1dc8+0x3b5c)]=_0x3abe22[_0x43c53f+_0x2d3397*(-0x133*0x1+0xa+0x12b)][_0x26ce0c];let _0x3ed2ad=_0x4dfd4f[-0x5*-0x6d3+-0xb9f+-0x1680];for(let _0x3522b5=0x6*0x38b+-0x689*0x1+0x75c*-0x2;_0x3522b5<_0x2d3397*(-0x167a+0x3*0x89a+-0x351);++_0x3522b5)_0x3ed2ad=Math['max'](_0x3ed2ad,Math['abs'](_0x4dfd4f[_0x3522b5]));if(_0x3ed2ad!==-0x2265+0x1*-0x2396+-0x1*-0x45fb){for(let _0x19d45d=-0x1663*0x1+0x19a*0x5+0xe61;_0x19d45d<_0x2d3397;++_0x19d45d)_0x4dfd4f[_0x19d45d*(0xd7*-0x28+0x8*0x321+-0x1*-0x893)+(0x267b*0x1+0x1c8b+-0x1*0x4306)]=Math['max'](-0x1*0x1e7d+-0xfa*-0x9+0x15b3,Math['min'](_0x5de5f0,Math['floor']((_0x4dfd4f[_0x19d45d*(-0x3*0xc05+0x1869+0xba9)+(0x2414+0xbd1+-0x2fe5)]/_0x3ed2ad*(0x1ee1+0x1b47+-0x3a28+0.5)+(-0x1*0x256a+0xdd5*0x1+0x1795+0.5))*_0x5de5f0+(-0x1ab0+-0x88a+0x5df*0x6+0.5)))),_0x4dfd4f[_0x19d45d*(-0xb*-0xc1+-0x3a*-0x5e+0x4ee*-0x6)+(0x1d71*-0x1+-0x15db+0x334d)]=Math['max'](0x1c8+-0x193a+0x1772,Math['min'](_0x3d8dda,Math['floor']((_0x4dfd4f[_0x19d45d*(0xafd+0x172a+-0x2224)+(-0xe9b*0x1+-0x1*-0xf9f+0x25*-0x7)]/_0x3ed2ad*(0xe3*0x3+-0x406*-0x8+0x32b*-0xb+0.5)+(-0x1*0xedd+-0x1b8a*0x1+0x2a67+0.5))*_0x3d8dda+(0xfab+0x92c+-0x1*0x18d7+0.5)))),_0x4dfd4f[_0x19d45d*(-0x739+0xa9c+-0x360)+(-0x10e1+-0x5c2+0x16a5)]=Math['max'](-0x1bdd+0x13*0x43+-0x125*-0x14,Math['min'](_0x5de5f0,Math['floor']((_0x4dfd4f[_0x19d45d*(-0x3*-0xe9+-0x15d7*0x1+0x131f*0x1)+(0x4*-0x48f+-0x224e+0x348c)]/_0x3ed2ad*(0x637+-0x261*0xc+-0x1655*-0x1+0.5)+(0x2*-0xd81+0x7fa+-0x1d*-0xa8+0.5))*_0x5de5f0+(-0x22f9*-0x1+0x3*-0x273+-0x1ba0+0.5))));_0x5d0487[-0x1*-0xe12+0x182+-0xf94]=_0x3ed2ad,_0x3e2150[_0x26ce0c*(0x9eb*-0x3+-0x1811+0x35d6)+(0x1346+-0x16c6+0x380)]=_0xc883e0[-0x1*0x44b+0xe3*-0x2b+-0x712*-0x6],_0x3e2150[_0x26ce0c*(0x1505+-0xa0b+-0x57b*0x2)+(-0x1877*-0x1+0x7d*-0x21+-0x859)]=_0x4dfd4f[0x4*-0x6df+0x4ae+0x16ce]<<0x2d9+-0x1127+0xe63|_0x4dfd4f[0x20a5*0x1+-0x1e93+-0x211]<<-0xf97*0x2+-0x22cf+-0x4208*-0x1|_0x4dfd4f[0x158e+0xa26+-0x1fb2],_0x3e2150[_0x26ce0c*(-0x1c7c+0x27f*0x2+0xbc1*0x2)+(0x1*-0x1365+-0x2080+0x3*0x114d)]=_0x4dfd4f[0x13f1*-0x1+-0x772*0x3+0x2a4a]<<0x2b7+0x1c90+-0x1f32|_0x4dfd4f[-0x5cf*-0x1+-0x16c7+0x10fc]<<-0x2*-0x66e+0x171e+-0x23ef|_0x4dfd4f[0x9f8+-0x1f1b*0x1+0x1528*0x1],_0x3e2150[_0x26ce0c*(-0x980+0x1c*0x37+0x380*0x1)+(0x65d*-0x1+0x4e4+0x17c)]=_0x4dfd4f[0xb20+-0x1*-0x2369+-0x2e83]<<-0x1*0xdff+0x16*-0x9d+0x2*0xdc9|_0x4dfd4f[-0x2*0x1172+-0x1*0x33a+0x2625]<<0x7f5+0x259*0xc+-0x2416|_0x4dfd4f[-0x5*-0x4bd+-0xf82*-0x1+-0x272b],this['shBands']>0x13a1*-0x1+-0x2b2+-0x1*-0x1654&&(_0x5e63e1[_0x26ce0c*(-0x24c1+-0x1*-0x1ac3+0x2a*0x3d)+(0x11f3*0x1+-0x1*0x181d+0x62a)]=_0x4dfd4f[0x15f6+0x15e9+-0x2bd6]<<-0x1*-0x18f1+-0x254f*0x1+0xc73|_0x4dfd4f[0x1*-0x21ce+-0x24*-0xa8+0x1*0xa38]<<0xb*-0x354+-0x1eae+0x4355|_0x4dfd4f[0xb*0x1a7+0x8*-0x1b4+-0x482],_0x5e63e1[_0x26ce0c*(0x3*0x153+0x257+-0x3e*0x1a)+(0xd3b+-0x187*-0x3+-0x11cf)]=_0x4dfd4f[-0x2c2+-0x1*-0x1e9f+-0x1bd1]<<-0x3ba*-0x5+-0x43*-0x67+-0x48d*0xa|_0x4dfd4f[-0x7*0x12f+0x2*-0xc83+-0x8c*-0x3d]<<-0x1ed9+-0x2572+-0x222b*-0x2|_0x4dfd4f[-0x964+-0x1d91*-0x1+-0x141f],_0x5e63e1[_0x26ce0c*(-0x1*-0x15da+0x958+-0x1f2e)+(-0x4*-0x4f9+0x1f6*0x9+-0x4*0x962)]=_0x4dfd4f[-0xbd9*0x3+0x8da*-0x1+0x2c74]<<0x1916+0x1ba1+-0x34a2*0x1|_0x4dfd4f[0x93e+0x22d3+0x2c01*-0x1]<<-0x1ee7+-0x1132+-0x1da*-0x1a|_0x4dfd4f[-0x3bf*-0x1+-0x2*0x869+-0x1d*-0x74],_0x5e63e1[_0x26ce0c*(0x2*-0xb3d+-0x1752+0x2dd0)+(-0x119+-0x12e9+0x1405)]=_0x4dfd4f[0x3b8*-0x9+0x244f+-0x2c5]<<0xb2b*-0x3+-0x1*0x2105+-0x11*-0x3eb|_0x4dfd4f[-0xb16+-0xf15+0x1a3e]<<-0x6a4+-0xc96+-0x1*-0x1345|_0x4dfd4f[0x2361+-0xc23*-0x1+-0x2f70],this['shBands']>-0x215f+0x169b+-0xc5*-0xe?(_0x18daa4[_0x26ce0c*(0x1796+0x1f55+-0x36e7)+(-0x815+-0x21b5*-0x1+-0xcd0*0x2)]=_0x4dfd4f[-0xe9f+0x7b5+0x1*0x6ff]<<-0x2*-0x4a1+-0xb0f+-0x1*-0x1e2|_0x4dfd4f[0x2123+-0x5*0x1ae+-0x1*0x18a7]<<-0x2488+-0x2549+-0x24ee*-0x2|_0x4dfd4f[-0xbd8+0x1a4+0xa4b],_0x18daa4[_0x26ce0c*(0xad*-0x6+0x69a+-0x51*0x8)+(0x1*-0xad9+-0x1*0x16af+0x2189)]=_0x4dfd4f[0x2e1*0x6+-0x1549*-0x1+-0xe5*0x2b]<<-0x49a+-0x1a21+0x1ed0|_0x4dfd4f[0x18*0x4e+-0x1*0x2303+-0x944*-0x3]<<-0x21e9+0x3b9*-0x7+0x3c03|_0x4dfd4f[-0x11dd*-0x1+-0x9eb+-0x7d8],_0x18daa4[_0x26ce0c*(-0x1d4b*-0x1+-0x1*-0x22c7+0x9*-0x71e)+(0x69*-0x39+0xaf0+-0xc73*-0x1)]=_0x4dfd4f[0x1ba2+0x1c6b+-0x2a*0x155]<<0x1219+-0x10de*-0x1+-0x22e2|_0x4dfd4f[-0x15a2+-0xb47+-0x2105*-0x1]<<0x2530+0x1911+-0x3e36|_0x4dfd4f[0x21*0x79+-0x1b29+0xbad],_0x18daa4[_0x26ce0c*(-0xe8+-0x5*0x435+-0x1ff*-0xb)+(-0x3fd*0x9+0xdc2+-0x5a*-0x3f)]=_0x4dfd4f[-0x1*-0x1937+-0x194b*0x1+-0x19*-0x2]<<0x4*0x1d1+-0xf4d+0x81e|_0x4dfd4f[-0xc91*0x2+-0x2701+0x4042]<<0x75a*0x3+0x3*-0x829+0x8*0x4f|_0x4dfd4f[0x5ad*0x1+-0x1*-0xfd1+-0x155e],_0x534f6f[_0x26ce0c*(-0x2*-0x526+-0x1be8+0x11a0)+(0x1*-0x37a+0x1d*-0x151+0x1*0x29a7)]=_0x4dfd4f[0x25c7*-0x1+0x1ebb+-0x1*-0x72d]<<0x1*-0x19c7+-0x80a+0x2*0x10f3|_0x4dfd4f[-0x24b9+0x1d0*0x4+0x2b1*0xb]<<-0x51*-0x32+0x2459+-0x22c*0x18|_0x4dfd4f[0x10b6+-0x8dc+-0x7b7],_0x534f6f[_0x26ce0c*(0x1a*-0x16d+0x832+-0x1*-0x1ce4)+(-0x203b+0x7*0x218+0x3c*0x4b)]=_0x4dfd4f[-0x20a0+0x26e6+-0x622]<<0xf*-0x1a3+0x23b9+-0xb17|_0x4dfd4f[0xb*-0x247+-0x270c+0x403e]<<0x2*-0xa11+-0x6*-0x2d2+0x7*0x77|_0x4dfd4f[0x5*0xe3+0x1*0x2373+0x9ef*-0x4],_0x534f6f[_0x26ce0c*(0x12bf*0x1+0x1d59+-0x2*0x180a)+(-0x1620+0x2d5*0x6+0x524)]=_0x4dfd4f[0x125d+0xb6d+-0x1da3*0x1]<<0x262c*0x1+-0x23f1+0x16*-0x19|_0x4dfd4f[-0x2d*0x86+0x24b9+0x1*-0xd03]<<0x1*-0x18c1+0x1*-0x776+-0x1021*-0x2|_0x4dfd4f[0x300+0x1*-0x3a4+0xcd],_0x534f6f[_0x26ce0c*(0xc2e+0x149*-0x15+0xed3)+(-0x34*0x65+-0x5*-0x65+0x128e)]=_0x4dfd4f[-0x2038+0x1acc+0x596]<<-0xaab*0x3+0x2*0x28a+-0xd81*-0x2|_0x4dfd4f[-0x119d+0xa*0x4+0x11a0]<<0x17f*0xd+-0xb07*-0x3+-0x347d|_0x4dfd4f[-0x1*-0xc5f+0x26*0xd4+0x7*-0x63d]):_0x18daa4[_0x26ce0c]=_0x4dfd4f[-0x1*0xe6+0x1231+-0x1*0x1136]<<-0x1*-0x244d+-0x1*0x2e+0x7*-0x526|_0x4dfd4f[0x21b*-0x12+0x1b7*-0xc+0x3a90]<<-0x1048+-0x9fb+0x1a4e|_0x4dfd4f[-0x5+-0x1ea+-0x25*-0xe]);}}(_0x53b100=this['sh1to3Text'+'ure2'])==null||_0x53b100['unlock'](),(_0x3cf536=this['sh4to7Text'+'ure2'])==null||_0x3cf536['unlock'](),(_0x47e8ef=this['sh8to11Tex'+'ture2'])==null||_0x47e8ef['unlock'](),(_0x22cbaa=this['sh12to15Te'+'xture2'])==null||_0x22cbaa['unlock']();}async['updateSHDa'+'taByWorker'](_0x55dbd1){var _0x2f06d2,_0x235459,_0x54a0c3,_0x5b95b4,_0x51d6dc;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x1d8c88={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x54525d,_0x2b6df4,_0x2cc15d,_0x262f94;if((_0x2f06d2=_0x55dbd1['transformD'+'ata'])!=null&&_0x2f06d2['sh1to3Data'])_0x54525d=(_0x235459=_0x55dbd1['transformD'+'ata'])==null?void(0x1*-0x1df5+0x22f8+0x503*-0x1):_0x235459['sh1to3Data'],_0x2b6df4=(_0x54a0c3=_0x55dbd1['transformD'+'ata'])==null?void(0x1*0x1679+-0x6*-0xe+-0x16cd):_0x54a0c3['sh4to7Data'],_0x2cc15d=(_0x5b95b4=_0x55dbd1['transformD'+'ata'])==null?void(-0x71*0x17+-0x1146+0x1b6d):_0x5b95b4['sh8to11Dat'+'a'],_0x262f94=(_0x51d6dc=_0x55dbd1['transformD'+'ata'])==null?void(0x1*0xdbe+-0x5*-0x1cd+-0x16bf):_0x51d6dc['sh12to15Da'+'ta'];else{const _0x34bdbb=vg(_0x55dbd1,_0x1d8c88*(-0x12ba+0x1ffa*0x1+-0x1*0xd3d)),_0x28f385=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x55dbd1['numSplats'],this['shBands'],_0x34bdbb);_0x54525d=_0x28f385['sh1to3Data'],_0x2b6df4=_0x28f385['sh4to7Data'],_0x2cc15d=_0x28f385['sh8to11Dat'+'a'],_0x262f94=_0x28f385['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x54525d),this['shBands']>-0x20*-0xbf+0x1858+-0x3037&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x2b6df4),this['shBands']>0x341*-0xb+0x658+0x1d75*0x1?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2cc15d),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x262f94)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2cc15d));}}async function bC(){const _0x29c8b6=new Float32Array(0x2573+-0x237e+-0x1f4);new Int32Array(_0x29c8b6['buffer']);let _0x8139fe=null,_0x270fd6=null,_0xfada04=null,_0x4eef38=null,_0x135396=null,_0x2ce7b9=null,_0x1cfcd5=null,_0x48eb70=null;self['onmessage']=async _0x302224=>{const {data:_0x3bf591}=_0x302224;switch(_0x3bf591['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x223306(_0x3bf591['numSplats'],_0x3bf591['shBands'],_0x3bf591['SHData']);break;case'updateTran'+'sformData':_0xda9d3c(_0x3bf591['numSplats'],_0x3bf591['is4D'],_0x3bf591['position'],_0x3bf591['rotation'],_0x3bf591['motion'],_0x3bf591['scale'],_0x3bf591['muT'],_0x3bf591['tScale']);break;case'destroyWor'+'ker':_0x24b5e2();break;}};const _0xda9d3c=(_0x39c0e7,_0x3e688e,_0x37eb42,_0x1027c0,_0x41b56c,_0x53e28b,_0x4dcddd,_0x34e21a)=>{_0x24b5e2(),_0x3e688e&&(_0x270fd6=new Float32Array(_0x39c0e7*(-0x1a9e*0x1+-0x117e*-0x1+-0x923*-0x1)),_0x48eb70=new Float32Array(_0x39c0e7),_0x135396=new Float32Array(_0x41b56c['buffer']['slice']()),_0x1cfcd5=new Float32Array(_0x41b56c['buffer']['slice']())),_0x4eef38=new Float32Array(_0x37eb42['buffer']['slice']()),_0x8139fe=new Float32Array(_0x37eb42['buffer']['slice']()),_0x2ce7b9=new Uint16Array(_0x53e28b['buffer']['slice']()),_0xfada04=new Float32Array(_0x1027c0['buffer']['slice']());for(let _0x1e77c4=-0x20f2+0x12*-0x115+0x346c;_0x1e77c4<_0x39c0e7;_0x1e77c4++)_0x3e688e&&_0x270fd6&&(_0x48eb70[_0x1e77c4]=_0x34e21a?Math['exp'](_0x34e21a[_0x1e77c4]):0xe4b+0xb24+-0x196f,_0x270fd6[_0x1e77c4*(0x244a+-0x134+-0x2313)+(-0xad5+-0x4*0x871+0x2c99)]=_0x4dcddd?_0x4dcddd[_0x1e77c4]:0x1*-0xccd+-0xa63+0x1730,_0x270fd6[_0x1e77c4*(0x51a*0x3+-0xaee*-0x1+0x89*-0x31)+(0x2028+0x1*-0x1253+-0xdd4)]=_0x48eb70[_0x1e77c4]);const _0x4d6dce=[_0x8139fe['buffer'],_0x4eef38['buffer'],_0x2ce7b9['buffer'],_0xfada04['buffer']];_0x3e688e&&_0x4d6dce['push'](_0x135396['buffer'],_0x270fd6['buffer'],_0x1cfcd5['buffer'],_0x48eb70['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x8139fe,'dataPosition':_0x4eef38,'dataScale':_0x2ce7b9,'dataRotation':_0xfada04,'dataMotion':_0x135396,'dataTime':_0x270fd6,'motion':_0x1cfcd5,'tScaleArray':_0x48eb70},_0x4d6dce);},_0x223306=(_0xe72643,_0x42641c,_0x31243b)=>{const _0x2ba9d3=new Uint32Array(_0xe72643*(-0x25ea+-0x175d*0x1+0x3d4b)),_0x1d883e=new Uint32Array(_0xe72643*(-0x814+0x1*-0x257+-0x1*-0xa6f)),_0x1d3f72=new Uint32Array(_0xe72643*(0x2*0x751+0x27*-0x7f+0x4bb)),_0x5f26bf=new Uint32Array(_0xe72643*(-0x1*0xd87+0x10ea+0x1*-0x35f)),_0x232fbc={0x1:0x3,0x2:0x8,0x3:0xf}[_0x42641c],_0x42bbb0=_0x31243b,_0x2c6940=-0x18*-0x139+-0x9ba+-0x55*0x23,_0x389753=0x22b*-0x5+0x12ba*0x1+0x4*-0xf9,_0x15cf82=new Float32Array(-0x2*-0x132a+-0x86d*-0x1+-0x2ec0),_0x2deea8=new Uint32Array(_0x15cf82['buffer']),_0x1f462b=new Array(_0x232fbc*(0x9a6+0x13a*-0x10+0x1*0x9fd))['fill'](-0x3eb*0x1+-0x1100+0x14eb*0x1);for(let _0x588928=0x2ba*0xd+0x1ed1+0x4243*-0x1;_0x588928<_0xe72643;++_0x588928){for(let _0x31c918=-0x5ba*-0x3+-0x43*-0x2b+-0x1c6f;_0x31c918<_0x232fbc;++_0x31c918)_0x1f462b[_0x31c918*(-0x1*0xfc8+-0x496+0x1461)]=_0x42bbb0[_0x31c918][_0x588928],_0x1f462b[_0x31c918*(-0x5*-0x2d7+-0x314*0x7+0x75c)+(0x1*-0x13f1+0x108b+0x367)]=_0x42bbb0[_0x31c918+_0x232fbc][_0x588928],_0x1f462b[_0x31c918*(-0xb*-0x14f+-0x1*0x1f0d+0x10ab)+(0x1*-0x145+-0x2509+0x1*0x2650)]=_0x42bbb0[_0x31c918+_0x232fbc*(0xf*0x208+-0x249a+-0x20c*-0x3)][_0x588928];let _0x431072=_0x1f462b[0x8bd+-0x110e+-0x1*-0x851];for(let _0x5101a4=-0x1*-0x156b+-0x1950+-0x1f3*-0x2;_0x5101a4<_0x232fbc*(0x25c*0x3+-0x247f+-0x2*-0xeb7);++_0x5101a4)_0x431072=Math['max'](_0x431072,Math['abs'](_0x1f462b[_0x5101a4]));if(_0x431072!==-0xce0+-0xcda*-0x2+-0xcd4){for(let _0x199769=0x935+0xec5+-0x17fa;_0x199769<_0x232fbc;++_0x199769)_0x1f462b[_0x199769*(0x792+0x2f*-0xc3+0x2*0xe1f)+(0x1ba3+-0xfdd+-0xbc6)]=Math['max'](0x1e5a+0xc*0x2e1+-0x40e6,Math['min'](_0x2c6940,Math['floor']((_0x1f462b[_0x199769*(0x22*0x4f+0xa*0x28c+0x23f3*-0x1)+(0x121*-0x1d+0xfcf+0x10ee)]/_0x431072*(0x5*0x68d+-0x230a+-0x5*-0x75+0.5)+(-0xb9f+0x1182+-0x5e3+0.5))*_0x2c6940+(0xde7+0x2490+-0x3277+0.5)))),_0x1f462b[_0x199769*(-0x247d*0x1+-0x1*0x6c4+0x2b44)+(-0x13ac+0xb2d+0x880)]=Math['max'](-0x27*0xb7+0x153*0x5+0x1542,Math['min'](_0x389753,Math['floor']((_0x1f462b[_0x199769*(0x2677+0x2143+0x685*-0xb)+(0x1*-0x8fd+-0x69e+0xf9c)]/_0x431072*(0x6a7*-0x3+-0x1494+0x2889+0.5)+(0x3*-0x51b+0x1a55+0x3ac*-0x3+0.5))*_0x389753+(0x141*0x5+0x2c7*-0x7+0xd2c+0.5)))),_0x1f462b[_0x199769*(0x18f+0x102+-0x28e)+(-0x137*-0x17+-0x140*0x1f+0x27*0x47)]=Math['max'](0x10f*0x1c+0xc*-0x35+-0xd94*0x2,Math['min'](_0x2c6940,Math['floor']((_0x1f462b[_0x199769*(-0x1c89+0x175d+0x52f)+(0x5da+-0x1a56*-0x1+-0x202e)]/_0x431072*(0xbe6*0x2+0x1c*-0xa9+0x110*-0x5+0.5)+(-0x15a2+0x16*-0xdd+-0x514*-0x8+0.5))*_0x2c6940+(-0x88*-0x33+-0x1ebe+-0x1d3*-0x2+0.5))));_0x15cf82[0x8*-0x2c6+0x1f*-0x5e+0x2192]=_0x431072,_0x2ba9d3[_0x588928*(-0x75*0x3f+0x862+0x146d)+(-0x2d*-0xa3+0x2*-0x8a1+-0xb65*0x1)]=_0x2deea8[-0x3d*0xe+0xb84*-0x1+0xeda],_0x2ba9d3[_0x588928*(0xbc5*0x3+-0xf48+-0x1403)+(0x1*0x3d7+-0xe8f*-0x2+-0x20f4)]=_0x1f462b[0x4*0x58a+-0xd7b+0x1*-0x8ad]<<-0x1b23+-0xa2a+0xf*0x27e|_0x1f462b[0x8c9*0x1+-0x467+-0x461]<<0x10a+0x26e9*0x1+0x4fd*-0x8|_0x1f462b[0x1dc9+0x1814+-0x32b*0x11],_0x2ba9d3[_0x588928*(0x42*-0x79+0x99f+-0x1*-0x1597)+(0x568+0x24b7+0x1*-0x2a1d)]=_0x1f462b[-0x57e+0x2*-0x122f+0xdf5*0x3]<<-0x7*0x209+0x1ae6+0x2*-0x649|_0x1f462b[-0x1*0x971+-0x1d5e+-0x3*-0xcf1]<<0x1294+0x2*0xad8+0x2839*-0x1|_0x1f462b[-0x5f*0x5+-0x200b+0x21eb*0x1],_0x2ba9d3[_0x588928*(-0x23a0+-0xc*0x18+0x24c4)+(-0x39*0x1+-0x272+0x2ae)]=_0x1f462b[-0x1e87*-0x1+0x2*0x10a5+-0x3fcb]<<-0xc02+-0x14df+0x20f6|_0x1f462b[0x25*-0x94+0x31c*0x3+0xc17]<<0x2*0xb0d+-0x1*0x2164+0xb55|_0x1f462b[-0xfa+0x834+-0x732],_0x42641c>-0x1*-0x219b+0xcbe*-0x1+0x216*-0xa&&(_0x1d883e[_0x588928*(0x265f+0x3*0x485+-0x33ea)+(0x1*-0x4dc+-0xb3*0x23+-0x9c7*-0x3)]=_0x1f462b[0x10cd+-0x3a*0x4d+-0x6*-0x1d]<<-0xc*-0x71+0x9a7+0x15a*-0xb|_0x1f462b[0x1c96+0x15ba+-0x3246]<<-0x1037*-0x1+-0x1c71+0xc45|_0x1f462b[-0x191d+0x104e+0x8da],_0x1d883e[_0x588928*(0x1*-0xd2e+-0x296+0xfc8)+(0x232+-0x223c*-0x1+-0x246d)]=_0x1f462b[0x493*0x7+-0x2b*0x97+-0x69c]<<-0xa2f*-0x1+-0x1df+-0x83b|_0x1f462b[-0x487*-0x7+-0xe5*0x25+0x175]<<-0x1b*0x15b+0x73+0x2431|_0x1f462b[-0x22d3+0xfcb+0x1316],_0x1d883e[_0x588928*(-0x164f+0x1*-0x234a+0x399d)+(0x10*-0xb8+0xd72*-0x1+0x63d*0x4)]=_0x1f462b[-0xd*-0x2e5+-0x205*-0xd+-0x3fd3]<<0x4b5+-0x1979+0x14d9|_0x1f462b[-0x24b2+-0x239c*-0x1+0x126]<<-0x40d*0x9+0x6*-0x2db+-0xaba*-0x5|_0x1f462b[0x5*0xf1+0x1534+-0x2*0xcec],_0x1d883e[_0x588928*(-0x13fc+-0x2ae+0x16ae)+(-0x95d+-0x706*-0x1+0x2*0x12d)]=_0x1f462b[0x5a8*0x1+0x1*0xa82+-0x67*0x28]<<0x19a0+-0x1dff+-0x4c*-0xf|_0x1f462b[0x9ec+0x111+-0xaea]<<-0x1073*-0x2+-0x1160+0xf7b*-0x1|_0x1f462b[0xdb*0x3+0x14fc+-0x1779],_0x42641c>-0x1*-0x1a1e+0x2d*-0x28+-0x1314?(_0x1d3f72[_0x588928*(-0x2*0xccf+-0xf23+0x28c5)+(-0x4*-0x450+-0xe53*0x1+-0x2ed)]=_0x1f462b[-0x14*-0x107+-0x791+-0xce6]<<-0xda6+-0x4*0x4aa+0x1*0x2063|_0x1f462b[0x2*-0xd9f+0x241*-0x1+0x1d95]<<-0x70*-0x45+-0xb4d*0x1+0x4*-0x4b6|_0x1f462b[0xa6b+-0x202a+-0x2*-0xaeb],_0x1d3f72[_0x588928*(0x13af+0x7bb*-0x1+0x5f8*-0x2)+(-0x27*-0xc5+0x1695+-0x3497)]=_0x1f462b[0x8*0x4c9+-0xe73+-0x17bd]<<-0x145*0x1+0xada+-0x980|_0x1f462b[0x1f6e+-0x57e*0x6+0x1*0x19f]<<0xb*-0x32+-0xbd5*-0x2+-0x1579|_0x1f462b[-0x327*0x9+0x1*0x259e+-0x925],_0x1d3f72[_0x588928*(-0x3*-0xa88+0x166+-0x20fa)+(0x527*-0x6+0x2c5+-0x1c27*-0x1)]=_0x1f462b[-0x1*0x185e+-0x1231*0x1+0x7f*0x56]<<-0x1c3c+0x44*-0x2+-0x7*-0x41f|_0x1f462b[0x1*-0xd3a+-0x2567+0x32bd]<<-0x7db*0x1+0x1928+-0x2*0x8a1|_0x1f462b[0x217*-0xa+0x1aa*0x1+0x1359],_0x1d3f72[_0x588928*(0x22cd+-0x315*-0x8+-0x3b71)+(0x5*0x6cf+0x9*0x338+0x24*-0x1c0)]=_0x1f462b[-0x6d*0x49+-0x5*-0x66d+0x2*-0x77]<<0xe8a+0x1f3a+-0x2daf*0x1|_0x1f462b[0x1270+-0x436+-0xe1b]<<-0x1dd*-0x13+-0xb99+-0x17c3|_0x1f462b[0x2e*-0x2d+0x1*-0x7cf+-0x1*-0x1005],_0x5f26bf[_0x588928*(-0x705*0x3+0x292*0x8+-0x83*-0x1)+(-0x1fee+-0x20aa*0x1+0x4098)]=_0x1f462b[-0x1948+0xa*0x23f+0x2f3]<<-0x2105*-0x1+-0x1*-0x215+0x1*-0x2305|_0x1f462b[-0x7*-0x101+0x15f5+0xe6d*-0x2]<<-0x182e*0x1+0x12de+0x55b|_0x1f462b[0x1de*0xc+-0x230b*-0x1+0x38*-0x106],_0x5f26bf[_0x588928*(-0x1*0x189b+-0x199b*-0x1+-0x9*0x1c)+(0xcca*-0x3+0x3*0x5e9+-0x4*-0x529)]=_0x1f462b[-0x669*0x1+-0x15*0x1da+0x2d6f]<<0x17f+0x1ee+-0x358|_0x1f462b[0x1ea4+-0x15ab+-0x8d4]<<-0x1*0x1147+-0x2ec*-0x3+0x88e|_0x1f462b[0x20*0xfb+-0x1*0xb3c+-0x3*0x6aa],_0x5f26bf[_0x588928*(0x1*0x12f1+0x5*0x364+-0x23e1)+(-0xcf2*0x1+0x1*-0x1fb4+0x2ca8*0x1)]=_0x1f462b[0x1*0x19c7+0x23ba+-0x3d5a]<<-0x52*-0x45+-0x197f*0x1+0xa*0x59|_0x1f462b[-0xf*-0x1fd+0x210a+-0x3eb5]<<-0x73b+0x1*0x2299+0x577*-0x5|_0x1f462b[-0x1fbd+-0x338+0x231e],_0x5f26bf[_0x588928*(-0x43f*-0x9+0xf01*-0x2+-0x831)+(0xdd9+-0x1fd*-0x13+-0x339d)]=_0x1f462b[0x482*0x6+0x4*0x509+-0x1*0x2f06]<<0x516+-0x40d*0x1+0x3d*-0x4|_0x1f462b[0x1660+0x73+-0x16a8]<<-0x1f8d+0xe7d+-0x1*-0x111b|_0x1f462b[-0x1*-0x1f7f+0x2461+-0x10ed*0x4]):_0x1d3f72[_0x588928]=_0x1f462b[-0x1d47+0x1*-0x14c6+0x3222]<<-0x2*0x1085+0x2367+-0x2*0x124|_0x1f462b[0x54f+-0x109+-0x10*0x43]<<0x1*0xde2+-0x19*-0xba+-0x2001|_0x1f462b[0x1*0x1b1+-0x1*0x17ed+0xf*0x17d]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x2ba9d3,'sh4to7Data':_0x1d883e,'sh8to11Data':_0x1d3f72,'sh12to15Data':_0x5f26bf}},[_0x2ba9d3['buffer'],_0x1d883e['buffer'],_0x1d3f72['buffer'],_0x5f26bf['buffer']]);},_0x24b5e2=()=>{_0x8139fe=null,_0x270fd6=null,_0xfada04=null,_0x4eef38=null,_0x135396=null,_0x2ce7b9=null,_0x1cfcd5=null,_0x48eb70=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x207eb7,_0xf3ffe9,_0x52f30d){_0x207eb7['onmessage']=_0x412f3f=>{if(!this['worker'])return;const {data:_0x49aa75}=_0x412f3f;if(_0x49aa75['type']===_0xf3ffe9)switch(_0xf3ffe9){case'updatedSHD'+'ata1':_0x52f30d(_0x49aa75['data']);break;case'updatedCol'+'orData':_0x52f30d(_0x49aa75['data']);break;case'updatedTra'+'nsformData':_0x52f30d(_0x49aa75);break;}};}['updateSHDa'+'ta1'](_0x5cac04,_0x2b0b3f,_0x21fc86){var _0x3a8af9;return(_0x3a8af9=this['worker'])==null||_0x3a8af9['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x5cac04,'shBands':_0x2b0b3f,'SHData':_0x21fc86}),new Promise(_0x47a42e=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x4bbf34=>{_0x47a42e(_0x4bbf34);});});}async['updateTran'+'sData'](_0x357a8f,_0x36c2c6,_0x2e64cb,_0x1126e4,_0x8fa796,_0x4d0590,_0x1e930a,_0x13ea55){var _0x2303c3;return(_0x2303c3=this['worker'])==null||_0x2303c3['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x357a8f,'is4D':_0x36c2c6,'position':_0x2e64cb,'rotation':_0x1126e4,'motion':_0x8fa796,'scale':_0x4d0590,'muT':_0x1e930a,'tScale':_0x13ea55}),new Promise(_0x5d2c92=>{const _0x1357ee=_0x26b1df=>{_0x5d2c92(_0x26b1df);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1357ee);});}['destroy'](){var _0x1f7fba;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1f7fba=this['worker'])==null||_0x1f7fba['terminate'](),this['worker']=null);}}const xg=(_0x5a4d1c,_0x5aa95a)=>{const _0x1d2d4f=[];for(let _0x58f18a=-0x5e*-0x2+-0x183d+0x1781;_0x58f18a<_0x5aa95a;++_0x58f18a)_0x1d2d4f['push'](_0x5a4d1c['getProp']('f_rest_'+_0x58f18a));return _0x1d2d4f;};class CC extends Rv{constructor(_0x475e32,_0x5c97c3){super(_0x475e32,_0x5c97c3),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x15dd+0x1*-0x11ea+-0x5*0xca)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x1362+-0xeeb*0x2+0x17f*0x7);}['setSceneIn'+'fo'](_0x3e51a7){this['sceneInfo']['duration']=_0x3e51a7['duration'],this['sceneInfo']['fps']=_0x3e51a7['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x3e51a7['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x3e51a7['globalBoun'+'dingBox']['min'][-0x2335+-0x18a7+0x3bdc],_0x3e51a7['globalBoun'+'dingBox']['min'][0x1dfd+0xda5*-0x2+-0x2b2],_0x3e51a7['globalBoun'+'dingBox']['min'][0x75c+0x12c+-0x886]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x3e51a7['globalBoun'+'dingBox']['max'][0x13*-0x5f+-0x1a64+-0x7*-0x4c7],_0x3e51a7['globalBoun'+'dingBox']['max'][0x5*-0x7d0+-0x6a4+-0x2db5*-0x1],_0x3e51a7['globalBoun'+'dingBox']['max'][0x3*0x237+-0x2*-0x217+-0xad1]);const _0xdb901b=_0x3e51a7['globalBoun'+'dingBox']['min'][0x16a3*0x1+-0x3f8+-0x12ab],_0x47ae19=_0x3e51a7['globalBoun'+'dingBox']['min'][-0x111f+-0x1c5e+-0x9*-0x50e],_0x5c9c91=_0x3e51a7['globalBoun'+'dingBox']['min'][0x66d*0x1+-0x5ec+-0x1*0x7f],_0x30bf82=_0x3e51a7['globalBoun'+'dingBox']['max'][-0x1a94+-0x1b57+-0x3*-0x11f9],_0x408e01=_0x3e51a7['globalBoun'+'dingBox']['max'][0x5a*0x6+0x3b*0x99+-0x255e],_0x37c7e4=_0x3e51a7['globalBoun'+'dingBox']['max'][0x553+0x1ebb+-0x240c],_0x5735c4=new D((_0xdb901b+_0x30bf82)*(-0x2359+-0x8*0x28e+0x37c9+0.5),(_0x47ae19+_0x408e01)*(-0x25*0x1d+0x11a0+-0xb5*0x13+0.5),(_0x5c9c91+_0x37c7e4)*(0xba1+0x37*-0x94+0x142b+0.5)),_0x2b8a22=new D((_0x30bf82-_0xdb901b)*(-0x15b0*-0x1+-0xa22+-0xb8e+0.5),(_0x408e01-_0x47ae19)*(0x1*0xba4+0x954+-0x14f8+0.5),(_0x37c7e4-_0x5c9c91)*(0x131e*-0x1+0x1099*-0x1+-0x29*-0xdf+0.5)),_0x2404a0=new De(_0x5735c4,_0x2b8a22);this['sceneInfo']['globalBoun'+'dingBox']=_0x2404a0,this['aabb']=_0x2404a0;}async['updateData'](){var _0x47e78e,_0xb0a9d3,_0x4cf97b,_0x1fce86,_0x385d37,_0x3bcc30,_0x782053,_0x40e8a0,_0x4fedaf,_0x193ac,_0xfb2c54;await super['updateData']();const _0x3226ae=this['gsplatData'];if(!_0x3226ae)return;this['is4D']=_0x3226ae['is4D'];const _0x3e49ae=await this['getTransfo'+'rmDataByWo'+'rker'](_0x3226ae);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x3e49ae['centers'],this['motion']=_0x3e49ae['motion'],this['tScale']=_0x3e49ae['tScaleArra'+'y'],this['muT']=await _0x3226ae['getMuT'](),this['timeIndex']=await _0x3226ae['getTimeInd'+'ex']();const _0x552df2=this['evalTextur'+'eSize'](_0x3226ae['numSplats']);this['colorTextu'+'re']?((_0x47e78e=this['colorTextu'+'re2'])==null||_0x47e78e['destroy'](),(_0xb0a9d3=this['transformA'+'Texture2'])==null||_0xb0a9d3['destroy'](),(_0x4cf97b=this['transformB'+'Texture2'])==null||_0x4cf97b['destroy'](),(_0x1fce86=this['transformR'+'Texture2'])==null||_0x1fce86['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x552df2),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x552df2),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x552df2),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x552df2),this['is4D']&&((_0x385d37=this['transformM'+'otionTextu'+'re2'])==null||_0x385d37['destroy'](),(_0x3bcc30=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3bcc30['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x552df2),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x552df2))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x552df2),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x552df2),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x552df2),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x552df2),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x552df2),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x552df2),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x552df2),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x552df2),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x552df2),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x552df2),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x552df2),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x552df2))),await this['updateColo'+'rData'](_0x3226ae),await this['updateTran'+'sformFromD'+'ata'](_0x3e49ae),this['shBands']=_0x3226ae['shBands'],this['shBands']>-0x1cc5+0x27a*-0x3+0x2433&&(this['sh1to3Text'+'ure']?((_0x782053=this['sh1to3Text'+'ure2'])==null||_0x782053['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x552df2),this['shBands']>0x1*-0x138b+0x1a3c+-0x6b0*0x1&&((_0x40e8a0=this['sh4to7Text'+'ure2'])==null||_0x40e8a0['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x552df2),this['shBands']>0x6*0x4d4+-0x1ce8+0x1*-0xe?((_0x4fedaf=this['sh8to11Tex'+'ture2'])==null||_0x4fedaf['destroy'](),(_0x193ac=this['sh12to15Te'+'xture2'])==null||_0x193ac['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x552df2),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x552df2)):((_0xfb2c54=this['sh8to11Tex'+'ture2'])==null||_0xfb2c54['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x552df2)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x552df2),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x552df2),this['shBands']>0x14cc+-0x3f*0xb+-0x1216&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x552df2),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x552df2),this['shBands']>-0xbfa+-0x2*-0x9c5+0x3c7*-0x2?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x552df2),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x552df2),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x552df2),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x552df2)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x552df2),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x552df2)))),await this['updateSHDa'+'taByWorker'](_0x3226ae));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x3291b4){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x3291b4}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x304a53,_0x35f137,_0x465c63,_0x9a877b,_0x1e636b,_0x21f713){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x304a53,'timeOption':_0x35f137,'loadedTime':_0x465c63,'asset':_0x9a877b,'events':_0x1e636b,'seekCB':_0x21f713}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1b26*-0x1+-0x9c*0x2+0xe2f*0x2);try{for(;this['appendQueu'+'e']['length']>-0x1*0x1c8d+-0x1765+0x33f2;){const _0x48a27a=this['appendQueu'+'e']['shift']();_0x48a27a['type']==='append'?await this['processApp'+'endTask'](_0x48a27a['data']):_0x48a27a['type']==='release'&&await this['processRel'+'easeTask'](_0x48a27a['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x5*-0x38f+-0x1*0xd81+-0x449);}}}async['processRel'+'easeTask'](_0x50d429){const {index:_0x4dc7a0}=_0x50d429;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x4dc7a0);}async['processApp'+'endTask'](_0xbd88c){var _0x3fb5f6;const {gsplatData:_0x3f6e81,timeOption:_0x1a2b76,loadedTime:_0x19c1fe,asset:_0x53c50a,events:_0x55c4c7,seekCB:_0x557a3e}=_0xbd88c;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1a2b76,this['asset']=_0x53c50a,this['assetsMana'+'gerLoadedT'+'ime']=_0x19c1fe,this['events']=_0x55c4c7,await this['gsplatData']['appendGSpl'+'atData'](_0x3f6e81,_0x19c1fe,_0x1a2b76),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*0x1732+-0x112*-0x1+-0x1622*-0x1),_0x3f6e81['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x3f6e81['numSplats'])['toFixed'](-0x3*-0x792+0x1*-0xdb3+-0x900)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1de4*-0x1+-0xb79+0x295f*0x1),_0x3f6e81['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x3fb5f6=this['gsplatInst'+'ance'])==null?void(-0x1*0x167+0x16de+-0x1577):_0x3fb5f6['updateInst'+'anceData'](this,_0x19c1fe,_0x557a3e)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x137b*0x1+0x14*0x197+-0xc4f),_0x3f6e81['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x26f5b5,_0x59d7b2){var _0x3ec941;const _0x14fafa=_0x26f5b5||this['assetsMana'+'gerLoadedT'+'ime'];(_0x3ec941=this['asset'])==null||_0x3ec941['fire']('setAssetsL'+'oaded',_0x14fafa,_0x59d7b2);}['destroy'](){var _0xb2b834,_0xc19913,_0x57275b,_0x2254cf,_0x567d60,_0x2c4a6a,_0x9eda88,_0x414127,_0x2518f9,_0x4d4ea7,_0x3cfcc6,_0x153819,_0x342ab4,_0x5d742e,_0x1c029f,_0x2017c8,_0x1fb4ca,_0x2f0b80,_0x4434fb,_0x3268ec,_0x3208c9;(_0xb2b834=this['updateData'+'Worker'])==null||_0xb2b834['destroy'](),this['updateData'+'Worker']=void(0x1093*-0x2+0x1dc9*0x1+-0x7*-0x7b),(_0xc19913=this['colorTextu'+'re'])==null||_0xc19913['destroy'](),(_0x57275b=this['transformA'+'Texture'])==null||_0x57275b['destroy'](),(_0x2254cf=this['transformB'+'Texture'])==null||_0x2254cf['destroy'](),(_0x567d60=this['transformR'+'Texture'])==null||_0x567d60['destroy'](),(_0x2c4a6a=this['transformM'+'otionTextu'+'re'])==null||_0x2c4a6a['destroy'](),(_0x9eda88=this['transformL'+'ifecycleTe'+'xture'])==null||_0x9eda88['destroy'](),(_0x414127=this['sh1to3Text'+'ure'])==null||_0x414127['destroy'](),(_0x2518f9=this['sh4to7Text'+'ure'])==null||_0x2518f9['destroy'](),(_0x4d4ea7=this['sh8to11Tex'+'ture'])==null||_0x4d4ea7['destroy'](),(_0x3cfcc6=this['sh12to15Te'+'xture'])==null||_0x3cfcc6['destroy'](),(_0x153819=this['colorTextu'+'re2'])==null||_0x153819['destroy'](),(_0x342ab4=this['transformA'+'Texture2'])==null||_0x342ab4['destroy'](),(_0x5d742e=this['transformB'+'Texture2'])==null||_0x5d742e['destroy'](),(_0x1c029f=this['transformR'+'Texture2'])==null||_0x1c029f['destroy'](),(_0x2017c8=this['transformM'+'otionTextu'+'re2'])==null||_0x2017c8['destroy'](),(_0x1fb4ca=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x1fb4ca['destroy'](),(_0x2f0b80=this['sh1to3Text'+'ure2'])==null||_0x2f0b80['destroy'](),(_0x4434fb=this['sh4to7Text'+'ure2'])==null||_0x4434fb['destroy'](),(_0x3268ec=this['sh8to11Tex'+'ture2'])==null||_0x3268ec['destroy'](),(_0x3208c9=this['sh12to15Te'+'xture2'])==null||_0x3208c9['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x3ba5fa){var _0xd193d7,_0x2fd906,_0x4003f8,_0x373568,_0x43c11c,_0x283faa,_0x3f3c9a,_0x58f5c4,_0x251356,_0x4b7aa4,_0x1cc400,_0x13c4ed,_0x562c06;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x4e0add=((_0xd193d7=_0x3ba5fa['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x762+0x2ad+-0xa0f):_0xd193d7['data'])??0x1bd5+-0x6*-0x329+-0x9*0x533,_0x9c782e=((_0x2fd906=_0x3ba5fa['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x11a*0x7+-0xb0b+0x12c1):_0x2fd906['data'])??0x3*0xbc3+0x9d2+-0x2d1a,_0xf55809=((_0x4003f8=_0x3ba5fa['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x2*-0xd05+-0x1041+0x4b3*0x9):_0x4003f8['data'])??0xe*0x185+-0x3*-0xabb+-0x3576,_0x80e71a=((_0x373568=_0x3ba5fa['getParamet'+'er']('uHueOffset'))==null?void(-0x17db*0x1+-0xb5f+-0x36*-0xa7):_0x373568['data'])??0x1505+0x1*0x26f6+-0x3bfb,_0x3ac8d9=((_0x43c11c=_0x3ba5fa['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x131b*-0x2+0x1e15+0x821):_0x43c11c['data'])??0x1e54+0x1f67+-0x1*0x3dbb,_0x29a1ec=((_0x283faa=_0x3ba5fa['getParamet'+'er']('uOpacity'))==null?void(-0x223d+-0x130a*-0x2+0x3d7*-0x1):_0x283faa['data'])??-0x24d0+0xee1*-0x1+0xd*0x3fa,_0x20f4b2=((_0x3f3c9a=_0x3ba5fa['getParamet'+'er']('clrOffset'))==null?void(0x65d+0x78d+0xdea*-0x1):_0x3f3c9a['data'])??[-0x2a1*-0x1+-0x2a7*-0x7+-0x1*0x1532,-0x366*-0x3+-0x2*0x100f+0x15ec,-0x2b*-0x10+-0x22c6*0x1+0x2016,0x257*-0xb+-0x1*0x776+0x2134],_0x13ba97=((_0x58f5c4=_0x3ba5fa['getParamet'+'er']('clrScale'))==null?void(-0x1d5c+0x8a5+0x14b7):_0x58f5c4['data'])??[-0x5aa+0x72d*-0x1+0xcd8,-0x3*0xbf7+-0x1e97+-0x427d*-0x1,-0x2270+-0x1723+-0x3994*-0x1,-0x5*0x12a+0x375*-0x8+-0x3*-0xb29],_0x54060d=((_0x251356=_0x3ba5fa['getParamet'+'er']('uShapeN'))==null?void(-0x1605+-0x2*-0x6e5+0x83b):_0x251356['data'])??0x7ca+0x238a+-0x2b54,_0x3a0a84=((_0x4b7aa4=_0x3ba5fa['getParamet'+'er']('mode'))==null?void(-0x397*-0x6+0x31*0x31+-0x1eeb):_0x4b7aa4['data'])??-0x1*0x117f+-0x8fd*-0x2+-0x29*0x3,_0x414d5c=((_0x1cc400=_0x3ba5fa['getParamet'+'er']('ringSize'))==null?void(0x109d+0x1*-0x147d+0x3e0):_0x1cc400['data'])??-0x3*0x11e+-0x1*-0x2029+-0x1ccf,_0x4f2bfb=((_0x13c4ed=_0x3ba5fa['defines'])==null?void(-0x7a5*-0x5+0x8a2+0x95f*-0x5):_0x13c4ed['get']('uOpenAnim'))??'0',_0x4dbfd6=((_0x562c06=_0x3ba5fa['defines'])==null?void(-0x72+-0x1dae+0x1e2*0x10):_0x562c06['get']('uControlCo'+'lorMode'))??'0';_0x3ba5fa['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3ba5fa['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3ba5fa['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3ba5fa['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x3ba5fa['setParamet'+'er']('uSplatScal'+'e',_0x9c782e),_0x3ba5fa['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x4e0add),_0x3ba5fa['setParamet'+'er']('uSaturatio'+'n',_0xf55809),_0x3ba5fa['setParamet'+'er']('uHueOffset',_0x80e71a),_0x3ba5fa['setParamet'+'er']('uInvertOpa'+'city',_0x3ac8d9),_0x3ba5fa['setParamet'+'er']('uOpacity',_0x29a1ec),_0x3ba5fa['setParamet'+'er']('clrOffset',_0x20f4b2),_0x3ba5fa['setParamet'+'er']('clrScale',_0x13ba97),_0x3ba5fa['setParamet'+'er']('uShapeN',_0x54060d),_0x3ba5fa['setParamet'+'er']('mode',_0x3a0a84),_0x3ba5fa['setParamet'+'er']('ringSize',_0x414d5c),_0x3ba5fa['setParamet'+'er']('prerenderC'+'Time',0xa90+0x43*-0x27+0x5b*-0x1),_0x3ba5fa['setParamet'+'er']('renderSpac'+'e',0x19ab+-0x66*-0x2f+0xec9*-0x3),_0x3ba5fa['setParamet'+'er']('endSpace',-0x2611+0xf0b+0x8*0x2e2),_0x3ba5fa['setDefine']('uOpenAnim',_0x4f2bfb),_0x3ba5fa['setDefine']('uControlCo'+'lorMode',_0x4dbfd6),this['transformM'+'otionTextu'+'re']&&_0x3ba5fa['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x3ba5fa['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x3ba5fa['setDefine']('SH_BANDS',this['shBands']),_0x3ba5fa['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3ba5fa['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3ba5fa['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3ba5fa['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3ba5fa['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x16569e){const _0x535528=Math['ceil'](Math['sqrt'](_0x16569e)),_0x149aa4=Math['ceil'](_0x16569e/_0x535528);return new J(_0x535528,_0x149aa4);}async['updateColo'+'rData'](_0x59c9d8){var _0x2d3ad0;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x27b590=this['colorTextu'+'re2'];if(!_0x27b590||this['isDestroye'+'d'])return;let _0x2a556a=(_0x2d3ad0=_0x59c9d8['transformD'+'ata'])==null?void(0x1f54+0x89*-0x37+-0x1e5):_0x2d3ad0['dataColor'];if(!_0x2a556a){const _0x538fc1=_0x59c9d8['getProp']('color_opac'+'ity');_0x2a556a=new Uint16Array(_0x538fc1['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x27b590,_0x2a556a);}async['getTransfo'+'rmDataByWo'+'rker'](_0x25e419){var _0x299fe2;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x299fe2=_0x25e419['transformD'+'ata'])!=null&&_0x299fe2['dataCenter'+'s'])return{'centers':_0x25e419['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x25e419['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x25e419['transformD'+'ata']['dataScale'],'dataRotation':_0x25e419['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x25e419['transformD'+'ata']['dataMotion'],'dataTime':_0x25e419['transformD'+'ata']['dataTime'],'motion':_0x25e419['transformD'+'ata']['motion'],'tScaleArray':_0x25e419['transformD'+'ata']['tScaleArra'+'y']};const _0xbf9c9c=_0x25e419['getProp']('position'),_0x3291e4=_0x25e419['getProp']('motion'),_0x4634a2=_0x25e419['getProp']('rotation'),_0x46eae8=_0x25e419['getProp']('scale'),_0x2d6314=_0x25e419['getProp']('t'),_0x4d650f=_0x25e419['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x25e419['numSplats'],this['is4D'],_0xbf9c9c,_0x4634a2,_0x3291e4,_0x46eae8,_0x2d6314,_0x4d650f);}async['updateTran'+'sformFromD'+'ata'](_0x29c809){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x29c809['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x29c809['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x29c809['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x29c809['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x29c809['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4d5dc0,_0x2bf356){if(!this['isDestroye'+'d'])return new Promise(_0x18d97c=>{requestIdleCallback(()=>{const _0x1f9a27=_0x4d5dc0['lock']();_0x1f9a27==null||_0x1f9a27['set'](_0x2bf356),_0x4d5dc0['unlock'](),_0x18d97c(!(0xbf*0xc+0x936+-0x32*0x5d));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x5d9ef0){var _0x4171c3,_0x100b21,_0x55d5a0,_0x949e65,_0x371452,_0x295227,_0x301b2a,_0x14fdc0;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x5e5b84=(_0x4171c3=this['sh1to3Text'+'ure2'])==null?void(0x6e*-0x1b+-0x1d54+0x28ee):_0x4171c3['lock'](),_0x5cb068=(_0x100b21=this['sh4to7Text'+'ure2'])==null?void(0x236a+0x4b5*-0x1+-0x1eb5*0x1):_0x100b21['lock'](),_0x1b501c=(_0x55d5a0=this['sh8to11Tex'+'ture2'])==null?void(-0x362*-0x3+-0x1*-0xd4b+-0x1771):_0x55d5a0['lock'](),_0x29e898=(_0x949e65=this['sh12to15Te'+'xture2'])==null?void(0x15da+-0x26*-0xc0+-0x1*0x325a):_0x949e65['lock'](),_0x40dc7a={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3a36e5=xg(_0x5d9ef0,_0x40dc7a*(0x164b+-0x25e3*-0x1+-0x1*0x3c2b)),_0x2379d7=0x2479*-0x1+-0x57*0x67+0x4f79,_0x8a7720=-0x1851+0xcaf+0xfa1,_0x24338d=new Float32Array(-0x2*0x1350+-0x354+0x1d3*0x17),_0x9daf56=new Uint32Array(_0x24338d['buffer']),_0x4f5215=new Array(_0x40dc7a*(0x45c+-0x9db+0x582))['fill'](0x5*0x35b+-0x1c12*-0x1+-0x2cd9);for(let _0x2e8b02=-0x1*0x155+0x882+-0xa7*0xb;_0x2e8b02<_0x5d9ef0['numSplats'];++_0x2e8b02){for(let _0x1d956c=0x1a3*0x5+-0x23b3+-0x24b*-0xc;_0x1d956c<_0x40dc7a;++_0x1d956c)_0x4f5215[_0x1d956c*(-0x13c8+0x2*0x48b+-0xab5*-0x1)]=_0x3a36e5[_0x1d956c][_0x2e8b02],_0x4f5215[_0x1d956c*(-0x30a+0x19e1+0x4*-0x5b5)+(0xdee*-0x1+-0x24e5*-0x1+0xb7b*-0x2)]=_0x3a36e5[_0x1d956c+_0x40dc7a][_0x2e8b02],_0x4f5215[_0x1d956c*(-0x205d*0x1+0x23fe*0x1+-0x39e*0x1)+(-0x1c7c+-0x7c6*0x5+0x435c)]=_0x3a36e5[_0x1d956c+_0x40dc7a*(0x21*0xd8+0x2*-0x329+-0x1584)][_0x2e8b02];let _0x3b6d48=_0x4f5215[-0x38d+-0x1f26+0x1a7*0x15];for(let _0x2bf7ef=-0x1461+0x1*-0xa2c+0xf47*0x2;_0x2bf7ef<_0x40dc7a*(0x47*-0x35+-0xaa0*0x3+0x2e96);++_0x2bf7ef)_0x3b6d48=Math['max'](_0x3b6d48,Math['abs'](_0x4f5215[_0x2bf7ef]));if(_0x3b6d48!==-0x18d6+-0x5*-0x1+0x18d1){for(let _0x1bceb5=0x16ff*0x1+-0x1c7d+0x57e;_0x1bceb5<_0x40dc7a;++_0x1bceb5)_0x4f5215[_0x1bceb5*(0x2*-0x537+-0x3d7*0x3+-0x752*-0x3)+(-0x21*0x8d+0x9e9+0x844)]=Math['max'](0x2606+-0x1edd*0x1+-0x729,Math['min'](_0x2379d7,Math['floor']((_0x4f5215[_0x1bceb5*(-0x297+0x493*-0x2+0xbc0)+(0x623+-0x9*0x36f+-0x27a*-0xa)]/_0x3b6d48*(0xd2b+0x15*-0x184+-0x11*-0x119+0.5)+(0x6c*0x6+0x3*-0xbff+0x2175+0.5))*_0x2379d7+(0xa89*0x2+-0x1402+-0x110+0.5)))),_0x4f5215[_0x1bceb5*(-0x18b9+0x24d4*0x1+-0x81*0x18)+(0x50*-0x58+0x4bb*-0x1+0x1*0x203c)]=Math['max'](-0x3*-0x262+-0x1*-0x26e2+-0x5c1*0x8,Math['min'](_0x8a7720,Math['floor']((_0x4f5215[_0x1bceb5*(-0xb0*0x1f+0x1*0x23c6+0x4d1*-0x3)+(-0x79a+-0x14b4+-0x1*-0x1c4f)]/_0x3b6d48*(-0x9d7*0x1+-0x1693+0x1*0x206a+0.5)+(-0x1574+0x268a*-0x1+-0x2*-0x1dff+0.5))*_0x8a7720+(-0x221f+0x496*-0x5+-0x27b*-0x17+0.5)))),_0x4f5215[_0x1bceb5*(-0x18dc+-0x1569+0x2e48)+(0x1ffe+-0x1a82+-0x2*0x2bd)]=Math['max'](-0x2150+0xac8+0x1688,Math['min'](_0x2379d7,Math['floor']((_0x4f5215[_0x1bceb5*(-0x2*0xae8+-0x2541+0x3b14)+(0x76*0x54+0x6fd+-0x2db3)]/_0x3b6d48*(0x529+0xf*0x143+0xc0b*-0x2+0.5)+(0x1d7e+0x2ca*-0xd+0x6c4+0.5))*_0x2379d7+(0x524+-0xad*0xe+0x1*0x452+0.5))));_0x24338d[0x183b*-0x1+0x2159+-0x1*0x91e]=_0x3b6d48,_0x5e5b84[_0x2e8b02*(0x14c1+0x1*0x533+-0x28*0xa6)+(0x10fc*-0x1+-0x3*-0xd9+-0xe71*-0x1)]=_0x9daf56[0x194e+0x1aef+-0x137*0x2b],_0x5e5b84[_0x2e8b02*(0x137+-0x2217+-0x34a*-0xa)+(-0x1*-0x5f9+-0x5*-0x20b+0x1*-0x102f)]=_0x4f5215[0x13c6+-0x2*-0xadb+-0x297c]<<0x1*-0x1a5+-0x1d0e+-0x28*-0xc5|_0x4f5215[0x114*0x3+-0x75d+0x422]<<0x3*-0x1f3+-0xea7+0x148b|_0x4f5215[-0x8b*-0x15+-0x1*0x8cb+0x9*-0x4a],_0x5e5b84[_0x2e8b02*(0x1*-0x6ad+-0x221f+0x2*0x1468)+(0x2*0x2c+-0x1*0xfd3+0xf7d)]=_0x4f5215[0x21a6+-0x29f*-0x8+-0x369b]<<-0xaac+0xbe5+-0x2*0x92|_0x4f5215[0x5ab+-0x959*0x1+-0x2b*-0x16]<<0x234b+-0x7f*-0xe+-0x2a32|_0x4f5215[0x5f8+-0x1a85+0x1*0x1492],_0x5e5b84[_0x2e8b02*(0x1c75+-0x35*-0x4d+-0x1*0x2c62)+(0x4f*-0x31+-0x7d3*-0x1+0x74f*0x1)]=_0x4f5215[0x6d3+-0x2*0x1105+0x1*0x1b3d]<<0xf99+0x14bc*0x1+0x91*-0x40|_0x4f5215[-0x65a+0xc9a+0x3b*-0x1b]<<0x10*-0x5+0x1*0x245f+-0x2404|_0x4f5215[-0x1*-0x397+-0x4bb*-0x8+-0xdcd*0x3],this['shBands']>0x6d*0x4c+-0x2f6+-0x1d65&&(_0x5cb068[_0x2e8b02*(0x21a1+-0x9d+-0x2100)+(0x263f*-0x1+-0x1197+0x2*0x1beb)]=_0x4f5215[-0x166b+0x9*0xee+0xe16]<<0x35*0x3b+-0x69*-0x35+0x1d*-0x12b|_0x4f5215[0x3f*-0x87+-0x1*0x1003+0x3146]<<-0x1*0x432+0xa69*-0x1+0xf*0xfa|_0x4f5215[0x23*0x38+-0x23cb+0x1*0x1c2e],_0x5cb068[_0x2e8b02*(0x35*-0x59+-0x121b+0x248c)+(0x2*0x580+-0x1fcf+-0x94*-0x24)]=_0x4f5215[-0x13*0x12a+0x205e+0x2*-0x51a]<<0x9*0xb5+-0x529+-0x29*0x7|_0x4f5215[-0x1*-0xc7b+0x32f*-0x1+-0x9*0x107]<<-0x7*-0x38a+-0xc9d*0x2+0x7f|_0x4f5215[-0x23e8+0x1*-0xe9+0x24df],_0x5cb068[_0x2e8b02*(-0x1a31+-0x7*-0x211+0xbbe*0x1)+(-0x15f6+-0x6f5+0x1ced)]=_0x4f5215[0x3*0xba+-0x3*-0x7+-0x234]<<0x9d7+-0x38d+-0xe3*0x7|_0x4f5215[0x1fc9+0x31*0x1b+-0x24e4]<<0x892+0x1b7*-0x1+0x2*-0x368|_0x4f5215[-0x9*0x24b+0x159f+-0xeb],_0x5cb068[_0x2e8b02*(0xf67+-0x1e9a+0xf37)+(-0x1f03*-0x1+-0x17b1*-0x1+-0x36b1)]=_0x4f5215[0x2*-0x6cd+-0x5*-0x5e4+-0xfc8]<<-0xd3*0x2f+0x1a5e+0x4*0x31d|_0x4f5215[-0x6*0x584+0x22a+-0x1f01*-0x1]<<0x213+-0x11*-0xf4+-0x30a*0x6|_0x4f5215[-0x30*0xc7+0x9*0x371+0x66b],this['shBands']>-0x1*-0x18f7+-0x2*-0x1102+-0x3af9*0x1?(_0x1b501c[_0x2e8b02*(0x9dd*-0x2+-0x2a*0x53+-0x4*-0x857)+(0x18b9+0x30e+-0x1bc7)]=_0x4f5215[-0xeb*0x4+0x4ff*0x1+-0x13e]<<0xa5*-0x10+0x112b+-0x6c6|_0x4f5215[0xf6+0xb*-0x155+0x1*0xdc7]<<0x1a92+-0x1bef*0x1+-0x5a*-0x4|_0x4f5215[0x1*0x26f1+0x2353*-0x1+-0x387],_0x1b501c[_0x2e8b02*(-0x8b4+0x1*-0xbff+0x14b7)+(-0x1c68+-0x432+0x209b)]=_0x4f5215[-0xead+-0x1dd7+0x2c9c]<<-0x1*0x213d+-0x10e8+-0x10be*-0x3|_0x4f5215[0x13c8+0x6*0x60f+-0x3809]<<0xb22+0x1660*-0x1+0x1*0xb49|_0x4f5215[-0x148d+-0xcb0+0x2157],_0x1b501c[_0x2e8b02*(-0xf2c*-0x2+0x226d+0x5e3*-0xb)+(-0x115*0x3+0x265d+-0x231c)]=_0x4f5215[-0x229b+-0x1be*0xe+0xa*0x5e9]<<-0x5ae+0x1*-0x1e86+-0x2449*-0x1|_0x4f5215[0x26e8+0xac4+0xd*-0x3d0]<<-0x3*0x7bd+-0x2692*-0x1+-0xf50|_0x4f5215[-0x7dc*-0x1+-0x1073*0x1+0x8b4],_0x1b501c[_0x2e8b02*(0x779*0x1+0x1*-0x131+-0x644)+(-0x1321+0x17a8+-0x484)]=_0x4f5215[-0x2211*-0x1+0x1*0x52c+-0x1*0x271f]<<-0x1*0x881+0x39e*-0x2+-0x1e*-0x87|_0x4f5215[-0x1914+0xcce+0x13*0xa7]<<-0xd9a+0x7f*0x3c+-0x101f|_0x4f5215[-0x9*0x231+0xf7a+0x3*0x175],_0x29e898[_0x2e8b02*(0x1143+0x17fc+-0x5*0x83f)+(0xe80+0x803+-0x1683)]=_0x4f5215[0xa99*-0x3+0x434+0x8*0x377]<<0x1*-0xd5a+-0xe4d*-0x1+-0xde|_0x4f5215[-0x26d0+-0x8b8+0x2*0x17d5]<<0x114+-0x20f4+-0x1*-0x1feb|_0x4f5215[-0x21b8+0x1a82+0x759],_0x29e898[_0x2e8b02*(0x1ced+0x43*0x68+-0x1*0x3821)+(-0x7*0x1eb+-0x24e5+-0x1*-0x3253)]=_0x4f5215[-0x3*-0x6a5+0x1c0a+-0x2fd5]<<-0x1faa+-0x21*-0xcb+-0x77*-0xc|_0x4f5215[0x1*0xa3d+-0x1c58+0x2*0x920]<<0x2574+0x665+-0x2bce|_0x4f5215[-0x1ad5*0x1+-0xb4e*0x2+0x1*0x3197],_0x29e898[_0x2e8b02*(0x3*-0x299+0x6*0xf0+0x22f)+(0xc07+0xd*-0xc8+0x1dd*-0x1)]=_0x4f5215[-0x57*-0x6b+-0x654+-0x1de2]<<-0x5d2+0x1*-0x1441+0x1a28|_0x4f5215[0x1*-0x17f5+-0xb5*-0x17+0x7da]<<-0x18d0+0x1a5*-0xb+0x2af2|_0x4f5215[-0x10*0xba+-0x1dca+0x2993],_0x29e898[_0x2e8b02*(-0xe5*0x1f+0x2322+-0x1f*0x3d)+(0x2681+-0x3*-0x534+-0x361a)]=_0x4f5215[0x4*-0x31d+-0x22b7*-0x1+-0x1619]<<0x780+0x9*0x176+-0x27*0x87|_0x4f5215[0x1c11*-0x1+-0x3c2+0x1ffe]<<-0x4c*-0x66+-0x1a*0x43+-0x176f|_0x4f5215[-0x1637+0xa6*-0x1+0x1709]):_0x1b501c[_0x2e8b02]=_0x4f5215[0x1022+0x1ff*-0xf+0xde4]<<-0x1*-0x18e7+0x1f1d+-0x37ef|_0x4f5215[0x238+-0x12ee+-0x56*-0x32]<<-0x791*-0x3+-0x14*0x1dc+0x2e8*0x5|_0x4f5215[0x6a2*-0x3+0x7*0x71+0x10e6]);}}(_0x371452=this['sh1to3Text'+'ure2'])==null||_0x371452['unlock'](),(_0x295227=this['sh4to7Text'+'ure2'])==null||_0x295227['unlock'](),(_0x301b2a=this['sh8to11Tex'+'ture2'])==null||_0x301b2a['unlock'](),(_0x14fdc0=this['sh12to15Te'+'xture2'])==null||_0x14fdc0['unlock']();}async['updateSHDa'+'taByWorker'](_0x369da0){var _0x12854f,_0x4df318,_0x2c69f5,_0x5c9d4e,_0x5454da;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x2647b0={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x54507d,_0x388257,_0x1ebbf7,_0x193afe;if((_0x12854f=_0x369da0['transformD'+'ata'])!=null&&_0x12854f['sh1to3Data'])_0x54507d=(_0x4df318=_0x369da0['transformD'+'ata'])==null?void(0x194b+-0xb36+-0xe15):_0x4df318['sh1to3Data'],_0x388257=(_0x2c69f5=_0x369da0['transformD'+'ata'])==null?void(0xf8d+0x16e+-0x1e3*0x9):_0x2c69f5['sh4to7Data'],_0x1ebbf7=(_0x5c9d4e=_0x369da0['transformD'+'ata'])==null?void(-0x26a*-0xb+0x1fff*0x1+-0x3a8d):_0x5c9d4e['sh8to11Dat'+'a'],_0x193afe=(_0x5454da=_0x369da0['transformD'+'ata'])==null?void(0x174a+-0x319*-0x1+-0x1a63):_0x5454da['sh12to15Da'+'ta'];else{const _0x1cb78a=xg(_0x369da0,_0x2647b0*(0x1a2d+-0x8c*-0x44+-0x3f5a)),_0xccab9=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x369da0['numSplats'],this['shBands'],_0x1cb78a);_0x54507d=_0xccab9['sh1to3Data'],_0x388257=_0xccab9['sh4to7Data'],_0x1ebbf7=_0xccab9['sh8to11Dat'+'a'],_0x193afe=_0xccab9['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x54507d),this['shBands']>0x134a+-0x1*-0x120d+-0x2556&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x388257),this['shBands']>0xf8d+0x15ac+0x7*-0x551?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x1ebbf7),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x193afe)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x1ebbf7));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x2f32a5){Ov=_0x2f32a5;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x14441b){w['assert'](_0x14441b),_0x14441b['frameUpdat'+'e']();const _0x10414a=_0x14441b['beforePass'+'es'];for(let _0x33e4eb=0x1735+-0x26fc+0xfc7;_0x33e4eb<_0x10414a['length'];_0x33e4eb++){const _0x28a668=_0x10414a[_0x33e4eb];_0x28a668['enabled']&&this['addRenderP'+'ass'](_0x28a668);}_0x14441b['enabled']&&this['renderPass'+'es']['push'](_0x14441b);const _0x2d5884=_0x14441b['afterPasse'+'s'];for(let _0xcdecd1=0xee6*0x1+-0x229d*0x1+-0x2d1*-0x7;_0xcdecd1<_0x2d5884['length'];_0xcdecd1++){const _0x27637e=_0x2d5884[_0xcdecd1];_0x27637e['enabled']&&this['addRenderP'+'ass'](_0x27637e);}}['reset'](){this['renderPass'+'es']['length']=0x158f+-0x15e+-0x1431;}['compile'](){const _0x381e92=this['renderTarg'+'etMap'],_0x24e19b=this['renderPass'+'es'];for(let _0x28f7d1=-0xe*0x185+-0x2516+0x1*0x3a5c;_0x28f7d1<_0x24e19b['length'];_0x28f7d1++){const _0x59617a=_0x24e19b[_0x28f7d1],_0x2e7ad8=_0x59617a['renderTarg'+'et'];if(_0x2e7ad8!==void(0x1aab*0x1+0x43+-0x17f*0x12)){const _0x41548a=_0x381e92['get'](_0x2e7ad8);if(_0x41548a){const _0x474f8c=_0x59617a['colorArray'+'Ops']['length'];for(let _0x5e4f1c=0x1afc+-0x3*-0xc0d+-0x3f23;_0x5e4f1c<_0x474f8c;_0x5e4f1c++)_0x59617a['colorArray'+'Ops'][_0x5e4f1c]['clear']||(_0x41548a['colorArray'+'Ops'][_0x5e4f1c]['store']=!(0x185*0x13+-0x83b*0x3+-0x42e));_0x59617a['depthStenc'+'ilOps']['clearDepth']||(_0x41548a['depthStenc'+'ilOps']['storeDepth']=!(-0x2123+-0x977+-0x10a*-0x29)),_0x59617a['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x41548a['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x8a0+-0x8*0x144+0x12c0));}_0x381e92['set'](_0x2e7ad8,_0x59617a);}}for(let _0x869e37=-0x3*-0x15a+0x137f+-0x178d;_0x869e37<_0x24e19b['length']-(-0xe8a+-0x17*0x53+-0xb00*-0x2);_0x869e37++){const _0x566742=_0x24e19b[_0x869e37],_0xbbdfc8=_0x566742['renderTarg'+'et'],_0x3e2a40=_0x24e19b[_0x869e37+(0x1*0x10a4+0x1754+-0xd*0x313)],_0x490576=_0x3e2a40['renderTarg'+'et'];_0xbbdfc8!==_0x490576||_0xbbdfc8===void(0x91*0x3d+0x1*0x123a+-0x34c7)||_0x3e2a40['depthStenc'+'ilOps']['clearDepth']||_0x3e2a40['depthStenc'+'ilOps']['clearStenc'+'il']||_0x3e2a40['colorArray'+'Ops']['some'](_0x36066b=>_0x36066b['clear'])||_0x566742['afterPasse'+'s']['length']>0x107b+0x1e2*0x14+-0x3623||_0x3e2a40['beforePass'+'es']['length']>0x13ce+0xeb1+0x1*-0x227f||(_0x566742['_skipEnd']=!(0x807+0x6e1*0x1+0x27c*-0x6),_0x3e2a40['_skipStart']=!(0x1*0x1d95+0x1*-0x21cf+0x43a));}let _0x11201f=null,_0x595974=null;for(let _0xc34a97=-0x1fbd+0xf25+0x1098;_0xc34a97<_0x24e19b['length'];_0xc34a97++){const _0x2b93cb=_0x24e19b[_0xc34a97],_0x1e4065=_0x2b93cb['renderTarg'+'et'],_0x49d231=_0x1e4065==null?void(-0x14+0x2*-0xf24+0x1e5c):_0x1e4065['colorBuffe'+'r'];if(_0x49d231!=null&&_0x49d231['cubemap']){if(_0x11201f===_0x49d231){const _0x1f09e5=_0x595974['colorArray'+'Ops']['length'];for(let _0x4848ec=0x1edf+-0x1aef+-0x3f0;_0x4848ec<_0x1f09e5;_0x4848ec++)_0x595974['colorArray'+'Ops'][_0x4848ec]['mipmaps']=!(0x13*0x1da+0x1*-0x2f3+0xa*-0x339);}_0x11201f=_0x1e4065['colorBuffe'+'r'],_0x595974=_0x2b93cb;}else _0x2b93cb['requiresCu'+'bemaps']&&(_0x11201f=null,_0x595974=null);}_0x381e92['clear']();}['render'](_0x32ec69){this['compile']();const _0x462968=this['renderPass'+'es'];for(let _0x23e239=-0x1525*-0x1+0x79*-0x37+0x4da;_0x23e239<_0x462968['length'];_0x23e239++)_0x462968[_0x23e239]['render']();}}class IC{constructor(_0x8e6c71,_0xe06439){this['texture0']=_0x8e6c71,this['texture1']=_0xe06439;}['destroy'](){var _0x52590b,_0x46ccd8;(_0x52590b=this['texture0'])==null||_0x52590b['destroy'](),(_0x46ccd8=this['texture1'])==null||_0x46ccd8['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x1d0eae,_0x2baac0,_0x2cbf41,_0x5cc7cd=''){return new _e(_0x1d0eae,{'name':'AreaLightL'+'UT'+_0x5cc7cd,'width':_0x2cbf41,'height':_0x2cbf41,'format':_0x2baac0,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0xc*-0x202+0x13*-0xa3+0x5*-0x266)});}static['applyTextu'+'res'](_0x2851f1,_0x37e7c4,_0x4be6fb){Eg['remove'](_0x2851f1),Eg['get'](_0x2851f1,()=>new IC(_0x37e7c4,_0x37e7c4===_0x4be6fb?null:_0x4be6fb)),_0x2851f1['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x37e7c4),_0x2851f1['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x4be6fb);}static['createPlac'+'eholder'](_0x20dda4){const _0x26e373=ia['createText'+'ure'](_0x20dda4,nt,-0x5*-0x779+0x31*-0xc4+0x29,'placeholde'+'r');_0x26e373['lock']()['fill'](0x1e92+0xe46*-0x1+-0x1*0x104c),_0x26e373['unlock'](),ia['applyTextu'+'res'](_0x20dda4,_0x26e373,_0x26e373);}static['set'](_0x5d68b1,_0x41271b,_0x1322f2){function _0x2b5766(_0x3bda0a,_0x2346c9,_0x1658a2){const _0x4757b3=ia['createText'+'ure'](_0x3bda0a,_0x1658a2,-0x65+-0xbc3*-0x1+0x2*-0x58f);return _0x4757b3['lock']()['set'](_0x2346c9),_0x4757b3['unlock'](),_0x4757b3;}function _0x1353c7(_0x394440){const _0x13fc66=_0x394440['length'],_0x402820=new Uint16Array(_0x13fc66),_0x9adaa1=Mn['float2Half'];for(let _0x4f1ba5=0x24dd+0x2*-0xb31+-0xe7b;_0x4f1ba5<_0x13fc66;_0x4f1ba5++)_0x402820[_0x4f1ba5]=_0x9adaa1(_0x394440[_0x4f1ba5]);return _0x402820;}const _0x4ac5cf=_0x41271b,_0x193123=_0x1322f2,_0x1ecd54=_0x1353c7(_0x4ac5cf),_0x3dabac=_0x1353c7(_0x193123),_0x25a449=_0x2b5766(_0x5d68b1,_0x1ecd54,nt),_0x1d852c=_0x2b5766(_0x5d68b1,_0x3dabac,nt);ia['applyTextu'+'res'](_0x5d68b1,_0x25a449,_0x1d852c);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x171511,_0x526144){for(let _0x242075=-0x990+-0x58a*-0x5+-0xb*0x1a6,_0x16abae=_0x171511['length'];_0x242075<_0x16abae;_0x242075++)Sm[_0x171511[_0x242075]]=_0x526144;}function Oi(_0x117636){const _0xdacc6=_0x117636['indexOf']('-');return _0xdacc6!==-(0x4*-0x891+-0xa8*-0x8+0x1d05)?_0x117636['substring'](-0x1a60+-0x1144+0x2ba4,_0xdacc6):_0x117636;}function LC(_0xc1a4a8,_0x228d76){const _0x9e807e=_0xc1a4a8['indexOf']('-');return _0x9e807e!==-(-0x13d+0x1ff4+0x1eb6*-0x1)?_0x228d76+_0xc1a4a8['substring'](_0x9e807e):_0x228d76;}function Fv(_0x7e53f6,_0x1f6e33){if(_0x1f6e33[_0x7e53f6])return _0x7e53f6;let _0x180949=Mh[_0x7e53f6];if(_0x180949&&_0x1f6e33[_0x180949])return _0x180949;const _0x542b08=Oi(_0x7e53f6);return _0x180949=Mh[_0x542b08],_0x1f6e33[_0x180949]?_0x180949:_0x1f6e33[_0x542b08]?_0x542b08:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x19c03c=>0x1*-0x18b2+0x721+-0x1191*-0x1),Dr(['fa','hi'],_0x365db0=>_0x365db0>=0xe45+0x1f2c+0x2d71*-0x1&&_0x365db0<=0x6fd*-0x5+-0x5dc+0x28ce?-0x3e4+0x2348+-0xc4*0x29:0x14c8+-0x19f2+0x93*0x9),Dr(['fr','pt'],_0x56992d=>_0x56992d>=-0x8c2+0x222f*-0x1+-0x2af1*-0x1&&_0x56992d<-0xd*0x1da+-0x25a9+-0x1*-0x3dbd?-0x66f*-0x3+-0xfad+-0x3a0:-0x2570+0x1e36+0x73b*0x1),Dr(['da'],_0x199991=>_0x199991===-0x37*-0x3e+0x124b+-0x1f9c||!Number['isInteger'](_0x199991)&&_0x199991>=-0xe1b*0x1+-0x13ef*-0x1+-0x5d4&&_0x199991<=0x125d+0x63d*-0x1+0x6b*-0x1d?-0xf6b*-0x1+0x1595+-0x2500:0x234d+-0x1215*0x1+0x3*-0x5bd),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x3d9e25=>_0x3d9e25===0x5*0x469+-0x916+-0xcf6?0x7c*-0x28+0x9*0xc5+-0x1*-0xc73:-0x933*-0x1+0x24f1*0x1+-0x2e23),Dr(['ru','uk'],_0x596b5d=>{if(Number['isInteger'](_0x596b5d)){const _0x3e7443=_0x596b5d%(-0x2*-0xa7f+0xcfc+-0x2d4*0xc),_0x99f2a5=_0x596b5d%(-0x5d*-0x3b+-0x9f4+0xa7*-0x11);if(_0x3e7443===-0xe*0x151+0x44*-0x20+0x23*0xc5&&_0x99f2a5!==0x25dd+0xa*-0x17+0x22*-0x116)return-0x1433*0x1+-0x2*-0x27a+0xf3f;if(_0x3e7443>=0x25*-0x4+0x169b+0x757*-0x3&&_0x3e7443<=0x18fb*0x1+0x2*0x784+-0x27ff&&(_0x99f2a5<0x1248+-0x686+-0xbb6||_0x99f2a5>0x416*0x3+-0x1*-0x190d+-0xbb*0x33))return-0xb*-0xec+0x923*-0x4+-0x1a69*-0x1;if(_0x3e7443===-0x257a+-0x1ab0+0x402a||_0x3e7443>=-0x1*-0xdf9+-0x1*0x985+-0x46f&&_0x3e7443<=0x11*0x39+0x7a2+-0xb62||_0x99f2a5>=-0x1*0x138c+-0xae6+0x1e7d*0x1&&_0x99f2a5<=0x2*0x6a1+-0x2403+-0x16cf*-0x1)return-0x3*-0xa0b+-0x24ab+0x68c;}return-0x1*0xee3+-0x1225+-0x301*-0xb;}),Dr(['pl'],_0x106ee1=>{if(Number['isInteger'](_0x106ee1)){if(_0x106ee1===-0x5e5*0x2+0x1*-0xbcf+0x179a)return-0x4c*0x1+0x1709*0x1+0x16bd*-0x1;const _0x2eb0fc=_0x106ee1%(-0xd*0x152+-0x8d3+-0x1a07*-0x1),_0x261f0f=_0x106ee1%(-0x24a8+-0x112+0x261e);if(_0x2eb0fc>=0xe59+-0x1299*-0x2+0x3389*-0x1&&_0x2eb0fc<=-0x6d*-0x57+-0x2645+0x13e&&(_0x261f0f<0x1*0x77b+-0x547*-0x1+0x2*-0x65b||_0x261f0f>0x1*-0x1ba6+-0x1f*0x67+0x282d*0x1))return 0x19ec+-0x1*-0x419+-0x1e04;if(_0x2eb0fc>=0x1d3e+0x1c97+-0x39d5&&_0x2eb0fc<=-0x143f+-0x1558+0xa66*0x4||_0x2eb0fc>=0x5f9*0x3+0x1087*-0x1+-0x15f*0x1&&_0x2eb0fc<=0x10a5+0xb4a+-0x1be6||_0x261f0f>=-0xe15+0x67e+0x7a3&&_0x261f0f<=0x361*0x2+0x193*-0x12+0x15a2)return-0x1634+-0x2*0x162+-0x18fa*-0x1;}return-0x20ae+-0x1929+0x39da;}),Dr(['ar'],_0x7325c5=>{if(_0x7325c5===0x184a+-0x1f04+0x6ba)return 0xd13*-0x1+0x1f3*0x1+0xb20*0x1;if(_0x7325c5===-0x6d5*-0x5+0x97*-0x3f+0x1*0x301)return-0x13eb+-0x168d+0x1*0x2a79;if(_0x7325c5===-0x8f2+-0x275*-0xe+-0x2*0xcb9)return 0x263b+-0xa7b+0x86*-0x35;if(Number['isInteger'](_0x7325c5)){const _0x15d438=_0x7325c5%(0x6a3*0x2+0x1*0x175d+0xc15*-0x3);if(_0x15d438>=0xfd+-0x1569+0x1*0x146f&&_0x15d438<=0x3*0x838+0x43d*0x7+-0x3649)return 0xe04+-0x3*0x49+-0xd26;if(_0x15d438>=-0x1b60+0xf*0x47+0x1*0x1742&&_0x15d438<=-0x241+0x3*0x4d5+-0xbdb)return 0x1*0x2390+0x12cf+-0x17*0x25d;}return 0x6*-0x472+0x38d*-0x5+0x2c72;});const RC=Sm[Oi(Ph)];function Tf(_0x9f4b2c){return Sm[_0x9f4b2c]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x567709='',_0x22e342='',_0x4690cc=null,_0x43adab=null,_0x50e3ae=null,_0x5d6065=null){this['url']=_0x567709,this['filename']=_0x22e342,this['hash']=_0x4690cc,this['size']=_0x43adab,this['opt']=_0x50e3ae,this['contents']=_0x5d6065;}['equals'](_0x68e442){return this['url']===_0x68e442['url']&&this['filename']===_0x68e442['filename']&&this['hash']===_0x68e442['hash']&&this['size']===_0x68e442['size']&&this['opt']===_0x68e442['opt']&&this['contents']===_0x68e442['contents'];}}let FC=-(-0x3*-0xc5b+0x1901+0x3e11*-0x1);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x207c3a,_0x5b16d1,_0x32a48e,_0x548e54={},_0x2bb692={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x385*-0x2+-0x327+0x5a*0x1d)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0xa9*0x7+0xc7e+-0x111c)),h(this,'loading',!(0x227*0x1+-0x4ab*0x1+0x285*0x1)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x207c3a||'',this['type']=_0x5b16d1,this['_data']=_0x548e54||{},this['options']=_0x2bb692||{},_0x32a48e&&(this['file']=_0x32a48e));}set['name'](_0x57bde6){if(this['_name']===_0x57bde6)return;const _0x10ad40=this['_name'];this['_name']=_0x57bde6,this['fire']('name',this,this['_name'],_0x10ad40);}get['name'](){return this['_name'];}set['file'](_0x345989){var _0x590325,_0x37425f;if(_0x345989&&_0x345989['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x80d*-0x2+0x200c+-0xff1)){const _0x3099c2=((_0x37425f=(_0x590325=this['registry'])==null?void(-0x2*-0x60c+0x847+-0x145f):_0x590325['_loader'])==null?void(-0xfa0+0x5*-0x6bf+0x315b):_0x37425f['_app'])||Ms(),_0x591ae9=_0x3099c2==null?void(0x15cd+0x1388+-0x2955*0x1):_0x3099c2['graphicsDe'+'vice'];if(_0x591ae9)for(let _0x5cd6ea=0x1f25+-0x8f2*0x3+-0x44f,_0x3a18ad=bg['length'];_0x5cd6ea<_0x3a18ad;_0x5cd6ea++){const _0x194351=bg[_0x5cd6ea];if(_0x345989['variants'][_0x194351]&&_0x591ae9[NC[_0x194351]]){_0x345989=_0x345989['variants'][_0x194351];break;}if(_0x3099c2['enableBund'+'les']){const _0x38137d=_0x3099c2['bundles']['listBundle'+'sForAsset'](this);if(_0x38137d&&_0x38137d['find'](_0x327864=>{var _0x3a6b81;return(_0x3a6b81=_0x327864==null?void(-0x1f66*-0x1+0x1815+-0x377b):_0x327864['file'])==null?void(-0x17fe+0x1519*-0x1+0x1*0x2d17):_0x3a6b81['variants'][_0x194351];}))break;}}}const _0x55968a=this['_file'],_0x19b494=_0x345989?new OC(_0x345989['url'],_0x345989['filename'],_0x345989['hash'],_0x345989['size'],_0x345989['opt'],_0x345989['contents']):null;(!!_0x19b494!=!!_0x55968a||_0x19b494&&!_0x19b494['equals'](_0x55968a))&&(this['_file']=_0x19b494,this['fire']('change',this,'file',_0x19b494,_0x55968a),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x4acb0b){const _0x2ddcd0=this['_data'];this['_data']=_0x4acb0b,_0x4acb0b!==_0x2ddcd0&&(this['fire']('change',this,'data',_0x4acb0b,_0x2ddcd0),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x117558){const _0x215b6a=this['_resources'][-0x244a+0xf61*-0x1+0x33ab];this['_resources'][0x396+-0x335*-0x6+-0x4*0x5b5]=_0x117558,this['fire']('change',this,'resource',_0x117558,_0x215b6a);}get['resource'](){return this['_resources'][-0x1b4c+0x1*0xe1d+0xd2f];}set['resources'](_0x4d78a4){const _0x322616=this['_resources'];this['_resources']=_0x4d78a4,this['fire']('change',this,'resources',_0x4d78a4,_0x322616);}get['resources'](){return this['_resources'];}set['preload'](_0x1a34c9){_0x1a34c9=!!_0x1a34c9,this['_preload']!==_0x1a34c9&&(this['_preload']=_0x1a34c9,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x5aa4db){_0x5aa4db=!!_0x5aa4db,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x5aa4db!==this['_loadFaces'])&&(this['_loadFaces']=_0x5aa4db,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x166ac6=this['file'];if(!_0x166ac6||!_0x166ac6['url'])return null;let _0x554f5d=_0x166ac6['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x554f5d)&&(_0x554f5d=this['registry']['prefix']+_0x554f5d),this['type']!=='script'&&_0x166ac6['hash']){const _0x1475c7=_0x554f5d['indexOf']('?')!==-(0x17ca+-0x40f*0x3+-0xb9c)?'&':'?';_0x554f5d+=_0x1475c7+'t='+_0x166ac6['hash'];}return _0x554f5d;}['getAbsolut'+'eUrl'](_0x4e2344){if(_0x4e2344['startsWith']('blob:')||_0x4e2344['startsWith']('data:'))return _0x4e2344;const _0xcc4031=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0xcc4031,_0x4e2344);}['getLocaliz'+'edAssetId'](_0x106782){return _0x106782=Fv(_0x106782,this['_i18n']),this['_i18n'][_0x106782]||null;}['addLocaliz'+'edAssetId'](_0x3d46b4,_0x24eddd){this['_i18n'][_0x3d46b4]=_0x24eddd,this['fire']('add:locali'+'zed',_0x3d46b4,_0x24eddd);}['removeLoca'+'lizedAsset'+'Id'](_0x56623e){const _0x5c1c81=this['_i18n'][_0x56623e];_0x5c1c81&&(delete this['_i18n'][_0x56623e],this['fire']('remove:loc'+'alized',_0x56623e,_0x5c1c81));}['ready'](_0x2caeeb,_0xc4537e){_0xc4537e=_0xc4537e||this,this['loaded']?_0x2caeeb['call'](_0xc4537e,this):this['once']('load',_0x13c1e2=>{_0x2caeeb['call'](_0xc4537e,_0x13c1e2);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x228b+0x1*0x16f9+0x1*0xb93),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x2553+-0xb93*-0x1+-0xce0*-0x2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x42134e=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x13ad+-0xa*0x1ba+-0x1*0x268),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x1f9ed7=-0x1d3*0x10+0x14f4+0x83c;_0x1f9ed7<_0x42134e['length'];++_0x1f9ed7){const _0x2415ef=_0x42134e[_0x1f9ed7];_0x2415ef&&_0x2415ef['destroy']&&_0x2415ef['destroy']();}}static['fetchArray'+'Buffer'](_0x22dbf4,_0x35c19b,_0x29be97,_0x252524=-0x1*-0x19f+0x1b41+-0x1ce0){var _0x16c494;(_0x16c494=_0x29be97==null?void(0xa26+0x3*-0x773+0xc33):_0x29be97['file'])!=null&&_0x16c494['contents']?setTimeout(()=>{_0x35c19b(null,_0x29be97['file']['contents']);}):ot['get'](_0x22dbf4,{'cache':!(-0x57*-0x19+0x189f+-0x211e),'responseType':'arraybuffe'+'r','retry':_0x252524>-0x1ac*-0x16+0x6f1*0x5+-0x477d,'maxRetries':_0x252524},_0x35c19b);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x189f44=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x189f44;}['addItem'](_0x251689){const _0x2d4be6=_0x251689['tags']['_list'];for(const _0x14df31 of _0x2d4be6)this['add'](_0x14df31,_0x251689);}['removeItem'](_0x42051c){const _0x159af8=_0x42051c['tags']['_list'];for(const _0x33297e of _0x159af8)this['remove'](_0x33297e,_0x42051c);}['add'](_0x3d2ed9,_0x3139d1){this['_index'][_0x3d2ed9]&&this['_index'][_0x3d2ed9]['list']['indexOf'](_0x3139d1)!==-(0x1*-0x1b41+0x17a5*0x1+0x39d)||(this['_index'][_0x3d2ed9]||(this['_index'][_0x3d2ed9]={'list':[]},this['_key']&&(this['_index'][_0x3d2ed9]['keys']={})),this['_index'][_0x3d2ed9]['list']['push'](_0x3139d1),this['_key']&&(this['_index'][_0x3d2ed9]['keys'][_0x3139d1[this['_key']]]=_0x3139d1));}['remove'](_0x40f831,_0x321959){if(!this['_index'][_0x40f831]||this['_key']&&!this['_index'][_0x40f831]['keys'][_0x321959[this['_key']]])return;const _0x289c10=this['_index'][_0x40f831]['list']['indexOf'](_0x321959);_0x289c10!==-(-0xcb3*0x2+0x8c1+0x10a6)&&(this['_index'][_0x40f831]['list']['splice'](_0x289c10,-0x12ae*0x2+0x515+-0x2048*-0x1),this['_key']&&delete this['_index'][_0x40f831]['keys'][_0x321959[this['_key']]],this['_index'][_0x40f831]['list']['length']===-0x13ef+-0x42d*0x7+0x312a&&delete this['_index'][_0x40f831]);}['find'](_0x48c205){const _0x44c5f1={},_0x3d2adf=[];let _0x4793e4,_0x2f1cb3,_0x391bb0,_0x365592,_0x40415e;const _0x416fc8=(_0x19024e,_0x112740)=>this['_index'][_0x19024e]['list']['length']-this['_index'][_0x112740]['list']['length'];for(let _0x49d5d7=-0xba8+-0x739+0x12e1;_0x49d5d7<_0x48c205['length'];_0x49d5d7++){if(_0x2f1cb3=_0x48c205[_0x49d5d7],_0x2f1cb3 instanceof Array){if(_0x2f1cb3['length']===-0x1*0x1d95+0x6cc+0x1*0x16c9)continue;if(_0x2f1cb3['length']===-0x13ee*-0x1+0x255a+-0x3947)_0x2f1cb3=_0x2f1cb3[-0x23*0xad+0x66*0x3d+-0xa7];else{_0x40415e=!(-0x5*0x37b+-0x1aeb*-0x1+-0x983);for(let _0x91e5cd=0xa*-0x304+0x1dac+0x2*0x3e;_0x91e5cd<_0x2f1cb3['length'];_0x91e5cd++)if(!this['_index'][_0x2f1cb3[_0x91e5cd]]){_0x40415e=!(0x1056+-0x2090+0x103a);break;}if(_0x40415e)continue;_0x391bb0=_0x2f1cb3['slice'](-0x33*-0x89+0x1*-0x3aa+-0x107*0x17)['sort'](_0x416fc8),_0x365592=_0x391bb0['slice'](0xbc+-0x1*0x7ed+0x732),_0x365592['length']===-0x1f57*-0x1+-0x21ae+-0xc*-0x32&&(_0x365592=_0x365592[-0xbf1+0x137b+-0x78a]);for(let _0x270047=-0x8e*0x2e+-0x23cb+0x2b*0x16d;_0x270047<this['_index'][_0x391bb0[0x21a9+-0x1048+0x1161*-0x1]]['list']['length'];_0x270047++)_0x4793e4=this['_index'][_0x391bb0[0xca7+0xad*0x17+-0x1c32]]['list'][_0x270047],(this['_key']?!_0x44c5f1[_0x4793e4[this['_key']]]:_0x3d2adf['indexOf'](_0x4793e4)===-(0x704+0x3a*0x1+0x73d*-0x1))&&_0x4793e4['tags']['has'](_0x365592)&&(this['_key']&&(_0x44c5f1[_0x4793e4[this['_key']]]=!(-0x79d+-0x4d*-0x50+-0x1073)),_0x3d2adf['push'](_0x4793e4));continue;}}if(_0x2f1cb3&&typeof _0x2f1cb3=='string'&&this['_index'][_0x2f1cb3]){for(let _0x23f6fa=0x1*-0x1751+-0xe9*0x3+0x1a0c*0x1;_0x23f6fa<this['_index'][_0x2f1cb3]['list']['length'];_0x23f6fa++)_0x4793e4=this['_index'][_0x2f1cb3]['list'][_0x23f6fa],this['_key']?_0x44c5f1[_0x4793e4[this['_key']]]||(_0x44c5f1[_0x4793e4[this['_key']]]=!(0xcae+0x2*0xd81+-0x27b0),_0x3d2adf['push'](_0x4793e4)):_0x3d2adf['indexOf'](_0x4793e4)===-(-0x1*0x565+0x9*-0x2d3+0x1ed1)&&_0x3d2adf['push'](_0x4793e4);}}return _0x3d2adf;}}class mn extends me{constructor(_0x1a7085){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x1a7085;}['list'](_0x5ccd12={}){const _0x55ce35=Array['from'](this['_assets']);return _0x5ccd12['preload']!==void(-0x1c1d+0xa3*-0xb+0x1d*0x136)?_0x55ce35['filter'](_0x3183fc=>_0x3183fc['preload']===_0x5ccd12['preload']):_0x55ce35;}['add'](_0x5d45cf){var _0x2c929c,_0x48eb37;this['_assets']['has'](_0x5d45cf)||(this['_assets']['add'](_0x5d45cf),this['_idToAsset']['set'](_0x5d45cf['id'],_0x5d45cf),(_0x2c929c=_0x5d45cf['file'])!=null&&_0x2c929c['url']&&this['_urlToAsse'+'t']['set'](_0x5d45cf['file']['url'],_0x5d45cf),this['_nameToAss'+'et']['has'](_0x5d45cf['name'])||this['_nameToAss'+'et']['set'](_0x5d45cf['name'],new Set()),this['_nameToAss'+'et']['get'](_0x5d45cf['name'])['add'](_0x5d45cf),_0x5d45cf['on']('name',this['_onNameCha'+'nge'],this),_0x5d45cf['registry']=this,this['_tags']['addItem'](_0x5d45cf),_0x5d45cf['tags']['on']('add',this['_onTagAdd'],this),_0x5d45cf['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x5d45cf),this['fire']('add:'+_0x5d45cf['id'],_0x5d45cf),(_0x48eb37=_0x5d45cf['file'])!=null&&_0x48eb37['url']&&this['fire']('add:url:'+_0x5d45cf['file']['url'],_0x5d45cf),_0x5d45cf['preload']&&this['load'](_0x5d45cf));}['remove'](_0x1ea222){var _0x3c62a2,_0xeb06d6;if(!this['_assets']['has'](_0x1ea222))return!(-0x594+-0x2*-0x301+-0x6d);if(this['_assets']['delete'](_0x1ea222),this['_idToAsset']['delete'](_0x1ea222['id']),(_0x3c62a2=_0x1ea222['file'])!=null&&_0x3c62a2['url']&&this['_urlToAsse'+'t']['delete'](_0x1ea222['file']['url']),_0x1ea222['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x1ea222['name'])){const _0x1ec46c=this['_nameToAss'+'et']['get'](_0x1ea222['name']);_0x1ec46c['delete'](_0x1ea222),_0x1ec46c['size']===0x20bf+-0xfa9+-0x1116&&this['_nameToAss'+'et']['delete'](_0x1ea222['name']);}return this['_tags']['removeItem'](_0x1ea222),_0x1ea222['tags']['off']('add',this['_onTagAdd'],this),_0x1ea222['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x1ea222['fire']('remove',_0x1ea222),this['fire']('remove',_0x1ea222),this['fire']('remove:'+_0x1ea222['id'],_0x1ea222),(_0xeb06d6=_0x1ea222['file'])!=null&&_0xeb06d6['url']&&this['fire']('remove:url'+':'+_0x1ea222['file']['url'],_0x1ea222),!(-0x17dd+-0x75f+-0xf9e*-0x2);}['get'](_0x4e8060){return this['_idToAsset']['get'](Number(_0x4e8060));}['getByUrl'](_0x44376b){return this['_urlToAsse'+'t']['get'](_0x44376b);}['load'](_0x33863f,_0x349362){if((_0x33863f['loading']||_0x33863f['loaded'])&&!(_0x349362!=null&&_0x349362['force']))return;const _0x518017=_0x33863f['file'],_0x2561df=()=>{this['fire']('load',_0x33863f),this['fire']('load:'+_0x33863f['id'],_0x33863f),_0x518017&&_0x518017['url']&&this['fire']('load:url:'+_0x518017['url'],_0x33863f),_0x33863f['fire']('load',_0x33863f);},_0x32e981=_0x4f3787=>{if(_0x4f3787 instanceof Array?_0x33863f['resources']=_0x4f3787:_0x33863f['resource']=_0x4f3787,this['_loader']['patch'](_0x33863f,this),_0x33863f['type']==='bundle'){const _0x33b5b9=_0x33863f['data']['assets'];for(let _0xdf709e=0x1e*-0xe1+-0x219c+0x3bfa;_0xdf709e<_0x33b5b9['length'];_0xdf709e++){const _0x305222=this['_idToAsset']['get'](_0x33b5b9[_0xdf709e]);_0x305222&&!_0x305222['loaded']&&this['load'](_0x305222,{'force':!(-0x18f7+-0x20d+-0x1b04*-0x1)});}_0x33863f['resource']['loaded']?_0x2561df():(this['fire']('load:start',_0x33863f),this['fire']('load:start'+':'+_0x33863f['id'],_0x33863f),_0x518017&&_0x518017['url']&&this['fire']('load:start'+':url:'+_0x518017['url'],_0x33863f),_0x33863f['fire']('load:start',_0x33863f),_0x33863f['resource']['on']('load',_0x2561df));}else _0x2561df();},_0x561798=(_0x5a208a,_0xc600ab,_0x3b389c)=>{if(_0x33863f['loaded']=!(0x1adf+0xb*-0x198+-0x957),_0x33863f['loading']=!(-0x1d63+-0x1e*-0x122+-0x498),_0x5a208a)this['fire']('error',_0x5a208a,_0x33863f),this['fire']('error:'+_0x33863f['id'],_0x5a208a,_0x33863f),_0x33863f['fire']('error',_0x5a208a,_0x33863f);else{if(_0x33863f['type']==='script'){const _0x266b33=this['_loader']['getHandler']('script');_0x266b33['_cache'][_0x33863f['id']]&&_0x266b33['_cache'][_0x33863f['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x266b33['_cache'][_0x33863f['id']]),_0x266b33['_cache'][_0x33863f['id']]=_0x3b389c;}_0x32e981(_0xc600ab);}};if(_0x518017||_0x33863f['type']==='cubemap'){this['fire']('load:start',_0x33863f),this['fire']('load:'+_0x33863f['id']+':start',_0x33863f),_0x33863f['loading']=!(0x13df*-0x1+0x893+0xb4c);const _0x2cbe51=_0x33863f['getFileUrl']();if(_0x33863f['type']==='bundle'){const _0xadda5a=_0x33863f['data']['assets'];for(let _0x4c2374=0x84+-0xa3*0x1+0x1f;_0x4c2374<_0xadda5a['length'];_0x4c2374++){const _0x17dafc=this['_idToAsset']['get'](_0xadda5a[_0x4c2374]);_0x17dafc&&(_0x17dafc['loaded']||_0x17dafc['resource']||_0x17dafc['loading']||(_0x17dafc['loading']=!(-0x710+-0x22b3+0x1*0x29c3)));}}this['_loader']['load'](_0x2cbe51,_0x33863f['type'],_0x561798,_0x33863f,_0x349362);}else{const _0x6ada71=this['_loader']['open'](_0x33863f['type'],_0x33863f['data']);_0x33863f['loaded']=!(0x236c+-0x96*0x1f+-0x1*0x1142),_0x32e981(_0x6ada71);}}['reloadInde'+'x'](_0x21d027,_0x5b0055,_0x364953){const _0x3fc17d=(_0x23f938,_0x4d136d,_0x4bb61e)=>{_0x5b0055['loaded']=!(0x91f+-0x107*0xc+-0x1*-0x335),_0x5b0055['loading']=!(0x6d*-0x29+0xeb5+0x2c1);};return this['_loader']['load'](_0x21d027,_0x5b0055['type'],_0x3fc17d,_0x5b0055,_0x364953),_0x5b0055;}['loadFromUr'+'l'](_0x1061c1,_0x397f75,_0x27b5ca){this['loadFromUr'+'lAndFilena'+'me'](_0x1061c1,null,_0x397f75,_0x27b5ca);}['loadFromUr'+'lAndFilena'+'me'](_0xa157d2,_0x3791f2,_0x3a288d,_0x5abf92){const _0xd3b336=xe['getBasenam'+'e'](_0x3791f2||_0xa157d2),_0x116748={'filename':_0x3791f2||_0xd3b336,'url':_0xa157d2};let _0x15b2ca=this['getByUrl'](_0xa157d2);if(!_0x15b2ca)_0x15b2ca=new pe(_0xd3b336,_0x3a288d,_0x116748),this['add'](_0x15b2ca);else{if(_0x15b2ca['loaded']){_0x5abf92(_0x15b2ca['loadFromUr'+'lError']||null,_0x15b2ca);return;}}const _0x34f2af=_0x3bd342=>{_0x3bd342['once']('load',_0xb13b10=>{_0x3a288d==='material'?this['_loadTextu'+'res'](_0xb13b10,(_0x536446,_0x4aa42f)=>{_0x5abf92(_0x536446,_0xb13b10);}):_0x5abf92(null,_0xb13b10);}),_0x3bd342['once']('error',_0x379942=>{_0x379942&&(this['loadFromUr'+'lError']=_0x379942),_0x5abf92(_0x379942,_0x3bd342);}),this['load'](_0x3bd342);};_0x15b2ca['resource']?_0x5abf92(null,_0x15b2ca):_0x3a288d==='model'?this['_loadModel'](_0x15b2ca,_0x34f2af):_0x34f2af(_0x15b2ca);}['_loadModel'](_0x2a43da,_0x2f966f){const _0x20526f=_0x2a43da['getFileUrl'](),_0x218e4b=xe['getExtensi'+'on'](_0x20526f);if(_0x218e4b==='.json'||_0x218e4b==='.glb'){const _0x17fc7a=xe['getDirecto'+'ry'](_0x20526f),_0x3f51a7=xe['getBasenam'+'e'](_0x20526f),_0x20419f=xe['join'](_0x17fc7a,_0x3f51a7['replace'](_0x218e4b,'.mapping.j'+'son'));this['_loader']['load'](_0x20419f,'json',(_0x202b4f,_0x291a0a)=>{_0x202b4f?(_0x2a43da['data']={'mapping':[]},_0x2f966f(_0x2a43da)):this['_loadMater'+'ials'](_0x2a43da,_0x291a0a,(_0x1d3fb5,_0x227ebe)=>{_0x2a43da['data']=_0x291a0a,_0x2f966f(_0x2a43da);});});}else _0x2f966f(_0x2a43da);}['_loadMater'+'ials'](_0x1139e6,_0x527c25,_0x5e5079){const _0x578271=[];let _0x198b93=-0x4d4*-0x3+0x1f4b+-0x2dc7;const _0x29198b=(_0x19c43a,_0x143d99)=>{this['_loadTextu'+'res'](_0x143d99,(_0x32a38b,_0x31ad56)=>{_0x578271['push'](_0x143d99),_0x578271['length']===_0x198b93&&_0x5e5079(null,_0x578271);});};for(let _0xedabd3=0x1073+-0x1*0x1684+0x611;_0xedabd3<_0x527c25['mapping']['length'];_0xedabd3++){const _0x40e36f=_0x527c25['mapping'][_0xedabd3]['path'];if(_0x40e36f){_0x198b93++;const _0x5930bd=_0x1139e6['getAbsolut'+'eUrl'](_0x40e36f);this['loadFromUr'+'l'](_0x5930bd,'material',_0x29198b);}}_0x198b93===-0xbf*-0x8+0x1f1a+-0x2512&&_0x5e5079(null,_0x578271);}['_loadTextu'+'res'](_0x16ab70,_0x1a5f9d){const _0x1de6fa=[];let _0x33f24f=-0x119a+0x260c+-0x1472;const _0x4971cc=_0x16ab70['data'];if(_0x4971cc['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x16ab70['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x1a5f9d(null,_0x1de6fa);return;}const _0xffa31f=(_0x5c3cc3,_0x5b02bc)=>{_0x5c3cc3&&console['error'](_0x5c3cc3),_0x1de6fa['push'](_0x5b02bc),_0x1de6fa['length']===_0x33f24f&&_0x1a5f9d(null,_0x1de6fa);},_0x2cd06d=Cd;for(let _0x202236=-0x138d+-0x2*0x1092+-0x149*-0x29;_0x202236<_0x2cd06d['length'];_0x202236++){const _0x1bb074=_0x4971cc[_0x2cd06d[_0x202236]];if(_0x1bb074&&typeof _0x1bb074=='string'){_0x33f24f++;const _0x89f146=_0x16ab70['getAbsolut'+'eUrl'](_0x1bb074);this['loadFromUr'+'l'](_0x89f146,'texture',_0xffa31f);}}_0x33f24f===-0x73*0x31+0x1*-0x90f+0xc2*0x29&&_0x1a5f9d(null,_0x1de6fa);}['_onTagAdd'](_0x102a8b,_0x304eb0){this['_tags']['add'](_0x102a8b,_0x304eb0);}['_onTagRemo'+'ve'](_0x35a19a,_0x33c51c){this['_tags']['remove'](_0x35a19a,_0x33c51c);}['_onNameCha'+'nge'](_0x14bb92,_0x3005fd,_0x65ea42){if(this['_nameToAss'+'et']['has'](_0x65ea42)){const _0x40155d=this['_nameToAss'+'et']['get'](_0x65ea42);_0x40155d['delete'](_0x14bb92),_0x40155d['size']===-0x1*0x16f9+0xe54+0x8a5&&this['_nameToAss'+'et']['delete'](_0x65ea42);}this['_nameToAss'+'et']['has'](_0x14bb92['name'])||this['_nameToAss'+'et']['set'](_0x14bb92['name'],new Set()),this['_nameToAss'+'et']['get'](_0x14bb92['name'])['add'](_0x14bb92);}['findByTag'](..._0x55524d){return this['_tags']['find'](_0x55524d);}['filter'](_0x5e06e3){return Array['from'](this['_assets'])['filter'](_0x4be794=>_0x5e06e3(_0x4be794));}['find'](_0x327374,_0x1501fa){const _0xf53b5b=this['_nameToAss'+'et']['get'](_0x327374);if(!_0xf53b5b)return null;for(const _0x11f7ee of _0xf53b5b)if(!_0x1501fa||_0x11f7ee['type']===_0x1501fa)return _0x11f7ee;return null;}['findAll'](_0x620beb,_0x396071){const _0x52b306=this['_nameToAss'+'et']['get'](_0x620beb);if(!_0x52b306)return[];const _0xfbd20=Array['from'](_0x52b306);return _0x396071?_0xfbd20['filter'](_0x10c33a=>_0x10c33a['type']===_0x396071):_0xfbd20;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x316056){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x316056,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x59d706){if(_0x59d706['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x59d706['id'],_0x59d706),this['_assets']['on']('load:start'+':'+_0x59d706['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x59d706['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x59d706['id'],this['_onBundleE'+'rror'],this);const _0x151535=_0x59d706['data']['assets'];for(let _0x559bfb=-0x8b5+0x25f4+-0x1d3f;_0x559bfb<_0x151535['length'];_0x559bfb++)this['_indexAsse'+'tInBundle'](_0x151535[_0x559bfb],_0x59d706);}else this['_assetToBu'+'ndles']['has'](_0x59d706['id'])&&this['_indexAsse'+'tFileUrls'](_0x59d706);}['_unbindAss'+'etEvents'](_0x299e61){this['_assets']['off']('load:start'+':'+_0x299e61,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x299e61,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x299e61,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x143a07,_0x31da68){let _0x17ed37=this['_assetToBu'+'ndles']['get'](_0x143a07);_0x17ed37||(_0x17ed37=new Set(),this['_assetToBu'+'ndles']['set'](_0x143a07,_0x17ed37)),_0x17ed37['add'](_0x31da68);const _0x20fbbc=this['_assets']['get'](_0x143a07);_0x20fbbc&&this['_indexAsse'+'tFileUrls'](_0x20fbbc);}['_indexAsse'+'tFileUrls'](_0x1957e5){const _0x235428=this['_getAssetF'+'ileUrls'](_0x1957e5);if(_0x235428)for(let _0x8db8bf=0x18d1*0x1+-0x139*-0x12+-0x2ed3;_0x8db8bf<_0x235428['length'];_0x8db8bf++){const _0x54bc50=this['_assetToBu'+'ndles']['get'](_0x1957e5['id']);_0x54bc50&&this['_urlsToBun'+'dles']['set'](_0x235428[_0x8db8bf],_0x54bc50);}}['_getAssetF'+'ileUrls'](_0x501e93){let _0x152824=_0x501e93['getFileUrl']();if(!_0x152824)return null;_0x152824=_0x152824['split']('?')[0x1c67+-0x1d78+0xd*0x15];const _0x508469=[_0x152824];if(_0x501e93['type']==='font'){const _0x32c0ca=_0x501e93['data']['info']['maps']['length'];for(let _0x4a3b8b=0x29*-0x11+0x1dc2+-0x14*0x15a;_0x4a3b8b<_0x32c0ca;_0x4a3b8b++)_0x508469['push'](_0x152824['replace']('.png',_0x4a3b8b+'.png'));}return _0x508469;}['_onAssetRe'+'move'](_0x3a9cb4){if(_0x3a9cb4['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x3a9cb4['id']),this['_unbindAss'+'etEvents'](_0x3a9cb4['id']);const _0x388aa7=_0x3a9cb4['data']['assets'];for(let _0x5f0d1c=-0x1*-0x966+0x98f+-0x12f5;_0x5f0d1c<_0x388aa7['length'];_0x5f0d1c++){const _0x5241e2=this['_assetToBu'+'ndles']['get'](_0x388aa7[_0x5f0d1c]);if(_0x5241e2&&(_0x5241e2['delete'](_0x3a9cb4),_0x5241e2['size']===0x1a32+-0x267+-0x17cb*0x1)){this['_assetToBu'+'ndles']['delete'](_0x388aa7[_0x5f0d1c]);for(const [_0x58ec41,_0x54164e]of this['_urlsToBun'+'dles'])_0x54164e===_0x5241e2&&this['_urlsToBun'+'dles']['delete'](_0x58ec41);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x3a9cb4['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x3a9cb4['id']))return;this['_assetToBu'+'ndles']['delete'](_0x3a9cb4['id']);const _0x550bcf=this['_getAssetF'+'ileUrls'](_0x3a9cb4);if(!_0x550bcf)return;for(let _0x333764=-0x1fa5+0x2280+-0x1*0x2db;_0x333764<_0x550bcf['length'];_0x333764++)this['_urlsToBun'+'dles']['delete'](_0x550bcf[_0x333764]);}}['_onBundleL'+'oadStart'](_0x4c976f){_0x4c976f['resource']['on']('add',(_0x1bb34a,_0x52dd78)=>{const _0x5f05b7=this['_fileReque'+'sts']['get'](_0x1bb34a);if(_0x5f05b7){for(let _0x47d803=-0x1*-0x196a+0x1745+0x79*-0x67;_0x47d803<_0x5f05b7['length'];_0x47d803++)_0x5f05b7[_0x47d803](null,_0x52dd78);this['_fileReque'+'sts']['delete'](_0x1bb34a);}});}['_onBundleL'+'oad'](_0x4fb99b){if(!_0x4fb99b['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x4fb99b['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x16f472,_0x51f252]of this['_fileReque'+'sts']){const _0x4fe161=this['_urlsToBun'+'dles']['get'](_0x16f472);if(!_0x4fe161||!_0x4fe161['has'](_0x4fb99b))continue;const _0xa6eb27=decodeURIComponent(_0x16f472);let _0x1f0c1b,_0x205a05;if(_0x4fb99b['resource']['has'](_0xa6eb27))_0x205a05=_0x4fb99b['resource']['get'](_0xa6eb27);else{if(_0x4fb99b['resource']['loaded'])_0x1f0c1b='Bundle\x20'+_0x4fb99b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x16f472;else continue;}for(let _0x4c47c3=0x1787*0x1+0x23db+-0x3b62;_0x4c47c3<_0x51f252['length'];_0x4c47c3++)_0x51f252[_0x4c47c3](_0x1f0c1b,_0x1f0c1b||_0x205a05);this['_fileReque'+'sts']['delete'](_0x16f472);}}['_onBundleE'+'rror'](_0x29b4db){for(const [_0x3bab97,_0xb956b1]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3bab97)){for(let _0x472fb6=-0x9f*-0x3e+-0xaba+0x1fc*-0xe;_0x472fb6<_0xb956b1['length'];_0x472fb6++)_0xb956b1[_0x472fb6](_0x29b4db);this['_fileReque'+'sts']['delete'](_0x3bab97);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5d89a7){const _0x44141b=this['_urlsToBun'+'dles']['get'](_0x5d89a7);if(!_0x44141b)return null;let _0x1957d9=null;for(const _0x5f15d6 of _0x44141b){if(_0x5f15d6['loaded']&&_0x5f15d6['resource'])return _0x5f15d6;_0x5f15d6['loading']&&(_0x1957d9=_0x5f15d6);}return _0x1957d9;}['listBundle'+'sForAsset'](_0x50db69){const _0x4ef017=this['_assetToBu'+'ndles']['get'](_0x50db69['id']);return _0x4ef017?Array['from'](_0x4ef017):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x20188e){return this['_urlsToBun'+'dles']['has'](_0x20188e);}['urlIsLoade'+'dOrLoading'](_0x30b8ed){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x30b8ed);}['loadUrl'](_0x520b19,_0x23bb12){const _0x2f3e45=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x520b19);if(!_0x2f3e45){_0x23bb12('URL\x20'+_0x520b19+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x2f3e45['loaded']){const _0x63b9f5=decodeURIComponent(_0x520b19);if(_0x2f3e45['resource']['has'](_0x63b9f5)){_0x23bb12(null,_0x2f3e45['resource']['get'](_0x63b9f5));return;}else{if(_0x2f3e45['resource']['loaded']){_0x23bb12('Bundle\x20'+_0x2f3e45['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x520b19);return;}}}let _0x39a264=this['_fileReque'+'sts']['get'](_0x520b19);_0x39a264||(_0x39a264=[],this['_fileReque'+'sts']['set'](_0x520b19,_0x39a264)),_0x39a264['push'](_0x23bb12);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x517e18 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x517e18);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x351b31){const _0xbe40b4=_0x351b31['id'];if(this[_0xbe40b4])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0xbe40b4+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0xbe40b4]=_0x351b31,this['list']['push'](_0x351b31);}['remove'](_0x2aa3f7){const _0xc69be3=_0x2aa3f7['id'];if(!this[_0xc69be3])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0xc69be3+('\x27\x20register'+'ed'));delete this[_0xc69be3];const _0x1e65e2=this['list']['indexOf'](this[_0xc69be3]);_0x1e65e2!==-(0x5*0x223+-0x6e*0x16+0x13a*-0x1)&&this['list']['splice'](_0x1e65e2,0x57*0xd+0x1*0x2225+0x1*-0x268f);}['destroy'](){this['off']();for(let _0x4d5889=0x147e+0x22f9+-0x1*0x3777;_0x4d5889<this['list']['length'];_0x4d5889++)this['list'][_0x4d5889]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x835+-0x241f+0x1beb));}['addFile'](_0x29d148,_0x559894){this['_index']['has'](_0x29d148)||(this['_index']['set'](_0x29d148,_0x559894),this['fire']('add',_0x29d148,_0x559894));}['has'](_0x30e0b5){return this['_index']['has'](_0x30e0b5);}['get'](_0x1ec51a){return this['_index']['get'](_0x1ec51a)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x4c089f){!_0x4c089f||this['_loaded']||(this['_loaded']=!(-0x1a1e+0x2300+0x2f6*-0x3),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x58ed8e,_0x1ed35c=''){super(),h(this,'headerSize',0x39*-0x1f+-0x1a04+0x4fd*0x7),h(this,'paddingSiz'+'e',-0x6*-0xc9+-0xcee+0xa38),h(this,'bytesRead',-0x257*-0x9+0xe2c+-0x233b*0x1),h(this,'bytesRecei'+'ved',0xd01+0x14c*-0xf+-0xd*-0x7f),h(this,'headerRead',!(-0x13*0x1fa+-0x1*-0x1171+0x141e)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x103c*-0x1+-0x1*0x3a9+-0xc93)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0xd38+0x13a3+0x1*-0x20db),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x1ed35c||'',this['reader']=_0x58ed8e['body']['getReader'](),this['reader']['read']()['then'](_0xe84fb6=>{this['pump'](_0xe84fb6['done'],_0xe84fb6['value']);})['catch'](_0x5033d3=>{this['fire']('error',_0x5033d3);}));}['pump'](_0x152b3d,_0x393505){if(_0x152b3d)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x393505['byteLength'];const _0x528b88=new Uint8Array(this['data']['length']+_0x393505['length']);for(_0x528b88['set'](this['data']),_0x528b88['set'](_0x393505,this['data']['length']),this['data']=_0x528b88;this['readFile'](););return this['reader']['read']()['then'](_0x597692=>{this['pump'](_0x597692['done'],_0x597692['value']);})['catch'](_0x13e97a=>{this['fire']('error',_0x13e97a);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x26eb+0x1a32+-0x411d);const _0x29d4e5=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x501830=this['decoder']['decode'](_0x29d4e5);if(this['fileName']=_0x501830['substring'](-0x1dd2+-0x258d+0x435f,0x255a+-0x204b*-0x1+0x1*-0x4541)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x501830['substring'](0x7*-0x45f+0xd*0x9d+-0x66*-0x3a,-0x315+-0x7*-0x35+0x22a),-0x79c*-0x2+-0x1cc*-0x3+-0x1494),this['fileType']=_0x501830['substring'](-0x1778+-0x2175+-0x67*-0x8f,-0x185*0x3+0x22db+-0x11*0x1bf),this['ustarForma'+'t']=_0x501830['substring'](0x19e8+0x2*-0xe3+-0x1721*0x1,0x1*0x19cc+-0xd0*0x8+-0x1245),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x2188+0x1da5+0x3e4)){const _0x3c2646=_0x501830['substring'](0xca*0xa+0x14a6+-0x1*0x1b31,-0xc5b+0x1*-0x1114+0x1f63)['replace'](/\0/g,'');_0x3c2646['length']>-0xf9b+-0x71*-0x32+-0x5*0x14b&&(this['fileName']=_0x3c2646['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x1bdd+0x2b0*-0x1+0x208d*0x1;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x1*-0x260e+-0x1a90+0x409f);if(this['fileType']===''||this['fileType']==='0'){const _0x58f3ee=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x32188e={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x58f3ee};this['fire']('file',_0x32188e);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x1a2d*-0x1+0x1dcd*-0x1+0x3a1);const _0x16eb2e=this['bytesRead']%this['paddingSiz'+'e'];return _0x16eb2e!==-0x7bb*-0x1+-0x2391*0x1+0x1bd6&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x16eb2e),!(0x71*0x34+-0x1*0xc2e+-0xac6);}return!(0x48b*0x7+-0x9b5+-0x1617);}}class Qe{constructor(_0x33d1da,_0x3f5929){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',-0x55f*0x5+0x7*0x31+0x1984),(this['_app']=_0x33d1da,this['handlerTyp'+'e']=_0x3f5929);}set['maxRetries'](_0x2c2915){this['_maxRetrie'+'s']=_0x2c2915;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x2bb55f,_0xecabbb,_0x27012a){}['open'](_0x1e70aa,_0x3603c1,_0x307be0){return _0x3603c1;}['patch'](_0x5d367c,_0x53e815){}}class VC extends Qe{constructor(_0x45803e){super(_0x45803e,'bundle'),this['_assets']=_0x45803e['assets'];}['_fetchRetr'+'ies'](_0x40d49c,_0x318425,_0x443a27=0x806+0x1*-0x101f+0x819){return new Promise((_0x35d1ad,_0x36c8e1)=>{const _0x2eb0b1=()=>{fetch(_0x40d49c,_0x318425)['then'](_0x35d1ad)['catch'](_0x24be6f=>{_0x443a27++,_0x443a27<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x443a27),_0x2eb0b1()):_0x36c8e1(_0x24be6f);});};_0x2eb0b1();});}['load'](_0x4cd0a5,_0x28acf1){typeof _0x4cd0a5=='string'&&(_0x4cd0a5={'load':_0x4cd0a5,'original':_0x4cd0a5}),this['_fetchRetr'+'ies'](_0x4cd0a5['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x3479cf=>{const _0x15114e=new gu();_0x28acf1(null,_0x15114e);const _0xe55b7=new zC(_0x3479cf,this['_assets']['prefix']);_0xe55b7['on']('file',_0x485d7e=>{_0x15114e['addFile'](_0x485d7e['name'],_0x485d7e['data']);}),_0xe55b7['on']('done',()=>{_0x15114e['loaded']=!(-0x1*-0x22b1+0x265*-0xb+-0x85a);}),_0xe55b7['on']('error',_0x14152f=>{w['error'](_0x14152f),_0x28acf1(_0x14152f);});})['catch'](_0x534280=>{w['error'](_0x534280),_0x28acf1(_0x534280);});}['open'](_0x3a3bf5,_0x31fd03){return _0x31fd03;}}class Cn{constructor(_0x2e65c4){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2e65c4;}['addHandler'](_0x31338d,_0x1703b0){this['_handlers'][_0x31338d]=_0x1703b0,_0x1703b0['_loader']=this;}['removeHand'+'ler'](_0x3fd48e){delete this['_handlers'][_0x3fd48e];}['getHandler'](_0x2151e4){return this['_handlers'][_0x2151e4];}static['makeKey'](_0xc4d7bb,_0x5cac1b){return _0xc4d7bb+'-'+_0x5cac1b;}['load'](_0x426155,_0x4df597,_0x3a3eaf,_0x104974,_0x207766){var _0x5f1533;const _0x14e7d3=this['_handlers'][_0x4df597];if(!_0x14e7d3){const _0x1fc772='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x4df597+('\x27\x20when\x20loa'+'ding\x20[')+_0x426155+']';w['errorOnce'](_0x1fc772),_0x3a3eaf(_0x1fc772);return;}if(!_0x426155){this['_loadNull'](_0x14e7d3,_0x3a3eaf,_0x104974);return;}const _0x474ff5=Cn['makeKey'](_0x426155,_0x4df597);if(this['_requests'][_0x474ff5])this['_requests'][_0x474ff5]['push'](_0x3a3eaf);else{this['_requests'][_0x474ff5]=[_0x3a3eaf];const _0x199ec9=this,_0x233ce9=function(_0x3376f1,_0x385c7d){if(_0x3376f1){_0x199ec9['_onFailure'](_0x474ff5,_0x3376f1);return;}if(_0x385c7d['load']instanceof DataView){if(_0x14e7d3['openBinary']){if(!_0x199ec9['_requests'][_0x474ff5])return;try{const _0x36ed46=_0x14e7d3['openBinary'](_0x385c7d['load']);_0x199ec9['_onSuccess'](_0x474ff5,_0x36ed46);}catch(_0x5fd74a){_0x199ec9['_onFailure'](_0x474ff5,_0x5fd74a);}return;}_0x385c7d['load']=URL['createObje'+'ctURL'](new Blob([_0x385c7d['load']])),_0x104974&&(_0x104974['urlObject']&&URL['revokeObje'+'ctURL'](_0x104974['urlObject']),_0x104974['urlObject']=_0x385c7d['load']);}_0x14e7d3['load'](_0x385c7d,(_0x2a9e25,_0x4a2e63,_0x4e3f02)=>{if(_0x199ec9['_requests'][_0x474ff5]){if(_0x2a9e25){_0x199ec9['_onFailure'](_0x474ff5,_0x2a9e25);return;}try{_0x199ec9['_onSuccess'](_0x474ff5,_0x14e7d3['open'](_0x385c7d['original'],_0x4a2e63,_0x104974),_0x4e3f02);}catch(_0x2e2a0e){_0x199ec9['_onFailure'](_0x474ff5,_0x2e2a0e);}}},_0x104974);},_0x4cecd9=_0x426155['split']('?')[-0x3*0x62d+-0x49*-0x9+-0x1c6*-0x9];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x4cecd9)&&!(_0x207766&&_0x207766['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x4cecd9)){const _0x29a681=this['_app']['bundles']['listBundle'+'sForAsset'](_0x104974);let _0x1db022;_0x207766&&_0x207766['bundlesFil'+'ter']&&(_0x1db022=_0x207766['bundlesFil'+'ter'](_0x29a681)),_0x1db022||(_0x29a681==null||_0x29a681['sort']((_0x2a5f46,_0xb335e5)=>_0x2a5f46['file']['size']-_0xb335e5['file']['size']),_0x1db022=_0x29a681==null?void(-0xc94+0x2659+0x1*-0x19c5):_0x29a681[-0x94f+0x2*-0x5f+0xa0d]),_0x1db022&&((_0x5f1533=this['_app']['assets'])==null||_0x5f1533['load'](_0x1db022));}this['_app']['bundles']['loadUrl'](_0x4cecd9,(_0x2e8cf0,_0xf94f58)=>{_0x233ce9(_0x2e8cf0,{'load':_0xf94f58,'original':_0x4cecd9});});}else _0x233ce9(null,{'load':_0x426155,'original':_0x104974&&_0x104974['file']['filename']||_0x426155});}}['_loadNull'](_0x293b79,_0x48b1be,_0x228dee){const _0x2a1b25=function(_0x1b171f,_0x14cf8f,_0x3492fc){if(_0x1b171f)_0x48b1be(_0x1b171f);else try{_0x48b1be(null,_0x293b79['open'](null,_0x14cf8f,_0x228dee),_0x3492fc);}catch(_0x42d47c){_0x48b1be(_0x42d47c);}};_0x293b79['load'](null,_0x2a1b25,_0x228dee);}['_onSuccess'](_0xe28fad,_0x252a2f,_0x3beff3){for(let _0x90dd07=0x1b3+0x23f9*-0x1+-0x1123*-0x2;_0x90dd07<this['_requests'][_0xe28fad]['length'];_0x90dd07++)this['_requests'][_0xe28fad][_0x90dd07](null,_0x252a2f,_0x3beff3);delete this['_requests'][_0xe28fad];}['_onFailure'](_0x45174d,_0x387cad){if(console['error'](_0x387cad),this['_requests'][_0x45174d]){for(let _0x2f2ac8=-0x784+0x8f8+0x6*-0x3e;_0x2f2ac8<this['_requests'][_0x45174d]['length'];_0x2f2ac8++)this['_requests'][_0x45174d][_0x2f2ac8](_0x387cad);delete this['_requests'][_0x45174d];}}['open'](_0x574063,_0x3a4e2b){const _0x330d1f=this['_handlers'][_0x574063];return _0x330d1f?_0x330d1f['open'](null,_0x3a4e2b):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x574063),_0x3a4e2b);}['patch'](_0x388bcb,_0x6c2be2){const _0x29d037=this['_handlers'][_0x388bcb['type']];if(!_0x29d037){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x388bcb['type']);return;}_0x29d037['patch']&&_0x29d037['patch'](_0x388bcb,_0x6c2be2);}['clearCache'](_0x4cb846,_0x5eb5e8){const _0x144712=Cn['makeKey'](_0x4cb846,_0x5eb5e8);delete this['_cache'][_0x144712];}['getFromCac'+'he'](_0x191cce,_0x128812){const _0x26ef64=Cn['makeKey'](_0x191cce,_0x128812);if(this['_cache'][_0x26ef64])return this['_cache'][_0x26ef64];}['enableRetr'+'y'](_0x1eb792=-0xc71+0x23e5+-0x359*0x7){_0x1eb792=Math['max'](0x41*-0xf+0xa4c+-0x67d,_0x1eb792)||0x22d4+-0x2*-0x1126+-0x4520;for(const _0x46611b in this['_handlers'])this['_handlers'][_0x46611b]['maxRetries']=_0x1eb792;}['disableRet'+'ry'](){for(const _0xee01c1 in this['_handlers'])this['_handlers'][_0xee01c1]['maxRetries']=0x142d+-0x59*-0x4e+-0x2f4b;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x228df1){if(!_0x228df1['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x228df1['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x228df1['header']['version']!==-0x1475+-0xa8*0x1+0x151e)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x228df1['data']){if(!Array['isArray'](_0x228df1['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x31fb3d=-0x1*-0x22ff+0x101*0x1d+-0x401c,_0xbc9d76=_0x228df1['data']['length'];_0x31fb3d<_0xbc9d76;_0x31fb3d++){const _0x19f816=_0x228df1['data'][_0x31fb3d];if(!_0x19f816['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x31fb3d+('].info\x22\x20fi'+'eld'));if(!_0x19f816['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x31fb3d+('].info.loc'+'ale\x22\x20field'));if(typeof _0x19f816['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x31fb3d+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x19f816['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x31fb3d+('].messages'+'\x22\x20field'));}}['parse'](_0xed6fb1){return this['_validate'](_0xed6fb1),_0xed6fb1['data'];}}const Gh=class Gh extends me{constructor(_0x1de21a){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x1de21a,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x5601d6){const _0x46049b={};for(let _0x406531=0x25e2+-0x2156+-0x48c,_0x27dd22=_0x5601d6['length'];_0x406531<_0x27dd22;_0x406531++){const _0x3552fe=_0x5601d6[_0x406531]instanceof pe?_0x5601d6[_0x406531]['id']:_0x5601d6[_0x406531];_0x46049b[_0x3552fe]=!(-0x6*0x35b+0x283*0x7+0x1*0x28d);}let _0x57d1e3=this['_assets']['length'];for(;_0x57d1e3--;){const _0x4c439c=this['_assets'][_0x57d1e3];if(!_0x46049b[_0x4c439c]){this['_app']['assets']['off']('add:'+_0x4c439c,this['_onAssetAd'+'d'],this);const _0x1528b3=this['_app']['assets']['get'](_0x4c439c);_0x1528b3&&this['_onAssetRe'+'move'](_0x1528b3),this['_assets']['splice'](_0x57d1e3,0x429+-0x8d*-0x28+-0x1a30*0x1);}}for(const _0x1f8ce8 in _0x46049b){const _0x4903ae=parseInt(_0x1f8ce8,-0x19e2+0x1e2c+0x44*-0x10);if(this['_assets']['indexOf'](_0x4903ae)!==-(-0xb98+-0x13ed*-0x1+-0x854))continue;this['_assets']['push'](_0x4903ae);const _0x1204fb=this['_app']['assets']['get'](_0x4903ae);_0x1204fb?this['_onAssetAd'+'d'](_0x1204fb):this['_app']['assets']['once']('add:'+_0x4903ae,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x1c8752){if(this['_locale']===_0x1c8752)return;let _0x2ff722=Oi(_0x1c8752);if(_0x2ff722==='in'&&(_0x2ff722='id',_0x1c8752=LC(_0x1c8752,_0x2ff722),this['_locale']===_0x1c8752))return;const _0x388c66=this['_locale'];this['_locale']=_0x1c8752,this['_lang']=_0x2ff722,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x1c8752,_0x388c66);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4fd89c,_0x291827){return Fv(_0x4fd89c,_0x291827);}['findAvaila'+'bleLocale'](_0x518d49){if(this['_translati'+'ons'][_0x518d49])return _0x518d49;const _0x21c0af=Oi(_0x518d49);return this['_findFallb'+'ackLocale'](_0x518d49,_0x21c0af);}['getText'](_0x408867,_0x568bc7){let _0x45e870=_0x408867,_0x7bcc4e;_0x568bc7||(_0x568bc7=this['_locale'],_0x7bcc4e=this['_lang']);let _0x451b4b=this['_translati'+'ons'][_0x568bc7];return _0x451b4b||(_0x7bcc4e||(_0x7bcc4e=Oi(_0x568bc7)),_0x568bc7=this['_findFallb'+'ackLocale'](_0x568bc7,_0x7bcc4e),_0x451b4b=this['_translati'+'ons'][_0x568bc7]),_0x451b4b&&_0x451b4b['hasOwnProp'+'erty'](_0x408867)&&(_0x45e870=_0x451b4b[_0x408867],Array['isArray'](_0x45e870)&&(_0x45e870=_0x45e870[-0x13e3*-0x1+0x244f+0x3832*-0x1]),_0x45e870==null&&(_0x45e870=_0x408867)),_0x45e870;}['getPluralT'+'ext'](_0x4722a7,_0x22b337,_0x492f84){let _0x4b5fa1=_0x4722a7,_0x2489a5,_0x45b556;_0x492f84?(_0x2489a5=Oi(_0x492f84),_0x45b556=Tf(_0x2489a5)):(_0x492f84=this['_locale'],_0x2489a5=this['_lang'],_0x45b556=this['_pluralFn']);let _0x490182=this['_translati'+'ons'][_0x492f84];if(_0x490182||(_0x492f84=this['_findFallb'+'ackLocale'](_0x492f84,_0x2489a5),_0x2489a5=Oi(_0x492f84),_0x45b556=Tf(_0x2489a5),_0x490182=this['_translati'+'ons'][_0x492f84]),_0x490182&&_0x490182[_0x4722a7]&&_0x45b556){const _0x7abc61=_0x45b556(_0x22b337);_0x4b5fa1=_0x490182[_0x4722a7][_0x7abc61],_0x4b5fa1==null&&(_0x4b5fa1=_0x4722a7);}return _0x4b5fa1;}['addData'](_0x7460b1){let _0x566593;try{_0x566593=this['_parser']['parse'](_0x7460b1);}catch(_0x43455c){console['error'](_0x43455c);return;}for(let _0xa11bcf=0xf03+0xf61+0x1*-0x1e64,_0x1c8b2d=_0x566593['length'];_0xa11bcf<_0x1c8b2d;_0xa11bcf++){const _0x3d164d=_0x566593[_0xa11bcf],_0x22792c=_0x3d164d['info']['locale'],_0x5dcdcf=_0x3d164d['messages'];if(!this['_translati'+'ons'][_0x22792c]){this['_translati'+'ons'][_0x22792c]={};const _0xe899f7=Oi(_0x22792c);this['_available'+'Langs'][_0xe899f7]||(this['_available'+'Langs'][_0xe899f7]=_0x22792c);}Object['assign'](this['_translati'+'ons'][_0x22792c],_0x5dcdcf),this['fire']('data:add',_0x22792c,_0x5dcdcf);}}['removeData'](_0x463c22){let _0x407c4b;try{_0x407c4b=this['_parser']['parse'](_0x463c22);}catch(_0x271e72){console['error'](_0x271e72);return;}for(let _0x2ddcdc=-0x419*0x3+-0x7*0x531+0x30a2,_0x56ab54=_0x407c4b['length'];_0x2ddcdc<_0x56ab54;_0x2ddcdc++){const _0x347105=_0x407c4b[_0x2ddcdc],_0x26fc45=_0x347105['info']['locale'],_0x787f1f=this['_translati'+'ons'][_0x26fc45];if(!_0x787f1f)continue;const _0x4e950f=_0x347105['messages'];for(const _0x19d783 in _0x4e950f)delete _0x787f1f[_0x19d783];Object['keys'](_0x787f1f)['length']===0x5*-0x5c7+-0x17b3+0x6a*0x7f&&(delete this['_translati'+'ons'][_0x26fc45],delete this['_available'+'Langs'][Oi(_0x26fc45)]),this['fire']('data:remov'+'e',_0x26fc45,_0x4e950f);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3c5e03,_0x7bf94){let _0x19f37f=Mh[_0x3c5e03];return _0x19f37f&&this['_translati'+'ons'][_0x19f37f]||(_0x19f37f=Mh[_0x7bf94],_0x19f37f&&this['_translati'+'ons'][_0x19f37f])||(_0x19f37f=this['_available'+'Langs'][_0x7bf94],_0x19f37f&&this['_translati'+'ons'][_0x19f37f])?_0x19f37f:Ph;}['_onAssetAd'+'d'](_0x28539c){_0x28539c['on']('load',this['_onAssetLo'+'ad'],this),_0x28539c['on']('change',this['_onAssetCh'+'ange'],this),_0x28539c['on']('remove',this['_onAssetRe'+'move'],this),_0x28539c['on']('unload',this['_onAssetUn'+'load'],this),_0x28539c['resource']&&this['_onAssetLo'+'ad'](_0x28539c);}['_onAssetLo'+'ad'](_0x37ff13){this['addData'](_0x37ff13['resource']);}['_onAssetCh'+'ange'](_0x50fff2){_0x50fff2['resource']&&this['addData'](_0x50fff2['resource']);}['_onAssetRe'+'move'](_0x5543f4){_0x5543f4['off']('load',this['_onAssetLo'+'ad'],this),_0x5543f4['off']('change',this['_onAssetCh'+'ange'],this),_0x5543f4['off']('remove',this['_onAssetRe'+'move'],this),_0x5543f4['off']('unload',this['_onAssetUn'+'load'],this),_0x5543f4['resource']&&this['removeData'](_0x5543f4['resource']),this['_app']['assets']['once']('add:'+_0x5543f4['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x284d17){_0x284d17['resource']&&this['removeData'](_0x284d17['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x4b5250){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4b5250;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x5d1cf0,_0x8364f5){_0x8364f5&&this['_scriptSch'+'emas']['set'](_0x5d1cf0,_0x8364f5);}['getSchema'](_0x242c5f){return this['_scriptSch'+'emas']['get'](_0x242c5f);}['add'](_0x301745){const _0x598ebe=_0x301745['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x598ebe)?(setTimeout(()=>{if(_0x301745['prototype']['swap']){const _0x76f1bb=this['_scripts'][_0x598ebe],_0x220129=this['_list']['indexOf'](_0x76f1bb);this['_list'][_0x220129]=_0x301745,this['_scripts'][_0x598ebe]=_0x301745,this['fire']('swap',_0x598ebe,_0x301745),this['fire']('swap:'+_0x598ebe,_0x301745);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x598ebe+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x1*0x455+-0x2145*0x1+0x1*0x1cf1)):(this['_scripts'][_0x598ebe]=_0x301745,this['_list']['push'](_0x301745),this['fire']('add',_0x598ebe,_0x301745),this['fire']('add:'+_0x598ebe,_0x301745),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x598ebe)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x448adb=this['app']['systems']['script']['_component'+'s'];let _0x2e8149;const _0x64ca44=[],_0x4ed3e4=[];for(_0x448adb['loopIndex']=-0x15*-0x16e+0xffe+-0x2e04;_0x448adb['loopIndex']<_0x448adb['length'];_0x448adb['loopIndex']++){const _0x40c3ad=_0x448adb['items'][_0x448adb['loopIndex']];if(_0x40c3ad['_scriptsIn'+'dex'][_0x598ebe]&&_0x40c3ad['_scriptsIn'+'dex'][_0x598ebe]['awaiting']){_0x40c3ad['_scriptsDa'+'ta']&&_0x40c3ad['_scriptsDa'+'ta'][_0x598ebe]&&(_0x2e8149=_0x40c3ad['_scriptsDa'+'ta'][_0x598ebe]['attributes']);const _0x1dd1dc=_0x40c3ad['create'](_0x598ebe,{'preloading':!(0x1*0xb15+0x26c5*-0x1+0x376*0x8),'ind':_0x40c3ad['_scriptsIn'+'dex'][_0x598ebe]['ind'],'attributes':_0x2e8149});_0x1dd1dc&&_0x64ca44['push'](_0x1dd1dc);for(const _0x31f6ab of _0x40c3ad['scripts'])_0x40c3ad['initialize'+'Attributes'](_0x31f6ab);}}for(let _0x1dfcc3=-0x1621+0x2437+-0x4b2*0x3;_0x1dfcc3<_0x64ca44['length'];_0x1dfcc3++)_0x64ca44[_0x1dfcc3]['enabled']&&(_0x64ca44[_0x1dfcc3]['_initializ'+'ed']=!(0x12a9+-0x255e*-0x1+0x1*-0x3807),_0x4ed3e4['push'](_0x64ca44[_0x1dfcc3]),_0x64ca44[_0x1dfcc3]['initialize']&&_0x64ca44[_0x1dfcc3]['initialize']());for(let _0x3d5748=-0xc95+-0xc*-0x2db+-0x319*0x7;_0x3d5748<_0x4ed3e4['length'];_0x3d5748++)!_0x4ed3e4[_0x3d5748]['enabled']||_0x4ed3e4[_0x3d5748]['_postIniti'+'alized']||(_0x4ed3e4[_0x3d5748]['_postIniti'+'alized']=!(-0x64f+-0xc15*-0x2+-0x11db*0x1),_0x4ed3e4[_0x3d5748]['postInitia'+'lize']&&_0x4ed3e4[_0x3d5748]['postInitia'+'lize']());}),!(-0x1*0x1c19+0x16d3*-0x1+0x32ec));}['remove'](_0x4cb738){let _0x5f06c4=_0x4cb738,_0x532451=_0x4cb738;if(typeof _0x532451!='string'?_0x532451=_0x5f06c4['__name']:_0x5f06c4=this['get'](_0x532451),this['get'](_0x532451)!==_0x5f06c4)return!(-0x6c5*0x1+0x216b+-0x1aa5);delete this['_scripts'][_0x532451];const _0x2463f1=this['_list']['indexOf'](_0x5f06c4);return this['_list']['splice'](_0x2463f1,-0x1db7+0x1832+0x586),this['fire']('remove',_0x532451,_0x5f06c4),this['fire']('remove:'+_0x532451,_0x5f06c4),!(-0x9c7+-0x4f*-0xd+0x29*0x24);}['get'](_0x22bfb6){return this['_scripts'][_0x22bfb6]||null;}['has'](_0xa9fb92){if(typeof _0xa9fb92=='string')return this['_scripts']['hasOwnProp'+'erty'](_0xa9fb92);if(!_0xa9fb92)return!(0x1766*-0x1+-0x1fef+0x3756);const _0x348283=_0xa9fb92['__name'];return this['_scripts'][_0x348283]===_0xa9fb92;}['list'](){return this['_list'];}}const WC=(_0x201bc0,_0x1f1596)=>_0x201bc0['constructo'+'r']['order']-_0x1f1596['constructo'+'r']['order'],$C=_0xe4bfe5=>_0xe4bfe5['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x5b01dc=>{_0x5b01dc['length']=-0x264b*-0x1+0x68a+-0x2cd5,Nv['push'](_0x5b01dc);},Hh=class Hh extends Ie{constructor(_0x39901b,_0xae7ca8=Ms()){super(_0x39901b),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x1eeb+0x5*0x219+0x146f*0x1)),h(this,'_guid',null),h(this,'_template',!(-0x22e4+-0x88*-0x28+0x1*0xda5)),(w['assert'](_0xae7ca8,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0xae7ca8);}['addCompone'+'nt'](_0x12dc26,_0x12e637){const _0x4e1eba=this['_app']['systems'][_0x12dc26];return _0x4e1eba?this['c'][_0x12dc26]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x12dc26+('\x27\x20componen'+'t')),null):_0x4e1eba['addCompone'+'nt'](this,_0x12e637):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x12dc26+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x4763de){const _0x1db90b=this['_app']['systems'][_0x4763de];if(!_0x1db90b){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x4763de+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x4763de]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x4763de+('\x27\x20componen'+'t'));return;}_0x1db90b['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x2ce216){const _0xa18a24=this['findOne'](_0x4714ef=>{var _0x5dad6e;return(_0x5dad6e=_0x4714ef['c'])==null?void(-0x9*0x3eb+-0x3e6+0x7d5*0x5):_0x5dad6e[_0x2ce216];});return _0xa18a24&&_0xa18a24['c'][_0x2ce216];}['findCompon'+'ents'](_0x5475a0){return this['find'](_0x1b1d28=>{var _0x31dcd3;return(_0x31dcd3=_0x1b1d28['c'])==null?void(-0x10*-0x23c+-0x1582+-0xe3e):_0x31dcd3[_0x5475a0];})['map'](_0x6d9f4=>_0x6d9f4['c'][_0x5475a0]);}['findScript'](_0x50b278){const _0x4d6d4b=this['findOne'](_0x12c0c8=>{var _0x2b4420,_0x323fc3;return(_0x323fc3=(_0x2b4420=_0x12c0c8['c'])==null?void(0x9ed*-0x3+0x1887+0x38*0x18):_0x2b4420['script'])==null?void(0xbea+0x1*0x1+0xbeb*-0x1):_0x323fc3['has'](_0x50b278);});return _0x4d6d4b==null?void(-0x1*0xcf7+0xf6d*-0x1+-0x17*-0x13c):_0x4d6d4b['c']['script']['get'](_0x50b278);}['findScript'+'s'](_0x12f05b){return this['find'](_0x10a560=>{var _0x218ee3,_0x3a7132;return(_0x3a7132=(_0x218ee3=_0x10a560['c'])==null?void(-0x1*-0xc5b+0x236f+-0x2fca):_0x218ee3['script'])==null?void(-0x121*0xd+-0xfab+0x1e58*0x1):_0x3a7132['has'](_0x12f05b);})['map'](_0x1a32ad=>_0x1a32ad['c']['script']['get'](_0x12f05b));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x549ea3){const _0x11f19f=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x11f19f[this['_guid']],this['_guid']=_0x549ea3,_0x11f19f[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x4979f7,_0x1ebfc9){let _0x2e5e2c=!(0xe5*0x1+0x1115+0x11f9*-0x1);_0x4979f7===this&&po['length']===-0x9c7*-0x2+-0xcf5+0x233*-0x3&&(_0x2e5e2c=!(0x26c8+0x31a+-0x29e2)),_0x4979f7['_beingEnab'+'led']=!(-0x5b*-0x5f+-0x246a+0x2a5),_0x4979f7['_onHierarc'+'hyStateCha'+'nged'](_0x1ebfc9),_0x4979f7['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x4979f7);const _0x1b3153=_0x4979f7['_children'];for(let _0x301463=0x23e7+0x26*-0x105+0x2d7,_0x51706b=_0x1b3153['length'];_0x301463<_0x51706b;_0x301463++)_0x1b3153[_0x301463]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x1b3153[_0x301463],_0x1ebfc9);if(_0x4979f7['_beingEnab'+'led']=!(-0x1a7f+-0x2*-0xc2e+-0x4*-0x89),_0x2e5e2c){for(let _0xe27c90=0xf70*-0x1+0xe7a+0xf6;_0xe27c90<po['length'];_0xe27c90++)po[_0xe27c90]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x1*-0x1046+0x1*-0xaf6+-0xa6*-0x2a;}}['_onHierarc'+'hyStateCha'+'nged'](_0x2d679c){super['_onHierarc'+'hyStateCha'+'nged'](_0x2d679c);const _0x5d4005=this['_getSorted'+'Components']();for(let _0x514df1=-0x15b*-0xb+0xaad+0x106*-0x19;_0x514df1<_0x5d4005['length'];_0x514df1++){const _0x5314d2=_0x5d4005[_0x514df1];_0x5314d2['enabled']&&(_0x2d679c?_0x5314d2['onEnable']():_0x5314d2['onDisable']());}Ag(_0x5d4005);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x50f883=this['_getSorted'+'Components']();for(let _0x1e4e8f=-0x17fa+-0x3*0xcbb+0x3e2b;_0x1e4e8f<_0x50f883['length'];_0x1e4e8f++)_0x50f883[_0x1e4e8f]['onPostStat'+'eChange']();Ag(_0x50f883);}['findByGuid'](_0x46cedf){if(this['_guid']===_0x46cedf)return this;const _0x3b1bbc=this['_app']['_entityInd'+'ex'][_0x46cedf];return _0x3b1bbc&&(_0x3b1bbc===this||_0x3b1bbc['isDescenda'+'ntOf'](this))?_0x3b1bbc:null;}['destroy'](){this['_destroyin'+'g']=!(-0x809+-0x77c+0xf85);for(const _0x5e56a7 in this['c'])this['c'][_0x5e56a7]['enabled']=!(0x8*0xe5+-0x1*0x38b+-0x39c);for(const _0x105d44 in this['c'])this['c'][_0x105d44]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x39*0xaf+0x1*-0x221f+0x2b5*0x1b);}['clone'](){const _0x405d8b={},_0x39cdaf=this['_cloneRecu'+'rsively'](_0x405d8b);return _0x405d8b[this['getGuid']()]=_0x39cdaf,kv(this,this,_0x39cdaf,_0x405d8b),_0x39cdaf;}['_getSorted'+'Components'](){const _0x51c7dc=this['c'],_0x424cdb=XC();let _0x5cf604=0x1*-0x129d+0x40*-0x4b+0x255d*0x1;for(const _0x95cf5c in _0x51c7dc)if(_0x51c7dc['hasOwnProp'+'erty'](_0x95cf5c)){const _0x1d0ed1=_0x51c7dc[_0x95cf5c];_0x5cf604|=_0x1d0ed1['constructo'+'r']['order']!==0x147a+0x212*0x1+-0x4*0x5a3,_0x424cdb['push'](_0x1d0ed1);}return _0x5cf604&&_0x424cdb['length']>0x1*-0x843+-0x1*0x1bf+0xa03&&$C(_0x424cdb),_0x424cdb;}['_cloneRecu'+'rsively'](_0x5a63f0){const _0x507c3f=new this['constructo'+'r'](void(-0xcb0+0x2*-0xdb7+0x281e),this['_app']);super['_cloneInte'+'rnal'](_0x507c3f);for(const _0x50cf76 in this['c'])this['c'][_0x50cf76]['system']['cloneCompo'+'nent'](this,_0x507c3f);for(let _0x499e64=-0xcc4+0x1516+-0x852;_0x499e64<this['_children']['length'];_0x499e64++){const _0x178c59=this['_children'][_0x499e64];if(_0x178c59 instanceof Hh){const _0x333fd1=_0x178c59['_cloneRecu'+'rsively'](_0x5a63f0);_0x507c3f['addChild'](_0x333fd1),_0x5a63f0[_0x178c59['getGuid']()]=_0x333fd1;}}return _0x507c3f;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x486847,_0x3d8b83,_0x1b632b,_0x316e46){if(_0x3d8b83 instanceof lt){const _0x47a089=_0x3d8b83['c'];for(const _0x7c436c in _0x47a089){const _0x6270f7=_0x47a089[_0x7c436c],_0x36d5e5=_0x6270f7['system']['getPropert'+'iesOfType']('entity');for(let _0x31d3e3=0xa8a+-0xf*-0x28+-0xce2,_0x286415=_0x36d5e5['length'];_0x31d3e3<_0x286415;_0x31d3e3++){const _0x55f57a=_0x36d5e5[_0x31d3e3]['name'],_0x5695b8=_0x6270f7[_0x55f57a];if(!!_0x486847['findByGuid'](_0x5695b8)){const _0x41456f=_0x316e46[_0x5695b8]['getGuid']();_0x41456f?_0x1b632b['c'][_0x7c436c][_0x55f57a]=_0x41456f:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x47a089['script']&&_0x1b632b['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['script'],_0x316e46),_0x47a089['render']&&_0x1b632b['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['render'],_0x316e46),_0x47a089['button']&&_0x1b632b['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['button'],_0x316e46),_0x47a089['scrollview']&&_0x1b632b['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['scrollview'],_0x316e46),_0x47a089['scrollbar']&&_0x1b632b['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['scrollbar'],_0x316e46),_0x47a089['anim']&&_0x1b632b['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47a089['anim'],_0x316e46);const _0xe7df87=_0x3d8b83['children']['filter'](_0x5a8749=>_0x5a8749 instanceof lt),_0x16d69d=_0x1b632b['children']['filter'](_0x445381=>_0x445381 instanceof lt);for(let _0x3ad57e=-0x3f5*0x4+-0x1ba5+0x2b79*0x1,_0x4369ab=_0xe7df87['length'];_0x3ad57e<_0x4369ab;_0x3ad57e++)kv(_0x486847,_0xe7df87[_0x3ad57e],_0x16d69d[_0x3ad57e],_0x316e46);}}class Cg{constructor(_0x11d84d,_0x234ab2){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x1e56*0x1+0x25e*-0x10+0x4437)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x11d84d,this['url']=_0x234ab2);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x3ee3b0){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x3ee3b0;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x4f3414,_0x3e5519){if(this['_index']['hasOwnProp'+'erty'](_0x4f3414))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x4f3414),!(-0x8c1+0xc4+-0x42*-0x1f);const _0x3f709d=new Cg(_0x4f3414,_0x3e5519),_0x3eb491=this['_list']['push'](_0x3f709d);return this['_index'][_0x3f709d['name']]=_0x3eb491-(0x32c+0xa*0xb7+-0xa51),this['_urlIndex'][_0x3f709d['url']]=_0x3eb491-(0x1*0xf10+0x205e+-0x39*0xd5),!(-0x14ae+-0xc33*-0x1+0xd*0xa7);}['find'](_0x3fd91d){return this['_index']['hasOwnProp'+'erty'](_0x3fd91d)?this['_list'][this['_index'][_0x3fd91d]]:null;}['findByUrl'](_0x5ec5cd){return this['_urlIndex']['hasOwnProp'+'erty'](_0x5ec5cd)?this['_list'][this['_urlIndex'][_0x5ec5cd]]:null;}['remove'](_0x22ec7b){if(this['_index']['hasOwnProp'+'erty'](_0x22ec7b)){const _0x5b8b9b=this['_index'][_0x22ec7b];let _0x46257e=this['_list'][_0x5b8b9b];delete this['_urlIndex'][_0x46257e['url']],delete this['_index'][_0x22ec7b],this['_list']['splice'](_0x5b8b9b,0x1*-0x161b+-0x1c85+-0x1*-0x32a1);for(let _0x25e8f3=0x189f+-0x557*-0x4+0x95*-0x4f;_0x25e8f3<this['_list']['length'];_0x25e8f3++)_0x46257e=this['_list'][_0x25e8f3],this['_index'][_0x46257e['name']]=_0x25e8f3,this['_urlIndex'][_0x46257e['url']]=_0x25e8f3;}}['_loadScene'+'Data'](_0x4c4974,_0x375d41,_0x2970dc){const _0x5264c4=this['_app'];let _0x1e48e5=_0x4c4974;if(typeof _0x4c4974=='string'&&(_0x4c4974=this['findByUrl'](_0x1e48e5)||this['find'](_0x1e48e5)||new Cg('Untitled',_0x1e48e5)),_0x1e48e5=_0x4c4974['url'],!_0x1e48e5){_0x2970dc('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x4c4974['loaded']){_0x2970dc(null,_0x4c4974);return;}_0x5264c4['assets']&&_0x5264c4['assets']['prefix']&&!jn['test'](_0x1e48e5)&&(_0x1e48e5=xe['join'](_0x5264c4['assets']['prefix'],_0x1e48e5)),_0x4c4974['_onLoadedC'+'allbacks']['push'](_0x2970dc),_0x4c4974['_loading']||_0x5264c4['loader']['getHandler']('hierarchy')['load'](_0x1e48e5,(_0x5ec589,_0x4085a2)=>{_0x4c4974['data']=_0x4085a2,_0x4c4974['_loading']=!(0x659*0x6+-0x1ff+-0x120b*0x2);for(let _0x5c036c=-0x35*0x8b+-0x123e+0x1*0x2f05;_0x5c036c<_0x4c4974['_onLoadedC'+'allbacks']['length'];_0x5c036c++)_0x4c4974['_onLoadedC'+'allbacks'][_0x5c036c](_0x5ec589,_0x4c4974);_0x375d41||(_0x4c4974['data']=null),_0x4c4974['_onLoadedC'+'allbacks']['length']=-0x2400+0x2102*0x1+0x2fe;}),_0x4c4974['_loading']=!(-0x3a1*-0x7+0x721*0x5+-0x3d0c);}['loadSceneD'+'ata'](_0x4cceba,_0x4ffce3){this['_loadScene'+'Data'](_0x4cceba,!(0x22c8+-0x190e+-0x9ba),_0x4ffce3);}['unloadScen'+'eData'](_0x453cc5){typeof _0x453cc5=='string'&&(_0x453cc5=this['findByUrl'](_0x453cc5)),_0x453cc5&&(_0x453cc5['data']=null);}['_loadScene'+'Hierarchy'](_0x183d21,_0x12c4c0,_0x4ba59c){this['_loadScene'+'Data'](_0x183d21,!(-0x1243+-0xd6f+0x1fb3),(_0x2b5d6c,_0x565962)=>{if(_0x2b5d6c){_0x4ba59c&&_0x4ba59c(_0x2b5d6c);return;}_0x12c4c0&&_0x12c4c0(_0x565962);const _0xa05b19=this['_app'],_0x16f16a=()=>{const _0x443903=_0xa05b19['loader']['getHandler']('hierarchy');_0xa05b19['systems']['script']['preloading']=!(-0x1369+-0x61*-0x56+-0xd2d);const _0x4ba9ed=_0x443903['open'](_0x565962['url'],_0x565962['data']);_0xa05b19['systems']['script']['preloading']=!(0xf07+0x1aea+-0x29f0),_0xa05b19['loader']['clearCache'](_0x565962['url'],'hierarchy'),_0xa05b19['root']['addChild'](_0x4ba9ed),_0xa05b19['systems']['fire']('initialize',_0x4ba9ed),_0xa05b19['systems']['fire']('postInitia'+'lize',_0x4ba9ed),_0xa05b19['systems']['fire']('postPostIn'+'itialize',_0x4ba9ed),_0x4ba59c&&_0x4ba59c(null,_0x4ba9ed);};_0xa05b19['_preloadSc'+'ripts'](_0x565962['data'],_0x16f16a);});}['loadSceneH'+'ierarchy'](_0x59058a,_0x2fea3a){this['_loadScene'+'Hierarchy'](_0x59058a,null,_0x2fea3a);}['loadSceneS'+'ettings'](_0x2a95c6,_0x6b11ca){this['_loadScene'+'Data'](_0x2a95c6,!(0x3*-0xa9a+-0x2d3+0x22a2),(_0x896da2,_0x2e6a3a)=>{_0x896da2?_0x6b11ca&&_0x6b11ca(_0x896da2):(this['_app']['applyScene'+'Settings'](_0x2e6a3a['data']['settings']),_0x6b11ca&&_0x6b11ca(null));});}['changeScen'+'e'](_0x236a55,_0x106d28){const _0x324601=this['_app'],_0x1d3a63=_0x1c45de=>{const {children:_0x252af4}=_0x324601['root'];for(;_0x252af4['length'];)_0x252af4[-0xa6c+-0x472*0x1+0xede]['destroy']();_0x324601['applyScene'+'Settings'](_0x1c45de['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x236a55,_0x1d3a63,_0x106d28);}['loadScene'](_0x39f736,_0xf357d0){const _0x381886=this['_app'],_0xe19bc9=_0x381886['loader']['getHandler']('scene');_0x381886['assets']&&_0x381886['assets']['prefix']&&!jn['test'](_0x39f736)&&(_0x39f736=xe['join'](_0x381886['assets']['prefix'],_0x39f736)),_0xe19bc9['load'](_0x39f736,(_0x360c82,_0x58a9d4)=>{if(_0x360c82)_0xf357d0&&_0xf357d0(_0x360c82);else{const _0x5eb733=()=>{_0x381886['systems']['script']['preloading']=!(0x1ba*-0x13+0x1c9*0x3+0x1b73);const _0x2d8eb7=_0xe19bc9['open'](_0x39f736,_0x58a9d4),_0x25c516=this['findByUrl'](_0x39f736);_0x25c516&&!_0x25c516['loaded']&&(_0x25c516['data']=_0x58a9d4),_0x381886['systems']['script']['preloading']=!(-0x7b9*0x5+-0x2472+0x4b10),_0x381886['loader']['clearCache'](_0x39f736,'scene'),_0x381886['loader']['patch']({'resource':_0x2d8eb7,'type':'scene'},_0x381886['assets']),_0x381886['root']['addChild'](_0x2d8eb7['root']),_0x381886['systems']['rigidbody']&&typeof Ammo<'u'&&_0x381886['systems']['rigidbody']['gravity']['set'](_0x2d8eb7['_gravity']['x'],_0x2d8eb7['_gravity']['y'],_0x2d8eb7['_gravity']['z']),_0xf357d0&&_0xf357d0(null,_0x2d8eb7);};_0x381886['_preloadSc'+'ripts'](_0x58a9d4,_0x5eb733);}});}}class jC{constructor(_0x2f5611){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x2f5611['_shaderSta'+'ts'],this['vram']=_0x2f5611['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x389771;return(_0x389771=Ms()['lightmappe'+'r'])==null?void(-0xc*-0x309+0x25f*0xe+0x7*-0x9f2):_0x389771['stats'];}get['batcher'](){const _0x32ddfd=Ms()['_batcher'];return _0x32ddfd?_0x32ddfd['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x3a35f0){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x6*-0x28d+-0x1*0x1fe6+0x2f35)),h(this,'_inFrameUp'+'date',!(0x272*0xd+0x9a7+-0x2970)),h(this,'_libraries'+'Loaded',!(0x1874+0x3*0xb42+0x37*-0x10f)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x1a6a+0x3c7*0x1+0x16a3)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x1025+-0xf5+-0x1*-0x111b)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0xa29+0x166c+-0x49*0x2b),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x262e+0x1b3b+0xaf4),h(this,'maxDeltaTi'+'me',-0x1*-0x1145+0x265e+0x37a3*-0x1+0.1),h(this,'frame',-0x621+0x1242+-0x9*0x159),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x1630+-0xcae+-0x982)),h(this,'renderNext'+'Frame',!(-0x1*-0x22e0+-0x3ca+-0x1*0x1f15)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x1568+0x1*0x114f+-0xb*0x385):hn['indexOf']('$'))<0xf0a+-0x268f*-0x1+-0x3599&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x3a35f0['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x268f+0xb0e+0x1b81));}['init'](_0x455dc6){const {assetPrefix:_0x29c2b8,batchManager:_0x300717,componentSystems:_0x2f96f7,elementInput:_0x4105b5,gamepads:_0x16435f,graphicsDevice:_0x4dc863,keyboard:_0x150120,lightmapper:_0x35bfe7,mouse:_0x20dc4d,resourceHandlers:_0x1ca185,scriptsOrder:_0x1c08d4,scriptPrefix:_0x40695e,soundManager:_0x570d67,touch:_0x3561ba,xr:_0x146053}=_0x455dc6;w['assert'](_0x4dc863,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x4dc863,Pe['get'](_0x4dc863,Fe)['add'](Z2),Pe['get'](_0x4dc863,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x4dc863),this['_soundMana'+'ger']=_0x570d67,this['scene']=new Et(_0x4dc863),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x29c2b8&&(this['assets']['prefix']=_0x29c2b8),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x1c08d4||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0x1*0xd85+-0x1*-0x23ae+-0x3132),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x3df4f1=new du('default');_0x3df4f1['pushOpaque'](this['defaultLay'+'erWorld']),_0x3df4f1['pushOpaque'](this['defaultLay'+'erDepth']),_0x3df4f1['pushOpaque'](this['defaultLay'+'erSkybox']),_0x3df4f1['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x3df4f1['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x3df4f1['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x3df4f1['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x3df4f1,ia['createPlac'+'eholder'](_0x4dc863),this['renderer']=new fl(_0x4dc863),this['renderer']['scene']=this['scene'],_0x35bfe7&&(this['lightmappe'+'r']=new _0x35bfe7(_0x4dc863,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x300717&&(this['_batcher']=new _0x300717(_0x4dc863,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x150120||null,this['mouse']=_0x20dc4d||null,this['touch']=_0x3561ba||null,this['gamepads']=_0x16435f||null,_0x4105b5&&(this['elementInp'+'ut']=_0x4105b5,this['elementInp'+'ut']['app']=this),this['xr']=_0x146053?new _0x146053(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x40695e||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x1ca185['forEach'](_0x46a697=>{const _0x40b13b=new _0x46a697(this);this['loader']['addHandler'](_0x40b13b['handlerTyp'+'e'],_0x40b13b);}),_0x2f96f7['forEach'](_0x3d491a=>{this['systems']['add'](new _0x3d491a(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x31c+0x1fd9*-0x1+0x39*0x9d)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xe1d+0x8*0x7a+0xa4e))):document['mozHidden']!==void(-0x52*0x4b+0x19b5*0x1+-0x1af)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x21a1+0x864+-0x2*0x1502))):document['msHidden']!==void(0xd51+-0x1298+0x547)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x127b+-0x2*0xd11+-0x1*-0x2c9e))):document['webkitHidd'+'en']!==void(-0x4*0x365+-0x2*-0x570+-0x15a*-0x2)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1eef+0x10d8+0x17e3*-0x2)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x47136f){return _0x47136f?ea['_applicati'+'ons'][_0x47136f]:Ms();}['_initDefau'+'ltMaterial'](){const _0x17e4cf=new Ut();_0x17e4cf['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x17e4cf);}['_initProgr'+'amLibrary'](){const _0x1390f9=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x1390f9);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4d3ee8,_0x4fd337){ot['get'](_0x4d3ee8,(_0x3c98c5,_0x26e0e0)=>{if(_0x3c98c5){_0x4fd337(_0x3c98c5);return;}const _0x43d756=_0x26e0e0['applicatio'+'n_properti'+'es'],_0x49c6e2=_0x26e0e0['scenes'],_0x4f826a=_0x26e0e0['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x43d756,_0x5658ae=>{this['_parseScen'+'es'](_0x49c6e2),this['_parseAsse'+'ts'](_0x4f826a),_0x4fd337(_0x5658ae||null);});});}['preload'](_0x2ca9ff){this['fire']('preload:st'+'art');const _0x27f5cc=this['assets']['list']({'preload':!(0x1fc8+-0x1fa0+0x28*-0x1)});if(_0x27f5cc['length']===0xc3*0x5+0xe30+-0x11ff){this['fire']('preload:en'+'d'),_0x2ca9ff();return;}let _0x1816d7=-0xbd+0xe4d*0x1+-0xd90*0x1;const _0x152314=()=>{_0x1816d7++,this['fire']('preload:pr'+'ogress',_0x1816d7/_0x27f5cc['length']),_0x1816d7===_0x27f5cc['length']&&(this['fire']('preload:en'+'d'),_0x2ca9ff());};_0x27f5cc['forEach'](_0x3c2e70=>{_0x3c2e70['loaded']?_0x152314():(_0x3c2e70['once']('load',_0x152314),_0x3c2e70['once']('error',_0x152314),this['assets']['load'](_0x3c2e70));});}['_preloadSc'+'ripts'](_0x56b248,_0x356fb7){_0x356fb7();}['_parseAppl'+'icationPro'+'perties'](_0x373dd8,_0x2419f4){if(typeof _0x373dd8['maxAssetRe'+'tries']=='number'&&_0x373dd8['maxAssetRe'+'tries']>-0x1*-0xac3+-0x5*0x5bd+0x5a*0x33&&this['loader']['enableRetr'+'y'](_0x373dd8['maxAssetRe'+'tries']),_0x373dd8['useDeviceP'+'ixelRatio']||(_0x373dd8['useDeviceP'+'ixelRatio']=_0x373dd8['use_device'+'_pixel_rat'+'io']),_0x373dd8['resolution'+'Mode']||(_0x373dd8['resolution'+'Mode']=_0x373dd8['resolution'+'_mode']),_0x373dd8['fillMode']||(_0x373dd8['fillMode']=_0x373dd8['fill_mode']),this['_width']=_0x373dd8['width'],this['_height']=_0x373dd8['height'],_0x373dd8['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x373dd8['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x373dd8['fillMode'],this['_width'],this['_height']),_0x373dd8['layers']&&_0x373dd8['layerOrder']){const _0x39ec63=new du('applicatio'+'n'),_0x37428f={};for(const _0x2cb2f0 in _0x373dd8['layers']){const _0x5500e8=_0x373dd8['layers'][_0x2cb2f0];_0x5500e8['id']=parseInt(_0x2cb2f0,-0x247c+0x159*0x16+0x6e0),_0x5500e8['enabled']=_0x5500e8['id']!==ps,_0x37428f[_0x2cb2f0]=new Ot(_0x5500e8);}for(let _0x39a3be=0xdaf+-0x605+-0x28e*0x3,_0xc1d618=_0x373dd8['layerOrder']['length'];_0x39a3be<_0xc1d618;_0x39a3be++){const _0x1c6b13=_0x373dd8['layerOrder'][_0x39a3be],_0x415445=_0x37428f[_0x1c6b13['layer']];_0x415445&&(_0x1c6b13['transparen'+'t']?_0x39ec63['pushTransp'+'arent'](_0x415445):_0x39ec63['pushOpaque'](_0x415445),_0x39ec63['subLayerEn'+'abled'][_0x39a3be]=_0x1c6b13['enabled']);}this['scene']['layers']=_0x39ec63;}if(_0x373dd8['batchGroup'+'s']){const _0x55c411=this['batcher'];if(_0x55c411)for(let _0x3c37fb=-0x9*0x259+0x9eb+-0x2*-0x59b,_0x1a4836=_0x373dd8['batchGroup'+'s']['length'];_0x3c37fb<_0x1a4836;_0x3c37fb++){const _0x3ce65f=_0x373dd8['batchGroup'+'s'][_0x3c37fb];_0x55c411['addGroup'](_0x3ce65f['name'],_0x3ce65f['dynamic'],_0x3ce65f['maxAabbSiz'+'e'],_0x3ce65f['id'],_0x3ce65f['layers']);}}_0x373dd8['i18nAssets']&&(this['i18n']['assets']=_0x373dd8['i18nAssets']),this['_loadLibra'+'ries'](_0x373dd8['libraries'],_0x2419f4);}['_loadLibra'+'ries'](_0x554e1f,_0x3a4b0d){const _0x4fb56f=_0x554e1f['length'];let _0x3df10d=_0x4fb56f;const _0x582635=/^https?:\/\//;if(_0x4fb56f){const _0x5a52dd=(_0x3e80a5,_0x64f525)=>{_0x3df10d--,_0x3e80a5?_0x3a4b0d(_0x3e80a5):_0x3df10d===-0xe5*0x25+-0xf*0x8+-0x2191*-0x1&&(this['onLibrarie'+'sLoaded'](),_0x3a4b0d(null));};for(let _0x43a86e=0x1a7c+-0x49a*0x1+-0xaf1*0x2;_0x43a86e<_0x4fb56f;++_0x43a86e){let _0x10055d=_0x554e1f[_0x43a86e];!_0x582635['test'](_0x10055d['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x10055d=xe['join'](this['_scriptPre'+'fix'],_0x10055d)),this['loader']['load'](_0x10055d,'script',_0x5a52dd);}}else this['onLibrarie'+'sLoaded'](),_0x3a4b0d(null);}['_parseScen'+'es'](_0x3e9420){if(_0x3e9420){for(let _0x1b9f60=-0x25fe+0x1a38*-0x1+0x4036;_0x1b9f60<_0x3e9420['length'];_0x1b9f60++)this['scenes']['add'](_0x3e9420[_0x1b9f60]['name'],_0x3e9420[_0x1b9f60]['url']);}}['_parseAsse'+'ts'](_0x4a76b5){const _0x1a78f8=[],_0x1b5115={},_0x4c5189={};for(let _0x129984=-0x52f*-0x5+-0xe31*-0x1+-0x281c;_0x129984<this['scriptsOrd'+'er']['length'];_0x129984++){const _0x356498=this['scriptsOrd'+'er'][_0x129984];_0x4a76b5[_0x356498]&&(_0x1b5115[_0x356498]=!(-0x95f+-0xd12+0x1671),_0x1a78f8['push'](_0x4a76b5[_0x356498]));}if(this['enableBund'+'les']){for(const _0x3754ea in _0x4a76b5)_0x4a76b5[_0x3754ea]['type']==='bundle'&&(_0x4c5189[_0x3754ea]=!(0x5ea*-0x5+0xd11+-0x5*-0x34d),_0x1a78f8['push'](_0x4a76b5[_0x3754ea]));}for(const _0x3ccfbc in _0x4a76b5)_0x1b5115[_0x3ccfbc]||_0x4c5189[_0x3ccfbc]||_0x1a78f8['push'](_0x4a76b5[_0x3ccfbc]);for(let _0x2a2754=0x1*0xd3+-0x37e+0x2ab;_0x2a2754<_0x1a78f8['length'];_0x2a2754++){const _0x20b0a9=_0x1a78f8[_0x2a2754],_0x41152b=new pe(_0x20b0a9['name'],_0x20b0a9['type'],_0x20b0a9['file'],_0x20b0a9['data']);if(_0x41152b['id']=parseInt(_0x20b0a9['id'],-0x558+0x19d*0x1+0x3c5),_0x41152b['preload']=_0x20b0a9['preload']?_0x20b0a9['preload']:!(-0x505*-0x6+0x1*0x1ed9+-0x99*0x66),_0x41152b['loaded']=_0x20b0a9['type']==='script'&&_0x20b0a9['data']&&_0x20b0a9['data']['loadingTyp'+'e']>-0x731+0xe08+-0x6d7,_0x41152b['tags']['add'](_0x20b0a9['tags']),_0x20b0a9['i18n']){for(const _0x329054 in _0x20b0a9['i18n'])_0x41152b['addLocaliz'+'edAssetId'](_0x329054,_0x20b0a9['i18n'][_0x329054]);}this['assets']['add'](_0x41152b);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x962+0x20dd+-0x2a3f);}),this['frame']=-0x254b+-0x60c+0x2b57,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x1390d0){this['controller']&&this['controller']['update'](_0x1390d0),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x2f7214){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x2f7214),this['systems']['fire']('animationU'+'pdate',_0x2f7214),this['systems']['fire']('postUpdate',_0x2f7214),this['fire']('update',_0x2f7214),this['inputUpdat'+'e'](_0x2f7214),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0x179+-0x1*0x242b+0x25a4,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x1a2825){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1a2825),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1a2825),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0xc8d3b9,_0xb6a99b,_0x5b80ab){const _0x4195db=this['stats']['frame'];_0x4195db['dt']=_0xb6a99b,_0x4195db['ms']=_0x5b80ab,_0xc8d3b9>_0x4195db['_timeToCou'+'ntFrames']?(_0x4195db['fps']=_0x4195db['_fpsAccum'],_0x4195db['_fpsAccum']=-0x346+-0x81*-0x13+0x64d*-0x1,_0x4195db['_timeToCou'+'ntFrames']=_0xc8d3b9+(-0x3*-0x656+0x2f*-0x76+-0x10*-0x69)):_0x4195db['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x172*0x13+-0x2695+0x420b;}['_fillFrame'+'Stats'](){let _0x354f25=this['stats']['frame'];_0x354f25['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x354f25['materials']=this['renderer']['_materialS'+'witches'],_0x354f25['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x354f25['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x354f25['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x354f25['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x354f25['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x5dd0ed=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x354f25['triangles']=_0x5dd0ed[js]/(-0x118*0xc+0x22*-0xbb+0x25f9*0x1)+Math['max'](_0x5dd0ed[Er]-(0xd3f*0x2+-0x427*-0x7+-0x378d),0x11b+-0x2e3*0x2+0x5*0xef)+Math['max'](_0x5dd0ed[oa]-(0x1dcb+-0x2*-0x2c3+-0x234f),-0x2415*0x1+-0x19eb+-0x2*-0x1f00),_0x354f25['cullTime']=this['renderer']['_cullTime'],_0x354f25['sortTime']=this['renderer']['_sortTime'],_0x354f25['skinTime']=this['renderer']['_skinTime'],_0x354f25['morphTime']=this['renderer']['_morphTime'],_0x354f25['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x354f25['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x354f25['otherPrimi'+'tives']=-0x1765+-0x2*-0xc3b+-0x111;for(let _0x23e038=0x66+0x8af*-0x1+-0x7*-0x12f;_0x23e038<_0x5dd0ed['length'];_0x23e038++)_0x23e038<js&&(_0x354f25['otherPrimi'+'tives']+=_0x5dd0ed[_0x23e038]),_0x5dd0ed[_0x23e038]=-0x9a3*-0x1+-0xcad+0x30a;this['renderer']['_camerasRe'+'ndered']=-0x414*0x3+-0x826+0x1462,this['renderer']['_materialS'+'witches']=-0x1c41+-0x1134+0x1*0x2d75,this['renderer']['_shadowMap'+'Updates']=-0x4be*-0x2+0x54d*-0x2+0x11e,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x2*-0x76b+0xf57+0x1*-0x81,this['renderer']['_cullTime']=0xbbd+0x109*-0x11+0x5dc,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1*-0x1e41+0x21ed+-0xa*0x5e,this['renderer']['_lightClus'+'tersTime']=0x12bd+0x5f2*-0x3+-0xe7,this['renderer']['_sortTime']=0x1*-0x1da4+-0xf22*0x1+0x2*0x1663,this['renderer']['_skinTime']=-0x5*0x542+-0x4ea+0x2*0xf9a,this['renderer']['_morphTime']=0x22b2+0x5cf*0x4+-0x39ee,this['renderer']['_shadowMap'+'Time']=0x107*0x8+-0x7f7*-0x1+-0x102f,this['renderer']['_depthMapT'+'ime']=0x1*-0x406+-0x19ca*0x1+0x1dd0,this['renderer']['_forwardTi'+'me']=-0x149a+0x5fb*-0x2+0x2090,_0x354f25=this['stats']['drawCalls'],_0x354f25['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x354f25['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x354f25['depth']=0x1*0x21ff+0x4df*0x2+-0x2bbd,_0x354f25['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x354f25['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x354f25['immediate']=-0x1630+-0x23d3*-0x1+0xda3*-0x1,_0x354f25['instanced']=0x1999+-0x1*0x2261+0x464*0x2,_0x354f25['removedByI'+'nstancing']=-0x1*0x223b+-0x1051+0x328c,_0x354f25['misc']=_0x354f25['total']-(_0x354f25['forward']+_0x354f25['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1*0x751+-0x2537+-0x1c8*-0x19,this['renderer']['_shadowDra'+'wCalls']=-0x3*-0xf7+-0xa03+0x71e*0x1,this['renderer']['_forwardDr'+'awCalls']=0x1809+-0xd*-0x2e1+-0x3d76,this['renderer']['_numDrawCa'+'llsCulled']=-0x1079+-0x7*-0x3e1+0x2*-0x557,this['renderer']['_skinDrawC'+'alls']=0x143*0x13+-0x6*-0x634+-0x5*0xc3d,this['renderer']['_immediate'+'Rendered']=-0xe87*0x1+-0x1bf0+0x2a77,this['renderer']['_instanced'+'DrawCalls']=0x17a3+-0x1271+-0x23*0x26,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x354f25=this['stats']['particles'],_0x354f25['updatesPer'+'Frame']=_0x354f25['_updatesPe'+'rFrame'],_0x354f25['frameTime']=_0x354f25['_frameTime'],_0x354f25['_updatesPe'+'rFrame']=-0xc1b*0x3+0x25*-0x49+0x359*0xe,_0x354f25['_frameTime']=-0x263b+0x2354+0x2e7*0x1;}['setCanvasF'+'illMode'](_0x1978e7,_0x26950,_0x2754bf){this['_fillMode']=_0x1978e7,this['resizeCanv'+'as'](_0x26950,_0x2754bf);}['setCanvasR'+'esolution'](_0x34bb2a,_0x3fa1ff,_0x46bde0){this['_resolutio'+'nMode']=_0x34bb2a,_0x34bb2a===wg&&_0x3fa1ff===void(-0xc9e*-0x1+0x30*0xca+-0x327e)&&(_0x3fa1ff=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x46bde0=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3fa1ff,_0x46bde0);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x5d4110,_0x37e7ad){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x267da9=window['innerWidth'],_0x2d9688=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x24d074=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x5b349c=_0x267da9/_0x2d9688;_0x24d074>_0x5b349c?(_0x5d4110=_0x267da9,_0x37e7ad=_0x5d4110/_0x24d074):(_0x37e7ad=_0x2d9688,_0x5d4110=_0x37e7ad*_0x24d074);}else this['_fillMode']===PC&&(_0x5d4110=_0x267da9,_0x37e7ad=_0x2d9688);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x5d4110+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x37e7ad+'px',this['updateCanv'+'asSize'](),{'width':_0x5d4110,'height':_0x37e7ad};}['updateCanv'+'asSize'](){var _0x125ba0;if(!(!this['_allowResi'+'ze']||(_0x125ba0=this['xr'])!=null&&_0x125ba0['active'])&&this['_resolutio'+'nMode']===wg){const _0x2a1e77=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2a1e77['clientWidt'+'h'],_0x2a1e77['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x22e7+-0x919*-0x2+0x10b5),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0xe32997){let _0x46e88c;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3a96dd,_0x47ac03,_0x1d5623]=_0xe32997['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3a96dd,_0x47ac03,_0x1d5623);}this['scene']['applySetti'+'ngs'](_0xe32997),_0xe32997['render']['hasOwnProp'+'erty']('skybox')&&(_0xe32997['render']['skybox']?(_0x46e88c=this['assets']['get'](_0xe32997['render']['skybox']),_0x46e88c?this['setSkybox'](_0x46e88c):this['assets']['once']('add:'+_0xe32997['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x236554,_0x47ae1b){_0x236554&&_0x47ae1b?ia['set'](this['graphicsDe'+'vice'],_0x236554,_0x47ae1b):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x586d28){if(_0x586d28!==this['_skyboxAss'+'et']){const _0x392519=()=>{this['setSkybox'](null);},_0x489cb9=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x489cb9,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x392519,this),this['_skyboxAss'+'et']['off']('change',_0x489cb9,this)),this['_skyboxAss'+'et']=_0x586d28,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x489cb9,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x392519,this),this['_skyboxAss'+'et']['on']('change',_0x489cb9,this),this['scene']['skyboxMip']===0x7*-0xed+-0x2102+0x277d&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x2462+-0x1590+-0x2*0x769)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x489cb9();}}['_firstBake'](){var _0x1e5296;(_0x1e5296=this['lightmappe'+'r'])==null||_0x1e5296['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x201c1a;(_0x201c1a=this['batcher'])==null||_0x201c1a['generate']();}['_processTi'+'mestamp'](_0xe0faab){return _0xe0faab;}['drawLine'](_0x167324,_0x39a600,_0x195611,_0x5ce695,_0x14f81f){this['scene']['drawLine'](_0x167324,_0x39a600,_0x195611,_0x5ce695,_0x14f81f);}['drawLines'](_0x2859e6,_0x4b061b,_0x2abf0d=!(-0xb8e+-0x1*0x2647+-0x1*-0x31d5),_0x1ed72e=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x2859e6,_0x4b061b,_0x2abf0d,_0x1ed72e);}['drawLineAr'+'rays'](_0x5090d7,_0x5eaa15,_0x3ffd0c=!(-0x1*0x1979+-0x21d2+0x2b*0x161),_0x3f638c=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x5090d7,_0x5eaa15,_0x3ffd0c,_0x3f638c);}['drawWireSp'+'here'](_0x9c082c,_0x3076c8,_0x21325b=ie['WHITE'],_0x575ce2=0xa68+0xb1c+-0x1570,_0x4b5a86=!(0x1a40+-0x2444+0xa04),_0x1211fd=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x9c082c,_0x3076c8,_0x21325b,_0x575ce2,_0x4b5a86,_0x1211fd);}['drawWireAl'+'ignedBox'](_0x558506,_0x1fca67,_0x47efa0=ie['WHITE'],_0x21f4e7=!(-0x225b*-0x1+0x1cf5+-0x3f50),_0x3e041e=this['scene']['defaultDra'+'wLayer'],_0x2027c0){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x558506,_0x1fca67,_0x47efa0,_0x21f4e7,_0x3e041e,_0x2027c0);}['drawMeshIn'+'stance'](_0x1889af,_0x57c740=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x1889af,_0x57c740);}['drawMesh'](_0x50a1f7,_0x5906fe,_0x4b757f,_0x2f8f59=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x5906fe,_0x4b757f,_0x50a1f7,null,_0x2f8f59);}['drawQuad'](_0xad630d,_0x48cb32,_0x2eee65=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x48cb32,_0xad630d,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x2eee65);}['drawTextur'+'e'](_0x4e0c1c,_0x483035,_0xfeccad,_0x15e8f4,_0xf89c37,_0x398a16,_0x99e2c5=this['scene']['defaultDra'+'wLayer'],_0x4403a8=!(-0x2*-0xb2+0x1fe0+-0x4*0x851)){if(_0x4403a8===!(-0x221e+-0x1*-0x22da+0x1*-0xbb)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x3d7a6c=new te();_0x3d7a6c['setTRS'](new D(_0x4e0c1c,_0x483035,0xb3*-0x15+0x6*0x1c3+0x41d),le['IDENTITY'],new D(_0xfeccad,-_0x15e8f4,-0x1*-0x1063+0x2*0x913+0x7*-0x4ef)),_0x398a16||(_0x398a16=new Xn(),_0x398a16['cull']=bt,_0x398a16['setParamet'+'er']('colorMap',_0xf89c37),_0x398a16['shaderDesc']=_0x4403a8?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0xf89c37['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x398a16['update']()),this['drawQuad'](_0x3d7a6c,_0x398a16,_0x99e2c5);}['drawDepthT'+'exture'](_0x41d191,_0x4cdc15,_0xeb69a0,_0x5902ae,_0x2a68c0=this['scene']['defaultDra'+'wLayer']){const _0x251f8d=new Xn();_0x251f8d['cull']=bt,_0x251f8d['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x251f8d['update'](),this['drawTextur'+'e'](_0x41d191,_0x4cdc15,_0xeb69a0,_0x5902ae,null,_0x251f8d,_0x2a68c0);}['destroy'](){var _0x53abda,_0x7d07cd,_0x373f91,_0x14748a;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x1b6*0x15+0x666+0x3b1*0x8);return;}const _0x2a1a06=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x26f8*-0x1+-0x416*-0x7+0x127*0x9)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1f76+0x26c8+-0x751)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x2b*0x25+0x8*0x381+-0x223e)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xb69+0x3*-0x7fe+0x2364))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x3ef029=this['assets']['list']();for(let _0x1a8f4d=-0x1297+-0x1*-0x113d+-0x2*-0xad;_0x1a8f4d<_0x3ef029['length'];_0x1a8f4d++)_0x3ef029[_0x1a8f4d]['unload'](),_0x3ef029[_0x1a8f4d]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x4d7f8b=this['loader']['getHandler']('script');_0x4d7f8b==null||_0x4d7f8b['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x53abda=this['lightmappe'+'r'])==null||_0x53abda['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x7d07cd=this['xr'])==null||_0x7d07cd['end'](),(_0x373f91=this['xr'])==null||_0x373f91['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x14748a=this['_soundMana'+'ger'])==null||_0x14748a['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x2a1a06]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x28c1fa){_0x28c1fa['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x28c1fa['frameReque'+'stId']),_0x28c1fa['frameReque'+'stId']=void(0x5*0x95+-0x1890+0x15a7));}['getEntityF'+'romIndex'](_0x2db293){return this['_entityInd'+'ex'][_0x2db293];}['_registerS'+'ceneImmedi'+'ate'](_0x408004){this['on']('postrender',_0x408004['immediate']['onPostRend'+'er'],_0x408004['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x83c80e){const _0x3379b6=_0x83c80e;return function(_0x1f9f9c,_0x11868e){var _0xd0fb13,_0x247d85,_0x144b35,_0x19c3db;if(!_0x3379b6['graphicsDe'+'vice'])return;_0x3379b6['frameReque'+'stId']&&((_0x247d85=(_0xd0fb13=_0x3379b6['xr'])==null?void(0x5*-0x66d+0x1442*0x1+0x1*0xbdf):_0xd0fb13['session'])==null||_0x247d85['cancelAnim'+'ationFrame'](_0x3379b6['frameReque'+'stId']),cancelAnimationFrame(_0x3379b6['frameReque'+'stId']),_0x3379b6['frameReque'+'stId']=null),_0x3379b6['_inFrameUp'+'date']=!(0x1335*0x2+0x223a+-0x48a4),_u(_0x3379b6);const _0x4bdad2=_0x3379b6['_processTi'+'mestamp'](_0x1f9f9c)||de(),_0x10efdc=_0x4bdad2-(_0x3379b6['_time']||_0x4bdad2);let _0x5f5206=_0x10efdc/(-0x28*-0x39+0x1*0x1f34+-0x2434);if(_0x5f5206=Y['clamp'](_0x5f5206,-0x1309+-0x5*0x7d+0x157a,_0x3379b6['maxDeltaTi'+'me']),_0x5f5206*=_0x3379b6['timeScale'],_0x3379b6['_time']=_0x4bdad2,(_0x144b35=_0x3379b6['xr'])!=null&&_0x144b35['session']?_0x3379b6['frameReque'+'stId']=_0x3379b6['xr']['session']['requestAni'+'mationFram'+'e'](_0x3379b6['tick']):_0x3379b6['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x3379b6['tick']):null,_0x3379b6['graphicsDe'+'vice']['contextLos'+'t'])return;_0x3379b6['_fillFrame'+'StatsBasic'](_0x4bdad2,_0x5f5206,_0x10efdc),_0x3379b6['_fillFrame'+'Stats'](),_0x3379b6['fire']('frameupdat'+'e',_0x10efdc);let _0x13de48=!(0x2335*0x1+0x125*-0x13+-0xd75);_0x11868e?(_0x13de48=!((_0x19c3db=_0x3379b6['xr'])!=null&&_0x19c3db['update'](_0x11868e)),_0x3379b6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x11868e['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x3379b6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x13de48&&!_0x3379b6['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x3379b6['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0x4aa*0x5+-0x49d+-0x1bf1*-0x1)+'ms'),_0x3379b6['update'](_0x5f5206),_0x3379b6['fire']('framerende'+'r'),(_0x3379b6['autoRender']||_0x3379b6['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x92e+0xc*0x1eb+-0x2030)+'ms'),_0x3379b6['render'](),_0x3379b6['renderNext'+'Frame']=!(-0x10d5+-0x2a*-0x9d+-0x8ec),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0xa*0x1e4+0x257d+-0x1*0x1293)+'ms')),_0x3379b6['fire']('frameend')),_0x3379b6['_inFrameUp'+'date']=!(0x2289+-0x2*0x1223+0x2*0xdf),_0x3379b6['_destroyRe'+'quested']&&_0x3379b6['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x14958e,_0x1eda45,_0x56cfea){this['scene']=_0x14958e,this['light']=_0x1eda45,this['store'](),_0x1eda45['numCascade'+'s']=-0x166e+0x1ebd+0x1*-0x84e,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x56cfea['shadowsEna'+'bled']&&(_0x1eda45['castShadow'+'s']=!(-0x25bc+-0x1eb3+0xa*0x6d8)),_0x1eda45['type']!==ve&&(_0x1eda45['_node']['getWorldTr'+'ansform'](),_0x1eda45['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x402609=this['light'];_0x402609['mask']=this['mask'],_0x402609['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x402609['enabled']=this['enabled'],_0x402609['intensity']=this['intensity'],_0x402609['_node']['setLocalRo'+'tation'](this['rotation']),_0x402609['numCascade'+'s']=this['numCascade'+'s'],_0x402609['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1b30+-0x108f+-0xaa1),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x24f499){const _0x8446c7=this['light'];_0x8446c7['enabled']=!(-0x23dd*-0x1+-0xd*0x53+-0x1*0x1fa5),_0x8446c7['shadowMap']&&(_0x8446c7['shadowMap']['cached']&&_0x24f499['add'](_0x8446c7,_0x8446c7['shadowMap']),_0x8446c7['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x51e92f,_0x4e5cac){super(_0x51e92f['scene'],_0x4e5cac,_0x51e92f['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x1f9c+0x26e7+-0x74a;}['prepareVir'+'tualLight'](_0xc58dad,_0x38aeca){const _0x57ec4c=this['light'];if(_0x57ec4c['_node']['setLocalRo'+'tation'](this['rotation']),_0xc58dad>0x1383+0x2653*0x1+-0x39d6){const _0x5b579b=_0x57ec4c['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0xc58dad,_0x38aeca),yc['mulScalar'](_0x5b579b*(0x1*-0x1294+0x1f81+-0x44f*0x3+0.5)),_0x57ec4c['_node']['rotateLoca'+'l'](yc['x'],-0x5*0x1d6+0xd44+0x1*-0x416,yc['y']);}_0x57ec4c['_node']['getWorldTr'+'ansform']();const _0x47fca7=-0x9*0xf9+0x7*0x3a1+0xc*-0x163+0.20000000000000018,_0xe91ffe=Math['pow'](this['intensity'],_0x47fca7);_0x57ec4c['intensity']=Math['pow'](_0xe91ffe/_0x38aeca,(0x5ab*-0x1+0x1f30+-0x1984)/_0x47fca7);}}const Pg=new D();class Mg extends Uv{constructor(_0x48bd2f){const _0x373c65=_0x48bd2f['scene'],_0x54dc61=new lt('AmbientLig'+'ht');_0x54dc61['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x215*0x5+0x1c3*-0x13+0x112*0x29),'affectLightmapped':!(0x2*0x131e+-0x167c+-0x8b*0x1d),'bake':!(0x47+0x17a*0x11+0x1961*-0x1),'bakeNumSamples':_0x373c65['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x90d+0x1*-0xa49+0x1356),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0x26+-0x2f*0xc1+0x2*0x11cb)}),super(_0x373c65,_0x54dc61['light']['light'],_0x48bd2f['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x6b5f80,_0x1b4a6f){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x6b5f80,_0x1b4a6f,0xe20+0x76d+-0x158d,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x146a+-0x1413+-0x56))),this['light']['_node']['rotateLoca'+'l'](-0x907+0x1*0x23ca+-0x1a69,0x1b38+0x2d6+0x2*-0xf07,0xa48+-0x22f3+0x18ab);const _0x347082=-0x1055+0x16a9+-0x1*0x652+0.20000000000000018,_0x360266=(0x174+-0x21*0x104+0x2012)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x59d39e=Math['pow'](_0x360266,_0x347082);this['light']['intensity']=Math['pow'](_0x59d39e/_0x1b4a6f,(-0x11*0x1ff+-0x2b*0x53+0x2fe1)/_0x347082);}}class vc{constructor(_0x77e063,_0x4144af=null){this['node']=_0x77e063,this['component']=_0x77e063['render']||_0x77e063['model'],_0x4144af=_0x4144af||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x4144af,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x9c*0x29+-0x1*0x1d69+0x47c*0x1,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x4ab57d){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x4ab57d,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x4ab57d['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x4ab57d['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x1*0x25eb+-0x23d2+0x1d*0x28b),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x166d1f){this['constantTe'+'xSource']['setValue'](_0x166d1f);}['prepare'](_0x1d6b7c,_0x12af21){this['pixelOffse'+'t'][0x8e*0x43+-0x1449+-0x95*0x1d]=(-0x18ae+0x19a7+-0xf8)/_0x1d6b7c,this['pixelOffse'+'t'][0x342*0x3+0x1a02+-0x23c7]=(0x190c+0x1*-0x121d+0x1*-0x6ee)/_0x12af21,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x21e7af,_0x110c16,_0x1a3ae2){const _0x5aeea8=_0x1a3ae2?0x13b*-0x1b+0x1*-0x6f7+0x2830:-0x2458+-0x1cd2+0x412b;if(!this['shaderDeno'+'ise'][_0x5aeea8]){const _0x2aeb00=new Map();_0x2aeb00['set']('{MSIZE}',-0x27*0xca+0x114c+0xd89),_0x1a3ae2&&_0x2aeb00['set']('HDR',''),this['shaderDeno'+'ise'][_0x5aeea8]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x1a3ae2?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x2aeb00}),this['sigmas']=new Float32Array(-0xf00+-0x48d+0x138f),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1*0x1655+-0x11f3*-0x2+0x97*-0x17]=_0x21e7af,this['sigmas'][0x2*0x19b+-0x5a3+0x1*0x26e]=_0x110c16,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x21e7af,_0x110c16);}['getDenoise'](_0x533feb){const _0x406b3e=_0x533feb?-0x20cb*-0x1+-0x8*-0x3ad+0x1*-0x3e33:-0x26b9+-0x101f+0x2e3*0x13;return this['shaderDeno'+'ise'][_0x406b3e];}['getDilate'](_0x552fbf,_0x5b1f62){const _0x42afb3=_0x5b1f62?-0x10ac*-0x1+-0xf*0x1ac+0x868:-0x2*-0x17f+0xb*0x307+-0x244a;if(!this['shaderDila'+'te'][_0x42afb3]){const _0x5c827a=_0x5b1f62?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x42afb3]=$t['createShad'+'er'](_0x552fbf,{'uniqueName':'lmDilate-'+(_0x5b1f62?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x5c827a+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x5c827a+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x42afb3];}['evaluateDe'+'noiseUnifo'+'rms'](_0x4d63c1,_0x4d45ed){function _0x141de9(_0x4ae5be,_0x467c16){return(0xd97+-0x801*-0x3+-0x259a+0.39894)*Math['exp'](-(0xc*0x10+0x1*-0x20b9+0x1ff9+0.5)*_0x4ae5be*_0x4ae5be/(_0x467c16*_0x467c16))/_0x467c16;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x1a90eb=this['kernel'],_0x3861fe=Math['floor']((Dg-(-0x35*0x7+0x7c*-0x1d+-0x1f*-0x80))/(-0x1d*0x125+0x13cb*-0x1+0x34fe));for(let _0x555e2d=0x1d*0x8b+-0xa*0x1eb+0x36f;_0x555e2d<=_0x3861fe;++_0x555e2d){const _0x298b48=_0x141de9(_0x555e2d,_0x4d63c1);_0x1a90eb[_0x3861fe+_0x555e2d]=_0x298b48,_0x1a90eb[_0x3861fe-_0x555e2d]=_0x298b48;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x3570ec=(0x12ac+-0x118d+-0x11e)/_0x141de9(-0xc7*0x17+0x17b*0x19+0x1f*-0x9e,_0x4d45ed);this['bZnorm']['setValue'](_0x3570ec);}}class hL extends ys{constructor(_0x4ea150,_0xf32190,_0x26894f,_0x5c127d,_0x54eb3b,_0x3484ca){super(_0x4ea150),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0xf32190,this['camera']=_0x26894f,this['worldClust'+'ers']=_0x5c127d,this['receivers']=_0x54eb3b,this['lightArray']=_0x3484ca);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x25fae0=>{_0x25fae0['defaultUni'+'formBuffer']['destroy'](),_0x25fae0['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*-0x14f2+0x1abe+0xbec*-0x4;}['execute'](){const _0x216d1a=this['device'];Q['pushGpuMar'+'ker'](_0x216d1a,'Lightmappe'+'r');const {renderer:_0x2ea9da,camera:_0x8fa36d,receivers:_0x2bac4a,renderTarget:_0x510110,worldClusters:_0x1c9030,lightArray:_0x184f1d}=this;_0x2ea9da['renderForw'+'ardLayer'](_0x8fa36d,_0x510110,null,void(-0x641+-0x13f4+0x1*0x1a35),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x2bac4a,'splitLights':_0x184f1d,'lightClusters':_0x1c9030}),Q['popGpuMark'+'er'](_0x216d1a);}}const dL=0xba7*-0x2+-0x2*-0xbdd+0x2*0x3ca,fL=-0x4eb*-0x7+-0x238a+0x11d,uL=0x19*-0x6e+0x1947+-0x26c*0x6,xc=new D();class pL{constructor(_0x477b53,_0x1b14b2,_0x18b48b,_0x1bb54e,_0xf5972e){this['device']=_0x477b53,this['root']=_0x1b14b2,this['scene']=_0x18b48b,this['renderer']=_0x1bb54e,this['assets']=_0xf5972e,this['shadowMapC'+'ache']=_0x1bb54e['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x3d*-0x97+-0x61*-0x2d+0x12ef),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x2f2d51;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x2f2d51=this['camera'])==null||_0x2f2d51['destroy'](),this['camera']=null;}['initBake'](_0x68576d){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x100*-0x23+0x1*-0xbb9+0x1*0x2eb9),this['lightmapFi'+'lters']=new cL(_0x68576d),this['constantBa'+'keDir']=_0x68576d['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x5e042a=new Fl();_0x5e042a['clearColor']['set'](0x95*0x2b+-0x1e93+0x58c,-0x1e3*0xd+-0x1*-0x101f+0x868,-0x3*-0x549+0xc12*-0x1+0x39*-0x11,0x1*-0x1f71+0xab3+-0xa*-0x213),_0x5e042a['clearColor'+'Buffer']=!(0x1d70+-0x1*0x54e+-0x1822),_0x5e042a['clearDepth'+'Buffer']=!(-0x1*0x219+0x65*-0x3+0x1*0x349),_0x5e042a['clearStenc'+'ilBuffer']=!(-0x1*-0x2507+0x1*-0x1f7b+-0x58b),_0x5e042a['frustumCul'+'ling']=!(0x2f*-0x4f+-0x6a*0x19+0x18dc),_0x5e042a['projection']=En,_0x5e042a['aspectRati'+'o']=0x270a+0xa04+-0x310d,_0x5e042a['node']=new Ie(),this['camera']=_0x5e042a,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x553658=new Mv(_0x68576d['supportsAr'+'eaLights'],_0x68576d['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x553658;const _0x15d9d1=this['scene']['lighting'];_0x553658['shadowsEna'+'bled']=_0x15d9d1['shadowsEna'+'bled'],_0x553658['shadowAtla'+'sResolutio'+'n']=_0x15d9d1['shadowAtla'+'sResolutio'+'n'],_0x553658['cookiesEna'+'bled']=_0x15d9d1['cookiesEna'+'bled'],_0x553658['cookieAtla'+'sResolutio'+'n']=_0x15d9d1['cookieAtla'+'sResolutio'+'n'],_0x553658['areaLights'+'Enabled']=_0x15d9d1['areaLights'+'Enabled'],_0x553658['cells']=new D(0x1d*-0x13f+0xc1a+0x72*0x36,0x1921+-0x3*0xa3+-0x1735*0x1,-0xea6+0xefc+0x1*-0x53),_0x553658['maxLightsP'+'erCell']=-0xb*0x21e+-0x6bc+0x1e0a,this['worldClust'+'ers']=new cu(_0x68576d),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x30cf91){this['materials']=[];function _0x20c6e3(_0x480d59){zi['decRef'](_0x480d59['colorBuffe'+'r']),_0x480d59['destroy']();}this['renderTarg'+'ets']['forEach'](_0x1f9184=>{_0x20c6e3(_0x1f9184);}),this['renderTarg'+'ets']['clear'](),_0x30cf91['forEach'](_0x13f2a3=>{_0x13f2a3['renderTarg'+'ets']['forEach'](_0x42ff08=>{_0x20c6e3(_0x42ff08);}),_0x13f2a3['renderTarg'+'ets']['length']=0x7bd+0x1*-0xf01+0x1e*0x3e;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x147cc6,_0x3100dd,_0x42139e){const _0x4d7cfc=new Ut();return _0x4d7cfc['name']='lmMaterial'+'-pass:'+_0x3100dd+'-ambient:'+_0x42139e,_0x4d7cfc['setDefine']('UV1LAYOUT',''),_0x4d7cfc['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x3100dd===fL?(_0x4d7cfc['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x42139e?_0x4d7cfc['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x4d7cfc['ambient']=new ie(-0x1628+-0x1*0x25d9+0x3c01,0x2*0x544+0x1234+-0xe5e*0x2,0xd29+0x3*-0x5d9+0x462),this['bakeHDR']||_0x4d7cfc['setDefine']('LIGHTMAP_R'+'GBM',''),_0x4d7cfc['lightMap']=this['blackTex']):(_0x4d7cfc['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x4d7cfc['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x4d7cfc['cull']=bt,_0x4d7cfc['forceUv1']=!(0xbf3+-0xc7*-0x30+-0x3143),_0x4d7cfc['update'](),_0x4d7cfc;}['createMate'+'rials'](_0x5207d1,_0x4ece9b,_0x594e8f){for(let _0x341979=-0x221e+-0x397*-0x8+0x566;_0x341979<_0x594e8f;_0x341979++)this['passMateri'+'als'][_0x341979]||(this['passMateri'+'als'][_0x341979]=this['createMate'+'rialForPas'+'s'](_0x4ece9b,_0x341979,!(0x2*-0x526+-0x2363+0x2db0)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x4ece9b,0x1d5d+0x1395+-0x1879*0x2,!(-0x485+0xfdd+0x79*-0x18)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x374887){return _0x374887['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*-0x19ae+-0x5*0x103+0x1ebd),_0x374887['litOptions']['separateAm'+'bient']=!(0x36f*0x3+-0x7c1*0x1+0x1*-0x28c),_0x374887;});}['createText'+'ure'](_0x2f0f40,_0x4cdf7a){return new _e(this['device'],{'profilerHint':vy,'width':_0x2f0f40,'height':_0x2f0f40,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x1*0x1365+0x1*-0x1e1d+-0x1081*-0x3),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x4cdf7a});}['collectMod'+'els'](_0x4fd0fb,_0x4d640c,_0x31f725){var _0x211076,_0x40b1e8,_0x2946f9;if(!_0x4fd0fb['enabled'])return;let _0x50edf0;if((_0x211076=_0x4fd0fb['model'])!=null&&_0x211076['model']&&((_0x40b1e8=_0x4fd0fb['model'])!=null&&_0x40b1e8['enabled'])&&(_0x31f725&&_0x31f725['push'](new vc(_0x4fd0fb)),_0x4fd0fb['model']['lightmappe'+'d']&&_0x4d640c&&(_0x50edf0=_0x4fd0fb['model']['model']['meshInstan'+'ces'])),(_0x2946f9=_0x4fd0fb['render'])!=null&&_0x2946f9['enabled']&&(_0x31f725&&_0x31f725['push'](new vc(_0x4fd0fb)),_0x4fd0fb['render']['lightmappe'+'d']&&_0x4d640c&&(_0x50edf0=_0x4fd0fb['render']['meshInstan'+'ces'])),_0x50edf0){let _0x20e66b=!(0x1*-0x13f+0xbb3*0x1+-0xa74);for(let _0x4963a0=-0x1343+-0x276+0x43*0x53;_0x4963a0<_0x50edf0['length'];_0x4963a0++)if(!_0x50edf0[_0x4963a0]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x4fd0fb['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x20e66b=!(-0x1*0x62d+0x22e+0x400);break;}if(_0x20e66b){const _0x316099=[];for(let _0x1cd235=-0xe25+0x15ca+-0x7a5;_0x1cd235<_0x50edf0['length'];_0x1cd235++){const _0x424dcd=_0x50edf0[_0x1cd235]['mesh'];this['_tempSet']['has'](_0x424dcd)?_0x4d640c['push'](new vc(_0x4fd0fb,[_0x50edf0[_0x1cd235]])):_0x316099['push'](_0x50edf0[_0x1cd235]),this['_tempSet']['add'](_0x424dcd);}this['_tempSet']['clear'](),_0x316099['length']>0xd*-0x193+-0x37e*0x2+0x1*0x1b73&&_0x4d640c['push'](new vc(_0x4fd0fb,_0x316099));}}for(let _0x2088f3=0xdcc*0x1+0x1fd0+0x15*-0x22c;_0x2088f3<_0x4fd0fb['_children']['length'];_0x2088f3++)this['collectMod'+'els'](_0x4fd0fb['_children'][_0x2088f3],_0x4d640c,_0x31f725);}['prepareSha'+'dowCasters'](_0x133b78){const _0x258e17=[];for(let _0x5c2d64=-0x1313*0x1+-0x9a*-0x18+0x4a3;_0x5c2d64<_0x133b78['length'];_0x5c2d64++){const _0x175dfa=_0x133b78[_0x5c2d64]['component'];if(_0x175dfa['castShadow'+'s']=_0x175dfa['castShadow'+'sLightmap'],_0x175dfa['castShadow'+'sLightmap']){const _0x364162=_0x133b78[_0x5c2d64]['meshInstan'+'ces'];for(let _0x483b18=-0x23d3*-0x1+0x31*0x9d+0x41e*-0x10;_0x483b18<_0x364162['length'];_0x483b18++)_0x364162[_0x483b18]['visibleThi'+'sFrame']=!(0x199a+0xa11+-0x23ab*0x1),_0x258e17['push'](_0x364162[_0x483b18]);}}return _0x258e17;}['updateTran'+'sforms'](_0x17c8b5){for(let _0x271fec=0x1d6e+-0x267+-0x1b07;_0x271fec<_0x17c8b5['length'];_0x271fec++){const _0x3855dc=_0x17c8b5[_0x271fec]['meshInstan'+'ces'];for(let _0x31a77d=0xd*-0x209+-0x777+-0x21ec*-0x1;_0x31a77d<_0x3855dc['length'];_0x31a77d++)_0x3855dc[_0x31a77d]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x2efd3d){let _0x771532;const _0x1ea72a=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1c8e+0x1638+-0x32b6,_0x262d4c=xc;let _0x3a411d,_0x46da6f;_0x2efd3d['model']?(_0x46da6f=_0x2efd3d['model']['lightmapSi'+'zeMultipli'+'er'],_0x2efd3d['model']['asset']?(_0x771532=this['assets']['get'](_0x2efd3d['model']['asset'])['data'],_0x771532['area']&&(_0x3a411d=_0x771532['area'])):_0x2efd3d['model']['_area']&&(_0x771532=_0x2efd3d['model'],_0x771532['_area']&&(_0x3a411d=_0x771532['_area']))):_0x2efd3d['render']&&(_0x46da6f=_0x2efd3d['render']['lightmapSi'+'zeMultipli'+'er'],_0x2efd3d['render']['type']!=='asset'&&_0x2efd3d['render']['_area']&&(_0x771532=_0x2efd3d['render'],_0x771532['_area']&&(_0x3a411d=_0x771532['_area'])));const _0x558fe7={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x3a411d&&(_0x558fe7['x']=_0x3a411d['x'],_0x558fe7['y']=_0x3a411d['y'],_0x558fe7['z']=_0x3a411d['z'],_0x558fe7['uv']=_0x3a411d['uv']);const _0xcc81a3=_0x46da6f||0x1c29+-0x1a81+-0x1a7;_0x558fe7['x']*=_0xcc81a3,_0x558fe7['y']*=_0xcc81a3,_0x558fe7['z']*=_0xcc81a3;const _0x512cb9=_0x2efd3d['render']||_0x2efd3d['model'],_0x1a63ca=this['computeNod'+'eBounds'](_0x512cb9['meshInstan'+'ces']);_0x262d4c['copy'](_0x1a63ca['halfExtent'+'s']);let _0x2b8068=_0x558fe7['x']*_0x262d4c['y']*_0x262d4c['z']+_0x558fe7['y']*_0x262d4c['x']*_0x262d4c['z']+_0x558fe7['z']*_0x262d4c['x']*_0x262d4c['y'];return _0x2b8068/=_0x558fe7['uv'],_0x2b8068=Math['sqrt'](_0x2b8068),Math['min'](Y['nextPowerO'+'fTwo'](_0x2b8068*_0x1ea72a),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x52d012,_0x3a640e,_0x757b6c,_0x434067){for(let _0x5c730e=-0x1df8+0x749*-0x1+0xbb*0x33;_0x5c730e<_0x52d012['length'];_0x5c730e++){const _0x414e47=_0x52d012[_0x5c730e],_0x4f772f=_0x414e47['meshInstan'+'ces'];for(let _0x34e4ba=0x1950*-0x1+0x1453*0x1+0x4fd;_0x34e4ba<_0x4f772f['length'];_0x34e4ba++){const _0x47276b=_0x4f772f[_0x34e4ba];if(_0x47276b['setLightma'+'pped'](_0x3a640e),_0x3a640e){_0x434067&&(_0x47276b['_shaderDef'+'s']|=_0x434067),_0x47276b['mask']=di;for(let _0x2d19c9=-0x76*0xf+-0x220d*-0x1+-0x1b23;_0x2d19c9<_0x757b6c;_0x2d19c9++){const _0x589eae=_0x414e47['renderTarg'+'ets'][_0x2d19c9]['colorBuffe'+'r'];_0x589eae['minFilter']=vt,_0x589eae['magFilter']=vt,_0x47276b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x2d19c9],_0x589eae);}}}}}['bake'](_0x5c7661,_0x1327a4=jc){const _0x617c0e=this['device'],_0x43369b=de();this['scene']['_updateSky'+'Mesh'](),_0x617c0e['fire']('lightmappe'+'r:start',{'timestamp':_0x43369b,'target':this}),this['stats']['renderPass'+'es']=0xe*0x15a+-0xa*-0x3a4+-0x1baa*0x2,this['stats']['shadowMapT'+'ime']=-0xfe*-0x7+-0x1ee*-0x13+-0x2b9c,this['stats']['forwardTim'+'e']=-0x4*-0x381+-0x6f0+0x2*-0x38a;const _0x3e48b2=_0x617c0e['_shaderSta'+'ts']['linked'],_0x3d551e=_0x617c0e['_renderTar'+'getCreatio'+'nTime'],_0xef8e68=_0x617c0e['_shaderSta'+'ts']['compileTim'+'e'],_0x4a826a=[],_0x32ddaa=[];if(_0x5c7661){for(let _0x4e55f8=-0xa38+0x1855+-0x1*0xe1d;_0x4e55f8<_0x5c7661['length'];_0x4e55f8++)this['collectMod'+'els'](_0x5c7661[_0x4e55f8],_0x4a826a,null);this['collectMod'+'els'](this['root'],null,_0x32ddaa);}else this['collectMod'+'els'](this['root'],_0x4a826a,_0x32ddaa);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x4a826a['length']>-0x7f4*0x1+0x231+0x5c3){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x2e7b32=_0x1327a4===jc?0x1726+-0xcd+-0x13*0x12d:-0x13c7+-0x10a2*-0x1+-0x3e*-0xd;this['setLightma'+'pping'](_0x4a826a,!(0x9e7+0x22+0xd6*-0xc),_0x2e7b32),this['initBake'](_0x617c0e),this['bakeIntern'+'al'](_0x2e7b32,_0x4a826a,_0x32ddaa);let _0x347005=ou;_0x1327a4===jc&&(_0x347005|=uv),this['scene']['ambientBak'+'e']&&(_0x347005|=pv),this['setLightma'+'pping'](_0x4a826a,!(0x1*0x15fa+-0x1e52+-0x42c*-0x2),_0x2e7b32,_0x347005),this['finishBake'](_0x4a826a);}Q['popGpuMark'+'er'](this['device']);const _0x2012c4=de();this['stats']['totalRende'+'rTime']=_0x2012c4-_0x43369b,this['stats']['shadersLin'+'ked']=_0x617c0e['_shaderSta'+'ts']['linked']-_0x3e48b2,this['stats']['compileTim'+'e']=_0x617c0e['_shaderSta'+'ts']['compileTim'+'e']-_0xef8e68,this['stats']['fboTime']=_0x617c0e['_renderTar'+'getCreatio'+'nTime']-_0x3d551e,this['stats']['lightmapCo'+'unt']=_0x4a826a['length'],_0x617c0e['fire']('lightmappe'+'r:end',{'timestamp':_0x2012c4,'target':this});}['allocateTe'+'xtures'](_0x3c9632,_0x3bc4a2){for(let _0x4078ae=0x60d*-0x3+0x1f83+-0x3c*0x39;_0x4078ae<_0x3c9632['length'];_0x4078ae++){const _0x210b90=_0x3c9632[_0x4078ae],_0x3c83c2=this['calculateL'+'ightmapSiz'+'e'](_0x210b90['node']);for(let _0x3f7bf7=-0x157*-0x1+0x2361+-0x178*0x19;_0x3f7bf7<_0x3bc4a2;_0x3f7bf7++){const _0x3bc194=this['createText'+'ure'](_0x3c83c2,'lightmappe'+'r_lightmap'+'_'+_0x4078ae);zi['incRef'](_0x3bc194),_0x210b90['renderTarg'+'ets'][_0x3f7bf7]=new gt({'colorBuffer':_0x3bc194,'depth':!(-0x89*-0x4+0xd*-0x26+0x35*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0x3c83c2)){const _0x435d35=this['createText'+'ure'](_0x3c83c2,'lightmappe'+'r_temp_lig'+'htmap_'+_0x3c83c2);zi['incRef'](_0x435d35),this['renderTarg'+'ets']['set'](_0x3c83c2,new gt({'colorBuffer':_0x435d35,'depth':!(-0x2557+0x103c+0x151c)}));}}}['prepareLig'+'htsToBake'](_0x25ac15,_0x4f978e){if(this['scene']['ambientBak'+'e']){const _0x247f7c=new Mg(this);_0x4f978e['push'](_0x247f7c);}const _0x2d690e=this['renderer']['lights'];for(let _0x113389=0x1c1*0x11+-0x1f01+0x130;_0x113389<_0x2d690e['length'];_0x113389++){const _0xde8948=_0x2d690e[_0x113389],_0x281ecd=new sL(this,_0xde8948);_0x25ac15['push'](_0x281ecd),_0xde8948['enabled']&&(_0xde8948['mask']&fi)!==-0xb5*0x29+0x1405*0x1+0x1*0x8f8&&(_0xde8948['mask']=fi|di|Ss,_0xde8948['shadowUpda'+'teMode']=_0xde8948['type']===ve?lm:xr,_0x4f978e['push'](_0x281ecd));}_0x4f978e['sort']();}['restoreLig'+'hts'](_0x5123fe){for(let _0x5450f5=0x218c*-0x1+0x18fc+0x890;_0x5450f5<_0x5123fe['length'];_0x5450f5++)_0x5123fe[_0x5450f5]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x8*-0x4a9+0x4*0x8db+0x1dc,-0x124a+-0x5*0x73+0x1489,-0xfe9+0x26ad*-0x1+0x11*0x336),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x17e90c){const _0x57a673=new De();if(_0x17e90c['length']>0x94*0x22+-0x2026*0x1+0xc7e){_0x57a673['copy'](_0x17e90c[0x1a5+0x2492+-0x2637]['aabb']);for(let _0x4e08fd=0x7ef+-0x126b+-0x3*-0x37f;_0x4e08fd<_0x17e90c['length'];_0x4e08fd++)_0x57a673['add'](_0x17e90c[_0x4e08fd]['aabb']);}return _0x57a673;}['computeNod'+'esBounds'](_0x38f36c){for(let _0x1156fb=0x816+0x2a4+-0xaba;_0x1156fb<_0x38f36c['length'];_0x1156fb++){const _0x7b0f01=_0x38f36c[_0x1156fb]['meshInstan'+'ces'];_0x38f36c[_0x1156fb]['bounds']=this['computeNod'+'eBounds'](_0x7b0f01);}}['computeBou'+'nds'](_0x25f20a){const _0x5ca2f0=new De();for(let _0x44d8b2=-0x1281+-0x1322+0x25a3;_0x44d8b2<_0x25f20a['length'];_0x44d8b2++){_0x5ca2f0['copy'](_0x25f20a[-0x2*0xf01+0x2*-0x1ff+0x2200]['aabb']);for(let _0x340e36=0x894+-0xb27+-0x1*-0x294;_0x340e36<_0x25f20a['length'];_0x340e36++)_0x5ca2f0['add'](_0x25f20a[_0x340e36]['aabb']);}return _0x5ca2f0;}['backupMate'+'rials'](_0x2a1120){for(let _0x389ae0=0x7b*-0x29+0x94b+0xa68;_0x389ae0<_0x2a1120['length'];_0x389ae0++)this['materials'][_0x389ae0]=_0x2a1120[_0x389ae0]['material'];}['restoreMat'+'erials'](_0x12cbf0){for(let _0x4f0a8d=0x2577*-0x1+0x7*0xdf+0x1f5e;_0x4f0a8d<_0x12cbf0['length'];_0x4f0a8d++)_0x12cbf0[_0x4f0a8d]['material']=this['materials'][_0x4f0a8d];}['lightCamer'+'aPrepare'](_0x4188d2,_0x939f3b){const _0xe8afea=_0x939f3b['light'];let _0x48046c;return _0xe8afea['type']===Ze&&(_0x48046c=_0xe8afea['getRenderD'+'ata'](null,0x14d3+-0x5a4+0xf2f*-0x1)['shadowCame'+'ra'],_0x48046c['_node']['setPositio'+'n'](_0xe8afea['_node']['getPositio'+'n']()),_0x48046c['_node']['setRotatio'+'n'](_0xe8afea['_node']['getRotatio'+'n']()),_0x48046c['_node']['rotateLoca'+'l'](-(0x1*0xc6f+0x1d8d+-0x14d1*0x2),0x18cd+-0xd43+-0xb8a*0x1,-0x1fb1+0x2516+-0x565),_0x48046c['projection']=ni,_0x48046c['nearClip']=_0xe8afea['attenuatio'+'nEnd']/(0x1*0x358+0xcfa+-0xc6a),_0x48046c['farClip']=_0xe8afea['attenuatio'+'nEnd'],_0x48046c['aspectRati'+'o']=0x1a5e+0x3bd+0xf0d*-0x2,_0x48046c['fov']=_0xe8afea['_outerCone'+'Angle']*(0x2483+-0x1*0x1c6+-0x22bb),this['renderer']['updateCame'+'raFrustum'](_0x48046c)),_0x48046c;}['lightCamer'+'aPrepareAn'+'dCull'](_0x7f6b2e,_0x2fa6fc,_0x42612d,_0x5670ad){const _0x5059f7=_0x7f6b2e['light'];let _0x43bc87=!(-0xc*0x29d+0x5*0x2e3+-0x1*-0x10ed);if(_0x5059f7['type']===ve){xc['copy'](_0x5670ad['center']),xc['y']+=_0x5670ad['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x1229+0x36b*0x6+-0x1ff),-0x4ff+0xe*-0xb4+0xed7,-0x3b*0x97+-0x6d*0x5b+0x2*0x24c6),this['camera']['nearClip']=0x9*0x7f+-0x694+0x21d*0x1,this['camera']['farClip']=_0x5670ad['halfExtent'+'s']['y']*(-0x8cb+-0x3a*-0x4f+-0x919);const _0x3189f2=Math['max'](_0x5670ad['halfExtent'+'s']['x'],_0x5670ad['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x3189f2;}else _0x7f6b2e['lightBound'+'s']['intersects'](_0x2fa6fc['bounds'])||(_0x43bc87=!(0xe1*0x27+-0xd00*-0x2+-0x3c46));if(_0x5059f7['type']===Ze){let _0x1a4e8e=!(-0xc1b+-0x18c7+0x24e3);const _0xf230b6=_0x2fa6fc['meshInstan'+'ces'];for(let _0x96af3e=-0x35d*0x2+0x1826+-0xa*0x1be;_0x96af3e<_0xf230b6['length'];_0x96af3e++)if(_0xf230b6[_0x96af3e]['_isVisible'](_0x42612d)){_0x1a4e8e=!(0x227b*-0x1+0x2eb*-0x1+0x12b3*0x2);break;}_0x1a4e8e||(_0x43bc87=!(-0x557+0x965*0x3+-0x16d7));}return _0x43bc87;}['setupLight'+'Array'](_0x3d8152,_0x2bd092){_0x3d8152[ve]['length']=0x1d4b+-0x5bc*-0x3+-0x2e7f,_0x3d8152[Ke]['length']=0xfe0+-0x1cf9*0x1+0xd19,_0x3d8152[Ze]['length']=-0x43*-0x2+-0x1d46+0x1cc0,_0x3d8152[_0x2bd092['type']][0xba5+0x2107+-0x2cac]=_0x2bd092,_0x2bd092['visibleThi'+'sFrame']=!(-0x1a9a+-0xeb*0x11+-0x2a35*-0x1);}['renderShad'+'owMap'](_0x859b1d,_0x57fc6,_0x33792a,_0x1e2a4f){const _0x22ac79=_0x1e2a4f['light'],_0x25e2ab=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x56d61d=_0x22ac79['castShadow'+'s']&&(!_0x25e2ab||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x57fc6&&_0x56d61d){if(!_0x22ac79['shadowMap']&&!_0x25e2ab&&(_0x22ac79['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x22ac79)),_0x22ac79['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x22ac79,_0x859b1d,this['camera'],_0x33792a);const _0x4e48ab=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x22ac79,this['camera']);_0x4e48ab==null||_0x4e48ab['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x19f9+-0x1cf5+0x2fc);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x22ac79,_0x859b1d,_0x33792a),this['renderer']['shadowRend'+'erer']['render'](_0x22ac79,this['camera'],!(-0x5*0x136+0x47*-0x19+-0x2*-0x67f));}}return!(-0x1b*-0x144+-0x2705*0x1+0x4d9);}['postproces'+'sTextures'](_0x293b6a,_0x57d571,_0x4b334c){const _0x3584e5=this['lightmapFi'+'lters']['getDilate'](_0x293b6a,this['bakeHDR']);let _0x1cbb17;const _0x2e9d69=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x2e9d69&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x1cbb17=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x293b6a['setBlendSt'+'ate'](pt['NOBLEND']),_0x293b6a['setDepthSt'+'ate'](Yt['NODEPTH']),_0x293b6a['setStencil'+'State'](null,null);for(let _0x3dc02b=0x9e3*-0x1+-0x2*-0x133+0x77d;_0x3dc02b<_0x57d571['length'];_0x3dc02b++){const _0xb4f2c3=_0x57d571[_0x3dc02b];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x3dc02b);for(let _0x57c48f=0x14fd+-0x2*-0x32b+0x5*-0x577;_0x57c48f<_0x4b334c;_0x57c48f++){const _0x50caee=_0xb4f2c3['renderTarg'+'ets'][_0x57c48f],_0x14252e=_0x50caee['colorBuffe'+'r'],_0x5d5556=this['renderTarg'+'ets']['get'](_0x14252e['width']),_0x3c3927=_0x5d5556['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x14252e['width'],_0x14252e['height']);for(let _0x2b4d73=-0x1f83+-0x1d01+0x3c84;_0x2b4d73<0x1*-0x547+0x1*0x17aa+-0xd*0x16a;_0x2b4d73++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x14252e),Ar(_0x293b6a,_0x5d5556,_0x2e9d69&&_0x57c48f===-0x1*-0x247d+0x1a5*-0x5+-0x1c44&&_0x2b4d73===-0x24*0xa6+0xba6+-0x3e6*-0x3?_0x1cbb17:_0x3584e5),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3c3927),Ar(_0x293b6a,_0x50caee,_0x3584e5);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x47c40c,_0x1da6ee,_0x19f851){const _0x34148a=this['scene'],_0x59406c=_0x34148a['layers'],_0x33cb07=this['device'],_0x5c4f94=_0x34148a['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x33cb07,_0x34148a,_0x47c40c),this['setupScene'](),_0x59406c['_update'](),this['computeNod'+'esBounds'](_0x1da6ee),this['allocateTe'+'xtures'](_0x1da6ee,_0x47c40c),this['renderer']['collectLig'+'hts'](_0x59406c);const _0x4889c8=[],_0x3a572f=[];this['prepareLig'+'htsToBake'](_0x4889c8,_0x3a572f),this['updateTran'+'sforms'](_0x19f851);const _0x1911fd=this['prepareSha'+'dowCasters'](_0x19f851);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x1911fd),this['renderer']['gpuUpdate'](_0x1911fd);const _0x5c3ca3=this['computeBou'+'nds'](_0x1911fd);let _0x849bc9,_0x1d8e76,_0x1e5422,_0x8f64d0;for(_0x849bc9=0x14b7+-0xa75+0xca*-0xd;_0x849bc9<_0x1da6ee['length'];_0x849bc9++)for(_0x1e5422=_0x1da6ee[_0x849bc9]['meshInstan'+'ces'],_0x1d8e76=-0x25ba*-0x1+0x1f5a+-0x4514;_0x1d8e76<_0x1e5422['length'];_0x1d8e76++)_0x8f64d0=_0x1e5422[_0x1d8e76],_0x8f64d0['setLightma'+'pped'](!(0x16dd+-0xb3*-0x19+0x1c1*-0x17)),_0x8f64d0['mask']=fi,_0x8f64d0['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x24d5+-0x1a84+0x3f59],this['blackTex']),_0x8f64d0['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x33*-0x6e+-0x10b1+-0x538],this['blackTex']);for(_0x1d8e76=0x2509+0x7bf+-0x4*0xb32;_0x1d8e76<_0x3a572f['length'];_0x1d8e76++)_0x3a572f[_0x1d8e76]['light']['enabled']=!(0x17eb+0x19f1+-0x31db);const _0x1eabaf=[[],[],[]];let _0x5a9a0f,_0x5e2454,_0x2ed730=!(0xde1+0x1d88+-0xe78*0x3);for(_0x849bc9=0x3*0x9d1+-0x1*-0xfad+-0x2d20;_0x849bc9<_0x3a572f['length'];_0x849bc9++){const _0x58ff64=_0x3a572f[_0x849bc9],_0x59b1e2=_0x58ff64 instanceof Mg,_0x3a8a6c=_0x58ff64['light']['type']===ve;let _0x15b9d2=_0x58ff64['numVirtual'+'Lights'];_0x47c40c>0x4*-0x7a3+-0x1309+-0xb*-0x482&&_0x15b9d2>0x1bb6*-0x1+0x1*-0x10b9+0x2c70&&_0x58ff64['light']['bakeDir']&&(_0x15b9d2=0x1*-0x11a8+0x1*0x1d2b+0x6*-0x1eb,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x556aa5=0x14ed+-0x1c*0x8b+0x5*-0x125;_0x556aa5<_0x15b9d2;_0x556aa5++){Q['pushGpuMar'+'ker'](_0x33cb07,'Light:'+_0x58ff64['light']['_node']['name']+':'+_0x556aa5),_0x15b9d2>-0x8af+0x547+0x369&&_0x58ff64['prepareVir'+'tualLight'](_0x556aa5,_0x15b9d2),_0x58ff64['startBake']();let _0x570e46=!(0xcb6+-0x57*0x45+0xabe);const _0x1b0df0=this['lightCamer'+'aPrepare'](_0x33cb07,_0x58ff64);for(_0x5e2454=-0x1747+0x4*-0x123+0x1bd3;_0x5e2454<_0x1da6ee['length'];_0x5e2454++){const _0x3d3346=_0x1da6ee[_0x5e2454];if(_0x1e5422=_0x3d3346['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x58ff64,_0x3d3346,_0x1b0df0,_0x5c3ca3))continue;this['setupLight'+'Array'](_0x1eabaf,_0x58ff64['light']);const _0x8d884=_0x3a8a6c?[]:[_0x58ff64['light']];for(_0x5c4f94&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x8d884,this['lightingPa'+'rams']),_0x570e46=this['renderShad'+'owMap'](_0x59406c,_0x570e46,_0x1911fd,_0x58ff64),_0x5c4f94&&this['worldClust'+'ers']['update'](_0x8d884,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x1e5422),_0x5a9a0f=-0x150d+-0xaa9*-0x3+-0xaee;_0x5a9a0f<_0x47c40c&&!(_0x5a9a0f>0x1322+-0x33*0x45+0x563*-0x1&&_0x556aa5>0x19ac+0x1*0x49e+-0x1e4a||_0x59b1e2&&_0x5a9a0f>-0x1072*0x2+-0x1e07+0x5b*0xb1);_0x5a9a0f++){Q['pushGpuMar'+'ker'](_0x33cb07,'LMPass:'+_0x5a9a0f);const _0x3d5ae7=_0x3d3346['renderTarg'+'ets'][_0x5a9a0f],_0x48e8e9=_0x3d3346['renderTarg'+'ets'][_0x5a9a0f]['colorBuffe'+'r']['width'],_0xdabaec=this['renderTarg'+'ets']['get'](_0x48e8e9),_0x2394b8=_0xdabaec['colorBuffe'+'r'];_0x5a9a0f===-0x23b5+0x7+0x1*0x23ae?_0x2ed730=_0x34148a['updateShad'+'ers']:_0x2ed730&&(_0x34148a['updateShad'+'ers']=!(0x295+-0x1d2c+0x1*0x1a97));let _0x38c772=this['passMateri'+'als'][_0x5a9a0f];for(_0x59b1e2&&_0x556aa5+(0x3*-0x12d+-0xad7+-0xe5f*-0x1)===_0x15b9d2&&_0x5a9a0f===0x1508*-0x1+-0x22c7+0xd*0x44b&&(_0x38c772=this['ambientAOM'+'aterial']),_0x1d8e76=-0x770+-0x1cdb+-0x13*-0x1e9;_0x1d8e76<_0x1e5422['length'];_0x1d8e76++)_0x1e5422[_0x1d8e76]['material']=_0x38c772;if(this['renderer']['updateShad'+'ers'](_0x1e5422),_0x5a9a0f===uL&&this['constantBa'+'keDir']['setValue'](_0x58ff64['light']['bakeDir']?0x133*0x1e+0x1*-0x18d9+-0xb20:0x26c5+-0x55*0x3b+0x132e*-0x1),_0x33cb07['isWebGPU']){const _0x2c9f5f=new hL(_0x33cb07,this['renderer'],this['camera'],_0x5c4f94?this['worldClust'+'ers']:null,_0x1e5422,_0x1eabaf);_0x2c9f5f['init'](_0xdabaec),_0x2c9f5f['render'](),_0x2c9f5f['destroy']();}else this['renderer']['setCamera'](this['camera'],_0xdabaec,!(0x164a+-0x9*-0x209+-0x289b)),_0x5c4f94&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0xf*0x1e5+0x1d48+-0x39b3,this['renderer']['_shadowMap'+'Time']=0x1e31+-0x1b92+-0x29f*0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0xdabaec,_0x1e5422,_0x1eabaf,Aa),_0x33cb07['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x3d3346['renderTarg'+'ets'][_0x5a9a0f]=_0xdabaec,this['renderTarg'+'ets']['set'](_0x48e8e9,_0x3d5ae7),_0x1d8e76=0x795+0x182d+0x5*-0x65a;_0x1d8e76<_0x1e5422['length'];_0x1d8e76++)_0x8f64d0=_0x1e5422[_0x1d8e76],_0x8f64d0['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x5a9a0f],_0x2394b8),_0x8f64d0['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x33cb07);}this['restoreMat'+'erials'](_0x1e5422);}_0x58ff64['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x33cb07);}}for(this['postproces'+'sTextures'](_0x33cb07,_0x1da6ee,_0x47c40c),_0x5e2454=0xd9*-0x1d+-0xb*-0x1af+0x610;_0x5e2454<_0x19f851['length'];_0x5e2454++)_0x19f851[_0x5e2454]['restore']();this['restoreLig'+'hts'](_0x4889c8),this['restoreSce'+'ne'](),_0x5c4f94||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x5ebcaa,_0x3ffb94){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x5ebcaa,this['entity']=_0x3ffb94,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x26eee2,_0x25af4e,_0x51aafe){this['fire']('set_'+_0x26eee2,_0x26eee2,_0x25af4e,_0x51aafe);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x5aa922,_0x179e8a){_0x179e8a['forEach'](_0x1938f4=>{const _0x4ec0f6=typeof _0x1938f4=='object'?_0x1938f4['name']:_0x1938f4;Object['defineProp'+'erty'](_0x5aa922,_0x4ec0f6,{'get':function(){return this['data'][_0x4ec0f6];},'set':function(_0x755e9f){const _0x4c8180=this['data'],_0x5490cc=_0x4c8180[_0x4ec0f6];_0x4c8180[_0x4ec0f6]=_0x755e9f,this['fire']('set',_0x4ec0f6,_0x5490cc,_0x755e9f);},'configurable':!(-0x53f*0x7+-0x2123+0x45dc)});}),_0x5aa922['_accessors'+'Built']=!(-0x4*-0x266+0x1569+-0x1f01);}['buildAcces'+'sors'](_0x1a3cfa){Wh['_buildAcce'+'ssors'](this,_0x1a3cfa);}['onSetEnabl'+'ed'](_0x9fed44,_0x5f563f,_0x4bc021){_0x5f563f!==_0x4bc021&&this['entity']['enabled']&&(_0x4bc021?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x509afa=this['system']['store'][this['entity']['getGuid']()];return _0x509afa?_0x509afa['data']:null;}set['enabled'](_0x36d756){}get['enabled'](){return!(0x1*0x1bed+0x35*-0x31+-0x11c8);}};h(Wh,'order',-0x9a9*0x4+0x1*0x2109+0x59b);let we=Wh;class ct extends me{constructor(_0x3e4fac){super(),this['app']=_0x3e4fac,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x2fbec8,_0x1efd46={}){const _0x8a5040=new this['ComponentT'+'ype'](this,_0x2fbec8),_0x1cac3c=new this['DataType']();return this['store'][_0x2fbec8['getGuid']()]={'entity':_0x2fbec8,'data':_0x1cac3c},_0x2fbec8[this['id']]=_0x8a5040,_0x2fbec8['c'][this['id']]=_0x8a5040,this['initialize'+'ComponentD'+'ata'](_0x8a5040,_0x1efd46,[]),this['fire']('add',_0x2fbec8,_0x8a5040),_0x8a5040;}['removeComp'+'onent'](_0xc009c5){const _0x26dca4=this['id'],_0x2e72f0=this['store'][_0xc009c5['getGuid']()],_0x23ddb1=_0xc009c5['c'][_0x26dca4];_0x23ddb1['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0xc009c5,_0x23ddb1),delete this['store'][_0xc009c5['getGuid']()],_0xc009c5[_0x26dca4]=void(0x352+-0x1f45*-0x1+-0x2297*0x1),delete _0xc009c5['c'][_0x26dca4],this['fire']('remove',_0xc009c5,_0x2e72f0['data']);}['cloneCompo'+'nent'](_0x1386c8,_0x3db5fa){const _0x648539=this['store'][_0x1386c8['getGuid']()];return this['addCompone'+'nt'](_0x3db5fa,_0x648539['data']);}['initialize'+'ComponentD'+'ata'](_0x5818c7,_0x52b3b4={},_0xea8c0){for(let _0x4c718e=-0x32e+0x1a99+-0x176b,_0x1f5911=_0xea8c0['length'];_0x4c718e<_0x1f5911;_0x4c718e++){const _0x21cc7c=_0xea8c0[_0x4c718e];let _0x419df0,_0xd61389;typeof _0x21cc7c=='object'?(_0x419df0=_0x21cc7c['name'],_0xd61389=_0x21cc7c['type']):(_0x419df0=_0x21cc7c,_0xd61389=void(-0x23b*0x8+-0xcbc+-0x26*-0xce));let _0x5c256e=_0x52b3b4[_0x419df0];_0x5c256e!==void(0x4*0x35+0x91f+-0x9f3)?(_0xd61389!==void(0x260*0x2+-0x183c+0x3a*0x56)&&(_0x5c256e=mL(_0x5c256e,_0xd61389)),_0x5818c7[_0x419df0]=_0x5c256e):_0x5818c7[_0x419df0]=_0x5818c7['data'][_0x419df0];}_0x5818c7['enabled']&&_0x5818c7['entity']['enabled']&&_0x5818c7['onEnable']();}['getPropert'+'iesOfType'](_0x31bc84){const _0x204661=[];return(this['schema']||[])['forEach'](_0x591973=>{_0x591973&&typeof _0x591973=='object'&&_0x591973['type']===_0x31bc84&&_0x204661['push'](_0x591973);}),_0x204661;}['destroy'](){this['off']();}}function mL(_0x44ec74,_0x3aadcf){if(!_0x44ec74)return _0x44ec74;switch(_0x3aadcf){case'rgb':return _0x44ec74 instanceof ie?_0x44ec74['clone']():new ie(_0x44ec74[0x26b8+0x417+-0x2acf],_0x44ec74[-0x16f*0x10+0x3b*0x11+-0x2*-0x983],_0x44ec74[-0x1d01+-0x72c+0x242f]);case'rgba':return _0x44ec74 instanceof ie?_0x44ec74['clone']():new ie(_0x44ec74[0xa13+0x5*0x203+-0x1422*0x1],_0x44ec74[-0x1b76+-0x2*0xed1+0x3919],_0x44ec74[-0x21cd+-0x28e*0x2+0x26eb],_0x44ec74[0x2a5*-0xb+0xb91+0x1189]);case'vec2':return _0x44ec74 instanceof J?_0x44ec74['clone']():new J(_0x44ec74[-0x9*-0x445+-0x13e1+0x2*-0x946],_0x44ec74[0x1420+0xd17+-0x2136]);case'vec3':return _0x44ec74 instanceof D?_0x44ec74['clone']():new D(_0x44ec74[-0x21bb+-0x547*0x7+0x46ac],_0x44ec74[-0x24*-0x19+0xaca+-0xe4d],_0x44ec74[0xd17*0x1+0x4b7+-0x11cc]);case'vec4':return _0x44ec74 instanceof re?_0x44ec74['clone']():new re(_0x44ec74[-0x1734+0x3*-0xb15+0x3873],_0x44ec74[-0x1*0xe9b+-0x1d+-0xeb9*-0x1],_0x44ec74[0x18c5+-0x821+-0x10a2],_0x44ec74[-0x20c7+-0x11c7+0x3291*0x1]);case'boolean':case'number':case'string':return _0x44ec74;case'entity':return _0x44ec74;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3aadcf);}}const Bv=-0x1acd*0x1+0x61*-0x26+0x2933,Su=-0xaf9*0x1+-0x178+0xc72,yu=0x1f6b+-0x1488+-0x22d*0x5;class _L{constructor(){this['_left']=(0x22a6+0x1*-0x1b37+-0x27a*0x3)/(-0xa+-0x22a1+-0x6ef*-0x5),this['_right']=-(-0x4b1+0x1*-0x2123+0xd*0x2e9)/(-0x9b8*-0x3+0x1a58+0x250*-0x18),this['_len']=-0x7*0x2dc+0x64f+0xdb5,this['_recip']=0x3b*-0x22+0x2bc+-0x2*-0x28d,this['_p0']=0x13ec+0x76+-0x2*0xa31,this['_p1']=0x5*0x431+-0x1889*0x1+-0x1*-0x394,this['_t']=-0xaba+-0x326+0x250*0x6,this['_hermite']={'valid':!(0x24e5+0xe31+0x5ad*-0x9),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x53e90d,_0xdd09c8){if(_0x53e90d<this['_left']||_0x53e90d>=this['_right']){const _0x3347b6=_0xdd09c8['length'];if(!_0x3347b6)this['_left']=-(0x1154+-0x1773+-0x38*-0x1c)/(0x5*-0x2b9+0xcda*0x1+0xc3),this['_right']=(-0x4c2+-0x131f+-0x6*-0x3fb)/(-0x2*-0x8eb+0xb02+-0x1cd8),this['_len']=-0x11c7+-0x23ae+0x73*0x77,this['_recip']=0xbff+0x152b*0x1+-0x212a,this['_p0']=this['_p1']=-0xa07+0x1901+0xefa*-0x1;else{if(_0x53e90d<_0xdd09c8[0x1542+0xd*-0x9d+-0xd49])this['_left']=-(-0x166*0xd+-0x118d*0x2+0x3549)/(0xb6b*0x1+0x964+-0x14cf),this['_right']=_0xdd09c8[0x1*-0x1af+0x10a3+-0xef4],this['_len']=0x12c4+0x7*0x2e7+0xf*-0x29b,this['_recip']=-0x1fd*-0xf+0x223c+-0x400f,this['_p0']=this['_p1']=-0x1de+0x6d5+-0x4f7;else{if(_0x53e90d>=_0xdd09c8[_0x3347b6-(-0x63+0x784+-0x13*0x60)])this['_left']=_0xdd09c8[_0x3347b6-(0x304+-0x1*-0x607+-0xd*0xb2)],this['_right']=(0x19d2+-0x11*0x23d+0x30f*0x4)/(0x982*-0x4+0x69*0x51+0x4cf),this['_len']=-0x188f+0xfcb+-0x6*-0x176,this['_recip']=0x6a*0x5+-0x8cb+-0x1*-0x6b9,this['_p0']=this['_p1']=_0x3347b6-(0x10*0x217+-0x5*-0xe9+-0x25fc);else{const _0x2497f4=this['_findKey'](_0x53e90d,_0xdd09c8);this['_left']=_0xdd09c8[_0x2497f4],this['_right']=_0xdd09c8[_0x2497f4+(-0x889*0x3+-0x79*-0x19+0x1*0xdcb)],this['_len']=this['_right']-this['_left'];const _0x73ad3e=(0x21eb+-0x4eb*-0x6+0x6*-0xa92)/this['_len'];this['_recip']=isFinite(_0x73ad3e)?_0x73ad3e:-0x18af+0xf*-0xd9+-0x2*-0x12b3,this['_p0']=_0x2497f4,this['_p1']=_0x2497f4+(0xf48+-0xbc6+0x17*-0x27);}}}}this['_t']=this['_recip']===-0xb89*0x2+-0x57f+0x1c91?-0x19d7+0xdee*-0x2+0x35b3:(_0x53e90d-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x23*-0x53+-0x9*0x21f+-0x7bf*-0x1);}['_findKey'](_0x2b5fb4,_0x3827b2){let _0x12d25b=-0x16af+0x1a*-0x135+-0x3611*-0x1;for(;_0x2b5fb4>=_0x3827b2[_0x12d25b+(0x8cc+-0x28e*0x5+0x3fb)];)_0x12d25b++;return _0x12d25b;}['eval'](_0x6acf50,_0x7ff494,_0x68c668){const _0x5a41ba=_0x68c668['_data'],_0x30d87c=_0x68c668['_component'+'s'],_0x19ab1f=this['_p0']*_0x30d87c;if(_0x7ff494===Bv){for(let _0x444144=-0x217*0x7+0x3e*0x11+0xa83;_0x444144<_0x30d87c;++_0x444144)_0x6acf50[_0x444144]=_0x5a41ba[_0x19ab1f+_0x444144];}else{const _0x22a863=this['_t'],_0x3af579=this['_p1']*_0x30d87c;switch(_0x7ff494){case Su:for(let _0x54b2e9=-0x231*0x11+0x705*-0x1+0x6*0x761;_0x54b2e9<_0x30d87c;++_0x54b2e9)_0x6acf50[_0x54b2e9]=Y['lerp'](_0x5a41ba[_0x19ab1f+_0x54b2e9],_0x5a41ba[_0x3af579+_0x54b2e9],_0x22a863);break;case yu:{const _0x4b33ef=this['_hermite'];if(!_0x4b33ef['valid']){const _0x7967a1=_0x22a863*_0x22a863,_0x4cb6c1=_0x22a863+_0x22a863,_0x257244=0x60b+-0x498*0x7+0x1a1e-_0x22a863,_0x1cd1d3=_0x257244*_0x257244;_0x4b33ef['valid']=!(-0x1363+0xb*-0x2cf+-0xc92*-0x4),_0x4b33ef['p0']=(-0x1770+0x8*0x2a6+0x241+_0x4cb6c1)*_0x1cd1d3,_0x4b33ef['m0']=_0x22a863*_0x1cd1d3,_0x4b33ef['p1']=_0x7967a1*(0x6b*-0x4e+0x1*0xafd+0x15a0-_0x4cb6c1),_0x4b33ef['m1']=_0x7967a1*(_0x22a863-(0x1*0x13f0+0x136a+0x59f*-0x7));}const _0xc71f4d=(this['_p0']*(-0x2632+-0x18be+0x5b9*0xb)+(-0x1750+-0x13c0+0x2b11))*_0x30d87c,_0xa48ef5=(this['_p0']*(0x1c33+-0x4d5+-0x175b)+(-0xf*0x229+-0x24a9+0x4512))*_0x30d87c,_0x354c56=(this['_p1']*(-0x98*-0x25+0x148f+-0x2a84)+(-0x175*0xd+0xb*0x329+-0xfd1*0x1))*_0x30d87c,_0x468022=(this['_p1']*(0x2130+-0x40a+0x1d23*-0x1)+(0x1*0x23c3+-0x13f8+0xd*-0x137))*_0x30d87c;for(let _0xe2763=0x1*-0x24cd+-0x9d5+0x1751*0x2;_0xe2763<_0x30d87c;++_0xe2763)_0x6acf50[_0xe2763]=_0x4b33ef['p0']*_0x5a41ba[_0xc71f4d+_0xe2763]+_0x4b33ef['m0']*_0x5a41ba[_0xa48ef5+_0xe2763]*this['_len']+_0x4b33ef['p1']*_0x5a41ba[_0x354c56+_0xe2763]+_0x4b33ef['m1']*_0x5a41ba[_0x468022+_0xe2763]*this['_len'];break;}}}}}class Ig{constructor(_0xa75dd8){this['_name']=_0xa75dd8['name']+'Snapshot',this['_time']=-(-0x18*0x56+0x1*-0x18d+0x99e),this['_cache']=[],this['_results']=[];for(let _0x553090=-0xf37+-0x105e*-0x1+-0x127;_0x553090<_0xa75dd8['_inputs']['length'];++_0x553090)this['_cache'][_0x553090]=new _L();const _0x3f25bb=_0xa75dd8['_curves'],_0x356db6=_0xa75dd8['_outputs'];for(let _0x5e4183=0x3*-0x481+-0x1*-0x5a9+0xc9*0xa;_0x5e4183<_0x3f25bb['length'];++_0x5e4183){const _0x5f3add=_0x3f25bb[_0x5e4183],_0x1e7764=_0x356db6[_0x5f3add['_output']],_0x265f5b=[];for(let _0x463c81=0x19b*-0xd+0x6*0x246+-0x269*-0x3;_0x463c81<_0x1e7764['_component'+'s'];++_0x463c81)_0x265f5b[_0x463c81]=-0x178*0x4+0x49b+-0x1*-0x145;this['_results'][_0x5e4183]=_0x265f5b;}}}const qo=class qo{constructor(_0x1a0765,_0x267f46,_0x527579,_0x3e5535,_0x348f21,_0x4e3d4d){this['_name']=_0x1a0765['name'],this['_track']=_0x1a0765,this['_snapshot']=new Ig(_0x1a0765),this['_playing']=_0x3e5535,this['_time']=_0x267f46,this['_speed']=_0x527579,this['_loop']=_0x348f21,this['_blendWeig'+'ht']=-0x3c7*0x1+-0x9f*-0x17+0xa81*-0x1,this['_blendOrde'+'r']=-0x5*0x116+-0x1f73+0x1*0x24e1,this['_eventHand'+'ler']=_0x4e3d4d,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x3a9aa7){this['_name']=_0x3a9aa7;}get['name'](){return this['_name'];}set['track'](_0x4126f6){this['_track']=_0x4126f6,this['_snapshot']=new Ig(_0x4126f6);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x2129bf){this['_time']=_0x2129bf,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x5ace32){const _0x3626d8=Math['sign'](_0x5ace32)!==Math['sign'](this['_speed']);this['_speed']=_0x5ace32,_0x3626d8&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x4f6f2c){this['_loop']=_0x4f6f2c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x2526cc){this['_blendWeig'+'ht']=_0x2526cc;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x27baf2){this['_blendOrde'+'r']=_0x27baf2;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x318992){this['_eventCurs'+'or']=_0x318992;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x1789+0x26*0xf3+-0x1*0xc89:this['_track']['events']['length']-(-0x3*-0x386+0x978+-0x1409);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x10fd*-0x1+0x1*-0x1b1e+0xa21;}['nextEventA'+'headOfTime'](_0x27da89){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x27da89:this['nextEvent']['time']>=_0x27da89:!(-0x8b*0x25+0x2017+0xbff*-0x1);}['nextEventB'+'ehindTime'](_0x12ed40){return this['nextEvent']?_0x12ed40===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x12ed40:this['nextEvent']['time']<=_0x12ed40:this['isReverse']?this['nextEvent']['time']>_0x12ed40:this['nextEvent']['time']<_0x12ed40:!(0x265f+-0xbf1*0x1+0xcd*-0x21);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1*-0x25cd+-0x2*0xf7a+0x1b6*-0x4):0x26*-0x5+-0x8c2+0x98*0x10;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x6f1+0x1*-0x13d+-0x5b3):0x4c7+-0x41d+-0x1*0xa9,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0xcc6+-0x1146+0x1e0c:this['_eventCurs'+'or']<0x6b*0x25+-0x11*0x52+-0xa05&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0xdf0+0x16dc+0x24cb*-0x1));}['clipFrameT'+'ime'](_0x6cfee1){const _0x4aa37d=qo['eventFrame'];_0x4aa37d['start']=-0x1d53+0x5*0x59a+0x151,_0x4aa37d['end']=_0x6cfee1,_0x4aa37d['residual']=-0x2659+-0xae+0x2707,this['isReverse']?_0x6cfee1<0x1473+-0x5*-0x679+-0x34d0&&(_0x4aa37d['start']=this['track']['duration'],_0x4aa37d['end']=-0x7*0x2df+-0x11c7+0x25e0,_0x4aa37d['residual']=_0x6cfee1+this['track']['duration']):_0x6cfee1>this['track']['duration']&&(_0x4aa37d['start']=-0x1d84+-0xa77*-0x3+-0x1e1,_0x4aa37d['end']=this['track']['duration'],_0x4aa37d['residual']=_0x6cfee1-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x1e23f5,_0x2eaf70){return this['nextEventA'+'headOfTime'](_0x1e23f5)&&this['nextEventB'+'ehindTime'](_0x2eaf70)?(this['fireNextEv'+'ent'](),!(0x1*-0x85a+-0x4bb+-0x11*-0xc5)):!(-0xf7e*-0x1+-0x1*-0x1dc3+-0x2d40);}['activeEven'+'tsForFrame'](_0x17777a,_0x29b44b){const _0x4574af=qo['eventFrame'];this['clipFrameT'+'ime'](_0x29b44b);const _0x420058=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x17777a,_0x4574af['end'])&&_0x420058!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x4574af['residual'])>-0x35*-0x1+-0x18ae+0x7*0x37f&&this['activeEven'+'tsForFrame'](_0x4574af['start'],_0x4574af['residual']);}['progressFo'+'rTime'](_0x1e7534){return _0x1e7534*this['_speed']/this['_track']['duration'];}['_update'](_0x2301a1){if(this['_playing']){let _0x20bc31=this['_time'];const _0x4ffbe3=this['_track']['duration'],_0x4e0864=this['_speed'],_0x424b46=this['_loop'];this['_track']['events']['length']>0x23bd+0x20fc+-0x44b9&&_0x4ffbe3>-0x150a+-0x20f*-0x11+0x9*-0x18d&&this['activeEven'+'tsForFrame'](_0x20bc31,_0x20bc31+_0x4e0864*_0x2301a1),_0x20bc31+=_0x4e0864*_0x2301a1,_0x4e0864>=-0x204*-0x4+0xeb9*-0x1+0x6a9?_0x20bc31>_0x4ffbe3&&(_0x424b46?_0x20bc31=_0x20bc31%_0x4ffbe3||-0x11*-0x1cd+0x13cd+-0x9*0x59a:(_0x20bc31=this['_track']['duration'],this['pause']())):_0x20bc31<0x79*0x3d+-0x1cc5+0x8*-0x2&&(_0x424b46?_0x20bc31=_0x4ffbe3+(_0x20bc31%_0x4ffbe3||-0x39b+-0x234b+0x1373*0x2):(_0x20bc31=-0x1a6a+-0x351*0x2+0x2d*0xbc,this['pause']())),this['_time']=_0x20bc31;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x4*-0x1a+-0x1e2*-0x12+-0x1*0x217c),this['_time']=0x25d7+0xaae*0x1+-0x3085*0x1;}['stop'](){this['_playing']=!(0x5*0x2c1+-0x3*0xa8f+-0x23*-0x83),this['_time']=0x2653*0x1+-0x35*0xb3+-0x24*0x9;}['pause'](){this['_playing']=!(-0x241*0x2+-0xe59*0x1+-0x1*-0x12dc);}['resume'](){this['_playing']=!(-0xafa*0x3+0x150b+-0xb3*-0x11);}['reset'](){this['_time']=0x21*0xdd+-0x935*-0x4+-0x4151;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x26a973,_0x2d996f){const _0x1f1b30=_0x26a973['length'];let _0x3160e1=0x7fb+0xd37+-0x1532;for(let _0x5141a0=0x1*0x2702+-0x183e+-0x2d*0x54;_0x5141a0<_0x1f1b30;++_0x5141a0)_0x3160e1+=_0x26a973[_0x5141a0]*_0x2d996f[_0x5141a0];return _0x3160e1;}static['normalize'](_0x559228){let _0x5d8cef=Ht['dot'](_0x559228,_0x559228);if(_0x5d8cef>-0x9*0x22+0x198+0x22*-0x3){_0x5d8cef=(-0x1b31+0xc0a+0xf28)/Math['sqrt'](_0x5d8cef);const _0x21f2fd=_0x559228['length'];for(let _0x57cb17=0x23f1+-0x1*0x202d+-0x3c4;_0x57cb17<_0x21f2fd;++_0x57cb17)_0x559228[_0x57cb17]*=_0x5d8cef;}}static['set'](_0x393bea,_0x3da590,_0x570e63){const _0x5d83e9=_0x393bea['length'];if(_0x570e63==='quaternion'){let _0x45e8d3=Ht['dot'](_0x3da590,_0x3da590);_0x45e8d3>-0x1*-0xd8d+0x1ea7*-0x1+-0x18e*-0xb&&(_0x45e8d3=(0x18ff+0x30+-0x192e*0x1)/Math['sqrt'](_0x45e8d3));for(let _0x56dbed=-0x119b+-0x1c*0x11+0x1c5*0xb;_0x56dbed<_0x5d83e9;++_0x56dbed)_0x393bea[_0x56dbed]=_0x3da590[_0x56dbed]*_0x45e8d3;}else{for(let _0x361499=0x1f75+0x2599+0x450e*-0x1;_0x361499<_0x5d83e9;++_0x361499)_0x393bea[_0x361499]=_0x3da590[_0x361499];}}static['blendVec'](_0x16747c,_0x52b39f,_0x328488,_0x5e05bc){const _0x5ee495=_0x5e05bc?-0x29*0x61+0x1591+0x607*-0x1:-0x119c+0x1ab3+0x2*-0x48b-_0x328488,_0x15be30=_0x16747c['length'];for(let _0x4fe1d5=-0x2309*0x1+-0x26*-0x1f+0x1e6f;_0x4fe1d5<_0x15be30;++_0x4fe1d5)_0x16747c[_0x4fe1d5]=_0x16747c[_0x4fe1d5]*_0x5ee495+_0x52b39f[_0x4fe1d5]*_0x328488;}static['blendQuat'](_0x2f13ca,_0x1a888d,_0x23751d,_0x3bd62c){const _0x53dce0=_0x2f13ca['length'],_0x1110ee=_0x3bd62c?0xc0+-0x10a5*0x2+0x208b:-0xb*-0x1eb+-0xe0f+-0x1*0x709-_0x23751d;Ht['dot'](_0x2f13ca,_0x1a888d)<0x39*0x8e+0xcc1+-0x2c5f&&(_0x23751d=-_0x23751d);for(let _0x4ad80a=0x1ef9+-0x4df+0x1a*-0x101;_0x4ad80a<_0x53dce0;++_0x4ad80a)_0x2f13ca[_0x4ad80a]=_0x2f13ca[_0x4ad80a]*_0x1110ee+_0x1a888d[_0x4ad80a]*_0x23751d;_0x3bd62c||Ht['normalize'](_0x2f13ca);}static['blend'](_0x51f9d0,_0x20042a,_0x16c1ce,_0x385d97,_0xec07c5){_0x385d97==='quaternion'?Ht['blendQuat'](_0x51f9d0,_0x20042a,_0x16c1ce,_0xec07c5):Ht['blendVec'](_0x51f9d0,_0x20042a,_0x16c1ce,_0xec07c5);}static['stableSort'](_0xf71214,_0x507b4b){const _0x3499de=_0xf71214['length'];for(let _0x5ca827=0x7*0x37+-0xa43*0x2+0x1305;_0x5ca827<_0x3499de-(0xc57+-0x4*0x80d+0x13de);++_0x5ca827)for(let _0x54b94f=_0x5ca827+(0x26b1+-0x1*0x6b1+0x1fff*-0x1);_0x54b94f<_0x3499de;++_0x54b94f)if(_0x507b4b(_0xf71214[_0x54b94f],_0xf71214[_0x5ca827])){const _0x5b10da=_0xf71214[_0x5ca827];_0xf71214[_0x5ca827]=_0xf71214[_0x54b94f],_0xf71214[_0x54b94f]=_0x5b10da;}}}const st=class st{constructor(_0x3dcf6f,_0x1c4f38){this['_component']=_0x3dcf6f,this['mask']=new Int8Array(_0x3dcf6f['layers']['length']),this['weights']=new Float32Array(_0x3dcf6f['layers']['length']),this['totalWeigh'+'t']=0x633*0x2+-0x3e*-0x43+-0x1ca0,this['counter']=-0x1b3e+0x19*-0x2d+-0x26f*-0xd,this['layerCount'+'er']=0x1*0x1afa+0x21fe+-0x3cf8,this['valueType']=_0x1c4f38,this['dirty']=!(-0x1*0x1a26+-0x1e23+0x3849),this['value']=_0x1c4f38===st['TYPE_QUAT']?[0xf40+0x269*-0x7+0x19f*0x1,0x1168+0xd6*0x1+-0x123e,-0x18bf+0x24ad+-0x5f7*0x2,-0x1280+0x1749+-0x4c8]:[0x23bd+0xb*-0xda+-0x1a5f,0xfa6*-0x2+-0x40b+0x2357,-0x16b5*-0x1+0x226a*-0x1+0xbb5],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3a4d75){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x5a0+0xb*0x178+-0x15c8||!this['mask'][_0x3a4d75]?-0x1d75+-0x28*0xbe+0x31*0x135:this['_normalize'+'Weights']?this['weights'][_0x3a4d75]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x3a4d75],0x133*0x19+0x1f85*-0x1+0x18a,-0x1*-0x1aa7+-0x1aa+-0x18fc);}['_layerBlen'+'dType'](_0x4bacfb){return this['_component']['layers'][_0x4bacfb]['blendType'];}['setMask'](_0x19d876,_0x43e471){this['mask'][_0x19d876]=_0x43e471,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x19d876]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x1e5d+0x52a+-0x6b*0x55,-0x1faf+-0x1f3f+-0x5*-0xc96,_0x19d876)),this['dirty']=!(-0xa*-0x11+-0xfda+0x6*0x288));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0xe1a+-0x1d1a+-0x4f*-0x8c;for(let _0x4d26bb=-0x4*-0x341+-0x113+-0xbf1;_0x4d26bb<this['weights']['length'];_0x4d26bb++)this['weights'][_0x4d26bb]=this['_component']['layers'][_0x4d26bb]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x4d26bb]*this['weights'][_0x4d26bb];this['dirty']=!(0x411*0x6+-0x1*-0x138c+-0x2bf1);}['updateValu'+'e'](_0x5ab9a4,_0x3074d0){if(this['counter']===-0x1035+-0x13d*0x1+0x1172&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x1e*-0x3+0x1a31+-0xd45*0x2,this['valueType'])),!(!this['mask'][_0x5ab9a4]||this['getWeight'](_0x5ab9a4)===-0x9fe+0x77e*-0x2+0x18fa)){if(this['_layerBlen'+'dType'](_0x5ab9a4)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x24cdc5=st['q1']['set'](this['value'][-0x1*0x665+-0xe9e+-0x1e9*-0xb],this['value'][-0x1fe8+0x1b18+-0x3*-0x19b],this['value'][0x216c+0x2513+0xf*-0x4b3],this['value'][-0x242*0x3+0x1*-0xb1b+0x11e4]),_0x33eb21=st['q2']['set'](this['baseValue'][0x2410+0x1c48+-0x4058],this['baseValue'][-0x2ec+0x20aa+0x17*-0x14b],this['baseValue'][-0x18eb+0x6a3*0x1+0x124a],this['baseValue'][0x2705*0x1+-0x3d9*0x7+-0xc13]),_0xf0257d=st['q3']['set'](_0x3074d0[0x149*-0x18+0x1b+0x1ebd],_0x3074d0[0x284+0x375*-0x1+-0xb*-0x16],_0x3074d0[-0x5c1*0x3+-0x9d*-0x1+0x10a8],_0x3074d0[0x1b33+0x1b99+-0x36c9]),_0x552688=_0x33eb21['invert']()['mul'](_0xf0257d);_0x552688['slerp'](le['IDENTITY'],_0x552688,this['getWeight'](_0x5ab9a4)),_0x24cdc5['mul'](_0x552688),st['quatArr'][0x14de*-0x1+0x2*0x197+0x11b0]=_0x24cdc5['x'],st['quatArr'][-0x10*0xa3+0x418+0x619]=_0x24cdc5['y'],st['quatArr'][-0x4a*-0x3c+0x1d*0x14b+0x1247*-0x3]=_0x24cdc5['z'],st['quatArr'][0x7ee+0x236a+-0x2b55]=_0x24cdc5['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x164e*0x1+-0xd2b+0x923*-0x1]=_0x3074d0[0x15cb+-0x2367+0xd9c]-this['baseValue'][0x1c2d+-0x238*0x1+0x1bb*-0xf],st['vecArr'][0x89*-0x11+-0xba7*0x1+0x14c1]=_0x3074d0[0x23f9*-0x1+-0x1c81*-0x1+0x779*0x1]-this['baseValue'][-0x2*-0xdef+0x109b+-0x2c78],st['vecArr'][0xa97*0x1+0x14a8+-0x1f3d]=_0x3074d0[0x6bd+-0x3*-0xdc+-0x94f*0x1]-this['baseValue'][0x1fa7+-0xdf*-0x3+-0x2242],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x5ab9a4),this['valueType'],!(0x158+0x1e09*0x1+0x115*-0x1d));}else Ht['blend'](this['value'],_0x3074d0,this['getWeight'](_0x5ab9a4),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0xdb7+0x2fb*0x3+-0x16a8,0x6c2*0x3+-0x1*0x1b18+0x6d2,0x949*0x2+-0x23e2+0x1150,0x1e*0x107+0x153b+-0x2*0x1a06]),h(st,'vecArr',[-0x17*0x45+0x1c6*0x16+0x10f*-0x1f,0x3ec+0x119*0x8+-0xcb4,0x1*-0x269e+0xc5*-0x13+-0x289*-0x15]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x2*-0xc46+0x182a+0x62,0x12cd+-0x134f*0x1+-0x41*-0x2,0x1532+0x1*-0x16ed+0x1bb,0xb08*0x2+0x7*0x7+-0x1640]);let Vo=st;class Gv{constructor(_0x2a97b1){this['_binder']=_0x2a97b1,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x1d2e35){const _0x513028=this['_targets'],_0x5672be=this['_binder'],_0x387793=_0x1d2e35['track']['curves'],_0x3ade21=_0x1d2e35['snapshot'],_0x252aed=[],_0x3c7891=[];for(let _0x18750f=-0x2b1+-0x182f+0x1ae0;_0x18750f<_0x387793['length'];++_0x18750f){const _0x2be899=_0x387793[_0x18750f]['paths'];for(let _0x3d4bc8=0x18a2+0xb10+-0x23b2*0x1;_0x3d4bc8<_0x2be899['length'];++_0x3d4bc8){const _0x480465=_0x2be899[_0x3d4bc8],_0x383e72=_0x5672be['resolve'](_0x480465);let _0x2da232=_0x513028[_0x383e72&&_0x383e72['targetPath']||null];if(!_0x2da232&&_0x383e72){_0x2da232={'target':_0x383e72,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x3d43e4=-0xd9f+-0x5d1*0x1+0x1370;_0x3d43e4<_0x2da232['target']['components'];++_0x3d43e4)_0x2da232['value']['push'](-0x43*0x5e+-0x1153+-0x1*-0x29ed);if(_0x513028[_0x383e72['targetPath']]=_0x2da232,_0x5672be['animCompon'+'ent']){if(!_0x5672be['animCompon'+'ent']['targets'][_0x383e72['targetPath']]){let _0x2335d5;_0x383e72['targetPath']['substring'](_0x383e72['targetPath']['length']-(-0x30*0xae+-0x247*-0x7+-0x33*-0x54))==='localRotat'+'ion'?_0x2335d5=Vo['TYPE_QUAT']:_0x2335d5=Vo['TYPE_VEC3'],_0x5672be['animCompon'+'ent']['targets'][_0x383e72['targetPath']]=new Vo(_0x5672be['animCompon'+'ent'],_0x2335d5);}_0x5672be['animCompon'+'ent']['targets'][_0x383e72['targetPath']]['layerCount'+'er']++,_0x5672be['animCompon'+'ent']['targets'][_0x383e72['targetPath']]['setMask'](_0x5672be['layerIndex'],-0x317+-0x1*0x9c7+0xcdf);}}_0x2da232&&(_0x2da232['curves']++,_0x252aed['push'](_0x3ade21['_results'][_0x18750f]),_0x3c7891['push'](_0x2da232));}}this['_clips']['push'](_0x1d2e35),this['_inputs']['push'](_0x252aed),this['_outputs']['push'](_0x3c7891);}['removeClip'](_0x1c6c93){const _0x37b4bb=this['_targets'],_0x659605=this['_binder'],_0x3f0dd9=this['_clips'],_0x44031b=_0x3f0dd9[_0x1c6c93]['track']['curves'];for(let _0x2d8611=-0x1ad5+0x8e*-0xd+0x19f*0x15;_0x2d8611<_0x44031b['length'];++_0x2d8611){const _0x2ddb3e=_0x44031b[_0x2d8611]['paths'];for(let _0x268877=0x1946+0xb93*-0x1+0x15*-0xa7;_0x268877<_0x2ddb3e['length'];++_0x268877){const _0x251bb3=_0x2ddb3e[_0x268877],_0x4299cb=this['_binder']['resolve'](_0x251bb3);_0x4299cb&&(_0x4299cb['curves']--,_0x4299cb['curves']===-0x6*-0x23+-0x107c+0x2*0x7d5&&(_0x659605['unresolve'](_0x251bb3),delete _0x37b4bb[_0x4299cb['targetPath']],_0x659605['animCompon'+'ent']&&_0x659605['animCompon'+'ent']['targets'][_0x4299cb['targetPath']]['layerCount'+'er']--));}}_0x3f0dd9['splice'](_0x1c6c93,0x1*0x19eb+0x15ea+-0x2fd4),this['_inputs']['splice'](_0x1c6c93,0x1b9e+0x270c+-0x42a9),this['_outputs']['splice'](_0x1c6c93,0x4a0+0x7a*0x20+0x13df*-0x1);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x3*0x1ad+-0x25dc+-0x2ae3*-0x1;)this['removeClip'](-0x99*0x34+-0x1*-0x191f+0x131*0x5);}['updateClip'+'Track'](_0x575de5,_0x5511a4){this['_clips']['forEach'](_0x238805=>{_0x238805['name']['includes'](_0x575de5)&&(_0x238805['track']=_0x5511a4);}),this['rebind']();}['findClip'](_0x55bac8){const _0x3bed6b=this['_clips'];for(let _0x250d00=-0x17e5+0x517*0x1+0x12ce;_0x250d00<_0x3bed6b['length'];++_0x250d00){const _0x3cc64f=_0x3bed6b[_0x250d00];if(_0x3cc64f['name']===_0x55bac8)return _0x3cc64f;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x999007=[...this['clips']];this['removeClip'+'s'](),_0x999007['forEach'](_0x348d7c=>{this['addClip'](_0x348d7c);});}['assignMask'](_0x2fea7e){return this['_binder']['assignMask'](_0x2fea7e);}['update'](_0x1ccf0e,_0x38bd0a=!(0x10ea+-0x1c83+0xb99*0x1)){const _0x3570b2=this['_clips'],_0x4f7e6a=_0x3570b2['map']((_0x4338f2,_0x21662f)=>_0x21662f);Ht['stableSort'](_0x4f7e6a,(_0x3d332d,_0x194ef)=>_0x3570b2[_0x3d332d]['blendOrder']<_0x3570b2[_0x194ef]['blendOrder']);for(let _0x3dbac6=-0xf5c+0x2429*0x1+-0x14cd;_0x3dbac6<_0x4f7e6a['length'];++_0x3dbac6){const _0x20c4e4=_0x4f7e6a[_0x3dbac6],_0x37a3dc=_0x3570b2[_0x20c4e4],_0x5f4cad=this['_inputs'][_0x20c4e4],_0x2734ba=this['_outputs'][_0x20c4e4],_0x135fb0=_0x37a3dc['blendWeigh'+'t'];if(_0x135fb0>0x49*0x44+0x1e3e+0x1*-0x31a2&&_0x37a3dc['_update'](_0x1ccf0e),!_0x38bd0a)break;let _0x4d1baa,_0x42c52e,_0x3e570a;if(_0x135fb0>=0x164b+-0x1c3a+-0x50*-0x13){for(let _0x17ac7f=-0x185c+-0x41e+0x1c7a;_0x17ac7f<_0x5f4cad['length'];++_0x17ac7f)_0x4d1baa=_0x5f4cad[_0x17ac7f],_0x42c52e=_0x2734ba[_0x17ac7f],_0x3e570a=_0x42c52e['value'],Ht['set'](_0x3e570a,_0x4d1baa,_0x42c52e['target']['type']),_0x42c52e['blendCount'+'er']++;}else{if(_0x135fb0>0xb*-0x9d+-0x5e7+0x653*0x2){for(let _0x57cdcf=-0x10b1+0x177*-0x13+0x2c86;_0x57cdcf<_0x5f4cad['length'];++_0x57cdcf)_0x4d1baa=_0x5f4cad[_0x57cdcf],_0x42c52e=_0x2734ba[_0x57cdcf],_0x3e570a=_0x42c52e['value'],_0x42c52e['blendCount'+'er']===0x1d65+0x4eb*-0x1+-0x187a?Ht['set'](_0x3e570a,_0x4d1baa,_0x42c52e['target']['type']):Ht['blend'](_0x3e570a,_0x4d1baa,_0x135fb0,_0x42c52e['target']['type']),_0x42c52e['blendCount'+'er']++;}}}const _0xd74aec=this['_targets'],_0x347233=this['_binder'];for(const _0x51ea89 in _0xd74aec)if(_0xd74aec['hasOwnProp'+'erty'](_0x51ea89)){const _0x48f1f2=_0xd74aec[_0x51ea89];if(_0x347233['animCompon'+'ent']&&_0x48f1f2['target']['isTransfor'+'m']){const _0x47ca58=_0x347233['animCompon'+'ent']['targets'][_0x51ea89];_0x47ca58['counter']===_0x47ca58['layerCount'+'er']&&(_0x47ca58['counter']=-0xc38+-0x19ef+0x2627),_0x47ca58['path']||(_0x47ca58['path']=_0x51ea89,_0x47ca58['baseValue']=_0x48f1f2['target']['get'](),_0x47ca58['setter']=_0x48f1f2['target']['set']),_0x47ca58['updateValu'+'e'](_0x347233['layerIndex'],_0x48f1f2['value']),_0x47ca58['counter']++;}else _0x48f1f2['target']['set'](_0x48f1f2['value']);_0x48f1f2['blendCount'+'er']=0x2325+-0x2*-0x43a+-0x2b99;}this['_binder']['update'](_0x1ccf0e);}}class Hv{constructor(_0x44e14e){this['_events']=[..._0x44e14e],this['_events']['sort']((_0x1c4ff4,_0x3e3a6b)=>_0x1c4ff4['time']-_0x3e3a6b['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x3caa52,_0x466809,_0x1f754a,_0x2e29d9,_0x186186,_0x372541=new Hv([])){this['_name']=_0x3caa52,this['_duration']=_0x466809,this['_inputs']=_0x1f754a,this['_outputs']=_0x2e29d9,this['_curves']=_0x186186,this['_animEvent'+'s']=_0x372541;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x38e50b){this['_animEvent'+'s']=_0x38e50b;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0xa987bf,_0x6c3dab){_0x6c3dab['_time']=_0xa987bf;const _0x43f124=this['_inputs'],_0x450fc9=this['_outputs'],_0x9e40cf=this['_curves'],_0x596f1e=_0x6c3dab['_cache'],_0x278c0e=_0x6c3dab['_results'];for(let _0x436048=-0x1*-0x16e5+-0xb93+-0xa1*0x12;_0x436048<_0x43f124['length'];++_0x436048)_0x596f1e[_0x436048]['update'](_0xa987bf,_0x43f124[_0x436048]['_data']);for(let _0x4966e0=0xd6*-0x2+0x626*0x4+0x12*-0x146;_0x4966e0<_0x9e40cf['length'];++_0x4966e0){const _0x4d528d=_0x9e40cf[_0x4966e0],_0x1112b0=_0x450fc9[_0x4d528d['_output']],_0x5affc9=_0x278c0e[_0x4966e0];_0x596f1e[_0x4d528d['_input']]['eval'](_0x5affc9,_0x4d528d['_interpola'+'tion'],_0x1112b0);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x1e390e,_0x174039){_0x174039=_0x174039||'.';const _0x27f699=function(_0x1ba75a){return _0x1ba75a['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x174039,'g'),'\x5c'+_0x174039);};return _0x1e390e['map'](_0x27f699)['join'](_0x174039);}static['splitPath'](_0x1fd25b,_0x2535cb){_0x2535cb=_0x2535cb||'.';const _0x526d4d=[];let _0x59eef6='',_0x4c92da=0xea8+-0x4*0x52f+0x614;for(;_0x4c92da<_0x1fd25b['length'];){let _0x46b0c1=_0x1fd25b[_0x4c92da++];_0x46b0c1==='\x5c'&&_0x4c92da<_0x1fd25b['length']?(_0x46b0c1=_0x1fd25b[_0x4c92da++],_0x46b0c1==='\x5c'||_0x46b0c1===_0x2535cb?_0x59eef6+=_0x46b0c1:_0x59eef6+='\x5c'+_0x46b0c1):_0x46b0c1===_0x2535cb?(_0x526d4d['push'](_0x59eef6),_0x59eef6=''):_0x59eef6+=_0x46b0c1;}return _0x59eef6['length']>-0x1d5*0xe+-0x1fe+0x2*0xdd2&&_0x526d4d['push'](_0x59eef6),_0x526d4d;}static['encode'](_0x257c62,_0x342182,_0x1e8935){return(Array['isArray'](_0x257c62)?_0x257c62['join']('/'):_0x257c62)+'/'+_0x342182+'/'+(Array['isArray'](_0x1e8935)?_0x1e8935['join']('/'):_0x1e8935);}['resolve'](_0x599927){return null;}['unresolve'](_0x19ecda){}['update'](_0x20b91b){}}class xu{constructor(_0x463123,_0x199629,_0x5c76c1,_0x479947){_0x463123['set']?(this['_set']=_0x463123['set'],this['_get']=_0x463123['get']):this['_set']=_0x463123,this['_type']=_0x199629,this['_component'+'s']=_0x5c76c1,this['_targetPat'+'h']=_0x479947,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x5b2+0xa92+0x1*-0x1037))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1*-0x1a1b+-0x19c4+-0x33ec*-0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1da6+-0x1*-0x25bb+0x4357*-0x1))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x1940a4){h(this,'_isPathInM'+'ask',(_0x2d5c5a,_0x1b831d)=>{const _0x531c71=this['_mask'][_0x2d5c5a];if(_0x531c71){if(_0x531c71['children']||_0x1b831d&&_0x531c71['value']!==!(0x1105*0x1+0x31*-0x1f+-0xb15))return!(0x673+0x14f3+-0xdb3*0x2);}else return!(0x16a9+0x1*-0xb8c+0x3*-0x3b4);return!(-0x1*-0x2311+-0x12*-0x19b+-0x3ff6);});if(this['graph']=_0x1940a4,!_0x1940a4)return;this['_mask']=null;const _0x2319b2={},_0xcc0552=function(_0x23196){_0x2319b2[_0x23196['name']]=_0x23196;for(let _0x220efd=-0x15a8+0xf20*-0x2+-0xcfa*-0x4;_0x220efd<_0x23196['children']['length'];++_0x220efd)_0xcc0552(_0x23196['children'][_0x220efd]);};_0xcc0552(_0x1940a4),this['nodes']=_0x2319b2,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x3f5000=function(_0x4f2758){let _0x18b934=_0x4f2758;for(;_0x18b934&&!(_0x18b934 instanceof lt);)_0x18b934=_0x18b934['parent'];let _0x396007;return _0x18b934&&(_0x18b934['render']?_0x396007=_0x18b934['render']['meshInstan'+'ces']:_0x18b934['model']&&(_0x396007=_0x18b934['model']['meshInstan'+'ces'])),_0x396007;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x5895bc){const _0x541d5d=_0x5895bc['localPosit'+'ion'],_0x4c279a=function(_0x507366){_0x541d5d['set'](..._0x507366);};return Sr['createAnim'+'Target'](_0x4c279a,'vector',-0x2*0x2f2+0xb3f+-0x558,_0x5895bc,'localPosit'+'ion');},'localRotation':function(_0x2f4158){const _0x59343d=_0x2f4158['localRotat'+'ion'],_0x1ffbca=function(_0x31e7b8){_0x59343d['set'](..._0x31e7b8);};return Sr['createAnim'+'Target'](_0x1ffbca,'quaternion',-0x209d+0x16*-0x10f+0x37eb,_0x2f4158,'localRotat'+'ion');},'localScale':function(_0x50cb27){const _0x27a123=_0x50cb27['localScale'],_0x3cbf0a=function(_0x45b3f6){_0x27a123['set'](..._0x45b3f6);};return Sr['createAnim'+'Target'](_0x3cbf0a,'vector',0x18e5*-0x1+0x195d*-0x1+-0x2f5*-0x11,_0x50cb27,'localScale');},'weight':function(_0x3523e9,_0x5a0ff3){_0x5a0ff3['indexOf']('name.')===0x154a+-0xd27+0x1*-0x823?_0x5a0ff3=_0x5a0ff3['replace']('name.',''):_0x5a0ff3=Number(_0x5a0ff3);const _0x390802=_0x3f5000(_0x3523e9);let _0x5d66b8;if(_0x390802){for(let _0x26ac43=0x1*0x1a62+0x2632*-0x1+0xbd0;_0x26ac43<_0x390802['length'];++_0x26ac43)if(_0x390802[_0x26ac43]['node']['name']===_0x3523e9['name']&&_0x390802[_0x26ac43]['morphInsta'+'nce']){const _0x37ef26=_0x390802[_0x26ac43]['morphInsta'+'nce'],_0x4a6178=_0xe51b4b=>{_0x37ef26['setWeight'](_0x5a0ff3,_0xe51b4b[-0x8+-0x1219+0x1221]);};_0x5d66b8||(_0x5d66b8=[]),_0x5d66b8['push'](_0x4a6178);}}if(_0x5d66b8){const _0x48ccef=_0x2d942a=>{for(let _0x4092d1=-0x25df+-0x16dc+-0x7*-0x8ad;_0x4092d1<_0x5d66b8['length'];++_0x4092d1)_0x5d66b8[_0x4092d1](_0x2d942a);};return Sr['createAnim'+'Target'](_0x48ccef,'number',0x17*0xe3+0x233a+-0x379e,_0x3523e9,'weight.'+_0x5a0ff3);}return null;},'materialTexture':(_0xa18718,_0x40bc49)=>{const _0xefe2eb=_0x3f5000(_0xa18718);if(_0xefe2eb){let _0x2f9c0a;for(let _0x6e008=0xc0f+-0x1b23+-0x304*-0x5;_0x6e008<_0xefe2eb['length'];++_0x6e008)if(_0xefe2eb[_0x6e008]['node']['name']===_0xa18718['name']){_0x2f9c0a=_0xefe2eb[_0x6e008];break;}if(_0x2f9c0a){const _0x2efd23=_0x2b1766=>{const _0xe9cd28=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x2b1766[0x3*-0x2ef+-0xb7*-0x21+-0xeca]);_0xe9cd28&&_0xe9cd28['resource']&&_0xe9cd28['type']==='texture'&&(_0x2f9c0a['material'][_0x40bc49]=_0xe9cd28['resource'],_0x2f9c0a['material']['update']());};return Sr['createAnim'+'Target'](_0x2efd23,'vector',0x1678+0xc0b+-0x2282,_0xa18718,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x156286){if(!this['_mask'])return!(-0xf25+0x78e+-0x1*-0x797);const _0x488eb1=[_0x156286['entityPath'][0x3*0xcab+0x22cb+-0x6*0xc22],this['graph']['name']];for(let _0x372dd3=-0x1*-0x201+-0x21af+0x2*0xfd7;_0x372dd3<_0x488eb1['length'];++_0x372dd3){let _0x55019c=_0x488eb1[_0x372dd3];if(this['_isPathInM'+'ask'](_0x55019c,_0x156286['entityPath']['length']===0x6e9+0x155f+-0x1c47))return!(-0x3*-0x49d+0x6cc+0x14a3*-0x1);for(let _0x564312=0x1*-0x1cfa+0xe5c+-0xe9f*-0x1;_0x564312<_0x156286['entityPath']['length'];_0x564312++)if(_0x55019c+='/'+_0x156286['entityPath'][_0x564312],this['_isPathInM'+'ask'](_0x55019c,_0x564312===_0x156286['entityPath']['length']-(0x68b+-0x11e7+0xb5d)))return!(-0x1de*-0x7+-0x19cb+0xcb9);}return!(-0x1*0xc2f+0xe0d+0x3*-0x9f);}['findNode'](_0x45849b){if(!this['_isPathAct'+'ive'](_0x45849b))return null;let _0x3edc09;if(this['graph']&&(_0x3edc09=this['graph']['findByPath'](_0x45849b['entityPath']),_0x3edc09||(_0x3edc09=this['graph']['findByPath'](_0x45849b['entityPath']['slice'](-0x9e*-0x13+0x1c9b+-0x2854)))),!_0x3edc09){_0x3edc09=this['nodes'][_0x45849b['entityPath'][_0x45849b['entityPath']['length']-(-0x1*0x1b5+0x1*-0x527+0x6dd)]||''];const _0x411e6d=ra['encode'](_0x45849b['entityPath'][_0x45849b['entityPath']['length']-(0xd*0x2a5+-0x1*0x1379+-0x7*0x221)]||'','graph',_0x45849b['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x411e6d]===-0xb7+-0x155a+0x1612&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x411e6d+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x411e6d])?this['visitedFal'+'lbackGraph'+'Paths'][_0x411e6d]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x411e6d]=0x19b*0x17+0xb*0x139+0xd*-0x3e0;}return _0x3edc09;}static['createAnim'+'Target'](_0x35d5fd,_0x5d9e62,_0x516bd5,_0x2903d8,_0xe6c1b1,_0x6654bf){const _0x2696f3=ra['encode'](_0x2903d8['path'],_0x6654bf||'entity',_0xe6c1b1);return new xu(_0x35d5fd,_0x5d9e62,_0x516bd5,_0x2696f3);}['resolve'](_0x37f39f){const _0x22b736=ra['encode'](_0x37f39f['entityPath'],_0x37f39f['component'],_0x37f39f['propertyPa'+'th']);let _0x2b9a09=this['targetCach'+'e'][_0x22b736];if(_0x2b9a09)return _0x2b9a09;const _0x14652b=this['findNode'](_0x37f39f);if(!_0x14652b)return null;const _0x13615b=this['handlers'][_0x37f39f['propertyPa'+'th']];return!_0x13615b||(_0x2b9a09=_0x13615b(_0x14652b),!_0x2b9a09)?null:(this['targetCach'+'e'][_0x22b736]=_0x2b9a09,this['nodeCounts'][_0x14652b['path']]?this['nodeCounts'][_0x14652b['path']]++:(this['activeNode'+'s']['push'](_0x14652b),this['nodeCounts'][_0x14652b['path']]=-0x7b2+0xc1f*-0x3+-0x10*-0x2c1),_0x2b9a09);}['unresolve'](_0x4263a7){if(_0x4263a7['component']!=='graph')return;const _0x2933a4=this['nodes'][_0x4263a7['entityPath'][_0x4263a7['entityPath']['length']-(0x14e*-0x10+-0xe42+0x2323)]||''];if(this['nodeCounts'][_0x2933a4['path']]--,this['nodeCounts'][_0x2933a4['path']]===0x10a*-0x25+-0x20f0+0x2*0x23b1){const _0x2f6728=this['activeNode'+'s'],_0x32056b=_0x2f6728['indexOf'](_0x2933a4['node']),_0x4af9e4=_0x2f6728['length'];_0x32056b<_0x4af9e4-(-0xfe*-0x19+0x844*0x1+-0x69d*0x5)&&(_0x2f6728[_0x32056b]=_0x2f6728[_0x4af9e4-(-0x14*-0x36+-0x1*0x24f5+-0x575*-0x6)]),_0x2f6728['pop']();}}['update'](_0x5e8d66){const _0x267ce7=this['activeNode'+'s'];for(let _0xf62b4c=0x73*0x14+-0x1ff7*-0x1+0x3b9*-0xb;_0xf62b4c<_0x267ce7['length'];++_0xf62b4c)_0x267ce7[_0xf62b4c]['_dirtifyLo'+'cal']();}['assignMask'](_0x137c7c){return _0x137c7c!==this['_mask']?(this['_mask']=_0x137c7c,!(0x9c6+-0x1b+-0xa5*0xf)):!(0x5f7+-0x200+-0x3f6);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x15ec+0x175*0x1+0xa9*0x1f)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x1f*0x12b+-0x3da+-0x205b),h(this,'blending',!(-0x56a+-0xe37+0x13a2)),h(this,'blendSpeed',0x1d8e+0xe45+0x1*-0x2bd3),h(this,'activate',!(0x18bf+-0x1*0x2407+-0x4c*-0x26)),h(this,'speed',0x1b83+0x1611+-0x3193);}set['animations'](_0x3711f3){this['_animation'+'s']=_0x3711f3,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x4f32bf){const _0x6fe700=this['_assets'];if(_0x6fe700&&_0x6fe700['length']){for(let _0xc83e0e=0xf30+0x16d0+-0x4*0x980;_0xc83e0e<_0x6fe700['length'];_0xc83e0e++)if(_0x6fe700[_0xc83e0e]){const _0x59836c=this['system']['app']['assets']['get'](_0x6fe700[_0xc83e0e]);if(_0x59836c){_0x59836c['off']('change',this['onAssetCha'+'nged'],this),_0x59836c['off']('remove',this['onAssetRem'+'oved'],this);const _0x55d464=this['animations'+'Index'][_0x59836c['id']];this['currAnim']===_0x55d464&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x55d464],delete this['animations'+'Index'][_0x59836c['id']];}}}this['_assets']=_0x4f32bf;const _0x2a7c10=_0x4f32bf['map'](_0x46be99=>_0x46be99 instanceof pe?_0x46be99['id']:_0x46be99);this['loadAnimat'+'ionAssets'](_0x2a7c10);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3981ab){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3981ab,this['skeleton']['addTime'](-0x1a7b*-0x1+0x2632+-0x40ad),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x54f4d7=this['animEvalua'+'tor']['clips'];for(let _0x5052b5=0xecf*-0x2+0x114*-0x2+-0x7*-0x48a;_0x5052b5<_0x54f4d7['length'];++_0x5052b5)_0x54f4d7[_0x5052b5]['time']=_0x3981ab;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x3bae82=this['animEvalua'+'tor']['clips'];if(_0x3bae82['length']>0x9*0x2eb+0x119*-0x6+0x68f*-0x3)return _0x3bae82[_0x3bae82['length']-(-0x1893+0xd1*-0x2+0x1a36)]['time'];}return 0x153*-0xb+-0x362*0x8+-0x1*-0x29a1;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x3ef+-0x1ecd+0x34*0xab);}set['loop'](_0x15bf17){if(this['_loop']=_0x15bf17,this['skeleton']&&(this['skeleton']['looping']=_0x15bf17),this['animEvalua'+'tor']){for(let _0x30b927=-0x1fe9+-0xb15*0x1+0x2afe;_0x30b927<this['animEvalua'+'tor']['clips']['length'];++_0x30b927)this['animEvalua'+'tor']['clips'][_0x30b927]['loop']=_0x15bf17;}}get['loop'](){return this['_loop'];}['play'](_0x3c491c,_0x25636c=0x16e3+0x1*0x15da+-0x1*0x2cbd){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x3c491c]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x3c491c+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x3c491c,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x41beba=this['animations'][this['prevAnim']],_0x515a71=this['animations'][this['currAnim']];if(this['blending']=_0x25636c>-0xf04+-0x2032+-0x2f36*-0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1*-0x65f+0x1*0x199+-0x7f8,this['blendSpeed']=(-0x8c0+-0xcd*0x1b+0x1e60)/_0x25636c),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x41beba,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x515a71):this['skeleton']['animation']=_0x515a71),this['animEvalua'+'tor']){const _0x1ef726=this['animEvalua'+'tor'];if(this['blending']){for(;_0x1ef726['clips']['length']>-0x2*-0x93d+-0x44b+-0xe2e;)_0x1ef726['removeClip'](0x1be4+0x455+-0x2039);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x11cf6f=new Dh(this['animations'][this['currAnim']],0x1b*0x11f+-0x195e+0x4e7*-0x1,-0x153+-0x193b*0x1+-0x1*-0x1a8f,!(-0x10e2+-0xed5+0x1fb7),this['loop']);_0x11cf6f['name']=this['currAnim'],_0x11cf6f['blendWeigh'+'t']=this['blending']?0xe5e+0x57*-0x30+0x1f2:0x2*0x2bd+-0x222e+0x1cb5*0x1,_0x11cf6f['reset'](),this['animEvalua'+'tor']['addClip'](_0x11cf6f);}}this['playing']=!(0x21d*0x11+0xde8+-0x31d5);}}['getAnimati'+'on'](_0x2df0b7){return this['animations'][_0x2df0b7];}['setModel'](_0x3ddd6a){_0x3ddd6a!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x3ddd6a,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x41653f=this['entity']['model'];if(_0x41653f){const _0x282f1f=_0x41653f['model'];_0x282f1f&&_0x282f1f!==this['model']&&this['setModel'](_0x282f1f);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x5e3fd0=Object['keys'](this['_animation'+'s']);_0x5e3fd0['length']>0x889*-0x1+-0xd99+0x1622&&this['play'](_0x5e3fd0[-0x1d2+0x1085+-0xeb3]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x372c90=this['model'],_0x1a4207=this['animations'];let _0x11351a=!(0x883+-0x4b6*0x4+-0x372*-0x3),_0x3b4648=!(0x1ae5+-0xd7e*-0x1+-0x2862);for(const _0x4c6d4f in _0x1a4207)_0x1a4207['hasOwnProp'+'erty'](_0x4c6d4f)&&(_0x1a4207[_0x4c6d4f]['constructo'+'r']===Qi?_0x3b4648=!(-0x2343+0x6df*-0x4+0x3ebf):_0x11351a=!(0x11*-0xb1+0x1569+0x1*-0x9a8));const _0x5a7e2a=_0x372c90['getGraph']();_0x11351a?(this['fromSkel']=new Sf(_0x5a7e2a),this['toSkel']=new Sf(_0x5a7e2a),this['skeleton']=new Sf(_0x5a7e2a),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5a7e2a)):_0x3b4648&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x49c6ec){if(!_0x49c6ec||!_0x49c6ec['length'])return;const _0x1e0a36=this['system']['app']['assets'],_0x31d664=_0x392d53=>{if(_0x392d53['resources']['length']>0x1e00+-0x31d*0x3+-0x14a8){for(let _0x480f9f=-0x3b7+-0x25cb*-0x1+0x2*-0x110a;_0x480f9f<_0x392d53['resources']['length'];_0x480f9f++)this['animations'][_0x392d53['resources'][_0x480f9f]['name']]=_0x392d53['resources'][_0x480f9f],this['animations'+'Index'][_0x392d53['id']]=_0x392d53['resources'][_0x480f9f]['name'];}else this['animations'][_0x392d53['name']]=_0x392d53['resource'],this['animations'+'Index'][_0x392d53['id']]=_0x392d53['name'];this['animations']=this['animations'];},_0x13fe92=_0x27aa5b=>{_0x27aa5b['off']('change',this['onAssetCha'+'nged'],this),_0x27aa5b['on']('change',this['onAssetCha'+'nged'],this),_0x27aa5b['off']('remove',this['onAssetRem'+'oved'],this),_0x27aa5b['on']('remove',this['onAssetRem'+'oved'],this),_0x27aa5b['resource']?_0x31d664(_0x27aa5b):(_0x27aa5b['once']('load',_0x31d664,this),this['enabled']&&this['entity']['enabled']&&_0x1e0a36['load'](_0x27aa5b));};for(let _0x2507cd=0x4a9+-0x1d8+-0x2d1,_0x5e1b06=_0x49c6ec['length'];_0x2507cd<_0x5e1b06;_0x2507cd++){const _0x4bd70d=_0x1e0a36['get'](_0x49c6ec[_0x2507cd]);_0x4bd70d?_0x13fe92(_0x4bd70d):_0x1e0a36['on']('add:'+_0x49c6ec[_0x2507cd],_0x13fe92);}}['onAssetCha'+'nged'](_0x166065,_0x181d01,_0x3f049f,_0x1d9c0c){if(_0x181d01==='resource'||_0x181d01==='resources'){if(_0x181d01==='resources'&&_0x3f049f&&_0x3f049f['length']===-0x24df*0x1+0x133c+0x3*0x5e1&&(_0x3f049f=null),_0x3f049f){let _0xa679aa=!(-0xe45+0x1d92+0xb*-0x164);if(_0x3f049f['length']>0x1b1*-0x2+-0x1*0x17cb+0x1b2e){if(_0x1d9c0c&&_0x1d9c0c['length']>0x923*0x3+-0x4*-0x48b+-0x2d94){for(let _0x419b6d=-0xdf*0xa+0x2*-0xfb7+-0x2*-0x1412;_0x419b6d<_0x1d9c0c['length'];_0x419b6d++)delete this['animations'][_0x1d9c0c[_0x419b6d]['name']];}else delete this['animations'][_0x166065['name']];_0xa679aa=!(0x3*-0xcff+0xdeb+-0x1*-0x1913);for(let _0x4922b3=-0x13b0+0x87a+0x2*0x59b;_0x4922b3<_0x3f049f['length'];_0x4922b3++)this['animations'][_0x3f049f[_0x4922b3]['name']]=_0x3f049f[_0x4922b3],!_0xa679aa&&this['currAnim']===_0x3f049f[_0x4922b3]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xa679aa=!(0x718*-0x3+0x1*-0x180+0x16c8),this['play'](_0x3f049f[_0x4922b3]['name']));_0xa679aa||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x1d9c0c&&_0x1d9c0c['length']>-0x1318*0x2+0x111a+0x1517){for(let _0x4ccac0=0xf7a+-0x1*-0x1e9d+-0x2e17;_0x4ccac0<_0x1d9c0c['length'];_0x4ccac0++)delete this['animations'][_0x1d9c0c[_0x4ccac0]['name']];}this['animations'][_0x166065['name']]=_0x3f049f[-0x3*-0x4f5+-0x1da6+0xec7]||_0x3f049f,_0xa679aa=!(0x5*0x6+0x10be*-0x1+0x10a1),this['currAnim']===_0x166065['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xa679aa=!(0x1*0x411+-0x1046+0x5*0x271),this['play'](_0x166065['name'])),_0xa679aa||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x166065['id']]=_0x166065['name'];}else{if(_0x1d9c0c['length']>0xe3*-0xb+0x3b9*0x6+0x1c*-0x73){for(let _0x4db11f=0x1*0x191f+-0x210e+0x7ef;_0x4db11f<_0x1d9c0c['length'];_0x4db11f++)delete this['animations'][_0x1d9c0c[_0x4db11f]['name']],this['currAnim']===_0x1d9c0c[_0x4db11f]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x166065['name']],this['currAnim']===_0x166065['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x166065['id']];}}}['onAssetRem'+'oved'](_0x5f37c4){if(_0x5f37c4['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x5f37c4['resources']['length']>0x1*-0xe3e+0x189*-0x16+0x3005){for(let _0x18d049=0x239e+0x6*0x79+0x2e*-0xd6;_0x18d049<_0x5f37c4['resources']['length'];_0x18d049++)delete this['animations'][_0x5f37c4['resources'][_0x18d049]['name']],this['currAnim']===_0x5f37c4['resources'][_0x18d049]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x5f37c4['name']],this['currAnim']===_0x5f37c4['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x5f37c4['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x9d*0x5+0xe1a+0x2*-0x584),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x432*0x6+-0x1b3b+0x3467,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1f59fe=0x125*0x1d+-0x6f9+0x1a38*-0x1;_0x1f59fe<this['animEvalua'+'tor']['clips']['length'];++_0x1f59fe)this['animEvalua'+'tor']['clips'][_0x1f59fe]['stop']();this['animEvalua'+'tor']['update'](0xf0b*0x1+-0x1*0x11c3+0x2b8),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x4e4811=this['assets'],_0x229ac8=this['system']['app']['assets'];if(_0x4e4811)for(let _0x18f7b4=0x39*-0xa3+0x83*0x4+0x223f,_0x5d7c8e=_0x4e4811['length'];_0x18f7b4<_0x5d7c8e;_0x18f7b4++){let _0x19af6e=_0x4e4811[_0x18f7b4];_0x19af6e instanceof pe||(_0x19af6e=_0x229ac8['get'](_0x19af6e)),_0x19af6e&&!_0x19af6e['resource']&&_0x229ac8['load'](_0x19af6e);}if(this['activate']&&!this['currAnim']){const _0x318e25=Object['keys'](this['animations']);_0x318e25['length']>0x160b+-0x20*0x3e+-0xe4b&&this['play'](_0x318e25[-0x2296+-0xd01*-0x3+-0x46d]);}}['onBeforeRe'+'move'](){for(let _0x2994ac=-0xeab+0x1*0x1066+-0x1bb;_0x2994ac<this['assets']['length'];_0x2994ac++){let _0x4876bb=this['assets'][_0x2994ac];typeof _0x4876bb=='number'&&(_0x4876bb=this['system']['app']['assets']['get'](_0x4876bb)),_0x4876bb&&(_0x4876bb['off']('change',this['onAssetCha'+'nged'],this),_0x4876bb['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x5a4b6e){if(this['blending']&&(this['blend']+=_0x5a4b6e*this['blendSpeed'],this['blend']>=0x2201+-0x55*-0x74+0xb6*-0x66&&(this['blend']=-0xf*0xd5+0xb31+-0x1*-0x14b)),this['playing']){const _0x34ca45=this['skeleton'];if(_0x34ca45!==null&&this['model']!==null){if(this['blending'])_0x34ca45['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x2e1035=_0x5a4b6e*this['speed'];_0x34ca45['addTime'](_0x2e1035),this['speed']>-0x1579+0x21b2+-0xc39&&_0x34ca45['_time']===_0x34ca45['animation']['duration']&&!this['loop']?this['playing']=!(0x1682+-0x1717*-0x1+-0x2d98):this['speed']<-0x403*-0x1+-0x85b+-0x4*-0x116&&_0x34ca45['_time']===-0xc57+0x426+0x831*0x1&&!this['loop']&&(this['playing']=!(0xb29*0x3+-0x340+-0x1e3a));}this['blending']&&this['blend']===0xdee+0x1f6d+0x489*-0xa&&(_0x34ca45['animation']=this['toSkel']['animation']),_0x34ca45['updateGrap'+'h']();}}const _0x4e8583=this['animEvalua'+'tor'];if(_0x4e8583){for(let _0x146a13=-0x5*-0x669+0x1*0x2105+0x2089*-0x2;_0x146a13<_0x4e8583['clips']['length'];++_0x146a13){const _0x29e0ee=_0x4e8583['clips'][_0x146a13];_0x29e0ee['speed']=this['speed'],this['playing']?_0x29e0ee['resume']():_0x29e0ee['pause']();}this['blending']&&_0x4e8583['clips']['length']>0x83e+0xea8+0x16e5*-0x1&&(_0x4e8583['clips'][-0x83*0x39+-0x3*0xb55+-0x9d*-0x67]['blendWeigh'+'t']=this['blend']),_0x4e8583['update'](_0x5a4b6e);}this['blending']&&this['blend']===0x126*0x1a+-0x1a08+-0x3d3&&(this['blending']=!(-0x2500+-0x4c1*-0x1+0xac0*0x3));}}class LL{constructor(){this['enabled']=!(-0x3*-0x675+0x3ef*-0x7+0x6e*0x13);}}const Tu=['enabled'];class RL extends ct{constructor(_0x125b68){super(_0x125b68),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5540d0,_0x47e45c,_0x4c2d1f){_0x4c2d1f=['activate','enabled','loop','speed','assets'];for(const _0x59d31d of _0x4c2d1f)_0x47e45c['hasOwnProp'+'erty'](_0x59d31d)&&(_0x5540d0[_0x59d31d]=_0x47e45c[_0x59d31d]);super['initialize'+'ComponentD'+'ata'](_0x5540d0,_0x47e45c,Tu);}['cloneCompo'+'nent'](_0x4a8c01,_0x468956){this['addCompone'+'nt'](_0x468956,{}),_0x468956['animation']['assets']=_0x4a8c01['animation']['assets']['slice'](),_0x468956['animation']['speed']=_0x4a8c01['animation']['speed'],_0x468956['animation']['loop']=_0x4a8c01['animation']['loop'],_0x468956['animation']['activate']=_0x4a8c01['animation']['activate'],_0x468956['animation']['enabled']=_0x4a8c01['animation']['enabled'];const _0x1b46e5={},_0x2b2782=_0x4a8c01['animation']['animations'];for(const _0x42af38 in _0x2b2782)_0x2b2782['hasOwnProp'+'erty'](_0x42af38)&&(_0x1b46e5[_0x42af38]=_0x2b2782[_0x42af38]);_0x468956['animation']['animations']=_0x1b46e5;const _0x2ee1fb={},_0x47c9fb=_0x4a8c01['animation']['animations'+'Index'];for(const _0x460655 in _0x47c9fb)_0x47c9fb['hasOwnProp'+'erty'](_0x460655)&&(_0x2ee1fb[_0x460655]=_0x47c9fb[_0x460655]);return _0x468956['animation']['animations'+'Index']=_0x2ee1fb,_0x468956['animation'];}['onBeforeRe'+'move'](_0x5b7a29,_0xee89da){_0xee89da['onBeforeRe'+'move']();}['onUpdate'](_0x7ca207){const _0x1f1b9b=this['store'];for(const _0x4f39ad in _0x1f1b9b)if(_0x1f1b9b['hasOwnProp'+'erty'](_0x4f39ad)){const _0x5483df=_0x1f1b9b[_0x4f39ad];_0x5483df['data']['enabled']&&_0x5483df['entity']['enabled']&&_0x5483df['entity']['animation']['update'](_0x7ca207);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x2217bb,_0x24cf67,_0x4d6152,_0x46b6cc,_0xeda822=0x1408+-0x1d35+0x92e){this['_state']=_0x2217bb,this['_parent']=_0x24cf67,this['_name']=_0x4d6152,Array['isArray'](_0x46b6cc)?(this['_point']=new J(_0x46b6cc[0x207c+0x1*-0xb03+-0x1579],_0x46b6cc[-0x2026+-0x9*0x231+-0x1*-0x33e0]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x46b6cc,this['_pointLeng'+'th']=_0x46b6cc),this['_speed']=_0xeda822,this['_weightedS'+'peed']=-0xb98+-0x22a2+0x315*0xf,this['_weight']=-0x801+0x21b4+-0x19b2,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x12a099){this['_weight']=_0x12a099;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x4d9baa=this['_state']['totalWeigh'+'t'];return _0x4d9baa===-0x213e*-0x1+0x197*-0x13+-0x309?-0x154a+-0x2*0x16f+0x1828:this['weight']/_0x4d9baa;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x4c27e5){this['_weightedS'+'peed']=_0x4c27e5;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x2d82ad){this['_animTrack']=_0x2d82ad;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x5864b5,_0x5252d4,_0x5d60d6,_0x1d65c8,_0x578394,_0x93f6ac,_0x3e390c,_0x5da1ac,_0x35b791){super(_0x5864b5,_0x5252d4,_0x5d60d6,_0x1d65c8),this['_parameter'+'s']=_0x578394,this['_parameter'+'Values']=new Array(_0x578394['length']),this['_children']=[],this['_findParam'+'eter']=_0x35b791,this['_syncAnima'+'tions']=_0x3e390c!==!(-0xe71+-0x1*-0x1541+0x3*-0x245),this['_pointCach'+'e']={};for(let _0xea21a3=0x1bd2*0x1+0x10f+-0x1ce1;_0xea21a3<_0x93f6ac['length'];_0xea21a3++){const _0x1f7ece=_0x93f6ac[_0xea21a3];_0x1f7ece['children']?this['_children']['push'](_0x5da1ac(_0x1f7ece['type'],_0x5864b5,this,_0x1f7ece['name'],0xdcd*-0x1+0x17b4+-0xe*0xb5,_0x1f7ece['parameter']?[_0x1f7ece['parameter']]:_0x1f7ece['parameters'],_0x1f7ece['children'],_0x1f7ece['syncAnimat'+'ions'],_0x5da1ac,_0x35b791)):this['_children']['push'](new ml(_0x5864b5,this,_0x1f7ece['name'],_0x1f7ece['point'],_0x1f7ece['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x589d61){for(let _0xd20348=0x4*0x172+-0x6a1*-0x1+0x423*-0x3;_0xd20348<this['_children']['length'];_0xd20348++)if(this['_children'][_0xd20348]['name']===_0x589d61)return this['_children'][_0xd20348];return null;}['updatePara'+'meterValue'+'s'](){let _0x5971b6=!(0x50c+0x11*-0x2f+0x1ed*-0x1);for(let _0x7cf3a2=-0x2*0x7ba+-0xf1b+-0x1*-0x1e8f;_0x7cf3a2<this['_parameter'+'Values']['length'];_0x7cf3a2++){const _0x6adae5=this['_findParam'+'eter'](this['_parameter'+'s'][_0x7cf3a2])['value'];this['_parameter'+'Values'][_0x7cf3a2]!==_0x6adae5&&(this['_parameter'+'Values'][_0x7cf3a2]=_0x6adae5,_0x5971b6=!(-0x121d+-0x13bc+0x25da));}return _0x5971b6;}['getNodeWei'+'ghtedDurat'+'ion'](_0x307c27){return this['_children'][_0x307c27]['animTrack']['duration']/this['_children'][_0x307c27]['speedMulti'+'plier']*this['_children'][_0x307c27]['weight'];}['getNodeCou'+'nt'](){let _0x5eb256=-0x2502+-0x18b9+0x3dbb;for(let _0x2cfc82=-0x1053+-0xc*-0x14+0xd*0x12f;_0x2cfc82<this['_children']['length'];_0x2cfc82++)this['_children'][_0x2cfc82]['constructo'+'r']===Jn?_0x5eb256+=this['_children'][_0x2cfc82]['getNodeCou'+'nt']():_0x5eb256++;return _0x5eb256;}}class OL extends Jn{constructor(_0x5d4230,_0x527fd9,_0xba3197,_0x3502d5,_0x1156b4,_0x12ab98,_0x1bf93c,_0x410df7,_0x560f5e){_0x12ab98['sort']((_0x184631,_0x97cd2f)=>_0x184631['point']-_0x97cd2f['point']),super(_0x5d4230,_0x527fd9,_0xba3197,_0x3502d5,_0x1156b4,_0x12ab98,_0x1bf93c,_0x410df7,_0x560f5e);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x50f23c=-0x7ff*-0x4+0x1df4+-0x1ef8*0x2;this['_children'][-0x488+-0xd9b*0x1+0x1223]['weight']=0xabb+0x23d*-0x5+0x76;for(let _0x5848c9=0x16f*0x6+-0x1448+0x1a*0x73;_0x5848c9<this['_children']['length'];_0x5848c9++){const _0x3d6d4c=this['_children'][_0x5848c9];if(_0x5848c9!==this['_children']['length']-(0x33e*-0x2+-0x241d+0x30b*0xe)){const _0x783a3a=this['_children'][_0x5848c9+(-0x26*-0x89+-0xd17+-0x73e)];if(_0x3d6d4c['point']===_0x783a3a['point'])_0x3d6d4c['weight']=-0xa1*0x1+-0x59f*0x5+0x1cbc+0.5,_0x783a3a['weight']=-0x1baf+0x13e2*-0x1+0x2f91+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x1517*0x1+0x1*0x1de9+-0x8d2],_0x3d6d4c['point'],_0x783a3a['point'],!(-0x623*-0x5+-0x29*0x5d+0x2b*-0x5e))){const _0x1058bd=Math['abs'](_0x3d6d4c['point']-_0x783a3a['point']),_0x43b526=Math['abs'](_0x3d6d4c['point']-this['_parameter'+'Values'][-0x1*0xdd5+0x1cb*-0x13+0x1*0x2fe6]),_0x2ce44c=(_0x1058bd-_0x43b526)/_0x1058bd;_0x3d6d4c['weight']=_0x2ce44c,_0x783a3a['weight']=-0xfc6+-0x182*0x8+-0x1bd7*-0x1-_0x2ce44c;}else _0x783a3a['weight']=0x1f73+0x4f+-0x1fc2;}}this['_syncAnima'+'tions']&&(_0x50f23c+=_0x3d6d4c['animTrack']['duration']/_0x3d6d4c['absoluteSp'+'eed']*_0x3d6d4c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x3e21a5=-0x4*-0x4a9+0x5*-0x49b+0x1*0x463;_0x3e21a5<this['_children']['length'];_0x3e21a5++){const _0x47def2=this['_children'][_0x3e21a5];_0x47def2['weightedSp'+'eed']=_0x47def2['animTrack']['duration']/_0x47def2['absoluteSp'+'eed']/_0x50f23c;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x2094eb,_0x4b4367){const _0x24b8ca=''+_0x2094eb+_0x4b4367;return this['_pointCach'+'e'][_0x24b8ca]||(this['_pointCach'+'e'][_0x24b8ca]=this['_children'][_0x4b4367]['point']['clone']()['sub'](this['_children'][_0x2094eb]['point'])),this['_pointCach'+'e'][_0x24b8ca];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x31a70a,_0x351287;ki['_p']['set'](...this['_parameter'+'Values']),_0x31a70a=-0xeb2+-0x16b3+0x2565,_0x351287=0x12b6+0x401+-0x5*0x48b;for(let _0x2ff961=-0x90d+0x17cf+0xec2*-0x1;_0x2ff961<this['_children']['length'];_0x2ff961++){const _0x3fa7ef=this['_children'][_0x2ff961],_0x17d583=_0x3fa7ef['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x17d583);let _0x7ba29c=Number['MAX_VALUE'];for(let _0x2b40cb=-0x301+0x12e6+-0x1*0xfe5;_0x2b40cb<this['_children']['length'];_0x2b40cb++){if(_0x2ff961===_0x2b40cb)continue;const _0x28533c=this['pointDista'+'nceCache'](_0x2ff961,_0x2b40cb),_0x80205a=Y['clamp'](0xfa8+-0x15e4+0x63d-ki['_pip']['dot'](_0x28533c)/_0x28533c['lengthSq'](),0xcf*0x1f+-0x16d8+0x239*-0x1,-0x5ed+-0x1*0xcb+0x6b9);_0x80205a<_0x7ba29c&&(_0x7ba29c=_0x80205a);}_0x3fa7ef['weight']=_0x7ba29c,_0x31a70a+=_0x7ba29c,this['_syncAnima'+'tions']&&(_0x351287+=_0x3fa7ef['animTrack']['duration']/_0x3fa7ef['absoluteSp'+'eed']*_0x3fa7ef['weight']);}for(let _0x1c819e=-0x13f2+0x10de*-0x1+-0x1f0*-0x13;_0x1c819e<this['_children']['length'];_0x1c819e++){const _0x1bdaf5=this['_children'][_0x1c819e];_0x1bdaf5['weight']=_0x1bdaf5['_weight']/_0x31a70a,this['_syncAnima'+'tions']&&(_0x1bdaf5['weightedSp'+'eed']=_0x1bdaf5['animTrack']['duration']/_0x1bdaf5['absoluteSp'+'eed']/_0x351287);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x3ad823,_0x537328){const _0x1e0d34=''+_0x3ad823+_0x537328;return this['_pointCach'+'e'][_0x1e0d34]||(this['_pointCach'+'e'][_0x1e0d34]=new J((this['_children'][_0x537328]['pointLengt'+'h']-this['_children'][_0x3ad823]['pointLengt'+'h'])/((this['_children'][_0x537328]['pointLengt'+'h']+this['_children'][_0x3ad823]['pointLengt'+'h'])/(0x201f+0x1be8+-0x3c05)),J['angleRad'](this['_children'][_0x3ad823]['point'],this['_children'][_0x537328]['point'])*(0x14b0+-0x19*-0x11+-0x1657))),this['_pointCach'+'e'][_0x1e0d34];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xd323de,_0x4db8f2;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x277d75=Ui['_p']['length']();_0xd323de=0x16a0+-0x133*0x3+0x1*-0x1307,_0x4db8f2=0x6*0x469+0x220+-0x1c96;for(let _0x9bc9cd=-0x25b5+0x1*0x19f6+0xbbf;_0x9bc9cd<this['_children']['length'];_0x9bc9cd++){const _0x47c925=this['_children'][_0x9bc9cd],_0x487bd1=_0x47c925['point'],_0x59ca37=_0x47c925['pointLengt'+'h'];let _0x2083ab=Number['MAX_VALUE'];for(let _0x5d60e1=0x1*-0x739+0x1010+-0x8d7*0x1;_0x5d60e1<this['_children']['length'];_0x5d60e1++){if(_0x9bc9cd===_0x5d60e1)continue;const _0xa1e8f3=this['pointCache'](_0x9bc9cd,_0x5d60e1),_0x2afa1d=this['_children'][_0x5d60e1]['pointLengt'+'h'];Ui['_pip']['set']((_0x277d75-_0x59ca37)/((_0x2afa1d+_0x59ca37)/(0xac5+0x13b*0xb+0x26e*-0xa)),J['angleRad'](_0x487bd1,Ui['_p'])*(0x1acb+-0x4*0x22+-0xb*0x263));const _0x13b166=Y['clamp'](-0x21e9*-0x1+-0x1*-0x14a6+-0x1b47*0x2-Math['abs'](Ui['_pip']['dot'](_0xa1e8f3)/_0xa1e8f3['lengthSq']()),0x1835*-0x1+-0x3b*0x53+-0x81*-0x56,0x2*0x46+-0xd69*0x1+0x66f*0x2);_0x13b166<_0x2083ab&&(_0x2083ab=_0x13b166);}_0x47c925['weight']=_0x2083ab,_0xd323de+=_0x2083ab,this['_syncAnima'+'tions']&&(_0x4db8f2+=_0x47c925['animTrack']['duration']/_0x47c925['absoluteSp'+'eed']*_0x47c925['weight']);}for(let _0x21225f=-0x2*-0x1fd+0xdf4+-0x11ee;_0x21225f<this['_children']['length'];_0x21225f++){const _0x1e5e3d=this['_children'][_0x21225f];if(_0x1e5e3d['weight']=_0x1e5e3d['_weight']/_0xd323de,this['_syncAnima'+'tions']){const _0x223432=_0x1e5e3d['animTrack']['duration']/_0x4db8f2*_0xd323de;_0x1e5e3d['weightedSp'+'eed']=_0x1e5e3d['absoluteSp'+'eed']*_0x223432;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3a1f18=0x1f72+0x2c3*-0x6+-0xee0,_0x20c95d=-0x1*-0xbf9+0x1*0x25f9+-0x31f2;for(let _0x24ee88=0x18*-0xda+0x2351*0x1+0xee1*-0x1;_0x24ee88<this['_children']['length'];_0x24ee88++)if(_0x3a1f18+=Math['max'](this['_parameter'+'Values'][_0x24ee88],0x814*-0x1+0xe5d+-0x649*0x1),this['_syncAnima'+'tions']){const _0x1702f5=this['_children'][_0x24ee88];_0x20c95d+=_0x1702f5['animTrack']['duration']/_0x1702f5['absoluteSp'+'eed']*_0x1702f5['weight'];}for(let _0x1d8815=0x7*-0x185+-0xc2+0xb65;_0x1d8815<this['_children']['length'];_0x1d8815++){const _0x4e3077=this['_children'][_0x1d8815],_0x7dff45=Math['max'](this['_parameter'+'Values'][_0x1d8815],0xeb8+-0xb*0x15b+0x1*0x31);_0x3a1f18?(_0x4e3077['weight']=_0x7dff45/_0x3a1f18,this['_syncAnima'+'tions']&&(_0x4e3077['weightedSp'+'eed']=_0x4e3077['animTrack']['duration']/_0x4e3077['absoluteSp'+'eed']/_0x20c95d)):(_0x4e3077['weight']=0xe2*0x5+0x2*-0x1df+0x1*-0xac,this['_syncAnima'+'tions']&&(_0x4e3077['weightedSp'+'eed']=-0x553+-0x3*0x5d9+0x16de));}}}class Fg{constructor(_0x35b803,_0x34d0f1,_0x35abe4=0x34b*-0xb+0x779*0x1+0x1cc1,_0x589947=!(-0x1dd1+-0x9de*-0x1+-0x1*-0x13f3),_0xf7cedb){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x35b803,this['_name']=_0x34d0f1,this['_speed']=_0x35abe4,this['_loop']=_0x589947,this['_hasAnimat'+'ions']=!(-0x199*-0xd+0x993+0x1*-0x1e57),_0xf7cedb?this['_blendTree']=this['_createTre'+'e'](_0xf7cedb['type'],this,null,_0x34d0f1,0xbd4+0x7*0x9a+-0x335*0x5,_0xf7cedb['parameter']?[_0xf7cedb['parameter']]:_0xf7cedb['parameters'],_0xf7cedb['children'],_0xf7cedb['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x34d0f1,-0x21b3+0x71*0x19+0x16ab,_0x35abe4));}['_createTre'+'e'](_0x25db7b,_0x3e069c,_0x1c4ca9,_0x16d55a,_0x2af5f3,_0x4ff4c5,_0x483ccc,_0x14e758,_0x416342,_0x182aa6){switch(_0x25db7b){case CL:return new OL(_0x3e069c,_0x1c4ca9,_0x16d55a,_0x2af5f3,_0x4ff4c5,_0x483ccc,_0x14e758,_0x416342,_0x182aa6);case ML:return new wu(_0x3e069c,_0x1c4ca9,_0x16d55a,_0x2af5f3,_0x4ff4c5,_0x483ccc,_0x14e758,_0x416342,_0x182aa6);case PL:return new Eu(_0x3e069c,_0x1c4ca9,_0x16d55a,_0x2af5f3,_0x4ff4c5,_0x483ccc,_0x14e758,_0x416342,_0x182aa6);case DL:return new FL(_0x3e069c,_0x1c4ca9,_0x16d55a,_0x2af5f3,_0x4ff4c5,_0x483ccc,_0x14e758,_0x416342,_0x182aa6);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x25db7b);}['_getNodeFr'+'omPath'](_0x35c724){let _0x47cba5=this['_blendTree'];for(let _0x4a5fca=0x3*0xa3+0x14e*0x1a+-0x1*0x23d4;_0x4a5fca<_0x35c724['length'];_0x4a5fca++)_0x47cba5=_0x47cba5['getChild'](_0x35c724[_0x4a5fca]);return _0x47cba5;}['addAnimati'+'on'](_0x4cc643,_0x13db14){const _0xe41487=_0x4cc643['join']('.'),_0x2e080b=this['_animation'+'List']['findIndex'](_0x594a43=>_0x594a43['path']===_0xe41487);if(_0x2e080b>=-0x1988+0xb1e*0x1+-0x267*-0x6)this['_animation'+'List'][_0x2e080b]['animTrack']=_0x13db14;else{const _0x4627d5=this['_getNodeFr'+'omPath'](_0x4cc643);_0x4627d5['animTrack']=_0x13db14,this['_animation'+'List']['push'](_0x4627d5);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x26fb+-0x1ca5+0x43a0&&this['_animation'+'List']['every'](_0x17f884=>_0x17f884['animTrack']&&_0x17f884['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0xa34072){this['_animation'+'List']=_0xa34072,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x67f7eb){this['_speed']=_0x67f7eb;}get['speed'](){return this['_speed'];}set['loop'](_0x2aded6){this['_loop']=_0x2aded6;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x757+-0x1bf1+0x149b:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x80e+0x235b+0x2*-0x15b4)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x109e+0x4*0x8a9+0x88b*-0x6){const _0x4eaa92=this['name']+'.'+this['animations'][-0x1627+0x1461+0x1c6]['animTrack']['name'],_0x147cab=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x4eaa92);if(_0x147cab)return _0x147cab['loop'];}return!(0x18a0+-0x3c2*0x8+0x7*0xc7);}get['totalWeigh'+'t'](){let _0x13655b=0x5a*-0x40+0x2e3*0x2+0x10ba;for(let _0x1ab4d3=0x9*-0x415+0x1*-0xf99+0x3456;_0x1ab4d3<this['animations']['length'];_0x1ab4d3++)_0x13655b+=this['animations'][_0x1ab4d3]['weight'];return _0x13655b;}get['timelineDu'+'ration'](){let _0x3a8450=-0x261b+-0x1a38+0x4053;for(let _0x1d9653=-0x2b5+-0x2607+0x28bc;_0x1d9653<this['animations']['length'];_0x1d9653++){const _0x537560=this['animations'][_0x1d9653];_0x537560['animTrack']['duration']>_0x3a8450&&(_0x3a8450=_0x537560['animTrack']['duration']);}return _0x3a8450;}}class Lh{constructor({from:_0x960778,to:_0xe55a99,time:_0x3d745d=-0x1*0x313+-0x77*0x12+0x1*0xb71,priority:_0x2534a6=0x257*-0xf+-0x2f*-0x17+0x1ee0,conditions:_0x1ea88d=[],exitTime:_0x4a5d6e=null,transitionOffset:_0x50540d=null,interruptionSource:_0xab4cbf=zv}){this['_from']=_0x960778,this['_to']=_0xe55a99,this['_time']=_0x3d745d,this['_priority']=_0x2534a6,this['_condition'+'s']=_0x1ea88d,this['_exitTime']=_0x4a5d6e,this['_transitio'+'nOffset']=_0x50540d,this['_interrupt'+'ionSource']=_0xab4cbf;}get['from'](){return this['_from'];}set['to'](_0x3a3f9e){this['_to']=_0x3a3f9e;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x46b607,_0x870e4a,_0x490d50,_0xe90205,_0x4dab7d,_0x44cb02,_0x4b63b1){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x39*0x45+-0x1f7*0xa+0x1*0x449),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1*0x22d8+0x1511+0xdc7*0x1)),h(this,'_playing',!(-0x740*0x4+-0x25b6+-0x163d*-0x3)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',0x3*-0x463+0x1d5*0x13+0x3*-0x737),h(this,'_totalTran'+'sitionTime',-0x95+0x2495+-0x23ff),h(this,'_isTransit'+'ioning',!(0x11f9*-0x1+0x103a+0x1c0)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',-0x2087*0x1+-0x992+0xd*0x33d),h(this,'_timeInSta'+'teBefore',-0x1ce5+-0x20*-0x4e+0x1325),h(this,'findParame'+'ter',_0x50746f=>this['_findParam'+'eter'](_0x50746f)),(this['_animEvalu'+'ator']=_0x46b607,this['_eventHand'+'ler']=_0x4dab7d,this['_findParam'+'eter']=_0x44cb02,this['_consumeTr'+'igger']=_0x4b63b1);for(let _0x21c7d7=-0x1*-0x795+-0x10dc+0x947;_0x21c7d7<_0x870e4a['length'];_0x21c7d7++)this['_states'][_0x870e4a[_0x21c7d7]['name']]=new Fg(this,_0x870e4a[_0x21c7d7]['name'],_0x870e4a[_0x21c7d7]['speed'],_0x870e4a[_0x21c7d7]['loop'],_0x870e4a[_0x21c7d7]['blendTree']),this['_stateName'+'s']['push'](_0x870e4a[_0x21c7d7]['name']);this['_transitio'+'ns']=_0x490d50['map'](_0x542615=>new Lh({..._0x542615})),this['_activate']=_0xe90205;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x3dd46b){this['_activeSta'+'teName']=_0x3dd46b;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x12ed3a){this['_previousS'+'tateName']=_0x12ed3a;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x557fb6=!(-0xb*-0x2ed+0x1adb+0x55e*-0xb);for(let _0x1a04e5=-0x196*-0x2+0x251e+-0x284a;_0x1a04e5<this['_stateName'+'s']['length'];_0x1a04e5++)this['_states'][this['_stateName'+'s'][_0x1a04e5]]['playable']||(_0x557fb6=!(-0x1f84*0x1+0x190+0x1df5*0x1));return _0x557fb6;}set['playing'](_0x1b040a){this['_playing']=_0x1b040a;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x5dba72=0x13*-0x17+0xa64+-0x8af;for(let _0x4730fd=0xf81+0xb9*-0x21+0x858;_0x4730fd<this['activeStat'+'eAnimation'+'s']['length'];_0x4730fd++){const _0x583bb5=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x4730fd]['name']);_0x583bb5&&(_0x5dba72=Math['max'](_0x5dba72,_0x583bb5['track']['duration']));}this['_activeSta'+'teDuration']=_0x5dba72,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1c4+-0xd1b+0xee0);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2e4b20){this['_timeInSta'+'teBefore']=_0x2e4b20,this['_timeInSta'+'te']=_0x2e4b20;for(let _0x1893d4=-0x7a*0x35+-0x1499+0x2ddb;_0x1893d4<this['activeStat'+'eAnimation'+'s']['length'];_0x1893d4++){const _0x588c34=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1893d4]['name']);_0x588c34&&(_0x588c34['time']=_0x2e4b20);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x57f149){return this['_animEvalu'+'ator']['assignMask'](_0x57f149);}['_findState'](_0x10cd7f){return this['_states'][_0x10cd7f];}['_getActive'+'StateProgr'+'essForTime'](_0xa2eade){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x34*0x97+-0x1*-0x7db+0x1*-0x2686;const _0x444b34=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x2080+0xd64*0x1+0x131c]['name']);return _0x444b34?_0x444b34['progressFo'+'rTime'](_0xa2eade):null;}['_findTrans'+'itionsFrom'+'State'](_0x112b01){let _0x4f6017=this['_findTrans'+'itionsFrom'+'StateCache'][_0x112b01];return _0x4f6017||(_0x4f6017=this['_transitio'+'ns']['filter'](_0x46b2b1=>_0x46b2b1['from']===_0x112b01),ul(_0x4f6017),this['_findTrans'+'itionsFrom'+'StateCache'][_0x112b01]=_0x4f6017),_0x4f6017;}['_findTrans'+'itionsBetw'+'eenStates'](_0x190ec8,_0x307b23){let _0x438eea=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x190ec8+'->'+_0x307b23];return _0x438eea||(_0x438eea=this['_transitio'+'ns']['filter'](_0x2d1e19=>_0x2d1e19['from']===_0x190ec8&&_0x2d1e19['to']===_0x307b23),ul(_0x438eea),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x190ec8+'->'+_0x307b23]=_0x438eea),_0x438eea;}['_transitio'+'nHasCondit'+'ionsMet'](_0x317846){const _0x32082e=_0x317846['conditions'];for(let _0x37831b=0x23ee+-0x1*0x12cd+0x36d*-0x5;_0x37831b<_0x32082e['length'];_0x37831b++){const _0x5d4612=_0x32082e[_0x37831b],_0x17d2dd=this['_findParam'+'eter'](_0x5d4612['parameterN'+'ame']);switch(_0x5d4612['predicate']){case xL:if(!(_0x17d2dd['value']>_0x5d4612['value']))return!(-0x1f89+0x10e2+0xea8);break;case TL:if(!(_0x17d2dd['value']<_0x5d4612['value']))return!(-0xf6*-0x6+-0x174d+0x118a);break;case wL:if(!(_0x17d2dd['value']>=_0x5d4612['value']))return!(0x2*0x326+0x447+-0xa92);break;case EL:if(!(_0x17d2dd['value']<=_0x5d4612['value']))return!(0x2137+-0x4f*0x22+-0x2*0xb5c);break;case bL:if(_0x17d2dd['value']!==_0x5d4612['value'])return!(-0x253+-0xf5c+0x11b0);break;case AL:if(_0x17d2dd['value']===_0x5d4612['value'])return!(-0x11bc+0x5*-0x6d1+0xc9*0x42);break;}}return!(-0x50f*-0x3+-0x26af+0x1782);}['_findTrans'+'ition'](_0x52acf5,_0xedc258){let _0x2b145d=[];if(_0x52acf5&&_0xedc258)_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x52acf5,_0xedc258));else{if(!this['_isTransit'+'ioning'])_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2b145d=_0x2b145d['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x2b145d=_0x2b145d['filter'](_0x386cc8=>{if(_0x386cc8['to']===this['activeStat'+'eName'])return!(-0x25bd+-0x79e+0x2*0x16ae);if(_0x386cc8['hasExitTim'+'e']){let _0x2df14b=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x3f8799=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x386cc8['exitTime']<0x1*0x1fc9+-0x1703+-0x8c5*0x1&&this['activeStat'+'e']['loop']&&(_0x2df14b-=Math['floor'](_0x2df14b),_0x3f8799-=Math['floor'](_0x3f8799)),_0x3f8799===_0x2df14b){if(_0x3f8799!==_0x386cc8['exitTime'])return null;}else{if(!(_0x386cc8['exitTime']>_0x2df14b&&_0x386cc8['exitTime']<=_0x3f8799))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x386cc8);}),_0x2b145d['length']>0x2*0x830+0x39b+0x6a9*-0x3){const _0x4f9158=_0x2b145d[0xc30+-0x1a1c+0x84*0x1b];if(_0x4f9158['to']===vu){const _0x52794=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x1*-0xc6d+-0x21b0+-0x1*-0x1543];_0x4f9158['to']=_0x52794['to'];}return _0x4f9158;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x676ece){let _0x5e9a2b,_0x6285d9,_0x276444;this['previousSt'+'ate']=_0x676ece['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x676ece['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x976+-0x1*0x93e+0x72*0x2a);for(let _0x47abca=0x1450+0x1*-0x20d3+0xc83;_0x47abca<_0x676ece['conditions']['length'];_0x47abca++){const _0x139a49=_0x676ece['conditions'][_0x47abca];this['_findParam'+'eter'](_0x139a49['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x139a49['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x205354=Math['min'](this['_totalTran'+'sitionTime']!==-0x1*-0x399+0x186c+0x3*-0x957?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x48*-0x68+0x1*-0x23de+-0x411f*-0x1,0x11b2+0x1*0x6d1+-0x1882);for(let _0x1fa31e=-0xefd+-0x9e*-0x3e+-0x1747*0x1;_0x1fa31e<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1fa31e++){this['_isTransit'+'ioning']?_0x1fa31e!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x78b+-0x14e+0x8da)?this['_transitio'+'nPreviousS'+'tates'][_0x1fa31e]['weight']*=-0x1be3*0x1+-0x12*-0x79+0x1362-_0x205354:this['_transitio'+'nPreviousS'+'tates'][_0x1fa31e]['weight']=_0x205354:this['_transitio'+'nPreviousS'+'tates'][_0x1fa31e]['weight']=-0x6d*0x2+-0x12b0+0x138b,_0x5e9a2b=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1fa31e]['name']);for(let _0x488c13=0xe19+0x71c+-0x1535;_0x488c13<_0x5e9a2b['animations']['length'];_0x488c13++)_0x6285d9=_0x5e9a2b['animations'][_0x488c13],_0x276444=this['_animEvalu'+'ator']['findClip'](_0x6285d9['name']+'.previous.'+_0x1fa31e),_0x276444||(_0x276444=this['_animEvalu'+'ator']['findClip'](_0x6285d9['name']),_0x276444['name']=_0x6285d9['name']+'.previous.'+_0x1fa31e),_0x1fa31e!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x53*-0x19+0x1fb6+-0x179a)&&_0x276444['pause']();}}this['_isTransit'+'ioning']=!(-0x1573+-0xd77+0x22ea),this['_totalTran'+'sitionTime']=_0x676ece['time'],this['_currTrans'+'itionTime']=-0x7*0x38b+0x211d+-0x850,this['_transitio'+'nInterrupt'+'ionSource']=_0x676ece['interrupti'+'onSource'];const _0x4ae6f6=this['activeStat'+'e'],_0x14e390=_0x676ece['transition'+'Offset']&&_0x676ece['transition'+'Offset']>0x1726*-0x1+-0x12*-0x128+0x256*0x1&&_0x676ece['transition'+'Offset']<0x1cd4+-0x37b+-0x656*0x4;let _0x181a76=0x56f+0x22fd+-0x18e*0x1a,_0x1afda9=0x9*-0x23+0xbd5+-0x2e*0x3b;if(_0x14e390){const _0x5d3e30=_0x4ae6f6['timelineDu'+'ration']*_0x676ece['transition'+'Offset'];_0x181a76=_0x5d3e30,_0x1afda9=_0x5d3e30;}this['_timeInSta'+'te']=_0x181a76,this['_timeInSta'+'teBefore']=_0x1afda9;for(let _0x33f47b=-0x32e+-0x9e1+0xd0f;_0x33f47b<_0x4ae6f6['animations']['length'];_0x33f47b++){if(_0x276444=this['_animEvalu'+'ator']['findClip'](_0x4ae6f6['animations'][_0x33f47b]['name']),_0x276444)_0x276444['reset']();else{const _0x3f7a16=Number['isFinite'](_0x4ae6f6['animations'][_0x33f47b]['speed'])?_0x4ae6f6['animations'][_0x33f47b]['speed']:_0x4ae6f6['speed'];_0x276444=new Dh(_0x4ae6f6['animations'][_0x33f47b]['animTrack'],this['_timeInSta'+'te'],_0x3f7a16,!(-0x163d*-0x1+0x6d6+-0x1d13),_0x4ae6f6['loop'],this['_eventHand'+'ler']),_0x276444['name']=_0x4ae6f6['animations'][_0x33f47b]['name'],this['_animEvalu'+'ator']['addClip'](_0x276444);}if(_0x676ece['time']>0x1*0x1ef4+0x1*-0x322+0x2*-0xde9?_0x276444['blendWeigh'+'t']=0x24d1+0x13d*-0x7+-0x1c26:_0x276444['blendWeigh'+'t']=_0x4ae6f6['animations'][_0x33f47b]['normalized'+'Weight'],_0x276444['play'](),_0x14e390)_0x276444['time']=_0x4ae6f6['timelineDu'+'ration']*_0x676ece['transition'+'Offset'];else{const _0x59e57e=_0x4ae6f6['speed']>=0xd*-0x1f7+-0x2097+-0x3a22*-0x1?-0x4f*0x1+-0x2*-0x719+-0xde3*0x1:this['activeStat'+'eDuration'];_0x276444['time']=_0x59e57e;}}}['_transitio'+'nToState'](_0x59fb55){if(!this['_findState'](_0x59fb55))return;let _0x24c6fd=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x59fb55);_0x24c6fd||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x24c6fd=new Lh({'from':null,'to':_0x59fb55})),this['updateStat'+'eFromTrans'+'ition'](_0x24c6fd);}['assignAnim'+'ation'](_0x1ed277,_0x3c63a1,_0x3a3fd9,_0x137548){const _0x48cfd4=_0x1ed277['split']('.');let _0x25d215=this['_findState'](_0x48cfd4[0x23a2+0x10e1+-0x1181*0x3]);_0x25d215||(_0x25d215=new Fg(this,_0x48cfd4[0x1*-0x1f5a+0x17ad+-0x83*-0xf],_0x3a3fd9),this['_states'][_0x48cfd4[0x1f22+0x623*0x3+-0x481*0xb]]=_0x25d215,this['_stateName'+'s']['push'](_0x48cfd4[-0x14ee*-0x1+-0x1*-0x6b+-0x1*0x1559])),_0x25d215['addAnimati'+'on'](_0x48cfd4,_0x3c63a1),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x25d215['name'],_0x3c63a1),_0x3a3fd9!==void(0x7c*-0x1b+0x22*-0x25+0x8ff*0x2)&&(_0x25d215['speed']=_0x3a3fd9),_0x137548!==void(-0x1221+0xf2*0x22+-0xe03)&&(_0x25d215['loop']=_0x137548),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x23a2+0xfbb+-0x1e7*0x1b);}['removeNode'+'Animations'](_0x47c38a){if(Ih['indexOf'](_0x47c38a)!==-(0x6f*-0x19+-0xf3b+0x1a13))return!(0x1474+0x2*-0x1297+0x10bb);const _0x2c2867=this['_findState'](_0x47c38a);return _0x2c2867?(_0x2c2867['animations']=[],!(-0x1398+0x173*0x3+-0x3*-0x515)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x47c38a),!(-0x196c+0x12a*0xa+0xdc9*0x1));}['play'](_0x289d7b){_0x289d7b&&this['_transitio'+'nToState'](_0x289d7b),this['_playing']=!(0x1f*-0x6b+0x156b+-0x876);}['pause'](){this['_playing']=!(-0x23*-0x35+0xc5c*0x3+-0x6*0x763);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x5*0x6e1+-0x53d+-0x1d27*0x1),this['_currTrans'+'itionTime']=0x9f*-0x6+-0x6*-0x27e+0xa9*-0x11,this['_totalTran'+'sitionTime']=-0x61c+0x125d*0x1+-0x1c0*0x7,this['_isTransit'+'ioning']=!(-0xb24*0x1+-0x3*-0x628+-0x753),this['_timeInSta'+'te']=0x8*-0x1ee+0xae8+-0x122*-0x4,this['_timeInSta'+'teBefore']=0x2be+0x3*-0xb53+0x1f3b,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x47106c){if(!this['_playing'])return;let _0x1bf8e0,_0x46744f,_0x3d28c1;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x47106c*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x47106c=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x9d7750=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x9d7750&&this['updateStat'+'eFromTrans'+'ition'](_0x9d7750),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x47106c,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x3e2b12=this['_totalTran'+'sitionTime']!==-0xe4+0x119d+-0x10b9?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x15ab+0x2163+-0x1*0xbb7;for(let _0x30158a=-0x1416*0x1+0x5*-0x25+-0x1*-0x14cf;_0x30158a<this['_transitio'+'nPreviousS'+'tates']['length'];_0x30158a++){_0x1bf8e0=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x30158a]['name']);const _0x204eab=this['_transitio'+'nPreviousS'+'tates'][_0x30158a]['weight'];for(let _0x2c9961=-0x2eb*0x2+0x42d*-0x3+0x125d;_0x2c9961<_0x1bf8e0['animations']['length'];_0x2c9961++)_0x46744f=_0x1bf8e0['animations'][_0x2c9961],_0x3d28c1=this['_animEvalu'+'ator']['findClip'](_0x46744f['name']+'.previous.'+_0x30158a),_0x3d28c1&&(_0x3d28c1['blendWeigh'+'t']=(-0x1460+-0x20a8+0x3509-_0x3e2b12)*_0x46744f['normalized'+'Weight']*_0x204eab);}_0x1bf8e0=this['activeStat'+'e'];for(let _0xca4dde=0xc51*0x1+0xc70+-0x18c1;_0xca4dde<_0x1bf8e0['animations']['length'];_0xca4dde++)_0x46744f=_0x1bf8e0['animations'][_0xca4dde],this['_animEvalu'+'ator']['findClip'](_0x46744f['name'])['blendWeigh'+'t']=_0x3e2b12*_0x46744f['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1*-0x23f3+-0xcd+0x24c1);const _0x15cd53=this['activeStat'+'eAnimation'+'s']['length'],_0x269d4e=this['_animEvalu'+'ator']['clips']['length'];for(let _0x536e13=-0xc9e*0x3+0x7b7*0x1+0x1e23;_0x536e13<_0x269d4e-_0x15cd53;_0x536e13++)this['_animEvalu'+'ator']['removeClip'](-0x139*-0xc+0xfa3*0x2+-0x2df2);this['_transitio'+'nPreviousS'+'tates']=[],_0x1bf8e0=this['activeStat'+'e'];for(let _0x455505=-0x13*-0x139+0xdef+-0x252a;_0x455505<_0x1bf8e0['animations']['length'];_0x455505++)_0x46744f=_0x1bf8e0['animations'][_0x455505],_0x3d28c1=this['_animEvalu'+'ator']['findClip'](_0x46744f['name']),_0x3d28c1&&(_0x3d28c1['blendWeigh'+'t']=_0x46744f['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x1bf8e0=this['activeStat'+'e'];for(let _0x4d5972=-0x128*0x9+-0xca1*-0x3+0xc9*-0x23;_0x4d5972<_0x1bf8e0['animations']['length'];_0x4d5972++)_0x46744f=_0x1bf8e0['animations'][_0x4d5972],_0x3d28c1=this['_animEvalu'+'ator']['findClip'](_0x46744f['name']),_0x3d28c1&&(_0x3d28c1['blendWeigh'+'t']=_0x46744f['normalized'+'Weight'],_0x46744f['parent']['syncAnimat'+'ions']&&(_0x3d28c1['speed']=_0x46744f['speed']));}}this['_animEvalu'+'ator']['update'](_0x47106c,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x342b4f,_0x4d6c9e,_0x5f3284,_0x567344,_0x47c261){super(_0x4d6c9e),this['animCompon'+'ent']=_0x342b4f,this['_mask']=_0x567344,this['layerName']=_0x5f3284,this['layerIndex']=_0x47c261;}static['_packFloat'](_0x18e3ae){return _0x18e3ae[0x1*0x186+0x246d*0x1+-0x25f3];}static['_packBoole'+'an'](_0x4bcbf5){return!!_0x4bcbf5[0x756+-0x120d*-0x2+-0x4*0xadc];}static['_packVec2'](_0x4ee2c3){return wf['x']=_0x4ee2c3[-0xa2+0x278+-0x1d6],wf['y']=_0x4ee2c3[0xace+0x1*-0x18e+-0x93f],wf;}static['_packVec3'](_0x40876f){return Tc['x']=_0x40876f[0x6*-0x3b9+-0x999+0x1fef],Tc['y']=_0x40876f[0x7*-0xad+-0x1cc5+0x2181*0x1],Tc['z']=_0x40876f[0x41e+0x60+-0xe*0x52],Tc;}static['_packVec4'](_0x183298){return _o['x']=_0x183298[0x1*0xa8f+-0x172+0x91d*-0x1],_o['y']=_0x183298[0xb*0x282+-0x1*-0xc27+-0x27bc],_o['z']=_0x183298[0x1*0x2031+0x3b5*0x5+-0x32b8],_o['w']=_0x183298[0x1*0x22d2+-0xfa2+0x132d*-0x1],_o;}static['_packColor'](_0x46c32f){return go['r']=_0x46c32f[-0x5a8*-0x1+-0x11dd+0xc35],go['g']=_0x46c32f[0xc15*-0x1+-0x2*0xd77+0x2704],go['b']=_0x46c32f[0x4*0x38a+-0x1c10+0xdea],go['a']=_0x46c32f[0x1*0x293+-0x24fc+0x226c],go;}static['_packQuat'](_0x55c2cf){return So['x']=_0x55c2cf[-0xda*-0x2+-0x48*-0x88+-0x2*0x13fa],So['y']=_0x55c2cf[-0x265*0xc+0x6*-0x67e+0x43b1],So['z']=_0x55c2cf[-0x17f+-0x2*0xb0b+0x1797],So['w']=_0x55c2cf[0xeb*0x3+0x771+0xed*-0xb],So;}['resolve'](_0x5ec4b7){const _0x4de0d9=ra['encode'](_0x5ec4b7['entityPath'],_0x5ec4b7['component'],_0x5ec4b7['propertyPa'+'th']);let _0x35f413=this['targetCach'+'e'][_0x4de0d9];if(_0x35f413)return _0x35f413;let _0x30778f,_0x1b6e31,_0xd5b661;switch(_0x5ec4b7['component']){case'entity':_0x30778f=this['_getEntity'+'FromHierar'+'chy'](_0x5ec4b7['entityPath']),_0xd5b661=ra['encode'](_0x30778f['path'],'entity',_0x5ec4b7['propertyPa'+'th']),_0x1b6e31=_0x30778f;break;case'graph':if(_0x1b6e31=this['findNode'](_0x5ec4b7),!_0x1b6e31)return null;_0xd5b661=ra['encode'](_0x1b6e31['path'],'graph',_0x5ec4b7['propertyPa'+'th']);break;default:if(_0x30778f=this['_getEntity'+'FromHierar'+'chy'](_0x5ec4b7['entityPath']),_0x1b6e31=_0x30778f['findCompon'+'ent'](_0x5ec4b7['component']),!_0x1b6e31)return null;_0xd5b661=ra['encode'](_0x30778f['path'],_0x5ec4b7['component'],_0x5ec4b7['propertyPa'+'th']);break;}return _0x35f413=this['_createAni'+'mTargetFor'+'Property'](_0x1b6e31,_0x5ec4b7['propertyPa'+'th'],_0xd5b661),this['targetCach'+'e'][_0x4de0d9]=_0x35f413,_0x35f413;}['update'](_0x41a386){const _0x328564=this['activeNode'+'s'];if(_0x328564){for(let _0x1acbc1=-0x2*0x78b+-0x4b4*0x1+0x22*0x95;_0x1acbc1<_0x328564['length'];_0x1acbc1++)_0x328564[_0x1acbc1]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x2ae47c){if(!this['animCompon'+'ent']['entity']['name']===_0x2ae47c[0xb+-0x1118+-0x110d*-0x1])return null;const _0x10443b=this['animCompon'+'ent']['entity'];return _0x2ae47c['length']===0x2bf+0x1888+-0xda3*0x2?_0x10443b:_0x10443b['_parent']['findByPath'](_0x2ae47c);}['_resolvePa'+'th'](_0x544dc7,_0x51f227,_0x3c8a04){const _0x1037b7=_0x51f227['length']-(_0x3c8a04?-0x2049*-0x1+0x1896+-0x38df:0x1*-0x154+-0x1010+-0x1165*-0x1);for(let _0x4670ca=-0x1*-0xe61+-0x1a7b+0x2*0x60d;_0x4670ca<_0x1037b7;_0x4670ca++)_0x544dc7=_0x544dc7[_0x51f227[_0x4670ca]];return _0x544dc7;}['_setter'](_0x37699e,_0x184b13,_0x34e75a){const _0x2ac175=this['_resolvePa'+'th'](_0x37699e,_0x184b13),_0x15ca4c=_0x184b13[_0x184b13['length']-(-0x53*0x22+-0xd*-0x197+-0x9a4)],_0x5b22fa='set'+_0x15ca4c['substring'](-0x1*0x2464+0x1c61*-0x1+0x40c5,-0x427+0x1*-0x731+0xb59)['toUpperCas'+'e']()+_0x15ca4c['substring'](-0x13c9+-0x6d4+0xd4f*0x2);if(_0x2ac175[_0x5b22fa]){let _0x105221=_0x2ac175['get'+_0x15ca4c['substring'](-0x847*0x1+0x3*-0x957+0x17*0x194,-0x691*-0x1+-0x19a8+0x178*0xd)['toUpperCas'+'e']()+_0x15ca4c['substring'](-0x71f*0x4+-0x168f+0x330c)]['bind'](_0x2ac175)();_0x105221=[_0x105221['x'],_0x105221['y'],_0x105221['z'],_0x105221['w']];const _0x98ddd1=_0x2ac175[_0x5b22fa]['bind'](_0x2ac175);return{'set':_0x23f60c=>{_0x98ddd1(_0x34e75a(_0x23f60c));},'get':()=>_0x105221};}const _0x254aaf=_0x2ac175[_0x15ca4c];if(typeof _0x254aaf=='object'&&_0x254aaf['hasOwnProp'+'erty']('copy'))return function(_0x56714d){_0x254aaf['copy'](_0x34e75a(_0x56714d));};if([J,D,re,ie,le]['indexOf'](_0x2ac175['constructo'+'r'])!==-(-0x4*-0x412+-0x1736+-0x19*-0x47)&&_0x184b13['length']>0x1c6c*0x1+-0x1e*-0x1+-0x1c89){const _0x33a736=_0x184b13['length']>0x13c6*-0x1+-0x266+-0x14e*-0x11?this['_resolvePa'+'th'](_0x37699e,_0x184b13['slice'](-0xdc6+0xd4e+0x78,-(-0x5d4*-0x1+-0x1eaf*-0x1+-0x2482*0x1))):_0x37699e,_0x55593c=_0x184b13[_0x184b13['length']-(0x5*0x18d+0x255*0x9+0x1cbc*-0x1)];return function(_0x570466){_0x2ac175[_0x15ca4c]=_0x34e75a(_0x570466),_0x33a736[_0x55593c]=_0x2ac175;};}return function(_0x2aab93){_0x2ac175[_0x15ca4c]=_0x34e75a(_0x2aab93);};}['_createAni'+'mTargetFor'+'Property'](_0x1c701e,_0x1e7268,_0x16e4ca){if(this['handlers']&&_0x1e7268[-0x128c+-0x4a*0x30+-0x5*-0x67c]['startsWith']('weight.'))return this['handlers']['weight'](_0x1c701e,_0x1e7268[0x1*-0xb63+0x1*-0x985+0x14e8]['replace']('weight.',''));if(this['handlers']&&_0x1e7268[0x25d5*0x1+-0x1861+-0xd74]==='material'&&_0x1e7268['length']===-0x4ea+0x1990+0x14a4*-0x1){const _0x440a40=_0x1e7268[-0x20d4+0x262f+-0x55a];if(_0x440a40['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x1c701e,_0x440a40);}const _0x5f95c3=this['_resolvePa'+'th'](_0x1c701e,_0x1e7268,!(0x48d*-0x1+-0x43a*0x2+-0x1*-0xd01));if(typeof _0x5f95c3>'u')return null;let _0x2505e8,_0x390874,_0x3695f7;if(typeof _0x5f95c3=='number')_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packFloat']),_0x390874='vector',_0x3695f7=0x2652+-0x260e+-0x43;else{if(typeof _0x5f95c3=='boolean')_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packBoole'+'an']),_0x390874='vector',_0x3695f7=-0xfd3+0x21*-0x121+0x3515;else{if(typeof _0x5f95c3=='object')switch(_0x5f95c3['constructo'+'r']){case J:_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packVec2']),_0x390874='vector',_0x3695f7=-0x183c+-0x4*-0x123+-0x13b2*-0x1;break;case D:_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packVec3']),_0x390874='vector',_0x3695f7=-0x1*0x11c5+-0x1a3*-0x11+-0xa0b;break;case re:_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packVec4']),_0x390874='vector',_0x3695f7=0x43d+-0x1*-0x1294+0xd*-0x1c1;break;case ie:_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packColor']),_0x390874='vector',_0x3695f7=0xda9+-0x19d3+0x1*0xc2e;break;case le:_0x2505e8=this['_setter'](_0x1c701e,_0x1e7268,Fi['_packQuat']),_0x390874='quaternion',_0x3695f7=0x19*0x139+-0x5*-0x5d1+-0x3ba2;break;default:return null;}}}return _0x1e7268['indexOf']('material')!==-(-0xa3c+-0x1455+0xb6*0x2b)?new xu(_0x1be976=>{_0x2505e8(_0x1be976),_0x1c701e['material']['update']();},_0x390874,_0x3695f7,_0x16e4ca):new xu(_0x2505e8,_0x390874,_0x3695f7,_0x16e4ca);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x306fd1={},_0x2914d7=function(_0x5b9065){_0x306fd1[_0x5b9065['name']]=_0x5b9065;for(let _0x33652d=0xd0a+0x1e44+-0x2b4e;_0x33652d<_0x5b9065['children']['length'];++_0x33652d)_0x2914d7(_0x5b9065['children'][_0x33652d]);};_0x2914d7(this['graph']),this['nodes']=_0x306fd1;}}class kL{constructor(_0x2489dd,_0x1f7d88,_0x25eff8,_0x361e4f=-0xe1d+0x89c+0x582,_0x20f96c=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x1f92+-0xb8d*0x2+-0x878),h(this,'_blendTime'+'Elapsed',-0x4f*-0x71+-0x62*-0x28+-0x322f*0x1),h(this,'_startingW'+'eight',-0x1dbb+0x154d*0x1+0x86e*0x1),h(this,'_targetWei'+'ght',0x1*0x1597+-0x1581+-0x16),(this['_name']=_0x2489dd,this['_controlle'+'r']=_0x1f7d88,this['_component']=_0x25eff8,this['_weight']=_0x361e4f,this['_blendType']=_0x20f96c);}get['name'](){return this['_name'];}set['playing'](_0x4779a8){this['_controlle'+'r']['playing']=_0x4779a8;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x37482d){const _0x447fd8=this['_controlle'+'r'],_0x12d7ff=_0x447fd8['playing'];_0x447fd8['playing']=!(0xd5d+0x1909+-0x2666),_0x447fd8['activeStat'+'eCurrentTi'+'me']=_0x37482d,_0x12d7ff||_0x447fd8['update'](-0xf8d+0x200a*-0x1+0x2f97),_0x447fd8['playing']=_0x12d7ff;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x1f4975){this['_weight']=_0x1f4975,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x35e11d){_0x35e11d!==this['_blendType']&&(this['_blendType']=_0x35e11d,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x4e8132){this['_controlle'+'r']['assignMask'](_0x4e8132)&&this['_component']['rebind'](),this['_mask']=_0x4e8132;}get['mask'](){return this['_mask'];}['play'](_0x31e4cc){this['_controlle'+'r']['play'](_0x31e4cc);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x4cce8d){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x4cce8d):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1*0xa6a+-0x10*-0xfa+-0x1a0a,this['_blendTime'+'Elapsed']=0x892+0x1*-0x2ab+-0x5e7*0x1,this['_startingW'+'eight']=-0x9*0xd6+0x128a+-0xb04,this['_targetWei'+'ght']=0x238b+0x4ef+0x16*-0x1d7)),this['_controlle'+'r']['update'](_0x4cce8d);}['blendToWei'+'ght'](_0xfd6875,_0xb2e194){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0xfd6875,this['_blendTime']=Math['max'](0xafb+0x14*0xc5+-0x1a5f,_0xb2e194),this['_blendTime'+'Elapsed']=-0x4*-0x607+-0x1fa4+-0x1*-0x788;}['assignAnim'+'ation'](_0x3f8c83,_0x4130a8,_0x9e8157,_0x3ae8b0){if(!(_0x4130a8 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x3f8c83,_0x4130a8,_0x9e8157,_0x3ae8b0),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x251f+0xc*-0x2c5+0xd9*0x53&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x3f8c83})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x78b+-0x499*-0x5+0x6*-0x293));}['removeNode'+'Animations'](_0x4491d9){this['_controlle'+'r']['removeNode'+'Animations'](_0x4491d9)&&(this['_component']['playing']=!(-0x691*0x2+0x1*-0x1777+0x249a));}['getAnimati'+'onAsset'](_0x42468f){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x42468f];}['transition'](_0x5c9fd0,_0x1b1e92=0x1*0xa7+0x22ef+0x11cb*-0x2,_0x5918ea=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x5c9fd0,'time':_0x1b1e92,'transitionOffset':_0x5918ea}));}}class Jc{constructor(_0x30f2b9){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x30f2b9['layers']))this['_layers']=_0x30f2b9['layers'];else for(const _0x375a87 in _0x30f2b9['layers']){const _0x2625b3=_0x30f2b9['layers'][_0x375a87],_0x3a2117={'name':_0x2625b3['name'],'blendType':_0x2625b3['blendType'],'weight':_0x2625b3['weight'],'states':[],'transitions':[]};for(let _0x4a358a=-0x4bd*-0x8+-0x188a+-0x6af*0x2;_0x4a358a<_0x2625b3['states']['length'];_0x4a358a++)_0x3a2117['states']['push'](_0x30f2b9['states'][_0x2625b3['states'][_0x4a358a]]);for(let _0x2d65c2=-0x201c*-0x1+0x1211+-0x23*0x16f;_0x2d65c2<_0x2625b3['transition'+'s']['length'];_0x2d65c2++){const _0x5a6bed=_0x30f2b9['transition'+'s'][_0x2625b3['transition'+'s'][_0x2d65c2]];if(_0x5a6bed['conditions']&&!Array['isArray'](_0x5a6bed['conditions'])){const _0x5a5ce2=Object['keys'](_0x5a6bed['conditions']),_0x5dd1b2=[];for(let _0x1d3d95=-0x1c39+-0x1011*-0x2+-0x3e9;_0x1d3d95<_0x5a5ce2['length'];_0x1d3d95++){const _0x3a7a79=_0x5a6bed['conditions'][_0x5a5ce2[_0x1d3d95]];_0x3a7a79['parameterN'+'ame']&&_0x5dd1b2['push'](_0x3a7a79);}_0x5a6bed['conditions']=_0x5dd1b2;}Number['isInteger'](_0x5a6bed['from'])&&(_0x5a6bed['from']=_0x30f2b9['states'][_0x5a6bed['from']]['name']),Number['isInteger'](_0x5a6bed['to'])&&(_0x5a6bed['to']=_0x30f2b9['states'][_0x5a6bed['to']]['name']),_0x3a2117['transition'+'s']['push'](_0x5a6bed);}this['_layers']['push'](_0x3a2117);}for(const _0x124dfc in _0x30f2b9['parameters']){const _0x1a5e5e=_0x30f2b9['parameters'][_0x124dfc];this['_parameter'+'s'][_0x1a5e5e['name']]={'type':_0x1a5e5e['type'],'value':_0x1a5e5e['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x10e9*-0x2+-0xe2a+0x2ffd),h(this,'_activate',!(-0x17f1+-0xc4d+-0x1*-0x243e)),h(this,'_playing',!(-0x184f*0x1+-0x6af*0x2+0xb6*0x35)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0x5e7+-0x1b7d+-0x1597*-0x1)),h(this,'findParame'+'ter',_0x3d58aa=>this['_parameter'+'s'][_0x3d58aa]),h(this,'consumeTri'+'gger',_0x5284ad=>{this['_consumedT'+'riggers']['add'](_0x5284ad);});}set['stateGraph'+'Asset'](_0x38434b){if(_0x38434b===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x3f400e,_0x4a760e;_0x38434b instanceof pe?(_0x3f400e=_0x38434b['id'],_0x4a760e=this['system']['app']['assets']['get'](_0x3f400e),_0x4a760e||(this['system']['app']['assets']['add'](_0x38434b),_0x4a760e=this['system']['app']['assets']['get'](_0x3f400e))):(_0x3f400e=_0x38434b,_0x4a760e=this['system']['app']['assets']['get'](_0x3f400e)),!(!_0x4a760e||this['_stateGrap'+'hAsset']===_0x3f400e)&&(_0x4a760e['resource']?(this['_stateGrap'+'h']=_0x4a760e['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x4a760e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x4a760e['once']('load',_0x5a8cfb=>{this['_stateGrap'+'h']=_0x5a8cfb['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x4a760e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x4a760e)),this['_stateGrap'+'hAsset']=_0x3f400e);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x2cb248){this['_normalize'+'Weights']=_0x2cb248,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x4b02b7){this['_animation'+'Assets']=_0x4b02b7,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x33502b){this['_speed']=_0x33502b;}get['speed'](){return this['_speed'];}set['activate'](_0x293a5e){this['_activate']=_0x293a5e;}get['activate'](){return this['_activate'];}set['playing'](_0x3df7e6){this['_playing']=_0x3df7e6;}get['playing'](){return this['_playing'];}set['rootBone'](_0x373558){if(typeof _0x373558=='string'){const _0xd44985=this['entity']['root']['findByGuid'](_0x373558);w['assert'](_0xd44985,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x373558+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0xd44985;}else _0x373558 instanceof lt?this['_rootBone']=_0x373558:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x4316a4){this['_stateGrap'+'h']=_0x4316a4;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x4d13f3){this['_layerIndi'+'ces']=_0x4d13f3;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0xd4ee3b){this['_parameter'+'s']=_0xd4ee3b;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x346482){this['_targets']=_0x346482;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x1c2461=0x160c+-0x23f9+0x1*0xded;_0x1c2461<this['_layers']['length'];_0x1c2461++)if(!this['_layers'][_0x1c2461]['playable'])return!(0xbc0+-0x19b0+0xdf1);return!(-0x168d+0xd08+0x985);}get['baseLayer'](){return this['_layers']['length']>0xb5d*0x1+0x4*-0x1b7+-0x481*0x1?this['_layers'][0x5*-0x685+-0x96f+-0x868*-0x5]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x1a1292){const _0x3c70c=this['animationA'+'ssets'],_0x3276d8=this['layers']['map'](_0x132871=>_0x132871['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x1a1292['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x3c70c,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x2d57fd,_0x28e295)=>{_0x2d57fd['mask']=_0x3276d8[_0x28e295];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x50b0fc=Object['values'](this['_targets']);for(let _0xcf9683=-0x2*-0x49+0x447*0x5+-0x15f5;_0xcf9683<_0x50b0fc['length'];_0xcf9683++)_0x50b0fc[_0xcf9683]['dirty']=!(0x3bd+-0x1d86+0xa1*0x29);}['_addLayer']({name:_0x104765,states:_0x2c644f,transitions:_0x508b40,weight:_0x5c7d73,mask:_0x1977d1,blendType:_0x2662ed}){let _0x498c78;this['rootBone']?_0x498c78=this['rootBone']:_0x498c78=this['entity'];const _0x302c61=this['_layers']['length'],_0x152555=new Fi(this,_0x498c78,_0x104765,_0x1977d1,_0x302c61),_0x1e49a7=new Gv(_0x152555),_0x45c748=new NL(_0x1e49a7,_0x2c644f,_0x508b40,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x104765,_0x45c748,this,_0x5c7d73,_0x2662ed)),this['_layerIndi'+'ces'][_0x104765]=_0x302c61,this['_layers'][_0x302c61];}['addLayer'](_0x2d1e79,_0x4f1e67,_0x516e49,_0x504e9f){const _0x404582=this['findAnimat'+'ionLayer'](_0x2d1e79);if(_0x404582)return _0x404582;const _0x2a5bba=[{'name':'START','speed':0x1}],_0x48adb8=[];return this['_addLayer']({'name':_0x2d1e79,'states':_0x2a5bba,'transitions':_0x48adb8,'weight':_0x4f1e67,'mask':_0x516e49,'blendType':_0x504e9f});}['_assignPar'+'ameters'](_0x3cad26){this['_parameter'+'s']={};const _0x167864=Object['keys'](_0x3cad26['parameters']);for(let _0x1c62f6=0x925*-0x1+0x2190+0x186b*-0x1;_0x1c62f6<_0x167864['length'];_0x1c62f6++){const _0x337c8a=_0x167864[_0x1c62f6];this['_parameter'+'s'][_0x337c8a]={'type':_0x3cad26['parameters'][_0x337c8a]['type'],'value':_0x3cad26['parameters'][_0x337c8a]['value']};}}['loadStateG'+'raph'](_0x353464){this['_stateGrap'+'h']=_0x353464,this['_assignPar'+'ameters'](_0x353464),this['_layers']=[];let _0x373214=!(-0x6*-0x307+-0x11f7+0xa*-0x5);for(let _0x404b97=-0x3*-0x7+-0x1603+0x15ee;_0x404b97<_0x353464['layers']['length'];_0x404b97++){const _0x47a8c3=_0x353464['layers'][_0x404b97];this['_addLayer']({..._0x47a8c3}),_0x47a8c3['states']['some'](_0x43acfd=>_0x43acfd['blendTree'])&&(_0x373214=!(0x195f+0x14a2+-0x2e01));}_0x373214||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x1c698d=0x26c3+0x6*0x42c+-0x3fcb*0x1;_0x1c698d<this['_layers']['length'];_0x1c698d++){const _0xb10d57=this['_layers'][_0x1c698d],_0x1191b4=_0xb10d57['name'];for(let _0x17eb1a=0xf2c+-0x98*0x1+-0xe94;_0x17eb1a<_0xb10d57['states']['length'];_0x17eb1a++){const _0x5b0f47=_0xb10d57['states'][_0x17eb1a];if(Ih['indexOf'](_0x5b0f47)===-(-0x228e*0x1+0x3fb+0x4*0x7a5)){const _0x5902cf=_0x1191b4+':'+_0x5b0f47;this['_animation'+'Assets'][_0x5902cf]||(this['_animation'+'Assets'][_0x5902cf]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x1ae538=-0x689*0x2+-0x611*0x2+0x1934;_0x1ae538<this['_layers']['length'];_0x1ae538++){const _0x579781=this['_layers'][_0x1ae538];for(let _0x24c59c=-0x5*0x359+0x26a5+-0x15e8;_0x24c59c<_0x579781['states']['length'];_0x24c59c++){const _0x52c7a9=_0x579781['states'][_0x24c59c];if(Ih['indexOf'](_0x52c7a9)!==-(0x5f3+0x1f*-0x81+0x1*0x9ad))continue;const _0x3e057e=this['_animation'+'Assets'][_0x579781['name']+':'+_0x52c7a9];if(!_0x3e057e||!_0x3e057e['asset']){this['findAnimat'+'ionLayer'](_0x579781['name'])['assignAnim'+'ation'](_0x52c7a9,Qi['EMPTY']);continue;}const _0x80c6e5=_0x3e057e['asset'],_0x5175d8=this['system']['app']['assets']['get'](_0x80c6e5);_0x5175d8&&(_0x5175d8['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x579781['name'],_0x52c7a9,_0x5175d8):(_0x5175d8['once']('load',function(_0x2406fe,_0x42c79b){return function(_0x69d4db){this['onAnimatio'+'nAssetLoad'+'ed'](_0x2406fe,_0x42c79b,_0x69d4db);}['bind'](this);}['bind'](this)(_0x579781['name'],_0x52c7a9)),this['system']['app']['assets']['load'](_0x5175d8)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5bf0b6,_0x1699f6,_0x128803){this['findAnimat'+'ionLayer'](_0x5bf0b6)['assignAnim'+'ation'](_0x1699f6,_0x128803['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x8*-0x445+0x28e*-0xc+-0x40d1*-0x1),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x257785=0x171e+-0x4a*0x2+-0x168a*0x1;_0x257785<this['_layers']['length'];_0x257785++){const _0x17781e=this['_layers'][_0x257785]['playing'];this['_layers'][_0x257785]['reset'](),this['_layers'][_0x257785]['playing']=_0x17781e;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x341695=>{this['_targets'][_0x341695]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x50994f=0x28*0x1a+-0x9bc+0x5ac;_0x50994f<this['_layers']['length'];_0x50994f++)this['_layers'][_0x50994f]['rebind']();}['findAnimat'+'ionLayer'](_0xb99370){const _0x463d14=this['_layerIndi'+'ces'][_0xb99370];return this['_layers'][_0x463d14]||null;}['addAnimati'+'onState'](_0x56058e,_0x7beb49,_0x427942=0x1*0x24cb+-0x1d8*-0x3+-0x1*0x2a52,_0x4e1046=!(0x2003+-0x11c*0x12+-0xc0b),_0x538a0c='Base'){var _0x4fc417;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x538a0c,'states':[{'name':'START','speed':0x1},{'name':_0x56058e,'speed':_0x427942,'loop':_0x4e1046,'defaultState':!(0x1*0x9c8+-0x2070+0xe8*0x19)}],'transitions':[{'from':'START','to':_0x56058e}]}],'parameters':{}}));const _0x289289=this['findAnimat'+'ionLayer'](_0x538a0c);_0x289289?_0x289289['assignAnim'+'ation'](_0x56058e,_0x7beb49,_0x427942,_0x4e1046):(_0x4fc417=this['addLayer'](_0x538a0c))==null||_0x4fc417['assignAnim'+'ation'](_0x56058e,_0x7beb49,_0x427942,_0x4e1046);}['assignAnim'+'ation'](_0x544d39,_0x4156bf,_0x2c0977,_0x8b4636=0x132f+-0x2d3+0x105b*-0x1,_0x29565d=!(-0x6f7+0x222+0x4d5)){if(!this['_stateGrap'+'h']&&_0x544d39['indexOf']('.')===-(-0xb0+-0xcb7+-0x18*-0x8f)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x544d39,'speed':_0x8b4636,'loop':_0x29565d,'defaultState':!(0x1a97+-0x10ef+-0x9a8)}],'transitions':[{'from':'START','to':_0x544d39}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x544d39,_0x4156bf);return;}const _0x1f23f9=_0x2c0977?this['findAnimat'+'ionLayer'](_0x2c0977):this['baseLayer'];if(!_0x1f23f9){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x1f23f9['assignAnim'+'ation'](_0x544d39,_0x4156bf,_0x8b4636,_0x29565d);}['removeNode'+'Animations'](_0x5bb240,_0x351466){const _0x88efb7=_0x351466?this['findAnimat'+'ionLayer'](_0x351466):this['baseLayer'];if(!_0x88efb7){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x88efb7['removeNode'+'Animations'](_0x5bb240);}['getParamet'+'erValue'](_0x543ec0,_0x1a4f48){const _0x5aed51=this['_parameter'+'s'][_0x543ec0];if(_0x5aed51&&_0x5aed51['type']===_0x1a4f48)return _0x5aed51['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x543ec0+('\x22\x20of\x20type\x20'+'\x22')+_0x1a4f48+'\x22');}['setParamet'+'erValue'](_0x2f9953,_0x4011ba,_0x3c75c3){const _0x1dee30=this['_parameter'+'s'][_0x2f9953];if(_0x1dee30&&_0x1dee30['type']===_0x4011ba){_0x1dee30['value']=_0x3c75c3;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x2f9953+('\x22\x20of\x20type\x20'+'\x22')+_0x4011ba+'\x22');}['getFloat'](_0x1b4d70){return this['getParamet'+'erValue'](_0x1b4d70,Rg);}['setFloat'](_0x56a561,_0x9e838f){this['setParamet'+'erValue'](_0x56a561,Rg,_0x9e838f);}['getInteger'](_0x46f6a5){return this['getParamet'+'erValue'](_0x46f6a5,Lg);}['setInteger'](_0xe1bae2,_0x13faac){typeof _0x13faac=='number'&&_0x13faac%(-0x26cc+0x5*-0xd3+0x86*0x52)===-0x3*0xacf+0x1*0x1499+0xbd4?this['setParamet'+'erValue'](_0xe1bae2,Lg,_0x13faac):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0xe1bae2,_0x13faac);}['getBoolean'](_0xddb7df){return this['getParamet'+'erValue'](_0xddb7df,Og);}['setBoolean'](_0x70a4d8,_0x5f3999){this['setParamet'+'erValue'](_0x70a4d8,Og,!!_0x5f3999);}['getTrigger'](_0x5277f2){return this['getParamet'+'erValue'](_0x5277f2,Qc);}['setTrigger'](_0x24eaed,_0x3780b2=!(0x1*-0x11ab+-0x1193+0x233f)){this['setParamet'+'erValue'](_0x24eaed,Qc,!(0x5d*-0x16+0x1f*0x17+0x535)),_0x3780b2&&this['_consumedT'+'riggers']['add'](_0x24eaed);}['resetTrigg'+'er'](_0x5604a){this['setParamet'+'erValue'](_0x5604a,Qc,!(0x1e94+0x159c+-0x342f));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x1ad446){for(let _0xfd5661=0x2600+0x24e7+-0x41*0x127;_0xfd5661<this['layers']['length'];_0xfd5661++)this['layers'][_0xfd5661]['update'](_0x1ad446*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x284264=>{this['parameters'][_0x284264]['value']=!(-0x75*0x49+0x482*0x7+-0x3a*-0x8);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x7c5733,_0x26d0b1){_0x7c5733['rootBone']&&_0x26d0b1[_0x7c5733['rootBone']['getGuid']()]?this['rootBone']=_0x26d0b1[_0x7c5733['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0xca7*-0x1+-0x873+-0x1*-0x151a);}}const bu=['enabled'];class BL extends ct{constructor(_0x14eb79){super(_0x14eb79),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x48508f,_0x354bac,_0x520bf9){super['initialize'+'ComponentD'+'ata'](_0x48508f,_0x354bac,bu);const _0x17297f=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x354bac)['forEach'](_0x11819c=>{_0x17297f['includes'](_0x11819c)||(_0x48508f[_0x11819c]=_0x354bac[_0x11819c]);}),_0x354bac['stateGraph']&&(_0x48508f['stateGraph']=_0x354bac['stateGraph'],_0x48508f['loadStateG'+'raph'](_0x48508f['stateGraph'])),_0x354bac['layers']&&_0x354bac['layers']['forEach']((_0x3e239c,_0x596743)=>{_0x3e239c['_controlle'+'r']['states']['forEach'](_0x1124e8=>{_0x3e239c['_controlle'+'r']['_states'][_0x1124e8]['_animation'+'List']['forEach'](_0x4fbbe9=>{if(!_0x4fbbe9['animTrack']||_0x4fbbe9['animTrack']===Qi['EMPTY']){const _0x59c4d0=this['app']['assets']['get'](_0x3e239c['_component']['_animation'+'Assets'][_0x3e239c['name']+':'+_0x4fbbe9['name']]['asset']);_0x59c4d0&&!_0x59c4d0['loaded']&&_0x59c4d0['once']('load',()=>{_0x48508f['layers'][_0x596743]['assignAnim'+'ation'](_0x4fbbe9['name'],_0x59c4d0['resource']);});}else _0x48508f['layers'][_0x596743]['assignAnim'+'ation'](_0x4fbbe9['name'],_0x4fbbe9['animTrack']);});});}),_0x354bac['animationA'+'ssets']&&(_0x48508f['animationA'+'ssets']=Object['assign'](_0x48508f['animationA'+'ssets'],_0x354bac['animationA'+'ssets'])),_0x354bac['masks']&&Object['keys'](_0x354bac['masks'])['forEach'](_0x4c0af9=>{if(_0x48508f['layers'][_0x4c0af9]){const _0x1df10c=_0x354bac['masks'][_0x4c0af9]['mask'],_0x5624a1={};Object['keys'](_0x1df10c)['forEach'](_0x5a8de1=>{_0x5624a1[decodeURI(_0x5a8de1)]=_0x1df10c[_0x5a8de1];}),_0x48508f['layers'][_0x4c0af9]['mask']=_0x5624a1;}});}['onAnimatio'+'nUpdate'](_0x1dc9d8){const _0x2bd76d=this['store'];for(const _0x7eb990 in _0x2bd76d)if(_0x2bd76d['hasOwnProp'+'erty'](_0x7eb990)){const _0x1be87e=_0x2bd76d[_0x7eb990]['entity']['anim'];_0x1be87e['data']['enabled']&&_0x1be87e['entity']['enabled']&&_0x1be87e['playing']&&_0x1be87e['update'](_0x1dc9d8);}}['cloneCompo'+'nent'](_0x43a737,_0x5dec55){let _0xc1e54e;(!_0x43a737['anim']['rootBone']||_0x43a737['anim']['rootBone']===_0x43a737)&&(_0xc1e54e={},_0x43a737['anim']['layers']['forEach']((_0x4d6b95,_0x2c2f79)=>{if(_0x4d6b95['mask']){const _0x3c6be5={};Object['keys'](_0x4d6b95['mask'])['forEach'](_0x32f277=>{const _0x13646d=_0x32f277['split']('/');_0x13646d['shift']();const _0x128657=[_0x5dec55['name'],..._0x13646d]['join']('/');_0x3c6be5[_0x128657]=_0x4d6b95['mask'][_0x32f277];}),_0xc1e54e[_0x2c2f79]={'mask':_0x3c6be5};}}));const _0x413d7b={'enabled':_0x43a737['anim']['enabled'],'stateGraphAsset':_0x43a737['anim']['stateGraph'+'Asset'],'animationAssets':_0x43a737['anim']['animationA'+'ssets'],'speed':_0x43a737['anim']['speed'],'activate':_0x43a737['anim']['activate'],'playing':_0x43a737['anim']['playing'],'rootBone':_0x43a737['anim']['rootBone'],'stateGraph':_0x43a737['anim']['stateGraph'],'layers':_0x43a737['anim']['layers'],'layerIndices':_0x43a737['anim']['layerIndic'+'es'],'parameters':_0x43a737['anim']['parameters'],'normalizeWeights':_0x43a737['anim']['normalizeW'+'eights'],'masks':_0xc1e54e};return this['addCompone'+'nt'](_0x5dec55,_0x413d7b);}['onBeforeRe'+'move'](_0x212672,_0x2b431a){_0x2b431a['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x3e341=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x3e341);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0xe5d*0x1+-0x1*-0x1e3e+-0x2c9b);}}const qv=['enabled'];class VL extends ct{constructor(_0x3a4283){super(_0x3a4283),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x3a4283['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x494a19,_0x2d977c,_0x5cbe2a){_0x5cbe2a=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x494a19,_0x2d977c,_0x5cbe2a);}['onUpdate'](_0x421b18){if(this['current']){const _0x4fa349=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x4fa349);const _0x387f47=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x387f47);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x2544+-0x1*0xd51+0x233*0x17,Ng=-0x1213+0x1341+-0x12d*0x1,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0xf81eea,_0x116fa6){super(_0xf81eea,_0x116fa6),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0x411+-0xf0f+0x1*0xaff)),h(this,'_hoveringC'+'ounter',-0xd1d*-0x2+-0x1145+-0x8f5),h(this,'_isPressed',!(-0x11*-0x167+-0xd*-0x151+-0x28f3)),h(this,'_defaultTi'+'nt',new ie(-0x14e3+0x159+-0x138b*-0x1,-0x1*0x1f6b+-0x189b+0x3807,0x1120+0x6*-0x364+-0xb*-0x4b,-0x1*0x7e5+-0xe*-0x292+0x1c16*-0x1)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x468*0x1+-0x3b7*-0x6+-0x1ab2),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x2581*-0x1+-0x108+0x268a*0x1),this['_hoveringC'+'ounter']=-0x15a6+-0x1550+0x2af6,this['_isPressed']=!(-0x9b6*0x3+-0x1252+0x2f75),this['_defaultTi'+'nt']=new ie(0x1ba7*-0x1+0x16*-0x46+-0x1af*-0x14,-0x1309+-0x131*-0x7+0x391*0x3,0x1*-0x2d7+0x75*0x4f+-0x6a7*0x5,0x1*-0xf51+0x168e+-0x73c),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x17d2+0x1*-0x1d64+0x2*0x1a9b,this['_toggleLif'+'ecycleList'+'eners']('on',_0xf81eea));}get['data'](){const _0x3b90a0=this['system']['store'][this['entity']['getGuid']()];return _0x3b90a0?_0x3b90a0['data']:null;}set['enabled'](_0x1156e2){this['_setValue']('enabled',_0x1156e2);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x213591){this['_setValue']('active',_0x213591);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x33cf8c){if(this['_imageEnti'+'ty']!==_0x33cf8c){const _0x369636=typeof _0x33cf8c=='string';if(this['_imageEnti'+'ty']&&_0x369636&&this['_imageEnti'+'ty']['getGuid']()===_0x33cf8c)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x33cf8c instanceof Ie?this['_imageEnti'+'ty']=_0x33cf8c:_0x369636?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x33cf8c)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x369636&&_0x33cf8c&&(this['data']['imageEntit'+'y']=_0x33cf8c);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x714b4a){this['_setValue']('hitPadding',_0x714b4a);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x597267){this['_setValue']('transition'+'Mode',_0x597267);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x5dfcfc){this['_setValue']('hoverTint',_0x5dfcfc);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x49c268){this['_setValue']('pressedTin'+'t',_0x49c268);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x2d8286){this['_setValue']('inactiveTi'+'nt',_0x2d8286);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x496d8d){this['_setValue']('fadeDurati'+'on',_0x496d8d);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x3ac088){this['_setValue']('hoverSprit'+'eAsset',_0x3ac088);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x65f133){this['_setValue']('hoverSprit'+'eFrame',_0x65f133);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x34ed24){this['_setValue']('pressedSpr'+'iteAsset',_0x34ed24);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x82349e){this['_setValue']('pressedSpr'+'iteFrame',_0x82349e);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x25dfee){this['_setValue']('inactiveSp'+'riteAsset',_0x25dfee);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x43f121){this['_setValue']('inactiveSp'+'riteFrame',_0x43f121);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0xa7c5bc,_0x355c87){const _0x24566c=this['data'],_0x4b40f3=_0x24566c[_0xa7c5bc];_0x24566c[_0xa7c5bc]=_0x355c87,this['fire']('set',_0xa7c5bc,_0x4b40f3,_0x355c87);}['_toggleLif'+'ecycleList'+'eners'](_0x495f3c,_0x238ee7){var _0xae5ab4;this[_0x495f3c]('set_active',this['_onSetActi'+'ve'],this),this[_0x495f3c]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x495f3c]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x495f3c]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x495f3c==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0xae5ab4=this['_evtElemen'+'tAdd'])==null||_0xae5ab4['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x3c8ef7,_0x13f162,_0x656e84){_0x13f162!==_0x656e84&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x518c5e,_0x2246cc,_0xf687cc){_0x2246cc!==_0xf687cc&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2246cc),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x23ef61,_0x56779f,_0x7d06c3){_0x56779f!==_0x7d06c3&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x4910dc,_0x2b263d;(_0x4910dc=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x4910dc['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x2b263d=this['_imageEnti'+'ty'])!=null&&_0x2b263d['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x464452=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x464452['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x464452['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x464452['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x464452['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x464452['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x11f483,_0x27aee9,_0x38595f,_0x4184b5,_0x31865d;(_0x11f483=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x11f483['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x27aee9=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x27aee9['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x38595f=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x38595f['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x4184b5=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x4184b5['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x31865d=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x31865d['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0xd9d53d){if(this['entity']['element']){const _0x1f04e8=_0xd9d53d==='on';if(_0x1f04e8&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0xd9d53d]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0xd9d53d]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0xd9d53d]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0xd9d53d]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0xd9d53d]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0xd9d53d]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0xd9d53d]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0xd9d53d]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0xd9d53d]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0xd9d53d]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0xd9d53d]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0xd9d53d]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0xd9d53d]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0xd9d53d]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x1f04e8;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x14baf2;const _0x5e6c87=(_0x14baf2=this['_imageEnti'+'ty'])==null?void(0x69e*0x1+0x12*0xd8+-0x15ce):_0x14baf2['element'];!_0x5e6c87||_0x5e6c87['type']===eh||(this['_storeDefa'+'ultColor'](_0x5e6c87['color']),this['_storeDefa'+'ultOpacity'](_0x5e6c87['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x5e6c87['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x5e6c87['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x209aa0){this['_defaultTi'+'nt']['r']=_0x209aa0['r'],this['_defaultTi'+'nt']['g']=_0x209aa0['g'],this['_defaultTi'+'nt']['b']=_0x209aa0['b'];}['_storeDefa'+'ultOpacity'](_0x18bf89){this['_defaultTi'+'nt']['a']=_0x18bf89;}['_storeDefa'+'ultSpriteA'+'sset'](_0x23b311){this['_defaultSp'+'riteAsset']=_0x23b311;}['_storeDefa'+'ultSpriteF'+'rame'](_0x4b97f4){this['_defaultSp'+'riteFrame']=_0x4b97f4;}['_onSetColo'+'r'](_0x204089){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x204089),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x2f7ecb){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x2f7ecb),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x5c942e){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x5c942e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x4bcddd){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x4bcddd),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x5e6aa3){this['_isHoverin'+'g']=!(-0xd*-0x20b+0xee2+-0x2971*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x5e6aa3);}['_onMouseLe'+'ave'](_0x2375c2){this['_isHoverin'+'g']=!(-0x782*0x2+0x1a7c+-0xb77),this['_isPressed']=!(0xb8f+0x9c4+-0x1552),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x2375c2);}['_onMouseDo'+'wn'](_0xa48f9e){this['_isPressed']=!(-0x108c+-0x2*0x561+0x1b4e*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0xa48f9e);}['_onMouseUp'](_0x1d07bb){this['_isPressed']=!(-0xf36*0x2+0x25c1+-0x1c*0x43),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x1d07bb);}['_onTouchSt'+'art'](_0x4eede2){this['_isPressed']=!(-0x1781+0x1*-0x1529+-0x2caa*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x4eede2);}['_onTouchEn'+'d'](_0x53ebc4){_0x53ebc4['event']['preventDef'+'ault'](),this['_isPressed']=!(-0xe9*-0x1b+0x1169*0x1+-0x29fb),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x53ebc4);}['_onTouchLe'+'ave'](_0x487dcd){this['_isPressed']=!(-0x1*-0x217b+0xb3f+0x2cb9*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x487dcd);}['_onTouchCa'+'ncel'](_0x53eb4b){this['_isPressed']=!(-0x71*-0x1d+-0x152a+0x85e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x53eb4b);}['_onSelectS'+'tart'](_0x363ffd){this['_isPressed']=!(-0x1e7b*0x1+-0x18*0xc5+0x30f3*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x363ffd);}['_onSelectE'+'nd'](_0x1bea23){this['_isPressed']=!(0x60*0x34+-0x113b+-0x244),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x1bea23);}['_onSelectE'+'nter'](_0x11d239){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x950*-0x3+-0x1*0xf97+0x14*-0x9e&&(this['_isHoverin'+'g']=!(-0x269b+0x218b+-0x1*-0x510),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x11d239);}['_onSelectL'+'eave'](_0x546f16){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x5d*-0x1+0x1*0x1fb5+-0x1f58&&(this['_isHoverin'+'g']=!(0x2471+-0x88f+-0x1be1),this['_isPressed']=!(0xebb+-0xfb*0x6+-0x8d8),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x546f16);}['_onClick'](_0x40a294){this['_fireIfAct'+'ive']('click',_0x40a294);}['_fireIfAct'+'ive'](_0x31bcec,_0x1093a5){this['data']['active']&&this['fire'](_0x31bcec,_0x1093a5);}['_updateVis'+'ualState'](_0x828318){const _0x553a9c=this['_visualSta'+'te'],_0x162e63=this['_determine'+'VisualStat'+'e']();if((_0x553a9c!==_0x162e63||_0x828318)&&this['enabled'])switch(this['_visualSta'+'te']=_0x162e63,_0x553a9c===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x553a9c===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x162e63===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x162e63===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x5db5b4=kl[this['_visualSta'+'te']],_0x44a59c=this[_0x5db5b4];this['_applyTint'](_0x44a59c);break;}case Ng:{const _0x5afaae=Ul[this['_visualSta'+'te']],_0x23a063=Bl[this['_visualSta'+'te']],_0x1ed17b=this[_0x5afaae],_0x4185f8=this[_0x23a063];this['_applySpri'+'te'](_0x1ed17b,_0x4185f8);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0xf76+0x5b+-0xfd1));}['_resetToDe'+'faultVisua'+'lState'](_0x3ae7f4){var _0x1a99db;if((_0x1a99db=this['_imageEnti'+'ty'])!=null&&_0x1a99db['element'])switch(_0x3ae7f4){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x340681,_0x24d46d){var _0xf6308;const _0x20a0ed=(_0xf6308=this['_imageEnti'+'ty'])==null?void(-0x15ce+-0x1*0x10e2+-0x1358*-0x2):_0xf6308['element'];_0x20a0ed&&(_0x24d46d=_0x24d46d||0x73*0x3e+-0x1459+-0x781,this['_isApplyin'+'gSprite']=!(-0xb3c+0x20db+-0x159f),_0x20a0ed['spriteAsse'+'t']!==_0x340681&&(_0x20a0ed['spriteAsse'+'t']=_0x340681),_0x20a0ed['spriteFram'+'e']!==_0x24d46d&&(_0x20a0ed['spriteFram'+'e']=_0x24d46d),this['_isApplyin'+'gSprite']=!(-0x134c+0x1*0xe1d+0x10*0x53));}['_applyTint'](_0x5cc0c1){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x157f+-0x7*0x1f3+-0xc9*0xa?this['_applyTint'+'Immediatel'+'y'](_0x5cc0c1):this['_applyTint'+'WithTween'](_0x5cc0c1);}['_applyTint'+'Immediatel'+'y'](_0x23f106){var _0x36d908;const _0xcb2c07=(_0x36d908=this['_imageEnti'+'ty'])==null?void(-0x392+0x117b+-0x3*0x4a3):_0x36d908['element'];if(!_0x23f106||!_0xcb2c07||_0xcb2c07['type']===eh)return;const _0x55e948=kg(_0x23f106);this['_isApplyin'+'gTint']=!(-0x360+-0x185e+0x1bbe),_0x55e948['equals'](_0xcb2c07['color'])||(_0xcb2c07['color']=_0x55e948),_0xcb2c07['opacity']!==_0x23f106['a']&&(_0xcb2c07['opacity']=_0x23f106['a']),this['_isApplyin'+'gTint']=!(-0x1863+0x239a+0x19a*-0x7);}['_applyTint'+'WithTween'](_0x3adc38){var _0x30d743;const _0x5d8f64=(_0x30d743=this['_imageEnti'+'ty'])==null?void(-0x1*-0x2204+0x1efd+-0x4101):_0x30d743['element'];if(!_0x3adc38||!_0x5d8f64||_0x5d8f64['type']===eh)return;const _0xcfe779=kg(_0x3adc38),_0x381c51=_0x5d8f64['color'],_0x42378f=_0x5d8f64['opacity'];_0xcfe779['equals'](_0x381c51)&&_0x3adc38['a']===_0x42378f||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x381c51['r'],_0x381c51['g'],_0x381c51['b'],_0x42378f),'to':_0x3adc38['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x4fd033=de()-this['_tweenInfo']['startTime'];let _0x55c0d5=this['fadeDurati'+'on']===0x13e8+0x6*0x107+-0x1a12?-0x24db+0x793*-0x2+0x3402:_0x4fd033/this['fadeDurati'+'on'];if(_0x55c0d5=Y['clamp'](_0x55c0d5,0xd*-0x23d+0x1aec+-0x22d*-0x1,0x26f0+0x1*-0x44f+0x1*-0x22a0),Math['abs'](_0x55c0d5-(0x1eb0+-0xc6*0x1a+-0xa93))>0x219a+0x1d85+0xd*-0x4db+0.00001){const _0x714de3=this['_tweenInfo']['lerpColor'];_0x714de3['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x55c0d5),this['_applyTint'+'Immediatel'+'y'](new ie(_0x714de3['r'],_0x714de3['g'],_0x714de3['b'],_0x714de3['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1dc2+-0x21c8+0x407),this['_hoveringC'+'ounter']=-0x21c8+0x83d*0x3+0x911,this['_isPressed']=!(-0x19*0x87+0x1a01+-0xcd1),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x385a2b,_0x5beb30){_0x385a2b['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x5beb30[_0x385a2b['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x2b24ff){return new ie(_0x2b24ff['r'],_0x2b24ff['g'],_0x2b24ff['b']);}class WL{constructor(){this['enabled']=!(-0x65d+0x24*-0x4f+-0x3f*-0x47),this['active']=!(0x5*0x5e7+0x4b7*-0x4+-0x12f*0x9),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0xd4*-0x2+0xe8*-0x9+0x9d0+0.75,0x14a7+0xcd5*0x1+0x85f*-0x4+0.75,-0x19f7+-0x23bd*0x1+0x3db4+0.75),this['pressedTin'+'t']=new ie(0x11*0xd3+0x4*0xd7+-0x115f+0.5,-0x14ec+0x10a*-0x12+0x13d*0x20+0.5,-0x3*0x9c2+-0x265f+0x1*0x43a5+0.5),this['inactiveTi'+'nt']=new ie(-0x8ad+0x1*0x1a53+-0x11a6+0.25,0x2*-0x4b9+0x1c11+-0x129f*0x1+0.25,-0x1e6+0x2018+0x1e32*-0x1+0.25),this['fadeDurati'+'on']=0x1079+0xe05+-0x1e7e,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x1*0x18de+-0x26*-0xcb+-0x544,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x1cda+0x2b0+-0x1f8a,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x90e*0x1+0x7f*-0x19+0x359;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x41f3d0){super(_0x41f3d0),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4105bb,_0x68426a,_0x3291ae){_0x4105bb['imageEntit'+'y']=_0x68426a['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x4105bb,_0x68426a,Ug);}['onUpdate'](_0x2afcf7){const _0x217932=this['store'];for(const _0x5636f3 in _0x217932){const _0x589f4a=_0x217932[_0x5636f3]['entity'],_0xd4bd4b=_0x589f4a['button'];_0xd4bd4b['enabled']&&_0x589f4a['enabled']&&_0xd4bd4b['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5ed5e2,_0x5b7b12){_0x5b7b12['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x509942,_0x497b40){super(_0x509942,_0x497b40),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x67*-0x4d+0x3*-0x59d+0x2fd3)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x162869=this['system']['store'][this['entity']['getGuid']()];return _0x162869?_0x162869['data']:null;}set['enabled'](_0x41ab98){this['_setValue']('enabled',_0x41ab98);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x1bb296){this['_setValue']('type',_0x1bb296);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x42db43){this['_setValue']('halfExtent'+'s',_0x42db43);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x808967){this['_setValue']('linearOffs'+'et',_0x808967);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x2df3ad){this['_setValue']('angularOff'+'set',_0x2df3ad);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x44daea){this['_setValue']('radius',_0x44daea);}get['radius'](){return this['data']['radius'];}set['axis'](_0x44f7a2){this['_setValue']('axis',_0x44f7a2);}get['axis'](){return this['data']['axis'];}set['height'](_0x51478b){this['_setValue']('height',_0x51478b);}get['height'](){return this['data']['height'];}set['asset'](_0x196d97){this['_setValue']('asset',_0x196d97);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x3ee0a6){this['_setValue']('renderAsse'+'t',_0x3ee0a6);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x40e866){this['_setValue']('convexHull',_0x40e866);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x313119){this['_setValue']('shape',_0x313119);}get['shape'](){return this['data']['shape'];}set['model'](_0x7bbf1d){this['_setValue']('model',_0x7bbf1d);}get['model'](){return this['data']['model'];}set['render'](_0x4950de){this['_setValue']('render',_0x4950de);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x23ffd8){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x23ffd8);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x192606,_0xe54dc8){const _0x59c6e7=this['data'],_0x5012e1=_0x59c6e7[_0x192606];_0x59c6e7[_0x192606]=_0xe54dc8,this['fire']('set',_0x192606,_0x5012e1,_0xe54dc8);}['onSetType'](_0x3478aa,_0x58f11f,_0x2d7c8c){_0x58f11f!==_0x2d7c8c&&this['system']['changeType'](this,_0x58f11f,_0x2d7c8c);}['onSetHalfE'+'xtents'](_0x46d655,_0x18019f,_0x3048d2){const _0x313969=this['data']['type'];this['data']['initialize'+'d']&&_0x313969==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x35999c,_0x3fa010,_0x74804b){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x40350b,_0x524000,_0x45d311){const _0x234363=this['data']['type'];this['data']['initialize'+'d']&&(_0x234363==='sphere'||_0x234363==='capsule'||_0x234363==='cylinder'||_0x234363==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x1c5152,_0x38a29e,_0x442f66){const _0x38d487=this['data']['type'];this['data']['initialize'+'d']&&(_0x38d487==='capsule'||_0x38d487==='cylinder'||_0x38d487==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4e41d5,_0x550e73,_0x2e1f7a){const _0x58df1e=this['data']['type'];this['data']['initialize'+'d']&&(_0x58df1e==='capsule'||_0x58df1e==='cylinder'||_0x58df1e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x4f1cb8,_0x15888e,_0x22a244){const _0x426257=this['system']['app']['assets'];if(_0x15888e){const _0x2e8287=_0x426257['get'](_0x15888e);_0x2e8287&&_0x2e8287['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x22a244){_0x22a244 instanceof pe&&(this['data']['asset']=_0x22a244['id']);const _0x222a62=_0x426257['get'](this['data']['asset']);_0x222a62&&(_0x222a62['off']('remove',this['onAssetRem'+'oved'],this),_0x222a62['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x22a244||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0xc8cd30,_0x46f17a,_0x3f4f7a){const _0x388f35=this['system']['app']['assets'];if(_0x46f17a){const _0x72bc88=_0x388f35['get'](_0x46f17a);_0x72bc88&&_0x72bc88['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3f4f7a){_0x3f4f7a instanceof pe&&(this['data']['renderAsse'+'t']=_0x3f4f7a['id']);const _0x22c813=_0x388f35['get'](this['data']['renderAsse'+'t']);_0x22c813&&(_0x22c813['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x22c813['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3f4f7a||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x580ae7,_0xfa63a3,_0x514838){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x309ab5,_0x296019,_0x15b4b2){this['onSetModel'](_0x309ab5,_0x296019,_0x15b4b2);}['onAssetRem'+'oved'](_0x130664){_0x130664['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x130664['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x14af8f){_0x14af8f['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x14af8f['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x403711){const _0x32547b=this['data']['shape'],_0xe7a9d1=_0x32547b['getNumChil'+'dShapes']();for(let _0x3f8b84=0x1b78*-0x1+0x15e+0x1a*0x101;_0x3f8b84<_0xe7a9d1;_0x3f8b84++){const _0x38c2c7=_0x32547b['getChildSh'+'ape'](_0x3f8b84);if(Ammo['getPointer'](_0x38c2c7)===Ammo['getPointer'](_0x403711))return _0x3f8b84;}return null;}['_onInsert'](_0x5b803e){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0xa6a8c3=this['entity']['parent'];for(;_0xa6a8c3;){if(_0xa6a8c3['collision']&&_0xa6a8c3['collision']['type']==='compound'){_0xa6a8c3['collision']['shape']['getNumChil'+'dShapes']()===-0x1421+-0x4*-0x94a+-0x1107?this['system']['recreatePh'+'ysicalShap'+'es'](_0xa6a8c3['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0xa6a8c3=_0xa6a8c3['parent'];}}}}}['_updateCom'+'pound'](){const _0xe74921=this['entity'];if(_0xe74921['_dirtyWorl'+'d']){let _0x92bb8=_0xe74921['_dirtyLoca'+'l'],_0x585732=_0xe74921;for(;_0x585732&&!_0x92bb8&&!(_0x585732['collision']&&_0x585732['collision']===this['_compoundP'+'arent']);)_0x585732['_dirtyLoca'+'l']&&(_0x92bb8=!(0x99a+-0x65b+-0x33f)),_0x585732=_0x585732['parent'];if(_0x92bb8){_0xe74921['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0xe74921);const _0x30a99d=this['_compoundP'+'arent']['entity']['rigidbody'];_0x30a99d&&_0x30a99d['activate']();}}}['getShapePo'+'sition'](){const _0x334fbe=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x2c9296=this['entity']['getRotatio'+'n'](),_0x1732be=this['data']['linearOffs'+'et'];return zg['copy'](_0x2c9296)['transformV'+'ector'](_0x1732be,Bg),Bg['add'](_0x334fbe);}return _0x334fbe;}['getShapeRo'+'tation'](){const _0x3b2080=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x3b2080)['mul'](this['data']['angularOff'+'set']):_0x3b2080;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4d41a4=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4d41a4&&(!_0x4d41a4['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x11d7*-0x1+-0x368+0x153f)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x177645=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x177645,this['data']['shape']),Ammo['destroy'](_0x177645),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0xc07*0x2+0x5*0x10d+-0x1*-0x12cd),this['type']='box',this['halfExtent'+'s']=new D(0x1843+-0x1*0x12b5+-0x58e+0.5,-0x68e*-0x1+0xb48+-0x11d6+0.5,0x1b71+-0x24a0+0x1*0x92f+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x2c0+-0x39d*-0x3+-0x817+0.5,this['axis']=-0x1*-0x2155+-0x53*-0x59+-0x3e2f,this['height']=-0x24da+-0x42d*-0x7+0xd9*0x9,this['convexHull']=!(0x152e*0x1+0xddb+-0x2308),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x4*0x920+-0x8b7+0x2d37),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x23*-0xb1+-0x1069+0x7c9*-0x1);}}const yo='static',ks='dynamic',Ha='kinematic',qL=0x1e55+-0x3e*-0x7c+-0x3c5b,Po=0x3d6*-0x3+0x1*-0x14bd+0x2043,Pu=0xb7a+-0x1395*0x1+0x81c,Vg=-0x3*0x6e9+-0x1c12+0x30d1,Yv=-0x15a+0x25a9*0x1+-0x5*0x742,jL=0xcd0+-0x2*0xc65+0xbfb*0x1,Gg=-0x3*0x21d+0x2528+-0x1ecf,YL=-0x9*-0x3b3+-0x55e*0x2+-0x1d*0xc7,Hg=-0x51a*0x7+0x53*0x17+0x1c51,Wg=0x16a0*-0x6+0x6459+0x12366,Mu=0x1022e+0x187f6+-0x18a27;let Us,zr,Wa;class Kv{constructor(_0x53cc3d,_0x51b10d,_0x13c39d){this['entity']=_0x51b10d['entity'],this['component']=_0x51b10d,this['app']=_0x53cc3d,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x13c39d);}['initialize'](_0x45c13b){const _0x2c3479=this['entity'],_0x348dd0=_0x45c13b['shape'];if(_0x348dd0&&typeof Ammo<'u'){_0x2c3479['trigger']&&_0x2c3479['trigger']['destroy']();const _0x5e93bb=-0x5*0x7ca+0xa*0x19+-0x25f9*-0x1,_0x48a684=this['component'];if(_0x48a684){const _0x1abeda=_0x48a684['getShapePo'+'sition'](),_0x4cf663=_0x48a684['getShapeRo'+'tation']();Us['setValue'](_0x1abeda['x'],_0x1abeda['y'],_0x1abeda['z']),zr['setValue'](_0x4cf663['x'],_0x4cf663['y'],_0x4cf663['z'],_0x4cf663['w']);}else{const _0x23befb=_0x2c3479['getPositio'+'n'](),_0x3580e2=_0x2c3479['getRotatio'+'n']();Us['setValue'](_0x23befb['x'],_0x23befb['y'],_0x23befb['z']),zr['setValue'](_0x3580e2['x'],_0x3580e2['y'],_0x3580e2['z'],_0x3580e2['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0xe53902=this['app']['systems']['rigidbody']['createBody'](_0x5e93bb,_0x348dd0,Wa);_0xe53902['setRestitu'+'tion'](0x2210+-0x9*-0x336+-0x3ef6),_0xe53902['setFrictio'+'n'](0x1*0x26bf+0x2108+0x36b*-0x15),_0xe53902['setDamping'](0xd*-0x22d+0x1*0x1962+0x2e7,0x16b5+-0x1c5+-0x14f0),Us['setValue'](-0x1*-0x1eed+0x2*-0xbb9+-0x5*0x17f,0x6c*-0x3d+0x16ac+0x310,0x1a3c+-0x1855+0x1*-0x1e7),_0xe53902['setLinearF'+'actor'](Us),_0xe53902['setAngular'+'Factor'](Us),_0xe53902['setCollisi'+'onFlags'](_0xe53902['getCollisi'+'onFlags']()|Po),_0xe53902['entity']=_0x2c3479,this['body']=_0xe53902,this['component']['enabled']&&_0x2c3479['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x4fbc38){const _0x5af689=this['component'];if(_0x5af689){const _0x5ed444=_0x5af689['getShapePo'+'sition'](),_0x77b771=_0x5af689['getShapeRo'+'tation']();Us['setValue'](_0x5ed444['x'],_0x5ed444['y'],_0x5ed444['z']),zr['setValue'](_0x77b771['x'],_0x77b771['y'],_0x77b771['z'],_0x77b771['w']);}else{const _0x4d290f=this['entity']['getPositio'+'n'](),_0x1f5ef7=this['entity']['getRotatio'+'n']();Us['setValue'](_0x4d290f['x'],_0x4d290f['y'],_0x4d290f['z']),zr['setValue'](_0x1f5ef7['x'],_0x1f5ef7['y'],_0x1f5ef7['z'],_0x1f5ef7['w']);}_0x4fbc38['setOrigin'](Us),_0x4fbc38['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x4b5cd5=this['body'];_0x4b5cd5['setWorldTr'+'ansform'](Wa),_0x4b5cd5['activate']();}['enable'](){const _0xa3c1ba=this['body'];if(!_0xa3c1ba)return;const _0x56462c=this['app']['systems']['rigidbody'];_0x56462c['_triggers']['indexOf'](this)<-0x1454*-0x1+0x9a*-0x9+-0xeea&&(_0x56462c['addBody'](_0xa3c1ba,Hg,Mu^Hg),_0x56462c['_triggers']['push'](this)),_0xa3c1ba['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x326437=this['body'];if(!_0x326437)return;const _0xd2caf4=this['app']['systems']['rigidbody'],_0x11e323=_0xd2caf4['_triggers']['indexOf'](this);_0x11e323>-(-0x1cc6+-0x1638+0x32ff)&&(_0xd2caf4['removeBody'](_0x326437),_0xd2caf4['_triggers']['splice'](_0x11e323,-0x1631+0x186d+0x23b*-0x1)),_0x326437['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x43abb6){this['system']=_0x43abb6;}['beforeInit'+'ialize'](_0x41bbc1,_0x3eb08a){_0x3eb08a['shape']=null,_0x3eb08a['model']=new sr(),_0x3eb08a['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x192904,_0x37bedc){this['recreatePh'+'ysicalShap'+'es'](_0x192904),_0x192904['data']['initialize'+'d']=!(-0x4*-0x281+0xb87+-0x158b);}['reset'](_0x2acee9,_0x384d54){this['beforeInit'+'ialize'](_0x2acee9,_0x384d54),this['afterIniti'+'alize'](_0x2acee9,_0x384d54);}['recreatePh'+'ysicalShap'+'es'](_0xe6b452){const _0x2c6057=_0xe6b452['entity'],_0x429a9e=_0xe6b452['data'];if(typeof Ammo<'u'){_0x2c6057['trigger']&&(_0x2c6057['trigger']['destroy'](),delete _0x2c6057['trigger']),_0x429a9e['shape']&&(_0xe6b452['_compoundP'+'arent']&&(_0xe6b452!==_0xe6b452['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0xe6b452['_compoundP'+'arent'],_0x429a9e['shape']),_0xe6b452['_compoundP'+'arent']['entity']['rigidbody']&&_0xe6b452['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x429a9e)),_0x429a9e['shape']=this['createPhys'+'icalShape'](_0xe6b452['entity'],_0x429a9e);const _0x1bf3d5=!_0xe6b452['_compoundP'+'arent'];if(_0x429a9e['type']==='compound'&&(!_0xe6b452['_compoundP'+'arent']||_0xe6b452===_0xe6b452['_compoundP'+'arent']))_0xe6b452['_compoundP'+'arent']=_0xe6b452,_0x2c6057['forEach'](this['_addEachDe'+'scendant'],_0xe6b452);else{if(_0x429a9e['type']!=='compound'&&!_0xe6b452['rigidbody']){_0xe6b452['_compoundP'+'arent']=null;let _0x327102=_0x2c6057['parent'];for(;_0x327102;){if(_0x327102['collision']&&_0x327102['collision']['type']==='compound'){_0xe6b452['_compoundP'+'arent']=_0x327102['collision'];break;}_0x327102=_0x327102['parent'];}}}_0xe6b452['_compoundP'+'arent']&&_0xe6b452!==_0xe6b452['_compoundP'+'arent']&&(_0x1bf3d5&&_0xe6b452['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1ea4+0x8fb+-0x279f?this['system']['recreatePh'+'ysicalShap'+'es'](_0xe6b452['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x2c6057,!(-0x4*0x925+0x1246*-0x1+-0x36da*-0x1)),_0xe6b452['_compoundP'+'arent']['entity']['rigidbody']&&_0xe6b452['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x2c6057['rigidbody']?(_0x2c6057['rigidbody']['disableSim'+'ulation'](),_0x2c6057['rigidbody']['createBody'](),_0x2c6057['enabled']&&_0x2c6057['rigidbody']['enabled']&&_0x2c6057['rigidbody']['enableSimu'+'lation']()):_0xe6b452['_compoundP'+'arent']||(_0x2c6057['trigger']?_0x2c6057['trigger']['initialize'](_0x429a9e):_0x2c6057['trigger']=new Kv(this['system']['app'],_0xe6b452,_0x429a9e));}}['createPhys'+'icalShape'](_0x43f401,_0x117703){}['updateTran'+'sform'](_0x103233,_0x50f15e,_0x99be88,_0x1d61cc){_0x103233['entity']['trigger']&&_0x103233['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x5c4cad){_0x5c4cad['shape']&&(Ammo['destroy'](_0x5c4cad['shape']),_0x5c4cad['shape']=null);}['beforeRemo'+'ve'](_0x3d0f30,_0x251470){_0x251470['data']['shape']&&(_0x251470['_compoundP'+'arent']&&!_0x251470['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x251470['_compoundP'+'arent'],_0x251470['data']['shape']),_0x251470['_compoundP'+'arent']['entity']['rigidbody']&&_0x251470['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x251470['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x251470['data']));}['remove'](_0x2cdd09,_0x428685){_0x2cdd09['rigidbody']&&_0x2cdd09['rigidbody']['body']&&_0x2cdd09['rigidbody']['disableSim'+'ulation'](),_0x2cdd09['trigger']&&(_0x2cdd09['trigger']['destroy'](),delete _0x2cdd09['trigger']);}['clone'](_0x19731c,_0x302c7d){const _0xdb0dd4=this['system']['store'][_0x19731c['getGuid']()],_0x8a8864={'enabled':_0xdb0dd4['data']['enabled'],'type':_0xdb0dd4['data']['type'],'halfExtents':[_0xdb0dd4['data']['halfExtent'+'s']['x'],_0xdb0dd4['data']['halfExtent'+'s']['y'],_0xdb0dd4['data']['halfExtent'+'s']['z']],'linearOffset':[_0xdb0dd4['data']['linearOffs'+'et']['x'],_0xdb0dd4['data']['linearOffs'+'et']['y'],_0xdb0dd4['data']['linearOffs'+'et']['z']],'angularOffset':[_0xdb0dd4['data']['angularOff'+'set']['x'],_0xdb0dd4['data']['angularOff'+'set']['y'],_0xdb0dd4['data']['angularOff'+'set']['z'],_0xdb0dd4['data']['angularOff'+'set']['w']],'radius':_0xdb0dd4['data']['radius'],'axis':_0xdb0dd4['data']['axis'],'height':_0xdb0dd4['data']['height'],'convexHull':_0xdb0dd4['data']['convexHull'],'asset':_0xdb0dd4['data']['asset'],'renderAsset':_0xdb0dd4['data']['renderAsse'+'t'],'model':_0xdb0dd4['data']['model'],'render':_0xdb0dd4['data']['render'],'checkVertexDuplicates':_0xdb0dd4['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x302c7d,_0x8a8864);}}class JL extends Ca{['createPhys'+'icalShape'](_0x46a217,_0x54bbb6){if(typeof Ammo<'u'){const _0x1c52c8=_0x54bbb6['halfExtent'+'s'],_0x1fa2bb=new Ammo['btVector3'](_0x1c52c8?_0x1c52c8['x']:0x67e+0xf6c+-0x15ea+0.5,_0x1c52c8?_0x1c52c8['y']:0x5*0x55f+-0x1845+-0x296+0.5,_0x1c52c8?_0x1c52c8['z']:0x1327*-0x2+-0x3d*0xb+0x28ed+0.5),_0x26c8bd=new Ammo['btBoxShape'](_0x1fa2bb);return Ammo['destroy'](_0x1fa2bb),_0x26c8bd;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x435fff,_0x34312b){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x34312b['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x98f4f7,_0xf858e7){const _0x2c419c=_0xf858e7['axis']??0x1a2*0x11+-0x76e+-0x2b*0x79,_0x5410ee=_0xf858e7['radius']??0x247*-0xe+-0x2*-0xf67+-0x1*-0x114+0.5,_0xf4b885=Math['max']((_0xf858e7['height']??-0x3a2+0x5*-0x323+0x11*0x123)-(-0x128b+0x21*-0x7+-0x67c*-0x3)*_0x5410ee,0x11*0x72+-0x9d*0x3b+0x1c9d);let _0x36b03b=null;if(typeof Ammo<'u')switch(_0x2c419c){case 0xded+0x250d+-0x20a*0x19:_0x36b03b=new Ammo['btCapsuleS'+'hapeX'](_0x5410ee,_0xf4b885);break;case 0x3b*-0x13+-0x114b*0x1+0x15ad*0x1:_0x36b03b=new Ammo['btCapsuleS'+'hape'](_0x5410ee,_0xf4b885);break;case 0x38c*0x4+-0xee3+-0x1*-0xb5:_0x36b03b=new Ammo['btCapsuleS'+'hapeZ'](_0x5410ee,_0xf4b885);break;}return _0x36b03b;}}class sR extends Ca{['createPhys'+'icalShape'](_0x19588b,_0x21c17a){const _0xe4e8ab=_0x21c17a['axis']??-0x12e0+0x36e+0x235*0x7,_0x3196f4=_0x21c17a['radius']??0x2432+0x1b18*0x1+-0x3f4a+0.5,_0x4150ea=_0x21c17a['height']??-0x2710+-0x7da*-0x3+0xf83;let _0x514252=null,_0x2fd96b=null;if(typeof Ammo<'u')switch(_0xe4e8ab){case-0x23*0x16+0xaa3*-0x1+0xda5:_0x514252=new Ammo['btVector3'](_0x4150ea*(-0x7*0x10d+-0xc8a+0x13e5+0.5),_0x3196f4,_0x3196f4),_0x2fd96b=new Ammo['btCylinder'+'ShapeX'](_0x514252);break;case-0x446+0xb02+0x6bb*-0x1:_0x514252=new Ammo['btVector3'](_0x3196f4,_0x4150ea*(-0xca*0x13+0x4a6+0x4*0x296+0.5),_0x3196f4),_0x2fd96b=new Ammo['btCylinder'+'Shape'](_0x514252);break;case-0x1dd*-0x11+-0x3b3*0x2+-0x817*0x3:_0x514252=new Ammo['btVector3'](_0x3196f4,_0x3196f4,_0x4150ea*(-0x2670+-0x1951*-0x1+0xd1f+0.5)),_0x2fd96b=new Ammo['btCylinder'+'ShapeZ'](_0x514252);break;}return _0x514252&&Ammo['destroy'](_0x514252),_0x2fd96b;}}class iR extends Ca{['createPhys'+'icalShape'](_0x15c230,_0x2f67c9){const _0x4a68da=_0x2f67c9['axis']??0x1*0x12eb+-0x1d16+0xa2c,_0x3cdff8=_0x2f67c9['radius']??0x396+-0x1*0x11f9+-0x7f*-0x1d+0.5,_0x373fdb=_0x2f67c9['height']??0x177*0xc+-0x196a*0x1+-0x1*-0x7d7;let _0x36c7a8=null;if(typeof Ammo<'u')switch(_0x4a68da){case-0x1*0xd03+0x129d+-0x59a*0x1:_0x36c7a8=new Ammo['btConeShap'+'eX'](_0x3cdff8,_0x373fdb);break;case 0x176+0x1*-0x74f+0x5da:_0x36c7a8=new Ammo['btConeShap'+'e'](_0x3cdff8,_0x373fdb);break;case-0x5*-0x68c+0x158c+-0x2*0x1b23:_0x36c7a8=new Ammo['btConeShap'+'eZ'](_0x3cdff8,_0x373fdb);break;}return _0x36c7a8;}}class rR extends Ca{['beforeInit'+'ialize'](_0x183227,_0x5de32b){}['createAmmo'+'Hull'](_0x4e31,_0x281b10,_0x315689,_0x5af830){const _0xeb8ff8=new Ammo['btConvexHu'+'llShape'](),_0x1004e2=new Ammo['btVector3'](),_0x50049c=[];_0x4e31['getPositio'+'ns'](_0x50049c);for(let _0x2b8d4c=0xecf+-0x1a73*-0x1+0x14a1*-0x2;_0x2b8d4c<_0x50049c['length'];_0x2b8d4c+=0x3*-0xac3+0x1748+-0x904*-0x1)_0x1004e2['setValue'](_0x50049c[_0x2b8d4c]*_0x5af830['x'],_0x50049c[_0x2b8d4c+(0x2*-0xef5+0x10c+0x1cdf)]*_0x5af830['y'],_0x50049c[_0x2b8d4c+(0x1568+-0x1*0x2043+0x39f*0x3)]*_0x5af830['z']),_0xeb8ff8['addPoint'](_0x1004e2,!(-0x5be*0x6+0x268e+0x419*-0x1));Ammo['destroy'](_0x1004e2),_0xeb8ff8['recalcLoca'+'lAabb'](),_0xeb8ff8['setMargin'](-0x8b3+0x2195+-0x18e2+0.01);const _0x4d6d04=this['system']['_getNodeTr'+'ansform'](_0x281b10);_0x315689['addChildSh'+'ape'](_0x4d6d04,_0xeb8ff8),Ammo['destroy'](_0x4d6d04);}['createAmmo'+'Mesh'](_0x5b527f,_0x2b80b3,_0x122d98,_0x545ca2,_0x44df70=!(-0x26c7+0x8f*0x2+0x25a9)){const _0x39dff6=this['system'];let _0xbbc6f9;if(_0x39dff6['_triMeshCa'+'che'][_0x5b527f['id']])_0xbbc6f9=_0x39dff6['_triMeshCa'+'che'][_0x5b527f['id']];else{const _0xb8d711=_0x5b527f['vertexBuff'+'er'],_0x523823=_0xb8d711['getFormat']();let _0x5af942,_0x4b9ab4;for(let _0x407650=-0x1bcc+-0x1da*0x1+0x1da6;_0x407650<_0x523823['elements']['length'];_0x407650++){const _0x26c8f1=_0x523823['elements'][_0x407650];if(_0x26c8f1['name']===Me){_0x4b9ab4=new Float32Array(_0xb8d711['lock'](),_0x26c8f1['offset']),_0x5af942=_0x26c8f1['stride']/(0x1*-0xd64+-0x397*-0x3+0x5*0x87);break;}}const _0x820ca=[];_0x5b527f['getIndices'](_0x820ca);const _0xf3b3d8=_0x5b527f['primitive'][0xd8b*-0x1+0xa*0x1c9+-0x44f]['count']/(-0x186*-0x7+0x490*0x4+-0x1*0x1ce7),_0x4c7eae=new Ammo['btVector3']();let _0x5a2bcb,_0x4d95e9,_0x432cb1;const _0x6f248f=_0x5b527f['primitive'][0x7ba+0x98*-0x2e+0x1396*0x1]['base'];_0xbbc6f9=new Ammo['btTriangle'+'Mesh'](),_0x39dff6['_triMeshCa'+'che'][_0x5b527f['id']]=_0xbbc6f9;const _0x3fb115=new Map();w['assert'](typeof _0xbbc6f9['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x1b3740=_0xbbc6f9['getIndexed'+'MeshArray']();_0x1b3740['at'](0x2*-0xa5d+0x29*-0xb9+0x325b*0x1)['m_numTrian'+'gles']=_0xf3b3d8;const _0x271053=_0x545ca2?_0x545ca2['x']:-0xef*-0x9+0x1bfd+-0x2463,_0x439bef=_0x545ca2?_0x545ca2['y']:0x23a3+0xb*-0x2a1+-0x6b7,_0x1cd308=_0x545ca2?_0x545ca2['z']:-0x4*-0x69f+-0xaab*-0x2+-0x2fd1,_0x168444=_0x5b0224=>{const _0x2a8885=_0x4b9ab4[_0x5b0224*_0x5af942]*_0x271053,_0x595e99=_0x4b9ab4[_0x5b0224*_0x5af942+(-0x2*0x2f5+0x15d8+0x54f*-0x3)]*_0x439bef,_0x25fd38=_0x4b9ab4[_0x5b0224*_0x5af942+(0x43e+-0x1654+-0x486*-0x4)]*_0x1cd308;let _0x4f9287;if(_0x44df70){const _0x3f6636=_0x2a8885+':'+_0x595e99+':'+_0x25fd38;if(_0x4f9287=_0x3fb115['get'](_0x3f6636),_0x4f9287!==void(-0x80b+-0x13a8*0x1+-0x3f5*-0x7))return _0x4f9287;_0x4c7eae['setValue'](_0x2a8885,_0x595e99,_0x25fd38),_0x4f9287=_0xbbc6f9['findOrAddV'+'ertex'](_0x4c7eae,!(-0x43*-0x31+-0x160e+0x314*0x3)),_0x3fb115['set'](_0x3f6636,_0x4f9287);}else _0x4c7eae['setValue'](_0x2a8885,_0x595e99,_0x25fd38),_0x4f9287=_0xbbc6f9['findOrAddV'+'ertex'](_0x4c7eae,!(-0x122e+-0x1313*0x1+0x13*0x1f6));return _0x4f9287;};for(let _0x2be556=0x2027+-0x1*-0x175f+0x26a*-0x17;_0x2be556<_0xf3b3d8;_0x2be556++)_0x5a2bcb=_0x168444(_0x820ca[_0x6f248f+_0x2be556*(-0x1*-0x1471+0x2257+0x1*-0x36c5)]),_0x4d95e9=_0x168444(_0x820ca[_0x6f248f+_0x2be556*(-0x15af+0xa39+0x3*0x3d3)+(-0xc8+0x1026+-0x3*0x51f)]),_0x432cb1=_0x168444(_0x820ca[_0x6f248f+_0x2be556*(0x150*0x12+-0x1*-0x1623+0xf40*-0x3)+(-0x2417+0x2339+0xe0)]),_0xbbc6f9['addIndex'](_0x5a2bcb),_0xbbc6f9['addIndex'](_0x4d95e9),_0xbbc6f9['addIndex'](_0x432cb1);Ammo['destroy'](_0x4c7eae);}const _0x6eb985=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0xbbc6f9,!(-0x17a0+-0xfb4+0x347*0xc));if(!_0x545ca2){const _0x428d32=_0x39dff6['_getNodeSc'+'aling'](_0x2b80b3);_0x6eb985['setLocalSc'+'aling'](_0x428d32),Ammo['destroy'](_0x428d32);}const _0xf76c96=_0x39dff6['_getNodeTr'+'ansform'](_0x2b80b3);_0x122d98['addChildSh'+'ape'](_0xf76c96,_0x6eb985),Ammo['destroy'](_0xf76c96);}['createPhys'+'icalShape'](_0x11bfdd,_0x25b1fe){if(!(typeof Ammo>'u')&&(_0x25b1fe['model']||_0x25b1fe['render'])){const _0x46db47=new Ammo['btCompound'+'Shape'](),_0x474fef=_0x11bfdd['getWorldTr'+'ansform']()['getScale']();if(_0x25b1fe['render']){const _0xb287b3=_0x25b1fe['render']['meshes'];for(let _0x403e43=0x1ee1+-0xfe9+0x77c*-0x2;_0x403e43<_0xb287b3['length'];_0x403e43++)_0x25b1fe['convexHull']?this['createAmmo'+'Hull'](_0xb287b3[_0x403e43],$g,_0x46db47,_0x474fef):this['createAmmo'+'Mesh'](_0xb287b3[_0x403e43],$g,_0x46db47,_0x474fef,_0x25b1fe['checkVerte'+'xDuplicate'+'s']);}else{if(_0x25b1fe['model']){const _0x171add=_0x25b1fe['model']['meshInstan'+'ces'];for(let _0xdac32f=-0x13d*0x1b+-0x1d87*-0x1+0x3e8;_0xdac32f<_0x171add['length'];_0xdac32f++)this['createAmmo'+'Mesh'](_0x171add[_0xdac32f]['mesh'],_0x171add[_0xdac32f]['node'],_0x46db47,null,_0x25b1fe['checkVerte'+'xDuplicate'+'s']);const _0x2c7697=new Ammo['btVector3'](_0x474fef['x'],_0x474fef['y'],_0x474fef['z']);_0x46db47['setLocalSc'+'aling'](_0x2c7697),Ammo['destroy'](_0x2c7697);}}return _0x46db47;}}['recreatePh'+'ysicalShap'+'es'](_0x337341){const _0x5227a7=_0x337341['data'];if((_0x5227a7['renderAsse'+'t']||_0x5227a7['asset'])&&_0x337341['enabled']&&_0x337341['entity']['enabled']){this['loadAsset'](_0x337341,_0x5227a7['renderAsse'+'t']||_0x5227a7['asset'],_0x5227a7['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x337341);}['loadAsset'](_0x1dfb9a,_0x3f34f7,_0xa498a0){const _0x54faa3=_0x1dfb9a['data'],_0xa482bc=this['system']['app']['assets'],_0x1736da=_0x54faa3[_0xa498a0],_0x53ae70=_0x26d74c=>{_0x54faa3[_0xa498a0]===_0x1736da&&(_0x54faa3[_0xa498a0]=_0x26d74c['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x1dfb9a));},_0x4faab7=_0x4eafa4=>{_0x4eafa4['ready'](_0x22c699=>{if(_0x22c699['data']['containerA'+'sset']){const _0x4db333=_0xa482bc['get'](_0x22c699['data']['containerA'+'sset']);_0x4db333['loaded']?_0x53ae70(_0x22c699):(_0x4db333['ready'](()=>{_0x53ae70(_0x22c699);}),_0xa482bc['load'](_0x4db333));}else _0x53ae70(_0x22c699);}),_0xa482bc['load'](_0x4eafa4);},_0x518b3e=_0xa482bc['get'](_0x3f34f7);_0x518b3e?_0x4faab7(_0x518b3e):_0xa482bc['once']('add:'+_0x3f34f7,_0x4faab7);}['doRecreate'+'PhysicalSh'+'ape'](_0x5a4820){const _0x1f2818=_0x5a4820['entity'],_0x5c1220=_0x5a4820['data'];_0x5c1220['model']||_0x5c1220['render']?(this['destroySha'+'pe'](_0x5c1220),_0x5c1220['shape']=this['createPhys'+'icalShape'](_0x1f2818,_0x5c1220),_0x1f2818['rigidbody']?(_0x1f2818['rigidbody']['disableSim'+'ulation'](),_0x1f2818['rigidbody']['createBody'](),_0x1f2818['enabled']&&_0x1f2818['rigidbody']['enabled']&&_0x1f2818['rigidbody']['enableSimu'+'lation']()):_0x1f2818['trigger']?_0x1f2818['trigger']['initialize'](_0x5c1220):_0x1f2818['trigger']=new Kv(this['system']['app'],_0x5a4820,_0x5c1220)):(this['beforeRemo'+'ve'](_0x1f2818,_0x5a4820),this['remove'](_0x1f2818,_0x5c1220));}['updateTran'+'sform'](_0x16b027,_0x2a293d,_0xe892d9,_0x222120){if(_0x16b027['shape']){const _0x3a797b=_0x16b027['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1e21c3=_0x16b027['shape']['getLocalSc'+'aling']();(_0x3a797b['x']!==_0x1e21c3['x']()||_0x3a797b['y']!==_0x1e21c3['y']()||_0x3a797b['z']!==_0x1e21c3['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x16b027);}super['updateTran'+'sform'](_0x16b027,_0x2a293d,_0xe892d9,_0x222120);}['destroySha'+'pe'](_0xa36f7e){if(!_0xa36f7e['shape'])return;const _0x5c31a3=_0xa36f7e['shape']['getNumChil'+'dShapes']();for(let _0xd7322a=-0x1cfa+0x1c03+0xf7*0x1;_0xd7322a<_0x5c31a3;_0xd7322a++){const _0x2b0737=_0xa36f7e['shape']['getChildSh'+'ape'](_0xd7322a);Ammo['destroy'](_0x2b0737);}Ammo['destroy'](_0xa36f7e['shape']),_0xa36f7e['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x3bddb0,_0xdba8d7){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x57ec85){!_0x57ec85['collision']||_0x57ec85['rigidbody']||(_0x57ec85['collision']['_compoundP'+'arent']=this,_0x57ec85!==this['entity']&&_0x57ec85['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x57ec85['collision']));}['_updateEac'+'hDescendan'+'t'](_0x447aa5){_0x447aa5['collision']&&_0x447aa5['collision']['_compoundP'+'arent']===this&&(_0x447aa5['collision']['_compoundP'+'arent']=null,_0x447aa5!==this['entity']&&!_0x447aa5['rigidbody']&&_0x447aa5['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x447aa5['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x40a7ac){!_0x40a7ac['collision']||_0x40a7ac['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x40a7ac,!(0x2576+-0x1f5d+-0x28*0x27));}}class nR extends ct{constructor(_0x21b6ab){super(_0x21b6ab),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3e72a2,_0x5c2bea,_0xf95185){_0xf95185=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x42b685={};for(let _0x3d6f8e=0xe3*-0x8+-0x2*0x1093+0x283e,_0x276f38=_0xf95185['length'];_0x3d6f8e<_0x276f38;_0x3d6f8e++){const _0x33d017=_0xf95185[_0x3d6f8e];_0x42b685[_0x33d017]=_0x5c2bea[_0x33d017];}let _0xeab37c;if(_0x5c2bea['hasOwnProp'+'erty']('asset')?(_0xeab37c=_0xf95185['indexOf']('model'),_0xeab37c!==-(0x169d*-0x1+0x1*-0x1031+-0x26cf*-0x1)&&_0xf95185['splice'](_0xeab37c,0xa5e+0x8ea+-0x1347*0x1),_0xeab37c=_0xf95185['indexOf']('render'),_0xeab37c!==-(0x2001*0x1+-0xcac*-0x1+-0x2cac)&&_0xf95185['splice'](_0xeab37c,0x2*0xe55+-0x2225*-0x1+0x1*-0x3ece)):_0x5c2bea['hasOwnProp'+'erty']('model')&&(_0xeab37c=_0xf95185['indexOf']('asset'),_0xeab37c!==-(0x7cc*-0x1+0x1955+-0x66*0x2c)&&_0xf95185['splice'](_0xeab37c,-0xa*0x1a8+0x1180+-0xef)),_0x42b685['type']||(_0x42b685['type']=_0x3e72a2['data']['type']),_0x3e72a2['data']['type']=_0x42b685['type'],Array['isArray'](_0x42b685['halfExtent'+'s'])&&(_0x42b685['halfExtent'+'s']=new D(_0x42b685['halfExtent'+'s'])),Array['isArray'](_0x42b685['linearOffs'+'et'])&&(_0x42b685['linearOffs'+'et']=new D(_0x42b685['linearOffs'+'et'])),Array['isArray'](_0x42b685['angularOff'+'set'])){const _0x34dcbb=_0x42b685['angularOff'+'set'];_0x34dcbb['length']===0x1bbb+-0x1*0x1652+-0x566?_0x42b685['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x34dcbb[0xf4c+0x296*0x7+0x19*-0x156],_0x34dcbb[-0x1f48+0x1b92*0x1+0x3b7],_0x34dcbb[0x264e+-0x260+-0x23ec]):_0x42b685['angularOff'+'set']=new le(_0x42b685['angularOff'+'set']);}const _0x1bac77=this['_createImp'+'lementatio'+'n'](_0x42b685['type']);_0x1bac77['beforeInit'+'ialize'](_0x3e72a2,_0x42b685),super['initialize'+'ComponentD'+'ata'](_0x3e72a2,_0x42b685,_0xf95185),_0x1bac77['afterIniti'+'alize'](_0x3e72a2,_0x42b685);}['_createImp'+'lementatio'+'n'](_0x471b80){if(this['implementa'+'tions'][_0x471b80]===void(0x11f4+-0x203e+0xe4a)){let _0xb94e18;switch(_0x471b80){case'box':_0xb94e18=new JL(this);break;case'sphere':_0xb94e18=new eR(this);break;case'capsule':_0xb94e18=new tR(this);break;case'cylinder':_0xb94e18=new sR(this);break;case'cone':_0xb94e18=new iR(this);break;case'mesh':_0xb94e18=new rR(this);break;case'compound':_0xb94e18=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x471b80);}this['implementa'+'tions'][_0x471b80]=_0xb94e18;}return this['implementa'+'tions'][_0x471b80];}['_getImplem'+'entation'](_0x4b2e52){return this['implementa'+'tions'][_0x4b2e52['collision']['data']['type']];}['cloneCompo'+'nent'](_0x3f571d,_0x2b1446){return this['_getImplem'+'entation'](_0x3f571d)['clone'](_0x3f571d,_0x2b1446);}['onBeforeRe'+'move'](_0x55cd2f,_0x10c710){this['implementa'+'tions'][_0x10c710['data']['type']]['beforeRemo'+'ve'](_0x55cd2f,_0x10c710),_0x10c710['onBeforeRe'+'move']();}['onRemove'](_0x3775fd,_0x40e42c){this['implementa'+'tions'][_0x40e42c['type']]['remove'](_0x3775fd,_0x40e42c);}['updateComp'+'oundChildT'+'ransform'](_0x3ffe4f,_0x2abdf8){const _0x4c26a2=_0x3ffe4f['collision']['_compoundP'+'arent'];if(_0x4c26a2!==_0x3ffe4f['collision']&&_0x3ffe4f['enabled']&&_0x3ffe4f['collision']['enabled']&&(_0x3ffe4f['_dirtyLoca'+'l']||_0x2abdf8)){const _0x35c163=this['_getNodeTr'+'ansform'](_0x3ffe4f,_0x4c26a2['entity']),_0x242c1d=_0x4c26a2['getCompoun'+'dChildShap'+'eIndex'](_0x3ffe4f['collision']['shape']);_0x242c1d===null?_0x4c26a2['shape']['addChildSh'+'ape'](_0x35c163,_0x3ffe4f['collision']['data']['shape']):_0x4c26a2['shape']['updateChil'+'dTransform'](_0x242c1d,_0x35c163,!(0x1*-0xe02+-0x32e*0xb+0x273*0x14)),Ammo['destroy'](_0x35c163);}}['_removeCom'+'poundChild'](_0x4a68b9,_0x47875b){if(_0x4a68b9['shape']['getNumChil'+'dShapes']()!==0x1686+0x13f*-0x13+0x127){if(_0x4a68b9['shape']['removeChil'+'dShape'])_0x4a68b9['shape']['removeChil'+'dShape'](_0x47875b);else{const _0x1f7e4a=_0x4a68b9['getCompoun'+'dChildShap'+'eIndex'](_0x47875b);_0x1f7e4a!==null&&_0x4a68b9['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1f7e4a);}}}['onTransfor'+'mChanged'](_0x3a4198,_0x3aa0ab,_0x1e6ac,_0xd1b56e){this['implementa'+'tions'][_0x3a4198['data']['type']]['updateTran'+'sform'](_0x3a4198,_0x3aa0ab,_0x1e6ac,_0xd1b56e);}['changeType'](_0x17c432,_0x1ccd93,_0x4a57a5){this['implementa'+'tions'][_0x1ccd93]['beforeRemo'+'ve'](_0x17c432['entity'],_0x17c432),this['implementa'+'tions'][_0x1ccd93]['remove'](_0x17c432['entity'],_0x17c432['data']),this['_createImp'+'lementatio'+'n'](_0x4a57a5)['reset'](_0x17c432,_0x17c432['data']);}['recreatePh'+'ysicalShap'+'es'](_0x471acc){this['implementa'+'tions'][_0x471acc['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x471acc);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1a87c5,_0x5bc256){if(_0x1a87c5===_0x5bc256){const _0x3c987c=_0x1a87c5['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x3c987c['x'],_0x3c987c['y'],_0x3c987c['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1a87c5['parent'],_0x5bc256),wc['mul'](_0x1a87c5['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x59715){const _0x330128=_0x59715['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x330128['x'],_0x330128['y'],_0x330128['z']);}['_getNodeTr'+'ansform'](_0x2c7bb1,_0x395bca){let _0x287c01,_0x16149c;_0x395bca?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2c7bb1,_0x395bca),_0x287c01=KL,_0x16149c=Vr,wc['getTransla'+'tion'](_0x287c01),_0x16149c['setFromMat'+'4'](wc)):(_0x287c01=_0x2c7bb1['getPositio'+'n'](),_0x16149c=_0x2c7bb1['getRotatio'+'n']());const _0x15548f=new Ammo['btQuaterni'+'on'](),_0x5caf5d=new Ammo['btTransfor'+'m']();_0x5caf5d['setIdentit'+'y']();const _0x439e16=_0x5caf5d['getOrigin'](),_0x31555b=_0x2c7bb1['collision'];if(_0x31555b&&_0x31555b['_hasOffset']){const _0xe1297d=_0x31555b['data']['linearOffs'+'et'],_0xeaf5fa=_0x31555b['data']['angularOff'+'set'],_0x1c3d9b=ZL;Vr['copy'](_0x16149c)['transformV'+'ector'](_0xe1297d,_0x1c3d9b),_0x1c3d9b['add'](_0x287c01),Vr['copy'](_0x16149c)['mul'](_0xeaf5fa),_0x439e16['setValue'](_0x1c3d9b['x'],_0x1c3d9b['y'],_0x1c3d9b['z']),_0x15548f['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x439e16['setValue'](_0x287c01['x'],_0x287c01['y'],_0x287c01['z']),_0x15548f['setValue'](_0x16149c['x'],_0x16149c['y'],_0x16149c['z'],_0x16149c['w']);return _0x5caf5d['setRotatio'+'n'](_0x15548f),Ammo['destroy'](_0x15548f),_0x5caf5d;}['destroy'](){for(const _0x4bee56 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4bee56]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x360f86,_0x587aab,_0x8ec828){this['_entity']=_0x360f86,this['_element']=_0x360f86['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x587aab,this['meshInstan'+'ce']=new He(this['mesh'],_0x8ec828,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x360f86['name'],this['meshInstan'+'ce']['castShadow']=!(0x1*-0x1b02+-0x21b7+-0x143e*-0x3),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0xd09+-0x1bdb+0x28e5),this['_meshDirty']=!(-0x240+0x1*-0x19d2+0x1c13),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x4cb55d,_0x5974e4;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x4cb55d=this['meshInstan'+'ce'])==null||_0x4cb55d['destroy'](),this['meshInstan'+'ce']=null,(_0x5974e4=this['unmaskMesh'+'Instance'])==null||_0x5974e4['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x3d2d15){this['meshInstan'+'ce']&&(this['mesh']=_0x3d2d15,this['meshInstan'+'ce']['mesh']=_0x3d2d15,this['meshInstan'+'ce']['visible']=!!_0x3d2d15,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x3d2d15),this['forceUpdat'+'eAabb']());}['setMask'](_0x5491b5){var _0x344d06;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x5491b5){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x4fb*0x5+0x58e+-0x135a*-0x1),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0xb3*-0x13+0x2*-0xf74+0x1619*0x2),this['unmaskMesh'+'Instance']['pick']=!(-0x2049*0x1+0x1526+0xb24),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x5d1583 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x5d1583,this['meshInstan'+'ce']['parameters'][_0x5d1583]['data']);}else{const _0x1e2202=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x1e2202>=-0x239b+0x11*-0x36+0x2731&&this['model']['meshInstan'+'ces']['splice'](_0x1e2202,0x172*-0x9+0x926+-0x1*-0x3dd);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x5491b5||((_0x344d06=this['unmaskMesh'+'Instance'])==null||_0x344d06['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x300f39){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x300f39,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x300f39));}['setParamet'+'er'](_0x3ddcbf,_0x2bb182){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x3ddcbf,_0x2bb182),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3ddcbf,_0x2bb182));}['deletePara'+'meter'](_0x2054c3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x2054c3),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x2054c3));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x369877=function(_0x171fe6){let _0x17b624;const _0x58a790=_0x171fe6['children'],_0x5495a1=_0x58a790['length'];if(_0x5495a1){for(let _0x5f5353=-0x67*-0x2b+0x511+0xe*-0x199;_0x5f5353<_0x5495a1;_0x5f5353++)_0x58a790[_0x5f5353]['element']&&(_0x17b624=_0x58a790[_0x5f5353]);if(!_0x17b624)return null;const _0x55dd13=_0x369877(_0x17b624);return _0x55dd13||_0x17b624;}return null;};if(this['unmaskMesh'+'Instance']){const _0x38ff65=_0x369877(this['_entity']);_0x38ff65&&_0x38ff65['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x38ff65['element']['drawOrder']+_0x38ff65['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3cc385){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3cc385),this['meshInstan'+'ce']['drawOrder']=_0x3cc385);}['setCull'](_0x33b097){if(!this['meshInstan'+'ce'])return;const _0x13c661=this['_element'];let _0x1d8154=null;_0x33b097&&_0x13c661['_isScreenS'+'pace']()&&(_0x1d8154=function(_0x56770a){return _0x13c661['isVisibleF'+'orCamera'](_0x56770a);}),this['meshInstan'+'ce']['cull']=_0x33b097,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x1d8154,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x33b097,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x1d8154);}['setScreenS'+'pace'](_0x7345df){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x7345df,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x7345df));}['setLayer'](_0x57caa0){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x57caa0,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x57caa0));}['forceUpdat'+'eAabb'](_0x287c94){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x32*-0x4f+-0x1*-0x1f9d+0x102e*-0x1),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x1184*0x1+0xa33*-0x1+-0x8*-0x377)));}['setAabbFun'+'c'](_0x5ebd23){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x5ebd23,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x5ebd23));}}class cR{constructor(_0xbc7945){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0xbc7945,this['_entity']=_0xbc7945['entity'],this['_system']=_0xbc7945['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x1d0f+0xb*0x10f+0x3*0x5ce,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x1cd4+0x1*0xfdd+-0x2cb0),this['_rect']=new re(-0x729*-0x5+-0x21af+0x2*-0x10f,-0x9e3+0x2683+-0x4*0x728,-0x911+-0xbf5*0x1+0x1507,0x1bcd+-0x416+-0x17b6),this['_mask']=!(-0x1*-0x185c+-0x72*0x52+0x1*0xc29),this['_maskRef']=-0x7*-0x30d+0x1db1*0x1+-0x330c,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0x3*0x35+-0x18*-0x199+-0x5*0x78b),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1a54+0x15*0xd3+0x909*0x1),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x10*-0x12e+-0x1*0x4e5+0x17c9),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x21*-0xdf+0x18bf+-0x357d,-0x3*-0x752+0x7*0x2f1+-0x2a8c,-0x36*0x1b+0x47a*-0x1+0x209*0x5,0x10b3+0x2a*-0x9d+0x910),this['_colorUnif'+'orm']=new Float32Array([-0x1ed5+-0x10b6+0x2f8c,0x5e3*-0x4+0x244f+-0xcc2,0x22e9+-0xcc5*-0x1+-0x989*0x5]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x23ef+0x142*-0xe+-0x5c*-0x95),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x55bcc1){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x3546ab){this['_updateMat'+'erial'](_0x3546ab);}['_onScreenC'+'hange'](_0x52e620,_0x121a4e){_0x52e620?this['_updateMat'+'erial'](_0x52e620['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2349+0x72e*-0x1+0x2a78));}['_onDrawOrd'+'erChange'](_0x5d561f){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x5d561f),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0xf18+-0x22d2*-0x1+-0x13b9);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x8b9ba2){const _0x5a4885=!!this['_mask'],_0x299034=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x32b30c=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x8b9ba2,_0x5a4885,_0x299034,_0x32b30c)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x8b9ba2),this['_renderabl'+'e']['setLayer'](_0x8b9ba2?Ow:Ky));}['_createMes'+'h'](){const _0x3ff130=this['_element'],_0x451cf0=_0x3ff130['calculated'+'Width'],_0x46b248=_0x3ff130['calculated'+'Height'],_0x471c7c=this['_rect'],_0x34d4b9=this['_system']['app']['graphicsDe'+'vice'],_0x2d244f=new Float32Array([_0x451cf0,0x24*-0x2f+0x4*-0x5a+0x3*0x2ac,0x66d+-0xf6+-0x577*0x1,0xee3+-0x331*-0xb+-0x31fe,-0x1*-0x153d+-0x2358+0xe1b,0x196c+0x191*-0x1+-0x1*0x17da,_0x471c7c['x']+_0x471c7c['z'],0x1af*-0x6+0xeb3*0x1+-0x126*0x4-_0x471c7c['y'],_0x451cf0,_0x46b248,0x260+-0x2469+0x2209,0x1bb*-0x1+0x1b4d+-0x1992,-0x1350+-0x2644+-0x43*-0xdc,0x142c+0x1a03+0x101*-0x2e,_0x471c7c['x']+_0x471c7c['z'],-0x3*0x685+0xabb*-0x1+-0x1e4b*-0x1-(_0x471c7c['y']+_0x471c7c['w']),0x1*-0x5d4+-0x15a*0x7+0x1*0xf4a,0x1cf*0x2+-0x40*0x46+-0x1*-0xde2,0x4ca*-0x5+0xbc8+0x615*0x2,0x2c4+0x1d40+-0x2004,0x1b03+0xb9*-0x1+0x5*-0x542,-0x198a+0x18dd+0xae,_0x471c7c['x'],-0x1192+0x5*-0x76f+-0xb*-0x4fa-_0x471c7c['y'],-0x66f*0x3+0x11*0x1a7+-0x8ca,_0x46b248,-0x1*0x258f+-0x1a69+0x3ff8,-0x49*0x7f+0x916*-0x4+0x488f,-0x12a*0x20+-0x3b3*0x1+0x3b9*0xb,0x1bf6+0x459+0x33b*-0xa,_0x471c7c['x'],0x137+0x262+-0x398-(_0x471c7c['y']+_0x471c7c['w'])]),_0x55a8a5=oR['get'](_0x34d4b9,()=>new kt(_0x34d4b9,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x56a93e=new Is(_0x34d4b9,_0x55a8a5,-0x2f*-0x9e+-0xad7+0x3*-0x60d,{'data':_0x2d244f['buffer']}),_0x312dae=new Ge(_0x34d4b9);return _0x312dae['vertexBuff'+'er']=_0x56a93e,_0x312dae['primitive'][-0x17ad+0x14b2+-0x1*-0x2fb]['type']=Er,_0x312dae['primitive'][0xc*0x1a1+-0x3*0x1d3+-0xe13]['base']=0xc*0x155+-0x15*0x3d+0xafb*-0x1,_0x312dae['primitive'][0x95c*0x2+0x9d*-0x37+0xf03]['count']=0x188c*0x1+-0x1726*-0x1+-0x2fae,_0x312dae['primitive'][0x1632+-0x68b*0x4+0x1fd*0x2]['indexed']=!(0x1646+-0x1409+-0x23c),_0x312dae['aabb']['setMinMax'](D['ZERO'],new D(_0x451cf0,_0x46b248,-0x1853+-0x2143+0x3996)),this['_updateMes'+'h'](_0x312dae),_0x312dae;}['_updateMes'+'h'](_0x60e442){const _0x3eacf3=this['_element'];let _0x540c6d=_0x3eacf3['calculated'+'Width'],_0x3669e8=_0x3eacf3['calculated'+'Height'];if(_0x3eacf3['fitMode']!==th&&this['_targetAsp'+'ectRatio']>0x10f1+-0x5*0x8b+-0xe3a){const _0x38d383=_0x3eacf3['calculated'+'Width']/_0x3eacf3['calculated'+'Height'];_0x3eacf3['fitMode']===GL&&_0x38d383>this['_targetAsp'+'ectRatio']||_0x3eacf3['fitMode']===HL&&_0x38d383<this['_targetAsp'+'ectRatio']?_0x540c6d=_0x3eacf3['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x3669e8=_0x3eacf3['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1b0369=_0x3eacf3['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1b0369),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x166293=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x18374f=(-0x26a8+0x15b*0x17+0x77d)/_0x166293['rect']['z'],_0x4dae79=(0x932*0x3+-0xa*0x33d+0x4ce)/_0x166293['rect']['w'];this['_innerOffs'+'et']['set'](_0x166293['border']['x']*_0x18374f,_0x166293['border']['y']*_0x4dae79,_0x166293['border']['z']*_0x18374f,_0x166293['border']['w']*_0x4dae79);const _0x5df2ec=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x166293['rect']['x']/_0x5df2ec['width'],_0x166293['rect']['y']/_0x5df2ec['height'],_0x166293['rect']['z']/_0x5df2ec['width'],_0x166293['rect']['w']/_0x5df2ec['height']);const _0x278f5b=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x31d886=_0x166293['rect']['z']/_0x278f5b,_0x10dc78=_0x166293['rect']['w']/_0x278f5b;this['_outerScal'+'e']['set'](Math['max'](_0x540c6d,this['_innerOffs'+'et']['x']*_0x31d886),Math['max'](_0x3669e8,this['_innerOffs'+'et']['y']*_0x10dc78));let _0x1b5a44=_0x31d886,_0x494b6a=_0x10dc78;this['_outerScal'+'e']['x']/=_0x31d886,this['_outerScal'+'e']['y']/=_0x10dc78,_0x1b5a44*=Y['clamp'](_0x540c6d/(this['_innerOffs'+'et']['x']*_0x31d886),0x7bf+0x4fc*0x1+0xcbb*-0x1+0.0001,-0xf2b*-0x1+-0x131f+0x3f5*0x1),_0x494b6a*=Y['clamp'](_0x3669e8/(this['_innerOffs'+'et']['y']*_0x10dc78),0x1*0xdee+0x1811*0x1+-0x25ff+0.0001,-0xb5d+-0x1fa2+0x2b00),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x2296+0xf5e+0xc7d*-0x4]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1f*0xbf+0x879*-0x2+-0x62e]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x1d*-0x146+-0xbb6+0x30a6]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0xd*-0x29+0x1d6a+-0x1f7c]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xe07+-0x376*-0x1+0x5*0x21d]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x58a+0x1b8c+-0x1601]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x4*-0x57a+0x22e3+-0xcf9]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x145b+0x2*0xf97+-0xa4e*0x5]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1bb4+0x5*0x7b1+-0xac1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1d7f+0x1921+0x369f*-0x1]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x1b5a44,_0x494b6a,0x3a4*-0x9+-0x3a5*-0x6+0xae7),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x11c1+-0x35d+0x151e+0.5-_0x3eacf3['pivot']['x'])*_0x540c6d,(-0x2*0xd71+0xa*-0x269+-0xfb*-0x34+0.5-_0x3eacf3['pivot']['y'])*_0x3669e8,-0x2489*-0x1+-0x1*0xcd7+-0x1*0x17b2));}else{const _0x248e24=_0x60e442['vertexBuff'+'er'],_0x182c24=new Float32Array(_0x248e24['lock']()),_0x419a0b=_0x3eacf3['pivot']['x'],_0x2db4b7=_0x3eacf3['pivot']['y'];_0x182c24[0xe*-0x197+-0xec7+0x2509]=_0x540c6d-_0x419a0b*_0x540c6d,_0x182c24[0xa3*0x15+-0x3*0xaed+0x1369]=-0x2*0x5b1+0x23b3+0x19*-0xf9-_0x2db4b7*_0x3669e8,_0x182c24[-0x10e2+-0x1af0+-0x15ed*-0x2]=_0x540c6d-_0x419a0b*_0x540c6d,_0x182c24[0xe2+0x1*0xefb+0x2*-0x7ea]=_0x3669e8-_0x2db4b7*_0x3669e8,_0x182c24[-0x25cd+0xba*0x35+0x37*-0x3]=-0x2201+0x102b+-0x11d6*-0x1-_0x419a0b*_0x540c6d,_0x182c24[-0x265*-0x4+0xea+-0x11*0x9d]=0x1f5+-0x686+0x491-_0x2db4b7*_0x3669e8,_0x182c24[-0x4a*0x70+0xabf+0x15b9]=-0x1a8*0x5+0x2570+0xc*-0x26e-_0x419a0b*_0x540c6d,_0x182c24[0x348+-0x12a*0x12+0x11c5]=_0x3669e8-_0x2db4b7*_0x3669e8;let _0xdeef15=-0x1d9e+0x199*0x15+-0x3ee,_0x3013c7=-0x1dfb*0x1+0xb*0xa7+0x16cf,_0x4abc22=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x40f4aa=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x40f4aa&&(_0x4abc22=_0x40f4aa['rect'],_0xdeef15=this['_sprite']['atlas']['texture']['width'],_0x3013c7=this['_sprite']['atlas']['texture']['height']);}_0x182c24[-0x9*-0x429+0x3e*-0xb+0x4f7*-0x7]=(_0x4abc22['x']+_0x4abc22['z'])/_0xdeef15,_0x182c24[0x1*0x13bb+-0x1733+0x37f]=0x1d13+-0x635+-0x16dd-_0x4abc22['y']/_0x3013c7,_0x182c24[-0x16c4+0x260f+-0xf3d]=(_0x4abc22['x']+_0x4abc22['z'])/_0xdeef15,_0x182c24[0x18c0+0x1*-0x1df9+0x548]=0x2642*-0x1+-0x8bf*0x1+-0x223*-0x16-(_0x4abc22['y']+_0x4abc22['w'])/_0x3013c7,_0x182c24[0x8*0x499+0x590+-0x2a42]=_0x4abc22['x']/_0xdeef15,_0x182c24[0x24f7+0x22dd+0x5*-0xe59]=0x1092+0x989*0x1+-0x1a1a-_0x4abc22['y']/_0x3013c7,_0x182c24[-0x100a*-0x2+-0x9d*-0x36+-0x4114]=_0x4abc22['x']/_0xdeef15,_0x182c24[0x866+0x193*-0x17+-0x6e*-0x41]=0x1*0x120d+-0x1*-0xc11+0x251*-0xd-(_0x4abc22['y']+_0x4abc22['w'])/_0x3013c7,_0x248e24['unlock']();const _0x544a62=new D(-0x1*-0x4eb+0x3*0x7cd+-0x1c52-_0x419a0b*_0x540c6d,0x7*0x137+-0xa36*0x1+0x17*0x13-_0x2db4b7*_0x3669e8,0xe*-0x68+0x27*-0x2d+-0xd*-0xf7),_0x4a502e=new D(_0x540c6d-_0x419a0b*_0x540c6d,_0x3669e8-_0x2db4b7*_0x3669e8,0x569+-0x16e1+0x1a*0xac);_0x60e442['aabb']['setMinMax'](_0x544a62,_0x4a502e),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x613*0x4+-0x1*0x9ef+0x223c,-0x48*0x43+0x1f10+0x1*-0xc37,0x1550+0x1c78+0x1*-0x31c7),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x10f+0x2344+0x2453*-0x1,-0x13d9*-0x1+0x1cd9+-0x2e*0x10f,-0x586+-0x1afb*-0x1+0x727*-0x3),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0xfa2*-0x1+-0x2*-0xb60+-0x2661);}['_updateSpr'+'ite'](){let _0x47d479=!(0x6b*-0x4d+-0x7b*0x1a+0x2cae),_0x4b4303=null;if(this['_targetAsp'+'ectRatio']=-(-0x150*-0x15+-0x1901+-0x28e),this['_sprite']&&this['_sprite']['atlas']){_0x4b4303=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x47d479=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x4f4789=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x4f4789==null?void(0x1fe1+-0x7a7+-0xe*0x1bb):_0x4f4789['rect']['w'])>0x5*-0x1c1+0xf77*-0x1+0x2c*0x8d&&(this['_targetAsp'+'ectRatio']=_0x4f4789['rect']['z']/_0x4f4789['rect']['w']);}this['mesh']=_0x47d479?_0x4b4303:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x14b*0x8+-0x3da*-0x9+-0x236*0xb):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x285472){return _0x285472['center']['set'](0x1a85*-0x1+-0xbdd+0x2662,0xe9*-0x17+0x1*-0x11e5+-0x58c*-0x7,0x24a5+-0x1ed9+-0x5cc),_0x285472['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x699*-0x2+0x3*-0x90e+0xdf8+0.5),this['_outerScal'+'e']['y']*(0x14e4+0x2683*-0x1+0xd*0x15b+0.5),0x9*-0x65+-0x163d*-0x1+-0x12b0+0.001),_0x285472['setFromTra'+'nsformedAa'+'bb'](_0x285472,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x285472;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x503719=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x503719),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x389d9a){this['material']=_0x389d9a['resource'];}['_onMateria'+'lAdded'](_0x2892f0){this['_system']['app']['assets']['off']('add:'+_0x2892f0['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x2892f0['id']&&this['_bindMater'+'ialAsset'](_0x2892f0);}['_bindMater'+'ialAsset'](_0x1d442a){this['_entity']['enabled']&&(_0x1d442a['on']('load',this['_onMateria'+'lLoad'],this),_0x1d442a['on']('change',this['_onMateria'+'lChange'],this),_0x1d442a['on']('remove',this['_onMateria'+'lRemove'],this),_0x1d442a['resource']?this['_onMateria'+'lLoad'](_0x1d442a):this['_system']['app']['assets']['load'](_0x1d442a));}['_unbindMat'+'erialAsset'](_0x490a15){_0x490a15['off']('load',this['_onMateria'+'lLoad'],this),_0x490a15['off']('change',this['_onMateria'+'lChange'],this),_0x490a15['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x439e0e){this['_system']['app']['assets']['off']('add:'+_0x439e0e['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x439e0e['id']&&this['_bindTextu'+'reAsset'](_0x439e0e);}['_bindTextu'+'reAsset'](_0x572ff8){this['_entity']['enabled']&&(_0x572ff8['on']('load',this['_onTexture'+'Load'],this),_0x572ff8['on']('change',this['_onTexture'+'Change'],this),_0x572ff8['on']('remove',this['_onTexture'+'Remove'],this),_0x572ff8['resource']?this['_onTexture'+'Load'](_0x572ff8):this['_system']['app']['assets']['load'](_0x572ff8));}['_unbindTex'+'tureAsset'](_0x37d41d){_0x37d41d['off']('load',this['_onTexture'+'Load'],this),_0x37d41d['off']('change',this['_onTexture'+'Change'],this),_0x37d41d['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x2a1ba6){this['texture']=_0x2a1ba6['resource'];}['_onTexture'+'Change'](_0x2c1258){}['_onTexture'+'Remove'](_0x1b0002){}['_onSpriteA'+'ssetAdded'](_0x5591cd){this['_system']['app']['assets']['off']('add:'+_0x5591cd['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5591cd['id']&&this['_bindSprit'+'eAsset'](_0x5591cd);}['_bindSprit'+'eAsset'](_0x5a1e36){this['_entity']['enabled']&&(_0x5a1e36['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5a1e36['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x5a1e36['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5a1e36['resource']?this['_onSpriteA'+'ssetLoad'](_0x5a1e36):this['_system']['app']['assets']['load'](_0x5a1e36));}['_unbindSpr'+'iteAsset'](_0x44c874){_0x44c874['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x44c874['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x44c874['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x44c874['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x44c874['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x5ad7a5){if(!_0x5ad7a5||!_0x5ad7a5['resource'])this['sprite']=null;else{if(_0x5ad7a5['resource']['atlas'])this['sprite']=_0x5ad7a5['resource'];else{const _0x55fc52=_0x5ad7a5['data']['textureAtl'+'asAsset'];if(_0x55fc52){const _0x1c050d=this['_system']['app']['assets'];_0x1c050d['off']('load:'+_0x55fc52,this['_onTexture'+'AtlasLoad'],this),_0x1c050d['once']('load:'+_0x55fc52,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x393a64){this['_onSpriteA'+'ssetLoad'](_0x393a64);}['_onSpriteA'+'ssetRemove'](_0x5f510c){}['_bindSprit'+'e'](_0x3c0793){this['_evtSetMes'+'hes']=_0x3c0793['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x3c0793['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3c0793['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3c0793['atlas']&&_0x3c0793['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x1936f2){var _0x5349cd;(_0x5349cd=this['_evtSetMes'+'hes'])==null||_0x5349cd['off'](),this['_evtSetMes'+'hes']=null,_0x1936f2['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x1936f2['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x1936f2['atlas']&&_0x1936f2['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0xdf3+-0x121*-0x1d+-0xb9*0x1a,this['_sprite']['frameKeys']['length']-(0x1*-0x1763+-0x21*0x107+0x394b))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x1df992){const _0x4c8e15=this['_spriteAss'+'et'];_0x4c8e15 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4c8e15):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x4c8e15));}['onEnable'](){if(this['_materialA'+'sset']){const _0x31d816=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x31d816&&_0x31d816['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x31d816);}if(this['_textureAs'+'set']){const _0x415756=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x415756&&_0x415756['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x415756);}if(this['_spriteAss'+'et']){const _0x585197=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x585197&&_0x585197['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x585197);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x495709){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x495709,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x495709;let _0x441fde=-0x27f*0xf+0x1a73+-0xe*-0xc9;if(this['_element']['maskedBy']&&(_0x441fde=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x3f0c57=new pi({'ref':_0x441fde+(0x99b+-0xe5+0x3*-0x2e7),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x3f0c57,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x3f0c57;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x120a+-0x44*-0x83+-0x10c2]=Ec['r'],this['_colorUnif'+'orm'][-0x631*0x1+-0x3f3+0xa25]=Ec['g'],this['_colorUnif'+'orm'][0xc8a+0x1a03*-0x1+0xd7b]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x59d25b){this['_color']===_0x59d25b&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x2eccfa,g:_0x1df70a,b:_0xe7c553}=_0x59d25b;(this['_color']['r']!==_0x2eccfa||this['_color']['g']!==_0x1df70a||this['_color']['b']!==_0xe7c553)&&(this['_color']['r']=_0x2eccfa,this['_color']['g']=_0x1df70a,this['_color']['b']=_0xe7c553,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x1cdc82){_0x1cdc82!==this['_color']['a']&&(this['_color']['a']=_0x1cdc82,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x1cdc82)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1cdc82);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x504d49){this['_rect']===_0x504d49&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x5b870b,_0x1118d0,_0x1d6423,_0x521c52;_0x504d49 instanceof re?(_0x5b870b=_0x504d49['x'],_0x1118d0=_0x504d49['y'],_0x1d6423=_0x504d49['z'],_0x521c52=_0x504d49['w']):(_0x5b870b=_0x504d49[-0xb2b*0x1+0x10*-0x266+-0x318b*-0x1],_0x1118d0=_0x504d49[0x2069+-0x1f95+0xd3*-0x1],_0x1d6423=_0x504d49[0xa31+0x1dac+-0x27db],_0x521c52=_0x504d49[-0x4*-0x115+-0x254c+-0x20fb*-0x1]),!(_0x5b870b===this['_rect']['x']&&_0x1118d0===this['_rect']['y']&&_0x1d6423===this['_rect']['z']&&_0x521c52===this['_rect']['w'])&&(this['_rect']['set'](_0x5b870b,_0x1118d0,_0x1d6423,_0x521c52),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x8*0x482+0x2311*-0x1+0x4721):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0xed8923=this['_system']['app']['assets'];_0xed8923['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x3c9c8c=_0xed8923['get'](this['_materialA'+'sset']);_0x3c9c8c&&(_0x3c9c8c['off']('load',this['_onMateria'+'lLoad'],this),_0x3c9c8c['off']('change',this['_onMateria'+'lChange'],this),_0x3c9c8c['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x25754f){if(this['_material']!==_0x25754f){if(!_0x25754f){const _0x115aad=this['_element']['_isScreenS'+'pace']();this['mask']?_0x25754f=_0x115aad?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x25754f=_0x115aad?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x25754f,this['_materialA'+'sset']){const _0x4c18b3=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x4c18b3||_0x4c18b3['resource']!==_0x25754f)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x25754f&&(this['_renderabl'+'e']['setMateria'+'l'](_0x25754f),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x57c2ac){const _0x4e8798=this['_system']['app']['assets'];let _0xe5242d=_0x57c2ac;if(_0x57c2ac instanceof pe&&(_0xe5242d=_0x57c2ac['id']),this['_materialA'+'sset']!==_0xe5242d){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0xe5242d,this['_materialA'+'sset']){const _0x3243b0=_0x4e8798['get'](this['_materialA'+'sset']);_0x3243b0?this['_bindMater'+'ialAsset'](_0x3243b0):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xe5242d,_0x4e8798['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xe5242d;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x45507b){if(this['_texture']!==_0x45507b){if(this['_textureAs'+'set']){const _0x9a3029=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x9a3029&&_0x9a3029['resource']!==_0x45507b&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x45507b,_0x45507b){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x1aa041=this['_texture']['width']/this['_texture']['height'];_0x1aa041!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x1aa041,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x165b+-0x184b+0x2ea7*0x1),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x2cf0be){const _0x260f8e=this['_system']['app']['assets'];let _0x165541=_0x2cf0be;if(_0x2cf0be instanceof pe&&(_0x165541=_0x2cf0be['id']),this['_textureAs'+'set']!==_0x165541){if(this['_textureAs'+'set']){_0x260f8e['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x6cc29d=_0x260f8e['get'](this['_textureAs'+'set']);_0x6cc29d&&(_0x6cc29d['off']('load',this['_onTexture'+'Load'],this),_0x6cc29d['off']('change',this['_onTexture'+'Change'],this),_0x6cc29d['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x165541,this['_textureAs'+'set']){const _0x5e89b4=_0x260f8e['get'](this['_textureAs'+'set']);_0x5e89b4?this['_bindTextu'+'reAsset'](_0x5e89b4):(this['texture']=null,_0x260f8e['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x18c4d1){const _0x3db34f=this['_system']['app']['assets'];let _0xe87e12=_0x18c4d1;if(_0x18c4d1 instanceof pe&&(_0xe87e12=_0x18c4d1['id']),this['_spriteAss'+'et']!==_0xe87e12){if(this['_spriteAss'+'et']){_0x3db34f['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x45923a=_0x3db34f['get'](this['_spriteAss'+'et']);_0x45923a&&this['_unbindSpr'+'iteAsset'](_0x45923a);}if(this['_spriteAss'+'et']=_0xe87e12,this['_spriteAss'+'et']){const _0x188e16=_0x3db34f['get'](this['_spriteAss'+'et']);_0x188e16?this['_bindSprit'+'eAsset'](_0x188e16):(this['sprite']=null,_0x3db34f['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0xe87e12);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x3675d2){if(this['_sprite']!==_0x3675d2){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x5a8f7d=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5a8f7d&&_0x5a8f7d['resource']!==_0x3675d2&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x3675d2,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x26*0xc7+0x1321+0x29*0x41,this['_sprite']['frameKeys']['length']-(-0x21f5+0xa9*0x13+0x156b))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x3b0548){const _0x1f7455=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x3b0548,-0xca*0x14+-0x1261+0x2229,this['_sprite']['frameKeys']['length']-(-0x24f3+-0x2092+-0x652*-0xb)):this['_spriteFra'+'me']=_0x3b0548,this['_spriteFra'+'me']!==_0x1f7455&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x3b0548);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x151a49){this['_renderabl'+'e']['setMesh'](_0x151a49),this['_defaultMe'+'sh']===_0x151a49?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x481fdf){this['_mask']!==_0x481fdf&&(this['_mask']=_0x481fdf,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x47e485){this['_pixelsPer'+'Unit']!==_0x47e485&&(this['_pixelsPer'+'Unit']=_0x47e485,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x44f231){super(),this['_app']=_0x44f231,_0x44f231['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0xe13+0x14*0xdb+-0x1f2e),this['_disableLo'+'calization']=!(0x1929*-0x1+-0x15dc+-0xd*-0x39e),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x47ddca){const _0x5510ac=_0x47ddca instanceof pe?_0x47ddca['id']:_0x47ddca;this['_defaultAs'+'set']!==_0x5510ac&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x5510ac,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x51ebba){const _0x2c5529=_0x51ebba instanceof pe?_0x51ebba['id']:_0x51ebba;this['_localized'+'Asset']!==_0x2c5529&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x2c5529,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x594712){this['_autoLoad']!==_0x594712&&(this['_autoLoad']=_0x594712,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2405fa){this['_disableLo'+'calization']!==_0x2405fa&&(this['_disableLo'+'calization']=_0x2405fa,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x3d09c2=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x3d09c2?this['_onDefault'+'AssetAdd'](_0x3d09c2):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x462dc6=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x462dc6&&(_0x462dc6['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x462dc6['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x462dc6['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x42f08f){this['_defaultAs'+'set']===_0x42f08f['id']&&(_0x42f08f['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x42f08f['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x42f08f['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x14cfec){this['_defaultAs'+'set']===_0x14cfec['id']&&(_0x14cfec['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x14cfec['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x5b1b38=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x5b1b38&&(_0x5b1b38['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x5b1b38['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x5b1b38['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x5b1b38['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x5b1b38):this['_app']['assets']['load'](_0x5b1b38));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x2264de=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2264de&&(_0x2264de['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2264de['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2264de['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0xde605){this['_localized'+'Asset']===_0xde605['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x3bab32){this['fire']('load',_0x3bab32);}['_onLocaliz'+'edAssetCha'+'nge'](_0x50553f,_0x4a945d,_0x35bad4,_0xef97ff){this['fire']('change',_0x50553f,_0x4a945d,_0x35bad4,_0xef97ff);}['_onLocaliz'+'edAssetRem'+'ove'](_0x393a3a){this['_localized'+'Asset']===_0x393a3a['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x393a3a);}['_onLocaleA'+'dd'](_0x3e9a83,_0x4a3df8){this['_app']['i18n']['locale']===_0x3e9a83&&this['_onSetLoca'+'le'](_0x3e9a83);}['_onLocaleR'+'emove'](_0x4f1a40,_0x1619c6){this['_app']['i18n']['locale']===_0x4f1a40&&this['_onSetLoca'+'le'](_0x4f1a40);}['_onSetLoca'+'le'](_0x1a0de7){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x115ff3=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x115ff3||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x2aa742=_0x115ff3['getLocaliz'+'edAssetId'](_0x1a0de7);if(!_0x2aa742){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x2aa742;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0x3c9+0x86*0x11+-0xcaf,an=0x1133+0x2*0xd81+-0x2c34,Du=-0x2*0x8ef+0xbe5+0x5fb,Zv=0xd*-0x2bc+-0x340*-0x1+0x204f,Iu=0x144c+-0x1*-0x889+0x3*-0x99b,Lu=-0x1*-0x1feb+0x996+-0x297c,Ru=0x14c6+-0x1c98+0x2*0x3ec,Ou=0x256e+-0x1*-0x20dd+0x1*-0x4644,Xg=0x37*0x35+-0x33*0x2+0x231*-0x5,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x1e65ba){this['_symbols']=_0x1e65ba,this['_index']=0x1*0x17e3+0x2d*-0x1f+-0x3b*0x50,this['_last']=0x25f6*0x1+0x1*0xe5+0x1*-0x26db,this['_cur']=this['_symbols']['length']>0x2028+0x870+-0x4*0xa26?this['_symbols'][-0x11b7*0x1+-0x1a79*-0x1+-0x8c2]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x53e64f=this['_read']();for(;_0x53e64f===Xg;)_0x53e64f=this['_read']();return _0x53e64f!==Mo&&_0x53e64f!==an&&(this['_last']=this['_index']),_0x53e64f;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x32cf4b=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x3b4bda=this['read'](),_0x36f5ff='';for(;_0x36f5ff+=(_0x36f5ff['length']>0x3*0xa44+0x2550+-0x441c?'\x0a':'')+_0x32cf4b[_0x3b4bda]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x3b4bda===Mo||_0x3b4bda===an);)_0x3b4bda=this['read']();return _0x36f5ff;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x5c9*0x1+-0x24d3+0x2a9c?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x4*0x982+-0x24bd+-0x14b?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x3*-0x3b9+-0x1a47+0xf1d*0x1);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x47e971){return _0x47e971['length']===0x597+-0x181d+-0x117*-0x11&&_0x47e971['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x6d1dd6){this['_buf']['push'](_0x6d1dd6);}}class mR{constructor(_0x7bf1a6){this['_scanner']=new pR(_0x7bf1a6),this['_error']=null;}['parse'](_0x309643,_0x578ecd){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0xae4*-0x3+0x46*-0x2c+-0x4*-0xb2d);case an:return!(0x86*-0x17+0x855*0x3+0x4*-0x33d);case Du:Array['prototype']['push']['apply'](_0x309643,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x309643,_0x578ecd))return!(0x3b*0x1+0x12fe+-0x334*0x6);break;default:return!(-0x6c1+-0x50d*-0x6+-0x178c);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x28affa,_0x40231b){let _0x17f65a=this['_scanner']['read']();if(_0x17f65a!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x16*0x5+-0x629*-0x5+-0x1f3a);const _0x65d83f=this['_scanner']['buf']()['join']('');if(_0x65d83f[-0x1*0x2be+0x633+-0x375]==='/'){for(let _0x1ad28c=_0x40231b['length']-(-0x228b+0x286+0x2006);_0x1ad28c>=0x1966+0x2*0x9a7+-0x2cb4;--_0x1ad28c)if(_0x65d83f==='/'+_0x40231b[_0x1ad28c]['name']&&_0x40231b[_0x1ad28c]['end']===null)return _0x40231b[_0x1ad28c]['end']=_0x28affa['length'],_0x17f65a=this['_scanner']['read'](),_0x17f65a!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x1674*0x1+-0x2f1*-0xd+-0xfc8)):!(0x1*0x165f+0xd55+-0x23b4);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x59+0x862+-0x808);}const _0x1a4d28={'name':_0x65d83f,'value':null,'attributes':{},'start':_0x28affa['length'],'end':null};if(_0x17f65a=this['_scanner']['read'](),_0x17f65a===Lu){if(_0x17f65a=this['_scanner']['read'](),_0x17f65a!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x2203+0x1d*-0x2+-0x3ce*-0x9);_0x1a4d28['value']=this['_scanner']['buf']()['join'](''),_0x17f65a=this['_scanner']['read']();}for(;;){switch(_0x17f65a){case Iu:return _0x40231b['push'](_0x1a4d28),!(0x11*0xa2+0x1291+0x1*-0x1d53);case Ou:{const _0x285a62=this['_scanner']['buf']()['join']('');if(_0x17f65a=this['_scanner']['read'](),_0x17f65a!==Lu)return this['_error']='expected\x20e'+'quals',!(0x23*0x113+0x349+0xd*-0x325);if(_0x17f65a=this['_scanner']['read'](),_0x17f65a!==Ru)return this['_error']='expected\x20s'+'tring',!(0x4f*-0x71+-0x109c+-0x1*-0x337c);const _0x2a02ac=this['_scanner']['buf']()['join']('');_0x1a4d28['attributes'][_0x285a62]=_0x2a02ac;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1855+-0x1a84*0x1+-0x70*-0x5);}_0x17f65a=this['_scanner']['read']();}}}function Qv(_0x226381,_0x1681ca){for(const _0x55ff5b in _0x1681ca){if(!_0x1681ca['hasOwnProp'+'erty'](_0x55ff5b))continue;const _0x2f901b=_0x1681ca[_0x55ff5b];_0x2f901b instanceof Object?(_0x226381['hasOwnProp'+'erty'](_0x55ff5b)||(_0x226381[_0x55ff5b]={}),Qv(_0x226381[_0x55ff5b],_0x1681ca[_0x55ff5b])):_0x226381[_0x55ff5b]=_0x2f901b;}}function _R(_0x2951c3){if(_0x2951c3['length']===0xf6a*-0x1+-0x321*0x1+0x128b)return null;const _0xd26abe={};for(let _0x3a0339=0xc*-0x29f+0x248a*-0x1+0xb55*0x6;_0x3a0339<_0x2951c3['length'];++_0x3a0339){const _0x2d5501=_0x2951c3[_0x3a0339],_0x210fca={};_0x210fca[_0x2d5501['name']]={'value':_0x2d5501['value'],'attributes':_0x2d5501['attributes']},Qv(_0xd26abe,_0x210fca);}return _0xd26abe;}function gR(_0x4c66cf,_0x33a2e8){if(_0x4c66cf['length']===0xa*-0x234+-0x204d+0x3655)return null;const _0x242720={};for(let _0xbb5fc3=-0x161c+-0x5de*0x5+0x3372;_0xbb5fc3<_0x4c66cf['length'];++_0xbb5fc3){const _0x409be6=_0x4c66cf[_0xbb5fc3];_0x242720['hasOwnProp'+'erty'](_0x409be6['start'])?_0x242720[_0x409be6['start']]['open']===null?_0x242720[_0x409be6['start']]['open']=[_0x409be6]:_0x242720[_0x409be6['start']]['open']['push'](_0x409be6):_0x242720[_0x409be6['start']]={'open':[_0x409be6],'close':null},_0x242720['hasOwnProp'+'erty'](_0x409be6['end'])?_0x242720[_0x409be6['end']]['close']===null?_0x242720[_0x409be6['end']]['close']=[_0x409be6]:_0x242720[_0x409be6['end']]['close']['push'](_0x409be6):_0x242720[_0x409be6['end']]={'open':null,'close':[_0x409be6]};}let _0xbe2c5=[];function _0x4c4dc0(_0x2e71a7){_0xbe2c5=_0xbe2c5['filter'](_0x21f86d=>_0x2e71a7['find'](_0x564f9c=>_0x564f9c===_0x21f86d)===void(-0x3d*0x16+0x5*0x5d5+-0x7f9*0x3));}function _0x7ea6e5(_0xf08cda){for(let _0x51b544=-0xd40+-0x185a+-0x259a*-0x1;_0x51b544<_0xf08cda['length'];++_0x51b544)_0xbe2c5['push'](_0xf08cda[_0x51b544]);}const _0x1392fd=Object['keys'](_0x242720)['sort']((_0x1b1864,_0x47284d)=>_0x1b1864-_0x47284d),_0xdeedf0=[];for(let _0x2063cf=0x4*-0x4c1+0x3*0x6dc+-0x190;_0x2063cf<_0x1392fd['length'];++_0x2063cf){const _0x193d7a=_0x242720[_0x1392fd[_0x2063cf]];_0x193d7a['close']!==null&&_0x4c4dc0(_0x193d7a['close']),_0x193d7a['open']!==null&&_0x7ea6e5(_0x193d7a['open']),_0xdeedf0['push']({'start':_0x1392fd[_0x2063cf],'tags':_R(_0xbe2c5)});}const _0x18e175=[];let _0x334b98=null;for(let _0x2d9613=0x212a+-0x23f6+0x2cc;_0x2d9613<_0xdeedf0['length'];++_0x2d9613){const _0x23160b=_0xdeedf0[_0x2d9613];for(;_0x18e175['length']<_0x23160b['start'];)_0x18e175['push'](_0x334b98?_0x334b98['tags']:null);_0x334b98=_0x23160b;}for(;_0x18e175['length']<_0x33a2e8;)_0x18e175['push'](null);return _0x18e175;}function SR(_0xd4f809){const _0x9d074a=new mR(_0xd4f809),_0x4a857a=[],_0x534456=[];if(!_0x9d074a['parse'](_0x4a857a,_0x534456))return console['warn'](_0x9d074a['error']()),{'symbols':_0xd4f809,'tags':null};const _0x33a156=_0x534456['find'](_0x23f6cd=>_0x23f6cd['end']===null);if(_0x33a156)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x33a156['name']+'\x27'),{'symbols':_0xd4f809,'tags':null};const _0x479429=gR(_0x534456,_0x4a857a['length']);return{'symbols':_0x4a857a,'tags':_0x479429};}class yR{static['evaluate'](_0x3c0d9d){return SR(_0x3c0d9d);}}class vR{constructor(){this['count']=0x5bf+0x1a39*0x1+-0x1ff8,this['quad']=0x1*0x549+0x1*0x259f+-0x2ae8,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x315592,_0x22d51d){const _0x2204a0=new Ge(_0x315592);return _0x2204a0['setPositio'+'ns'](_0x22d51d['positions']),_0x2204a0['setNormals'](_0x22d51d['normals']),_0x2204a0['setColors3'+'2'](_0x22d51d['colors']),_0x2204a0['setUvs'](-0x4*0x691+0x43a*-0x9+0x404e,_0x22d51d['uvs']),_0x2204a0['setIndices'](_0x22d51d['indices']),_0x2204a0['setVertexS'+'tream'](Ko,_0x22d51d['outlines'],0x329*0x1+0x22c*-0x5+-0xe*-0x8d,void(0xa95*0x3+0x4*0x6d+0x2173*-0x1),Ve,!(0x3a1+0x7f*-0x17+0x7c9)),_0x2204a0['setVertexS'+'tream'](Zo,_0x22d51d['shadows'],-0x5b*-0x59+0x8d*0xb+0xb*-0x36d,void(0x202a+0xbf9+0x2c23*-0x1),Ve,!(-0x217c+0x1*0xf57+0x1226)),_0x2204a0['update'](),_0x2204a0;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x3c0528){this['_element']=_0x3c0528,this['_system']=_0x3c0528['system'],this['_entity']=_0x3c0528['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x184e+-0x66d+0x1ebb),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x2*-0xcca+0x21e4*0x1+0x84f*-0x1,-0x14b9+0x3*0x669+0x17f,-0x2155+0xd9*-0x13+0x3171,-0x1*0x253d+-0x3*0xaf9+0x4629),this['_colorUnif'+'orm']=new Float32Array(-0x3c8*0x2+0xe*0xcb+-0x12d*0x3),this['_spacing']=-0x26ff+-0x3b*-0x1+0x26c5,this['_fontSize']=0x6df*0x2+0x1*0xfe3+0x1d81*-0x1,this['_fontMinY']=0x4*0x24+-0x3*0x67+0x37*0x3,this['_fontMaxY']=-0x1*0x1021+0xf*0x241+-0x11ae,this['_originalF'+'ontSize']=-0x1*0x32d+0x262*0x5+-0x89d,this['_maxFontSi'+'ze']=-0xf31+0x18*0x15e+-0x3*0x5d5,this['_minFontSi'+'ze']=-0x1a8c+-0x172+0x1*0x1c06,this['_autoFitWi'+'dth']=!(0x23*0x1f+0x191d+0x1d59*-0x1),this['_autoFitHe'+'ight']=!(-0x24cd+-0x1b8c+0x405a),this['_maxLines']=-(0x14f*0x14+-0x1b95+0x16a),this['_lineHeigh'+'t']=0x5e7+0x19e9+-0x6*0x548,this['_scaledLin'+'eHeight']=-0xfa5+-0x2*0x86a+0x2099,this['_wrapLines']=!(-0x9*-0x2e4+0x2589+-0x3f8c),this['_drawOrder']=0x2*0x12eb+-0x53*-0x2b+-0x4b5*0xb,this['_alignment']=new J(-0x6*0x50f+-0x1f1+0x204b+0.5,0xacf*0x1+-0x806*0x4+0x1549+0.5),this['_autoWidth']=!(0x11b9*-0x2+0xed9+0x1*0x1499),this['_autoHeigh'+'t']=!(-0x1b09+0x1075*0x2+-0x23*0x2b),this['width']=-0xa*0x3d+0x20c*0x1+0x56,this['height']=0x1857+-0x4c*0x55+0xe5,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x2275+0x12*0x16d+0x8cb),this['_aabb']=new De(),this['_noResize']=!(0x451+-0x7f*-0x1+0x4cf*-0x1),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x5*-0x200+-0x1d31+0x2732),this['_unicodeCo'+'nverter']=!(-0x864*-0x1+-0x16*-0xef+-0x1ced),this['_rtl']=!(-0x3*-0xb5f+-0x89*0x45+0x2d1),this['_outlineCo'+'lor']=new ie(-0xee9*0x2+-0xa38*0x2+-0x7*-0x72e,0x2*0x193+-0x1b54+0x182e,-0xb*-0x54+0x9a+-0x1*0x436,-0x1fe4*-0x1+-0x3e*0x88+0x10d),this['_outlineCo'+'lorUniform']=new Float32Array(0x165c+0x9d+-0x16f5),this['_outlineTh'+'icknessSca'+'le']=0xe21*-0x1+0x109c+0x5*-0x7f+0.2,this['_outlineTh'+'ickness']=-0xb02+-0xc52*0x2+0x3f6*0x9,this['_shadowCol'+'or']=new ie(-0x394*0x7+0x11a+-0x265*-0xa,0x7ed*0x1+0xc1*0x27+0x1*-0x2554,0xc3a+0x5*-0x360+0x4a6,0x1ee5+-0x1a0b+0x1*-0x4d9),this['_shadowCol'+'orUniform']=new Float32Array(0x1*-0x1f7+-0x2b4*-0x6+-0xe3d),this['_shadowOff'+'setScale']=-0xee3+0xde2+-0x1*-0x101+0.005,this['_shadowOff'+'set']=new J(0x114a*-0x2+-0x26db+0x496f,-0x1abd*0x1+0xc6d*-0x1+0x272a),this['_shadowOff'+'setUniform']=new Float32Array(0x113e*-0x1+-0x656+-0x1*-0x1796),this['_enableMar'+'kup']=!(-0x19*0x25+-0x1a1*0x9+0x1247),this['_onScreenC'+'hange'](this['_element']['screen']),_0x3c0528['on']('resize',this['_onParentR'+'esize'],this),_0x3c0528['on']('set:screen',this['_onScreenC'+'hange'],this),_0x3c0528['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x3c0528['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x3c0528['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1*-0x1ccb+0x28b+0x78*0x38,this['_rangeEnd']=0x343*-0x1+0x22e6+-0x485*0x7;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x27e147,_0x3f4f61){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x807ed4){_0x807ed4?this['_updateMat'+'erial'](_0x807ed4['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1*-0xf6b+-0x83*-0x2+0x8*-0x20e));}['_onScreenS'+'paceChange'](_0x5a8b37){this['_updateMat'+'erial'](_0x5a8b37);}['_onDrawOrd'+'erChange'](_0x3901e5){if(this['_drawOrder']=_0x3901e5,this['_model']){for(let _0x28180=0x153*-0x15+-0x1*0x17e3+-0x19d9*-0x2,_0x267fd8=this['_model']['meshInstan'+'ces']['length'];_0x28180<_0x267fd8;_0x28180++)this['_model']['meshInstan'+'ces'][_0x28180]['drawOrder']=_0x3901e5;}}['_onPivotCh'+'ange'](_0x257b8f){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x15f297){if(this['_i18nKey']){if(this['fontAsset']){const _0x2c3d8c=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x2c3d8c||!_0x2c3d8c['resource']||_0x2c3d8c['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x13b51e,_0xd6ef91){this['_i18nKey']&&_0xd6ef91[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x22c85c){if(this['unicodeCon'+'verter']){const _0x30b531=this['_system']['getUnicode'+'Converter']();_0x30b531?_0x22c85c=_0x30b531(_0x22c85c):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x22c85c&&(this['_font']&&this['_updateTex'+'t'](_0x22c85c),this['_text']=_0x22c85c);}['_updateTex'+'t'](_0x225084){let _0xe77b7;if(_0x225084===void(0x1*0x1b8d+-0x4*0x158+-0x162d)&&(_0x225084=this['_text']),this['_symbols']=Hc['getSymbols'](_0x225084['normalize']?_0x225084['normalize']('NFC'):_0x225084),this['_symbols']['length']===0x1eb*0xd+0x207*0xe+-0x3551&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x3fea39=yR['evaluate'](this['_symbols']);this['_symbols']=_0x3fea39['symbols'],_0xe77b7=_0x3fea39['tags']||[];}if(this['_rtlReorde'+'r']){const _0x28bdbe=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x28bdbe){const _0x158b05=_0x28bdbe(this['_symbols']);this['_rtl']=_0x158b05['rtl'],this['_symbols']=_0x158b05['mapping']['map'](function(_0x261f89){return this['_symbols'][_0x261f89];},this),_0xe77b7&&(_0xe77b7=_0x158b05['mapping']['map'](_0x263148=>_0xe77b7[_0x263148]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x10c*0x1+0x22da+-0x21cd);const _0x3c42a8=(_0x5162b9,_0x4e3fa6)=>_0x5162b9['toString'](!(-0x1ed1+-0x92*-0xc+0x17f9))['toLowerCas'+'e']()+':'+_0x4e3fa6['toFixed'](0x1394+0x77a+-0xc*0x241),_0x4861e1=(_0x42702e,_0xe65547)=>_0x42702e['toString'](!(0x172d*-0x1+-0x35*0xb3+-0x606*-0xa))['toLowerCas'+'e']()+':'+_0xe65547['x']['toFixed'](0x5*0x1af+0x97f*-0x3+0x101*0x14)+':'+_0xe65547['y']['toFixed'](0x73*-0x10+0x11*-0x10f+0x1931);if(_0xe77b7){const _0x24cffd={},_0x319937={},_0x49b3b9={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0xdb7+-0x17b9*-0x1+0x3*-0x301)),Math['round'](this['_color']['g']*(0x7*0x32+0x1a6+-0x205)),Math['round'](this['_color']['b']*(-0xdf9*0x1+0x15*0x1+0x1*0xee3))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x2460+0x1fa2+-0x1*0x4303)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1*-0x14fe+0x157*-0xf+0x2a16)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x72d+0x6d4+0x158)),Math['round'](this['_outlineCo'+'lor']['a']*(-0xe3*-0x14+-0xd7e+-0x33f)),Math['round'](this['_outlineTh'+'ickness']*(-0x1a89*-0x1+-0x13be*0x1+-0x5cc))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x20b*0x11+-0x19*-0x25+0x201d)),Math['round'](this['_shadowCol'+'or']['g']*(0x1a3*0x3+-0x102e*-0x1+-0x8*0x283)),Math['round'](this['_shadowCol'+'or']['b']*(0x1998+-0x4*0x177+-0x12bd)),Math['round'](this['_shadowCol'+'or']['a']*(0x303*-0x6+0x21bf+-0xeae)),Math['round'](this['_shadowOff'+'set']['x']*(-0x5*-0x15b+-0xdf5*-0x1+-0x1d7*0xb)),Math['round'](this['_shadowOff'+'set']['y']*(0x1e15+0xb3b+-0x1b*0x183))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x24cffd[this['_color']['toString'](!(0x1*-0x95d+-0x14cb*0x1+0x1e29))['toLowerCas'+'e']()]=0xe09+-0x85a*-0x1+0x1663*-0x1,_0x319937[_0x3c42a8(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x34d*0xb+-0xfa9+0x33f8,_0x49b3b9[_0x4861e1(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x14d6+0x141a+0x28f*-0x10;for(let _0x44e4c8=0x1897+-0x1*-0x251+0xa4*-0x2a,_0x482fe2=this['_symbols']['length'];_0x44e4c8<_0x482fe2;++_0x44e4c8){const _0x81b32a=_0xe77b7[_0x44e4c8];let _0x3a016d=0x8a7*0x1+0xf2f+0xbeb*-0x2;if(_0x81b32a&&_0x81b32a['color']&&_0x81b32a['color']['value']){const _0x19826e=_0x81b32a['color']['value'];if(_0x19826e['length']===-0x23f0+0x3aa*-0x1+0x27a1&&_0x19826e[0x1f*0xa3+0x25ea+-0x39a7]==='#'){const _0x368cd2=_0x19826e['substring'](-0x2*0x871+0x190*0xa+0x143)['toLowerCas'+'e']();_0x24cffd['hasOwnProp'+'erty'](_0x368cd2)?_0x3a016d=_0x24cffd[_0x368cd2]:/^[0-9a-f]{6}$/['test'](_0x368cd2)&&(_0x3a016d=this['_colorPale'+'tte']['length']/(-0x59*0xa+-0x4d6*0x8+0x2a2d),_0x24cffd[_0x368cd2]=_0x3a016d,this['_colorPale'+'tte']['push'](parseInt(_0x368cd2['substring'](0x21*0x1d+-0x114a+0xd8d,0x24d4+-0x1*-0x18ae+0xa4*-0x60),-0x1*-0x16a1+-0xc*0xac+-0xe81)),this['_colorPale'+'tte']['push'](parseInt(_0x368cd2['substring'](-0x30a+0x9d*-0x5+0x61d,0x99b*0x2+0x1f4a+-0x2*0x193e),-0x7*-0x3a0+-0x2*-0x8d9+-0x2b02)),this['_colorPale'+'tte']['push'](parseInt(_0x368cd2['substring'](0x8*-0x2e8+-0x1795+0x2ed9,0x17f4+-0x18e8*0x1+0x5*0x32),-0x67*-0x12+0x4cc*-0x6+0x9e*0x23)));}}this['_symbolCol'+'ors']['push'](_0x3a016d);let _0x564d2b=-0x210a+0x1*0x182+0x2*0xfc4;if(_0x81b32a&&_0x81b32a['outline']&&(_0x81b32a['outline']['attributes']['color']||_0x81b32a['outline']['attributes']['thickness'])){let _0x5d88f7=_0x81b32a['outline']['attributes']['color']?Kg['fromString'](_0x81b32a['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x50fae0=Number(_0x81b32a['outline']['attributes']['thickness']);(Number['isNaN'](_0x5d88f7['r'])||Number['isNaN'](_0x5d88f7['g'])||Number['isNaN'](_0x5d88f7['b'])||Number['isNaN'](_0x5d88f7['a']))&&(_0x5d88f7=this['_outlineCo'+'lor']),Number['isNaN'](_0x50fae0)&&(_0x50fae0=this['_outlineTh'+'ickness']);const _0x1c7de1=_0x3c42a8(_0x5d88f7,_0x50fae0);_0x319937['hasOwnProp'+'erty'](_0x1c7de1)?_0x564d2b=_0x319937[_0x1c7de1]:(_0x564d2b=this['_outlinePa'+'lette']['length']/(0x1896+0x1517+-0x2da8),_0x319937[_0x1c7de1]=_0x564d2b,this['_outlinePa'+'lette']['push'](Math['round'](_0x5d88f7['r']*(-0x1d44+-0xc24+0x343*0xd)),Math['round'](_0x5d88f7['g']*(-0x30a+-0x61d+0xa26)),Math['round'](_0x5d88f7['b']*(0x1e6a+-0x24e4+0x779)),Math['round'](_0x5d88f7['a']*(0xc30*-0x3+-0x270f+-0x3*-0x198a)),Math['round'](_0x50fae0*(0x2113+-0x18cf+-0x1*0x745))));}this['_symbolOut'+'lineParams']['push'](_0x564d2b);let _0x389c83=0x30d+0x734+-0xa41;if(_0x81b32a&&_0x81b32a['shadow']&&(_0x81b32a['shadow']['attributes']['color']||_0x81b32a['shadow']['attributes']['offset']||_0x81b32a['shadow']['attributes']['offsetX']||_0x81b32a['shadow']['attributes']['offsetY'])){let _0x5331ac=_0x81b32a['shadow']['attributes']['color']?Kg['fromString'](_0x81b32a['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x55c5c0=Number(_0x81b32a['shadow']['attributes']['offset']),_0x3e0e9d=Number(_0x81b32a['shadow']['attributes']['offsetX']),_0x2c5bed=Number(_0x81b32a['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x5331ac['r'])||Number['isNaN'](_0x5331ac['g'])||Number['isNaN'](_0x5331ac['b'])||Number['isNaN'](_0x5331ac['a']))&&(_0x5331ac=this['_shadowCol'+'or']);const _0x5cbc8f=CR['set'](Number['isNaN'](_0x3e0e9d)?Number['isNaN'](_0x55c5c0)?this['_shadowOff'+'set']['x']:_0x55c5c0:_0x3e0e9d,Number['isNaN'](_0x2c5bed)?Number['isNaN'](_0x55c5c0)?this['_shadowOff'+'set']['y']:_0x55c5c0:_0x2c5bed),_0x4a204d=_0x4861e1(_0x5331ac,_0x5cbc8f);_0x49b3b9['hasOwnProp'+'erty'](_0x4a204d)?_0x389c83=_0x49b3b9[_0x4a204d]:(_0x389c83=this['_shadowPal'+'ette']['length']/(-0x6d*0x3+-0x1223+0x4*0x4dc),_0x49b3b9[_0x4a204d]=_0x389c83,this['_shadowPal'+'ette']['push'](Math['round'](_0x5331ac['r']*(0x2147+0x2*0x832+-0x30ac)),Math['round'](_0x5331ac['g']*(-0xa*-0x8d+-0x2625+0x21a2)),Math['round'](_0x5331ac['b']*(-0x85f+-0xc5*-0x1d+-0xcf3)),Math['round'](_0x5331ac['a']*(0x244e+-0x5*-0x6a1+-0x4474)),Math['round'](_0x5cbc8f['x']*(0xd*-0x2b0+0x1b7d+0x9*0xe2)),Math['round'](_0x5cbc8f['y']*(0x16e5+0x29b+-0x1901))));}this['_symbolSha'+'dowParams']['push'](_0x389c83);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x40372d=this['_calculate'+'CharsPerTe'+'xture']();let _0x206dde=!(-0x2*0x233+0x1e52*-0x1+0x22b9);const _0x15dbb3=this['_element'],_0x1f600e=_0x15dbb3['_isScreenS'+'pace'](),_0x5530d9=_0x15dbb3['_isScreenC'+'ulled'](),_0xb11548=function(_0x1e4835){return _0x15dbb3['isVisibleF'+'orCamera'](_0x1e4835);};for(let _0x5e8727=-0x123*-0x11+-0x1d52+0x9ff,_0x2d86cd=this['_meshInfo']['length'];_0x5e8727<_0x2d86cd;_0x5e8727++){const _0x46ed29=_0x40372d[_0x5e8727]||-0xc03+0x1c19+-0x1016,_0x19dc2a=this['_meshInfo'][_0x5e8727];if(_0x19dc2a['count']!==_0x46ed29){if(_0x206dde||(_0x15dbb3['removeMode'+'lFromLayer'+'s'](this['_model']),_0x206dde=!(0x1d5+0xb*-0x359+0x5d5*0x6)),_0x19dc2a['count']=_0x46ed29,_0x19dc2a['positions']['length']=_0x19dc2a['normals']['length']=_0x46ed29*(0x2665+0x14bf*0x1+-0x3b21)*(0x21a3+0x182a+-0x39c9),_0x19dc2a['indices']['length']=_0x46ed29*(0x874+0x1*-0x18d2+0x257*0x7)*(-0xc81+0x2d6*-0x1+0xf59),_0x19dc2a['uvs']['length']=_0x46ed29*(0x1f01+0xe58+-0x2d57)*(0xf9*-0x3+0x513*0x5+-0x1670),_0x19dc2a['colors']['length']=_0x46ed29*(0x1*-0x5d5+0x1139+0xe*-0xd0)*(-0x136*-0x1a+-0x17b8+0x7c*-0x10),_0x19dc2a['outlines']['length']=_0x46ed29*(0xa9*-0x29+0x184b+0x2ca)*(-0x623*-0x2+-0x13*-0x64+-0x13af),_0x19dc2a['shadows']['length']=_0x46ed29*(-0x796+0x37*-0x94+0x2766)*(0x1*-0x113+0x1*-0x185e+-0x65d*-0x4),_0x19dc2a['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x19dc2a['meshInstan'+'ce']),_0x46ed29===-0x1753*0x1+-0x1fb*-0x7+0x4bb*0x2){_0x19dc2a['meshInstan'+'ce']=null;continue;}for(let _0x467f2c=-0x3c*-0x9b+-0xe*0x25+-0x2*0x1127;_0x467f2c<_0x46ed29;_0x467f2c++)_0x19dc2a['indices'][_0x467f2c*(0x65*0x30+-0xe51+-0x3b*0x14)*(0x268*-0x7+0x1*0x20b5+-0x1*0xfdb)+(-0x16df+-0x2*-0x33b+0x1069)]=_0x467f2c*(0x15c8*0x1+0x2a*-0xc9+0xb36),_0x19dc2a['indices'][_0x467f2c*(0x2b*0x86+0x1*0x1ba9+-0x3*0x10b8)*(-0x1495+0x2110+0x67*-0x1f)+(0x2*-0xe13+-0x16c*-0xb+0x1*0xc83)]=_0x467f2c*(0x1*-0x1305+-0x255*0xc+0x2f05)+(-0x1*0xfef+0x1c41*0x1+-0xc51),_0x19dc2a['indices'][_0x467f2c*(0x2*-0xaf3+0x2081+-0xc*0xe2)*(0x2*-0x683+-0x67*0x4a+-0x2*-0x1567)+(-0x1078+-0x17b*-0x3+0xc09)]=_0x467f2c*(0x1*-0x250a+0x16f9*-0x1+0x3c07)+(0x1be3+-0x205b+0x1f*0x25),_0x19dc2a['indices'][_0x467f2c*(-0x1*0x41c+-0x15d9+0x19f8)*(-0x215*0xf+0x3*0xca4+-0x6af)+(0x2315*-0x1+0x3*0xb4d+0x131)]=_0x467f2c*(-0x10e4+-0x1dac+0x1*0x2e94)+(-0x1*0x1993+0x5*-0x143+0x1fe4),_0x19dc2a['indices'][_0x467f2c*(-0x15a+-0x2a*0x43+0xc5b)*(0xe*0x1d5+0x204f+-0x39f3)+(-0x2*0x10b1+0x15fd+0x1*0xb69)]=_0x467f2c*(0xba2+0x17c*-0x11+0xd9e)+(0x1*-0x17da+0x4db*0x7+-0xa20),_0x19dc2a['indices'][_0x467f2c*(0x992+0x116a+-0x1af9)*(-0xa*-0x2c6+-0xa1+-0x1b19)+(0x3*0xb7b+0x694+-0x148*0x20)]=_0x467f2c*(-0x26ff+-0x252c+0x6ed*0xb)+(-0xbb4*-0x1+0x1d1d+0x51a*-0x8),_0x19dc2a['normals'][_0x467f2c*(0x1cd6+0x1aca*-0x1+-0x208)*(-0xd95+0xd80+0x18)+(-0x1*0x1fa2+0x1ce1+0x2c1)]=-0x1*-0x11aa+-0x9*-0xa3+0x1765*-0x1,_0x19dc2a['normals'][_0x467f2c*(0xda+-0x1*-0x543+-0x619)*(-0x152b+0x7c8+0xd66)+(-0x121d*0x1+-0x1a*0x143+0x32ec)]=-0x224f+0x22da+-0x8b,_0x19dc2a['normals'][_0x467f2c*(-0x1*0x20ef+0xa4d+-0xb53*-0x2)*(-0x1*-0x2606+0x1b9f*0x1+0x2*-0x20d1)+(0x227*0x1+0x1*-0xe3+-0x142)]=-(-0x513+-0x49*-0x83+-0x1*0x2047),_0x19dc2a['normals'][_0x467f2c*(0x6b8*0x3+-0x1f87+0xb63)*(0x712+-0x2*0xeb2+0x1655)+(-0x2457+-0x5*-0x5a5+0x821)]=0x2e*-0x74+-0x55f*-0x4+0x2*-0x52,_0x19dc2a['normals'][_0x467f2c*(0x82e+-0x13d7*0x1+0xbad)*(0x33*-0x51+0x1*0x18c1+-0x89b)+(0x5d7+0xfdb+0x15ae*-0x1)]=0x9ed+0x261d+-0x22f*0x16,_0x19dc2a['normals'][_0x467f2c*(0x1*-0x1b5+0x1*0xd7c+-0x1*0xbc3)*(0x11ca+-0x1*-0x2543+0x1*-0x370a)+(0x11*-0x1a6+0x1f*0xb9+0x2*0x2d2)]=-(-0x1f8a+-0x1*0xd69+0x2cf4),_0x19dc2a['normals'][_0x467f2c*(-0x90*-0x14+0x1399*0x1+-0x1ed5)*(-0x2*-0x11b+-0x2065+0x1e32*0x1)+(0x6*0x61f+0x1dee+0x2151*-0x2)]=0x1a43+0xc0b+0x1*-0x264e,_0x19dc2a['normals'][_0x467f2c*(0x5*0x6d3+-0x1099+0x1*-0x1182)*(0xdd9+-0xa0c*0x1+0x61*-0xa)+(-0x33c+0x1e14+-0x1ad1)]=0x4d6+-0x1*0x1d27+0x1851,_0x19dc2a['normals'][_0x467f2c*(-0x1f4f*0x1+0x2356+-0x403)*(-0xf6b+0x265a+-0x16ec)+(0x23ba+-0x1e4b+-0x3*0x1cd)]=-(-0x187b+0x154f+0x32d),_0x19dc2a['normals'][_0x467f2c*(0x154e+-0x829*-0x1+-0x15*0x167)*(0x127e+-0x221e+0xfa3)+(0x44f*0x9+0x1e9d*-0x1+-0x821)]=-0x97*-0x7+-0x21a4*-0x1+0xb*-0x36f,_0x19dc2a['normals'][_0x467f2c*(-0x1d93+-0x12e0*0x2+0x4357)*(-0xd*0x130+-0x616+0x25*0x95)+(0xb9e*0x2+-0xc60+-0xad2)]=-0x595+-0x1ba8+0x213d,_0x19dc2a['normals'][_0x467f2c*(-0x2650+-0x121b+0x1*0x386f)*(-0x1*0x2c8+0x186e+-0x15a3)+(0x12d0+0xdd0+0x1b7*-0x13)]=-(0x9a2+-0xf89+-0x15*-0x48);const _0x40743f=xR(this['_system']['app']['graphicsDe'+'vice'],_0x19dc2a),_0x1bff83=new He(_0x40743f,this['_material'],this['_node']);if(_0x1bff83['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x1bff83['castShadow']=!(0x21*0x8f+-0x443*0x8+0xa*0x191),_0x1bff83['receiveSha'+'dow']=!(-0x16ca+-0x19a5*0x1+0x9b0*0x5),_0x1bff83['cull']=!_0x1f600e,_0x1bff83['screenSpac'+'e']=_0x1f600e,_0x1bff83['drawOrder']=this['_drawOrder'],_0x5530d9&&(_0x1bff83['cull']=!(-0x10d1+-0x1*0x1037+0x2108),_0x1bff83['isVisibleF'+'unc']=_0xb11548),this['_setTextur'+'eParams'](_0x1bff83,this['_font']['textures'][_0x5e8727]),_0x1bff83['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x1bff83['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x1bff83['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1bff83['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1bff83['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x5e8727]['width']),_0x1bff83['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x1bff83['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x1bff83['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x20*-0x16+0x1662+-0x1922*0x1]=0x1c1b+0xf77+-0x21*0x152,this['_shadowOff'+'setUniform'][0x816+0x3e6+-0x1*0xbfb]=0x6a6+0xab5*0x2+-0x1c10;else{const _0xe6ff05=-this['_font']['data']['info']['maps'][_0x5e8727]['width']/this['_font']['data']['info']['maps'][_0x5e8727]['height'];this['_shadowOff'+'setUniform'][-0x2364+-0x2*-0x11c2+-0x20]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2ed+-0x1754+0x1468]=_0xe6ff05*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x1bff83['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x19dc2a['meshInstan'+'ce']=_0x1bff83,this['_model']['meshInstan'+'ces']['push'](_0x1bff83);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x206dde&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x189d+0x24c8+-0xc2b,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x417afc){_0x417afc['destroy']();const _0x352180=this['_model']['meshInstan'+'ces']['indexOf'](_0x417afc);_0x352180!==-(0x9*0x1c4+0x2089+-0x3*0x1024)&&this['_model']['meshInstan'+'ces']['splice'](_0x352180,-0x26e0+-0x16*0x3+0x2723);}['_setMateri'+'al'](_0x269ebd){if(this['_material']=_0x269ebd,this['_model'])for(let _0x340160=0x1fba+0xcfd+-0x2cb7,_0x3915e1=this['_model']['meshInstan'+'ces']['length'];_0x340160<_0x3915e1;_0x340160++){const _0x21f422=this['_model']['meshInstan'+'ces'][_0x340160];_0x21f422['material']=_0x269ebd;}}['_updateMat'+'erial'](_0x2ba599){const _0x58925c=this['_element'],_0x41bb0c=_0x58925c['_isScreenC'+'ulled'](),_0x2a1d8b=function(_0x40952f){return _0x58925c['isVisibleF'+'orCamera'](_0x40952f);},_0x2fe716=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x2ba599,_0x2fe716,this['_enableMar'+'kup']),this['_model'])for(let _0x1a76b7=0x2c5*-0x7+0x1324+0x3f,_0x11cd44=this['_model']['meshInstan'+'ces']['length'];_0x1a76b7<_0x11cd44;_0x1a76b7++){const _0x170a36=this['_model']['meshInstan'+'ces'][_0x1a76b7];_0x170a36['cull']=!_0x2ba599,_0x170a36['material']=this['_material'],_0x170a36['screenSpac'+'e']=_0x2ba599,_0x41bb0c?(_0x170a36['cull']=!(0x200c+-0x81d+-0x17ef),_0x170a36['isVisibleF'+'unc']=_0x2a1d8b):_0x170a36['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x24c1*0x1+-0x1ae1+-0x1e*-0x21f]=0x6*0x9+0x3*0x493+-0x1*0xdee,this['_colorUnif'+'orm'][-0x202d*-0x1+0x836+0x2862*-0x1]=0x21f*0xd+0xd4*0xb+-0x24ae,this['_colorUnif'+'orm'][-0x2*0x4c4+-0x1916+0x22a0]=0x1*-0x971+-0x14c6+0x1e38):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x255f+-0x6b7+0x2c16]=We['r'],this['_colorUnif'+'orm'][-0x135c*-0x1+0x4*0x11a+0x365*-0x7]=We['g'],this['_colorUnif'+'orm'][-0x1469+-0x126a*-0x1+0xab*0x3]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0xd72+0x1*0xe4b+-0x1bbd]=0xe1c+0x1*0x17cf+-0x25eb*0x1,this['_outlineCo'+'lorUniform'][-0x133e+0x1796+-0x457]=-0x23d0+-0x1c90+-0x2*-0x2030,this['_outlineCo'+'lorUniform'][0x197c+-0x1375+0x605*-0x1]=0x2*-0x5de+-0x6*-0x23b+-0x1a6,this['_outlineCo'+'lorUniform'][0x25c*-0x1+0xf4e*0x1+-0xcef]=0x57*-0x6f+-0x1e0c+0x43c6):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0xaa*0x27+-0x1*0x8bd+-0x1129]=We['r'],this['_outlineCo'+'lorUniform'][-0x1185+0x1037*0x2+-0xee8]=We['g'],this['_outlineCo'+'lorUniform'][-0x164*0x4+-0x5b3*0x4+0xe2f*0x2]=We['b'],this['_outlineCo'+'lorUniform'][0x9*0x2d+-0x1091*0x1+0xeff]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1*0x1d2+-0x1245+0x1073]=0x1ff+-0x6f*-0x3f+-0x1d50,this['_shadowCol'+'orUniform'][-0xd5*0x1f+-0x1*0x75a+0x2126*0x1]=0x219a+-0x3*-0x1+-0x219d,this['_shadowCol'+'orUniform'][-0x1874+-0x6ae*0x2+0x5e*0x67]=-0x8df+0x1*-0x1e4d+0x272c,this['_shadowCol'+'orUniform'][-0x4a*-0x3d+0x224f*-0x1+0x10b0]=0x25e3+0x231c+0x1855*-0x3):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x2*0x1217+-0xe*0x2c8+0x4b1e]=We['r'],this['_shadowCol'+'orUniform'][0x269f+-0x1df2+-0x8ac]=We['g'],this['_shadowCol'+'orUniform'][0x381+0x34a*0x2+0xa13*-0x1]=We['b'],this['_shadowCol'+'orUniform'][-0x37c*0x6+0x297+-0x5c*-0x33]=We['a']);}['_isWordBou'+'ndary'](_0x3e2d13){return jg['test'](_0x3e2d13);}['_isValidNe'+'xtChar'](_0x80f409){return _0x80f409!==null&&!ER['test'](_0x80f409);}['_isNextCJK'+'Boundary'](_0x40b246,_0x26ce2b){return Yg['test'](_0x40b246)&&(jg['test'](_0x26ce2b)||wR['test'](_0x26ce2b));}['_isNextCJK'+'WholeWord'](_0x35cd41){return Yg['test'](_0x35cd41);}['_updateMes'+'hes'](){const _0x34faf9=this['_font']['data'],_0x3cc81a=this,_0x2cb426=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x2b7639=this['_maxFontSi'+'ze'],_0x14207a=this['_shouldAut'+'oFit']();_0x14207a&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x3b96cd=-0x142f+0x2*-0xdd3+-0x1*-0x2ff5,_0x215ea4=this['_symbols']['length'];let _0x4fe84c=-0x9cc+0xad2*0x1+-0x106,_0x2c6e78=-0x1*0x204b+0x81d+0x182e,_0x12220b=-0x49*0xd+-0x2b2+0x667,_0x26ee27=0x3*0x583+-0x4a*0x66+0xcf3,_0x381f54=-0x17b2+0xa9a+0x1*0xd19,_0x57be60=0xc9b+-0x2*0x8fe+-0x1b*-0x33,_0x606d56=0x34*-0x65+0x186a+-0x3e6,_0x281589=0xae5+0x3a*-0x2c+-0x1*0xed,_0x58ec65=0x3f2+-0x5c5*0x5+0x5*0x4fb,_0x1dab1c=0x185*-0xd+0x7a6+0x3*0x409,_0x3212e7=-0x1*-0x58a+0x59*-0x13+0x3*0x5b;const _0x49c609=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1*-0x1945+0x1d16+-0x3d1+0.0001;let _0x33d2fc=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x49c609||!this['_wrapLines'])&&(_0x33d2fc=Number['POSITIVE_I'+'NFINITY']);let _0x178ab3=0x17dd+-0x18de+-0x101*-0x1,_0x2d5de4=0x18a4+-0xc1*0xb+-0x1059,_0x36ad43,_0x3372a1,_0x95d0bb,_0x447327;function _0x1d336a(_0x3af55a,_0x2fac91,_0x448ecc){_0x3cc81a['_lineWidth'+'s']['push'](Math['abs'](_0x448ecc));const _0x597a2f=_0x281589>_0x2fac91?_0x2fac91+(0x1*0x1f57+0xd97+-0x1*0x2ced):_0x281589,_0x453100=_0x281589>_0x2fac91?_0x281589+(-0xc7d+0x50e+-0x1c*-0x44):_0x2fac91,_0x9acace=_0x3af55a['slice'](_0x597a2f,_0x453100);if(_0x3212e7){let _0x232ca7=_0x9acace['length'];for(;_0x232ca7--&&_0x3212e7>0x2*-0xe3f+0xecc*0x1+-0xdb2*-0x1;)qg['test'](_0x9acace[_0x232ca7])&&(_0x9acace['splice'](_0x232ca7,0x460+-0x4*0x90c+0x1fd1),_0x3212e7--);}_0x3cc81a['_lineConte'+'nts']['push'](_0x9acace['join']('')),_0x4fe84c=0x1da9*-0x1+0x25d5+-0x82c,_0x2c6e78-=_0x3cc81a['_scaledLin'+'eHeight'],_0x381f54++,_0x58ec65=0x5b4+-0xd22+0x76e,_0x1dab1c=0x79f+0xade+-0x127d*0x1,_0x3212e7=0x1*-0x9d+0x246b+-0x11e7*0x2,_0x57be60=-0xf*-0x267+-0x960*0x1+-0x20d*0xd,_0x281589=_0x2fac91;}let _0x5f25c8=!(0x6*-0x109+0x1e97*-0x1+0x24cd*0x1);for(;_0x5f25c8;){_0x5f25c8=!(0xbab+-0x530+0x1*-0x67a),_0x14207a?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x4*0x2ab+0x5*-0x4+-0x1c4*0x6+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1*0xd3c+0x45*0x7d+-0x2eed,this['height']=-0x53*-0x35+-0x109e+0x5*-0x1d,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x4fe84c=0x1a*0x5f+0x4fd+0x4e1*-0x3,_0x2c6e78=-0xeb8+-0x1*-0xf53+0x1*-0x9b,_0x12220b=0x2f*-0x9b+0x16ed+-0x6*-0xec,_0x26ee27=0x1e3e+-0xbda+-0x1264,_0x381f54=0x25bd*0x1+0x7*0x4a5+-0x463f,_0x57be60=-0x2059+0x1227*0x1+0xe32,_0x606d56=-0x69*-0x56+-0x161*-0x7+-0x66b*0x7,_0x281589=-0x1*0x1d9c+0x208c+0x2f0*-0x1,_0x58ec65=0xda7*-0x1+0xca0+0x107,_0x1dab1c=-0x31c*-0x3+-0x874+-0x2*0x70,_0x3212e7=0x1*0x2699+0x170b+0x41c*-0xf;const _0xdaea57=this['_fontSize']/_0x3b96cd;_0x178ab3=this['_fontMinY']*_0xdaea57,_0x2d5de4=this['_fontMaxY']*_0xdaea57;for(let _0x26b7db=0x184c+-0x3b9*-0x1+-0x1*0x1c05;_0x26b7db<this['_meshInfo']['length'];_0x26b7db++)this['_meshInfo'][_0x26b7db]['quad']=-0xe1f+0x5e1+0x83e,this['_meshInfo'][_0x26b7db]['lines']={};let _0x2fdd07=0x1*0xb8+0x15e3+0x3*-0x734,_0x18c9ae=-0x5e8+0xc19+0x5f*-0xe,_0x4a0b56=-0x220+0x11dd+-0xebe,_0xb1736f=0x1818+0x9b6+-0x20cf+(-0xac*-0x26+-0x1*-0x147+0x38*-0x76)*(0xf33*0x1+0x1*0x16d3+-0x2506),_0x442726=-0x1284+-0x29f+0x1622+(-0x1400+0xa*-0x13e+0x1*0x216b)*(0x1e*0xed+-0x2*0xe21+0x5f*0x4),_0x3bd3fb=0x11f2*0x2+-0x240f*0x1+-0x1*-0x2b,_0x59c8fe=-0x571*-0x1+0x147*-0x2+-0x1e4+(-0x1753+0x1020+0x2*0x419)*(0xd18+-0x6fe+0x51a*-0x1),_0x500624=-0xbc*-0xc+-0x264c+0x363*0x9+(-0xe8a+0x22fe+-0x11*0x125)*(0x23*-0xdd+0x1a9a+-0x1*-0x49d),_0x547c10=0x94f*-0x4+-0x3c*0x4f+0x11*0x34f+(-0x780+-0x19*-0x10c+-0x122d)*(0x1*-0x565+0x24ab+0x7d*-0x3e);for(let _0x219e9f=-0x17b7+0x20*0x93+0x557*0x1;_0x219e9f<_0x215ea4;_0x219e9f++){if(_0x36ad43=this['_symbols'][_0x219e9f],_0x447327=_0x219e9f+(-0x26b1*-0x1+-0x1*0x6df+0x9*-0x389)>=_0x215ea4?null:this['_symbols'][_0x219e9f+(-0x1ecd*-0x1+-0x29f+-0x1c2d*0x1)],qg['test'](_0x36ad43)){_0x3212e7++,(!this['_wrapLines']||this['_maxLines']<-0x8d*-0x5+0xd25*0x1+-0xa*0x197||_0x381f54<this['_maxLines'])&&(_0x1d336a(this['_symbols'],_0x219e9f,_0x26ee27),_0x606d56=_0x219e9f+(0x1f1d+-0x1179+-0xda3),_0x281589=_0x219e9f+(-0x1c5f*0x1+0x6*0xb1+-0xe*-0x1bb));continue;}let _0x29f9a7=-0x1*-0x3e5+0x2*-0x904+0xe23,_0x2ca819=-0x26*-0x106+0x1132+-0x3816,_0x443422=0x1*0x812+0x10ca+-0x18dc,_0x317eaf=0x1206*0x2+0xfba+-0x1c9*0x1d,_0x357651,_0x1aa190;if(_0x3372a1=_0x34faf9['chars'][_0x36ad43],!_0x3372a1){if(bR['indexOf'](_0x36ad43)!==-(0x20ed+-0x3b6+-0x2*0xe9b))_0x3372a1=AR;else{if(_0x34faf9['chars']['\x20'])_0x3372a1=_0x34faf9['chars']['\x20'];else for(const _0x1be83f in _0x34faf9['chars']){_0x3372a1=_0x34faf9['chars'][_0x1be83f];break;}_0x34faf9['missingCha'+'rs']||(_0x34faf9['missingCha'+'rs']=new Set()),_0x34faf9['missingCha'+'rs']['has'](_0x36ad43)||(console['warn']('Character\x20'+'\x27'+_0x36ad43+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x34faf9['info']['face']),_0x34faf9['missingCha'+'rs']['add'](_0x36ad43));}}if(_0x3372a1){let _0x203b30=-0x1*0x283+0x1633*0x1+-0x13b0;if(_0x1dab1c>-0x26c9*-0x1+-0x1091*-0x2+-0x33*0x169){const _0x290b43=this['_font']['data']['kerning'];if(_0x290b43){const _0x1ff8c4=_0x290b43[Hc['getCodePoi'+'nt'](this['_symbols'][_0x219e9f-(-0xb5a*0x1+-0x2a6*-0x1+0x2e7*0x3)])||-0x1acb+0xc67*0x1+-0xc*-0x133];_0x1ff8c4&&(_0x203b30=_0x1ff8c4[Hc['getCodePoi'+'nt'](this['_symbols'][_0x219e9f])||0x7e7+0x152+0x3*-0x313]||0x1212+-0xc4f*0x1+-0x5c3);}}_0x357651=_0x3372a1['scale']||0x1fd*-0x1+0x35*-0xa+0x410,_0x1aa190=(_0x3372a1['width']+_0x3372a1['height'])/(0xb7f+0x8b+0xc08*-0x1),_0x317eaf=_0xdaea57*_0x1aa190/_0x357651,_0x443422=(_0x3372a1['xadvance']+_0x203b30)*_0xdaea57,_0x29f9a7=(_0x3372a1['xoffset']-_0x203b30)*_0xdaea57,_0x2ca819=_0x3372a1['yoffset']*_0xdaea57;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x36ad43+'\x27');const _0xba7f66=TR['test'](_0x36ad43),_0x2a2909=_0x3372a1&&_0x3372a1['map']||-0x2*0xfda+-0x1c4d+-0x1*-0x3c01,_0x52db92=-this['_font']['data']['info']['maps'][_0x2a2909]['width']/this['_font']['data']['info']['maps'][_0x2a2909]['height'],_0x4c5f65=this['_meshInfo'][_0x2a2909],_0x515feb=_0x4fe84c+this['_spacing']*_0x443422;if(_0x515feb>_0x33d2fc&&_0x1dab1c>0x97+-0x55c+0x4c5&&!_0xba7f66&&(this['_maxLines']<-0x4a2*-0x5+-0x1837*0x1+-0x1*-0x10d||_0x381f54<this['_maxLines'])){if(_0x58ec65===0x1241+0x11ea+-0x1*0x242b)_0x606d56=_0x219e9f,_0x1d336a(this['_symbols'],_0x219e9f,_0x26ee27);else{const _0x569ffc=Math['max'](_0x219e9f-_0x606d56,-0x1131*-0x1+0x8cc+-0x19fd*0x1);if(this['_meshInfo']['length']<=-0x29b+0x132d+-0x1*0x1091)_0x4c5f65['lines'][_0x381f54-(0x360+-0x1*-0x559+-0x8b8)]-=_0x569ffc,_0x4c5f65['quad']-=_0x569ffc;else{const _0x4bc4b5=_0x606d56,_0x5bb64d=_0x219e9f;for(let _0x279402=_0x4bc4b5;_0x279402<_0x5bb64d;_0x279402++){const _0x3c9d86=this['_symbols'][_0x279402],_0xb398b3=_0x34faf9['chars'][_0x3c9d86],_0x14a31e=this['_meshInfo'][_0xb398b3&&_0xb398b3['map']||-0x7*-0x23+0xacd+-0xbc2];_0x14a31e['lines'][_0x381f54-(-0x18*0x26+-0x9c2+0xd53)]-=0x19*-0x53+0x7*-0x2b6+0x1b16,_0x14a31e['quad']-=0x22ef+-0x1fa5+0x349*-0x1;}}_0x219e9f-=_0x569ffc+(-0x4*-0x8c8+0xea*-0x1c+0x987*-0x1),_0x1d336a(this['_symbols'],_0x606d56,_0x57be60);continue;}}_0x95d0bb=_0x4c5f65['quad'],_0x4c5f65['lines'][_0x381f54-(0xa86*0x1+-0x1*-0x1b59+-0x25de)]=_0x95d0bb;let _0xac4b12=_0x4fe84c-_0x29f9a7,_0x32e1b2=_0xac4b12+_0x317eaf;const _0x255fa3=_0x2c6e78-_0x2ca819,_0x3ed65b=_0x255fa3+_0x317eaf;if(this['_rtl']){const _0x282656=_0x317eaf-_0x29f9a7-this['_spacing']*_0x443422-_0x29f9a7;_0xac4b12-=_0x282656,_0x32e1b2-=_0x282656;}_0x4c5f65['positions'][_0x95d0bb*(-0x5a9+0xc67*-0x1+0x1*0x1214)*(-0x2401+-0x1*-0x1273+0x5db*0x3)+(0x8d0*0x1+-0x34b+-0x1*0x585)]=_0xac4b12,_0x4c5f65['positions'][_0x95d0bb*(-0x21e3+0x2337*-0x1+-0x3*-0x170a)*(-0x3*0x53b+-0x1e0+0x64*0x2d)+(-0x6*-0x56b+0x679+-0x26fa)]=_0x255fa3,_0x4c5f65['positions'][_0x95d0bb*(0x9*0x259+0x3*0xbfb+0x1*-0x390e)*(0x15b1+0x504+-0x1ab2)+(0x2a*-0xd5+-0x214d+0x4441)]=_0x12220b,_0x4c5f65['positions'][_0x95d0bb*(-0x2*0x2ce+-0x1c3e+0x21de)*(-0x2163+0x246f+-0x309)+(-0x15e4+0x6e5+-0x1*-0xf02)]=_0x32e1b2,_0x4c5f65['positions'][_0x95d0bb*(-0xd76+-0x1920+0x6*0x66f)*(-0x14*0x11e+-0x1f8f+0x35ea)+(0x185a+-0x13f*0x1e+-0x14e*-0xa)]=_0x255fa3,_0x4c5f65['positions'][_0x95d0bb*(-0xdb*-0x1d+-0x224d*0x1+0x982)*(-0x6a8+0x7c2+0x9*-0x1f)+(0x13cc+0x6c+-0x1433*0x1)]=_0x12220b,_0x4c5f65['positions'][_0x95d0bb*(0x1*0x18c1+0x1*-0x1205+0x5*-0x158)*(0x1d0e+-0x12c0+-0xa4b)+(-0x2038+0x1*-0x1edd+0x3f1b)]=_0x32e1b2,_0x4c5f65['positions'][_0x95d0bb*(0x1a91+-0x2593+-0x1*-0xb06)*(0x203*0x9+0x1cf*-0x4+-0xadc)+(0x341+-0x19*0x146+0x1c9c)]=_0x3ed65b,_0x4c5f65['positions'][_0x95d0bb*(0x6*-0x631+-0x7b1+0x2cdb)*(-0x170a+-0x1*0x22f4+0x3a01*0x1)+(0x1f6f+-0x5*-0x1f3+-0x2926)]=_0x12220b,_0x4c5f65['positions'][_0x95d0bb*(0x1347+0x4a0+-0x1*0x17e3)*(0x1686+0x1*-0x12d1+0x1d9*-0x2)+(-0x1fdf+-0x1aca*-0x1+0x51e)]=_0xac4b12,_0x4c5f65['positions'][_0x95d0bb*(0x10e6+0xae1*-0x3+0xfc1)*(-0x1*0x1a03+0x2493*0x1+-0xa8d)+(0x183+0x9fa+-0xb73)]=_0x3ed65b,_0x4c5f65['positions'][_0x95d0bb*(0x1d7*0x8+0x1b*-0x7d+0x1*-0x185)*(-0x5e*-0x66+0x13cc+-0x1*0x393d)+(0x2419+0x249e+-0x48ac)]=_0x12220b,this['width']=Math['max'](this['width'],_0x515feb);let _0x52f60c;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x52f60c=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x1d72+0x200b+-0x1*0x299+0.0001)),_0x52f60c=Y['clamp'](_0x52f60c,_0x2cb426,_0x2b7639),_0x52f60c!==this['_element']['fontSize'])){this['_fontSize']=_0x52f60c,_0x5f25c8=!(0x25b+-0x44e+0x1f3*0x1);break;}if(this['height']=Math['max'](this['height'],_0x2d5de4-(_0x2c6e78+_0x178ab3)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x52f60c=Y['clamp'](this['_fontSize']-(0x1*0xa6d+0x1438+-0x1ea4*0x1),_0x2cb426,_0x2b7639),_0x52f60c!==this['_element']['fontSize'])){this['_fontSize']=_0x52f60c,_0x5f25c8=!(0x1d82+0x2418+-0x419a);break;}_0x4fe84c+=this['_spacing']*_0x443422,_0xba7f66||(_0x26ee27=_0x4fe84c),(this['_isWordBou'+'ndary'](_0x36ad43)||this['_isValidNe'+'xtChar'](_0x447327)&&(this['_isNextCJK'+'Boundary'](_0x36ad43,_0x447327)||this['_isNextCJK'+'WholeWord'](_0x447327)))&&(_0x58ec65++,_0x57be60=_0x26ee27,_0x606d56=_0x219e9f+(-0x15a0+0x25*0x97+-0x32)),_0x1dab1c++;const _0xf2692a=this['_getUv'](_0x36ad43);if(_0x4c5f65['uvs'][_0x95d0bb*(-0x15b3+-0x13*-0x1f7+-0xf9e)*(-0x35b*0xb+0x2552+-0x67)+(0x163b*0x1+-0x105+-0x1536)]=_0xf2692a[0x8*0x3b4+0x2510+-0x42b0],_0x4c5f65['uvs'][_0x95d0bb*(0x1932+-0x12a4*0x2+-0x1*-0xc1a)*(-0x211f+-0x7*0x83+0x24b6)+(0x1b2d+0x1*0x1b87+-0x36b3)]=0xa28+-0xf12+0x4eb*0x1-_0xf2692a[0x26dd*-0x1+-0x260b+0x4ce9],_0x4c5f65['uvs'][_0x95d0bb*(0x801+0x1*-0x632+-0x1cb*0x1)*(-0x3e6+0xac2+-0x6da)+(-0x83*-0x2f+-0x1021+-0x7ea)]=_0xf2692a[0x20f3+-0x2*-0x95a+0x3f9*-0xd],_0x4c5f65['uvs'][_0x95d0bb*(0x342*0xb+-0x50e*0x7+0xe*-0x8)*(-0x1432+0x4*-0x9ad+0x3ae8)+(0x25db+-0x1b13*0x1+-0xac5)]=-0x262b+0x1ff1+0x63b-_0xf2692a[0xce*0x3+0x7d9+-0xa42],_0x4c5f65['uvs'][_0x95d0bb*(-0x112+0x3*-0x409+0xd31)*(-0x2677+0x1bb5*0x1+0x34*0x35)+(-0x2557+-0x44*-0x25+0x1b87)]=_0xf2692a[-0x1*0x1606+0x1*-0x1b9b+-0x31a3*-0x1],_0x4c5f65['uvs'][_0x95d0bb*(-0x1583+-0x6bd*-0x3+0x18*0xe)*(-0x1*-0x8f3+-0x3*0xc43+-0x9*-0x318)+(-0x14c6+0x3ec*0x4+-0x1*-0x51b)]=0x1af0+0x1*0x1d09+-0x37f8-_0xf2692a[-0x109b+0x3*-0x6be+0x418*0x9],_0x4c5f65['uvs'][_0x95d0bb*(-0x719+0x24e5+-0x772*0x4)*(-0x1*0x1c12+0x10d7+-0xb3d*-0x1)+(-0xa*0x3b9+-0xf36+0x3476)]=_0xf2692a[-0x2*0xf2b+-0x2496+0x42ec],_0x4c5f65['uvs'][_0x95d0bb*(-0x8f+0x3*-0x8f5+0x1*0x1b72)*(0x2043+-0x1f6c+-0xd5)+(-0xb42+-0xe4c+0x1995)]=0x1f4b*0x1+0x19*0x127+0x389*-0x11-_0xf2692a[-0x1294+-0x2524+0x37bb],this['_symbolCol'+'ors']){const _0x64b84a=this['_symbolCol'+'ors'][_0x219e9f]*(-0x1ba1+0x1eb1+-0x30d);_0x2fdd07=this['_colorPale'+'tte'][_0x64b84a],_0x18c9ae=this['_colorPale'+'tte'][_0x64b84a+(-0x295*-0xf+-0x634+-0x2e*0xb5)],_0x4a0b56=this['_colorPale'+'tte'][_0x64b84a+(0x11c*0x22+-0x4*0x265+-0x1c22)];}if(_0x4c5f65['colors'][_0x95d0bb*(-0x651+0x89f*-0x2+0x163*0x11)*(0x2dc*0xa+0x26fb+-0x438f)+(-0x15c1*0x1+-0x1*0xdf6+0x23b7)]=_0x2fdd07,_0x4c5f65['colors'][_0x95d0bb*(-0x1*-0x1be+-0x2b3*-0x9+-0x1*0x1a05)*(-0x81e*0x1+-0xc5*0x23+0x2311)+(-0x2251+0xfac*-0x1+-0xa2*-0x4f)]=_0x18c9ae,_0x4c5f65['colors'][_0x95d0bb*(-0x1e2a+0x2596+-0x768)*(-0x1d54+-0x3*0x434+-0x6*-0x6fe)+(0x61*0x47+-0x12d*-0x15+-0x899*0x6)]=_0x4a0b56,_0x4c5f65['colors'][_0x95d0bb*(0x9cd+0x1*0x2446+-0x2e0f)*(0x1420+-0x5f*-0x5e+-0x1*0x36fe)+(-0x17*-0x127+0x141d*-0x1+0x17*-0x47)]=-0x6*-0xd7+-0x19d5+0x2*0xae5,_0x4c5f65['colors'][_0x95d0bb*(-0x1579+0x163c+-0xbf*0x1)*(0x665*-0x6+0x4*0x850+0x522)+(-0x15e6*-0x1+-0x49*-0x7f+0x6b*-0x8b)]=_0x2fdd07,_0x4c5f65['colors'][_0x95d0bb*(0x20c8+-0x169f+0x173*-0x7)*(0x54a*0x5+-0x1615+-0x459)+(-0x35*-0xe+0x1c30+0x2d3*-0xb)]=_0x18c9ae,_0x4c5f65['colors'][_0x95d0bb*(0x7f9*-0x2+0x21e5+-0x11ef)*(0x26a6+0x100b+-0x36ad*0x1)+(-0x14ab+-0x1af+0x1660)]=_0x4a0b56,_0x4c5f65['colors'][_0x95d0bb*(-0x1dbc+0x40*-0xc+0x8*0x418)*(-0x1ab5+-0xfdc*-0x2+-0x4ff*0x1)+(-0x6*0x513+-0x13*-0x7d+0x1532)]=0x1e8c+0x2db+-0x2068,_0x4c5f65['colors'][_0x95d0bb*(0x1577+-0x3*0x100+-0x1*0x1273)*(-0x1296+0x31*-0x6a+0x20c*0x13)+(-0x1*0x111d+-0x17a3+0x28c8)]=_0x2fdd07,_0x4c5f65['colors'][_0x95d0bb*(-0x22*-0xf6+0xb6b+-0x1*0x2c13)*(-0x1bb*0x16+-0xd1*-0x7+0x205f)+(-0x177+0xeb*-0x25+0x2377)]=_0x18c9ae,_0x4c5f65['colors'][_0x95d0bb*(-0x1d44+0x39*-0x4d+-0x1*-0x2e6d)*(-0x154c+-0x7f*-0x25+0x2f5)+(-0x8b6+0x7de+0xe2)]=_0x4a0b56,_0x4c5f65['colors'][_0x95d0bb*(0x1*0x20f9+0xbfd+-0x2cf2)*(-0x20e6+-0x5*-0x571+0x5b5)+(0x1*0xc2b+0x259*-0xc+-0xd*-0x13c)]=0x3a8*0x1+-0x3*-0xc0d+-0x26d0,_0x4c5f65['colors'][_0x95d0bb*(0x108e+-0x1267+0x1*0x1dd)*(-0x1f2f*-0x1+-0x1d96+0x87*-0x3)+(0x1*0x1363+0x2243+-0x359a)]=_0x2fdd07,_0x4c5f65['colors'][_0x95d0bb*(-0x1*0x47+0x2*0x47+-0x43)*(0x1fcf+0x20*-0x11f+-0x37*-0x13)+(0x3*-0xb11+-0x262c+0x476c)]=_0x18c9ae,_0x4c5f65['colors'][_0x95d0bb*(-0x2149+-0x21*0xe9+0x3f56)*(0x599*0x2+0xd3a+0x47*-0x58)+(-0x15e9+0x19bd*0x1+-0x3c6)]=_0x4a0b56,_0x4c5f65['colors'][_0x95d0bb*(-0x1ede+-0x608+0x24ea)*(0x2277+-0x3a9*-0xa+-0x1a7*0x2b)+(0x1d3a+-0x20ee+0x3c3)]=0x1f0d+0x16d8+0x8d1*-0x6,this['_symbolOut'+'lineParams']){const _0x5a82ba=this['_symbolOut'+'lineParams'][_0x219e9f]*(-0x16a7+-0xab1*0x2+0x2*0x1607);_0xb1736f=this['_outlinePa'+'lette'][_0x5a82ba]+this['_outlinePa'+'lette'][_0x5a82ba+(-0x1142+-0x1c24*-0x1+-0xae1)]*(0x2597+-0x10d*0x14+-0xf93),_0x442726=this['_outlinePa'+'lette'][_0x5a82ba+(0x31*-0x70+0x1b22+0x2d8*-0x2)]+this['_outlinePa'+'lette'][_0x5a82ba+(-0x59*0x3e+-0x27*0x26+0x1b5b)]*(-0x2323+-0x2073*0x1+-0x2*-0x224b),_0x3bd3fb=this['_outlinePa'+'lette'][_0x5a82ba+(-0x23a6+0x1c3d+0x76d)];}if(_0x4c5f65['outlines'][_0x95d0bb*(-0x1b56+-0x6a2+0x5aa*0x6)*(-0x73b+-0x1*-0x1c74+-0xb5*0x1e)+(0x441*-0x2+0xd3*-0xe+-0x1*-0x140c)]=_0xb1736f,_0x4c5f65['outlines'][_0x95d0bb*(-0x1f*-0x25+-0x3*-0x101+-0x77a)*(0x1b6+-0x1*0x28d+0xda)+(-0x5a7*0x4+-0x367*-0x1+0x1336)]=_0x442726,_0x4c5f65['outlines'][_0x95d0bb*(0x9e3+-0x7ed*0x1+-0x1f2)*(0x2*0x319+0x2174+-0x27a3)+(-0x16b9+-0x6df*0x4+0x3237)]=_0x3bd3fb,_0x4c5f65['outlines'][_0x95d0bb*(0x2c*-0x1d+0x3*0x87f+-0x147d)*(0x20c5*0x1+-0x17*-0xe2+0x6a2*-0x8)+(-0xfb1+0x10*0xe1+0x15*0x14)]=_0xb1736f,_0x4c5f65['outlines'][_0x95d0bb*(-0xa76+0x1bf9+-0x5d5*0x3)*(0x35*-0xb7+0x1*0x2a5+0x2341)+(-0xf37+0x175*0x9+0x21e)]=_0x442726,_0x4c5f65['outlines'][_0x95d0bb*(-0x1*-0x1b56+0x1*-0x2269+-0x5*-0x16b)*(-0x1d59+0x15e0+-0x2*-0x3be)+(-0xe5*-0x23+-0xb*-0x73+-0xaf*0x35)]=_0x3bd3fb,_0x4c5f65['outlines'][_0x95d0bb*(0xc18+0x529*-0x1+0xb*-0xa1)*(0x63*-0x4f+0x807*0x3+0x67b)+(0x1*-0x902+-0x1*-0xc52+-0x1a5*0x2)]=_0xb1736f,_0x4c5f65['outlines'][_0x95d0bb*(0x2*-0xed6+-0x820+0x25d0)*(0x14fb*0x1+0x2*-0x184+-0x10*0x11f)+(-0x48*-0x52+-0x1b12+0x409)]=_0x442726,_0x4c5f65['outlines'][_0x95d0bb*(-0x1*-0x21ab+0xbb0+-0x2d57)*(0x110b+-0x15*-0x16+-0x1*0x12d6)+(0x173a+-0x4a+-0x8*0x2dd)]=_0x3bd3fb,_0x4c5f65['outlines'][_0x95d0bb*(0x2326+0x1083+0x1*-0x33a5)*(0x1*0xb03+0xd25+-0x1825)+(-0x183b*0x1+-0x20f0+-0x7*-0x82c)]=_0xb1736f,_0x4c5f65['outlines'][_0x95d0bb*(-0x184e+0x1384+0x2*0x267)*(-0x2540+0x1ad+0x2396)+(-0x1*-0x10b1+0x636+-0x16dd)]=_0x442726,_0x4c5f65['outlines'][_0x95d0bb*(-0xd*0xbf+0x10dd+-0x726)*(-0x19d+0x1c40+-0x1aa0)+(0x1fa8+0x1c6c+-0x3c09)]=_0x3bd3fb,this['_symbolSha'+'dowParams']){const _0x1b64ac=this['_symbolSha'+'dowParams'][_0x219e9f]*(-0x1*-0x17db+-0x1d*-0x77+-0x2550);_0x59c8fe=this['_shadowPal'+'ette'][_0x1b64ac]+this['_shadowPal'+'ette'][_0x1b64ac+(-0x2116+-0x15*0xf+0x2252)]*(-0xb49+0xa01*0x2+0x1*-0x7b9),_0x500624=this['_shadowPal'+'ette'][_0x1b64ac+(-0x272*0x1+0x1aae+-0x183a)]+this['_shadowPal'+'ette'][_0x1b64ac+(-0x3*-0x7e1+0x131b+-0x2abb*0x1)]*(-0xbb6+-0xf*0x17f+0x2327*0x1),_0x547c10=this['_shadowPal'+'ette'][_0x1b64ac+(0x212+-0x1*-0x595+0x55*-0x17)]+(0x1cb5*-0x1+0x4*0x34b+0x72*0x24)+Math['round'](_0x52db92*this['_shadowPal'+'ette'][_0x1b64ac+(0x13d7+0x531*0x1+-0x1903*0x1)]+(-0x1b88+-0x1b65*0x1+0x376c))*(-0x2442+0x17d9+0xd69);}_0x4c5f65['shadows'][_0x95d0bb*(0xade+-0x2660+0x1b86)*(0x1a23+-0x1*-0x459+-0x1e79)+(-0x433*-0x3+0x2191+0x13*-0x26e)]=_0x59c8fe,_0x4c5f65['shadows'][_0x95d0bb*(0x1d97+-0x5*-0xc7+-0x2*0x10bb)*(-0x13b2*-0x1+-0x168*0xd+-0x167)+(0x1*-0x1e85+0x19eb+0x49b)]=_0x500624,_0x4c5f65['shadows'][_0x95d0bb*(-0x5bf*-0x2+-0x4d*0x79+0x18eb)*(-0x13*-0x1c5+0x103e+-0x31da)+(-0x1bc7*-0x1+-0x26f7+0xb32)]=_0x547c10,_0x4c5f65['shadows'][_0x95d0bb*(-0x1a8c+0x1467+0x53*0x13)*(0x2*-0x11+0x1e+-0x1*-0x7)+(0x1*-0x10b1+0x4f2+-0x56*-0x23)]=_0x59c8fe,_0x4c5f65['shadows'][_0x95d0bb*(0x245d+-0xa75+-0x19e4)*(-0x6*-0x1f7+-0x1038*-0x2+0xb*-0x405)+(-0x1*0x1688+-0x29a+0x1926)]=_0x500624,_0x4c5f65['shadows'][_0x95d0bb*(-0xbf8*-0x3+0x12a1+-0x3685)*(-0x1ebf+-0x1*0x113e+0x300*0x10)+(-0xc5f*0x1+-0x1222+0x1e86)]=_0x547c10,_0x4c5f65['shadows'][_0x95d0bb*(0xc18+0x61c+-0x3*0x610)*(0x87a+0x2374*-0x1+0x1afd)+(0x1*-0x13a9+-0x29*-0x65+0x1*0x382)]=_0x59c8fe,_0x4c5f65['shadows'][_0x95d0bb*(0x1*0x1213+-0x127f+-0x38*-0x2)*(-0x13e1+0x1*0x2410+-0x40b*0x4)+(0xa1f+-0x1*-0x20a1+-0x1*0x2ab9)]=_0x500624,_0x4c5f65['shadows'][_0x95d0bb*(0x1b81+0x4*-0x97+-0x1921)*(0x11a5+0xc67+0x2bb*-0xb)+(-0x1ed6+0x97+0x1e47)]=_0x547c10,_0x4c5f65['shadows'][_0x95d0bb*(0xd55*-0x2+-0x1f*-0xca+-0x8e*-0x4)*(0x2310+-0x5d5*-0x3+0xc*-0x461)+(0x1*-0x13e9+0x2b*-0x95+-0x2cf9*-0x1)]=_0x59c8fe,_0x4c5f65['shadows'][_0x95d0bb*(0x40*0x3a+-0xd*-0x19c+0x11b4*-0x2)*(0x1c29+-0x1edc+-0x15b*-0x2)+(0x1ac*-0x1+0x2292+0xc*-0x2bd)]=_0x500624,_0x4c5f65['shadows'][_0x95d0bb*(-0x28d*0x1+0x494+-0x203)*(0x1b*0x3+-0x61b*0x5+0x3*0xa13)+(0x1*-0x4f3+-0x2e*0x5e+0x2*0xaf1)]=_0x547c10,_0x4c5f65['quad']++;}_0x5f25c8||_0x281589<_0x215ea4&&_0x1d336a(this['_symbols'],_0x215ea4,_0x4fe84c);}this['_noResize']=!(-0x1*-0xd2d+0x728+-0x411*0x5),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x58f+-0x12ce+0xd40);const _0x5cd800=this['_element']['pivot']['x'],_0x4e9fa2=this['_element']['pivot']['y'],_0x586f54=this['_alignment']['x'],_0x4cd954=this['_alignment']['y'];for(let _0x3e396c=-0xa05*-0x3+-0x1dce+-0x5*0xd;_0x3e396c<this['_meshInfo']['length'];_0x3e396c++){if(this['_meshInfo'][_0x3e396c]['count']===-0x1979*-0x1+-0x1f3c+0x5*0x127)continue;let _0xe5adb5=0x2*-0xf89+0x9*-0xb+-0x1f75*-0x1;for(const _0x24aa18 in this['_meshInfo'][_0x3e396c]['lines']){const _0x1aa8a7=this['_meshInfo'][_0x3e396c]['lines'][_0x24aa18],_0x61e513=this['_lineWidth'+'s'][parseInt(_0x24aa18,0x130+0x11fa+0x220*-0x9)],_0xb59846=-_0x5cd800*this['_element']['calculated'+'Width']+_0x586f54*(this['_element']['calculated'+'Width']-_0x61e513)*(this['_rtl']?-(0x1d83+-0x61*0x2c+-0x3e*0x35):-0xdef+-0x28*0x35+0x1638),_0x336c2e=(0x26ea+-0x6a*0x36+-0x108d-_0x4e9fa2)*this['_element']['calculated'+'Height']-_0x2d5de4-(0xb*0x2ce+-0xe5*0x17+-0xa46-_0x4cd954)*(this['_element']['calculated'+'Height']-this['height']);for(let _0xb5ad5f=_0xe5adb5;_0xb5ad5f<=_0x1aa8a7;_0xb5ad5f++)this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(-0xbc8+-0x2*0x416+0x4fe*0x4)*(0x76d*-0x1+-0x1*0x57f+0xcef)]+=_0xb59846,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(-0x6b6+-0x1d47+0x2401)*(0x228f+0x1f0*0xe+0xf6b*-0x4)+(-0x15b3+-0x688*-0x4+-0x46a)]+=_0xb59846,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(0x1c0f+0xaa2+0x1*-0x26ad)*(-0x1bf*-0x6+0x1*-0x1505+0x547*0x2)+(0xcb9*0x1+-0xab5*-0x3+-0x2cd2*0x1)]+=_0xb59846,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(-0x35*0x51+-0x1c95+0x2d5e)*(0x1a1f+0x2074+-0xea4*0x4)+(0x1*0x1b14+0x1fe5+-0x2e*0x148)]+=_0xb59846,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(0x312+-0xb*0x209+0x1355)*(0x582+-0x1*0x1d8c+-0x2f*-0x83)+(0x13*0x8c+0x1*-0x277+-0x7ec)]+=_0x336c2e,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(-0xb3*0x34+0x178+-0x8ba*-0x4)*(0x1c*-0x35+0x1547+-0xf78)+(-0x1c28+0x2*-0xfad+0x3b86)]+=_0x336c2e,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(0x10*-0x239+-0x1541+0x38d5)*(0xb81+-0x1cab*0x1+0x112d)+(0x2063+-0x1*0x1873+-0x7e9)]+=_0x336c2e,this['_meshInfo'][_0x3e396c]['positions'][_0xb5ad5f*(0x1c24+0x1803+-0x3423)*(0x7*-0xe1+-0x1b0e+0x427*0x8)+(0x154b+-0x813+-0xe*0xf1)]+=_0x336c2e;if(this['_rtl'])for(let _0x59d5ec=_0xe5adb5;_0x59d5ec<=_0x1aa8a7;_0x59d5ec++){const _0x36922b=_0x59d5ec*(-0x1*0x2309+0x20c1+0x4*0x93)*(0x83*-0x1d+-0x14eb+0x23c5);for(let _0x1e4fe7=0xc8*0xd+-0xa67+0x7*0x9;_0x1e4fe7<0xece+-0x2226+0x135c;++_0x1e4fe7)this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+_0x1e4fe7*(0x6*-0x191+-0x66*-0x19+-0x8d)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+_0x1e4fe7*(0x1209*-0x1+-0x84c*-0x3+-0x1*0x6d8)]+_0xb59846*(-0x492+0x1021*-0x2+-0x52*-0x73);const _0x2d3880=this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0x7f2+-0x5*-0x2fa+-0x16d1)],_0x5e1479=this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0x1e99+-0xa66+-0x142d)];this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0xbf*0x1+0x1d35+-0x3*0x9fb)]=this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0x6*-0x30d+0x1*-0x7ea+0x1a38)],this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(-0x1655+-0x3b9+-0xd0a*-0x2)]=this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0xb*0xcd+-0x6c4+-0x202)],this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(-0x117*-0x23+-0x1*-0x1e59+-0x447e)]=_0x2d3880,this['_meshInfo'][_0x3e396c]['positions'][_0x36922b+(0x9*-0x2e3+-0x7f*-0x1d+0xba1*0x1)]=_0x5e1479;}_0xe5adb5=_0x1aa8a7+(0x11c0+-0xb1c*-0x1+0x53*-0x59);}const _0x3db810=this['_meshInfo'][_0x3e396c]['count']*(-0x1*-0xd36+0xa6e+-0x17a0),_0xed3527=this['_meshInfo'][_0x3e396c]['quad']*(-0x26*0xef+-0x6e5+0x2a63),_0x56490b=new Uo(this['_meshInfo'][_0x3e396c]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x579677=0x3*0xc93+-0x1a74+0x5*-0x241;_0x579677<_0x3db810;_0x579677++)_0x579677>=_0xed3527?(_0x56490b['element'][Me]['set'](0x71b+0xa5*-0x2a+0x13f7,0x8*0x4bb+0xf31*-0x2+0x5*-0x17e,0xbb*-0x11+0xb7*0x7+0x92*0xd),_0x56490b['element'][is]['set'](0x780*-0x3+-0x8*-0x5+0x4*0x596,0x4*0x254+0x1659*-0x1+0x47*0x2f),_0x56490b['element'][Wt]['set'](0x1*-0x946+0x991+-0x4b,0x1c0f+-0x1a66+0x55*-0x5,0xa55+0x329*-0x3+0x6d*-0x2,-0x14f2+0x1e5d+0x96b*-0x1),_0x56490b['element'][Ko]['set'](-0x2027*-0x1+-0x1f0d+-0x11a,-0x1d2b+-0x240+-0x1f6b*-0x1,-0x2043+-0x8*0x49e+0x4533,0x1063+-0x57a+-0xae9),_0x56490b['element'][Zo]['set'](0x1af6+-0x17a8+-0x2*0x1a7,-0x1cb*-0x7+0xaa9+0xb9b*-0x2,0x222a+-0x1212+-0x1018,0x180f+0xd24+0x2533*-0x1)):(_0x56490b['element'][Me]['set'](this['_meshInfo'][_0x3e396c]['positions'][_0x579677*(0x25*0xba+-0x2709+0xc2a)+(0x2671+0x6a8+-0x2d19)],this['_meshInfo'][_0x3e396c]['positions'][_0x579677*(0x2*0x11cb+-0x19ed+-0x9a6)+(-0x148b*-0x1+-0xb*0x15a+0x6*-0xf2)],this['_meshInfo'][_0x3e396c]['positions'][_0x579677*(0x2303*-0x1+-0x1d*0xae+0x36bc)+(-0x1030+0x1be1+-0x3e5*0x3)]),_0x56490b['element'][is]['set'](this['_meshInfo'][_0x3e396c]['uvs'][_0x579677*(-0x728+-0x1*-0xe74+-0x26e*0x3)+(-0x16*-0x25+0x576+0xe*-0x9e)],this['_meshInfo'][_0x3e396c]['uvs'][_0x579677*(0xa9b+0xb94+-0x162d)+(0xb3d*-0x1+0x12b9*0x1+-0x77b)]),_0x56490b['element'][Wt]['set'](this['_meshInfo'][_0x3e396c]['colors'][_0x579677*(-0xb*-0x1b1+0x4*0x4d2+-0x25df)+(-0x7f*0x3b+-0x260b+0x4350)],this['_meshInfo'][_0x3e396c]['colors'][_0x579677*(0x2144*-0x1+-0x1db7+0x1*0x3eff)+(-0x15d7+0x1c86+-0x5*0x156)],this['_meshInfo'][_0x3e396c]['colors'][_0x579677*(-0x1b12+0x6*-0x65+0x34*0x91)+(-0x1ff7+-0x2f9+0x22f2)],this['_meshInfo'][_0x3e396c]['colors'][_0x579677*(-0x1*-0xe8f+-0x1056+0x1cb)+(-0x1*-0xdfd+0xc+-0xe06)]),_0x56490b['element'][Ko]['set'](this['_meshInfo'][_0x3e396c]['outlines'][_0x579677*(0x1719+0x33b*-0x3+-0xd65)+(0x687+0x25e7+-0x1637*0x2)],this['_meshInfo'][_0x3e396c]['outlines'][_0x579677*(0x196e+0x1347+-0x2cb2)+(0xcbf+0x99b+-0x1*0x1659)],this['_meshInfo'][_0x3e396c]['outlines'][_0x579677*(0x25f*-0x5+0x1339+-0x75b)+(0x1b42+-0x23b1+-0x1*-0x871)]),_0x56490b['element'][Zo]['set'](this['_meshInfo'][_0x3e396c]['shadows'][_0x579677*(0x5*0x5cd+-0x2095+-0x1*-0x397)+(-0x1abb+-0xc8b+0x1c9*0x16)],this['_meshInfo'][_0x3e396c]['shadows'][_0x579677*(-0x11af+0x1c0*0x8+0x2*0x1d9)+(-0x19aa+-0x18d*0x3+0x1*0x1e52)],this['_meshInfo'][_0x3e396c]['shadows'][_0x579677*(-0x1*-0x13f7+-0x266d+0x1279*0x1)+(0x2*-0xa29+-0x907+0x1d5b)])),_0x56490b['next']();_0x56490b['end'](),this['_meshInfo'][_0x3e396c]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x3e396c]['positions']),this['_meshInfo'][_0x3e396c]['meshInstan'+'ce']['_aabbVer']=-(0x1c3*0x9+-0xa99*0x2+0x558);}this['_aabbDirty']=!(-0x5*-0x7f+0x599*0x3+-0x1346);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1672c4){this['font']!==_0x1672c4['resource']&&(this['font']=_0x1672c4['resource']);}['_onFontCha'+'nge'](_0x4d2dcb,_0x571d26,_0x217d3a,_0x29f219){if(_0x571d26==='data'){this['_font']['data']=_0x217d3a;const _0x2b0e7e=this['_font']['data']['info']['maps']['length'];for(let _0x1179fe=0x5d5+-0x11*0x224+-0x1e8f*-0x1;_0x1179fe<_0x2b0e7e;_0x1179fe++){if(!this['_meshInfo'][_0x1179fe])continue;const _0x17dada=this['_meshInfo'][_0x1179fe]['meshInstan'+'ce'];_0x17dada&&(_0x17dada['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x17dada['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x17dada['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1179fe]['width']));}}}['_onFontRem'+'ove'](_0x42a5a3){}['_setTextur'+'eParams'](_0x41037d,_0x44748d){this['_font']&&(this['_font']['type']===Rh?(_0x41037d['deletePara'+'meter']('texture_em'+'issiveMap'),_0x41037d['deletePara'+'meter']('texture_op'+'acityMap'),_0x41037d['setParamet'+'er']('texture_ms'+'dfMap',_0x44748d)):this['_font']['type']===dR&&(_0x41037d['deletePara'+'meter']('texture_ms'+'dfMap'),_0x41037d['setParamet'+'er']('texture_em'+'issiveMap',_0x44748d),_0x41037d['setParamet'+'er']('texture_op'+'acityMap',_0x44748d)));}['_getPxRang'+'e'](_0x55dfc3){const _0x2b7400=Object['keys'](this['_font']['data']['chars']);for(let _0x47caf8=-0x16e2+0x15d*0x2+0x1428;_0x47caf8<_0x2b7400['length'];_0x47caf8++){const _0x295f0a=this['_font']['data']['chars'][_0x2b7400[_0x47caf8]];if(_0x295f0a['range'])return(_0x295f0a['scale']||0xbc*0x11+-0x91b*0x4+0x17f1)*_0x295f0a['range'];}return-0x2361+-0x1*-0x72e+-0xf9*-0x1d;}['_getUv'](_0x5223db){const _0x2e0062=this['_font']['data'];if(!_0x2e0062['chars'][_0x5223db])return _0x2e0062['chars']['\x20']?this['_getUv']('\x20'):[-0x202c+-0x1*0x1cae+0x3cda,0x16a6+-0x3c9+0x1*-0x12dd,-0xe55+0xb7b*0x1+-0x1*-0x2da,-0x1f51+-0x20a*0x10+0x1*0x3ff1];const _0x1b641b=_0x2e0062['chars'][_0x5223db]['map'],_0x37d6b0=_0x2e0062['info']['maps'][_0x1b641b]['width'],_0x262d35=_0x2e0062['info']['maps'][_0x1b641b]['height'],_0x137bf5=_0x2e0062['chars'][_0x5223db]['x'],_0x613a30=_0x2e0062['chars'][_0x5223db]['y'],_0x454fed=_0x137bf5,_0x28d5f2=_0x613a30,_0x2a76ec=_0x137bf5+_0x2e0062['chars'][_0x5223db]['width'],_0x30c3ce=_0x613a30-_0x2e0062['chars'][_0x5223db]['height'],_0x4eaf1e=0xfef*-0x1+-0x18e3+-0x28d3*-0x1-_0x2e0062['chars'][_0x5223db]['height']/_0x262d35;return[_0x454fed/_0x37d6b0,_0x4eaf1e-_0x28d5f2/_0x262d35,_0x2a76ec/_0x37d6b0,_0x4eaf1e-_0x30c3ce/_0x262d35];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x98f*-0x1+0x13eb+-0x1d7a*0x1),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x106*0x2+0x22b9+-0x24c4),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x35ee78){if(this['_model']){const _0x3e35a5=this['_model']['meshInstan'+'ces'];for(let _0x28521c=0x366+0x1c18*-0x1+0x1*0x18b2;_0x28521c<_0x3e35a5['length'];_0x28521c++)_0x3e35a5[_0x28521c]['stencilFro'+'nt']=_0x35ee78,_0x3e35a5[_0x28521c]['stencilBac'+'k']=_0x35ee78;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x2a1070){const _0x1331e4={};_0x2a1070===void(0x113c+0xf*-0x221+0xeb3)&&(_0x2a1070=this['_symbols']['length']);for(let _0x4d11a3=-0x2701*-0x1+0x1*-0x1e7e+-0x883,_0x42f8f3=_0x2a1070;_0x4d11a3<_0x42f8f3;_0x4d11a3++){const _0x4b966b=this['_symbols'][_0x4d11a3];let _0x387851=this['_font']['data']['chars'][_0x4b966b];_0x387851||(_0x387851=this['_font']['data']['chars']['\x20'],_0x387851||(_0x387851=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x616*0x1+-0x22*-0x4f+-0x2f*0x18]]));const _0xb58adf=_0x387851['map'];_0x1331e4[_0xb58adf]?_0x1331e4[_0xb58adf]++:_0x1331e4[_0xb58adf]=-0x4*-0x63c+-0x1d6*0xb+-0x4bd;}return _0x1331e4;}['_updateRen'+'derRange'](){const _0x383862=this['_rangeStar'+'t']===0x2573*0x1+0x590+-0x2b03?-0xa9d+-0x406*0x3+0x16af:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x5666ee=this['_rangeEnd']===0x25a2+-0x214e+-0x454?-0x156b*0x1+-0xcd8+0x2243:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0xe5059b=0x3*-0xa2+0x167a+-0x1494,_0x5c7c1e=this['_meshInfo']['length'];_0xe5059b<_0x5c7c1e;_0xe5059b++){const _0x4f354a=_0x383862[_0xe5059b]||-0x1f*-0x84+0x511+0x13d*-0x11,_0x4b9083=_0x5666ee[_0xe5059b]||-0xbe+0xd8d*0x1+-0xccf*0x1,_0x2f3129=this['_meshInfo'][_0xe5059b]['meshInstan'+'ce'];if(_0x2f3129){const _0x1fd44c=_0x2f3129['mesh'];_0x1fd44c&&(_0x1fd44c['primitive'][0x1ce+-0x428+0x25a]['base']=_0x4f354a*(-0x1d94+0xac9+0x12ce)*(0xe1e+-0x5b*-0x11+0x2e1*-0x7),_0x1fd44c['primitive'][0x2eb*0xc+-0x1*-0xfa7+-0x32ab]['count']=(_0x4b9083-_0x4f354a)*(-0x1f29+0x232c*0x1+-0x400)*(0xc2b*0x1+0x266e+-0x3297));}}}set['text'](_0x4a366a){this['_i18nKey']=null;const _0x43de51=_0x4a366a!=null&&_0x4a366a['toString']()||'';this['_setText'](_0x43de51);}get['text'](){return this['_text'];}set['key'](_0x541180){const _0xe335f5=_0x541180!==null?_0x541180['toString']():null;this['_i18nKey']!==_0xe335f5&&(this['_i18nKey']=_0xe335f5,_0xe335f5?(this['_fontAsset']['disableLoc'+'alization']=!(0x1912+0x1736+-0x3047),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x8ef*-0x1+0x3*-0xc05+0x1b20));}get['key'](){return this['_i18nKey'];}set['color'](_0x2a2f08){const _0x1d7678=_0x2a2f08['r'],_0x3c23cd=_0x2a2f08['g'],_0x408b92=_0x2a2f08['b'];if(this['_color']===_0x2a2f08&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x1d7678&&this['_color']['g']===_0x3c23cd&&this['_color']['b']===_0x408b92)&&(this['_color']['r']=_0x1d7678,this['_color']['g']=_0x3c23cd,this['_color']['b']=_0x408b92,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x2478*-0x1+-0x19f7+-0x1*-0x3e6f]=We['r'],this['_colorUnif'+'orm'][0x13d+-0x6*-0x62+0x2*-0x1c4]=We['g'],this['_colorUnif'+'orm'][0xc82+-0x9d3*-0x2+-0x2026]=We['b'];for(let _0x3cbf52=-0x1dc4+-0x706+0x24ca,_0x281d89=this['_model']['meshInstan'+'ces']['length'];_0x3cbf52<_0x281d89;_0x3cbf52++)this['_model']['meshInstan'+'ces'][_0x3cbf52]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x3f7d7a){if(this['_color']['a']!==_0x3f7d7a&&(this['_color']['a']=_0x3f7d7a,this['_model'])){for(let _0x24d594=-0x18+0x17db+-0x17c3*0x1,_0x207ef6=this['_model']['meshInstan'+'ces']['length'];_0x24d594<_0x207ef6;_0x24d594++)this['_model']['meshInstan'+'ces'][_0x24d594]['setParamet'+'er']('material_o'+'pacity',_0x3f7d7a);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3f7d7a);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0xfc7a2){const _0x425576=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0xfc7a2,this['_scaledLin'+'eHeight']=_0xfc7a2,_0x425576!==_0xfc7a2&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x5667e8){const _0x293309=this['_wrapLines'];this['_wrapLines']=_0x5667e8,_0x293309!==_0x5667e8&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x213706){const _0x45d936=this['_spacing'];this['_spacing']=_0x213706,_0x45d936!==_0x213706&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x1da4d1){const _0x599ca2=this['_fontSize'];this['_fontSize']=_0x1da4d1,this['_originalF'+'ontSize']=_0x1da4d1,_0x599ca2!==_0x1da4d1&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x536bf8){this['_fontAsset']['defaultAss'+'et']=_0x536bf8;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x5417b0){let _0x361cfd;if(this['_font']&&(_0x361cfd=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x5417b0,this['_fontMinY']=-0x1a6b*0x1+0xdb1+0x3*0x43e,this['_fontMaxY']=-0x1f53+0x3e6+0x1b6d,!_0x5417b0)return;const _0x56e82a=this['_font']['data'];for(const _0x262444 in _0x56e82a['chars']){const _0x2ef944=_0x56e82a['chars'][_0x262444];_0x2ef944['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x2ef944['bounds'][0xb1*0x18+0x157f*0x1+-0x2616]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x2ef944['bounds'][-0xda3+0x11*-0x166+0x256c]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x5417b0['type']!==_0x361cfd){const _0x5d59ef=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5d59ef);}for(let _0x9541a7=-0x578+0x254a+-0x1fd2,_0xa47003=this['_font']['textures']['length'];_0x9541a7<_0xa47003;_0x9541a7++)if(!this['_meshInfo'][_0x9541a7])this['_meshInfo'][_0x9541a7]=new vR();else{const _0x288e42=this['_meshInfo'][_0x9541a7]['meshInstan'+'ce'];_0x288e42&&(_0x288e42['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x288e42['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x288e42['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x9541a7]['width']),this['_setTextur'+'eParams'](_0x288e42,this['_font']['textures'][_0x9541a7]));}let _0x57d6f4=!(-0x1c4f*-0x1+0x1*0xd45+-0x2993);for(let _0x6011b4=this['_font']['textures']['length'];_0x6011b4<this['_meshInfo']['length'];_0x6011b4++)this['_meshInfo'][_0x6011b4]['meshInstan'+'ce']&&(_0x57d6f4||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x57d6f4=!(0x1*0x112f+0x2f6*0xc+-0x5*0xa8b)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x6011b4]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x4eeeb7){_0x4eeeb7 instanceof J?this['_alignment']['set'](_0x4eeeb7['x'],_0x4eeeb7['y']):this['_alignment']['set'](_0x4eeeb7[-0x2e*-0xbb+0xfb+-0x2295],_0x4eeeb7[0x270c+-0x5*-0xb8+0x127*-0x25]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x84959){const _0x181b97=this['_autoWidth'];if(this['_autoWidth']=_0x84959,_0x84959&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x1*-0x18cd+-0x1347+0xe*0x326+0.0001&&(this['_element']['width']=this['width']),_0x181b97!==_0x84959){const _0x742587=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x742587!==this['_fontSize']&&(this['_fontSize']=_0x742587,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x1ed271){const _0x398aca=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x1ed271,_0x1ed271&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x557*0x6+0x2241+-0x1*0x424b+0.0001&&(this['_element']['height']=this['height']),_0x398aca!==_0x1ed271){const _0x180039=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x180039!==this['_fontSize']&&(this['_fontSize']=_0x180039,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x1b6d94){this['_rtlReorde'+'r']!==_0x1b6d94&&(this['_rtlReorde'+'r']=_0x1b6d94,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x489a77){this['_unicodeCo'+'nverter']!==_0x489a77&&(this['_unicodeCo'+'nverter']=_0x489a77,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0xefd3d7=!(-0x1*0x26ad+-0xcd5+0x3383);for(let _0xbf7e42=0x1c45+0x18a3+-0xd3a*0x4;_0xbf7e42<this['_meshInfo']['length'];_0xbf7e42++)this['_meshInfo'][_0xbf7e42]['meshInstan'+'ce']&&(_0xefd3d7?this['_aabb']['add'](this['_meshInfo'][_0xbf7e42]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0xbf7e42]['meshInstan'+'ce']['aabb']),_0xefd3d7=!(-0x2*0x24+-0x2072+0x20ba)));this['_aabbDirty']=!(0x2fa+-0x2126+0x1e2d);}return this['_aabb'];}set['outlineCol'+'or'](_0x24b188){const _0x2d72d7=_0x24b188 instanceof ie?_0x24b188['r']:_0x24b188[0x1*-0x2425+-0x7*0x311+-0xe67*-0x4],_0x447e8a=_0x24b188 instanceof ie?_0x24b188['g']:_0x24b188[-0x265*0x10+0x14f2+-0x115f*-0x1],_0x149e06=_0x24b188 instanceof ie?_0x24b188['b']:_0x24b188[0x24dc+-0x25ac+0xd2],_0x25c386=_0x24b188 instanceof ie?_0x24b188['a']:_0x24b188[-0x1*-0xe+-0xfb6+0xbf*0x15];if(this['_outlineCo'+'lor']===_0x24b188&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x2d72d7&&this['_outlineCo'+'lor']['g']===_0x447e8a&&this['_outlineCo'+'lor']['b']===_0x149e06&&this['_outlineCo'+'lor']['a']===_0x25c386)&&(this['_outlineCo'+'lor']['r']=_0x2d72d7,this['_outlineCo'+'lor']['g']=_0x447e8a,this['_outlineCo'+'lor']['b']=_0x149e06,this['_outlineCo'+'lor']['a']=_0x25c386,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x2f5+0x15d7+-0x18cc]=We['r'],this['_outlineCo'+'lorUniform'][-0xabf+-0x7*-0x279+0x49*-0x17]=We['g'],this['_outlineCo'+'lorUniform'][0xb*-0x31d+-0x1*-0x1d86+0x4bb]=We['b'],this['_outlineCo'+'lorUniform'][0x9f8+-0x95*-0xa+-0xfc7]=We['a'];for(let _0x33dece=0xc44+-0x1a5b+0xe17,_0x114ff1=this['_model']['meshInstan'+'ces']['length'];_0x33dece<_0x114ff1;_0x33dece++)this['_model']['meshInstan'+'ces'][_0x33dece]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x43e9f6){const _0xb4aa83=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x43e9f6,_0xb4aa83!==_0x43e9f6&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x3be744=0xe36*-0x1+0x136*-0x16+-0x6cf*-0x6,_0x2cd976=this['_model']['meshInstan'+'ces']['length'];_0x3be744<_0x2cd976;_0x3be744++)this['_model']['meshInstan'+'ces'][_0x3be744]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x1e2752){const _0x47d6df=_0x1e2752 instanceof ie?_0x1e2752['r']:_0x1e2752[0x5c1+-0xd6a+-0x1*-0x7a9],_0x15a9be=_0x1e2752 instanceof ie?_0x1e2752['g']:_0x1e2752[-0x188d+-0x2*-0xbd3+0xe8],_0x22de75=_0x1e2752 instanceof ie?_0x1e2752['b']:_0x1e2752[0x2*0x1165+-0xe43*-0x2+-0x3f4e],_0x253374=_0x1e2752 instanceof ie?_0x1e2752['a']:_0x1e2752[0x1*0x1055+-0x1*0x3d1+-0xc81];if(this['_shadowCol'+'or']===_0x1e2752&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x47d6df&&this['_shadowCol'+'or']['g']===_0x15a9be&&this['_shadowCol'+'or']['b']===_0x22de75&&this['_shadowCol'+'or']['a']===_0x253374)&&(this['_shadowCol'+'or']['r']=_0x47d6df,this['_shadowCol'+'or']['g']=_0x15a9be,this['_shadowCol'+'or']['b']=_0x22de75,this['_shadowCol'+'or']['a']=_0x253374,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x22e1+0x1032*0x2+-0x4345]=We['r'],this['_shadowCol'+'orUniform'][-0x1229*0x1+0x38a+0x75*0x20]=We['g'],this['_shadowCol'+'orUniform'][-0x3*0xa0d+0x1731+-0x2*-0x37c]=We['b'],this['_shadowCol'+'orUniform'][-0x5b*0x53+0x2a4*0xe+-0x774]=We['a'];for(let _0x5913bc=-0x31*0x65+-0x115*0x4+0x17a9,_0x1a15d0=this['_model']['meshInstan'+'ces']['length'];_0x5913bc<_0x1a15d0;_0x5913bc++)this['_model']['meshInstan'+'ces'][_0x5913bc]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x3ed995){const _0x17905d=_0x3ed995 instanceof J?_0x3ed995['x']:_0x3ed995[0xce*-0x7+0x68e*-0x5+-0x4*-0x99a],_0x5ce862=_0x3ed995 instanceof J?_0x3ed995['y']:_0x3ed995[0x2306*0x1+0x16f6+-0x39fb*0x1];if(!(this['_shadowOff'+'set']['x']===_0x17905d&&this['_shadowOff'+'set']['y']===_0x5ce862)&&(this['_shadowOff'+'set']['set'](_0x17905d,_0x5ce862),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xdf2236=-0x14c5+-0x1f*-0xa3+0xb*0x18,_0x375f32=this['_model']['meshInstan'+'ces']['length'];_0xdf2236<_0x375f32;_0xdf2236++){const _0x4c606b=-this['_font']['data']['info']['maps'][_0xdf2236]['width']/this['_font']['data']['info']['maps'][_0xdf2236]['height'];this['_shadowOff'+'setUniform'][0x2f*-0xc5+0x178d+0xc9e]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x801*-0x1+0x5*-0x383+0x1991]=_0x4c606b*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xdf2236]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x4393f7){this['_minFontSi'+'ze']!==_0x4393f7&&(this['_minFontSi'+'ze']=_0x4393f7,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x2bebe7){this['_maxFontSi'+'ze']!==_0x2bebe7&&(this['_maxFontSi'+'ze']=_0x2bebe7,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x3f783d){this['_autoFitWi'+'dth']!==_0x3f783d&&(this['_autoFitWi'+'dth']=_0x3f783d,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0xa075fb){this['_autoFitHe'+'ight']!==_0xa075fb&&(this['_autoFitHe'+'ight']=_0xa075fb,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x257779){this['_maxLines']!==_0x257779&&(_0x257779===null&&this['_maxLines']===-(-0x10b*-0x4+0x1a*0x79+-0x1075)||(this['_maxLines']=_0x257779===null?-(0x24a8+0x207d*-0x1+-0x42a):_0x257779,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x56f827){if(_0x56f827=!!_0x56f827,this['_enableMar'+'kup']===_0x56f827)return;this['_enableMar'+'kup']=_0x56f827,this['font']&&this['_updateTex'+'t']();const _0x28dd8e=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x28dd8e);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x2cb193){return this['_colorPale'+'tte']['slice'](_0x2cb193*(-0xae5*0x3+0x8*0xe+-0x1*-0x2042),_0x2cb193*(0x7*-0x574+0x186*0x15+-0x631*-0x1)+(0x133f+-0x4*0x632+0x58c));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x19bb69){return this['_outlinePa'+'lette']['slice'](_0x19bb69*(-0x11+0x1b48+-0x1b32),_0x19bb69*(-0x2e7*-0x1+0x25c+0x1*-0x53e)+(0x177+0x8c3*-0x2+0x1014));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x54b62d){return this['_shadowPal'+'ette']['slice'](_0x54b62d*(0xf2a+0xe*0xf0+-0x1c44),_0x54b62d*(-0xc1*-0x8+-0x2263+0x1c61)+(0xb0e+0x1*0x25c+-0xd64));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x1ea393){_0x1ea393=Math['max'](0x2*-0x280+0x188d+-0x37*0x5b,Math['min'](_0x1ea393,this['_symbols']['length'])),_0x1ea393!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x1ea393,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x354424){_0x354424=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x354424,this['_symbols']['length'])),_0x354424!==this['_rangeEnd']&&(this['_rangeEnd']=_0x354424,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0xc86404,_0x15ec07){super(_0xc86404,_0x15ec07),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x2*-0x11b7+0x2703+0xe5*-0x4),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x11f3+-0x2307+0x1134,this['_height']=this['_calculate'+'dHeight']=0x1*-0x5df+0x1485+-0xe86,this['_margin']=new re(0x1*0x41b+0x31*0xf+-0x2*0x37d,-0x1*-0xf3d+0x547*-0x4+-0x5df*-0x1,-(-0x1*0x1d97+-0xa92*-0x2+0x893*0x1),-(0x1*0x2344+0x208f+-0x43b3)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x94*-0x7+-0x1b53+0x3*0xa75),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x1*-0x1c42+-0x2034+-0x1*-0x3f2),this['_canvasCor'+'nersDirty']=!(0x33*0x27+0x1f8a+-0x274f),this['_worldCorn'+'ersDirty']=!(0x15b4+-0x12f9+0x2bb*-0x1),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x1bb3+-0xda8+-0xe0b,this['_fitMode']=th,this['_useInput']=!(-0xfd9+-0x1948*-0x1+-0x96e),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x1869+0x2*0x9b2+-0x2*0x15e6),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x21de+-0x1*-0x2d7+-0xd*-0x263,this['_maskOffse'+'t']=-0xa91*0x2+-0x1024*-0x2+-0xb26+0.5,this['_maskedBy']=null);}get['data'](){const _0x3f0185=this['system']['store'][this['entity']['getGuid']()];return _0x3f0185?_0x3f0185['data']:null;}set['enabled'](_0x24bb51){const _0x28a175=this['data'],_0x437ba6=_0x28a175['enabled'];_0x28a175['enabled']=_0x24bb51,this['fire']('set','enabled',_0x437ba6,_0x24bb51);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x1345*0x1+-0x228+-0x111d+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x45b*0x1+-0x1da4*-0x1+-0xb55*0x3+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x2c194a){_0x2c194a instanceof re?this['_anchor']['copy'](_0x2c194a):this['_anchor']['set'](..._0x2c194a),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x5d9*0x5+0x7*0x9+-0x1*-0x1cfe),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x5a3f78){var _0x5475bb,_0x28cd5a;this['_batchGrou'+'pId']!==_0x5a3f78&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1131+0x1879+-0x29aa&&((_0x5475bb=this['system']['app']['batcher'])==null||_0x5475bb['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5a3f78>=0x13f*0x2+-0x153e+0x19*0xc0&&((_0x28cd5a=this['system']['app']['batcher'])==null||_0x28cd5a['insert'](St['ELEMENT'],_0x5a3f78,this['entity'])),_0x5a3f78<-0x1514+-0x39+0x154d&&this['_batchGrou'+'pId']>=0x2*0x18d+0x212f+-0x2449&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x5a3f78);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x454d8c){this['_margin']['y']=_0x454d8c;const _0x32c2cf=this['entity']['getLocalPo'+'sition'](),_0x752530=this['_absTop'],_0x477312=this['_localAnch'+'or']['y']+_0x454d8c;this['_setHeight'](_0x752530-_0x477312),_0x32c2cf['y']=_0x454d8c+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x32c2cf);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x25cd10){this['_setCalcul'+'atedWidth'](_0x25cd10,!(-0x21d9+0x7ab+0x6*0x45d));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x1527cf){this['_setCalcul'+'atedHeight'](_0x1527cf,!(0x24*-0x10d+0x1a99+-0x1*-0xb3b));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x2db1be=this['system']['app']['graphicsDe'+'vice'],_0x273d6b=this['screenCorn'+'ers'],_0x1b79b2=_0x2db1be['canvas']['clientWidt'+'h']/_0x2db1be['width'],_0x185335=_0x2db1be['canvas']['clientHeig'+'ht']/_0x2db1be['height'];for(let _0x4db7f0=-0x25b3+0x18b+0x68*0x59;_0x4db7f0<-0x433*-0x6+0x1abc+-0x33ea;_0x4db7f0++)this['_canvasCor'+'ners'][_0x4db7f0]['set'](_0x273d6b[_0x4db7f0]['x']*_0x1b79b2,(_0x2db1be['height']-_0x273d6b[_0x4db7f0]['y'])*_0x185335);return this['_canvasCor'+'nersDirty']=!(0x1749*0x1+-0x3*0x4f7+-0x863),this['_canvasCor'+'ners'];}set['drawOrder'](_0x1e940b){let _0xfaaacd=-0xa7*-0x1f+0x449*0x2+-0xbd*0x27;this['screen']&&(_0xfaaacd=this['screen']['screen']['priority']),_0x1e940b>-0x1173f62+0xbc76ed+0x56b21d*0x4&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x1e940b=-0xe5*0x11461+0xcf45f9+-0x127f4cb*-0x1),this['_drawOrder']=(_0xfaaacd<<0x1*0x179b+0x1366+0x34d*-0xd)+_0x1e940b,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x2edd17){this['_height']=_0x2edd17,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x2edd17,!(0x1854+-0x287*0x5+-0xbb1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x302457){if(this['_addedMode'+'ls']['length'])for(let _0x3dc773=-0x2675+0x17c4+0x1*0xeb1;_0x3dc773<this['_layers']['length'];_0x3dc773++){const _0x4b2d13=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3dc773]);if(_0x4b2d13){for(let _0x4528e8=0x2685*-0x1+-0x8fc+0x2f81;_0x4528e8<this['_addedMode'+'ls']['length'];_0x4528e8++)_0x4b2d13['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x4528e8]['meshInstan'+'ces']);}}if(this['_layers']=_0x302457,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x5d6a47=0x1*-0x1946+-0x1*0xd38+0x267e;_0x5d6a47<this['_layers']['length'];_0x5d6a47++){const _0x195705=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5d6a47]);if(_0x195705){for(let _0xf00987=-0x1a*0xef+0x3*0x6a5+0x457;_0xf00987<this['_addedMode'+'ls']['length'];_0xf00987++)_0x195705['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0xf00987]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x154cff){this['_margin']['x']=_0x154cff;const _0x3be0fd=this['entity']['getLocalPo'+'sition'](),_0x38027f=this['_absRight'],_0x2dcb0f=this['_localAnch'+'or']['x']+_0x154cff;this['_setWidth'](_0x38027f-_0x2dcb0f),_0x3be0fd['x']=_0x154cff+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x3be0fd);}get['left'](){return this['_margin']['x'];}set['margin'](_0x3a3735){this['_margin']['copy'](_0x3a3735),this['_calculate'+'Size'](!(0x3e5*0x4+0x5f*0x29+-0x1ecb),!(0x1940*0x1+-0xa50+-0xef0)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x16aef7){const {pivot:_0x2019eb,margin:_0x3a8b5a}=this,_0x4c3d18=_0x2019eb['x'],_0x2b5783=_0x2019eb['y'];_0x16aef7 instanceof J?_0x2019eb['copy'](_0x16aef7):_0x2019eb['set'](..._0x16aef7);const _0xf0af59=_0x3a8b5a['x']+_0x3a8b5a['z'],_0x304199=_0x2019eb['x']-_0x4c3d18;_0x3a8b5a['x']+=_0xf0af59*_0x304199,_0x3a8b5a['z']-=_0xf0af59*_0x304199;const _0x4a361d=_0x3a8b5a['y']+_0x3a8b5a['w'],_0x1adf07=_0x2019eb['y']-_0x2b5783;_0x3a8b5a['y']+=_0x4a361d*_0x1adf07,_0x3a8b5a['w']-=_0x4a361d*_0x1adf07,this['_anchorDir'+'ty']=!(-0x1*-0x545+0x1*-0x1613+0x10ce),this['_cornersDi'+'rty']=!(0x22ae+0x5*0x299+-0x2fab*0x1),this['_worldCorn'+'ersDirty']=!(0xc*-0x191+0x19ae+-0x2*0x371),this['_calculate'+'Size'](!(0x1ccf+-0x1329+-0x9a5),!(-0x1b14*0x1+0xe6e+-0x29*-0x4f)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x2019eb);}get['pivot'](){return this['_pivot'];}set['right'](_0x1ac399){this['_margin']['z']=_0x1ac399;const _0x19bd59=this['entity']['getLocalPo'+'sition'](),_0x39c7c9=this['_absLeft'],_0x3d3fb4=this['_localAnch'+'or']['z']-_0x1ac399;this['_setWidth'](_0x3d3fb4-_0x39c7c9),_0x19bd59['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x1ac399-this['_calculate'+'dWidth']*(0x15*0x120+-0x2307+0xb68-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x19bd59);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0xfdf916=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0xe89+-0x3d*-0x7+-0x4*0x40d];this['_screenCor'+'ners'][-0x169a+-0x12ce+-0x19*-0x1a8]['set'](this['_absLeft'],this['_absBottom'],-0x2*-0x26+-0x2203+0x21b7),this['_screenCor'+'ners'][0x21b5*0x1+0x1*-0x1897+0x91d*-0x1]['set'](this['_absRight'],this['_absBottom'],0xe35*0x1+-0x39d*0x7+0xb16),this['_screenCor'+'ners'][0x1634+-0x4*-0x1f5+-0x1e06]['set'](this['_absRight'],this['_absTop'],0x3ef*-0x1+0x2039+0x1aa*-0x11),this['_screenCor'+'ners'][0x26*0xe4+0x16*-0xef+0xd4b*-0x1]['set'](this['_absLeft'],this['_absTop'],-0x1*0x3dd+0xd*-0x18d+0x1806);const _0x1bef87=this['screen']['screen']['screenSpac'+'e'];for(let _0x2e167e=-0x2*-0xf6b+-0x1*0x1ef7+-0x1*-0x21;_0x2e167e<0x1f2d+0x93f+-0x2868;_0x2e167e++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2e167e],this['_screenCor'+'ners'][_0x2e167e]),_0x1bef87&&this['_screenCor'+'ners'][_0x2e167e]['mulScalar'](this['screen']['screen']['scale']),_0xfdf916&&this['_screenCor'+'ners'][_0x2e167e]['add'](_0xfdf916);return this['_cornersDi'+'rty']=!(0x1029+-0x9d9+-0x64f),this['_canvasCor'+'nersDirty']=!(0xece+-0x45a*0x6+0x5a7*0x2),this['_worldCorn'+'ersDirty']=!(0x211d+0x2209+0xa*-0x6b7),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0xe3*-0x14+0x1*-0x15c1+-0x397*-0xb;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x1dff+0x1*-0x125b+0x2*0x182d;}set['top'](_0x4c84cd){this['_margin']['w']=_0x4c84cd;const _0x54f030=this['entity']['getLocalPo'+'sition'](),_0x25d0e5=this['_absBottom'],_0x5f57a3=this['_localAnch'+'or']['w']-_0x4c84cd;this['_setHeight'](_0x5f57a3-_0x25d0e5),_0x54f030['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x4c84cd-this['_calculate'+'dHeight']*(-0x1338+-0xed3+-0x4*-0x883-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x54f030);}get['top'](){return this['_margin']['w'];}set['type'](_0xcca2d){_0xcca2d!==this['_type']&&(this['_type']=_0xcca2d,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0xcca2d===Cu?this['_image']=new cR(this):_0xcca2d===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x97d765){this['_useInput']!==_0x97d765&&(this['_useInput']=_0x97d765,this['system']['app']['elementInp'+'ut']?_0x97d765?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x22a3*0x1+-0x1a*-0x54+0x101*-0x2b)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x97d765));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x3b0d1e){this['_fitMode']=_0x3b0d1e,this['_calculate'+'Size'](!(0x1aad+0x1f3b+-0x39e8),!(-0x19c6+-0x148b+0x2e51)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x257a8a){this['_width']=_0x257a8a,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x257a8a,!(-0x2*0x946+0xb23+0x1*0x769)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x43c16a=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x5aa+0x11e8+-0xc31*0x1]=-ws['data'][0x1fee+0x14e+0x5*-0x6a3],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x6d28a0=-0x1b91*0x1+-0x1c2+0x1*0x1d53;_0x6d28a0<-0x64d*0x3+-0x1b0e+-0x2df9*-0x1;_0x6d28a0++)ws['transformP'+'oint'](_0x43c16a[_0x6d28a0],this['_worldCorn'+'ers'][_0x6d28a0]);}}else{const _0x272aee=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x272aee['x'],-_0x272aee['y'],-_0x272aee['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x272aee['x'],_0x272aee['y'],_0x272aee['z']);const _0x2c5b07=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x2c5b07['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x272aee['x']-this['pivot']['x']*this['calculated'+'Width'],_0x272aee['y']-this['pivot']['y']*this['calculated'+'Height'],_0x272aee['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x2*-0x1154+-0x1d95*-0x1+0xd*-0x4f1]),Pi['set'](_0x272aee['x']+(0x8b7+-0x92e*0x4+0x4ab*0x6-this['pivot']['x'])*this['calculated'+'Width'],_0x272aee['y']-this['pivot']['y']*this['calculated'+'Height'],_0x272aee['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1*0x1523+-0x1837+-0x11*-0x2ab]),Pi['set'](_0x272aee['x']+(-0x11*0xb3+0x1a8+-0x106*-0xa-this['pivot']['x'])*this['calculated'+'Width'],_0x272aee['y']+(0x93d*0x1+0x3*-0x116+-0x3*0x1fe-this['pivot']['y'])*this['calculated'+'Height'],_0x272aee['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xb*-0x2c5+-0x1*0x2149+-0x16a*-0x2]),Pi['set'](_0x272aee['x']-this['pivot']['x']*this['calculated'+'Width'],_0x272aee['y']+(-0x2297+0x1*-0xbff+-0x2e97*-0x1-this['pivot']['y'])*this['calculated'+'Height'],_0x272aee['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x166b+0x112f+0x1*0x53f]);}return this['_worldCorn'+'ersDirty']=!(0x1253+0x10d8+-0x232a),this['_worldCorn'+'ers'];}set['fontSize'](_0x4d8390){this['_setValue']('fontSize',_0x4d8390);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x30b172){this['_setValue']('minFontSiz'+'e',_0x30b172);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x5efeb7){this['_setValue']('maxFontSiz'+'e',_0x5efeb7);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0xa59ebd){this['_setValue']('maxLines',_0xa59ebd);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x48a7f5){this['_setValue']('autoFitWid'+'th',_0x48a7f5);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x2b3f8b){this['_setValue']('autoFitHei'+'ght',_0x2b3f8b);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x5f9625){this['_setValue']('color',_0x5f9625);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0xb3c1a1){this['_setValue']('font',_0xb3c1a1);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2ab511){this['_setValue']('fontAsset',_0x2ab511);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x5b6315){this['_setValue']('spacing',_0x5b6315);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x15dbeb){this['_setValue']('lineHeight',_0x15dbeb);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1a425d){this['_setValue']('wrapLines',_0x1a425d);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0xdce493){this['_setValue']('lines',_0xdce493);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x27eb23){this['_setValue']('alignment',_0x27eb23);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x2843c3){this['_setValue']('autoWidth',_0x2843c3);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x592bb1){this['_setValue']('autoHeight',_0x592bb1);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x15a9b8){this['_setValue']('rtlReorder',_0x15a9b8);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x3b9d52){this['_setValue']('unicodeCon'+'verter',_0x3b9d52);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x2ec0b2){this['_setValue']('text',_0x2ec0b2);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x317e7f){this['_setValue']('key',_0x317e7f);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x253076){this['_setValue']('texture',_0x253076);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x4b89ef){this['_setValue']('textureAss'+'et',_0x4b89ef);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0xf7827b){this['_setValue']('material',_0xf7827b);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x21bcc0){this['_setValue']('materialAs'+'set',_0x21bcc0);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x59c1fd){this['_setValue']('sprite',_0x59c1fd);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x2c23d1){this['_setValue']('spriteAsse'+'t',_0x2c23d1);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2443af){this['_setValue']('spriteFram'+'e',_0x2443af);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x3ea7db){this['_setValue']('pixelsPerU'+'nit',_0x3ea7db);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x26739a){this['_setValue']('opacity',_0x26739a);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x2818d6){this['_setValue']('rect',_0x2818d6);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x18cce8){this['_setValue']('mask',_0x18cce8);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x4b5542){this['_setValue']('outlineCol'+'or',_0x4b5542);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0xed5cd){this['_setValue']('outlineThi'+'ckness',_0xed5cd);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x4c83d3){this['_setValue']('shadowColo'+'r',_0x4c83d3);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x113290){this['_setValue']('shadowOffs'+'et',_0x113290);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x2a7b33){this['_setValue']('enableMark'+'up',_0x2a7b33);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x46c56e){this['_setValue']('rangeStart',_0x46c56e);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x8d98c5){this['_setValue']('rangeEnd',_0x8d98c5);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x4b3dea,_0x5c0006){this['_text']?(this['_text'][_0x4b3dea]!==_0x5c0006&&this['_dirtyBatc'+'h'](),this['_text'][_0x4b3dea]=_0x5c0006):this['_image']&&(this['_image'][_0x4b3dea]!==_0x5c0006&&this['_dirtyBatc'+'h'](),this['_image'][_0x4b3dea]=_0x5c0006);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x104527,_0x553fc4,_0x27ad1f){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x104527,_0x553fc4,_0x27ad1f);return;}_0x104527 instanceof D?Ef['copy'](_0x104527):Ef['set'](_0x104527,_0x553fc4,_0x27ad1f),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x1aa076,_0x1ce525,_0x98483f){_0x1aa076 instanceof D?this['localPosit'+'ion']['copy'](_0x1aa076):this['localPosit'+'ion']['set'](_0x1aa076,_0x1ce525,_0x98483f);const _0x4cf332=this['element'],_0x3c092f=this['localPosit'+'ion'],_0x286281=_0x4cf332['_pivot'];_0x4cf332['_margin']['x']=_0x3c092f['x']-_0x4cf332['_calculate'+'dWidth']*_0x286281['x'],_0x4cf332['_margin']['z']=_0x4cf332['_localAnch'+'or']['z']-_0x4cf332['_localAnch'+'or']['x']-_0x4cf332['_calculate'+'dWidth']-_0x4cf332['_margin']['x'],_0x4cf332['_margin']['y']=_0x3c092f['y']-_0x4cf332['_calculate'+'dHeight']*_0x286281['y'],_0x4cf332['_margin']['w']=_0x4cf332['_localAnch'+'or']['w']-_0x4cf332['_localAnch'+'or']['y']-_0x4cf332['_calculate'+'dHeight']-_0x4cf332['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x3b713d=this['element'],_0x24af31=_0x3b713d['screen'];if(_0x24af31){if(_0x3b713d['_anchorDir'+'ty']){let _0x196d11=0x3*0x268+-0x1a16+0x12de,_0x256567=-0x2a*0xd+-0x1*0x1fdd+0x21ff,_0x442c9e=-0x1*-0x1db3+-0xaf0+-0x12c3,_0x2d667f=0x6*0x431+-0x18c6+0x13*-0x5;if(this['_parent']&&this['_parent']['element'])_0x196d11=this['_parent']['element']['calculated'+'Width'],_0x256567=this['_parent']['element']['calculated'+'Height'],_0x442c9e=this['_parent']['element']['pivot']['x'],_0x2d667f=this['_parent']['element']['pivot']['y'];else{const _0x105b95=_0x24af31['screen']['resolution'];_0x196d11=_0x105b95['x']/_0x24af31['screen']['scale'],_0x256567=_0x105b95['y']/_0x24af31['screen']['scale'];}_0x3b713d['_anchorTra'+'nsform']['setTransla'+'te'](_0x196d11*(_0x3b713d['anchor']['x']-_0x442c9e),-(_0x256567*(_0x2d667f-_0x3b713d['anchor']['y'])),-0x7ff+0x1df4+-0x323*0x7),_0x3b713d['_anchorDir'+'ty']=!(-0xa99+0x30*-0x97+-0x1375*-0x2),_0x3b713d['_calculate'+'LocalAncho'+'rs']();}_0x3b713d['_sizeDirty']&&_0x3b713d['_calculate'+'Size'](!(-0x1cbd+0x1371+0x94d),!(0x1*0x1db7+-0x1*0x192b+-0x48b));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x9f7de2=this['localPosit'+'ion'],_0x4205c5=_0x3b713d['_pivot'];_0x3b713d['_margin']['x']=_0x9f7de2['x']-_0x3b713d['_calculate'+'dWidth']*_0x4205c5['x'],_0x3b713d['_margin']['z']=_0x3b713d['_localAnch'+'or']['z']-_0x3b713d['_localAnch'+'or']['x']-_0x3b713d['_calculate'+'dWidth']-_0x3b713d['_margin']['x'],_0x3b713d['_margin']['y']=_0x9f7de2['y']-_0x3b713d['_calculate'+'dHeight']*_0x4205c5['y'],_0x3b713d['_margin']['w']=_0x3b713d['_localAnch'+'or']['w']-_0x3b713d['_localAnch'+'or']['y']-_0x3b713d['_calculate'+'dHeight']-_0x3b713d['_margin']['y'],this['_dirtyLoca'+'l']=!(0x1bcb+0x2461+-0x402b);}if(!_0x24af31){this['_dirtyWorl'+'d']&&(_0x3b713d['_cornersDi'+'rty']=!(0x1270+0x2388+-0x4e8*0xb),_0x3b713d['_canvasCor'+'nersDirty']=!(-0x366+-0xca4+0x100a),_0x3b713d['_worldCorn'+'ersDirty']=!(-0xcd*0xb+-0x1*-0x4e1+0x3ee)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x3b713d['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x3b713d['_anchorTra'+'nsform']):_0x3b713d['_screenToW'+'orld']['copy'](_0x3b713d['_anchorTra'+'nsform']),_0x3b713d['_modelTran'+'sform']['mul2'](_0x3b713d['_screenToW'+'orld'],this['localTrans'+'form']),_0x24af31){_0x3b713d['_screenToW'+'orld']['mul2'](_0x24af31['screen']['_screenMat'+'rix'],_0x3b713d['_screenToW'+'orld']),_0x24af31['screen']['screenSpac'+'e']||_0x3b713d['_screenToW'+'orld']['mul2'](_0x24af31['worldTrans'+'form'],_0x3b713d['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x3b713d['_screenToW'+'orld'],this['localTrans'+'form']);const _0x31694d=_0x3b713d['_parentWor'+'ldTransfor'+'m'];_0x31694d['setIdentit'+'y']();const _0x460588=this['_parent'];_0x460588&&_0x460588['element']&&_0x460588!==_0x24af31&&(ws['setTRS'](D['ZERO'],_0x460588['getLocalRo'+'tation'](),_0x460588['getLocalSc'+'ale']()),_0x31694d['mul2'](_0x460588['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x5ae7b5=Pi;_0x5ae7b5['set'](0x256c+-0x7a1*-0x4+0x1*-0x43f0,0x36b+-0x2*0x1cd+0x2f,this['localPosit'+'ion']['z']);const _0x17268c=MR;_0x17268c['set'](_0x3b713d['_absLeft']+_0x3b713d['_pivot']['x']*_0x3b713d['calculated'+'Width'],_0x3b713d['_absBottom']+_0x3b713d['_pivot']['y']*_0x3b713d['calculated'+'Height'],-0x474*-0x2+-0x1ac6+0x11de),ws['setTransla'+'te'](-_0x17268c['x'],-_0x17268c['y'],-_0x17268c['z']),bc['setTRS'](_0x5ae7b5,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x17268c['x'],_0x17268c['y'],_0x17268c['z']),_0x3b713d['_screenTra'+'nsform']['mul2'](_0x3b713d['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x3b713d['_cornersDi'+'rty']=!(0x2538+-0x1f54+-0x5e4),_0x3b713d['_canvasCor'+'nersDirty']=!(-0xe30+-0x2354+0x3184),_0x3b713d['_worldCorn'+'ersDirty']=!(0x47*0x29+-0x1*-0x1a68+0x1*-0x25c7);}else this['worldTrans'+'form']['copy'](_0x3b713d['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x24af+0x1068+0x1448);}}['_onInsert'](_0x2bb1b7){const _0x40575d=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x40575d['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x5cf9c1=this['entity'];for(;_0x5cf9c1;){const _0x1ab3b2=_0x5cf9c1['parent'];if((_0x1ab3b2===null||_0x1ab3b2['screen'])&&_0x5cf9c1['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x31b4f5=this['system']['_prerender']['indexOf'](this['entity']);_0x31b4f5>=-0x1052+-0x1*0x1583+0x25d5&&this['system']['_prerender']['splice'](_0x31b4f5,0x189*0x1+0x2*0x1f3+0x2b7*-0x2),this['system']['_prerender']['indexOf'](_0x5cf9c1)<-0xbeb*-0x3+0x162b+0x2a2*-0x16&&this['system']['_prerender']['push'](_0x5cf9c1),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x5cf9c1['name']);}_0x5cf9c1=_0x1ab3b2;}}['_onPrerend'+'er'](){for(let _0x4dbe0d=0x1*0x1861+-0x3b*-0x17+-0x1dae;_0x4dbe0d<this['system']['_prerender']['length'];_0x4dbe0d++){const _0x1ce4d4=this['system']['_prerender'][_0x4dbe0d];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x1ce4d4['name']),_0x1ce4d4['element']&&_0x1ce4d4['element']['syncMask'](-0x1e24+0x232a*0x1+-0x101*0x5);}this['system']['_prerender']['length']=-0x249e+-0x241b+-0x1*-0x48b9;}['_bindScree'+'n'](_0x1b88c0){_0x1b88c0['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x81535){_0x81535['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x598342){this['screen']&&this['screen']!==_0x598342&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x425716=this['screen'];this['screen']=_0x598342,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x425716),this['_anchorDir'+'ty']=!(-0x1*0x1615+-0x28d*-0x3+0x1*0xe6e);const _0x53f506=this['entity']['children'];for(let _0x4e5dba=0x216*-0x1+-0x23*-0x89+-0x10a5*0x1,_0x2cf1df=_0x53f506['length'];_0x4e5dba<_0x2cf1df;_0x4e5dba++)_0x53f506[_0x4e5dba]['element']&&_0x53f506[_0x4e5dba]['element']['_updateScr'+'een'](_0x598342);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x3d7862){const _0x5e5334=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x5e5334['mask'],_0x3d7862);}['_setMasked'+'By'](_0x1dc2a8){const _0x24aaca=this['_image']||this['_text'];if(_0x1dc2a8){const _0x3f32f7=_0x1dc2a8['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x3f32f7),_0x24aaca==null||_0x24aaca['_setStenci'+'l'](new pi({'ref':_0x3f32f7,'func':dh})),this['_maskedBy']=_0x1dc2a8;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x24aaca==null||_0x24aaca['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x59b45a,_0x562ffd){var _0xff3221,_0x47f608;if(_0x59b45a){if(this['_setMasked'+'By'](_0x59b45a),this['mask']){const _0x40d069=_0x59b45a['element']['_image']['_maskRef'],_0x2bd831=new pi({'ref':_0x40d069,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x2bd831),this['_image']['_maskRef']=_0x562ffd,_0x562ffd++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x2bd831['ref']+(0xfe8+0x75*0x9+-0xe*0x16e))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x562ffd),_0x59b45a=this['entity'];}const _0x494402=this['entity']['children'];for(let _0x2de971=0x36e+-0x18ab+0x153d,_0x4a56a3=_0x494402['length'];_0x2de971<_0x4a56a3;_0x2de971++)(_0xff3221=_0x494402[_0x2de971]['element'])==null||_0xff3221['_updateMas'+'k'](_0x59b45a,_0x562ffd);this['mask']&&_0x562ffd--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0xacfcd3=new pi({'ref':_0x562ffd,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0xacfcd3),this['_image']['_maskRef']=_0x562ffd,_0x562ffd++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0xacfcd3['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x562ffd),_0x59b45a=this['entity'];}const _0x11d1c1=this['entity']['children'];for(let _0x3bb03a=0x2185+0x1a88+0x3c0d*-0x1,_0xf8942d=_0x11d1c1['length'];_0x3bb03a<_0xf8942d;_0x3bb03a++)(_0x47f608=_0x11d1c1[_0x3bb03a]['element'])==null||_0x47f608['_updateMas'+'k'](_0x59b45a,_0x562ffd);this['mask']&&_0x562ffd--;}}['_parseUpTo'+'Screen'](){const _0x2294f6={'screen':null,'mask':null};let _0x49b618=this['entity']['_parent'];for(;_0x49b618&&!_0x49b618['screen'];)_0x49b618['element']&&_0x49b618['element']['mask']&&(_0x2294f6['mask']||(_0x2294f6['mask']=_0x49b618)),_0x49b618=_0x49b618['parent'];return _0x49b618&&_0x49b618['screen']&&(_0x2294f6['screen']=_0x49b618),_0x2294f6;}['_onScreenR'+'esize'](_0xd0ac46){this['_anchorDir'+'ty']=!(0x134+-0x1*0x1269+-0x1*-0x1135),this['_cornersDi'+'rty']=!(0x826+-0x279*-0x1+-0x1*0xa9f),this['_worldCorn'+'ersDirty']=!(-0x1248+-0xf5b*0x2+0x30fe),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0xd0ac46);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x14c8be=-0x175+-0xde0+-0x133d*-0x1,_0x77678c=0x181c+-0xe3d+-0x5f7;const _0x7c28f9=this['entity']['_parent'];if(_0x7c28f9&&_0x7c28f9['element'])_0x14c8be=_0x7c28f9['element']['calculated'+'Width'],_0x77678c=_0x7c28f9['element']['calculated'+'Height'];else{if(this['screen']){const _0x545123=this['screen']['screen']['resolution'],_0x1525c1=this['screen']['screen']['scale'];_0x14c8be=_0x545123['x']/_0x1525c1,_0x77678c=_0x545123['y']/_0x1525c1;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x14c8be,this['_anchor']['y']*_0x77678c,this['_anchor']['z']*_0x14c8be,this['_anchor']['w']*_0x77678c);}['getOffsetP'+'osition'](_0x176782,_0x373e63){const _0x4dae2a=this['entity']['getLocalPo'+'sition']()['clone']();return _0x4dae2a['x']+=_0x176782,_0x4dae2a['y']+=_0x373e63,this['_screenToW'+'orld']['transformP'+'oint'](_0x4dae2a,_0x4dae2a),_0x4dae2a;}['onLayersCh'+'anged'](_0x249fca,_0x71d1d9){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x249fca['off']('add',this['onLayerAdd'+'ed'],this),_0x249fca['off']('remove',this['onLayerRem'+'oved'],this),_0x71d1d9['on']('add',this['onLayerAdd'+'ed'],this),_0x71d1d9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x383a4a){this['layers']['indexOf'](_0x383a4a['id'])<0x166+-0x267b+0x2515||(this['_image']?_0x383a4a['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x383a4a['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x57c913){this['layers']['indexOf'](_0x57c913['id'])<0x28*0x58+0x146a+-0x222a||(this['_image']?_0x57c913['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x57c913['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x58327d;const _0x3e9e3f=this['system']['app']['scene'],_0x51eb63=_0x3e9e3f['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x3e9e3f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x51eb63&&(this['_evtLayerA'+'dded']=_0x51eb63['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x51eb63['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x6b*-0x4a+0x12*0x39+0x6bb*0x4&&((_0x58327d=this['system']['app']['batcher'])==null||_0x58327d['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x1c3ff4,_0x5f204c,_0x43998a,_0x46515d;const _0x8e2aca=this['system']['app']['scene']['layers'];(_0x1c3ff4=this['_evtLayers'+'Changed'])==null||_0x1c3ff4['off'](),this['_evtLayers'+'Changed']=null,_0x8e2aca&&((_0x5f204c=this['_evtLayerA'+'dded'])==null||_0x5f204c['off'](),this['_evtLayerA'+'dded']=null,(_0x43998a=this['_evtLayerR'+'emoved'])==null||_0x43998a['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x22c9+-0x15de+-0xceb&&((_0x46515d=this['system']['app']['batcher'])==null||_0x46515d['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x1c75ca,_0x419e19){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x496c72=this['_absRight']-this['_absLeft'],_0x8fd3fa=this['_absTop']-this['_absBottom'];_0x1c75ca?this['_setWidth'](_0x496c72):this['_setCalcul'+'atedWidth'](_0x496c72,!(-0x61*-0x3e+-0x3b*-0x85+-0x3624)),_0x419e19?this['_setHeight'](_0x8fd3fa):this['_setCalcul'+'atedHeight'](_0x8fd3fa,!(0x24a4+-0xff5*0x2+-0x4b9));const _0x46c5e8=this['entity']['getLocalPo'+'sition']();_0x46c5e8['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x46c5e8['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x46c5e8),this['_sizeDirty']=!(0x2*-0xe14+0x288+0x19a1);}['_setWidth'](_0x373086){this['_width']=_0x373086,this['_setCalcul'+'atedWidth'](_0x373086,!(-0xc8*0x1b+-0xe1c+-0x1*-0x2335)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x9c9d3a){this['_height']=_0x9c9d3a,this['_setCalcul'+'atedHeight'](_0x9c9d3a,!(-0x1612+-0x2*-0xe33+-0x653)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x40a270,_0x477b61){if(!(Math['abs'](_0x40a270-this['_calculate'+'dWidth'])<=0x1651+0xc*-0x33+-0x13ed+0.0001)){if(this['_calculate'+'dWidth']=_0x40a270,this['entity']['_dirtifyLo'+'cal'](),_0x477b61){const _0x319417=this['entity']['getLocalPo'+'sition'](),_0x1256a9=this['_pivot'];this['_margin']['x']=_0x319417['x']-this['_calculate'+'dWidth']*_0x1256a9['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x3406be,_0x37d39d){if(!(Math['abs'](_0x3406be-this['_calculate'+'dHeight'])<=0xe72+-0x16*-0x184+-0x2fca+0.0001)){if(this['_calculate'+'dHeight']=_0x3406be,this['entity']['_dirtifyLo'+'cal'](),_0x37d39d){const _0xaee13e=this['entity']['getLocalPo'+'sition'](),_0x4cb609=this['_pivot'];this['_margin']['y']=_0xaee13e['y']-this['_calculate'+'dHeight']*_0x4cb609['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x24d937=this['entity']['_children'];for(let _0x2fc461=0x46d*0x3+0x2191+-0x2ed8,_0x5bb831=_0x24d937['length'];_0x2fc461<_0x5bb831;_0x2fc461++)_0x24d937[_0x2fc461]['element']&&(_0x24d937[_0x2fc461]['element']['_anchorDir'+'ty']=!(0x8b6*0x2+0x1*-0x22b1+0x1145),_0x24d937[_0x2fc461]['element']['_sizeDirty']=!(0x2146+-0x1ff7+-0x14f));}['addModelTo'+'Layers'](_0x29d521){this['_addedMode'+'ls']['push'](_0x29d521);for(let _0x31d041=-0x16d3*0x1+0x14df+0x1f4;_0x31d041<this['layers']['length'];_0x31d041++){const _0x4e2d81=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x31d041]);_0x4e2d81&&_0x4e2d81['addMeshIns'+'tances'](_0x29d521['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x3cb46c){const _0x1ca66d=this['_addedMode'+'ls']['indexOf'](_0x3cb46c);_0x1ca66d>=-0x1*0x1999+0x503*0x1+0x1496&&this['_addedMode'+'ls']['splice'](_0x1ca66d,0x1*-0x1df9+0x1bd4+0x226);for(let _0x5e8f71=-0x342*-0x2+0x1*0xc2d+0x13f*-0xf;_0x5e8f71<this['layers']['length'];_0x5e8f71++){const _0x226b44=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5e8f71]);_0x226b44&&_0x226b44['removeMesh'+'Instances'](_0x3cb46c['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x4fc2bf=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x4fc2bf&&(this['_maskOffse'+'t']=0xb0e+0x4f*0x7+-0x1*0xd37+0.5,this['_offsetRea'+'dAt']=_0x4fc2bf);const _0x2d7541=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x1*-0xcc4+0x240e+0xba5*-0x2+0.001,_0x2d7541;}['isVisibleF'+'orCamera'](_0x445474){let _0x14ba19,_0x3a1643,_0xa47f1b,_0x103de5;if(this['maskedBy']){const _0x5bfd5b=this['maskedBy']['element']['screenCorn'+'ers'];_0x14ba19=Math['min'](Math['min'](_0x5bfd5b[0x10f5+0x19*0xbf+-0x239c]['x'],_0x5bfd5b[-0x161e*0x1+-0x624+0x1c43]['x']),Math['min'](_0x5bfd5b[0x8f0+0x1097+0x1985*-0x1]['x'],_0x5bfd5b[0x2*-0x418+-0x3*-0x767+-0x2*0x701]['x'])),_0x3a1643=Math['max'](Math['max'](_0x5bfd5b[0x3*0xc83+-0x340+-0x1*0x2249]['x'],_0x5bfd5b[0x4*0x1e8+-0x1061+0x8c2]['x']),Math['max'](_0x5bfd5b[-0x88c+-0x1*-0x6b9+-0x43*-0x7]['x'],_0x5bfd5b[-0xb68+-0x24f3+0x305e]['x'])),_0x103de5=Math['min'](Math['min'](_0x5bfd5b[-0x956+0xa9b+-0x145]['y'],_0x5bfd5b[-0x3c*0x51+-0x1ca5*0x1+0x7*0x6ce]['y']),Math['min'](_0x5bfd5b[0xa27*0x1+-0xeec+0x4c7*0x1]['y'],_0x5bfd5b[0x1c02+0x126c+-0xf79*0x3]['y'])),_0xa47f1b=Math['max'](Math['max'](_0x5bfd5b[0x25a8+-0x95b+0xf*-0x1e3]['y'],_0x5bfd5b[-0x4aa*0x6+0x1*-0x2558+-0xdf*-0x4b]['y']),Math['max'](_0x5bfd5b[-0x86f*-0x4+0x11a0+-0x7*0x756]['y'],_0x5bfd5b[0x306*0x1+-0x1582*-0x1+-0x1885]['y']));}else{const _0x1708f0=this['system']['app']['graphicsDe'+'vice']['width'],_0x197d80=this['system']['app']['graphicsDe'+'vice']['height'],_0x5895e9=_0x445474['_rect']['z']*_0x1708f0,_0x4299c4=_0x445474['_rect']['w']*_0x197d80;_0x14ba19=_0x445474['_rect']['x']*_0x1708f0,_0x3a1643=_0x14ba19+_0x5895e9,_0xa47f1b=(-0x1*0x1369+-0x10a5*0x1+0x240f-_0x445474['_rect']['y'])*_0x197d80,_0x103de5=_0xa47f1b-_0x4299c4;}const _0xb74287=this['screenCorn'+'ers'],_0x98a350=Math['min'](Math['min'](_0xb74287[0xf1c*0x1+0x7d+-0xf99]['x'],_0xb74287[-0x2121+0x2*0x53+0x207c]['x']),Math['min'](_0xb74287[-0xb33+-0x1c8+-0xaf*-0x13]['x'],_0xb74287[-0x3da+-0xfb*-0x1a+-0x15a1*0x1]['x'])),_0x5348d2=Math['max'](Math['max'](_0xb74287[0xc4b*-0x3+-0x2082*0x1+0x4563]['x'],_0xb74287[-0x747*0x1+-0x3*-0x52a+0x2*-0x41b]['x']),Math['max'](_0xb74287[0x2*-0x1ee+0x1235+0x1*-0xe57]['x'],_0xb74287[-0x4*-0x96d+-0x1b*0xd7+-0xf04]['x'])),_0x304426=Math['min'](Math['min'](_0xb74287[0x185e+-0x23fc+0xb9e*0x1]['y'],_0xb74287[0x1e90+-0x70d+0x66*-0x3b]['y']),Math['min'](_0xb74287[0x3*0xb3f+0x1890+-0x3a4b*0x1]['y'],_0xb74287[-0x96d*-0x1+-0x15ef+-0x1*-0xc85]['y'])),_0x1b37f5=Math['max'](Math['max'](_0xb74287[0x1a1+-0x1081*0x2+-0x1f61*-0x1]['y'],_0xb74287[0x5*-0x135+-0x7ab+-0x13f*-0xb]['y']),Math['max'](_0xb74287[0x1583+0x1727+-0x2ca8]['y'],_0xb74287[0xb1d+-0xf*0x7+-0xab1]['y']));return!(_0x5348d2<_0x14ba19||_0x98a350>_0x3a1643||_0x304426>_0xa47f1b||_0x1b37f5<_0x103de5);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x1c9c+-0x550*0x3+-0x17*0x8d);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x2564+-0x157a+-0x1*-0x3adf);}['_dirtyBatc'+'h'](){var _0xbfdded;this['batchGroup'+'Id']!==-(-0x615*-0x3+0xb2*0x37+-0x387c)&&((_0xbfdded=this['system']['app']['batcher'])==null||_0xbfdded['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x1*0x259d+0x1*0x1233+-0x37d0);}}const IR=['enabled'];class LR extends ct{constructor(_0x5acbcf){super(_0x5acbcf),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x5acbcf['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x2a9acc=this['_defaultTe'+'xture']['lock'](),_0x291cf8=new Uint8Array(-0x1*-0x2401+0x1*0x1ba8+-0x3fa5);_0x291cf8[-0xdf+0x1188+-0x10a9]=-0x1b52+0x248*0x11+-0xa77,_0x291cf8[0x6eb+-0xd16*0x2+-0x1342*-0x1]=0x15d3+-0x631*-0x5+0x33c9*-0x1,_0x291cf8[-0x1683+0x1337+0x9*0x5e]=0x1fcc+-0x356*0x2+0x57*-0x47,_0x291cf8[-0xb2b*-0x1+0xa8c+-0x15b4]=-0x820+-0x5*-0x163+0x230,_0x2a9acc['set'](_0x291cf8),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x2afd73,_0x360d49,_0x349814){_0x2afd73['_beingInit'+'ialized']=!(0x15f4+0x32b*0x3+0x1*-0x1f75),_0x360d49['anchor']!==void(0x1*-0x246b+0x1be5+0x886)&&(_0x360d49['anchor']instanceof re?_0x2afd73['anchor']['copy'](_0x360d49['anchor']):_0x2afd73['anchor']['set'](_0x360d49['anchor'][0x631*-0x1+0xbaa+-0x1*0x579],_0x360d49['anchor'][0x2d1*-0xb+0x1952+0x5aa],_0x360d49['anchor'][0x1*-0xa46+0x6*-0x652+0x3034],_0x360d49['anchor'][0x1a6b*-0x1+0x16af+-0x7*-0x89])),_0x360d49['pivot']!==void(-0x26*0x8b+0x26bf+0x1*-0x121d)&&(_0x360d49['pivot']instanceof J?_0x2afd73['pivot']['copy'](_0x360d49['pivot']):_0x2afd73['pivot']['set'](_0x360d49['pivot'][0xa*0x70+0x109*-0x1c+0x1*0x189c],_0x360d49['pivot'][-0x3*-0x17f+-0x1df*-0x8+-0x1374]));const _0x5846da=Math['abs'](_0x2afd73['anchor']['x']-_0x2afd73['anchor']['z'])>-0x1*-0x457+-0x2208+0x1db1+0.001,_0x1c2fd0=Math['abs'](_0x2afd73['anchor']['y']-_0x2afd73['anchor']['w'])>-0x1f*-0x31+0x643*0x2+0x23*-0x87+0.001;let _0x44d6a2=!(0x1*-0x176+-0x1a06+0x1b7d),_0x5ebda4;_0x360d49['margin']!==void(0x1*-0x23f5+0x17b0+-0x9*-0x15d)&&(_0x360d49['margin']instanceof re?_0x2afd73['margin']['copy'](_0x360d49['margin']):_0x2afd73['_margin']['set'](_0x360d49['margin'][-0x1483+-0x25ef+0x2*0x1d39],_0x360d49['margin'][-0x6*0xb4+0x18e6+-0x14ad],_0x360d49['margin'][0x14a5+-0x6*-0x30+0x26b*-0x9],_0x360d49['margin'][-0x29*-0x36+0x25ca+-0x2e6d]),_0x44d6a2=!(0x1*-0x16e+0x1c1b*-0x1+-0x1d89*-0x1)),_0x360d49['left']!==void(0x65*-0x14+0x9*0x18d+0x1*-0x611)&&(_0x2afd73['_margin']['x']=_0x360d49['left'],_0x44d6a2=!(0xa06+-0x264a+0x1c44)),_0x360d49['bottom']!==void(-0x1c*-0x11e+0x1308+-0x3250)&&(_0x2afd73['_margin']['y']=_0x360d49['bottom'],_0x44d6a2=!(0x11ed+0x1d0f*-0x1+0x13*0x96)),_0x360d49['right']!==void(0x1bbf+0x1399+-0x2f58)&&(_0x2afd73['_margin']['z']=_0x360d49['right'],_0x44d6a2=!(-0x1d2f*0x1+-0x6d*-0x17+0x1364)),_0x360d49['top']!==void(0x6c*0x41+0xe95+-0x2a01)&&(_0x2afd73['_margin']['w']=_0x360d49['top'],_0x44d6a2=!(-0x1e34+0x139*0x1+0x1cfb)),_0x44d6a2&&(_0x2afd73['margin']=_0x2afd73['_margin']);let _0x38a465=!(-0x1*0xb42+-0x1551+0xc*0x2b7);_0x360d49['width']!==void(-0x116*-0x13+-0x726+0x1*-0xd7c)&&!_0x5846da?_0x2afd73['width']=_0x360d49['width']:_0x5846da&&(_0x38a465=!(0x1d09+-0x2*0x4fd+0x7*-0x2b9)),_0x360d49['height']!==void(-0xc7e*0x2+0x5c6*0x3+0x7aa)&&!_0x1c2fd0?_0x2afd73['height']=_0x360d49['height']:_0x1c2fd0&&(_0x38a465=!(-0x1f2a+-0xdb3+-0x5*-0x8f9)),_0x38a465&&(_0x2afd73['anchor']=_0x2afd73['anchor']),_0x360d49['enabled']!==void(-0x309+-0x5*-0x17b+-0xd*0x56)&&(_0x2afd73['enabled']=_0x360d49['enabled']),_0x360d49['useInput']!==void(0x3*-0x485+-0xd9*-0x23+-0x101c)&&(_0x2afd73['useInput']=_0x360d49['useInput']),_0x360d49['fitMode']!==void(0x2493+0xc1a+-0x30ad)&&(_0x2afd73['fitMode']=_0x360d49['fitMode']),_0x2afd73['batchGroup'+'Id']=_0x360d49['batchGroup'+'Id']===void(-0x5b3*-0x5+0xd7f*-0x1+-0x30*0x50)||_0x360d49['batchGroup'+'Id']===null?-(-0x1439*0x1+0x39*-0x16+-0x20*-0xc9):_0x360d49['batchGroup'+'Id'],_0x360d49['layers']&&Array['isArray'](_0x360d49['layers'])&&(_0x2afd73['layers']=_0x360d49['layers']['slice'](-0x78*0x3f+0x8*0x14+0x1ce8)),_0x360d49['type']!==void(-0x22a+-0x1195*0x2+0x2554)&&(_0x2afd73['type']=_0x360d49['type']),_0x2afd73['type']===Cu?(_0x360d49['rect']!==void(0x136+-0x1928+0x17f2*0x1)&&(_0x2afd73['rect']=_0x360d49['rect']),_0x360d49['color']!==void(-0x1715+0x881+-0x4*-0x3a5)&&(_0x5ebda4=_0x360d49['color'],_0x5ebda4 instanceof ie||(_0x5ebda4=new ie(_0x360d49['color'][0x13d7+-0x1*0x19+-0x13be],_0x360d49['color'][0x16c9*0x1+0x1207+0x1*-0x28cf],_0x360d49['color'][0x1832+0x71*-0x4d+0xd*0xc1])),_0x2afd73['color']=_0x5ebda4),_0x360d49['opacity']!==void(0x2*0xf91+0xa0d+-0x292f)&&(_0x2afd73['opacity']=_0x360d49['opacity']),_0x360d49['textureAss'+'et']!==void(-0x9c2+0x26a*0x1+-0x758*-0x1)&&(_0x2afd73['textureAss'+'et']=_0x360d49['textureAss'+'et']),_0x360d49['texture']&&(_0x2afd73['texture']=_0x360d49['texture']),_0x360d49['spriteAsse'+'t']!==void(0x9*-0xd+-0x2*0x8bd+-0x1*-0x11ef)&&(_0x2afd73['spriteAsse'+'t']=_0x360d49['spriteAsse'+'t']),_0x360d49['sprite']&&(_0x2afd73['sprite']=_0x360d49['sprite']),_0x360d49['spriteFram'+'e']!==void(0x121*0x11+-0x1cb6+0x985)&&(_0x2afd73['spriteFram'+'e']=_0x360d49['spriteFram'+'e']),_0x360d49['pixelsPerU'+'nit']!==void(-0x2*-0x547+0x1*-0x1e52+-0x13c4*-0x1)&&_0x360d49['pixelsPerU'+'nit']!==null&&(_0x2afd73['pixelsPerU'+'nit']=_0x360d49['pixelsPerU'+'nit']),_0x360d49['materialAs'+'set']!==void(0x3b*0x6e+0x736+-0x2090*0x1)&&(_0x2afd73['materialAs'+'set']=_0x360d49['materialAs'+'set']),_0x360d49['material']&&(_0x2afd73['material']=_0x360d49['material']),_0x360d49['mask']!==void(-0x11+0x1*-0x2063+-0x103a*-0x2)&&(_0x2afd73['mask']=_0x360d49['mask'])):_0x2afd73['type']===jv&&(_0x360d49['autoWidth']!==void(0x2655+-0x2226+0x1*-0x42f)&&(_0x2afd73['autoWidth']=_0x360d49['autoWidth']),_0x360d49['autoHeight']!==void(0x4*-0x67a+-0x7c9*0x2+0x1*0x297a)&&(_0x2afd73['autoHeight']=_0x360d49['autoHeight']),_0x360d49['rtlReorder']!==void(-0x4bc*-0x6+-0x895+0xaf*-0x1d)&&(_0x2afd73['rtlReorder']=_0x360d49['rtlReorder']),_0x360d49['unicodeCon'+'verter']!==void(-0x1f49+0x20d8+-0x18f)&&(_0x2afd73['unicodeCon'+'verter']=_0x360d49['unicodeCon'+'verter']),_0x360d49['text']!==null&&_0x360d49['text']!==void(0x192f+-0x11ca+-0x765)?_0x2afd73['text']=_0x360d49['text']:_0x360d49['key']!==null&&_0x360d49['key']!==void(0x1883+-0x17c1+-0x2*0x61)&&(_0x2afd73['key']=_0x360d49['key']),_0x360d49['color']!==void(-0x1d2e+-0xc49+0x2977)&&(_0x5ebda4=_0x360d49['color'],_0x5ebda4 instanceof ie||(_0x5ebda4=new ie(_0x5ebda4[-0x17ca+0x9b*0x5+-0x5*-0x427],_0x5ebda4[-0x2b*-0x5b+-0x1*0x1db3+0xe6b],_0x5ebda4[0x1d3f*-0x1+-0x3a8+-0x5*-0x695])),_0x2afd73['color']=_0x5ebda4),_0x360d49['opacity']!==void(-0x74e+-0x107d+-0x17cb*-0x1)&&(_0x2afd73['opacity']=_0x360d49['opacity']),_0x360d49['spacing']!==void(0x6*-0x40a+-0x1*0x1659+0x2e95)&&(_0x2afd73['spacing']=_0x360d49['spacing']),_0x360d49['fontSize']!==void(0xb64+-0x1*0x5bc+-0x4*0x16a)&&(_0x2afd73['fontSize']=_0x360d49['fontSize'],_0x360d49['lineHeight']||(_0x2afd73['lineHeight']=_0x360d49['fontSize'])),_0x360d49['lineHeight']!==void(0x1ac3+0x159c+-0x305f)&&(_0x2afd73['lineHeight']=_0x360d49['lineHeight']),_0x360d49['maxLines']!==void(0xaeb+-0x523+-0x5c8)&&(_0x2afd73['maxLines']=_0x360d49['maxLines']),_0x360d49['wrapLines']!==void(0x20e*0x7+-0x1986+0xb24*0x1)&&(_0x2afd73['wrapLines']=_0x360d49['wrapLines']),_0x360d49['minFontSiz'+'e']!==void(-0x1*-0x1feb+-0x1e2e+-0x5*0x59)&&(_0x2afd73['minFontSiz'+'e']=_0x360d49['minFontSiz'+'e']),_0x360d49['maxFontSiz'+'e']!==void(0x27*0xc1+0x190d*0x1+-0x3674)&&(_0x2afd73['maxFontSiz'+'e']=_0x360d49['maxFontSiz'+'e']),_0x360d49['autoFitWid'+'th']&&(_0x2afd73['autoFitWid'+'th']=_0x360d49['autoFitWid'+'th']),_0x360d49['autoFitHei'+'ght']&&(_0x2afd73['autoFitHei'+'ght']=_0x360d49['autoFitHei'+'ght']),_0x360d49['fontAsset']!==void(0x642+-0x3*-0x11b+0x3*-0x331)&&(_0x2afd73['fontAsset']=_0x360d49['fontAsset']),_0x360d49['font']!==void(-0x4*0x807+-0x45f*0x3+0x2d39)&&(_0x2afd73['font']=_0x360d49['font']),_0x360d49['alignment']!==void(0x7be*0x5+0x8*0x3e2+-0x4e*0xe5)&&(_0x2afd73['alignment']=_0x360d49['alignment']),_0x360d49['outlineCol'+'or']!==void(-0x2ce*0x1+0x2f*0x83+-0x153f)&&(_0x2afd73['outlineCol'+'or']=_0x360d49['outlineCol'+'or']),_0x360d49['outlineThi'+'ckness']!==void(-0x1*0xb43+-0x30c+0x63*0x25)&&(_0x2afd73['outlineThi'+'ckness']=_0x360d49['outlineThi'+'ckness']),_0x360d49['shadowColo'+'r']!==void(0x5*0x329+-0x23ed+0x7*0x2e0)&&(_0x2afd73['shadowColo'+'r']=_0x360d49['shadowColo'+'r']),_0x360d49['shadowOffs'+'et']!==void(0x1*-0x18fa+-0x1ef7+-0x37f1*-0x1)&&(_0x2afd73['shadowOffs'+'et']=_0x360d49['shadowOffs'+'et']),_0x360d49['enableMark'+'up']!==void(0x2200+0x1c24*-0x1+-0x5dc)&&(_0x2afd73['enableMark'+'up']=_0x360d49['enableMark'+'up']));const _0x1695a6=_0x2afd73['_parseUpTo'+'Screen']();_0x1695a6['screen']&&_0x2afd73['_updateScr'+'een'](_0x1695a6['screen']),super['initialize'+'ComponentD'+'ata'](_0x2afd73,_0x360d49,_0x349814),_0x2afd73['_beingInit'+'ialized']=!(0x23a3+-0x20f3+0xe5*-0x3),_0x2afd73['type']===Cu&&_0x2afd73['_image']['_meshDirty']&&_0x2afd73['_image']['_updateMes'+'h'](_0x2afd73['_image']['mesh']);}['onAddCompo'+'nent'](_0x3ba844,_0x4c0d02){_0x3ba844['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x24d838,_0x5abc93){_0x5abc93['onRemove']();}['cloneCompo'+'nent'](_0x4172,_0x2fac7f){const _0x5c2184=_0x4172['element'],_0x32285c={'enabled':_0x5c2184['enabled'],'width':_0x5c2184['width'],'height':_0x5c2184['height'],'anchor':_0x5c2184['anchor']['clone'](),'pivot':_0x5c2184['pivot']['clone'](),'margin':_0x5c2184['margin']['clone'](),'alignment':_0x5c2184['alignment']&&_0x5c2184['alignment']['clone']()||_0x5c2184['alignment'],'autoWidth':_0x5c2184['autoWidth'],'autoHeight':_0x5c2184['autoHeight'],'type':_0x5c2184['type'],'rect':_0x5c2184['rect']&&_0x5c2184['rect']['clone']()||_0x5c2184['rect'],'rtlReorder':_0x5c2184['rtlReorder'],'unicodeConverter':_0x5c2184['unicodeCon'+'verter'],'materialAsset':_0x5c2184['materialAs'+'set'],'material':_0x5c2184['material'],'color':_0x5c2184['color']&&_0x5c2184['color']['clone']()||_0x5c2184['color'],'opacity':_0x5c2184['opacity'],'textureAsset':_0x5c2184['textureAss'+'et'],'texture':_0x5c2184['texture'],'spriteAsset':_0x5c2184['spriteAsse'+'t'],'sprite':_0x5c2184['sprite'],'spriteFrame':_0x5c2184['spriteFram'+'e'],'pixelsPerUnit':_0x5c2184['pixelsPerU'+'nit'],'spacing':_0x5c2184['spacing'],'lineHeight':_0x5c2184['lineHeight'],'wrapLines':_0x5c2184['wrapLines'],'layers':_0x5c2184['layers'],'fontSize':_0x5c2184['fontSize'],'minFontSize':_0x5c2184['minFontSiz'+'e'],'maxFontSize':_0x5c2184['maxFontSiz'+'e'],'autoFitWidth':_0x5c2184['autoFitWid'+'th'],'autoFitHeight':_0x5c2184['autoFitHei'+'ght'],'maxLines':_0x5c2184['maxLines'],'fontAsset':_0x5c2184['fontAsset'],'font':_0x5c2184['font'],'useInput':_0x5c2184['useInput'],'fitMode':_0x5c2184['fitMode'],'batchGroupId':_0x5c2184['batchGroup'+'Id'],'mask':_0x5c2184['mask'],'outlineColor':_0x5c2184['outlineCol'+'or']&&_0x5c2184['outlineCol'+'or']['clone']()||_0x5c2184['outlineCol'+'or'],'outlineThickness':_0x5c2184['outlineThi'+'ckness'],'shadowColor':_0x5c2184['shadowColo'+'r']&&_0x5c2184['shadowColo'+'r']['clone']()||_0x5c2184['shadowColo'+'r'],'shadowOffset':_0x5c2184['shadowOffs'+'et']&&_0x5c2184['shadowOffs'+'et']['clone']()||_0x5c2184['shadowOffs'+'et'],'enableMarkup':_0x5c2184['enableMark'+'up']};return _0x5c2184['key']!==void(-0x249d*0x1+0x195d+0xb40)&&_0x5c2184['key']!==null?_0x32285c['key']=_0x5c2184['key']:_0x32285c['text']=_0x5c2184['text'],this['addCompone'+'nt'](_0x2fac7f,_0x32285c);}['getTextEle'+'mentMateri'+'al'](_0x5a2cf4,_0x3f0344,_0x16ca70){const _0x329f80=(_0x5a2cf4&&0x35*-0x9e+-0x13*-0x47+0x1b72)|(_0x3f0344&&-0x246d+0x6*0x17+0x23e5)|(_0x16ca70&&0xb5*0x29+0x7c3*-0x2+-0xd73);let _0x4dc17a=this['_defaultTe'+'xtMaterial'+'s'][_0x329f80];if(_0x4dc17a)return _0x4dc17a;let _0x54ddfe='TextMateri'+'al';return _0x4dc17a=new Ut(),_0x3f0344?(_0x4dc17a['msdfMap']=this['_defaultTe'+'xture'],_0x4dc17a['msdfTextAt'+'tribute']=_0x16ca70,_0x4dc17a['emissive']['set'](-0xea3+0x2*0xd77+0x1*-0xc4a,-0x1cac+0x1*0x1ce1+-0x34,0x48a+-0x1c46+0x3b*0x67)):(_0x54ddfe='Bitmap'+_0x54ddfe,_0x4dc17a['emissive']['set'](0x1df*0x2+-0x25db*0x1+0x221e,-0x19*0xa7+0x2069+-0x1019,0x4*0x82f+0x34a*-0x6+-0x3*0x455),_0x4dc17a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x4dc17a['opacityMap']=this['_defaultTe'+'xture'],_0x4dc17a['opacityMap'+'Channel']='a'),_0x5a2cf4&&(_0x54ddfe='ScreenSpac'+'e'+_0x54ddfe,_0x4dc17a['depthTest']=!(0x316+0x1a53*0x1+-0x1d68)),_0x4dc17a['name']='default'+_0x54ddfe,_0x4dc17a['useLightin'+'g']=!(-0x18*0xc9+0x5*-0x704+0x35ed),_0x4dc17a['useTonemap']=!(0x1f1*-0x14+-0x18d9+0x3fae),_0x4dc17a['useFog']=!(0x6*0xa+-0x5*0x317+0x1e7*0x8),_0x4dc17a['useSkybox']=!(-0x3a6*-0x7+0x7*0x1ca+-0x1*0x260f),_0x4dc17a['diffuse']['set'](-0x803+0x6f9+0x10a,-0x2227*-0x1+0x2310+-0x4537,0x2e*0x47+0x95+-0xd57),_0x4dc17a['opacity']=-0xf4+0x1af5+-0x1a01+0.5,_0x4dc17a['blendType']=Gn,_0x4dc17a['depthWrite']=!(0x67*-0x47+-0xae1+0x1*0x2773),_0x4dc17a['emissiveVe'+'rtexColor']=!(0x1*0x1c09+0x14ef*0x1+-0x30f8),_0x4dc17a['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x329f80]=_0x4dc17a,_0x4dc17a;}['_createBas'+'eImageMate'+'rial'](){const _0x462e14=new Ut();return _0x462e14['diffuse']['set'](-0x12b9+-0x2*0xa6+0x1405,0x1e02+-0x22a1*-0x1+-0x40a3,0x709+-0x1e4d+0x1744),_0x462e14['emissive']['set'](-0x5*0x22f+-0x24b2+0x2f9e,-0xdcc+0x22a*-0x10+-0x31*-0xfd,-0x1*0x859+0x2063+-0x1809*0x1),_0x462e14['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x462e14['opacityMap']=this['_defaultTe'+'xture'],_0x462e14['opacityMap'+'Channel']='a',_0x462e14['useLightin'+'g']=!(0x23d2+0x111b*-0x2+-0x19b),_0x462e14['useTonemap']=!(0x147d+-0x19a3+0x1*0x527),_0x462e14['useFog']=!(0x5ab*-0x2+-0x14dc+0x2033*0x1),_0x462e14['useSkybox']=!(0xefc+-0x24a*0xb+-0x175*-0x7),_0x462e14['blendType']=Gn,_0x462e14['depthWrite']=!(0x955*-0x2+-0x801+0x1aac),_0x462e14;}['getImageEl'+'ementMater'+'ial'](_0x45993b,_0x433eff,_0x3bd091,_0x4ff95e){return _0x45993b?_0x433eff?_0x3bd091?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1e95+-0x2335+0x41cb*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x28c*-0x4+-0x259f+-0x1b7*-0x10,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0xe51+0xb*-0x359+0x3325*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x1f73+0x4*-0x4af+-0xcb6),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x2ab*-0xc+-0x57b+0x2580),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x4cb*0x5+-0x206c+0x876),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x4ff95e?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x1756+-0x243*0x1+0x199a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x14*0x34+0x1eff+-0x12*0x17f,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x79f*0x1+-0x2001+0x1863),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x892*-0x4+0xc01+-0x2e48),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x23ce+0x446+0xcf*0x27),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x1b4e+0x21ca*0x1+-0x1*0x67b),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x20b7+-0x1a7f+-0x637),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1a3f+-0x6c*0x35+-0x3e2,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x135a+-0x1d3a+0x9e1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x3cf+0xf1*-0x23+0x24c3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x1eba+0xd19*-0x1+0x2bd4),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x496+-0x18f4+0x1d8b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x3bd091?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x7*0x1+-0x111d+0x1125),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x4ff95e?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x3b7*-0x4+-0x1*-0x1bc9+-0x2aa4),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x3*0xa33+-0x106f*-0x1+0xe2b),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x433eff?_0x3bd091?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x2*0xf32+-0x6da+0x253f,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x25bf+0xd39+-0x15*-0x12b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x1545+-0x6ef+-0xe55),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1adb+-0x1ef5+0x41b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x9*-0x3a1+0x25b3+-0x53*0xd9),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x4ff95e?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x1*-0x180e+-0xd4+0x18e3,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x232e+0x63f+0x39e*0x8),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x1*0x1765+-0x1*0xf55+0x1*-0x80f),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x414+0x3ee*-0x8+0x2385),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x18ba*0x1+0x20bf+-0x3978),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x665*0x3+-0x1e96+0x31c6,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x1*0x24a5+-0x7b+-0x2429),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x1*0x1b86+-0xfd4*0x1+0x2b5b),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x23ef*-0x1+0xbae+-0x2f9c),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x752*-0x4+0x5c7+0x1187*-0x2),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x3bd091?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x4ff95e?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x24eb64){this['_unicodeCo'+'nverter']=_0x24eb64;}['registerRt'+'lReorder'](_0x117aeb){this['_rtlReorde'+'r']=_0x117aeb;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x33b530,_0x304fd6){super(_0x33b530,_0x304fd6),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x45d*0x4+-0x1003*-0x2+-0x317a),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0x2ef*0x1+-0x22+0x1*-0x2cd,0x16f7+-0x142f+-0x2c8),this['_linearSpr'+'ingX']=!(0x7*0x589+-0xc1c+-0x1aa2),this['_linearSti'+'ffnessX']=0x1*0x1859+-0x26fb+0xea2,this['_linearDam'+'pingX']=-0x34a+0x2*-0x8b+0x461,this['_linearEqu'+'ilibriumX']=-0x171d+-0x1e78+-0x2b*-0x13f,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0xb60+0x1b86+-0x2b1*0x6,0x1c74+-0xa40+-0x1234),this['_linearSpr'+'ingY']=!(0x1*0x6d1+-0x5*-0x72b+0x2aa7*-0x1),this['_linearSti'+'ffnessY']=-0x255e+-0x5*0x1c1+0x17d*0x1f,this['_linearDam'+'pingY']=-0x604+-0xcf3+-0x8*-0x25f,this['_linearEqu'+'ilibriumY']=0xb45*-0x1+0x655*0x5+-0x15c*0xf,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x2*-0x9f7+-0x61f*-0x1+-0x1a0d*0x1,-0x2*0x1187+-0x1a3a+-0x2*-0x1ea4),this['_linearSpr'+'ingZ']=!(-0x1*0x1066+-0x1*0x868+0x18cf),this['_linearSti'+'ffnessZ']=0x9*0x38d+-0x35*0x8d+0x6*-0x76,this['_linearDam'+'pingZ']=-0x1*-0x9f5+0x7aa*-0x5+0x1*0x1c5e,this['_linearEqu'+'ilibriumZ']=0x1d6e*-0x1+0x709*-0x1+0x2477*0x1,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0x1fcd+0xb1f+0x2*0xa57,0x3ea*-0x1+0xf5d+-0xb73),this['_angularSp'+'ringX']=!(-0x3*-0x66b+0x249b+-0x37db*0x1),this['_angularSt'+'iffnessX']=-0x33*-0xbc+-0x1*0xfe9+0x5*-0x44f,this['_angularDa'+'mpingX']=0x3*-0x1c9+-0xf95*-0x1+-0xa39,this['_angularEq'+'uilibriumX']=0x11*0x12f+-0x28*-0xbf+0x1*-0x31f7,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x1114+-0x11*0x12f+0x2533*0x1,-0x1*0x15b3+0x1*-0x557+0x1b0a),this['_angularSp'+'ringY']=!(0x1*-0x7e3+0xc*-0x7+-0x1*-0x838),this['_angularSt'+'iffnessY']=0x17df*-0x1+-0x7*-0x79+-0x70*-0x2f,this['_angularDa'+'mpingY']=-0x3cb*0x7+-0x8e*0x2b+0x64d*0x8,this['_angularEq'+'uilibriumY']=-0x1986+-0x243*-0x1+-0x18d*-0xf,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x205*-0x5+-0x226*-0x6+-0x16fd,0xd6*0x29+-0x16d*-0xa+0x4*-0xc22),this['_angularSp'+'ringZ']=!(0x8f5+-0x311+0xb*-0x89),this['_angularEq'+'uilibriumZ']=0x7b8+0x716+-0xece,this['_angularDa'+'mpingZ']=0x20ac*0x1+0x847+-0x28f2,this['_angularSt'+'iffnessZ']=-0x509+-0x24fd+0x1e9*0x16,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x27070e){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x27070e,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x291862){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x291862,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x16df86){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x16df86&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x16df86),this['_breakForc'+'e']=_0x16df86);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x8b241e){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x8b241e,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x352055){this['_angularLi'+'mitsX']['equals'](_0x352055)||(this['_angularLi'+'mitsX']['copy'](_0x352055),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x5b5e62){this['_angularMo'+'tionX']!==_0x5b5e62&&(this['_angularMo'+'tionX']=_0x5b5e62,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x584cd3){this['_angularLi'+'mitsY']['equals'](_0x584cd3)||(this['_angularLi'+'mitsY']['copy'](_0x584cd3),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x5e6a8a){this['_angularMo'+'tionY']!==_0x5e6a8a&&(this['_angularMo'+'tionY']=_0x5e6a8a,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x543069){this['_angularLi'+'mitsZ']['equals'](_0x543069)||(this['_angularLi'+'mitsZ']['copy'](_0x543069),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x393084){this['_angularMo'+'tionZ']!==_0x393084&&(this['_angularMo'+'tionZ']=_0x393084,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x491027){this['_linearLim'+'itsX']['equals'](_0x491027)||(this['_linearLim'+'itsX']['copy'](_0x491027),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x597fbd){this['_linearMot'+'ionX']!==_0x597fbd&&(this['_linearMot'+'ionX']=_0x597fbd,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x22b641){this['_linearLim'+'itsY']['equals'](_0x22b641)||(this['_linearLim'+'itsY']['copy'](_0x22b641),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x511e69){this['_linearMot'+'ionY']!==_0x511e69&&(this['_linearMot'+'ionY']=_0x511e69,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x20409d){this['_linearLim'+'itsZ']['equals'](_0x20409d)||(this['_linearLim'+'itsZ']['copy'](_0x20409d),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x36c44b){this['_linearMot'+'ionZ']!==_0x36c44b&&(this['_linearMot'+'ionZ']=_0x36c44b,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x201899,_0x42bade){const _0x11f9df=_0x201899['getTransla'+'tion'](),_0x32efbb=new le();_0x32efbb['setFromMat'+'4'](_0x201899);const _0x5116b4=new Ammo['btVector3'](_0x11f9df['x'],_0x11f9df['y'],_0x11f9df['z']),_0x2fb4da=new Ammo['btQuaterni'+'on'](_0x32efbb['x'],_0x32efbb['y'],_0x32efbb['z'],_0x32efbb['w']);_0x42bade['setOrigin'](_0x5116b4),_0x42bade['setRotatio'+'n'](_0x2fb4da),Ammo['destroy'](_0x5116b4),Ammo['destroy'](_0x2fb4da);}['_updateAng'+'ularLimits'](){const _0x7b9fa1=this['_constrain'+'t'];if(_0x7b9fa1){let _0x323d47,_0x790958,_0x33f306,_0x11520c,_0x5c0ef4,_0x55ca7e;this['_angularMo'+'tionX']===qa?(_0x323d47=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x11520c=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x323d47=0xa1d+0x1876*-0x1+0x14e*0xb,_0x11520c=0x1ffc+-0x295*-0x3+-0x27bb):_0x323d47=_0x11520c=0x26e6+-0x2122+0x6*-0xf6,this['_angularMo'+'tionY']===qa?(_0x790958=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x5c0ef4=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x790958=0x1bbb+0x23e5+0x3f9f*-0x1,_0x5c0ef4=0xe18+0x1*-0x1f7b+0x1163*0x1):_0x790958=_0x5c0ef4=0x1856+-0x2*0x11db+0xb60,this['_angularMo'+'tionZ']===qa?(_0x33f306=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x55ca7e=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x33f306=0x869*0x2+-0x16ac+0x5db,_0x55ca7e=0x1*-0x25be+0x1c15+0x9a9):_0x33f306=_0x55ca7e=-0xf*0x275+0x8*0x6f+0x2163;const _0x470a4b=new Ammo['btVector3'](_0x323d47,_0x790958,_0x33f306);_0x7b9fa1['setAngular'+'LowerLimit'](_0x470a4b),_0x470a4b['setValue'](_0x11520c,_0x5c0ef4,_0x55ca7e),_0x7b9fa1['setAngular'+'UpperLimit'](_0x470a4b),Ammo['destroy'](_0x470a4b);}}['_updateLin'+'earLimits'](){const _0x3309b0=this['_constrain'+'t'];if(_0x3309b0){let _0x5175bb,_0x440e04,_0x16f42d,_0x1784d8,_0x41ed6b,_0x1040f7;this['_linearMot'+'ionX']===qa?(_0x5175bb=this['_linearLim'+'itsX']['x'],_0x1784d8=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x5175bb=0x25c7+0x5cc+-0x2b92,_0x1784d8=0x1*-0x1681+0x111a+0x567):_0x5175bb=_0x1784d8=0xc40*0x1+-0x2c8+0x6*-0x194,this['_linearMot'+'ionY']===qa?(_0x440e04=this['_linearLim'+'itsY']['x'],_0x41ed6b=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x440e04=0x254e+-0x2666+0x119,_0x41ed6b=-0x77f+0x1*0x235c+0x1*-0x1bdd):_0x440e04=_0x41ed6b=0xe76+-0xb*-0x1eb+0x1*-0x238f,this['_linearMot'+'ionZ']===qa?(_0x16f42d=this['_linearLim'+'itsZ']['x'],_0x1040f7=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x16f42d=-0x1*0xfaf+-0x2231+0x31e1,_0x1040f7=0x3*-0xa85+-0x11eb*-0x2+-0x447):_0x16f42d=_0x1040f7=-0x1642+0x1cab+-0x1*0x669;const _0x122498=new Ammo['btVector3'](_0x5175bb,_0x440e04,_0x16f42d);_0x3309b0['setLinearL'+'owerLimit'](_0x122498),_0x122498['setValue'](_0x1784d8,_0x41ed6b,_0x1040f7),_0x3309b0['setLinearU'+'pperLimit'](_0x122498),Ammo['destroy'](_0x122498);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x349a27=new te(),_0x366679=this['_entityA']['rigidbody']['body'];_0x366679['activate']();const _0x3ace0e=this['entity']['getWorldTr'+'ansform'](),_0xcd464c=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x349a27['mul2'](_0xcd464c,_0x3ace0e);const _0x48c8b7=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x349a27,_0x48c8b7),this['_entityB']&&this['_entityB']['rigidbody']){const _0x3f22ac=this['_entityB']['rigidbody']['body'];_0x3f22ac['activate']();const _0x47c1b7=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x349a27['mul2'](_0x47c1b7,_0x3ace0e);const _0x3fd653=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x349a27,_0x3fd653),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x366679,_0x3f22ac,_0x48c8b7,_0x3fd653,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3fd653);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x366679,_0x48c8b7,!this['_enableCol'+'lision']);Ammo['destroy'](_0x48c8b7);const _0x75a507=['X','Y','Z','X','Y','Z'];for(let _0x9eff7d=-0x1*0xdfb+-0x6*0x5d1+0x30e1;_0x9eff7d<-0xb46+0x5b3+0x599;_0x9eff7d++){const _0x439745=_0x9eff7d<-0x304*-0x4+0x1*-0x128f+0x682?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x9eff7d,this[_0x439745+'Spring'+_0x75a507[_0x9eff7d]]),this['_constrain'+'t']['setDamping'](_0x9eff7d,this[_0x439745+'Damping'+_0x75a507[_0x9eff7d]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x9eff7d,this[_0x439745+('Equilibriu'+'m')+_0x75a507[_0x9eff7d]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x9eff7d,this[_0x439745+'Stiffness'+_0x75a507[_0x9eff7d]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x2e1b1a){for(const _0x3161a7 of RR)_0x2e1b1a['hasOwnProp'+'erty'](_0x3161a7)&&(_0x2e1b1a[_0x3161a7]instanceof J?this['_'+_0x3161a7]['copy'](_0x2e1b1a[_0x3161a7]):this['_'+_0x3161a7]=_0x2e1b1a[_0x3161a7]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x2a23de,_0x5b88fc,_0x549dad){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x531de8=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x14e1b0=>{['X','Y','Z']['forEach'](_0x7eb496=>{const _0x17e9e9=_0x531de8+_0x14e1b0+_0x7eb496,_0x49bce5='_'+_0x17e9e9;let _0x5c28e7=_0x531de8==='linear'?-0x1433+0x22d5+-0xea2:0x89c+0x1*-0x443+-0x456;_0x7eb496==='Y'&&(_0x5c28e7+=0x1*-0x684+0x5bf+0xc6),_0x7eb496==='Z'&&(_0x5c28e7+=0x4*0x164+0x24a+0x3ec*-0x2),Object['defineProp'+'erty'](ym['prototype'],_0x17e9e9,{'get':function(){return this[_0x49bce5];},'set':function(_0xc3f630){this[_0x49bce5]!==_0xc3f630&&(this[_0x49bce5]=_0xc3f630,this['_constrain'+'t'][OR[_0x14e1b0]](_0x5c28e7,_0xc3f630));}});});});});class FR{constructor(){this['enabled']=!(-0x123a+-0x21*-0xbf+-0x1*0x665);}}const Fu=['enabled'];class NR extends ct{constructor(_0x358e87){super(_0x358e87),this['id']='joint',this['app']=_0x358e87,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x4b08d5,_0x24c0b6,_0x3e1716){_0x4b08d5['initFromDa'+'ta'](_0x24c0b6),super['initialize'+'ComponentD'+'ata'](_0x4b08d5,_0x24c0b6,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x83*-0x5+-0xe21*0x2+0x1ed1),h(this,'_minHeight',-0x6c5*-0x5+0x10*-0xca+-0x1539*0x1),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x5*-0x337+0x2033*0x1+-0x3046),h(this,'_fitHeight'+'Proportion',0x14d*0x6+0x3e1+-0xbaf),h(this,'_excludeFr'+'omLayout',!(0x1625+-0x1*0x2119+0x5*0x231));}set['minWidth'](_0x2fefb0){_0x2fefb0!==this['_minWidth']&&(this['_minWidth']=_0x2fefb0,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x4e2e68){_0x4e2e68!==this['_minHeight']&&(this['_minHeight']=_0x4e2e68,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x4bb7e3){_0x4bb7e3!==this['_maxWidth']&&(this['_maxWidth']=_0x4bb7e3,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x2aa02b){_0x2aa02b!==this['_maxHeight']&&(this['_maxHeight']=_0x2aa02b,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x4827b8){_0x4827b8!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x4827b8,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x878e71){_0x878e71!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x878e71,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x1ad318){_0x1ad318!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x1ad318,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x1289+-0x19bd+0x6*0x761);}}const e0=['enabled'];class UR extends ct{constructor(_0x314019){super(_0x314019),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x432d10,_0xba2606,_0xc4ea62){_0xba2606['enabled']!==void(0x1e56+0x468*-0x6+0x1f3*-0x2)&&(_0x432d10['enabled']=_0xba2606['enabled']),_0xba2606['minWidth']!==void(0x1567*0x1+-0x2f*-0x6+-0x1681)&&(_0x432d10['minWidth']=_0xba2606['minWidth']),_0xba2606['minHeight']!==void(0x5*0x318+0xb80*0x1+-0x1af8)&&(_0x432d10['minHeight']=_0xba2606['minHeight']),_0xba2606['maxWidth']!==void(0x6ad+-0x1637+0xf8a)&&(_0x432d10['maxWidth']=_0xba2606['maxWidth']),_0xba2606['maxHeight']!==void(-0x26e*-0xe+0x2555+-0x5*0xe45)&&(_0x432d10['maxHeight']=_0xba2606['maxHeight']),_0xba2606['fitWidthPr'+'oportion']!==void(0x591+-0xe20+-0x7*-0x139)&&(_0x432d10['fitWidthPr'+'oportion']=_0xba2606['fitWidthPr'+'oportion']),_0xba2606['fitHeightP'+'roportion']!==void(-0x15a*0x16+-0x1e37+0x3bf3)&&(_0x432d10['fitHeightP'+'roportion']=_0xba2606['fitHeightP'+'roportion']),_0xba2606['excludeFro'+'mLayout']!==void(0x2*0xc97+-0x2421+0xaf3)&&(_0x432d10['excludeFro'+'mLayout']=_0xba2606['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x432d10,_0xba2606,_0xc4ea62);}['cloneCompo'+'nent'](_0x131483,_0x19b945){const _0x40ffec=_0x131483['layoutchil'+'d'];return this['addCompone'+'nt'](_0x19b945,{'enabled':_0x40ffec['enabled'],'minWidth':_0x40ffec['minWidth'],'minHeight':_0x40ffec['minHeight'],'maxWidth':_0x40ffec['maxWidth'],'maxHeight':_0x40ffec['maxHeight'],'fitWidthProportion':_0x40ffec['fitWidthPr'+'oportion'],'fitHeightProportion':_0x40ffec['fitHeightP'+'roportion'],'excludeFromLayout':_0x40ffec['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x281*0x9+-0x649*0x1+-0x1040,BR=-0x57e*-0x1+0xa91+0x807*-0x2,Qg=0x1a2+-0x101*0x4+0x264,zR=-0x5*0x757+-0x116b+0x3621,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0xb0490e){let _0x4cd239;const _0x3886c6=Oh[_0xb0490e],_0x3873b5=Oh[vm[_0xb0490e]];function _0x32547c(_0x46653b,_0x119b81){return-_0x119b81[_0x3886c6['size']]*_0x46653b['pivot'][_0x3886c6['axis']];}function _0x2e2163(_0x1b562b,_0x3ca3de){return-_0x3ca3de[_0x3873b5['size']]*_0x1b562b['pivot'][_0x3873b5['axis']];}function _0x4be1b3(_0x1c107f,_0x4c5eec){return _0x4c5eec[_0x3886c6['size']]*(-0x1cdc+-0x31a*-0x3+0x138f-_0x1c107f['pivot'][_0x3886c6['axis']]);}function _0x1c692(_0x4749c6,_0xd35dc3){_0x4749c6=_0x4749c6['filter'](_0x2012aa),_0x4cd239=_0xd35dc3,ls['x']=_0x4cd239['containerS'+'ize']['x']-_0x4cd239['padding']['x']-_0x4cd239['padding']['z'],ls['y']=_0x4cd239['containerS'+'ize']['y']-_0x4cd239['padding']['y']-_0x4cd239['padding']['w'],_0x453323(_0x4749c6);const _0x4c2a73=_0x12d4db(_0x2f1e5a(_0x4749c6)),_0xd82beb=_0x5cdc0b(_0x4c2a73,_0x42640b(_0x4c2a73)),_0x52ea8a=_0xb4f721(_0x4c2a73,_0xd82beb);return _0x5c5a60(_0x4c2a73,_0xd82beb,_0x52ea8a),_0x481204(_0x4c2a73,_0xd82beb,_0x52ea8a),_0x192330(_0x4c2a73);}function _0x2012aa(_0xe37d8e){const _0x51aa68=_0xe37d8e['entity']['layoutchil'+'d'];return!_0x51aa68||!_0x51aa68['enabled']||!_0x51aa68['excludeFro'+'mLayout'];}function _0x453323(_0x465182){for(let _0x4ddf88=-0x2fc+0xfe4+-0xce8;_0x4ddf88<_0x465182['length'];++_0x4ddf88){const _0x316fe4=_0x465182[_0x4ddf88],_0x478fc8=_0x316fe4['anchor'];(_0x478fc8['x']!==-0x292*0x5+0x11c4+-0x4ea||_0x478fc8['y']!==0xd0a+0x1336*-0x1+0x4*0x18b||_0x478fc8['z']!==0x1b9a+-0x1742+-0x8*0x8b||_0x478fc8['w']!==0x25*0x2+-0x17*0x19b+0x1*0x24a3)&&(_0x316fe4['anchor']=re['ZERO']);}}function _0x2f1e5a(_0x223f76){if(!_0x4cd239['wrap'])return[_0x223f76];const _0x21fb76=[[]],_0x1076f7=_0x301eaf(_0x223f76);let _0x3417e2=-0x3e*-0xd+0x2387+-0x26ad;const _0x4d7c80=_0x4cd239[_0x3886c6['fitting']]===Qg;for(let _0x3d08c9=-0x82e+0x41*0x21+-0x3*0x11;_0x3d08c9<_0x223f76['length'];++_0x3d08c9){_0x21fb76[_0x21fb76['length']-(-0x1*-0xb92+0x1657+-0x21e8)]['length']>0x14d0+-0x1f1f+-0x7*-0x179&&(_0x3417e2+=_0x4cd239['spacing'][_0x3886c6['axis']]);const _0x4bc8e8=_0x1076f7[_0x3d08c9][_0x3886c6['size']];_0x3417e2+=_0x4bc8e8,!_0x4d7c80&&_0x3417e2>ls[_0x3886c6['axis']]&&_0x21fb76[_0x21fb76['length']-(-0x15b*-0xd+0xdcc+-0xfb5*0x2)]['length']!==0x6*0x179+-0xc7+-0x80f&&(_0x3417e2=_0x4bc8e8,_0x21fb76['push']([])),_0x21fb76[_0x21fb76['length']-(0x7ee*-0x3+-0x551*-0x7+-0xd6c)]['push'](_0x223f76[_0x3d08c9]),_0x4d7c80&&_0x3417e2>ls[_0x3886c6['axis']]&&_0x3d08c9!==_0x223f76['length']-(-0x5*-0x1fd+-0x1dbd+0x13cd)&&(_0x3417e2=0x26cc+-0x8f9*-0x4+0x1de*-0x28,_0x21fb76['push']([]));}return _0x21fb76;}function _0x12d4db(_0x4f5383){const _0x4b9e13=_0x4cd239['orientatio'+'n']===Ce&&_0x4cd239['reverseX']||_0x4cd239['orientatio'+'n']===je&&_0x4cd239['reverseY'],_0x3e87=_0x4cd239['orientatio'+'n']===Ce&&_0x4cd239['reverseY']||_0x4cd239['orientatio'+'n']===je&&_0x4cd239['reverseX'];if(_0x4b9e13){for(let _0x343d21=-0xbbb+0x52e+0x68d;_0x343d21<_0x4f5383['length'];++_0x343d21)_0x4b9e13&&_0x4f5383[_0x343d21]['reverse']();}return _0x3e87&&_0x4f5383['reverse'](),_0x4f5383;}function _0x42640b(_0x45f84a){const _0x3c6009=[];for(let _0x2659c3=0x1*-0x9db+-0x1e7+0xbc2;_0x2659c3<_0x45f84a['length'];++_0x2659c3){const _0x3b727f=_0x45f84a[_0x2659c3],_0x18d508=_0x301eaf(_0x3b727f),_0x5ba2f0=_0x1e67a(_0x18d508,_0x3886c6),_0x3d0704=_0x481b61(_0x4cd239[_0x3886c6['fitting']],_0x5ba2f0,ls[_0x3886c6['axis']]);_0x3d0704===os['APPLY_STRE'+'TCHING']?_0x52f225(_0x18d508,_0x5ba2f0,_0x3886c6):_0x3d0704===os['APPLY_SHRI'+'NKING']&&_0x5caa72(_0x18d508,_0x5ba2f0,_0x3886c6),_0x3c6009['push'](_0x18d508);}return _0x3c6009;}function _0x5cdc0b(_0x3f8bc4,_0x3b3928){const _0x22aeb4=[],_0x23c0a1=[];for(let _0x1eab36=-0xf59+0x5b*0xa+-0xbcb*-0x1;_0x1eab36<_0x3f8bc4['length'];++_0x1eab36){const _0x454483=_0x3f8bc4[_0x1eab36];_0x454483['largestEle'+'ment']=null,_0x454483['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x312b65=0x36*-0x4e+-0x2b5+-0x3d5*-0x5;_0x312b65<_0x454483['length'];++_0x312b65){const _0x39a38f=_0x3b3928[_0x1eab36][_0x312b65];_0x39a38f[_0x3873b5['size']]>_0x454483['largestSiz'+'e'][_0x3873b5['size']]&&(_0x454483['largestEle'+'ment']=_0x454483[_0x312b65],_0x454483['largestSiz'+'e']=_0x39a38f);}_0x22aeb4['push'](_0x454483['largestEle'+'ment']),_0x23c0a1['push'](_0x454483['largestSiz'+'e']);}const _0x55652c=_0x1e67a(_0x23c0a1,_0x3873b5),_0x27b268=_0x481b61(_0x4cd239[_0x3873b5['fitting']],_0x55652c,ls[_0x3873b5['axis']]);_0x27b268===os['APPLY_STRE'+'TCHING']?_0x52f225(_0x23c0a1,_0x55652c,_0x3873b5):_0x27b268===os['APPLY_SHRI'+'NKING']&&_0x5caa72(_0x23c0a1,_0x55652c,_0x3873b5);for(let _0x210ef9=-0x1f76+0x16*-0x42+0x2522;_0x210ef9<_0x3f8bc4['length'];++_0x210ef9){const _0xc3e0b1=_0x3f8bc4[_0x210ef9];for(let _0x572ba5=0x1*-0x26e9+0x2*0x7c4+0x85*0x2d;_0x572ba5<_0xc3e0b1['length'];++_0x572ba5){const _0x54633b=_0x3b3928[_0x210ef9][_0x572ba5],_0x4d6dfa=_0x54633b[_0x3873b5['size']],_0x16c2c4=_0x3f8bc4['length']===-0x1*0xce5+-0xf7c+0x1c62?ls[_0x3873b5['axis']]:_0xc3e0b1['largestSiz'+'e'][_0x3873b5['size']],_0x2c3159=_0x481b61(_0x4cd239[_0x3873b5['fitting']],_0x4d6dfa,_0x16c2c4);_0x2c3159===os['APPLY_STRE'+'TCHING']?_0x54633b[_0x3873b5['size']]=Math['min'](_0x16c2c4,_0x54633b[_0x3873b5['maxSize']]):_0x2c3159===os['APPLY_SHRI'+'NKING']&&(_0x54633b[_0x3873b5['size']]=Math['max'](_0x16c2c4,_0x54633b[_0x3873b5['minSize']]));}}return _0x3b3928;}function _0x481b61(_0x5c65ec,_0x74ea61,_0x43bd1e){switch(_0x5c65ec){case Nu:return os['NONE'];case BR:return _0x74ea61<_0x43bd1e?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x74ea61>=_0x43bd1e?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x74ea61<_0x43bd1e?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x5c65ec);}}function _0x1e67a(_0x247c62,_0x70d6){const _0x2dfb7d=_0x4d7539(_0x247c62,_0x70d6['size']),_0xc62b1=(_0x247c62['length']-(0x5*-0x44b+0x179b*0x1+-0x223))*_0x4cd239['spacing'][_0x70d6['axis']];return _0x2dfb7d+_0xc62b1;}function _0x52f225(_0x4fc477,_0x476d21,_0x4e3d50){const _0x311782=_0x1db191(_0x4fc477,_0x4e3d50['maxSize']),_0x44c226=_0x1b1f19(_0x4fc477,_0x4e3d50['fittingPro'+'portion']),_0x6b2b50=_0x392b2b(_0x44c226,_0x311782);let _0x3d0f2f=ls[_0x4e3d50['axis']]-_0x476d21;for(let _0x46107d=-0x2dd+-0x16c6*-0x1+-0x13e9;_0x46107d<_0x4fc477['length'];++_0x46107d){const _0x369b84=_0x311782[_0x46107d],_0x42a0de=_0x4e9c9d(_0x369b84,_0x3d0f2f,_0x44c226,_0x6b2b50),_0x56d3fb=_0x4fc477[_0x369b84][_0x4e3d50['size']]+_0x42a0de,_0x7dd5cc=_0x4fc477[_0x369b84][_0x4e3d50['maxSize']],_0x2cfef9=Math['min'](_0x56d3fb,_0x7dd5cc);_0x4fc477[_0x369b84][_0x4e3d50['size']]=_0x2cfef9;const _0x17eecc=Math['max'](_0x56d3fb-_0x2cfef9,0xec6+0x1301+-0x21c7),_0x19b23c=_0x42a0de-_0x17eecc;_0x3d0f2f-=_0x19b23c;}}function _0x5caa72(_0xc48c48,_0x4f3463,_0x4e0e02){const _0x24a168=_0x1db191(_0xc48c48,_0x4e0e02['minSize'],!(0x17ef*0x1+0x59d+-0x1d8c)),_0x5ac4fd=_0x1b1f19(_0xc48c48,_0x4e0e02['fittingPro'+'portion']),_0x38cf83=_0x32f2bd(_0x5ac4fd),_0xdbb09a=_0x392b2b(_0x38cf83,_0x24a168);let _0x343de8=_0x4f3463-ls[_0x4e0e02['axis']];for(let _0x1bc6d8=0x232f+0x2588+-0x4d9*0xf;_0x1bc6d8<_0xc48c48['length'];++_0x1bc6d8){const _0xce4636=_0x24a168[_0x1bc6d8],_0x4a949c=_0x4e9c9d(_0xce4636,_0x343de8,_0x38cf83,_0xdbb09a),_0x4c0a8a=_0xc48c48[_0xce4636][_0x4e0e02['size']]-_0x4a949c,_0x2cee2a=_0xc48c48[_0xce4636][_0x4e0e02['minSize']],_0x43b99f=Math['max'](_0x4c0a8a,_0x2cee2a);_0xc48c48[_0xce4636][_0x4e0e02['size']]=_0x43b99f;const _0xd87648=Math['max'](_0x43b99f-_0x4c0a8a,0x5*0x6bb+0x16ba*0x1+0x11b*-0x33),_0x1644ff=_0x4a949c-_0xd87648;_0x343de8-=_0x1644ff;}}function _0x4e9c9d(_0x5e7d4e,_0x582230,_0x1cbbcc,_0x25a5ef){const _0x262e05=_0x1cbbcc[_0x5e7d4e],_0x285fc5=_0x25a5ef[_0x5e7d4e];return Math['abs'](_0x262e05)<0x8*-0x176+0x5a7+-0x5*-0x135+0.00001&&Math['abs'](_0x285fc5)<0x1*-0x17a5+-0x1*-0x6ac+0x10f9+0.00001?_0x582230:_0x582230*_0x262e05/_0x285fc5;}function _0xb4f721(_0x5944c2,_0x5dddb5){const _0x1726de={};_0x1726de[_0x3886c6['axis']]=-0x30e+-0xd0b+-0x13d*-0xd,_0x1726de[_0x3873b5['axis']]=-0x1041+-0x1d98+0x2dd9,_0x5944c2[_0x3886c6['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x12600f=[];for(let _0x380699=0x17a3*-0x1+0x1*0x16e6+0xbd;_0x380699<_0x5944c2['length'];++_0x380699){const _0x1fca3a=_0x5944c2[_0x380699];if(_0x1fca3a['length']===-0x1fb7+-0x7*0x530+0x4407){_0x12600f['push']([]);continue;}const _0x1dcf3f=[],_0x21b549=_0x5dddb5[_0x380699];for(let _0x2e073e=0xdeb+0xb*-0xda+-0xe9*0x5;_0x2e073e<_0x1fca3a['length'];++_0x2e073e){const _0x432166=_0x1fca3a[_0x2e073e],_0x5a899a=_0x21b549[_0x2e073e];_0x1726de[_0x3873b5['axis']]-=_0x2e2163(_0x432166,_0x5a899a),_0x1726de[_0x3886c6['axis']]-=_0x32547c(_0x432166,_0x5a899a),_0x1dcf3f[_0x2e073e]={},_0x1dcf3f[_0x2e073e][_0x3886c6['axis']]=_0x1726de[_0x3886c6['axis']],_0x1dcf3f[_0x2e073e][_0x3873b5['axis']]=_0x1726de[_0x3873b5['axis']],_0x1726de[_0x3873b5['axis']]+=_0x2e2163(_0x432166,_0x5a899a),_0x1726de[_0x3886c6['axis']]+=_0x4be1b3(_0x432166,_0x5a899a)+_0x4cd239['spacing'][_0x3886c6['axis']];}_0x1fca3a[_0x3886c6['size']]=_0x1726de[_0x3886c6['axis']]-_0x4cd239['spacing'][_0x3886c6['axis']],_0x1fca3a[_0x3873b5['size']]=_0x1fca3a['largestSiz'+'e'][_0x3873b5['size']],_0x5944c2[_0x3886c6['size']]=Math['max'](_0x5944c2[_0x3886c6['size']],_0x1fca3a[_0x3886c6['size']]),_0x1726de[_0x3886c6['axis']]=-0x128*-0xa+-0x163f+0x223*0x5,_0x1726de[_0x3873b5['axis']]+=_0x1fca3a[_0x3873b5['size']]+_0x4cd239['spacing'][_0x3873b5['axis']],_0x12600f['push'](_0x1dcf3f);}return _0x5944c2[_0x3873b5['size']]=_0x1726de[_0x3873b5['axis']]-_0x4cd239['spacing'][_0x3873b5['axis']],_0x12600f;}function _0x5c5a60(_0x2f9613,_0x38ed1b,_0x37593d){const _0xdd999f=_0x4cd239['alignment'][_0x3886c6['axis']],_0x39f5c0=_0x4cd239['alignment'][_0x3873b5['axis']],_0x40b933=_0x4cd239['padding'][_0x3886c6['axis']],_0x3968c9=_0x4cd239['padding'][_0x3873b5['axis']];for(let _0x393a56=0x6*-0x574+-0x2327+-0x19*-0x2b7;_0x393a56<_0x2f9613['length'];++_0x393a56){const _0x4ad093=_0x2f9613[_0x393a56],_0x509d0a=_0x38ed1b[_0x393a56],_0x4f8341=_0x37593d[_0x393a56],_0x2c7e78=(ls[_0x3886c6['axis']]-_0x4ad093[_0x3886c6['size']])*_0xdd999f+_0x40b933,_0x52cd9a=(ls[_0x3873b5['axis']]-_0x2f9613[_0x3873b5['size']])*_0x39f5c0+_0x3968c9;for(let _0x4f5b3a=-0x26c*-0xf+0xb1c+-0x7e8*0x6;_0x4f5b3a<_0x4ad093['length'];++_0x4f5b3a){const _0x5dbcf3=(_0x4ad093[_0x3873b5['size']]-_0x509d0a[_0x4f5b3a][_0x3873b5['size']])*_0x4cd239['alignment'][_0x3873b5['axis']];_0x4f8341[_0x4f5b3a][_0x3886c6['axis']]+=_0x2c7e78,_0x4f8341[_0x4f5b3a][_0x3873b5['axis']]+=_0x52cd9a+_0x5dbcf3;}}}function _0x481204(_0x53869c,_0x542334,_0x161ae3){for(let _0x298f9c=0x1*-0x1c33+-0xdbd+0x29f0;_0x298f9c<_0x53869c['length'];++_0x298f9c){const _0x56fba0=_0x53869c[_0x298f9c],_0x193347=_0x542334[_0x298f9c],_0x502b8d=_0x161ae3[_0x298f9c];for(let _0xd25b80=-0x65+-0x1a*0x174+0x262d*0x1;_0xd25b80<_0x56fba0['length'];++_0xd25b80){const _0x1bc299=_0x56fba0[_0xd25b80];_0x1bc299[_0x3886c6['calculated'+'Size']]=_0x193347[_0xd25b80][_0x3886c6['size']],_0x1bc299[_0x3873b5['calculated'+'Size']]=_0x193347[_0xd25b80][_0x3873b5['size']],_0x4cd239['orientatio'+'n']===Ce?_0x1bc299['entity']['setLocalPo'+'sition'](_0x502b8d[_0xd25b80][_0x3886c6['axis']],_0x502b8d[_0xd25b80][_0x3873b5['axis']],_0x1bc299['entity']['getLocalPo'+'sition']()['z']):_0x1bc299['entity']['setLocalPo'+'sition'](_0x502b8d[_0xd25b80][_0x3873b5['axis']],_0x502b8d[_0xd25b80][_0x3886c6['axis']],_0x1bc299['entity']['getLocalPo'+'sition']()['z']);}}}function _0x192330(_0x4b1916){const _0x44d58e=_0x4b1916['width'],_0x25bd04=_0x4b1916['height'],_0x295dfa=(ls['x']-_0x44d58e)*_0x4cd239['alignment']['x']+_0x4cd239['padding']['x'],_0x1030d3=(ls['y']-_0x25bd04)*_0x4cd239['alignment']['y']+_0x4cd239['padding']['y'];return{'bounds':new re(_0x295dfa,_0x1030d3,_0x44d58e,_0x25bd04)};}function _0x301eaf(_0xa7f916){const _0x2c076e=[];for(let _0x1ac8b4=-0x164f+0xcb6*0x1+0x999;_0x1ac8b4<_0xa7f916['length'];++_0x1ac8b4){const _0x3b6596=_0xa7f916[_0x1ac8b4],_0x161b03=Math['max'](_0x6edbb5(_0x3b6596,'minWidth'),-0x1f77+0x275+-0x4f*-0x5e),_0x3ae6b4=Math['max'](_0x6edbb5(_0x3b6596,'minHeight'),0x80f*-0x3+-0xc69*0x3+-0x1*-0x3d68),_0x25fee7=Math['max'](_0x6edbb5(_0x3b6596,'maxWidth'),_0x161b03),_0xdb4234=Math['max'](_0x6edbb5(_0x3b6596,'maxHeight'),_0x3ae6b4),_0x4ad8cf=_0x5cc97a(_0x6edbb5(_0x3b6596,'width'),_0x161b03,_0x25fee7),_0x41c8cd=_0x5cc97a(_0x6edbb5(_0x3b6596,'height'),_0x3ae6b4,_0xdb4234),_0x2280aa=_0x6edbb5(_0x3b6596,'fitWidthPr'+'oportion'),_0x3b8b89=_0x6edbb5(_0x3b6596,'fitHeightP'+'roportion');_0x2c076e['push']({'minWidth':_0x161b03,'minHeight':_0x3ae6b4,'maxWidth':_0x25fee7,'maxHeight':_0xdb4234,'width':_0x4ad8cf,'height':_0x41c8cd,'fitWidthProportion':_0x2280aa,'fitHeightProportion':_0x3b8b89});}return _0x2c076e;}function _0x6edbb5(_0x2e8e77,_0x3007e5){const _0x7b4280=_0x2e8e77['entity']['layoutchil'+'d'];return _0x7b4280&&_0x7b4280['enabled']&&_0x7b4280[_0x3007e5]!==void(0x1*-0xf58+0x1e8*-0xf+-0x57e*-0x8)&&_0x7b4280[_0x3007e5]!==null?_0x7b4280[_0x3007e5]:_0x2e8e77[_0x3007e5]!==void(-0x1*0x268f+-0x1c30+0x42bf)?_0x2e8e77[_0x3007e5]:VR[_0x3007e5];}function _0x5cc97a(_0x50d1b2,_0x25e50c,_0xcf6287){return Math['min'](Math['max'](_0x50d1b2,_0x25e50c),_0xcf6287);}function _0x4d7539(_0x200d1a,_0x38c8c2){return _0x200d1a['reduce']((_0x24cc91,_0x695845)=>_0x24cc91+_0x695845[_0x38c8c2],-0x90a+0x2086+0x7d4*-0x3);}function _0x1b1f19(_0x1beec4,_0x1196a8){const _0x5b3845=_0x4d7539(_0x1beec4,_0x1196a8),_0x2b140d=[],_0x196446=_0x1beec4['length'];if(_0x5b3845===-0xb3a+-0x1a38+0x2572){for(let _0x126a18=-0x663+0x1e58+-0x17f5;_0x126a18<_0x196446;++_0x126a18)_0x2b140d['push']((0x1b13+0x50a+-0xc*0x2ad)/_0x196446);}else{for(let _0x3b2808=0x1cc1+0x515*0x3+-0x2c00;_0x3b2808<_0x196446;++_0x3b2808)_0x2b140d['push'](_0x1beec4[_0x3b2808][_0x1196a8]/_0x5b3845);}return _0x2b140d;}function _0x32f2bd(_0x595b7e){if(_0x595b7e['length']===0x2dc*0xb+0x237f+-0x42f2)return[-0x1*-0xd43+0x186+0xb*-0x158];const _0x3ad16b=[],_0xb114f4=_0x595b7e['length'];for(let _0x4c8de2=0x1*-0x1a93+0x25db*0x1+-0xb48;_0x4c8de2<_0xb114f4;++_0x4c8de2)_0x3ad16b['push']((0x1*-0xdbe+0x1774+-0x1f1*0x5-_0x595b7e[_0x4c8de2])/(_0xb114f4-(-0x1*-0xd2d+0x2174+-0x2ea0)));return _0x3ad16b;}function _0x1db191(_0x2588e1,_0x28872f,_0x31e2ff){return _0x2588e1['forEach'](_0x24b47f),_0x2588e1['slice']()['sort']((_0x42d41f,_0x2ed9aa)=>_0x31e2ff?_0x2ed9aa[_0x28872f]-_0x42d41f[_0x28872f]:_0x42d41f[_0x28872f]-_0x2ed9aa[_0x28872f])['map'](_0x3fa333);}function _0x24b47f(_0x5a9c31,_0x3d99ef){_0x5a9c31['index']=_0x3d99ef;}function _0x3fa333(_0x103cc6){return _0x103cc6['index'];}function _0x392b2b(_0xe75cca,_0x3864c2){const _0x4b68f6=[];_0x4b68f6[_0x3864c2[_0xe75cca['length']-(-0x206a+0xbdd+0x148e)]]=_0xe75cca[_0x3864c2[_0xe75cca['length']-(0x219c+-0xfb5*-0x1+0x3150*-0x1)]];for(let _0x197dbe=_0xe75cca['length']-(-0xb6*-0x1f+0x218d+0x117*-0x33);_0x197dbe>=0x17ff+0x1*-0x29b+-0x1564;--_0x197dbe)_0x4b68f6[_0x3864c2[_0x197dbe]]=_0x4b68f6[_0x3864c2[_0x197dbe+(-0x605+-0x1*-0x2342+-0x1d3c)]]+_0xe75cca[_0x3864c2[_0x197dbe]];return _0x4b68f6;}return _0x1c692;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x3cb73b,_0x4f59e3){const _0x40186f=xm[_0x4f59e3['orientatio'+'n']];if(_0x40186f)return _0x40186f(_0x3cb73b,_0x4f59e3);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x4f59e3['orientatio'+'n']);}}function Jg(_0x20a875){return _0x20a875['element'];}function HR(_0x24b3bd){return _0x24b3bd['enabled']&&_0x24b3bd['element']&&_0x24b3bd['element']['enabled'];}class s0 extends we{constructor(_0x492d28,_0x1df220){super(_0x492d28,_0x1df220),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x1d02+-0xe2a+0x2b2d)),h(this,'_reverseY',!(-0x1691+0x21ef+-0xb5e)),h(this,'_alignment',new J(-0x129a*0x2+-0x20*-0xb3+0x1*0xed4,-0xc9c*0x1+-0x10f7+0x1d94)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0xdbd+0x2027*0x1+-0x1269*0x1)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x4e8121=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4e8121,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x492d28['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x492d28['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x492d28['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x492d28['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x492d28['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x492d28['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x18a9eb){_0x18a9eb!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x18a9eb,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x3815a7){_0x3815a7!==this['_reverseX']&&(this['_reverseX']=_0x3815a7,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x1d41a4){_0x1d41a4!==this['_reverseY']&&(this['_reverseY']=_0x1d41a4,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x266376){_0x266376['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x266376),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x1732e4){_0x1732e4['equals'](this['_padding'])||(this['_padding']['copy'](_0x1732e4),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x37c4d7){_0x37c4d7['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x37c4d7),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x12186e){_0x12186e!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x12186e,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x553bfa){_0x553bfa!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x553bfa,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x373aeb){_0x373aeb!==this['_wrap']&&(this['_wrap']=_0x373aeb,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x4ba36e){return _0x4ba36e===this['entity']||this['entity']['children']['indexOf'](_0x4ba36e)!==-(-0xa2b+-0x21b5+0x2be1);}['_listenFor'+'ReflowEven'+'ts'](_0x5cbe19,_0x16b7b2){_0x5cbe19['element']&&(_0x5cbe19['element'][_0x16b7b2]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x5cbe19['element'][_0x16b7b2]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x5cbe19['element'][_0x16b7b2]('resize',this['_scheduleR'+'eflow'],this),_0x5cbe19['element'][_0x16b7b2]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x5cbe19['layoutchil'+'d']&&(_0x5cbe19['layoutchil'+'d'][_0x16b7b2]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x5cbe19['layoutchil'+'d'][_0x16b7b2]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x2aee49){this['_isSelfOrC'+'hild'](_0x2aee49)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2aee49,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x418094){this['_isSelfOrC'+'hild'](_0x418094)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x418094,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x164498){this['_listenFor'+'ReflowEven'+'ts'](_0x164498,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x2cbda2){this['_listenFor'+'ReflowEven'+'ts'](_0x2cbda2,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x4d7f14=Jg(this['entity']),_0x2f2833=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x4d7f14||_0x2f2833['length']===0x1d*0x79+-0x1*0x4c7+0x477*-0x2)return;const _0x41a9ee=Math['max'](_0x4d7f14['calculated'+'Width'],0x16*-0x128+0x1024+-0x1*-0x94c),_0x4a2a3b=Math['max'](_0x4d7f14['calculated'+'Height'],0xafd*-0x1+-0xa9d+0x159a),_0x271298={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x41a9ee,_0x4a2a3b)};this['_isPerform'+'ingReflow']=!(0x60b*-0x5+0x8*-0x3a+0x2007);const _0x31923a=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x2f2833,_0x271298);this['_isPerform'+'ingReflow']=!(-0x23f1+-0x1c58+0x404a),this['fire']('reflow',_0x31923a);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x5475f1=>{this['_listenFor'+'ReflowEven'+'ts'](_0x5475f1,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x163*-0xd+-0x1c*0x1+-0x1*-0x1223);}}const i0=['enabled'],$R=-0x37*0x6a+0x1ab5+0x1*-0x38b;class XR extends ct{constructor(_0x1b79b5){super(_0x1b79b5),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5ae6d,_0xaed024,_0x55c5a1){_0xaed024['enabled']!==void(0xdaa+0x5*-0x4+-0xd96)&&(_0x5ae6d['enabled']=_0xaed024['enabled']),_0xaed024['orientatio'+'n']!==void(0x2128+-0x930+-0x17f8)&&(_0x5ae6d['orientatio'+'n']=_0xaed024['orientatio'+'n']),_0xaed024['reverseX']!==void(-0x8cf*-0x3+-0x5a5+-0x14c8)&&(_0x5ae6d['reverseX']=_0xaed024['reverseX']),_0xaed024['reverseY']!==void(0x1a6c+-0xb5*0x1f+-0x481*0x1)&&(_0x5ae6d['reverseY']=_0xaed024['reverseY']),_0xaed024['alignment']!==void(0x2075+-0x148d*0x1+0xfe*-0xc)&&(_0x5ae6d['alignment']=Array['isArray'](_0xaed024['alignment'])?new J(_0xaed024['alignment']):_0xaed024['alignment']),_0xaed024['padding']!==void(-0xb2d*-0x3+-0x49d+-0x1cea)&&(_0x5ae6d['padding']=Array['isArray'](_0xaed024['padding'])?new re(_0xaed024['padding']):_0xaed024['padding']),_0xaed024['spacing']!==void(0x21c0+-0x2461+-0x2a1*-0x1)&&(_0x5ae6d['spacing']=Array['isArray'](_0xaed024['spacing'])?new J(_0xaed024['spacing']):_0xaed024['spacing']),_0xaed024['widthFitti'+'ng']!==void(-0xf*0xcd+0x11a9+-0x5a6)&&(_0x5ae6d['widthFitti'+'ng']=_0xaed024['widthFitti'+'ng']),_0xaed024['heightFitt'+'ing']!==void(-0x1343+0x76*-0xa+-0x15*-0x123)&&(_0x5ae6d['heightFitt'+'ing']=_0xaed024['heightFitt'+'ing']),_0xaed024['wrap']!==void(0x142f+-0x1fc*-0x5+0x7*-0x44d)&&(_0x5ae6d['wrap']=_0xaed024['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5ae6d,_0xaed024,_0x55c5a1);}['cloneCompo'+'nent'](_0x413c76,_0x1be7a1){const _0x12e8b1=_0x413c76['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x1be7a1,{'enabled':_0x12e8b1['enabled'],'orientation':_0x12e8b1['orientatio'+'n'],'reverseX':_0x12e8b1['reverseX'],'reverseY':_0x12e8b1['reverseY'],'alignment':_0x12e8b1['alignment'],'padding':_0x12e8b1['padding'],'spacing':_0x12e8b1['spacing'],'widthFitting':_0x12e8b1['widthFitti'+'ng'],'heightFitting':_0x12e8b1['heightFitt'+'ing'],'wrap':_0x12e8b1['wrap']});}['scheduleRe'+'flow'](_0x2dfadb){this['_reflowQue'+'ue']['indexOf'](_0x2dfadb)===-(-0x5ff+0x550*-0x1+0xb50)&&this['_reflowQue'+'ue']['push'](_0x2dfadb);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0xe7c*-0x2+0x32b*0x1+-0x1*-0x19cd)return;let _0x2dd30c=-0xa9a+-0x101+0xb9b;for(;this['_reflowQue'+'ue']['length']>-0x1d6b*-0x1+-0x7e3+-0x1588;){const _0x3bdd99=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x1fd*0x9+0x901*0x1+0x8e4,_0x3bdd99['sort']((_0x4afcd4,_0x115268)=>_0x4afcd4['entity']['graphDepth']-_0x115268['entity']['graphDepth']);for(let _0x8a432=-0x4c*-0x7f+0x1*0x1a6f+-0x4023;_0x8a432<_0x3bdd99['length'];++_0x8a432)_0x3bdd99[_0x8a432]['reflow']();if(++_0x2dd30c>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x9c2005,_0x229cfa){_0x229cfa['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x316698){this['map']['forEach'](_0x297406=>_0x297406['mesh']['destroy']());}}const jR=new Kt(),r0=(_0xa1b83,_0x226587)=>{const _0x3b19cf=jR['get'](_0xa1b83,()=>new qR());let _0x42bfc2=_0x3b19cf['map']['get'](_0x226587);if(!_0x42bfc2){let _0x1f93a3,_0x6d7173;switch(_0x226587){case'box':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new mu()),_0x6d7173={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x443*0x3+0x8cb+0x400)/(-0x1*0xcb1+0x4f*0x5c+0x3ec*-0x4)};break;case'capsule':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new GA({'radius':0.5,'height':0x2})),_0x6d7173={'x':Math['PI']*(0x25db+-0xc2d+0x1*-0x19ac),'y':Math['PI'],'z':Math['PI']*(-0x3*-0x977+-0x4c*-0x44+-0x3093),'uv':(-0x1387*-0x2+-0x1f8a+-0x783)/(0x2051+0xa04+-0x1529*0x2)+(-0x1b4f*-0x1+-0x168c+0x6*-0xcb)/(-0x378+-0x2652+0x29cd)/(-0x32*-0x17+-0x1*-0xa7b+-0xef6)*(-0x2540+0x1*-0x2fb+-0x283d*-0x1)};break;case'cone':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x6d7173={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x1a22+-0x1554+0x1*0x2f77)/(0x24c3+0x1cc3+-0x4183)+(0x224f+0x12fb+-0x3549)/(-0x15*-0x12f+-0x343*-0x1+-0x5*0x59f)/(-0xaf*0x11+0x1b66+-0xfc4)};break;case'cylinder':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new WA({'radius':0.5,'height':0x1})),_0x6d7173={'x':Math['PI'],'y':(-0xa2f+0x23*-0x6+0xb01+0.79)*(-0x1*0x1f99+0x2f*0x62+0x5*0x2b9),'z':Math['PI'],'uv':(0x1*-0x24bf+0xa*-0x17e+0x33ac)/(-0x46*-0x7a+0x269*-0xb+-0x6d6)+(0x1*-0x144d+-0x135*-0x1d+-0xeb3)/(0xb01+-0x2*-0x330+-0x115e)/(-0x871+0xcba+-0x446)*(0x10fa+-0xe94+-0x264)};break;case'plane':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new $A({'halfExtents':new J(-0x53c*0x3+-0x33*0xb0+0x32c4+0.5,-0x20ea+-0x7*0xb3+-0x25cf*-0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x6d7173={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new _m({'radius':0.5})),_0x6d7173={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x1f93a3=Ge['fromGeomet'+'ry'](_0xa1b83,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x6d7173={'x':Math['PI']*(0x75f+-0xea2+0xb*0xa9+0.5)*(0x1775+-0xcf5+-0xa80+0.5)-Math['PI']*(-0x1185*-0x1+-0x6e2+-0xaa3+0.1)*(-0x3da*-0x7+-0x23c5+0x8cf+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x226587);}_0x1f93a3['incRefCoun'+'t'](),_0x42bfc2={'mesh':_0x1f93a3,'area':_0x6d7173},_0x3b19cf['map']['set'](_0x226587,_0x42bfc2);}return _0x42bfc2;};class Tm extends we{constructor(_0x2df474,_0x30ca3f){super(_0x2df474,_0x30ca3f),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1572+-0x19f5+0x21*0x23)),h(this,'_receiveSh'+'adows',!(0x7*-0x301+-0x9*0x9f+0x1a9e)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x169a+0x1cd1+-0x637)),h(this,'_lightmapp'+'ed',!(0x211f*0x1+-0x1*-0x21a4+-0xa*0x6ad)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x109d*0x2+-0x19a9+-0x1d72*-0x2),h(this,'isStatic',!(-0x24ee+0x1b9a+0x955)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0x4*0x9bf+-0xbc8*-0x3+0x3a5)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0xe77+0x2626+-0x7*0x362)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x2df474['defaultMat'+'erial'],_0x30ca3f['on']('remove',this['onRemoveCh'+'ild'],this),_0x30ca3f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x30ca3f['on']('insert',this['onInsertCh'+'ild'],this),_0x30ca3f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x4ec298){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x4ec298);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x40b955){if(this['_customAab'+'b']=_0x40b955,this['_model']){const _0x4a8357=this['_model']['meshInstan'+'ces'];if(_0x4a8357){for(let _0x5efebb=0x1fa6+0xd11+-0x2cb7;_0x5efebb<_0x4a8357['length'];_0x5efebb++)_0x4a8357[_0x5efebb]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0xd6a842){if(this['_type']!==_0xd6a842){if(this['_area']=null,this['_type']=_0xd6a842,_0xd6a842==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2f147a=r0(this['system']['app']['graphicsDe'+'vice'],_0xd6a842);this['_area']=_0x2f147a['area'];const _0x2fb3f1=_0x2f147a['mesh'],_0x29c29d=new Ie(),_0x3c6b12=new sr();_0x3c6b12['graph']=_0x29c29d,_0x3c6b12['meshInstan'+'ces']=[new He(_0x2fb3f1,this['_material'],_0x29c29d)],this['model']=_0x3c6b12,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x4a27f9){const _0x25f39d=this['system']['app']['assets'];let _0x56721b=_0x4a27f9;if(_0x4a27f9 instanceof pe&&(_0x56721b=_0x4a27f9['id']),this['_asset']!==_0x56721b){if(this['_asset']){_0x25f39d['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x307aaf=_0x25f39d['get'](this['_asset']);_0x307aaf&&this['_unbindMod'+'elAsset'](_0x307aaf);}if(this['_asset']=_0x56721b,this['_asset']){const _0x48d09b=_0x25f39d['get'](this['_asset']);_0x48d09b?this['_bindModel'+'Asset'](_0x48d09b):(this['model']=null,_0x25f39d['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x1c03f4){if(this['_model']!==_0x1c03f4){if(_0x1c03f4&&_0x1c03f4['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x35*-0x44+0x5*-0x6d+-0xbf2),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1303+-0x1cce*-0x1+0xe*-0xb3))),this['_model']=_0x1c03f4,this['_model']){this['_model']['_immutable']=!(-0x5c3+-0x1d20+0x22e3);const _0x467a01=this['_model']['meshInstan'+'ces'];for(let _0x47f7e3=0x12d2*0x2+0x226+0x16*-0x1cf;_0x47f7e3<_0x467a01['length'];_0x47f7e3++)_0x467a01[_0x47f7e3]['castShadow']=this['_castShado'+'ws'],_0x467a01[_0x47f7e3]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x467a01[_0x47f7e3]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x1e5339){if(_0x1e5339!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x1e5339,this['_model'])){const _0x5c2565=this['_model']['meshInstan'+'ces'];for(let _0x5c0757=0x355*0x4+-0x1c2f+0xedb;_0x5c0757<_0x5c2565['length'];_0x5c0757++)_0x5c2565[_0x5c0757]['setLightma'+'pped'](_0x1e5339);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x169715){if(this['_castShado'+'ws']===_0x169715)return;const _0x5ae38b=this['_model'];if(_0x5ae38b){const _0xd0b54d=this['layers'],_0x1e65d4=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x169715)for(let _0x12380d=-0x7db*-0x3+-0x1db2+0x621;_0x12380d<_0xd0b54d['length'];_0x12380d++){const _0x18e329=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x12380d]);_0x18e329&&_0x18e329['removeShad'+'owCasters'](_0x5ae38b['meshInstan'+'ces']);}const _0x7f2f06=_0x5ae38b['meshInstan'+'ces'];for(let _0x30a191=0x2*0xda3+0xbe2+-0x2728;_0x30a191<_0x7f2f06['length'];_0x30a191++)_0x7f2f06[_0x30a191]['castShadow']=_0x169715;if(!this['_castShado'+'ws']&&_0x169715)for(let _0x3e4204=0x1*0x807+0x1f39*-0x1+0x1732;_0x3e4204<_0xd0b54d['length'];_0x3e4204++){const _0x469084=_0x1e65d4['layers']['getLayerBy'+'Id'](_0xd0b54d[_0x3e4204]);_0x469084&&_0x469084['addShadowC'+'asters'](_0x5ae38b['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x169715;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x32664a){if(this['_receiveSh'+'adows']!==_0x32664a&&(this['_receiveSh'+'adows']=_0x32664a,this['_model'])){const _0x317804=this['_model']['meshInstan'+'ces'];for(let _0x25b726=-0x1c6d+-0x1*0x1d72+-0x1*-0x39df,_0x457a48=_0x317804['length'];_0x25b726<_0x457a48;_0x25b726++)_0x317804[_0x25b726]['receiveSha'+'dow']=_0x32664a;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x12ffeb){this['_castShado'+'wsLightmap']=_0x12ffeb;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5b3f11){this['_lightmapS'+'izeMultipl'+'ier']=_0x5b3f11;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x473394){const _0x475edf=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0xa308c3=0x64a+-0x2*-0x80f+-0x1*0x1668;_0xa308c3<this['_layers']['length'];_0xa308c3++){const _0x534096=_0x475edf['getLayerBy'+'Id'](this['_layers'][_0xa308c3]);_0x534096&&_0x534096['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x120f+0x1*0x204c+0xf3*-0xf;for(let _0x26c29a=0x19f2+0x1a00+-0x33f2;_0x26c29a<_0x473394['length'];_0x26c29a++)this['_layers'][_0x26c29a]=_0x473394[_0x26c29a];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x29986d=-0x1*0x265a+-0x120c+0x3866;_0x29986d<this['_layers']['length'];_0x29986d++){const _0x258516=_0x475edf['getLayerBy'+'Id'](this['_layers'][_0x29986d]);_0x258516&&_0x258516['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x125dec){var _0x34d94d,_0x5cf575;this['_batchGrou'+'pId']!==_0x125dec&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1e3f+0xde7+-0x1*-0x1058&&((_0x34d94d=this['system']['app']['batcher'])==null||_0x34d94d['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x125dec>=0x15*-0x10b+0x3*0x767+-0x4e&&((_0x5cf575=this['system']['app']['batcher'])==null||_0x5cf575['insert'](St['MODEL'],_0x125dec,this['entity'])),_0x125dec<0x2*0x1065+0x60c+0x3*-0xcf2&&this['_batchGrou'+'pId']>=0x1*0x737+0x16dc*0x1+0x1*-0x1e13&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x125dec);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x4120ac){let _0x160e67=_0x4120ac;_0x4120ac instanceof pe&&(_0x160e67=_0x4120ac['id']);const _0x2208aa=this['system']['app']['assets'];if(_0x160e67!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x2208aa['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x5237d7=_0x2208aa['get'](this['_materialA'+'sset']);_0x5237d7&&this['_unbindMat'+'erialAsset'](_0x5237d7);}if(this['_materialA'+'sset']=_0x160e67,this['_materialA'+'sset']){const _0x1c07d6=_0x2208aa['get'](this['_materialA'+'sset']);_0x1c07d6?this['_bindMater'+'ialAsset'](_0x1c07d6):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x2208aa['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x1a8c78){this['_material']!==_0x1a8c78&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x1a8c78));}get['material'](){return this['_material'];}set['mapping'](_0x26f75a){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x26f75a||(_0x26f75a={}),this['_mapping']=_0x26f75a,!this['_model']))return;const _0x2b5a27=this['_model']['meshInstan'+'ces'],_0x32a23b=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x22d410=_0x32a23b?_0x32a23b['data']['mapping']:null;let _0x377891=null;for(let _0x1278ba=-0x1a*-0xb8+-0x4*0x13c+-0xdc0,_0x51dd0d=_0x2b5a27['length'];_0x1278ba<_0x51dd0d;_0x1278ba++)if(_0x26f75a[_0x1278ba]!==void(-0x251e+0x98f+0x1b8f))_0x26f75a[_0x1278ba]?(_0x377891=this['system']['app']['assets']['get'](_0x26f75a[_0x1278ba]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x377891,_0x2b5a27[_0x1278ba],_0x1278ba)):_0x2b5a27[_0x1278ba]['material']=this['system']['defaultMat'+'erial'];else{if(_0x22d410){if(_0x22d410[_0x1278ba]&&(_0x22d410[_0x1278ba]['material']||_0x22d410[_0x1278ba]['path'])){if(_0x22d410[_0x1278ba]['material']!==void(0x1427+0x593*0x5+-0x12*0x2ab))_0x377891=this['system']['app']['assets']['get'](_0x22d410[_0x1278ba]['material']);else{if(_0x22d410[_0x1278ba]['path']!==void(0x52a*0x1+-0xd72+0x848)){const _0xc8d749=this['_getMateri'+'alAssetUrl'](_0x22d410[_0x1278ba]['path']);_0xc8d749&&(_0x377891=this['system']['app']['assets']['getByUrl'](_0xc8d749));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x377891,_0x2b5a27[_0x1278ba],_0x1278ba);}else _0x2b5a27[_0x1278ba]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x4e71e9=this['system']['app']['scene']['layers'];for(let _0x50394e=-0x1484+-0x11c8+0x264c;_0x50394e<this['_layers']['length'];_0x50394e++){const _0x210636=_0x4e71e9['getLayerBy'+'Id'](this['_layers'][_0x50394e]);_0x210636&&_0x210636['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x3e10ba=this['system']['app']['scene']['layers'];for(let _0xbd56be=0x17*0x91+0x692*0x2+0x15*-0x13f;_0xbd56be<this['_layers']['length'];_0xbd56be++){const _0x476404=_0x3e10ba['getLayerBy'+'Id'](this['_layers'][_0xbd56be]);_0x476404&&_0x476404['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x210c50,_0x4f3c3a){this['addModelTo'+'Layers'](),_0x210c50['off']('add',this['onLayerAdd'+'ed'],this),_0x210c50['off']('remove',this['onLayerRem'+'oved'],this),_0x4f3c3a['on']('add',this['onLayerAdd'+'ed'],this),_0x4f3c3a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x514eef){this['layers']['indexOf'](_0x514eef['id'])<0xc1a*0x2+0x1053+0x1*-0x2887||_0x514eef['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x13b6dd){this['layers']['indexOf'](_0x13b6dd['id'])<-0x1a73+0x5ab*-0x1+0x201e||_0x13b6dd['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x4f1172,_0x3ea3c5,_0x5eeb0a,_0x41ecb5){const _0x558950=_0x3ea3c5+':'+_0x5eeb0a;this['system']['app']['assets']['on'](_0x558950,_0x41ecb5,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x4f1172]||(this['_materialE'+'vents'][_0x4f1172]={}),this['_materialE'+'vents'][_0x4f1172][_0x558950]={'id':_0x5eeb0a,'handler':_0x41ecb5};}['_unsetMate'+'rialEvents'](){const _0x258759=this['system']['app']['assets'],_0x55dc4c=this['_materialE'+'vents'];if(_0x55dc4c){for(let _0x481588=0x22+0x249b+-0x24bd,_0x11d3dc=_0x55dc4c['length'];_0x481588<_0x11d3dc;_0x481588++){if(!_0x55dc4c[_0x481588])continue;const _0x57535a=_0x55dc4c[_0x481588];for(const _0xd461c3 in _0x57535a)_0x258759['off'](_0xd461c3,_0x57535a[_0xd461c3]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x1a3e9c){let _0xba79f0=null;if(!isNaN(parseInt(_0x1a3e9c,0xf26+0x2316+-0x3232)))_0xba79f0=this['system']['app']['assets']['get'](_0x1a3e9c);else{if(this['asset']){const _0x1f4904=this['_getMateri'+'alAssetUrl'](_0x1a3e9c);_0x1f4904&&(_0xba79f0=this['system']['app']['assets']['getByUrl'](_0x1f4904));}}return _0xba79f0;}['_getMateri'+'alAssetUrl'](_0x3a5d20){if(!this['asset'])return null;const _0x2c41d0=this['system']['app']['assets']['get'](this['asset']);return _0x2c41d0?_0x2c41d0['getAbsolut'+'eUrl'](_0x3a5d20):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x453654,_0x4ccd02,_0x22a924){const _0x171a25=this['system']['app']['assets'];_0x453654&&(_0x453654['resource']?(_0x4ccd02['material']=_0x453654['resource'],this['_setMateri'+'alEvent'](_0x22a924,'remove',_0x453654['id'],function(){_0x4ccd02['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x22a924,'load',_0x453654['id'],function(_0x188702){_0x4ccd02['material']=_0x188702['resource'],this['_setMateri'+'alEvent'](_0x22a924,'remove',_0x453654['id'],function(){_0x4ccd02['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x171a25['load'](_0x453654)));}['onEnable'](){var _0xbddfd7;const _0x99c504=this['system']['app'],_0x23c46c=_0x99c504['scene'],_0x20f01e=_0x23c46c==null?void(-0x1*-0x1bac+-0x128a*0x1+-0x922):_0x23c46c['layers'];this['_evtLayers'+'Changed']=_0x23c46c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x20f01e&&(this['_evtLayerA'+'dded']=_0x20f01e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x20f01e['on']('remove',this['onLayerRem'+'oved'],this));const _0x4d1730=this['_type']==='asset';let _0x2129a1;if(this['_model']?this['addModelTo'+'Layers']():_0x4d1730&&this['_asset']&&(_0x2129a1=_0x99c504['assets']['get'](this['_asset']),_0x2129a1&&_0x2129a1['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x2129a1)),this['_materialA'+'sset']&&(_0x2129a1=_0x99c504['assets']['get'](this['_materialA'+'sset']),_0x2129a1&&_0x2129a1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2129a1)),_0x4d1730&&this['_mapping']){for(const _0x58d3f4 in this['_mapping'])this['_mapping'][_0x58d3f4]&&(_0x2129a1=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x58d3f4]),_0x2129a1&&!_0x2129a1['resource']&&_0x99c504['assets']['load'](_0x2129a1));}this['_batchGrou'+'pId']>=0x23f4+-0x1*0x18f5+-0x1*0xaff&&((_0xbddfd7=_0x99c504['batcher'])==null||_0xbddfd7['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x154f6f,_0x589b86,_0x1de5c7,_0x521ba4;const _0x34d7f9=this['system']['app'],_0x550528=_0x34d7f9['scene']['layers'];(_0x154f6f=this['_evtLayers'+'Changed'])==null||_0x154f6f['off'](),this['_evtLayers'+'Changed']=null,_0x550528&&((_0x589b86=this['_evtLayerA'+'dded'])==null||_0x589b86['off'](),this['_evtLayerA'+'dded']=null,(_0x1de5c7=this['_evtLayerR'+'emoved'])==null||_0x1de5c7['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x3*0x496+0x23ca+0xa*-0x234&&((_0x521ba4=_0x34d7f9['batcher'])==null||_0x521ba4['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x5b224f=this['_model']['meshInstan'+'ces'];for(let _0x54d3c6=-0x1f*0x6b+-0xb7a+0x186f,_0x15cc31=_0x5b224f['length'];_0x54d3c6<_0x15cc31;_0x54d3c6++)_0x5b224f[_0x54d3c6]['visible']=!(0x3c0*-0x4+0x1ca9+-0xda8);}}['show'](){if(this['_model']){const _0x393f64=this['_model']['meshInstan'+'ces'];for(let _0xb000d0=-0xb*-0x7f+0x17e5+-0x22*0xdd,_0x105233=_0x393f64['length'];_0xb000d0<_0x105233;_0xb000d0++)_0x393f64[_0xb000d0]['visible']=!(-0x23ba+0x135c+0x105e);}}['_bindMater'+'ialAsset'](_0x457b41){if(_0x457b41['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x457b41['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x457b41['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x457b41['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x457b41['resource'])this['_onMateria'+'lAssetLoad'](_0x457b41);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x457b41);}}['_unbindMat'+'erialAsset'](_0x364c57){_0x364c57['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x364c57['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x364c57['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x364c57['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0xc4973e){this['system']['app']['assets']['off']('add:'+_0xc4973e['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0xc4973e['id']&&this['_bindMater'+'ialAsset'](_0xc4973e);}['_onMateria'+'lAssetLoad'](_0x54c3d7){this['_setMateri'+'al'](_0x54c3d7['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x2ccd97){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x2ff5b7){this['_onMateria'+'lAssetUnlo'+'ad'](_0x2ff5b7);}['_onMateria'+'lAssetChan'+'ge'](_0x44162a){}['_bindModel'+'Asset'](_0x11a1e8){if(this['_unbindMod'+'elAsset'](_0x11a1e8),_0x11a1e8['on']('load',this['_onModelAs'+'setLoad'],this),_0x11a1e8['on']('unload',this['_onModelAs'+'setUnload'],this),_0x11a1e8['on']('change',this['_onModelAs'+'setChange'],this),_0x11a1e8['on']('remove',this['_onModelAs'+'setRemove'],this),_0x11a1e8['resource'])this['_onModelAs'+'setLoad'](_0x11a1e8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x11a1e8);}}['_unbindMod'+'elAsset'](_0xd59783){_0xd59783['off']('load',this['_onModelAs'+'setLoad'],this),_0xd59783['off']('unload',this['_onModelAs'+'setUnload'],this),_0xd59783['off']('change',this['_onModelAs'+'setChange'],this),_0xd59783['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x2295b5){this['system']['app']['assets']['off']('add:'+_0x2295b5['id'],this['_onModelAs'+'setAdded'],this),_0x2295b5['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x2295b5);}['_onModelAs'+'setLoad'](_0x2ffb02){this['model']=_0x2ffb02['resource']['clone'](),this['_clonedMod'+'el']=!(0x2*0x71f+0x1b6e+-0xc*0x379);}['_onModelAs'+'setUnload'](_0x29788){this['model']=null;}['_onModelAs'+'setChange'](_0x1fad07,_0x4a3d36,_0x21c68f,_0xeee178){_0x4a3d36==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x32c6a5){this['model']=null;}['_setMateri'+'al'](_0x3d7710){if(this['_material']===_0x3d7710)return;this['_material']=_0x3d7710;const _0x513730=this['_model'];if(_0x513730&&this['_type']!=='asset'){const _0x58a2c9=_0x513730['meshInstan'+'ces'];for(let _0x1a7073=-0x1*-0xd97+-0xee1+0x14a,_0x4b873c=_0x58a2c9['length'];_0x1a7073<_0x4b873c;_0x1a7073++)_0x58a2c9[_0x1a7073]['material']=_0x3d7710;}}}class YR{constructor(){this['enabled']=!(0x4*-0x3f7+0x1e5a+0x109*-0xe);}}const a0=['enabled'];class KR extends ct{constructor(_0x48619e){super(_0x48619e),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x48619e['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x45634a,_0x2ce2d1,_0x6a6dd1){_0x6a6dd1=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x2ce2d1['batchGroup'+'Id']===null||_0x2ce2d1['batchGroup'+'Id']===void(0x6e*-0x3b+0x545*-0x1+0x1e9f))&&(_0x2ce2d1['batchGroup'+'Id']=-(-0x1c38+0xee1*-0x1+0x9*0x4ca)),_0x2ce2d1['layers']&&_0x2ce2d1['layers']['length']&&(_0x2ce2d1['layers']=_0x2ce2d1['layers']['slice'](-0x3*0x16c+-0x13c9+-0x83*-0x2f));for(let _0x415460=0x7e5+-0x1f*0x65+0x456;_0x415460<_0x6a6dd1['length'];_0x415460++)_0x2ce2d1['hasOwnProp'+'erty'](_0x6a6dd1[_0x415460])&&(_0x45634a[_0x6a6dd1[_0x415460]]=_0x2ce2d1[_0x6a6dd1[_0x415460]]);_0x2ce2d1['aabbCenter']&&_0x2ce2d1['aabbHalfEx'+'tents']&&(_0x45634a['customAabb']=new De(new D(_0x2ce2d1['aabbCenter']),new D(_0x2ce2d1['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x45634a,_0x2ce2d1,['enabled']);}['cloneCompo'+'nent'](_0x386b96,_0x2b02da){const _0x56f88a={'type':_0x386b96['model']['type'],'asset':_0x386b96['model']['asset'],'castShadows':_0x386b96['model']['castShadow'+'s'],'receiveShadows':_0x386b96['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x386b96['model']['castShadow'+'sLightmap'],'lightmapped':_0x386b96['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x386b96['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x386b96['model']['isStatic'],'enabled':_0x386b96['model']['enabled'],'layers':_0x386b96['model']['layers'],'batchGroupId':_0x386b96['model']['batchGroup'+'Id'],'mapping':ah({},_0x386b96['model']['mapping'])};let _0x153d74=_0x386b96['model']['materialAs'+'set'];!(_0x153d74 instanceof pe)&&_0x153d74!=null&&(_0x153d74=this['app']['assets']['get'](_0x153d74));const _0x3ed3b0=_0x386b96['model']['material'];(!_0x3ed3b0||_0x3ed3b0===this['defaultMat'+'erial']||!_0x153d74||_0x3ed3b0===_0x153d74['resource'])&&(_0x56f88a['materialAs'+'set']=_0x153d74);const _0x2475ea=this['addCompone'+'nt'](_0x2b02da,_0x56f88a);if(_0x386b96['model']['model']&&_0x386b96['model']['type']==='asset'&&!_0x386b96['model']['asset']&&(_0x2475ea['model']=_0x386b96['model']['model']['clone'](),_0x2475ea['_clonedMod'+'el']=!(-0x5*-0x10d+-0x2090+0x1b4f)),_0x56f88a['materialAs'+'set']||(_0x2475ea['material']=_0x3ed3b0),_0x386b96['model']['model']){const _0x58b020=_0x386b96['model']['model']['meshInstan'+'ces'],_0x56dfc5=_0x2475ea['model']['meshInstan'+'ces'];for(let _0x5b11ae=-0x1*0xdb7+-0xd68+0x1b1f;_0x5b11ae<_0x58b020['length'];_0x5b11ae++)_0x56dfc5[_0x5b11ae]['mask']=_0x58b020[_0x5b11ae]['mask'],_0x56dfc5[_0x5b11ae]['material']=_0x58b020[_0x5b11ae]['material'],_0x56dfc5[_0x5b11ae]['layer']=_0x58b020[_0x5b11ae]['layer'],_0x56dfc5[_0x5b11ae]['receiveSha'+'dow']=_0x58b020[_0x5b11ae]['receiveSha'+'dow'];}return _0x386b96['model']['customAabb']&&(_0x2475ea['customAabb']=_0x386b96['model']['customAabb']['clone']()),_0x2475ea;}['onRemove'](_0x13871f,_0x5cc72e){_0x5cc72e['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x3927f3,_0x56566e){super(_0x3927f3,_0x56566e),h(this,'_requested'+'Depth',!(0xace+-0xc87+0x1ba*0x1)),h(this,'_drawOrder',0x1*0x118d+-0xe85+0x61*-0x8),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x2033bf=>{this['on']('set_'+_0x2033bf,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x1fd3c3=>{this['on']('set_'+_0x1fd3c3,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x2bc52b=>{this['on']('set_'+_0x2bc52b,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x4189dc=this['system']['store'][this['entity']['getGuid']()];return _0x4189dc?_0x4189dc['data']:null;}set['enabled'](_0x1a854e){this['_setValue']('enabled',_0x1a854e);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x429bb8){this['_setValue']('autoPlay',_0x429bb8);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x5b269c){this['_setValue']('numParticl'+'es',_0x5b269c);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x40ec16){this['_setValue']('lifetime',_0x40ec16);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x1c9fe1){this['_setValue']('rate',_0x1c9fe1);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x582a1d){this['_setValue']('rate2',_0x582a1d);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x5e4f54){this['_setValue']('startAngle',_0x5e4f54);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x32bfbb){this['_setValue']('startAngle'+'2',_0x32bfbb);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x84b1ad){this['_setValue']('loop',_0x84b1ad);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x274826){this['_setValue']('preWarm',_0x274826);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x2e4842){this['_setValue']('lighting',_0x2e4842);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x5ad98b){this['_setValue']('halfLamber'+'t',_0x5ad98b);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x261bd4){this['_setValue']('intensity',_0x261bd4);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x1d069e){this['_setValue']('depthWrite',_0x1d069e);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x1103ad){this['_setValue']('noFog',_0x1103ad);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x4e92ed){this['_setValue']('depthSofte'+'ning',_0x4e92ed);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x5ecdc2){this['_setValue']('sort',_0x5ecdc2);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x23e7b7){this['_setValue']('blendType',_0x23e7b7);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x3150a0){this['_setValue']('stretch',_0x3150a0);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x15e400){this['_setValue']('alignToMot'+'ion',_0x15e400);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x13b650){this['_setValue']('emitterSha'+'pe',_0x13b650);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x1fcfe5){this['_setValue']('emitterExt'+'ents',_0x1fcfe5);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x21f844){this['_setValue']('emitterExt'+'entsInner',_0x21f844);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x3b318c){this['_setValue']('emitterRad'+'ius',_0x3b318c);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x3341b8){this['_setValue']('emitterRad'+'iusInner',_0x3341b8);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x94bea4){this['_setValue']('initialVel'+'ocity',_0x94bea4);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x3adba9){this['_setValue']('wrap',_0x3adba9);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x392edd){this['_setValue']('wrapBounds',_0x392edd);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x18cdf3){this['_setValue']('localSpace',_0x18cdf3);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x11b03a){this['_setValue']('screenSpac'+'e',_0x11b03a);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x2f12e1){this['_setValue']('colorMapAs'+'set',_0x2f12e1);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x43511c){this['_setValue']('normalMapA'+'sset',_0x43511c);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x3e77ea){this['_setValue']('mesh',_0x3e77ea);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x162c79){this['_setValue']('meshAsset',_0x162c79);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x40abbe){this['_setValue']('renderAsse'+'t',_0x40abbe);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x163f0b){this['_setValue']('orientatio'+'n',_0x163f0b);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x2a559e){this['_setValue']('particleNo'+'rmal',_0x2a559e);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x4169c0){this['_setValue']('localVeloc'+'ityGraph',_0x4169c0);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x382b16){this['_setValue']('localVeloc'+'ityGraph2',_0x382b16);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x611feb){this['_setValue']('velocityGr'+'aph',_0x611feb);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x570f57){this['_setValue']('velocityGr'+'aph2',_0x570f57);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x34530d){this['_setValue']('rotationSp'+'eedGraph',_0x34530d);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x5e9903){this['_setValue']('rotationSp'+'eedGraph2',_0x5e9903);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x32c3e1){this['_setValue']('radialSpee'+'dGraph',_0x32c3e1);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5aa497){this['_setValue']('radialSpee'+'dGraph2',_0x5aa497);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x240a75){this['_setValue']('scaleGraph',_0x240a75);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x515029){this['_setValue']('scaleGraph'+'2',_0x515029);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x9b7863){this['_setValue']('colorGraph',_0x9b7863);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x50c14d){this['_setValue']('colorGraph'+'2',_0x50c14d);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x47ec17){this['_setValue']('alphaGraph',_0x47ec17);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x4956d3){this['_setValue']('alphaGraph'+'2',_0x4956d3);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x53777a){this['_setValue']('colorMap',_0x53777a);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x27b14a){this['_setValue']('normalMap',_0x27b14a);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x4fe7f7){this['_setValue']('animTilesX',_0x4fe7f7);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x3b1cbd){this['_setValue']('animTilesY',_0x3b1cbd);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x54d9ec){this['_setValue']('animStartF'+'rame',_0x54d9ec);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x1106d3){this['_setValue']('animNumFra'+'mes',_0x1106d3);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x222858){this['_setValue']('animNumAni'+'mations',_0x222858);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x2b8674){this['_setValue']('animIndex',_0x2b8674);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x4d5a5e){this['_setValue']('randomizeA'+'nimIndex',_0x4d5a5e);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x59d476){this['_setValue']('animSpeed',_0x59d476);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x322a08){this['_setValue']('animLoop',_0x322a08);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x20d5b8){this['_setValue']('layers',_0x20d5b8);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0xcb3e7d){this['_drawOrder']=_0xcb3e7d,this['emitter']&&(this['emitter']['drawOrder']=_0xcb3e7d);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x1884ac,_0x19f946){const _0x36518f=this['data'],_0x1ff420=_0x36518f[_0x1884ac];_0x36518f[_0x1884ac]=_0x19f946,this['fire']('set',_0x1884ac,_0x1ff420,_0x19f946);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x2484a4=0x2ed*-0x4+0x12dc+-0x728;_0x2484a4<this['layers']['length'];_0x2484a4++){const _0x31dcb5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2484a4]);_0x31dcb5&&(_0x31dcb5['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x31dcb5);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x318cbc=0x6fe+0x27*0x53+-0x13a3;_0x318cbc<this['layers']['length'];_0x318cbc++){const _0x41c293=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x318cbc]);_0x41c293&&_0x41c293['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x1619a0,_0x2f9edf,_0xa729b8){if(this['emitter']){for(let _0x36e768=-0x1700+-0xd00+0x2400;_0x36e768<_0x2f9edf['length'];_0x36e768++){const _0x3b3349=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2f9edf[_0x36e768]);_0x3b3349&&_0x3b3349['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x9597e0=0x1*-0x797+0x1c*0x4a+-0x81;_0x9597e0<_0xa729b8['length'];_0x9597e0++){const _0xead313=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xa729b8[_0x9597e0]);_0xead313&&_0xead313['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x490f71,_0x3a59a6){this['addMeshIns'+'tanceToLay'+'ers'](),_0x490f71['off']('add',this['onLayerAdd'+'ed'],this),_0x490f71['off']('remove',this['onLayerRem'+'oved'],this),_0x3a59a6['on']('add',this['onLayerAdd'+'ed'],this),_0x3a59a6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x23f552){!this['emitter']||this['layers']['indexOf'](_0x23f552['id'])<0x1cb0+0x1357+0x99b*-0x5||_0x23f552['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x20a71b){!this['emitter']||this['layers']['indexOf'](_0x20a71b['id'])<-0x1*0x13e2+0x7e2+0xc00||_0x20a71b['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x9dec95){if(_0x9dec95['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x9dec95['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x9dec95['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x9dec95['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x9dec95['resource'])this['_onColorMa'+'pAssetLoad'](_0x9dec95);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x9dec95);}}['_unbindCol'+'orMapAsset'](_0x4da297){_0x4da297['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x4da297['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x4da297['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x4da297['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x4e7e56){this['colorMap']=_0x4e7e56['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x5d4a6f){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x427290){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x427290);}['_onColorMa'+'pAssetChan'+'ge'](_0x2aba2e){}['onSetColor'+'MapAsset'](_0x4fc39c,_0x26a9c4,_0x32ade0){const _0x3e6636=this['system']['app']['assets'];if(_0x26a9c4){const _0x11cc16=_0x3e6636['get'](_0x26a9c4);_0x11cc16&&this['_unbindCol'+'orMapAsset'](_0x11cc16);}if(_0x32ade0){_0x32ade0 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x32ade0['id'],_0x32ade0=_0x32ade0['id']);const _0x1bbaeb=_0x3e6636['get'](_0x32ade0);_0x1bbaeb?this['_bindColor'+'MapAsset'](_0x1bbaeb):_0x3e6636['once']('add:'+_0x32ade0,_0x5f1cbd=>{this['_bindColor'+'MapAsset'](_0x5f1cbd);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0xb6d06e){if(_0xb6d06e['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xb6d06e['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xb6d06e['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xb6d06e['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0xb6d06e['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0xb6d06e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xb6d06e);}}['_unbindNor'+'malMapAsse'+'t'](_0x15e9df){_0x15e9df['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x15e9df['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x15e9df['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x15e9df['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x33613d){this['normalMap']=_0x33613d['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x3f39a8){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x418506){this['_onNormalM'+'apAssetUnl'+'oad'](_0x418506);}['_onNormalM'+'apAssetCha'+'nge'](_0x2355e1){}['onSetNorma'+'lMapAsset'](_0x3799b0,_0xb15111,_0x2d87e5){const _0x3609fd=this['system']['app']['assets'];if(_0xb15111){const _0x599bbb=_0x3609fd['get'](_0xb15111);_0x599bbb&&this['_unbindNor'+'malMapAsse'+'t'](_0x599bbb);}if(_0x2d87e5){_0x2d87e5 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x2d87e5['id'],_0x2d87e5=_0x2d87e5['id']);const _0x2d3de0=_0x3609fd['get'](_0x2d87e5);_0x2d3de0?this['_bindNorma'+'lMapAsset'](_0x2d3de0):_0x3609fd['once']('add:'+_0x2d87e5,_0x1e95e1=>{this['_bindNorma'+'lMapAsset'](_0x1e95e1);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x3e776d){if(_0x3e776d['on']('load',this['_onMeshAss'+'etLoad'],this),_0x3e776d['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x3e776d['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x3e776d['on']('change',this['_onMeshAss'+'etChange'],this),_0x3e776d['resource'])this['_onMeshAss'+'etLoad'](_0x3e776d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3e776d);}}['_unbindMes'+'hAsset'](_0x438f58){_0x438f58['off']('load',this['_onMeshAss'+'etLoad'],this),_0x438f58['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x438f58['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x438f58['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x115d6a){this['_onMeshCha'+'nged'](_0x115d6a['resource']);}['_onMeshAss'+'etUnload'](_0x56dcf8){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x45fc83){this['_onMeshAss'+'etUnload'](_0x45fc83);}['_onMeshAss'+'etChange'](_0x126302){}['onSetMeshA'+'sset'](_0x1bf106,_0x21a0d7,_0x3a4d82){const _0x3621ac=this['system']['app']['assets'];if(_0x21a0d7){const _0x24b022=_0x3621ac['get'](_0x21a0d7);_0x24b022&&this['_unbindMes'+'hAsset'](_0x24b022);}if(_0x3a4d82){_0x3a4d82 instanceof pe&&(this['data']['meshAsset']=_0x3a4d82['id'],_0x3a4d82=_0x3a4d82['id']);const _0x28b440=_0x3621ac['get'](_0x3a4d82);_0x28b440&&this['_bindMeshA'+'sset'](_0x28b440);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x2b13ab,_0xadbac6,_0x454e9d){!_0x454e9d||_0x454e9d instanceof pe||typeof _0x454e9d=='number'?this['meshAsset']=_0x454e9d:this['_onMeshCha'+'nged'](_0x454e9d);}['_onMeshCha'+'nged'](_0x27156c){_0x27156c&&!(_0x27156c instanceof Ge)&&(_0x27156c['meshInstan'+'ces'][0xdf4+-0x2f*0x25+0x27*-0x2f]?_0x27156c=_0x27156c['meshInstan'+'ces'][-0x256+-0x1947+0x1b9d*0x1]['mesh']:_0x27156c=null),this['data']['mesh']=_0x27156c,this['emitter']&&(this['emitter']['mesh']=_0x27156c,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x5a3a04,_0x4b112e,_0x38b182){const _0x33d127=this['system']['app']['assets'];if(_0x4b112e){const _0x488818=_0x33d127['get'](_0x4b112e);_0x488818&&this['_unbindRen'+'derAsset'](_0x488818);}if(_0x38b182){_0x38b182 instanceof pe&&(this['data']['renderAsse'+'t']=_0x38b182['id'],_0x38b182=_0x38b182['id']);const _0x182124=_0x33d127['get'](_0x38b182);_0x182124&&this['_bindRende'+'rAsset'](_0x182124);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x3172fa){if(_0x3172fa['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x3172fa['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x3172fa['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x3172fa['resource'])this['_onRenderA'+'ssetLoad'](_0x3172fa);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3172fa);}}['_unbindRen'+'derAsset'](_0x286e69){var _0x3b3695;_0x286e69['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x286e69['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x286e69['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3b3695=this['_evtSetMes'+'hes'])==null||_0x3b3695['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x3c1f89){this['_onRenderC'+'hanged'](_0x3c1f89['resource']);}['_onRenderA'+'ssetUnload'](_0x1ab429){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x563416){this['_onRenderA'+'ssetUnload'](_0x563416);}['_onRenderC'+'hanged'](_0x23412e){var _0x2a583c;if(!_0x23412e){this['_onMeshCha'+'nged'](null);return;}(_0x2a583c=this['_evtSetMes'+'hes'])==null||_0x2a583c['off'](),this['_evtSetMes'+'hes']=_0x23412e['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x23412e['meshes']&&this['_onRenderS'+'etMeshes'](_0x23412e['meshes']);}['_onRenderS'+'etMeshes'](_0x4e6579){this['_onMeshCha'+'nged'](_0x4e6579&&_0x4e6579[-0x2063+-0x402+0x2465]);}['onSetLoop'](_0x1fbc2c,_0x4c96ca,_0x582879){this['emitter']&&(this['emitter'][_0x1fbc2c]=_0x582879,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x16e4b8,_0x277e6a,_0x299c9a){this['emitter']&&(this['emitter'][_0x16e4b8]=_0x299c9a,this['emitter']['material']['blendType']=_0x299c9a,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x251+-0x1*-0x8bf+-0x3b0*0x3)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x2*0x90b+0x3*-0x31d+-0x8be));}['onSetDepth'+'Softening'](_0x13e9d1,_0x1d387a,_0x135144){_0x1d387a!==_0x135144&&(_0x135144?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x13e9d1]=_0x135144)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x13e9d1]=_0x135144)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x1f084a,_0x2634c9,_0x9e1fe2){this['emitter']&&(this['emitter'][_0x1f084a]=_0x9e1fe2,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x50f613,_0x7f3490,_0xd3e703){this['emitter']&&(this['emitter'][_0x50f613]=_0xd3e703,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x45afed,_0x1167f4,_0x583a64){this['emitter']&&(this['emitter'][_0x45afed]=_0x583a64,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x3267a4=this['system']['app']['scene'],_0x3ce5e4=_0x3267a4['layers'],_0x3bd296=this['data'];for(let _0x2dfe34=0xf*0x12b+0x9f3+-0x1b78,_0x53ce4d=Cc['length'];_0x2dfe34<_0x53ce4d;_0x2dfe34++){let _0x4c9db5=_0x3bd296[Cc[_0x2dfe34]];if(_0x4c9db5){if(!(_0x4c9db5 instanceof pe)){if(parseInt(_0x4c9db5,-0x1bd8+0x31b*-0x3+0x2533)>=0x617*0x6+0x1*-0x65b+-0x1e2f)_0x4c9db5=this['system']['app']['assets']['get'](_0x4c9db5);else continue;}_0x4c9db5&&!_0x4c9db5['resource']&&this['system']['app']['assets']['load'](_0x4c9db5);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x29aa5d=_0x3bd296['mesh'];_0x29aa5d instanceof Ge||(_0x29aa5d=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x3bd296['numParticl'+'es'],'emitterExtents':_0x3bd296['emitterExt'+'ents'],'emitterExtentsInner':_0x3bd296['emitterExt'+'entsInner'],'emitterRadius':_0x3bd296['emitterRad'+'ius'],'emitterRadiusInner':_0x3bd296['emitterRad'+'iusInner'],'emitterShape':_0x3bd296['emitterSha'+'pe'],'initialVelocity':_0x3bd296['initialVel'+'ocity'],'wrap':_0x3bd296['wrap'],'localSpace':_0x3bd296['localSpace'],'screenSpace':_0x3bd296['screenSpac'+'e'],'wrapBounds':_0x3bd296['wrapBounds'],'lifetime':_0x3bd296['lifetime'],'rate':_0x3bd296['rate'],'rate2':_0x3bd296['rate2'],'orientation':_0x3bd296['orientatio'+'n'],'particleNormal':_0x3bd296['particleNo'+'rmal'],'animTilesX':_0x3bd296['animTilesX'],'animTilesY':_0x3bd296['animTilesY'],'animStartFrame':_0x3bd296['animStartF'+'rame'],'animNumFrames':_0x3bd296['animNumFra'+'mes'],'animNumAnimations':_0x3bd296['animNumAni'+'mations'],'animIndex':_0x3bd296['animIndex'],'randomizeAnimIndex':_0x3bd296['randomizeA'+'nimIndex'],'animSpeed':_0x3bd296['animSpeed'],'animLoop':_0x3bd296['animLoop'],'startAngle':_0x3bd296['startAngle'],'startAngle2':_0x3bd296['startAngle'+'2'],'scaleGraph':_0x3bd296['scaleGraph'],'scaleGraph2':_0x3bd296['scaleGraph'+'2'],'colorGraph':_0x3bd296['colorGraph'],'colorGraph2':_0x3bd296['colorGraph'+'2'],'alphaGraph':_0x3bd296['alphaGraph'],'alphaGraph2':_0x3bd296['alphaGraph'+'2'],'localVelocityGraph':_0x3bd296['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x3bd296['localVeloc'+'ityGraph2'],'velocityGraph':_0x3bd296['velocityGr'+'aph'],'velocityGraph2':_0x3bd296['velocityGr'+'aph2'],'rotationSpeedGraph':_0x3bd296['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x3bd296['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x3bd296['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x3bd296['radialSpee'+'dGraph2'],'colorMap':_0x3bd296['colorMap'],'normalMap':_0x3bd296['normalMap'],'loop':_0x3bd296['loop'],'preWarm':_0x3bd296['preWarm'],'sort':_0x3bd296['sort'],'stretch':_0x3bd296['stretch'],'alignToMotion':_0x3bd296['alignToMot'+'ion'],'lighting':_0x3bd296['lighting'],'halfLambert':_0x3bd296['halfLamber'+'t'],'intensity':_0x3bd296['intensity'],'depthSoftening':_0x3bd296['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x29aa5d,'depthWrite':_0x3bd296['depthWrite'],'noFog':_0x3bd296['noFog'],'node':this['entity'],'blendType':_0x3bd296['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x3bd296['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x15ed+-0x1c0+0x1*0x17ae));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x3267a4['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3ce5e4&&(this['_evtLayerA'+'dded']=_0x3ce5e4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3ce5e4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x3bd296['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x1d2556,_0x290986,_0x5529ac;const _0x3ea118=this['system']['app']['scene']['layers'];(_0x1d2556=this['_evtLayers'+'Changed'])==null||_0x1d2556['off'](),this['_evtLayers'+'Changed']=null,_0x3ea118&&((_0x290986=this['_evtLayerA'+'dded'])==null||_0x290986['off'](),this['_evtLayerA'+'dded']=null,(_0x5529ac=this['_evtLayerR'+'emoved'])==null||_0x5529ac['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x1a79+0x20f1+-0xe3*0x43)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x5d7e73=0x1*-0x2175+-0x18b6+-0x1*-0x3a2b;_0x5d7e73<Cc['length'];_0x5d7e73++){const _0x5759b9=Cc[_0x5d7e73];this['data'][_0x5759b9]&&(this[_0x5759b9]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x1*-0x175d+0xb7e+-0x22da),this['emitter']['resetTime'](),this['emitter']['addTime'](0x87*0x44+-0x1dfb+0x1*-0x5e1,!(0x1*0x1196+0x1*-0x7ab+0x1*-0x9eb)));}['pause'](){this['data']['paused']=!(-0x19d2+0xbab+0xe27);}['unpause'](){this['data']['paused']=!(0x18a7+0x1456+-0x2cfc);}['play'](){this['data']['paused']=!(-0x35*0xa7+0x2*-0xec6+0x4020),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x3*0xa5e+-0x1c1b+0x3b*-0xd),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x1*-0xd76+0x22*-0xdc+0x31*0xdf):this['emitter']&&this['emitter']['loop']?!(0x3bb*-0x5+0x265d+0x13b6*-0x1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x55a777}=this;_0x55a777&&!_0x55a777['inTools']&&(_0x55a777['inTools']=!(-0x8*0xce+0x1f*-0x36+0xcfa),this['rebuild']());}['rebuild'](){const _0x1f8b96=this['enabled'];this['enabled']=!(-0x7*0x4fa+-0x18e8+-0x3bbf*-0x1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1f8b96;}}class t3{constructor(){this['numParticl'+'es']=0x1c8*-0x4+0x3e*0x9f+-0x1f61,this['rate']=-0x67*-0x1f+0x24da+-0x3152,this['rate2']=null,this['startAngle']=-0x1*-0x12f9+0x1b52+0x1*-0x2e4b,this['startAngle'+'2']=null,this['lifetime']=-0x127e+-0x1641+0x2f*0xdf,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0xd17*-0x2+-0x134+0x1b62,this['emitterRad'+'iusInner']=-0x1aff+-0x24b+0x1d4a,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x1*0x36e+0x5*0x692+0x1*-0x1d6c,this['wrap']=!(-0x4f*0x4b+0x44f*-0x5+-0x1*-0x2cb1),this['wrapBounds']=new D(),this['localSpace']=!(-0xf65+-0x11*-0x24a+0x23*-0xac),this['screenSpac'+'e']=!(-0xdfa+-0x19*0x13+0xfd6*0x1),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1566+-0x1382+-0x1e4),this['preWarm']=!(-0x1*-0x2050+-0x8f*-0x29+0x3736*-0x1),this['sort']=-0x895+0x14d8*-0x1+0x1d6d,this['mode']=rv,this['scene']=null,this['lighting']=!(0x2*0x8d1+0x16*-0x15d+0xc5d),this['halfLamber'+'t']=!(0xb*0x8f+-0x5*0x18f+0x1*0x1a7),this['intensity']=0x1*-0xcb5+0x22c+0xa8a*0x1,this['stretch']=-0x135d*-0x1+-0x16a1*-0x1+-0x29fe,this['alignToMot'+'ion']=!(-0x1894+-0x2*0x5e7+0x2463),this['depthSofte'+'ning']=-0x153c+0x14b*-0x17+0x32f9,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1*0x2565+-0x1*-0x1099+0x32d*-0x11),this['noFog']=!(-0x157*-0x17+-0x11d1*0x1+0x455*-0x3),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x1ee6+-0x1*-0x667+0x187f,0xe5d+0x16c*0x9+-0x4*0x6ca,-0x37*0xa7+0x55+0x19*0x16c),this['animTilesX']=-0xc2f*-0x1+-0x16a5+0xa77,this['animTilesY']=-0x1*-0x12f5+0x111a+-0x240e,this['animStartF'+'rame']=-0x4bc+0x2b+-0x1*-0x491,this['animNumFra'+'mes']=-0xc4*-0x22+0x5*0x2e7+0x2*-0x1445,this['animNumAni'+'mations']=0x15e4+0x1665+0x1b4*-0x1a,this['animIndex']=-0x1503+0x8*0x33b+-0x4d5*0x1,this['randomizeA'+'nimIndex']=!(-0x226+0x9*0x14b+-0x97c),this['animSpeed']=-0x69*-0x1c+0xd02+-0x187d,this['animLoop']=!(-0x593*-0x7+0x175*0x1+0x1d7*-0x16),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x2a*0x6+-0x1*0xad6+-0x2*-0x4ed),this['paused']=!(0x13*-0x6b+0x3a8*0x9+-0x18f6),this['autoPlay']=!(0x619*-0x2+0xe21+0x37*-0x9),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x1af557){super(_0x1af557),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x1af557['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x1af557['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x464fb6,_0x1fb4da,_0x1e4231){const _0x5a5d26={};_0x1e4231=[];const _0x2831a8=this['propertyTy'+'pes'];(_0x1fb4da['mesh']instanceof pe||typeof _0x1fb4da['mesh']=='number')&&(_0x1fb4da['meshAsset']=_0x1fb4da['mesh'],delete _0x1fb4da['mesh']);for(const _0x368509 in _0x1fb4da){if(_0x1fb4da['hasOwnProp'+'erty'](_0x368509)&&(_0x1e4231['push'](_0x368509),_0x5a5d26[_0x368509]=_0x1fb4da[_0x368509]),_0x2831a8[_0x368509]==='vec3')Array['isArray'](_0x5a5d26[_0x368509])&&(_0x5a5d26[_0x368509]=new D(_0x5a5d26[_0x368509][-0x185e+0x178d+0xd1],_0x5a5d26[_0x368509][0x1267+0x2052+-0x32b8],_0x5a5d26[_0x368509][0xe1d*0x1+0x1*-0x1fd5+0x2*0x8dd]));else{if(_0x2831a8[_0x368509]==='curve'){if(!(_0x5a5d26[_0x368509]instanceof qs)){const _0x1ea9b9=_0x5a5d26[_0x368509]['type'];_0x5a5d26[_0x368509]=new qs(_0x5a5d26[_0x368509]['keys']),_0x5a5d26[_0x368509]['type']=_0x1ea9b9;}}else{if(_0x2831a8[_0x368509]==='curveset'&&!(_0x5a5d26[_0x368509]instanceof na)){const _0x2eb7c3=_0x5a5d26[_0x368509]['type'];_0x5a5d26[_0x368509]=new na(_0x5a5d26[_0x368509]['keys']),_0x5a5d26[_0x368509]['type']=_0x2eb7c3;}}}_0x5a5d26['layers']&&Array['isArray'](_0x5a5d26['layers'])&&(_0x5a5d26['layers']=_0x5a5d26['layers']['slice'](0x24a2+0x1f14+-0x51*0xd6));}super['initialize'+'ComponentD'+'ata'](_0x464fb6,_0x5a5d26,_0x1e4231);}['cloneCompo'+'nent'](_0x32ae19,_0x548641){const _0x35cb1c=_0x32ae19['particlesy'+'stem']['data'],_0x5e9e88=this['schema'],_0xcdb8e2={};for(let _0x29e2a4=0x19cc*0x1+-0x349*-0x2+-0x205e,_0x263d4d=_0x5e9e88['length'];_0x29e2a4<_0x263d4d;_0x29e2a4++){const _0x57f655=_0x5e9e88[_0x29e2a4];let _0x5a184a=_0x35cb1c[_0x57f655];_0x5a184a instanceof D||_0x5a184a instanceof qs||_0x5a184a instanceof na?(_0x5a184a=_0x5a184a['clone'](),_0xcdb8e2[_0x57f655]=_0x5a184a):_0x57f655==='layers'?_0xcdb8e2['layers']=_0x35cb1c['layers']['slice'](-0x7*-0x198+0x1*0x116f+-0x1c97):_0x5a184a!=null&&(_0xcdb8e2[_0x57f655]=_0x5a184a);}return this['addCompone'+'nt'](_0x548641,_0xcdb8e2);}['onUpdate'](_0x4dd3a7){const _0x58655e=this['store'],_0x381ef5=this['app']['stats']['particles'],_0x3d1104=this['app']['scene']['layers'];for(let _0x5568e5=-0x71*-0x29+0xad9+-0x1cf2;_0x5568e5<_0x3d1104['layerList']['length'];_0x5568e5++)_0x3d1104['layerList'][_0x5568e5]['requiresLi'+'ghtCube']=!(0x4d+-0x1*-0x71d+-0x769);for(const _0x37e599 in _0x58655e)if(_0x58655e['hasOwnProp'+'erty'](_0x37e599)){const _0x4ac86d=_0x58655e[_0x37e599],_0x4118e1=_0x4ac86d['entity'],_0x57f3e9=_0x4ac86d['data'];if(_0x57f3e9['enabled']&&_0x4118e1['enabled']){const _0x2cb21e=_0x4118e1['particlesy'+'stem']['emitter'];if(!(_0x2cb21e!=null&&_0x2cb21e['meshInstan'+'ce']['visible']))continue;if(_0x2cb21e['lighting']){const _0x280082=_0x57f3e9['layers'];for(let _0x3f26af=0x559+-0xf37+0x4ef*0x2;_0x3f26af<_0x280082['length'];_0x3f26af++){const _0x1dfe41=_0x3d1104['getLayerBy'+'Id'](_0x280082[_0x3f26af]);_0x1dfe41&&(_0x1dfe41['requiresLi'+'ghtCube']=!(-0x1*-0x16ca+-0x1d71*0x1+-0x1*-0x6a7));}}if(!_0x57f3e9['paused']){let _0x27c4bd=0x1*-0x1ec7+0x1ce7+-0x60*-0x5;if(_0x2cb21e['simTime']+=_0x4dd3a7,_0x2cb21e['simTime']>=_0x2cb21e['fixedTimeS'+'tep']&&(_0x27c4bd=Math['floor'](_0x2cb21e['simTime']/_0x2cb21e['fixedTimeS'+'tep']),_0x2cb21e['simTime']-=_0x27c4bd*_0x2cb21e['fixedTimeS'+'tep']),_0x27c4bd){_0x27c4bd=Math['min'](_0x27c4bd,_0x2cb21e['maxSubStep'+'s']);for(let _0x20e026=-0x1f0e+-0x1579+-0x1*-0x3487;_0x20e026<_0x27c4bd;_0x20e026++)_0x2cb21e['addTime'](_0x2cb21e['fixedTimeS'+'tep'],!(-0x1573+-0x1c*0x2f+0x1a98));_0x381ef5['_updatesPe'+'rFrame']+=_0x27c4bd,_0x381ef5['_frameTime']+=_0x2cb21e['_addTimeTi'+'me'],_0x2cb21e['_addTimeTi'+'me']=0xa01+0x260a+-0x1*0x300b;}_0x2cb21e['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x430d19,_0x2dceb9){_0x2dceb9['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x6aa1e6,_0x39c31f){super(),this['skin']=_0x6aa1e6,this['skinInstan'+'ce']=_0x39c31f;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x528a32,_0x11249b)=>{console['log'](_0x11249b['name']+':\x20Array('+_0x528a32['length']+')');for(let _0x387c34=0x23c9+0x1fb2+0x1*-0x437b;_0x387c34<_0x528a32['length'];_0x387c34++)console['log']('\x20\x20'+_0x387c34+(':\x20RefCount'+'\x20')+_0x528a32[_0x387c34]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x341c00,_0x1e881a,_0x3e2c06){let _0x17124b=Gs['getCachedS'+'kinInstanc'+'e'](_0x341c00,_0x1e881a);return _0x17124b||(_0x17124b=new Ol(_0x341c00),_0x17124b['resolve'](_0x1e881a,_0x3e2c06),Gs['addCachedS'+'kinInstanc'+'e'](_0x341c00,_0x1e881a,_0x17124b)),_0x17124b;}static['getCachedS'+'kinInstanc'+'e'](_0x3eb05a,_0x41e562){let _0x25bdd6=null;const _0x4711f1=Gs['_skinInsta'+'nceCache']['get'](_0x41e562);if(_0x4711f1){const _0x1be4dd=_0x4711f1['find'](_0x3e7095=>_0x3e7095['skin']===_0x3eb05a);_0x1be4dd&&(_0x1be4dd['incRefCoun'+'t'](),_0x25bdd6=_0x1be4dd['skinInstan'+'ce']);}return _0x25bdd6;}static['addCachedS'+'kinInstanc'+'e'](_0x1f76a8,_0xe1ae03,_0x577fd0){let _0x53b652=Gs['_skinInsta'+'nceCache']['get'](_0xe1ae03);_0x53b652||(_0x53b652=[],Gs['_skinInsta'+'nceCache']['set'](_0xe1ae03,_0x53b652));let _0x2c5c4e=_0x53b652['find'](_0x140eb3=>_0x140eb3['skin']===_0x1f76a8);_0x2c5c4e||(_0x2c5c4e=new UO(_0x1f76a8,_0x577fd0),_0x53b652['push'](_0x2c5c4e)),_0x2c5c4e['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x244f51){if(_0x244f51){const _0x52eb3f=_0x244f51['rootBone'];if(_0x52eb3f){const _0x1830f4=Gs['_skinInsta'+'nceCache']['get'](_0x52eb3f);if(_0x1830f4){const _0x5869ff=_0x1830f4['findIndex'](_0x282434=>_0x282434['skinInstan'+'ce']===_0x244f51);if(_0x5869ff>=0x280*0x7+-0xbdd*-0x1+0x1d5d*-0x1){const _0x4528e1=_0x1830f4[_0x5869ff];_0x4528e1['decRefCoun'+'t'](),_0x4528e1['refCount']===-0x4f*-0x4c+-0x1b2f*0x1+-0x5*-0xbf&&(_0x1830f4['splice'](_0x5869ff,-0x268b+0x1*0x2005+0x687),_0x1830f4['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x52eb3f),_0x244f51&&(_0x244f51['destroy'](),_0x4528e1['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x421737,_0x3acdfa,_0x4d6e59,_0x15576a,_0x55c7d3){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x421737,this['parent']=_0x3acdfa,this['_scope']=_0x55c7d3,this['_registry']=_0x4d6e59,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x15576a['load'],this['_onAssetAd'+'d']=_0x15576a['add'],this['_onAssetRe'+'move']=_0x15576a['remove'],this['_onAssetUn'+'load']=_0x15576a['unload']);}set['id'](_0x3c149a){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x3c149a,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x58955d){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x58955d,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xb94975,_0x32259a,_0x59f74d,_0x4f81a5,_0x161864,_0x579be7,_0x3b7563;this['id']&&((_0xb94975=this['_evtLoadBy'+'Id'])==null||_0xb94975['off'](),this['_evtLoadBy'+'Id']=null,(_0x32259a=this['_evtAddByI'+'d'])==null||_0x32259a['off'](),this['_evtAddByI'+'d']=null,(_0x59f74d=this['_evtRemove'+'ById'])==null||_0x59f74d['off'](),this['_evtRemove'+'ById']=null,(_0x4f81a5=this['_evtUnload'+'ById'])==null||_0x4f81a5['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x161864=this['_evtLoadBy'+'Url'])==null||_0x161864['off'](),this['_evtLoadBy'+'Url']=null,(_0x579be7=this['_evtAddByU'+'rl'])==null||_0x579be7['off'](),this['_evtAddByU'+'rl']=null,(_0x3b7563=this['_evtRemove'+'ByUrl'])==null||_0x3b7563['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x209a9d){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x209a9d);}['_onAdd'](_0x100a36){this['asset']=_0x100a36,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x100a36);}['_onRemove'](_0x39acbd){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x39acbd),this['asset']=null;}['_onUnload'](_0x30e1aa){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x30e1aa);}}class n0 extends we{constructor(_0x379259,_0x1d2660){super(_0x379259,_0x1d2660),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x62a+0x2242+-0x286c*0x1)),h(this,'_receiveSh'+'adows',!(-0x540+-0xd4c+0x2*0x946)),h(this,'_castShado'+'wsLightmap',!(-0xb2d+-0xcd3*-0x3+0x1*-0x1b4c)),h(this,'_lightmapp'+'ed',!(-0x24b3+0x131a+0x119a*0x1)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x3*0xb74+-0x417+0x99d*0x4),h(this,'isStatic',!(-0x26c0+0x170+0x2551)),h(this,'_batchGrou'+'pId',-(0x1a5d+-0x25d3*0x1+-0xb77*-0x1)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x379259['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x379259['defaultMat'+'erial'],_0x1d2660['on']('remove',this['onRemoveCh'+'ild'],this),_0x1d2660['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1d2660['on']('insert',this['onInsertCh'+'ild'],this),_0x1d2660['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x1b168b){this['_renderSty'+'le']!==_0x1b168b&&(this['_renderSty'+'le']=_0x1b168b,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x1b168b));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0xbe8ac4){this['_customAab'+'b']=_0xbe8ac4;const _0x1060ca=this['_meshInsta'+'nces'];if(_0x1060ca){for(let _0x2b0879=-0xe03+0x347*-0x7+0x24f4;_0x2b0879<_0x1060ca['length'];_0x2b0879++)_0x1060ca[_0x2b0879]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2a42ee){if(this['_type']!==_0x2a42ee&&(this['_area']=null,this['_type']=_0x2a42ee,this['destroyMes'+'hInstances'](),_0x2a42ee!=='asset')){let _0x2bf7be=this['_material'];(!_0x2bf7be||_0x2bf7be===this['system']['defaultMat'+'erial'])&&(_0x2bf7be=this['_materialR'+'eferences'][-0x1c23+0x8*0x67+0x18eb]&&this['_materialR'+'eferences'][0x2*0xa91+0x1319*0x2+-0x3b54]['asset']&&this['_materialR'+'eferences'][0x6a*-0x20+0x1673+-0x933]['asset']['resource']);const _0x1b5007=r0(this['system']['app']['graphicsDe'+'vice'],_0x2a42ee);this['_area']=_0x1b5007['area'],this['meshInstan'+'ces']=[new He(_0x1b5007['mesh'],_0x2bf7be||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x5d3adc){if(w['assert'](Array['isArray'](_0x5d3adc),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x5d3adc,this['_meshInsta'+'nces']){const _0x25d8d8=this['_meshInsta'+'nces'];for(let _0x22a201=-0xb38*-0x2+-0xbb*-0x2a+-0x1*0x351e;_0x22a201<_0x25d8d8['length'];_0x22a201++)_0x25d8d8[_0x22a201]['node']||(_0x25d8d8[_0x22a201]['node']=this['entity']),_0x25d8d8[_0x22a201]['castShadow']=this['_castShado'+'ws'],_0x25d8d8[_0x22a201]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x25d8d8[_0x22a201]['renderStyl'+'e']=this['_renderSty'+'le'],_0x25d8d8[_0x22a201]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x25d8d8[_0x22a201]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x20aec9){if(_0x20aec9!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x20aec9;const _0x529e74=this['_meshInsta'+'nces'];if(_0x529e74){for(let _0x26d7f3=-0x12d5+-0x22a0+0x1*0x3575;_0x26d7f3<_0x529e74['length'];_0x26d7f3++)_0x529e74[_0x26d7f3]['setLightma'+'pped'](_0x20aec9);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x4c6b20){if(this['_castShado'+'ws']!==_0x4c6b20){const _0xa006ca=this['_meshInsta'+'nces'];if(_0xa006ca){const _0x4d7b3a=this['layers'],_0x94553a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4c6b20)for(let _0x51f963=0x463*0x5+0x65*0x27+-0x2552;_0x51f963<_0x4d7b3a['length'];_0x51f963++){const _0x273f8f=_0x94553a['layers']['getLayerBy'+'Id'](this['layers'][_0x51f963]);_0x273f8f&&_0x273f8f['removeShad'+'owCasters'](_0xa006ca);}for(let _0xdd07dd=0x1dae+-0x120*-0x11+0x2*-0x1867;_0xdd07dd<_0xa006ca['length'];_0xdd07dd++)_0xa006ca[_0xdd07dd]['castShadow']=_0x4c6b20;if(!this['_castShado'+'ws']&&_0x4c6b20)for(let _0x1e571a=-0x1196+0x2f*0x3+0x1109;_0x1e571a<_0x4d7b3a['length'];_0x1e571a++){const _0x3dee5a=_0x94553a['layers']['getLayerBy'+'Id'](_0x4d7b3a[_0x1e571a]);_0x3dee5a&&_0x3dee5a['addShadowC'+'asters'](_0xa006ca);}}this['_castShado'+'ws']=_0x4c6b20;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x14e11a){if(this['_receiveSh'+'adows']!==_0x14e11a){this['_receiveSh'+'adows']=_0x14e11a;const _0x5e8c2a=this['_meshInsta'+'nces'];if(_0x5e8c2a){for(let _0x2e39f2=0x2*-0x581+0x1bdc+-0x10da;_0x2e39f2<_0x5e8c2a['length'];_0x2e39f2++)_0x5e8c2a[_0x2e39f2]['receiveSha'+'dow']=_0x14e11a;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x295db5){this['_castShado'+'wsLightmap']=_0x295db5;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x151b32){this['_lightmapS'+'izeMultipl'+'ier']=_0x151b32;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x27cbe4){const _0x1dd18d=this['system']['app']['scene']['layers'];let _0x5f102e;if(this['_meshInsta'+'nces']){for(let _0x4e55e1=0x1*-0x1e17+-0xe23+0x2c3a;_0x4e55e1<this['_layers']['length'];_0x4e55e1++)_0x5f102e=_0x1dd18d['getLayerBy'+'Id'](this['_layers'][_0x4e55e1]),_0x5f102e&&_0x5f102e['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x122e+-0x2526+0x12f8;for(let _0x29a8b1=-0x1d63+-0x20*0x10b+0x3ec3*0x1;_0x29a8b1<_0x27cbe4['length'];_0x29a8b1++)this['_layers'][_0x29a8b1]=_0x27cbe4[_0x29a8b1];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5b6789=-0x2135+-0x1897+0x39cc;_0x5b6789<this['_layers']['length'];_0x5b6789++)_0x5f102e=_0x1dd18d['getLayerBy'+'Id'](this['_layers'][_0x5b6789]),_0x5f102e&&_0x5f102e['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x3118f2){var _0x407566,_0x5b5ac2;this['_batchGrou'+'pId']!==_0x3118f2&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x452*0x5+-0x131*0x1+0x5*-0x415&&((_0x407566=this['system']['app']['batcher'])==null||_0x407566['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x3118f2>=0x3b7+0x1aa4+-0x1e5b&&((_0x5b5ac2=this['system']['app']['batcher'])==null||_0x5b5ac2['insert'](St['RENDER'],_0x3118f2,this['entity'])),_0x3118f2<0x8b*-0x3b+-0x1945+0x5*0xb76&&this['_batchGrou'+'pId']>=0x8ea+0x1069+-0x1953&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x3118f2);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x299bd3){if(this['_material']!==_0x299bd3&&(this['_material']=_0x299bd3,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x110d2e=0xaf*-0x2e+-0x22d8+0x6a1*0xa;_0x110d2e<this['_meshInsta'+'nces']['length'];_0x110d2e++)this['_meshInsta'+'nces'][_0x110d2e]['material']=_0x299bd3;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x31201c=[]){if(this['_materialR'+'eferences']['length']>_0x31201c['length']){for(let _0x490eff=_0x31201c['length'];_0x490eff<this['_materialR'+'eferences']['length'];_0x490eff++)this['_materialR'+'eferences'][_0x490eff]['id']=null;this['_materialR'+'eferences']['length']=_0x31201c['length'];}for(let _0x23be25=-0x5*0x305+-0x1*-0x43+0x9*0x1a6;_0x23be25<_0x31201c['length'];_0x23be25++)if(this['_materialR'+'eferences'][_0x23be25]||this['_materialR'+'eferences']['push'](new gl(_0x23be25,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x31201c[_0x23be25]){const _0x295dc7=_0x31201c[_0x23be25]instanceof pe?_0x31201c[_0x23be25]['id']:_0x31201c[_0x23be25];this['_materialR'+'eferences'][_0x23be25]['id']!==_0x295dc7&&(this['_materialR'+'eferences'][_0x23be25]['id']=_0x295dc7),this['_materialR'+'eferences'][_0x23be25]['asset']&&this['_onMateria'+'lAdded'](_0x23be25,this,this['_materialR'+'eferences'][_0x23be25]['asset']);}else this['_materialR'+'eferences'][_0x23be25]['id']=null,this['_meshInsta'+'nces'][_0x23be25]&&(this['_meshInsta'+'nces'][_0x23be25]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x35f6ab=>_0x35f6ab['id']);}set['asset'](_0x498db4){const _0x53e10b=_0x498db4 instanceof pe?_0x498db4['id']:_0x498db4;this['_assetRefe'+'rence']['id']!==_0x53e10b&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x53e10b,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x434e68){const _0x3f56c0=_0x434e68 instanceof pe?_0x434e68['id']:_0x434e68;this['_assetRefe'+'rence']['id']=_0x3f56c0;}set['rootBone'](_0x37238c){if(this['_rootBone']!==_0x37238c){const _0x1bf071=typeof _0x37238c=='string';if(this['_rootBone']&&_0x1bf071&&this['_rootBone']['getGuid']()===_0x37238c)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x37238c instanceof Ie?this['_rootBone']=_0x37238c:_0x1bf071?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x37238c)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x80e569=this['_meshInsta'+'nces'];if(_0x80e569){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x204e4d=-0x2491+0x1cc2+0x1*0x7cf;_0x204e4d<_0x80e569['length'];_0x204e4d++)_0x80e569[_0x204e4d]['destroy']();this['_meshInsta'+'nces']['length']=-0x770*-0x2+0x1d2*0x8+0x1d7*-0x10;}}['addToLayer'+'s'](){const _0x3a1c4f=this['system']['app']['scene']['layers'];for(let _0x228efa=0x9aa*-0x1+0x14f0*-0x1+0x1e9a;_0x228efa<this['_layers']['length'];_0x228efa++){const _0x21b728=_0x3a1c4f['getLayerBy'+'Id'](this['_layers'][_0x228efa]);_0x21b728&&_0x21b728['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x1690c3=this['system']['app']['scene']['layers'];for(let _0x349a54=-0x2f1+0x7*0x35b+-0x148c;_0x349a54<this['_layers']['length'];_0x349a54++){const _0x18d342=_0x1690c3['getLayerBy'+'Id'](this['_layers'][_0x349a54]);_0x18d342&&_0x18d342['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x2607bf=-0xc*0x1cd+-0x3*0x386+0x202e;_0x2607bf<this['_materialR'+'eferences']['length'];_0x2607bf++)this['_materialR'+'eferences'][_0x2607bf]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4fe5ab,_0x2bfdfa){this['addToLayer'+'s'](),_0x4fe5ab['off']('add',this['onLayerAdd'+'ed'],this),_0x4fe5ab['off']('remove',this['onLayerRem'+'oved'],this),_0x2bfdfa['on']('add',this['onLayerAdd'+'ed'],this),_0x2bfdfa['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5f5d45){this['layers']['indexOf'](_0x5f5d45['id'])<0x227b+-0x3*-0x24b+0x1*-0x295c||_0x5f5d45['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0xad0e98){this['layers']['indexOf'](_0xad0e98['id'])<-0xfa0+-0x132a+-0x1*-0x22ca||_0xad0e98['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x41edf9;const _0x25dd72=this['system']['app'],_0x2dae0f=_0x25dd72['scene'],_0x2d7684=_0x2dae0f['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x2dae0f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2d7684&&(this['_evtLayerA'+'dded']=_0x2d7684['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2d7684['on']('remove',this['onLayerRem'+'oved'],this));const _0x20826a=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x20826a&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x1c769d=0x9fe+-0x278*0x5+0xe*0x2b;_0x1c769d<this['_materialR'+'eferences']['length'];_0x1c769d++)this['_materialR'+'eferences'][_0x1c769d]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x1c769d]['asset']);this['_batchGrou'+'pId']>=0x1ca+0x1396*0x1+-0x1560&&((_0x41edf9=_0x25dd72['batcher'])==null||_0x41edf9['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x328794,_0xda8845,_0x1f6a94,_0x25adc5;const _0x1b4c29=this['system']['app'],_0x4ac73b=_0x1b4c29['scene']['layers'];(_0x328794=this['_evtLayers'+'Changed'])==null||_0x328794['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x4ac73b&&((_0xda8845=this['_evtLayerA'+'dded'])==null||_0xda8845['off'](),this['_evtLayerA'+'dded']=null,(_0x1f6a94=this['_evtLayerR'+'emoved'])==null||_0x1f6a94['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*0xdaf+-0x222*0x9+0x583*0x1&&((_0x25adc5=_0x1b4c29['batcher'])==null||_0x25adc5['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x232431=-0x7*0x3c5+0x503+0x1560;_0x232431<this['_meshInsta'+'nces']['length'];_0x232431++)this['_meshInsta'+'nces'][_0x232431]['visible']=!(-0x9*0xc+0x2*0x5ce+0x1*-0xb2f);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x556fe2=0x15b4+-0x2*0x1043+0xad2;_0x556fe2<this['_meshInsta'+'nces']['length'];_0x556fe2++)this['_meshInsta'+'nces'][_0x556fe2]['visible']=!(0x2*-0xbc5+0x1ebd+0x61*-0x13);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x452166;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x30bcbc=this['_assetRefe'+'rence']['asset']['resource'];(_0x452166=this['_evtSetMes'+'hes'])==null||_0x452166['off'](),this['_evtSetMes'+'hes']=_0x30bcbc['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x30bcbc['meshes']&&this['_onSetMesh'+'es'](_0x30bcbc['meshes']);}}['_onSetMesh'+'es'](_0x20e3d1){this['_cloneMesh'+'es'](_0x20e3d1);}['_clearSkin'+'Instances'](){for(let _0x35c675=0x2cf*0x7+0x6f*0x1f+-0x211a;_0x35c675<this['_meshInsta'+'nces']['length'];_0x35c675++){const _0x37cf6e=this['_meshInsta'+'nces'][_0x35c675];_l['removeCach'+'edSkinInst'+'ance'](_0x37cf6e['skinInstan'+'ce']),_0x37cf6e['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x194650=0x135d+0xc29*-0x1+0x4*-0x1cd;_0x194650<this['_meshInsta'+'nces']['length'];_0x194650++){const _0x1020a4=this['_meshInsta'+'nces'][_0x194650],_0x3809bd=_0x1020a4['mesh'];_0x3809bd['skin']&&!_0x1020a4['skinInstan'+'ce']&&(_0x1020a4['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x3809bd['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x503ee2){if(_0x503ee2&&_0x503ee2['length']){const _0x1264fb=[];for(let _0x3bc3bc=-0x243c+0x4*0x4bb+0x1150*0x1;_0x3bc3bc<_0x503ee2['length'];_0x3bc3bc++){const _0x3e7d62=_0x503ee2[_0x3bc3bc],_0x4c2467=this['_materialR'+'eferences'][_0x3bc3bc]&&this['_materialR'+'eferences'][_0x3bc3bc]['asset']&&this['_materialR'+'eferences'][_0x3bc3bc]['asset']['resource'],_0x1f7430=new He(_0x3e7d62,_0x4c2467||this['system']['defaultMat'+'erial'],this['entity']);_0x1264fb['push'](_0x1f7430),_0x3e7d62['morph']&&(_0x1f7430['morphInsta'+'nce']=new xa(_0x3e7d62['morph']));}this['meshInstan'+'ces']=_0x1264fb,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x421662;(_0x421662=this['_evtSetMes'+'hes'])==null||_0x421662['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x2c0494,_0x5a8758,_0x2e9c77){_0x2e9c77['resource']?this['_onMateria'+'lLoad'](_0x2c0494,_0x5a8758,_0x2e9c77):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x2e9c77);}['_updateMai'+'nMaterial'](_0x1e3dda,_0x2c61c1){_0x1e3dda===0x2de*0x1+0x1a7a+-0xc*0x272&&(this['material']=_0x2c61c1);}['_onMateria'+'lLoad'](_0x150023,_0x473c5b,_0x696ca3){this['_meshInsta'+'nces'][_0x150023]&&(this['_meshInsta'+'nces'][_0x150023]['material']=_0x696ca3['resource']),this['_updateMai'+'nMaterial'](_0x150023,_0x696ca3['resource']);}['_onMateria'+'lRemove'](_0x189411,_0x256ea1,_0x2fc23b){this['_meshInsta'+'nces'][_0x189411]&&(this['_meshInsta'+'nces'][_0x189411]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x189411,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x285909,_0x45385e,_0x3ac757){this['_meshInsta'+'nces'][_0x285909]&&(this['_meshInsta'+'nces'][_0x285909]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x285909,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c9750,_0x10c815){_0x4c9750['rootBone']&&(this['rootBone']=_0x10c815[_0x4c9750['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0x1*-0xe71+0x1e56+-0x139*0xd);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x3b5044){super(_0x3b5044),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x3b5044['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3e6246,_0x32e69d,_0x424489){(_0x32e69d['batchGroup'+'Id']===null||_0x32e69d['batchGroup'+'Id']===void(0xa34+0x146f*0x1+-0x1ea3))&&(_0x32e69d['batchGroup'+'Id']=-(-0xfb0*0x1+-0x179c+0x274d)),_0x32e69d['layers']&&_0x32e69d['layers']['length']&&(_0x32e69d['layers']=_0x32e69d['layers']['slice'](0x262*0x10+-0x1*0x10eb+-0x1535));for(let _0x1d47ef=-0x2537+-0xa5*0x27+0x1f2d*0x2;_0x1d47ef<Gr['length'];_0x1d47ef++)_0x32e69d['hasOwnProp'+'erty'](Gr[_0x1d47ef])&&(_0x3e6246[Gr[_0x1d47ef]]=_0x32e69d[Gr[_0x1d47ef]]);_0x32e69d['aabbCenter']&&_0x32e69d['aabbHalfEx'+'tents']&&(_0x3e6246['customAabb']=new De(new D(_0x32e69d['aabbCenter']),new D(_0x32e69d['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3e6246,_0x32e69d,ku);}['cloneCompo'+'nent'](_0x315755,_0x1ad2d4){const _0x4b1c04={};for(let _0x239a75=0xa5*0x2b+0x217f+-0x3d36;_0x239a75<Gr['length'];_0x239a75++)_0x4b1c04[Gr[_0x239a75]]=_0x315755['render'][Gr[_0x239a75]];_0x4b1c04['enabled']=_0x315755['render']['enabled'],delete _0x4b1c04['meshInstan'+'ces'];const _0x51fd85=this['addCompone'+'nt'](_0x1ad2d4,_0x4b1c04),_0x47f164=_0x315755['render']['meshInstan'+'ces'],_0x1a3bd4=_0x47f164['map'](_0x4f8d15=>_0x4f8d15['mesh']);_0x51fd85['_onSetMesh'+'es'](_0x1a3bd4);for(let _0x195fe5=-0x151*0x9+-0x1f4a+0x2b23;_0x195fe5<_0x47f164['length'];_0x195fe5++)_0x51fd85['meshInstan'+'ces'][_0x195fe5]['material']=_0x47f164[_0x195fe5]['material'];return _0x315755['render']['customAabb']&&(_0x51fd85['customAabb']=_0x315755['render']['customAabb']['clone']()),_0x51fd85;}['onRemove'](_0x264f46,_0x47e0e2){_0x47e0e2['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x17f1de,_0x1346b1){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0xdc9*0x1+-0x117e+-0x33*-0x9d),(this['_construct'+'or']=_0x17f1de,this['_resize'](_0x1346b1));}['_resize'](_0x539fb6){if(_0x539fb6>this['_pool']['length']){for(let _0x42d857=this['_pool']['length'];_0x42d857<_0x539fb6;_0x42d857++)this['_pool'][_0x42d857]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1c43+0x9*0x348+0x11*-0x13)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x74e+-0x8c0+-0x1*-0x172;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x3d6*0x1+0x240d*0x1+-0x2037),h(this,'_angularFa'+'ctor',new D(0x1d11+0x21d*-0x11+0x6dd*0x1,-0x4*0x5c9+0xff8+0x72d,0x5*0x3b+0x1bb*0x1+0x43*-0xb)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x1b72+0x23bd+0x1*-0x84b+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0x750+0xb93*0x1+-0x12e3*0x1),h(this,'_linearFac'+'tor',new D(0x94e+0x2*0xf97+-0x287b,0xb91+-0x3*-0xb77+-0x2df5,-0x1*-0xd69+-0x159c+0x15e*0x6)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x381+0x219c+0xbe*-0x32),h(this,'_restituti'+'on',-0x12fa+-0x3*0xce3+-0x5*-0xb87),h(this,'_rollingFr'+'iction',0x106*0x10+0x9a7*0x3+-0x2d55),h(this,'_simulatio'+'nEnabled',!(-0x251d+-0x2036+0x4554)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x48fd21){this['_angularDa'+'mping']!==_0x48fd21&&(this['_angularDa'+'mping']=_0x48fd21,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x48fd21));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x1de4ae){this['_angularFa'+'ctor']['equals'](_0x1de4ae)||(this['_angularFa'+'ctor']['copy'](_0x1de4ae),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x1de4ae['x'],_0x1de4ae['y'],_0x1de4ae['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x16ba32){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x16ba32['x'],_0x16ba32['y'],_0x16ba32['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x16ba32));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x31d0a7=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x31d0a7['x'](),_0x31d0a7['y'](),_0x31d0a7['z']());}return this['_angularVe'+'locity'];}set['body'](_0x3db4d4){this['_body']!==_0x3db4d4&&(this['_body']=_0x3db4d4,_0x3db4d4&&this['_simulatio'+'nEnabled']&&_0x3db4d4['activate']());}get['body'](){return this['_body'];}set['friction'](_0x844549){this['_friction']!==_0x844549&&(this['_friction']=_0x844549,this['_body']&&this['_body']['setFrictio'+'n'](_0x844549));}get['friction'](){return this['_friction'];}set['group'](_0x591ada){this['_group']!==_0x591ada&&(this['_group']=_0x591ada,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x445e51){this['_linearDam'+'ping']!==_0x445e51&&(this['_linearDam'+'ping']=_0x445e51,this['_body']&&this['_body']['setDamping'](_0x445e51,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x109c06){this['_linearFac'+'tor']['equals'](_0x109c06)||(this['_linearFac'+'tor']['copy'](_0x109c06),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x109c06['x'],_0x109c06['y'],_0x109c06['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4b829b){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x4b829b['x'],_0x4b829b['y'],_0x4b829b['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x4b829b));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x5f0559=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x5f0559['x'](),_0x5f0559['y'](),_0x5f0559['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x51ed2a){this['_mask']!==_0x51ed2a&&(this['_mask']=_0x51ed2a,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x212de4){if(this['_mass']!==_0x212de4&&(this['_mass']=_0x212de4,this['_body']&&this['_type']===ks)){const _0x4f5663=this['enabled']&&this['entity']['enabled'];_0x4f5663&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x212de4,Re),this['_body']['setMassPro'+'ps'](_0x212de4,Re),this['_body']['updateIner'+'tiaTensor'](),_0x4f5663&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x1270ba){this['_restituti'+'on']!==_0x1270ba&&(this['_restituti'+'on']=_0x1270ba,this['_body']&&this['_body']['setRestitu'+'tion'](_0x1270ba));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x1d191f){this['_rollingFr'+'iction']!==_0x1d191f&&(this['_rollingFr'+'iction']=_0x1d191f,this['_body']&&this['_body']['setRolling'+'Friction'](_0x1d191f));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x39f302){if(this['_type']!==_0x39f302){switch(this['_type']=_0x39f302,this['disableSim'+'ulation'](),_0x39f302){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0xe918f3=this['entity'];let _0x53d52f;if(_0xe918f3['collision']&&(_0x53d52f=_0xe918f3['collision']['shape'],_0xe918f3['trigger']&&(_0xe918f3['trigger']['destroy'](),delete _0xe918f3['trigger'])),_0x53d52f){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x2e1a6b=this['_type']===ks?this['_mass']:0x1*-0x1181+0x1*-0x159b+0x271c;this['_getEntity'+'Transform'](cs);const _0x153ea2=this['system']['createBody'](_0x2e1a6b,_0x53d52f,cs);if(_0x153ea2['setRestitu'+'tion'](this['_restituti'+'on']),_0x153ea2['setFrictio'+'n'](this['_friction']),_0x153ea2['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x153ea2['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x4e88eb=this['_linearFac'+'tor'];Re['setValue'](_0x4e88eb['x'],_0x4e88eb['y'],_0x4e88eb['z']),_0x153ea2['setLinearF'+'actor'](Re);const _0x4686f1=this['_angularFa'+'ctor'];Re['setValue'](_0x4686f1['x'],_0x4686f1['y'],_0x4686f1['z']),_0x153ea2['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x153ea2['setCollisi'+'onFlags'](_0x153ea2['getCollisi'+'onFlags']()|qL),_0x153ea2['setActivat'+'ionState'](Vg));_0x153ea2['entity']=_0xe918f3,this['body']=_0x153ea2,this['enabled']&&_0xe918f3['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x7bb*-0x3+0x22b9+-0xb87);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x53399d=this['entity'];if(_0x53399d['collision']&&_0x53399d['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0xaf12bf=this['_body'];if(_0xaf12bf){switch(this['system']['addBody'](_0xaf12bf,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0xaf12bf['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0xaf12bf['forceActiv'+'ationState'](Vg);break;case yo:_0xaf12bf['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x53399d['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x53399d['collision']),_0xaf12bf['activate'](),this['_simulatio'+'nEnabled']=!(0x1c7+-0x1dd5*0x1+-0xab*-0x2a);}}}['disableSim'+'ulation'](){const _0x29bbc5=this['_body'];if(_0x29bbc5&&this['_simulatio'+'nEnabled']){const _0x24bbe1=this['system'];let _0x57d93b=_0x24bbe1['_compounds']['indexOf'](this['entity']['collision']);_0x57d93b>-(-0x4*0x503+-0x1c6a+0x3077)&&_0x24bbe1['_compounds']['splice'](_0x57d93b,-0xc27+-0x1b92+-0x13dd*-0x2),_0x57d93b=_0x24bbe1['_dynamic']['indexOf'](this),_0x57d93b>-(0x123*0x1d+0x2684+0xa36*-0x7)&&_0x24bbe1['_dynamic']['splice'](_0x57d93b,-0xbbf+-0x646*0x3+0x1*0x1e92),_0x57d93b=_0x24bbe1['_kinematic']['indexOf'](this),_0x57d93b>-(-0x254a+-0x25bb*-0x1+-0x70)&&_0x24bbe1['_kinematic']['splice'](_0x57d93b,0x1270+-0x2697*0x1+0x204*0xa),_0x24bbe1['removeBody'](_0x29bbc5),_0x29bbc5['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x2651+-0x2043+0x4695*0x1);}}['applyForce'](_0x3bac67,_0x45efc6,_0x25ad77,_0x58811a,_0x4b3d13,_0x42d692){const _0xfe7d5a=this['_body'];_0xfe7d5a&&(_0xfe7d5a['activate'](),_0x3bac67 instanceof D?Re['setValue'](_0x3bac67['x'],_0x3bac67['y'],_0x3bac67['z']):Re['setValue'](_0x3bac67,_0x45efc6,_0x25ad77),_0x45efc6 instanceof D?Bs['setValue'](_0x45efc6['x'],_0x45efc6['y'],_0x45efc6['z']):_0x58811a!==void(-0x1b64+0x1*-0xc5b+0x27bf)?Bs['setValue'](_0x58811a,_0x4b3d13,_0x42d692):Bs['setValue'](0x1333*-0x1+0x1*0x1aa7+0x6a*-0x12,-0x43*-0x8b+-0xe*0x29b+-0x1*-0x19,0xd2+0xddd+-0xeaf),_0xfe7d5a['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x4f4c47,_0x5ec374,_0x281c40){const _0x1394e7=this['_body'];_0x1394e7&&(_0x1394e7['activate'](),_0x4f4c47 instanceof D?Re['setValue'](_0x4f4c47['x'],_0x4f4c47['y'],_0x4f4c47['z']):Re['setValue'](_0x4f4c47,_0x5ec374,_0x281c40),_0x1394e7['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x599e9b,_0x4910af,_0x1cbb52,_0x43ebe9,_0x455f14,_0x14c379){const _0x182b6a=this['_body'];_0x182b6a&&(_0x182b6a['activate'](),_0x599e9b instanceof D?Re['setValue'](_0x599e9b['x'],_0x599e9b['y'],_0x599e9b['z']):Re['setValue'](_0x599e9b,_0x4910af,_0x1cbb52),_0x4910af instanceof D?Bs['setValue'](_0x4910af['x'],_0x4910af['y'],_0x4910af['z']):_0x43ebe9!==void(0x24b6+-0xd1*0x1b+-0xeab)?Bs['setValue'](_0x43ebe9,_0x455f14,_0x14c379):Bs['setValue'](-0x11df+-0x1ae5+0x2cc4,-0x80d+0xa3*0x38+-0x1b9b,0x8ed*-0x1+-0x85*-0x3d+-0x16c4),_0x182b6a['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x575848,_0xbc906a,_0x2a991f){const _0x2fdd97=this['_body'];_0x2fdd97&&(_0x2fdd97['activate'](),_0x575848 instanceof D?Re['setValue'](_0x575848['x'],_0x575848['y'],_0x575848['z']):Re['setValue'](_0x575848,_0xbc906a,_0x2a991f),_0x2fdd97['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0xf70377){const _0x19ac34=this['entity'],_0x489bf7=_0x19ac34['collision'];if(_0x489bf7){const _0x1eb4d8=_0x489bf7['getShapePo'+'sition'](),_0x37896f=_0x489bf7['getShapeRo'+'tation']();Re['setValue'](_0x1eb4d8['x'],_0x1eb4d8['y'],_0x1eb4d8['z']),Ka['setValue'](_0x37896f['x'],_0x37896f['y'],_0x37896f['z'],_0x37896f['w']);}else{const _0x54af55=_0x19ac34['getPositio'+'n'](),_0x30a1e7=_0x19ac34['getRotatio'+'n']();Re['setValue'](_0x54af55['x'],_0x54af55['y'],_0x54af55['z']),Ka['setValue'](_0x30a1e7['x'],_0x30a1e7['y'],_0x30a1e7['z'],_0x30a1e7['w']);}_0xf70377['setOrigin'](Re),_0xf70377['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x138629=this['_body'];if(_0x138629){if(this['_getEntity'+'Transform'](cs),_0x138629['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x550f00=_0x138629['getMotionS'+'tate']();_0x550f00&&_0x550f00['setWorldTr'+'ansform'](cs);}_0x138629['activate']();}}['_updateDyn'+'amic'](){const _0x30d8db=this['_body'];if(_0x30d8db['isActive']()){const _0x5b2728=_0x30d8db['getMotionS'+'tate']();if(_0x5b2728){const _0x521397=this['entity'];_0x5b2728['getWorldTr'+'ansform'](cs);const _0x286f05=cs['getOrigin'](),_0x5631d7=cs['getRotatio'+'n'](),_0x5b0e65=_0x521397['collision'];if(_0x5b0e65&&_0x5b0e65['_hasOffset']){const _0x565b12=_0x5b0e65['data']['linearOffs'+'et'],_0x44a677=_0x5b0e65['data']['angularOff'+'set'],_0x57a6ba=GO['copy'](_0x44a677)['invert'](),_0x1dfdb6=VO['set'](_0x5631d7['x'](),_0x5631d7['y'](),_0x5631d7['z'](),_0x5631d7['w']())['mul'](_0x57a6ba);_0x1dfdb6['transformV'+'ector'](_0x565b12,Pc),_0x521397['setPositio'+'n'](_0x286f05['x']()-Pc['x'],_0x286f05['y']()-Pc['y'],_0x286f05['z']()-Pc['z']),_0x521397['setRotatio'+'n'](_0x1dfdb6);}else _0x521397['setPositio'+'n'](_0x286f05['x'](),_0x286f05['y'](),_0x286f05['z']()),_0x521397['setRotatio'+'n'](_0x5631d7['x'](),_0x5631d7['y'](),_0x5631d7['z'](),_0x5631d7['w']());}}}['_updateKin'+'ematic'](){const _0x3537f6=this['_body']['getMotionS'+'tate']();_0x3537f6&&(this['_getEntity'+'Transform'](cs),_0x3537f6['setWorldTr'+'ansform'](cs));}['teleport'](_0x53a96a,_0x4a9a51,_0x47b4ac,_0x1567b1,_0x1e105d,_0x4bf8c2){_0x53a96a instanceof D?this['entity']['setPositio'+'n'](_0x53a96a):this['entity']['setPositio'+'n'](_0x53a96a,_0x4a9a51,_0x47b4ac),_0x4a9a51 instanceof le?this['entity']['setRotatio'+'n'](_0x4a9a51):_0x4a9a51 instanceof D?this['entity']['setEulerAn'+'gles'](_0x4a9a51):_0x1567b1!==void(-0x176*0x5+0x20c*0x1+0x542)&&this['entity']['setEulerAn'+'gles'](_0x1567b1,_0x1e105d,_0x4bf8c2),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x2578+-0xee5+0x1a2f*0x2));class HO{constructor(){this['enabled']=!(-0x2*0xe94+0x114a+0xbde);}}let Mi,Di;class eS{constructor(_0x2d01d0,_0x10a614,_0xed846b,_0x29fe6a){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x2d01d0,this['point']=_0x10a614,this['normal']=_0xed846b,this['hitFractio'+'n']=_0x29fe6a);}}class WO{constructor(_0x2d8b4a,_0x3d5e13,_0x56150c){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0xa*0x1a8+-0x114c+0xbc?(this['a']=_0x2d8b4a,this['b']=_0x3d5e13,this['impulse']=_0x56150c['impulse'],this['localPoint'+'A']=_0x56150c['localPoint'],this['localPoint'+'B']=_0x56150c['localPoint'+'Other'],this['pointA']=_0x56150c['point'],this['pointB']=_0x56150c['pointOther'],this['normal']=_0x56150c['normal']):(this['a']=null,this['b']=null,this['impulse']=0x1a43+0x26a4+0xcfb*-0x5,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x33f199=new D(),_0x36dd3f=new D(),_0x3fba9a=new D(),_0x58aa18=new D(),_0x152d31=new D(),_0x9edf44=-0xf*0x29a+0x1*0x49d+0x2269){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x33f199,this['localPoint'+'Other']=_0x36dd3f,this['point']=_0x3fba9a,this['pointOther']=_0x58aa18,this['normal']=_0x152d31,this['impulse']=_0x9edf44);}}class XO{constructor(_0x385316,_0x2938d7){h(this,'other'),h(this,'contacts'),(this['other']=_0x385316,this['contacts']=_0x2938d7);}}const o0=['enabled'];class wm extends ct{constructor(_0x5843d2){super(_0x5843d2),h(this,'maxSubStep'+'s',0x22c7+-0x25f4+0x337),h(this,'fixedTimeS'+'tep',(0x3e2+-0x1*0xb2b+0x74a)/(0x1*0x1d2c+0x1b5e+-0x2*0x1c27)),h(this,'gravity',new D(0x1*0x3ad+0x1acb+-0x1e78,-(-0x2*0x45b+-0xde2+-0x1*-0x16a1+0.8100000000000005),0xf25*-0x2+0xba*0x2b+-0xf4)),h(this,'_gravityFl'+'oat32',new Float32Array(0x16f1+-0x2ad+0x11*-0x131)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x5843d2['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x432a1b=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x432a1b);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0x11*0x1ed+-0xd*0x1f4+-0x7*-0x84e),this['contactRes'+'ultPool']=new bf(XO,0x13b0+-0x13cd+0xa*0x3),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x1575+0x13*-0xcb+-0x40f*-0x9),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xe47321,_0x426046,_0x8d5cb8){const _0x5811f=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x33ddf0 of _0x5811f)if(_0x426046['hasOwnProp'+'erty'](_0x33ddf0)){const _0x1954a8=_0x426046[_0x33ddf0];Array['isArray'](_0x1954a8)?_0xe47321[_0x33ddf0]=new D(_0x1954a8[-0x977*0x2+-0xf2a+-0x443*-0x8],_0x1954a8[-0x22*0x8+-0x173*-0x6+0xd9*-0x9],_0x1954a8[0x14de*0x1+-0x3*-0x269+-0x1c17]):_0xe47321[_0x33ddf0]=_0x1954a8;}super['initialize'+'ComponentD'+'ata'](_0xe47321,_0x426046,['enabled']);}['cloneCompo'+'nent'](_0x59310c,_0x3820b1){const _0x433c62=_0x59310c['rigidbody'],_0x371a75={'enabled':_0x433c62['enabled'],'mass':_0x433c62['mass'],'linearDamping':_0x433c62['linearDamp'+'ing'],'angularDamping':_0x433c62['angularDam'+'ping'],'linearFactor':[_0x433c62['linearFact'+'or']['x'],_0x433c62['linearFact'+'or']['y'],_0x433c62['linearFact'+'or']['z']],'angularFactor':[_0x433c62['angularFac'+'tor']['x'],_0x433c62['angularFac'+'tor']['y'],_0x433c62['angularFac'+'tor']['z']],'friction':_0x433c62['friction'],'rollingFriction':_0x433c62['rollingFri'+'ction'],'restitution':_0x433c62['restitutio'+'n'],'type':_0x433c62['type'],'group':_0x433c62['group'],'mask':_0x433c62['mask']};return this['addCompone'+'nt'](_0x3820b1,_0x371a75);}['onBeforeRe'+'move'](_0x3fb4b8,_0x8e872d){_0x8e872d['enabled']&&(_0x8e872d['enabled']=!(-0x19cf+0x1f5b+-0x58b)),_0x8e872d['body']&&(this['destroyBod'+'y'](_0x8e872d['body']),_0x8e872d['body']=null);}['addBody'](_0x32c70c,_0x41bcf4,_0x238f21){_0x41bcf4!==void(-0x1*-0x12bf+0x13c*-0x17+0x337*0x3)&&_0x238f21!==void(-0x1f*0x10f+0x1d9*0xd+0x8cc)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32c70c,_0x41bcf4,_0x238f21):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32c70c);}['removeBody'](_0x4d11cf){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x4d11cf);}['createBody'](_0x525a3c,_0x33195f,_0x5ebb65){const _0x192792=new Ammo['btVector3'](0x5*0x2bd+-0xa6*-0x28+-0x1*0x27a1,0xd0f+-0x1b94+0xb1*0x15,-0x11*-0x1d2+-0x232+-0xa*0x2e0);_0x525a3c!==0xd8c+-0x1d*0xb+0x2f*-0x43&&_0x33195f['calculateL'+'ocalInerti'+'a'](_0x525a3c,_0x192792);const _0x484f4a=new Ammo['btDefaultM'+'otionState'](_0x5ebb65),_0x2a438d=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x525a3c,_0x484f4a,_0x33195f,_0x192792),_0x1fd086=new Ammo['btRigidBod'+'y'](_0x2a438d);return Ammo['destroy'](_0x2a438d),Ammo['destroy'](_0x192792),_0x1fd086;}['destroyBod'+'y'](_0x58cb6a){const _0x58fac7=_0x58cb6a['getMotionS'+'tate']();_0x58fac7&&Ammo['destroy'](_0x58fac7),Ammo['destroy'](_0x58cb6a);}['raycastFir'+'st'](_0x126063,_0xdad8e5,_0x34dbf8={}){if(_0x34dbf8['filterTags']||_0x34dbf8['filterCall'+'back'])return _0x34dbf8['sort']=!(0x761*-0x3+-0x3d*-0x6b+-0x2b*0x14),this['raycastAll'](_0x126063,_0xdad8e5,_0x34dbf8)[0x17d8+0x1a*0x8b+0x71*-0x56]||null;let _0x28485d=null;Mi['setValue'](_0x126063['x'],_0x126063['y'],_0x126063['z']),Di['setValue'](_0xdad8e5['x'],_0xdad8e5['y'],_0xdad8e5['z']);const _0x59c363=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x34dbf8['filterColl'+'isionGroup']=='number'&&_0x59c363['set_m_coll'+'isionFilte'+'rGroup'](_0x34dbf8['filterColl'+'isionGroup']),typeof _0x34dbf8['filterColl'+'isionMask']=='number'&&_0x59c363['set_m_coll'+'isionFilte'+'rMask'](_0x34dbf8['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x59c363),_0x59c363['hasHit']()){const _0xc3bdd3=_0x59c363['get_m_coll'+'isionObjec'+'t'](),_0x26cdb8=Ammo['castObject'](_0xc3bdd3,Ammo['btRigidBod'+'y']);if(_0x26cdb8){const _0x33c976=_0x59c363['get_m_hitP'+'ointWorld'](),_0x266f02=_0x59c363['get_m_hitN'+'ormalWorld']();_0x28485d=new eS(_0x26cdb8['entity'],new D(_0x33c976['x'](),_0x33c976['y'](),_0x33c976['z']()),new D(_0x266f02['x'](),_0x266f02['y'](),_0x266f02['z']()),_0x59c363['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x59c363),_0x28485d;}['raycastAll'](_0x1a6b66,_0x491cb7,_0x58fa62={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x4a2a14=[];Mi['setValue'](_0x1a6b66['x'],_0x1a6b66['y'],_0x1a6b66['z']),Di['setValue'](_0x491cb7['x'],_0x491cb7['y'],_0x491cb7['z']);const _0x251650=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x58fa62['filterColl'+'isionGroup']=='number'&&_0x251650['set_m_coll'+'isionFilte'+'rGroup'](_0x58fa62['filterColl'+'isionGroup']),typeof _0x58fa62['filterColl'+'isionMask']=='number'&&_0x251650['set_m_coll'+'isionFilte'+'rMask'](_0x58fa62['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x251650),_0x251650['hasHit']()){const _0x20723a=_0x251650['get_m_coll'+'isionObjec'+'ts'](),_0x259d49=_0x251650['get_m_hitP'+'ointWorld'](),_0x717f4a=_0x251650['get_m_hitN'+'ormalWorld'](),_0x39a205=_0x251650['get_m_hitF'+'ractions'](),_0x40eaf4=_0x20723a['size']();for(let _0x3e53f8=0xf07+0xa5d*-0x1+-0x4aa*0x1;_0x3e53f8<_0x40eaf4;_0x3e53f8++){const _0x5a677b=Ammo['castObject'](_0x20723a['at'](_0x3e53f8),Ammo['btRigidBod'+'y']);if(_0x5a677b&&_0x5a677b['entity']){if(_0x58fa62['filterTags']&&!_0x5a677b['entity']['tags']['has'](..._0x58fa62['filterTags'])||_0x58fa62['filterCall'+'back']&&!_0x58fa62['filterCall'+'back'](_0x5a677b['entity']))continue;const _0x55c0fd=_0x259d49['at'](_0x3e53f8),_0x597885=_0x717f4a['at'](_0x3e53f8),_0x4b006b=new eS(_0x5a677b['entity'],new D(_0x55c0fd['x'](),_0x55c0fd['y'](),_0x55c0fd['z']()),new D(_0x597885['x'](),_0x597885['y'](),_0x597885['z']()),_0x39a205['at'](_0x3e53f8));_0x4a2a14['push'](_0x4b006b);}}_0x58fa62['sort']&&_0x4a2a14['sort']((_0x442135,_0x4daca0)=>_0x442135['hitFractio'+'n']-_0x4daca0['hitFractio'+'n']);}return Ammo['destroy'](_0x251650),_0x4a2a14;}['_storeColl'+'ision'](_0x11cc87,_0x24e787){let _0x3aed6e=!(-0x26c6+-0x2a*0x39+0x3*0x100b);const _0x322338=_0x11cc87['getGuid']();return this['collisions'][_0x322338]=this['collisions'][_0x322338]||{'others':[],'entity':_0x11cc87},this['collisions'][_0x322338]['others']['indexOf'](_0x24e787)<-0x4f4+0x1078+-0xb84&&(this['collisions'][_0x322338]['others']['push'](_0x24e787),_0x3aed6e=!(-0x24f7+-0x60a*-0x3+0x12d9)),this['frameColli'+'sions'][_0x322338]=this['frameColli'+'sions'][_0x322338]||{'others':[],'entity':_0x11cc87},this['frameColli'+'sions'][_0x322338]['others']['push'](_0x24e787),_0x3aed6e;}['_createCon'+'tactPointF'+'romAmmo'](_0x381a92){const _0x2f9a57=_0x381a92['get_m_loca'+'lPointA'](),_0x30b4cf=_0x381a92['get_m_loca'+'lPointB'](),_0x5947c7=_0x381a92['getPositio'+'nWorldOnA'](),_0x4f9c8a=_0x381a92['getPositio'+'nWorldOnB'](),_0x3aac83=_0x381a92['get_m_norm'+'alWorldOnB'](),_0x380d85=this['contactPoi'+'ntPool']['allocate']();return _0x380d85['localPoint']['set'](_0x2f9a57['x'](),_0x2f9a57['y'](),_0x2f9a57['z']()),_0x380d85['localPoint'+'Other']['set'](_0x30b4cf['x'](),_0x30b4cf['y'](),_0x30b4cf['z']()),_0x380d85['point']['set'](_0x5947c7['x'](),_0x5947c7['y'](),_0x5947c7['z']()),_0x380d85['pointOther']['set'](_0x4f9c8a['x'](),_0x4f9c8a['y'](),_0x4f9c8a['z']()),_0x380d85['normal']['set'](_0x3aac83['x'](),_0x3aac83['y'](),_0x3aac83['z']()),_0x380d85['impulse']=_0x381a92['getApplied'+'Impulse'](),_0x380d85;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x27997a){const _0x5ee84a=_0x27997a['get_m_loca'+'lPointA'](),_0x166146=_0x27997a['get_m_loca'+'lPointB'](),_0x3412a9=_0x27997a['getPositio'+'nWorldOnA'](),_0x2b2b7c=_0x27997a['getPositio'+'nWorldOnB'](),_0x42cd12=_0x27997a['get_m_norm'+'alWorldOnB'](),_0x3a1d1e=this['contactPoi'+'ntPool']['allocate']();return _0x3a1d1e['localPoint'+'Other']['set'](_0x5ee84a['x'](),_0x5ee84a['y'](),_0x5ee84a['z']()),_0x3a1d1e['localPoint']['set'](_0x166146['x'](),_0x166146['y'](),_0x166146['z']()),_0x3a1d1e['pointOther']['set'](_0x3412a9['x'](),_0x3412a9['y'](),_0x3412a9['z']()),_0x3a1d1e['point']['set'](_0x2b2b7c['x'](),_0x2b2b7c['y'](),_0x2b2b7c['z']()),_0x3a1d1e['normal']['set'](_0x42cd12['x'](),_0x42cd12['y'](),_0x42cd12['z']()),_0x3a1d1e['impulse']=_0x27997a['getApplied'+'Impulse'](),_0x3a1d1e;}['_createSin'+'gleContact'+'Result'](_0xfca8bd,_0x5787bc,_0x1ba595){const _0x7ea2c6=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x7ea2c6['a']=_0xfca8bd,_0x7ea2c6['b']=_0x5787bc,_0x7ea2c6['localPoint'+'A']=_0x1ba595['localPoint'],_0x7ea2c6['localPoint'+'B']=_0x1ba595['localPoint'+'Other'],_0x7ea2c6['pointA']=_0x1ba595['point'],_0x7ea2c6['pointB']=_0x1ba595['pointOther'],_0x7ea2c6['normal']=_0x1ba595['normal'],_0x7ea2c6['impulse']=_0x1ba595['impulse'],_0x7ea2c6;}['_createCon'+'tactResult'](_0x4710f9,_0x4fc45f){const _0x42f1f5=this['contactRes'+'ultPool']['allocate']();return _0x42f1f5['other']=_0x4710f9,_0x42f1f5['contacts']=_0x4fc45f,_0x42f1f5;}['_cleanOldC'+'ollisions'](){for(const _0x3f1e7c in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x3f1e7c)){const _0x225bcc=this['frameColli'+'sions'][_0x3f1e7c],_0x4abd91=this['collisions'][_0x3f1e7c],_0xcb8e1d=_0x4abd91['entity'],_0x2f8f4c=_0xcb8e1d['collision'],_0x3b6e19=_0xcb8e1d['rigidbody'],_0x2da781=_0x4abd91['others'];let _0xb7def5=_0x2da781['length'];for(;_0xb7def5--;){const _0x471eaf=_0x2da781[_0xb7def5];(!_0x225bcc||_0x225bcc['others']['indexOf'](_0x471eaf)<-0xd51+-0x8eb*0x2+0x1f27)&&(_0x2da781['splice'](_0xb7def5,0x2*0xb9b+0x22b9+0xa*-0x5cb),_0xcb8e1d['trigger']?(_0x2f8f4c&&_0x2f8f4c['fire']('triggerlea'+'ve',_0x471eaf),_0x471eaf['rigidbody']&&_0x471eaf['rigidbody']['fire']('triggerlea'+'ve',_0xcb8e1d)):_0x471eaf['trigger']||(_0x3b6e19&&_0x3b6e19['fire']('collisione'+'nd',_0x471eaf),_0x2f8f4c&&_0x2f8f4c['fire']('collisione'+'nd',_0x471eaf)));}_0x2da781['length']===-0x5*0x2b1+-0x616+-0x138b*-0x1&&delete this['collisions'][_0x3f1e7c];}}['_hasContac'+'tEvent'](_0xf6128a){const _0x50b98b=_0xf6128a['collision'];if(_0x50b98b&&(_0x50b98b['hasEvent']('collisions'+'tart')||_0x50b98b['hasEvent']('collisione'+'nd')||_0x50b98b['hasEvent']('contact')))return!(-0x2633+0x164f+0xfe4);const _0x1ab57a=_0xf6128a['rigidbody'];return _0x1ab57a&&(_0x1ab57a['hasEvent']('collisions'+'tart')||_0x1ab57a['hasEvent']('collisione'+'nd')||_0x1ab57a['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x4da91f,_0x4c8b03){const _0x18386e=Ammo['wrapPointe'+'r'](_0x4da91f,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x4fb86f=_0x18386e['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x45b714=0x7*-0x33e+0x1*-0x595+0x1c47;_0x45b714<_0x4fb86f;_0x45b714++){const _0xae7bbc=_0x18386e['getManifol'+'dByIndexIn'+'ternal'](_0x45b714),_0x2f8225=_0xae7bbc['getBody0'](),_0x3a1e6d=_0xae7bbc['getBody1'](),_0x44d80f=Ammo['castObject'](_0x2f8225,Ammo['btRigidBod'+'y']),_0xcd73e2=Ammo['castObject'](_0x3a1e6d,Ammo['btRigidBod'+'y']),_0xd49e2d=_0x44d80f['entity'],_0x3bd017=_0xcd73e2['entity'];if(!_0xd49e2d||!_0x3bd017)continue;const _0x4df44a=_0x44d80f['getCollisi'+'onFlags'](),_0x1c2ef6=_0xcd73e2['getCollisi'+'onFlags'](),_0x270a20=_0xae7bbc['getNumCont'+'acts'](),_0x5cc442=[],_0x36ce24=[];let _0x25605e;if(_0x270a20>-0x806*-0x3+0x2330+0xb9*-0x52){if(_0x4df44a&Po||_0x1c2ef6&Po){const _0x491a70=_0xd49e2d['collision']&&(_0xd49e2d['collision']['hasEvent']('triggerent'+'er')||_0xd49e2d['collision']['hasEvent']('triggerlea'+'ve')),_0x47cb94=_0x3bd017['collision']&&(_0x3bd017['collision']['hasEvent']('triggerent'+'er')||_0x3bd017['collision']['hasEvent']('triggerlea'+'ve')),_0x35c180=_0xd49e2d['rigidbody']&&(_0xd49e2d['rigidbody']['hasEvent']('triggerent'+'er')||_0xd49e2d['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x56eea1=_0x3bd017['rigidbody']&&(_0x3bd017['rigidbody']['hasEvent']('triggerent'+'er')||_0x3bd017['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x491a70&&(_0x25605e=this['_storeColl'+'ision'](_0xd49e2d,_0x3bd017),_0x25605e&&!(_0x1c2ef6&Po)&&_0xd49e2d['collision']['fire']('triggerent'+'er',_0x3bd017)),_0x47cb94&&(_0x25605e=this['_storeColl'+'ision'](_0x3bd017,_0xd49e2d),_0x25605e&&!(_0x4df44a&Po)&&_0x3bd017['collision']['fire']('triggerent'+'er',_0xd49e2d)),_0x35c180&&(_0x25605e||(_0x25605e=this['_storeColl'+'ision'](_0x3bd017,_0xd49e2d)),_0x25605e&&_0xd49e2d['rigidbody']['fire']('triggerent'+'er',_0x3bd017)),_0x56eea1&&(_0x25605e||(_0x25605e=this['_storeColl'+'ision'](_0xd49e2d,_0x3bd017)),_0x25605e&&_0x3bd017['rigidbody']['fire']('triggerent'+'er',_0xd49e2d));}else{const _0x302df2=this['_hasContac'+'tEvent'](_0xd49e2d),_0x32692c=this['_hasContac'+'tEvent'](_0x3bd017),_0x2f68f9=this['hasEvent']('contact');if(_0x2f68f9||_0x302df2||_0x32692c){for(let _0x42f478=0xb2f+-0x1872+0x5*0x2a7;_0x42f478<_0x270a20;_0x42f478++){const _0x1d0747=_0xae7bbc['getContact'+'Point'](_0x42f478),_0x35945f=this['_createCon'+'tactPointF'+'romAmmo'](_0x1d0747);if(_0x302df2||_0x32692c){_0x5cc442['push'](_0x35945f);const _0x4778b8=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1d0747);_0x36ce24['push'](_0x4778b8);}if(_0x2f68f9){const _0x4b2491=this['_createSin'+'gleContact'+'Result'](_0xd49e2d,_0x3bd017,_0x35945f);this['fire']('contact',_0x4b2491);}}if(_0x302df2){const _0x314b82=this['_createCon'+'tactResult'](_0x3bd017,_0x5cc442);_0x25605e=this['_storeColl'+'ision'](_0xd49e2d,_0x3bd017),_0xd49e2d['collision']&&(_0xd49e2d['collision']['fire']('contact',_0x314b82),_0x25605e&&_0xd49e2d['collision']['fire']('collisions'+'tart',_0x314b82)),_0xd49e2d['rigidbody']&&(_0xd49e2d['rigidbody']['fire']('contact',_0x314b82),_0x25605e&&_0xd49e2d['rigidbody']['fire']('collisions'+'tart',_0x314b82));}if(_0x32692c){const _0x2cb383=this['_createCon'+'tactResult'](_0xd49e2d,_0x36ce24);_0x25605e=this['_storeColl'+'ision'](_0x3bd017,_0xd49e2d),_0x3bd017['collision']&&(_0x3bd017['collision']['fire']('contact',_0x2cb383),_0x25605e&&_0x3bd017['collision']['fire']('collisions'+'tart',_0x2cb383)),_0x3bd017['rigidbody']&&(_0x3bd017['rigidbody']['fire']('contact',_0x2cb383),_0x25605e&&_0x3bd017['rigidbody']['fire']('collisions'+'tart',_0x2cb383));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x441047){let _0x40fc21,_0x3efcb6;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0x2d3*0x3+0x200f+-0x1796]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1a*0xfb+-0x1130+0x2aaf]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x575+-0x4*0x3a1+0x911]=this['gravity']['z'];const _0x589f05=this['dynamicsWo'+'rld']['getGravity']();(_0x589f05['x']()!==this['_gravityFl'+'oat32'][-0x13a9+-0x25*-0x25+0xe50]||_0x589f05['y']()!==this['_gravityFl'+'oat32'][-0x6*0x235+0x7*0x476+-0x11fb*0x1]||_0x589f05['z']()!==this['_gravityFl'+'oat32'][0x4b*0x35+0x1*-0x23c5+-0x1b0*-0xc])&&(_0x589f05['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x589f05));const _0x5bf180=this['_triggers'];for(_0x40fc21=-0x205*0xe+0x1fca+-0x384,_0x3efcb6=_0x5bf180['length'];_0x40fc21<_0x3efcb6;_0x40fc21++)_0x5bf180[_0x40fc21]['updateTran'+'sform']();const _0x28b4a1=this['_compounds'];for(_0x40fc21=-0x5cc+-0xa38+0x1004,_0x3efcb6=_0x28b4a1['length'];_0x40fc21<_0x3efcb6;_0x40fc21++)_0x28b4a1[_0x40fc21]['_updateCom'+'pound']();const _0x4a5706=this['_kinematic'];for(_0x40fc21=0x21*-0x7c+-0x6fd*-0x3+-0x33*0x19,_0x3efcb6=_0x4a5706['length'];_0x40fc21<_0x3efcb6;_0x40fc21++)_0x4a5706[_0x40fc21]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x441047,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x1c1d0d=this['_dynamic'];for(_0x40fc21=-0x22a7*0x1+-0xc4b+-0x6*-0x7d3,_0x3efcb6=_0x1c1d0d['length'];_0x40fc21<_0x3efcb6;_0x40fc21++)_0x1c1d0d[_0x40fc21]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x441047),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x880963,_0x547521){super(_0x880963,_0x547521),this['_resolutio'+'n']=new J(-0x10e2+0x7*-0x12f+0x1bab,-0x1*0x1ca8+-0x2*-0xdf+0xce*0x23),this['_reference'+'Resolution']=new J(-0x6ea+-0x16b2+0x201c,-0x623+-0x986+0x10e9),this['_scaleMode']=Za,this['scale']=0x1*-0x2ad+0x55*0x7+0x5b,this['_scaleBlen'+'d']=-0x1ef2+0xdf*-0xf+-0x2c03*-0x1+0.5,this['_priority']=0x33e*0x8+0x67*0x11+-0x20c7,this['_screenSpa'+'ce']=!(0x6ee+-0x1*-0xf47+-0x1634),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x880963['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x50164d,_0x5c891d){var _0x97ec98;if(!(_0x50164d instanceof lt))return _0x5c891d;if(_0x50164d['element']){const _0x2456b3=_0x50164d['element']['drawOrder'];_0x50164d['element']['drawOrder']=_0x5c891d++,_0x50164d['element']['_batchGrou'+'pId']>=0x4*0x77a+0x1a7f+-0x3867&&_0x2456b3!==_0x50164d['element']['drawOrder']&&((_0x97ec98=this['system']['app']['batcher'])==null||_0x97ec98['markGroupD'+'irty'](_0x50164d['element']['_batchGrou'+'pId']));}_0x50164d['particlesy'+'stem']&&(_0x50164d['particlesy'+'stem']['drawOrder']=_0x5c891d++);const _0x1b50a8=_0x50164d['children'];for(let _0x2a0b54=0xa27+-0x576+-0x4b1;_0x2a0b54<_0x1b50a8['length'];_0x2a0b54++)_0x5c891d=this['_recurseDr'+'awOrderSyn'+'c'](_0x1b50a8[_0x2a0b54],_0x5c891d);return _0x5c891d;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x25d7+0xbf6+-0x18e6*0x2),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4d7239=this['_resolutio'+'n']['x']/this['scale'],_0x2d120e=this['_resolutio'+'n']['y']/this['scale'],_0x32b9e6=-0x429+0x8ef*-0x1+0xd18,_0x3d835b=_0x4d7239,_0x39d1b7=-_0x2d120e;this['_screenMat'+'rix']['setOrtho'](_0x32b9e6,_0x3d835b,_0x39d1b7,0x1d3b+-0x2*-0x2c0+0x22bb*-0x1,-0x35f*0x7+0x1*-0x246b+-0x1*-0x3c05,-(0x2b*0x2b+0x1bdc+-0x2314)),this['_screenSpa'+'ce']||(tS['setScale']((0x1*-0xd9+0x45e*-0x7+0x47d*0x7+0.5)*_0x4d7239,(0x5*0x56+-0x363*-0x8+-0x1cc6+0.5)*_0x2d120e,0x6bb*0x3+-0x991+-0xa9f),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x2bd9f9,_0x19fd78){const _0x44feb0=Math['log2']((_0x2bd9f9['x']||-0x1ea6+-0x1e63+0x2*0x1e85)/_0x19fd78['x']),_0x487936=Math['log2']((_0x2bd9f9['y']||-0x1ab6+-0xb69*-0x1+0xf4e)/_0x19fd78['y']);return Math['pow'](-0x2f*0x8b+0x1e19+-0x492,_0x44feb0*(0x2247*-0x1+-0x2*0x65b+0x3*0xfaa-this['_scaleBlen'+'d'])+_0x487936*this['_scaleBlen'+'d']);}['_onResize'](_0x5af6b6,_0x5f03dc){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x5af6b6,_0x5f03dc),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xc6d577){this['_elements']['add'](_0xc6d577);}['_unbindEle'+'ment'](_0x39ad7b){this['_elements']['delete'](_0x39ad7b);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x4db68b=>_0x4db68b['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x2f727a){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x2f727a['x'],_0x2f727a['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x194d7d=>_0x194d7d['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x194d3c){this['_reference'+'Resolution']['set'](_0x194d3c['x'],_0x194d3c['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x3c88d8=>_0x3c88d8['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x10d76d){this['_screenSpa'+'ce']=_0x10d76d,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x129038=>_0x129038['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x298d13){_0x298d13!==Za&&_0x298d13!==qO&&(_0x298d13=Za),!this['_screenSpa'+'ce']&&_0x298d13!==Za&&(_0x298d13=Za),this['_scaleMode']=_0x298d13,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x59dd64){this['_scaleBlen'+'d']=_0x59dd64,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x10cbe9=>_0x10cbe9['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0xd72748){_0xd72748>-0xf9*0x22+-0x17*0x17f+0x447a&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0xd72748+'\x20to\x20255'),_0xd72748=-0x1dad+0x5ce*0x2+0x1310),this['_priority']!==_0xd72748&&(this['_priority']=_0xd72748,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x102d*0x2+-0x17b8+0x2*-0x451);}}const Uu=['enabled'];class YO extends ct{constructor(_0x10ce18){super(_0x10ce18),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4e8eed,_0x3a3cfb,_0x5e5ed5){_0x3a3cfb['priority']!==void(0x1e8b+-0x1f56+0xcb)&&(_0x4e8eed['priority']=_0x3a3cfb['priority']),_0x3a3cfb['screenSpac'+'e']!==void(0x1*0xc9a+0x4*0x6b+-0xe46)&&(_0x4e8eed['screenSpac'+'e']=_0x3a3cfb['screenSpac'+'e']),_0x4e8eed['cull']=_0x4e8eed['screenSpac'+'e'],_0x3a3cfb['scaleMode']!==void(0xfc0+-0x9*-0x189+-0x1d91)&&(_0x4e8eed['scaleMode']=_0x3a3cfb['scaleMode']),_0x3a3cfb['scaleBlend']!==void(-0x1540+-0x3*-0x51a+-0x2f9*-0x2)&&(_0x4e8eed['scaleBlend']=_0x3a3cfb['scaleBlend']),_0x3a3cfb['resolution']!==void(0x9b0+0x170b+-0x20bb)&&(_0x3a3cfb['resolution']instanceof J?_0x4e8eed['_resolutio'+'n']['copy'](_0x3a3cfb['resolution']):_0x4e8eed['_resolutio'+'n']['set'](_0x3a3cfb['resolution'][-0x1521*0x1+0x200a+-0x31*0x39],_0x3a3cfb['resolution'][0x16a*0x3+-0xc9*0xb+0x2*0x233]),_0x4e8eed['resolution']=_0x4e8eed['_resolutio'+'n']),_0x3a3cfb['referenceR'+'esolution']!==void(0x1*-0x957+0x1cfb+-0x13a4*0x1)&&(_0x3a3cfb['referenceR'+'esolution']instanceof J?_0x4e8eed['_reference'+'Resolution']['copy'](_0x3a3cfb['referenceR'+'esolution']):_0x4e8eed['_reference'+'Resolution']['set'](_0x3a3cfb['referenceR'+'esolution'][-0x708+0x2*0x526+-0x344],_0x3a3cfb['referenceR'+'esolution'][-0xfd2+0x125f*-0x1+0x2232]),_0x4e8eed['referenceR'+'esolution']=_0x4e8eed['_reference'+'Resolution']),_0x4e8eed['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4e8eed,_0x3a3cfb,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x3c3c8e){const _0x258cb3=this['store'];for(const _0xa861ea in _0x258cb3)_0x258cb3[_0xa861ea]['entity']['screen']['update']&&_0x258cb3[_0xa861ea]['entity']['screen']['update'](_0x3c3c8e);}['_onResize'](_0x1ea950,_0xfab12d){this['windowReso'+'lution']['x']=_0x1ea950,this['windowReso'+'lution']['y']=_0xfab12d;}['cloneCompo'+'nent'](_0x559916,_0xe3760d){const _0x29c1d5=_0x559916['screen'];return this['addCompone'+'nt'](_0xe3760d,{'enabled':_0x29c1d5['enabled'],'screenSpace':_0x29c1d5['screenSpac'+'e'],'scaleMode':_0x29c1d5['scaleMode'],'resolution':_0x29c1d5['resolution']['clone'](),'referenceResolution':_0x29c1d5['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x5bd389,_0xaf7f72){_0xaf7f72['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x4084ed=this['_drawOrder'+'SyncQueue']['list']();for(let _0x36a46e=-0x19f9+-0x1*0x2452+0x3e4b;_0x36a46e<_0x4084ed['length'];_0x36a46e++){const _0x1a5213=_0x4084ed[_0x36a46e];_0x1a5213['callback']['call'](_0x1a5213['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x30d812,_0x158f41,_0x4e8ebd){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x30d812)||this['_drawOrder'+'SyncQueue']['push'](_0x30d812,{'callback':_0x158f41,'scope':_0x4e8ebd});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x3180a9,_0x34e18d){if(super(),!_0x3180a9||!(_0x3180a9 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x34e18d&&_0x34e18d!=='x'&&_0x34e18d!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x34e18d);this['_element']=_0x3180a9,this['_app']=_0x3180a9['system']['app'],this['_axis']=_0x34e18d||null,this['_enabled']=!(0x1ef3+0x203*-0x6+-0x3*0x64b),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0x1*-0x4d0+0x25*0x74+-0x7*0x315),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x23c132){this['_element'][_0x23c132]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x23c132]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x23c132]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x43b881){const _0x5188f5=_0x43b881==='on';this['_hasDragLi'+'steners']&&_0x5188f5||(this['_app']['mouse']&&(this['_element'][_0x43b881]('mousemove',this['_onMove'],this),this['_element'][_0x43b881]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x43b881]('touchmove',this['_onMove'],this),this['_element'][_0x43b881]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x43b881]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x43b881]('selectmove',this['_onMove'],this),this['_element'][_0x43b881]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x5188f5);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x365e06){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x365e06['camera'],this['_calculate'+'DragScale']();const _0x3f121c=this['_screenToL'+'ocal'](_0x365e06);_0x3f121c&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x1f9+-0xa8b+0x892),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x3f121c),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x3a*-0x9d+0x124d*-0x1+-0x35e0*-0x1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0xd9e427){return _0xd9e427['inputSourc'+'e']?Hr['set'](_0xd9e427['inputSourc'+'e']['getOrigin'](),_0xd9e427['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0xd9e427),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x17f3*0x1+0x179d+0x57)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x3fe812){const _0x5a95bc=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x3fe812['x']<'u'&&typeof _0x3fe812['y']<'u'?(lr['x']=_0x3fe812['x']*_0x5a95bc,lr['y']=_0x3fe812['y']*_0x5a95bc):_0x3fe812['changedTou'+'ches']?(lr['x']=_0x3fe812['changedTou'+'ches'][0xc63+-0x7*-0x26f+-0xeb6*0x2]['x']*_0x5a95bc,lr['y']=_0x3fe812['changedTou'+'ches'][-0x4ff*-0x5+-0xd69*-0x1+0x7e*-0x4e]['y']*_0x5a95bc):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0x2710+0x1c1*0x1+0x254f*0x1),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x19f6+0x16b9+0x81d*-0x6)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x202088=this['_element']['entity']['parent'];const _0x5047d3=this['_element']['screen']&&this['_element']['screen']['screen'],_0x1c3777=_0x5047d3&&_0x5047d3['screenSpac'+'e'],_0x3372ce=_0x1c3777?_0x5047d3['scale']:0x1*0x1e1d+-0x281+0x1*-0x1b9b,_0xa0f8b9=this['_dragScale'];for(_0xa0f8b9['set'](_0x3372ce,_0x3372ce,_0x3372ce);_0x202088&&(_0xa0f8b9['mul'](_0x202088['getLocalSc'+'ale']()),_0x202088=_0x202088['parent'],!(_0x1c3777&&_0x202088['screen'])););_0xa0f8b9['x']=(-0x2667*-0x1+0x50f+-0x2b75)/_0xa0f8b9['x'],_0xa0f8b9['y']=(-0x1*-0x1c2b+0x15ae+-0xb*0x488)/_0xa0f8b9['y'],_0xa0f8b9['z']=0x9bc*0x3+0x52d+-0x2261;}['_onMove'](_0x3c1086){const {_element:_0x12d255,_deltaMousePosition:_0x47c1f7,_deltaHandlePosition:_0x5a4b98,_axis:_0x2ec90a}=this;if(_0x12d255&&this['_isDraggin'+'g']&&this['enabled']&&_0x12d255['enabled']&&_0x12d255['entity']['enabled']){const _0x37fea9=this['_screenToL'+'ocal'](_0x3c1086);if(_0x37fea9){if(_0x47c1f7['sub2'](_0x37fea9,this['_dragStart'+'MousePosit'+'ion']),_0x5a4b98['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x47c1f7),_0x2ec90a){const _0xbe3753=_0x12d255['entity']['getLocalPo'+'sition'](),_0x39fc90=ZO[_0x2ec90a];_0x5a4b98[_0x39fc90]=_0xbe3753[_0x39fc90];}_0x12d255['entity']['setLocalPo'+'sition'](_0x5a4b98),this['fire']('drag:move',_0x5a4b98);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x475a9c){this['_enabled']=_0x475a9c;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x9b9*-0x1+0x2*0x6a+0x8e5,aS=0xe30+0x8*0xdf+-0x39*0x5f,JO=0x1f*-0x52+-0x5*0x172+0xa9*0x1a,eF=-0x209*-0x13+0xcb5+-0x3360,tF=0xe2a+0xfab+-0x1dd4,xo=new J();class c0 extends we{constructor(_0xd4b226,_0x37acaf){super(_0xd4b226,_0x37acaf),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x237+-0x5*-0x6df+-0x2023),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0xe6b65f=this['system']['store'][this['entity']['getGuid']()];return _0xe6b65f?_0xe6b65f['data']:null;}set['enabled'](_0x8fc556){this['_setValue']('enabled',_0x8fc556);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x1c7a13){this['_setValue']('horizontal',_0x1c7a13);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x3cbf4a){this['_setValue']('vertical',_0x3cbf4a);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x51a41c){this['_setValue']('scrollMode',_0x51a41c);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x40277b){this['_setValue']('bounceAmou'+'nt',_0x40277b);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x1ded80){this['_setValue']('friction',_0x1ded80);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x5498e1){this['_setValue']('dragThresh'+'old',_0x5498e1);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x29edb2){this['_setValue']('useMouseWh'+'eel',_0x29edb2);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x3586c2){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x3586c2);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x4127d0){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x4127d0);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x73d6c1){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x73d6c1);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xb7f4c8){if(this['_viewportE'+'ntity']===_0xb7f4c8)return;const _0x5830dc=typeof _0xb7f4c8=='string';this['_viewportE'+'ntity']&&_0x5830dc&&this['_viewportE'+'ntity']['getGuid']()===_0xb7f4c8||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xb7f4c8 instanceof Ie?this['_viewportE'+'ntity']=_0xb7f4c8:_0x5830dc?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xb7f4c8)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x5830dc&&_0xb7f4c8&&(this['data']['viewportEn'+'tity']=_0xb7f4c8));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x5bfe8a){if(this['_contentEn'+'tity']===_0x5bfe8a)return;const _0x3a84b4=typeof _0x5bfe8a=='string';this['_contentEn'+'tity']&&_0x3a84b4&&this['_contentEn'+'tity']['getGuid']()===_0x5bfe8a||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x5bfe8a instanceof Ie?this['_contentEn'+'tity']=_0x5bfe8a:_0x3a84b4?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5bfe8a)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x3a84b4&&_0x5bfe8a&&(this['data']['contentEnt'+'ity']=_0x5bfe8a));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x55a28a){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x55a28a)return;const _0x597cf7=typeof _0x55a28a=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x597cf7&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x55a28a||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x55a28a instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x55a28a:_0x597cf7?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x55a28a)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x597cf7&&_0x55a28a&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x55a28a));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x175381){if(this['_verticalS'+'crollbarEn'+'tity']===_0x175381)return;const _0x1044b5=typeof _0x175381=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x1044b5&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x175381||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x175381 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x175381:_0x1044b5?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x175381)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x1044b5&&_0x175381&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x175381));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x5272fd){this['_onSetScro'+'ll'](_0x5272fd['x'],_0x5272fd['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x5ee79c,_0x4fdcdb){const _0x574f71=this['data'],_0xb97d2e=_0x574f71[_0x5ee79c];_0x574f71[_0x5ee79c]=_0x4fdcdb,this['fire']('set',_0x5ee79c,_0xb97d2e,_0x4fdcdb);}['_toggleLif'+'ecycleList'+'eners'](_0x1684af){this[_0x1684af]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x1684af]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x1684af]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2f3c23){if(this['entity']['element']){if(_0x2f3c23==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2f3c23]('resize',this['_syncAll'],this),this['entity']['element'][_0x2f3c23]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2f3c23==='on';}}['_onElement'+'ComponentA'+'dd'](_0x12314d){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x99eaf5){var _0x44fea3;(_0x44fea3=this['_evtElemen'+'tRemove'])==null||_0x44fea3['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5cc04f,_0x27ec4d;(_0x5cc04f=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5cc04f['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x27ec4d=this['_viewportE'+'ntity'])!=null&&_0x27ec4d['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x185442=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x185442['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x185442['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x3e8184,_0x5dcf74;(_0x3e8184=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x3e8184['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x5dcf74=this['_evtViewpo'+'rtResize'])==null||_0x5dcf74['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x17c224,_0x363881;(_0x17c224=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x17c224['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x363881=this['_contentEn'+'tity'])!=null&&_0x363881['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x490708=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x490708['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x490708['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4eadeb,_0x405991;(_0x4eadeb=this['_evtConten'+'tElementRe'+'move'])==null||_0x4eadeb['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x405991=this['_evtConten'+'tResize'])==null||_0x405991['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x18913b){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x14b1*0x1+0x886+0xc2b),this['_setScroll'+'FromConten'+'tPosition'](_0x18913b),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x18913b),!this['_disabledC'+'ontentInpu'+'t'])){const _0x4f2ef8=_0x18913b['x']-this['_dragStart'+'Position']['x'],_0x10ec9b=_0x18913b['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x4f2ef8)>this['dragThresh'+'old']||Math['abs'](_0x10ec9b)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x3138bd;(_0x3138bd=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x3138bd['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0xcf09df;(_0xcf09df=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0xcf09df['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x58ebc1){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x58ebc1,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x6a92c4){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x6a92c4);}['_onHorizon'+'talScrollb'+'arGain'](){var _0xddf78e;const _0x3b29a7=(_0xddf78e=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x137*-0x9+0x1f80+-0x1*0x2a6f):_0xddf78e['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x3b29a7['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x3b29a7['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x3b4d88;const _0x67eab9=(_0x3b4d88=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x943*-0x3+-0x34*0x34+-0x1*-0x2659):_0x3b4d88['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x67eab9['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x67eab9['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x230bad,_0x464cd1;(_0x230bad=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x230bad['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x464cd1=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x464cd1['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x26d526,_0x12bd09;(_0x26d526=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x26d526['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x12bd09=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x12bd09['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0xc4f64e,_0x58050,_0x126da6){_0x126da6!==!(0x1a*-0x49+0x84e+-0xe3)&&this['_velocity']['set'](-0x1c34+-0xd9d*0x2+0x1e*0x1d9,-0x5*-0x40e+0x129d+-0x26e3,0x1*0x1d2f+-0x1775+-0x5ba);const _0x2036cf=this['_updateAxi'+'s'](_0xc4f64e,'x',Ce),_0x57a504=this['_updateAxi'+'s'](_0x58050,'y',je);(_0x2036cf||_0x57a504)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x85e0b7,_0x98ddd7,_0x2b2e5a){const _0x5dd5f9=_0x85e0b7!==null&&Math['abs'](_0x85e0b7-this['_scroll'][_0x98ddd7])>0x1*-0x1eee+-0x2229*0x1+-0x1*-0x4117+0.00001;return(_0x5dd5f9||this['_isDraggin'+'g']()||_0x85e0b7===0x259b+-0x75d+0xe*-0x229)&&(this['_scroll'][_0x98ddd7]=this['_determine'+'NewScrollV'+'alue'](_0x85e0b7,_0x98ddd7,_0x2b2e5a),this['_syncConte'+'ntPosition'](_0x2b2e5a),this['_syncScrol'+'lbarPositi'+'on'](_0x2b2e5a)),_0x5dd5f9;}['_determine'+'NewScrollV'+'alue'](_0x21acf8,_0x1192ad,_0x3b5271){if(!this['_getScroll'+'ingEnabled'](_0x3b5271))return this['_scroll'][_0x1192ad];switch(this['scrollMode']){case QO:return Y['clamp'](_0x21acf8,0x19bd*0x1+-0x6a4+-0x1319,this['_getMaxScr'+'ollValue'](_0x3b5271));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x21acf8,_0x1192ad,_0x3b5271),_0x21acf8;case JO:return _0x21acf8;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x21acf8;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x5d5850){if(!this['_contentEn'+'tity'])return;const _0x450307=this['_getAxis'](_0x5d5850),_0x41b069=this['_getSign'](_0x5d5850),_0x5180b5=this['_prevConte'+'ntSizes'][_0x5d5850],_0x33e38c=this['_getConten'+'tSize'](_0x5d5850);if(_0x5180b5!==null&&Math['abs'](_0x5180b5-_0x33e38c)>0xe5+0x233d+-0x7d*0x4a+0.0001){const _0x32ed86=this['_getMaxOff'+'set'](_0x5d5850,_0x5180b5),_0x1a19c2=this['_getMaxOff'+'set'](_0x5d5850,_0x33e38c);_0x1a19c2===0x29d*-0x9+0x154c+0x239?this['_scroll'][_0x450307]=0x1bdc+0x13ef+-0x2fca:this['_scroll'][_0x450307]=Y['clamp'](this['_scroll'][_0x450307]*_0x32ed86/_0x1a19c2,-0x1f*0x25+-0x1a61+0x1edc,0xea4*0x1+-0x7*-0x39b+-0x27e0);}const _0x57dc43=this['_scroll'][_0x450307]*this['_getMaxOff'+'set'](_0x5d5850),_0x3f5733=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3f5733[_0x450307]=_0x57dc43*_0x41b069,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3f5733),this['_prevConte'+'ntSizes'][_0x5d5850]=_0x33e38c;}['_syncScrol'+'lbarPositi'+'on'](_0x45a0b6){const _0x707f61=this['_scrollbar'+'Entities'][_0x45a0b6];if(!(_0x707f61!=null&&_0x707f61['scrollbar']))return;const _0x31d3ed=this['_getAxis'](_0x45a0b6);this['_scrollbar'+'UpdateFlag'+'s'][_0x45a0b6]=!(0xafd+-0x547+-0x5b6),_0x707f61['scrollbar']['value']=this['_scroll'][_0x31d3ed],_0x707f61['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x31d3ed,_0x45a0b6),this['_scrollbar'+'UpdateFlag'+'s'][_0x45a0b6]=!(0x25*0x33+-0x141+-0x61d*0x1);}['_syncScrol'+'lbarEnable'+'dState'](_0x507874){const _0x3a01f9=this['_scrollbar'+'Entities'][_0x507874];if(!_0x3a01f9)return;const _0x3cbd27=this['_getScroll'+'ingEnabled'](_0x507874),_0x2b3cc1=this['_getScroll'+'barVisibil'+'ity'](_0x507874);switch(_0x2b3cc1){case eF:_0x3a01f9['enabled']=_0x3cbd27;return;case tF:_0x3a01f9['enabled']=_0x3cbd27&&this['_contentIs'+'LargerThan'+'Viewport'](_0x507874);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x2b3cc1),_0x3a01f9['enabled']=_0x3cbd27;}}['_contentIs'+'LargerThan'+'Viewport'](_0x429b1c){return this['_getConten'+'tSize'](_0x429b1c)>this['_getViewpo'+'rtSize'](_0x429b1c);}['_contentPo'+'sitionToSc'+'rollValue'](_0x22ac22){const _0x40cb5b=this['_getMaxOff'+'set'](Ce),_0x2401e5=this['_getMaxOff'+'set'](je);return _0x40cb5b===0x2237+0xd6d+-0x2*0x17d2?xo['x']=0x559*-0x2+0x11a9+-0x6f7:xo['x']=_0x22ac22['x']/_0x40cb5b,_0x2401e5===0x1*-0x6b9+-0x1a5*0xf+0x1f64?xo['y']=-0x454+-0x33d+-0xd*-0x95:xo['y']=_0x22ac22['y']/-_0x2401e5,xo;}['_getMaxOff'+'set'](_0x3dd95f,_0x47323b){_0x47323b=_0x47323b===void(-0x1e9b+-0x13b2+0x324d)?this['_getConten'+'tSize'](_0x3dd95f):_0x47323b;const _0x56a602=this['_getViewpo'+'rtSize'](_0x3dd95f);return _0x47323b<_0x56a602?-this['_getViewpo'+'rtSize'](_0x3dd95f):_0x56a602-_0x47323b;}['_getMaxScr'+'ollValue'](_0x3c0814){return this['_contentIs'+'LargerThan'+'Viewport'](_0x3c0814)?0xea+-0x1*0x1289+0x11a0:0x5*0x1a3+0x2*-0x136+-0x5c3;}['_getScroll'+'barHandleS'+'ize'](_0x113857,_0x338c2e){const _0x38b2f7=this['_getViewpo'+'rtSize'](_0x338c2e),_0x102cd4=this['_getConten'+'tSize'](_0x338c2e);if(Math['abs'](_0x102cd4)<-0x1+0x1*0x1aa5+-0x1aa4+0.001)return-0x1*-0x2e1+-0x700+0x420;const _0x3ca958=Math['min'](_0x38b2f7/_0x102cd4,-0x1c6*-0x5+0x1615+-0x1ef2),_0x31e875=this['_toOversho'+'ot'](this['_scroll'][_0x113857],_0x338c2e);return _0x31e875===-0x1777+0x10e+-0x1669*-0x1?_0x3ca958:_0x3ca958/(0x10b2+0x96d*-0x3+0xb96+Math['abs'](_0x31e875));}['_getViewpo'+'rtSize'](_0x4884c0){return this['_getSize'](_0x4884c0,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x506c9e){return this['_getSize'](_0x506c9e,this['_contentEn'+'tity']);}['_getSize'](_0x832fd0,_0x11ba7d){return _0x11ba7d!=null&&_0x11ba7d['element']?_0x11ba7d['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x832fd0)]:-0x34*-0x10+0x9f9*-0x2+0x1*0x10b2;}['_getScroll'+'ingEnabled'](_0x175ae1){if(_0x175ae1===Ce)return this['horizontal'];if(_0x175ae1===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x175ae1);}['_getScroll'+'barVisibil'+'ity'](_0x34b89a){if(_0x34b89a===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x34b89a===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x34b89a);}['_getSign'](_0x58c796){return _0x58c796===Ce?0x2*-0x68a+0x1cab+-0xf96:-(0x203+0x569*0x1+-0x76b);}['_getAxis'](_0x4034f7){return _0x4034f7===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x2228be){return _0x2228be===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x1d84+-0x1169*0x2+0x54e+0.0001||Math['abs'](this['_velocity']['y'])>-0x71+-0xd3f+-0x30*-0x49+0.0001){const _0x1c5b70=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1c5b70['x']+=this['_velocity']['x'],_0x1c5b70['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1c5b70),this['_setScroll'+'FromConten'+'tPosition'](_0x1c5b70);}this['_velocity']['x']*=0xf9*0x15+0x2490+-0x38fc-this['friction'],this['_velocity']['y']*=-0x1042*0x1+-0x2d7*-0x4+-0x4e7*-0x1-this['friction'];}}['_hasOversh'+'oot'](_0x9b06ff,_0x4c1301){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x9b06ff],_0x4c1301))>0x1*-0x1b6b+0xac9+0x10a2*0x1+0.001;}['_toOversho'+'ot'](_0x1ba61e,_0x53b0fd){const _0x3c48e4=this['_getMaxScr'+'ollValue'](_0x53b0fd);return _0x1ba61e<0x1*0x91e+-0x259a+0x1c7c?_0x1ba61e:_0x1ba61e>_0x3c48e4?_0x1ba61e-_0x3c48e4:-0x1*0x1583+-0x9b0+0x1f33;}['_setVeloci'+'tyFromOver'+'shoot'](_0x21302f,_0x4805ba,_0x5e1234){const _0x38aa2d=this['_toOversho'+'ot'](_0x21302f,_0x5e1234)*this['_getMaxOff'+'set'](_0x5e1234)*this['_getSign'](_0x5e1234);Math['abs'](_0x38aa2d)>0x15cb+-0x1*0x1829+0x25e&&(this['_velocity'][_0x4805ba]=-_0x38aa2d/(this['bounceAmou'+'nt']*(-0x2008+0x2314+-0x2da)+(-0x266e+-0x37c*-0x3+0x1bfb)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x20478c){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x20478c,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x20478c)):(this['_velocity']['set'](0x1*0x24b9+0x1347+-0x3800,-0x1*-0x198f+0x6d*-0x45+0x3d2*0x1,-0x1647+0x12*-0x6c+0x1ddf),this['_prevConte'+'ntDragPosi'+'tion']=_0x20478c['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3ffc10){let _0x5c7fa7=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3ffc10);this['_isDraggin'+'g']()&&(_0x5c7fa7=this['_applyScro'+'llValueTen'+'sion'](_0x5c7fa7)),this['_onSetScro'+'ll'](_0x5c7fa7['x'],_0x5c7fa7['y'],!(-0xc2e+-0x1ebc+0x2aeb));}['_applyScro'+'llValueTen'+'sion'](_0x1e680e){let _0x111a5a=this['_getMaxScr'+'ollValue'](Ce),_0x5ca882=this['_toOversho'+'ot'](_0x1e680e['x'],Ce);return _0x5ca882>0x14f3+-0x5f*0x1+-0x6*0x36e?_0x1e680e['x']=_0x111a5a+(0x11a0+0x233*-0xf+0xf5e*0x1)*Math['log10'](0xa3d*-0x1+0x1*0x16db+0x1*-0xc9d+_0x5ca882):_0x5ca882<0x11*-0x232+-0x1*-0x2059+0x4f9&&(_0x1e680e['x']=-(0x24f9+0x179f*0x1+-0x3c97*0x1)*Math['log10'](0x3b*0x6b+0x1*0x213a+-0x39e2-_0x5ca882)),_0x111a5a=this['_getMaxScr'+'ollValue'](je),_0x5ca882=this['_toOversho'+'ot'](_0x1e680e['y'],je),_0x5ca882>0x1*0xf67+-0x1136+0x1cf?_0x1e680e['y']=_0x111a5a+(0x232b+0x1f56+-0x4280)*Math['log10'](0x8dd*-0x1+0x17a3+-0xec5+_0x5ca882):_0x5ca882<-0x411+-0x1c0c+0x1*0x201d&&(_0x1e680e['y']=-(0xd*0x118+0x1749+-0x2580)*Math['log10'](-0xa3*0x6+-0x14f9*0x1+0x18cc-_0x5ca882)),_0x1e680e;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x45c34a){var _0x175759,_0x1d7100;(_0x175759=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x175759['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x45c34a),(_0x1d7100=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x1d7100['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x45c34a);}['_setConten'+'tDraggingE'+'nabled'](_0x437c3d){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x437c3d);}['_onMouseWh'+'eel'](_0x1f3103){var _0x56e61f;if(!this['useMouseWh'+'eel']||!((_0x56e61f=this['_contentEn'+'tity'])!=null&&_0x56e61f['element']))return;const _0x106456=_0x1f3103['event'],_0x23b0e4=_0x106456['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x8178ad=_0x106456['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x184e5a=Y['clamp'](this['_scroll']['x']+_0x23b0e4,0x1189+-0x1095+-0xf4,this['_getMaxScr'+'ollValue'](Ce)),_0x5237a5=Y['clamp'](this['_scroll']['y']+_0x8178ad,-0x1*-0x1dee+0xd*0x2b3+0x4105*-0x1,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x184e5a,_0x5237a5);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x321de9=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x321de9['element']&&(_0x321de9['element']['useInput']=!(-0x9b3+0x24d0+-0x1b1d));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1*0x1345+-0x5*-0x2b3+0x5c7);}['_disableCo'+'ntentInput'](){const _0x17dbf8=_0x3c5170=>{_0x3c5170['element']&&_0x3c5170['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x3c5170),_0x3c5170['element']['useInput']=!(-0x259f+0x1f7d+0x623));const _0xfb68bb=_0x3c5170['children'];for(let _0x3ca407=-0x12b9+0x228d+-0xfd4,_0x3f72e9=_0xfb68bb['length'];_0x3ca407<_0x3f72e9;_0x3ca407++)_0x17dbf8(_0xfb68bb[_0x3ca407]);};if(this['_contentEn'+'tity']){const _0x1b8140=this['_contentEn'+'tity']['children'];for(let _0x54ec6b=-0x1*-0x2dd+0xf16+-0x11f3,_0x146c98=_0x1b8140['length'];_0x54ec6b<_0x146c98;_0x54ec6b++)_0x17dbf8(_0x1b8140[_0x54ec6b]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x35*0x51+0x4*0x981+-0x153f);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x99*0x1b+0xda*-0x14+0xe5)),this['_setConten'+'tDraggingE'+'nabled'](!(0x25fe+0x39*0x52+-0x3840)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x146d*-0x1+-0x23e7*-0x1+-0xf79)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1feb+0x1568+-0x4*-0x2a1));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x38a2ed,_0x2472b2){_0x38a2ed['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x2472b2[_0x38a2ed['viewportEn'+'tity']['getGuid']()]),_0x38a2ed['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x2472b2[_0x38a2ed['contentEnt'+'ity']['getGuid']()]),_0x38a2ed['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x2472b2[_0x38a2ed['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x38a2ed['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x2472b2[_0x38a2ed['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x1644+0x1*-0x11a9+0x27f7*0x1;class iF{constructor(){h(this,'enabled',!(-0xb7*-0x2b+0x13a*0x4+-0x23a5)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x1075+-0x3a6+-0xccf)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0x21c4+0x857*-0x4+-0x67,0x1*-0x202e+-0x1ddf+0x3e0e)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0x58f*-0x1+-0x1169*0x2+0x1d43),h(this,'verticalSc'+'rollbarVis'+'ibility',-0xa59+-0x1ee2+0x1*0x293b),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x16c9*0x1+0x14b8+-0x2b77;class aF extends ct{constructor(_0x17f9a4){super(_0x17f9a4),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3da757,_0x57c2a9,_0x304b2b){_0x57c2a9['dragThresh'+'old']===void(-0x23df+0x213a+-0x2a5*-0x1)&&(_0x57c2a9['dragThresh'+'old']=rF),_0x57c2a9['useMouseWh'+'eel']===void(0xbc3+-0x3bc+-0x807)&&(_0x57c2a9['useMouseWh'+'eel']=!(-0xefb+-0x5*-0x1bd+0x64a)),_0x57c2a9['mouseWheel'+'Sensitivit'+'y']===void(0x1867+0x221a+-0x3a81)&&(_0x57c2a9['mouseWheel'+'Sensitivit'+'y']=new J(-0x9e*0x22+-0x1352+0x284f,0x7bb+-0x1622+-0x39a*-0x4)),super['initialize'+'ComponentD'+'ata'](_0x3da757,_0x57c2a9,nS),_0x3da757['viewportEn'+'tity']=_0x57c2a9['viewportEn'+'tity'],_0x3da757['contentEnt'+'ity']=_0x57c2a9['contentEnt'+'ity'],_0x3da757['horizontal'+'ScrollbarE'+'ntity']=_0x57c2a9['horizontal'+'ScrollbarE'+'ntity'],_0x3da757['verticalSc'+'rollbarEnt'+'ity']=_0x57c2a9['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x492d94){const _0x10aad9=this['store'];for(const _0x18b9c1 in _0x10aad9){const _0x1d9c99=_0x10aad9[_0x18b9c1]['entity'],_0x2b3a8b=_0x1d9c99['scrollview'];_0x2b3a8b['enabled']&&_0x1d9c99['enabled']&&_0x2b3a8b['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2aa2ad,_0x29df12){_0x29df12['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0xa3a588,_0x43d69e){super(_0xa3a588,_0x43d69e),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0xdd3b66=this['system']['store'][this['entity']['getGuid']()];return _0xdd3b66?_0xdd3b66['data']:null;}set['enabled'](_0x2d8622){this['_setValue']('enabled',_0x2d8622);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4f710c){this['_setValue']('orientatio'+'n',_0x4f710c);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x52b48b){this['_setValue']('value',_0x52b48b);}get['value'](){return this['data']['value'];}set['handleSize'](_0x35e3e6){this['_setValue']('handleSize',_0x35e3e6);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x42f10c){if(this['_handleEnt'+'ity']===_0x42f10c)return;const _0x21f3b6=typeof _0x42f10c=='string';this['_handleEnt'+'ity']&&_0x21f3b6&&this['_handleEnt'+'ity']['getGuid']()===_0x42f10c||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x42f10c instanceof Ie?this['_handleEnt'+'ity']=_0x42f10c:_0x21f3b6?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x42f10c)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x21f3b6&&_0x42f10c&&(this['data']['handleEnti'+'ty']=_0x42f10c));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x6b2112,_0x40d5af){const _0x65271a=this['data'],_0x3c6e6a=_0x65271a[_0x6b2112];_0x65271a[_0x6b2112]=_0x40d5af,this['fire']('set',_0x6b2112,_0x3c6e6a,_0x40d5af);}['_toggleLif'+'ecycleList'+'eners'](_0x645ceb){this[_0x645ceb]('set_value',this['_onSetValu'+'e'],this),this[_0x645ceb]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x645ceb]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0xf55fa0,_0x3301b8;(_0xf55fa0=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0xf55fa0['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x3301b8=this['_handleEnt'+'ity'])!=null&&_0x3301b8['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x168138=this['_handleEnt'+'ity']['element'],_0x555cc7=this['_evtHandle'+'EntityChan'+'ges'];_0x555cc7['push'](_0x168138['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x555cc7['push'](_0x168138['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x555cc7['push'](_0x168138['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x555cc7['push'](_0x168138['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x3bc7f2=-0x61*-0x26+0xe8b+-0x1f*0xef;_0x3bc7f2<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x3bc7f2++)this['_evtHandle'+'EntityChan'+'ges'][_0x3bc7f2]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x10d7+-0x26ad*0x1+0xbb*0x4c;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x1bdb68){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x1bdb68[this['_getAxis']()]));}['_onSetValu'+'e'](_0x337a42,_0x5c4fa0,_0x5dc0c7){Math['abs'](_0x5dc0c7-_0x5c4fa0)>0x48a+-0x1140+-0x2*-0x65b+0.00001&&(this['data']['value']=Y['clamp'](_0x5dc0c7,-0x1*-0xb+-0xfe3+0xfd8,-0x5*0x5cf+0x2452+-0x746),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x46e3e4,_0x29a5cc,_0x53851e){Math['abs'](_0x53851e-_0x29a5cc)>-0x457*0x1+0xdc3*0x1+-0x43*0x24+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x53851e,0x1*0x1c99+-0xcae+-0xfeb,-0x1f7*-0x8+0x407*-0x6+0x67*0x15),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x2a3ba3,_0x4980cc,_0x4d2c72){var _0x45a0b1;_0x4d2c72!==_0x4980cc&&((_0x45a0b1=this['_handleEnt'+'ity'])!=null&&_0x45a0b1['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0xfa3*0x2+0x26c1+-0x4607);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x381abf=this['_handleEnt'+'ity'],_0x23bfbb=_0x381abf==null?void(0x1*0x579+-0x4*-0x1fb+-0xd65):_0x381abf['element'];if(_0x381abf){const _0x224414=_0x381abf['getLocalPo'+'sition']();_0x224414[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x381abf['setLocalPo'+'sition'](_0x224414);}_0x23bfbb&&(_0x23bfbb[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x15fe0e){return _0x15fe0e*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x5cf831){return _0x5cf831*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0xa*-0x14b+-0x7fa*0x2+0xe71*0x2+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x2643+-0x9*0x229+-0x12d2;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x1e3b+0x2*-0x1115+0x4066:-(-0x708+0x1460+-0xd57);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x48641c){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x48641c);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x1632+0x76e*0x4+0xa*-0x531));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0xff*0x13+0xdd+0x13c9*-0x1));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x19ac74,_0x5a2846){_0x19ac74['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x5a2846[_0x19ac74['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x203d+-0x2561+-0x86*-0x85)),h(this,'orientatio'+'n',Ce),h(this,'value',0x1af8+-0xdfb+0x299*-0x5),h(this,'handleSize',0x9b0*-0x4+0xe3*-0x1e+-0x1de*-0x23),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x2c913a){super(_0x2c913a),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x5b3abe,_0x3b9f51,_0x24f799){super['initialize'+'ComponentD'+'ata'](_0x5b3abe,_0x3b9f51,oS),_0x5b3abe['handleEnti'+'ty']=_0x3b9f51['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x5d2233){_0x5d2233['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x15fd10,_0x2cf569){_0x2cf569['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1*0x14c6+-0x1*0xa81+0x5b*0x58),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x19cbf7,_0x2b06b8='Untitled',_0x20c133={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x19cbf7,this['_assets']=_0x19cbf7['system']['app']['assets'],this['_manager']=_0x19cbf7['system']['manager'],this['name']=_0x2b06b8,this['_volume']=_0x20c133['volume']!==void(0x24a1+-0x18f9*0x1+0x2*-0x5d4)?Y['clamp'](Number(_0x20c133['volume'])||-0x1*0x15c5+0x146c+0x159,0xc52+-0x1300*0x1+0x6ae,-0x8aa*-0x1+-0x13c6*-0x1+0x1c6f*-0x1):-0x70*-0x4c+0x2b7*0x7+-0x2c*0x130,this['_pitch']=_0x20c133['pitch']!==void(0x2*-0x1242+-0x1bd3*0x1+0x4057)?Math['max'](-0x3*0xce3+0x1e05+-0x7*-0x13c+0.01,Number(_0x20c133['pitch'])||-0xe*-0x259+-0x1b52+-0x58c):0x19fb+0x7b7+0x17*-0x177,this['_loop']=!!(_0x20c133['loop']!==void(0x6b*-0xf+-0x1808+0x1*0x1e4d)&&_0x20c133['loop']),this['_duration']=_0x20c133['duration']>-0x16f5+0x18c3+-0x9a*0x3?_0x20c133['duration']:null,this['_startTime']=Math['max'](0x21ee+0xb34*0x2+-0x3856,Number(_0x20c133['startTime'])||-0x2556+-0x2010+0x4566),this['_overlap']=!!_0x20c133['overlap'],this['_autoPlay']=!!_0x20c133['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x20c133['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x26a598){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x2b9dc0=_0x26a598;if(_0x2b9dc0||(_0x2b9dc0=this['_createIns'+'tance'](),this['instances']['push'](_0x2b9dc0)),this['isLoaded'])_0x2b9dc0['play']();else{const _0x4f0157=function(_0x58d7bc){const _0x4b40ca=_0x2b9dc0['_playWhenL'+'oaded'];_0x2b9dc0['sound']=_0x58d7bc,_0x4b40ca&&_0x2b9dc0['play']();};this['off']('load',_0x4f0157),this['once']('load',_0x4f0157),this['load']();}return _0x2b9dc0;}['pause'](){let _0x568991=!(0x1f89+0x2082+0x2*-0x2005);const _0x2b5824=this['instances'];for(let _0x38e4d4=0x10f2+0x652+-0x5d1*0x4,_0x2e4ae9=_0x2b5824['length'];_0x38e4d4<_0x2e4ae9;_0x38e4d4++)_0x2b5824[_0x38e4d4]['pause']()&&(_0x568991=!(-0x1c4c+-0x1667+-0x1*-0x32b3));return _0x568991;}['resume'](){let _0x203e92=!(-0xb8*0x2f+0x1cf6+-0x1*-0x4d3);const _0xcc190=this['instances'];for(let _0x16ffee=0x11*0xc7+-0xfae+-0x1*-0x277,_0x387e0a=_0xcc190['length'];_0x16ffee<_0x387e0a;_0x16ffee++)_0xcc190[_0x16ffee]['resume']()&&(_0x203e92=!(-0x1e07*-0x1+-0xfd2+0xe35*-0x1));return _0x203e92;}['stop'](){let _0x32b7e9=!(-0x2*-0xe7b+-0x2*0xa4+-0x1bad);const _0x4be9d4=this['instances'];let _0x457e3d=_0x4be9d4['length'];for(;_0x457e3d--;)_0x4be9d4[_0x457e3d]['stop'](),_0x32b7e9=!(0x592*-0x7+0x230e+0x3f0);return _0x4be9d4['length']=-0x14aa+0x544+0xf66,_0x32b7e9;}['load'](){if(!this['_hasAsset']())return;const _0x6d5738=this['_assets']['get'](this['_asset']);if(!_0x6d5738){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x6d5738['off']('remove',this['_onAssetRe'+'moved'],this),_0x6d5738['on']('remove',this['_onAssetRe'+'moved'],this),!_0x6d5738['resource']){_0x6d5738['off']('load',this['_onAssetLo'+'ad'],this),_0x6d5738['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x6d5738);return;}this['fire']('load',_0x6d5738['resource']);}['setExterna'+'lNodes'](_0x576779,_0xb5ff66){if(!_0x576779){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0xb5ff66||(_0xb5ff66=_0x576779),this['_firstNode']=_0x576779,this['_lastNode']=_0xb5ff66,!this['_overlap']){const _0x48f0f9=this['instances'];for(let _0x371df0=0x39d+-0x25ef+0x2252,_0x427664=_0x48f0f9['length'];_0x371df0<_0x427664;_0x371df0++)_0x48f0f9[_0x371df0]['setExterna'+'lNodes'](_0x576779,_0xb5ff66);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x3d2d9c=this['instances'];for(let _0x3dd915=0x1*-0x130d+0x1917+-0x60a,_0x5ab15f=_0x3d2d9c['length'];_0x3dd915<_0x5ab15f;_0x3dd915++)_0x3d2d9c[_0x3dd915]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x9079de=null;const _0x3e7556=this['_component'];let _0x208976=null;if(this['_hasAsset']()){const _0x92913d=this['_assets']['get'](this['_asset']);_0x92913d&&(_0x208976=_0x92913d['resource']);}const _0x7c6c42=lF;return _0x7c6c42['volume']=this['_volume']*_0x3e7556['volume'],_0x7c6c42['pitch']=this['_pitch']*_0x3e7556['pitch'],_0x7c6c42['loop']=this['_loop'],_0x7c6c42['startTime']=this['_startTime'],_0x7c6c42['duration']=this['_duration'],_0x7c6c42['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x7c6c42['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x7c6c42['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x7c6c42['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x7c6c42['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x3e7556['positional']?(_0x7c6c42['position']['copy'](_0x3e7556['entity']['getPositio'+'n']()),_0x7c6c42['maxDistanc'+'e']=_0x3e7556['maxDistanc'+'e'],_0x7c6c42['refDistanc'+'e']=_0x3e7556['refDistanc'+'e'],_0x7c6c42['rollOffFac'+'tor']=_0x3e7556['rollOffFac'+'tor'],_0x7c6c42['distanceMo'+'del']=_0x3e7556['distanceMo'+'del'],_0x9079de=new sn(this['_manager'],_0x208976,_0x7c6c42)):_0x9079de=new As(this['_manager'],_0x208976,_0x7c6c42),this['_firstNode']&&_0x9079de['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x9079de;}['_onInstanc'+'ePlay'](_0x5a0a62){this['fire']('play',_0x5a0a62),this['_component']['fire']('play',this,_0x5a0a62);}['_onInstanc'+'ePause'](_0x1b2f42){this['fire']('pause',_0x1b2f42),this['_component']['fire']('pause',this,_0x1b2f42);}['_onInstanc'+'eResume'](_0x33bc9c){this['fire']('resume',_0x33bc9c),this['_component']['fire']('resume',this,_0x33bc9c);}['_onInstanc'+'eStop'](_0x3f5706){const _0x213107=this['instances']['indexOf'](_0x3f5706);_0x213107!==-(-0xf9e+0x2c1+0xcde)&&this['instances']['splice'](_0x213107,0x1*-0x1717+0x1993*-0x1+-0x1*-0x30ab),this['fire']('stop',_0x3f5706),this['_component']['fire']('stop',this,_0x3f5706);}['_onInstanc'+'eEnd'](_0x5643ce){const _0x88e0c=this['instances']['indexOf'](_0x5643ce);_0x88e0c!==-(-0x1d*0x94+-0x56+0x111b)&&this['instances']['splice'](_0x88e0c,0x1063+-0x3c*0x50+0x65*0x6),this['fire']('end',_0x5643ce),this['_component']['fire']('end',this,_0x5643ce);}['_onAssetAd'+'d'](_0x3aef95){this['load']();}['_onAssetLo'+'ad'](_0xe4a962){this['load']();}['_onAssetRe'+'moved'](_0x137f86){_0x137f86['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x137f86['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x11ee2a){const _0x2b7dfc=this['instances'];for(let _0x14b53a=0x3*-0xa6b+-0xc+-0x1f4d*-0x1,_0x275e05=_0x2b7dfc['length'];_0x14b53a<_0x275e05;_0x14b53a++)_0x2b7dfc[_0x14b53a]['position']=_0x11ee2a;}set['asset'](_0x2e152f){const _0x3787c0=this['_asset'];if(_0x3787c0){this['_assets']['off']('add:'+_0x3787c0,this['_onAssetAd'+'d'],this);const _0x33ae83=this['_assets']['get'](_0x3787c0);_0x33ae83&&_0x33ae83['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x2e152f,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x25e3c5){this['_autoPlay']=!!_0x25e3c5;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x353663){if(this['_duration']=Math['max'](0xbdb*0x1+-0x182b+0x18a*0x8,Number(_0x353663)||-0x1a3f+-0xf1*0x24+-0xc07*-0x5)||null,!this['_overlap']){const _0x165a53=this['instances'];for(let _0x1c820a=0x212f+0x4c7+-0xe2*0x2b,_0xdf4126=_0x165a53['length'];_0x1c820a<_0xdf4126;_0x1c820a++)_0x165a53[_0x1c820a]['duration']=this['_duration'];}}get['duration'](){let _0x387fff=-0x1866+-0x1*0x1999+-0x31ff*-0x1;if(this['_hasAsset']()){const _0x4be569=this['_assets']['get'](this['_asset']);_0x387fff=_0x4be569!=null&&_0x4be569['resource']?_0x4be569['resource']['duration']:0x26f9+-0x2*0xed9+-0x947*0x1;}return this['_duration']!=null?this['_duration']%(_0x387fff||0x1c7f*0x1+-0x1ee7+0x269*0x1):_0x387fff;}get['isLoaded'](){if(this['_hasAsset']()){const _0x43d56b=this['_assets']['get'](this['_asset']);if(_0x43d56b)return!!_0x43d56b['resource'];}return!(0x9e*0x1c+0x8*-0x427+0xb*0x173);}get['isPaused'](){const _0x393ec5=this['instances'],_0x16de6c=_0x393ec5['length'];if(_0x16de6c===0x19c*0x2+0x1e02+0x213a*-0x1)return!(0xb8b+0x3af*-0x9+-0x1f7*-0xb);for(let _0x579647=-0x41e*0x6+-0x242d+-0xc2d*-0x5;_0x579647<_0x16de6c;_0x579647++)if(!_0x393ec5[_0x579647]['isPaused'])return!(-0x17b4+-0x14f5*-0x1+-0x58*-0x8);return!(-0x6e*-0x43+0x15b8+-0x3282);}get['isPlaying'](){const _0x2b3d69=this['instances'];for(let _0x14f14c=-0x433*-0x3+0xcd5+0xba*-0x23,_0x3f53c=_0x2b3d69['length'];_0x14f14c<_0x3f53c;_0x14f14c++)if(_0x2b3d69[_0x14f14c]['isPlaying'])return!(0x1*0xc26+-0x18eb*0x1+0x1d3*0x7);return!(-0x1*0x151f+-0xeb9*-0x1+0x667);}get['isStopped'](){const _0x3b26b8=this['instances'];for(let _0x55c7f4=0x66a*-0x5+0x1e30+0x1e2*0x1,_0x4de781=_0x3b26b8['length'];_0x55c7f4<_0x4de781;_0x55c7f4++)if(!_0x3b26b8[_0x55c7f4]['isStopped'])return!(0x83*0x3b+-0x1*0x956+0x11*-0x13a);return!(-0x11*-0xb5+-0x21b3+-0x1*-0x15ae);}set['loop'](_0x305905){this['_loop']=!!_0x305905;const _0x3f193e=this['instances'];for(let _0x3661e6=-0x1a12+0xea7*-0x1+0x28b9,_0x4f352c=_0x3f193e['length'];_0x3661e6<_0x4f352c;_0x3661e6++)_0x3f193e[_0x3661e6]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x13a6d7){this['_overlap']=!!_0x13a6d7;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x591f98){if(this['_pitch']=Math['max'](Number(_0x591f98)||0x1*-0xdee+-0x1ed7*-0x1+0x6f*-0x27,0x10c9+-0x1f9f*-0x1+0xc1a*-0x4+0.01),!this['_overlap']){const _0xc4b7ad=this['instances'];for(let _0x4ce795=-0x7*0x54a+0x197*0x14+0x53a,_0x43f0ad=_0xc4b7ad['length'];_0x4ce795<_0x43f0ad;_0x4ce795++)_0xc4b7ad[_0x4ce795]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x25d5f7){if(this['_startTime']=Math['max'](0x43*-0x1b+-0x1555+-0x2*-0xe33,Number(_0x25d5f7)||0x4f*0x8+-0x11a8+0x510*0x3),!this['_overlap']){const _0x112dd0=this['instances'];for(let _0x4fea76=-0x1c8f+-0xddb+0x2a6a,_0x56a357=_0x112dd0['length'];_0x4fea76<_0x56a357;_0x4fea76++)_0x112dd0[_0x4fea76]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x2d289e){if(this['_volume']=Y['clamp'](Number(_0x2d289e)||-0x5+-0x243a+-0x407*-0x9,-0x4b*0x9+-0x11+0x2b4,-0xe91+0x5*0xeb+0x23*0x49),!this['_overlap']){const _0x18c985=this['instances'];for(let _0x360dba=0x1dcc+0xcb8+-0xc*0x38b,_0x40e65f=_0x18c985['length'];_0x360dba<_0x40e65f;_0x360dba++)_0x18c985[_0x360dba]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x22f5+-0x1*0x907+-0x19ed*0x1),h(this,'_pitch',0x260b+0xfdf+-0x35e9),h(this,'_positiona'+'l',!(-0x1203+-0xb*-0x282+0x2b*-0x39)),h(this,'_refDistan'+'ce',-0x2*-0xe6d+0x19*0xdc+-0x1*0x3255),h(this,'_maxDistan'+'ce',0x1fe8+-0x5f2*0x4+-0xf0*-0x21),h(this,'_rollOffFa'+'ctor',-0x2108+-0x174+-0x51*-0x6d),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x1040bf,_0xdcdff4,_0x35f461){const _0xcda87=this['_slots'];for(const _0x18ed93 in _0xcda87){const _0x5c43bc=_0xcda87[_0x18ed93];if(!_0x5c43bc['overlap']){const _0xb0e805=_0x5c43bc['instances'];for(let _0x3b8ba4=-0x258c+0x573+-0xb*-0x2eb,_0xc091cd=_0xb0e805['length'];_0x3b8ba4<_0xc091cd;_0x3b8ba4++)_0xb0e805[_0x3b8ba4][_0x1040bf]=_0x35f461?_0x5c43bc[_0x1040bf]*_0xdcdff4:_0xdcdff4;}}}set['distanceMo'+'del'](_0x483475){this['_distanceM'+'odel']=_0x483475,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x483475,!(0x214f+-0x1*-0x25c7+-0x24b*0x1f));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x41edee){this['_maxDistan'+'ce']=_0x41edee,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x41edee,!(0xf5+-0x11af+-0x1*-0x10bb));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x5cab22){this['_refDistan'+'ce']=_0x5cab22,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x5cab22,!(-0x5ae+-0x5d8*-0x5+-0x1789));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x107540){this['_rollOffFa'+'ctor']=_0x107540,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x107540,!(-0x1a62+0x8+-0x3*-0x8c9));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2144d8){this['_pitch']=_0x2144d8,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2144d8,!(0x2*0x455+-0x32*-0xaa+0x1*-0x29de));}get['pitch'](){return this['_pitch'];}set['volume'](_0x54912a){this['_volume']=_0x54912a,this['_updateSou'+'ndInstance'+'s']('volume',_0x54912a,!(-0x1*0x1462+-0x1ab9*-0x1+0x21d*-0x3));}get['volume'](){return this['_volume'];}set['positional'](_0x2492f4){this['_positiona'+'l']=_0x2492f4;const _0x34bb90=this['_slots'];for(const _0x10da0a in _0x34bb90){const _0x4acb46=_0x34bb90[_0x10da0a];if(!_0x4acb46['overlap']){const _0x8795ba=_0x4acb46['instances'],_0x51ce94=_0x8795ba['length'];for(let _0x1fbbb9=_0x51ce94-(-0xf6*-0xc+-0x105b*-0x1+-0x1be2);_0x1fbbb9>=-0x51b+-0x25*0x7f+-0xb6*-0x21;_0x1fbbb9--){const _0x48b5ab=_0x8795ba[_0x1fbbb9]['isPlaying']||_0x8795ba[_0x1fbbb9]['isSuspende'+'d'],_0x539de1=_0x8795ba[_0x1fbbb9]['currentTim'+'e'];_0x48b5ab&&_0x8795ba[_0x1fbbb9]['stop']();const _0x4708e1=_0x4acb46['_createIns'+'tance']();_0x48b5ab&&(_0x4708e1['play'](),_0x4708e1['currentTim'+'e']=_0x539de1),_0x8795ba['push'](_0x4708e1);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x5a7c97){const _0x987b4b=this['_slots'];if(_0x987b4b){for(const _0x4bded in _0x987b4b)_0x987b4b[_0x4bded]['stop']();}const _0x479ec7={};for(const _0x157c40 in _0x5a7c97)_0x5a7c97[_0x157c40]instanceof Gi?_0x479ec7[_0x5a7c97[_0x157c40]['name']]=_0x5a7c97[_0x157c40]:_0x5a7c97[_0x157c40]['name']&&(_0x479ec7[_0x5a7c97[_0x157c40]['name']]=new Gi(this,_0x5a7c97[_0x157c40]['name'],_0x5a7c97[_0x157c40]));this['_slots']=_0x479ec7,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x1adc1f=this['_slots'],_0x2b7c10=this['_playingBe'+'foreDisabl'+'e'];for(const _0x3af1a7 in _0x1adc1f){const _0x5bd37b=_0x1adc1f[_0x3af1a7];_0x5bd37b['autoPlay']&&_0x5bd37b['isStopped']?_0x5bd37b['play']():_0x2b7c10[_0x3af1a7]?_0x5bd37b['resume']():_0x5bd37b['isLoaded']||_0x5bd37b['load']();}}['onDisable'](){const _0x192b1e=this['_slots'],_0x24d4d6={};for(const _0x55a7dd in _0x192b1e)_0x192b1e[_0x55a7dd]['overlap']||_0x192b1e[_0x55a7dd]['isPlaying']&&(_0x192b1e[_0x55a7dd]['pause'](),_0x24d4d6[_0x55a7dd]=!(0x1*0xfa5+-0x1324+0xb3*0x5));this['_playingBe'+'foreDisabl'+'e']=_0x24d4d6;}['onRemove'](){this['off']();}['addSlot'](_0x13d47a,_0x4fcc83){const _0x2b4a3f=this['_slots'];if(_0x2b4a3f[_0x13d47a])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x13d47a+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x4ca7fb=new Gi(this,_0x13d47a,_0x4fcc83);return _0x2b4a3f[_0x13d47a]=_0x4ca7fb,_0x4ca7fb['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x4ca7fb['play'](),_0x4ca7fb;}['removeSlot'](_0x5f3b15){const _0xc13229=this['_slots'];_0xc13229[_0x5f3b15]&&(_0xc13229[_0x5f3b15]['stop'](),delete _0xc13229[_0x5f3b15]);}['slot'](_0x311cc8){return this['_slots'][_0x311cc8];}['_getSlotPr'+'operty'](_0x2a6b18,_0x299a43){if(!this['enabled']||!this['entity']['enabled'])return;const _0x29d82f=this['_slots'][_0x2a6b18];if(!_0x29d82f){w['warn']('Trying\x20to\x20'+'get\x20'+_0x299a43+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x2a6b18+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x29d82f[_0x299a43];}['isPlaying'](_0x5f1264){return this['_getSlotPr'+'operty'](_0x5f1264,'isPlaying')||!(0x12e9+-0x128*-0x13+-0x28e0);}['isLoaded'](_0x12e189){return this['_getSlotPr'+'operty'](_0x12e189,'isLoaded')||!(-0x777+0x6c2+0x7*0x1a);}['isPaused'](_0x39d61a){return this['_getSlotPr'+'operty'](_0x39d61a,'isPaused')||!(0x70a+0xa1*-0x13+0x4a*0x11);}['isStopped'](_0x467cbd){return this['_getSlotPr'+'operty'](_0x467cbd,'isStopped')||!(0x6cd+-0x713*0x3+0xe6d);}['play'](_0x3ea9e1){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x58531b=this['_slots'][_0x3ea9e1];return _0x58531b?_0x58531b['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x3ea9e1+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x2cdfb9){const _0x135bd2=this['_slots'];if(_0x2cdfb9){const _0x4fc100=_0x135bd2[_0x2cdfb9];if(!_0x4fc100){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x2cdfb9+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4fc100['pause']();}else{for(const _0x1b974c in _0x135bd2)_0x135bd2[_0x1b974c]['pause']();}}['resume'](_0x16cd29){const _0x4b8e87=this['_slots'];if(_0x16cd29){const _0x47eff1=_0x4b8e87[_0x16cd29];if(!_0x47eff1){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x16cd29+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x47eff1['isPaused']&&_0x47eff1['resume']();}else{for(const _0x6c654c in _0x4b8e87)_0x4b8e87[_0x6c654c]['resume']();}}['stop'](_0x148625){const _0x1f87ec=this['_slots'];if(_0x148625){const _0x3481d5=_0x1f87ec[_0x148625];if(!_0x3481d5){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x148625+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3481d5['stop']();}else{for(const _0x36159a in _0x1f87ec)_0x1f87ec[_0x36159a]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0xe*-0x267+-0x126d+0x340f*0x1);}}const d0=['enabled'];class hF extends ct{constructor(_0x241eb3){super(_0x241eb3),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x241eb3['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x1ad064){this['manager']['volume']=_0x1ad064;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x36ab5f,_0xe31560,_0x5e56dc){_0x5e56dc=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x3f8888=-0xa*0x16d+-0x146*-0x13+-0x350*0x3;_0x3f8888<_0x5e56dc['length'];_0x3f8888++)_0xe31560['hasOwnProp'+'erty'](_0x5e56dc[_0x3f8888])&&(_0x36ab5f[_0x5e56dc[_0x3f8888]]=_0xe31560[_0x5e56dc[_0x3f8888]]);super['initialize'+'ComponentD'+'ata'](_0x36ab5f,_0xe31560,['enabled']);}['cloneCompo'+'nent'](_0x348b71,_0x12d442){const _0x56af54=_0x348b71['sound'],_0x577d3c=_0x56af54['slots'],_0x146f28={};for(const _0x320dfb in _0x577d3c){const _0x5e5770=_0x577d3c[_0x320dfb];_0x146f28[_0x320dfb]={'name':_0x5e5770['name'],'volume':_0x5e5770['volume'],'pitch':_0x5e5770['pitch'],'loop':_0x5e5770['loop'],'duration':_0x5e5770['duration'],'startTime':_0x5e5770['startTime'],'overlap':_0x5e5770['overlap'],'autoPlay':_0x5e5770['autoPlay'],'asset':_0x5e5770['asset']};}const _0x2bc209={'distanceModel':_0x56af54['distanceMo'+'del'],'enabled':_0x56af54['enabled'],'maxDistance':_0x56af54['maxDistanc'+'e'],'pitch':_0x56af54['pitch'],'positional':_0x56af54['positional'],'refDistance':_0x56af54['refDistanc'+'e'],'rollOffFactor':_0x56af54['rollOffFac'+'tor'],'slots':_0x146f28,'volume':_0x56af54['volume']};return this['addCompone'+'nt'](_0x12d442,_0x2bc209);}['onUpdate'](_0x5f2842){const _0x3fcd7a=this['store'];for(const _0x465d03 in _0x3fcd7a)if(_0x3fcd7a['hasOwnProp'+'erty'](_0x465d03)){const _0x398932=_0x3fcd7a[_0x465d03]['entity'];if(_0x398932['enabled']){const _0x4b9c3c=_0x398932['sound'];if(_0x4b9c3c['enabled']&&_0x4b9c3c['positional']){const _0x3de518=_0x398932['getPositio'+'n'](),_0x27798c=_0x4b9c3c['slots'];for(const _0x1f1bb9 in _0x27798c)_0x27798c[_0x1f1bb9]['updatePosi'+'tion'](_0x3de518);}}}}['onBeforeRe'+'move'](_0x3469ec,_0x2e0d6f){const _0x3ca90b=_0x2e0d6f['slots'];for(const _0x53201e in _0x3ca90b)_0x3ca90b[_0x53201e]['overlap']||_0x3ca90b[_0x53201e]['stop']();_0x2e0d6f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x518f57,_0x1590af){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x518f57,this['_frame']=0x2457+0x210e+0x5f*-0xbb,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x1590af['spriteAsse'+'t'],this['name']=_0x1590af['name'],this['fps']=_0x1590af['fps']||0x3*0x6d3+0xc96+0x1f*-0x111,this['loop']=_0x1590af['loop']||!(-0x1c*-0x1c+0x17e9*-0x1+0x14da),this['_playing']=!(-0x2300+-0xff3+0x32f4),this['_paused']=!(0x7*-0x343+0x20c2+-0xfe*0xa),this['_time']=-0x2090+-0x19*0xd2+0x3512);}get['duration'](){if(this['_sprite']){const _0x1bbb3b=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x1bbb3b);}return 0x1*-0x12bf+0x82d+-0xf6*-0xb;}set['frame'](_0x36de92){this['_setFrame'](_0x36de92);const _0x1de2c3=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x1de2c3);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x2c614d){var _0x439995;if(this['_sprite']&&((_0x439995=this['_evtSetMes'+'hes'])==null||_0x439995['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x2c614d,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x187d74;!_0x2c614d||!_0x2c614d['atlas']?(_0x187d74=this['_component']['_meshInsta'+'nce'],_0x187d74&&(_0x187d74['deletePara'+'meter']('texture_em'+'issiveMap'),_0x187d74['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x2c614d['atlas']['texture']&&(_0x187d74=this['_component']['_meshInsta'+'nce'],_0x187d74&&(_0x187d74['setParamet'+'er']('texture_em'+'issiveMap',_0x2c614d['atlas']['texture']),_0x187d74['setParamet'+'er']('texture_op'+'acityMap',_0x2c614d['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x2bbfa8){const _0x4ddcf9=this['_component']['system']['app']['assets'];let _0x36f2f3=_0x2bbfa8;if(_0x2bbfa8 instanceof pe&&(_0x36f2f3=_0x2bbfa8['id']),this['_spriteAss'+'et']!==_0x36f2f3){if(this['_spriteAss'+'et']){const _0xc3dd17=_0x4ddcf9['get'](this['_spriteAss'+'et']);_0xc3dd17&&this['_unbindSpr'+'iteAsset'](_0xc3dd17);}if(this['_spriteAss'+'et']=_0x36f2f3,this['_spriteAss'+'et']){const _0xcef983=_0x4ddcf9['get'](this['_spriteAss'+'et']);_0xcef983?this['_bindSprit'+'eAsset'](_0xcef983):(this['sprite']=null,_0x4ddcf9['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x5d8a31){this['_setTime'](_0x5d8a31),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xfdd*-0x1+0x53*-0x25+0x17*-0x2b),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1e1d+-0x400*0x7+-0x1*0x21d;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x3cb574){this['_component']['system']['app']['assets']['off']('add:'+_0x3cb574['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x3cb574['id']&&this['_bindSprit'+'eAsset'](_0x3cb574);}['_bindSprit'+'eAsset'](_0x1f573e){_0x1f573e['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x1f573e['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x1f573e['resource']?this['_onSpriteA'+'ssetLoad'](_0x1f573e):this['_component']['system']['app']['assets']['load'](_0x1f573e);}['_unbindSpr'+'iteAsset'](_0x4cea45){_0x4cea45&&(_0x4cea45['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4cea45['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4cea45['resource']&&!_0x4cea45['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x4cea45['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x29ddd0){if(!_0x29ddd0['resource'])this['sprite']=null;else{if(_0x29ddd0['resource']['atlas'])this['sprite']=_0x29ddd0['resource'];else{const _0x5a1f61=_0x29ddd0['data']['textureAtl'+'asAsset'],_0xd1eb1f=this['_component']['system']['app']['assets'];_0xd1eb1f['off']('load:'+_0x5a1f61,this['_onTexture'+'AtlasLoad'],this),_0xd1eb1f['once']('load:'+_0x5a1f61,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x34c1de){const _0x83a19=this['_spriteAss'+'et'];_0x83a19 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x83a19):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x83a19));}['_onSpriteA'+'ssetRemove'](_0x3fd4a1){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x22d829){if(this['fps']===-0x209*0x7+-0x53*-0x15+0x1c*0x44||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x416dc7=this['fps']<0x14f1+0xff5+0x2*-0x1273?-(-0x23f5*0x1+0xcff+0x1*0x16f7):0x1*0x2ef+0x7b1*0x5+-0x2963,_0x401e45=this['_time']+_0x22d829*this['_component']['speed']*_0x416dc7,_0x4b3c67=this['duration'],_0xf452e9=_0x401e45>_0x4b3c67||_0x401e45<0x45b+-0x591+0x3e*0x5;this['_setTime'](_0x401e45);let _0x1ee130=this['frame'];this['_sprite']?_0x1ee130=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x4b3c67):_0x1ee130=0x1*-0x1891+-0x1a0c*-0x1+-0x17b,_0x1ee130!==this['_frame']&&this['_setFrame'](_0x1ee130),_0xf452e9&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x18cf+-0x2689+-0x5*-0x2bf),this['_paused']=!(-0x449*-0x7+0xa21+0x281f*-0x1),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x4a7b23){this['_time']=_0x4a7b23;const _0x446ca6=this['duration'];this['_time']<-0x1fa6+0x29*0x7b+-0x85*-0x17?this['loop']?this['_time']=this['_time']%_0x446ca6+_0x446ca6:this['_time']=-0x5cf*-0x5+-0x1a35+-0xf2*0x3:this['_time']>_0x446ca6&&(this['loop']?this['_time']%=_0x446ca6:this['_time']=_0x446ca6);}['_setFrame'](_0x40e099){this['_sprite']?this['_frame']=Y['clamp'](_0x40e099,0x7*-0x3f3+-0xd9+0x1c7e,this['_sprite']['frameKeys']['length']-(0x98a+-0x67*0x27+0x628)):this['_frame']=_0x40e099,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x5e2e18=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x5e2e18['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0xc6b*-0x1+-0x1*-0x1ff3+-0x2c5e),this['_paused']=!(0x131e+0x19c1+-0x2*0x166f),this['frame']=0x2488+-0x583*-0x3+-0x3511,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x1d*-0x34+-0x93+-0x551),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0xe*0x107+-0x18f0+0x2753),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x731+0x1*0x2106+0xe4*-0x1d),this['_paused']=!(-0x1*0x7ff+0xa84+-0x284),this['_time']=-0x833+-0x565+0xd98,this['frame']=0x10bb*-0x1+-0xd41+0x1dfc,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x23817c,_0x2c65fb){super(_0x23817c,_0x2c65fb),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x23817c['defaultMat'+'erial'],this['_color']=new ie(-0x1*-0x24fa+0x1*-0x19b8+-0xb41,0x1e01+0x5ba+0x10d*-0x22,-0x857*0x1+0x1b1d+0x5*-0x3c1,-0x2*-0x1+-0xafc*-0x1+-0xafd),this['_colorUnif'+'orm']=new Float32Array(0x3af+0x3*0x1+-0x3af),this['_speed']=0x1f57+-0x8*0x26+-0x1e26,this['_flipX']=!(-0x745+0x2a7*-0xb+0x2473),this['_flipY']=!(0x1894+0x5*0x1c3+0x2162*-0x1),this['_width']=0x21bc+-0x10e7+-0x3*0x59c,this['_height']=0xd*-0x13+-0x33c*0x4+0xde8,this['_drawOrder']=-0x4aa+0x108e+-0xbe4,this['_layers']=[er],this['_outerScal'+'e']=new J(0xa7d+0x1518+-0x1f94,0xb5f+-0x25be+0x1a60),this['_outerScal'+'eUniform']=new Float32Array(-0x23f9*-0x1+-0x185f+-0xb98),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x85a+0x1037+-0x7d9),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x21f1+0x1785+0x10*0xa7),this['_batchGrou'+'pId']=-(0x3fb*0x5+0xc*0x272+-0x313e),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x2c65fb['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x2c65fb,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1*-0xdd5+-0x1de3+-0x1*-0x100f),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x1*0x5b3+-0x17ee+-0x48f*-0x4),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x527a9e){this['_type']!==_0x527a9e&&(this['_type']=_0x527a9e,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0xae21bc){this['_currentCl'+'ip']['frame']=_0xae21bc;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x5b4e2d){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x5b4e2d;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x7f7251){this['_currentCl'+'ip']['sprite']=_0x7f7251;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x2f9bac){this['_material']=_0x2f9bac,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x2f9bac);}get['material'](){return this['_material'];}set['color'](_0x2373e3){this['_color']['r']=_0x2373e3['r'],this['_color']['g']=_0x2373e3['g'],this['_color']['b']=_0x2373e3['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x6d3*0x2+0x56*-0x1+0x6fe*0x2]=this['_color']['r'],this['_colorUnif'+'orm'][0x250a+-0x2473*-0x1+-0x1*0x497c]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1eed+0x25a1+-0x6b2]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x440fac){this['_color']['a']=_0x440fac,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x440fac);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x1a05c0){if(!_0x1a05c0){for(const _0x60b13b in this['_clips'])this['removeClip'](_0x60b13b);return;}for(const _0x1ba6a9 in this['_clips']){let _0x5aa11c=!(0x1fc1+-0x1*-0x17e9+0x1*-0x37a9);for(const _0x1d5ca1 in _0x1a05c0)if(_0x1a05c0[_0x1d5ca1]['name']===_0x1ba6a9){_0x5aa11c=!(0x101b+0x7*0x105+0x15e*-0x11),this['_clips'][_0x1ba6a9]['fps']=_0x1a05c0[_0x1d5ca1]['fps'],this['_clips'][_0x1ba6a9]['loop']=_0x1a05c0[_0x1d5ca1]['loop'],_0x1a05c0[_0x1d5ca1]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1ba6a9]['sprite']=_0x1a05c0[_0x1d5ca1]['sprite']:_0x1a05c0[_0x1d5ca1]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1ba6a9]['spriteAsse'+'t']=_0x1a05c0[_0x1d5ca1]['spriteAsse'+'t']);break;}_0x5aa11c||this['removeClip'](_0x1ba6a9);}for(const _0x4d19bd in _0x1a05c0)this['_clips'][_0x1a05c0[_0x4d19bd]['name']]||this['addClip'](_0x1a05c0[_0x4d19bd]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x9c4a61){this['_speed']=_0x9c4a61;}get['speed'](){return this['_speed'];}set['flipX'](_0x30fe29){this['_flipX']!==_0x30fe29&&(this['_flipX']=_0x30fe29,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x594082){this['_flipY']!==_0x594082&&(this['_flipY']=_0x594082,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0xc01fd9){_0xc01fd9!==this['_width']&&(this['_width']=_0xc01fd9,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x5d134a){_0x5d134a!==this['_height']&&(this['_height']=_0x5d134a,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x39c4ad){var _0x4459a5,_0x5ab212;if(this['_batchGrou'+'pId']===_0x39c4ad)return;const _0x4a9c2c=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x39c4ad,this['entity']['enabled']&&_0x4a9c2c>=-0x602*0x5+-0x1056+0x2e60&&((_0x4459a5=this['system']['app']['batcher'])==null||_0x4459a5['remove'](St['SPRITE'],_0x4a9c2c,this['entity'])),this['entity']['enabled']&&_0x39c4ad>=0x2d3+-0x1c6d+0x199a?(_0x5ab212=this['system']['app']['batcher'])==null||_0x5ab212['insert'](St['SPRITE'],_0x39c4ad,this['entity']):_0x4a9c2c>=0x1040+-0x8c6*-0x4+0x3e*-0xd4&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x3ed878){this['_autoPlayC'+'lip']=_0x3ed878 instanceof Hi?_0x3ed878['name']:_0x3ed878,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x37a3cc){this['_drawOrder']=_0x37a3cc,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x37a3cc);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x104e89){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x104e89,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x3c6548;const _0x22b959=this['system']['app'],_0xe1ea30=_0x22b959['scene'],_0x31a7be=_0xe1ea30['layers'];this['_evtLayers'+'Changed']=_0xe1ea30['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x31a7be&&(this['_evtLayerA'+'dded']=_0x31a7be['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x31a7be['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x13d*-0x6+-0x1952*-0x1+-0x11e4&&((_0x3c6548=_0x22b959['batcher'])==null||_0x3c6548['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x57b8d3,_0x2b15b4,_0xbf235e,_0x193559;const _0x2014f1=this['system']['app'],_0x379d3f=_0x2014f1['scene']['layers'];(_0x57b8d3=this['_evtLayers'+'Changed'])==null||_0x57b8d3['off'](),this['_evtLayers'+'Changed']=null,_0x379d3f&&((_0x2b15b4=this['_evtLayerA'+'dded'])==null||_0x2b15b4['off'](),this['_evtLayerA'+'dded']=null,(_0xbf235e=this['_evtLayerR'+'emoved'])==null||_0xbf235e['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x1da3+-0x2*0x42d+-0x1*0x1549&&((_0x193559=_0x2014f1['batcher'])==null||_0x193559['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x4711cd;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x5cc639 in this['_clips'])this['_clips'][_0x5cc639]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x4711cd=this['_node'])==null||_0x4711cd['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x1e3434=[this['_meshInsta'+'nce']];for(let _0x260799=0x3*-0x601+0x247b+-0x1278,_0x2c4f41=this['_layers']['length'];_0x260799<_0x2c4f41;_0x260799++){const _0x3f2075=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x260799]);_0x3f2075&&_0x3f2075['addMeshIns'+'tances'](_0x1e3434);}this['_addedMode'+'l']=!(-0x8*0x41e+0x21b9*0x1+-0xc9);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x1b3797=[this['_meshInsta'+'nce']];for(let _0x5b54b0=0x23a5+0x11dc+-0x3581,_0x13f44c=this['_layers']['length'];_0x5b54b0<_0x13f44c;_0x5b54b0++){const _0x442bb2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5b54b0]);_0x442bb2&&_0x442bb2['removeMesh'+'Instances'](_0x1b3797);}this['_addedMode'+'l']=!(-0x1cc1+-0x39a*0x3+0x1a6*0x18);}['_showFrame'](_0x1f7bb4){if(!this['sprite'])return;const _0x47cb67=this['sprite']['meshes'][_0x1f7bb4];if(!_0x47cb67){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x2*-0x293+-0x25c5*-0x1+-0x3*0xe4e));return;}let _0x2f510b;if(this['sprite']['renderMode']===Pt?_0x2f510b=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x2f510b=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x2f510b=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x47cb67,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x1*0x387+0x1ea1*0x1+0x3df*-0x7),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x3*-0x9b5+0x1*-0x7bf+-0x155f),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x1515+-0x9b9*-0x1+0xb5c]=this['_color']['r'],this['_colorUnif'+'orm'][-0x3*-0x91+0x12be+-0x1470]=this['_color']['g'],this['_colorUnif'+'orm'][0x22d8+-0x1*0x245b+0x185]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x2f510b&&(this['_meshInsta'+'nce']['material']=_0x2f510b),this['_meshInsta'+'nce']['mesh']!==_0x47cb67&&(this['_meshInsta'+'nce']['mesh']=_0x47cb67,this['_meshInsta'+'nce']['visible']=!(-0x1e19+0x260f+-0x7f6),this['_meshInsta'+'nce']['_aabbVer']=-(0x239*0x11+-0x2324*-0x1+-0x1a*0x2ce)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x4223e8=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x1f7bb4]];if(_0x4223e8){const _0x178b87=(0x6c4+0xb*-0x2f5+0x897*0x3)/_0x4223e8['rect']['z'],_0x1dd61d=(0x1471+0x2618+0x3a87*-0x1)/_0x4223e8['rect']['w'];this['_innerOffs'+'et']['set'](_0x4223e8['border']['x']*_0x178b87,_0x4223e8['border']['y']*_0x1dd61d,_0x4223e8['border']['z']*_0x178b87,_0x4223e8['border']['w']*_0x1dd61d);const _0x404111=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x4223e8['rect']['x']/_0x404111['width'],_0x4223e8['rect']['y']/_0x404111['height'],_0x4223e8['rect']['z']/_0x404111['width'],_0x4223e8['rect']['w']/_0x404111['height']);}else this['_innerOffs'+'et']['set'](0x2f8+0x2316+-0x260e,0x266*-0x1+-0x1*0x11+0x1*0x277,-0x1*-0xc5f+0x2147+-0x16d3*0x2,0x2*0x353+-0x6a1*-0x3+-0x1*0x1a89);this['_innerOffs'+'etUniform'][-0x1dcb+0x2*-0x448+0x265b]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0xe54*-0x1+0x2*-0x585+-0x3*-0x875]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0xa65*-0x1+0x114e+-0x24d*0x3]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x249*0x2+0x13*-0x195+0x1980]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x69a+-0x2480+0x1de6]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x140a+-0x3d1*-0x6+-0x2aef]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x637+0x1566+-0x103*0xf]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x7*0x59+0x31*-0x36+0xcc8]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x2acd80=this['flipX']?-(0xe57+0x6b3+0x3*-0x703):-0xd6c+0xdd*-0xd+0x1*0x18a6,_0x4fb5c5=this['flipY']?-(-0x1100+-0x3c2*-0xa+-0x1493):-0x160*0x1+-0x1*0x1ac9+0x1c2a,_0x3f5ce6=0x3*-0x2be+-0x17da+-0x4*-0x805,_0x379ad0=0x85c+-0x15ea+-0x1*-0xd8e;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x318007=-0x1*0x123a+-0x61*-0x30+0x1*0xb,_0x3db2a5=-0x101b+0x23*-0x26+0x154e;if(this['sprite']['atlas']){const _0x1c5203=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x1c5203&&(_0x318007=_0x1c5203['rect']['z'],_0x3db2a5=_0x1c5203['rect']['w'],_0x3f5ce6=(-0x1*0x47+0xed1+0x745*-0x2+0.5-_0x1c5203['pivot']['x'])*this['_width'],_0x379ad0=(0xc5f*-0x1+-0xf18+-0x1b77*-0x1+0.5-_0x1c5203['pivot']['y'])*this['_height']);}const _0x56f2ce=_0x318007/this['sprite']['pixelsPerU'+'nit'],_0x4ab691=_0x3db2a5/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x56f2ce),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x4ab691)),_0x2acd80*=_0x56f2ce,_0x4fb5c5*=_0x4ab691,this['_outerScal'+'e']['x']/=_0x56f2ce,this['_outerScal'+'e']['y']/=_0x4ab691,_0x2acd80*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x56f2ce),-0xd0c+-0x10b*-0x14+-0x1f4*0x4+0.0001,-0xe6b*0x2+0x6f*-0x29+0x2e9e),_0x4fb5c5*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x4ab691),0xb*0x1df+-0xe98+0x49*-0x15+0.0001,0xb4+0x15c9+-0x167c),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x1f97+0xc41*0x2+-0x3819]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x201+0x1ad*-0x2+0xad*0x2]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x2acd80,_0x4fb5c5,-0xc46+0x4c7*-0x6+0x2f*0xdf),this['_node']['setLocalPo'+'sition'](_0x3f5ce6,_0x379ad0,0xa5f*0x3+-0x2*0x121d+-0xbb*-0x7);}['_updateAab'+'b'](_0x266ed5){return _0x266ed5['center']['set'](-0x43*-0x1+0x1a*0x3b+-0x1*0x641,0x1511*-0x1+-0x33c+-0x184d*-0x1,0x16b*-0x9+-0xa27*-0x2+-0x78b),_0x266ed5['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1dfd+-0x401+0x1*0x21fe+0.5),this['_outerScal'+'e']['y']*(-0xf5e+-0x2102+0x90*0x56+0.5),-0xd44+0x36*-0x52+0x1e90+0.001),_0x266ed5['setFromTra'+'nsformedAa'+'bb'](_0x266ed5,this['_node']['getWorldTr'+'ansform']()),_0x266ed5;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0xe7f215=this['_clips'][this['_autoPlayC'+'lip']];_0xe7f215&&!_0xe7f215['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0xe7f215['name']);}['_onLayersC'+'hanged'](_0x20df0b,_0x193453){_0x20df0b['off']('add',this['onLayerAdd'+'ed'],this),_0x20df0b['off']('remove',this['onLayerRem'+'oved'],this),_0x193453['on']('add',this['onLayerAdd'+'ed'],this),_0x193453['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x5d340e){this['layers']['indexOf'](_0x5d340e['id'])<-0x1414+-0x2ba*-0x4+-0x1*-0x92c||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x5d340e['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0xb97c00){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0xb97c00['id'])<-0xdf3*0x2+-0x1a99+-0x7c9*-0x7||_0xb97c00['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x26165d=0x2463*0x1+-0x991+-0x1ad2;_0x26165d<this['layers']['length'];_0x26165d++){const _0x3531dd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x26165d]);_0x3531dd&&_0x3531dd['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0xac7f64){const _0x1a0aca=new Hi(this,{'name':_0xac7f64['name'],'fps':_0xac7f64['fps'],'loop':_0xac7f64['loop'],'spriteAsset':_0xac7f64['spriteAsse'+'t']});return this['_clips'][_0xac7f64['name']]=_0x1a0aca,_0x1a0aca['name']&&_0x1a0aca['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x1a0aca;}['removeClip'](_0x390c39){delete this['_clips'][_0x390c39];}['clip'](_0x37e6bd){return this['_clips'][_0x37e6bd];}['play'](_0x3e7db0){const _0x2174fd=this['_clips'][_0x3e7db0],_0x3ece84=this['_currentCl'+'ip'];return _0x3ece84&&_0x3ece84!==_0x2174fd&&(_0x3ece84['_playing']=!(0x5*0x1+0x186a+-0x1*0x186e)),this['_currentCl'+'ip']=_0x2174fd,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x2174fd,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x3e7db0+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x2174fd;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x21df*-0x1+-0x10*0x1bc+-0x61f);}}const f0=['enabled'];class mF extends ct{constructor(_0x31229e){super(_0x31229e),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x5d758c){this['_defaultMa'+'terial']=_0x5d758c;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x5724b1=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0xd54912=new Uint8Array(_0x5724b1['lock']());_0xd54912[0x18a*-0xd+0x1de2+-0x9e0]=_0xd54912[0x370+0x862*0x1+0xb*-0x113]=_0xd54912[0xa48+-0x61b*-0x4+-0x22b2]=_0xd54912[-0x2431*0x1+0x1431+0x1*0x1003]=0x23*0x119+-0x2069*-0x1+-0x45d5,_0x5724b1['unlock']();const _0x1bd5d5=new Ut();_0x1bd5d5['diffuse']['set'](-0xee3*-0x2+0x1ba0+-0x3*0x1322,0x1b23+0x9c7+-0x24ea,0xa11+-0x2196+0x1785*0x1),_0x1bd5d5['emissive']['set'](-0x5*0x458+-0x20db+-0x1*-0x3694,-0x1*-0x6ee+-0x1672+0x1d*0x89,0x4f7+-0x1e38*-0x1+-0x232e),_0x1bd5d5['emissiveMa'+'p']=_0x5724b1,_0x1bd5d5['opacityMap']=_0x5724b1,_0x1bd5d5['opacityMap'+'Channel']='a',_0x1bd5d5['useLightin'+'g']=!(-0x10a2+0x2337+-0x74*0x29),_0x1bd5d5['useTonemap']=!(-0x65*-0xd+0x1036+0x1*-0x1556),_0x1bd5d5['useFog']=!(0x1*-0x2042+-0x199*-0x17+-0x47c),_0x1bd5d5['useSkybox']=!(0xff+0xfd7+-0x10d5),_0x1bd5d5['blendType']=Gn,_0x1bd5d5['depthWrite']=!(0x431+0x20f+-0x215*0x3),_0x1bd5d5['pixelSnap']=!(0x53*-0x3e+-0x4*-0x782+0x79*-0x15),_0x1bd5d5['cull']=bt,_0x1bd5d5['update'](),this['_defaultTe'+'xture']=_0x5724b1,this['_defaultMa'+'terial']=_0x1bd5d5;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4ee49f){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4ee49f;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2776ec=this['defaultMat'+'erial']['clone']();_0x2776ec['nineSliced'+'Mode']=Pt,_0x2776ec['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2776ec;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x4224bc){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4224bc;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x32ea7f=this['defaultMat'+'erial']['clone']();_0x32ea7f['nineSliced'+'Mode']=Mt,_0x32ea7f['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x32ea7f;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x2d2cd6,_0x335735,_0x23968c){if(_0x335735['enabled']!==void(0x823*0x1+-0x1ad2+0x12af)&&(_0x2d2cd6['enabled']=_0x335735['enabled']),_0x2d2cd6['type']=_0x335735['type'],_0x335735['layers']&&Array['isArray'](_0x335735['layers'])&&(_0x2d2cd6['layers']=_0x335735['layers']['slice'](-0x2bf*-0x6+0x1*-0x10d3+-0x1*-0x59)),_0x335735['drawOrder']!==void(-0x104b+0x1*0x144d+-0x402)&&(_0x2d2cd6['drawOrder']=_0x335735['drawOrder']),_0x335735['color']!==void(0x2*-0x107+0x20de*0x1+-0x1ed*0x10)&&(_0x335735['color']instanceof ie?_0x2d2cd6['color']['set'](_0x335735['color']['r'],_0x335735['color']['g'],_0x335735['color']['b'],_0x335735['opacity']??0x1794+-0x1bac+0x419):_0x2d2cd6['color']['set'](_0x335735['color'][-0x3*-0x526+0x31f*-0x8+0x4c3*0x2],_0x335735['color'][0x1c2b*-0x1+0x1*-0x1d83+0x39af],_0x335735['color'][-0x76d*-0x3+0x1307*0x2+-0x3c53*0x1],_0x335735['opacity']??-0x1a47+-0x1*-0x20c+0x183c),_0x2d2cd6['color']=_0x2d2cd6['color']),_0x335735['opacity']!==void(-0x255b*-0x1+0x4*-0x724+-0x8cb)&&(_0x2d2cd6['opacity']=_0x335735['opacity']),_0x335735['flipX']!==void(-0x7*-0x44d+0x1e06+-0x3c21)&&(_0x2d2cd6['flipX']=_0x335735['flipX']),_0x335735['flipY']!==void(-0x16bf+0x18c0+-0x1b*0x13)&&(_0x2d2cd6['flipY']=_0x335735['flipY']),_0x335735['width']!==void(-0x88f+-0x9*-0x265+-0xcfe*0x1)&&(_0x2d2cd6['width']=_0x335735['width']),_0x335735['height']!==void(-0x1d*-0xf1+0x24b3*0x1+-0x4000)&&(_0x2d2cd6['height']=_0x335735['height']),_0x335735['spriteAsse'+'t']!==void(0x151f+-0x1cc7+0x23*0x38)&&(_0x2d2cd6['spriteAsse'+'t']=_0x335735['spriteAsse'+'t']),_0x335735['sprite']&&(_0x2d2cd6['sprite']=_0x335735['sprite']),_0x335735['frame']!==void(0x123b+0x10fa+-0x2335)&&(_0x2d2cd6['frame']=_0x335735['frame']),_0x335735['clips']){for(const _0x20b31c in _0x335735['clips'])_0x2d2cd6['addClip'](_0x335735['clips'][_0x20b31c]);}_0x335735['speed']!==void(0x1*0x1ae9+0x1*0x2201+0x71*-0x8a)&&(_0x2d2cd6['speed']=_0x335735['speed']),_0x335735['autoPlayCl'+'ip']&&(_0x2d2cd6['autoPlayCl'+'ip']=_0x335735['autoPlayCl'+'ip']),_0x2d2cd6['batchGroup'+'Id']=_0x335735['batchGroup'+'Id']===void(0x12f*0x1d+0x4*-0x39a+-0x13eb)||_0x335735['batchGroup'+'Id']===null?-(-0x16a5+0x2f8*0x6+0x4d6*0x1):_0x335735['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x2d2cd6,_0x335735,_0x23968c);}['cloneCompo'+'nent'](_0x34744a,_0x430e38){const _0x18c749=_0x34744a['sprite'];return this['addCompone'+'nt'](_0x430e38,{'enabled':_0x18c749['enabled'],'type':_0x18c749['type'],'spriteAsset':_0x18c749['spriteAsse'+'t'],'sprite':_0x18c749['sprite'],'width':_0x18c749['width'],'height':_0x18c749['height'],'frame':_0x18c749['frame'],'color':_0x18c749['color']['clone'](),'opacity':_0x18c749['opacity'],'flipX':_0x18c749['flipX'],'flipY':_0x18c749['flipY'],'speed':_0x18c749['speed'],'clips':_0x18c749['clips'],'autoPlayClip':_0x18c749['autoPlayCl'+'ip'],'batchGroupId':_0x18c749['batchGroup'+'Id'],'drawOrder':_0x18c749['drawOrder'],'layers':_0x18c749['layers']['slice'](-0x13a6+-0xe6c+0x2*0x1109)});}['onUpdate'](_0x1d8a43){const _0x15a207=this['store'];for(const _0x874fed in _0x15a207)if(_0x15a207['hasOwnProp'+'erty'](_0x874fed)){const _0x5a313f=_0x15a207[_0x874fed];if(_0x5a313f['data']['enabled']&&_0x5a313f['entity']['enabled']){const _0x1533b1=_0x5a313f['entity']['sprite'];_0x1533b1['_currentCl'+'ip']&&_0x1533b1['_currentCl'+'ip']['_update'](_0x1d8a43);}}}['onBeforeRe'+'move'](_0x3900cb,_0x2621fd){_0x2621fd['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x18b2ee,_0x3a1c5c){super(_0x18b2ee,_0x3a1c5c),this['_oldState']=!(-0x4d8+0x1d*-0xa7+0x4d*0x4f),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x13b1b0){_0x13b1b0 instanceof D?this['_size']['copy'](_0x13b1b0):_0x13b1b0 instanceof Array&&_0x13b1b0['length']>=-0x15*0xd3+-0x21dd+-0x1*-0x332f&&this['size']['set'](_0x13b1b0[0x1ee*0x13+-0x1bc6+0x2*-0x472],_0x13b1b0[-0x5*0x193+-0x98d+0x1*0x116d],_0x13b1b0[0x231a*-0x1+0xe55+0x14c7]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x2ab9d3,_0x3b5bbe,_0x3c2f42){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x363ba1=this['enabled']&&this['entity']['enabled'];_0x363ba1!==this['_oldState']&&(this['_oldState']=_0x363ba1,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x135f+0x3bf+-0x32*-0x50);}}const u0=['enabled'];class gF extends ct{constructor(_0xa92acf){super(_0xa92acf),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x4c27a8,_0x2a4bfe,_0x1aeb96){_0x4c27a8['enabled']=_0x2a4bfe['hasOwnProp'+'erty']('enabled')?!!_0x2a4bfe['enabled']:!(0x16*0x92+0x1*-0x86f+-0x1*0x41d),_0x2a4bfe['size']&&(_0x2a4bfe['size']instanceof D?_0x4c27a8['size']['copy'](_0x2a4bfe['size']):_0x2a4bfe['size']instanceof Array&&_0x2a4bfe['size']['length']>=0xeeb+-0x1c56+0xd6e&&_0x4c27a8['size']['set'](_0x2a4bfe['size'][-0x40c+-0x134*-0xa+-0x7fc],_0x2a4bfe['size'][-0x13*-0x199+0x2582+-0x43dc],_0x2a4bfe['size'][-0x15d3+-0x239+0x180e*0x1]));}['cloneCompo'+'nent'](_0x5068dd,_0x41c0b7){const _0x53439d={'enabled':_0x5068dd['zone']['enabled'],'size':_0x5068dd['zone']['size']};return this['addCompone'+'nt'](_0x41c0b7,_0x53439d);}['_onBeforeR'+'emove'](_0x53aca7,_0x591859){_0x591859['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x37dd3b,_0x4a453d){this['effect']=_0x37dd3b,this['inputTarge'+'t']=_0x4a453d,this['outputTarg'+'et']=null,this['name']=_0x37dd3b['constructo'+'r']['name'];}}class yF{constructor(_0x5742f7,_0x1c7088){this['app']=_0x5742f7,this['camera']=_0x1c7088,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x303*0x2+-0x1856+0x1251),this['depthTarge'+'t']=null,_0x1c7088['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x88af59,_0x2c8023){const _0x18943d=this['camera']['rect'],_0x4fa964=this['destinatio'+'nRenderTar'+'get'],_0x1c035a=this['app']['graphicsDe'+'vice'],_0x1c1b0c=Math['floor'](_0x18943d['z']*((_0x4fa964==null?void(0x14b+-0x7b0+0x665*0x1):_0x4fa964['width'])??_0x1c035a['width'])),_0xea5d3b=Math['floor'](_0x18943d['w']*((_0x4fa964==null?void(0x1*-0x109+-0x1*0x18df+0x19e8):_0x4fa964['height'])??_0x1c035a['height']));return new _e(_0x1c035a,{'name':_0x2c8023,'format':_0x88af59,'width':_0x1c1b0c,'height':_0xea5d3b,'mipmaps':!(0x42f+0x1246+-0x3be*0x6),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x51b1dd,_0x318660){const _0xa028b1=this['app']['graphicsDe'+'vice'],_0xf934f5=(this['destinatio'+'nRenderTar'+'get']??_0xa028b1['backBuffer'])['isColorBuf'+'ferSrgb'](0xc79*0x1+-0x2050+0x13d7),_0x452ec7=(_0x318660&&_0xa028b1['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0x1e+0x2*-0x10f6+0x1*0x21ce)))??(_0xf934f5?_s:Ne),_0x2e0e1c=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x35eba6=this['_allocateC'+'olorBuffer'](_0x452ec7,_0x2e0e1c);return new gt({'colorBuffer':_0x35eba6,'depth':_0x51b1dd,'stencil':_0x51b1dd&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x51b1dd?_0xa028b1['samples']:0x8b4+0x1000+-0x18b3});}['_resizeOff'+'screenTarg'+'et'](_0x118866){const _0x1003d5=_0x118866['colorBuffe'+'r']['format'],_0x391c53=_0x118866['colorBuffe'+'r']['name'];_0x118866['destroyFra'+'meBuffers'](),_0x118866['destroyTex'+'tureBuffer'+'s'](),_0x118866['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x1003d5,_0x391c53),_0x118866['_colorBuff'+'ers']=[_0x118866['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x3e46f2){_0x3e46f2['destroyTex'+'tureBuffer'+'s'](),_0x3e46f2['destroy']();}['addEffect'](_0x372170){const _0x5c9c85=this['effects'],_0xedeafa=_0x5c9c85['length']===0x288*-0xd+-0xaa9*0x2+0x363a,_0x265709=this['_createOff'+'screenTarg'+'et'](_0xedeafa,_0x372170['hdr']),_0x2d845f=new SF(_0x372170,_0x265709);_0x5c9c85['push'](_0x2d845f),this['_sourceTar'+'get']=_0x2d845f['inputTarge'+'t'],_0x5c9c85['length']>-0x47+-0xb*-0x61+-0x1*0x3e3&&(_0x5c9c85[_0x5c9c85['length']-(0x964*-0x3+-0x1109+0x2d37)]['outputTarg'+'et']=_0x2d845f['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x372170,_0x372170['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x1de1+0x1cd*0xc+0x75b*-0x7);}['removeEffe'+'ct'](_0x46b7f8){let _0x79e677=-(-0x164d+-0x3b9*-0x6+-0x8*0x1);for(let _0x157f4c=-0x32*0x33+0x69b*0x3+-0x9db,_0x459d27=this['effects']['length'];_0x157f4c<_0x459d27;_0x157f4c++)if(this['effects'][_0x157f4c]['effect']===_0x46b7f8){_0x79e677=_0x157f4c;break;}_0x79e677>=-0x2680+0x147e+-0x1cd*-0xa&&(_0x79e677>0x1c*0x118+-0xb43*-0x1+-0x29e3?this['effects'][_0x79e677-(-0x5c*0x3b+-0x1d2*0x12+0x35f9*0x1)]['outputTarg'+'et']=_0x79e677+(-0x1*-0x10db+0x22e0+-0x33ba)<this['effects']['length']?this['effects'][_0x79e677+(0x1a81*-0x1+0x1*0x51f+0x1563)]['inputTarge'+'t']:null:this['effects']['length']>0x17a6+-0x1*-0x1009+-0x27ae&&(this['effects'][-0x1aef+0xea6+-0x1a*-0x79]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x2498+-0xe*-0x23c+0x551]['inputTarge'+'t']),this['effects'][0xd03+-0x75b+-0x5a7*0x1]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0xb75+-0x2*0x76b+0x361),this['effects'][0x236b*-0x1+0x1*0x8c2+0x1*0x1aaa]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x21c9+-0x25fe+0x47c8]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1*-0x1ed2+-0x22d4+-0x403*-0x1]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x79e677]['inputTarge'+'t']),this['effects']['splice'](_0x79e677,0x1*0x6b9+-0x24f4*-0x1+0x82*-0x56)),this['enabled']&&_0x46b7f8['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0xef*0x1e+-0x1*-0xa11+0x3*0x5fb&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x50e04c=0x135b+-0x76*-0x2+-0x1447,_0x3a5640=this['effects']['length'];_0x50e04c<_0x3a5640;_0x50e04c++){const _0x581284=this['effects'][_0x50e04c]['effect'];this['_newPostEf'+'fect']!==_0x581284&&_0x581284['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x2f7833=-0x1234+0x2e5*-0x2+0x17fe,_0x1f5cd1=this['effects']['length'];_0x2f7833<_0x1f5cd1;_0x2f7833++)this['effects'][_0x2f7833]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x5bf231=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x5bf231&&(_0x5bf231['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x10f7+0x6*0x19+-0x118d)));}['_releaseDe'+'pthMap'](){const _0x31641b=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x31641b&&(_0x31641b['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1*-0x254f+-0x3*0x686+0x46f*-0x4)));}['destroy'](){for(let _0x5684d6=0xc63+-0x3*-0x54c+-0x1c47,_0x107fe1=this['effects']['length'];_0x5684d6<_0x107fe1;_0x5684d6++)this['effects'][_0x5684d6]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1*0xa99+-0x755+0x66*0x2d,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x269b+0x4*-0x78d+-0xef*0x9),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x1*0xe64+0x7*0x1e4+0x1ba0*-0x1]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x5c9bf9=null;const _0x56c3dc=this['effects']['length'];if(_0x56c3dc)for(let _0x30e366=0xf5*-0x3+0x22ad+0x2*-0xfe7;_0x30e366<_0x56c3dc;_0x30e366++){const _0xd19222=this['effects'][_0x30e366];let _0x405f29=_0xd19222['outputTarg'+'et'];_0x30e366===_0x56c3dc-(-0x33d*-0x6+-0x228c+0xf1f)&&(_0x5c9bf9=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x405f29=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0xd19222['name']),_0xd19222['effect']['render'](_0xd19222['inputTarge'+'t'],_0x405f29,_0x5c9bf9),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x1071+-0x170f+0x69f),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x1b9db6,_0x310d0e){const _0x32118d=this['camera']['rect'],_0x35e71e=this['destinatio'+'nRenderTar'+'get'];_0x1b9db6=(_0x35e71e==null?void(0x6ad+0x1fdf+0x268c*-0x1):_0x35e71e['width'])??_0x1b9db6,_0x310d0e=(_0x35e71e==null?void(0x127c+0x9c4+-0x1c40):_0x35e71e['height'])??_0x310d0e,this['camera']['camera']['aspectRati'+'o']=_0x1b9db6*_0x32118d['z']/(_0x310d0e*_0x32118d['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x2e453b=this['app']['graphicsDe'+'vice'],_0x4f3356=this['destinatio'+'nRenderTar'+'get'],_0x40fb3c=(_0x4f3356==null?void(-0x11a5+-0x86f+0x1a14):_0x4f3356['width'])??_0x2e453b['width'],_0x42602b=(_0x4f3356==null?void(0x80d+-0x1*0x21af+0xc1*0x22):_0x4f3356['height'])??_0x2e453b['height'],_0x2b1e6c=this['camera']['rect'],_0x5cc31f=Math['floor'](_0x2b1e6c['z']*_0x40fb3c),_0x55bdec=Math['floor'](_0x2b1e6c['w']*_0x42602b),_0x286681=this['effects'];for(let _0x3861f5=0xfc0+0x3c+-0xffc,_0xe2bfb6=_0x286681['length'];_0x3861f5<_0xe2bfb6;_0x3861f5++){const _0x599e62=_0x286681[_0x3861f5];(_0x599e62['inputTarge'+'t']['width']!==_0x5cc31f||_0x599e62['inputTarge'+'t']['height']!==_0x55bdec)&&this['_resizeOff'+'screenTarg'+'et'](_0x599e62['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x4cf1e1,_0x475659,_0x335db8){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x3a7a05,_0x1efec9){super(_0x3a7a05,_0x1efec9),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x2553*-0x1+-0x1*-0x2055+-0x1738*0x3),h(this,'_renderSce'+'neColorMap',-0x22bd+0x626*-0x1+0x28e3),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x1c2b+-0x2306*-0x1+-0x3f30)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x1*0x25ef+0x3*-0x2a4+-0x14*-0x24b)),h(this,'_priority',0xeed+-0xe*-0x1b6+-0x26e1*0x1),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x1efec9,this['_postEffec'+'ts']=new yF(_0x3a7a05['app'],this));}['setShaderP'+'ass'](_0x4b4cf4){const _0x29d7cf=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x59f0e1=_0x4b4cf4?_0x29d7cf['allocate'](_0x4b4cf4,{'isForward':!(0x2050+-0x237e+0x32e)}):null;return this['_camera']['shaderPass'+'Info']=_0x59f0e1,_0x59f0e1['index'];}['getShaderP'+'ass'](){var _0x47cc8c;return(_0x47cc8c=this['_camera']['shaderPass'+'Info'])==null?void(-0xce1*-0x3+-0x1*0x24eb+-0x1b8):_0x47cc8c['name'];}set['renderPass'+'es'](_0x3f3b75){this['_camera']['renderPass'+'es']=_0x3f3b75||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0xd01+-0x1acc+0x6b*0x21);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x55cd98){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x55cd98;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x2c9595){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x2c9595;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x4fa50f){this['_camera']['fogParams']=_0x4fa50f;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x294e03){this['_camera']['aperture']=_0x294e03;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x21e6da){this['_camera']['aspectRati'+'o']=_0x21e6da;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x359e6d){this['_camera']['aspectRati'+'oMode']=_0x359e6d;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x309116){this['_camera']['calculateP'+'rojection']=_0x309116;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x520305){this['_camera']['calculateT'+'ransform']=_0x520305;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x397343){this['_camera']['clearColor']=_0x397343;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x463753){this['_camera']['clearColor'+'Buffer']=_0x463753,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x130451){this['_camera']['clearDepth'+'Buffer']=_0x130451,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x3bf619){this['_camera']['clearStenc'+'ilBuffer']=_0x3bf619,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x27fc84){this['_camera']['cullFaces']=_0x27fc84;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x2490a7){this['_disablePo'+'stEffectsL'+'ayer']=_0x2490a7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x364f4a){this['_camera']['farClip']=_0x364f4a;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0xd434a2){this['_camera']['flipFaces']=_0xd434a2;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x12dcea){this['_camera']['fov']=_0x12dcea;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x5c08fb){this['_camera']['frustumCul'+'ling']=_0x5c08fb;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x5f0490){this['_camera']['horizontal'+'Fov']=_0x5f0490;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x6a6fb6){const _0x5e3452=this['_camera']['layers'],_0x5ca651=this['system']['app']['scene'];_0x5e3452['forEach'](_0x39e24d=>{const _0x512dc9=_0x5ca651['layers']['getLayerBy'+'Id'](_0x39e24d);_0x512dc9==null||_0x512dc9['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x6a6fb6,this['enabled']&&this['entity']['enabled']&&_0x6a6fb6['forEach'](_0x5b09e9=>{const _0x4882ba=_0x5ca651['layers']['getLayerBy'+'Id'](_0x5b09e9);_0x4882ba==null||_0x4882ba['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x5a9282){this['_camera']['jitter']=_0x5a9282;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0xe6a672){this['_camera']['nearClip']=_0xe6a672;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x29da08){this['_camera']['orthoHeigh'+'t']=_0x29da08;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x1de8fa){this['_priority']=_0x1de8fa,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x4fd74f){this['_camera']['projection']=_0x4fd74f;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x40f3b8){this['_camera']['rect']=_0x40f3b8,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x56d780){_0x56d780&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x1e59+0x1*-0x17a5+-0x2*-0x1aff)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1904*0x1+-0x36d*0x7+-0x35*0x5)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x2*-0x1279+-0x25e7+0xf6)),this['_sceneColo'+'rMapReques'+'ted']=!(0x8bd*0x1+-0x1*0x409+-0x4b3));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x1f45+-0x1868+0x3*0x128f;}set['renderScen'+'eDepthMap'](_0x390170){_0x390170&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x1*-0x1913+-0xbd6+-0xd3d*0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2*0x47+-0x160c+0xe*0x189)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0xa5c+-0x22*-0x10+0x3*-0x429)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x21ac+0x134a+0xe63*0x1));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x13e4+-0x21c3+0xddf;}set['renderTarg'+'et'](_0x356e4c){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0xa*-0x2b6+0x1*-0x1313+-0x809&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x356e4c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x132923){this['_camera']['scissorRec'+'t']=_0x132923;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x4820ab){this['_camera']['sensitivit'+'y']=_0x4820ab;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x2470eb){this['_camera']['shutter']=_0x2470eb;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x826c98){if(this['layers']['find'](_0x38840a=>_0x38840a===ps)){const _0x25168c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x826c98?_0x25168c==null||_0x25168c['incrementC'+'ounter']():_0x25168c==null||_0x25168c['decrementC'+'ounter']();}else{if(_0x826c98)return!(-0x127c+0x6*-0x490+-0xc7*-0x3b);}return!(0x74*0x9+0x1*-0x73d+0x329*0x1);}['requestSce'+'neColorMap'](_0x4047ba){this['_renderSce'+'neColorMap']+=_0x4047ba?-0x1*0x1351+-0x18*-0x9+-0x2*-0x93d:-(0x1*-0xc1+0x7*0x16f+-0x947),w['assert'](this['_renderSce'+'neColorMap']>=-0x4*0xcd+-0x1eef*-0x1+-0x1bbb),this['_enableDep'+'thLayer'](_0x4047ba)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x4a0175){this['_renderSce'+'neDepthMap']+=_0x4a0175?0xe18+-0xde2+-0x35:-(0xaf9*0x2+0x1*-0x21b2+-0x11*-0xb1),w['assert'](this['_renderSce'+'neDepthMap']>=0x16d7+0x111c+-0x3*0xd51),this['_enableDep'+'thLayer'](_0x4a0175)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x545b4f=this['system']['app']['scene']['layers'];_0x545b4f['_dirty']=!(-0x3d0*-0x4+0x3*-0xa4e+0x2*0x7d5);}['screenToWo'+'rld'](_0x15655d,_0x204c6b,_0xa1a206,_0x12f9e8){const _0x596f7d=this['system']['app']['graphicsDe'+'vice'],{width:_0x4024d2,height:_0x48209b}=_0x596f7d['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x15655d,_0x204c6b,_0xa1a206,_0x4024d2,_0x48209b,_0x12f9e8);}['worldToScr'+'een'](_0x1cbc9e,_0x46b3ef){const _0x573920=this['system']['app']['graphicsDe'+'vice'],{width:_0x55478e,height:_0x50420f}=_0x573920['clientRect'];return this['_camera']['worldToScr'+'een'](_0x1cbc9e,_0x55478e,_0x50420f,_0x46b3ef);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x2312+-0x1faf+-0x363*0x1),this['_camera']['_viewProjM'+'atDirty']=!(0x8*0x38f+0x15eb*0x1+-0x3263);}['addCameraT'+'oLayers'](){const _0x39cfb3=this['layers'];for(let _0x28f7d4=0x2700+0x1528+-0x3c28;_0x28f7d4<_0x39cfb3['length'];_0x28f7d4++){const _0x320dfe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x39cfb3[_0x28f7d4]);_0x320dfe&&_0x320dfe['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x2b2e61=this['layers'];for(let _0x3c052f=0x1f3*0x3+0x1ae3+-0x1a3*0x14;_0x3c052f<_0x2b2e61['length'];_0x3c052f++){const _0x189711=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2b2e61[_0x3c052f]);_0x189711&&_0x189711['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x1acade,_0x3b33c5){this['addCameraT'+'oLayers'](),_0x1acade['off']('add',this['onLayerAdd'+'ed'],this),_0x1acade['off']('remove',this['onLayerRem'+'oved'],this),_0x3b33c5['on']('add',this['onLayerAdd'+'ed'],this),_0x3b33c5['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5163f9){this['layers']['indexOf'](_0x5163f9['id'])<0x1d43+0x586+-0x22c9||_0x5163f9['addCamera'](this);}['onLayerRem'+'oved'](_0x300332){this['layers']['indexOf'](_0x300332['id'])<-0x228e+0x97b+-0x395*-0x7||_0x300332['removeCame'+'ra'](this);}['onEnable'](){var _0x5a1e58,_0x33e31d,_0x48a7cf;const _0x58ce32=this['system']['app']['scene'],_0x209948=_0x58ce32['layers'];this['system']['addCamera'](this),(_0x5a1e58=this['_evtLayers'+'Changed'])==null||_0x5a1e58['off'](),this['_evtLayers'+'Changed']=_0x58ce32['on']('set:layers',this['onLayersCh'+'anged'],this),_0x209948&&((_0x33e31d=this['_evtLayerA'+'dded'])==null||_0x33e31d['off'](),this['_evtLayerA'+'dded']=_0x209948['on']('add',this['onLayerAdd'+'ed'],this),(_0x48a7cf=this['_evtLayerR'+'emoved'])==null||_0x48a7cf['off'](),this['_evtLayerR'+'emoved']=_0x209948['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x14b33b,_0x272406,_0xe92a6c;const _0x5ef0be=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x14b33b=this['_evtLayers'+'Changed'])==null||_0x14b33b['off'](),this['_evtLayers'+'Changed']=null,_0x5ef0be&&((_0x272406=this['_evtLayerA'+'dded'])==null||_0x272406['off'](),this['_evtLayerA'+'dded']=null,(_0xe92a6c=this['_evtLayerR'+'emoved'])==null||_0xe92a6c['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x2706d2){const _0x1f29a0=this['system']['app']['graphicsDe'+'vice'],_0x47f12=_0x2706d2?_0x2706d2['width']:_0x1f29a0['width'],_0x2c267b=_0x2706d2?_0x2706d2['height']:_0x1f29a0['height'];return _0x47f12*this['rect']['z']/(_0x2c267b*this['rect']['w']);}['frameUpdat'+'e'](_0x33c251){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x33c251));}['startXr'](_0x55bebc,_0x36cb52,_0x433560){this['system']['app']['xr']['start'](this,_0x55bebc,_0x36cb52,_0x433560);}['endXr'](_0x474c40){if(!this['_camera']['xr']){_0x474c40&&_0x474c40(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x474c40);}['copy'](_0x1201dd){this['aperture']=_0x1201dd['aperture'],this['aspectRati'+'o']=_0x1201dd['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1201dd['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1201dd['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1201dd['calculateT'+'ransform'],this['clearColor']=_0x1201dd['clearColor'],this['clearColor'+'Buffer']=_0x1201dd['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1201dd['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1201dd['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1201dd['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1201dd['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1201dd['farClip'],this['flipFaces']=_0x1201dd['flipFaces'],this['fov']=_0x1201dd['fov'],this['frustumCul'+'ling']=_0x1201dd['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1201dd['horizontal'+'Fov'],this['layers']=_0x1201dd['layers'],this['nearClip']=_0x1201dd['nearClip'],this['orthoHeigh'+'t']=_0x1201dd['orthoHeigh'+'t'],this['priority']=_0x1201dd['priority'],this['projection']=_0x1201dd['projection'],this['rect']=_0x1201dd['rect'],this['renderTarg'+'et']=_0x1201dd['renderTarg'+'et'],this['scissorRec'+'t']=_0x1201dd['scissorRec'+'t'],this['sensitivit'+'y']=_0x1201dd['sensitivit'+'y'],this['shutter']=_0x1201dd['shutter'];}}class vF{constructor(){this['enabled']=!(0x24e8+0x1555*0x1+-0x3a3d);}}const p0=['enabled'];class xF extends ct{constructor(_0x491e43){super(_0x491e43),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x6c0086,_0x155c85,_0x2c8069){_0x2c8069=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x332a1b=-0x1f06+-0x37*-0x3a+0x1290;_0x332a1b<_0x2c8069['length'];_0x332a1b++){const _0x55bce6=_0x2c8069[_0x332a1b];if(_0x155c85['hasOwnProp'+'erty'](_0x55bce6)){const _0x24fce9=_0x155c85[_0x55bce6];switch(_0x55bce6){case'rect':case'scissorRec'+'t':Array['isArray'](_0x24fce9)?_0x6c0086[_0x55bce6]=new re(_0x24fce9[-0xa22+-0x1*-0x1315+-0x1d*0x4f],_0x24fce9[-0x3dd*0x2+0x11*0x231+-0x1d86],_0x24fce9[0x10a6*-0x1+0x15d6+-0x52e],_0x24fce9[0x2*-0xfda+-0x7*-0x33f+0x8fe]):_0x6c0086[_0x55bce6]=_0x24fce9;break;case'clearColor':Array['isArray'](_0x24fce9)?_0x6c0086[_0x55bce6]=new ie(_0x24fce9[0xc39+0x1313+0x4*-0x7d3],_0x24fce9[-0x429*-0x1+0x241+-0x669],_0x24fce9[-0x14e6+-0xe*0x271+0x3716],_0x24fce9[-0x25f1+0x1*0x2349+0x2ab]):_0x6c0086[_0x55bce6]=_0x24fce9;break;default:_0x6c0086[_0x55bce6]=_0x24fce9;break;}}}super['initialize'+'ComponentD'+'ata'](_0x6c0086,_0x155c85,['enabled']);}['cloneCompo'+'nent'](_0x5f11c3,_0x32683d){const _0xa1d2af=_0x5f11c3['camera'];return this['addCompone'+'nt'](_0x32683d,{'aspectRatio':_0xa1d2af['aspectRati'+'o'],'aspectRatioMode':_0xa1d2af['aspectRati'+'oMode'],'calculateProjection':_0xa1d2af['calculateP'+'rojection'],'calculateTransform':_0xa1d2af['calculateT'+'ransform'],'clearColor':_0xa1d2af['clearColor'],'clearColorBuffer':_0xa1d2af['clearColor'+'Buffer'],'clearDepthBuffer':_0xa1d2af['clearDepth'+'Buffer'],'clearStencilBuffer':_0xa1d2af['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0xa1d2af['renderScen'+'eDepthMap'],'renderSceneColorMap':_0xa1d2af['renderScen'+'eColorMap'],'cullFaces':_0xa1d2af['cullFaces'],'enabled':_0xa1d2af['enabled'],'farClip':_0xa1d2af['farClip'],'flipFaces':_0xa1d2af['flipFaces'],'fov':_0xa1d2af['fov'],'frustumCulling':_0xa1d2af['frustumCul'+'ling'],'horizontalFov':_0xa1d2af['horizontal'+'Fov'],'layers':_0xa1d2af['layers'],'renderTarget':_0xa1d2af['renderTarg'+'et'],'nearClip':_0xa1d2af['nearClip'],'orthoHeight':_0xa1d2af['orthoHeigh'+'t'],'projection':_0xa1d2af['projection'],'priority':_0xa1d2af['priority'],'rect':_0xa1d2af['rect'],'scissorRect':_0xa1d2af['scissorRec'+'t'],'aperture':_0xa1d2af['aperture'],'sensitivity':_0xa1d2af['sensitivit'+'y'],'shutter':_0xa1d2af['shutter'],'gammaCorrection':_0xa1d2af['gammaCorre'+'ction'],'toneMapping':_0xa1d2af['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x11eed3,_0x2b182b){this['removeCame'+'ra'](_0x2b182b),_0x2b182b['onRemove']();}['onAppPrere'+'nder'](){for(let _0x140512=0x1f9+-0x5*-0x265+-0xdf2,_0x2f9277=this['cameras']['length'];_0x140512<_0x2f9277;_0x140512++)this['cameras'][_0x140512]['onAppPrere'+'nder']();}['addCamera'](_0x4c959b){this['cameras']['push'](_0x4c959b),ul(this['cameras']);}['removeCame'+'ra'](_0x341d9d){const _0x51bdad=this['cameras']['indexOf'](_0x341d9d);_0x51bdad>=0x8e9+-0xcf4+0x40b&&(this['cameras']['splice'](_0x51bdad,0x1e27+-0x1*0x599+-0x188d),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x1*-0x409+-0x20c3*-0x1+-0x1*0x1cba)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x2*-0xb26+-0x1b0b+0x62b*0x8,-0xb6+0x555*0x3+0xa3*-0x18,-0xea3*0x1+0x25*-0x43+-0x1df*-0xd)),h(this,'intensity',0xda4*0x2+0x83*0x11+-0x23fa),h(this,'luminance',-0x15be+-0x1*0xace+0x208c),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x3*0xca1+0x1*-0x11c5+0x37a8)),h(this,'castShadow'+'s',!(-0x6a3+0x53c+0x168)),h(this,'shadowDist'+'ance',0x1536+-0x1*0xef5+0xdf*-0x7),h(this,'shadowInte'+'nsity',-0x76*-0x45+-0x7ad+-0x1820),h(this,'shadowReso'+'lution',-0x1fce+0xa71+-0x195d*-0x1),h(this,'shadowBias',-0x2577+-0x173d+0x3cb4+0.05),h(this,'numCascade'+'s',-0x8*0x431+0xd0+0x20b9*0x1),h(this,'cascadeBle'+'nd',-0x5e+0x176a+-0x1*0x170c),h(this,'bakeNumSam'+'ples',0x261f+0x544+0x9*-0x4d2),h(this,'bakeArea',0xe11*0x2+-0x10b1+-0xb71),h(this,'cascadeDis'+'tribution',0x245f+-0x6af+0x4*-0x76c+0.5),h(this,'normalOffs'+'etBias',-0x8ef+0x3*-0x178+0xd57),h(this,'range',0x898+0x70d+0x1*-0xf9b),h(this,'innerConeA'+'ngle',0x15*-0x4b+0xb5c+-0x50d),h(this,'outerConeA'+'ngle',0x138a+0x1*0x17e5+-0x2b42),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x14b*-0xd+-0x1f*0x2b+0xb*-0x10d),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0x947+-0x21b8+-0x1*-0x1871+0.01)*(-0x78*0x1a+0x1fa5+-0x1375+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',0x15cb*-0x1+0x1*-0x74f+0x1d1b),h(this,'cookieFall'+'off',!(0x124+0x5*-0x14e+-0x1*-0x562)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',-0x1*0x170d+0x81*-0x21+0x27ae),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0xe0f*0x1+-0x1ca1+-0x29*-0x5b),h(this,'affectDyna'+'mic',!(0x1dd3+-0x1*-0x128f+0x16*-0x233)),h(this,'affectLigh'+'tmapped',!(-0x1*-0x89+-0x1921*-0x1+0x19a9*-0x1)),h(this,'bake',!(-0x1d*0xa8+-0x2dc+0x3b*0x5f)),h(this,'bakeDir',!(0x1169+0x2*0x1348+-0x1*0x37f9)),h(this,'isStatic',!(-0x18c1+0x23ea+-0xb28)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0xf3*0x19+0x6*-0x443+0x314e*0x1),h(this,'penumbraFa'+'lloff',-0xb7*-0x9+0x5*-0x14b+-0x1*-0x9),h(this,'shadowSamp'+'les',-0x1522+0x2d6+0x125c),h(this,'shadowBloc'+'kerSamples',0x52*0x59+0x1bea+-0x385c);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x389+-0x1b7e+0x17f6*0x1)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x1e5a4a=this['system']['store'][this['entity']['getGuid']()];return _0x1e5a4a?_0x1e5a4a['data']:null;}set['enabled'](_0x161bf4){this['_setValue']('enabled',_0x161bf4,function(_0x2529f0,_0x21e555){this['onSetEnabl'+'ed'](null,_0x21e555,_0x2529f0);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x56a90e){this['_setValue']('light',_0x56a90e);}get['light'](){return this['data']['light'];}set['type'](_0x359fa1){this['_setValue']('type',_0x359fa1,function(_0x1a30b3,_0x2fb4af){this['system']['changeType'](this,_0x2fb4af,_0x1a30b3),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x19fdfd){this['_setValue']('color',_0x19fdfd,function(_0x4e58f7,_0x3f35af){this['light']['setColor'](_0x4e58f7);},!(0x1*-0xb74+0x185d+-0xce9));}get['color'](){return this['data']['color'];}set['intensity'](_0x394d95){this['_setValue']('intensity',_0x394d95,function(_0x51e9c2,_0x41a72f){this['light']['intensity']=_0x51e9c2;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x222b35){this['_setValue']('luminance',_0x222b35,function(_0x2faf4a,_0x5bde13){this['light']['luminance']=_0x2faf4a;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x394f85){this['_setValue']('shape',_0x394f85,function(_0x2a0599,_0x129bfa){this['light']['shape']=_0x2a0599;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x3e5f85){this['_setValue']('affectSpec'+'ularity',_0x3e5f85,function(_0x341fcb,_0x139b4a){this['light']['affectSpec'+'ularity']=_0x341fcb;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x1c339e){this['_setValue']('castShadow'+'s',_0x1c339e,function(_0x57429c,_0xf2e199){this['light']['castShadow'+'s']=_0x57429c;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x57d1ae){this['_setValue']('shadowDist'+'ance',_0x57d1ae,function(_0x4b566f,_0x31da93){this['light']['shadowDist'+'ance']=_0x4b566f;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x268b5b){this['_setValue']('shadowInte'+'nsity',_0x268b5b,function(_0x2e7f92,_0x1179f5){this['light']['shadowInte'+'nsity']=_0x2e7f92;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x5a8566){this['_setValue']('shadowReso'+'lution',_0x5a8566,function(_0x5439f9,_0x3000f7){this['light']['shadowReso'+'lution']=_0x5439f9;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x160dc0){this['_setValue']('shadowBias',_0x160dc0,function(_0x32619c,_0x383c43){this['light']['shadowBias']=-(-0x1ace*0x1+-0x927+0x23f5+0.01)*Y['clamp'](_0x32619c,0x254a+-0x1bb6+-0x994,-0x1240+-0x1963*-0x1+0xa6*-0xb);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x30690c){this['_setValue']('numCascade'+'s',_0x30690c,function(_0x2b2157,_0x82399){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x2b2157),-0xb92+-0x17*-0xb+-0x54b*-0x2,-0x1*0x1df+0x16ee*0x1+-0x150b);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x7ef182){this['_setValue']('cascadeBle'+'nd',_0x7ef182,function(_0x4ca66a,_0x51682c){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x4ca66a,-0x15bf+-0x1*-0x18f9+-0x33a,-0x17*0x123+-0xf*0x156+0x1*0x2e30);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x48b861){this['_setValue']('bakeNumSam'+'ples',_0x48b861,function(_0x3594bf,_0x5176b8){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x3594bf),-0x772*0x3+0x1feb*0x1+-0x994*0x1,0x603*-0x2+-0x1039*0x1+-0x13*-0x18a);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x333022){this['_setValue']('bakeArea',_0x333022,function(_0x5ea9aa,_0x1a8f92){this['light']['bakeArea']=Y['clamp'](_0x5ea9aa,0xb92+0x391+-0xf23*0x1,0x23da+-0x2320+-0x1*0x6);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x5b4cd9){this['_setValue']('cascadeDis'+'tribution',_0x5b4cd9,function(_0xae1be8,_0x17dabd){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0xae1be8,0x452+-0x15cd+0x37f*0x5,0x11fb+0x11c9+-0x23c3);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x412ca8){this['_setValue']('normalOffs'+'etBias',_0x412ca8,function(_0x4b5121,_0x3196a1){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x4b5121,0x9c8*-0x1+0x10c6*0x1+0x1*-0x6fe,0x17b3*-0x1+0x501+0x12b3);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x105977){this['_setValue']('range',_0x105977,function(_0x1c580d,_0x1f0a5a){this['light']['attenuatio'+'nEnd']=_0x1c580d;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x27ede1){this['_setValue']('innerConeA'+'ngle',_0x27ede1,function(_0x4999c1,_0x573048){this['light']['innerConeA'+'ngle']=_0x4999c1;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x3a1b8a){this['_setValue']('outerConeA'+'ngle',_0x3a1b8a,function(_0xdb2697,_0x4940fe){this['light']['outerConeA'+'ngle']=_0xdb2697;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x15fd6d){this['_setValue']('falloffMod'+'e',_0x15fd6d,function(_0x21cad2,_0x51e524){this['light']['falloffMod'+'e']=_0x21cad2;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x117d80){this['_setValue']('shadowType',_0x117d80,function(_0x1c62ed,_0xd8c547){this['light']['shadowType']=_0x1c62ed;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x1ee003){this['_setValue']('vsmBlurSiz'+'e',_0x1ee003,function(_0x2644dc,_0xe766c3){this['light']['vsmBlurSiz'+'e']=_0x2644dc;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x50f87b){this['_setValue']('vsmBlurMod'+'e',_0x50f87b,function(_0x16f7b7,_0x4181da){this['light']['vsmBlurMod'+'e']=_0x16f7b7;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x1bf8d6){this['_setValue']('vsmBias',_0x1bf8d6,function(_0x4cbf0f,_0x522819){this['light']['vsmBias']=Y['clamp'](_0x4cbf0f,0x1d4c+0x15c6+-0x3312,0x1285+0x648+-0x2e*0x8a);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x458950){this['_setValue']('cookieAsse'+'t',_0x458950,function(_0x4aa39b,_0x1bceb8){if(!(this['_cookieAss'+'etId']&&(_0x4aa39b instanceof pe&&_0x4aa39b['id']===this['_cookieAss'+'etId']||_0x4aa39b===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x4aa39b instanceof pe)this['data']['cookieAsse'+'t']=_0x4aa39b['id'],this['_cookieAss'+'etId']=_0x4aa39b['id'],this['onCookieAs'+'setAdd'](_0x4aa39b);else{if(typeof _0x4aa39b=='number'){this['_cookieAss'+'etId']=_0x4aa39b;const _0x26f998=this['system']['app']['assets']['get'](_0x4aa39b);_0x26f998?this['onCookieAs'+'setAdd'](_0x26f998):(this['_cookieAss'+'etAdd']=!(-0xf50+-0xb1e*-0x1+-0x2*-0x219),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0xafcb28){this['_setValue']('cookie',_0xafcb28,function(_0x446e14,_0x315cc6){this['light']['cookie']=_0x446e14;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x405781){this['_setValue']('cookieInte'+'nsity',_0x405781,function(_0x2a73a3,_0x43f277){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x2a73a3,0x1435*-0x1+0x13de+0x57,0x5*-0x629+-0x2*-0xa73+0x9e8);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x27d51f){this['_setValue']('cookieFall'+'off',_0x27d51f,function(_0x31ded2,_0x1592ba){this['light']['cookieFall'+'off']=_0x31ded2;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x2bfdae){this['_setValue']('cookieChan'+'nel',_0x2bfdae,function(_0x2e007d,_0x500e2e){this['light']['cookieChan'+'nel']=_0x2e007d;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x26fc7d){this['_setValue']('cookieAngl'+'e',_0x26fc7d,function(_0x2f6421,_0x40a3cd){if(_0x2f6421!==0x10fe+-0xb*0x25d+-0x1*-0x901||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x3bb7ad=0xeb4+0x1*-0x24e+-0xc65,_0x3524d9=0x85a+-0x443*0x1+-0x416;this['cookieScal'+'e']&&(_0x3bb7ad=this['cookieScal'+'e']['x'],_0x3524d9=this['cookieScal'+'e']['y']);const _0x45a867=Math['cos'](_0x2f6421*Y['DEG_TO_RAD']),_0x1b7f16=Math['sin'](_0x2f6421*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x45a867/_0x3bb7ad,-_0x1b7f16/_0x3bb7ad,_0x1b7f16/_0x3524d9,_0x45a867/_0x3524d9),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x4d8fce){this['_setValue']('cookieScal'+'e',_0x4d8fce,function(_0x3e491c,_0x34733b){if(_0x3e491c!==null||this['cookieAngl'+'e']!==-0x17*0x124+0x1f*0x11b+-0x809){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x38f376=_0x3e491c['x'],_0x16073f=_0x3e491c['y'],_0x4d76cb=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x387499=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x4d76cb/_0x38f376,-_0x387499/_0x38f376,_0x387499/_0x16073f,_0x4d76cb/_0x16073f),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x2167+-0x1d8f+-0xc*0x52));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x381f91){this['_setValue']('cookieOffs'+'et',_0x381f91,function(_0x170368,_0xe3ac5){this['light']['cookieOffs'+'et']=_0x170368;},!(0x1338+-0xaae+-0x88a));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x5eacd7){this['_setValue']('shadowUpda'+'teMode',_0x5eacd7,function(_0x29061e,_0x2aee9a){this['light']['shadowUpda'+'teMode']=_0x29061e;},!(0xb2a+0xba1+-0x16cb));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x27feaa){this['_setValue']('mask',_0x27feaa,function(_0x401696,_0x2794d1){this['light']['mask']=_0x401696;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x495a90){this['_setValue']('affectDyna'+'mic',_0x495a90,function(_0x5c5eb9,_0x15e4d5){_0x5c5eb9?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x4ff2af){this['_setValue']('affectLigh'+'tmapped',_0x4ff2af,function(_0xfd089a,_0x5b9384){_0xfd089a?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x371373){this['_setValue']('bake',_0x371373,function(_0x42906a,_0x4566c8){_0x42906a?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x62ec09){this['_setValue']('bakeDir',_0x62ec09,function(_0x32bdd8,_0x54cb78){this['light']['bakeDir']=_0x32bdd8;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x36c051){this['_setValue']('isStatic',_0x36c051,function(_0x27c139,_0x34fb1a){this['light']['isStatic']=_0x27c139;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x2c9da9){this['_setValue']('layers',_0x2c9da9,function(_0x1a153e,_0x5226d6){for(let _0x13b08f=-0x1*0x86f+-0x155+0x9c4;_0x13b08f<_0x5226d6['length'];_0x13b08f++){const _0x4c266d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5226d6[_0x13b08f]);_0x4c266d&&(_0x4c266d['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4c266d));}for(let _0x1b4cd4=-0xe2b+-0x26ca+-0x34f5*-0x1;_0x1b4cd4<_0x1a153e['length'];_0x1b4cd4++){const _0x236867=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1a153e[_0x1b4cd4]);_0x236867&&this['enabled']&&this['entity']['enabled']&&(_0x236867['addLight'](this),this['light']['addLayer'](_0x236867));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x2b8451){this['light']['shadowUpda'+'teOverride'+'s']=_0x2b8451;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x39ad4a){this['light']['shadowSamp'+'les']=_0x39ad4a;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x2c6a05){this['light']['shadowBloc'+'kerSamples']=_0x2c6a05;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x21f06c){this['light']['penumbraSi'+'ze']=_0x21f06c;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x2a2aeb){this['light']['penumbraFa'+'lloff']=_0x2a2aeb;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x5b96b9,_0x3ff6b7,_0x2bfa34,_0x5d7fb7){const _0xab773e=this['data'],_0x543868=_0xab773e[_0x5b96b9];!_0x5d7fb7&&_0x543868===_0x3ff6b7||(_0xab773e[_0x5b96b9]=_0x3ff6b7,_0x2bfa34&&_0x2bfa34['call'](this,_0x3ff6b7,_0x543868));}['addLightTo'+'Layers'](){for(let _0x4d465c=-0xd*0x20e+0x262c*-0x1+0x1*0x40e2;_0x4d465c<this['layers']['length'];_0x4d465c++){const _0x1de5eb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4d465c]);_0x1de5eb&&(_0x1de5eb['addLight'](this),this['light']['addLayer'](_0x1de5eb));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0xeeb8d1=-0x1e24+0x101*-0xe+0x2c32;_0xeeb8d1<this['layers']['length'];_0xeeb8d1++){const _0x68e8df=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xeeb8d1]);_0x68e8df&&(_0x68e8df['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x68e8df));}}['onLayersCh'+'anged'](_0x4de409,_0x3d3b0a){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x4de409['off']('add',this['onLayerAdd'+'ed'],this),_0x4de409['off']('remove',this['onLayerRem'+'oved'],this),_0x3d3b0a['on']('add',this['onLayerAdd'+'ed'],this),_0x3d3b0a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5256bd){this['layers']['indexOf'](_0x5256bd['id'])>=0x1e46+0x25d2+-0x8*0x883&&this['enabled']&&this['entity']['enabled']&&(_0x5256bd['addLight'](this),this['light']['addLayer'](_0x5256bd));}['onLayerRem'+'oved'](_0x533e8c){this['layers']['indexOf'](_0x533e8c['id'])>=-0x255*0x2+0x2*0x3e2+-0x1*0x31a&&(_0x533e8c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x533e8c));}['refreshPro'+'perties'](){for(let _0x3e607b=0x92f+-0x7b1+-0x17e;_0x3e607b<Ho['length'];_0x3e607b++){const _0x2c3800=Ho[_0x3e607b];this[_0x2c3800]=this[_0x2c3800];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x2cb8fa=!(0x86f+-0xbac+0x33e);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1*0x1627+0x1*0x243e+-0xe17),_0x2cb8fa=!(0x131*-0x12+-0x9ed+0x1f5f)),(!this['_cookieAss'+'et']['resource']||_0x2cb8fa)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x316da1){this['_cookieAss'+'etId']===_0x316da1['id']&&(this['_cookieAss'+'et']=_0x316da1,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x117a+0x1657+0x4fa*-0x8)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x6538a0=this['system']['app']['scene'],_0x18a783=_0x6538a0['layers'];this['light']['enabled']=!(0x1*0x2027+-0x25d9*0x1+0x5b2),this['_evtLayers'+'Changed']=_0x6538a0['on']('set:layers',this['onLayersCh'+'anged'],this),_0x18a783&&(this['_evtLayerA'+'dded']=_0x18a783['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x18a783['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x375cff,_0x54527a,_0x2284d9;const _0x492f1e=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x2*-0x287+-0x2551+0x1*0x2a60),(_0x375cff=this['_evtLayers'+'Changed'])==null||_0x375cff['off'](),this['_evtLayers'+'Changed']=null,_0x492f1e&&((_0x54527a=this['_evtLayerA'+'dded'])==null||_0x54527a['off'](),this['_evtLayerA'+'dded']=null,(_0x2284d9=this['_evtLayerR'+'emoved'])==null||_0x2284d9['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x15379e){super(_0x15379e),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x1cccd7,_0x19eec0){const _0x3d601a={..._0x19eec0};_0x3d601a['type']||(_0x3d601a['type']=_0x1cccd7['data']['type']),_0x1cccd7['data']['type']=_0x3d601a['type'],_0x3d601a['layers']&&Array['isArray'](_0x3d601a['layers'])&&(_0x3d601a['layers']=_0x3d601a['layers']['slice'](-0xa7b*-0x1+0x340+0x25*-0x5f)),_0x3d601a['color']&&Array['isArray'](_0x3d601a['color'])&&(_0x3d601a['color']=new ie(_0x3d601a['color'][0x1*-0x19d8+0x7b9*0x2+0xa66],_0x3d601a['color'][0x1c4*0x10+-0x1*0x13d+0x1*-0x1b02],_0x3d601a['color'][-0x125*-0x4+0x152c+-0x19be])),_0x3d601a['cookieOffs'+'et']&&_0x3d601a['cookieOffs'+'et']instanceof Array&&(_0x3d601a['cookieOffs'+'et']=new J(_0x3d601a['cookieOffs'+'et'][-0xb7*-0x12+0x8a3+-0xf*0x16f],_0x3d601a['cookieOffs'+'et'][0x5*-0x2a5+-0x1ba9+0x48b*0x9])),_0x3d601a['cookieScal'+'e']&&_0x3d601a['cookieScal'+'e']instanceof Array&&(_0x3d601a['cookieScal'+'e']=new J(_0x3d601a['cookieScal'+'e'][-0x1ad6+0x7+0x1acf*0x1],_0x3d601a['cookieScal'+'e'][-0x9f*-0x36+0x1*0x1d89+0x27*-0x19e])),_0x3d601a['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x3d601a['enabled']=_0x3d601a['enable']),_0x3d601a['shape']||(_0x3d601a['shape']=Ys);const _0x190657=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x190657['type']=fu[_0x3d601a['type']],_0x190657['_node']=_0x1cccd7['entity'],_0x1cccd7['data']['light']=_0x190657,super['initialize'+'ComponentD'+'ata'](_0x1cccd7,_0x3d601a,Ho);}['_onRemoveC'+'omponent'](_0x1b4691,_0x32d124){_0x32d124['onRemove']();}['cloneCompo'+'nent'](_0x21f4eb,_0x1ee2a0){const _0x2856ad=_0x21f4eb['light'],_0x4770e2=[];let _0xcd8201;for(let _0x3cac3d=-0xf6b+0x2408+0x1*-0x149d;_0x3cac3d<Ho['length'];_0x3cac3d++)_0xcd8201=Ho[_0x3cac3d],_0xcd8201!=='light'&&(_0x2856ad[_0xcd8201]&&_0x2856ad[_0xcd8201]['clone']?_0x4770e2[_0xcd8201]=_0x2856ad[_0xcd8201]['clone']():_0x4770e2[_0xcd8201]=_0x2856ad[_0xcd8201]);return this['addCompone'+'nt'](_0x1ee2a0,_0x4770e2);}['changeType'](_0x2239a7,_0x1ec2a2,_0x38a847){_0x1ec2a2!==_0x38a847&&(_0x2239a7['light']['type']=fu[_0x38a847]);}}const EF=['x','y','z','w'],bF=[void(0x14*0x1e5+0x6*-0x546+-0x640),void(0x2c*-0x34+0x12e9*0x1+-0x9f9*0x1),J,D,re];function Yn(_0x338773,_0x101165,_0x32172b,_0x375668){switch(_0x101165['type']){case'boolean':return!!_0x32172b;case'number':if(typeof _0x32172b=='number')return _0x32172b;if(typeof _0x32172b=='string'){const _0x41ccb3=parseInt(_0x32172b,-0xf89+-0x101*0x15+-0x8a*-0x44);return isNaN(_0x41ccb3)?null:_0x41ccb3;}else{if(typeof _0x32172b=='boolean')return 0x1*0x15d+-0x74*0x3d+-0xd9*-0x1f+_0x32172b;}return null;case'json':{const _0x137fd1={};if(Array['isArray'](_0x101165['schema'])){(!_0x32172b||typeof _0x32172b!='object')&&(_0x32172b={});for(let _0x528203=-0x148*0xc+0xa*-0x255+-0xce6*-0x3;_0x528203<_0x101165['schema']['length'];_0x528203++){const _0x285bfc=_0x101165['schema'][_0x528203];if(_0x285bfc['name']){if(_0x285bfc['array']){_0x137fd1[_0x285bfc['name']]=[];const _0x487851=Array['isArray'](_0x32172b[_0x285bfc['name']])?_0x32172b[_0x285bfc['name']]:[];for(let _0x5294d6=-0x1*-0xda3+-0xc01+-0x1a2;_0x5294d6<_0x487851['length'];_0x5294d6++)_0x137fd1[_0x285bfc['name']]['push'](Yn(_0x338773,_0x285bfc,_0x487851[_0x5294d6]));}else{const _0x32f816=_0x32172b['hasOwnProp'+'erty'](_0x285bfc['name'])?_0x32172b[_0x285bfc['name']]:_0x285bfc['default'];_0x137fd1[_0x285bfc['name']]=Yn(_0x338773,_0x285bfc,_0x32f816);}}}}return _0x137fd1;}case'asset':return _0x32172b instanceof pe?_0x32172b:typeof _0x32172b=='number'?_0x338773['assets']['get'](_0x32172b)||null:typeof _0x32172b=='string'&&_0x338773['assets']['get'](parseInt(_0x32172b,0x6*0xee+0x1fbb*0x1+-0x2545))||null;case'entity':return _0x32172b instanceof Ie?_0x32172b:typeof _0x32172b=='string'?_0x338773['getEntityF'+'romIndex'](_0x32172b):null;case'rgb':case'rgba':if(_0x32172b instanceof ie)return _0x375668 instanceof ie?(_0x375668['copy'](_0x32172b),_0x375668):_0x32172b['clone']();if(_0x32172b instanceof Array&&_0x32172b['length']>=0x1bab+0x1*-0x1c87+0xdf&&_0x32172b['length']<=0x1*-0x229e+0x1f*-0x69+-0x2f59*-0x1){for(let _0x340b71=0x21c1+0x9ba*0x3+-0x3eef;_0x340b71<_0x32172b['length'];_0x340b71++)if(typeof _0x32172b[_0x340b71]!='number')return null;return _0x375668||(_0x375668=new ie()),_0x375668['r']=_0x32172b[0x2605*-0x1+-0x151+0x2756],_0x375668['g']=_0x32172b[-0x2c3*0x7+0x14ee+-0x3*0x88],_0x375668['b']=_0x32172b[-0x1783*0x1+0x979+-0x1*-0xe0c],_0x375668['a']=_0x32172b['length']===-0x222+-0x1e3f+0x2b3*0xc?-0x1*-0xf8f+-0x1*0x25d7+-0xa3*-0x23:_0x32172b[0x3*-0x3a8+0x28*-0x1b+0xf33],_0x375668;}else{if(typeof _0x32172b=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x32172b))return _0x375668||(_0x375668=new ie()),_0x375668['fromString'](_0x32172b),_0x375668;}return null;case'vec2':case'vec3':case'vec4':{const _0x13efa0=parseInt(_0x101165['type']['slice'](0x14d5+-0x201d+0xb4b),0x9d*0x4+-0x1cf8+-0x21*-0xce),_0x2133e4=bF[_0x13efa0];if(_0x32172b instanceof _0x2133e4)return _0x375668 instanceof _0x2133e4?(_0x375668['copy'](_0x32172b),_0x375668):_0x32172b['clone']();if(_0x32172b instanceof Array&&_0x32172b['length']===_0x13efa0){for(let _0x29fed8=0x1*0x1849+0x773+-0xfde*0x2;_0x29fed8<_0x32172b['length'];_0x29fed8++)if(typeof _0x32172b[_0x29fed8]!='number')return null;_0x375668||(_0x375668=new _0x2133e4());for(let _0x377584=-0x11f1*-0x1+-0x1231*-0x2+-0x3653;_0x377584<_0x13efa0;_0x377584++)_0x375668[EF[_0x377584]]=_0x32172b[_0x377584];return _0x375668;}return null;}case'curve':if(_0x32172b){let _0x39fe77;if(_0x32172b instanceof qs||_0x32172b instanceof na)_0x39fe77=_0x32172b['clone']();else{const _0x53191a=_0x32172b['keys'][-0xbdf+0x25c8+-0x63*0x43]instanceof Array?na:qs;_0x39fe77=new _0x53191a(_0x32172b['keys']),_0x39fe77['type']=_0x32172b['type'];}return _0x39fe77;}break;}return _0x32172b;}function _0(_0x583104,_0x4a1e19,_0x456c09,_0x51a4c2){return _0x4a1e19['array']?_0x456c09['map']((_0x530456,_0x54a292)=>Yn(_0x583104,_0x4a1e19,_0x530456,_0x51a4c2?_0x51a4c2[_0x54a292]:null)):Yn(_0x583104,_0x4a1e19,_0x456c09,_0x51a4c2);}function g0(_0x15dad2,_0x14636a,_0x5e9d03,_0x552b91){if(_0x5e9d03)for(const _0x52e3d1 in _0x14636a){const _0x15495a=_0x14636a[_0x52e3d1],_0x195b4b=_0x5e9d03[_0x52e3d1];_0x195b4b!==void(-0x10a5*0x1+0x1393+-0x2ee)&&(_0x552b91[_0x52e3d1]=_0(_0x15dad2,_0x15495a,_0x195b4b,_0x552b91[_0x52e3d1]));}}const yn=class yn{constructor(_0x5e71da){this['scriptType']=_0x5e71da,this['index']={};}['add'](_0x191e68,_0x28219f){if(this['index'][_0x191e68]){w['warn']('attribute\x20'+'\x27'+_0x191e68+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x191e68)){w['warn']('attribute\x20'+'\x27'+_0x191e68+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x191e68]=_0x28219f,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x191e68,{'get':function(){return this['__attribut'+'es'][_0x191e68];},'set':function(_0x1660b7){const _0x506a11='attr',_0xfc4b8b='attr:'+_0x191e68,_0x3a4ddf=this['__attribut'+'es'][_0x191e68];let _0x146606=_0x3a4ddf;if(_0x3a4ddf&&_0x28219f['type']!=='json'&&_0x28219f['type']!=='entity'&&_0x3a4ddf['clone']&&(this['hasEvent'](_0x506a11)||this['hasEvent'](_0xfc4b8b))&&(_0x146606=_0x3a4ddf['clone']()),_0x28219f['array']){if(this['__attribut'+'es'][_0x191e68]=[],_0x1660b7){for(let _0x3164a3=0x1a59+-0x1061*0x2+0x669,_0x187e3a=_0x1660b7['length'];_0x3164a3<_0x187e3a;_0x3164a3++)this['__attribut'+'es'][_0x191e68]['push'](Yn(this['app'],_0x28219f,_0x1660b7[_0x3164a3],_0x3a4ddf?_0x3a4ddf[_0x3164a3]:null));}}else this['__attribut'+'es'][_0x191e68]=Yn(this['app'],_0x28219f,_0x1660b7,_0x3a4ddf);this['fire'](_0x506a11,_0x191e68,this['__attribut'+'es'][_0x191e68],_0x146606),this['fire'](_0xfc4b8b,this['__attribut'+'es'][_0x191e68],_0x146606);}});}['remove'](_0xe505d5){return this['index'][_0xe505d5]?(delete this['index'][_0xe505d5],delete this['scriptType']['prototype'][_0xe505d5],!(-0x1c24+0x9c+0x1b88)):!(0x1c1b+-0x155f+-0x6bb);}['has'](_0x281140){return!!this['index'][_0x281140];}['get'](_0x7e26be){return this['index'][_0x7e26be]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0xd457b9){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0xd457b9);}set['enabled'](_0x4193b1){this['_enabled']=!!_0x4193b1,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0xb41+-0x1*0x1343+-0x1*-0x802),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x1*0x2439+0x1*-0x1f19+0x290*-0x2),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x20bc13){const _0x5b33d3=this['constructo'+'r'];w['assert'](_0x20bc13&&_0x20bc13['app']&&_0x20bc13['entity'],'script\x20['+_0x5b33d3['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x20bc13['app'],this['entity']=_0x20bc13['entity'],this['_enabled']=typeof _0x20bc13['enabled']=='boolean'?_0x20bc13['enabled']:!(0x3*0x96f+-0x53*-0x54+-0x3789),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x251a+-0x1d1*0xe+0x3e89),this['__scriptTy'+'pe']=_0x5b33d3,this['__executio'+'nOrder']=-(0x17*-0x10b+0x224b+0x125*-0x9);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x4e51b1){if(typeof _0x4e51b1!='function')return;if(_0x4e51b1['scriptName'])return _0x4e51b1['scriptName'];if('name'in Function['prototype'])return _0x4e51b1['name'];if(_0x4e51b1===Function||_0x4e51b1===Function['prototype']['constructo'+'r'])return'Function';const _0x2e3c6c=(''+_0x4e51b1)['match'](MF);return _0x2e3c6c?_0x2e3c6c[-0x57d+0x73f+0x1c1*-0x1]:void(-0x1056+-0x1*0x365+0x13bb);}class Wo extends ts{constructor(_0x86ec66){super(_0x86ec66),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x86ec66);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x3b6bf1){ts['prototype']['initScript']['call'](this,_0x3b6bf1),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x3b6bf1['attributes']||{};}['initScript'+'Type'](_0x55c474){this['initScript'](_0x55c474);}['__initiali'+'zeAttribut'+'es'](_0x354b47){if(!(!_0x354b47&&!this['__attribut'+'esRaw'])){for(const _0x5466a5 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x5466a5)?this[_0x5466a5]=this['__attribut'+'esRaw'][_0x5466a5]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x5466a5)||(this['__scriptTy'+'pe']['attributes']['index'][_0x5466a5]['hasOwnProp'+'erty']('default')?this[_0x5466a5]=this['__scriptTy'+'pe']['attributes']['index'][_0x5466a5]['default']:this[_0x5466a5]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x772fae){for(const _0x54afae in _0x772fae)_0x772fae['hasOwnProp'+'erty'](_0x54afae)&&(this['prototype'][_0x54afae]=_0x772fae[_0x54afae]);}}const DF=_0x9b4409=>_0x9b4409[0xd85*0x2+0x236a+0xe*-0x476]['toLowerCas'+'e']()+_0x9b4409['substring'](0x137*0x1f+-0x13a6+-0x39a*0x5);class Ii extends we{constructor(_0x389e72,_0x223f89){super(_0x389e72,_0x223f89),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0xe6*-0x2+-0x275*-0x3+-0x3*0x30e),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*0x210d+0x259f*-0x1+0x1*0x46ac),this['_enabled']=!(-0x64e*0x4+-0x1*-0xb8c+0x2bc*0x5),this['_beingEnab'+'led']=!(0x2*-0xc32+-0x2ce*0x3+0x20cf),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x101*-0x7+-0xb96*-0x2+-0x1e32),this['_execution'+'Order']=-(-0x2*-0x11ce+0x1*-0x2051+-0x34a),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x3810bf){this['_scriptsDa'+'ta']=_0x3810bf;for(const _0x1f69f8 in _0x3810bf){if(!_0x3810bf['hasOwnProp'+'erty'](_0x1f69f8))continue;const _0x1b9e3a=this['_scriptsIn'+'dex'][_0x1f69f8];if(_0x1b9e3a){if(typeof _0x3810bf[_0x1f69f8]['enabled']=='boolean'&&(_0x1b9e3a['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x1b9e3a);}),_0x1b9e3a['enabled']=!!_0x3810bf[_0x1f69f8]['enabled']),typeof _0x3810bf[_0x1f69f8]['attributes']=='object'){for(const _0x31de48 in _0x3810bf[_0x1f69f8]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x31de48)){if(!_0x1b9e3a['__attribut'+'es']['hasOwnProp'+'erty'](_0x31de48)){const _0x46bcda=this['system']['app']['scripts']['get'](_0x1f69f8);_0x46bcda&&_0x46bcda['attributes']['add'](_0x31de48,{});}_0x1b9e3a[_0x31de48]=_0x3810bf[_0x1f69f8]['attributes'][_0x31de48];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x4421ee){const _0xc84b99=this['_enabled'];this['_enabled']=_0x4421ee,this['fire']('set','enabled',_0xc84b99,_0x4421ee);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x1*0xb47+0x590+-0x10d7),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0xdbf+0x1a42+-0x2800);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x3aa70f=this['_beginLoop'+'ing']();for(let _0x3cb101=-0x1f*-0x103+-0x1*-0x204a+-0x3fa7,_0x2f7154=this['scripts']['length'];_0x3cb101<_0x2f7154;_0x3cb101++){const _0x818a7=this['scripts'][_0x3cb101];_0x818a7['_initializ'+'ed']&&!_0x818a7['_postIniti'+'alized']&&_0x818a7['enabled']&&(_0x818a7['_postIniti'+'alized']=!(-0xb*-0x19f+0x29b+-0x1470),_0x818a7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x818a7,zu));}this['_endLoopin'+'g'](_0x3aa70f);}['_beginLoop'+'ing'](){const _0x1aa554=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x10d0+0x1827+-0x28f7),_0x1aa554;}['_endLoopin'+'g'](_0x40f9de){this['_isLooping'+'ThroughScr'+'ipts']=_0x40f9de,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4b851b,_0x2bfff6,_0x5617a5){this['_beingEnab'+'led']=!(-0x310*0xb+-0x519+0x1*0x26c9),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x6a*0x12+-0xbe0+0x46d);}['_checkStat'+'e'](){const _0x144181=this['enabled']&&this['entity']['enabled'];if(_0x144181===this['_oldState'])return;this['_oldState']=_0x144181,this['fire'](_0x144181?'enable':'disable'),this['fire']('state',_0x144181),_0x144181?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x315be5=this['_beginLoop'+'ing']();for(let _0x45ba59=0x7b4+0x231+-0x9e5,_0x35b1e8=this['scripts']['length'];_0x45ba59<_0x35b1e8;_0x45ba59++){const _0x3cd396=this['scripts'][_0x45ba59];_0x3cd396['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3cd396);}),_0x3cd396['enabled']=_0x3cd396['_enabled'];}this['_endLoopin'+'g'](_0x315be5);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x518a33=this['_beginLoop'+'ing']();for(let _0xb231ad=0x1*0x189a+0x1332+-0xaf3*0x4;_0xb231ad<this['scripts']['length'];_0xb231ad++){const _0x8530c5=this['scripts'][_0xb231ad];_0x8530c5&&this['destroy'](_0x8530c5['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x518a33);}['_removeDes'+'troyedScri'+'pts'](){const _0x1fef38=this['_destroyed'+'Scripts']['length'];if(_0x1fef38){for(let _0x236f46=-0x463+-0x453+0xa*0xdf;_0x236f46<_0x1fef38;_0x236f46++){const _0x2b6866=this['_destroyed'+'Scripts'][_0x236f46];this['_removeScr'+'iptInstanc'+'e'](_0x2b6866);}this['_destroyed'+'Scripts']['length']=0x9c4+-0x1a+0x2*-0x4d5,this['_resetExec'+'utionOrder'](0x150+-0x126*0xf+0xfea,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x4375ba=0x76c*-0x3+-0xc79+0x22bd,_0x377716=this['scripts']['length'];_0x4375ba<_0x377716;_0x4375ba++){const _0xa66610=this['scripts'][_0x4375ba];this['initialize'+'Attributes'](_0xa66610);}}['initialize'+'Attributes'](_0x4907d4){var _0x3f07de;if(_0x4907d4 instanceof Wo)_0x4907d4['__initiali'+'zeAttribut'+'es']();else{const _0x536739=_0x4907d4['__scriptTy'+'pe']['__name'],_0x1352f6=this['_attribute'+'DataMap']['get'](_0x536739);if(!_0x1352f6)return;const _0x326370=(_0x3f07de=this['system']['app']['scripts'])==null?void(-0x11f5+-0x8*-0x1df+0x3*0xff):_0x3f07de['getSchema'](_0x536739);_0x326370||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x536739+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x326370['attributes'],_0x1352f6,_0x4907d4);}}['_scriptMet'+'hod'](_0x58fb61,_0x58fc75,_0x263951){try{_0x58fb61[_0x58fc75](_0x263951);}catch(_0x54a418){_0x58fb61['enabled']=!(-0x24*-0xb5+0x1b9b+-0x350e),_0x58fb61['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x58fc75+'\x22\x20for\x20\x22'+_0x58fb61['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x54a418),console['error'](_0x54a418)),_0x58fb61['fire']('error',_0x54a418,_0x58fc75),this['fire']('error',_0x58fb61,_0x54a418,_0x58fc75);}}['_onInitial'+'ize'](){const _0x514d14=this['_scripts'],_0x2b0b46=this['_beginLoop'+'ing']();for(let _0x617a49=0x186b+-0x10*0x185+-0x1b,_0x464586=_0x514d14['length'];_0x617a49<_0x464586;_0x617a49++){const _0x61088a=_0x514d14[_0x617a49];!_0x61088a['_initializ'+'ed']&&_0x61088a['enabled']&&(_0x61088a['_initializ'+'ed']=!(-0x5d+0x5*0x32e+0xf89*-0x1),_0x61088a['initialize']&&this['_scriptMet'+'hod'](_0x61088a,Bu));}this['_endLoopin'+'g'](_0x2b0b46);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x549d24){const _0x4f21a4=this['_updateLis'+'t'];if(!_0x4f21a4['length'])return;const _0x41a058=this['_beginLoop'+'ing']();for(_0x4f21a4['loopIndex']=0x8b+0x1*-0x1934+-0x1*-0x18a9;_0x4f21a4['loopIndex']<_0x4f21a4['length'];_0x4f21a4['loopIndex']++){const _0x277a95=_0x4f21a4['items'][_0x4f21a4['loopIndex']];_0x277a95['enabled']&&this['_scriptMet'+'hod'](_0x277a95,AF,_0x549d24);}this['_endLoopin'+'g'](_0x41a058);}['_onPostUpd'+'ate'](_0x198394){const _0x5c5d8f=this['_postUpdat'+'eList'];if(!_0x5c5d8f['length'])return;const _0x48e607=this['_beginLoop'+'ing']();for(_0x5c5d8f['loopIndex']=0x153a+0x2*-0x12fb+-0x2a*-0x66;_0x5c5d8f['loopIndex']<_0x5c5d8f['length'];_0x5c5d8f['loopIndex']++){const _0xb225a7=_0x5c5d8f['items'][_0x5c5d8f['loopIndex']];_0xb225a7['enabled']&&this['_scriptMet'+'hod'](_0xb225a7,CF,_0x198394);}this['_endLoopin'+'g'](_0x48e607);}['_insertScr'+'iptInstanc'+'e'](_0x4a4d60,_0x79b49,_0x5adffe){_0x79b49===-(-0x11*0x1d7+0x1*0x15db+0x7f*0x13)?(this['_scripts']['push'](_0x4a4d60),_0x4a4d60['__executio'+'nOrder']=_0x5adffe,_0x4a4d60['update']&&this['_updateLis'+'t']['append'](_0x4a4d60),_0x4a4d60['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x4a4d60)):(this['_scripts']['splice'](_0x79b49,0x81*-0x3d+0x15*-0x4b+0x24e4,_0x4a4d60),_0x4a4d60['__executio'+'nOrder']=_0x79b49,this['_resetExec'+'utionOrder'](_0x79b49+(-0x375*0x1+-0x79*0x1+0x35*0x13),_0x5adffe+(-0x6a5*-0x2+0x1cbd+-0x42*0xa3)),_0x4a4d60['update']&&this['_updateLis'+'t']['insert'](_0x4a4d60),_0x4a4d60['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4a4d60));}['_removeScr'+'iptInstanc'+'e'](_0x305a9d){const _0x612b8d=this['_scripts']['indexOf'](_0x305a9d);return _0x612b8d===-(-0x2f*0x2f+0x2*0xc13+-0x14b*0xc)||(this['_scripts']['splice'](_0x612b8d,-0x1*-0x1f83+0x1e43+0x9*-0x6dd),_0x305a9d['update']&&this['_updateLis'+'t']['remove'](_0x305a9d),_0x305a9d['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x305a9d)),_0x612b8d;}['_resetExec'+'utionOrder'](_0x4460ce,_0x58ad84){for(let _0x18c5b7=_0x4460ce;_0x18c5b7<_0x58ad84;_0x18c5b7++)this['_scripts'][_0x18c5b7]['__executio'+'nOrder']=_0x18c5b7;}['_resolveEn'+'tityScript'+'Attribute'](_0x49efa6,_0x5d79e8,_0x48d69b,_0xb21631,_0x4917da,_0x54a5a0){if(_0x49efa6['array']){const _0x78d61e=_0x48d69b['length'];if(!_0x78d61e)return;const _0x346a9b=_0x48d69b['slice']();for(let _0x2ffda0=-0x254e+-0x1*0x1eaf+0x3b*0x127;_0x2ffda0<_0x78d61e;_0x2ffda0++){const _0x168b28=_0x346a9b[_0x2ffda0]instanceof lt?_0x346a9b[_0x2ffda0]['getGuid']():_0x346a9b[_0x2ffda0];_0x54a5a0[_0x168b28]&&(_0x346a9b[_0x2ffda0]=_0xb21631?_0x54a5a0[_0x168b28]['getGuid']():_0x54a5a0[_0x168b28]);}_0x4917da[_0x5d79e8]=_0x346a9b;}else{if(_0x48d69b instanceof lt)_0x48d69b=_0x48d69b['getGuid']();else{if(typeof _0x48d69b!='string')return;}_0x54a5a0[_0x48d69b]&&(_0x4917da[_0x5d79e8]=_0x54a5a0[_0x48d69b]);}}['has'](_0x3d2f1b){if(typeof _0x3d2f1b=='string')return!!this['_scriptsIn'+'dex'][_0x3d2f1b];if(!_0x3d2f1b)return!(0x38e+0x1b84+-0x1f11);const _0x2324fb=_0x3d2f1b,_0x1d9a93=_0x2324fb['__name'],_0x5f0da3=this['_scriptsIn'+'dex'][_0x1d9a93];return(_0x5f0da3&&_0x5f0da3['instance'])instanceof _0x2324fb;}['get'](_0xeceaf7){if(typeof _0xeceaf7=='string'){const _0x21d2cf=this['_scriptsIn'+'dex'][_0xeceaf7];return _0x21d2cf?_0x21d2cf['instance']:null;}if(!_0xeceaf7)return null;const _0x23d834=_0xeceaf7,_0x24a238=_0x23d834['__name'],_0x22866f=this['_scriptsIn'+'dex'][_0x24a238],_0x1cba8a=_0x22866f&&_0x22866f['instance'];return _0x1cba8a instanceof _0x23d834?_0x1cba8a:null;}['create'](_0x5a2da5,_0x4daa1e={}){const _0x16177a=this;let _0x110daa=_0x5a2da5,_0x2d7931=_0x5a2da5;if(typeof _0x110daa=='string')_0x110daa=this['system']['app']['scripts']['get'](_0x110daa);else{if(_0x110daa){const _0x103b49=S0(_0x110daa),_0x454d2e=DF(_0x103b49);!(_0x110daa['prototype']instanceof Wo)&&!_0x110daa['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x103b49+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x103b49+('.scriptNam'+'e\x20=\x20\x22')+_0x454d2e+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x110daa['__name']??(_0x110daa['__name']=_0x110daa['scriptName']??_0x454d2e),_0x2d7931=_0x110daa['__name'];}}if(_0x110daa){if(!this['_scriptsIn'+'dex'][_0x2d7931]||!this['_scriptsIn'+'dex'][_0x2d7931]['instance']){const _0x243cfd=new _0x110daa({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4daa1e['hasOwnProp'+'erty']('enabled')?_0x4daa1e['enabled']:!(-0x233*-0x7+-0x1*0x2119+0x11b4),'attributes':_0x4daa1e['attributes']||{}});_0x4daa1e['properties']&&typeof _0x4daa1e['properties']=='object'&&Object['assign'](_0x243cfd,_0x4daa1e['properties']),_0x243cfd instanceof Wo||this['_attribute'+'DataMap']['set'](_0x2d7931,_0x4daa1e['attributes']);const _0x3f5ba3=this['_scripts']['length'];let _0x1b559a=-(0x1aee+0x1e7f+-0x396c);return typeof _0x4daa1e['ind']=='number'&&_0x4daa1e['ind']!==-(0x267f+0x183b+-0x1*0x3eb9)&&_0x3f5ba3>_0x4daa1e['ind']&&(_0x1b559a=_0x4daa1e['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x243cfd,_0x1b559a,_0x3f5ba3),this['_scriptsIn'+'dex'][_0x2d7931]={'instance':_0x243cfd,'onSwap':function(){_0x16177a['swap'](_0x2d7931);}},this[_0x2d7931]=_0x243cfd,_0x4daa1e['preloading']||this['initialize'+'Attributes'](_0x243cfd),this['fire']('create',_0x2d7931,_0x243cfd),this['fire']('create:'+_0x2d7931,_0x243cfd),this['system']['app']['scripts']['on']('swap:'+_0x2d7931,this['_scriptsIn'+'dex'][_0x2d7931]['onSwap']),_0x4daa1e['preloading']||(_0x243cfd['enabled']&&!_0x243cfd['_initializ'+'ed']&&(_0x243cfd['_initializ'+'ed']=!(0x26ae+-0x2433+-0x27b),_0x243cfd['initialize']&&this['_scriptMet'+'hod'](_0x243cfd,Bu)),_0x243cfd['enabled']&&!_0x243cfd['_postIniti'+'alized']&&(_0x243cfd['_postIniti'+'alized']=!(0x1545+0x1*-0x131c+-0x229),_0x243cfd['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x243cfd,zu))),_0x243cfd;}w['warn']('script\x20\x27'+_0x2d7931+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x2d7931]={'awaiting':!(-0x23e2+0x685+0x1d5d),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x2d7931+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x2020b6){let _0x263e94=_0x2020b6,_0x1d0860=_0x2020b6;typeof _0x1d0860=='string'?_0x1d0860=this['system']['app']['scripts']['get'](_0x1d0860):_0x1d0860&&(_0x263e94=_0x1d0860['__name']);const _0x2fb5f0=this['_scriptsIn'+'dex'][_0x263e94];if(delete this['_scriptsIn'+'dex'][_0x263e94],!_0x2fb5f0)return!(0x43*0x79+0x18e8+-0x1c49*0x2);this['_attribute'+'DataMap']['delete'](_0x263e94);const _0x3bff90=_0x2fb5f0['instance'];if(_0x3bff90&&!_0x3bff90['_destroyed']){if(_0x3bff90['enabled']=!(-0x52f*-0x3+-0x166f+0x6e3),_0x3bff90['_destroyed']=!(0xb3b+0x9fd*0x1+0xe*-0x184),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x3bff90);else{const _0x2d1c17=this['_removeScr'+'iptInstanc'+'e'](_0x3bff90);_0x2d1c17>=0x14e9+-0x2536+0x104d&&this['_resetExec'+'utionOrder'](_0x2d1c17,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x263e94,_0x2fb5f0['onSwap']),delete this[_0x263e94],this['fire']('destroy',_0x263e94,_0x3bff90||null),this['fire']('destroy:'+_0x263e94,_0x3bff90||null),_0x3bff90&&_0x3bff90['fire']('destroy'),!(-0x5b*-0x13+0x147+-0x808);}['swap'](_0x2728ff){let _0x4993be=_0x2728ff,_0x406809=_0x2728ff;typeof _0x406809=='string'?_0x406809=this['system']['app']['scripts']['get'](_0x406809):_0x406809&&(_0x4993be=_0x406809['__name']);const _0x42cc63=this['_scriptsIn'+'dex'][_0x4993be];if(!_0x42cc63||!_0x42cc63['instance'])return!(-0xfd0+0x1*0xabc+-0x1*-0x515);const _0x2a3610=_0x42cc63['instance'],_0x3d40c0=this['_scripts']['indexOf'](_0x2a3610),_0x410165=new _0x406809({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x2a3610['enabled'],'attributes':_0x2a3610['__attribut'+'es']});return _0x410165['swap']?(this['initialize'+'Attributes'](_0x410165),this['_scripts'][_0x3d40c0]=_0x410165,this['_scriptsIn'+'dex'][_0x4993be]['instance']=_0x410165,this[_0x4993be]=_0x410165,_0x410165['__executio'+'nOrder']=_0x3d40c0,_0x2a3610['update']&&this['_updateLis'+'t']['remove'](_0x2a3610),_0x2a3610['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x2a3610),_0x410165['update']&&this['_updateLis'+'t']['insert'](_0x410165),_0x410165['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x410165),this['_scriptMet'+'hod'](_0x410165,PF,_0x2a3610),this['fire']('swap',_0x4993be,_0x410165),this['fire']('swap:'+_0x4993be,_0x410165),!(-0xa26+-0x1a0a+0x2430)):!(-0x4*0x8ae+-0xf*0x134+0x34c5);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c06dd,_0x5de41a){var _0x2ebda6,_0x262fec,_0x4f82ca;const _0x27e1d3=this['entity']['script'];for(const _0x5bbbfb in _0x5c06dd['_scriptsIn'+'dex']){const _0x2cfa16=this['system']['app']['scripts']['get'](_0x5bbbfb);if(!_0x2cfa16)continue;const _0xc25fcb=_0x5c06dd['_scriptsIn'+'dex'][_0x5bbbfb];if(!_0xc25fcb||!_0xc25fcb['instance'])continue;const _0x3ab7e5=_0x27e1d3[_0x5bbbfb]['__attribut'+'esRaw']??_0x27e1d3['_attribute'+'DataMap']['get'](_0x5bbbfb),_0x333a0d=_0x27e1d3[_0x5bbbfb]['__attribut'+'es'];if(!_0x3ab7e5&&!_0x333a0d)continue;const _0x4cd1d2=!!_0x3ab7e5,_0x39e18f=_0xc25fcb['instance']['__attribut'+'es']??_0x27e1d3['_attribute'+'DataMap']['get'](_0x5bbbfb);for(const _0x410c2e in _0x39e18f){if(!_0x39e18f[_0x410c2e])continue;const _0x3283fd=((_0x2ebda6=_0x2cfa16['attributes'])==null?void(-0x285+0x1c1f+0xccd*-0x2):_0x2ebda6['get'](_0x410c2e))??((_0x4f82ca=(_0x262fec=this['system']['app']['scripts']['getSchema'](_0x5bbbfb))==null?void(0x141+0x73*0x12+-0x957*0x1):_0x262fec['attributes'])==null?void(-0x31*-0x5b+0x2*-0x29+-0x1119):_0x4f82ca[_0x410c2e]);if(_0x3283fd){if(_0x3283fd['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x3283fd,_0x410c2e,_0x39e18f[_0x410c2e],_0x4cd1d2,_0x3ab7e5||_0x333a0d,_0x5de41a);else{if(_0x3283fd['type']==='json'&&Array['isArray'](_0x3283fd['schema'])){const _0x572225=_0x39e18f[_0x410c2e],_0x4f2f98=_0x3ab7e5?_0x3ab7e5[_0x410c2e]:_0x333a0d[_0x410c2e];for(let _0x196eef=0x1a0b*-0x1+-0x2405+0x3e10;_0x196eef<_0x3283fd['schema']['length'];_0x196eef++){const _0x37bc6e=_0x3283fd['schema'][_0x196eef];if(_0x37bc6e['type']==='entity'){if(_0x3283fd['array']){for(let _0x35a9dc=0x22c+0x1add+0x1*-0x1d09;_0x35a9dc<_0x572225['length'];_0x35a9dc++)this['_resolveEn'+'tityScript'+'Attribute'](_0x37bc6e,_0x37bc6e['name'],_0x572225[_0x35a9dc][_0x37bc6e['name']],_0x4cd1d2,_0x4f2f98[_0x35a9dc],_0x5de41a);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x37bc6e,_0x37bc6e['name'],_0x572225[_0x37bc6e['name']],_0x4cd1d2,_0x4f2f98,_0x5de41a);}}}}}}}}['move'](_0x4a884f,_0x41cc1b){const _0x280957=this['_scripts']['length'];if(_0x41cc1b>=_0x280957||_0x41cc1b<-0x1b72+0x19*0x77+-0x1*-0xfd3)return!(-0x1*0x1382+0x6c+0x1317);let _0x28d306=_0x4a884f,_0x3f304b=_0x4a884f;typeof _0x3f304b!='string'?_0x3f304b=_0x4a884f['__name']:_0x28d306=null;const _0x260f46=this['_scriptsIn'+'dex'][_0x3f304b];if(!_0x260f46||!_0x260f46['instance'])return!(-0x169*-0xb+-0x14f2+0x570);const _0x13b87f=_0x260f46['instance'];if(_0x28d306&&!(_0x13b87f instanceof _0x28d306))return!(0x22*-0xd9+-0xceb*0x3+0x21ca*0x2);const _0x2b2fe9=this['_scripts']['indexOf'](_0x13b87f);return _0x2b2fe9===-(-0x2b*-0x31+0x1f78*-0x1+0xaa*0x23)||_0x2b2fe9===_0x41cc1b?!(-0x8*0x269+-0x26ec+0x1*0x3a35):(this['_scripts']['splice'](_0x41cc1b,-0x19de*-0x1+-0x23e*0x5+-0xea8,this['_scripts']['splice'](_0x2b2fe9,0x25*-0x1+0x4*-0x85f+-0x69*-0x52)[-0x17f7*-0x1+0x1fe+-0x1bb*0xf]),this['_resetExec'+'utionOrder'](-0x5*-0x142+0x6e1*-0x3+0xe59,_0x280957),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x3f304b,_0x13b87f,_0x41cc1b,_0x2b2fe9),this['fire']('move:'+_0x3f304b,_0x13b87f,_0x41cc1b,_0x2b2fe9),!(0xd69*-0x2+0x97*0x9+-0x1*-0x1583));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0xb7f+0x49c*-0x1+0x13*0xd9);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x20e+0x6f*0x4a+-0x1e08;class kF extends ct{constructor(_0x3fb13a){super(_0x3fb13a),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1800+0x2663*0x1+-0x3e63),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x36749e,_0x8f8647){if(_0x36749e['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x36749e),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x36749e['enabled']=_0x8f8647['hasOwnProp'+'erty']('enabled')?!!_0x8f8647['enabled']:!(-0x662+0x15f2+0xc*-0x14c),_0x36749e['enabled']&&_0x36749e['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x36749e),_0x8f8647['hasOwnProp'+'erty']('order')&&_0x8f8647['hasOwnProp'+'erty']('scripts')){_0x36749e['_scriptsDa'+'ta']=_0x8f8647['scripts'];for(let _0x6f727d=0x190a+-0x1559+-0x13b*0x3;_0x6f727d<_0x8f8647['order']['length'];_0x6f727d++)_0x36749e['create'](_0x8f8647['order'][_0x6f727d],{'enabled':_0x8f8647['scripts'][_0x8f8647['order'][_0x6f727d]]['enabled'],'attributes':_0x8f8647['scripts'][_0x8f8647['order'][_0x6f727d]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x393af0,_0x3291be){var _0x3a1869;const _0xc90dec=[],_0x9c27f6={};for(let _0x5352f9=-0xa7*0xb+-0xb28+0x1255;_0x5352f9<_0x393af0['script']['_scripts']['length'];_0x5352f9++){const _0x3821ad=_0x393af0['script']['_scripts'][_0x5352f9],_0x1bb189=_0x3821ad['__scriptTy'+'pe']['__name'];_0xc90dec['push'](_0x1bb189);const _0x3966ce=((_0x3a1869=_0x393af0['script']['_attribute'+'DataMap'])==null?void(0x1557+-0x1e*-0x116+-0x35eb):_0x3a1869['get'](_0x1bb189))||{};for(const _0x400146 in _0x3821ad['__attribut'+'es'])_0x3966ce[_0x400146]=_0x3821ad['__attribut'+'es'][_0x400146];_0x9c27f6[_0x1bb189]={'enabled':_0x3821ad['_enabled'],'attributes':_0x3966ce};}for(const _0x3c1b5f in _0x393af0['script']['_scriptsIn'+'dex'])_0x3c1b5f['awaiting']&&_0xc90dec['splice'](_0x3c1b5f['ind'],-0xacc*-0x1+-0x252b*-0x1+-0x2ff7,_0x3c1b5f);const _0x13a331={'enabled':_0x393af0['script']['enabled'],'order':_0xc90dec,'scripts':_0x9c27f6};return this['addCompone'+'nt'](_0x3291be,_0x13a331);}['_resetExec'+'utionOrder'](){Mc=-0xde4+0x1d98+-0xfb4;for(let _0x4e1310=-0x43+0x1*-0x33d+0x380*0x1,_0x1a5171=this['_component'+'s']['length'];_0x4e1310<_0x1a5171;_0x4e1310++)this['_component'+'s']['items'][_0x4e1310]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x216ac2,_0x209ed0,_0x568334){for(_0x216ac2['loopIndex']=0x17bb+0x13d5*-0x1+-0x3e6;_0x216ac2['loopIndex']<_0x216ac2['length'];_0x216ac2['loopIndex']++)_0x216ac2['items'][_0x216ac2['loopIndex']][_0x209ed0](_0x568334);}['_onInitial'+'ize'](){this['preloading']=!(0x25b7+-0x1d83+-0x833),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x491c2a){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x491c2a);}['_onPostUpd'+'ate'](_0x418838){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x418838);}['_addCompon'+'entToEnabl'+'ed'](_0x1a4604){this['_enabledCo'+'mponents']['insert'](_0x1a4604);}['_removeCom'+'ponentFrom'+'Enabled'](_0x29b548){this['_enabledCo'+'mponents']['remove'](_0x29b548);}['_onBeforeR'+'emove'](_0x3b7543,_0x42ab46){this['_component'+'s']['items']['indexOf'](_0x42ab46)>=-0x1b41+0x445*-0x3+0x2810&&_0x42ab46['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x42ab46),this['_component'+'s']['remove'](_0x42ab46);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0xb4ec96,_0x284ff2){super(_0xb4ec96,_0x284ff2),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x667+-0x1a14*0x1+-0x5*-0x67f)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x12c6+-0x90d*-0x2+-0x1*-0xad)),(this['_assetRefe'+'rence']=new gl('asset',this,_0xb4ec96['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x284ff2['on']('remove',this['onRemoveCh'+'ild'],this),_0x284ff2['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x284ff2['on']('insert',this['onInsertCh'+'ild'],this),_0x284ff2['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x54aa3c){var _0x9b369f,_0x569d37;this['_customAab'+'b']=_0x54aa3c,(_0x569d37=(_0x9b369f=this['_instance'])==null?void(-0x66c+0x1c93+-0x1627):_0x9b369f['meshInstan'+'ce'])==null||_0x569d37['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0xf180b8){if(this['destroyIns'+'tance'](),this['_instance']=_0xf180b8,this['_instance']){const _0x882d9a=this['_instance']['meshInstan'+'ce'];_0x882d9a['node']||(_0x882d9a['node']=this['entity']),_0x882d9a['castShadow']=this['_castShado'+'ws'],_0x882d9a['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x1bf1d3){this['_instance']?this['_instance']['material']=_0x1bf1d3:this['_materialT'+'mp']=_0x1bf1d3;}get['material'](){var _0x595a96;return((_0x595a96=this['_instance'])==null?void(-0x1*-0xfc7+-0x1*0x1c0+0x3f*-0x39):_0x595a96['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x7036f0){_0x7036f0!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x7036f0,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x7036f0));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x514de5){var _0x13a41e;if(this['_castShado'+'ws']!==_0x514de5){const _0x4a2e62=(_0x13a41e=this['instance'])==null?void(0x1f*0x6b+0x1b86+-0x287b):_0x13a41e['meshInstan'+'ce'];if(_0x4a2e62){const _0x4b3b77=this['layers'],_0x480a7c=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x514de5)for(let _0x3e396b=0x2*0x34b+-0x269+0x1*-0x42d;_0x3e396b<_0x4b3b77['length'];_0x3e396b++){const _0x3e84e0=_0x480a7c['layers']['getLayerBy'+'Id'](this['layers'][_0x3e396b]);_0x3e84e0&&_0x3e84e0['removeShad'+'owCasters']([_0x4a2e62]);}if(_0x4a2e62['castShadow']=_0x514de5,!this['_castShado'+'ws']&&_0x514de5)for(let _0x12efc3=0x2ce*-0x3+0x227b*-0x1+0x1*0x2ae5;_0x12efc3<_0x4b3b77['length'];_0x12efc3++){const _0x12a0cc=_0x480a7c['layers']['getLayerBy'+'Id'](_0x4b3b77[_0x12efc3]);_0x12a0cc&&_0x12a0cc['addShadowC'+'asters']([_0x4a2e62]);}}this['_castShado'+'ws']=_0x514de5;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x5a5cec){this['removeFrom'+'Layers'](),this['_layers']['length']=0x53*0x59+0xf40+-0x2c1b;for(let _0x42cef2=0xb4c+0x24a+-0xd96;_0x42cef2<_0x5a5cec['length'];_0x42cef2++)this['_layers'][_0x42cef2]=_0x5a5cec[_0x42cef2];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x57aac6){const _0x57df70=_0x57aac6 instanceof pe?_0x57aac6['id']:_0x57aac6;this['_assetRefe'+'rence']['id']!==_0x57df70&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x57df70,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x5f8416;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5f8416=this['_instance'])==null||_0x5f8416['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x2aa537,_0x4fed58;const _0x26e3c5=(_0x2aa537=this['instance'])==null?void(0x7*-0x3b3+0x1815*0x1+-0x3a*-0x8):_0x2aa537['meshInstan'+'ce'];if(_0x26e3c5){const _0x2b61cc=this['system']['app']['scene']['layers'];for(let _0x4af25b=0x10fe+0x2*-0x751+-0x25c;_0x4af25b<this['_layers']['length'];_0x4af25b++)(_0x4fed58=_0x2b61cc['getLayerBy'+'Id'](this['_layers'][_0x4af25b]))==null||_0x4fed58['addMeshIns'+'tances']([_0x26e3c5]);}}['removeFrom'+'Layers'](){var _0xc2cb87,_0x528b44;const _0x19a26c=(_0xc2cb87=this['instance'])==null?void(-0xf1c+0x97+0xe85):_0xc2cb87['meshInstan'+'ce'];if(_0x19a26c){const _0x380474=this['system']['app']['scene']['layers'];for(let _0x311a64=-0x2*-0x49f+0x1*0x25e1+-0x2f1f;_0x311a64<this['_layers']['length'];_0x311a64++)(_0x528b44=_0x380474['getLayerBy'+'Id'](this['_layers'][_0x311a64]))==null||_0x528b44['removeMesh'+'Instances']([_0x19a26c]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x533708,_0x4a17cd){this['addToLayer'+'s'](),_0x533708['off']('add',this['onLayerAdd'+'ed'],this),_0x533708['off']('remove',this['onLayerRem'+'oved'],this),_0x4a17cd['on']('add',this['onLayerAdd'+'ed'],this),_0x4a17cd['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3a9e7f){this['layers']['indexOf'](_0x3a9e7f['id'])<0x1cb4+-0xb9*-0x1b+-0x3037||this['_instance']&&_0x3a9e7f['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x16fa09){this['layers']['indexOf'](_0x16fa09['id'])<0x0+0x1e3c+-0xa*0x306||this['_instance']&&_0x16fa09['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x4481ac=this['system']['app']['scene'],_0x39dc88=_0x4481ac['layers'];this['_evtLayers'+'Changed']=_0x4481ac['on']('set:layers',this['onLayersCh'+'anged'],this),_0x39dc88&&(this['_evtLayerA'+'dded']=_0x39dc88['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x39dc88['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x343cdb,_0x2b17a6,_0x58977e;const _0x3d25be=this['system']['app']['scene']['layers'];(_0x343cdb=this['_evtLayers'+'Changed'])==null||_0x343cdb['off'](),this['_evtLayers'+'Changed']=null,_0x3d25be&&((_0x2b17a6=this['_evtLayerA'+'dded'])==null||_0x2b17a6['off'](),this['_evtLayerA'+'dded']=null,(_0x58977e=this['_evtLayerR'+'emoved'])==null||_0x58977e['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1*0x5c9+0x224f+0x21*-0x137));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x19ac+0x5bb+-0x1f67));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x5832dd=this['_assetRefe'+'rence']['asset'];_0x5832dd&&(this['instance']=_0x5832dd['resource']['createInst'+'ance'](_0x5832dd['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(0xc6e+0x1*-0x1969+0xcfb);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0xd43bac){super(_0xd43bac),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x44c564,_0x126bde,_0x2d157e){_0x126bde['layers']&&_0x126bde['layers']['length']&&(_0x126bde['layers']=_0x126bde['layers']['slice'](-0x2650+-0x10e0+0x3730));for(let _0xf0fc02=-0x55+0x1*-0x148d+-0x51*-0x42;_0xf0fc02<To['length'];_0xf0fc02++)_0x126bde['hasOwnProp'+'erty'](To[_0xf0fc02])&&(_0x44c564[To[_0xf0fc02]]=_0x126bde[To[_0xf0fc02]]);_0x126bde['aabbCenter']&&_0x126bde['aabbHalfEx'+'tents']&&(_0x44c564['customAabb']=new De(new D(_0x126bde['aabbCenter']),new D(_0x126bde['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x44c564,_0x126bde,Vu);}['cloneCompo'+'nent'](_0x4d0d25,_0x4a41bd){const _0x3630cb=_0x4d0d25['gsplat'],_0x3fc947={};To['forEach'](_0x933e13=>{_0x933e13==='material'?_0x3fc947[_0x933e13]=_0x3630cb[_0x933e13]['clone']():_0x3fc947[_0x933e13]=_0x3630cb[_0x933e13];}),_0x3fc947['enabled']=_0x3630cb['enabled'];const _0x78eead=this['addCompone'+'nt'](_0x4a41bd,_0x3fc947);return _0x3630cb['customAabb']&&(_0x78eead['customAabb']=_0x3630cb['customAabb']['clone']()),_0x78eead;}['onRemove'](_0x204ab1,_0x4505ed){_0x4505ed['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x51c28e){this['decRefMesh'+'es'](),this['_meshes']=_0x51c28e,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x51c28e);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x56d7a4;(_0x56d7a4=this['_meshes'])==null||_0x56d7a4['forEach']((_0x44a13e,_0x5e44bf)=>{_0x44a13e&&(_0x44a13e['decRefCoun'+'t'](),_0x44a13e['refCount']<0xad*0x32+-0x40*0x8+0x1*-0x1fc9&&(_0x44a13e['destroy'](),this['_meshes'][_0x5e44bf]=null));});}['incRefMesh'+'es'](){var _0x241990;(_0x241990=this['_meshes'])==null||_0x241990['forEach'](_0x2e9b3d=>{_0x2e9b3d==null||_0x2e9b3d['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x3681fb){const _0x5127fc=this;if(!_0x5127fc['resource'])return;const _0x13163b=_0x3681fb['resource'],_0x2c284d=_0x13163b['renders']&&_0x13163b['renders'][_0x5127fc['data']['renderInde'+'x']];_0x2c284d&&(_0x5127fc['resource']['meshes']=_0x2c284d['resource']['meshes']);}function pS(_0x3af059){const _0x5d2956=this;_0x5d2956['registry']['off']('load:'+_0x3af059['id'],sh,_0x5d2956),_0x5d2956['registry']['on']('load:'+_0x3af059['id'],sh,_0x5d2956),_0x5d2956['registry']['off']('remove:'+_0x3af059['id'],mS,_0x5d2956),_0x5d2956['registry']['once']('remove:'+_0x3af059['id'],mS,_0x5d2956),_0x3af059['resource']?sh['call'](_0x5d2956,_0x3af059):_0x5d2956['registry']['load'](_0x3af059);}function mS(_0x256673){const _0x2b7198=this;_0x2b7198['registry']['off']('load:'+_0x256673['id'],sh,_0x2b7198),_0x2b7198['resource']&&_0x2b7198['resource']['destroy']();}class zF extends Qe{constructor(_0x2fb91d){super(_0x2fb91d,'render'),this['_registry']=_0x2fb91d['assets'];}['open'](_0x51efee,_0x427723){return new Em();}['patch'](_0x31eca0,_0x3caf46){if(!_0x31eca0['data']['containerA'+'sset'])return;const _0x4fef0e=_0x3caf46['get'](_0x31eca0['data']['containerA'+'sset']);if(!_0x4fef0e){_0x3caf46['once']('add:'+_0x31eca0['data']['containerA'+'sset'],pS,_0x31eca0);return;}pS['call'](_0x31eca0,_0x4fef0e);}}class v0{constructor(_0x3d33f1,_0x284438,_0x5e9ed1,_0x429172){this['_paths']=_0x3d33f1,this['_input']=_0x284438,this['_output']=_0x5e9ed1,this['_interpola'+'tion']=_0x429172;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x55cb9e,_0x3c9210){this['_component'+'s']=_0x55cb9e,this['_data']=_0x3c9210;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x3391e8,_0x10ab97){let _0x4dee3b;const _0x2b8f82=(_0x318e36,_0x5376eb)=>{switch(_0x5376eb){case _0x4dee3b['DT_INT8']:return new Int8Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']);case _0x4dee3b['DT_INT16']:return new Int16Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']/(-0x144d*-0x1+0x208c*-0x1+0xc41));case _0x4dee3b['DT_INT32']:return new Int32Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']/(-0x1502*-0x1+0x176*0xf+-0x55d*0x8));case _0x4dee3b['DT_UINT8']:return new Uint8Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']);case _0x4dee3b['DT_UINT16']:return new Uint16Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']/(-0x11*-0x147+-0x110c*0x1+-0x4a9));case _0x4dee3b['DT_UINT32']:return new Uint32Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']/(0x4d*-0x2+-0x2*0xa52+-0xaa1*-0x2));case _0x4dee3b['DT_FLOAT32']:return new Float32Array(_0x318e36['buffer'],_0x318e36['byteOffset'],_0x318e36['byteLength']/(0x1dfc+0x85*0x47+-0x42db));}return null;},_0x24942b=_0xb2b883=>{switch(_0xb2b883){case _0x4dee3b['DT_INT8']:return-0x41*-0x3+0x1a21+0x1ae3*-0x1;case _0x4dee3b['DT_INT16']:return 0x19*-0x61+0x3d6+-0x55*-0x11;case _0x4dee3b['DT_INT32']:return-0xf5b*0x1+0xbcb+-0x2*-0x1ca;case _0x4dee3b['DT_UINT8']:return-0x539+0x12c3*-0x2+-0x98*-0x48;case _0x4dee3b['DT_UINT16']:return 0x1638+0x1*-0x11ab+-0x48b*0x1;case _0x4dee3b['DT_UINT32']:return 0x141c*0x1+-0xb*-0x2c+-0x54*0x43;case _0x4dee3b['DT_FLOAT32']:return 0x17b3*0x1+-0x10ca+-0x6e5;}return 0xfb6*0x1+-0x1e16+-0x1*-0xe61;},_0x132467=_0x5efc96=>_0x5efc96['num_compon'+'ents']()*_0x24942b(_0x5efc96['data_type']()),_0x19734c={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x1e3283=(_0x511898,_0x4263ab)=>{const _0x47548c=(_0x43b61d,_0x3f5571,_0x1233ac)=>{_0x43b61d[0xeb4+-0x1a5*0x3+-0x9c5]=_0x3f5571[-0x1e7f+-0x5*0x3af+-0x104e*-0x3]-_0x1233ac[-0x1*0x1db3+-0xb8c+0x293f],_0x43b61d[-0xc2d*-0x2+0x494+-0x5*0x5c9]=_0x3f5571[0x201+-0x2578+0x2378]-_0x1233ac[-0x1c9e+-0x1*-0x24c2+-0x823],_0x43b61d[-0x4*-0x877+0x130*0xc+-0x301a]=_0x3f5571[0x326+-0x1bee*-0x1+-0x1f12]-_0x1233ac[0x1*0x1369+-0x1c30+-0xd*-0xad];},_0x39269e=(_0x531343,_0xd6b2d5,_0x2f6bf4)=>{_0x531343[0x6ad+0x33*0x5b+-0x18ce]=_0xd6b2d5[-0xe03+-0x1f5c*0x1+0x2d60]*_0x2f6bf4[0x115*0x6+0x1*-0x18b7+0x123b]-_0x2f6bf4[-0x2043+-0x1f3f+0x3f83]*_0xd6b2d5[-0x4*-0x46d+-0x5*-0x158+-0xc35*0x2],_0x531343[-0xd1*0x2+0x55b+-0x3b8]=_0xd6b2d5[0x18a7+-0x1f*0x6b+-0xbb0]*_0x2f6bf4[0x148e*0x1+0xae3*0x2+-0x204*0x15]-_0x2f6bf4[-0x29*0x7f+-0x680*0x4+-0x71*-0x69]*_0xd6b2d5[0x2*-0xbdd+-0x268d*-0x1+0xed3*-0x1],_0x531343[0x1b74+0x2*0x986+-0x2e7e]=_0xd6b2d5[-0xd0f*0x1+0x2390+-0x1681]*_0x2f6bf4[0xf17*0x1+-0x1*-0x49b+-0x1*0x13b1]-_0x2f6bf4[0x1*-0x13e8+0x2472+0x1d*-0x92]*_0xd6b2d5[-0x53e*-0x6+-0x976+-0x15fd];},_0x46f232=(_0x245cca,_0x573d9d)=>{const _0x4f7b2b=_0x245cca[_0x573d9d+(-0x2706+0x21a+0x4*0x93b)],_0x3ba179=_0x245cca[_0x573d9d+(0x1933+-0x1e8d+-0x55b*-0x1)],_0x225871=_0x245cca[_0x573d9d+(0x1994+-0x17f9+-0x199)],_0x255a34=(0x1*0xa3+-0x1*0x201b+0x1f79)/Math['sqrt'](_0x4f7b2b*_0x4f7b2b+_0x3ba179*_0x3ba179+_0x225871*_0x225871);_0x245cca[_0x573d9d+(0x1c2a*-0x1+-0x1e0e+0x3a38)]*=_0x255a34,_0x245cca[_0x573d9d+(0xe*0x91+-0xc10+-0x1*-0x423)]*=_0x255a34,_0x245cca[_0x573d9d+(-0x152*0x1+0x2705+-0x25b1)]*=_0x255a34;},_0x1d2bfc=(_0x4c7b95,_0x50f041,_0x5a3cb1)=>{for(let _0x28bc48=0xbeb+0x1*0x17f5+-0x23e0;_0x28bc48<-0xd54+-0xc9*-0x2f+-0x8*0x2f2;++_0x28bc48)_0x4c7b95[_0x28bc48]=_0x50f041[_0x5a3cb1+_0x28bc48];},_0x415762=_0x4263ab['length']/(0x362*0x8+0x1421+-0x6*0x7dd),_0x1a5204=_0x511898['length']/(0x12*-0x1da+0x160*0x1b+-0x33*0x13),_0x4a88c9=new Float32Array(_0x511898['length']),_0x2ba30b=[-0x1e39*-0x1+-0x75f+-0x16da,-0x1f*-0x7e+-0x106d+0x12b,-0x3*-0x4c7+-0x1fb1+0x115c],_0x1e244b=[-0xbab*0x1+0xad8+0xd3,-0x100c+0xf87*-0x1+0x1f93,-0x445+-0x4*0x99+-0x5*-0x155],_0x23938f=[0x1ba*0xd+0x11be*0x1+-0x1418*0x2,-0xb0b+-0x49*0x25+0x1598,0x1ac7+-0x13aa+-0x3*0x25f],_0xdf8f59=[-0x393+0x8d*0x19+0x105*-0xa,-0x2c0*0x1+0x4*-0x817+-0x6*-0x5da,0xe8c+0x1df0+-0x2c7c],_0x26d443=[0x1*-0x823+-0x31b+0xb3e,0xe52+-0x190b+0xab9,-0xfe3+0x21c5+-0x11e2],_0x3fbe2c=[0xa6c+0x57c+-0xfe8,0x17e1+-0x27a*0xd+0x851,-0x23b1+0x19bf+-0x9f2*-0x1];for(let _0x36bc9d=-0x1*-0x10f7+-0x1565+0x46e;_0x36bc9d<_0x415762;++_0x36bc9d){const _0x3991c0=_0x4263ab[_0x36bc9d*(-0xd*0x10d+0x10ab+0x2ff*-0x1)+(0xa77+-0x2*-0x2b+0x229*-0x5)]*(-0x2*0x6be+0x1e0a+0x108b*-0x1),_0x38aa33=_0x4263ab[_0x36bc9d*(-0x2*-0x127d+0x16ab+-0x3ba2)+(0x1dc1+0x9b*0x1d+0x2f4f*-0x1)]*(0x1669+-0x15b4+-0xb2),_0x4023b2=_0x4263ab[_0x36bc9d*(-0xf4b+-0xd62+0x22*0xd8)+(0x2e*-0x5+0x8ad+-0x7c5)]*(-0x5d5+0x20b0+-0x1ad8);_0x1d2bfc(_0x2ba30b,_0x511898,_0x3991c0),_0x1d2bfc(_0x1e244b,_0x511898,_0x38aa33),_0x1d2bfc(_0x23938f,_0x511898,_0x4023b2),_0x47548c(_0xdf8f59,_0x1e244b,_0x2ba30b),_0x47548c(_0x26d443,_0x23938f,_0x2ba30b),_0x39269e(_0x3fbe2c,_0xdf8f59,_0x26d443),_0x46f232(_0x3fbe2c,0x18e3+0x9*0x21+-0x1a0c);for(let _0x21d69b=-0x83*-0x9+-0x7*-0xef+0xb24*-0x1;_0x21d69b<0x1c12+-0x2433+-0x209*-0x4;++_0x21d69b)_0x4a88c9[_0x3991c0+_0x21d69b]+=_0x3fbe2c[_0x21d69b],_0x4a88c9[_0x38aa33+_0x21d69b]+=_0x3fbe2c[_0x21d69b],_0x4a88c9[_0x4023b2+_0x21d69b]+=_0x3fbe2c[_0x21d69b];}for(let _0x5512af=0xcbb*-0x3+0x65*-0x8+0x1*0x2959;_0x5512af<_0x1a5204;++_0x5512af)_0x46f232(_0x4a88c9,_0x5512af*(0xe60+-0x55b+0x481*-0x2));return new Uint8Array(_0x4a88c9['buffer']);},_0x46ffb5=_0x551e39=>{const _0x467ff2={},_0x4fd458=new _0x4dee3b['DecoderBuf'+'fer']();_0x4fd458['Init'](_0x551e39,_0x551e39['length']);const _0x176065=new _0x4dee3b['Decoder']();if(_0x176065['GetEncoded'+'GeometryTy'+'pe'](_0x4fd458)!==_0x4dee3b['TRIANGULAR'+'_MESH'])return _0x467ff2['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x467ff2;const _0x28c34d=new _0x4dee3b['Mesh'](),_0x563326=_0x176065['DecodeBuff'+'erToMesh'](_0x4fd458,_0x28c34d);if(!_0x563326||!_0x563326['ok']()||_0x4dee3b['getPointer'](_0x28c34d)===-0x531+0xdd9+-0x8*0x115)return _0x467ff2['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x467ff2;const _0x2f94b1=_0x28c34d['num_faces']()*(-0x4*-0x1fd+0xa9e+-0x1*0x128f),_0x38cb47=_0x28c34d['num_points']()<=-0xfe05*0x1+-0x1298c+0x21a6*0x18,_0x4e79ec=_0x2f94b1*(_0x38cb47?0x6*-0x4fe+-0x7f*-0xa+-0x2*-0xc80:0x21ce+0x1fa3+0x1*-0x416d),_0x333a05=_0x4dee3b['_malloc'](_0x4e79ec);_0x38cb47?(_0x176065['GetTriangl'+'esUInt16Ar'+'ray'](_0x28c34d,_0x4e79ec,_0x333a05),_0x467ff2['indices']=new Uint16Array(_0x4dee3b['HEAPU16']['buffer'],_0x333a05,_0x2f94b1)['slice']()['buffer']):(_0x176065['GetTriangl'+'esUInt32Ar'+'ray'](_0x28c34d,_0x4e79ec,_0x333a05),_0x467ff2['indices']=new Uint32Array(_0x4dee3b['HEAPU32']['buffer'],_0x333a05,_0x2f94b1)['slice']()['buffer']),_0x4dee3b['_free'](_0x333a05);const _0x483197=[];for(let _0x3b6556=-0x401*-0x2+0x906+-0x8*0x221;_0x3b6556<_0x28c34d['num_attrib'+'utes']();++_0x3b6556)_0x483197['push'](_0x176065['GetAttribu'+'te'](_0x28c34d,_0x3b6556));_0x483197['sort']((_0x3526e1,_0x33299c)=>(_0x19734c[_0x3526e1['attribute_'+'type']()]??_0x19734c['length'])-(_0x19734c[_0x33299c['attribute_'+'type']()]??_0x19734c['length'])),_0x467ff2['attributes']=_0x483197['map'](_0x2effcf=>_0x2effcf['unique_id']());let _0xad9280=-0x17da+-0x5bf+0x1d99*0x1;const _0x398cd6=_0x483197['map'](_0x2cf28c=>{const _0x5ceacb=_0xad9280;return _0xad9280+=Math['ceil'](_0x132467(_0x2cf28c)/(0x1*0x75c+-0x2*0x12c1+-0x42*-0x75))*(0x5e1+0x2*0xd72+-0x20c1),_0x5ceacb;}),_0x79fb61=_0x483197['some'](_0x3bb149=>_0x3bb149['attribute_'+'type']()===-0x18ab+0xed*0x26+0x1*-0xa82),_0x4512f6=_0x398cd6[-0x45a+0x1852*0x1+-0x13f7];if(!_0x79fb61){for(let _0x539998=-0x26fe+0xe6*-0xd+0x32ad*0x1;_0x539998<_0x398cd6['length'];++_0x539998)_0x398cd6[_0x539998]+=0x1*-0x250a+0x91c+0x1bfa*0x1;_0xad9280+=0x1f5f+-0x160a+-0x949;}_0x467ff2['vertices']=new ArrayBuffer(_0x28c34d['num_points']()*_0xad9280);const _0x55c7d6=new Uint8Array(_0x467ff2['vertices']);for(let _0x22508b=0x1a8*-0x5+0x1*-0x221b+0x2a63;_0x22508b<_0x28c34d['num_attrib'+'utes']();++_0x22508b){const _0x106939=_0x483197[_0x22508b],_0xd156e3=_0x132467(_0x106939),_0x2f2ea4=_0x28c34d['num_points']()*_0xd156e3,_0x32b9c8=_0x4dee3b['_malloc'](_0x2f2ea4);_0x176065['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x28c34d,_0x106939,_0x106939['data_type'](),_0x2f2ea4,_0x32b9c8);const _0x207f8f=new Uint8Array(_0x4dee3b['HEAPU8']['buffer'],_0x32b9c8,_0x2f2ea4);for(let _0x36f4d0=0x65*0x59+-0x19*-0x15+-0x252a;_0x36f4d0<_0x28c34d['num_points']();++_0x36f4d0)for(let _0x4a5189=-0x10a2*0x1+-0x2*-0xeef+-0xd3c;_0x4a5189<_0xd156e3;++_0x4a5189)_0x55c7d6[_0x36f4d0*_0xad9280+_0x398cd6[_0x22508b]+_0x4a5189]=_0x207f8f[_0x36f4d0*_0xd156e3+_0x4a5189];if(!_0x79fb61&&_0x106939['attribute_'+'type']()===-0x320*0x5+-0x3*0xa9f+0x2f7d){const _0x3c8dcc=_0x1e3283(_0x2b8f82(_0x207f8f,_0x106939['data_type']()),_0x38cb47?new Uint16Array(_0x467ff2['indices']):new Uint32Array(_0x467ff2['indices']));for(let _0x197618=-0x13e7+0xa5b+0x98c;_0x197618<_0x28c34d['num_points']();++_0x197618)for(let _0xa11738=-0xe3*0x25+0x2639+-0x1ce*0x3;_0xa11738<0x1502*0x1+0x7*-0x47f+0xa83;++_0xa11738)_0x55c7d6[_0x197618*_0xad9280+_0x4512f6+_0xa11738]=_0x3c8dcc[_0x197618*(-0x14b*0x11+0x274*-0x1+-0x187b*-0x1)+_0xa11738];}_0x4dee3b['_free'](_0x32b9c8);}return _0x4dee3b['destroy'](_0x28c34d),_0x4dee3b['destroy'](_0x176065),_0x4dee3b['destroy'](_0x4fd458),_0x467ff2;},_0x44345e=_0x5a3788=>{const _0x2c89e2=_0x46ffb5(new Uint8Array(_0x5a3788['buffer']));self['postMessag'+'e']({'jobId':_0x5a3788['jobId'],'error':_0x2c89e2['error'],'indices':_0x2c89e2['indices'],'vertices':_0x2c89e2['vertices'],'attributes':_0x2c89e2['attributes']},[_0x2c89e2['indices'],_0x2c89e2['vertices']]['filter'](_0x4cf8fc=>_0x4cf8fc!=null));},_0x1250c2=[];self['onmessage']=_0x11782d=>{const _0x3210ed=_0x11782d['data'];switch(_0x3210ed['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0xbf38e2,_0x226b69)=>(WebAssembly['instantiat'+'e'](_0x3210ed['module'],_0xbf38e2)['then'](_0x3a7631=>_0x226b69(_0x3a7631))['catch'](_0x1ded6a=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x1ded6a)),{})})['then'](_0x22996d=>{_0x4dee3b=_0x22996d,_0x1250c2['forEach'](_0x1f618d=>_0x44345e(_0x1f618d));});break;case'decodeMesh':_0x4dee3b?_0x44345e(_0x3210ed):_0x1250c2['push'](_0x3210ed);break;}};}const _S=0x731+0x17*0x85+0x3b*-0x53;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x12*-0x170+0x6a*-0x40+0x1a3*0x20,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x9abdd6,_0x177a1e)=>{_0x9abdd6['postMessag'+'e']({'type':'decodeMesh','jobId':_0x177a1e['jobId'],'buffer':_0x177a1e['buffer']},[_0x177a1e['buffer']]);};}['init'](_0x6d053d){for(_0x6d053d['forEach'](_0x5a5494=>{_0x5a5494['addEventLi'+'stener']('message',_0x3a5715=>{const _0x3def5a=_0x3a5715['data'],_0x44117b=this['jobCallbac'+'ks']['get'](_0x3def5a['jobId']);if(_0x44117b&&_0x44117b(_0x3def5a['error'],{'indices':_0x3def5a['indices'],'vertices':_0x3def5a['vertices'],'attributes':_0x3def5a['attributes']}),this['jobCallbac'+'ks']['delete'](_0x3def5a['jobId']),this['jobQueue']['length']>0x969+0x1*-0x1fa7+0x163e){const _0x4b4743=this['jobQueue']['shift']();this['run'](_0x5a5494,_0x4b4743);}else{const _0x54c281=this['workers'][0xf7f*0x2+-0xb2a*-0x3+-0x407a]['indexOf'](_0x5a5494);if(_0x54c281!==-(-0xca8+0xd44+-0x9b))this['workers'][-0x2*0x46e+-0x3f1*0x3+-0x1*-0x14b1]['splice'](_0x54c281,-0x9d3*-0x1+0x4*0x7b3+-0x144f*0x2),this['workers'][0xfd5+0xb*0x221+-0x273f]['push'](_0x5a5494);else{const _0x17bde7=this['workers'][-0x8da+0x1c3e+0x1363*-0x1]['indexOf'](_0x5a5494);_0x17bde7!==-(-0x1fc9+-0x22e7+0x987*0x7)?(this['workers'][-0x557*-0x7+0x17b9+-0x3d19]['splice'](_0x17bde7,0xf2d+-0x1*-0x1609+-0x2535),this['workers'][0x1db9+-0x1*-0xdd2+-0x9d*0x47]['push'](_0x5a5494)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x903*-0x2+0x15d*-0x7+0x1b91]=_0x6d053d;this['jobQueue']['length']&&(this['workers'][0x1*-0x14f+0x2137+-0x3fd*0x8]['length']||this['workers'][-0x2237+0xa3*0xb+0x1b37]['length']);){const _0x1c56bf=this['jobQueue']['shift']();if(this['workers'][0x2*-0x829+0x52*-0xf+-0x34*-0x68]['length']>-0x5*0x36d+0x317*0x1+0xe0a){const _0x2b9860=this['workers'][-0xc*0x162+0x20aa+-0x1012]['shift']();this['workers'][-0x11a5*0x2+0x373*0xb+-0x2a6]['push'](_0x2b9860),this['run'](_0x2b9860,_0x1c56bf);}else{const _0x52cd83=this['workers'][-0x716+-0xbb3*-0x2+-0x104f]['shift']();this['workers'][-0x5b8+0x655+0x1*-0x9b]['push'](_0x52cd83),this['run'](_0x52cd83,_0x1c56bf);}}}['enqueueJob'](_0x4b3d75,_0x5a1aa2){const _0x77d8e3={'jobId':this['jobId']++,'buffer':_0x4b3d75};if(this['jobCallbac'+'ks']['set'](_0x77d8e3['jobId'],_0x5a1aa2),this['workers'][0x12f3+-0x1a22*-0x1+-0x2d15]['length']>-0x1690*-0x1+0x1*0x2216+-0x6*0x971){const _0x19af11=this['workers'][0x11c6+-0x1d58+-0xb92*-0x1]['shift']();this['workers'][-0x3d3+0x14cf+-0x10fb]['push'](_0x19af11),this['run'](_0x19af11,_0x77d8e3);}else{if(this['workers'][-0x1882+-0x22bd+0xc0*0x4f]['length']>0x12e1+-0x2344+0x1063){const _0x13c717=this['workers'][-0x15f6+0x14*-0xce+0x260f]['shift']();this['workers'][0x1edd*-0x1+-0x4d*0x5b+0x3a3e]['push'](_0x13c717),this['run'](_0x13c717,_0x77d8e3);}else this['jobQueue']['push'](_0x77d8e3);}}}const HF=_0x5be6fc=>new Promise((_0x188ca0,_0x910a1f)=>{const _0x2b66ca={'cache':!(0x1df1+-0x14*-0x37+0x223d*-0x1),'responseType':'text','retry':_S>0x34e*-0x5+-0x1e5c*-0x1+0xdd6*-0x1,'maxRetries':_S};ot['get'](_0x5be6fc,_0x2b66ca,(_0x294d87,_0x3123f9)=>{_0x294d87?_0x910a1f(_0x294d87):_0x188ca0(_0x3123f9);});}),WF=_0x3a2c83=>{const _0x5855b7=()=>fetch(_0x3a2c83)['then'](_0x2e92c9=>_0x2e92c9['arrayBuffe'+'r']())['then'](_0x2c5c3=>WebAssembly['compile'](_0x2c5c3)),_0x19f207=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x3a2c83))['catch'](_0xfafa7e=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3a2c83+'\x20('+_0xfafa7e+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5855b7()));return WebAssembly['compileStr'+'eaming']?_0x19f207():_0x5855b7();},gS=-0x1ae1*-0x1+-0x7*0x36e+-0x16f*0x2;let ih;const $F=_0x10c73d=>{if(ih)return!(0xa3*0x21+-0x9*0x305+-0x2*-0x315);if(!_0x10c73d){const _0x16193b=YS['getConfig']('DracoDecod'+'erModule');_0x16193b?_0x10c73d={'jsUrl':_0x16193b['glueUrl'],'wasmUrl':_0x16193b['wasmUrl'],'numWorkers':_0x16193b['numWorkers']}:_0x10c73d={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x10c73d['jsUrl']||!_0x10c73d['wasmUrl']?!(0x21f9+0xe42+-0x303a):(ih=new GF(),Promise['all']([HF(_0x10c73d['jsUrl']),WF(_0x10c73d['wasmUrl'])])['then'](([_0x4289d7,_0xfa6aef])=>{const _0x595e5f=['/*\x20draco\x20*'+'/',_0x4289d7,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x15f51c=new Blob([_0x595e5f],{'type':'applicatio'+'n/javascri'+'pt'}),_0x2b813f=URL['createObje'+'ctURL'](_0x15f51c),_0x5667fe=Math['max'](0x19d6+0x23a0+-0x3d75,Math['min'](-0x1fcd+0xd59+0x1284,_0x10c73d['numWorkers']||gS)),_0x32265b=[];for(let _0x517371=-0x1*0xd87+0x1a7a+-0xcf3;_0x517371<_0x5667fe;++_0x517371){const _0x52e6e0=new Worker(_0x2b813f);_0x52e6e0['postMessag'+'e']({'type':'init','module':_0xfa6aef}),_0x32265b['push'](_0x52e6e0);}ih['init'](_0x32265b);}),!(-0x1b99+0x1db6*0x1+-0x21d));},XF=(_0x4c17e9,_0x28e970)=>$F()?(ih['enqueueJob'](_0x4c17e9,_0x28e970),!(0xb*0x20f+-0x11*0x21c+-0xd37*-0x1)):!(0x1a91+-0x1*0x437+-0x773*0x3);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2c0793=>{_0x2c0793['meshes']=null;});}}const x0=_0x5c982e=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x5c982e),jF=_0x5e0652=>_0x5e0652['substring'](_0x5e0652['indexOf'](':')+(-0x182c+0x107*-0xb+-0x26*-0xef),_0x5e0652['indexOf'](';')),yl=_0x516fa7=>{switch(_0x516fa7){case'SCALAR':return 0x215c+-0x7b8+-0x19a3;case'VEC2':return 0x34a*0x3+0x26*0x101+0x1801*-0x2;case'VEC3':return-0x10bd+-0x94e*-0x1+0x2*0x3b9;case'VEC4':return-0x1cc5+0x1bb9+0x2*0x88;case'MAT2':return 0x1202+0x25f7+-0x37f5;case'MAT3':return-0xd27+-0x5*0x3ef+-0x20db*-0x1;case'MAT4':return 0x11fe+-0xec3+0x32b*-0x1;default:return-0xda9*0x1+-0x1*-0x1034+-0x288;}},Dd=_0x1acde3=>{switch(_0x1acde3){case 0x8a5*0x3+0xc26+-0x1215:return dd;case 0x41*0x43+-0x1*0xb3e+0xe3c:return la;case 0x2625+-0x18c7+0x154*0x5:return fd;case 0x808+0x15b*-0x1+0xd56:return Ml;case 0x1f71+-0x16e0+0xb73:return Ty;case-0x13b5+0xbbf+0x1bfb:return el;case-0x2783+-0x5c1+0x414a:return Ve;default:return 0x35*0xb5+-0x2601*-0x1+-0x4b7a;}},YF=_0x34488a=>{switch(_0x34488a){case 0x2700+0x24a7+0x37a7*-0x1:return 0x2*0x7e0+-0x1317+-0x1ac*-0x2;case 0x1e6+0x19e9+0x1b*-0x4a:return 0xf52*0x1+-0x1ce8+0xd97;case-0x206e+-0x12a2+0x676*0xb:return-0x1*0x182+0x5*-0x47f+-0x1*-0x17ff;case 0x1333*-0x1+0x1*0x7c2+0x1f74:return 0x91*-0x4+0x2*0x4d7+-0x8*0xed;case 0xf3a+0x2249*-0x1+0x2713:return 0x4d4*0x4+-0x304*0x8+0x4d4;case-0x1b3b*-0x1+-0x3*-0xd+-0x91*0xd:return 0x261a+-0x2591+-0x7*0x13;case 0x2*0x121f+0x22db+-0x3313*0x1:return 0x7ed*0x2+-0xeb9+-0x11d;default:return 0xb1a+0x5*-0x74f+0x1f5*0xd;}},KF=_0x1dec30=>{switch(_0x1dec30){case 0x97*0xc+0x9bd*-0x1+0x16a9:return Int8Array;case 0x5*0x3+-0x460+-0x236*-0xb:return Uint8Array;case-0x22ea+-0x1e74+0x5560:return Int16Array;case 0xe08+0x5da+0x21:return Uint16Array;case 0xe28+0x1136*0x1+-0x2*0x5ad:return Int32Array;case-0xd4*-0x19+-0x19*0x189+0x2*0x12d9:return Uint32Array;case-0x1c83*-0x1+0x610+-0xe8d:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x11d0+0x8c5+-0x1a95,[gs]:-0x1d47+0x12*0x11b+0x4b1*0x2,[yi]:0xd3*-0x2+-0x1cac+-0x3*-0xa1c,[Wt]:0xef6+0x755+-0x4*0x592,[us]:0x12f7+-0x7*0x13a+-0xa5d,[gi]:-0x17*0x6+-0xc80+0xd0f,[is]:-0x15d*0xe+0x8b*0x29+-0x327,[ba]:-0x512*-0x2+-0xdbe+-0x3a1*-0x1,[wl]:-0x23a5+-0xa2f+-0xb77*-0x4,[El]:0x511*0x5+0x19da+-0x3326,[bl]:0x1b9f+0x1*-0x404+0x7db*-0x3,[Al]:0x17c7+0x100*-0x10+-0xc6*0xa,[Cl]:0x103d*0x1+-0x2*0x878+-0x1*-0xbf,[Pl]:-0x1d*-0x8c+0x3e*-0x6a+0x9dd},ZF=_0x232fbf=>{switch(_0x232fbf){case dd:return _0x5c0c50=>Math['max'](_0x5c0c50/(0x1*-0x747+0xb*-0xb5+0x3*0x52f),-(0x2dd*-0x6+-0x1fd7+0x3106));case la:return _0x5cbef3=>_0x5cbef3/(-0x914*-0x4+0x1f62+0x2ab*-0x19);case fd:return _0x4c338e=>Math['max'](_0x4c338e/(-0x6*0x6bd+0x79b5+0x8*0x5d7),-(0x10*0x28+-0x2a9*0x1+0x2a*0x1));case Ml:return _0x4dbf84=>_0x4dbf84/(-0x101d1+-0x1db4b+0x3dd1b);default:return _0xcf2e29=>_0xcf2e29;}},Gu=(_0x394441,_0x152bc6,_0x182a91)=>{const _0x203d4c=ZF(_0x182a91),_0x3be26e=_0x152bc6['length'];for(let _0x2b1064=0x1*0x2443+-0x5c7*0x1+-0x1e7c;_0x2b1064<_0x3be26e;++_0x2b1064)_0x394441[_0x2b1064]=_0x203d4c(_0x152bc6[_0x2b1064]);return _0x394441;},ua=(_0x1d2c49,_0xe07e84,_0x4d1405=!(0x1405+-0x1c9*0x7+0x7*-0x113))=>{const _0x44cb9e=yl(_0x1d2c49['type']),_0x2fa188=KF(_0x1d2c49['componentT'+'ype']);if(!_0x2fa188)return null;let _0x2c0bb5;if(_0x1d2c49['sparse']){const _0x2eeb80=_0x1d2c49['sparse'],_0x8b4dcc={'count':_0x2eeb80['count'],'type':'SCALAR'},_0x995291=ua(Object['assign'](_0x8b4dcc,_0x2eeb80['indices']),_0xe07e84,!(-0x1b6f+-0xe63+0x65*0x6a)),_0x2ce882={'count':_0x2eeb80['count'],'type':_0x1d2c49['type'],'componentType':_0x1d2c49['componentT'+'ype']},_0x48adb4=ua(Object['assign'](_0x2ce882,_0x2eeb80['values']),_0xe07e84,!(-0xf1*0x1+0xd4e+0x279*-0x5));if(_0x1d2c49['hasOwnProp'+'erty']('bufferView')){const _0x5c9b65={'bufferView':_0x1d2c49['bufferView'],'byteOffset':_0x1d2c49['byteOffset'],'componentType':_0x1d2c49['componentT'+'ype'],'count':_0x1d2c49['count'],'type':_0x1d2c49['type']};_0x2c0bb5=ua(_0x5c9b65,_0xe07e84,!(-0xd3c+-0x224e+-0x2*-0x17c5))['slice']();}else _0x2c0bb5=new _0x2fa188(_0x1d2c49['count']*_0x44cb9e);for(let _0x30c44c=0xa5*0x2b+0x273*0x3+-0x2310;_0x30c44c<_0x2eeb80['count'];++_0x30c44c){const _0x3b13e9=_0x995291[_0x30c44c];for(let _0x9473bb=-0x1062+0x1*-0x29b+-0x12fd*-0x1;_0x9473bb<_0x44cb9e;++_0x9473bb)_0x2c0bb5[_0x3b13e9*_0x44cb9e+_0x9473bb]=_0x48adb4[_0x30c44c*_0x44cb9e+_0x9473bb];}}else{if(_0x1d2c49['hasOwnProp'+'erty']('bufferView')){const _0x590431=_0xe07e84[_0x1d2c49['bufferView']];if(_0x4d1405&&_0x590431['hasOwnProp'+'erty']('byteStride')){const _0x49d23b=_0x44cb9e*_0x2fa188['BYTES_PER_'+'ELEMENT'],_0xfbbdc1=new ArrayBuffer(_0x1d2c49['count']*_0x49d23b),_0x14cb09=new Uint8Array(_0xfbbdc1);let _0x485e83=0x1fea+0x57d+0x1*-0x2567;for(let _0x1abba6=-0x14c0+0x5*0x29d+0x7af;_0x1abba6<_0x1d2c49['count'];++_0x1abba6){let _0x5bd17e=(_0x1d2c49['byteOffset']||-0x1273+0x1fc2+-0xd4f*0x1)+_0x1abba6*_0x590431['byteStride'];for(let _0x26dbc5=0x20a0+0x10bf*-0x2+0xde;_0x26dbc5<_0x49d23b;++_0x26dbc5)_0x14cb09[_0x485e83++]=_0x590431[_0x5bd17e++];}_0x2c0bb5=new _0x2fa188(_0xfbbdc1);}else _0x2c0bb5=new _0x2fa188(_0x590431['buffer'],_0x590431['byteOffset']+(_0x1d2c49['byteOffset']||-0xf2c*-0x1+0x3*0x763+0x2555*-0x1),_0x1d2c49['count']*_0x44cb9e);}else _0x2c0bb5=new _0x2fa188(_0x1d2c49['count']*_0x44cb9e);}return _0x2c0bb5;},Pn=(_0x3f179e,_0x558b5a)=>{const _0x27aa46=ua(_0x3f179e,_0x558b5a,!(-0xa*-0x211+-0xfa9+-0x501));if(_0x27aa46 instanceof Float32Array||!_0x3f179e['normalized'])return _0x27aa46;const _0x55235c=new Float32Array(_0x27aa46['length']);return Gu(_0x55235c,_0x27aa46,Dd(_0x3f179e['componentT'+'ype'])),_0x55235c;},Hu=_0x208a7e=>{let _0x5a4026=_0x208a7e['min'],_0x4f3b7d=_0x208a7e['max'];if(!_0x5a4026||!_0x4f3b7d)return null;if(_0x208a7e['normalized']){const _0x51debd=Dd(_0x208a7e['componentT'+'ype']);_0x5a4026=Gu([],_0x5a4026,_0x51debd),_0x4f3b7d=Gu([],_0x4f3b7d,_0x51debd);}return new De(new D((_0x4f3b7d[0x17c1+0x2*-0x5e2+-0xbfd]+_0x5a4026[-0x2*-0x4b3+-0x193*-0xb+-0x1ab7])*(-0x181*-0x6+-0x191f+0x1019+0.5),(_0x4f3b7d[-0x12c6+0x11fb+0xcc]+_0x5a4026[-0x2034*0x1+0x1d*0x20+0x1c95])*(-0x8e0+0x250c*0x1+-0x4*0x70b+0.5),(_0x4f3b7d[0x1067+0xe68*-0x2+0xc6b*0x1]+_0x5a4026[0x1b2c+-0x1fad+0x483])*(-0x1f7+0x1*0x5b9+0x1a*-0x25+0.5)),new D((_0x4f3b7d[-0x2447+0x2*0x10c3+0x2c1]-_0x5a4026[-0x26*0x1d+-0x34c+-0x2*-0x3cd])*(-0x22c9+0x104e+0x1*0x127b+0.5),(_0x4f3b7d[-0xd*0x83+0x6f1*0x1+-0x49]-_0x5a4026[-0x1ca*-0x15+-0x7b*-0x1+-0x260c])*(-0xb*0xf+0x2*0xb+0x8f+0.5),(_0x4f3b7d[-0x1eea+-0x48*0x6b+0x3d04]-_0x5a4026[-0x1*-0x206c+0x1b75+0xd*-0x49b])*(-0x2204+0x1d45+0x4bf+0.5)));},T0=_0x43a495=>{if(!_0x43a495['hasOwnProp'+'erty']('mode'))return js;switch(_0x43a495['mode']){case-0x21c4+0x9*-0xa3+0x277f:return cd;case-0xe92+-0x49*-0x29+0x2e2:return hd;case-0x19d2+-0xad5+-0x1*-0x24a9:return _y;case-0x2495+0x2*0xe37+0x82a:return gy;case 0x25f3+0x5*-0x63b+-0x6c8:return js;case 0x544+-0x8*-0x2ef+-0x1cb7:return Er;case-0xd41+-0x2c*-0x8b+0x13*-0x8f:return oa;default:return js;}},QF=_0x2ad29b=>{const _0x1a4abc=new Uint16Array(_0x2ad29b);for(let _0x39f446=0x301*0xb+-0x35*0xaf+-0x66*-0x8;_0x39f446<_0x2ad29b;_0x39f446++)_0x1a4abc[_0x39f446]=_0x39f446;return _0x1a4abc;},JF=(_0x4298ac,_0x28e999)=>{const _0x38b1fd=_0x4298ac[Me];if(!_0x38b1fd||_0x38b1fd['components']!==-0x1*0x142f+0x165e+-0x22c)return;let _0x19805f;if(_0x38b1fd['size']!==_0x38b1fd['stride']){const _0x67f376=_0x38b1fd['stride']/No[_0x38b1fd['type']],_0x127590=new wn[_0x38b1fd['type']](_0x38b1fd['buffer'],_0x38b1fd['offset'],_0x38b1fd['count']*_0x67f376);_0x19805f=new wn[_0x38b1fd['type']](_0x38b1fd['count']*(0x10*-0x10f+-0x1*0x419+0x150c*0x1));for(let _0x4a048a=0xd7e+0x240f+-0x318d;_0x4a048a<_0x38b1fd['count'];++_0x4a048a)_0x19805f[_0x4a048a*(-0x29*-0x5c+-0x52*0x5d+0xf11)+(-0x7b*-0x3b+0x11b9+0x1*-0x2e12)]=_0x127590[_0x4a048a*_0x67f376+(-0x232d*0x1+0x116c+0x11c1)],_0x19805f[_0x4a048a*(0x1d0a+-0x1b*-0x56+-0x2619)+(0x1aba+-0x1050+-0xd*0xcd)]=_0x127590[_0x4a048a*_0x67f376+(0x5*-0x287+-0x6*-0x38f+-0x8b6)],_0x19805f[_0x4a048a*(0x55c+0x1*-0x101f+0x7*0x18a)+(0x1*-0xd81+-0x1f79*-0x1+-0x16*0xd1)]=_0x127590[_0x4a048a*_0x67f376+(0x7d3*-0x2+0xb6*0xd+-0x2*-0x335)];}else _0x19805f=new wn[_0x38b1fd['type']](_0x38b1fd['buffer'],_0x38b1fd['offset'],_0x38b1fd['count']*(-0x7eb*0x4+0x49*0x22+0x15fd));const _0x3b8e3c=_0x38b1fd['count'];_0x28e999||(_0x28e999=QF(_0x3b8e3c));const _0x249f7c=Iv(_0x19805f,_0x28e999),_0x194203=new Float32Array(_0x249f7c['length']);_0x194203['set'](_0x249f7c),_0x4298ac[gs]={'buffer':_0x194203['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x3b8e3c,'components':0x3,'type':Ve};},eN=_0x29349a=>{const _0x4bbdbd=_0x3a8b99=>{const _0x9f04e1=[];for(let _0x46f509=-0xa1*0x21+-0x73*0x1d+0x1*0x21c8;_0x46f509<_0x3a8b99['_levels']['length'];++_0x46f509){let _0x3204aa=[];if(_0x3a8b99['cubemap']){for(let _0x1746e2=0x5f*-0x67+0x969+0x1cd0;_0x1746e2<-0x125b+0x1*0x23ef+0x1*-0x118e;++_0x1746e2)_0x3204aa['push'](_0x3a8b99['_levels'][_0x46f509][_0x1746e2]);}else _0x3204aa=_0x3a8b99['_levels'][_0x46f509];_0x9f04e1['push'](_0x3204aa);}return _0x9f04e1;},_0x244a77=new _e(_0x29349a['device'],_0x29349a);return _0x244a77['_levels']=_0x4bbdbd(_0x29349a),_0x244a77;},tN=_0x5d7476=>{const _0x42de65=new pe(_0x5d7476['name']+'_clone',_0x5d7476['type'],_0x5d7476['file'],_0x5d7476['data'],_0x5d7476['options']);return _0x42de65['loaded']=!(-0x1459*0x1+-0x1845+0x1*0x2c9e),_0x42de65['resource']=eN(_0x5d7476['resource']),_0x5d7476['registry']['add'](_0x42de65),_0x42de65;},sN=(_0x1477b1,_0x327882)=>{const _0x2888bb=_0x327882[Me];if(!_0x2888bb)return null;const _0x13de71=_0x2888bb['count'],_0x3d36e4=[];for(const _0x450358 in _0x327882)if(_0x327882['hasOwnProp'+'erty'](_0x450358)){const _0x186d13={'semantic':_0x450358,'components':_0x327882[_0x450358]['components'],'type':_0x327882[_0x450358]['type'],'normalize':!!_0x327882[_0x450358]['normalize']};kt['isElementV'+'alid'](_0x1477b1,_0x186d13)||_0x186d13['components']++,_0x3d36e4['push'](_0x186d13);}_0x3d36e4['sort']((_0x435958,_0x51332f)=>SS[_0x435958['semantic']]-SS[_0x51332f['semantic']]);let _0x40008e,_0x3f948b,_0x17a824,_0x2e2421,_0x3829ec,_0x1e8551;const _0x4ccb99=new kt(_0x1477b1,_0x3d36e4);let _0x41cdc4=!(0x1*-0x1dae+-0x247*-0x1+-0x131*-0x17);for(_0x40008e=0x60f+0x6*-0x3e1+0x1*0x1137;_0x40008e<_0x4ccb99['elements']['length'];++_0x40008e)if(_0x3829ec=_0x4ccb99['elements'][_0x40008e],_0x2e2421=_0x327882[_0x3829ec['name']],_0x1e8551=_0x2e2421['offset']-_0x2888bb['offset'],_0x2e2421['buffer']!==_0x2888bb['buffer']||_0x2e2421['stride']!==_0x3829ec['stride']||_0x2e2421['size']!==_0x3829ec['size']||_0x1e8551!==_0x3829ec['offset']){_0x41cdc4=!(-0x710+-0x1f44+-0x2655*-0x1);break;}const _0x57bf7f=new Is(_0x1477b1,_0x4ccb99,_0x13de71),_0x5877e7=_0x57bf7f['lock'](),_0x15b6d7=new Uint32Array(_0x5877e7);let _0x5f30ad;if(_0x41cdc4)_0x5f30ad=new Uint32Array(_0x2888bb['buffer'],_0x2888bb['offset'],_0x13de71*_0x57bf7f['format']['size']/(-0x1d00+0x3*0x815+-0x3*-0x197)),_0x15b6d7['set'](_0x5f30ad);else{let _0x4536e3,_0x14342e;for(_0x40008e=-0x17f2+0xacf*0x3+-0x87b;_0x40008e<_0x57bf7f['format']['elements']['length'];++_0x40008e){_0x3829ec=_0x57bf7f['format']['elements'][_0x40008e],_0x4536e3=_0x3829ec['stride']/(-0xc93+-0x2*0x879+0x1*0x1d89),_0x2e2421=_0x327882[_0x3829ec['name']],_0x14342e=_0x2e2421['stride']/(0x25cc+0x2*0x1ff+-0x2*0x14e3),_0x5f30ad=new Uint32Array(_0x2e2421['buffer'],_0x2e2421['offset'],(_0x2e2421['count']-(0x1c23+-0x15f0+-0x632))*_0x14342e+(_0x2e2421['size']+(-0x6be+0x1efd+-0x183c))/(-0x249c+0xe08+0x1698));let _0x40ea37=0x26dc+-0x5f*0x57+0x99*-0xb,_0x349205=_0x3829ec['offset']/(0x118f+-0x3*0x5bd+-0x54);const _0x56c47a=Math['floor']((_0x2e2421['size']+(0x1392+0x1d6b+0x2*-0x187d))/(-0x1*-0xc9+-0x20e5+0x2020));for(_0x3f948b=0x503*-0x4+-0x1c75*0x1+-0x1*-0x3081;_0x3f948b<_0x13de71;++_0x3f948b){for(_0x17a824=0x15f*0x2+-0x1b*-0x123+-0x216f;_0x17a824<_0x56c47a;++_0x17a824)_0x15b6d7[_0x349205+_0x17a824]=_0x5f30ad[_0x40ea37+_0x17a824];_0x40ea37+=_0x14342e,_0x349205+=_0x4536e3;}}}return _0x57bf7f['unlock'](),_0x57bf7f;},iN=(_0x223793,_0x4c9f3b,_0xa273b1,_0x3940db,_0x22e609,_0x335536)=>{const _0x3357cc={},_0xbd9715=[];for(const _0x23765b in _0x4c9f3b)_0x4c9f3b['hasOwnProp'+'erty'](_0x23765b)&&Nh['hasOwnProp'+'erty'](_0x23765b)&&(_0x3357cc[_0x23765b]=_0x4c9f3b[_0x23765b],_0xbd9715['push'](_0x23765b+':'+_0x4c9f3b[_0x23765b]));_0xbd9715['sort']();const _0x2eae46=_0xbd9715['join']();let _0x375e6c=_0x335536[_0x2eae46];if(!_0x375e6c){const _0x42e707={};for(const _0x5afe68 in _0x3357cc){const _0xd08ec7=_0x3940db[_0x4c9f3b[_0x5afe68]],_0x322e7c=ua(_0xd08ec7,_0x22e609),_0x1e850c=_0x22e609[_0xd08ec7['bufferView']],_0x8cbf16=Nh[_0x5afe68],_0x55341b=yl(_0xd08ec7['type'])*YF(_0xd08ec7['componentT'+'ype']),_0x4db1b1=_0x1e850c&&_0x1e850c['hasOwnProp'+'erty']('byteStride')?_0x1e850c['byteStride']:_0x55341b;_0x42e707[_0x8cbf16]={'buffer':_0x322e7c['buffer'],'size':_0x55341b,'offset':_0x322e7c['byteOffset'],'stride':_0x4db1b1,'count':_0xd08ec7['count'],'components':yl(_0xd08ec7['type']),'type':Dd(_0xd08ec7['componentT'+'ype']),'normalize':_0xd08ec7['normalized']};}_0x42e707['hasOwnProp'+'erty'](gs)||JF(_0x42e707,_0xa273b1),_0x375e6c=sN(_0x223793,_0x42e707),_0x335536[_0x2eae46]=_0x375e6c;}return _0x375e6c;},rN=(_0xdafe76,_0x4128f1,_0x2a9b8e,_0x430b2d,_0x77b50d,_0x58e7fe)=>{let _0x1e7204,_0x4707c2,_0x4a96d6;const _0x3a401e=_0x4128f1['joints'],_0x7b7cc6=_0x3a401e['length'],_0x26538a=[];if(_0x4128f1['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x5b36fe=_0x4128f1['inverseBin'+'dMatrices'],_0xca4bf2=ua(_0x2a9b8e[_0x5b36fe],_0x430b2d,!(-0x22bf+-0x4*-0x5aa+0xc17)),_0x409c92=[];for(_0x1e7204=0x1*0x1772+-0xb15*0x3+0x9cd;_0x1e7204<_0x7b7cc6;_0x1e7204++){for(_0x4707c2=0x1*0xdd5+-0x29b*-0x3+-0x15a6*0x1;_0x4707c2<-0x1*-0x24c9+-0x16a2+0x1*-0xe17;_0x4707c2++)_0x409c92[_0x4707c2]=_0xca4bf2[_0x1e7204*(-0xbed+0x1*0x4b5+-0x4*-0x1d2)+_0x4707c2];_0x4a96d6=new te(),_0x4a96d6['set'](_0x409c92),_0x26538a['push'](_0x4a96d6);}}else{for(_0x1e7204=0x335*0x1+0x2a2+-0x1*0x5d7;_0x1e7204<_0x7b7cc6;_0x1e7204++)_0x4a96d6=new te(),_0x26538a['push'](_0x4a96d6);}const _0x53799a=[];for(_0x1e7204=-0xcd*-0x13+0x1481+-0x477*0x8;_0x1e7204<_0x7b7cc6;_0x1e7204++)_0x53799a[_0x1e7204]=_0x77b50d[_0x3a401e[_0x1e7204]]['name'];const _0x27d042=_0x53799a['join']('#');let _0x4e11d2=_0x58e7fe['get'](_0x27d042);return _0x4e11d2||(_0x4e11d2=new Lv(_0xdafe76,_0x26538a,_0x53799a),_0x58e7fe['set'](_0x27d042,_0x4e11d2)),_0x4e11d2;},aN=(_0x1f00ca,_0x13cba6,_0x43c455,_0x26683f,_0x4a1985,_0x36885e,_0x402baf)=>{var _0x241028;const _0x260779=new Ge(_0x1f00ca);_0x260779['aabb']=Hu(_0x43c455[_0x13cba6['attributes']['POSITION']]);const _0x552ddd=[];for(const [_0x3a4f2c,_0x20f75a]of Object['entries'](_0x13cba6['attributes'])){const _0x37bb77=_0x43c455[_0x20f75a],_0x2906e8=Nh[_0x3a4f2c],_0x311d8d=Dd(_0x37bb77['componentT'+'ype']);_0x552ddd['push']({'semantic':_0x2906e8,'components':yl(_0x37bb77['type']),'type':_0x311d8d,'normalize':_0x37bb77['normalized']??(_0x2906e8===Wt&&(_0x311d8d===la||_0x311d8d===Ml))});}if(_0x402baf['push'](new Promise((_0xcdc04a,_0x2d3299)=>{const _0x4f7924=_0x13cba6['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x26683f[_0x4f7924['bufferView']]['slice']()['buffer'],(_0x10a944,_0x8620be)=>{var _0x31c19c;if(_0x10a944)console['log'](_0x10a944),_0x2d3299(_0x10a944);else{const _0x47e17d={};for(const [_0x103897,_0x129041]of Object['entries'](_0x4f7924['attributes']))_0x47e17d[Nh[_0x103897]]=_0x8620be['attributes']['indexOf'](_0x129041);_0x552ddd['sort']((_0x388428,_0x3238e5)=>_0x47e17d[_0x388428['semantic']]-_0x47e17d[_0x3238e5['semantic']]),(_0x31c19c=_0x13cba6['attributes'])!=null&&_0x31c19c['NORMAL']||_0x552ddd['splice'](0x1a0f+-0x8*0x1c1+-0xc06,-0x13a*0xe+-0x891*0x1+-0x1*-0x19bd,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x205def=new kt(_0x1f00ca,_0x552ddd),_0x4757a4=_0x8620be['vertices']['byteLength']/_0x205def['size'],_0x3f182d=_0x4757a4<=0x1a4e8+-0x27*-0xd13+-0x2a2ce?Yi:wr,_0x5af343=_0x8620be['indices']['byteLength']/(_0x4757a4<=-0x1cf*-0x10f+-0x11a8d+0x306b?-0x11c7+-0x2533+0x36fc:-0x23e3+0x2*0x95+0x22bd);w['call'](()=>{_0x4757a4!==_0x43c455[_0x13cba6['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x5af343!==_0x43c455[_0x13cba6['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x436e0c=new Is(_0x1f00ca,_0x205def,_0x4757a4,{'data':_0x8620be['vertices']}),_0x190e99=new br(_0x1f00ca,_0x3f182d,_0x5af343,ms,_0x8620be['indices']);_0x260779['vertexBuff'+'er']=_0x436e0c,_0x260779['indexBuffe'+'r'][-0x1517+-0x185+0x169c]=_0x190e99,_0x260779['primitive'][-0x213+-0x270a+-0x5*-0x839]['type']=T0(_0x13cba6),_0x260779['primitive'][-0x1*0x3e1+0x1cd3+-0x18f2]['base']=0xcb*0x13+0x1321+-0x2232,_0x260779['primitive'][0xcfa*0x1+-0x26c7+0x19cd]['count']=_0x190e99?_0x5af343:_0x4757a4,_0x260779['primitive'][-0x95*0x28+0xcd0+0xa78]['indexed']=!!_0x190e99,_0xcdc04a();}});})),(_0x241028=_0x13cba6==null?void(-0xe9*-0x9+0x26ec+-0x6bb*0x7):_0x13cba6['extensions'])!=null&&_0x241028['KHR_materi'+'als_varian'+'ts']){const _0x5c9b4f=_0x13cba6['extensions']['KHR_materi'+'als_varian'+'ts'],_0x5d315e={};_0x5c9b4f['mappings']['forEach'](_0x2dcc53=>{_0x2dcc53['variants']['forEach'](_0x4731bc=>{_0x5d315e[_0x4731bc]=_0x2dcc53['material'];});}),_0x4a1985[_0x260779['id']]=_0x5d315e;}return _0x36885e[_0x260779['id']]=_0x13cba6['material'],_0x260779;},nN=(_0x8bb83b,_0xa145b1,_0x496b1c,_0x33a169,_0x1e2f6a,_0x43d3a3,_0x4aa06f,_0x37b8a3,_0x4f07a1)=>{const _0x2ea945=[];return _0xa145b1['primitives']['forEach'](_0x2f415c=>{var _0x5c9977;if((_0x5c9977=_0x2f415c['extensions'])!=null&&_0x5c9977['KHR_draco_'+'mesh_compr'+'ession'])_0x2ea945['push'](aN(_0x8bb83b,_0x2f415c,_0x496b1c,_0x33a169,_0x43d3a3,_0x4aa06f,_0x4f07a1));else{let _0x359293=_0x2f415c['hasOwnProp'+'erty']('indices')?ua(_0x496b1c[_0x2f415c['indices']],_0x33a169,!(0x157*-0x1b+0x1706+0x5b*0x25)):null;const _0x3294e7=iN(_0x8bb83b,_0x2f415c['attributes'],_0x359293,_0x496b1c,_0x33a169,_0x1e2f6a),_0x50e901=T0(_0x2f415c),_0x23428c=new Ge(_0x8bb83b);if(_0x23428c['vertexBuff'+'er']=_0x3294e7,_0x23428c['primitive'][0x224a+0x1ed3+-0x411d]['type']=_0x50e901,_0x23428c['primitive'][0x39a*-0x4+0x1bc4+-0xd5c]['base']=-0xecf+0x1f6*0x10+0x1*-0x1091,_0x23428c['primitive'][-0x9d*0x16+0x1c39*0x1+-0xebb]['indexed']=_0x359293!==null,_0x359293!==null){let _0x17cdce;_0x359293 instanceof Uint8Array?_0x17cdce=$f:_0x359293 instanceof Uint16Array?_0x17cdce=Yi:_0x17cdce=wr,_0x17cdce===$f&&_0x8bb83b['isWebGPU']&&(_0x17cdce=Yi,_0x359293=new Uint16Array(_0x359293));const _0x51d9bd=new br(_0x8bb83b,_0x17cdce,_0x359293['length'],ms,_0x359293);_0x23428c['indexBuffe'+'r'][0x2335*-0x1+0x1*-0x12d7+0x360c]=_0x51d9bd,_0x23428c['primitive'][-0x7eb*-0x1+-0x16*0x40+-0x26b]['count']=_0x359293['length'];}else _0x23428c['primitive'][0x1297+0x71*0x13+-0xd7d*0x2]['count']=_0x3294e7['numVertice'+'s'];if(_0x2f415c['hasOwnProp'+'erty']('extensions')&&_0x2f415c['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0xf1e782=_0x2f415c['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1e457b={};_0xf1e782['mappings']['forEach'](_0x263c5b=>{_0x263c5b['variants']['forEach'](_0x93d459=>{_0x1e457b[_0x93d459]=_0x263c5b['material'];});}),_0x43d3a3[_0x23428c['id']]=_0x1e457b;}_0x4aa06f[_0x23428c['id']]=_0x2f415c['material'];let _0x417b39=_0x496b1c[_0x2f415c['attributes']['POSITION']];if(_0x23428c['aabb']=Hu(_0x417b39),_0x2f415c['hasOwnProp'+'erty']('targets')){const _0x56701a=[];_0x2f415c['targets']['forEach']((_0x38e170,_0x3bdb42)=>{const _0x29fa89={};_0x38e170['hasOwnProp'+'erty']('POSITION')&&(_0x417b39=_0x496b1c[_0x38e170['POSITION']],_0x29fa89['deltaPosit'+'ions']=Pn(_0x417b39,_0x33a169),_0x29fa89['aabb']=Hu(_0x417b39)),_0x38e170['hasOwnProp'+'erty']('NORMAL')&&(_0x417b39=_0x496b1c[_0x38e170['NORMAL']],_0x29fa89['deltaNorma'+'ls']=Pn(_0x417b39,_0x33a169)),_0xa145b1['hasOwnProp'+'erty']('extras')&&_0xa145b1['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x29fa89['name']=_0xa145b1['extras']['targetName'+'s'][_0x3bdb42]:_0x29fa89['name']=_0x3bdb42['toString'](-0x42b+0xff+-0x112*-0x3),_0xa145b1['hasOwnProp'+'erty']('weights')&&(_0x29fa89['defaultWei'+'ght']=_0xa145b1['weights'][_0x3bdb42]),_0x29fa89['preserveDa'+'ta']=_0x37b8a3['morphPrese'+'rveData'],_0x56701a['push'](new Md(_0x29fa89));}),_0x23428c['morph']=new mm(_0x56701a,_0x8bb83b,{'preferHighPrecision':_0x37b8a3['morphPrefe'+'rHighPreci'+'sion']});}_0x2ea945['push'](_0x23428c);}}),_0x2ea945;},Dt=(_0x2d170b,_0x47e62d,_0x4e4646)=>{var _0x20b331;let _0x36481a;const _0x1b61bc=_0x2d170b['texCoord'];if(_0x1b61bc){for(_0x36481a=-0x2209+-0x2405+-0x15*-0x356;_0x36481a<_0x4e4646['length'];++_0x36481a)_0x47e62d[_0x4e4646[_0x36481a]+'MapUv']=_0x1b61bc;}const _0xa6856f=[-0x3*-0xb0b+-0x24e8+0x1*0x3c7,-0x169c+0x13a7+0x1*0x2f5],_0xd803a4=[-0x29e+-0x1b*-0x98+-0xd69,0x17b*-0x7+0x7f*0x35+-0x1c5*0x9],_0x125d73=(_0x20b331=_0x2d170b['extensions'])==null?void(0xfb*0xb+-0x164*-0x1b+-0x3055):_0x20b331['KHR_textur'+'e_transfor'+'m'];if(_0x125d73){const _0x399a96=_0x125d73['offset']||_0xa6856f,_0x1fc1a3=_0x125d73['scale']||_0xd803a4,_0x43de98=_0x125d73['rotation']?-_0x125d73['rotation']*Y['RAD_TO_DEG']:0x5*0x4c1+0x9de+-0x1*0x21a3,_0x257615=new J(_0x1fc1a3[-0xcc2+-0xa3*0x22+0x2268],_0x1fc1a3[-0x1470+-0x1*-0x4f9+0xf78]),_0xc60e31=new J(_0x399a96[0x2*-0x5d+-0x1fa5*0x1+0x205f],0x35*-0x21+0x24da+-0x1e04-_0x1fc1a3[-0xc2c+0x8*-0x166+0x175d]-_0x399a96[-0x152a+-0x23f1+0x391c]);for(_0x36481a=0xa*-0x61+0x25b2+-0x21e8;_0x36481a<_0x4e4646['length'];++_0x36481a)_0x47e62d[_0x4e4646[_0x36481a]+'MapTiling']=_0x257615,_0x47e62d[_0x4e4646[_0x36481a]+'MapOffset']=_0xc60e31,_0x47e62d[_0x4e4646[_0x36481a]+('MapRotatio'+'n')]=_0x43de98;}},oN=(_0x30f51f,_0x2ea352,_0x33424f)=>{let _0x5ed353,_0xbbdc6b;if(_0x30f51f['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x5ed353=_0x30f51f['diffuseFac'+'tor'],_0x2ea352['diffuse']['set'](Math['pow'](_0x5ed353[-0x1f23+0x1*0x1cf+-0x4*-0x755],(-0x1b71+-0x268d+0x1f*0x221)/(-0x1a12+-0xec6*-0x1+0xb4e+0.20000000000000018)),Math['pow'](_0x5ed353[0x1*-0x112+-0x4*-0x746+-0x1c05],(0x26b*0xb+-0x25*-0xfe+0xdb*-0x4a)/(-0xdb0+-0x1b9a*-0x1+-0x1bd*0x8+0.20000000000000018)),Math['pow'](_0x5ed353[-0x17*-0x7+-0x1*0xac9+0x515*0x2],(0x2f*-0x1+-0x493*-0x1+-0x1*0x463)/(-0x2c3*-0xb+0xb7f*0x1+-0x29de+0.20000000000000018))),_0x2ea352['opacity']=_0x5ed353[0x2ab*-0x3+-0x111*-0xb+0x13d*-0x3]):(_0x2ea352['diffuse']['set'](0xd2b+-0x17ae+0xa84,-0x183a+-0x1c79+-0x34b4*-0x1,0x2587+0x1a88+-0x400e*0x1),_0x2ea352['opacity']=0x11c1*-0x1+-0x245e+0x3620),_0x30f51f['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x5f38e4=_0x30f51f['diffuseTex'+'ture'];_0xbbdc6b=_0x33424f[_0x5f38e4['index']],_0x2ea352['diffuseMap']=_0xbbdc6b,_0x2ea352['diffuseMap'+'Channel']='rgb',_0x2ea352['opacityMap']=_0xbbdc6b,_0x2ea352['opacityMap'+'Channel']='a',Dt(_0x5f38e4,_0x2ea352,['diffuse','opacity']);}if(_0x2ea352['useMetalne'+'ss']=!(0x25*-0x12+0x2*-0xe27+0x1ee9),_0x30f51f['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x5ed353=_0x30f51f['specularFa'+'ctor'],_0x2ea352['specular']['set'](Math['pow'](_0x5ed353[-0x763+-0x70b+0xe6e],(0x245c+-0x1368+-0x10f3)/(0x1c28+-0x788+-0x7*0x2f2+0.20000000000000018)),Math['pow'](_0x5ed353[0x157*0xb+-0x124d+-0x53*-0xb],(-0x258c+0x1*-0x1e48+0xd91*0x5)/(-0x83*-0x37+-0x4*-0x43+-0x1d2f+0.20000000000000018)),Math['pow'](_0x5ed353[-0x1d7b+0x7*0x4fd+-0x56e],(-0x1b64*-0x1+0x201*0x1+-0xb*0x2ac)/(0x119b+0x23d9+-0x3572+0.20000000000000018)))):_0x2ea352['specular']['set'](0x5*0x214+0x92e+0x1*-0x1391,0x1a7e+0x146e+-0x2eeb,-0x154a+-0x1832+-0x919*-0x5),_0x30f51f['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2ea352['gloss']=_0x30f51f['glossiness'+'Factor']:_0x2ea352['gloss']=0x2*0x261+0x3*-0x6a2+0xf25,_0x30f51f['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x39ce19=_0x30f51f['specularGl'+'ossinessTe'+'xture'];_0x2ea352['specularMa'+'p']=_0x2ea352['glossMap']=_0x33424f[_0x39ce19['index']],_0x2ea352['specularMa'+'pChannel']='rgb',_0x2ea352['glossMapCh'+'annel']='a',Dt(_0x39ce19,_0x2ea352,['gloss','metalness']);}},lN=(_0x4da32b,_0x3e1931,_0x32d477)=>{if(_0x4da32b['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x3e1931['clearCoat']=_0x4da32b['clearcoatF'+'actor']*(-0x1f2d+0x1*-0x1791+0xb6*0x4d+0.25):_0x3e1931['clearCoat']=0x5f*0x49+-0x20ed+0x5d6,_0x4da32b['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x293e2a=_0x4da32b['clearcoatT'+'exture'];_0x3e1931['clearCoatM'+'ap']=_0x32d477[_0x293e2a['index']],_0x3e1931['clearCoatM'+'apChannel']='r',Dt(_0x293e2a,_0x3e1931,['clearCoat']);}if(_0x4da32b['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x3e1931['clearCoatG'+'loss']=_0x4da32b['clearcoatR'+'oughnessFa'+'ctor']:_0x3e1931['clearCoatG'+'loss']=0x5e*-0x43+0x8dd*-0x1+-0x293*-0xd,_0x4da32b['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x3bbf67=_0x4da32b['clearcoatR'+'oughnessTe'+'xture'];_0x3e1931['clearCoatG'+'lossMap']=_0x32d477[_0x3bbf67['index']],_0x3e1931['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x3bbf67,_0x3e1931,['clearCoatG'+'loss']);}if(_0x4da32b['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x1e8a2b=_0x4da32b['clearcoatN'+'ormalTextu'+'re'];_0x3e1931['clearCoatN'+'ormalMap']=_0x32d477[_0x1e8a2b['index']],Dt(_0x1e8a2b,_0x3e1931,['clearCoatN'+'ormal']),_0x1e8a2b['hasOwnProp'+'erty']('scale')?_0x3e1931['clearCoatB'+'umpiness']=_0x1e8a2b['scale']:_0x3e1931['clearCoatB'+'umpiness']=0x154a+0x1147+-0x2690;}_0x3e1931['clearCoatG'+'lossInvert']=!(0x5f*0x2+0x1b08+-0x12*0x18b);},cN=(_0xf8da8a,_0x410722,_0x1b7851)=>{_0x410722['useLightin'+'g']=!(0x2*0xb23+-0x1*0x222b+-0x5f3*-0x2),_0x410722['emissive']['copy'](_0x410722['diffuse']),_0x410722['emissiveMa'+'p']=_0x410722['diffuseMap'],_0x410722['emissiveMa'+'pUv']=_0x410722['diffuseMap'+'Uv'],_0x410722['emissiveMa'+'pTiling']['copy'](_0x410722['diffuseMap'+'Tiling']),_0x410722['emissiveMa'+'pOffset']['copy'](_0x410722['diffuseMap'+'Offset']),_0x410722['emissiveMa'+'pRotation']=_0x410722['diffuseMap'+'Rotation'],_0x410722['emissiveMa'+'pChannel']=_0x410722['diffuseMap'+'Channel'],_0x410722['emissiveVe'+'rtexColor']=_0x410722['diffuseVer'+'texColor'],_0x410722['emissiveVe'+'rtexColorC'+'hannel']=_0x410722['diffuseVer'+'texColorCh'+'annel'],_0x410722['useLightin'+'g']=!(0x43b+0x1f1c+-0x2356),_0x410722['useSkybox']=!(-0x65*-0x31+0x40*-0x1+-0x1314),_0x410722['diffuse']['set'](0x1a00+-0x1fd0+0x5d1,0x42d+-0x13cf+-0xfa3*-0x1,-0x27d+0x2063+-0x1de5),_0x410722['diffuseMap']=null,_0x410722['diffuseVer'+'texColor']=!(0x358*-0x2+-0x7*0x4a3+0x2726);},hN=(_0x347fd0,_0x46b06d,_0x11695c)=>{if(_0x46b06d['useMetalne'+'ssSpecular'+'Color']=!(0x13b7+-0x28a+-0x112d),_0x347fd0['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x46b06d['specularMa'+'p']=_0x11695c[_0x347fd0['specularCo'+'lorTexture']['index']],_0x46b06d['specularMa'+'pChannel']='rgb',Dt(_0x347fd0['specularCo'+'lorTexture'],_0x46b06d,['specular'])),_0x347fd0['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x54224b=_0x347fd0['specularCo'+'lorFactor'];_0x46b06d['specular']['set'](Math['pow'](_0x54224b[0x1818+0x1e46+-0x365e],(0x224b+-0x2500+-0x1*-0x2b6)/(0x932*0x3+-0x223c+0x6a8+0.20000000000000018)),Math['pow'](_0x54224b[0x1*-0x1c6b+0x1cf+0x1a9d],(-0x1016+-0x15a3+0x25ba)/(-0xfbf+0x233d*-0x1+0x197f*0x2+0.20000000000000018)),Math['pow'](_0x54224b[0x1*0x4d5+-0x24bf+0x1fec],(-0x16eb+-0x1*0xa89+0x2175)/(0x1*-0x146f+-0x31*-0x6b+0x2*-0x5+0.20000000000000018)));}else _0x46b06d['specular']['set'](-0x1095*-0x1+-0x447*-0x5+-0x25f7,0x6d8+0x1f*0xd3+-0x2064,-0x2356+-0x2097+0x2f*0x172);_0x347fd0['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x46b06d['specularit'+'yFactor']=_0x347fd0['specularFa'+'ctor']:_0x46b06d['specularit'+'yFactor']=-0x1402+0x1472+-0x6f*0x1,_0x347fd0['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x46b06d['specularit'+'yFactorMap'+'Channel']='a',_0x46b06d['specularit'+'yFactorMap']=_0x11695c[_0x347fd0['specularTe'+'xture']['index']],Dt(_0x347fd0['specularTe'+'xture'],_0x46b06d,['specularit'+'yFactor']));},dN=(_0x1356dc,_0x3fd0b3,_0x28041e)=>{_0x1356dc['hasOwnProp'+'erty']('ior')&&(_0x3fd0b3['refraction'+'Index']=(-0x23c5+-0xacf*-0x2+0xe28)/_0x1356dc['ior']);},fN=(_0x5efff3,_0x47c195,_0x36ec43)=>{_0x5efff3['hasOwnProp'+'erty']('dispersion')&&(_0x47c195['dispersion']=_0x5efff3['dispersion']);},uN=(_0x2b78fd,_0x5e7b9,_0x557d83)=>{_0x5e7b9['blendType']=Zs,_0x5e7b9['useDynamic'+'Refraction']=!(0xc8e+0x25*0xa+-0x1*0xe00),_0x2b78fd['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x5e7b9['refraction']=_0x2b78fd['transmissi'+'onFactor']),_0x2b78fd['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x5e7b9['refraction'+'MapChannel']='r',_0x5e7b9['refraction'+'Map']=_0x557d83[_0x2b78fd['transmissi'+'onTexture']['index']],Dt(_0x2b78fd['transmissi'+'onTexture'],_0x5e7b9,['refraction']));},pN=(_0x338633,_0x34b40d,_0x3d7b52)=>{if(_0x34b40d['useSheen']=!(0x1f08+-0x21d*-0x7+-0x2dd3*0x1),_0x338633['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x17a916=_0x338633['sheenColor'+'Factor'];_0x34b40d['sheen']['set'](Math['pow'](_0x17a916[-0xbe0+0xb*0x195+-0x587],(0x349+-0x724+0x26*0x1a)/(0x13c4+-0x1d03+0x941+0.20000000000000018)),Math['pow'](_0x17a916[0x1a38+-0x67*-0x5+0x2*-0xe1d],(0x19cb+0x1ed4+-0x389e)/(0xc2*-0x18+-0x11d8+0x240a+0.20000000000000018)),Math['pow'](_0x17a916[-0x16d1+0x97d+-0x472*-0x3],(0x236*-0x5+-0x24e3+0x2ff2)/(-0x1fd3+-0xe76+-0x69d*-0x7+0.20000000000000018)));}else _0x34b40d['sheen']['set'](-0x197f+-0xb94+-0xe*-0x2a6,0xac5+0x2*0x1079+-0x2bb6,0x187f*-0x1+0x1cb4+-0x434);_0x338633['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x34b40d['sheenMap']=_0x3d7b52[_0x338633['sheenColor'+'Texture']['index']],Dt(_0x338633['sheenColor'+'Texture'],_0x34b40d,['sheen'])),_0x34b40d['sheenGloss']=_0x338633['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x338633['sheenRough'+'nessFactor']:-0xe*-0x14b+0xd6e+-0x2*0xfc4,_0x338633['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x34b40d['sheenGloss'+'Map']=_0x3d7b52[_0x338633['sheenRough'+'nessTextur'+'e']['index']],_0x34b40d['sheenGloss'+'MapChannel']='a',Dt(_0x338633['sheenRough'+'nessTextur'+'e'],_0x34b40d,['sheenGloss'])),_0x34b40d['sheenGloss'+'Invert']=!(-0x1*0x87c+0x1*-0x253d+0x925*0x5);},mN=(_0x382bea,_0x47acd1,_0x1b182b)=>{if(_0x47acd1['blendType']=Zs,_0x47acd1['useDynamic'+'Refraction']=!(0x7c1*0x5+-0x4ab*-0x1+0x2b7*-0x10),_0x382bea['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x47acd1['thickness']=_0x382bea['thicknessF'+'actor']),_0x382bea['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x47acd1['thicknessM'+'ap']=_0x1b182b[_0x382bea['thicknessT'+'exture']['index']],_0x47acd1['thicknessM'+'apChannel']='g',Dt(_0x382bea['thicknessT'+'exture'],_0x47acd1,['thickness'])),_0x382bea['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x47acd1['attenuatio'+'nDistance']=_0x382bea['attenuatio'+'nDistance']),_0x382bea['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x2760a9=_0x382bea['attenuatio'+'nColor'];_0x47acd1['attenuatio'+'n']['set'](Math['pow'](_0x2760a9[-0x1e92+-0x17fd+-0x1*-0x368f],(0x51*-0x2d+0x58*-0x6a+-0x32ae*-0x1)/(0x9*-0x199+-0xb3d+0xa*0x290+0.20000000000000018)),Math['pow'](_0x2760a9[-0x1792*-0x1+-0x1*-0x2253+-0x26*0x186],(0x1*-0x23c1+-0x169+0x252b)/(-0x69d*0x1+0x1da6+-0x1707+0.20000000000000018)),Math['pow'](_0x2760a9[-0x14c9+-0xde1+0x22ac*0x1],(-0x795+-0x9ca+0x1160)/(0x266*0xd+0x768+-0x2694+0.20000000000000018)));}},_N=(_0x5dc707,_0x546b4e,_0x3ab37d)=>{_0x5dc707['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x546b4e['emissiveIn'+'tensity']=_0x5dc707['emissiveSt'+'rength']);},gN=(_0x4bbcb9,_0x18ccd0,_0x1e8c1e)=>{_0x18ccd0['useIridesc'+'ence']=!(-0x1b*0xa7+-0x2*-0x12de+-0x141f),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x18ccd0['iridescenc'+'e']=_0x4bbcb9['iridescenc'+'eFactor']),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x18ccd0['iridescenc'+'eMapChanne'+'l']='r',_0x18ccd0['iridescenc'+'eMap']=_0x1e8c1e[_0x4bbcb9['iridescenc'+'eTexture']['index']],Dt(_0x4bbcb9['iridescenc'+'eTexture'],_0x18ccd0,['iridescenc'+'e'])),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x18ccd0['iridescenc'+'eRefractio'+'nIndex']=_0x4bbcb9['iridescenc'+'eIor']),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x18ccd0['iridescenc'+'eThickness'+'Min']=_0x4bbcb9['iridescenc'+'eThickness'+'Minimum']),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x18ccd0['iridescenc'+'eThickness'+'Max']=_0x4bbcb9['iridescenc'+'eThickness'+'Maximum']),_0x4bbcb9['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x18ccd0['iridescenc'+'eThickness'+'MapChannel']='g',_0x18ccd0['iridescenc'+'eThickness'+'Map']=_0x1e8c1e[_0x4bbcb9['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x4bbcb9['iridescenc'+'eThickness'+'Texture'],_0x18ccd0,['iridescenc'+'eThickness']));},SN=(_0x3c9289,_0x5b7b45,_0x3b7ec5)=>{if(_0x5b7b45['enableGGXS'+'pecular']=!(-0x512+0x2*-0x9e3+-0x212*-0xc),_0x3c9289['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x5b7b45['anisotropy'+'Intensity']=_0x3c9289['anisotropy'+'Strength']:_0x5b7b45['anisotropy'+'Intensity']=-0x74b*-0x5+-0x1*0x1921+-0xb56,_0x3c9289['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x13656f=_0x3c9289['anisotropy'+'Texture'];_0x5b7b45['anisotropy'+'Map']=_0x3b7ec5[_0x13656f['index']],Dt(_0x13656f,_0x5b7b45,['anisotropy']);}_0x3c9289['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x5b7b45['anisotropy'+'Rotation']=_0x3c9289['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x5b7b45['anisotropy'+'Rotation']=-0x17*0x95+-0x1a67+0x2*0x13e5;},w0=(_0xef7073,_0x3a0b4b)=>{const _0x1f856a=new Ut();_0xef7073['hasOwnProp'+'erty']('name')&&(_0x1f856a['name']=_0xef7073['name']),_0x1f856a['occludeSpe'+'cular']=bd,_0x1f856a['diffuseVer'+'texColor']=!(0x1561+0xb3b+0x209c*-0x1),_0x1f856a['specularTi'+'nt']=!(0x952*-0x3+0xf2a+0x2*0x666),_0x1f856a['specularVe'+'rtexColor']=!(-0x2*0xe26+0x1ba+0x1a92),_0x1f856a['specular']['set'](0x1d77+0x211e+-0x3e94,0x1*-0x4a1+0x3*0xc19+-0x5*0x655,0x1*-0x11d7+0x1b93+-0x9bb*0x1),_0x1f856a['gloss']=0x17e9*0x1+0x6e8+-0x44*0x74,_0x1f856a['glossInver'+'t']=!(-0x4*-0x60d+-0x135f+-0x4d5*0x1),_0x1f856a['useMetalne'+'ss']=!(-0x25ed+-0x17ac+0x3d99);let _0x107c8b,_0x2660f1;if(_0xef7073['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xae7176=_0xef7073['pbrMetalli'+'cRoughness'];if(_0xae7176['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x107c8b=_0xae7176['baseColorF'+'actor'],_0x1f856a['diffuse']['set'](Math['pow'](_0x107c8b[-0x1*-0x655+-0x845+0x3e*0x8],(0x766+-0x26fe+-0x1f99*-0x1)/(-0x26ff+-0x1*-0x361+0x23a0+0.20000000000000018)),Math['pow'](_0x107c8b[-0xcd*-0x1d+-0x3*0x335+-0xd99*0x1],(0x39*-0x8c+-0x2155*-0x1+0x228*-0x1)/(0x1add+0xe7d*-0x1+-0x62f*0x2+0.20000000000000018)),Math['pow'](_0x107c8b[-0x1734+-0x12d9+-0x6f*-0x61],(-0x11c1+-0xfe6*0x2+0x318e)/(0x17f*0x7+-0x16a5+-0x617*-0x2+0.20000000000000018))),_0x1f856a['opacity']=_0x107c8b[0x801+0x351*0x7+0x3*-0xa67]),_0xae7176['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x32df12=_0xae7176['baseColorT'+'exture'];_0x2660f1=_0x3a0b4b[_0x32df12['index']],_0x1f856a['diffuseMap']=_0x2660f1,_0x1f856a['diffuseMap'+'Channel']='rgb',_0x1f856a['opacityMap']=_0x2660f1,_0x1f856a['opacityMap'+'Channel']='a',Dt(_0x32df12,_0x1f856a,['diffuse','opacity']);}if(_0xae7176['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x1f856a['metalness']=_0xae7176['metallicFa'+'ctor']),_0xae7176['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x1f856a['gloss']=_0xae7176['roughnessF'+'actor']),_0xae7176['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x314357=_0xae7176['metallicRo'+'ughnessTex'+'ture'];_0x1f856a['metalnessM'+'ap']=_0x1f856a['glossMap']=_0x3a0b4b[_0x314357['index']],_0x1f856a['metalnessM'+'apChannel']='b',_0x1f856a['glossMapCh'+'annel']='g',Dt(_0x314357,_0x1f856a,['gloss','metalness']);}}if(_0xef7073['hasOwnProp'+'erty']('normalText'+'ure')){const _0x557268=_0xef7073['normalText'+'ure'];_0x1f856a['normalMap']=_0x3a0b4b[_0x557268['index']],Dt(_0x557268,_0x1f856a,['normal']),_0x557268['hasOwnProp'+'erty']('scale')&&(_0x1f856a['bumpiness']=_0x557268['scale']);}if(_0xef7073['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x444716=_0xef7073['occlusionT'+'exture'];_0x1f856a['aoMap']=_0x3a0b4b[_0x444716['index']],_0x1f856a['aoMapChann'+'el']='r',Dt(_0x444716,_0x1f856a,['ao']);}if(_0xef7073['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x107c8b=_0xef7073['emissiveFa'+'ctor'],_0x1f856a['emissive']['set'](Math['pow'](_0x107c8b[0x335*-0x5+0x133b+-0x1*0x332],(0x1c3*0xd+-0xb5f+-0xb87)/(-0x11*0x1d2+0x2627+0x1*-0x733+0.20000000000000018)),Math['pow'](_0x107c8b[-0x2fb*0x9+-0x2*0x4bc+0x913*0x4],(-0x9*-0x443+0x6d*0x35+-0x3ceb)/(-0x1*-0x912+-0xdb2*-0x1+0x3cb*-0x6+0.20000000000000018)),Math['pow'](_0x107c8b[0x3ce*0x9+-0x5b*0x7+-0x1fbf],(0x1a92+0x2060+-0x3af1)/(0x69d+0x1c24+0x251*-0xf+0.20000000000000018)))),_0xef7073['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x50b217=_0xef7073['emissiveTe'+'xture'];_0x1f856a['emissiveMa'+'p']=_0x3a0b4b[_0x50b217['index']],Dt(_0x50b217,_0x1f856a,['emissive']);}if(_0xef7073['hasOwnProp'+'erty']('alphaMode'))switch(_0xef7073['alphaMode']){case'MASK':_0x1f856a['blendType']=Cs,_0xef7073['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x1f856a['alphaTest']=_0xef7073['alphaCutof'+'f']:_0x1f856a['alphaTest']=0x143*0x13+0x268+-0x1a61+0.5;break;case'BLEND':_0x1f856a['blendType']=Zs,_0x1f856a['depthWrite']=!(-0x1d7d+0x7f*0x49+-0x6b9);break;default:case'OPAQUE':_0x1f856a['blendType']=Cs;break;}else _0x1f856a['blendType']=Cs;_0xef7073['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x1f856a['twoSidedLi'+'ghting']=_0xef7073['doubleSide'+'d'],_0x1f856a['cull']=_0xef7073['doubleSide'+'d']?bt:pa):(_0x1f856a['twoSidedLi'+'ghting']=!(-0x231*-0x11+0x15cb+-0x3b0b),_0x1f856a['cull']=pa);const _0x3e59a5={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0xef7073['hasOwnProp'+'erty']('extensions'))for(const _0x49437e in _0xef7073['extensions']){const _0x48e3c8=_0x3e59a5[_0x49437e];_0x48e3c8!==void(0xa6d*-0x3+-0x26c*0x4+-0x1*-0x28f7)&&_0x48e3c8(_0xef7073['extensions'][_0x49437e],_0x1f856a,_0x3a0b4b);}return _0x1f856a['update'](),_0x1f856a;},yN=(_0x268c5b,_0x3fffdd,_0x3829c3,_0x13fada,_0x1154ad,_0x660cba,_0x3eff5b)=>{const _0x4e8b42=_0x96e84=>new Fh(yl(_0x96e84['type']),Pn(_0x96e84,_0x13fada)),_0x42323f={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x56c131={},_0x586e18={},_0xb5db87={};let _0x4fabfd=0x774+-0x2710+-0x1f9d*-0x1,_0x3402ba;for(_0x3402ba=-0x1900*-0x1+-0x1*0x18eb+-0x15*0x1;_0x3402ba<_0x268c5b['samplers']['length'];++_0x3402ba){const _0x17c966=_0x268c5b['samplers'][_0x3402ba];_0x56c131['hasOwnProp'+'erty'](_0x17c966['input'])||(_0x56c131[_0x17c966['input']]=_0x4e8b42(_0x3829c3[_0x17c966['input']])),_0x586e18['hasOwnProp'+'erty'](_0x17c966['output'])||(_0x586e18[_0x17c966['output']]=_0x4e8b42(_0x3829c3[_0x17c966['output']]));const _0x31dbf7=_0x17c966['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x42323f['hasOwnProp'+'erty'](_0x17c966['interpolat'+'ion'])?_0x42323f[_0x17c966['interpolat'+'ion']]:Su,_0x1de7cd={'paths':[],'input':_0x17c966['input'],'output':_0x17c966['output'],'interpolation':_0x31dbf7};_0xb5db87[_0x3402ba]=_0x1de7cd;}const _0x34f630=[],_0x332897={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x18161e=_0x1944a9=>{const _0x472a33=[];for(;_0x1944a9;)_0x472a33['unshift'](_0x1944a9['name']),_0x1944a9=_0x1944a9['parent'];return _0x472a33;},_0x24b6e1=(_0x5bfeb0,_0x22e0eb,_0x24e2f4)=>{const _0x205b9e=_0x586e18[_0x5bfeb0['output']];if(!_0x205b9e){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x24e2f4+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x2b8826;if(_0x660cba&&_0x660cba[_0x22e0eb['mesh']]){const _0x3676ef=_0x660cba[_0x22e0eb['mesh']];_0x3676ef['hasOwnProp'+'erty']('extras')&&_0x3676ef['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x2b8826=_0x3676ef['extras']['targetName'+'s']);}const _0x2f5186=_0x205b9e['data'],_0x32bb32=_0x2f5186['length']/_0x56c131[_0x5bfeb0['input']]['data']['length'],_0x3a3b43=_0x2f5186['length']/_0x32bb32,_0x2374bf=_0x3a3b43*(0x23*-0x83+0x11d2+-0x1*-0x1b),_0x144a7d=new ArrayBuffer(_0x2374bf*_0x32bb32);for(let _0x538a77=-0x1*0x1aa8+-0x655*-0x3+0x7a9;_0x538a77<_0x32bb32;_0x538a77++){const _0x18f252=new Float32Array(_0x144a7d,_0x2374bf*_0x538a77,_0x3a3b43);for(let _0xdc655=-0x4bf+0x25a1+-0x20e2;_0xdc655<_0x3a3b43;_0xdc655++)_0x18f252[_0xdc655]=_0x2f5186[_0xdc655*_0x32bb32+_0x538a77];const _0x37f52b=new Fh(0x53*-0x73+-0x2*0x8ef+0x2c2*0x14,_0x18f252),_0x1ded71=_0x2b8826!=null&&_0x2b8826[_0x538a77]?'name.'+_0x2b8826[_0x538a77]:_0x538a77;_0x586e18[-_0x4fabfd]=_0x37f52b;const _0x6128a6={'paths':[{'entityPath':_0x24e2f4,'component':'graph','propertyPath':['weight.'+_0x1ded71]}],'input':_0x5bfeb0['input'],'output':-_0x4fabfd,'interpolation':_0x5bfeb0['interpolat'+'ion']};_0x4fabfd++,_0xb5db87['morphCurve'+'-'+_0x3402ba+'-'+_0x538a77]=_0x6128a6;}};for(_0x3402ba=-0x2173+-0x2485+0x45f8;_0x3402ba<_0x268c5b['channels']['length'];++_0x3402ba){const _0x9985c3=_0x268c5b['channels'][_0x3402ba],_0xcaabdd=_0x9985c3['target'],_0xf977d=_0xb5db87[_0x9985c3['sampler']],_0x5e3b89=_0x1154ad[_0xcaabdd['node']],_0x6ecd47=_0x3eff5b[_0xcaabdd['node']],_0x54caed=_0x18161e(_0x5e3b89);_0xcaabdd['path']['startsWith']('weights')?(_0x24b6e1(_0xf977d,_0x6ecd47,_0x54caed),_0xb5db87[_0x9985c3['sampler']]['morphCurve']=!(-0x1d*-0x22+-0x2287+0x1ead)):_0xf977d['paths']['push']({'entityPath':_0x54caed,'component':'graph','propertyPath':[_0x332897[_0xcaabdd['path']]]});}const _0x250590=[],_0x1695c0=[],_0x20adf6=[];for(const _0xb35040 in _0x56c131)_0x250590['push'](_0x56c131[_0xb35040]),_0x56c131[_0xb35040]=_0x250590['length']-(-0x1d32+-0xdde+0x2b11);for(const _0x2515f0 in _0x586e18)_0x1695c0['push'](_0x586e18[_0x2515f0]),_0x586e18[_0x2515f0]=_0x1695c0['length']-(-0x2*0xaae+-0x81d*-0x2+-0x5*-0x107);for(const _0x32e5bb in _0xb5db87){const _0x43dc23=_0xb5db87[_0x32e5bb];_0x43dc23['morphCurve']||(_0x20adf6['push'](new v0(_0x43dc23['paths'],_0x56c131[_0x43dc23['input']],_0x586e18[_0x43dc23['output']],_0x43dc23['interpolat'+'ion'])),_0x43dc23['paths']['length']>-0x18b5+0x20e*0x8+-0x845*-0x1&&_0x43dc23['paths'][0x1*-0x8e7+0x2a5+0x642]['propertyPa'+'th'][-0x1b0d+-0x17a2+0x32af]==='localRotat'+'ion'&&_0x43dc23['interpolat'+'ion']!==yu&&_0x34f630['push'](_0x20adf6[_0x20adf6['length']-(-0xac4+-0x20+0xae5)]['output']));}_0x34f630['sort']();let _0x106c26=null,_0x45a29e;for(_0x3402ba=-0x25*0xce+0x9e5*0x1+0x13e1;_0x3402ba<_0x34f630['length'];++_0x3402ba){const _0x51341e=_0x34f630[_0x3402ba];if(_0x3402ba===-0x1ebb*0x1+0x7*0x1b3+0x12d6*0x1||_0x51341e!==_0x106c26){if(_0x45a29e=_0x1695c0[_0x51341e],_0x45a29e['components']===-0xcc*-0x1+0xd*0x121+-0xf75){const _0x293374=_0x45a29e['data'],_0xee356b=_0x293374['length']-(0x2251+0x51a*-0x1+0x12b*-0x19);for(let _0xf16211=-0x1e74+0x1*-0x53b+0x23af;_0xf16211<_0xee356b;_0xf16211+=0x583+-0x13f*0x4+0x1*-0x83)_0x293374[_0xf16211+(0xcbf+0x1*0x170f+-0x23ce)]*_0x293374[_0xf16211+(-0x1343*0x2+0x1*-0x66d+0xefd*0x3)]+_0x293374[_0xf16211+(-0x245d*-0x1+0xd38+-0x3194)]*_0x293374[_0xf16211+(-0x3*-0x8bd+-0x1307*0x2+0xbdc)]+_0x293374[_0xf16211+(-0x1*-0x1813+-0x213a+0x5*0x1d5)]*_0x293374[_0xf16211+(-0x223+0x1*-0x26d5+-0x6a*-0x63)]+_0x293374[_0xf16211+(-0x1cd*0x1+-0x85*-0x26+0x5a*-0x33)]*_0x293374[_0xf16211+(-0x3a*0x2+-0x15f3+-0x63*-0x3a)]<0x18c0+-0x4*0x78b+-0x2*-0x2b6&&(_0x293374[_0xf16211+(0x1*-0xa53+0x18ba+-0xe63)]*=-(0x1030+-0x11c*0x1f+-0x1*-0x1235),_0x293374[_0xf16211+(0xbb*0x2a+0x50f+-0xbe8*0x3)]*=-(0x164f+-0x1233+-0x41b),_0x293374[_0xf16211+(0x7*-0x4e5+-0x1476+0x36bf)]*=-(0x95b+-0x1889+0xf2f),_0x293374[_0xf16211+(0x36a*0x4+-0x1*0x91f+-0x482*0x1)]*=-(0x1340+0x1442+-0x2781));}_0x106c26=_0x51341e;}}let _0x3cdc3b=-0x4*-0x709+-0x23fe+0x6*0x14f;for(_0x3402ba=-0x1242+-0x4*-0x5a3+-0x44a;_0x3402ba<_0x250590['length'];_0x3402ba++)_0x45a29e=_0x250590[_0x3402ba]['_data'],_0x3cdc3b=Math['max'](_0x3cdc3b,_0x45a29e['length']===0x25d1+0x1*0x215f+0x11*-0x430?-0x1*-0x126d+0xe8e+-0x1*0x20fb:_0x45a29e[_0x45a29e['length']-(0x14a0+0x159d+-0x70a*0x6)]);return new Qi(_0x268c5b['hasOwnProp'+'erty']('name')?_0x268c5b['name']:'animation_'+_0x3fffdd,_0x3cdc3b,_0x250590,_0x1695c0,_0x20adf6);},Dc=new te(),Qa=new D(),vN=(_0x422d26,_0x56cb7d,_0x4d279f)=>{const _0x28df1d=new Ie();if(_0x422d26['hasOwnProp'+'erty']('name')&&_0x422d26['name']['length']>0x199*0x1+-0x1cf1+0x1b58?_0x28df1d['name']=_0x422d26['name']:_0x28df1d['name']='node_'+_0x56cb7d,_0x422d26['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x422d26['matrix']),Dc['getTransla'+'tion'](Qa),_0x28df1d['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x28df1d['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x28df1d['setLocalSc'+'ale'](Qa)),_0x422d26['hasOwnProp'+'erty']('rotation')){const _0x128996=_0x422d26['rotation'];_0x28df1d['setLocalRo'+'tation'](_0x128996[-0x1*-0x3fe+0x11c2+-0x57*0x40],_0x128996[0x1aa5*-0x1+0x5ea*0x1+-0x52f*-0x4],_0x128996[0x15c0+0x6*0x357+0x7*-0x5f8],_0x128996[-0x164c+0x4d5*-0x7+0x3822]);}if(_0x422d26['hasOwnProp'+'erty']('translatio'+'n')){const _0x55bc9d=_0x422d26['translatio'+'n'];_0x28df1d['setLocalPo'+'sition'](_0x55bc9d[-0x1fdb+-0xf1*-0x5+0x2b7*0xa],_0x55bc9d[-0x22*-0x5b+0x73+-0xc88],_0x55bc9d[-0x56c*-0x4+-0xc53+-0x5*0x1df]);}if(_0x422d26['hasOwnProp'+'erty']('scale')){const _0xcf0d4e=_0x422d26['scale'];_0x28df1d['setLocalSc'+'ale'](_0xcf0d4e[-0x858+-0x5b*0x1+0x8b3],_0xcf0d4e[0x1a01*-0x1+0x1d08+-0x306],_0xcf0d4e[0x1*-0xd8b+-0x1*0x128b+-0x68*-0x4f]);}return _0x422d26['hasOwnProp'+'erty']('extensions')&&_0x422d26['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x4d279f['set'](_0x422d26,{'ext':_0x422d26['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x28df1d;},xN=(_0x2096aa,_0x3d7317)=>{const _0x3e49a7=_0x2096aa['type']==='orthograph'+'ic'?En:ni,_0x31beb0=_0x3e49a7===En?_0x2096aa['orthograph'+'ic']:_0x2096aa['perspectiv'+'e'],_0x3b21ab={'enabled':!(-0xe5f*-0x1+-0xddb+-0x83),'projection':_0x3e49a7,'nearClip':_0x31beb0['znear'],'aspectRatioMode':hm};_0x31beb0['zfar']&&(_0x3b21ab['farClip']=_0x31beb0['zfar']),_0x3e49a7===En?(_0x3b21ab['orthoHeigh'+'t']=(0x1d6d+0x985*-0x2+-0xa63+0.5)*_0x31beb0['ymag'],_0x31beb0['ymag']&&(_0x3b21ab['aspectRati'+'oMode']=lu,_0x3b21ab['aspectRati'+'o']=_0x31beb0['xmag']/_0x31beb0['ymag'])):(_0x3b21ab['fov']=_0x31beb0['yfov']*Y['RAD_TO_DEG'],_0x31beb0['aspectRati'+'o']&&(_0x3b21ab['aspectRati'+'oMode']=lu,_0x3b21ab['aspectRati'+'o']=_0x31beb0['aspectRati'+'o']));const _0x102399=new lt(_0x2096aa['name']);return _0x102399['addCompone'+'nt']('camera',_0x3b21ab),_0x102399;},TN=(_0x16fffb,_0x357694)=>{const _0x27a94c={'enabled':!(0x1d38+-0x61d+-0x171a),'type':_0x16fffb['type']==='point'?'omni':_0x16fffb['type'],'color':_0x16fffb['hasOwnProp'+'erty']('color')?new ie(_0x16fffb['color']):ie['WHITE'],'range':_0x16fffb['hasOwnProp'+'erty']('range')?_0x16fffb['range']:-0x3*-0x19f2+-0x2499*0x1+0x117*-0x2,'falloffMode':ev,'intensity':_0x16fffb['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x16fffb['intensity'],0x14f9+0xf31*0x2+0x335b*-0x1,-0x1988+0x1b1b+-0x191):0x2*-0x9fa+0x7fa+0xbfb};_0x16fffb['hasOwnProp'+'erty']('spot')&&(_0x27a94c['innerConeA'+'ngle']=_0x16fffb['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x16fffb['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0xd6*0x2e+-0xe06+0x2*0x1a3d,_0x27a94c['outerConeA'+'ngle']=_0x16fffb['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x16fffb['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0x36e*0x3+-0x2151*-0x1+-0x2b97)),_0x16fffb['hasOwnProp'+'erty']('intensity')&&(_0x27a94c['luminance']=_0x16fffb['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x27a94c['type']],_0x27a94c['outerConeA'+'ngle'],_0x27a94c['innerConeA'+'ngle']));const _0x181185=new lt(_0x357694['name']);return _0x181185['rotateLoca'+'l'](0x21e9+-0x1*-0x1e0d+-0x3f9c,-0x2333*0x1+-0x2ef*-0xb+0x32*0xf,0x1e4e+0x6*0x5a7+0x224*-0x1e),_0x181185['addCompone'+'nt']('light',_0x27a94c),_0x181185;},wN=(_0xe33f97,_0x26b189,_0x455adb,_0x2d62b9)=>{if(!_0x26b189['hasOwnProp'+'erty']('skins')||_0x26b189['skins']['length']===-0xa74*-0x1+0x2629+-0x9b9*0x5)return[];const _0x3ce0a0=new Map();return _0x26b189['skins']['map'](_0x1668dc=>rN(_0xe33f97,_0x1668dc,_0x26b189['accessors'],_0x2d62b9,_0x455adb,_0x3ce0a0));},EN=(_0x425d33,_0x325769,_0x3430fd,_0x19bb38)=>{var _0x25704b,_0x2bc7f9,_0x42d5ba;const _0x3e8510={},_0x16f8d2={},_0x4c0b30={},_0x38c260=[];return{'meshes':!_0x19bb38['skipMeshes']&&((_0x25704b=_0x325769==null?void(0xd7e*-0x2+-0x22ba+0x3db6):_0x325769['meshes'])==null?void(0xe27+0xbac*0x3+-0x29*0x133):_0x25704b['length'])&&((_0x2bc7f9=_0x325769==null?void(0x1728+0x12bb*-0x1+-0x46d):_0x325769['accessors'])==null?void(-0x6b9*-0x3+-0x1b5e+0x733):_0x2bc7f9['length'])&&((_0x42d5ba=_0x325769==null?void(0x1*0x1091+-0x87e+0x35*-0x27):_0x325769['bufferView'+'s'])==null?void(-0xd*-0xcd+0x1812+-0x227b):_0x42d5ba['length'])?_0x325769['meshes']['map'](_0x1dd894=>nN(_0x425d33,_0x1dd894,_0x325769['accessors'],_0x3430fd,_0x3e8510,_0x16f8d2,_0x4c0b30,_0x19bb38,_0x38c260)):[],'meshVariants':_0x16f8d2,'meshDefaultMaterials':_0x4c0b30,'promises':_0x38c260};},bN=(_0x52cfec,_0x4b92e0,_0x580ba3)=>{var _0x2dccdc,_0x36fdd0,_0x4d92a4;if(!_0x52cfec['hasOwnProp'+'erty']('materials')||_0x52cfec['materials']['length']===-0x1b6b+-0x5e9+-0xed*-0x24)return[];const _0x546da0=(_0x2dccdc=_0x580ba3==null?void(-0x609+-0x1*-0xbce+-0x5c5):_0x580ba3['material'])==null?void(-0xe09*-0x1+0x314+-0x151*0xd):_0x2dccdc['preprocess'],_0x1f9c82=((_0x36fdd0=_0x580ba3==null?void(-0x107e+0x2651+-0x97*0x25):_0x580ba3['material'])==null?void(-0x3db+-0x1a2+0x1*0x57d):_0x36fdd0['process'])??w0,_0x4fb1dc=(_0x4d92a4=_0x580ba3==null?void(-0xa65*-0x2+-0x856+-0x63a*0x2):_0x580ba3['material'])==null?void(-0x1811*-0x1+0xdf8+-0x1*0x2609):_0x4d92a4['postproces'+'s'];return _0x52cfec['materials']['map'](_0x45a603=>{_0x546da0&&_0x546da0(_0x45a603);const _0x488fa3=_0x1f9c82(_0x45a603,_0x4b92e0);return _0x4fb1dc&&_0x4fb1dc(_0x45a603,_0x488fa3),_0x488fa3;});},AN=_0x69238d=>{if(!_0x69238d['hasOwnProp'+'erty']('extensions')||!_0x69238d['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x18718d=_0x69238d['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x571cb8={};for(let _0x5aa1a7=-0x1*0x1b8d+-0xd63*-0x2+0xc7;_0x5aa1a7<_0x18718d['length'];_0x5aa1a7++)_0x571cb8[_0x18718d[_0x5aa1a7]['name']]=_0x5aa1a7;return _0x571cb8;},CN=(_0x4d7591,_0x451dc0,_0x58122d,_0x58cd99)=>{var _0xf64583,_0x4c77bd;if(!_0x4d7591['hasOwnProp'+'erty']('animations')||_0x4d7591['animations']['length']===0x1*-0x7e1+0xb35*0x1+-0x354)return[];const _0x404f2a=(_0xf64583=_0x58cd99==null?void(0x43c+0x20*0x124+-0x28bc):_0x58cd99['animation'])==null?void(0x2b1+-0xb*-0x61+-0x36e*0x2):_0xf64583['preprocess'],_0x2d838e=(_0x4c77bd=_0x58cd99==null?void(-0x1*0x1349+-0x1*0x1bc9+0x5*0x96a):_0x58cd99['animation'])==null?void(-0x219f+-0x1*-0x149f+0xd00):_0x4c77bd['postproces'+'s'];return _0x4d7591['animations']['map']((_0xddab7d,_0x222d6e)=>{_0x404f2a&&_0x404f2a(_0xddab7d);const _0x1b0937=yN(_0xddab7d,_0x222d6e,_0x4d7591['accessors'],_0x58122d,_0x451dc0,_0x4d7591['meshes'],_0x4d7591['nodes']);return _0x2d838e&&_0x2d838e(_0xddab7d,_0x1b0937),_0x1b0937;});},PN=(_0x4c1d69,_0x37a354,_0x1ad5e2,_0x442740)=>{const _0xcc94a6=_0x37a354['accessors'];_0x1ad5e2['forEach']((_0x26c226,_0x4b3348)=>{const _0x531f4f=_0x26c226['ext']['attributes'];let _0x5d2faa;if(_0x531f4f['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x5c6797=_0xcc94a6[_0x531f4f['TRANSLATIO'+'N']];_0x5d2faa=Pn(_0x5c6797,_0x442740);}let _0x46afb6;if(_0x531f4f['hasOwnProp'+'erty']('ROTATION')){const _0x571e45=_0xcc94a6[_0x531f4f['ROTATION']];_0x46afb6=Pn(_0x571e45,_0x442740);}let _0x21c9f4;if(_0x531f4f['hasOwnProp'+'erty']('SCALE')){const _0x26d3dd=_0xcc94a6[_0x531f4f['SCALE']];_0x21c9f4=Pn(_0x26d3dd,_0x442740);}const _0x14c1c0=(_0x5d2faa?_0x5d2faa['length']/(0x1*0x15c5+-0x214b+0xb89):0x17d7+-0x166d+-0x16a)||(_0x46afb6?_0x46afb6['length']/(0x8b*-0x47+0x94f+0x1d42):0x241a*-0x1+0x487*-0x2+-0x1*-0x2d28)||(_0x21c9f4?_0x21c9f4['length']/(-0x3c4*0x2+0x1*-0x10df+-0x271*-0xa):-0x1*0x110b+0x539*0x1+0xbd2);if(_0x14c1c0){const _0x25091f=new Float32Array(_0x14c1c0*(-0x5f*-0x57+-0x17d*-0xb+-0x3098*0x1)),_0x5efbe0=new D(),_0x3918c8=new le(),_0x207965=new D(0x121*-0xd+0x13ad+-0x4ff,-0x37a*0x5+0x2d*0xc+0xf47,-0x1582*-0x1+0x5*-0x5c5+0x758),_0x3e5a3a=new te();let _0x4e6034=0xfe7+-0x203c+0x71*0x25;for(let _0x27665a=-0x208a+0x4b9*0x1+0x1bd1;_0x27665a<_0x14c1c0;_0x27665a++){const _0x1fbaf0=_0x27665a*(-0x1e73+-0x4*0x496+0x30ce);if(_0x5d2faa&&_0x5efbe0['set'](_0x5d2faa[_0x1fbaf0],_0x5d2faa[_0x1fbaf0+(0x52d*-0x2+0x14ca*-0x1+0x1f25*0x1)],_0x5d2faa[_0x1fbaf0+(0x6e2*0x2+0x1bb*-0x3+0x81*-0x11)]),_0x46afb6){const _0x4d3ca7=_0x27665a*(-0x1db6*0x1+-0x1d*-0xdc+0x4ce);_0x3918c8['set'](_0x46afb6[_0x4d3ca7],_0x46afb6[_0x4d3ca7+(-0x67*0x29+0x18ab*-0x1+0x292b)],_0x46afb6[_0x4d3ca7+(0x2*-0x115f+0xf1c+-0x4*-0x4e9)],_0x46afb6[_0x4d3ca7+(-0xbe0+-0xc*-0xaa+0x11*0x3b)]);}_0x21c9f4&&_0x207965['set'](_0x21c9f4[_0x1fbaf0],_0x21c9f4[_0x1fbaf0+(0x1624+0x3*-0x7cf+-0x37*-0x6)],_0x21c9f4[_0x1fbaf0+(-0x1a17*-0x1+-0xbe7+-0x21*0x6e)]),_0x3e5a3a['setTRS'](_0x5efbe0,_0x3918c8,_0x207965);for(let _0x3fe5f6=-0x18cc+-0x43a*-0x4+-0x14*-0x65;_0x3fe5f6<-0x3*-0x8d1+-0x133*0x10+-0x733;_0x3fe5f6++)_0x25091f[_0x4e6034++]=_0x3e5a3a['data'][_0x3fe5f6];}_0x26c226['matrices']=_0x25091f;}});},MN=(_0x45aee9,_0x313b04,_0x3cf980)=>{var _0x5cf58c,_0x8539bb,_0x28b0b8;if(!_0x45aee9['hasOwnProp'+'erty']('nodes')||_0x45aee9['nodes']['length']===0x910*-0x2+0xc*0xc5+-0x472*-0x2)return[];const _0x100402=(_0x5cf58c=_0x313b04==null?void(-0x3*0x2e9+-0x16a5+-0x1f6*-0x10):_0x313b04['node'])==null?void(-0x70a+0x1b84+-0x147a):_0x5cf58c['preprocess'],_0x3e8f87=((_0x8539bb=_0x313b04==null?void(-0x1df1+0x808*-0x3+0x3*0x1203):_0x313b04['node'])==null?void(-0x10*-0x18b+-0xd87+0xb29*-0x1):_0x8539bb['process'])??vN,_0x308bd1=(_0x28b0b8=_0x313b04==null?void(0x1199+-0x1*0x15cd+0x434):_0x313b04['node'])==null?void(0x20fd+0x5f0*-0x6+0x2a3):_0x28b0b8['postproces'+'s'],_0x2700cb=_0x45aee9['nodes']['map']((_0x4b5b3e,_0x25a512)=>{_0x100402&&_0x100402(_0x4b5b3e);const _0x2ebc22=_0x3e8f87(_0x4b5b3e,_0x25a512,_0x3cf980);return _0x308bd1&&_0x308bd1(_0x4b5b3e,_0x2ebc22),_0x2ebc22;});for(let _0xb7fc6=-0xa*-0x199+-0x987+-0x673;_0xb7fc6<_0x45aee9['nodes']['length'];++_0xb7fc6){const _0x14ca96=_0x45aee9['nodes'][_0xb7fc6];if(_0x14ca96['hasOwnProp'+'erty']('children')){const _0x492bf1=_0x2700cb[_0xb7fc6],_0x53d4c2={};for(let _0x23e649=0x15*0x77+0x1d*-0x21+-0x2*0x303;_0x23e649<_0x14ca96['children']['length'];++_0x23e649){const _0x3f1e51=_0x2700cb[_0x14ca96['children'][_0x23e649]];_0x3f1e51['parent']||(_0x53d4c2['hasOwnProp'+'erty'](_0x3f1e51['name'])?_0x3f1e51['name']+=_0x53d4c2[_0x3f1e51['name']]++:_0x53d4c2[_0x3f1e51['name']]=0x65*0xb+0x59+-0x1*0x4af,_0x492bf1['addChild'](_0x3f1e51));}}}return _0x2700cb;},DN=(_0x1a0dcc,_0x223f3a)=>{var _0x2799c0;const _0x8a7c8a=[],_0x37ad1f=_0x1a0dcc['scenes']['length'];if(_0x37ad1f===0x26dd+0xb37*-0x3+0x3*-0x1bd&&((_0x2799c0=_0x1a0dcc['scenes'][-0x24e3+0x1*-0x665+0x5*0x8a8]['nodes'])==null?void(-0x983*-0x2+-0x1219+-0xed*0x1):_0x2799c0['length'])===-0x1846+-0xa11+0x1c*0x13a){const _0xb83705=_0x1a0dcc['scenes'][-0x1*0x2146+-0x1ec*-0x1+-0x2*-0xfad]['nodes'][-0xe07+0x1d8f+0x3e2*-0x4];_0x8a7c8a['push'](_0x223f3a[_0xb83705]);}else for(let _0x539a36=-0x1f6b+0x5*-0x4fc+0x3857;_0x539a36<_0x37ad1f;_0x539a36++){const _0x40501f=_0x1a0dcc['scenes'][_0x539a36];if(_0x40501f['nodes']){const _0x1a4cfd=new Ie(_0x40501f['name']);for(let _0xe7bae9=-0x6*-0x1d+0x54*-0x2e+0xe6a;_0xe7bae9<_0x40501f['nodes']['length'];_0xe7bae9++){const _0x6a85a=_0x223f3a[_0x40501f['nodes'][_0xe7bae9]];_0x1a4cfd['addChild'](_0x6a85a);}_0x8a7c8a['push'](_0x1a4cfd);}}return _0x8a7c8a;},IN=(_0x18245a,_0x8c1a6d,_0x5e2e3e)=>{var _0x6570e2,_0x204879,_0x35f558;let _0x3f55be=null;if(_0x18245a['hasOwnProp'+'erty']('nodes')&&_0x18245a['hasOwnProp'+'erty']('cameras')&&_0x18245a['cameras']['length']>0x195f+-0x17c2+-0x19d){const _0x51c084=(_0x6570e2=_0x5e2e3e==null?void(0x14a3+0x2039+-0x34dc*0x1):_0x5e2e3e['camera'])==null?void(-0x1bea+-0x2*-0x2f+0x1b8c):_0x6570e2['preprocess'],_0x149233=((_0x204879=_0x5e2e3e==null?void(0x58+-0xf0+0x98):_0x5e2e3e['camera'])==null?void(0x1*-0x15fb+0x1733*-0x1+-0x2*-0x1697):_0x204879['process'])??xN,_0xabf336=(_0x35f558=_0x5e2e3e==null?void(0x3*0x123+-0xd*-0xb0+-0x1*0xc59):_0x5e2e3e['camera'])==null?void(-0x1*0x776+0x1fc3*-0x1+0x2739):_0x35f558['postproces'+'s'];_0x18245a['nodes']['forEach']((_0xb02444,_0x3c58e0)=>{if(_0xb02444['hasOwnProp'+'erty']('camera')){const _0x211481=_0x18245a['cameras'][_0xb02444['camera']];if(_0x211481){_0x51c084&&_0x51c084(_0x211481);const _0x56cc97=_0x149233(_0x211481,_0x8c1a6d[_0x3c58e0]);_0xabf336&&_0xabf336(_0x211481,_0x56cc97),_0x56cc97&&(_0x3f55be||(_0x3f55be=new Map()),_0x3f55be['set'](_0xb02444,_0x56cc97));}}});}return _0x3f55be;},LN=(_0x56bb7a,_0x5ae00a,_0x2cfaee)=>{var _0x1c34d2,_0x311aaf,_0x272ae8;let _0xdcac48=null;if(_0x56bb7a['hasOwnProp'+'erty']('nodes')&&_0x56bb7a['hasOwnProp'+'erty']('extensions')&&_0x56bb7a['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x56bb7a['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x4ce377=_0x56bb7a['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x4ce377['length']){const _0x5eefe4=(_0x1c34d2=_0x2cfaee==null?void(-0x2ad+0x1b09+-0x185c):_0x2cfaee['light'])==null?void(0x15*-0x149+-0x3d6+0x1ed3):_0x1c34d2['preprocess'],_0x1c1d0e=((_0x311aaf=_0x2cfaee==null?void(-0x20ae*0x1+0x137*-0x9+0x2b9d):_0x2cfaee['light'])==null?void(-0x97e+0x12a6+0x125*-0x8):_0x311aaf['process'])??TN,_0x5ecae7=(_0x272ae8=_0x2cfaee==null?void(-0x1*-0xc9d+-0xb11*0x2+-0x1*-0x985):_0x2cfaee['light'])==null?void(0x1445*-0x1+0x1*-0x23c5+0x380a):_0x272ae8['postproces'+'s'];_0x56bb7a['nodes']['forEach']((_0x2f5c47,_0x47ad05)=>{if(_0x2f5c47['hasOwnProp'+'erty']('extensions')&&_0x2f5c47['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2f5c47['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2b8845=_0x2f5c47['extensions']['KHR_lights'+'_punctual']['light'],_0x1cf6cc=_0x4ce377[_0x2b8845];if(_0x1cf6cc){_0x5eefe4&&_0x5eefe4(_0x1cf6cc);const _0x51a538=_0x1c1d0e(_0x1cf6cc,_0x5ae00a[_0x47ad05]);_0x5ecae7&&_0x5ecae7(_0x1cf6cc,_0x51a538),_0x51a538&&(_0xdcac48||(_0xdcac48=new Map()),_0xdcac48['set'](_0x2f5c47,_0x51a538));}}});}}return _0xdcac48;},RN=(_0x5d1e05,_0x1a903b,_0x4a49a4)=>{_0x5d1e05['nodes']['forEach'](_0x26081b=>{_0x26081b['hasOwnProp'+'erty']('mesh')&&_0x26081b['hasOwnProp'+'erty']('skin')&&_0x1a903b[_0x26081b['mesh']]['meshes']['forEach'](_0x598659=>{_0x598659['skin']=_0x4a49a4[_0x26081b['skin']];});});},ON=async(_0x6fa049,_0x5dd038,_0x2212b5,_0x281f7b,_0x5afbba)=>{var _0x4181af,_0x15ee8b;const _0x2898d=(_0x4181af=_0x5afbba==null?void(-0x73d+-0x105*0x2+0x947):_0x5afbba['global'])==null?void(0x35*0x53+0x21c+-0xb*0x1c1):_0x4181af['preprocess'],_0x14bf46=(_0x15ee8b=_0x5afbba==null?void(-0x2a5*-0x9+0xc33+-0x200*0x12):_0x5afbba['global'])==null?void(0x36f*0x2+0x962*-0x2+0xbe6):_0x15ee8b['postproces'+'s'];_0x2898d&&_0x2898d(_0x5dd038),_0x5dd038['asset']&&_0x5dd038['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x3112fb=new Map(),_0x433dee=MN(_0x5dd038,_0x5afbba,_0x3112fb),_0x56c0e6=DN(_0x5dd038,_0x433dee),_0x31e37b=LN(_0x5dd038,_0x433dee,_0x5afbba),_0x241c6a=IN(_0x5dd038,_0x433dee,_0x5afbba),_0x4cca9d=AN(_0x5dd038),_0x5bd3ff=await Promise['all'](_0x2212b5),{meshes:_0xed4610,meshVariants:_0xe24c62,meshDefaultMaterials:_0x53bd84,promises:_0x3ed085}=EN(_0x6fa049,_0x5dd038,_0x5bd3ff,_0x5afbba),_0x3e4dd5=CN(_0x5dd038,_0x433dee,_0x5bd3ff,_0x5afbba);PN(_0x6fa049,_0x5dd038,_0x3112fb,_0x5bd3ff);const _0x133adb=await Promise['all'](_0x281f7b),_0x5dcf20=_0x133adb['map'](_0x3972ba=>_0x3972ba['resource']),_0x1126e8=bN(_0x5dd038,_0x5dcf20,_0x5afbba),_0x2677cd=wN(_0x6fa049,_0x5dd038,_0x433dee,_0x5bd3ff),_0xb6ed3a=[];for(let _0x50ef3c=-0x17*0x15d+-0x1692+-0x37*-0xfb;_0x50ef3c<_0xed4610['length'];_0x50ef3c++)_0xb6ed3a[_0x50ef3c]=new Em(),_0xb6ed3a[_0x50ef3c]['meshes']=_0xed4610[_0x50ef3c];RN(_0x5dd038,_0xb6ed3a,_0x2677cd);const _0x38721b=new qF();return _0x38721b['gltf']=_0x5dd038,_0x38721b['nodes']=_0x433dee,_0x38721b['scenes']=_0x56c0e6,_0x38721b['animations']=_0x3e4dd5,_0x38721b['textures']=_0x133adb,_0x38721b['materials']=_0x1126e8,_0x38721b['variants']=_0x4cca9d,_0x38721b['meshVarian'+'ts']=_0xe24c62,_0x38721b['meshDefaul'+'tMaterials']=_0x53bd84,_0x38721b['renders']=_0xb6ed3a,_0x38721b['skins']=_0x2677cd,_0x38721b['lights']=_0x31e37b,_0x38721b['cameras']=_0x241c6a,_0x38721b['nodeInstan'+'cingMap']=_0x3112fb,_0x14bf46&&_0x14bf46(_0x5dd038,_0x38721b),await Promise['all'](_0x3ed085),_0x38721b;},FN=(_0x36a244,_0x40abcc)=>{const _0x5ab654=(_0x4ddddd,_0x1f131c)=>{switch(_0x4ddddd){case 0x1*0x4aed+0x4478+0x1*-0x6965:return Te;case 0x3d*-0x27+0x46*-0x59+0x23d1*0x2:return vt;case 0x43f8+-0x1a*0x209+0x4ca*0x5:return Kh;case-0xa*0x9f+-0x201f+0x4d56:return Qh;case 0x150b*-0x2+-0xbe4+0x4*0x173f:return Zh;case-0x182*-0x2+0x2084+-0x1b*-0x21:return ma;default:return _0x1f131c;}},_0xf18974=(_0x1cc601,_0x1cb87e)=>{switch(_0x1cc601){case 0xce*0x137+0xcf98+-0x148ab:return ue;case-0x22c4+-0x11*0x484+0x5*0x3098:return ip;case-0x92d*-0x1+0x4281+-0x22ad:return yt;default:return _0x1cb87e;}};_0x36a244&&(_0x40abcc=_0x40abcc??{},_0x36a244['minFilter']=_0x5ab654(_0x40abcc['minFilter'],ma),_0x36a244['magFilter']=_0x5ab654(_0x40abcc['magFilter'],vt),_0x36a244['addressU']=_0xf18974(_0x40abcc['wrapS'],yt),_0x36a244['addressV']=_0xf18974(_0x40abcc['wrapT'],yt));};let NN=0x1151*0x2+0x1*-0x21dd+0xc5*-0x1;const nn=_0x5d0d26=>{var _0x5b224b,_0x2eb3e6,_0x3b3e15,_0x536ca1;return((_0x2eb3e6=(_0x5b224b=_0x5d0d26['extensions'])==null?void(-0x15ea+-0x6d3*0x4+0x3136):_0x5b224b['KHR_textur'+'e_basisu'])==null?void(-0xbe3+-0xe*0xa6+0x14f7):_0x2eb3e6['source'])??((_0x536ca1=(_0x3b3e15=_0x5d0d26['extensions'])==null?void(-0x208a+-0xd*-0x22a+0x468):_0x3b3e15['EXT_textur'+'e_webp'])==null?void(0x1463+-0xa1*-0x10+-0x1e73):_0x536ca1['source'])??_0x5d0d26['source'];},kN=(_0x2ccb55,_0x141fda,_0x4c8edc,_0x2fd2e6,_0x16ad8c)=>{var _0x4a1ee3,_0x3d4112,_0x4e38aa;if(!_0x2ccb55['images']||_0x2ccb55['images']['length']===-0x1d*0x113+0x2*0xbc1+0x1*0x7a5)return[];const _0x2fb5c1=(_0x4a1ee3=_0x16ad8c==null?void(-0x8ad*0x1+-0x9*0x336+-0x1*-0x2593):_0x16ad8c['image'])==null?void(0x6d4+-0xe18+0x744):_0x4a1ee3['preprocess'],_0x4aff93=(_0x3d4112=_0x16ad8c==null?void(0xb*0xdf+0x99b+-0x1330):_0x16ad8c['image'])==null?void(0x1df*0x6+0x2*-0x101c+0x14fe*0x1):_0x3d4112['processAsy'+'nc'],_0x577c9d=(_0x4e38aa=_0x16ad8c==null?void(0xa*0x2d9+-0x12ac+0x2*-0x4e7):_0x16ad8c['image'])==null?void(0x1671+-0x80f*-0x1+-0x1e80):_0x4e38aa['postproces'+'s'],_0x446e5f={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x548c25=_0x33c712=>{const _0x49f014=new Set();return _0x33c712['hasOwnProp'+'erty']('materials')&&_0x33c712['materials']['forEach'](_0x528154=>{if(_0x528154['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x37c8be=_0x528154['pbrMetalli'+'cRoughness'];if(_0x37c8be['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2c4ec7=_0x33c712['textures'][_0x37c8be['baseColorT'+'exture']['index']];_0x49f014['add'](nn(_0x2c4ec7));}}if(_0x528154['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2b6a8b=_0x33c712['textures'][_0x528154['emissiveTe'+'xture']['index']];_0x49f014['add'](nn(_0x2b6a8b));}if(_0x528154['hasOwnProp'+'erty']('extensions')){const _0x233b39=_0x528154['extensions']['KHR_materi'+'als_sheen'];if(_0x233b39&&_0x233b39['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x4446fa=_0x33c712['textures'][_0x233b39['sheenColor'+'Texture']['index']];_0x49f014['add'](nn(_0x4446fa));}const _0x1a69fe=_0x528154['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x1a69fe&&_0x1a69fe['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2e092a=_0x33c712['textures'][_0x1a69fe['specularGl'+'ossinessTe'+'xture']['index']];_0x49f014['add'](nn(_0x2e092a));}const _0x2c25dd=_0x528154['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x2c25dd&&_0x2c25dd['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x5cbf09=_0x33c712['textures'][_0x2c25dd['specularCo'+'lorTexture']['index']];_0x49f014['add'](nn(_0x5cbf09));}}}),_0x49f014;},_0x3971b3=(_0x19e19a,_0x4270c1,_0x339170,_0x5b5130,_0x1c58f7,_0x4449db)=>new Promise((_0x6610c4,_0x32d423)=>{const _0x415336=_0x35aa29=>{const _0x4082d1=(_0x19e19a['name']||'gltf-textu'+'re')+'-'+NN++,_0x175c25={'url':_0x4270c1||_0x4082d1};if(_0x35aa29&&(_0x175c25['contents']=_0x35aa29['slice'](0xa56+0x2f*0x3d+0x1589*-0x1)['buffer']),_0x5b5130){const _0x1dbcd9=_0x446e5f[_0x5b5130];_0x1dbcd9&&(_0x175c25['filename']=_0x175c25['url']+'.'+_0x1dbcd9);}const _0x533bb3={'srgb':_0x4449db},_0x2c36e4=new pe(_0x4082d1,'texture',_0x175c25,_0x533bb3,_0x1c58f7);_0x2c36e4['on']('load',_0x5d135d=>_0x6610c4(_0x5d135d)),_0x2c36e4['on']('error',_0x95e949=>_0x32d423(_0x95e949)),_0x2fd2e6['add'](_0x2c36e4),_0x2fd2e6['load'](_0x2c36e4);};_0x339170?_0x339170['then'](_0x108f72=>_0x415336(_0x108f72)):_0x415336(null);}),_0xe16d5d=_0x548c25(_0x2ccb55);return _0x2ccb55['images']['map']((_0xba895d,_0x550f5a)=>{_0x2fb5c1&&_0x2fb5c1(_0xba895d);let _0x49da37;return _0x4aff93?_0x49da37=new Promise((_0x1a9122,_0x6a4226)=>{_0x4aff93(_0xba895d,(_0x5240c3,_0x5c0ea5)=>{_0x5240c3?_0x6a4226(_0x5240c3):_0x1a9122(_0x5c0ea5);});}):_0x49da37=new Promise(_0x576d58=>{_0x576d58(null);}),_0x49da37=_0x49da37['then'](_0x33bc4a=>{const _0x271ed7=_0xe16d5d['has'](_0x550f5a);return _0x33bc4a||(_0xba895d['hasOwnProp'+'erty']('uri')?x0(_0xba895d['uri'])?_0x3971b3(_0xba895d,_0xba895d['uri'],null,jF(_0xba895d['uri']),null,_0x271ed7):_0x3971b3(_0xba895d,jn['test'](_0xba895d['uri'])?_0xba895d['uri']:xe['join'](_0x4c8edc,_0xba895d['uri']),null,null,{'crossOrigin':'anonymous'},_0x271ed7):_0xba895d['hasOwnProp'+'erty']('bufferView')&&_0xba895d['hasOwnProp'+'erty']('mimeType')?_0x3971b3(_0xba895d,null,_0x141fda[_0xba895d['bufferView']],_0xba895d['mimeType'],null,_0x271ed7):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x550f5a)));}),_0x577c9d&&(_0x49da37=_0x49da37['then'](_0x5432d4=>(_0x577c9d(_0xba895d,_0x5432d4),_0x5432d4))),_0x49da37;});},UN=(_0x5e2965,_0x4897c2,_0x55d9d2)=>{var _0x4f886f,_0x58a609,_0x11cb39,_0x4ef872,_0x242fee;if(!((_0x4f886f=_0x5e2965==null?void(0x226d+-0xfde+-0x128f):_0x5e2965['images'])!=null&&_0x4f886f['length'])||!((_0x58a609=_0x5e2965==null?void(0x8*0x38c+0x23a6+-0x4006):_0x5e2965['textures'])!=null&&_0x58a609['length']))return[];const _0x286bce=(_0x11cb39=_0x55d9d2==null?void(-0x3c4+0x4c3+-0xff):_0x55d9d2['texture'])==null?void(-0x238d+0x6e4+0x1ca9):_0x11cb39['preprocess'],_0x2db96f=(_0x4ef872=_0x55d9d2==null?void(0x13e0+-0x120*0x4+-0xf60):_0x55d9d2['texture'])==null?void(-0xe2b+-0x22d6+-0x5*-0x9cd):_0x4ef872['processAsy'+'nc'],_0x1cdee3=(_0x242fee=_0x55d9d2==null?void(-0x78a+-0x72a+0x75a*0x2):_0x55d9d2['texture'])==null?void(-0x131e*-0x2+-0x2689+0x7*0xb):_0x242fee['postproces'+'s'],_0x34c043=new Set();return _0x5e2965['textures']['map'](_0x28ef28=>{_0x286bce&&_0x286bce(_0x28ef28);let _0x39ae42;return _0x2db96f?_0x39ae42=new Promise((_0x4553ab,_0x390c59)=>{_0x2db96f(_0x28ef28,_0x5e2965['images'],(_0x1d200a,_0x2ccf4e)=>{_0x1d200a?_0x390c59(_0x1d200a):_0x4553ab(_0x2ccf4e);});}):_0x39ae42=new Promise(_0x1d6230=>{_0x1d6230(null);}),_0x39ae42=_0x39ae42['then'](_0x1b1fd6=>{_0x1b1fd6=_0x1b1fd6??nn(_0x28ef28);const _0x11e9a8=_0x34c043['has'](_0x1b1fd6);return _0x34c043['add'](_0x1b1fd6),_0x4897c2[_0x1b1fd6]['then'](_0xa3daf=>{const _0x5ee8d2=_0x11e9a8?tN(_0xa3daf):_0xa3daf;return FN(_0x5ee8d2['resource'],(_0x5e2965['samplers']??[])[_0x28ef28['sampler']]),_0x5ee8d2;});}),_0x1cdee3&&(_0x39ae42=_0x39ae42['then'](_0x5d73e4=>(_0x1cdee3(_0x28ef28,_0x5d73e4),_0x5d73e4))),_0x39ae42;});},BN=(_0x2a5bd0,_0x337146,_0x5d8924,_0x40018d)=>{var _0x1b8836,_0x49f7fe,_0xaf98a7;if(!_0x2a5bd0['buffers']||_0x2a5bd0['buffers']['length']===0xb*-0x74+0x12ef+-0x1*0xdf3)return[];const _0x37b99e=(_0x1b8836=_0x40018d==null?void(-0x877+-0x40*0x61+-0x1*-0x20b7):_0x40018d['buffer'])==null?void(0x4*-0x578+0xed6+0x70a):_0x1b8836['preprocess'],_0x23fcb2=(_0x49f7fe=_0x40018d==null?void(-0x2135+-0x1a91+0x3bc6):_0x40018d['buffer'])==null?void(0xc*-0x2e5+-0x4*-0x6df+0x740):_0x49f7fe['processAsy'+'nc'],_0x19afd8=(_0xaf98a7=_0x40018d==null?void(-0x3b*-0x11+0x2596*-0x1+0x21ab):_0x40018d['buffer'])==null?void(0xf5a+-0x2426+0x14cc):_0xaf98a7['postproces'+'s'];return _0x2a5bd0['buffers']['map']((_0x1d3968,_0x2a8614)=>{_0x37b99e&&_0x37b99e(_0x1d3968);let _0x3e2c0c;return _0x23fcb2?_0x3e2c0c=new Promise((_0x55bea8,_0x5dea12)=>{_0x23fcb2(_0x1d3968,(_0x47ee29,_0x22f7f8)=>{_0x47ee29?_0x5dea12(_0x47ee29):_0x55bea8(_0x22f7f8);});}):_0x3e2c0c=new Promise(_0x5ca999=>{_0x5ca999(null);}),_0x3e2c0c=_0x3e2c0c['then'](_0x9b170c=>{if(_0x9b170c)return _0x9b170c;if(_0x1d3968['hasOwnProp'+'erty']('uri')){if(x0(_0x1d3968['uri'])){const _0x255cbe=atob(_0x1d3968['uri']['split'](',')[0xeef*0x1+-0x78d*0x3+0x7b9]),_0x300bf5=new Uint8Array(_0x255cbe['length']);for(let _0x5a604c=-0x11*0x150+-0x1f06+0x1aab*0x2;_0x5a604c<_0x255cbe['length'];_0x5a604c++)_0x300bf5[_0x5a604c]=_0x255cbe['charCodeAt'](_0x5a604c);return _0x300bf5;}return new Promise((_0x5c74c8,_0x456585)=>{ot['get'](jn['test'](_0x1d3968['uri'])?_0x1d3968['uri']:xe['join'](_0x5d8924,_0x1d3968['uri']),{'cache':!(0x70e+0x1d42+-0xe*0x298),'responseType':'arraybuffe'+'r','retry':!(0x1c76+-0xaaa+-0x1*0x11cb)},(_0x99dfd5,_0x3cf902)=>{_0x99dfd5?_0x456585(_0x99dfd5):_0x5c74c8(new Uint8Array(_0x3cf902));});});}return _0x337146;}),_0x19afd8&&(_0x3e2c0c=_0x3e2c0c['then'](_0x4c4a52=>(_0x19afd8(_0x2a5bd0['buffers'][_0x2a8614],_0x4c4a52),_0x4c4a52))),_0x3e2c0c;});},zN=(_0x406e94,_0x1a16fb)=>{const _0x3a91fb=JSON['parse']((_0xbe8279=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0xbe8279);let _0x3eea44='';for(let _0x546b13=-0x1070+-0x23a7+0x3417;_0x546b13<_0xbe8279['length'];_0x546b13++)_0x3eea44+=String['fromCharCo'+'de'](_0xbe8279[_0x546b13]);return decodeURIComponent(escape(_0x3eea44));})(_0x406e94));if(_0x3a91fb['asset']&&_0x3a91fb['asset']['version']&&parseFloat(_0x3a91fb['asset']['version'])<-0x25*-0x9a+-0xa74+-0xbcc){_0x1a16fb('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3a91fb['asset']['version']+'\x27.');return;}_0x1a16fb(null,_0x3a91fb);},VN=(_0x1199de,_0x7713a2)=>{const _0x74713c=_0x1199de instanceof ArrayBuffer?new DataView(_0x1199de):new DataView(_0x1199de['buffer'],_0x1199de['byteOffset'],_0x1199de['byteLength']),_0x12b5fb=_0x74713c['getUint32'](0xcef+0x1051+-0x1d40,!(0xa9*0x10+-0xa61+-0x2f)),_0x171238=_0x74713c['getUint32'](-0x19*-0xa1+0x2590+-0x3545,!(-0x124b+0x23b8+-0x116d)),_0x23582e=_0x74713c['getUint32'](-0x1b41+-0x22b6+-0x10d*-0x3b,!(0x1b*-0x12b+-0x614*-0x3+0xd4d*0x1));if(_0x12b5fb!==-0x79d09215+-0x2ec795*0x154+0xfe461060){_0x7713a2('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x12b5fb['toString'](-0x1c3c+-0xfbf+0x2c0b));return;}if(_0x171238!==0x1162+0x1*0x1e71+0x2fd1*-0x1){_0x7713a2('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x171238);return;}if(_0x23582e<=-0xa74*0x3+0x16+0x1f46||_0x23582e>_0x74713c['byteLength']){_0x7713a2('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x23582e);return;}const _0x4fe9bd=[];let _0x27b0a4=0x1409*0x1+0x177f+-0x2b7c;for(;_0x27b0a4<_0x23582e;){const _0xfb11f7=_0x74713c['getUint32'](_0x27b0a4,!(-0x163*0x8+0x1*0xbf7+-0xdf));_0x27b0a4+_0xfb11f7+(-0x2ab*-0x1+-0x48a+-0x1e7*-0x1)>_0x74713c['byteLength']&&_0x7713a2('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0xfb11f7);const _0x5d606b=_0x74713c['getUint32'](_0x27b0a4+(0xf19+0x1*0x1697+-0x25ac),!(-0x1aed+-0x172+0x1c5f)),_0x34336c=new Uint8Array(_0x74713c['buffer'],_0x74713c['byteOffset']+_0x27b0a4+(0xd48+0x1*0xa25+0x1*-0x1765),_0xfb11f7);_0x4fe9bd['push']({'length':_0xfb11f7,'type':_0x5d606b,'data':_0x34336c}),_0x27b0a4+=_0xfb11f7+(0xd*-0x139+0x1525+0x14e*-0x4);}if(_0x4fe9bd['length']!==-0x144a+-0xd1*-0x25+-0x9ea&&_0x4fe9bd['length']!==-0x1b7c+-0x18b6+0x3434){_0x7713a2('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4fe9bd[0x20cf+-0x23a1+-0x2*-0x169]['type']!==0x2d6aa9*0xca+0x3a162cec+-0xf9d02fc){_0x7713a2('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4fe9bd[-0x11e7+0xc6c*-0x1+0x1e53*0x1]['type']['toString'](0x14ea+-0xe92+0x192*-0x4));return;}if(_0x4fe9bd['length']>-0x25ff+-0x13ca+0x39ca&&_0x4fe9bd[-0x9*0xa7+0x1e03+-0x1823*0x1]['type']!==0x115107+-0x1e1ca7+-0x2*-0x2d8a71){_0x7713a2('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4fe9bd[0x1c13+0x49*0x13+-0x1*0x217d]['type']['toString'](-0x1*0x1d80+0x3a4+0x19ec));return;}_0x7713a2(null,{'gltfChunk':_0x4fe9bd[-0x281*0x3+-0x52a+0xcad]['data'],'binaryChunk':_0x4fe9bd['length']===0x252c+-0x7d7*-0x2+-0x59*0x98?_0x4fe9bd[-0x7fa*0x1+0x1*0x1f3f+0xba2*-0x2]['data']:null});},GN=(_0x5380ba,_0x27b4eb,_0x52424c)=>{const _0x5588a9=()=>{const _0x16e6a3=new Uint8Array(_0x27b4eb);return _0x16e6a3[0x44b+-0x2464+0x9*0x391]===0x1*0x76b+0xbe4+0x79*-0x28&&_0x16e6a3[0x16e8+-0x7d8+-0xf*0x101]===-0x7ef+-0x1*-0x228a+-0x1a2f&&_0x16e6a3[-0x2*-0x1283+-0xef5+-0x160f]===-0x2*0x4c0+0x29*0x43+-0xe7&&_0x16e6a3[-0x2196+0x13ac+0xded*0x1]===-0xb*-0x295+0x7d*0x24+0x2db5*-0x1;};_0x5380ba&&_0x5380ba['toLowerCas'+'e']()['endsWith']('.glb')||_0x5588a9()?VN(_0x27b4eb,_0x52424c):_0x52424c(null,{'gltfChunk':_0x27b4eb,'binaryChunk':null});},HN=(_0x443491,_0xb3996a,_0x21a5a8)=>{var _0x1c037a,_0x56795b,_0x33b328,_0x2bf6b8;const _0x4fe741=[],_0x4f8d45=(_0x1c037a=_0x21a5a8==null?void(-0x3*0xb43+0x1da3+-0x426*-0x1):_0x21a5a8['bufferView'])==null?void(0x1628+-0x1470+-0x2c*0xa):_0x1c037a['preprocess'],_0x4df3f1=(_0x56795b=_0x21a5a8==null?void(0x109*-0x4+-0x268d+0x2ab1):_0x21a5a8['bufferView'])==null?void(-0x54a+0x2*0x9cd+-0xe50):_0x56795b['processAsy'+'nc'],_0x524952=(_0x33b328=_0x21a5a8==null?void(-0x1*-0x2+0xf74+-0xf76):_0x21a5a8['bufferView'])==null?void(0x9ca*-0x2+-0xd91+-0x6a1*-0x5):_0x33b328['postproces'+'s'];if(!((_0x2bf6b8=_0x443491['bufferView'+'s'])!=null&&_0x2bf6b8['length']))return _0x4fe741;for(let _0x17b909=0x18a9+-0x15c4+-0x2e5;_0x17b909<_0x443491['bufferView'+'s']['length'];++_0x17b909){const _0x32c0a5=_0x443491['bufferView'+'s'][_0x17b909];_0x4f8d45&&_0x4f8d45(_0x32c0a5);let _0x59a742;_0x4df3f1?_0x59a742=new Promise((_0x1cd1c7,_0x139f49)=>{_0x4df3f1(_0x32c0a5,_0xb3996a,(_0x5d9848,_0x56e28f)=>{_0x5d9848?_0x139f49(_0x5d9848):_0x1cd1c7(_0x56e28f);});}):_0x59a742=new Promise(_0x40d34a=>{_0x40d34a(null);}),_0x59a742=_0x59a742['then'](_0x18da8d=>_0x18da8d||_0xb3996a[_0x32c0a5['buffer']]['then'](_0x15a258=>new Uint8Array(_0x15a258['buffer'],_0x15a258['byteOffset']+(_0x32c0a5['byteOffset']||0x1ed6+0xb3e*0x1+-0x2a14),_0x32c0a5['byteLength']))),_0x32c0a5['hasOwnProp'+'erty']('byteStride')&&(_0x59a742=_0x59a742['then'](_0x1ad5dd=>(_0x1ad5dd['byteStride']=_0x32c0a5['byteStride'],_0x1ad5dd))),_0x524952&&(_0x59a742=_0x59a742['then'](_0x13e907=>(_0x524952(_0x32c0a5,_0x13e907),_0x13e907))),_0x4fe741['push'](_0x59a742);}return _0x4fe741;};class kh{static['parse'](_0x10e89a,_0x34bc5a,_0x272fed,_0x2d5420,_0x42ab94,_0x50361f,_0x49c479){GN(_0x10e89a,_0x272fed,(_0x5980f0,_0x55075f)=>{if(_0x5980f0){_0x49c479(_0x5980f0);return;}zN(_0x55075f['gltfChunk'],(_0x2c8887,_0xcf8ad9)=>{if(_0x2c8887){_0x49c479(_0x2c8887);return;}const _0x37436b=BN(_0xcf8ad9,_0x55075f['binaryChun'+'k'],_0x34bc5a,_0x50361f),_0x2c13d9=HN(_0xcf8ad9,_0x37436b,_0x50361f),_0x20bf98=kN(_0xcf8ad9,_0x2c13d9,_0x34bc5a,_0x42ab94,_0x50361f),_0x76cc2d=UN(_0xcf8ad9,_0x20bf98,_0x50361f);ON(_0x2d5420,_0xcf8ad9,_0x2c13d9,_0x76cc2d,_0x50361f)['then'](_0x18de12=>_0x49c479(null,_0x18de12))['catch'](_0x26fc42=>_0x49c479(_0x26fc42));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x5ee676){super(_0x5ee676,'animation'),this['device']=_0x5ee676['graphicsDe'+'vice'],this['assets']=_0x5ee676['assets'];}['load'](_0x5e5737,_0x443c70,_0x24fe65){typeof _0x5e5737=='string'&&(_0x5e5737={'load':_0x5e5737,'original':_0x5e5737});const _0x389409={'retry':this['maxRetries']>0x147d+-0x43c+0x39*-0x49,'maxRetries':this['maxRetries']};(_0x5e5737['load']['startsWith']('blob:')||_0x5e5737['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x5e5737['original'])['toLowerCas'+'e']()==='.glb'?_0x389409['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x389409['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5e5737['load'],_0x389409,(_0x48d215,_0x4111fa)=>{_0x48d215?_0x443c70('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x5e5737['original']+'\x20['+_0x48d215+']'):xe['getExtensi'+'on'](_0x5e5737['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x4111fa,this['device'],this['assets'],(_0x24fe65==null?void(0x2*-0xce3+0xa18+0x2*0x7d7):_0x24fe65['options'])??{},(_0x3ff1b9,_0x13d74e)=>{var _0x4ada62;if(_0x3ff1b9)_0x443c70(_0x3ff1b9);else{const _0x46fe6a=_0x13d74e['animations'];if((_0x4ada62=_0x24fe65==null?void(0x11a1*0x2+0x1be7*-0x1+0x7*-0x10d):_0x24fe65['data'])!=null&&_0x4ada62['events']){for(let _0x191632=-0x1b3c+0x637+0x1505;_0x191632<_0x46fe6a['length'];_0x191632++)_0x46fe6a[_0x191632]['events']=new Hv(Object['values'](_0x24fe65['data']['events']));}_0x13d74e['destroy'](),_0x443c70(null,_0x46fe6a);}}):_0x443c70(null,this['_parseAnim'+'ationV'+_0x4111fa['animation']['version']](_0x4111fa));});}['open'](_0x58e6ed,_0x118239,_0x39b80b){return _0x118239;}['_parseAnim'+'ationV3'](_0xe4ccd){const _0x4c61c5=_0xe4ccd['animation'],_0x4172ab=new ug();_0x4172ab['name']=_0x4c61c5['name'],_0x4172ab['duration']=_0x4c61c5['duration'];for(let _0x2bcc35=0x3*0x4d6+0xcb9*0x1+-0x1*0x1b3b;_0x2bcc35<_0x4c61c5['nodes']['length'];_0x2bcc35++){const _0xd534ba=new fg(),_0x567587=_0x4c61c5['nodes'][_0x2bcc35];_0xd534ba['_name']=_0x567587['name'];for(let _0x47b4ce=0x2b*0x6+-0xa4c+0x94a;_0x47b4ce<_0x567587['keys']['length'];_0x47b4ce++){const _0x4f49aa=_0x567587['keys'][_0x47b4ce],_0x2191e0=_0x4f49aa['time'],_0x50bed5=_0x4f49aa['pos'],_0x36d931=_0x4f49aa['rot'],_0xc9cb7e=_0x4f49aa['scale'],_0x37b6ae=new D(_0x50bed5[-0xa4e*-0x1+-0x53*-0x3+0x1*-0xb47],_0x50bed5[0x261*-0x1+0x214f+-0x1eed],_0x50bed5[-0x39+0x1cd8+0x5b9*-0x5]),_0x2b4faf=new le()['setFromEul'+'erAngles'](_0x36d931[0xa5b+-0x1f40+0x14e5],_0x36d931[0x25e6+0xf24+-0x1*0x3509],_0x36d931[0x85f+-0xfe7+-0x2*-0x3c5]),_0x279381=new D(_0xc9cb7e[-0x83*-0x43+-0x15ff*0x1+-0xc4a],_0xc9cb7e[0x255+-0xe8e+-0x2*-0x61d],_0xc9cb7e[0x5e3+-0x62a*0x4+-0xfd*-0x13]),_0x2fc31e=new dg(_0x2191e0,_0x37b6ae,_0x2b4faf,_0x279381);_0xd534ba['_keys']['push'](_0x2fc31e);}_0x4172ab['addNode'](_0xd534ba);}return _0x4172ab;}['_parseAnim'+'ationV4'](_0x4ffa09){const _0x36ea4d=_0x4ffa09['animation'],_0x326f11=new ug();_0x326f11['name']=_0x36ea4d['name'],_0x326f11['duration']=_0x36ea4d['duration'];for(let _0x2d329c=-0x29*0xb5+0xa75*-0x1+0x2772;_0x2d329c<_0x36ea4d['nodes']['length'];_0x2d329c++){const _0x19e8fd=new fg(),_0x3e2b13=_0x36ea4d['nodes'][_0x2d329c];_0x19e8fd['_name']=_0x3e2b13['name'];const _0x6f1aa2=_0x3e2b13['defaults']['p'],_0x47a832=_0x3e2b13['defaults']['r'],_0x10319f=_0x3e2b13['defaults']['s'];for(let _0x54c123=0x60*-0x4f+-0x1d33+0x3ad3;_0x54c123<_0x3e2b13['keys']['length'];_0x54c123++){const _0xebd949=_0x3e2b13['keys'][_0x54c123],_0x179cfd=_0xebd949['t'],_0x150eec=_0x6f1aa2||_0xebd949['p'],_0x127307=_0x47a832||_0xebd949['r'],_0x121dbd=_0x10319f||_0xebd949['s'],_0xe4324d=new D(_0x150eec[0x1c2+0x2606+-0x27c8],_0x150eec[0x1*-0x197+0x2e8*0x1+0xe*-0x18],_0x150eec[0x1*0x1a97+0x151*0x11+0x3*-0x1052]),_0x15b9eb=new le()['setFromEul'+'erAngles'](_0x127307[-0x1d4b+-0x2*0xc38+0xabf*0x5],_0x127307[-0x20c*0x12+0x4e3*-0x5+-0x2*-0x1ea4],_0x127307[-0x13e5+0x1e3d*-0x1+0x3224]),_0x59bfac=new D(_0x121dbd[0x2498+0x392+-0x1415*0x2],_0x121dbd[0x1bed+-0xda*0x2c+0x4c6*0x2],_0x121dbd[0x97*0x3d+0x702+-0x2afb*0x1]),_0x942424=new dg(_0x179cfd,_0xe4324d,_0x15b9eb,_0x59bfac);_0x19e8fd['_keys']['push'](_0x942424);}_0x326f11['addNode'](_0x19e8fd);}return _0x326f11;}}class $N extends Qe{constructor(_0x324103){super(_0x324103,'animclip');}['load'](_0x1f7e30,_0x44f698){typeof _0x1f7e30=='string'&&(_0x1f7e30={'load':_0x1f7e30,'original':_0x1f7e30});const _0x83ffd4={'retry':this['maxRetries']>-0x20f2*-0x1+-0x66*0x4b+0xe*-0x38,'maxRetries':this['maxRetries']};_0x1f7e30['load']['startsWith']('blob:')&&(_0x83ffd4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1f7e30['load'],_0x83ffd4,(_0xc0afc3,_0x3dfef8)=>{_0xc0afc3?_0x44f698('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x1f7e30['original']+'\x20['+_0xc0afc3+']'):_0x44f698(null,_0x3dfef8);});}['open'](_0x440da0,_0x3ce680){const _0x53d8c9=_0x3ce680['name'],_0x3b4115=_0x3ce680['duration'],_0x961a52=_0x3ce680['inputs']['map'](_0x315aff=>new Fh(-0x3*-0x60d+0xea*0x11+0x4*-0x86c,_0x315aff)),_0x256f58=_0x3ce680['outputs']['map'](_0x55f007=>new Fh(_0x55f007['components'],_0x55f007['data'])),_0x5f163a=_0x3ce680['curves']['map'](_0x42886b=>new v0([_0x42886b['path']],_0x42886b['inputIndex'],_0x42886b['outputInde'+'x'],_0x42886b['interpolat'+'ion']));return new Qi(_0x53d8c9,_0x3b4115,_0x961a52,_0x256f58,_0x5f163a);}}class XN extends Qe{constructor(_0x56f8f9){super(_0x56f8f9,'animstateg'+'raph');}['load'](_0xca737b,_0x10a8a1){typeof _0xca737b=='string'&&(_0xca737b={'load':_0xca737b,'original':_0xca737b});const _0x3b0d1c={'retry':this['maxRetries']>0x16eb*0x1+0x8be+0x1*-0x1fa9,'maxRetries':this['maxRetries']};_0xca737b['load']['startsWith']('blob:')&&(_0x3b0d1c['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0xca737b['load'],_0x3b0d1c,(_0x1426fd,_0x2e2762)=>{_0x1426fd?_0x10a8a1('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0xca737b['original']+'\x20['+_0x1426fd+']'):_0x10a8a1(null,_0x2e2762);});}['open'](_0x4d9118,_0x4e7448){return new Jc(_0x4e7448);}}const Af=(function(){if(typeof window>'u')return!(0xc91*0x1+-0x1*0x16c1+0xa31);const _0x208378=window['navigator']['userAgent'],_0x10e59c=_0x208378['indexOf']('MSIE\x20');if(_0x10e59c>0xeb*0x4+-0x372*-0xb+-0x2992)return parseInt(_0x208378['substring'](_0x10e59c+(-0x156a+0xcfe+0x1*0x871),_0x208378['indexOf']('.',_0x10e59c)),0x1*-0x1a11+-0x190f+0x332a);if(_0x208378['indexOf']('Trident/')>0x154b+0x2*0x1005+-0x3555){const _0x142d41=_0x208378['indexOf']('rv:');return parseInt(_0x208378['substring'](_0x142d41+(-0xda9+0x124e+-0x4a2*0x1),_0x208378['indexOf']('.',_0x142d41)),-0x203e*0x1+-0xc1+0x2109);}return!(0x2247+-0x2380+0x9d*0x2);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x39c822){super(_0x39c822,'audio'),this['manager']=_0x39c822['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x2fa052){const _0x1967a9=xe['getExtensi'+'on'](_0x2fa052);return qN['indexOf'](_0x1967a9)>-(0x106c*0x1+0x179+0x8f2*-0x2)||_0x2fa052['startsWith']('blob:');}['load'](_0x47f3fc,_0x351880){typeof _0x47f3fc=='string'&&(_0x47f3fc={'load':_0x47f3fc,'original':_0x47f3fc});const _0x2f29a6=function(_0x284e3b){_0x351880(null,new Mw(_0x284e3b));},_0x5a61af=function(_0x368132){let _0x2cc8ee='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x47f3fc['original'];_0x368132&&(_0x2cc8ee+=':\x20'+(_0x368132['message']||_0x368132)),console['warn'](_0x2cc8ee),_0x351880(_0x2cc8ee);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x47f3fc['original'])){_0x5a61af('Audio\x20form'+'at\x20for\x20'+_0x47f3fc['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x47f3fc['load'],_0x2f29a6,_0x5a61af);}else _0x5a61af(null);}['_createSou'+'nd'](_0x579c5e,_0x331366,_0x23e528){if(Dl()){const _0x26e56d=this['manager'];if(!_0x26e56d['context']){_0x23e528('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x352166={'retry':this['maxRetries']>0xa*0x4b+-0x11a0*-0x2+-0x262e,'maxRetries':this['maxRetries']};(_0x579c5e['startsWith']('blob:')||_0x579c5e['startsWith']('data:'))&&(_0x352166['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x579c5e,_0x352166,(_0x4246cf,_0x106481)=>{if(_0x4246cf){_0x23e528(_0x4246cf);return;}_0x26e56d['context']['decodeAudi'+'oData'](_0x106481,_0x331366,_0x23e528);});}else{let _0x125e43=null;try{_0x125e43=new Audio();}catch{_0x23e528('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x125e43);const _0x3b4d25=function(){_0x125e43['removeEven'+'tListener']('canplaythr'+'ough',_0x3b4d25),Af&&document['body']['removeChil'+'d'](_0x125e43),_0x331366(_0x125e43);};_0x125e43['onerror']=function(){_0x125e43['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x125e43),_0x23e528();},_0x125e43['addEventLi'+'stener']('canplaythr'+'ough',_0x3b4d25),_0x125e43['src']=_0x579c5e;}}}class YN extends Qe{constructor(_0xb9c4d5){super(_0xb9c4d5,'binary');}['load'](_0x46632a,_0xb96872){typeof _0x46632a=='string'&&(_0x46632a={'load':_0x46632a,'original':_0x46632a}),ot['get'](_0x46632a['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x8b8*0x1+-0x10*0x27+-0x2ca*-0x4,'maxRetries':this['maxRetries']},(_0x548a5f,_0x5c89ad)=>{_0x548a5f?_0xb96872('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x46632a['original']+'\x20['+_0x548a5f+']'):_0xb96872(null,_0x5c89ad);});}['openBinary'](_0x2afdc9){return _0x2afdc9['buffer'];}}class yr{constructor(_0x1f0974,_0x32b93b,_0x4b0719,_0x4c007d){const _0x431eac=function(_0x1c2897,_0x4b312d,_0x4dbc5d){const _0x55a024=yr['createAsse'+'t'](_0x32b93b['name'],_0x1c2897,_0x4b312d,_0x4dbc5d);return _0x4b0719['add'](_0x55a024),_0x55a024;},_0x3de89b=[];for(let _0x472738=0x1daa+0x89*0x1+0x9*-0x35b;_0x472738<_0x1f0974['renders']['length'];++_0x472738)_0x3de89b['push'](_0x431eac('render',_0x1f0974['renders'][_0x472738],_0x472738));const _0x2c7964=[];for(let _0x26c7cc=0x2306+-0x53*0x14+-0x1c8a;_0x26c7cc<_0x1f0974['materials']['length'];++_0x26c7cc)_0x2c7964['push'](_0x431eac('material',_0x1f0974['materials'][_0x26c7cc],_0x26c7cc));const _0x250450=[];for(let _0x49d392=0x1*-0x158b+0x1015*0x1+0x576;_0x49d392<_0x1f0974['animations']['length'];++_0x49d392)_0x250450['push'](_0x431eac('animation',_0x1f0974['animations'][_0x49d392],_0x49d392));this['data']=_0x1f0974,this['_model']=null,this['_assetName']=_0x32b93b['name'],this['_assets']=_0x4b0719,this['_defaultMa'+'terial']=_0x4c007d,this['renders']=_0x3de89b,this['materials']=_0x2c7964,this['textures']=_0x1f0974['textures'],this['animations']=_0x250450;}get['model'](){if(!this['_model']){const _0x13e307=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x34512a=yr['createAsse'+'t'](this['_assetName'],'model',_0x13e307,0xb*-0x305+0x2fa+-0x1*-0x1e3d);this['_assets']['add'](_0x34512a),this['_model']=_0x34512a;}return this['_model'];}static['createAsse'+'t'](_0x31be95,_0x56294d,_0x24412c,_0x354be4){const _0x43535d=new pe(_0x31be95+'/'+_0x56294d+'/'+_0x354be4,_0x56294d,{'url':''});return _0x43535d['resource']=_0x24412c,_0x43535d['loaded']=!(0x32f+0x19*-0x1d+-0x5a),_0x43535d;}['instantiat'+'eModelEnti'+'ty'](_0x2d65bc){const _0x15d008=new lt(void(-0x1*0xeb7+0x1c66+-0x71*0x1f),this['_assets']['_loader']['_app']);return _0x15d008['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x2d65bc)),_0x15d008;}['instantiat'+'eRenderEnt'+'ity'](_0x384227){const _0x1a4cf6=this['_defaultMa'+'terial'],_0x496b12=[],_0xa57306=function(_0x295e54,_0x29d949,_0x366d22,_0x578987,_0x5841d2,_0x11a3b2,_0x1bdf91,_0x18b5ec){const _0x4cc7c7=_0x5841d2[_0x366d22['id']],_0xdb769c=_0x4cc7c7===void(0x82b+-0x1df3+0x15c8)?_0x1a4cf6:_0x578987[_0x4cc7c7],_0x1a40f3=new He(_0x366d22,_0xdb769c);_0x366d22['morph']&&(_0x1a40f3['morphInsta'+'nce']=new xa(_0x366d22['morph'])),_0x1bdf91['hasOwnProp'+'erty']('skin')&&_0x496b12['push']({'meshInstance':_0x1a40f3,'rootBone':_0x295e54,'entity':_0x29d949});const _0x57c8a2=_0x18b5ec['get'](_0x1bdf91);if(_0x57c8a2){const _0x462d40=_0x57c8a2['matrices'],_0x2b00db=kt['getDefault'+'Instancing'+'Format'](_0x366d22['device']),_0x2f8ed5=new Is(_0x366d22['device'],_0x2b00db,_0x462d40['length']/(0x239f*0x1+0x1*0x1777+0xbce*-0x5),{'data':_0x462d40});_0x1a40f3['setInstanc'+'ing'](_0x2f8ed5),_0x1a40f3['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x1*0x25fa+0x114e+-0x3748);}return _0x1a40f3;},_0x5657f5=(_0x1504ff,_0x478a11,_0x2f3f2c)=>{const _0x46d8c8=new lt(void(-0x1a*-0x97+0x617+0x449*-0x5),this['_assets']['_loader']['_app']);_0x478a11['_cloneInte'+'rnal'](_0x46d8c8),_0x1504ff||(_0x1504ff=_0x46d8c8);let _0x5b063b=null,_0x320ba4=null;for(let _0xd3e15=-0x2d*-0x53+0xb*-0x193+-0x2*-0x15d;_0xd3e15<_0x2f3f2c['nodes']['length'];_0xd3e15++)if(_0x2f3f2c['nodes'][_0xd3e15]===_0x478a11){const _0x49eb53=_0x2f3f2c['gltf']['nodes'][_0xd3e15];if(_0x49eb53['hasOwnProp'+'erty']('mesh')){const _0x47c4de=_0x2f3f2c['renders'][_0x49eb53['mesh']]['meshes'];_0x320ba4=this['renders'][_0x49eb53['mesh']];for(let _0x29a0c4=0x170c+0x1*0x753+0x1e5f*-0x1;_0x29a0c4<_0x47c4de['length'];_0x29a0c4++){const _0x1355f5=_0x47c4de[_0x29a0c4];if(_0x1355f5){const _0x580524=_0xa57306(_0x1504ff,_0x46d8c8,_0x1355f5,_0x2f3f2c['materials'],_0x2f3f2c['meshDefaul'+'tMaterials'],_0x2f3f2c['skins'],_0x49eb53,_0x2f3f2c['nodeInstan'+'cingMap']);_0x5b063b||(_0x5b063b=[]),_0x5b063b['push'](_0x580524);}}}if(_0x2f3f2c['lights']){const _0x232a7b=_0x2f3f2c['lights']['get'](_0x49eb53);_0x232a7b&&_0x46d8c8['addChild'](_0x232a7b['clone']());}if(_0x2f3f2c['cameras']){const _0x2d6318=_0x2f3f2c['cameras']['get'](_0x49eb53);_0x2d6318&&_0x2d6318['camera']['system']['cloneCompo'+'nent'](_0x2d6318,_0x46d8c8);}}_0x5b063b&&(_0x46d8c8['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x5b063b},_0x384227)),_0x46d8c8['render']['assignAsse'+'t'](_0x320ba4));const _0x2f230f=_0x478a11['children'];for(let _0x20f019=0x256*0x9+0x1*0x84b+-0x1d51;_0x20f019<_0x2f230f['length'];_0x20f019++){const _0x2a1767=_0x5657f5(_0x1504ff,_0x2f230f[_0x20f019],_0x2f3f2c);_0x46d8c8['addChild'](_0x2a1767);}return _0x46d8c8;},_0x5180cf=[];for(const _0x147c58 of this['data']['scenes'])_0x5180cf['push'](_0x5657f5(null,_0x147c58,this['data']));return _0x496b12['forEach'](_0x182645=>{_0x182645['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x182645['meshInstan'+'ce']['mesh']['skin'],_0x182645['rootBone'],_0x182645['entity']),_0x182645['meshInstan'+'ce']['node']['render']['rootBone']=_0x182645['rootBone'];}),yr['createScen'+'eHierarchy'](_0x5180cf,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x1ece19,_0x2fe79f){const _0x5856b6=_0x2fe79f?this['data']['variants'][_0x2fe79f]:null;if(_0x5856b6===void(-0x1f54+-0xd37+-0xb5*-0x3f)){w['warn']('No\x20variant'+'\x20named\x20'+_0x2fe79f+('\x20exists\x20in'+'\x20resource'));return;}const _0x47f271=_0x1ece19['findCompon'+'ents']('render');for(let _0x5c3913=0x66e*0x6+0xfb8+-0x1*0x364c;_0x5c3913<_0x47f271['length'];_0x5c3913++){const _0x465b7d=_0x47f271[_0x5c3913];this['_applyMate'+'rialVarian'+'t'](_0x5856b6,_0x465b7d['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x1e5a2a,_0x1001e7){const _0x4a4f7a=_0x1001e7?this['data']['variants'][_0x1001e7]:null;if(_0x4a4f7a===void(-0x16*0x27+-0x2112+-0x3f*-0x94)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1001e7+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x4a4f7a,_0x1e5a2a);}['_applyMate'+'rialVarian'+'t'](_0x299cb8,_0x22c0f8){_0x22c0f8['forEach'](_0x40c31a=>{if(_0x299cb8===null)_0x40c31a['material']=this['_defaultMa'+'terial'];else{const _0x1cbdbe=this['data']['meshVarian'+'ts'][_0x40c31a['mesh']['id']];_0x1cbdbe&&(_0x40c31a['material']=this['data']['materials'][_0x1cbdbe[_0x299cb8]]);}w['assert'](_0x40c31a['material']);});}static['createScen'+'eHierarchy'](_0x4348c0,_0xc1977e){let _0xa48917=null;if(_0x4348c0['length']===0xfa1+-0x900+-0x6a0)_0xa48917=_0x4348c0[-0x1ac3+-0x102c+-0x1d*-0x17b];else{_0xa48917=new _0xc1977e('SceneGroup');for(const _0x5b1a4c of _0x4348c0)_0xa48917['addChild'](_0x5b1a4c);}return _0xa48917;}static['createMode'+'l'](_0x52cf4e,_0x5f0892){const _0x45c9f0=function(_0x488733,_0x196088,_0x345da8,_0x38da1f,_0x52c617,_0x481639,_0x3c1365){const _0x36be1a=_0x52cf4e['meshDefaul'+'tMaterials'][_0x196088['id']],_0x359f9a=_0x36be1a===void(0xb*0x24b+0x1f*0x86+0x3*-0xdd1)?_0x5f0892:_0x52c617[_0x36be1a],_0xa8b193=new He(_0x196088,_0x359f9a,_0x481639);if(_0x196088['morph']){const _0x59e141=new xa(_0x196088['morph']);_0xa8b193['morphInsta'+'nce']=_0x59e141,_0x488733['morphInsta'+'nces']['push'](_0x59e141);}if(_0x3c1365['hasOwnProp'+'erty']('skin')){const _0x3e677d=_0x3c1365['skin'],_0x374bcb=_0x345da8[_0x3e677d];_0x196088['skin']=_0x374bcb;const _0x79b8e7=_0x38da1f[_0x3e677d];_0xa8b193['skinInstan'+'ce']=_0x79b8e7,_0x488733['skinInstan'+'ces']['push'](_0x79b8e7);}_0x488733['meshInstan'+'ces']['push'](_0xa8b193);},_0x5ab280=new sr(),_0xd6633=[];for(const _0x542bf1 of _0x52cf4e['skins']){const _0x1d5ecd=new Ol(_0x542bf1);_0x1d5ecd['bones']=_0x542bf1['bones'],_0xd6633['push'](_0x1d5ecd);}_0x5ab280['graph']=yr['createScen'+'eHierarchy'](_0x52cf4e['scenes'],Ie);for(let _0x1e506a=0x1*-0x1adc+0x257c+-0xaa0;_0x1e506a<_0x52cf4e['nodes']['length'];_0x1e506a++){const _0x297028=_0x52cf4e['nodes'][_0x1e506a];if(_0x297028['root']===_0x5ab280['graph']){const _0x4f641c=_0x52cf4e['gltf']['nodes'][_0x1e506a];if(_0x4f641c['hasOwnProp'+'erty']('mesh')){const _0x34ee8e=_0x52cf4e['renders'][_0x4f641c['mesh']]['meshes'];for(let _0x58db06=-0x2*-0x46f+-0x5ec*0x2+0x2fa;_0x58db06<_0x34ee8e['length'];_0x58db06++){const _0x213691=_0x34ee8e[_0x58db06];_0x213691&&_0x45c9f0(_0x5ab280,_0x213691,_0x52cf4e['skins'],_0xd6633,_0x52cf4e['materials'],_0x297028,_0x4f641c);}}}}return _0x5ab280;}['destroy'](){const _0x558797=this['_assets'],_0x1fac2c=function(_0x218e7f){_0x558797['remove'](_0x218e7f),_0x218e7f['unload']();},_0x1b8110=function(_0x46f4e7){_0x46f4e7['forEach'](_0x4f3ff0=>{_0x1fac2c(_0x4f3ff0);});};this['animations']&&(_0x1b8110(this['animations']),this['animations']=null),this['textures']&&(_0x1b8110(this['textures']),this['textures']=null),this['materials']&&(_0x1b8110(this['materials']),this['materials']=null),this['renders']&&(_0x1b8110(this['renders']),this['renders']=null),this['_model']&&(_0x1fac2c(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x2c6290,_0x51a0d6,_0x56fef6){this['_device']=_0x2c6290,this['_assets']=_0x51a0d6,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x56fef6;}['_getUrlWit'+'houtParams'](_0x4052cc){return _0x4052cc['indexOf']('?')>=-0x25e7+0x2425+0x1c2*0x1?_0x4052cc['split']('?')[-0x1c6d+-0x895+0x2*0x1281]:_0x4052cc;}['load'](_0x2eb6ec,_0x3d68d8,_0x1140a4){pe['fetchArray'+'Buffer'](_0x2eb6ec['load'],(_0x1fa4d1,_0x156fff)=>{_0x1fa4d1?_0x3d68d8(_0x1fa4d1):kh['parse'](this['_getUrlWit'+'houtParams'](_0x2eb6ec['original']),xe['extractPat'+'h'](_0x2eb6ec['load']),_0x156fff,this['_device'],_0x1140a4['registry'],_0x1140a4['options'],(_0x30c507,_0x506587)=>{_0x30c507?_0x3d68d8(_0x30c507):_0x3d68d8(null,new yr(_0x506587,_0x1140a4,this['_assets'],this['_defaultMa'+'terial']));});},_0x1140a4,this['maxRetries']);}['open'](_0x24345e,_0x12158a,_0x1311c6){return _0x12158a;}['patch'](_0x1e3398,_0x58b5e5){}}class ZN extends Qe{constructor(_0x4020c4){super(_0x4020c4,'container'),this['glbContain'+'erParser']=new KN(_0x4020c4['graphicsDe'+'vice'],_0x4020c4['assets'],0x23ef+-0x1b6c+-0x883*0x1),this['parsers']={};}set['maxRetries'](_0x5e8103){this['glbContain'+'erParser']['maxRetries']=_0x5e8103;for(const _0x212cb6 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x212cb6)&&(this['parsers'][_0x212cb6]['maxRetries']=_0x5e8103);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0xe64f4){return _0xe64f4['indexOf']('?')>=-0x1b27+0x1*0xc2f+0xef8?_0xe64f4['split']('?')[-0x75+-0x6*-0x3e9+-0x7ab*0x3]:_0xe64f4;}['_getParser'](_0x1cbc21){const _0x2167a9=_0x1cbc21?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1cbc21))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x2167a9]||this['glbContain'+'erParser'];}['load'](_0x1e74df,_0x25a987,_0x59df2d){typeof _0x1e74df=='string'&&(_0x1e74df={'load':_0x1e74df,'original':_0x1e74df}),this['_getParser'](_0x1e74df['original'])['load'](_0x1e74df,_0x25a987,_0x59df2d);}['open'](_0x3b4a47,_0x4b15a4,_0x546924){return this['_getParser'](_0x3b4a47)['open'](_0x3b4a47,_0x4b15a4,_0x546924);}}class QN extends Qe{constructor(_0x508056){super(_0x508056,'css'),h(this,'decoder',null);}['load'](_0xfa10d8,_0x3c183b){typeof _0xfa10d8=='string'&&(_0xfa10d8={'load':_0xfa10d8,'original':_0xfa10d8}),ot['get'](_0xfa10d8['load'],{'retry':this['maxRetries']>0xfbb*0x1+0x13*-0x5f+-0x8ae*0x1,'maxRetries':this['maxRetries']},(_0x56ea1d,_0xa12cbf)=>{_0x56ea1d?_0x3c183b('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xfa10d8['original']+'\x20['+_0x56ea1d+']'):_0x3c183b(null,_0xa12cbf);});}['openBinary'](_0x22252f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x22252f);}}class JN extends Qe{constructor(_0x476480){super(_0x476480,'cubemap'),this['_device']=_0x476480['graphicsDe'+'vice'],this['_registry']=_0x476480['assets'],this['_loader']=_0x476480['loader'];}['load'](_0x440236,_0x4098d6,_0xe6e025){this['loadAssets'](_0xe6e025,_0x4098d6);}['open'](_0x2b5b0d,_0x13c216,_0x5c24f4){return _0x5c24f4?_0x5c24f4['resource']:null;}['patch'](_0x481886,_0x5b22f8){this['loadAssets'](_0x481886,(_0x48b3cd,_0x381c32)=>{_0x48b3cd&&(_0x5b22f8['fire']('error',_0x481886),_0x5b22f8['fire']('error:'+_0x481886['id'],_0x48b3cd,_0x481886),_0x481886['fire']('error',_0x481886));});}['getAssetId'+'s'](_0x13426a){const _0x2f5701=[];if(_0x2f5701[0x7c7+-0x7e1*-0x1+-0x2*0x7d4]=_0x13426a['file'],(_0x13426a['loadFaces']||!_0x13426a['file'])&&_0x13426a['data']&&_0x13426a['data']['textures']){for(let _0x411e97=-0x255+0x134*0x1f+-0x22f7;_0x411e97<0x6bd+0x780+0x4bd*-0x3;++_0x411e97)_0x2f5701[_0x411e97+(-0xf*-0x212+0x1400+0x74b*-0x7)]=_0x13426a['data']['textures'][_0x411e97];}else _0x2f5701[-0x207*0x3+0x1ee3+-0x38b*0x7]=_0x2f5701[-0x6d*0x52+0xcc7*0x1+0x1*0x1625]=_0x2f5701[0xfff+0x1e5b+-0x2e57]=_0x2f5701[-0x2021+-0x187c+0x38a1]=_0x2f5701[-0x1c7e+-0x2*0xaf3+-0x59*-0x91]=_0x2f5701[0x2*0xfb0+-0xde+-0x1e7c]=null;return _0x2f5701;}['compareAss'+'etIds'](_0x2d2022,_0x589083){return _0x2d2022&&_0x589083?parseInt(_0x2d2022,0x195c+-0x258a+0xc38)===_0x2d2022||typeof _0x2d2022=='string'?_0x2d2022===_0x589083:_0x2d2022['url']===_0x589083['url']:_0x2d2022!==null==(_0x589083!==null);}['update'](_0x3c7f29,_0x490599,_0x225f41){const _0x28660f=_0x3c7f29['data']||{},_0x57dd51=_0x3c7f29['_handlerSt'+'ate']['assets'],_0x15826f=_0x3c7f29['_resources'];let _0x3d5b09,_0x145b04,_0x2d93d5;const _0x37f8a0=[null,null,null,null,null,null,null],_0x482fbd=function(){return _0x28660f['hasOwnProp'+'erty']('type')?_0x28660f['type']:_0x28660f['hasOwnProp'+'erty']('rgbm')?_0x28660f['rgbm']?Zi:Ds:null;};if(!_0x3c7f29['loaded']||_0x225f41[-0x6e5+0xdf2+-0x70d]!==_0x57dd51[0xcb8+0xf81+-0x1c39]){if(_0x225f41[-0x2a*0x27+-0x1*0x1f3f+0x25a5]){if(_0x3d5b09=_0x225f41[0x2277+-0x1*0x2001+-0x276]['resource'],_0x3d5b09['cubemap']){for(_0x2d93d5=0xf07+0x1dc2+-0x8f5*0x5;_0x2d93d5<0x13*-0x121+0x1*-0x2ea+0x1863*0x1;++_0x2d93d5)_0x37f8a0[_0x2d93d5+(-0x28e+0x1e70+0x3*-0x94b)]=new _e(this['_device'],{'name':_0x3c7f29['name']+('_prelitCub'+'emap')+(_0x3d5b09['width']>>_0x2d93d5),'cubemap':!(-0xcef+-0x1*0x496+0x41*0x45),'type':_0x482fbd()||_0x3d5b09['type'],'width':_0x3d5b09['width']>>_0x2d93d5,'height':_0x3d5b09['height']>>_0x2d93d5,'format':_0x3d5b09['format'],'levels':[_0x3d5b09['_levels'][_0x2d93d5]],'addressU':ue,'addressV':ue,'mipmaps':_0x2d93d5===-0xb91*0x2+0x1782+-0x60});}else _0x37f8a0[0x1*-0xe4e+-0xb65+-0x5*-0x524]=_0x3d5b09;}}else _0x37f8a0[0x952+0x3*0x4+-0x95d]=_0x15826f[0x2dd*-0x6+-0x179d+0x28cc]||null,_0x37f8a0[-0x33b+0xe*-0x52+0x7b9]=_0x15826f[-0x9bb+0x25b*0xe+0x295*-0x9]||null,_0x37f8a0[0xa23*-0x3+0x1*0x6fb+-0x161*-0x11]=_0x15826f[0x11d*0x13+-0x1519+0xb*-0x1]||null,_0x37f8a0[-0x1*-0x51f+-0xf1+-0x42a]=_0x15826f[0x1*-0x137+-0x1*0x160+0x1d*0x17]||null,_0x37f8a0[0xa39*-0x1+0xd81*-0x1+0x17bf*0x1]=_0x15826f[0xc52+0x24a3+-0x8*0x61e]||null,_0x37f8a0[-0x20a5*0x1+0x2eb+-0x1c0*-0x11]=_0x15826f[-0x1a80+0x5cb*-0x1+0x1*0x2051]||null;const _0x3036b7=_0x225f41['slice'](0x15c4+-0x237b*-0x1+-0x393e);if(!_0x3c7f29['loaded']||!this['cmpArrays'](_0x3036b7,_0x57dd51['slice'](-0x2449+0x1c06+-0x844*-0x1))){if(_0x3036b7['indexOf'](null)===-(0x2*-0x6c5+0x2332+-0x15a7)){const _0x52a2b6=_0x3036b7['map'](_0x4dfd63=>_0x4dfd63['resource']),_0x1b938c=[];for(_0x145b04=0xc2a*0x2+-0x4c7+-0x1c7*0xb;_0x145b04<_0x52a2b6[-0x2084*0x1+-0x1faf+-0x13*-0x361]['_levels']['length'];++_0x145b04)_0x1b938c['push'](_0x52a2b6['map'](_0x2eac41=>_0x2eac41['_levels'][_0x145b04]));const _0x517605=_0x52a2b6[-0x19e*0xc+-0x1*0x1f1b+0x1*0x3283]['format'],_0x28390f=new _e(this['_device'],{'name':_0x3c7f29['name']+'_faces','cubemap':!(-0x1b7+0xb87+-0x9d0),'type':_0x482fbd()||_0x52a2b6[-0xcb9+-0x9b2+0x166b]['type'],'width':_0x52a2b6[0x14*0x2d+0xf2a*-0x1+0xba6]['width'],'height':_0x52a2b6[-0x140e+-0xbb3+0x1fc1]['height'],'format':_0x517605===Cr?Ne:_0x517605,'mipmaps':_0x28660f['mipmaps']??!(0xadc*-0x1+-0x1add+-0xc93*-0x3),'levels':_0x1b938c,'minFilter':_0x28660f['hasOwnProp'+'erty']('minFilter')?_0x28660f['minFilter']:_0x52a2b6[-0x23e4+0x1273*-0x2+0x48ca]['minFilter'],'magFilter':_0x28660f['hasOwnProp'+'erty']('magFilter')?_0x28660f['magFilter']:_0x52a2b6[-0x3*-0xe8+-0x35f*0x1+0xa7]['magFilter'],'anisotropy':_0x28660f['hasOwnProp'+'erty']('anisotropy')?_0x28660f['anisotropy']:0x8*-0x136+-0x2*-0xe27+-0x129d,'addressU':ue,'addressV':ue});_0x37f8a0[0x449+-0xb1e+0x6d5*0x1]=_0x28390f;}}else _0x37f8a0[0xe30+-0xc8c+-0x54*0x5]=_0x15826f[-0x8*0x4+-0x1bb2+0x1bd2]||null;if(!this['cmpArrays'](_0x37f8a0,_0x15826f)){for(_0x3c7f29['resources']=_0x37f8a0,_0x3c7f29['_handlerSt'+'ate']['assetIds']=_0x490599,_0x3c7f29['_handlerSt'+'ate']['assets']=_0x225f41,_0x2d93d5=0x1f97+0x14ee+-0x1*0x3485;_0x2d93d5<_0x15826f['length'];++_0x2d93d5)_0x15826f[_0x2d93d5]!==null&&_0x37f8a0['indexOf'](_0x15826f[_0x2d93d5])===-(-0x12*-0x203+0xa64*0x1+-0x2e99)&&_0x15826f[_0x2d93d5]['destroy']();}for(_0x2d93d5=-0x1df4+0x5b8+-0x234*-0xb;_0x2d93d5<_0x57dd51['length'];++_0x2d93d5)_0x57dd51[_0x2d93d5]!==null&&_0x225f41['indexOf'](_0x57dd51[_0x2d93d5])===-(0x10bf+0x417*-0x1+0x1*-0xca7)&&_0x57dd51[_0x2d93d5]['unload']();}['cmpArrays'](_0x5d2eea,_0x2d3826){if(_0x5d2eea['length']!==_0x2d3826['length'])return!(0x1367+0x1e22+-0x3188);for(let _0x400bd9=-0xa8e*0x2+-0x1b2f+0x27*0x13d;_0x400bd9<_0x5d2eea['length'];++_0x400bd9)if(_0x5d2eea[_0x400bd9]!==_0x2d3826[_0x400bd9])return!(-0x1*-0x639+0x2527*0x1+-0x3*0xe75);return!(0xebe+0x351+-0x17*0xc9);}['resolveId'](_0x511780){const _0x2718e7=parseInt(_0x511780,0xc03+0x1ff1+-0x2bea);return _0x2718e7===_0x511780||_0x2718e7['toString']()===_0x511780?_0x2718e7:_0x511780;}['loadAssets'](_0x3a9df3,_0x1b1115){_0x3a9df3['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x3a9df3['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x31f187=this,_0x4f5552=_0x31f187['getAssetId'+'s'](_0x3a9df3),_0x322f42=[null,null,null,null,null,null,null],_0x29fc77=_0x3a9df3['_handlerSt'+'ate']['assetIds'],_0x253dd1=_0x3a9df3['_handlerSt'+'ate']['assets'],_0x4f0560=_0x31f187['_registry'];let _0x591d9d=-0x1*0x180e+0x1*-0x2446+0x3c5b;const _0x4e0d62=function(_0x2d3f50,_0x1b6ef4){_0x322f42[_0x2d3f50]=_0x1b6ef4,_0x591d9d--,_0x591d9d===0x53*0xa+0x1321+-0x17*0xf9&&(_0x31f187['update'](_0x3a9df3,_0x4f5552,_0x322f42),_0x1b1115(null,_0x3a9df3['resources']));},_0x11c938=function(_0x29f03f,_0x262dca,_0x4853ac){_0x1b1115(_0x262dca);},_0xfe3541=function(_0x53c152,_0x5ab807){_0x5ab807['loaded']?_0x4e0d62(_0x53c152,_0x5ab807):(_0x4f0560['once']('load:'+_0x5ab807['id'],_0x4e0d62['bind'](_0x31f187,_0x53c152)),_0x4f0560['once']('error:'+_0x5ab807['id'],_0x11c938['bind'](_0x31f187,_0x53c152)),_0x5ab807['loading']||_0x4f0560['load'](_0x5ab807));};let _0x234148;for(let _0x199dbe=0x6d*0x1b+0x1*-0x2220+0x16a1;_0x199dbe<0x569*-0x7+0x1bd9+0x1*0xa0d;++_0x199dbe){const _0x24c663=this['resolveId'](_0x4f5552[_0x199dbe]);if(!_0x24c663)_0x4e0d62(_0x199dbe,null);else{if(_0x31f187['compareAss'+'etIds'](_0x24c663,_0x29fc77[_0x199dbe]))_0xfe3541(_0x199dbe,_0x253dd1[_0x199dbe]);else{if(parseInt(_0x24c663,-0x1*0xc17+-0x207e+0x2c9f)===_0x24c663)_0x234148=_0x4f0560['get'](_0x24c663),_0x234148?_0xfe3541(_0x199dbe,_0x234148):setTimeout(((_0x13de4b,_0x383ff4)=>{const _0x54f920=_0x4f0560['get'](_0x383ff4);_0x54f920?_0xfe3541(_0x13de4b,_0x54f920):_0x11c938(_0x13de4b,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x383ff4);})['bind'](null,_0x199dbe,_0x24c663));else{const _0x368a8d=typeof _0x24c663=='string'?{'url':_0x24c663,'filename':_0x24c663}:_0x24c663,_0x5c73c8=_0x368a8d['url']['search']('.dds')===-(-0x1b69+-0x894*0x4+0x3dba)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1483+-0x2*-0x8d2+0x2*-0x1313)}:null;_0x234148=new pe(_0x3a9df3['name']+'_part_'+_0x199dbe,'texture',_0x368a8d,_0x5c73c8),_0x4f0560['add'](_0x234148),_0xfe3541(_0x199dbe,_0x234148);}}}}}}class ek extends Qe{constructor(_0x5dbae1){super(_0x5dbae1,'folder');}['load'](_0x1f09bc,_0x4c794f){_0x4c794f(null,null);}}class yS{constructor(_0x4ec766,_0x59621f){this['type']=_0x59621f&&_0x59621f['type']||Rh,this['em']=-0x89b+0x1997*-0x1+0x2233,this['textures']=_0x4ec766,this['intensity']=0x25a7+-0x1246+-0x1361,this['_data']=null,this['data']=_0x59621f;}set['data'](_0x40cee1){if(this['_data']=_0x40cee1,!!_0x40cee1&&(this['_data']['intensity']!==void(-0x1*0x15eb+0x220d+-0xc22)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x17*-0x45+-0x10a1*0x2+0x1*0x2777)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x7f652a in this['_data']['chars'])this['_data']['chars'][_0x7f652a]['map']=-0x2440+-0xd5b*0x1+0x319b;}}get['data'](){return this['_data'];}}function Cf(_0x20036d){return _0x20036d['version']<0x191d+0x1*-0x21e+-0xb7e*0x2&&(_0x20036d['version']<0xf9e+-0x1fd7+0x103b&&(_0x20036d['info']['maps']=_0x20036d['info']['maps']||[{'width':_0x20036d['info']['width'],'height':_0x20036d['info']['height']}]),_0x20036d['chars']=Object['keys'](_0x20036d['chars']||{})['reduce']((_0x14794e,_0x30cb97)=>{const _0x1fe4c6=_0x20036d['chars'][_0x30cb97],_0x54d14c=_0x1fe4c6['letter']!==void(0x1162*-0x1+-0x1b2f+0x3*0xedb)?_0x1fe4c6['letter']:Hc['fromCodePo'+'int'](_0x30cb97);return _0x20036d['version']<0x7d*0x39+0x16f5+-0x64*0x82&&(_0x1fe4c6['map']=_0x1fe4c6['map']||0x1c9*-0x8+0x1e47*0x1+-0x1c7*0x9),_0x14794e[_0x54d14c]=_0x1fe4c6,_0x14794e;},{}),_0x20036d['version']=-0x247a*-0x1+0xb85*-0x1+-0x18f2),_0x20036d;}class tk extends Qe{constructor(_0x5f4732){super(_0x5f4732,'font'),this['_loader']=_0x5f4732['loader'],this['maxRetries']=0xe2*-0x1f+-0x994+-0x1279*-0x2;}['load'](_0x1c0c4c,_0x1bfcf3,_0x262be4){typeof _0x1c0c4c=='string'&&(_0x1c0c4c={'load':_0x1c0c4c,'original':_0x1c0c4c});const _0x1f4ef0=this;xe['getExtensi'+'on'](_0x1c0c4c['original'])==='.json'?ot['get'](_0x1c0c4c['load'],{'retry':this['maxRetries']>0xc7e*-0x3+-0x97c+0x2ef6,'maxRetries':this['maxRetries']},(_0xee55d5,_0x5f02c8)=>{if(_0xee55d5)_0x1bfcf3('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x1c0c4c['original']+'\x20['+_0xee55d5+']');else{const _0x42926b=Cf(_0x5f02c8);_0x1f4ef0['_loadTextu'+'res'](_0x1c0c4c['load']['replace']('.json','.png'),_0x42926b,(_0x13d6bf,_0x1c865f)=>{_0x13d6bf?_0x1bfcf3(_0x13d6bf):_0x1bfcf3(null,{'data':_0x42926b,'textures':_0x1c865f});});}}):(_0x262be4&&_0x262be4['data']&&(_0x262be4['data']=Cf(_0x262be4['data'])),this['_loadTextu'+'res'](_0x1c0c4c['load'],_0x262be4&&_0x262be4['data'],_0x1bfcf3));}['_loadTextu'+'res'](_0x43dcab,_0x194acb,_0x579565){const _0x1e2f4a=_0x194acb['info']['maps']['length'];let _0x285e6a=-0x33*-0xc2+-0x2d3+-0x23d3,_0x34bde9=null;const _0x3369e1=new Array(_0x1e2f4a),_0x1062f3=this['_loader'],_0xd6bd3f=function(_0x386c90){const _0x1c184f=function(_0x22d845,_0x2baffe){if(!_0x34bde9){if(_0x22d845){_0x34bde9=_0x22d845,_0x579565(_0x22d845);return;}_0x2baffe['upload'](),_0x3369e1[_0x386c90]=_0x2baffe,_0x285e6a++,_0x285e6a===_0x1e2f4a&&_0x579565(null,_0x3369e1);}};_0x386c90===-0x2092+-0x43*-0xe+-0x4a*-0x64?_0x1062f3['load'](_0x43dcab,'texture',_0x1c184f):_0x1062f3['load'](_0x43dcab['replace']('.png',_0x386c90+'.png'),'texture',_0x1c184f);};for(let _0xc35102=-0x7*-0x2f+-0xad5+0x263*0x4;_0xc35102<_0x1e2f4a;_0xc35102++)_0xd6bd3f(_0xc35102);}['open'](_0x1dcc83,_0x5a28c1,_0x4c7cf8){let _0x110625;return _0x5a28c1['textures']?_0x110625=new yS(_0x5a28c1['textures'],_0x5a28c1['data']):_0x110625=new yS(_0x5a28c1,null),_0x110625;}['patch'](_0x64b5cd,_0x149276){const _0x2193b3=_0x64b5cd['resource'];!_0x2193b3['data']&&_0x64b5cd['data']?_0x2193b3['data']=_0x64b5cd['data']:!_0x64b5cd['data']&&_0x2193b3['data']&&(_0x64b5cd['data']=_0x2193b3['data']),_0x64b5cd['data']&&(_0x64b5cd['data']=Cf(_0x64b5cd['data']));}}async function sk(){const _0x35204f=0xfb3+0x333+0x1*-0x12e6+0.28209479177387814;class _0x3a7ce6{constructor(_0x4d7630,_0x319621,_0x2cc8e6){this['x']=_0x4d7630,this['y']=_0x319621,this['z']=_0x2cc8e6;}}class _0xd73aa6{constructor(_0x217811,_0x1a2b77,_0x58ba76,_0x337529){this['x']=_0x217811,this['y']=_0x1a2b77,this['z']=_0x58ba76,this['w']=_0x337529;}}class _0x51e0c7{constructor(_0x57824c,_0x31d73c,_0x8caa55,_0x1cc248){this['x']=_0x57824c,this['y']=_0x31d73c,this['z']=_0x8caa55,this['w']=_0x1cc248;}['set'](_0x7cd6f2,_0x41a974,_0xfddd5c,_0x59f078){this['x']=_0x7cd6f2,this['y']=_0x41a974,this['z']=_0xfddd5c,this['w']=_0x59f078;}}class _0x135d45{constructor(_0x752e08,_0x4a8e42,_0x572521,_0x4686ac,_0x3f4685,_0x382258,_0x29c509,_0x4dbf85,_0x4fa7cb,_0x26a967,_0x149f95,_0xf9b9ab,_0x24c358,_0x1292ad){const _0x7a5aa=(_0x16b536,_0x23a28f)=>{const _0x54f729=(0x2*0x79f+-0x1873*0x1+0x936<<_0x23a28f)-(-0x1e86+-0x1*0xb2+0x1f39*0x1);return(_0x16b536&_0x54f729)/_0x54f729;},_0x369430=(_0x291e98,_0x5cdee2)=>{_0x291e98['x']=_0x7a5aa(_0x5cdee2>>>-0x107b+-0x337+0x13c7,0x887*-0x1+0xa*-0x3b4+0x16cd*0x2),_0x291e98['y']=_0x7a5aa(_0x5cdee2>>>-0x9f*0x1b+0x23ad+-0x12dd,0xd0*-0x1+-0x105c+-0x89b*-0x2),_0x291e98['z']=_0x7a5aa(_0x5cdee2,-0x2cf*0x2+0x2176+-0x1bcd*0x1);},_0x35794a=(_0x75d6b7,_0x2108ea)=>{_0x75d6b7['x']=_0x7a5aa(_0x2108ea>>>-0x1*0x13b0+0x1*0xce0+-0x1a*-0x44,-0x26ab+0x1*-0x17a5+0x3e58),_0x75d6b7['y']=_0x7a5aa(_0x2108ea>>>0x17d6+-0x1266+-0x560,-0x1384+-0x909+0x3*0x987),_0x75d6b7['z']=_0x7a5aa(_0x2108ea>>>-0xc14*0x1+-0x143e+0x52*0x65,0x17bd+-0x1444+-0x371),_0x75d6b7['w']=_0x7a5aa(_0x2108ea,0xa7f+0x150f+0x327*-0xa);},_0x3e8cba=(_0x221504,_0x4e83e9)=>{const _0x5419a8=(-0x7*0x3d6+-0xd46+-0x2821*-0x1)/(Math['sqrt'](0x3ec+-0x1b08+0x171e)*(-0x1*0x1cd6+-0x1f1b+0x3bf1+0.5)),_0x510557=(_0x7a5aa(_0x4e83e9>>>-0x1*0xef+0x6*-0x1f1+0xca9,0x881+-0x1713+0xe9c)-(0xc33+-0x1*0xc15+0x2*-0xf+0.5))*_0x5419a8,_0xc3c6f=(_0x7a5aa(_0x4e83e9>>>-0x1*0x70a+-0x1*-0x19e7+-0x12d3,-0xf90+-0x16b9+0x2653)-(0xae4*-0x2+-0x2*0x1da+-0x7*-0x3a4+0.5))*_0x5419a8,_0x134877=(_0x7a5aa(_0x4e83e9,0xfca+-0x6*-0x335+-0xbaa*0x3)-(0x22d6*-0x1+0x196f*0x1+0x967+0.5))*_0x5419a8,_0x3015b1=Math['sqrt'](-0x2023+-0xcbf+0x2ce3-(_0x510557*_0x510557+_0xc3c6f*_0xc3c6f+_0x134877*_0x134877));switch(_0x4e83e9>>>0x12ca+0xce8+0x5e*-0x56){case 0x1a5*0x6+0x2699+-0x3077:_0x221504['set'](_0x510557,_0xc3c6f,_0x134877,_0x3015b1);break;case-0x1db7+0xb66*0x1+0x1252:_0x221504['set'](_0x3015b1,_0xc3c6f,_0x134877,_0x510557);break;case-0x2*-0x114c+0x2477+0x1*-0x470d:_0x221504['set'](_0xc3c6f,_0x3015b1,_0x134877,_0x510557);break;case-0x77c*-0x4+-0x1a58+0x83*-0x7:_0x221504['set'](_0xc3c6f,_0x134877,_0x3015b1,_0x510557);break;}},_0x4e54f4=(_0x4c4509,_0x1d97b6,_0x20f8b5)=>_0x4c4509*(0x217a+-0xef*-0x2+-0x2357-_0x20f8b5)+_0x1d97b6*_0x20f8b5,_0x3dd04d=[-0x157*-0xd+0xe1c+-0x1f84,-0x6*0x21e+0x22f7*0x1+-0x163b,-0x6*-0x3df+0xb59+-0xbc*0x2f][_0x29c509-(-0x24b3+-0x210e+0x1*0x45c2)],_0x5a4085=0x2a7*0xd+0x5dc+-0x2851;this['read']=_0x4bc13d=>{const _0x33e42c=Math['floor'](_0x4bc13d/(0xa5a+-0x5b6+-0x1d2*0x2))*_0x4a8e42;if(_0x4dbf85&&(_0x369430(_0x4dbf85,_0x572521[_0x4bc13d*_0x5a4085+(0x7b*0x13+0x1b1a*0x1+-0x243b)]),_0x4dbf85['x']=_0x4e54f4(_0x752e08[_0x33e42c+(0x1fa7+0x28a+0x1*-0x2231)],_0x752e08[_0x33e42c+(-0x5*-0x185+0x10cb+-0x1861)],_0x4dbf85['x']),_0x4dbf85['y']=_0x4e54f4(_0x752e08[_0x33e42c+(0x10b7+0xb2b*-0x3+-0x10cb*-0x1)],_0x752e08[_0x33e42c+(-0x4*0x3de+-0x95*-0x3f+-0x152f*0x1)],_0x4dbf85['y']),_0x4dbf85['z']=_0x4e54f4(_0x752e08[_0x33e42c+(-0x1eaa*0x1+0xfd1+0xedb*0x1)],_0x752e08[_0x33e42c+(0x23*-0x103+0xc4*0x11+0x166a)],_0x4dbf85['z'])),_0x4fa7cb&&_0x3e8cba(_0x4fa7cb,_0x572521[_0x4bc13d*_0x5a4085+(-0xd20+0x16b9*-0x1+0x11ed*0x2)]),_0x26a967&&(_0x369430(_0x26a967,_0x572521[_0x4bc13d*_0x5a4085+(-0x4e7+-0x24bf*-0x1+-0x1fd6)]),_0x26a967['x']=_0x4e54f4(_0x752e08[_0x33e42c+(-0x3*-0x2c5+0x21*0xd5+0xa*-0x393)],_0x752e08[_0x33e42c+(0xf22+0xdf*0x2+0x1*-0x10d7)],_0x26a967['x']),_0x26a967['y']=_0x4e54f4(_0x752e08[_0x33e42c+(0x15e4+0x212a+-0x3707*0x1)],_0x752e08[_0x33e42c+(-0x55*-0xb+0x48a+-0x827)],_0x26a967['y']),_0x26a967['z']=_0x4e54f4(_0x752e08[_0x33e42c+(0x1ec5*-0x1+-0x1fb8+0x3e85)],_0x752e08[_0x33e42c+(0x5dc+0x1dd9+-0x23aa)],_0x26a967['z'])),_0x149f95&&(_0x35794a(_0x149f95,_0x572521[_0x4bc13d*_0x5a4085+(0x2383+0xc3*0x31+-0x48d3*0x1)]),_0x4a8e42>0x255d+0x116c+-0x51*0xad&&(_0x149f95['x']=_0x4e54f4(_0x752e08[_0x33e42c+(0x2456*-0x1+-0x12b+-0x258d*-0x1)],_0x752e08[_0x33e42c+(0x195d+-0x15f1+-0x35d)],_0x149f95['x']),_0x149f95['y']=_0x4e54f4(_0x752e08[_0x33e42c+(0x742+0x1*0x20f3+-0x2828)],_0x752e08[_0x33e42c+(0xd*-0xb3+-0x469+0xd90)],_0x149f95['y']),_0x149f95['z']=_0x4e54f4(_0x752e08[_0x33e42c+(0xa79+-0x24c3*0x1+0x1a58)],_0x752e08[_0x33e42c+(-0x35b*0x1+0x9*0x31b+-0xa1*0x27)],_0x149f95['z']))),_0xf9b9ab&&(_0x369430(_0xf9b9ab,_0x572521[_0x4bc13d*_0x5a4085+(0x5de+-0x26da+0x2100)]),_0xf9b9ab['x']=_0x4e54f4(_0x752e08[_0x33e42c+(-0x107*-0x11+-0x2*-0x103b+-0x31db)],_0x752e08[_0x33e42c+(0x80*-0x3e+0x61*0x4+0x1d91)],_0xf9b9ab['x']),_0xf9b9ab['y']=_0x4e54f4(_0x752e08[_0x33e42c+(-0xb*0x21c+0x1d89*0x1+-0x642)],_0x752e08[_0x33e42c+(0xb8d+-0x2e4*-0x3+0x407*-0x5)],_0xf9b9ab['y']),_0xf9b9ab['z']=_0x4e54f4(_0x752e08[_0x33e42c+(0x1e2c+-0xe49+-0xfcf)],_0x752e08[_0x33e42c+(0x303+-0xfb*0x26+0x2256)],_0xf9b9ab['z'])),_0x24c358&&(_0x369430(_0x24c358,_0x572521[_0x4bc13d*_0x5a4085+(0x31b+0x14f+-0x465)]),_0x24c358['x']=_0x4e54f4(_0x752e08[_0x33e42c+(-0x5*0x62f+0xd4e+0x11b5)],_0x752e08[_0x33e42c+(-0x309*-0x2+-0xffe*0x2+0x1a03)],_0x24c358['x']),_0x24c358['y']=_0x4e54f4(_0x752e08[_0x33e42c+(-0x1339+0x2d*0xce+-0x10e3*0x1)],_0x752e08[_0x33e42c+(0x4*0x45d+0x13*-0x170+0x9f7)],_0x24c358['y'])),_0x1292ad&&_0x29c509>0x30f+-0x17*0x74+0x75d){const _0x41e648=[_0x4686ac,_0x3f4685,_0x382258];for(let _0x26d352=-0x5c9+-0x21ce+0x1*0x2797;_0x26d352<0x8a2+-0x2049+-0x1a*-0xe9;++_0x26d352)for(let _0xbde61b=-0x5*0x6d1+0x1*0x1a74+0x7a1;_0xbde61b<-0x2013+-0x1*0x1297+0x32b9;++_0xbde61b)_0x1292ad[_0x26d352*(-0x21eb+-0x7*0x3d+0x23a5)+_0xbde61b]=_0xbde61b<_0x3dd04d?_0x41e648[_0x26d352][_0x4bc13d*(0x231a+0xbe7+-0x2ef1)+_0xbde61b]*((-0x2a7*0x9+0x937*-0x1+0x211e)/(0x1*-0x23da+0xa3*0xd+0x1c92))-(-0x563+-0x10a5+0x160c*0x1):-0x5e7*0x4+-0x255*0x8+0x2a44;}};}}self['onmessage']=async _0x1f2ab6=>{const {data:_0x4e9aad}=_0x1f2ab6;switch(_0x4e9aad['type']){case'initWorker':break;case'decompress':_0x420a7c(_0x4e9aad['numSplats'],_0x4e9aad['chunkData'],_0x4e9aad['chunkSize'],_0x4e9aad['vertexData'],_0x4e9aad['shData0'],_0x4e9aad['shData1'],_0x4e9aad['shData2'],_0x4e9aad['shBands']);break;}};const _0x420a7c=(_0x120e3e,_0x18b2a2,_0x581e2d,_0x4093bd,_0x11fc92,_0x154a34,_0x160e4a,_0x6254de)=>{const _0x416057=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x6254de>-0x26cb+-0x13c2+-0x3a8d*-0x1){const _0x42f917=[];for(let _0x5fbd0a=0x12b*-0xe+-0xd*0x23d+0x2d73;_0x5fbd0a<-0xbd2+0x113d+-0x29f*0x2;++_0x5fbd0a)_0x42f917['push']('f_rest_'+_0x5fbd0a);_0x416057['splice'](_0x416057['indexOf']('f_dc_0')+(-0x1*0x1feb+0xfda+0x176*0xb),0x2694+-0x1462+-0x1*0x1232,..._0x42f917);}const _0x106d73={};_0x416057['forEach'](_0x347888=>{_0x106d73[_0x347888]=new Float32Array(_0x120e3e);});const _0x47726a=new _0x3a7ce6(),_0x3d2f31=new _0x51e0c7(),_0x15728d=new _0x3a7ce6(),_0x5673b2=new _0xd73aa6(),_0xeeb849=new _0x3a7ce6(),_0xb5e307=new _0x3a7ce6(),_0x113f91=_0x6254de>-0x269c+0x1*0x26f5+0x1*-0x59?new Float32Array(0xcf*0x2+-0x1a2d*0x1+0x18bc):null,_0x281b93=new _0x135d45(_0x18b2a2,_0x581e2d,_0x4093bd,_0x11fc92,_0x154a34,_0x160e4a,_0x6254de,_0x47726a,_0x3d2f31,_0x15728d,_0x5673b2,_0xeeb849,_0xb5e307,_0x113f91);for(let _0x1ed8c9=0x13d*0x1+0x130*-0x2+0x123;_0x1ed8c9<_0x120e3e;++_0x1ed8c9)if(_0x281b93['read'](_0x1ed8c9),_0x106d73['x'][_0x1ed8c9]=_0x47726a['x'],_0x106d73['y'][_0x1ed8c9]=_0x47726a['y'],_0x106d73['z'][_0x1ed8c9]=_0x47726a['z'],_0x106d73['rot_1'][_0x1ed8c9]=_0x3d2f31['x'],_0x106d73['rot_2'][_0x1ed8c9]=_0x3d2f31['y'],_0x106d73['rot_3'][_0x1ed8c9]=_0x3d2f31['z'],_0x106d73['rot_0'][_0x1ed8c9]=_0x3d2f31['w'],_0x106d73['scale_0'][_0x1ed8c9]=_0x15728d['x'],_0x106d73['scale_1'][_0x1ed8c9]=_0x15728d['y'],_0x106d73['scale_2'][_0x1ed8c9]=_0x15728d['z'],_0x106d73['motion_0'][_0x1ed8c9]=_0xeeb849['x'],_0x106d73['motion_1'][_0x1ed8c9]=_0xeeb849['y'],_0x106d73['motion_2'][_0x1ed8c9]=_0xeeb849['z'],_0x106d73['t_scale'][_0x1ed8c9]=_0xb5e307['x'],_0x106d73['t'][_0x1ed8c9]=_0xb5e307['y'],_0x106d73['f_dc_0'][_0x1ed8c9]=(_0x5673b2['x']-(-0x1954*-0x1+-0x1*0x218+-0x173c+0.5))/_0x35204f,_0x106d73['f_dc_1'][_0x1ed8c9]=(_0x5673b2['y']-(-0x151*0x1b+0xa*-0x187+0x32d1*0x1+0.5))/_0x35204f,_0x106d73['f_dc_2'][_0x1ed8c9]=(_0x5673b2['z']-(-0x9*0x3ef+0x182e+0xb39+0.5))/_0x35204f,_0x106d73['opacity'][_0x1ed8c9]=_0x5673b2['w']<=-0x7*0x542+-0x25f7+0x4ac5?-(-0x1*-0x19b5+-0x2a0+-0x16ed*0x1):_0x5673b2['w']>=-0x12e9+-0x6f2+-0x677*-0x4?0xd1e+-0x37*-0x4f+-0x4f*0x61:-Math['log']((-0x1f45*-0x1+0x115*-0x20+0x35c)/_0x5673b2['w']-(-0x161a+-0x2aa*0xc+0x6d*0x7f)),_0x113f91){for(let _0x122476=0xcd*-0x19+-0xc15+-0x1*-0x201a;_0x122476<0x25a+0x7*-0x1+-0x226;++_0x122476)_0x106d73['f_rest_'+_0x122476][_0x1ed8c9]=_0x113f91[_0x122476];}let _0x5a9a07={'x':_0x106d73['x'],'y':_0x106d73['y'],'z':_0x106d73['z'],'rot_1':_0x106d73['rot_1'],'rot_2':_0x106d73['rot_2'],'rot_3':_0x106d73['rot_3'],'rot_0':_0x106d73['rot_0'],'scale_0':_0x106d73['scale_0'],'scale_1':_0x106d73['scale_1'],'scale_2':_0x106d73['scale_2'],'motion_0':_0x106d73['motion_0'],'motion_1':_0x106d73['motion_1'],'motion_2':_0x106d73['motion_2'],'t_scale':_0x106d73['t_scale'],'t':_0x106d73['t'],'f_dc_0':_0x106d73['f_dc_0'],'f_dc_1':_0x106d73['f_dc_1'],'f_dc_2':_0x106d73['f_dc_2'],'opacity':_0x106d73['opacity']};_0x113f91&&(_0x5a9a07={..._0x5a9a07,'f_rest_0':_0x106d73['f_rest_0'],'f_rest_1':_0x106d73['f_rest_1'],'f_rest_2':_0x106d73['f_rest_2'],'f_rest_3':_0x106d73['f_rest_3'],'f_rest_4':_0x106d73['f_rest_4'],'f_rest_5':_0x106d73['f_rest_5'],'f_rest_6':_0x106d73['f_rest_6'],'f_rest_7':_0x106d73['f_rest_7'],'f_rest_8':_0x106d73['f_rest_8'],'f_rest_9':_0x106d73['f_rest_9'],'f_rest_10':_0x106d73['f_rest_10'],'f_rest_11':_0x106d73['f_rest_11'],'f_rest_12':_0x106d73['f_rest_12'],'f_rest_13':_0x106d73['f_rest_13'],'f_rest_14':_0x106d73['f_rest_14'],'f_rest_15':_0x106d73['f_rest_15'],'f_rest_16':_0x106d73['f_rest_16'],'f_rest_17':_0x106d73['f_rest_17'],'f_rest_18':_0x106d73['f_rest_18'],'f_rest_19':_0x106d73['f_rest_19'],'f_rest_20':_0x106d73['f_rest_20'],'f_rest_21':_0x106d73['f_rest_21'],'f_rest_22':_0x106d73['f_rest_22'],'f_rest_23':_0x106d73['f_rest_23'],'f_rest_24':_0x106d73['f_rest_24'],'f_rest_25':_0x106d73['f_rest_25'],'f_rest_26':_0x106d73['f_rest_26'],'f_rest_27':_0x106d73['f_rest_27'],'f_rest_28':_0x106d73['f_rest_28'],'f_rest_29':_0x106d73['f_rest_29'],'f_rest_30':_0x106d73['f_rest_30'],'f_rest_31':_0x106d73['f_rest_31'],'f_rest_32':_0x106d73['f_rest_32'],'f_rest_33':_0x106d73['f_rest_33'],'f_rest_34':_0x106d73['f_rest_34'],'f_rest_35':_0x106d73['f_rest_35'],'f_rest_36':_0x106d73['f_rest_36'],'f_rest_37':_0x106d73['f_rest_37'],'f_rest_38':_0x106d73['f_rest_38'],'f_rest_39':_0x106d73['f_rest_39'],'f_rest_40':_0x106d73['f_rest_40'],'f_rest_41':_0x106d73['f_rest_41'],'f_rest_42':_0x106d73['f_rest_42'],'f_rest_43':_0x106d73['f_rest_43'],'f_rest_44':_0x106d73['f_rest_44']});const _0x3868c=Object['values'](_0x5a9a07)['map'](_0x4cb72c=>_0x4cb72c['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x5a9a07},_0x3868c);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x476266=>{if(!this['worker'])return;const {data:_0x4db790}=_0x476266;switch(_0x4db790['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x4db790['data']);break;}};}['decompress'](_0x5e261e,_0xd5fd59,_0x3ee30f,_0x175474,_0x4107a8,_0x366932,_0x46046b,_0x3e9987){const _0x1af3d3=[_0xd5fd59['buffer'],_0x175474['buffer']];_0x4107a8&&_0x1af3d3['push'](_0x4107a8['buffer']),_0x366932&&_0x1af3d3['push'](_0x366932['buffer']),_0x46046b&&_0x1af3d3['push'](_0x46046b['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x5e261e,'chunkData':_0xd5fd59,'chunkSize':_0x3ee30f,'vertexData':_0x175474,'shData0':_0x4107a8,'shData1':_0x366932,'shData2':_0x46046b,'shBands':_0x3e9987},_0x1af3d3);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x8e2659,_0x14ac05,_0x163fef,_0x55fe47,_0x432b9f,_0x330d01,_0xe0ca69,_0x5e7eb5){const _0x15ba1d=(_0x4e95da,_0x4bf7c9)=>{const _0x4b2e6a=(-0x146b*-0x1+0x12e*0x17+0x11*-0x2cc<<_0x4bf7c9)-(0x1*0x13fa+0xe18+0xab*-0x33);return(_0x4e95da&_0x4b2e6a)/_0x4b2e6a;},_0x4fafdd=(_0x33bd13,_0x5dff87)=>{_0x33bd13['x']=_0x15ba1d(_0x5dff87>>>-0x1*-0x907+-0x23*0x49+0x109,-0x110*0xd+0x5e+0xd7d),_0x33bd13['y']=_0x15ba1d(_0x5dff87>>>0x1d1e+0x70*0x35+-0x3443,0x262c+-0x23fa+-0x228),_0x33bd13['z']=_0x15ba1d(_0x5dff87,0x2bb*-0x3+0x2649+-0x1e0d);},_0x51ffb0=(_0x172714,_0x3263f8)=>{_0x172714['x']=_0x15ba1d(_0x3263f8>>>-0x22f9*-0x1+0x30b*-0x1+-0x1fd6,-0xaec+-0x3df*-0x7+-0x1025*0x1),_0x172714['y']=_0x15ba1d(_0x3263f8>>>-0x229f+0x1b6*-0x11+-0x3fc5*-0x1,-0x1*0x14dd+-0x90b+0x1df0),_0x172714['z']=_0x15ba1d(_0x3263f8>>>0x20ab+0x243b+-0x2b*0x19a,0x9f7+0xc2d*0x1+0x46c*-0x5),_0x172714['w']=_0x15ba1d(_0x3263f8,-0x3f3*0x5+0x1c51+-0x88a*0x1);},_0x2879ce=(_0x217ef8,_0x1e78b1)=>{const _0x7cf16c=(-0x3*0x853+0x3dc+0x151e)/(Math['sqrt'](-0x1*0x837+0xc5*-0x2c+0x2a15)*(-0x1*0x20f0+0x542+-0x93a*-0x3+0.5)),_0x26a74c=(_0x15ba1d(_0x1e78b1>>>-0x146*-0x1d+-0x2518+0x1*0x3e,0x4b0+0x78b*-0x1+-0x2e5*-0x1)-(-0x7ba*0x1+0x249b+-0x1ce1+0.5))*_0x7cf16c,_0xa53cbd=(_0x15ba1d(_0x1e78b1>>>0x3b2+0x868+-0xc10*0x1,-0x1*-0x157+-0xd73*0x2+0x1999*0x1)-(-0xdcb*-0x1+-0xe59*-0x1+-0x1c24+0.5))*_0x7cf16c,_0x321222=(_0x15ba1d(_0x1e78b1,-0x2*0x816+0x6a+0x2a2*0x6)-(-0x46b*-0x5+0x1908+-0x2f1f+0.5))*_0x7cf16c,_0x43afe0=Math['sqrt'](0x1d5d+0x149c+-0x63f*0x8-(_0x26a74c*_0x26a74c+_0xa53cbd*_0xa53cbd+_0x321222*_0x321222));switch(_0x1e78b1>>>0x1*-0x46c+0x3*-0x687+0xf7*0x19){case-0x1a34+0x20ac+-0x3*0x228:_0x217ef8['set'](_0x26a74c,_0xa53cbd,_0x321222,_0x43afe0);break;case 0x21a6+0x1d89*0x1+-0x3f2e*0x1:_0x217ef8['set'](_0x43afe0,_0xa53cbd,_0x321222,_0x26a74c);break;case-0xb3*0x29+0xc63+0xf*0x116:_0x217ef8['set'](_0xa53cbd,_0x43afe0,_0x321222,_0x26a74c);break;case 0x1*-0x204d+-0x1b4d+0x3b9d:_0x217ef8['set'](_0xa53cbd,_0x321222,_0x43afe0,_0x26a74c);break;}},_0x242d8e=(_0x61c7ca,_0x3e4806,_0x56fd28)=>_0x61c7ca*(-0x1346*0x1+0x21bc+-0xe75-_0x56fd28)+_0x3e4806*_0x56fd28,{chunkData:_0x526382,chunkSize:_0x5a86f6,vertexData:_0x211edb,shData0:_0x243c0f,shData1:_0x44167e,shData2:_0x50a870,shBands:_0x3c3a03}=_0x8e2659,_0x45472d=[0x2323+-0x162b+-0x1*0xcf5,0xe1*0x1e+0x1f99+-0x39ef,-0x695+-0x781*-0x1+0x11*-0xd][_0x3c3a03-(-0xd*-0x13+0x2d5*0x3+-0x975)],_0x41db70=0x8e+-0x2a1*-0x5+0x1*-0xdad;this['read']=_0x1a2456=>{const _0x475733=Math['floor'](_0x1a2456/(-0x2a3*0x3+0x51+0x898))*_0x5a86f6;if(_0x14ac05&&(_0x4fafdd(_0x14ac05,_0x211edb[_0x1a2456*_0x41db70+(0x77*-0x6+-0x93f+-0xed*-0xd)]),_0x14ac05['x']=_0x242d8e(_0x526382[_0x475733+(-0x24da+0x216*0x1+0x64*0x59)],_0x526382[_0x475733+(-0x1160+-0x1*0x10ad+0x2210)],_0x14ac05['x']),_0x14ac05['y']=_0x242d8e(_0x526382[_0x475733+(-0x349+0x2c7+0x83)],_0x526382[_0x475733+(0x68d+-0x1f7*-0x9+-0x1838)],_0x14ac05['y']),_0x14ac05['z']=_0x242d8e(_0x526382[_0x475733+(-0x1*0x1624+-0x150e+0x2b34)],_0x526382[_0x475733+(-0x223e+-0xe*-0x11a+-0x5b*-0x35)],_0x14ac05['z'])),_0x163fef&&_0x2879ce(_0x163fef,_0x211edb[_0x1a2456*_0x41db70+(-0x29a*-0xf+0x209*0xb+0x189*-0x28)]),_0x55fe47&&(_0x4fafdd(_0x55fe47,_0x211edb[_0x1a2456*_0x41db70+(0x17*0xc7+0x1763*0x1+-0x1*0x2942)]),_0x55fe47['x']=_0x242d8e(_0x526382[_0x475733+(-0x21e0+-0x199+-0x3*-0xbd5)],_0x526382[_0x475733+(-0xb*0x2b4+0xab*0x19+0xd12)],_0x55fe47['x']),_0x55fe47['y']=_0x242d8e(_0x526382[_0x475733+(-0x892*0x1+0x5d+0x83c)],_0x526382[_0x475733+(-0x1467+0x3*0xae3+-0xc38)],_0x55fe47['y']),_0x55fe47['z']=_0x242d8e(_0x526382[_0x475733+(-0x25e4+-0x61b+-0xd*-0x363)],_0x526382[_0x475733+(-0x85*0x3+0xe3+0x3d*0x3)],_0x55fe47['z'])),_0x432b9f&&(_0x51ffb0(_0x432b9f,_0x211edb[_0x1a2456*_0x41db70+(0x1*-0x481+0x209*0xf+-0x1a03)]),_0x5a86f6>0x44+0x45*0x52+-0x1652&&(_0x432b9f['x']=_0x242d8e(_0x526382[_0x475733+(-0xef+0xec1+-0xdc6)],_0x526382[_0x475733+(0x29*0x71+-0x116f+-0x9b)],_0x432b9f['x']),_0x432b9f['y']=_0x242d8e(_0x526382[_0x475733+(-0x2158+0x25f0+0x48b*-0x1)],_0x526382[_0x475733+(-0xb*0xd+0x18de+-0x183f)],_0x432b9f['y']),_0x432b9f['z']=_0x242d8e(_0x526382[_0x475733+(-0x44b*0x4+-0xcb*0x29+0x31bd)],_0x526382[_0x475733+(0x6b5*0x1+-0x1*0x247a+0x1dd6)],_0x432b9f['z']))),_0x330d01&&(_0x4fafdd(_0x330d01,_0x211edb[_0x1a2456*_0x41db70+(-0x661+-0x7ca*0x5+0x2d57)]),_0x330d01['x']=_0x242d8e(_0x526382[_0x475733+(0x4*0x2a5+-0x1e4f*-0x1+-0x28d1)],_0x526382[_0x475733+(-0x19*-0x2e+0x15e*-0x13+0x1591)],_0x330d01['x']),_0x330d01['y']=_0x242d8e(_0x526382[_0x475733+(0x1197+0x1c8b*-0x1+0xb07)],_0x526382[_0x475733+(0x3*0xaf4+0x131d+-0x33e3)],_0x330d01['y']),_0x330d01['z']=_0x242d8e(_0x526382[_0x475733+(-0x2602+0x1929+0xced)],_0x526382[_0x475733+(-0xa42+0x8*-0x2c5+-0x1*-0x2081)],_0x330d01['z'])),_0xe0ca69&&(_0x4fafdd(_0xe0ca69,_0x211edb[_0x1a2456*_0x41db70+(0x819*-0x3+-0x1a17*-0x1+-0x1c7)]),_0xe0ca69['x']=_0x242d8e(_0x526382[_0x475733+(0x3f9*-0x9+0x771*0x3+-0x2*-0x6c3)],_0x526382[_0x475733+(-0x1e90+-0x1fde+-0x1*-0x3e87)],_0xe0ca69['x']),_0xe0ca69['y']=_0x242d8e(_0x526382[_0x475733+(0xd6+0x935+-0x9f1)],_0x526382[_0x475733+(0x1e77+-0x1b7a+-0x52*0x9)],_0xe0ca69['y'])),_0x5e7eb5&&_0x3c3a03>-0x50a+-0x18f9+0x1e03){const _0x52a26a=[_0x243c0f,_0x44167e,_0x50a870];for(let _0xa10105=0x1ea9+-0x33*0x3+-0x1e10;_0xa10105<0x2453+-0x2*-0xc36+-0x3cbc;++_0xa10105)for(let _0x5da773=0x10f*-0x1+-0x119f+0x12ae*0x1;_0x5da773<0x1*-0x1709+-0x1e9a+0x35b2;++_0x5da773)_0x5e7eb5[_0xa10105*(0x692+0x752*0x2+0x70d*-0x3)+_0x5da773]=_0x5da773<_0x45472d?_0x52a26a[_0xa10105][_0x1a2456*(0x14e2+0x2101*0x1+-0x35d3)+_0x5da773]*((-0x5*-0xad+-0x2114+0x1dbb)/(-0x2197+0x23e9+-0x153))-(0x1c3*0x1+-0x7b0+0x5f1):0x1d79+-0x1858+-0x521;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x53fd59,_0x5a5687,_0x3a9c10,_0x2a081e,_0x3a8a0a,_0x25861e,_0x48b618){return new rk(this,_0x53fd59,_0x5a5687,_0x3a9c10,_0x2a081e,_0x3a8a0a,_0x25861e,_0x48b618);}['calcAabb'](_0x2c064d){const {chunkData:_0x1ef0ea,numChunks:_0x56c299,chunkSize:_0x2c5f08}=this;let _0x128d03=Math['exp'](Math['max'](_0x1ef0ea[0x17c*0xe+0x1*-0x1186+0xa5*-0x5],_0x1ef0ea[0xd69+0x1692+0xbfb*-0x3],_0x1ef0ea[-0xb5a+0x1c79+-0x1114])),_0x2905fe=_0x1ef0ea[0x264f+0x247+-0x2896]-_0x128d03,_0x450bcf=_0x1ef0ea[0x153e+0x277*-0x5+-0x146*0x7]-_0x128d03,_0x4c70d2=_0x1ef0ea[-0x19*-0x9e+0x4d*0x67+0x7*-0x6a1]-_0x128d03,_0x32a470=_0x1ef0ea[-0x24e6*0x1+-0x21a4+0x468d]+_0x128d03,_0x358731=_0x1ef0ea[0x653+0x127d+-0x114*0x17]+_0x128d03,_0x3bd6bd=_0x1ef0ea[-0x699+0x1342+-0xca4]+_0x128d03;for(let _0x1104de=0x25bd*0x1+-0xcca+-0x18f2;_0x1104de<_0x56c299;++_0x1104de){const _0x1ea7ba=_0x1104de*_0x2c5f08;_0x128d03=Math['exp'](Math['max'](_0x1ef0ea[_0x1ea7ba+(-0xe67+-0x11*0x16a+-0x133d*-0x2)],_0x1ef0ea[_0x1ea7ba+(0x1e15+-0x1*0xa54+-0x13b7)],_0x1ef0ea[_0x1ea7ba+(-0xd72+-0x24b*0x3+0x4f*0x42)])),_0x2905fe=Math['min'](_0x2905fe,_0x1ef0ea[_0x1ea7ba+(-0x191+-0x2b*0x60+0x11b1)]-_0x128d03),_0x450bcf=Math['min'](_0x450bcf,_0x1ef0ea[_0x1ea7ba+(-0x4c1*0x1+0x4*0x508+-0xf5e)]-_0x128d03),_0x4c70d2=Math['min'](_0x4c70d2,_0x1ef0ea[_0x1ea7ba+(0x11d8*0x2+0x3*-0x1fa+-0x44*0x70)]-_0x128d03),_0x32a470=Math['max'](_0x32a470,_0x1ef0ea[_0x1ea7ba+(0x73a+-0x1eed+-0xa*-0x25f)]+_0x128d03),_0x358731=Math['max'](_0x358731,_0x1ef0ea[_0x1ea7ba+(0x1*-0x21c1+0x194d+0x1*0x878)]+_0x128d03),_0x3bd6bd=Math['max'](_0x3bd6bd,_0x1ef0ea[_0x1ea7ba+(0x16*-0x161+-0x467+0x22c2)]+_0x128d03);}return _0x2c064d['center']['set']((_0x2905fe+_0x32a470)*(-0xa48+-0xc*-0x2db+-0x17fc+0.5),(_0x450bcf+_0x358731)*(0x20e*0x3+-0x1e5*-0xa+0x4*-0x647+0.5),(_0x4c70d2+_0x3bd6bd)*(0x1b30+0x214f*-0x1+0x61f+0.5)),_0x2c064d['halfExtent'+'s']['set']((_0x32a470-_0x2905fe)*(-0xf99+0x2499+-0x1500+0.5),(_0x358731-_0x450bcf)*(0x1*0x1bbf+0x3e5*-0x6+-0x461+0.5),(_0x3bd6bd-_0x4c70d2)*(-0xf5b+-0x23ed+0x3348+0.5)),!(-0x1373+-0x2*0xec1+0x30f5);}['getCenters'](_0x3915eb){const {vertexData:_0x6ef7a4,chunkData:_0x5cc105,numChunks:_0x34ba71,chunkSize:_0x3f6a0c}=this;let _0x27a670,_0x1dcba3,_0x56dbbc,_0x367744,_0x51c020,_0x5609fb;for(let _0xe2b286=-0x277*-0x2+-0x11e2+-0x1*-0xcf4;_0xe2b286<_0x34ba71;++_0xe2b286){const _0x5c15ad=_0xe2b286*_0x3f6a0c;_0x27a670=_0x5cc105[_0x5c15ad+(0x5*0x651+0x2*-0x114a+0xd*0x3b)],_0x1dcba3=_0x5cc105[_0x5c15ad+(0xc09+0x1a77+-0x267f)],_0x56dbbc=_0x5cc105[_0x5c15ad+(0x26*0xf1+-0x3e1*-0x5+-0x3*0x1263)],_0x367744=_0x5cc105[_0x5c15ad+(0xb*0xba+-0x5*0x59+-0x63e*0x1)],_0x51c020=_0x5cc105[_0x5c15ad+(-0xf87+-0x154f+0x24da)],_0x5609fb=_0x5cc105[_0x5c15ad+(0x1e86*-0x1+0x1*0x11c7+-0x331*-0x4)];const _0x1a80bb=Math['min'](this['numSplats'],(_0xe2b286+(0x12a*-0x7+0xe37+-0x610))*(0x296*0xb+0x2*0x3b4+-0x22da));for(let _0x4bea44=_0xe2b286*(-0x1d36+-0xd5b+0x1*0x2b91);_0x4bea44<_0x1a80bb;++_0x4bea44){const _0x1e6403=_0x6ef7a4[_0x4bea44*(0x53*0x40+0xdea+-0x22a6)],_0x58f90f=(_0x1e6403>>>-0x1c6*-0x8+-0x6ea+-0x731)/(-0xb*-0x12+0x1683+-0xf4a),_0x2c1830=(_0x1e6403>>>0x1049+-0x23e3+-0x13a5*-0x1&0x22ee+0x9*0x40a+-0x4349)/(0xa1e*-0x1+-0x75e*-0x3+0x7fd*-0x1),_0x30b2fe=(_0x1e6403&0x49*-0x4b+-0x17ac+0x1*0x350e)/(0x1a09+0x1*0x1299+-0x53*0x71);_0x3915eb[_0x4bea44*(0xb*0x1b+0xd8c+-0xeb2)+(0x139*-0x1d+0x14f*-0x1+-0x2*-0x1262)]=(0xf*0x22d+0x155*-0x1b+0x355-_0x58f90f)*_0x27a670+_0x58f90f*_0x367744,_0x3915eb[_0x4bea44*(0x1d5b*0x1+-0x644+0x1*-0x1714)+(0x25f0+-0x84b+-0x1da4)]=(0x29*0x52+-0x49*-0x85+0x330e*-0x1-_0x2c1830)*_0x1dcba3+_0x2c1830*_0x51c020,_0x3915eb[_0x4bea44*(-0x82d+0xdde+0x5ae*-0x1)+(-0x1d3*0x3+-0x1*-0xdd5+0x1*-0x85a)]=(0xcd*0x22+-0x43*0x61+-0x1d6-_0x30b2fe)*_0x56dbbc+_0x30b2fe*_0x5609fb;}}}['getChunks'](_0x498088){const {chunkData:_0x40a726,numChunks:_0x31f76c,chunkSize:_0x31abe9}=this;let _0x2e3045,_0x9da11e,_0x56331f,_0x5602d6,_0x167dac,_0x1529a2;for(let _0x418a4a=-0x1*0x859+-0x16*-0x29+-0xf7*-0x5;_0x418a4a<_0x31f76c;++_0x418a4a){const _0x74cc8e=_0x418a4a*_0x31abe9;_0x2e3045=_0x40a726[_0x74cc8e+(0x3a5*-0x3+-0xa18*-0x2+-0x941)],_0x9da11e=_0x40a726[_0x74cc8e+(-0x15d9+-0x2312+0x38ec)],_0x56331f=_0x40a726[_0x74cc8e+(0x3e2+0x95*0xb+0x3*-0x36d)],_0x5602d6=_0x40a726[_0x74cc8e+(0x134f*0x1+-0x14fa+0x1ae)],_0x167dac=_0x40a726[_0x74cc8e+(-0x7*-0x334+-0x26b4+-0x1*-0x104c)],_0x1529a2=_0x40a726[_0x74cc8e+(0x2a9+-0x32b+0x87)],_0x498088[_0x418a4a*(-0xf1f*0x2+0x71*0x1f+0x587*0x3)+(0x16c+-0x121e+-0x10b2*-0x1)]=_0x2e3045,_0x498088[_0x418a4a*(-0x16f+-0x4*-0x33d+-0xb7f)+(-0x965+0x1*-0xbfb+0x1561)]=_0x9da11e,_0x498088[_0x418a4a*(0xd96+0x1b89+-0x1*0x2919)+(0x71*0x5+-0x1730+0x14fd)]=_0x56331f,_0x498088[_0x418a4a*(-0xb*0x214+0x62e+0x10b4)+(0x46f+-0x4*-0x131+-0x930)]=_0x5602d6,_0x498088[_0x418a4a*(0x1*0x2523+0x1*0x2323+0x20*-0x242)+(0x57*0x57+0xbb3+-0xdc*0x30)]=_0x167dac,_0x498088[_0x418a4a*(0xe5a+0x14d7+0x232b*-0x1)+(0x1499+-0xf56+-0x53e)]=_0x1529a2;}}['calcFocalP'+'oint'](_0x59f671){const {chunkData:_0x523dce,numChunks:_0x1b6bd8,chunkSize:_0x5eee9b}=this;_0x59f671['x']=-0x1d26+-0x1388+0x30ae,_0x59f671['y']=-0x1*0x1651+0x130*-0x10+0x2951*0x1,_0x59f671['z']=0x8a4+-0x1c8c+0x1*0x13e8;for(let _0x3fb57f=0x1a2d+-0x1e0b+-0x6e*-0x9;_0x3fb57f<_0x1b6bd8;++_0x3fb57f){const _0x7c184c=_0x3fb57f*_0x5eee9b;_0x59f671['x']+=_0x523dce[_0x7c184c+(-0x3d*-0x2+-0x1a0f*0x1+0x1995)]+_0x523dce[_0x7c184c+(0x1*0x450+-0xc6b+0x2*0x40f)],_0x59f671['y']+=_0x523dce[_0x7c184c+(-0x1542+-0x1*-0x1bae+-0x1*0x66b)]+_0x523dce[_0x7c184c+(0x1121*-0x2+0x1*-0x2161+-0x1*-0x43a7)],_0x59f671['z']+=_0x523dce[_0x7c184c+(0x1088+-0x21d2+0x114c)]+_0x523dce[_0x7c184c+(0x1*0xca+-0x228b*-0x1+-0x1c4*0x14)];}_0x59f671['mulScalar']((0x772+0x14de+-0x1c50+0.5)/_0x1b6bd8);}get['isCompress'+'ed'](){return!(-0x14*0xce+0x1ec*0xc+0x1be*-0x4);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1*0xbad+-0x1eb7+-0x2*-0x15b2));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0xee3bf8=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x83eebd}=this;if(_0x83eebd>-0x1b08+0x174+0x1*0x1994){const _0x11e265=[];for(let _0x3ba135=-0xa46*0x3+0x1a75+0x45d;_0x3ba135<0x98f*0x1+-0x1*0x567+-0x3fb*0x1;++_0x3ba135)_0x11e265['push']('f_rest_'+_0x3ba135);_0xee3bf8['splice'](_0xee3bf8['indexOf']('f_dc_0')+(-0x1f2d+-0x492+0x23c0),0x1a6*-0x1+-0x1b63+-0x1*-0x1d09,..._0x11e265);}const _0x2f80b7=new ik();return _0x2f80b7['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x3a0343,_0x4cb5f2)=>{_0x2f80b7['on']('decompress'+'ed',_0x40d740=>{_0x2f80b7['destroy'](),_0x3a0343(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0xee3bf8['map'](_0x1220f3=>({'type':'float','name':_0x1220f3,'storage':_0x40d740[_0x1220f3],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x46a6e8='super4d-ca'+'che-v1',_0x642b10={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x123c1c=new Uint8Array([0x250*0xa+0x1*0x138f+-0x2a3f,0x266b+-0x5d+-0x25a2,0x111c+0x1*-0x2635+0x1592,0x28+0x2b*-0x19+0x5f*0xb]),_0x5dd979=new Uint8Array([0x1*-0x2692+-0xf9b*-0x1+-0x1701*-0x1,0x263*-0xe+-0x695*0x5+0x42b8,-0xd7b+-0x1*-0x2b+0xdbe,0x49c*-0x2+-0x11e0+0x2*0xdbe,0x1c50+0xb57+-0x68c*0x6,0x1d9a+0x1310+-0x57*0x8e,-0x1bb*0x16+-0x9*0x1a8+0x41b*0xd,0x1b7b+-0x24e+0xc66*-0x2,-0x223*-0x1+0x552*-0x1+0x393,0x1*-0x23be+0x101a+0x1409,0x1*-0x37c+0x1*-0x1a7c+0xf35*0x2,-0x1*-0x1035+-0x16c+-0x19*0x97]),_0x53c842=-0x1cc+-0x56*-0x49+-0x16ba+0.28209479177387814,_0x44dcda=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x41ae97{constructor(_0x21d11b={}){this['options']={..._0x642b10,..._0x21d11b},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x67*-0x35+0x1*-0x259f+0xbca*0x5,this['initialize'+'d']=!(0x1*0x1e79+-0x1f6e+0xf6);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x46a6e8);const _0x2ad963=await this['cache']['keys'](),_0x58ae78=[];for(const _0x51aa1f of _0x2ad963){const _0x10f62e=_0x51aa1f['url'],_0x35b7bd=await this['cache']['match'](_0x10f62e);if(_0x35b7bd){const _0x1140ce=(await _0x35b7bd['blob']())['size'],_0x4642a8=_0x35b7bd['headers']['get']('x-cache-ti'+'me');_0x4642a8&&_0x58ae78['push']({'url':_0x10f62e,'size':_0x1140ce,'cacheTime':parseInt(_0x4642a8)});}}_0x58ae78['sort']((_0x525673,_0xf4cc3a)=>_0x525673['cacheTime']-_0xf4cc3a['cacheTime']);for(const _0x5aa232 of _0x58ae78)this['cacheSizes']['set'](_0x5aa232['url'],_0x5aa232['size']),this['currentSiz'+'e']+=_0x5aa232['size'],this['lruList']['push'](_0x5aa232['url']);}catch(_0x31d3a4){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x31d3a4);}this['initialize'+'d']=!(0xe9d+0x1c87+-0x2b24);}}async['get'](_0x38d504){if(await this['init'](),!this['cache'])return null;try{const _0x51a716=await this['cache']['match'](_0x38d504);if(!_0x51a716)return null;const _0x72e4aa=_0x51a716['headers']['get']('x-cache-ti'+'me');return _0x72e4aa&&Date['now']()-parseInt(_0x72e4aa)>this['options']['maxAge']?(await this['delete'](_0x38d504),null):(this['updateLRU'](_0x38d504),_0x51a716);}catch{return null;}}async['set'](_0x1e6551,_0x58397e){if(!(!this['cache']||_0x1e6551['startsWith']('blob:')))try{const _0x12b82e=_0x58397e['clone'](),_0x38a135=await _0x12b82e['blob'](),_0x4aad26=_0x38a135['size'];this['currentSiz'+'e']+_0x4aad26>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x4aad26);const _0x36594a=new Headers(_0x12b82e['headers']);_0x36594a['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x52e8dc=new Response(_0x38a135,{'status':_0x12b82e['status'],'statusText':_0x12b82e['statusText'],'headers':_0x36594a});await this['cache']['put'](_0x1e6551,_0x52e8dc),this['cacheSizes']['set'](_0x1e6551,_0x4aad26),this['currentSiz'+'e']+=_0x4aad26,this['updateLRU'](_0x1e6551);}catch(_0x915c3a){console['error']('Cache\x20set\x20'+'error:',_0x915c3a);}}['updateLRU'](_0x140e3e){const _0xb37011=this['lruList']['indexOf'](_0x140e3e);_0xb37011>-(-0x161f+-0x241c+0x3a3c)&&this['lruList']['splice'](_0xb37011,-0x1319+0x8cb*-0x2+0x24b0),this['lruList']['push'](_0x140e3e);}async['cleanupSpa'+'ce'](_0x3b4398){const _0x3290ef=this['options']['maxSize']*(-0x646+0x43*-0x4+0x752+0.9);if(!(this['currentSiz'+'e']<=_0x3290ef))for(;this['lruList']['length']>0xf62+0x7*-0x31f+0x677*0x1&&this['currentSiz'+'e']>_0x3290ef;){const _0x460b6e=this['lruList']['shift']();_0x460b6e&&await this['delete'](_0x460b6e);}}async['delete'](_0x53e3fb){if(this['cache'])try{await this['cache']['delete'](_0x53e3fb);const _0x4ffbfb=this['cacheSizes']['get'](_0x53e3fb)||-0x2*-0xb4+0x1*0x633+-0x79b;this['currentSiz'+'e']-=_0x4ffbfb,this['cacheSizes']['delete'](_0x53e3fb);const _0x4e00d6=this['lruList']['indexOf'](_0x53e3fb);_0x4e00d6>-(0x6c2+0xe38*-0x1+0x777)&&this['lruList']['splice'](_0x4e00d6,0x25*-0x43+0x1*-0x16c1+0x37*0x97);}catch(_0x98ee4b){console['error']('Cache\x20dele'+'te\x20error:',_0x98ee4b);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x302e63=>Promise['all'](_0x302e63['map'](_0x47ff40=>{var _0x58109d;return(_0x58109d=this['cache'])==null?void(-0x38*-0x92+0x2241+-0x4231):_0x58109d['delete'](_0x47ff40);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x28d*0xd+0x1210+0x305*0x5;}catch(_0x130e3b){console['error']('Cache\x20clea'+'r\x20error:',_0x130e3b);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x4*-0xb6+-0x3*-0xa62+-0x1c4e;}}class _0xeb3d6{constructor(_0x91915c=[],_0x54e852={}){this['cacheManag'+'er']=new _0x41ae97(_0x54e852['cache']),this['retryCount']=_0x54e852['retryCount']||0x1516+0x1*0x4e1+-0x19f4,this['retryDelay']=_0x54e852['retryDelay']||-0x1903+0x151*0x12+0x1b*0x1f,this['maxConcurr'+'ency']=_0x54e852['maxConcurr'+'ency']||-0x1599+0x304+0x1297,this['downloadQu'+'eue']=_0x91915c,this['isProcessi'+'ngDownload'+'Queue']=!(0x3*0xa73+0x26f+-0x21c7*0x1),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x1069*0x2+-0x1543+-0xb8f);this['downloadQu'+'eue']['length']>0xcbb*0x2+-0x1*-0x207+-0x1b7d;)try{const _0x147837=this['downloadQu'+'eue']['splice'](-0x14cb+0x1711+-0x246,this['maxConcurr'+'ency'])['map'](_0x5be483=>{if(!this['pendingRes'+'ponses']['has'](_0x5be483)){const _0x2a5de8=this['download'](_0x5be483);return this['pendingRes'+'ponses']['set'](_0x5be483,_0x2a5de8),_0x2a5de8['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x5be483);});}return Promise['resolve']();});await Promise['all'](_0x147837);}catch(_0x3f8057){console['error']('Download\x20e'+'rror:',_0x3f8057);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x15ce+-0x3*0x2b3+-0xdb4);}}}async['fetch'](_0x24b8f5,_0x1faca3={}){if(this['pendingRes'+'ponses']['has'](_0x24b8f5))return this['pendingRes'+'ponses']['get'](_0x24b8f5);const {forceRefresh:_0x5b91c3=!(0x771+-0x14bb+0xd4b),..._0x5c397b}=_0x1faca3;this['pendingRes'+'ponses']['set'](_0x24b8f5,this['download'](_0x24b8f5,_0x5c397b));const _0x488c67=await this['pendingRes'+'ponses']['get'](_0x24b8f5);return this['pendingRes'+'ponses']['delete'](_0x24b8f5),_0x488c67;}async['download'](_0x292973,_0x53ea97={}){var _0x5b697d;await((_0x5b697d=this['cacheManag'+'er'])==null?void(0x9e4+-0x5c+-0x2*0x4c4):_0x5b697d['init']());const {forceRefresh:_0x14c3b4=!(0x1cc3+0xd89+-0x2a4b),..._0x1327eb}=_0x53ea97;_0x14c3b4&&await this['cacheManag'+'er']['delete'](_0x292973);const _0x48c112=await this['cacheManag'+'er']['get'](_0x292973);if(_0x48c112)return _0x48c112;let _0x12ad97;for(let _0x33e158=-0x2*-0x4f3+0x89*0x1+-0x1*0xa6f;_0x33e158<this['retryCount'];_0x33e158++)try{const _0x50181f=await fetch(_0x292973,_0x1327eb);if(!_0x50181f['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x50181f['status']);return await this['cacheManag'+'er']['set'](_0x292973,_0x50181f),_0x50181f;}catch(_0x4f1fed){console['error']('Download\x20e'+'rror:',_0x4f1fed),_0x12ad97=_0x4f1fed,_0x33e158<this['retryCount']-(-0x223e*0x1+0x174+-0x17*-0x16d)&&await new Promise(_0x405a16=>setTimeout(_0x405a16,this['retryDelay']*(_0x33e158+(0x256f+0x86b+-0x42b*0xb))));}throw _0x12ad97;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1bd5+-0x1*0x678+-0x155c),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0xfec2f{constructor(){this['numSplats']=0x1*-0x1619+0x10a7+0x52*0x11,this['comments']=[],this['chunkData']=new Float32Array(-0x8df+0x198e+0x1*-0x10af),this['vertexData']=new Uint32Array(-0x2*-0xcd3+0x7cb+-0x2171*0x1),this['is4D']=!(-0x1da2*0x1+0x4c*0x2c+0xca*0x15),this['shBands']=0x88c+0x1*-0x937+0xab,this['shData0']=new Uint8Array(-0x1*0x2470+0x71+0x23ff),this['shData1']=new Uint8Array(-0x94*-0x26+0x3*0xa13+-0x3431),this['shData2']=new Uint8Array(0x3bd+-0x23b3+0x1ff6),this['elements']=[],this['isCompress'+'ed']=!(-0x3*0x322+-0xa3b*-0x2+-0xb10);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x869*0x2+-0x1749*-0x1+-0x271b));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x4eb4c7{constructor(_0x243c18,_0x3f1098=[]){this['elements']=_0x243c18,this['comments']=_0x3f1098,this['isCompress'+'ed']=!(-0x1579+0x118+0x1462);}}class _0x4d9be1{constructor(_0x107611,_0x1445fb){this['reader']=_0x107611,this['progressFu'+'nc']=_0x1445fb,this['head']=0x161e+-0x667+-0x53d*0x3,this['tail']=-0x23eb+-0x2095+0x4480;}async['read'](){var _0x2985f6;const {value:_0xecd393,done:_0x54e820}=await this['reader']['read']();if(_0x54e820)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0xecd393),(_0x2985f6=this['progressFu'+'nc'])==null||_0x2985f6['call'](this,_0xecd393['byteLength']);}['push'](_0xffa717){if(!this['data'])this['data']=_0xffa717,this['view']=new DataView(this['data']['buffer']),this['tail']=_0xffa717['length'];else{const _0x3c3181=this['tail']-this['head'],_0x3a5133=_0x3c3181+_0xffa717['length'];if(this['data']['length']>=_0x3a5133)this['head']>-0x1*-0x15f+0x1*-0x386+0x1d*0x13?(this['data']['copyWithin'](-0x5f8+-0x4*0x401+0x15fc,this['head'],this['tail']),this['data']['set'](_0xffa717,_0x3c3181),this['head']=-0x11*-0x9+-0x4*-0x996+-0x26f1,this['tail']=_0x3a5133):(this['data']['set'](_0xffa717,this['tail']),this['tail']+=_0xffa717['length']);else{const _0x4b409b=new Uint8Array(_0x3a5133);this['head']>0x1834+-0x537+-0x12fd||this['tail']<this['data']['length']?_0x4b409b['set'](this['data']['subarray'](this['head'],this['tail']),0x72b+-0xb53*0x3+-0x2f*-0x92):_0x4b409b['set'](this['data'],0x2f*0x24+-0x4*0x39e+0x4*0x1f7),_0x4b409b['set'](_0xffa717,_0x3c3181),this['data']=_0x4b409b,this['view']=new DataView(this['data']['buffer']),this['head']=0x5fe+-0xaaf*-0x1+-0x10ad,this['tail']=_0x3a5133;}}}['compact'](){this['head']>0x1350+0xebf+-0x220f&&(this['data']['copyWithin'](0xe5d*0x1+0x1532+-0x238f,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x4d3*-0x3+-0x1*-0x1f23+-0x3cd*0xc);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x15d7e5=this['view']['getInt8'](this['head']);return this['head']++,_0x15d7e5;}['getUint8'](){const _0x3317a9=this['view']['getUint8'](this['head']);return this['head']++,_0x3317a9;}['getInt16'](){const _0x20be44=this['view']['getInt16'](this['head'],!(-0x101*-0x7+0x1*-0xb8b+0x242*0x2));return this['head']+=0x1*0x1a56+0x4*0x604+-0x3264,_0x20be44;}['getUint16'](){const _0x4956ab=this['view']['getUint16'](this['head'],!(0x1f*0x59+0xc9*-0x13+0x424));return this['head']+=-0x2ae*0x2+0xbe8+0x1f*-0x36,_0x4956ab;}['getInt32'](){const _0x51a18d=this['view']['getInt32'](this['head'],!(0x116b+-0x1d41+-0xbd6*-0x1));return this['head']+=-0x235e+-0xe5c+0x1*0x31be,_0x51a18d;}['getUint32'](){const _0x416d3f=this['view']['getUint32'](this['head'],!(0x1*0x1719+-0x86e+-0xeab));return this['head']+=-0x13*-0x1e1+0x426*0x2+-0x2bfb,_0x416d3f;}['getFloat32'](){const _0x5d326f=this['view']['getFloat32'](this['head'],!(0x17f9+0x1c30+-0x3429));return this['head']+=0x764*0x4+-0x1*0x1f18+0x18c,_0x5d326f;}['getFloat64'](){const _0x518e47=this['view']['getFloat64'](this['head'],!(-0x207*0xd+0x5a0+-0x1*-0x14bb));return this['head']+=0x9*-0x3f1+-0x6e9*-0x4+-0x1*-0x7dd,_0x518e47;}}class _0x517516{constructor(_0x2e2dfb,_0x53d934,_0x502ea9){this['x']=_0x2e2dfb,this['y']=_0x53d934,this['z']=_0x502ea9;}}class _0x4ac2ac{constructor(_0x24d36e,_0x5a0c34,_0x3aeec7,_0x27003a){this['x']=_0x24d36e,this['y']=_0x5a0c34,this['z']=_0x3aeec7,this['w']=_0x27003a;}}class _0x22d9c3{constructor(_0x1e8f5b,_0x516b40,_0x3f32d5,_0x39b7d1){this['x']=_0x1e8f5b,this['y']=_0x516b40,this['z']=_0x3f32d5,this['w']=_0x39b7d1;}['set'](_0x5487af,_0x54500e,_0x197d4b,_0x51ce17){this['x']=_0x5487af,this['y']=_0x54500e,this['z']=_0x197d4b,this['w']=_0x51ce17;}}class _0x12a0a3{constructor(_0x50e6ac,_0x8cf7db,_0x4704f7,_0x40135d,_0x1722f7,_0x544daa,_0x1a12f6,_0x2aece4,_0x135d68,_0x315e9f,_0x37a97e,_0x1500d9,_0x230b2e,_0x2797e1){const _0x8e79b7=(_0x28cdee,_0x2dac4e)=>{const _0x1451b2=(0x14ca+-0x1eac*-0x1+-0x3375<<_0x2dac4e)-(0x22ec+-0xbe0+0x170b*-0x1);return(_0x28cdee&_0x1451b2)/_0x1451b2;},_0x5f2ec5=(_0x508551,_0x2d31ca)=>{_0x508551['x']=_0x8e79b7(_0x2d31ca>>>-0x5b1+0x1087+-0x1*0xac1,-0x1ea6+0xa*-0x15e+0x2c5d*0x1),_0x508551['y']=_0x8e79b7(_0x2d31ca>>>-0x992+0x21b8+-0x181b,-0x29*-0xe3+-0xba5*-0x3+-0x390*0x14),_0x508551['z']=_0x8e79b7(_0x2d31ca,0x4f*-0x71+-0x18af+0x3b99);},_0x428b73=(_0x48f45e,_0x3d56fb)=>{_0x48f45e['x']=_0x8e79b7(_0x3d56fb>>>0x21f0+0x133d+-0x3515,-0x2b*-0x3d+0x1856+-0x131*0x1d),_0x48f45e['y']=_0x8e79b7(_0x3d56fb>>>0x1*-0x1cdf+0x1619*0x1+0x6d6,0x135*0x1+-0x2027*0x1+0x1efa),_0x48f45e['z']=_0x8e79b7(_0x3d56fb>>>-0xc4d+0x1835+-0x5f0*0x2,-0x1f9d+0x1*-0x2523+0x44c8),_0x48f45e['w']=_0x8e79b7(_0x3d56fb,-0x1f70+0x3ce*-0xa+0x4584);},_0xf7fa90=(_0x32917b,_0x3358f1)=>{const _0x5eae31=(-0x1*0x1322+0x220f*-0x1+-0x16*-0x26b)/(Math['sqrt'](0x13fc+-0x5a7*-0x1+-0x19a1)*(-0x3*0x6da+0x1f*0x71+0x6df+0.5)),_0x3ad3eb=(_0x8e79b7(_0x3358f1>>>0x256f+-0x1*0x1101+0x145a*-0x1,-0x1b7d+0x11ec+0x99b*0x1)-(-0x1d6c+-0x85a*-0x1+0x1512+0.5))*_0x5eae31,_0x45c226=(_0x8e79b7(_0x3358f1>>>0xbba+-0x9bd*0x1+-0x1f3,0x2b4*0xc+-0xcf8+-0x136e)-(0xaa2+-0x25b+-0x847+0.5))*_0x5eae31,_0x302913=(_0x8e79b7(_0x3358f1,0x16b1*0x1+0x826+-0x1ecd)-(-0x1b56*-0x1+0x1c44+-0x379a+0.5))*_0x5eae31,_0x854546=Math['sqrt'](-0x29b*-0x9+-0x1*0x97+-0x1*0x16db-(_0x3ad3eb*_0x3ad3eb+_0x45c226*_0x45c226+_0x302913*_0x302913));switch(_0x3358f1>>>0xdb8+0x76*0x2d+-0x38*0x9d){case-0x4d*-0x5d+0xe87+-0x2a80*0x1:_0x32917b['set'](_0x3ad3eb,_0x45c226,_0x302913,_0x854546);break;case-0x1*0x119b+0xfde+-0xdf*-0x2:_0x32917b['set'](_0x854546,_0x45c226,_0x302913,_0x3ad3eb);break;case-0x1a61+0x1edc+-0x479:_0x32917b['set'](_0x45c226,_0x854546,_0x302913,_0x3ad3eb);break;case 0x1763+-0xc*0x61+-0x12d4:_0x32917b['set'](_0x45c226,_0x302913,_0x854546,_0x3ad3eb);break;}},_0x2e408d=(_0x1f26c0,_0x4c5eb3,_0x42c71b)=>_0x1f26c0*(-0xe60+0x77c+0x161*0x5-_0x42c71b)+_0x4c5eb3*_0x42c71b,_0x21597b=[0x3*-0x80f+-0x1*-0xd83+0xaad,0xe56+-0x2*0xfc6+0x113e,-0x1*-0x411+0x1*-0xa96+-0x694*-0x1][_0x1a12f6-(-0x117b+0x126c+-0xf0)],_0x319f70=-0x35a+0x1e18+-0x1ab8;this['read']=_0x9caf7b=>{const _0x5ae312=Math['floor'](_0x9caf7b/(-0x15*0xa0+-0x2e7*0x5+0x1ca3))*_0x8cf7db;if(_0x2aece4&&(_0x5f2ec5(_0x2aece4,_0x4704f7[_0x9caf7b*_0x319f70+(0xb1*0x12+0x9d2+-0x1644)]),_0x2aece4['x']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x14e0+-0xd36+0x7aa*-0x1)],_0x50e6ac[_0x5ae312+(0x1a35+-0x1b0e+-0xb*-0x14)],_0x2aece4['x']),_0x2aece4['y']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0x76+-0x2d*0x7+0x1b2)],_0x50e6ac[_0x5ae312+(-0xfe+-0x691+0x793)],_0x2aece4['y']),_0x2aece4['z']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0xcc6+-0x2523+0x31eb)],_0x50e6ac[_0x5ae312+(0x232b*-0x1+-0x7b*-0x26+0x10ee)],_0x2aece4['z'])),_0x135d68&&_0xf7fa90(_0x135d68,_0x4704f7[_0x9caf7b*_0x319f70+(-0xd5+0x1*-0x2c7+0x39d)]),_0x315e9f&&(_0x5f2ec5(_0x315e9f,_0x4704f7[_0x9caf7b*_0x319f70+(-0x25b7+-0x1*0x3a1+0x295a)]),_0x315e9f['x']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x5*0x6b7+-0x1337+-0x16f*0xa)],_0x50e6ac[_0x5ae312+(0x110e+-0x4d*0x3b+0x2*0x5d)],_0x315e9f['x']),_0x315e9f['y']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x1d14*0x1+-0x586+0x1787*-0x1)],_0x50e6ac[_0x5ae312+(-0x219*0xd+0x18*-0x5f+0x1*0x2437)],_0x315e9f['y']),_0x315e9f['z']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x1fc3+0x13dd+0x8*-0x673)],_0x50e6ac[_0x5ae312+(-0x199c+-0x1*0xbdd+0x2584)],_0x315e9f['z'])),_0x37a97e&&(_0x428b73(_0x37a97e,_0x4704f7[_0x9caf7b*_0x319f70+(-0x1*-0x166f+0x1*-0x142f+-0xbf*0x3)]),_0x8cf7db>-0x1caf+0x69d*-0x3+0x3092&&(_0x37a97e['x']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0x2*-0x64b+-0x1009+0x37f)],_0x50e6ac[_0x5ae312+(-0xa14+0x2*0x12a1+-0x1b1f)],_0x37a97e['x']),_0x37a97e['y']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x1a5+0x11be+-0x1356)],_0x50e6ac[_0x5ae312+(-0x60*-0x3d+0x1*0xd57+-0x73b*0x5)],_0x37a97e['y']),_0x37a97e['z']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x835+-0xd5*-0x10+-0x1577)],_0x50e6ac[_0x5ae312+(-0x1c25+-0x75*0x20+0x2ad6)],_0x37a97e['z']))),_0x1500d9&&(_0x5f2ec5(_0x1500d9,_0x4704f7[_0x9caf7b*_0x319f70+(0x1*0x116f+0x452*0x8+-0x76d*0x7)]),_0x1500d9['x']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0x1*0x20a1+-0x133d*0x2+0x85*0x89)],_0x50e6ac[_0x5ae312+(0x5c8*0x5+0x6a8+-0x237b)],_0x1500d9['x']),_0x1500d9['y']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0x1051+-0x25ee+0x332*0x11)],_0x50e6ac[_0x5ae312+(0x10b7+-0x4f5+-0x53*0x24)],_0x1500d9['y']),_0x1500d9['z']=_0x2e408d(_0x50e6ac[_0x5ae312+(0x1325+-0x20*0x3f+-0x1*0xb31)],_0x50e6ac[_0x5ae312+(-0x3b1+-0x26ec+-0x6*-0x71e)],_0x1500d9['z'])),_0x230b2e&&(_0x5f2ec5(_0x230b2e,_0x4704f7[_0x9caf7b*_0x319f70+(0x4*0x32b+0x1229+-0x1ed0)]),_0x230b2e['x']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0x19f4+-0xa3*-0x8+0x14f4*0x1)],_0x50e6ac[_0x5ae312+(0x1888+-0x6*-0x274+-0x2727)],_0x230b2e['x']),_0x230b2e['y']=_0x2e408d(_0x50e6ac[_0x5ae312+(-0xd29*-0x1+-0x711+-0x5fe)],_0x50e6ac[_0x5ae312+(-0x1804+0x203e+-0x81f)],_0x230b2e['y'])),_0x2797e1&&_0x1a12f6>-0x20e9+0x1caa+0x43f){const _0x1f1d85=[_0x40135d,_0x1722f7,_0x544daa];for(let _0x4996a1=-0x1360+0x1a9e+-0x73e;_0x4996a1<-0x1*0x1a57+0x1*0x1ba6+-0x14c;++_0x4996a1)for(let _0x19e20c=-0x3d9+-0x188*0x18+0x2899;_0x19e20c<0x7*-0x16a+0x2237+-0x1842;++_0x19e20c)_0x2797e1[_0x4996a1*(-0xde5+-0x1*-0x225a+-0x2ea*0x7)+_0x19e20c]=_0x19e20c<_0x21597b?_0x1f1d85[_0x4996a1][_0x9caf7b*(0x21e8+0x2387+-0x2b*0x19d)+_0x19e20c]*((0x12d1*0x1+-0x9ad+-0xb*0xd4)/(-0x63*-0x21+0xbc*-0x29+0x2*0x92c))-(0x7*0xe5+-0x3b*0x6b+0x126a):0x450*-0x7+-0x10ff+0x101*0x2f;}};}}self['onmessage']=async _0x54c004=>{var _0x3b08fe,_0x4da9fb,_0x2c0c51;const {data:_0xe9744e}=_0x54c004;switch(_0xe9744e['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0xe9744e['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0xeb3d6(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x3b08fe=globalThis['fetchWorke'+'r'])==null||_0x3b08fe['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x19aee2,decompress:_0x58ceba}=_0xe9744e;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0xeb3d6(globalThis['loadUrlLis'+'t']));const _0x43e835=await globalThis['fetchWorke'+'r']['fetch'](_0x19aee2);if(!_0x43e835||!_0x43e835['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x19aee2});else{const _0x39b8ec=parseInt(_0x43e835['headers']['get']('content-le'+'ngth')??'0',-0x45*-0x44+-0x20c7+-0xe7d*-0x1);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x39b8ec,'bytes':0x0,'url':_0x19aee2});let _0x4a0713=await _0x5a7990(_0x43e835['body']['getReader'](),_0x1b6195=>{self['postMessag'+'e']({'type':'progress','bytes':_0x1b6195,'totalLength':_0x39b8ec,'url':_0x19aee2});});if(_0x58ceba&&_0x4a0713['isCompress'+'ed']){const _0x39594d=_0xfd3521(_0x4a0713),_0x3e1260=(_0x4da9fb=_0x39594d==null?void(-0x4c1*-0x1+0xd60+0x33*-0x5b):_0x39594d['elements'][-0x199*0x3+0xcd8+-0x80d])==null?void(0x1d3c+-0x1*0x1981+0xbf*-0x5):_0x4da9fb['properties']['map'](_0x42c23a=>_0x42c23a['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x39594d,'url':_0x19aee2},_0x3e1260);}else{if(_0x4a0713['isCompress'+'ed']){const _0x15cea8=['chunkData','vertexData'];_0x4a0713['shData0']&&_0x15cea8['push']('shData0','shData1','shData2');const _0x18020c=_0x15cea8['map'](_0xafc2e4=>{var _0x2c3088;return(_0x2c3088=_0x4a0713[_0xafc2e4])==null?void(-0x131e+0x80b+0x69*0x1b):_0x2c3088['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x4a0713,'url':_0x19aee2},_0x18020c);}else{_0x4a0713=_0x44467e(_0x4a0713);const _0x3ee197=(_0x2c0c51=_0x4a0713==null?void(-0xf*-0x1db+0x2+-0x1bd7):_0x4a0713['elements'][0xa2b*-0x1+-0x15dc+0x2007])==null?void(-0x1d29+0x26b*0x5+0x1112):_0x2c0c51['properties']['map'](_0x2b192b=>_0x2b192b['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x4a0713,'url':_0x19aee2},_0x3ee197);}}}}catch(_0x1048c5){self['postMessag'+'e']({'type':'error','data':_0x1048c5['message'],'url':_0x19aee2});}break;}};const _0x44467e=_0x52a7ce=>{var _0x2bfb9f;const _0x25de2c=(_0x2bfb9f=_0x52a7ce==null?void(-0x12c5+-0x2*-0x309+0xcb3):_0x52a7ce['elements'][0x850+-0xdca*-0x2+-0x23e4])==null?void(0x9f2*0x1+-0xc9*0x8+0x7*-0x86):_0x2bfb9f['properties']['find'](_0x57ef34=>_0x57ef34['name']==='opacity');if(_0x25de2c){for(let _0x55ca4e=-0xacf+0x162d+-0x5af*0x2;_0x55ca4e<_0x25de2c['storage']['length'];_0x55ca4e++)_0x25de2c['storage'][_0x55ca4e]=(0xadb*0x2+-0xf*-0xf3+-0x11f9*0x2)/(0xf19*0x1+0x1*-0x1789+-0x1*-0x871+Math['exp'](-_0x25de2c['storage'][_0x55ca4e]));}return _0x52a7ce;},_0x20f354=_0x4ff8ee=>{const _0x56f987=[],_0x3cbee6=[];let _0x328ef3;for(let _0x4790f1=-0x3*-0x7d4+-0xa1*0x19+-0x7c2;_0x4790f1<_0x4ff8ee['length'];++_0x4790f1){const _0x1ec862=_0x4ff8ee[_0x4790f1]['split']('\x20');switch(_0x1ec862[-0x68f+0xb*0x257+0x2*-0x997]){case'comment':_0x3cbee6['push'](_0x1ec862['slice'](0x9*-0x2e9+0x108f*0x2+0x6ec*-0x1)['join']('\x20'));break;case'format':_0x328ef3=_0x1ec862[0x745*0x3+-0xe1*0x8+-0xec6];break;case'element':_0x56f987['push']({'name':_0x1ec862[-0x1556+0xd1d*0x2+-0x9*0x8b],'count':parseInt(_0x1ec862[0xdfb+-0x2453+0x165a],-0xa5f+-0x8d7*-0x1+0x192),'properties':[]});break;case'property':{if(!_0x44dcda['has'](_0x1ec862[0xd95+-0x1d*0x45+0x127*-0x5]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x1ec862[-0x557*0x7+0x6f6+0xb1*0x2c]+('\x27\x20in\x20ply\x20h'+'eader'));_0x56f987[_0x56f987['length']-(-0x46e+-0x1be6+0x1*0x2055)]['properties']['push']({'type':_0x1ec862[-0x1154+0xf14+0x241],'name':_0x1ec862[-0x7*0x1d+0x98*0x2b+-0x1*0x18bb],'storage':null,'byteSize':_0x44dcda['get'](_0x1ec862[-0xf3*-0x26+-0x6d*0x15+-0x364*0x8])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x1ec862[-0x17e0+0x22aa+-0x565*0x2]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x56f987,'format':_0x328ef3,'comments':_0x3cbee6};},_0xc6c09f=_0x48afda=>{const _0x3f4f70=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x438e9c=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x2f8917=new Array(0xa9*0x22+-0x1d*-0xa4+-0x28d9)['fill']('')['map']((_0x4a7f5,_0x2d0657)=>'f_rest_'+_0x2d0657),_0x624c1a=()=>_0x48afda[-0x390*-0x8+-0x288*-0x1+-0x18*0x14b]['name']==='chunk'&&_0x48afda[-0x71b+-0xf1f+0x472*0x5]['properties']['every']((_0xb0fbac,_0x295eaf)=>_0xb0fbac['name']===_0x3f4f70[_0x295eaf]&&_0xb0fbac['type']==='float')&&_0x48afda[0x24f3+-0xa9*0x7+-0x2053]['name']==='vertex'&&_0x48afda[0x1c79+-0x1*0xe8a+-0xdee*0x1]['properties']['every']((_0x3b9151,_0x3f56fd)=>_0x3b9151['name']===_0x438e9c[_0x3f56fd]&&_0x3b9151['type']==='uint'),_0x2e854e=()=>_0x48afda[-0xb9*0x11+-0x70*-0xc+0x70b]['name']==='sh'&&[-0x12d0+-0x1*-0x15aa+0x7*-0x67,-0x68e*0x3+0x1*-0x107+0x14c9*0x1,0x6c5*-0x5+-0x1826*0x1+0x3a2c]['indexOf'](_0x48afda[0x5ad*-0x4+-0x20ff+0x37b5]['properties']['length'])!==-(-0x32*-0xc1+-0x1738*0x1+-0xe79)&&_0x48afda[-0x1*0x13c9+0x9*0x96+-0x4d7*-0x3]['properties']['every']((_0x1d41f5,_0x193922)=>_0x1d41f5['name']===_0x2f8917[_0x193922]&&_0x1d41f5['type']==='uchar');return _0x48afda['length']===0x21d1+-0x2360*0x1+0x191&&_0x624c1a()||_0x48afda['length']===-0x2634+0x2*-0xc46+-0x1*-0x3ec3&&_0x624c1a()&&_0x2e854e();},_0x46b92a=_0x201b89=>_0x201b89['length']===0x5ad+0x1572+0x6*-0x485&&_0x201b89[0x143d+0x1a93*-0x1+0x2*0x32b]['name']==='vertex'&&_0x201b89[0x1*0x160f+0x1*0x4a9+-0x1ab8]['properties']['every'](_0x2d5aa5=>_0x2d5aa5['type']==='float'),_0x1258af=async(_0x3c4591,_0x38f2e5,_0x18a69f)=>{const _0x2b82a2=new _0xfec2f();_0x2b82a2['comments']=_0x18a69f;const _0x543e6e=_0x38f2e5[0x560+-0x13ca+0xe6a]['count'],_0x4fef70=_0x38f2e5[0x1*-0x7e1+0x19fa+-0x1219]['properties']['length'],_0x3400a3=_0x38f2e5[-0x1b3+0xb5*-0x27+0x1d47]['count'],_0x34ce43=_0x38f2e5[0x165*-0x1+-0x32*0x7a+0xc9d*0x2]['properties']['some'](_0x3d8cb7=>_0x3d8cb7['name']==='packed_tim'+'e'),_0x2045b7=(_0xc54823=>{const _0x2a5e44=Math['ceil'](Math['sqrt'](_0xc54823)),_0x5d26cd=Math['ceil'](_0xc54823/_0x2a5e44);return _0x2a5e44*_0x5d26cd;})(_0x3400a3);_0x2b82a2['numSplats']=_0x3400a3,_0x2b82a2['is4D']=_0x34ce43,_0x2b82a2['chunkData']=new Float32Array(_0x543e6e*_0x4fef70),_0x2b82a2['vertexData']=new Uint32Array(_0x2045b7*(0x124d+0x2*-0xa52+0x25d));const _0x1bc202=async(_0x42cd30,_0x333544)=>{const _0x24fecc=new Uint8Array(_0x42cd30);let _0x90ac3=0x183*-0xc+-0x2*0xdc2+0x2da8;for(;_0x90ac3<_0x333544;){for(;_0x3c4591['remaining']===-0x1581+0xcdf*0x1+0x8a2;)await _0x3c4591['read']();const _0x808d84=Math['min'](_0x333544-_0x90ac3,_0x3c4591['remaining']),_0x3322c7=_0x3c4591['data'];for(let _0x48c9ec=0x2*0x11b9+-0x667+-0x1d0b;_0x48c9ec<_0x808d84;++_0x48c9ec)_0x24fecc[_0x90ac3++]=_0x3322c7[_0x3c4591['head']++];}};if(await _0x1bc202(_0x2b82a2['chunkData']['buffer'],_0x543e6e*_0x4fef70*(-0x2*0xfda+0x61f+0x1999)),await _0x1bc202(_0x2b82a2['vertexData']['buffer'],_0x3400a3*(0x2c*-0x71+0x24f+0x1123)*(-0x176d+0x1d8f+-0x61e)),_0x38f2e5['length']===0x10*-0x12a+0x12*0x119+-0x11f*0x1){const _0x2dcd78=_0x2045b7*(0x57*-0x4b+-0x1f66+0x3d*0xef),_0x1e815e=new Uint8Array(_0x2dcd78),_0x2b41bb=new Uint8Array(_0x2dcd78),_0x5ca58a=new Uint8Array(_0x2dcd78),_0x4b4c45=0x2470+0x280+-0x22f0,_0x4f8ee0=_0x38f2e5[-0xff3*0x2+0xb65+0x1483]['properties']['length']/(0x845*0x4+0x249d+-0x45ae),_0x18f5f3=new Uint8Array(_0x4b4c45*_0x4f8ee0*(-0xaf*0xd+-0x3*-0x8ff+-0x1217));for(let _0xb24ac=0x1a4d+-0x15fd*-0x1+-0x304a;_0xb24ac<_0x2b82a2['numSplats'];_0xb24ac+=_0x4b4c45){const _0x465e1d=Math['min'](_0x4b4c45,_0x2b82a2['numSplats']-_0xb24ac);await _0x1bc202(_0x18f5f3['buffer'],_0x465e1d*_0x4f8ee0*(0x1*-0x1a66+-0x20ec+-0xf9*-0x3d));for(let _0x12aa65=0x101*0xb+-0x37e+-0x78d;_0x12aa65<_0x465e1d;++_0x12aa65)for(let _0x328c25=0x2294*0x1+-0x1543+-0xd51;_0x328c25<0x53d+0x2299+-0x257*0x11;++_0x328c25){const _0x704909=(_0xb24ac+_0x12aa65)*(-0x699+-0x29*0x59+-0x14ea*-0x1)+_0x328c25;_0x328c25<_0x4f8ee0?(_0x1e815e[_0x704909]=_0x18f5f3[(_0x12aa65*(-0x7*0xb6+-0x2476+0x51*0x83)+(0x1*0xef7+0x700+0x1*-0x15f7))*_0x4f8ee0+_0x328c25],_0x2b41bb[_0x704909]=_0x18f5f3[(_0x12aa65*(-0x1ae+-0x5*-0x8d+0x1*-0x110)+(0x1f82+0x355*0x1+0xd*-0x2ae))*_0x4f8ee0+_0x328c25],_0x5ca58a[_0x704909]=_0x18f5f3[(_0x12aa65*(0x22a*0x10+-0x1fbd+-0x2e*0x10)+(0x53*-0x1d+0x97*-0x5+0xc5c))*_0x4f8ee0+_0x328c25]):(_0x1e815e[_0x704909]=-0x12e+0x1fef+0x1e42*-0x1,_0x2b41bb[_0x704909]=0x856+0x731*0x1+-0xf08,_0x5ca58a[_0x704909]=-0x1de0+-0xff+0x1f5e);}}_0x2b82a2['shData0']=_0x1e815e,_0x2b82a2['shData1']=_0x2b41bb,_0x2b82a2['shData2']=_0x5ca58a,_0x2b82a2['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x4f8ee0];}else _0x2b82a2['shBands']=0x14c9+0x1885*0x1+-0x6*0x78d;return _0x2b82a2;},_0x59070d=async(_0x122626,_0x5e9a6e,_0x420f01)=>{const _0x37443f=_0x5e9a6e[-0xe2*0x15+0x441*0x7+-0xb3d],_0x481a8f=_0x37443f['properties'],_0x5862a5=_0x481a8f['length'],_0x95f2a8=_0x481a8f['map'](_0x19c834=>_0x19c834['storage']),_0x1934e2=_0x481a8f['reduce']((_0x4c84e8,_0x2153c6)=>_0x4c84e8+_0x2153c6['byteSize'],-0x246d+0x1664+-0xe09*-0x1);let _0x582e4e=-0xb6c+-0x1e81+0x29ed*0x1,_0x554e09;const _0x3c82d4=()=>{const _0xd7b524=_0x122626['data']['buffer'];(_0x554e09==null?void(-0x203e*0x1+-0xb9c+0x74f*0x6):_0x554e09['buffer'])!==_0xd7b524&&(_0x554e09=new Float32Array(_0xd7b524,0x3ef*-0x3+-0x922+-0x14ef*-0x1,_0xd7b524['byteLength']/(-0x180+0x29*-0xc1+0x206d)));};for(_0x3c82d4();_0x582e4e<_0x37443f['count'];){for(;_0x122626['remaining']<_0x1934e2;)await _0x122626['read'](),_0x3c82d4();const _0x614fbf=Math['min'](_0x37443f['count']-_0x582e4e,Math['floor'](_0x122626['remaining']/_0x1934e2));for(let _0x4b0ae0=-0x1*-0xdd+0x2d*-0x53+-0xe*-0xfb;_0x4b0ae0<_0x5862a5;++_0x4b0ae0){const _0x5993f1=_0x95f2a8[_0x4b0ae0];for(let _0x11ed18=0x263c+-0x2645*-0x1+-0x5*0xf4d;_0x11ed18<_0x614fbf;++_0x11ed18)_0x5993f1[_0x11ed18+_0x582e4e]=_0x554e09[_0x11ed18*_0x5862a5+_0x4b0ae0];}_0x582e4e+=_0x614fbf,_0x122626['head']+=_0x614fbf*_0x1934e2;}return new _0x4eb4c7(_0x5e9a6e,_0x420f01);},_0x454012=async(_0x2a7fea,_0x3acef4,_0x8e770a)=>{for(let _0x26f462=0x39*0x49+-0x1*0x23a4+0x1363;_0x26f462<_0x3acef4['length'];++_0x26f462){const _0x5e8c2d=_0x3acef4[_0x26f462],_0x42c1a9=_0x5e8c2d['properties']['reduce']((_0x57116a,_0x50d566)=>_0x57116a+_0x50d566['byteSize'],0x8*0xc2+0x141c+-0x32*0x86),_0x698b55=_0x5e8c2d['properties']['map'](_0x31bd26=>{if(_0x31bd26['storage'])switch(_0x31bd26['type']){case'char':return(_0x1c8b22,_0x43d331)=>{_0x31bd26['storage'][_0x43d331]=_0x1c8b22['getInt8']();};case'uchar':return(_0x1633da,_0x4fdd33)=>{_0x31bd26['storage'][_0x4fdd33]=_0x1633da['getUint8']();};case'short':return(_0x3da0b9,_0x542964)=>{_0x31bd26['storage'][_0x542964]=_0x3da0b9['getInt16']();};case'ushort':return(_0x3cb702,_0x5353f9)=>{_0x31bd26['storage'][_0x5353f9]=_0x3cb702['getUint16']();};case'int':return(_0x5bf6b3,_0x1d8834)=>{_0x31bd26['storage'][_0x1d8834]=_0x5bf6b3['getInt32']();};case'uint':return(_0x1e6b5a,_0xbf64d8)=>{_0x31bd26['storage'][_0xbf64d8]=_0x1e6b5a['getUint32']();};case'float':return(_0x56feb6,_0x4238e9)=>{_0x31bd26['storage'][_0x4238e9]=_0x56feb6['getFloat32']();};case'double':return(_0x457842,_0x35ae21)=>{_0x31bd26['storage'][_0x35ae21]=_0x457842['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x31bd26['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0xf9ff3=>{_0xf9ff3['head']+=_0x31bd26['byteSize'];};});let _0x31ae35=0x9*0x4d+-0x199c+0x16e7;for(;_0x31ae35<_0x5e8c2d['count'];){for(;_0x2a7fea['remaining']<_0x42c1a9;)await _0x2a7fea['read']();const _0x49da33=Math['min'](_0x5e8c2d['count']-_0x31ae35,Math['floor'](_0x2a7fea['remaining']/_0x42c1a9));for(let _0x2be187=0x6*0x4cf+-0x1d53+0x1*0x79;_0x2be187<_0x49da33;++_0x2be187){for(let _0x27f04c=-0x31*0xbf+-0x2005+0x4494;_0x27f04c<_0x5e8c2d['properties']['length'];++_0x27f04c)_0x698b55[_0x27f04c](_0x2a7fea,_0x31ae35);_0x31ae35++;}}}return new _0x4eb4c7(_0x3acef4,_0x8e770a);},_0x5a7990=async(_0x9fc40e,_0x5e8406=null)=>{const _0x4f4e7a=(_0x113ef8,_0x3f9c52)=>{const _0x19a023=_0x113ef8['length']-_0x3f9c52['length'];let _0x4d3618,_0x374c74;for(_0x4d3618=-0x222f+0x1e9*-0x1+0x2418;_0x4d3618<=_0x19a023;++_0x4d3618){for(_0x374c74=0x1fd+0x117*0x9+-0xbcc;_0x374c74<_0x3f9c52['length']&&_0x113ef8[_0x4d3618+_0x374c74]===_0x3f9c52[_0x374c74];++_0x374c74);if(_0x374c74===_0x3f9c52['length'])return _0x4d3618;}return-(0xed*0x17+-0x87*-0x1d+-0x5*0x751);},_0x27850a=(_0x24e41e,_0x2a2bc5)=>{if(_0x24e41e['length']<_0x2a2bc5['length'])return!(0x1f*0x15+-0xee1+0xc57*0x1);for(let _0x4c85d2=0x1201+0x158e+0x13*-0x215;_0x4c85d2<_0x2a2bc5['length'];++_0x4c85d2)if(_0x24e41e[_0x4c85d2]!==_0x2a2bc5[_0x4c85d2])return!(0x21e1+-0x94+0x2*-0x10a6);return!(-0x200c+0x918+-0x1a*-0xe2);},_0x3062f0=new _0x4d9be1(_0x9fc40e,_0x5e8406);let _0x256ee2;for(;;){if(await _0x3062f0['read'](),_0x3062f0['tail']>=_0x123c1c['length']&&!_0x27850a(_0x3062f0['data'],_0x123c1c))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x256ee2=_0x4f4e7a(_0x3062f0['data'],_0x5dd979),_0x256ee2!==-(0x9b4+0x1c61+-0x2614))break;}const _0x5f124f=new TextDecoder('ascii')['decode'](_0x3062f0['data']['subarray'](0x2be+-0x15e7+0x1329,_0x256ee2))['split']('\x0a'),{elements:_0x4e18c2,format:_0x116aa9,comments:_0x4be971}=_0x20f354(_0x5f124f);if(_0x116aa9!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3062f0['head']=_0x256ee2+_0x5dd979['length'],_0x3062f0['compact'](),await((async()=>_0xc6c09f(_0x4e18c2)?await _0x1258af(_0x3062f0,_0x4e18c2,_0x4be971):(_0x4e18c2['forEach'](_0x48fae1=>{_0x48fae1['properties']['forEach'](_0x33aa81=>{const _0x386e62=_0x44dcda['get'](_0x33aa81['type']);if(_0x386e62){const _0x2d3878=new _0x386e62(_0x48fae1['count']);_0x33aa81['storage']=_0x2d3878;}});}),_0x46b92a(_0x4e18c2)?await _0x59070d(_0x3062f0,_0x4e18c2,_0x4be971):await _0x454012(_0x3062f0,_0x4e18c2,_0x4be971)))());},_0xfd3521=_0x151213=>{const {numSplats:_0x5d29bb,chunkData:_0x504f6c,chunkSize:_0x53b4e6,vertexData:_0x42fce9,shData0:_0x386867,shData1:_0x567c92,shData2:_0x464673,shBands:_0x16992d,comments:_0x5727de,is4D:_0x1f0994}=_0x151213,_0x295dad=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x1f0994&&_0x295dad['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x16992d>0x2683+-0x3b*0x2f+-0x1bae){const _0x3ae648=[];for(let _0xb6d4f4=-0x15+-0x115+0x12a*0x1;_0xb6d4f4<-0xdf*-0x25+-0xd9*-0x25+-0x3f6b;++_0xb6d4f4)_0x3ae648['push']('f_rest_'+_0xb6d4f4);_0x295dad['splice'](_0x295dad['indexOf']('f_dc_0')+(0x1c6f+0x1*0x1dc5+-0x3a33*0x1),0x5fd*-0x2+0xd16+0x47*-0x4,..._0x3ae648);}const _0x5d2c70={};_0x295dad['forEach'](_0x3b8464=>{_0x5d2c70[_0x3b8464]=new Float32Array(_0x5d29bb);});const _0x3ae4cf=new _0x517516(),_0xd72eb0=new _0x22d9c3(),_0x40850b=new _0x517516(),_0x577926=new _0x4ac2ac(),_0x356bdc=new _0x517516(),_0x17bc7e=new _0x517516(),_0x1e2a47=_0x16992d>-0xd*0x1a3+0x1661+0x5e*-0x3?new Float32Array(0x77a+0x24*0x9+-0x891):null,_0x47f3e0=new _0x12a0a3(_0x504f6c,_0x53b4e6,_0x42fce9,_0x386867,_0x567c92,_0x464673,_0x16992d,_0x3ae4cf,_0xd72eb0,_0x40850b,_0x577926,_0x356bdc,_0x17bc7e,_0x1e2a47);for(let _0x3b5de8=0x5*-0x74f+-0x11+0x249c;_0x3b5de8<_0x5d29bb;++_0x3b5de8){_0x47f3e0['read'](_0x3b5de8),_0x5d2c70['x'][_0x3b5de8]=_0x3ae4cf['x'],_0x5d2c70['y'][_0x3b5de8]=_0x3ae4cf['y'],_0x5d2c70['z'][_0x3b5de8]=_0x3ae4cf['z'],_0x5d2c70['rot_1'][_0x3b5de8]=_0xd72eb0['x'],_0x5d2c70['rot_2'][_0x3b5de8]=_0xd72eb0['y'],_0x5d2c70['rot_3'][_0x3b5de8]=_0xd72eb0['z'],_0x5d2c70['rot_0'][_0x3b5de8]=_0xd72eb0['w'],_0x5d2c70['scale_0'][_0x3b5de8]=_0x40850b['x'],_0x5d2c70['scale_1'][_0x3b5de8]=_0x40850b['y'],_0x5d2c70['scale_2'][_0x3b5de8]=_0x40850b['z'],_0x5d2c70['motion_0'][_0x3b5de8]=_0x356bdc['x'],_0x5d2c70['motion_1'][_0x3b5de8]=_0x356bdc['y'],_0x5d2c70['motion_2'][_0x3b5de8]=_0x356bdc['z'],_0x5d2c70['t_scale'][_0x3b5de8]=_0x17bc7e['x'],_0x5d2c70['t'][_0x3b5de8]=_0x17bc7e['y'],_0x5d2c70['f_dc_0'][_0x3b5de8]=(_0x577926['x']-(0x1*-0x21b3+0x10f1*0x2+-0x2f+0.5))/_0x53c842,_0x5d2c70['f_dc_1'][_0x3b5de8]=(_0x577926['y']-(0x1b13+-0x18*-0x131+-0x37ab*0x1+0.5))/_0x53c842,_0x5d2c70['f_dc_2'][_0x3b5de8]=(_0x577926['z']-(-0x552+0x1ea3+-0x1951+0.5))/_0x53c842;const _0x4e178a=_0x577926['w']<=0x1552+-0xae1*0x1+-0xa71?-(0x1*-0xcff+-0x8a3+0x15ca):_0x577926['w']>=-0x260b*-0x1+0x1bd0+-0x41da?0x4*-0x82f+-0xc42+0x2d26*0x1:-Math['log']((-0xdb8+0x210*0xf+-0x153*0xd)/_0x577926['w']-(-0x3*0xb81+0x265b+-0x1*0x3d7));if(_0x5d2c70['opacity'][_0x3b5de8]=(-0xc5*0x2f+0xc27+0x1*0x1805)/(-0x2*-0x6cc+0x2*-0xa32+0x6cd+Math['exp'](-_0x4e178a)),_0x1e2a47){for(let _0x215850=0x8ca+-0xa*0x1cc+-0x1d6*-0x5;_0x215850<-0x29*-0x95+-0x1dc0+0x610*0x1;++_0x215850)_0x5d2c70['f_rest_'+_0x215850][_0x3b5de8]=_0x1e2a47[_0x215850];}}const _0x475294=[{'count':_0x5d29bb,'name':'vertex','properties':_0x295dad['map'](_0x4a76ce=>({'byteSize':0x4,'name':_0x4a76ce,'type':'float','storage':_0x5d2c70[_0x4a76ce]}))}];return new _0x4eb4c7(_0x475294,_0x5727de);};}class ok extends me{constructor(_0x45a48e){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x45a48e,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x2fc4d2,_0x1ca74b,_0x5bb126=(_0x4c63b3,_0x1464d1)=>{},_0x47a827=(_0x680fe4,_0x98cf36,_0x528b0b)=>{},_0x308cf9=(_0x4e6308,_0x16a882)=>{}){var _0x5d964e;return(_0x5d964e=this['worker'])==null||_0x5d964e['postMessag'+'e']({'type':'loadPly','url':_0x2fc4d2,'decompress':_0x1ca74b}),new Promise((_0x3a74e4,_0x55601b)=>{if(!this['worker']){_0x55601b(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x267b1b=>{if(!this['worker'])return;const {data:_0x15d96e}=_0x267b1b;if(_0x2fc4d2===_0x15d96e['url'])switch(_0x15d96e['type']){case'totalLengt'+'h':_0x5bb126==null||_0x5bb126(_0x15d96e['totalLengt'+'h'],_0x15d96e['url']);break;case'progress':_0x47a827==null||_0x47a827(_0x15d96e['bytes'],_0x15d96e['totalLengt'+'h'],_0x15d96e['url']);break;case'splatData':_0x3a74e4(_0x15d96e['data']);break;case'error':_0x308cf9==null||_0x308cf9(_0x15d96e['data'],_0x15d96e['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x280*0xe+-0x2c8*0x2+0x2890));}}class lk{constructor(_0x30fecd,_0x342887){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x30fecd,this['maxRetries']=_0x342887,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=-0x25*-0xa9+0x1357+-0x15e2*0x2);}async['load'](_0x4067c5,_0x16d509,_0x36cb70){var _0x297fc4,_0x291ee9,_0x257f4d;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x4067c5['load']['includes'](',')?this['urlList']=_0x4067c5['load']['split'](','):this['urlList']['push'](_0x4067c5['load']);const _0x4a003d=_0x36cb70['data']['createTime']!==((_0x291ee9=(_0x297fc4=this['onlyOneAss'+'et'])==null?void(0xf33+-0x1*-0x13a9+-0x22dc):_0x297fc4['data'])==null?void(0x1d6e+-0x1193*-0x2+0x4094*-0x1):_0x291ee9['createTime']);(!this['readWorker']||_0x4a003d)&&((_0x257f4d=this['readWorker'])==null||_0x257f4d['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x43046d=_0x36cb70['data']['loadIndex']>=-0x164d+0x2049+-0x9fc?_0x36cb70['data']['loadIndex']:0x2139+-0x17fb+-0x93e,_0x379af5=_0x36cb70['data']['loadMode']==='all'?this['urlList']['length']-_0x43046d:_0x43046d+(0x1*-0xada+-0x773+-0x21*-0x8e),_0x31e5a3=_0x36cb70['data']['timeOption'],_0x36fd8f=_0x36cb70['data']['events'];for(let _0x24acce=_0x43046d;_0x24acce<_0x379af5;_0x24acce++)await this['loadGsplat'+'Data'](this['urlList'],_0x16d509,_0x36cb70,_0x24acce,_0x31e5a3,_0x36fd8f,_0x379af5);_0x36fd8f['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x20b3f9,_0x3fe28d,_0x574a6c,_0x213b15,_0x174bc8,_0x2f0279,_0x5350eb){var _0xa4350e,_0xd89638,_0x40cb59;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x20b3f9[_0x213b15]['trim'](),_0x213b15);const _0x4f8f79=_0x174bc8[(-0x1e93+0x2384+0x4ef*-0x1)*_0x213b15]+_0x174bc8[(-0x6b*0x29+-0x8af+0x19d4)*_0x213b15+(0x979+-0xa37*-0x2+-0x2*0xef3)],_0x2f8eaa=_0x20b3f9[_0x213b15]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x1*0x1a4d+0x228f*-0x1+0x5064))['toFixed'](-0x11af*0x1+-0xd6*-0x15+0x23));try{const _0x1547ca=await((_0xa4350e=this['readWorker'])==null?void(-0xb8a+-0x1e5f*-0x1+-0x12d5):_0xa4350e['loadPly'](_0x2f8eaa,_0x574a6c['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x4a1*0x3+-0x2635+0x683*0x8;},(_0x444a38,_0x121621)=>{this['totalRecei'+'ved']+=_0x444a38,_0x574a6c&&_0x2f0279['fire']('progress',_0x121621*_0x213b15/_0x5350eb+this['totalRecei'+'ved']/_0x5350eb,_0x121621);},(_0x172864,_0x9d4bbd)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x9d4bbd,_0x172864);}));let _0x22a3c3;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x7*-0x101+0x2656+-0x185*0x11))['toFixed'](0x40f+-0xe21+0xa14)),_0x1547ca['isCompress'+'ed']?(_0x22a3c3=new ak(),_0x22a3c3['comments']=_0x1547ca['comments'],_0x22a3c3['numSplats']=_0x1547ca['numSplats'],_0x22a3c3['is4D']=_0x1547ca['is4D'],_0x22a3c3['chunkData']=_0x1547ca['chunkData'],_0x22a3c3['vertexData']=_0x1547ca['vertexData'],_0x22a3c3['shData0']=_0x1547ca['shData0'],_0x22a3c3['shData1']=_0x1547ca['shData1'],_0x22a3c3['shData2']=_0x1547ca['shData2'],_0x22a3c3['shBands']=_0x1547ca['shBands']):_0x22a3c3=new qn(_0x1547ca['elements'],_0x1547ca['comments']),_0x574a6c['fire']('load:data',_0x22a3c3),_0x22a3c3['isCompress'+'ed']||_0x574a6c['data']['reorder'];const _0x4f7009=_0x574a6c['data']['createTime']!==((_0x40cb59=(_0xd89638=this['onlyOneAss'+'et'])==null?void(-0x2011+0x12cb*0x1+0xd46):_0xd89638['data'])==null?void(0x1*-0xe2d+-0x1*-0x123+0xd0a):_0x40cb59['createTime']);this['gsplatReso'+'urce']&&!_0x4f7009?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x22a3c3['isCompress'+'ed']?await _0x22a3c3['decompress']():_0x22a3c3,_0x174bc8,_0x4f8f79,_0x574a6c,_0x2f0279):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x22a3c3['isCompress'+'ed']?await _0x22a3c3['decompress']():_0x22a3c3),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x174bc8,this['onlyOneAss'+'et']=_0x574a6c),_0x3fe28d(null,this['gsplatReso'+'urce']);}catch(_0x1fde37){_0x3fe28d(_0x1fde37,null);}}['open'](_0x2dc529,_0x5cdd86){return _0x5cdd86;}}async function ck(){const _0x3c8923='super4d-ca'+'che-v1',_0x7a4f47={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x1f79b4=-0x228a*-0x1+-0xe0f*0x2+-0x66c+0.28209479177387814;class _0x333f4f{constructor(_0x42aaf3={}){this['options']={..._0x7a4f47,..._0x42aaf3},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x1c0+0x481+-0x1*0x641,this['initialize'+'d']=!(-0xad*-0xe+0xab5+-0x3a*0x59);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3c8923);const _0x5681fc=await this['cache']['keys'](),_0x1f442c=[];for(const _0x3eefee of _0x5681fc){const _0x410324=_0x3eefee['url'],_0x3b9c52=await this['cache']['match'](_0x410324);if(_0x3b9c52){const _0x2d5d6d=(await _0x3b9c52['blob']())['size'],_0x82a75f=_0x3b9c52['headers']['get']('x-cache-ti'+'me');_0x82a75f&&_0x1f442c['push']({'url':_0x410324,'size':_0x2d5d6d,'cacheTime':parseInt(_0x82a75f)});}}_0x1f442c['sort']((_0x4e518b,_0x10677e)=>_0x4e518b['cacheTime']-_0x10677e['cacheTime']);for(const _0x5d1e48 of _0x1f442c)this['cacheSizes']['set'](_0x5d1e48['url'],_0x5d1e48['size']),this['currentSiz'+'e']+=_0x5d1e48['size'],this['lruList']['push'](_0x5d1e48['url']);}catch(_0x3d41da){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x3d41da);}this['initialize'+'d']=!(-0x8b*-0x2a+0x1d48*-0x1+0x33d*0x2);}}async['get'](_0x592193){if(await this['init'](),!this['cache'])return null;try{const _0x4c5c2a=await this['cache']['match'](_0x592193);if(!_0x4c5c2a)return null;const _0x51840b=_0x4c5c2a['headers']['get']('x-cache-ti'+'me');return _0x51840b&&Date['now']()-parseInt(_0x51840b)>this['options']['maxAge']?(await this['delete'](_0x592193),null):(this['updateLRU'](_0x592193),_0x4c5c2a);}catch{return null;}}async['set'](_0x9e91fc,_0x3ce725){if(!(!this['cache']||_0x9e91fc['startsWith']('blob:')))try{const _0x44e5e4=_0x3ce725['clone'](),_0x8a995e=await _0x44e5e4['blob'](),_0x164ded=_0x8a995e['size'];this['currentSiz'+'e']+_0x164ded>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x164ded);const _0x167b4c=new Headers(_0x44e5e4['headers']);_0x167b4c['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x31e0b3=new Response(_0x8a995e,{'status':_0x44e5e4['status'],'statusText':_0x44e5e4['statusText'],'headers':_0x167b4c});await this['cache']['put'](_0x9e91fc,_0x31e0b3),this['cacheSizes']['set'](_0x9e91fc,_0x164ded),this['currentSiz'+'e']+=_0x164ded,this['updateLRU'](_0x9e91fc);}catch(_0x4ceda4){console['error']('Cache\x20set\x20'+'error:',_0x4ceda4);}}['updateLRU'](_0x2efc91){const _0x43dd91=this['lruList']['indexOf'](_0x2efc91);_0x43dd91>-(-0x208a+0x95a+-0x1731*-0x1)&&this['lruList']['splice'](_0x43dd91,0x1393+0x277*-0xc+0xa02),this['lruList']['push'](_0x2efc91);}async['cleanupSpa'+'ce'](_0x2ecf64){const _0x39f737=this['options']['maxSize']*(0x5*0x5a4+0x3fe*-0x8+0x1*0x3bc+0.9);if(!(this['currentSiz'+'e']<=_0x39f737))for(;this['lruList']['length']>0x1621+-0xa*-0x202+-0x2a35&&this['currentSiz'+'e']>_0x39f737;){const _0x5ee073=this['lruList']['shift']();_0x5ee073&&await this['delete'](_0x5ee073);}}async['delete'](_0x57433e){if(this['cache'])try{await this['cache']['delete'](_0x57433e);const _0x138632=this['cacheSizes']['get'](_0x57433e)||0x72f*0x3+0x466+0x5b*-0x49;this['currentSiz'+'e']-=_0x138632,this['cacheSizes']['delete'](_0x57433e);const _0x46b47c=this['lruList']['indexOf'](_0x57433e);_0x46b47c>-(-0xd9e+-0xaa9+0x1848)&&this['lruList']['splice'](_0x46b47c,-0x2590*-0x1+0x269+-0x27f8);}catch(_0x44e425){console['error']('Cache\x20dele'+'te\x20error:',_0x44e425);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xe536f4=>Promise['all'](_0xe536f4['map'](_0x282e37=>{var _0x4a0df8;return(_0x4a0df8=this['cache'])==null?void(-0x1cb9*-0x1+0xb*0x10b+-0x7*0x5be):_0x4a0df8['delete'](_0x282e37);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x134*-0x8+-0x1d71+0x13d1;}catch(_0x2dabab){console['error']('Cache\x20clea'+'r\x20error:',_0x2dabab);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1a3*0x9+-0x3*-0x40e+-0x9*0x2fd;}}class _0x1544b8{constructor(_0x2b0c8c=[],_0xdfa347={}){this['cacheManag'+'er']=new _0x333f4f(_0xdfa347['cache']),this['retryCount']=_0xdfa347['retryCount']||0x20aa+-0x204c*0x1+-0x5b,this['retryDelay']=_0xdfa347['retryDelay']||0x2ab*-0x3+0x153f+-0x5*0x242,this['maxConcurr'+'ency']=_0xdfa347['maxConcurr'+'ency']||-0x4*0x907+-0x9ba+-0x16ee*-0x2,this['downloadQu'+'eue']=_0x2b0c8c,this['isProcessi'+'ngDownload'+'Queue']=!(-0x11fc*0x1+-0xa91+0xa*0x2db),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1c3*-0x13+0x6dd+0xd72*-0x3);this['downloadQu'+'eue']['length']>-0x1537+0x1dc4+0x88d*-0x1;)try{const _0x15b7b3=this['downloadQu'+'eue']['splice'](0x249c*0x1+-0x106*0x26+0x248,this['maxConcurr'+'ency'])['map'](_0x1f84f7=>{if(!this['pendingRes'+'ponses']['has'](_0x1f84f7)){const _0x4a3670=this['download'](_0x1f84f7);return this['pendingRes'+'ponses']['set'](_0x1f84f7,_0x4a3670),_0x4a3670['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x1f84f7);});}return Promise['resolve']();});await Promise['all'](_0x15b7b3);}catch(_0x58cc5c){console['error']('Download\x20e'+'rror:',_0x58cc5c);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x113+0x1a73+-0x513*0x5);}}}async['fetch'](_0xea319f,_0x3b7a36={}){if(this['pendingRes'+'ponses']['has'](_0xea319f))return this['pendingRes'+'ponses']['get'](_0xea319f);const {forceRefresh:_0x506a80=!(-0x1*-0x15c5+-0x1024*-0x2+-0x360c),..._0x46044c}=_0x3b7a36;this['pendingRes'+'ponses']['set'](_0xea319f,this['download'](_0xea319f,_0x46044c));const _0x14ed9e=await this['pendingRes'+'ponses']['get'](_0xea319f);return this['pendingRes'+'ponses']['delete'](_0xea319f),_0x14ed9e;}async['download'](_0x36598f,_0x16a771={}){var _0x26ee49;await((_0x26ee49=this['cacheManag'+'er'])==null?void(-0x1286+-0x1*-0x12d1+-0x4b):_0x26ee49['init']());const {forceRefresh:_0x1e35cf=!(0x1274*0x2+-0x17b*0x2+-0x1*0x21f1),..._0x2d7a50}=_0x16a771;_0x1e35cf&&await this['cacheManag'+'er']['delete'](_0x36598f);const _0x44edec=await this['cacheManag'+'er']['get'](_0x36598f);if(_0x44edec)return _0x44edec;let _0x2056d8;for(let _0x3e6e23=-0x596+0x885*-0x4+0x27aa*0x1;_0x3e6e23<this['retryCount'];_0x3e6e23++)try{const _0xc1431d=await fetch(_0x36598f,_0x2d7a50);if(!_0xc1431d['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0xc1431d['status']);return await this['cacheManag'+'er']['set'](_0x36598f,_0xc1431d),_0xc1431d;}catch(_0x4811d9){console['error']('Download\x20e'+'rror:',_0x4811d9),_0x2056d8=_0x4811d9,_0x3e6e23<this['retryCount']-(0x760+-0x1*0x2102+0x1*0x19a3)&&await new Promise(_0x14b6d1=>setTimeout(_0x14b6d1,this['retryDelay']*(_0x3e6e23+(-0x5eb*0x1+-0x395+0x981))));}throw _0x2056d8;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x2ee5b4;(_0x2ee5b4=this['cacheManag'+'er'])==null||_0x2ee5b4['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x13f2+-0x1bd7*0x1+0x3*0xfee),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x34a261{constructor(_0x180f89,_0x2b5be0=[]){this['elements']=_0x180f89,this['comments']=_0x2b5be0,this['isCompress'+'ed']=!(0x1540+0x1*-0x4d2+-0x349*0x5);}}class _0x18ac8a{constructor(_0x3f0586){this['url']=_0x3f0586;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x1544b8(globalThis['downloadQu'+'eueUrlList']));const _0x348bd3=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x348bd3['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x348bd3['statusText']);const _0x112a14=await _0x348bd3['arrayBuffe'+'r'](),_0x596cd0=new Uint8Array(_0x112a14);let _0x1cc6a2=-0xa60+-0x203c*-0x1+-0x15dc,{size:_0x19af16,type:_0x442094}=this['_readBoxHe'+'ader'](_0x596cd0,_0x1cc6a2);if(_0x442094!=='moof')throw new Error('Not\x20a\x20moof');_0x1cc6a2+=-0x25bf+-0x2378+0x493f;const _0x3dfbfa=_0x1cc6a2+_0x19af16-(0x1f41+-0x1a05*-0x1+-0x393e);let _0x13f3b3=null;for(;_0x1cc6a2<_0x3dfbfa;){const {size:_0x3a2142,type:_0x10c9f2}=this['_readBoxHe'+'ader'](_0x596cd0,_0x1cc6a2);_0x1cc6a2+=-0xa3d+-0x84a*-0x2+0x5*-0x143;const _0x15aa80=_0x596cd0['slice'](_0x1cc6a2,_0x1cc6a2+_0x3a2142-(-0x13ce+0xb51+0x885));_0x1cc6a2+=_0x3a2142-(-0x6f0+-0x131*-0x11+-0xd49),_0x10c9f2==='emsg'&&(_0x13f3b3=this['_parseEmsg'](_0x15aa80));}if(!_0x13f3b3)throw new Error('Incomplete'+'\x20moof');const {size:_0x230287,type:_0x2abb30}=this['_readBoxHe'+'ader'](_0x596cd0,_0x1cc6a2);if(_0x2abb30!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x1cc6a2+=0x51*-0x49+-0xe79+0x259a;const _0x519d02=_0x596cd0['slice'](_0x1cc6a2,_0x1cc6a2+(_0x230287-(-0x203b+0x24bb*-0x1+0x1*0x44fe)));return{'metadata':_0x13f3b3,'segmentData':_0x519d02};}['_readBoxHe'+'ader'](_0x35873a,_0x14bdef){if(_0x14bdef+(0x119*-0x11+-0x1*-0x20a1+-0x37c*0x4)>_0x35873a['length'])throw new Error('EOF');const _0x23e13e=_0x35873a[_0x14bdef]<<0x400*-0x6+-0x1146+0x161*0x1e|_0x35873a[_0x14bdef+(0x9*-0x319+0x153f+0x6a3)]<<0x2*0x53a+-0x1*0x1801+0xd9d|_0x35873a[_0x14bdef+(0x1*0x2551+-0x993+0xdde*-0x2)]<<0xce*-0x3+-0x729+0x99b|_0x35873a[_0x14bdef+(0x743*0x1+0x65+-0x7a5)],_0x3bdf6b=String['fromCharCo'+'de'](_0x35873a[_0x14bdef+(-0x2*0x12fe+-0x1429+0x3a29)],_0x35873a[_0x14bdef+(0x2027*0x1+-0x1c77+-0x3ab)],_0x35873a[_0x14bdef+(0x97+-0xd74+0xce3)],_0x35873a[_0x14bdef+(0x237a+-0x1f81*-0x1+-0x42f4)]);return{'size':_0x23e13e,'type':_0x3bdf6b};}['_parseEmsg'](_0x208a93){let _0x358af5=0x21*-0x67+0x2126+-0x13df;_0x358af5=_0x208a93['indexOf'](0xcb6+0x4*-0x54c+-0xa*-0xd9,_0x358af5)+(0x209*0x2+0x1*0xc19+0x815*-0x2),_0x358af5=_0x208a93['indexOf'](-0x5*0x345+0x1afa+-0xaa1,_0x358af5)+(0xb02*-0x1+0x1*-0x1471+0x1f74),_0x358af5+=0x1*-0xefa+0x1*0x1819+-0x90f;const _0x40bfdc=_0x208a93['slice'](_0x358af5);return globalThis['CBOR']['decode'](_0x40bfdc);}}class _0x346016{constructor(_0x38c6ec=0x1460+-0x3*0x5b+-0x134f,_0x29faac=-0x1b07+0xc34+0xed3,_0x4b84cc=-0x1780*0x1+-0x240d+-0x5*-0xbe9,_0x1e26c5=-0xe3c*0x1+0x29b*0x5+0x136){this['x']=_0x38c6ec,this['y']=_0x29faac,this['z']=_0x4b84cc,this['w']=_0x1e26c5;}['set'](_0x5cf9d2,_0x4792ae,_0x4a2594,_0x91cdb2){return this['x']=_0x5cf9d2,this['y']=_0x4792ae,this['z']=_0x4a2594,this['w']=_0x91cdb2,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x1d1a25=this){let _0x43ae65=_0x1d1a25['length']();return _0x43ae65===0xc24+-0x483+0x3*-0x28b?(this['x']=this['y']=this['z']=0xabd*-0x1+-0x1f4d+0x2a0a,this['w']=0x2072*-0x1+0x1513+-0xb6*-0x10):(_0x43ae65=(-0xa00+-0x2061+0x2a62)/_0x43ae65,this['x']=_0x1d1a25['x']*_0x43ae65,this['y']=_0x1d1a25['y']*_0x43ae65,this['z']=_0x1d1a25['z']*_0x43ae65,this['w']=_0x1d1a25['w']*_0x43ae65),this;}['mulScalar'](_0x13d901,_0x3d5c2b=this){return this['x']=_0x3d5c2b['x']*_0x13d901,this['y']=_0x3d5c2b['y']*_0x13d901,this['z']=_0x3d5c2b['z']*_0x13d901,this['w']=_0x3d5c2b['w']*_0x13d901,this;}}self['onmessage']=async _0x24931d=>{var _0x117cf0,_0x5b1c71;const {data:_0x1069fd}=_0x24931d;switch(_0x1069fd['type']){case'initWorker':importScripts(_0x1069fd['cborXUrl']);break;case'destroyWor'+'ker':_0xfe5988();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x61dbac,loadRepresentation:_0x1a88be}=_0x1069fd,_0x5c66e3=await _0x2c270d(_0x61dbac,_0x1a88be);globalThis['manifestUr'+'l']=_0x61dbac,globalThis['manifest']=_0x5c66e3,globalThis['resentatio'+'n']=_0x5c66e3['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x5e3a7a(),globalThis['fetchWorke'+'r']=new _0x1544b8(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x5c66e3,'url':_0x61dbac,'representation':_0x1a88be});break;case'loadGsdSeg'+'ments':try{const _0x1171d0=_0x2ef0d0(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3986be=await _0x2ac278(globalThis['manifest'],_0x1171d0),_0x46d74a=(_0x117cf0=_0x3986be==null?void(-0x4f6*-0x5+0x39*-0x67+-0x1df):_0x3986be['elements'][0x2b*-0xc7+-0x1*0x21fe+0x436b])==null?void(0x335+0x1220+-0x2b*0x7f):_0x117cf0['properties']['map'](_0x102e76=>_0x102e76['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x3986be,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x46d74a);}catch(_0x12d451){console['error']('Error\x20load'+'ing\x20GSD:',_0x12d451),self['postMessag'+'e']({'type':'error','data':_0x12d451['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x5be468}=_0x1069fd;try{const _0x55a4d0=_0x2ef0d0(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3e5757=await _0x398115(globalThis['manifest'],_0x55a4d0,_0x5be468),_0x2cd4cf=(_0x5b1c71=_0x3e5757==null?void(0x405*0x9+0x1*-0x1aa7+0x1*-0x986):_0x3e5757['elements'][-0x6b9*-0x1+-0x1d54+0x9*0x283])==null?void(-0x7*-0x27a+-0x182f+0x6d9*0x1):_0x5b1c71['properties']['map'](_0x22badd=>_0x22badd['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x3e5757,'timelineIndexs':_0x5be468,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x2cd4cf);}catch(_0x32df8e){console['error']('Error\x20load'+'ing\x20GSD:',_0x32df8e),self['postMessag'+'e']({'type':'error','data':_0x32df8e['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0xfe5988=()=>{var _0xb55e75;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0xb55e75=globalThis['fetchWorke'+'r'])==null||_0xb55e75['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x5e3a7a=()=>{const _0x3004bc=new Set(),_0x2d3ee5=_0x2ef0d0(globalThis['manifest'],globalThis['resentatio'+'n']),_0x2972c4=globalThis['manifest']['baseUrl'],_0x3974a4=_0x2d3ee5['segmentTem'+'plate'][-0x1*-0x1746+-0x63*0x53+0x8d3];for(const _0x6afd of _0x3974a4['segmentTim'+'eline'])for(const _0x44a3b4 of _0x6afd['nl']){const _0x42ba4b=''+_0x2972c4+_0x3974a4['media']['replace']('$SegGroupI'+'ndex$',String(_0x6afd['sg']))['replace']('$NodeIndex'+'$',String(_0x44a3b4));_0x3004bc['add'](_0x42ba4b);}return Array['from'](_0x3004bc);},_0x2c270d=async(_0x17874f,_0x2b6612)=>{const _0xd5f4cd=await(await fetch(_0x17874f))['text'](),_0x5f4839=JSON['parse'](_0xd5f4cd);_0x5f4839['baseUrl']=_0x17874f['replace'](/\/[^\/]*$/,'/');const {schemas:_0x42852b,gsiUrl:_0x5b2219,repId:_0x41452a}=await _0x4615dd(_0x5f4839,_0x2b6612);return _0x5f4839['schemas']=_0x42852b,_0x5f4839['gsiUrl']=_0x5b2219,_0x5f4839['representa'+'tion']=_0x41452a,_0x5f4839;},_0x4615dd=async(_0x114c42,_0xf5471b)=>{let _0x2ad864=null,_0x514add=null;for(const _0x595394 of _0x114c42['adaptation'+'Sets'])if(_0x595394['contentTyp'+'e']==='4dgs'){_0x514add=_0x595394;for(const _0x145e63 of _0x595394['representa'+'tions'])if(_0x145e63['id']===_0xf5471b){_0x2ad864=_0x145e63;break;}break;}_0x2ad864||(_0x2ad864=_0x514add['representa'+'tions'][-0x332*-0x2+-0x552+-0x1*0x112],console['warn']('Representa'+'tion\x20\x27'+_0xf5471b+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x98db53=_0x2ad864['id'],_0x448293=_0x114c42['baseUrl']+_0x98db53+('/init.gsi.'+'json'),_0x3af023=await(await fetch(_0x448293))['text'](),_0x590e93=JSON['parse'](_0x3af023),_0x157e3e={};return _0x157e3e[_0x98db53]=_0x590e93,{'schemas':_0x157e3e,'gsiUrl':_0x448293,'repId':_0x98db53};},_0x2ef0d0=(_0x42e50a,_0x2221ba='high-quant'+'ized')=>{let _0x2cd1d6=null;for(const _0x2fd49f of _0x42e50a['adaptation'+'Sets'])if(_0x2fd49f['contentTyp'+'e']==='4dgs'){for(const _0x38b9a4 of _0x2fd49f['representa'+'tions'])if(_0x38b9a4['id']===_0x2221ba){_0x2cd1d6=_0x38b9a4;break;}break;}if(!_0x2cd1d6)throw new Error('Representa'+'tion\x20\x27'+_0x2221ba+('\x27\x20not\x20foun'+'d'));return _0x2cd1d6;},_0x2ac278=async(_0x220817,_0x6cd889)=>{const _0x4920b3=_0x6cd889['id'],_0x581e2e=_0x220817['schemas'][_0x4920b3]['attributes'],_0x204aef=_0x6cd889['segmentTem'+'plate'][0x1a5*0x12+-0x1099+-0xd01];globalThis['loadedSegm'+'ents']=[];const _0x525dae=[],_0x3482fc=[];for(const _0x40391e of _0x204aef['segmentTim'+'eline'])for(const _0x558a22 of _0x40391e['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x40391e['sg']+'_'+_0x558a22))continue;globalThis['loadedSegm'+'ents']['push'](_0x40391e['sg']+'_'+_0x558a22);const _0x2f6a44=await _0x49c49c(_0x220817,_0x6cd889,_0x581e2e,_0x40391e['sg'],_0x558a22);_0x3482fc['push'](_0x2f6a44['decoded']),_0x525dae['push'](_0x2f6a44['metadata']);}return _0x5bda95(_0x3482fc,_0x581e2e,_0x220817['comments']);},_0x398115=async(_0x229107,_0x38484c,_0x45a415)=>{if(!_0x45a415||_0x45a415['length']===0x2dc+0x2482+-0x275e)return{'decoded':[],'metadata':[]};const _0x2c84e2=_0x38484c['id'],_0x47f9c1=_0x229107['schemas'][_0x2c84e2]['attributes'],_0x5a3240=_0x38484c['segmentTem'+'plate'][-0x163a+-0x1*-0x9ad+0xc8d];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x51a14b=_0x5a3240['segmentTim'+'eline'][_0x45a415[-0x1151+-0x13e9+-0x1*-0x253a]];globalThis['currentLoa'+'dSg']!==_0x51a14b['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x5bfb40=>!_0x5bfb40['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x51a14b['sg']);let _0x53c505;const _0x51017d=[];for(const _0x5b326d of _0x45a415){_0x53c505=_0x5a3240['segmentTim'+'eline'][_0x5b326d];for(const _0x48661c of _0x53c505['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x53c505['sg']+'_'+_0x48661c)||(globalThis['loadedSegm'+'ents']['push'](_0x53c505['sg']+'_'+_0x48661c),_0x51017d['push'](_0x48661c));}const _0x29f99c=await _0x49c49c(_0x229107,_0x38484c,_0x47f9c1,_0x53c505['sg'],_0x51017d);_0x29f99c['metadata'];const _0x4b1e2c=_0x29f99c['decoded'];return _0x5bda95(_0x4b1e2c,_0x47f9c1,_0x229107['comments']);},_0x49c49c=async(_0x1d7836,_0x46dfeb,_0x4fff13,_0x59866f,_0x526b1f)=>{const _0x5d4825=_0x1d7836['baseUrl'],_0x44dad6=_0x46dfeb['segmentTem'+'plate'][-0x1*0x26d7+0x15b*0x17+-0x1*-0x7aa]['media'],_0x389178=_0x526b1f['map'](_0x1d096f=>''+_0x5d4825+_0x44dad6['replace']('$SegGroupI'+'ndex$',String(_0x59866f))['replace']('$NodeIndex'+'$',String(_0x1d096f))),_0xff6186=await Promise['all'](_0x389178['map'](async _0xfb00f=>{const _0x52a9f8=await _0x4ade9c(_0xfb00f),_0x522cc4=_0x52a9f8['metadata'],_0x2ddb7a=_0x52a9f8['segmentDat'+'a'],_0x5051f0=_0x522cc4['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0xfb00f),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x522cc4['timeStart'],'segment\x20ti'+'meEnd:',_0x522cc4['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x5051f0);let _0x48a816;if(_0x46dfeb['id']['includes']('quantized')){const _0x268f01=_0x522cc4['chunk_boun'+'ds'];_0x48a816=_0x1579f4(_0x2ddb7a,_0x5051f0,_0x4fff13,_0x59866f,_0x268f01);}else _0x48a816=_0x388d1c(_0x2ddb7a,_0x5051f0,_0x4fff13,_0x59866f);return{'decoded':_0x48a816,'metadata':_0x522cc4};})),_0xf68acc=_0xff6186['map'](_0x380e04=>_0x380e04['decoded']),_0x2309cd=_0xff6186['map'](_0x5b4aae=>_0x5b4aae['metadata']);return{'decoded':_0xf68acc,'metadata':_0x2309cd};},_0x5bda95=(_0x3c01eb,_0x43651f,_0x1fadc8)=>{if(_0x3c01eb['length']===-0x557+0x1*0x16a9+0x1152*-0x1)return new _0x34a261([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x23c0+-0x22*-0x89+0x118e),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x1e21+-0x73*0x53+0x1*0x436a),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x20fe+0x58b+-0x2689*0x1),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(-0xe95+-0xd*-0x10f+0x1e*0x7),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x8*-0x48e+-0x176e*-0x1+0xd02),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(-0x1bb1+-0x1808+0x1*0x33b9),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x721+0x1*-0x1ce2+0x15c1),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x33a*-0x6+0x16c4+-0x368),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x2028+0x445+0x1be3),'byteSize':0x4}]}],_0x1fadc8);const _0x28481e=_0x203896(_0x3c01eb),[_0x25de53,_0x141c9f,_0x2dcb9e]=_0x509146(_0x28481e['lifecycle'],-0xfc1+0xa48+0x57c,Float32Array),_0x408356=_0x28481e['time_index'],_0x3d47ab=_0x43651f['find'](_0xa2f2d=>_0xa2f2d['name']==='feature_re'+'st'),_0x4034ea=[];if(_0x3d47ab&&_0x28481e['feature_re'+'st']){const _0x5d0e51=_0x3d47ab['dataType']['split'](',')[-0x9*0x30d+0x4*-0x4aa+-0x170f*-0x2]['trim']()['replace']('>',''),_0x167368=_0x509146(_0x28481e['feature_re'+'st'],-0x16c3+0x1442+0x284,Float32Array);for(const _0x343b4f of _0x167368){const _0x5c33ec=_0x509146(_0x343b4f,_0x5d0e51/(-0x806*-0x3+-0x80b+-0x1004),Float32Array);for(let _0x66421e=0x19bd+0x1*-0x16ea+-0x1*0x2d3;_0x66421e<_0x5c33ec['length'];_0x66421e++)_0x4034ea['push']({'name':'f_rest_'+_0x66421e,'type':'float','storage':_0x5c33ec[_0x66421e],'byteSize':0x4});}}return new _0x34a261([{'name':'vertex','count':_0x28481e['position']['length']/(0x1e03+-0x1c0+-0x1c40),'properties':[{'name':'position','type':'float','storage':_0x28481e['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x28481e['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x141c9f,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x25de53,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x2dcb9e,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x28481e['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x28481e['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x28481e['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x408356,'byteSize':0x4},..._0x4034ea]}],_0x1fadc8);},_0x509146=(_0x19a497,_0x5632ab,_0x104ca0)=>{const _0x32282e=new Array(_0x5632ab),_0x471b04=Math['floor'](_0x19a497['length']/_0x5632ab),_0x5ed111=_0x19a497['length']%_0x5632ab;for(let _0x10018d=-0x148a+-0x16a4+-0x2*-0x1597;_0x10018d<_0x5632ab;_0x10018d++){const _0x854ca0=_0x10018d<_0x5ed111?_0x471b04+(-0x11e*0x5+-0x6*0x4bc+0x21ff):_0x471b04;_0x32282e[_0x10018d]=new _0x104ca0(_0x854ca0);}for(let _0x231efd=-0x31f*-0x3+-0x2*-0x129a+0x7*-0x6a7;_0x231efd<_0x19a497['length'];_0x231efd++){const _0x3e7e7f=_0x231efd%_0x5632ab,_0x1648aa=Math['floor'](_0x231efd/_0x5632ab);_0x32282e[_0x3e7e7f][_0x1648aa]=_0x19a497[_0x231efd];}return _0x32282e;},_0x4ade9c=async _0x227fd6=>{const _0x3fffe8=new _0x18ac8a(_0x227fd6),{metadata:_0xfabf6,segmentData:_0x3dc1ce}=await _0x3fffe8['readFragme'+'nt']();return{'metadata':_0xfabf6,'segmentData':_0x3dc1ce};},_0x53bbfc=(_0x7273f0,_0x322cfa)=>{let _0x5a5040,_0x4aed1e,_0x167c59=-(0x1945+0x14d2+-0x15b*0x22);if(_0x7273f0['encoding']){const _0x2db306=_0x7273f0['encoding']['storageTyp'+'e'];if(_0x2db306==='uint32')_0x4aed1e=Uint32Array,_0x5a5040=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x2db306['startsWith']('array<ucha'+'r')){_0x4aed1e=Uint8Array;const _0x62764d=_0x2db306['split'](',')[-0x1f1a+0x3*-0x6b5+0x333a*0x1]['trim']()['replace']('>','');_0x167c59=parseInt(_0x62764d),_0x5a5040=_0x167c59*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x2db306);}}else{if(_0x4aed1e=Float32Array,_0x7273f0['dataType']==='vec3f')_0x5a5040=(0x16b7*-0x1+-0x20f*-0x5+0x1*0xc6f)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x7273f0['dataType']==='vec4f')_0x5a5040=(-0x15a4+0xe66+0x742)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x7273f0['dataType']==='vec2f')_0x5a5040=(-0x2491+0x56*-0x5f+0x447d)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x7273f0['dataType']['startsWith']('array<floa'+'t')){const _0x3acaa9=_0x7273f0['dataType']['split'](',')[-0x1*0x1972+-0x1949*-0x1+0x1*0x2a]['trim']()['replace']('>','');_0x167c59=parseInt(_0x3acaa9),_0x5a5040=_0x167c59*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x7273f0['dataType']);}}}}return{'dataSize':_0x322cfa*_0x5a5040,'datatype':_0x4aed1e,'arraySize':_0x167c59};},_0x142ebe=(_0x2acf0c,_0x5cd875)=>{const _0x2d2512=(-0x7ec+-0x1*0x18cc+0x20b9<<_0x5cd875)-(-0x1b25*-0x1+0x4fc+0x1*-0x2020);return(_0x2acf0c&_0x2d2512)/_0x2d2512;},_0x41c249=_0x39e61e=>{const _0x164910=new Float32Array(_0x39e61e['length']*(-0xba0+-0xb53+-0x1*-0x16f6));for(let _0x180bce=-0x1fcb+-0x1abd*0x1+0x3a88;_0x180bce<_0x39e61e['length'];_0x180bce++)_0x164910[_0x180bce*(-0x16d+0x1116+-0xfa6)]=_0x142ebe(_0x39e61e[_0x180bce]>>>-0x3eb*0x1+-0xb03*0x2+0x1a06*0x1,-0x6e8+-0x70d+0x10*0xe0),_0x164910[_0x180bce*(-0x25e*-0x3+0xa93+-0x77*0x26)+(0x377*-0x1+-0x3e1+0x759)]=_0x142ebe(_0x39e61e[_0x180bce]>>>0x1328+-0x443*0x1+-0xeda*0x1,-0x104d+0x1969+0x183*-0x6),_0x164910[_0x180bce*(0x230+0xd1d+-0xf4a)+(-0x2432+0xe6d+-0x1*-0x15c7)]=_0x142ebe(_0x39e61e[_0x180bce],-0x1*0x275+-0x3*0x5bf+0x13bd);return _0x164910;},_0xf6577=_0x55d8fd=>{const _0x36e714=new Float32Array(_0x55d8fd['length']*(0x42a*-0x8+-0x79f+-0x1*-0x28f3));for(let _0x555037=-0x202d+0x36*-0x52+0x3179;_0x555037<_0x55d8fd['length'];_0x555037++)_0x36e714[_0x555037*(-0xf*-0x21d+-0x638*0x1+0x9f*-0x29)]=_0x142ebe(_0x55d8fd[_0x555037]>>>-0x1ae6+-0x22a*-0x2+0x6*0x3c7,-0x2*-0x66+0x1*-0x1fe7+0x1f23),_0x36e714[_0x555037*(-0x8d*-0x19+0x18b0+-0x1*0x2671)+(-0x15c*-0x1+0x670+-0x7cb)]=_0x142ebe(_0x55d8fd[_0x555037]>>>0x4a*-0x1b+0x10cc+0x477*-0x2,0x8da*0x2+0x2*0x431+0x122*-0x17),_0x36e714[_0x555037*(-0x1de+0xb86+-0x9a4*0x1)+(-0x9*-0xbf+-0x1d84+0x16cf)]=_0x142ebe(_0x55d8fd[_0x555037]>>>0x175+-0x7*-0x485+-0x2110,0x3*0x46d+0x1db4*-0x1+0x1075),_0x36e714[_0x555037*(0x14e3+-0x183b+0x35c)+(-0x37c+0xbb6+0x1*-0x837)]=_0x142ebe(_0x55d8fd[_0x555037],-0x20d0+-0x18e0+-0x1*-0x39b8);return _0x36e714;},_0x19136a=_0x39fd02=>{const _0x12997e=new Float32Array(_0x39fd02['length']*(-0x218f+-0x1f05+0x4097)),_0x1cc6e8=(0x3*-0x4fd+-0x1ac5+-0x5*-0x859)/(Math['sqrt'](0x822+0x2*0x2dd+-0xdda)*(0x15f1+0x1*-0x10f6+-0x4fb+0.5));for(let _0x17db3e=-0x2d4*-0x3+0x4*-0x48f+0x9c0;_0x17db3e<_0x39fd02['length'];_0x17db3e++){const _0x2950d1=(_0x142ebe(_0x39fd02[_0x17db3e]>>>-0x41*-0x6d+0x1*-0x119f+-0x9fa,0xe38+-0x1d48+0xf1a)-(0x2*-0xae1+0x2b*0x80+0x42+0.5))*_0x1cc6e8,_0x4d343e=(_0x142ebe(_0x39fd02[_0x17db3e]>>>0x12da+0x3a*-0xe+-0xd*0x134,0x3b7+-0x2fd*0x7+0x113e)-(-0x2*0x285+0x564+-0x5a+0.5))*_0x1cc6e8,_0x678efe=(_0x142ebe(_0x39fd02[_0x17db3e],-0x1ab9*-0x1+0x25b9+0xabc*-0x6)-(-0x72e*-0x4+-0x3d8+0x8*-0x31c+0.5))*_0x1cc6e8,_0x5a6534=Math['sqrt'](0x1b5*0x12+0x2*-0x1343+-0x1*-0x7cd-(_0x2950d1*_0x2950d1+_0x4d343e*_0x4d343e+_0x678efe*_0x678efe));let _0x3e6805=0xf98+-0x829+-0x76f,_0x35a6a1=0x11*0x9d+0x5e2+-0x1*0x104f,_0x3774ed=0xf6f*-0x1+-0xf*0x28c+0x1*0x35a3,_0xf154=0x6c0+-0x141e+0x6af*0x2;switch(_0x39fd02[_0x17db3e]>>>0xea1+0x1f*0xc7+0x134e*-0x2){case-0x1*0x1e99+0xef*0x11+-0x1a*-0x91:_0x3e6805=_0x5a6534,_0x35a6a1=_0x2950d1,_0x3774ed=_0x4d343e,_0xf154=_0x678efe;break;case 0x13a1+0x5ec*-0x1+-0x36d*0x4:_0x3e6805=_0x5a6534,_0x35a6a1=_0x4d343e,_0x3774ed=_0x678efe,_0xf154=_0x2950d1;break;case-0xa07*-0x1+0x9ed+-0x13f2:_0x3e6805=_0x4d343e,_0x35a6a1=_0x5a6534,_0x3774ed=_0x678efe,_0xf154=_0x2950d1;break;case-0xd6e+0x40e+-0x963*-0x1:_0x3e6805=_0x4d343e,_0x35a6a1=_0x678efe,_0x3774ed=_0x5a6534,_0xf154=_0x2950d1;break;}const _0x24fc62=_0x4e3f3a(_0x3e6805,_0x35a6a1,_0x3774ed,_0xf154);_0x12997e[_0x17db3e*(-0x2b5+-0x535+0x7ed)]=_0x24fc62['x'],_0x12997e[_0x17db3e*(0xd1d+0x1*0x79f+-0x14b9)+(0x1df3+0x1*-0x1dec+0x1*-0x6)]=_0x24fc62['y'],_0x12997e[_0x17db3e*(-0x5ce+0x130+0x4a1)+(0x202d*0x1+0x143*-0xa+-0x5*0x3e9)]=_0x24fc62['z'];}return _0x12997e;},_0x351089=(_0x4a7b4d,_0x233ba5,_0x249228)=>{const _0x3c17fa=_0x249228-_0x233ba5,_0x50bb04=new Float32Array(_0x4a7b4d['length']);for(let _0x22757b=-0x1ce8+-0x1e31+-0x1*-0x3b19;_0x22757b<_0x4a7b4d['length'];_0x22757b++)_0x50bb04[_0x22757b]=_0x4a7b4d[_0x22757b]/(-0xfb*0x25+0xf91+0x15b5)*_0x3c17fa+_0x233ba5;return _0x50bb04;},_0x2ff442=new Float32Array(-0x20f4+0x15d*0x3+-0x2e3*-0xa),_0x550ed5=new Int32Array(_0x2ff442['buffer']),_0x30de84=_0x1429cf=>{_0x2ff442[-0x255c+0xdd8*0x2+0x9ac]=_0x1429cf;const _0x43572e=_0x550ed5[0x12cd*0x2+0x21a*0x5+-0x301c];let _0x28843c=_0x43572e>>-0x1*-0x7c9+0x4*0x1+-0x7bd&-0x57c*-0x1b+-0x1*-0x5925+0x1*-0x6d39,_0x10f52f=_0x43572e>>0x5*-0x15d+-0x1*0xfa7+0x1684&-0x1cd6+0x2020+0x4b5;const _0x1b283b=_0x43572e>>0x29*-0x1b+-0x2391+0x27fb&-0x13dd+-0xddd+0x22b9;return _0x1b283b<-0x2414+-0x6ab+0x2b26?_0x28843c:_0x1b283b>-0x1*0xae7+-0x1693+0x2208?(_0x28843c|=0xdbba+0xd711+-0x136cb,_0x28843c|=(_0x1b283b===0x14be+0x1292*-0x1+-0x12d?0x2050+-0xd5a+0x12f6*-0x1:-0x1e72+-0x290*0x4+0x28b3)&&_0x43572e&0xf173*0xce+0xa4c884+0x317*-0x4ac9,_0x28843c):_0x1b283b<-0x19ab+0x1afe+-0xe2?(_0x10f52f|=0x112d+0x2*-0x32d+0x1*-0x2d3,_0x28843c|=(_0x10f52f>>0x1f*-0xd7+-0x17be+0x3239-_0x1b283b)+(_0x10f52f>>-0x1a5b+0x29*-0x83+-0x2fc7*-0x1-_0x1b283b&-0xfbd+-0x7*0x327+0x25cf),_0x28843c):(_0x28843c|=_0x1b283b-(0xce*0x22+0xf4e+-0x2a3a)<<0x942*-0x1+-0xfd1*-0x2+0x3b9*-0x6|_0x10f52f>>0x13*0x1a5+0xde*0x21+0x1dee*-0x2,_0x28843c+=_0x10f52f&0x630*-0x3+0x1d99+-0xb08,_0x28843c);},_0x11b1c7=_0x1cb59f=>{const _0x17718a=new Uint16Array(_0x1cb59f['length']);for(let _0x49d034=0x142c+-0x1*-0xe3+-0x9*0x257;_0x49d034<_0x1cb59f['length']/(-0x1*-0x21a9+-0x832*-0x4+-0x426d);++_0x49d034)_0x17718a[_0x49d034*(0x1fd8+-0x2062+0x8e)]=_0x30de84(_0x1cb59f[_0x49d034*(0x266e+0x1fd6+-0x4*0x1190)]*_0x1f79b4+(0x1209+0x11ee+-0x23f7+0.5)),_0x17718a[_0x49d034*(-0x1534+-0x1409+0xb3*0x3b)+(-0x2*-0x10e2+-0x1f52+-0x271)]=_0x30de84(_0x1cb59f[_0x49d034*(-0x1*-0x1e97+-0x1a2e+-0x465)+(0x1*-0x7b7+0x9b8+-0x200*0x1)]*_0x1f79b4+(0x3*-0x18b+-0x5bb*-0x5+-0x1806+0.5)),_0x17718a[_0x49d034*(0x7ad+0x3*0xbf5+0x1*-0x2b88)+(-0x11db+0x844+-0x333*-0x3)]=_0x30de84(_0x1cb59f[_0x49d034*(0x4fd*0x5+-0xec4+-0x9*0x121)+(-0x120d+-0x1*0x13b3+0x25c2)]*_0x1f79b4+(-0xb5c+0x192b+0xdcf*-0x1+0.5)),_0x17718a[_0x49d034*(-0x3b*-0xa2+-0x8d1+-0x1c81)+(0x148*0x1+-0x1d4f+0x1c0a)]=_0x30de84(_0x1cb59f[_0x49d034*(0x1*-0x566+0x1*-0xf6b+0x14d5)+(0x18ec+-0x687*-0x3+-0x86*0x55)]);return _0x17718a;},_0x57ec12=new _0x346016(-0x2238+-0xd93+0x5*0x98f,-0x357*0x5+0x13*-0x121+0x2626,0x16be+-0x1c70+0x5b2,-0x1*-0xa0c+-0x8*-0x49f+-0x2f04),_0x4e3f3a=(_0x235f07,_0x1d58dc,_0x2ad64f,_0x267573)=>(_0x57ec12['set'](_0x1d58dc,_0x2ad64f,_0x267573,_0x235f07),_0x57ec12['normalize'](),_0x57ec12['w']<0xad*0xb+-0x99f+-0x5*-0x70&&_0x57ec12['mulScalar'](-(-0x1*0xd01+-0x15bc*0x1+0x22be)),_0x57ec12);function _0x1579f4(_0x3dfbcf,_0x8112,_0x36c4a5,_0x351ad6,_0x35ca9c){const _0xa69d9=_0x35ca9c[Object['keys'](_0x35ca9c)[-0x1f5*-0x5+-0x19b8+0xfef*0x1]]['length'],_0x289cdd=-0x1*0x113+0x55*0xd+-0x23e;let _0x23617c=[],_0x3fd7be=_0x8112;for(let _0x221d7d=-0x1*-0x26fc+0x6bd+0x2db9*-0x1;_0x221d7d<_0xa69d9;_0x221d7d++){const _0x4afaf5=Math['min'](_0x289cdd,_0x3fd7be);_0x23617c['push'](_0x4afaf5),_0x3fd7be-=_0x4afaf5;}let _0x39727d=-0x2250+-0x135c+0x35ac,_0x2ec504={};for(let _0x532e5c of _0x36c4a5){const _0x4b0c51=_0x532e5c['name'],{dataSize:_0x5b0d93,datatype:_0x324c47}=_0x53bbfc(_0x532e5c,_0x8112);let _0x3dde3d=_0x3dfbcf['buffer']['slice'](_0x39727d,_0x39727d+_0x5b0d93),_0x43de37=new _0x324c47(_0x3dde3d);_0x2ec504[_0x4b0c51]=_0x43de37,_0x39727d+=_0x5b0d93;}let _0x418d20=[],_0x1439d2=0x1137+0x4a7+-0x137*0x12;for(let _0x21aabd=0x100c+-0x15cd+0x5c1;_0x21aabd<_0xa69d9;_0x21aabd++){const _0x1cae64=_0x4d8280(_0x2ec504,_0x35ca9c,_0x21aabd,_0x23617c,_0x1439d2,_0x36c4a5),_0x3399ac=_0x1cae64['chunkDecom'+'pressed'];_0x418d20['push'](_0x3399ac),_0x1439d2=_0x1cae64['chunkStart'+'Idx'];}let _0x4c05a1={};for(let _0x14f55a of Object['keys'](_0x418d20[0x5*0x312+0x2*-0x1c+-0xf22])){let _0x3f862f=0x209e+0x7b1+-0x284f;for(let _0x4505e4=0x766+0x1*-0x13aa+0xc44;_0x4505e4<_0x418d20['length'];_0x4505e4++)_0x3f862f+=_0x418d20[_0x4505e4][_0x14f55a]['length'];_0x14f55a==='color_opac'+'ity'||_0x14f55a==='scale'?_0x4c05a1[_0x14f55a]=new Uint16Array(_0x3f862f):_0x4c05a1[_0x14f55a]=new Float32Array(_0x3f862f);let _0x437632=0xbaa+0x1*-0x1a04+0xe5a;for(let _0x8f36bb=0x1*0x2059+-0x15a6+-0xab3;_0x8f36bb<_0x418d20['length'];_0x8f36bb++)_0x4c05a1[_0x14f55a]['set'](_0x418d20[_0x8f36bb][_0x14f55a],_0x437632),_0x437632+=_0x418d20[_0x8f36bb][_0x14f55a]['length'];}return _0x36c4a5['some'](_0x243187=>_0x243187['name']==='feature_re'+'st')&&(_0x4c05a1['feature_re'+'st']=_0x170576(_0x2ec504,_0x36c4a5)),_0x4c05a1['time_index']=new Float32Array(_0x8112),_0x4c05a1['time_index']['fill'](_0x351ad6-(-0x1a0a+-0x1c68+-0x3673*-0x1)),_0x4c05a1;}const _0x4d8280=(_0x108073,_0x272c48,_0x5c3d37,_0x1c0285,_0x33fc2a,_0x3ae837)=>{const _0x45cf7f=_0x1c0285[_0x5c3d37],_0x39192c=_0x33fc2a+_0x45cf7f,_0x1f55c2=(_0x2991ab,_0x20104e,_0x158705)=>_0x2991ab*(-0xd50+-0x104b+0x767*0x4-_0x158705)+_0x20104e*_0x158705;let _0x39812f={};for(let _0x44eac4 of _0x3ae837){const _0x5be1bc=_0x44eac4['name'],_0x24a856=_0x44eac4['encoding']['codec'],_0x205366=_0x108073[_0x5be1bc]['slice'](_0x33fc2a,_0x39192c);if(_0x24a856==='pack_11_10'+'_11'){if(_0x5be1bc==='scale'){const _0x1e1d80=_0x272c48['min_scales'][_0x5c3d37],_0x3130c6=_0x272c48['max_scales'][_0x5c3d37],_0xa18db5=_0x41c249(_0x205366),_0x3cf3f0=_0xa18db5['length'],_0x39be7f=new Uint16Array(_0x3cf3f0);for(let _0x59dc43=0x1d19+0x25a2+0xb*-0x611;_0x59dc43<_0x3cf3f0;_0x59dc43++)_0x39be7f[_0x59dc43]=_0x30de84(Math['exp'](_0x1f55c2(_0x1e1d80[_0x59dc43%(0x1*-0x133c+-0x51f+0x2*0xc2f)],_0x3130c6[_0x59dc43%(0x258d+0x2*0x87d+-0x3684)],_0xa18db5[_0x59dc43])));_0x39812f[_0x5be1bc]=_0x39be7f;}else{const _0x13e3c0=_0x41c249(_0x205366);let _0x58d559,_0xce26df;if(_0x5be1bc==='position')_0x58d559=_0x272c48['min_means'][_0x5c3d37],_0xce26df=_0x272c48['max_means'][_0x5c3d37];else{if(_0x5be1bc==='motion')_0x58d559=_0x272c48['min_motion'][_0x5c3d37],_0xce26df=_0x272c48['max_motion'][_0x5c3d37];else{if(_0x5be1bc==='lifecycle'){const _0x437e69=_0x272c48['min_t_scal'+'e'][_0x5c3d37],_0x504a08=_0x272c48['max_t_scal'+'e'][_0x5c3d37],_0x563933=_0x272c48['min_time'][_0x5c3d37],_0x377bf5=_0x272c48['max_time'][_0x5c3d37],_0x304705=_0x272c48['min_cutoff'][_0x5c3d37],_0x2b7163=_0x272c48['max_cutoff'][_0x5c3d37];_0x58d559=[_0x437e69[-0xb*-0x221+0x9b8+0x11*-0x1f3],_0x563933[-0x31*0x4a+0x127f*-0x1+0x3a1*0x9],_0x304705[0x1*-0x1fbe+-0xe*0x295+-0x5*-0xd94]],_0xce26df=[_0x504a08[0xcb5+0x2658+-0x330d],_0x377bf5[0x570+-0xed9+-0xb*-0xdb],_0x2b7163[0x1fec+0x2f*0x92+0x2*-0x1d5d]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x5be1bc);}}for(let _0x5507fa=-0x1*-0x219b+-0x2241+-0xa6*-0x1;_0x5507fa<_0x13e3c0['length'];_0x5507fa++)_0x13e3c0[_0x5507fa]=_0x1f55c2(_0x58d559[_0x5507fa%(0x2fa+0x1*-0x17cb+0x14d4)],_0xce26df[_0x5507fa%(0x148*-0x1e+0x1233+0x1440)],_0x13e3c0[_0x5507fa]);_0x39812f[_0x5be1bc]=_0x13e3c0;}}else{if(_0x24a856==='pack_8888'){let _0x5cf2cf=_0xf6577(_0x205366);const _0x19699b=_0x272c48['min_colors'][_0x5c3d37],_0x47560f=_0x272c48['max_colors'][_0x5c3d37],_0x40845e=new Uint16Array(_0x5cf2cf['length']);for(let _0xdd6657=0x14*-0xd8+0x3*0x24e+0x9f6;_0xdd6657<_0x5cf2cf['length'];_0xdd6657++){const _0x5ad751=_0xdd6657*(-0x17d2+-0x545*-0x1+0x31*0x61);_0x40845e[_0x5ad751]=_0x30de84(_0x1f55c2(_0x19699b[0x1d3+-0xe72+0x9*0x167],_0x47560f[0x1*0x1ced+0x26c4+-0x43b1],_0x5cf2cf[_0x5ad751])),_0x40845e[_0x5ad751+(0xbe+0x70e+-0x7cb)]=_0x30de84(_0x1f55c2(_0x19699b[0x1*-0x1655+-0x714*-0x2+0x6*0x15d],_0x47560f[-0x5ef+-0x1*0xb7f+0x116f*0x1],_0x5cf2cf[_0x5ad751+(0x774+-0x35f+-0x414)])),_0x40845e[_0x5ad751+(0x8*0x491+-0x1e6a+-0x61c)]=_0x30de84(_0x1f55c2(_0x19699b[-0x1420+0x115f+0x1*0x2c3],_0x47560f[-0xe77+-0x6f*-0x59+0x2ae*-0x9],_0x5cf2cf[_0x5ad751+(0x11ed+0x1*0x19b5+-0x4*0xae8)])),_0x40845e[_0x5ad751+(0xb90+-0xa90+-0xfd)]=_0x30de84(_0x5cf2cf[_0x5ad751+(0x240+0x1*-0x134f+-0x889*-0x2)]);}_0x39812f[_0x5be1bc]=_0x40845e;}else{if(_0x24a856==='pack_rotat'+'ion_32'){const _0x1e3937=_0x19136a(_0x205366);_0x39812f[_0x5be1bc]=_0x1e3937;}else{if(_0x24a856==='range_quan'+'t_u8'){if(_0x5be1bc==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x24a856);}}}}}return{'chunkDecompressed':_0x39812f,'chunkStartIdx':_0x39192c};},_0x170576=(_0x78794,_0x22f111)=>{const _0x200064='feature_re'+'st',_0x511130=_0x22f111['find'](_0x2529ad=>_0x2529ad['name']===_0x200064);let _0x5b532a;const _0x79d6f2=_0x511130['encoding']['codec'],_0x5acf7c=_0x78794[_0x200064];if(_0x79d6f2==='range_quan'+'t_u8'){const [_0x1e596b,_0x4436ef]=_0x511130['encoding']['range'];_0x5b532a=_0x351089(_0x5acf7c,_0x1e596b,_0x4436ef);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x79d6f2);return _0x5b532a;},_0x388d1c=(_0x5c7c3f,_0x2dc261,_0x4534ea,_0x259ed3)=>{let _0x22b06c=0x2572*-0x1+0x10d3+0x149f*0x1;const _0x16381d={};for(const _0x24fbea of _0x4534ea){const {dataSize:_0x414363}=_0x53bbfc(_0x24fbea,_0x2dc261);if(['vec3f','vec4f','vec2f']['includes'](_0x24fbea['dataType']))_0x16381d[_0x24fbea['name']]=new Float32Array(_0x5c7c3f['buffer']['slice'](_0x22b06c,_0x22b06c+_0x414363));else{if(_0x24fbea['dataType']['startsWith']('array<floa'+'t'))_0x16381d[_0x24fbea['name']]=new Float32Array(_0x5c7c3f['buffer']['slice'](_0x22b06c,_0x22b06c+_0x414363));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x24fbea['dataType']);}_0x22b06c+=_0x414363;}const _0x44fa02=new Uint16Array(_0x16381d['scale']['length']);for(let _0x2c1348=-0xf43+-0x257*-0x7+-0x11e;_0x2c1348<_0x16381d['scale']['length'];_0x2c1348++)_0x44fa02[_0x2c1348]=_0x30de84(Math['exp'](_0x16381d['scale'][_0x2c1348]));_0x16381d['scale']=_0x44fa02;const _0x28dbfc=_0x16381d['rotation']['length']/(0xb*0xac+-0x1e9b+0x173b),_0x169675=new Float32Array(_0x28dbfc*(-0xa02+0x88*-0x44+0x2e25));for(let _0x15df91=-0x1*0x9c5+0xc01+0x8f*-0x4;_0x15df91<_0x28dbfc;_0x15df91++){const _0x9a2c39=_0x4e3f3a(_0x16381d['rotation'][_0x15df91*(-0x2008+-0x1bd1+0x265*0x19)],_0x16381d['rotation'][_0x15df91*(0x1*-0xd8b+-0x5cd+0x135c)+(0x1*0x22c3+-0x1*0x2069+-0x259)],_0x16381d['rotation'][_0x15df91*(0x1aa0+-0x9a6+0x87b*-0x2)+(0x1ac+-0x2*-0x1098+-0x116d*0x2)],_0x16381d['rotation'][_0x15df91*(-0xfd+0x1767+0x2f*-0x7a)+(-0xb*0x28f+0x1*0x1d96+-0x16e)]);_0x169675[_0x15df91*(0x87*-0x43+-0x164a+0x39a2)]=_0x9a2c39['x'],_0x169675[_0x15df91*(-0x17d5+0x5b2*0x1+0x1226)+(0x2334+-0x1*-0x1597+0x2*-0x1c65)]=_0x9a2c39['y'],_0x169675[_0x15df91*(0x2*0xc47+-0x25b9+0x2*0x697)+(-0xb7f*-0x3+-0x1*-0x1b25+-0x110*0x3a)]=_0x9a2c39['z'];}return _0x16381d['rotation']=_0x169675,_0x16381d['color_opac'+'ity']=_0x11b1c7(_0x16381d['color_opac'+'ity']),_0x16381d['time_index']=new Float32Array(_0x2dc261),_0x16381d['time_index']['fill'](_0x259ed3-(0x24fa+-0x7*-0x58f+-0x4be2)),_0x16381d;},_0x203896=(_0x79c136,_0x12799d)=>{const _0x4e3f22={};if(_0x79c136['length']===-0x1f60+-0x5*0x38b+-0x2*-0x188c)return _0x79c136[0x34*0x28+-0x1b6b*-0x1+0x1b*-0x151];for(const _0x3762f1 of Object['keys'](_0x79c136[0xe2f+-0x1c02+0xdd3*0x1]))if(_0x79c136[-0x710+0x2660+-0x1f50][_0x3762f1]instanceof Float32Array||_0x79c136[-0x19*0x15a+0x2*-0x6f2+-0x2fae*-0x1][_0x3762f1]instanceof Uint16Array){const _0x150865=_0x79c136['reduce']((_0x1e1b9f,_0x1f2e14)=>_0x1e1b9f+_0x1f2e14[_0x3762f1]['length'],0x118b+0x156a+-0x26f5);let _0xd36435;_0x79c136[0x1*-0x25a4+-0xfcc+0x3570][_0x3762f1]instanceof Uint16Array?_0xd36435=new Uint16Array(_0x150865):_0xd36435=new Float32Array(_0x150865);let _0x10f922=0x127b+0x1*-0x16c5+0x44a;for(const _0x4f876d of _0x79c136)_0xd36435['set'](_0x4f876d[_0x3762f1],_0x10f922),_0x10f922+=_0x4f876d[_0x3762f1]['length'];_0x4e3f22[_0x3762f1]=_0xd36435;}else Array['isArray'](_0x79c136[0x11*0x1cf+-0x12fb*-0x1+0xa*-0x4f9][_0x3762f1])?_0x4e3f22[_0x3762f1]=_0x79c136['flatMap'](_0x40a5e7=>Array['from'](_0x40a5e7[_0x3762f1])):_0x4e3f22[_0x3762f1]=_0x79c136['map'](_0x479250=>_0x479250[_0x3762f1])['flat']();return _0x4e3f22;};}class hk extends me{constructor(_0x1eca89){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x1eca89,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x2ce6d9){var _0x1b9b36;return(_0x1b9b36=this['worker'])==null||_0x1b9b36['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x2ce6d9}),new Promise((_0x4934ee,_0x28a3c4)=>{if(!this['worker']){_0x28a3c4(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0xe4fb77=>{if(!this['worker'])return;const {data:_0x5731a3}=_0xe4fb77;if(this['manifestUr'+'l']===_0x5731a3['url'])switch(_0x5731a3['type']){case'onloadMani'+'fest':_0x4934ee({'manifest':_0x5731a3['data'],'url':_0x5731a3['url'],'representation':_0x5731a3['representa'+'tion']});break;case'error':_0x28a3c4(_0x5731a3['data']);break;}};});}['loadGsdSeg'+'ments'](_0x44fcae,_0x151982){var _0x547c5f;return(_0x547c5f=this['worker'])==null||_0x547c5f['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x9ad719,_0x47d389)=>{if(!this['worker']){_0x47d389(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x51cd4b=>{if(!this['worker'])return;const {data:_0x39b5cd}=_0x51cd4b;if(this['manifestUr'+'l']===_0x39b5cd['url'])switch(_0x39b5cd['type']){case'progress':_0x44fcae==null||_0x44fcae(_0x39b5cd['bytes'],_0x39b5cd['totalLengt'+'h'],_0x39b5cd['url']);break;case'loadGsdSeg'+'mentsDone':_0x9ad719(_0x39b5cd['data']);break;case'error':_0x151982==null||_0x151982(_0x39b5cd['data'],_0x39b5cd['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x506cd3,_0x4ab0a2,_0x4e7d60){var _0x2e7684;return(_0x2e7684=this['worker'])==null||_0x2e7684['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x506cd3}),new Promise((_0xbc6224,_0x47de3f)=>{if(!this['worker']){_0x47de3f(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x4fb1c1=>{if(!this['worker'])return;const {data:_0x42f712}=_0x4fb1c1;if(this['manifestUr'+'l']===_0x42f712['url'])switch(_0x42f712['type']){case'progress':_0x4ab0a2==null||_0x4ab0a2(_0x42f712['bytes'],_0x42f712['totalLengt'+'h'],_0x42f712['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0xbc6224(_0x42f712);break;case'error':_0x4e7d60==null||_0x4e7d60(_0x42f712['data'],_0x42f712['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x1229*0x1+0x899+-0x1ac2));}}const Xh=class Xh{constructor(_0x28152d,_0x4bdfce,_0x1df265){h(this,'lastLoadIn'+'dex',0x3*0x4db+-0x1b95*0x1+0xd04),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x28152d,this['representa'+'tion']=_0x4bdfce,this['gsdAssetPa'+'rser']=_0x1df265,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x28152d,_0x4bdfce));}['getSegment'+'Timeline'](_0x34c3e2,_0x4cfe92){let _0x2606b0=null;for(const _0x42c3c9 of _0x34c3e2['adaptation'+'Sets'])if(_0x42c3c9['contentTyp'+'e']==='4dgs'){for(const _0x3b803f of _0x42c3c9['representa'+'tions'])if(_0x3b803f['id']===_0x4cfe92){_0x2606b0=_0x3b803f;break;}break;}if(!_0x2606b0)throw new Error('Representa'+'tion\x20\x27'+_0x4cfe92+('\x27\x20not\x20foun'+'d'));return _0x2606b0['segmentTem'+'plate'][-0x11d1*0x2+0x515*-0x2+0x2dcc]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x42d366){const _0x5ab0fa=this['findSegmen'+'tTimeline'](_0x42d366);if(!_0x5ab0fa)return;const _0x36d76a=_0x5ab0fa['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x22cd+-0x41*-0x86+0xc8)?_0x5ab0fa['timelineIn'+'dex']+(-0x28d+0x46d*-0x4+0x1442):-0x14a6+0x1*-0x152+0x15f8;this['lastLoadIn'+'dex']!==_0x36d76a&&(this['lastLoadIn'+'dex']=_0x36d76a,this['loadNextSe'+'gment'](_0x36d76a));}async['loadNextSe'+'gment'](_0x936d97){const _0x344489=[];for(let _0x21d37b=0x4*0x89b+0x1dcf+-0x403b;_0x21d37b<Xh['CACHE_COUN'+'T'];_0x21d37b++)_0x344489['push']((_0x936d97+_0x21d37b)%this['segmentTim'+'elines']['length']);const _0x366f41=_0x344489[_0x344489['length']-(0x1*-0x1348+0x2033*-0x1+0x337c)],_0x2a38a4=this['segmentTim'+'elines'][_0x366f41]['t']+this['segmentTim'+'elines'][_0x366f41]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x344489,_0x2a38a4);}['findSegmen'+'tTimeline'](_0x17cf6f){let _0x3225f0=0x3*0xa3f+0x1248+-0x3105,_0x320a5b=this['segmentTim'+'elines']['length']-(0x2aa+0x118+-0x3c1);for(;_0x3225f0<=_0x320a5b;){const _0xe1aef7=_0x3225f0+_0x320a5b>>0x161*-0x1b+0x40f+-0x1bf*-0x13,{t:_0x10f9e3,d:_0x5492b4}=this['segmentTim'+'elines'][_0xe1aef7];if(_0x17cf6f<_0x10f9e3)_0x320a5b=_0xe1aef7-(0x1*-0x182f+-0x1c7f+0x34af);else{if(_0x17cf6f>=_0x10f9e3+_0x5492b4)_0x3225f0=_0xe1aef7+(0xc7*-0x13+0x3f+0xe87);else return{'timeline':this['segmentTim'+'elines'][_0xe1aef7],'timelineIndex':_0xe1aef7};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x1305+-0x3*0x3a1+0x1dee);let Wu=Xh;class dk{constructor(_0x330dc4,_0xa942b0){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x7*0xe6+-0x877*-0x1+-0x3b0*0x4)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x330dc4,this['maxRetries']=_0xa942b0,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=0x1c4*-0x8+-0x3a5+-0x11c5*-0x1,this['manifest']={});}async['load'](_0x1c09f8,_0x41dae4,_0x477a06){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x1c09f8['load']);const _0x3b7802=_0x477a06['data']['events'];this['events']=_0x3b7802,this['asset']=_0x477a06,this['callback']=_0x41dae4,this['timeOption']=_0x477a06['data']['timeOption'];let _0x219813=_0x477a06['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x1c09f8['load']);const _0x222a15=await this['readWorker']['loadGsdMan'+'ifest'](_0x219813);this['manifest']=_0x222a15['manifest'],_0x219813=_0x222a15['manifest']['representa'+'tion']||_0x219813,this['schedule']=new Wu(this['manifest'],_0x219813,this),this['totalRecei'+'vedCount']=0x1d5+-0x24d4+0x22ff;const _0x3b341f=this['getSegment'+'Timeline'](this['manifest'],_0x219813),_0x4959f3=_0x3b341f[-0x1054+-0x7c*0x34+0x2984]['t']+_0x3b341f[-0x1a0e+0x1b37+-0x21*0x9]['d'];this['appendload'+'DataTask']([0x4a*0x26+-0xe38+0x33c,0x10f0+-0x1b05+-0x1*-0xa16],_0x4959f3),_0x3b7802['on']('timeChange'+'d',_0x1586a7=>{var _0x59e03f;(_0x59e03f=this['schedule'])==null||_0x59e03f['onTimeChan'+'ged'](_0x1586a7);});}['getSegment'+'Timeline'](_0x56832e,_0x58f790){let _0x2df325=null;for(const _0x3e3645 of _0x56832e['adaptation'+'Sets'])if(_0x3e3645['contentTyp'+'e']==='4dgs'){for(const _0x4184f8 of _0x3e3645['representa'+'tions'])if(_0x4184f8['id']===_0x58f790){_0x2df325=_0x4184f8;break;}break;}if(!_0x2df325)throw new Error('Representa'+'tion\x20\x27'+_0x58f790+('\x27\x20not\x20foun'+'d'));return _0x2df325['segmentTem'+'plate'][0x1835*-0x1+0x1*-0x6e1+0xf8b*0x2]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0xf2262b,_0x317f4f){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0xf2262b,'loadedTime':_0x317f4f}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x268d+-0x1*0xcab+0x3338);try{for(;this['loadDataTa'+'skQueue']['length']>0xd74+-0x204c+0x12d8;){const _0x225a62=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x225a62);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x35d+-0x26e4+0x3*0xe16);}}}async['loadGsplat'+'Data'](_0x11262f){var _0x1ab041,_0x41b698;const {segmentIndexs:_0x37afe4,loadedTime:_0x29407b}=_0x11262f,_0x4a1427=this['events'],_0xe538d=this['asset'],_0x1e9879=this['callback'],_0x3a8248=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x37afe4,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x2c1+-0x1e01+0x1b42));try{const _0xacbfd3=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x37afe4,(_0x17750e,_0x18b777)=>{this['totalRecei'+'ved']+=_0x17750e,_0xe538d&&_0x4a1427['fire']('progress',this['totalRecei'+'ved'],_0x18b777);},(_0x2bb9d1,_0x8d9541)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x8d9541,_0x2bb9d1);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x1*-0xb7e+-0x308*-0x6+-0x6b0),_0xacbfd3['data']['elements'][-0xb*-0x329+-0x1*-0x231+-0x24f4]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0xacbfd3['data']['elements'][0x2619+-0x1602+-0x1017*0x1]['count']*(0x66*0xc3+0x10c4+-0x3766))['toFixed'](-0x10b+0x2*-0x175+0x7*0x91));const _0x100de9=_0xacbfd3['data'];if(_0x100de9['elements'][-0x5*-0x28a+-0x8*0x464+0x166e]['count']===0x2*0x99a+0x1*0x1696+0x6f7*-0x6)return;this['totalRecei'+'vedCount']+=_0x100de9['elements'][-0x1*0xb3+0x1*0x16a9+-0x15f6*0x1]['count'];const _0x5b4664=new iC(_0x100de9['elements'],_0x100de9['comments']);_0xe538d['fire']('load:data',_0x5b4664);const _0x9f5a3c=_0xe538d['data']['createTime']!==((_0x41b698=(_0x1ab041=this['onlyOneAss'+'et'])==null?void(-0x7c*0x3b+0x1993*-0x1+-0x120d*-0x3):_0x1ab041['data'])==null?void(-0x123+-0x259e+0x1*0x26c1):_0x41b698['createTime']);this['gsplatReso'+'urce']&&!_0x9f5a3c?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x5b4664,_0x3a8248,_0x29407b,_0xe538d)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x5b4664),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x3a8248,this['onlyOneAss'+'et']=_0xe538d,_0x1e9879&&_0x1e9879(null,this['gsplatReso'+'urce']),_0x4a1427['fire']('loadAllAss'+'etsDone'));}catch(_0x56c575){console['error']('loadGsplat'+'Data','error',_0x56c575),_0x1e9879&&_0x1e9879(_0x56c575,null);}}['open'](_0x5aa3c2,_0x447bf9){return _0x447bf9;}}class fk extends Qe{constructor(_0x52e52c){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x52e52c,'gsplat'),this['parsers']={'ply':new lk(_0x52e52c,0x3*-0x74f+0x16b+0x1485),'json':new dk(_0x52e52c,-0x25c8+0x1c82+0x949)};}['_getUrlWit'+'houtParams'](_0x3d0da3){return _0x3d0da3['indexOf']('?')>=-0x1*-0xad+0x9*-0x11+0x1*-0x14?_0x3d0da3['split']('?')[-0xa56+0x741+0x315]:_0x3d0da3;}['_getParser'](_0x5b05a0){const _0x672cb9=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5b05a0))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x672cb9]||this['parsers']['ply'];}['load'](_0x88bf87,_0x577c47,_0x2fdd61){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x88bf87=='string'&&(_0x88bf87={'load':_0x88bf87,'original':_0x88bf87}),this['_getParser'](_0x88bf87['original'])['load'](_0x88bf87,_0x577c47,_0x2fdd61);}['open'](_0x52957b,_0x2235d1,_0x52ab64){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x2235d1;}}class $u{static['setCompres'+'sedPRS'](_0xd2f891,_0xf2424d,_0x30661b){const _0x40b599=_0x30661b['singleVecs'];let _0x76fdb,_0x30b0d;const _0x349e61=_0xf2424d['___1'];_0x349e61||(_0x76fdb=_0x30661b['tripleVecs'],_0x30b0d=_0xf2424d['___2']);let _0x2128cc=_0x349e61?_0x349e61[0xd0+0xa*0x1bb+-0x60a*0x3]:_0x76fdb[_0x30b0d];_0xd2f891['setLocalPo'+'sition'](_0x40b599[_0x2128cc],_0x40b599[_0x2128cc+(0x34*0x4e+0x70d+-0x16e4)],_0x40b599[_0x2128cc+(-0x699*0x3+0x577+0xe56)]),_0x2128cc=_0x349e61?_0x349e61[-0x1*-0x1e08+0x11ab+-0x2fb2]:_0x76fdb[_0x30b0d+(-0x2*-0x12cb+-0xec1*-0x1+0xcb*-0x42)],_0xd2f891['setLocalEu'+'lerAngles'](_0x40b599[_0x2128cc],_0x40b599[_0x2128cc+(-0x1ac9*-0x1+-0x40*-0x5c+0x1d8*-0x1b)],_0x40b599[_0x2128cc+(0x1*0x1c3d+0x1cdb+0x1c8b*-0x2)]),_0x2128cc=_0x349e61?_0x349e61[0x26f5+0x2073+-0x4766]:_0x76fdb[_0x30b0d+(0xde4+-0xf40+-0x46*-0x5)],_0xd2f891['setLocalSc'+'ale'](_0x40b599[_0x2128cc],_0x40b599[_0x2128cc+(0x25bd+0xa83+-0x303f)],_0x40b599[_0x2128cc+(-0x21e7+0xf77*0x1+0x1272)]);}static['oneCharToK'+'ey'](_0x7f2149,_0x31b1ca){const _0x383202=_0x7f2149['charCodeAt'](0x1*0xdfd+0x7d5*-0x2+0x1ad)-_0x31b1ca['fieldFirst'+'Code'];return _0x31b1ca['fieldArray'][_0x383202];}static['multCharTo'+'Key'](_0x3254f0,_0x2026de){let _0x33c368=0x232f*0x1+0x10d4+-0x3403;for(let _0x1f4f2f=-0x1*0x16e9+-0xee5+-0x12e7*-0x2;_0x1f4f2f<_0x3254f0['length'];_0x1f4f2f++)_0x33c368=_0x33c368*_0x2026de['fieldCodeB'+'ase']+_0x3254f0['charCodeAt'](_0x1f4f2f)-_0x2026de['fieldFirst'+'Code'];return _0x2026de['fieldArray'][_0x33c368];}}class Uh{constructor(_0x59c8d6,_0x44a98e){this['_node']=_0x59c8d6,this['_data']=_0x44a98e;}['run'](){const _0x4a1490=Object['prototype']['toString']['call'](this['_node']);return _0x4a1490==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4a1490==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x16b097){let _0x43750f=_0x16b097;const _0x26cb81=_0x16b097['length'];_0x26cb81===0x2*0xe3b+-0x334+-0x1941?_0x43750f=$u['oneCharToK'+'ey'](_0x16b097,this['_data']):_0x26cb81===0x13e*0x1b+-0x2b1*0x4+-0x16c4&&(_0x43750f=$u['multCharTo'+'Key'](_0x16b097,this['_data'])),this['_result'][_0x43750f]=new Uh(this['_node'][_0x16b097],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x4522b0){const _0x1f86ce=new Uh(_0x4522b0,this['_data'])['run']();this['_result']['push'](_0x1f86ce);}}class bm{constructor(_0x205764,_0x2cd532){this['_app']=_0x205764,this['_isTemplat'+'e']=_0x2cd532;}['parse'](_0x981906){const _0x451148={};let _0x594854=null;const _0x206137=_0x981906['compressed'+'Format'];_0x206137&&!_0x981906['entDecompr'+'essed']&&(_0x981906['entDecompr'+'essed']=!(-0x5*0x799+0x881+-0xc*-0x275),_0x981906['entities']=new Uh(_0x981906['entities'],_0x206137)['run']());for(const _0x2520e5 in _0x981906['entities']){const _0x4de4f4=_0x981906['entities'][_0x2520e5],_0x4d9f12=this['_createEnt'+'ity'](_0x4de4f4,_0x206137);_0x451148[_0x2520e5]=_0x4d9f12,_0x4de4f4['parent']===null&&(_0x594854=_0x4d9f12);}for(const _0x2e2526 in _0x981906['entities']){const _0x2fa25b=_0x451148[_0x2e2526],_0x40a500=_0x981906['entities'][_0x2e2526]['children'],_0x3daa73=_0x40a500['length'];for(let _0x4b1287=0x2*-0xb73+-0x40d+0x1*0x1af3;_0x4b1287<_0x3daa73;_0x4b1287++){const _0x53819b=_0x451148[_0x40a500[_0x4b1287]];_0x53819b&&_0x2fa25b['addChild'](_0x53819b);}}return this['_openCompo'+'nentData'](_0x594854,_0x981906['entities']),_0x594854;}['_createEnt'+'ity'](_0x1b3479,_0x527d84){const _0x381773=new lt(_0x1b3479['name'],this['_app']);if(_0x381773['setGuid'](_0x1b3479['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x381773,_0x1b3479,_0x527d84),_0x381773['_enabled']=_0x1b3479['enabled']??!(0x1106*-0x2+0x260e+-0x156*0x3),this['_isTemplat'+'e']?_0x381773['_template']=!(-0x2545+0x46*0x52+0x7*0x21f):_0x381773['_enabledIn'+'Hierarchy']=_0x381773['_enabled'],_0x381773['template']=_0x1b3479['template'],_0x1b3479['tags']){for(let _0x573ece=-0x20e2+0xf55+0x118d;_0x573ece<_0x1b3479['tags']['length'];_0x573ece++)_0x381773['tags']['add'](_0x1b3479['tags'][_0x573ece]);}return _0x381773;}['_setPosRot'+'Scale'](_0x4fd424,_0x560f16,_0x472e94){if(_0x472e94)$u['setCompres'+'sedPRS'](_0x4fd424,_0x560f16,_0x472e94);else{const _0x15d9de=_0x560f16['position'],_0x104aa0=_0x560f16['rotation'],_0x451f2b=_0x560f16['scale'];_0x4fd424['setLocalPo'+'sition'](_0x15d9de[0x1*0x1b8f+-0x1*0x449+-0x7c2*0x3],_0x15d9de[0x282+0xaca*0x3+-0x22df],_0x15d9de[0x34b*0x1+-0x1298+-0x1*-0xf4f]),_0x4fd424['setLocalEu'+'lerAngles'](_0x104aa0[0x10ed+-0x15ff+0x16*0x3b],_0x104aa0[0x116d+0xe9e+-0x200a],_0x104aa0[-0xaf1*-0x3+-0x4*-0xe2+-0x5*0x745]),_0x4fd424['setLocalSc'+'ale'](_0x451f2b[0x25*0x13+0x2*0xc2a+0xef*-0x1d],_0x451f2b[0xc*0x12e+-0x1356+0x52f],_0x451f2b[0x19ff*-0x1+-0x123a+-0xa9*-0x43]);}}['_openCompo'+'nentData'](_0x7def3b,_0x52eb16){const _0x16c1ca=this['_app']['systems']['list'];let _0x5c05a0=_0x16c1ca['length'];const _0x21c7eb=_0x52eb16[_0x7def3b['getGuid']()];for(let _0x1e0c5e=0x6a9*0x1+-0x2fc*0xc+0x1d27*0x1;_0x1e0c5e<_0x5c05a0;_0x1e0c5e++){const _0x2b1bca=_0x16c1ca[_0x1e0c5e],_0x21b84b=_0x21c7eb['components'][_0x2b1bca['id']];_0x21b84b&&_0x2b1bca['addCompone'+'nt'](_0x7def3b,_0x21b84b);}_0x5c05a0=_0x21c7eb['children']['length'];const _0x141178=_0x7def3b['_children'];for(let _0x24eceb=0x167a+0x10f*-0x1d+0x1a5*0x5;_0x24eceb<_0x5c05a0;_0x24eceb++)_0x141178[_0x24eceb]?_0x141178[_0x24eceb]=this['_openCompo'+'nentData'](_0x141178[_0x24eceb],_0x52eb16):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x7def3b['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x7def3b;}}class E0{static['load'](_0x5676e3,_0x221a6f,_0x54dc0e){typeof _0x5676e3=='string'&&(_0x5676e3={'load':_0x5676e3,'original':_0x5676e3}),ot['get'](_0x5676e3['load'],{'retry':_0x221a6f>-0x71b*-0x5+0x2*-0xe45+-0x6fd,'maxRetries':_0x221a6f},(_0xf7bad4,_0x6bc3cd)=>{if(!_0xf7bad4)_0x54dc0e(_0xf7bad4,_0x6bc3cd);else{let _0x4486af='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x5676e3['original'];_0xf7bad4['message']?(_0x4486af+=':\x20'+_0xf7bad4['message'],_0xf7bad4['stack']&&(_0x4486af+='\x0a'+_0xf7bad4['stack'])):_0x4486af+=':\x20'+_0xf7bad4,_0x54dc0e(_0x4486af);}});}}class uk extends Qe{constructor(_0x34d4db){super(_0x34d4db,'hierarchy');}['load'](_0x1cf5b1,_0x3b35c9){E0['load'](_0x1cf5b1,this['maxRetries'],_0x3b35c9);}['open'](_0x1c89cc,_0x14cf03){this['_app']['systems']['script']['preloading']=!(0x1847+-0x2*-0xecf+-0x35e5);const _0x4acc43=new bm(this['_app'],!(-0xde1*0x1+0x7*-0x35e+0x2574))['parse'](_0x14cf03);return this['_app']['systems']['script']['preloading']=!(0x2*0x132d+-0x997+-0x1cc2),_0x4acc43;}}class pk extends Qe{constructor(_0xe67a9c){super(_0xe67a9c,'html'),h(this,'decoder',null);}['load'](_0x39abac,_0x5d75b4){typeof _0x39abac=='string'&&(_0x39abac={'load':_0x39abac,'original':_0x39abac}),ot['get'](_0x39abac['load'],{'retry':this['maxRetries']>0x236+0x3a*0x9c+0x2e*-0xd1,'maxRetries':this['maxRetries']},(_0x339737,_0x1f4c08)=>{_0x339737?_0x5d75b4('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x39abac['original']+'\x20['+_0x339737+']'):_0x5d75b4(null,_0x1f4c08);});}['openBinary'](_0x5683fd){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5683fd);}}class mk extends Qe{constructor(_0x26968b){super(_0x26968b,'json'),h(this,'decoder',null);}['load'](_0x438d44,_0x806509){typeof _0x438d44=='string'&&(_0x438d44={'load':_0x438d44,'original':_0x438d44});const _0x10e5ce={'retry':this['maxRetries']>-0x4db*0x8+-0xe30+0x3508,'maxRetries':this['maxRetries']};_0x438d44['load']['startsWith']('blob:')&&(_0x10e5ce['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x438d44['load'],_0x10e5ce,(_0x530075,_0x468e5a)=>{_0x530075?_0x806509('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x438d44['original']+'\x20['+_0x530075+']'):_0x806509(null,_0x468e5a);});}['openBinary'](_0x42fb16){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x42fb16));}}class _k{constructor(){this['removeInva'+'lid']=!(0x461*-0x4+0x776+0xd*0xc6),this['valid']=!(-0xca2+0x1147+-0x4a5),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x5d7208,_0x1f4e99){this['valid']=!(-0x8e*-0x4+0x5*0x57d+-0x49*0x68),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x5d7208,_0x1f4e99[_0x5d7208]),this['removeInva'+'lid']&&delete _0x1f4e99[_0x5d7208];}['validate'](_0x252ad8){const _0x483895=$n,_0x423843=gb,_0x7258ac=_0x252ad8['mappingFor'+'mat']==='path';for(const _0x29f43a in _0x252ad8){const _0x5da687=_0x483895[_0x29f43a];if(!_0x5da687){_0x423843[_0x29f43a]?delete _0x252ad8[_0x29f43a]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x29f43a),this['valid']=!(0x2f*-0xae+-0xf*-0x28b+-0x2*0x319));continue;}if(_0x5da687['startsWith']('enum')){const _0x3480c3=_0x5da687['split'](':')[-0xca2+0x775*0x1+0x52e];this['enumValida'+'tors'][_0x3480c3]&&(this['enumValida'+'tors'][_0x3480c3](_0x252ad8[_0x29f43a])||this['setInvalid'](_0x29f43a,_0x252ad8));}else{if(_0x5da687==='number')typeof _0x252ad8[_0x29f43a]!='number'&&this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='boolean')typeof _0x252ad8[_0x29f43a]!='boolean'&&this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='string')typeof _0x252ad8[_0x29f43a]!='string'&&this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='vec2')_0x252ad8[_0x29f43a]instanceof Array&&_0x252ad8[_0x29f43a]['length']===0x17*0x151+0xdba*0x1+0x649*-0x7||this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='rgb')_0x252ad8[_0x29f43a]instanceof Array&&_0x252ad8[_0x29f43a]['length']===0xfec+-0x181b+0x832||this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='texture')_0x7258ac?typeof _0x252ad8[_0x29f43a]=='string'||_0x252ad8[_0x29f43a]===null||_0x252ad8[_0x29f43a]instanceof _e||this['setInvalid'](_0x29f43a,_0x252ad8):typeof _0x252ad8[_0x29f43a]=='number'||_0x252ad8[_0x29f43a]===null||_0x252ad8[_0x29f43a]instanceof _e||this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='boundingbo'+'x')_0x252ad8[_0x29f43a]['center']&&_0x252ad8[_0x29f43a]['center']instanceof Array&&_0x252ad8[_0x29f43a]['center']['length']===0x1d99*-0x1+-0x1d*-0x1b+0x3cb*0x7||this['setInvalid'](_0x29f43a,_0x252ad8),_0x252ad8[_0x29f43a]['halfExtent'+'s']&&_0x252ad8[_0x29f43a]['halfExtent'+'s']instanceof Array&&_0x252ad8[_0x29f43a]['halfExtent'+'s']['length']===0xddc*0x1+-0x256*0x5+-0x22b||this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='cubemap')typeof _0x252ad8[_0x29f43a]=='number'||_0x252ad8[_0x29f43a]===null||_0x252ad8[_0x29f43a]===void(-0x237+-0x173*-0x5+-0x508)||_0x252ad8[_0x29f43a]instanceof _e&&_0x252ad8[_0x29f43a]['cubemap']||this['setInvalid'](_0x29f43a,_0x252ad8);else{if(_0x5da687==='chunks'){const _0x30df87=Object['keys'](_0x252ad8[_0x29f43a]);for(let _0x2d3b0e=-0x23a5+0x459*-0x7+-0x4*-0x1085;_0x2d3b0e<_0x30df87['length'];_0x2d3b0e++)typeof _0x252ad8[_0x29f43a][_0x30df87[_0x2d3b0e]]!='string'&&this['setInvalid'](_0x30df87[_0x2d3b0e],_0x252ad8[_0x29f43a]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x5da687);}}}}}}}}}}return _0x252ad8['validated']=!(0x31f*0x1+-0xba8+-0x1b5*-0x5),this['valid'];}['_createEnu'+'mValidator'](_0x5d3da0){return function(_0x19507b){return _0x5d3da0['indexOf'](_0x19507b)>=0x1fe*0xe+-0x12b*0x1+0x1*-0x1ab9;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x597d27){const _0x47d974=this['migrate'](_0x597d27),_0x65dce0=this['_validate'](_0x47d974),_0x12dac4=new Ut();return this['initialize'](_0x12dac4,_0x65dce0),_0x12dac4;}['initialize'](_0x3254c8,_0xa03957){if(_0xa03957['validated']||(_0xa03957=this['_validate'](_0xa03957)),_0xa03957['chunks']&&_0xa03957['chunks']&&Object['keys'](_0xa03957['chunks'])['length']>0x1f76+-0x489+-0x1aed){const _0x1e1c4b=_0x3254c8['shaderChun'+'ks']['glsl'];Object['entries'](_0xa03957['chunks'])['forEach'](([_0x2255c4,_0x225c1b])=>_0x1e1c4b['set'](_0x2255c4,_0x225c1b));}for(const _0x10e632 in _0xa03957){const _0x4d7d60=$n[_0x10e632],_0x3e9fb4=_0xa03957[_0x10e632];if(_0x4d7d60==='vec2')_0x3254c8[_0x10e632]=new J(_0x3e9fb4[-0x65*-0x43+-0x1886*0x1+-0x1e9],_0x3e9fb4[-0x1d*-0x33+-0x24bf+0x1ef9]);else{if(_0x4d7d60==='rgb')_0x3254c8[_0x10e632]=new ie(_0x3e9fb4[-0xacd*0x1+0x497+0x636],_0x3e9fb4[0x233*-0xb+0x1a0b*-0x1+0x323d],_0x3e9fb4[0x22f*-0x3+0x21e0+-0x1b51]);else{if(_0x4d7d60==='texture')_0x3e9fb4 instanceof _e?_0x3254c8[_0x10e632]=_0x3e9fb4:_0x3254c8[_0x10e632]instanceof _e&&typeof _0x3e9fb4=='number'&&_0x3e9fb4>-0x5*-0x42d+0xaa8+-0x1f89||(_0x3254c8[_0x10e632]=null);else{if(_0x4d7d60==='cubemap')_0x3e9fb4 instanceof _e?_0x3254c8[_0x10e632]=_0x3e9fb4:_0x3254c8[_0x10e632]instanceof _e&&typeof _0x3e9fb4=='number'&&_0x3e9fb4>-0x83*0x19+-0x1375*-0x1+-0x6aa||(_0x3254c8[_0x10e632]=null),_0x10e632==='cubeMap'&&!_0x3e9fb4&&(_0x3254c8['prefiltere'+'dCubemaps']=null);else{if(_0x4d7d60==='boundingbo'+'x'){const _0x4284d8=new D(_0x3e9fb4['center'][0x122*-0x1f+0x47f*0x6+-0x4*-0x209],_0x3e9fb4['center'][0x41*-0x5d+-0x1bf*-0x8+-0x1*-0x9a6],_0x3e9fb4['center'][0x10cc+0x7bf+-0x1889*0x1]),_0x3dbb26=new D(_0x3e9fb4['halfExtent'+'s'][-0x1145+-0x4e3+0x58a*0x4],_0x3e9fb4['halfExtent'+'s'][0x1670+0x24ff+0x1db7*-0x2],_0x3e9fb4['halfExtent'+'s'][-0x398*0x4+-0x3fe+0x4*0x498]);_0x3254c8[_0x10e632]=new De(_0x4284d8,_0x3dbb26);}else _0x3254c8[_0x10e632]=_0xa03957[_0x10e632];}}}}}_0x3254c8['update']();}['migrate'](_0x5c4945){_0x5c4945['shader']&&delete _0x5c4945['shader'],_0x5c4945['mapping_fo'+'rmat']&&(_0x5c4945['mappingFor'+'mat']=_0x5c4945['mapping_fo'+'rmat'],delete _0x5c4945['mapping_fo'+'rmat']);let _0x442e76;const _0x3badf6=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x442e76=-0x39a*0x1+-0x1c85+0x201f*0x1;_0x442e76<_0x3badf6['length'];_0x442e76++){const _0x579354=_0x3badf6[_0x442e76][0x57e+-0x1448+-0x2*-0x765],_0x3ab08c=_0x3badf6[_0x442e76][-0x2*0x533+0x11b1+-0x6*0x137];_0x5c4945[_0x579354]!==void(-0x1c9a+0xf01+0x3b*0x3b)&&(_0x5c4945[_0x3ab08c]===void(0x21a8+0x2585*0x1+0x85*-0x89)&&(_0x5c4945[_0x3ab08c]=_0x5c4945[_0x579354]),delete _0x5c4945[_0x579354]);}const _0x37a5fb=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x442e76=0xd7+-0x85e+-0x2f*-0x29;_0x442e76<_0x37a5fb['length'];_0x442e76++){const _0x2e0c2b=_0x37a5fb[_0x442e76];_0x5c4945['hasOwnProp'+'erty'](_0x2e0c2b)&&delete _0x5c4945[_0x2e0c2b];}return _0x5c4945;}['_validate'](_0x2e00f3){return _0x2e00f3['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x2e00f3)),_0x2e00f3;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x47b32d){super(_0x47b32d,'material'),this['_assets']=_0x47b32d['assets'],this['_device']=_0x47b32d['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x1d0baa,_0x212e62){typeof _0x1d0baa=='string'&&(_0x1d0baa={'load':_0x1d0baa,'original':_0x1d0baa}),ot['get'](_0x1d0baa['load'],{'retry':this['maxRetries']>-0x167c+0x2321+0xca5*-0x1,'maxRetries':this['maxRetries']},(_0x58ba1f,_0x3c146c)=>{_0x58ba1f?_0x212e62&&_0x212e62('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x1d0baa['original']+'\x20['+_0x58ba1f+']'):_0x212e62&&(_0x3c146c['_engine']=!(0x25b6+-0x7*0x1df+-0x189d*0x1),_0x212e62(null,_0x3c146c));});}['open'](_0x140259,_0x15d76e){const _0x5d55f3=this['_parser']['parse'](_0x15d76e);return _0x15d76e['_engine']&&(_0x5d55f3['_data']=_0x15d76e,delete _0x15d76e['_engine']),_0x5d55f3;}['patch'](_0x416693,_0x29d1a2){_0x416693['resource']['_data']&&(_0x416693['_data']=_0x416693['resource']['_data'],delete _0x416693['resource']['_data']),_0x416693['data']['name']=_0x416693['name'],_0x416693['resource']['name']=_0x416693['name'],this['_bindAndAs'+'signAssets'](_0x416693,_0x29d1a2),_0x416693['off']('unload',this['_onAssetUn'+'load'],this),_0x416693['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x575338){delete _0x575338['data']['parameters'],delete _0x575338['data']['chunks'],delete _0x575338['data']['name'];}['_assignTex'+'ture'](_0xa64973,_0x4f4118,_0xdfeae5){_0x4f4118['resource'][_0xa64973]=_0xdfeae5;}['_getPlaceh'+'olderTextu'+'re'](_0x2cd27c){const _0x27ec30=Sk[_0x2cd27c];return w['assert'](_0x27ec30,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x2cd27c),fa(this['_device'],_0x27ec30);}['_assignPla'+'ceholderTe'+'xture'](_0x48cd02,_0x1417e7){_0x1417e7['resource'][_0x48cd02]=this['_getPlaceh'+'olderTextu'+'re'](_0x48cd02);}['_onTexture'+'Load'](_0x1312ea,_0x88500c,_0x308b14){this['_assignTex'+'ture'](_0x1312ea,_0x88500c,_0x308b14['resource']),_0x88500c['resource']['update']();}['_onTexture'+'Add'](_0x43a393,_0x1d1509,_0xa1d349){this['_assets']['load'](_0xa1d349);}['_onTexture'+'RemoveOrUn'+'load'](_0x128fe6,_0x39b81c,_0x336530){const _0x10b899=_0x39b81c['resource'];_0x10b899&&_0x39b81c['resource'][_0x128fe6]===_0x336530['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x128fe6,_0x39b81c),_0x10b899['update']());}['_assignCub'+'emap'](_0x4ee8a4,_0x585c2c,_0x1df8a8){if(_0x585c2c['resource'][_0x4ee8a4]=_0x1df8a8[0x7a9+-0xdad+0x604],_0x4ee8a4==='cubeMap'){const _0x43589d=_0x1df8a8['slice'](-0x6c7*0x2+-0x4b*-0x76+0x1*-0x1503);_0x43589d['every'](_0xccc4b=>_0xccc4b)?_0x585c2c['resource']['prefiltere'+'dCubemaps']=_0x43589d:_0x43589d[0x10*-0xe6+-0xdf*0x11+-0x1f*-0xf1]&&(_0x585c2c['resource']['envAtlas']=_0x43589d[0xc0f+-0xf*-0x4d+-0x65*0x2a]);}}['_onCubemap'+'Load'](_0x2d51b4,_0xa96085,_0x4e1d5a){this['_assignCub'+'emap'](_0x2d51b4,_0xa96085,_0x4e1d5a['resources']),this['_parser']['initialize'](_0xa96085['resource'],_0xa96085['data']);}['_onCubemap'+'Add'](_0x1d8a0e,_0x45b0b7,_0xc2d2e6){this['_assets']['load'](_0xc2d2e6);}['_onCubemap'+'RemoveOrUn'+'load'](_0x4af382,_0x27ffc3,_0x3508b0){const _0x1afb47=_0x27ffc3['resource'];_0x27ffc3['data']['prefiltere'+'dCubeMap12'+'8']===_0x3508b0['resources'][0x2d8+-0xff0+-0x1*-0xd19]&&(this['_assignCub'+'emap'](_0x4af382,_0x27ffc3,[null,null,null,null,null,null,null]),_0x1afb47['update']());}['_bindAndAs'+'signAssets'](_0x29ee27,_0x532240){const _0x5e48f8=this['_parser']['migrate'](_0x29ee27['data']),_0x3a6260=_0x29ee27['resource'],_0x3d2557=_0x5e48f8['mappingFor'+'mat']==='path',_0x425dce=Cd;let _0x2e21ac,_0x5d5a7d,_0x4a03ce;for(_0x2e21ac=-0x582+0x673+-0xf1;_0x2e21ac<_0x425dce['length'];_0x2e21ac++){_0x5d5a7d=_0x425dce[_0x2e21ac],_0x4a03ce=_0x3a6260['_assetRefe'+'rences'][_0x5d5a7d];const _0x246bb3=_0x5e48f8[_0x5d5a7d],_0x22a36d=_0x3a6260[_0x5d5a7d],_0x117aa7=_0x22a36d===this['_getPlaceh'+'olderTextu'+'re'](_0x5d5a7d),_0x393ffc=_0x5e48f8['validated'];_0x246bb3&&(!_0x22a36d||!_0x393ffc||_0x117aa7)?(_0x4a03ce||(_0x4a03ce=new gl(_0x5d5a7d,_0x29ee27,_0x532240,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x3a6260['_assetRefe'+'rences'][_0x5d5a7d]=_0x4a03ce),_0x3d2557?_0x4a03ce['url']=_0x29ee27['getAbsolut'+'eUrl'](_0x246bb3):_0x4a03ce['id']=_0x246bb3,_0x4a03ce['asset']&&(_0x4a03ce['asset']['resource']?this['_assignTex'+'ture'](_0x5d5a7d,_0x29ee27,_0x4a03ce['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x5d5a7d,_0x29ee27),_0x532240['load'](_0x4a03ce['asset']))):_0x4a03ce&&(_0x3d2557?_0x4a03ce['url']=null:_0x4a03ce['id']=null);}const _0x4b8347=fm;for(_0x2e21ac=0x108a+0x1*-0x384+-0xd06;_0x2e21ac<_0x4b8347['length'];_0x2e21ac++)_0x5d5a7d=_0x4b8347[_0x2e21ac],_0x4a03ce=_0x3a6260['_assetRefe'+'rences'][_0x5d5a7d],_0x5e48f8[_0x5d5a7d]&&!_0x29ee27['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x4a03ce||(_0x4a03ce=new gl(_0x5d5a7d,_0x29ee27,_0x532240,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x3a6260['_assetRefe'+'rences'][_0x5d5a7d]=_0x4a03ce),_0x3d2557?_0x4a03ce['url']=_0x5e48f8[_0x5d5a7d]:_0x4a03ce['id']=_0x5e48f8[_0x5d5a7d],_0x4a03ce['asset']&&(_0x4a03ce['asset']['loaded']&&this['_assignCub'+'emap'](_0x5d5a7d,_0x29ee27,_0x4a03ce['asset']['resources']),_0x532240['load'](_0x4a03ce['asset'])));this['_parser']['initialize'](_0x3a6260,_0x5e48f8);}}class vk{constructor(_0x5ac873){this['_device']=_0x5ac873['device'],this['_defaultMa'+'terial']=_0x5ac873['defaultMat'+'erial'],this['_assets']=_0x5ac873['assets'];}['parse'](_0x1a3371,_0x4d74af,_0x220a53){kh['parse']('filename.g'+'lb','',_0x1a3371,this['_device'],this['_assets'],(_0x220a53==null?void(-0x21dc+-0x1272+0x53b*0xa):_0x220a53['options'])??{},(_0x23afde,_0x1d33f3)=>{if(_0x23afde)_0x4d74af(_0x23afde);else{const _0x25aa75=yr['createMode'+'l'](_0x1d33f3,this['_defaultMa'+'terial']);_0x1d33f3['destroy'](),_0x4d74af(null,_0x25aa75);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x39b1be){this['_device']=_0x39b1be['device'],this['_defaultMa'+'terial']=_0x39b1be['defaultMat'+'erial'];}['parse'](_0x1fa49a,_0x23aa89){const _0x294db8=_0x1fa49a['model'];if(!_0x294db8){_0x23aa89(null,null);return;}if(_0x294db8['version']<=-0xe3*-0x1f+-0x2e1*0x4+-0xff8){_0x23aa89('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x1508db=this['_parseNode'+'s'](_0x1fa49a),_0x13324f=this['_parseSkin'+'s'](_0x1fa49a,_0x1508db),_0x43b803=this['_parseVert'+'exBuffers'](_0x1fa49a),_0xa3fa45=this['_parseInde'+'xBuffers'](_0x1fa49a,_0x43b803),_0x165764=this['_parseMorp'+'hs'](_0x1fa49a,_0x1508db,_0x43b803),_0x266fe5=this['_parseMesh'+'es'](_0x1fa49a,_0x13324f['skins'],_0x165764['morphs'],_0x43b803,_0xa3fa45['buffer'],_0xa3fa45['data']),_0x1e20ba=this['_parseMesh'+'Instances'](_0x1fa49a,_0x1508db,_0x266fe5,_0x13324f['skins'],_0x13324f['instances'],_0x165764['morphs'],_0x165764['instances']),_0x1ef526=new sr();_0x1ef526['graph']=_0x1508db[0x3a9*-0x3+-0x161f+0x211a],_0x1ef526['meshInstan'+'ces']=_0x1e20ba,_0x1ef526['skinInstan'+'ces']=_0x13324f['instances'],_0x1ef526['morphInsta'+'nces']=_0x165764['instances'],_0x1ef526['getGraph']()['syncHierar'+'chy'](),_0x23aa89(null,_0x1ef526);}['_parseNode'+'s'](_0x50e366){const _0x22aa30=_0x50e366['model'],_0x3a4864=[];let _0x5c8d6a;for(_0x5c8d6a=-0x1884+-0x1*-0x1be3+0x35f*-0x1;_0x5c8d6a<_0x22aa30['nodes']['length'];_0x5c8d6a++){const _0x389d60=_0x22aa30['nodes'][_0x5c8d6a],_0x4d0c6b=new Ie(_0x389d60['name']);_0x4d0c6b['setLocalPo'+'sition'](_0x389d60['position'][0x44f+-0x202f+0x1be0],_0x389d60['position'][0xc24+0x27b+-0x2*0x74f],_0x389d60['position'][-0x1407+-0x1154+0x255d]),_0x4d0c6b['setLocalEu'+'lerAngles'](_0x389d60['rotation'][0xc80+0x1524+-0x21a4],_0x389d60['rotation'][-0xa12*-0x3+-0x1353+-0xae2],_0x389d60['rotation'][-0x6d*0x3d+0xdf6+0x1*0xc05]),_0x4d0c6b['setLocalSc'+'ale'](_0x389d60['scale'][-0x872+0x21*-0xb1+0x1f43],_0x389d60['scale'][-0x1361+0x262c+-0x12ca],_0x389d60['scale'][-0x267f+0x11ea+-0x3*-0x6dd]),_0x4d0c6b['scaleCompe'+'nsation']=!!_0x389d60['scaleCompe'+'nsation'],_0x3a4864['push'](_0x4d0c6b);}for(_0x5c8d6a=-0x15fe+0xf64+0x69b;_0x5c8d6a<_0x22aa30['parents']['length'];_0x5c8d6a++)_0x3a4864[_0x22aa30['parents'][_0x5c8d6a]]['addChild'](_0x3a4864[_0x5c8d6a]);return _0x3a4864;}['_parseSkin'+'s'](_0x231943,_0x27980a){const _0x563e06=_0x231943['model'],_0x4f075e=[],_0x32a440=[];let _0x1098b6,_0x447d55;for(_0x1098b6=-0x1*0xaf+0x8*0x21e+-0x1041;_0x1098b6<_0x563e06['skins']['length'];_0x1098b6++){const _0x3a5b36=_0x563e06['skins'][_0x1098b6],_0x3aba5a=[];for(_0x447d55=-0x2060+0x10a2*-0x2+0x41a4;_0x447d55<_0x3a5b36['inverseBin'+'dMatrices']['length'];_0x447d55++){const _0x47d94d=_0x3a5b36['inverseBin'+'dMatrices'][_0x447d55];_0x3aba5a[_0x447d55]=new te()['set'](_0x47d94d);}const _0xaf2e54=new Lv(this['_device'],_0x3aba5a,_0x3a5b36['boneNames']);_0x4f075e['push'](_0xaf2e54);const _0x5c6378=new Ol(_0xaf2e54),_0x78e990=[];for(_0x447d55=-0xe4f+-0xb15*0x2+0x1*0x2479;_0x447d55<_0xaf2e54['boneNames']['length'];_0x447d55++){const _0x3d004f=_0xaf2e54['boneNames'][_0x447d55],_0x18b8bf=_0x27980a[0x145b+-0x8*0x5a+-0x118b]['findByName'](_0x3d004f);_0x78e990['push'](_0x18b8bf);}_0x5c6378['bones']=_0x78e990,_0x32a440['push'](_0x5c6378);}return{'skins':_0x4f075e,'instances':_0x32a440};}['_getMorphV'+'ertexCount'](_0x5e9c68,_0x3e63d2,_0x49d18a){for(let _0x462a76=-0x2a*-0x89+0xd3f*0x1+-0x9b*0x3b;_0x462a76<_0x5e9c68['meshes']['length'];_0x462a76++){const _0x2eaf37=_0x5e9c68['meshes'][_0x462a76];if(_0x2eaf37['morph']===_0x3e63d2)return _0x49d18a[_0x2eaf37['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x3531dc,_0x1ed16d,_0x219526){const _0x515a63=_0x3531dc['model'],_0xf8d317=[],_0x5a85bb=[];let _0x1cef22,_0x1ad172,_0x3b9be0,_0x105208,_0x33c7ea,_0x10c845;if(_0x515a63['morphs']){const _0x52966d=function(_0x407a6d,_0x304365,_0x289468){const _0x5247e1=new Float32Array(_0x289468*(-0x2314+-0x5*-0x67e+0x2a1));for(let _0x1d962f=-0x237b*0x1+-0x2356+0x46d1;_0x1d962f<_0x304365['length'];_0x1d962f++){const _0x3e86ff=_0x304365[_0x1d962f]*(0x2129*-0x1+0x1a6*-0xa+-0x7*-0x718);_0x5247e1[_0x3e86ff]=_0x407a6d[_0x1d962f*(0x181d+-0x150*-0x1+0x196a*-0x1)],_0x5247e1[_0x3e86ff+(-0x25+-0x20e3+-0x3*-0xb03)]=_0x407a6d[_0x1d962f*(0xd*-0x231+-0x1*0x1adb+0x375b*0x1)+(-0x1ca*-0x13+-0x70*-0xa+-0x265d)],_0x5247e1[_0x3e86ff+(0xb9a+-0xc*0x6c+-0x688)]=_0x407a6d[_0x1d962f*(0x1a33+0x1*0x1b0e+-0x553*0xa)+(-0x25*-0x79+0xf90+-0xb*0x301)];}return _0x5247e1;};for(_0x1cef22=0x5*0x2d2+0x2360+-0x317a;_0x1cef22<_0x515a63['morphs']['length'];_0x1cef22++){for(_0x105208=_0x515a63['morphs'][_0x1cef22]['targets'],_0x10c845=[],_0x3b9be0=this['_getMorphV'+'ertexCount'](_0x515a63,_0x1cef22,_0x219526),_0x1ad172=-0x3*-0xbcb+-0x1dc9*-0x1+0x1b7*-0x26;_0x1ad172<_0x105208['length'];_0x1ad172++){const _0x21fe58=_0x105208[_0x1ad172]['aabb'],_0x282afb=_0x21fe58['min'],_0x1118d8=_0x21fe58['max'],_0x291f1d=new De(new D((_0x1118d8[-0x113d+0xbe4*0x1+0x559]+_0x282afb[0x1b5*0x5+-0xe96+0x60d])*(0x12fd*0x1+-0x19ec+0x6ef+0.5),(_0x1118d8[0x1919+0x1b19+-0x3431]+_0x282afb[-0x8f+0x1707+-0x9*0x27f])*(-0xd*-0x229+-0x13ea+-0x82b+0.5),(_0x1118d8[0xffd+0x27*0xb3+-0x2b40]+_0x282afb[0x391+-0x11*0x30+-0x5f])*(0xe5a+-0x712*-0x2+-0x1c7e+0.5)),new D((_0x1118d8[-0x1e5a+-0x1*0x211+0xc1*0x2b]-_0x282afb[0x1bf0*0x1+-0xf24+-0xccc])*(-0x2385+0xd9c+0x15e9+0.5),(_0x1118d8[0x77a+-0x6ef*-0x5+-0xe0c*0x3]-_0x282afb[-0x92f+0x1ea8+-0x2af*0x8])*(-0x12*-0x12e+0x1962+-0x2e9e+0.5),(_0x1118d8[-0x3ee*0x6+0x122f+-0x1cd*-0x3]-_0x282afb[0x1*-0x232+0x75*0xe+-0x3*0x166])*(0x1d52+-0x22fc+0x5aa+0.5))),_0x55fc16=_0x105208[_0x1ad172]['indices'];let _0x2d3f8a=_0x105208[_0x1ad172]['deltaPosit'+'ions'],_0x3745f2=_0x105208[_0x1ad172]['deltaNorma'+'ls'];_0x55fc16&&(_0x2d3f8a=_0x52966d(_0x2d3f8a,_0x55fc16,_0x3b9be0),_0x3745f2=_0x52966d(_0x3745f2,_0x55fc16,_0x3b9be0)),_0x33c7ea=new Md({'deltaPositions':_0x2d3f8a,'deltaNormals':_0x3745f2,'name':_0x105208[_0x1ad172]['name'],'aabb':_0x291f1d}),_0x10c845['push'](_0x33c7ea);}const _0x1e8fe9=new mm(_0x10c845,this['_device']);_0xf8d317['push'](_0x1e8fe9);const _0x49492c=new xa(_0x1e8fe9);_0x5a85bb['push'](_0x49492c);}}return{'morphs':_0xf8d317,'instances':_0x5a85bb};}['_parseVert'+'exBuffers'](_0x5e7229){const _0x208b72=_0x5e7229['model'],_0x37f3eb=[],_0x426ae7={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x4c776d=-0x18d*-0xd+0x10b4+-0x24dd;_0x4c776d<_0x208b72['vertices']['length'];_0x4c776d++){const _0x4ed13d=_0x208b72['vertices'][_0x4c776d],_0x57259e=[];for(const _0x32a96e in _0x4ed13d){const _0x2c2f7a=_0x4ed13d[_0x32a96e];_0x57259e['push']({'semantic':_0x426ae7[_0x32a96e],'components':_0x2c2f7a['components'],'type':Tk[_0x2c2f7a['type']],'normalize':_0x426ae7[_0x32a96e]===Wt});}const _0x400cf8=new kt(this['_device'],_0x57259e),_0x3301de=_0x4ed13d['position']['data']['length']/_0x4ed13d['position']['components'],_0x51c396=new Is(this['_device'],_0x400cf8,_0x3301de),_0x2451a0=new Uo(_0x51c396);for(let _0x3a159c=0x1d*0x156+0x2009+-0x46c7*0x1;_0x3a159c<_0x3301de;_0x3a159c++){for(const _0x331280 in _0x4ed13d){const _0x1e2ce8=_0x4ed13d[_0x331280];switch(_0x1e2ce8['components']){case 0x463*0x8+0x1d*0x3b+-0x29c6:_0x2451a0['element'][_0x426ae7[_0x331280]]['set'](_0x1e2ce8['data'][_0x3a159c]);break;case-0x185f+-0xf86+-0x3*-0xd4d:_0x2451a0['element'][_0x426ae7[_0x331280]]['set'](_0x1e2ce8['data'][_0x3a159c*(-0x23*0xa9+-0x19a5+0x30c2)],0x175*-0x3+-0x1*-0x2322+0x2*-0xf61-_0x1e2ce8['data'][_0x3a159c*(0x96c+-0x14aa+0xb40)+(-0x13*0x1ac+-0xb46+-0xe59*-0x3)]);break;case 0x96d+-0x2a2+-0x4*0x1b2:_0x2451a0['element'][_0x426ae7[_0x331280]]['set'](_0x1e2ce8['data'][_0x3a159c*(-0x10dc+-0xa*-0x2d1+0xb4b*-0x1)],_0x1e2ce8['data'][_0x3a159c*(-0x22*0x3b+-0x2366+-0x1*-0x2b3f)+(-0x9cc+-0x124+0xaf1*0x1)],_0x1e2ce8['data'][_0x3a159c*(0xa4e+0x879+-0x12c4)+(-0x2452+0x3*-0x1f1+0x2a27)]);break;case 0x20f4+-0x10f*0x1e+-0x2*0x97:_0x2451a0['element'][_0x426ae7[_0x331280]]['set'](_0x1e2ce8['data'][_0x3a159c*(0x1184+0x4d1+-0x1651)],_0x1e2ce8['data'][_0x3a159c*(0x37+0xa08+-0x1*0xa3b)+(-0x14a4+-0x1d*0x7+0x31*0x70)],_0x1e2ce8['data'][_0x3a159c*(0x6ad+0x1631+-0x1cda)+(0x1ea5+-0x11*-0x11f+-0x31b2)],_0x1e2ce8['data'][_0x3a159c*(-0x12b2*0x1+-0x918+0x1bce)+(-0x1cc8+0x1642+0x689)]);break;}}_0x2451a0['next']();}_0x2451a0['end'](),_0x37f3eb['push'](_0x51c396);}return _0x37f3eb;}['_parseInde'+'xBuffers'](_0x594e6d,_0x4c6946){const _0x463b2b=_0x594e6d['model'];let _0x596e8c=null,_0x20a1aa=null,_0x2fc1f6,_0x16f66f=0x14a7+-0x24b+-0x125c;for(_0x2fc1f6=0xd48*0x2+-0x4de+-0x15b2;_0x2fc1f6<_0x463b2b['meshes']['length'];_0x2fc1f6++){const _0x2209f3=_0x463b2b['meshes'][_0x2fc1f6];_0x2209f3['indices']!==void(-0x376+0x838+-0x4c2)&&(_0x16f66f+=_0x2209f3['indices']['length']);}let _0x13159c=0x2*-0xc61+0x51a*0x5+-0x30*0x4;for(_0x2fc1f6=0x19ef*-0x1+-0x19b3+0x19d1*0x2;_0x2fc1f6<_0x4c6946['length'];_0x2fc1f6++)_0x13159c=Math['max'](_0x13159c,_0x4c6946[_0x2fc1f6]['numVertice'+'s']);return _0x16f66f>-0x2667+-0x15ea+-0x3c51*-0x1&&(_0x13159c>-0xe399+0x1e1dc+0xde*0x2?(_0x596e8c=new br(this['_device'],wr,_0x16f66f),_0x20a1aa=new Uint32Array(_0x596e8c['lock']())):(_0x596e8c=new br(this['_device'],Yi,_0x16f66f),_0x20a1aa=new Uint16Array(_0x596e8c['lock']()))),{'buffer':_0x596e8c,'data':_0x20a1aa};}['_parseMesh'+'es'](_0x3b80ef,_0xd8df8a,_0x308a37,_0x59790e,_0x486d37,_0x20fef8){const _0x150998=_0x3b80ef['model'],_0x55de54=[];let _0x2e7a18=-0x9*-0x20b+-0x1dea+0xb87;for(let _0x532ba5=-0x127+-0x1cf0+0x1e17;_0x532ba5<_0x150998['meshes']['length'];_0x532ba5++){const _0x58ff4f=_0x150998['meshes'][_0x532ba5],_0x377f95=_0x58ff4f['aabb'],_0x1b4a8c=_0x377f95['min'],_0x8bf6bf=_0x377f95['max'],_0x21a730=new De(new D((_0x8bf6bf[0x1*0x1b1a+0x20a+-0x1d24]+_0x1b4a8c[-0x24bb+0xb25+-0x32*-0x83])*(-0x17d3+0x1987+0x6d*-0x4+0.5),(_0x8bf6bf[0xc62+-0x1129+0x4*0x132]+_0x1b4a8c[-0x1*0x2559+-0xfd9+0x3533])*(0x1*0x1+-0x5b*-0x27+-0xdde+0.5),(_0x8bf6bf[-0x198d+0x6*-0x149+0x2145]+_0x1b4a8c[-0x1565+0x85*0x3f+0x19*-0x74])*(0x17f5+0x20e3+-0x2*0x1c6c+0.5)),new D((_0x8bf6bf[0x19ab*-0x1+0x1565*0x1+0x223*0x2]-_0x1b4a8c[-0x3*0x7e1+0x61*0x1d+-0x2*-0x653])*(0x1d66+-0x23*-0xd8+-0x3aee+0.5),(_0x8bf6bf[-0xb9a+0x155c+0x9c1*-0x1]-_0x1b4a8c[0x16de+-0x83*-0xa+-0x227*0xd])*(0x3c4*-0x8+-0x239f+0x41bf+0.5),(_0x8bf6bf[0x23cf+0x76e+0x1*-0x2b3b]-_0x1b4a8c[0x1f27+-0x15d4+-0x35*0x2d])*(-0x713*-0x5+-0x1315+-0x104a+0.5))),_0x1c7d17=_0x58ff4f['indices']!==void(-0x21ef+0x26*0x43+0x1*0x17fd),_0x19d965=new Ge(this['_device']);_0x19d965['vertexBuff'+'er']=_0x59790e[_0x58ff4f['vertices']],_0x19d965['indexBuffe'+'r'][0x1*-0x16fb+0x2*-0xd91+0x321d]=_0x1c7d17?_0x486d37:null,_0x19d965['primitive'][-0x3*-0x542+0xe80+0x9b*-0x32]['type']=xk[_0x58ff4f['type']],_0x19d965['primitive'][-0x1*0x22a8+0x20d6+0x1d2*0x1]['base']=_0x1c7d17?_0x58ff4f['base']+_0x2e7a18:_0x58ff4f['base'],_0x19d965['primitive'][-0x1e7*0x6+0x2325*-0x1+0x3*0xf85]['count']=_0x58ff4f['count'],_0x19d965['primitive'][0xc40+0x6b8*-0x2+0x1*0x130]['indexed']=_0x1c7d17,_0x19d965['skin']=_0x58ff4f['skin']!==void(0xac1+-0x206d+0x15ac)?_0xd8df8a[_0x58ff4f['skin']]:null,_0x19d965['morph']=_0x58ff4f['morph']!==void(0x23*-0x37+0x1739+-0xfb4)?_0x308a37[_0x58ff4f['morph']]:null,_0x19d965['aabb']=_0x21a730,_0x1c7d17&&(_0x20fef8['set'](_0x58ff4f['indices'],_0x2e7a18),_0x2e7a18+=_0x58ff4f['indices']['length']),_0x55de54['push'](_0x19d965);}return _0x486d37!==null&&_0x486d37['unlock'](),_0x55de54;}['_parseMesh'+'Instances'](_0x37e64a,_0x528e00,_0x230901,_0x43ce6c,_0x244c68,_0x57ef93,_0x22b5ae){const _0x15304f=_0x37e64a['model'],_0x149093=[];let _0x3908e7;for(_0x3908e7=-0x1e88+-0x1213+0x309b;_0x3908e7<_0x15304f['meshInstan'+'ces']['length'];_0x3908e7++){const _0x575396=_0x15304f['meshInstan'+'ces'][_0x3908e7],_0x1e15ed=_0x528e00[_0x575396['node']],_0x12cc11=_0x230901[_0x575396['mesh']],_0x23eb66=new He(_0x12cc11,this['_defaultMa'+'terial'],_0x1e15ed);if(_0x12cc11['skin']){const _0x5a9b16=_0x43ce6c['indexOf'](_0x12cc11['skin']);if(_0x5a9b16===-(0x2494+-0x2c3*0x6+-0x6ab*0x3))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x23eb66['skinInstan'+'ce']=_0x244c68[_0x5a9b16];}if(_0x12cc11['morph']){const _0x499014=_0x57ef93['indexOf'](_0x12cc11['morph']);if(_0x499014===-(-0x7df+-0x2*0x20a+0xbf4))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x23eb66['morphInsta'+'nce']=_0x22b5ae[_0x499014];}_0x149093['push'](_0x23eb66);}return _0x149093;}}class Ek extends Qe{constructor(_0x7387a6){super(_0x7387a6,'model'),this['_parsers']=[],this['device']=_0x7387a6['graphicsDe'+'vice'],this['assets']=_0x7387a6['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x363333,_0x7c0321)=>xe['getExtensi'+'on'](_0x363333)==='.json'),this['addParser'](new vk(this),(_0x1b3b39,_0x29757a)=>xe['getExtensi'+'on'](_0x1b3b39)==='.glb');}['load'](_0x44929d,_0x32eaca,_0x88c1b5){typeof _0x44929d=='string'&&(_0x44929d={'load':_0x44929d,'original':_0x44929d});const _0x5d875b={'retry':this['maxRetries']>-0x2*-0x12c9+-0x1443+-0xd3*0x15,'maxRetries':this['maxRetries']};(_0x44929d['load']['startsWith']('blob:')||_0x44929d['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x44929d['original'])['toLowerCas'+'e']()==='.glb'?_0x5d875b['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5d875b['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x44929d['load'],_0x5d875b,(_0x4ad483,_0x397d71)=>{if(_0x32eaca){if(_0x4ad483)_0x32eaca('Error\x20load'+'ing\x20model:'+'\x20'+_0x44929d['original']+'\x20['+_0x4ad483+']');else{for(let _0x58a9fb=0x9de+0xa3*0x5+0xd*-0x101;_0x58a9fb<this['_parsers']['length'];_0x58a9fb++){const _0x1bb1aa=this['_parsers'][_0x58a9fb];if(_0x1bb1aa['decider'](_0x44929d['original'],_0x397d71)){_0x1bb1aa['parser']['parse'](_0x397d71,(_0x4ac8a4,_0x27c6fc)=>{_0x4ac8a4?_0x32eaca(_0x4ac8a4):_0x32eaca(null,_0x27c6fc);},_0x88c1b5);return;}}_0x32eaca('No\x20parsers'+'\x20found');}}});}['open'](_0x48cab0,_0x13f43f){return _0x13f43f;}['patch'](_0x5b0c74,_0x51f264){if(!_0x5b0c74['resource'])return;const _0x2d4faa=_0x5b0c74['data'],_0x353f0f=this;_0x5b0c74['resource']['meshInstan'+'ces']['forEach']((_0x48b02b,_0x3ef184)=>{if(_0x2d4faa['mapping']){const _0x536960=function(_0x37248b){_0x37248b['resource']?_0x48b02b['material']=_0x37248b['resource']:(_0x37248b['once']('load',_0x536960),_0x51f264['load'](_0x37248b)),_0x37248b['once']('remove',_0x1f252d=>{_0x48b02b['material']===_0x1f252d['resource']&&(_0x48b02b['material']=_0x353f0f['defaultMat'+'erial']);});};if(!_0x2d4faa['mapping'][_0x3ef184]){_0x48b02b['material']=_0x353f0f['defaultMat'+'erial'];return;}const _0x2dcf74=_0x2d4faa['mapping'][_0x3ef184]['material'],_0x204232=_0x2d4faa['mapping'][_0x3ef184]['path'];let _0x45224c;if(_0x2dcf74!==void(-0xbbf+0x3*0x331+0x22c))_0x2dcf74?(_0x45224c=_0x51f264['get'](_0x2dcf74),_0x45224c?_0x536960(_0x45224c):_0x51f264['once']('add:'+_0x2dcf74,_0x536960)):_0x48b02b['material']=_0x353f0f['defaultMat'+'erial'];else{if(_0x204232){const _0x54c7c9=_0x5b0c74['getAbsolut'+'eUrl'](_0x2d4faa['mapping'][_0x3ef184]['path']);_0x45224c=_0x51f264['getByUrl'](_0x54c7c9),_0x45224c?_0x536960(_0x45224c):_0x51f264['once']('add:url:'+_0x54c7c9,_0x536960);}}}});}['addParser'](_0x26c2d9,_0x8de316){this['_parsers']['push']({'parser':_0x26c2d9,'decider':_0x8de316});}}class bk extends Qe{constructor(_0x1082f4){super(_0x1082f4,'scene');}['load'](_0xb3e638,_0x42c4f1){E0['load'](_0xb3e638,this['maxRetries'],_0x42c4f1);}['open'](_0x535cef,_0x42ac75){this['_app']['systems']['script']['preloading']=!(0x1e57+0x231a+0xb*-0x5f3);const _0x2c687d=new bm(this['_app'],!(0x1e6e+0x1*0xfd3+-0x2e40))['parse'](_0x42ac75),_0x319dff=this['_app']['scene'];return _0x319dff['root']=_0x2c687d,this['_app']['applyScene'+'Settings'](_0x42ac75['settings']),this['_app']['systems']['script']['preloading']=!(0x1*-0x409+-0x1*-0x12c7+0x31*-0x4d),_0x319dff;}}const qh=class qh{static['push'](_0xde701f){qh['_types']['push'](_0xde701f);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x3e40f4,_0x2b4ce5,_0x2b529a)=>{Ck[_0x3e40f4]=0x749+0xbed+-0x1335;});function Pk(_0x419d8e,_0x3eecc9,_0x2fe3cc){if(typeof _0x419d8e!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x419d8e+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x419d8e['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x419d8e)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x3eecc9=_0x3eecc9||_0x419d8e['__name']||Wo['__getScrip'+'tName'](_0x419d8e),Ak['has'](_0x3eecc9))throw new Error('script\x20nam'+'e:\x20\x27'+_0x3eecc9+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x419d8e['__name']=_0x3eecc9,Ks['getApplica'+'tion']()['scripts']['add'](_0x419d8e),aa['push'](_0x419d8e);}const Mk=_0x74bd3c=>_0x74bd3c[-0x1618+0x7*-0x12e+0xf2d*0x2]['toLowerCas'+'e']()+_0x74bd3c['substring'](0x7f*0x4d+0x795*0x4+0x9ca*-0x7);class Dk extends Qe{constructor(_0x390534){super(_0x390534,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x330b11 in this['_cache']){const _0x258cd4=this['_cache'][_0x330b11],_0x32c23b=_0x258cd4['parentNode'];_0x32c23b&&_0x32c23b['removeChil'+'d'](_0x258cd4);}this['_cache']={};}['load'](_0x105226,_0x5f1413){typeof _0x105226=='string'&&(_0x105226={'load':_0x105226,'original':_0x105226});const _0x2dc3fe=this;this['_app'];const _0x3a2213=(_0x105226['load'],(_0x4fe570,_0x1d4259,_0x10a2fa)=>{if(_0x4fe570)_0x5f1413(_0x4fe570);else{const _0x35346a={};for(let _0x57085a=0x9e8+0x1409+-0x1df1;_0x57085a<aa['_types']['length'];_0x57085a++)_0x35346a[aa['_types'][_0x57085a]['name']]=aa['_types'][_0x57085a];aa['_types']['length']=0x203e+-0x5*-0xc7+-0x2421,_0x5f1413(null,_0x35346a,_0x10a2fa);const _0x2946ba=_0x1d4259['split']('&hash=')[0xf96+0x26eb+-0x3681];delete _0x2dc3fe['_loader']['_cache'][Cn['makeKey'](_0x2946ba,'script')];}}),[_0x10c65b]=_0x105226['load']['split']('?');_0x10c65b['endsWith']('.mjs')?this['_loadModul'+'e'](_0x10c65b,_0x3a2213):this['_loadScrip'+'t'](_0x105226['load'],_0x3a2213);}['open'](_0x5e0170,_0x263991){return _0x263991;}['patch'](_0x396f6e,_0x4a94ba){}['_loadScrip'+'t'](_0x458a49,_0x27984a){const _0x56b663=document['head'],_0x438ce5=document['createElem'+'ent']('script');this['_cache'][_0x458a49]=_0x438ce5,_0x438ce5['async']=!(-0x1f34+-0x5c8+0x24fd),_0x438ce5['addEventLi'+'stener']('error',_0x54bb19=>{_0x27984a('Script:\x20'+_0x54bb19['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x2306+0x2*-0x9ad+0x1*-0xfab));let _0x34f71e=!(0x25*-0xb9+0xef3*-0x1+0x1*0x29b1);_0x438ce5['onload']=_0x438ce5['onreadysta'+'techange']=function(){!_0x34f71e&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x34f71e=!(0x3f+-0x187a+-0x1*-0x183b),_0x27984a(null,_0x458a49,_0x438ce5));},_0x438ce5['src']=_0x458a49,_0x56b663['appendChil'+'d'](_0x438ce5);}['_loadModul'+'e'](_0x5a79c5,_0x1b8da1){const _0x18f865=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x4b04b9=new URL(_0x5a79c5,_0x18f865);import(_0x4b04b9['toString']())['then'](_0x8c6063=>{var _0x28c479,_0x2a073b;const _0x4a0ff1=_0x4b04b9['pathname']['split']('/')['pop'](),_0x4766d9=(_0x2a073b=(_0x28c479=this['_app']['assets']['find'](_0x4a0ff1,'script'))==null?void(0x1956+0xc*0x95+-0x7*0x49e):_0x28c479['data'])==null?void(-0x2*-0x71e+0xa*0x52+-0x2e8*0x6):_0x2a073b['scripts'];for(const _0x17c143 in _0x8c6063){const _0x344167=_0x8c6063[_0x17c143];if(_0x344167['prototype']instanceof ts){const _0x6061d6=Mk(_0x344167['name']);_0x344167['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x344167['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x344167['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x6061d6+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x1454a3=_0x344167['scriptName']??_0x6061d6;Pk(_0x344167,_0x1454a3),_0x4766d9&&this['_app']['scripts']['addSchema'](_0x1454a3,_0x4766d9[_0x1454a3]);}}_0x1b8da1(null,_0x5a79c5,null);})['catch'](_0x1ddd9c=>{_0x1b8da1(_0x1ddd9c);});}}class Ik extends Qe{constructor(_0x1587e4){super(_0x1587e4,'shader'),h(this,'decoder',null);}['load'](_0x247d38,_0x4240ea){typeof _0x247d38=='string'&&(_0x247d38={'load':_0x247d38,'original':_0x247d38}),ot['get'](_0x247d38['load'],{'retry':this['maxRetries']>0xa8d*0x2+-0x887+-0xc93,'maxRetries':this['maxRetries']},(_0x504d2b,_0xf5d172)=>{_0x504d2b?_0x4240ea('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x247d38['original']+'\x20['+_0x504d2b+']'):_0x4240ea(null,_0xf5d172);});}['openBinary'](_0x2ed9ea){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2ed9ea);}}function Pf(_0x52b6a1){const _0xcb2ac3=this;_0xcb2ac3['resource']&&(_0xcb2ac3['resource']['atlas']=_0x52b6a1['resource']);}function Mf(_0x1b2ef4){this['registry']['load'](_0x1b2ef4);}class Lk extends Qe{constructor(_0x3b11cc){super(_0x3b11cc,'sprite'),this['_assets']=_0x3b11cc['assets'],this['_device']=_0x3b11cc['graphicsDe'+'vice'];}['load'](_0x583d7e,_0x3c3370){typeof _0x583d7e=='string'&&(_0x583d7e={'load':_0x583d7e,'original':_0x583d7e}),xe['getExtensi'+'on'](_0x583d7e['original'])==='.json'&&ot['get'](_0x583d7e['load'],{'retry':this['maxRetries']>-0x1de*-0xf+0xc2f+0x2831*-0x1,'maxRetries':this['maxRetries']},(_0x505d96,_0x146d87)=>{_0x505d96?_0x3c3370(_0x505d96):_0x3c3370(null,_0x146d87);});}['open'](_0x268de0,_0x14cd57){const _0x505a63=new BA(this['_device']);return _0x268de0&&(_0x505a63['__data']=_0x14cd57),_0x505a63;}['patch'](_0x3380f6,_0x31d628){const _0x456c92=_0x3380f6['resource'];if(_0x456c92['__data']&&(_0x3380f6['data']['pixelsPerU'+'nit']=_0x456c92['__data']['pixelsPerU'+'nit'],_0x3380f6['data']['renderMode']=_0x456c92['__data']['renderMode'],_0x3380f6['data']['frameKeys']=_0x456c92['__data']['frameKeys'],_0x456c92['__data']['textureAtl'+'asAsset'])){const _0x1c4389=_0x31d628['getByUrl'](_0x456c92['__data']['textureAtl'+'asAsset']);_0x1c4389?_0x3380f6['data']['textureAtl'+'asAsset']=_0x1c4389['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x456c92['__data']['textureAtl'+'asAsset']);}_0x456c92['startUpdat'+'e'](),_0x456c92['renderMode']=_0x3380f6['data']['renderMode'],_0x456c92['pixelsPerU'+'nit']=_0x3380f6['data']['pixelsPerU'+'nit'],_0x456c92['frameKeys']=_0x3380f6['data']['frameKeys'],this['_updateAtl'+'as'](_0x3380f6),_0x456c92['endUpdate'](),_0x3380f6['off']('change',this['_onAssetCh'+'ange'],this),_0x3380f6['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x5b8c82){const _0x1c83b5=_0x5b8c82['resource'];if(!_0x5b8c82['data']['textureAtl'+'asAsset']){_0x1c83b5['atlas']=null;return;}this['_assets']['off']('load:'+_0x5b8c82['data']['textureAtl'+'asAsset'],Pf,_0x5b8c82),this['_assets']['on']('load:'+_0x5b8c82['data']['textureAtl'+'asAsset'],Pf,_0x5b8c82);const _0x3b05f6=this['_assets']['get'](_0x5b8c82['data']['textureAtl'+'asAsset']);_0x3b05f6&&_0x3b05f6['resource']?_0x1c83b5['atlas']=_0x3b05f6['resource']:_0x3b05f6?this['_assets']['load'](_0x3b05f6):(this['_assets']['off']('add:'+_0x5b8c82['data']['textureAtl'+'asAsset'],Mf,_0x5b8c82),this['_assets']['on']('add:'+_0x5b8c82['data']['textureAtl'+'asAsset'],Mf,_0x5b8c82));}['_onAssetCh'+'ange'](_0x430208,_0x512f68,_0x4bbd38,_0x2b2255){_0x512f68==='data'&&_0x4bbd38&&_0x4bbd38['textureAtl'+'asAsset']&&_0x2b2255&&_0x4bbd38['textureAtl'+'asAsset']!==_0x2b2255['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x2b2255['textureAtl'+'asAsset'],Pf,_0x430208),this['_assets']['off']('add:'+_0x2b2255['textureAtl'+'asAsset'],Mf,_0x430208));}}class vS{constructor(_0x37b4d9,_0x24e24b){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x37b4d9,this['_data']=_0x24e24b);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x2d2cbe=new bm(this['_app'],!(0x1ef0+0x31f*-0x1+-0x1bd1));this['_templateR'+'oot']=_0x2d2cbe['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x4f380d){super(_0x4f380d,'template'),h(this,'decoder',null);}['load'](_0x29e6e4,_0x255295){typeof _0x29e6e4=='string'&&(_0x29e6e4={'load':_0x29e6e4,'original':_0x29e6e4});const _0x4429df={'retry':this['maxRetries']>-0xa1+0xc8a+0xbe9*-0x1,'maxRetries':this['maxRetries']};ot['get'](_0x29e6e4['load'],_0x4429df,(_0x2ea827,_0x39aa90)=>{_0x2ea827?_0x255295('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x29e6e4['original']):_0x255295(_0x2ea827,_0x39aa90);});}['open'](_0x9c5af3,_0x559e46){return new vS(this['_app'],_0x559e46);}['openBinary'](_0x2c34f8){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x2c34f8)));}}class Ok extends Qe{constructor(_0x18ec94){super(_0x18ec94,'text'),h(this,'decoder',null);}['load'](_0x5b6878,_0x646842){typeof _0x5b6878=='string'&&(_0x5b6878={'load':_0x5b6878,'original':_0x5b6878}),ot['get'](_0x5b6878['load'],{'retry':this['maxRetries']>0x1e3b+0x1f99+-0x3dd4,'maxRetries':this['maxRetries']},(_0x1a79e5,_0x178c38)=>{_0x1a79e5?_0x646842('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x5b6878['original']+'\x20['+_0x1a79e5+']'):_0x646842(null,_0x178c38);});}['openBinary'](_0x97ac26){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x97ac26);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x1644f0){super(_0x1644f0,'textureatl'+'as'),this['_loader']=_0x1644f0['loader'];}['load'](_0x380f25,_0x4afc94){typeof _0x380f25=='string'&&(_0x380f25={'load':_0x380f25,'original':_0x380f25});const _0x217179=this,_0x35623f=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x380f25['original'])==='.json'?ot['get'](_0x380f25['load'],{'retry':this['maxRetries']>-0x1*0xb99+-0x24a1*-0x1+0x6*-0x42c,'maxRetries':this['maxRetries']},(_0xe1771f,_0x5af058)=>{if(_0xe1771f)_0x4afc94(_0xe1771f);else{const _0x36bed0=_0x380f25['original']['replace']('.json','.png');_0x217179['_loader']['load'](_0x36bed0,'texture',(_0xc5865,_0x29712a)=>{_0xc5865?_0x4afc94(_0xc5865):_0x4afc94(null,{'data':_0x5af058,'texture':_0x29712a});});}}):_0x35623f['load'](_0x380f25,_0x4afc94);}['open'](_0x23716c,_0x1e1f04,_0x3d7ed4){const _0x53ebc7=new zA();if(_0x1e1f04['texture']&&_0x1e1f04['data'])_0x53ebc7['texture']=_0x1e1f04['texture'],_0x53ebc7['__data']=_0x1e1f04['data'];else{const _0x58b3c6=this['_loader']['getHandler']('texture')['open'](_0x23716c,_0x1e1f04,_0x3d7ed4);if(!_0x58b3c6)return null;_0x53ebc7['texture']=_0x58b3c6;}return _0x53ebc7;}['patch'](_0x22e6e0,_0x3d0f39){if(!_0x22e6e0['resource'])return;_0x22e6e0['resource']['__data']&&(_0x22e6e0['resource']['__data']['minfilter']!==void(0x5*-0x446+-0x1fdb+0x3539)&&(_0x22e6e0['data']['minfilter']=_0x22e6e0['resource']['__data']['minfilter']),_0x22e6e0['resource']['__data']['magfilter']!==void(0x159e*0x1+0x1*-0x1882+0x2e4)&&(_0x22e6e0['data']['magfilter']=_0x22e6e0['resource']['__data']['magfilter']),_0x22e6e0['resource']['__data']['addressu']!==void(-0x1e23+0x1520+-0x1*-0x903)&&(_0x22e6e0['data']['addressu']=_0x22e6e0['resource']['__data']['addressu']),_0x22e6e0['resource']['__data']['addressv']!==void(-0x1aa4+-0x161*-0x1c+-0xbf8)&&(_0x22e6e0['data']['addressv']=_0x22e6e0['resource']['__data']['addressv']),_0x22e6e0['resource']['__data']['mipmaps']!==void(-0x12*0x74+-0x146b*0x1+0x1c93)&&(_0x22e6e0['data']['mipmaps']=_0x22e6e0['resource']['__data']['mipmaps']),_0x22e6e0['resource']['__data']['anisotropy']!==void(0x1*-0x12ef+0x206b+0x2*-0x6be)&&(_0x22e6e0['data']['anisotropy']=_0x22e6e0['resource']['__data']['anisotropy']),_0x22e6e0['resource']['__data']['rgbm']!==void(0x19d*-0x17+0x95*-0xa+0x63*0x6f)&&(_0x22e6e0['data']['rgbm']=!!_0x22e6e0['resource']['__data']['rgbm']),_0x22e6e0['data']['frames']=_0x22e6e0['resource']['__data']['frames'],delete _0x22e6e0['resource']['__data']);const _0x3f208f=_0x22e6e0['resource']['texture'];if(_0x3f208f&&(_0x3f208f['name']=_0x22e6e0['name'],_0x22e6e0['data']['hasOwnProp'+'erty']('minfilter')&&_0x3f208f['minFilter']!==Lc[_0x22e6e0['data']['minfilter']]&&(_0x3f208f['minFilter']=Lc[_0x22e6e0['data']['minfilter']]),_0x22e6e0['data']['hasOwnProp'+'erty']('magfilter')&&_0x3f208f['magFilter']!==Lc[_0x22e6e0['data']['magfilter']]&&(_0x3f208f['magFilter']=Lc[_0x22e6e0['data']['magfilter']]),_0x22e6e0['data']['hasOwnProp'+'erty']('addressu')&&_0x3f208f['addressU']!==Ic[_0x22e6e0['data']['addressu']]&&(_0x3f208f['addressU']=Ic[_0x22e6e0['data']['addressu']]),_0x22e6e0['data']['hasOwnProp'+'erty']('addressv')&&_0x3f208f['addressV']!==Ic[_0x22e6e0['data']['addressv']]&&(_0x3f208f['addressV']=Ic[_0x22e6e0['data']['addressv']]),_0x22e6e0['data']['hasOwnProp'+'erty']('mipmaps')&&_0x3f208f['mipmaps']!==_0x22e6e0['data']['mipmaps']&&(_0x3f208f['mipmaps']=_0x22e6e0['data']['mipmaps']),_0x22e6e0['data']['hasOwnProp'+'erty']('anisotropy')&&_0x3f208f['anisotropy']!==_0x22e6e0['data']['anisotropy']&&(_0x3f208f['anisotropy']=_0x22e6e0['data']['anisotropy']),_0x22e6e0['data']['hasOwnProp'+'erty']('rgbm'))){const _0x547f3f=_0x22e6e0['data']['rgbm']?Zi:Ds;_0x3f208f['type']!==_0x547f3f&&(_0x3f208f['type']=_0x547f3f);}_0x22e6e0['resource']['texture']=_0x3f208f;const _0x3e9bb3={};for(const _0x212f22 in _0x22e6e0['data']['frames']){const _0x3e89ab=_0x22e6e0['data']['frames'][_0x212f22];_0x3e9bb3[_0x212f22]={'rect':new re(_0x3e89ab['rect']),'pivot':new J(_0x3e89ab['pivot']),'border':new re(_0x3e89ab['border'])};}_0x22e6e0['resource']['frames']=_0x3e9bb3,_0x22e6e0['off']('change',this['_onAssetCh'+'ange'],this),_0x22e6e0['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4151e5,_0x4e55e9,_0x213967){let _0xeab1d4;if(_0x4e55e9==='data'||_0x4e55e9==='data.frame'+'s'){const _0x15755b={};for(const _0x55ec1c in _0x213967['frames'])_0xeab1d4=_0x213967['frames'][_0x55ec1c],_0x15755b[_0x55ec1c]={'rect':new re(_0xeab1d4['rect']),'pivot':new J(_0xeab1d4['pivot']),'border':new re(_0xeab1d4['border'])};_0x4151e5['resource']['frames']=_0x15755b;}else{const _0x2f0f6a=_0x4e55e9['match'](Fk);if(_0x2f0f6a){const _0x4bf3ad=_0x2f0f6a[0x14c0+-0x1805*0x1+0x346];_0x213967?(_0x4151e5['resource']['frames'][_0x4bf3ad]?(_0xeab1d4=_0x4151e5['resource']['frames'][_0x4bf3ad],_0xeab1d4['rect']['set'](_0x213967['rect'][-0x138e*-0x1+0xc7a+-0x2008],_0x213967['rect'][-0x14c7+-0x3*-0x935+-0x6d7*0x1],_0x213967['rect'][0x4*0x422+0xf79+-0x1fff],_0x213967['rect'][0x67f*0x2+-0x106a+0x125*0x3]),_0xeab1d4['pivot']['set'](_0x213967['pivot'][-0x21c6+-0x1*0x20e3+0x42a9],_0x213967['pivot'][-0xd96+-0x6f*-0x17+0x39e]),_0xeab1d4['border']['set'](_0x213967['border'][-0x53b*-0x7+-0x1101+-0x4*0x4e7],_0x213967['border'][-0x1fef+0x158c+-0x13*-0x8c],_0x213967['border'][0x1f85*0x1+-0x241*-0x1+-0x21c4],_0x213967['border'][-0x2d6*-0x8+-0x2*-0x5ea+0xb*-0x323])):_0x4151e5['resource']['frames'][_0x4bf3ad]={'rect':new re(_0x213967['rect']),'pivot':new J(_0x213967['pivot']),'border':new re(_0x213967['border'])},_0x4151e5['resource']['fire']('set:frame',_0x4bf3ad,_0x4151e5['resource']['frames'][_0x4bf3ad])):_0x4151e5['resource']['frames'][_0x4bf3ad]&&(delete _0x4151e5['resource']['frames'][_0x4bf3ad],_0x4151e5['resource']['fire']('remove:fra'+'me',_0x4bf3ad));}}}}function kk(){const _0x3f4f28={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x24b8bf={'astc':_0x3f4f28['cTFASTC_4x'+'4'],'dxt':_0x3f4f28['cTFBC1'],'etc1':_0x3f4f28['cTFETC1'],'etc2':_0x3f4f28['cTFETC1'],'pvr':_0x3f4f28['cTFPVRTC1_'+'4_RGB'],'atc':_0x3f4f28['cTFATC_RGB'],'none':_0x3f4f28['cTFRGB565']},_0x3604be={'astc':_0x3f4f28['cTFASTC_4x'+'4'],'dxt':_0x3f4f28['cTFBC3'],'etc1':_0x3f4f28['cTFRGBA444'+'4'],'etc2':_0x3f4f28['cTFETC2'],'pvr':_0x3f4f28['cTFPVRTC1_'+'4_RGBA'],'atc':_0x3f4f28['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x3f4f28['cTFRGBA444'+'4']},_0x2d3337={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x50fbd4=(_0x48f375,_0xeb1d7e)=>{switch(_0x48f375){case _0x3f4f28['cTFETC1']:return _0xeb1d7e['formats']['etc2']?_0x2d3337['ETC2_RGB']:_0x2d3337['ETC1'];case _0x3f4f28['cTFETC2']:return _0x2d3337['ETC2_RGBA'];case _0x3f4f28['cTFBC1']:return _0x2d3337['DXT1'];case _0x3f4f28['cTFBC3']:return _0x2d3337['DXT5'];case _0x3f4f28['cTFPVRTC1_'+'4_RGB']:return _0x2d3337['PVRTC_4BPP'+'_RGB_1'];case _0x3f4f28['cTFPVRTC1_'+'4_RGBA']:return _0x2d3337['PVRTC_4BPP'+'_RGBA_1'];case _0x3f4f28['cTFASTC_4x'+'4']:return _0x2d3337['ASTC_4x4'];case _0x3f4f28['cTFATC_RGB']:return _0x2d3337['ATC_RGB'];case _0x3f4f28['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x2d3337['ATC_RGBA'];case _0x3f4f28['cTFRGBA32']:return _0x2d3337['R8_G8_B8_A'+'8'];case _0x3f4f28['cTFRGB565']:return _0x2d3337['R5_G6_B5'];case _0x3f4f28['cTFRGBA444'+'4']:return _0x2d3337['R4_G4_B4_A'+'4'];}},_0x72417b=_0x1d609c=>{const _0x572a57=function(_0x7ca2a7,_0x5a0d77){const _0x379286=_0x7ca2a7*(-0x17d8+0x6ad*0x1+0x112b+0.00784313725490196)-(-0x16d+0x7*0x235+-0x61*0x25),_0x51c35f=_0x5a0d77*((0x6a*0x55+-0xffb*-0x2+-0x2d*0x17e)/(-0x13ea+0x1db3+-0x8ca))-(-0x3*0x6ad+-0x7f7*-0x1+0x1*0xc11),_0x1a5df6=Math['sqrt'](-0x21*0xd1+-0x20b2+0x2*0x1dd2-Math['min'](-0x4c*-0x6b+-0x3*0x8f4+-0x4e7,_0x379286*_0x379286+_0x51c35f*_0x51c35f));return Math['max'](-0x9bc+0x233*-0xe+0x2886,Math['min'](-0xb*-0x11f+0x3f*0x37+-0x1*0x18df,Math['floor']((_0x1a5df6+(-0xebf+0x9bb+0x505))*(0x5f*0x13+-0x1*0x1417+0xd0a+0.5)*(-0x397*-0x1+-0x1*-0x14b7+-0x174f))));};for(let _0x36863f=-0x116*-0x15+-0x470*-0x4+-0x288e;_0x36863f<_0x1d609c['length'];_0x36863f+=0x18e6*0x1+-0x21fc+0x91a){const _0x2a5889=_0x1d609c[_0x36863f+(0xcf*-0xf+0x19*-0x13+0x1*0xdff)],_0x5a29ed=_0x1d609c[_0x36863f+(-0x1d0f*-0x1+0x595+-0x22a3)];_0x1d609c[_0x36863f+(0x12ca+0x7*0x447+-0x1f3*0x19)]=_0x2a5889,_0x1d609c[_0x36863f+(0x1eaf*-0x1+-0x1d*0x3d+0x259a)]=_0x572a57(_0x2a5889,_0x5a29ed),_0x1d609c[_0x36863f+(-0x1d8*0x8+-0x431+-0x1*-0x12f4)]=-0x2029*0x1+0xe9f+-0x1289*-0x1;}return _0x1d609c;},_0x259704=_0x3f377d=>{const _0x55064f=new Uint16Array(_0x3f377d['length']/(0x4d3*-0x4+-0x2621+-0x11*-0x361));for(let _0x37ed0b=0x16*0xa+0x1*-0xc51+0xb75*0x1;_0x37ed0b<_0x3f377d['length'];_0x37ed0b+=-0x1493*0x1+0x3*0x5d5+0x318){const _0x54b0fe=_0x3f377d[_0x37ed0b+(-0x1241*0x1+-0x25bb+0x2*0x1bfe)],_0x206c9f=_0x3f377d[_0x37ed0b+(-0x1*0x119b+-0x829+0x19c5)],_0x4d957b=_0x3f377d[_0x37ed0b+(-0x17f6+0x161b+-0x35*-0x9)];_0x55064f[_0x37ed0b/(0x75a*0x1+-0x2*0x335+0x2*-0x76)]=(_0x54b0fe&0x33b+0x1c05+-0x286*0xc)<<0x1d23*-0x1+0x655*-0x3+0x302a|(_0x206c9f&0x1f*0x117+-0x24ab+0x3de)<<-0x142+0x13*0xcd+-0xdf2|_0x4d957b>>-0x224*0x1+0x1cba+-0x1a93;}return _0x55064f;},_0x5e9447=(_0x133224,_0x1cd059)=>(_0x133224&_0x133224-(-0x18*0x128+-0x89*-0x3a+-0x349*0x1))===0x1*0x14ae+-0x26e6+0x2c*0x6a&&(_0x1cd059&_0x1cd059-(0xbaa+0xae5+-0x168e))===-0xcd3*0x3+-0x1*0xf43+-0x13*-0x2d4,_0xb00f6c=()=>typeof performance<'u'?performance['now']():0xddc+0x1bd*-0x2+-0xa62;let _0x2831cd,_0x39a2ff,_0x1ccf6d;const _0x26d8b2=(_0xba390f,_0x5c3505,_0x4dd0dc)=>{if(_0x4dd0dc){if(_0xba390f['formats']['astc'])return'astc';}else{if(_0x5c3505){if(_0xba390f['formats']['etc2'])return'etc2';}else{if(_0xba390f['formats']['etc2'])return'etc2';if(_0xba390f['formats']['etc1'])return'etc1';}}return(_0x5b1d28=>{for(let _0x1d650=-0x16db*-0x1+-0x4*-0x504+-0x2aeb;_0x1d650<_0x5b1d28['length'];++_0x1d650){const _0x4f1072=_0x5b1d28[_0x1d650];if(_0xba390f['formats'][_0x4f1072])return _0x4f1072;}return'none';})(_0x5c3505?_0x1ccf6d:_0x39a2ff);},_0x42fc99=(_0x26e16d,_0x3717b5,_0x3cb827)=>{switch(_0x3cb827){case _0x3f4f28['cTFETC1']:case _0x3f4f28['cTFETC2']:return!(0xce*0x2+0xfce+-0x116a);case _0x3f4f28['cTFBC1']:case _0x3f4f28['cTFBC3']:return(_0x26e16d&0x22c7+0x97*0x2+-0x23f2)===-0xbeb*0x2+-0x2677+0x3e4d&&(_0x3717b5&0x1*-0xdef+0x2*0xdee+-0xdea)===0x1885*0x1+0x1b*-0x53+-0x3f1*0x4;case _0x3f4f28['cTFPVRTC1_'+'4_RGB']:case _0x3f4f28['cTFPVRTC1_'+'4_RGBA']:return _0x5e9447(_0x26e16d,_0x3717b5);case _0x3f4f28['cTFASTC_4x'+'4']:return!(-0x1ae3+-0x2cf+0x1db2);case _0x3f4f28['cTFATC_RGB']:case _0x3f4f28['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x6d*-0xd+-0x3b*-0x37+0x12*-0x103);}return!(-0x60e+0x1*-0x177+-0xd6*-0x9);},_0x400211=(_0xf5600a,_0x887747,_0x3bd8b7)=>{if(!_0x2831cd['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x5ac38d=_0xb00f6c(),_0x55658c=new _0x2831cd['KTX2File'](new Uint8Array(_0x887747)),_0x1c3b4e=_0x55658c['getWidth'](),_0x2897f1=_0x55658c['getHeight'](),_0x303fce=_0x55658c['getLevels'](),_0x373d69=!!_0x55658c['getHasAlph'+'a'](),_0x255074=_0x55658c['isUASTC']&&_0x55658c['isUASTC']();if(!_0x1c3b4e||!_0x2897f1||!_0x303fce)throw _0x55658c['close'](),_0x55658c['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xf5600a+'\x20width='+_0x1c3b4e+'\x20height='+_0x2897f1+'\x20levels='+_0x303fce);const _0x5aa91f=_0x26d8b2(_0x3bd8b7['deviceDeta'+'ils'],_0x373d69,_0x255074),_0x547dad=!!_0x3bd8b7['isGGGR']&&_0x5aa91f==='pvr';let _0x4312b4;if(_0x547dad?_0x4312b4=_0x3f4f28['cTFRGBA32']:(_0x4312b4=_0x373d69?_0x3604be[_0x5aa91f]:_0x24b8bf[_0x5aa91f],_0x42fc99(_0x1c3b4e,_0x2897f1,_0x4312b4)||(_0x4312b4=_0x373d69?_0x3f4f28['cTFRGBA32']:_0x3f4f28['cTFRGB565'])),!_0x55658c['startTrans'+'coding']())throw _0x55658c['close'](),_0x55658c['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xf5600a);let _0x2898c6;const _0x182573=[];for(let _0x1ff61c=-0xd*-0xd7+-0x2345*-0x1+0x1*-0x2e30;_0x1ff61c<_0x303fce;++_0x1ff61c){const _0x1ce238=_0x55658c['getImageTr'+'anscodedSi'+'zeInBytes'](_0x1ff61c,0xfa1+-0x13b9*0x1+0x418*0x1,0x1*-0x1445+0x3ec+0x87*0x1f,_0x4312b4),_0x8921b5=new Uint8Array(_0x1ce238);if(!_0x55658c['transcodeI'+'mage'](_0x8921b5,_0x1ff61c,-0x4e+0x335+-0x2e7,0x79d+0x22ad+-0x2a4a,_0x4312b4,-0x1675+0x1b2*0x8+0x8e5,-(0x7*0x413+-0xf03+0x1*-0xd81),-(-0x10dc+0x264d+0x62*-0x38)))throw _0x55658c['close'](),_0x55658c['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xf5600a);const _0x19dbd=_0x4312b4===_0x3f4f28['cTFRGB565']||_0x4312b4===_0x3f4f28['cTFRGBA444'+'4'];_0x182573['push'](_0x19dbd?new Uint16Array(_0x8921b5['buffer']):_0x8921b5);}if(_0x55658c['close'](),_0x55658c['delete'](),_0x547dad){for(_0x4312b4=_0x3f4f28['cTFRGB565'],_0x2898c6=0x2*-0x144+-0x2559+0x27e1;_0x2898c6<_0x182573['length'];++_0x2898c6)_0x182573[_0x2898c6]=_0x259704(_0x72417b(_0x182573[_0x2898c6]));}return{'format':_0x50fbd4(_0x4312b4,_0x3bd8b7['deviceDeta'+'ils']),'width':_0x1c3b4e,'height':_0x2897f1,'levels':_0x182573,'cubemap':!(-0x2a*-0x5d+-0x212f+0x11ee),'transcodeTime':_0xb00f6c()-_0x5ac38d,'url':_0xf5600a,'unswizzledGGGR':_0x547dad};},_0xe03cbc=(_0xbaaf4c,_0x380075,_0x5207ca)=>{const _0x2693c7=_0xb00f6c(),_0x2a2e4f=new _0x2831cd['BasisFile'](new Uint8Array(_0x380075)),_0x1073e9=_0x2a2e4f['getImageWi'+'dth'](-0x5b0+-0x144a+0x19fa,-0x7*-0xfb+-0x1627+0xf4a),_0x40d576=_0x2a2e4f['getImageHe'+'ight'](0x646+0x388*0x4+-0x1466,0x21dc+-0x25*-0x4+-0x2270),_0x15c222=_0x2a2e4f['getNumImag'+'es'](),_0x29a33d=_0x2a2e4f['getNumLeve'+'ls'](-0x1f9e+0x5c+0x1f42),_0x1d6498=!!_0x2a2e4f['getHasAlph'+'a'](),_0x2fda6a=_0x2a2e4f['isUASTC']&&_0x2a2e4f['isUASTC']();if(!_0x1073e9||!_0x40d576||!_0x15c222||!_0x29a33d)throw _0x2a2e4f['close'](),_0x2a2e4f['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xbaaf4c+'\x20width='+_0x1073e9+'\x20height='+_0x40d576+'\x20images='+_0x15c222+'\x20levels='+_0x29a33d);const _0x220217=_0x26d8b2(_0x5207ca['deviceDeta'+'ils'],_0x1d6498,_0x2fda6a),_0x2090b9=!!_0x5207ca['isGGGR']&&_0x220217==='pvr';let _0x2c2b27;if(_0x2090b9?_0x2c2b27=_0x3f4f28['cTFRGBA32']:(_0x2c2b27=_0x1d6498?_0x3604be[_0x220217]:_0x24b8bf[_0x220217],_0x42fc99(_0x1073e9,_0x40d576,_0x2c2b27)||(_0x2c2b27=_0x1d6498?_0x3f4f28['cTFRGBA32']:_0x3f4f28['cTFRGB565'])),!_0x2a2e4f['startTrans'+'coding']())throw _0x2a2e4f['close'](),_0x2a2e4f['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xbaaf4c);let _0x299381;const _0x2acbdf=[];for(let _0x1d425b=-0x977*-0x4+-0x4ee+-0x1e*0x119;_0x1d425b<_0x29a33d;++_0x1d425b){const _0x15c8b7=_0x2a2e4f['getImageTr'+'anscodedSi'+'zeInBytes'](0x33*0x33+0x1*-0x827+0x2*-0x101,_0x1d425b,_0x2c2b27),_0x306e5c=new Uint8Array(_0x15c8b7);if(!_0x2a2e4f['transcodeI'+'mage'](_0x306e5c,0x1*0x1e4d+0x20*-0xc8+-0x54d,_0x1d425b,_0x2c2b27,-0x4*0x71f+0x125e+0xa1e,-0x8c9+-0x23f+0xb08)){if(_0x1d425b===_0x29a33d-(-0x923*-0x1+0x4a3*0x5+-0x2051)&&_0x15c8b7===_0x2acbdf[_0x1d425b-(-0x2ab*-0xd+0x1*-0xec1+-0x13ed*0x1)]['buffer']['byteLength'])_0x306e5c['set'](new Uint8Array(_0x2acbdf[_0x1d425b-(-0x1*-0x2261+0x16fb+-0x395b*0x1)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0xbaaf4c);else throw _0x2a2e4f['close'](),_0x2a2e4f['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xbaaf4c);}const _0x169728=_0x2c2b27===_0x3f4f28['cTFRGB565']||_0x2c2b27===_0x3f4f28['cTFRGBA444'+'4'];_0x2acbdf['push'](_0x169728?new Uint16Array(_0x306e5c['buffer']):_0x306e5c);}if(_0x2a2e4f['close'](),_0x2a2e4f['delete'](),_0x2090b9){for(_0x2c2b27=_0x3f4f28['cTFRGB565'],_0x299381=0x309+-0x242f*-0x1+-0x2738;_0x299381<_0x2acbdf['length'];++_0x299381)_0x2acbdf[_0x299381]=_0x259704(_0x72417b(_0x2acbdf[_0x299381]));}return{'format':_0x50fbd4(_0x2c2b27,_0x5207ca['deviceDeta'+'ils']),'width':_0x1073e9,'height':_0x40d576,'levels':_0x2acbdf,'cubemap':!(0x24d7+0xd25*-0x1+-0x17b1),'transcodeTime':_0xb00f6c()-_0x2693c7,'url':_0xbaaf4c,'unswizzledGGGR':_0x2090b9};},_0x2c0c08=(_0x48a3bf,_0x2c33b0,_0x7321e9)=>_0x7321e9['isKTX2']?_0x400211(_0x48a3bf,_0x2c33b0,_0x7321e9):_0xe03cbc(_0x48a3bf,_0x2c33b0,_0x7321e9),_0x4fb2fa=(_0x16dcd9,_0x470d5e,_0x1bacd4)=>{try{const _0x398054=_0x2c0c08(_0x16dcd9,_0x470d5e,_0x1bacd4);_0x398054['levels']=_0x398054['levels']['map'](_0x556131=>_0x556131['buffer']),self['postMessag'+'e']({'url':_0x16dcd9,'data':_0x398054},_0x398054['levels']);}catch(_0x3a2c86){self['postMessag'+'e']({'url':_0x16dcd9,'err':_0x3a2c86},null);}},_0x5d2a5b=(_0x3ba072,_0x4dfb71)=>{const _0xae02eb=(_0x18baac,_0x312f4e)=>(WebAssembly['instantiat'+'e'](_0x3ba072['module'],_0x18baac)['then'](_0x549a64=>{_0x312f4e(_0x549a64);})['catch'](_0x2c3956=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2c3956);}),{});self['BASIS'](_0x3ba072['module']?{'instantiateWasm':_0xae02eb}:null)['then'](_0x2a606a=>{_0x2a606a['initialize'+'Basis'](),_0x2831cd=_0x2a606a,_0x39a2ff=_0x3ba072['rgbPriorit'+'y'],_0x1ccf6d=_0x3ba072['rgbaPriori'+'ty'],_0x4dfb71(null);});},_0x54518e=[];self['onmessage']=_0x17ce16=>{const _0x1d54e3=_0x17ce16['data'];switch(_0x1d54e3['type']){case'init':_0x5d2a5b(_0x1d54e3['config'],()=>{for(let _0x3f224f=-0x2644+-0xe*-0x27+0x2422;_0x3f224f<_0x54518e['length'];++_0x3f224f)_0x4fb2fa(_0x54518e[_0x3f224f]['url'],_0x54518e[_0x3f224f]['data'],_0x54518e[_0x3f224f]['options']);_0x54518e['length']=-0x1af8+-0x22a9+0x6d9*0x9;});break;case'transcode':_0x2831cd?_0x4fb2fa(_0x1d54e3['url'],_0x1d54e3['data'],_0x1d54e3['options']):_0x54518e['push'](_0x1d54e3);break;}};}const Uk=_0x18428b=>({'astc':!!_0x18428b['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x18428b['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x18428b['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x18428b['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x18428b['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x18428b['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x36ec6b,_0x4fb623)=>{const _0x4c7065=_0x575eea=>{const _0x5cdf10=['/*\x20basis\x20*'+'/',_0x575eea,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x5cdf10],{'type':'applicatio'+'n/javascri'+'pt'});},_0x24635b=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xcd36ec=new WebAssembly['Module'](Uint8Array['of'](0x56*-0x40+-0x13ff+0x297f,-0x7af+-0x742*-0x5+-0xe1d*0x2,-0x5bb+-0x32c*0xb+-0x2*-0x1489,-0x3*-0x9af+-0x49*0x14+0x5bb*-0x4,0x7ed+-0x4df+0xb*-0x47,0x13d3+-0x2626*-0x1+-0x39f9,0xb*-0x18b+-0x141*-0x1+0xfb8,-0x1*0x14c5+0x1313+0x1b2));if(_0xcd36ec instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xcd36ec)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1*-0x1b91+-0x1fa*0x11+-0x60a*-0x1);},_0xacba4d=(_0x307235,_0x2f4d3e)=>{_0x4fb623(null,{'workerUrl':URL['createObje'+'ctURL'](_0x4c7065(_0x307235)),'module':_0x2f4d3e,'rgbPriority':_0x36ec6b['rgbPriorit'+'y'],'rgbaPriority':_0x36ec6b['rgbaPriori'+'ty']});},_0x4fb505={'cache':!(-0x61c+0x10*-0xaf+0x110c),'responseType':'text','retry':_0x36ec6b['maxRetries']>-0x78b*0x1+0xa*-0x204+0x1bb3,'maxRetries':_0x36ec6b['maxRetries']};if(_0x36ec6b['glueUrl']&&_0x36ec6b['wasmUrl']&&_0x24635b()){let _0xe0a91e=null,_0x4e1763=null;ot['get'](_0x36ec6b['glueUrl'],_0x4fb505,(_0xb9e883,_0x5d584e)=>{_0xb9e883?_0x4fb623(_0xb9e883):_0x4e1763?_0xacba4d(_0x5d584e,_0x4e1763):_0xe0a91e=_0x5d584e;});const _0x5566c0=fetch(_0x36ec6b['wasmUrl']),_0x23385b=()=>{_0x5566c0['then'](_0x5e56a8=>_0x5e56a8['arrayBuffe'+'r']())['then'](_0x4b02d5=>WebAssembly['compile'](_0x4b02d5))['then'](_0xa3649d=>{_0xe0a91e?_0xacba4d(_0xe0a91e,_0xa3649d):_0x4e1763=_0xa3649d;})['catch'](_0x5e9ea0=>{_0x4fb623(_0x5e9ea0,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5566c0)['then'](_0x617320=>{_0xe0a91e?_0xacba4d(_0xe0a91e,_0x617320):_0x4e1763=_0x617320;})['catch'](_0x1b6440=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x36ec6b['wasmUrl']+'\x20('+_0x1b6440+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x23385b();}):_0x23385b();}else ot['get'](_0x36ec6b['fallbackUr'+'l'],_0x4fb505,(_0x18a4f9,_0x3d734a)=>{_0x18a4f9?_0x4fb623(_0x18a4f9,null):_0xacba4d(_0x3d734a,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x201ea2,_0x535a00,_0x504f6f,_0x78d577){if(this['callbacks']['hasOwnProp'+'erty'](_0x201ea2))this['callbacks'][_0x201ea2]['push'](_0x504f6f);else{this['callbacks'][_0x201ea2]=[_0x504f6f];const _0x46c8b3={'url':_0x201ea2,'data':_0x535a00,'options':_0x78d577};this['clients']['length']>-0x9*-0x147+0x122e+-0x6b*0x47?this['clients']['shift']()['run'](_0x46c8b3):this['queue']['push'](_0x46c8b3);}}['enqueueCli'+'ent'](_0x12db0b){this['queue']['length']>0x30*-0x5+-0x1358+-0x1448*-0x1?_0x12db0b['run'](this['queue']['shift']()):this['clients']['push'](_0x12db0b);}['handleResp'+'onse'](_0x5bd40a,_0x524661,_0x1e92aa){const _0x43cc41=this['callbacks'][_0x5bd40a];if(_0x524661){for(let _0xdcd204=0x1f69+0x3*0x6e2+-0x340f;_0xdcd204<_0x43cc41['length'];++_0xdcd204)_0x43cc41[_0xdcd204](_0x524661);}else{_0x1e92aa['format']===Jh||_0x1e92aa['format']===ed?_0x1e92aa['levels']=_0x1e92aa['levels']['map'](_0x575d15=>new Uint16Array(_0x575d15)):_0x1e92aa['levels']=_0x1e92aa['levels']['map'](_0x46a1a8=>new Uint8Array(_0x46a1a8));for(let _0xa910a8=-0x2287+0x5*0x7bb+-0x420;_0xa910a8<_0x43cc41['length'];++_0xa910a8)_0x43cc41[_0xa910a8](null,_0x1e92aa);}delete this['callbacks'][_0x5bd40a];}}class Vk{constructor(_0x2a4591,_0x3e15f3,_0x20ff46){this['queue']=_0x2a4591,this['worker']=new Worker(_0x3e15f3['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x309c44=>{const _0x14c141=_0x309c44['data'];this['queue']['handleResp'+'onse'](_0x14c141['url'],_0x14c141['err'],_0x14c141['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x3e15f3}),this['eager']=_0x20ff46;}['run'](_0x458e9e){const _0x3a0551=[];_0x458e9e['data']instanceof ArrayBuffer&&_0x3a0551['push'](_0x458e9e['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x458e9e['url'],'format':_0x458e9e['format'],'data':_0x458e9e['data'],'options':_0x458e9e['options']},_0x3a0551),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=-0x4a2*-0x1+0x1870+-0x427*0x7,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0x1bfc+-0x1a69*-0x1+0x198,Xu=new zk();let xS=null,qu=!(-0x1*0xc0e+-0x1*0x1aeb+-0xcfe*-0x3);function Xk(_0x15bda8){if(!qu){if(!_0x15bda8)_0x15bda8=xS||{};else{if(_0x15bda8['lazyInit']){xS=_0x15bda8;return;}}if(!_0x15bda8['glueUrl']||!_0x15bda8['wasmUrl']||!_0x15bda8['fallbackUr'+'l']){const _0x3c5f1a=YS['getConfig']('BASIS');_0x3c5f1a&&(_0x15bda8={'glueUrl':_0x3c5f1a['glueUrl'],'wasmUrl':_0x3c5f1a['wasmUrl'],'fallbackUrl':_0x3c5f1a['fallbackUr'+'l'],'numWorkers':_0x3c5f1a['numWorkers']});}if(_0x15bda8['glueUrl']||_0x15bda8['wasmUrl']||_0x15bda8['fallbackUr'+'l']){qu=!(0x1*-0x2453+0x4aa+0x1fa9);const _0xf3d869=Math['max'](0xbd7*0x2+0x2652+0x3dff*-0x1,Math['min'](-0x1717+-0xb*-0x14b+-0x477*-0x2,_0x15bda8['numWorkers']||Gk)),_0x58fa89=_0x15bda8['numWorkers']===-0x1f9d*0x1+0x1*-0x716+0x9ad*0x4||(_0x15bda8['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x15bda8['eagerWorke'+'rs']:!(-0x1315*-0x1+-0x1e41+0xb2c));_0x15bda8['rgbPriorit'+'y']=_0x15bda8['rgbPriorit'+'y']||Hk,_0x15bda8['rgbaPriori'+'ty']=_0x15bda8['rgbaPriori'+'ty']||Wk,_0x15bda8['maxRetries']=_0x15bda8['hasOwnProp'+'erty']('maxRetries')?_0x15bda8['maxRetries']:$k,Bk(_0x15bda8,(_0x117e8b,_0x246f78)=>{if(_0x117e8b)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x117e8b);else{for(let _0x1c1bb0=0x3f*-0x15+-0xa9d+0xa*0x194;_0x1c1bb0<_0xf3d869;++_0x1c1bb0)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x246f78,_0x58fa89));}});}}}let Df=null;function b0(_0x18d287,_0x396968,_0x577cd0,_0x190112,_0x13d489){return Xk(),Df||(Df={'formats':Uk(_0x18d287)}),Xu['enqueueJob'](_0x396968,_0x577cd0,_0x190112,{'deviceDetails':Df,'isGGGR':!!(_0x13d489!=null&&_0x13d489['isGGGR']),'isKTX2':!!(_0x13d489!=null&&_0x13d489['isKTX2'])}),qu;}class eo{['load'](_0x41506c,_0x5bb1d0,_0xa39888){throw new Error('not\x20implem'+'ented');}['open'](_0x4a232f,_0x57edd5,_0x2d0294){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x3fe358,_0x33bdf4){super(),this['device']=_0x33bdf4,this['maxRetries']=-0x25d3+-0x545*-0x3+-0x4*-0x581;}['load'](_0x388b8b,_0x208cce,_0x2dd0b4){const _0x30d8d1=this['device'],_0x329e42=_0x12c57c=>{var _0x394bc2,_0x31dd42,_0x516bc2;b0(_0x30d8d1,_0x388b8b['load'],_0x12c57c,_0x208cce,{'isGGGR':(((_0x516bc2=(_0x31dd42=(_0x394bc2=_0x2dd0b4==null?void(-0x1*-0x5c3+-0x1f0a+0x9*0x2cf):_0x2dd0b4['file'])==null?void(-0xa7*0x29+0x2499+-0x2*0x4ed):_0x394bc2['variants'])==null?void(0x20f*-0x7+-0x93*0x1+0xefc):_0x31dd42['basis'])==null?void(0x720*0x1+0x7f*0x31+-0x26b*0xd):_0x516bc2['opt'])&0x1*-0x29+0xcc8*0x1+-0x1*0xc97)!==-0x2044+-0x12fc+0x3340})||_0x208cce('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2dd0b4['name']+']('+_0x2dd0b4['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x388b8b['load'],(_0x247a96,_0x13559b)=>{_0x247a96?_0x208cce(_0x247a96):_0x329e42(_0x13559b);},_0x2dd0b4,this['maxRetries']);}['open'](_0x572e99,_0x59daac,_0x764516,_0x9db0ba={}){const _0x165ebf=_0x9db0ba['srgb']?ld(_0x59daac['format']):_0x59daac['format'],_0x49ed71=new _e(_0x764516,{'name':_0x572e99,'profilerHint':Pr,'addressU':_0x59daac['cubemap']?ue:yt,'addressV':_0x59daac['cubemap']?ue:yt,'width':_0x59daac['width'],'height':_0x59daac['height'],'format':_0x165ebf,'cubemap':_0x59daac['cubemap'],'levels':_0x59daac['levels'],..._0x9db0ba});return _0x49ed71['upload'](),_0x49ed71;}}const A0=new Uint8Array([-0xa19+0x17b*0xb+-0x5a7,-0x142f+-0x2014+0x3493,-0xc8e+-0x25a8+-0x3d*-0xd4,-0x1*-0x7f0+0x13e2+-0x1b8b,0x1*0x1ca3+0x1469+-0x30ff,0x2313+-0xad4+-0x1835,0x1bc7+-0x1*-0x86d+-0x1*0x241a,0x1*0x4dd+0x2cf*-0x3+-0x1*-0x39a,-0x1bf7+0x75b+0x4*0x527,0xc43+-0xcfe+-0xbb*-0x1,0x1*0x1fed+0x1faf*-0x1+-0x3e,0x1231*-0x2+0x209f+0x1e8*0x2,-0x1*-0x9ce+0x1d*-0x14b+0x1bfa,-0x3*-0xbc4+0x2c5*-0xc+0x6*-0x4c,-0x2*-0x11c5+0x1*-0x172a+-0xc1c,0x5*0x81+0x61*-0x65+0x2412,-0x11a3+-0xdeb*-0x2+-0xa33,-0x3*-0x38f+-0x8f5+-0x1b8,-0x210c+0x3d1*0x1+0x1d3b,-0x183*0x13+-0x217d+-0x3*-0x14bd,-0x1537+0x79c+0xd9b,-0x1*-0x19a5+-0x9c*0x12+0xd*-0x121,-0x252e+0x1*0x23d3+0x15b,0x247d+0xce1+-0x315d,0x1888+-0x12e4+-0x59c,0x13f3*0x1+0xb7f+-0x1f6c,0x220+-0xdf2+0xbd2,0x235d+0x2d3+-0x2630,0x17b4+0x7*0x1fd+-0x259f*0x1,-0x19f8+-0xd47+0x275e*0x1,0x1e0f*0x1+0x133*0x1f+0x1*-0x4327,-0x1410+-0x18cd+0x1*0x2da1,0x7*0x211+-0x99f+-0x44f,-0x1c93+0x591*0x6+-0x4d3,0x4d*-0x17+0x13*-0x1f7+-0xc*-0x3b0,0x686+0x1528+-0x1bae,0x3*0x35+0x1a5*0x17+0x1*-0x2665,0x56*-0xb+0x310+0xeb,0x10*0x1cf+0x1*0x6a5+-0x1*0x2351,0x49*-0x1f+-0x6*-0x2+-0x1*-0x90c,0x107b+-0x1*-0x1ac9+-0x2af0,0x7*0x149+-0xcc9*0x1+0x5*0xda,-0xe8*0x2+0x1a84+-0x17da,0x96b+-0x602*0x4+0x10*0xf0,0x1*-0x981+0x14af+-0xaca,-0x1*-0x21db+0x19a8+-0xf*0x3f1,-0x1b5*0x11+-0xce*0x10+0x2a47,-0x20a9+-0x26e*-0xb+0x6a5,0x3*0xc55+0x185*-0x14+-0x694,0x1*0xeed+0x1580+-0x246d,0x2602*0x1+0x13dd+-0x39df*0x1,0xf4f+0x4c*0x67+-0x2d8a,0x1b83*0x1+-0x9d8+-0x11ab,0x1*-0x1f1f+-0x650+0x25b6,0x2347+-0x370*-0x1+0x1*-0x2674,0x1286*0x1+0x43*0x47+-0xc32*0x3,0x75*0x35+-0x28b*0x6+-0x863,-0x719+0x1c11+-0x140b,-0x4b1+-0x1259+0x170a,-0x4*0xc6+0x1482+0x8b5*-0x2,-0x1d0a+0x1f1d+-0x213,-0x855+-0x23bb+0x2c10,0xd4c*-0x2+0x1629+-0x4*-0x12e,0x1*-0x2014+-0x1*0x52e+0x2587*0x1,0x233+0x2*-0x312+0x43f*0x1,0x2175+-0x1c02+-0x1*0x52f,0x5c*-0x47+-0x3*-0xa07+-0x3e3,-0x1a41+0x14b+0x1938,0x1a6a+0x96*0xd+-0x21a8,0x6f*0x51+-0x1b6b+-0x732]),C0=(_0x1c87af,_0x45de99)=>{const _0x2c571e=new _e(_0x1c87af,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0xd4b+0x2*-0x3cb+0xa*-0x92),'levels':[_0x45de99]}),_0x488e9a=new gt({'colorBuffer':_0x2c571e,'depth':!(0x260e+-0x95*0x14+-0x1a69)});_0x1c87af['setFramebu'+'ffer'](_0x488e9a['impl']['_glFrameBu'+'ffer']),_0x1c87af['initRender'+'Target'](_0x488e9a);const _0x1fe01b=new Uint8ClampedArray(-0x2*-0x275+-0x535+0x1*0x4f);return _0x1c87af['gl']['readPixels'](-0x6c6+-0x4*-0x661+-0x12be,-0x5dc+0x6*0xb6+0x198,0x1ad4*0x1+-0xc48+-0x3*0x4d9,0xb25+0x1*0x19b9+-0x24dd,_0x1c87af['gl']['RGBA'],_0x1c87af['gl']['UNSIGNED_B'+'YTE'],_0x1fe01b),_0x488e9a['destroy'](),_0x2c571e['destroy'](),_0x1fe01b[0x20e*0x1+0x2*0x76d+-0x10e8]===-0x662+0x2505+-0x1ea2&&_0x1fe01b[-0x1ac8+0x2*0x745+-0x5f*-0x21]===0x62f*0x4+-0x2e*-0xbb+-0x3a54*0x1&&_0x1fe01b[-0x1*-0x258d+0x1815*0x1+-0x3da0]===0xf27+0x11fc+-0x2120&&_0x1fe01b[-0x12c8+0x1a27+-0x1*0x75c]===0x31*0x2b+0x221f+-0x2a1b;},jk=_0x3df7ba=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x395e46=>C0(_0x3df7ba,_0x395e46))['catch'](_0x4eeceb=>!(0x2436*0x1+-0x255d*0x1+-0x94*-0x2)),Yk=_0xb0e96f=>new Promise((_0x40c674,_0xc75eb0)=>{const _0x218b43=new Image();_0x218b43['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x218b43['onload']=()=>{_0x40c674(C0(_0xb0e96f,_0x218b43));};});class Kk{static['run'](_0x2c62ee){jk(_0x2c62ee)['then'](_0x1e32d0=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x1e32d0);}),Yk(_0x2c62ee)['then'](_0x7ffae4=>{console['log']('imgElement'+'IsCorrect='+_0x7ffae4);});}}class Zk extends eo{constructor(_0x8af24,_0x4a13af){super(),this['crossOrigi'+'n']=_0x8af24['prefix']?'anonymous':null,this['maxRetries']=-0x2347+-0xf54+-0x1*-0x329b,this['device']=_0x4a13af,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x44969e,_0x4389f6,_0x597b41){var _0x40ec12;const _0x497c15=!!((_0x40ec12=_0x597b41==null?void(-0xf37+0xdb5+0x182):_0x597b41['file'])!=null&&_0x40ec12['contents']);if(_0x497c15){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x597b41['file']['contents']]),_0x4389f6);return;}_0x44969e={'load':URL['createObje'+'ctURL'](new Blob([_0x597b41['file']['contents']])),'original':_0x44969e['original']};}const _0x5ce806=(_0x5833dc,_0x57bb92)=>{_0x497c15&&URL['revokeObje'+'ctURL'](_0x44969e['load']),_0x4389f6(_0x5833dc,_0x57bb92);};let _0x14bca7;_0x597b41&&_0x597b41['options']&&_0x597b41['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x14bca7=_0x597b41['options']['crossOrigi'+'n']:jn['test'](_0x44969e['load'])&&(_0x14bca7=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x44969e['load'],_0x44969e['original'],_0x14bca7,_0x5ce806,_0x597b41):this['_loadImage'](_0x44969e['load'],_0x44969e['original'],_0x14bca7,_0x5ce806);}['open'](_0x2dc99e,_0x59201a,_0x3d3980,_0x1d5b2e={}){const _0xfe79fa=new _e(_0x3d3980,{'name':_0x2dc99e,'profilerHint':Pr,'width':_0x59201a['width'],'height':_0x59201a['height'],'format':_0x1d5b2e['srgb']?_s:Ne,..._0x1d5b2e});return _0xfe79fa['setSource'](_0x59201a),_0xfe79fa;}['_loadImage'](_0x5a9bc5,_0x129f6f,_0x3f9f76,_0x1d8101){const _0x6fdd22=new Image();_0x3f9f76&&(_0x6fdd22['crossOrigi'+'n']=_0x3f9f76);let _0x53d406=0x219+-0x13*0x121+0x9ad*0x2;const _0x307cb6=this['maxRetries'];let _0x4794cf;_0x6fdd22['onload']=function(){_0x1d8101(null,_0x6fdd22);},_0x6fdd22['onerror']=function(){if(!_0x4794cf){if(_0x307cb6>0x1450+-0x2*0x13+-0x142a&&++_0x53d406<=_0x307cb6){const _0x58e97d=Math['pow'](-0x2*-0x1085+0xa2e+0x1*-0x2b36,_0x53d406)*(-0x206d+-0x22*0x43+-0x3b*-0xb5);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x129f6f+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x58e97d+'ms...');const _0x4d370f=_0x5a9bc5['indexOf']('?')>=0xc29*0x2+0xef5+-0x2747?'&':'?';_0x4794cf=setTimeout(()=>{_0x6fdd22['src']=_0x5a9bc5+_0x4d370f+'retry='+Date['now'](),_0x4794cf=null;},_0x58e97d);}else _0x1d8101('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x129f6f+'\x27');}},_0x6fdd22['src']=_0x5a9bc5;}['_loadImage'+'Bitmap'](_0x29727f,_0x55d325,_0x1d8d72,_0x4d2783,_0x1a7d58){const _0x3d25a1={'cache':!(-0x1fd3+-0x705+0x26d8),'responseType':'blob','retry':this['maxRetries']>-0xc0+0x25f3+0x2533*-0x1,'maxRetries':this['maxRetries'],'progress':_0x1a7d58};ot['get'](_0x29727f,_0x3d25a1,(_0x1e01b5,_0x50f294)=>{_0x1e01b5?_0x4d2783(_0x1e01b5):this['_loadImage'+'BitmapFrom'+'Blob'](_0x50f294,_0x4d2783);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x232f60,_0x4141d2){createImageBitmap(_0x232f60,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x15bdf2=>_0x4141d2(null,_0x15bdf2))['catch'](_0x22e348=>_0x4141d2(_0x22e348));}}const If=[-0x40cc07f+0x3d4ab4*-0x171+0xb4b9b99e,0xd69d*0xfc11+0xa112d154+-0x3*0x3dbb798b,0x372413d+-0x95*-0x1dc19b+-0x2e3*0x3b1ad],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x3e53d6,_0x17ebd8,_0x68810b,_0x16a607){return _0x3e53d6===In?new Uint32Array(_0x17ebd8,_0x68810b,_0x16a607/(-0x2bd+0xbb8+0x1b*-0x55)):new Uint8Array(_0x17ebd8,_0x68810b,_0x16a607);}class eU extends eo{constructor(_0x363774){super(),this['maxRetries']=-0x126*-0x9+0x512+0x1ed*-0x8;}['load'](_0x293618,_0x4303d8,_0x36e1c1){pe['fetchArray'+'Buffer'](_0x293618['load'],_0x4303d8,_0x36e1c1,this['maxRetries']);}['open'](_0x4af2de,_0x2f81ea,_0x1f695c,_0x11b8e3={}){const _0xd40056=this['parse'](_0x2f81ea);if(!_0xd40056)return null;const _0x1ede0a=_0x11b8e3['srgb']?ld(_0xd40056['format']):_0xd40056['format'],_0x514daf=new _e(_0x1f695c,{'name':_0x4af2de,'profilerHint':Pr,'addressU':_0xd40056['cubemap']?ue:yt,'addressV':_0xd40056['cubemap']?ue:yt,'width':_0xd40056['width'],'height':_0xd40056['height'],'format':_0x1ede0a,'cubemap':_0xd40056['cubemap'],'levels':_0xd40056['levels'],..._0x11b8e3});return _0x514daf['upload'](),_0x514daf;}['parse'](_0x67d594){const _0x2b0c20=new Uint32Array(_0x67d594);if(If[0x6ad+0x994+0xdb*-0x13]!==_0x2b0c20[-0x1b*0x167+-0x642*-0x3+-0x1317*-0x1]||If[0x6*0x30e+0x2*-0x46d+0x1*-0x979]!==_0x2b0c20[0x1800+-0x1145+0x11f*-0x6]||If[-0x1c83+-0x1903+0x3588]!==_0x2b0c20[0x19*-0x145+0x1*0x1ec5+0x5*0x32])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x2c51fb={'endianness':_0x2b0c20[-0x15f1+0xff8+0x5fc],'glType':_0x2b0c20[-0x790+-0x2535+0x2cc9],'glTypeSize':_0x2b0c20[0x44c+0x3*0x488+0x3d*-0x4b],'glFormat':_0x2b0c20[-0x45f*0x3+-0x1*0x62b+0x134e],'glInternalFormat':_0x2b0c20[-0x2*-0xa16+0x241b+-0x3840],'glBaseInternalFormat':_0x2b0c20[-0x1*0x12d1+-0x19e5+0x2cbe],'pixelWidth':_0x2b0c20[0x1630+0x239f+-0xf*0x3da],'pixelHeight':_0x2b0c20[-0x1fc*-0xb+0x2650+-0x1*0x3c1a],'pixelDepth':_0x2b0c20[-0xeb2*-0x1+-0x8dd*0x1+-0x5ca],'numberOfArrayElements':_0x2b0c20[-0x4e*-0x2f+0x211a+-0x2f60],'numberOfFaces':_0x2b0c20[-0x1*0xff2+0x1d2e+-0xd2f],'numberOfMipmapLevels':_0x2b0c20[-0x9bc+-0x1a7d*-0x1+-0x1*0x10b3],'bytesOfKeyValueData':_0x2b0c20[0x115*0x21+0x161d+-0x35*0x117]};if(_0x2c51fb['pixelDepth']>-0xcdd+0x9*0x7f+0x9*0xef)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x2c51fb['numberOfAr'+'rayElement'+'s']!==-0x213f+-0x1a7*-0x7+-0x4b*-0x4a)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x55555f=Qk[_0x2c51fb['glInternal'+'Format']];if(_0x55555f===void(-0x1*-0x409+0x1*-0x1465+0x105c))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x2c51fb['glInternal'+'Format']),null;let _0x3f6121=0x2e*-0x84+-0x204*0x12+-0x4*-0xf04+_0x2c51fb['bytesOfKey'+'ValueData']/(-0x26*-0x65+0x39*-0x21+-0xd9*0x9);const _0x30fef0=_0x2c51fb['numberOfFa'+'ces']>0x1cfb+-0x1ccc+-0x1*0x2e,_0x5a0dc3=[];for(let _0x100477=0x9*-0x2fe+0x1*-0x24fa+0x28*0x199;_0x100477<(_0x2c51fb['numberOfMi'+'pmapLevels']||-0x1*0x187+-0x1*0x925+0xaad);_0x100477++){const _0x4cd625=_0x2b0c20[_0x3f6121++];_0x30fef0&&_0x5a0dc3['push']([]);const _0x1210a1=_0x30fef0?_0x5a0dc3[_0x100477]:_0x5a0dc3;for(let _0x3a693b=0x1db0+0x11a3+0x5*-0x977;_0x3a693b<(_0x30fef0?-0x93c+0x382+0x5c0:0x1432+-0x745*0x5+0x1028);++_0x3a693b)_0x1210a1['push'](Jk(_0x55555f,_0x67d594,_0x3f6121*(-0x1df6+-0x6d*-0x47+-0x41),_0x4cd625)),_0x3f6121+=_0x4cd625+(0x66b+-0x2*0x209+-0x17*0x1a)>>-0x1e84+0x1b*-0xf9+-0x38c9*-0x1;}return{'format':_0x55555f,'width':_0x2c51fb['pixelWidth'],'height':_0x2c51fb['pixelHeigh'+'t'],'levels':_0x5a0dc3,'cubemap':_0x30fef0};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x1f1643,_0x57185b){super(),this['maxRetries']=0x858+-0x574*-0x4+-0x1e28,this['device']=_0x57185b;}['load'](_0x116aff,_0x56e870,_0x24eff5){pe['fetchArray'+'Buffer'](_0x116aff['load'],(_0x2fcf32,_0x1c0d21)=>{_0x2fcf32?_0x56e870(_0x2fcf32,_0x1c0d21):this['parse'](_0x1c0d21,_0x116aff,_0x56e870,_0x24eff5);},_0x24eff5,this['maxRetries']);}['open'](_0x19e5f3,_0x841013,_0x250b82,_0x3e394a={}){const _0x278011=_0x3e394a['srgb']?ld(_0x841013['format']):_0x841013['format'],_0x4737d2=new _e(_0x250b82,{'name':_0x19e5f3,'profilerHint':Pr,'addressU':_0x841013['cubemap']?ue:yt,'addressV':_0x841013['cubemap']?ue:yt,'width':_0x841013['width'],'height':_0x841013['height'],'format':_0x278011,'cubemap':_0x841013['cubemap'],'levels':_0x841013['levels'],..._0x3e394a});return _0x4737d2['upload'](),_0x4737d2;}['parse'](_0x435fcd,_0x445544,_0x3628ab,_0x3994a8){var _0x4fe54c,_0x2d83bf,_0x19bc70;const _0x2ef2a2=new KS(_0x435fcd),_0x15c0e3=[_0x2ef2a2['readU32be'](),_0x2ef2a2['readU32be'](),_0x2ef2a2['readU32be']()];if(_0x15c0e3[-0x249d*0x1+0xd9+-0x5f6*-0x6]!==-0x1*-0x568b782f+-0x2*0x1ed0554+0x5899e6d1||_0x15c0e3[0x7*-0x277+0x1c*-0x139+0x337e]!==-0x3bb9147*-0x5+-0xf27e057+0x1cb03aaf||_0x15c0e3[0x1*0x1dad+0xb4*0x1+-0x137*0x19]!==-0x15ac228b+0x33946e*0x61+0x1*0xf2afee7)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x440649={'vkFormat':_0x2ef2a2['readU32'](),'typeSize':_0x2ef2a2['readU32'](),'pixelWidth':_0x2ef2a2['readU32'](),'pixelHeight':_0x2ef2a2['readU32'](),'pixelDepth':_0x2ef2a2['readU32'](),'layerCount':_0x2ef2a2['readU32'](),'faceCount':_0x2ef2a2['readU32'](),'levelCount':_0x2ef2a2['readU32'](),'supercompressionScheme':_0x2ef2a2['readU32']()},_0x4a6cfc={'dfdByteOffset':_0x2ef2a2['readU32'](),'dfdByteLength':_0x2ef2a2['readU32'](),'kvdByteOffset':_0x2ef2a2['readU32'](),'kvdByteLength':_0x2ef2a2['readU32'](),'sgdByteOffset':_0x2ef2a2['readU64'](),'sgdByteLength':_0x2ef2a2['readU64']()},_0x24f6e1=[];for(let _0x4c4b41=0x2676+0x4*-0x883+-0x5*0xe2;_0x4c4b41<Math['max'](0x6b*0x13+0x24c0+-0x2cb0,_0x440649['levelCount']);++_0x4c4b41)_0x24f6e1['push']({'byteOffset':_0x2ef2a2['readU64'](),'byteLength':_0x2ef2a2['readU64'](),'uncompressedByteLength':_0x2ef2a2['readU64']()});if(_0x2ef2a2['readU32']()!==_0x4a6cfc['kvdByteOff'+'set']-_0x4a6cfc['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x2ef2a2['skip'](0x1*0x20e1+0x2*0x1b+-0x5b*0x5d);const _0x5898cd=_0x2ef2a2['readU8']();_0x2ef2a2['skip'](_0x4a6cfc['dfdByteLen'+'gth']-(0xc52+0x1efd+0xbf*-0x3a)),_0x2ef2a2['skip'](_0x4a6cfc['kvdByteLen'+'gth']),_0x440649['supercompr'+'essionSche'+'me']===0x107f+-0x1997+-0x11*-0x89||_0x5898cd===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x445544['load'],_0x435fcd,_0x3628ab,{'isGGGR':(((_0x19bc70=(_0x2d83bf=(_0x4fe54c=_0x3994a8==null?void(-0x1*0xefb+-0x13c3*-0x1+-0x4c8):_0x3994a8['file'])==null?void(-0x3f2+0x1*0x1416+-0x1024):_0x4fe54c['variants'])==null?void(-0x35*-0xb6+-0x1463+-0x1*0x114b):_0x2d83bf['basis'])==null?void(0xc6d*-0x3+-0xe36+0x337d):_0x19bc70['opt'])&-0xe4b*0x2+0x1740+0xe5*0x6)!==-0x1061*-0x2+0x1*-0x207d+0x3*-0x17,'isKTX2':!(-0xda+-0xd00+0x2*0x6ed)})||_0x3628ab('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3994a8['name']+']('+_0x3994a8['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x3628ab('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0xe4a33a){super(),this['maxRetries']=0x53*0x4+-0x2285+0x2139;}['load'](_0x5f89ae,_0x522edd,_0x2f75fd){pe['fetchArray'+'Buffer'](_0x5f89ae['load'],_0x522edd,_0x2f75fd,this['maxRetries']);}['open'](_0x4075a2,_0x9799e6,_0x281389,_0x1ae891={}){const _0xcd1333=new Uint32Array(_0x9799e6,0x243f+0x545+-0x2984,0x418+-0x1ae1+0x16e9*0x1),_0x2be235=_0xcd1333[0x1f7*0x13+-0x7b6+-0x1d9b],_0x26b1c9=_0xcd1333[0x11e+0x1*-0x1ff3+0x1ed8],_0x382537=Math['max'](_0xcd1333[-0x1f52+0x22b8+0x1*-0x35f],0xa72+0x2eb+-0xd5c),_0x3c20e2=_0xcd1333[-0x1*0x1726+-0x1a1*-0x8+0xa32]===-0xbcf+0x1*-0xce7+-0x6*-0x41f,_0x2a1265=_0xcd1333[0x53e+-0x165+-0x3c4],_0x4d619d=_0xcd1333[0x1a3b+-0x971+-0x10b4],_0x186ef6=_0xcd1333[0x1db8+-0x19e*-0x14+-0x131*0x34]===-0xd9e6+0x8fa7+0x134f*0x11,_0x32453a=0x1dc*0xd441c+0x17*-0xe92f7c+0x1bb41*0x1a58,_0x5e9c54=-0x5b5c7bfa+0x7*0x2494e43+0x80afb069*0x1,_0x1ae5ae=-0x221b+0x21f0+0x9c,_0x4c0b61=-0x31*0xb1+0x1*0x855+0x1a00,_0x132dfe=-0xf1edd8f+-0x198e70b*0x3d+0xa1d13f73,_0x376bb4=-0x76be3a*-0x8b+-0x22508ae0*0x2+-0x9866d*-0x59a,_0x285db9=0x2d7ae3b+0x33b2d7ad*0x1+-0x5565398,_0x19518e=-0x1d83f*0x19+0x95*-0x586a5d+0x64d73a98,_0x12ca45=-0xc7130df+-0xa71be2f+0x4817235e;let _0x35d98d=!(-0x2*-0xc7+0x1481+-0x160e),_0x43d6c9=!(-0x816+-0x34b*-0x2+0x181),_0x3afef3=!(-0x1*0x1dd5+-0x853*-0x2+0x1a6*0x8),_0x32f5af=!(-0x1db0+-0x1cf6+0x3aa7),_0x15cda4=null,_0xe8f300=0x1cfa+-0x13df+-0x91a,_0x11bcce;if(_0x3c20e2?_0x2a1265===_0x32453a?(_0x15cda4=td,_0x35d98d=!(-0x11a7*0x1+-0x2*0x11bb+0x351d)):_0x2a1265===_0x5e9c54?(_0x15cda4=vl,_0x35d98d=!(0x1a*0x16e+0x917*-0x1+-0x403*0x7)):_0x2a1265===_0x1ae5ae?(_0x15cda4=nt,_0xe8f300=0x20a1+0x1*0x13cd+-0x346c):_0x2a1265===_0x4c0b61?(_0x15cda4=Xt,_0xe8f300=0x1e08+0x25d4+0x1*-0x43d8):_0x2a1265===_0x132dfe?(_0x15cda4=id,_0x35d98d=!(0xd*-0x194+-0x4b*-0x18+0x6be*0x2),_0x43d6c9=!(-0x5*0x5df+-0xe*-0x105+-0xb*-0x15f)):_0x2a1265===_0x376bb4||_0x2a1265===_0x285db9?(_0x15cda4=_0x2a1265===_0x376bb4?xl:Tl,_0x35d98d=!(-0xa*-0x1cd+-0xf6*0x14+0x136),_0x3afef3=!(-0x12b*0x11+-0xd54+0x212f)):(_0x2a1265===_0x19518e||_0x2a1265===_0x12ca45)&&(_0x15cda4=_0x2a1265===_0x19518e?rd:ad,_0x35d98d=!(-0x1*0x1e1+0x14b1*0x1+0x12d*-0x10),_0x32f5af=!(0x6fa+0x1*0x22bb+-0x3*0xde7)):_0x4d619d===-0x87b+-0x1360+0x1bfb&&(_0x15cda4=Ne),!_0x15cda4)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x4075a2+'.'),_0x11bcce=new _e(_0x281389,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x11bcce;_0x11bcce=new _e(_0x281389,{'name':_0x4075a2,'profilerHint':Pr,'addressU':_0x186ef6?ue:yt,'addressV':_0x186ef6?ue:yt,'width':_0x2be235,'height':_0x26b1c9,'format':_0x15cda4,'cubemap':_0x186ef6,'mipmaps':_0x382537>0x2249+-0xa58+0x2*-0xbf8,..._0x1ae891});let _0x2f0665=0x2*-0xc89+0x149c+0x4f6;const _0x356562=_0x186ef6?-0x263c+-0x110*-0x18+0xcc2:-0x1*0x2463+0x2651+0x1ed*-0x1;let _0x5b0d27;const _0x2159d1=-0x2a*0x79+-0x6dd*0x3+-0x2875*-0x1,_0x4ce019=0x26eb+0xbee*-0x1+-0x1af9*0x1,_0x2795be=_0x2a1265===_0x32453a?0xaec+-0x1*0xb6b+-0x87*-0x1:-0x10*0x1dc+-0x630*-0x6+-0x750;let _0x49f987,_0x195379,_0x5d1f30;for(let _0x225d7a=0x1fbc+-0x2*0x2a7+-0x1a6e;_0x225d7a<_0x356562;_0x225d7a++){let _0x48c7c2=_0x2be235,_0x476901=_0x26b1c9;for(let _0x59a09e=0x20f2+-0x191d+-0x7d5;_0x59a09e<_0x382537;_0x59a09e++){_0x35d98d?_0x43d6c9?_0x5b0d27=Math['floor']((_0x48c7c2+(0xfd0+-0x4f5*0x6+0xdf1))/(0x106*-0x16+-0x19b4+0x303c))*Math['floor']((_0x476901+(-0x11ef+0x2560+-0x2*0x9b7))/(0xb38+-0x6a4+-0x490))*(-0x130f+-0x745*-0x2+0x48d):_0x3afef3?_0x5b0d27=Math['max'](_0x48c7c2,-0x23f*-0x5+-0xb5*0x35+0x5b*0x4a)*Math['max'](_0x476901,-0x9c0+0xeb7+-0x4ef)/(0x848+0x11e6+0x11*-0x18a):_0x32f5af?_0x5b0d27=Math['max'](_0x48c7c2,-0x63*0x13+0x1f44+0x17e3*-0x1)*Math['max'](_0x476901,0x1*-0x515+-0x1602+0x1b1f)/(-0x1b7*-0x9+-0x1*-0xf89+0x529*-0x6):(_0x49f987=Math['floor']((_0x48c7c2+_0x2159d1-(-0x198f+-0x2044+0x39d4*0x1))/_0x2159d1),_0x195379=Math['floor']((_0x476901+_0x4ce019-(0x314+-0x1781+0xa*0x20b))/_0x4ce019),_0x5d1f30=_0x49f987*_0x195379,_0x5b0d27=_0x5d1f30*_0x2795be):_0x5b0d27=_0x48c7c2*_0x476901*(0x1*0xd63+0x11b*0x5+0x2*-0x973);const _0x1c8d75=_0x15cda4===Xt?new Float32Array(_0x9799e6,_0x2f0665,_0x5b0d27):_0x15cda4===nt?new Uint16Array(_0x9799e6,_0x2f0665,_0x5b0d27):new Uint8Array(_0x9799e6,_0x2f0665,_0x5b0d27);_0x186ef6?(_0x11bcce['_levels'][_0x59a09e]||(_0x11bcce['_levels'][_0x59a09e]=[]),_0x11bcce['_levels'][_0x59a09e][_0x225d7a]=_0x1c8d75):_0x11bcce['_levels'][_0x59a09e]=_0x1c8d75,_0x2f0665+=_0x5b0d27*_0xe8f300,_0x48c7c2=Math['max'](_0x48c7c2*(0xab8+-0x1*-0x7ed+0x12a5*-0x1+0.5),0x927*-0x4+0x1*0xacf+0x19ce),_0x476901=Math['max'](_0x476901*(-0x26ff+0x2451+0xe*0x31+0.5),-0x20*-0xc+-0x1*0x907+-0xf1*-0x8);}}return _0x11bcce['upload'](),_0x11bcce;}}class rU extends eo{constructor(_0x4380c2){super(),this['maxRetries']=0x1215+0x1b8d+0x12*-0x289;}['load'](_0x2857d9,_0x2f9d07,_0x588b04){pe['fetchArray'+'Buffer'](_0x2857d9['load'],_0x2f9d07,_0x588b04,this['maxRetries']),_0x588b04['data']&&!_0x588b04['data']['type']&&(_0x588b04['data']['type']=mh);}['open'](_0x4d2d8e,_0x2910a6,_0x2ae4e6,_0x4d5d6e={}){const _0x50e105=this['parse'](_0x2910a6);if(!_0x50e105)return null;const _0x11b71d=new _e(_0x2ae4e6,{'name':_0x4d2d8e,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x50e105['width'],'height':_0x50e105['height'],'levels':_0x50e105['levels'],'format':Ne,'type':mh,'mipmaps':!(-0x1*0x2e7+-0x24e+-0x1*-0x536),..._0x4d5d6e});return _0x11b71d['upload'](),_0x11b71d;}['parse'](_0x2bc844){const _0x132256=new KS(_0x2bc844);if(!_0x132256['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x139071={};for(;;){const _0x3ca16c=_0x132256['readLine']();if(_0x3ca16c['length']===-0x35d*-0x4+-0x1e41*0x1+0x10cd)break;{const _0x29bbe7=_0x3ca16c['split']('=');_0x29bbe7['length']===-0x12f+0x1bf1+0x358*-0x8&&(_0x139071[_0x29bbe7[-0x4*-0x2f1+0x1aa1*0x1+-0x2665]]=_0x29bbe7[0x1b7a+0x4*0x4a8+-0x2e19*0x1]);}}if(!_0x139071['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1d0f22=_0x132256['readLine']()['split']('\x20');if(_0x1d0f22['length']!==0x1*-0x93a+0x128b+0x1*-0x94d)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x4c9107=parseInt(_0x1d0f22[0xa8*-0x16+0x1995+-0x2*0x592],0x1b7f+-0x29*0xdd+0x7f0),_0x2280dc=parseInt(_0x1d0f22[-0xbc*0x18+0xc9b*0x3+-0x3f*0x52],0x7cc+0x5*-0x619+0x16bb),_0x54a00d=this['_readPixel'+'s'](_0x132256,_0x2280dc,_0x4c9107,_0x1d0f22[0x2dc*-0x4+0x463*0x8+-0x5ea*0x4]==='-Y');return _0x54a00d?{'width':_0x2280dc,'height':_0x4c9107,'levels':[_0x54a00d]}:null;}['_readPixel'+'s'](_0x114615,_0x157697,_0x27de60,_0x5c7469){if(_0x157697<0x168f+-0x7*-0x2d4+-0x37*0xc5||_0x157697>-0x3056*0x4+-0x5531+-0x2*-0xcb44)return this['_readPixel'+'sFlat'](_0x114615,_0x157697,_0x27de60);const _0x4121b4=[0x1615+0xa8e+0x1*-0x20a3,-0x2c6+0x239b*0x1+0x20d5*-0x1,-0x105a*0x1+0x1c17+-0xbbd,0x119f*-0x1+0x2f8*0x1+0xea7];if(_0x114615['readArray'](_0x4121b4),_0x4121b4[-0x1fce+-0x51a+0x24e8]!==0x10fd*0x1+-0xa4a*0x3+-0x3*-0x4a1||_0x4121b4[-0x10ad*-0x1+0x1847+-0x28f3]!==-0x122d*-0x2+-0x989*0x3+-0x7bd||(_0x4121b4[0x183e+-0x3*0xa60+0x6e4]&0xa6b+0x1fe5+-0x29d0)!==-0x1d15+0x18db+-0x2*-0x21d)return _0x114615['skip'](-(-0x1078+0x1*0x1646+-0x5ca)),this['_readPixel'+'sFlat'](_0x114615,_0x157697,_0x27de60);const _0x10a8bb=new ArrayBuffer(_0x157697*_0x27de60*(0x171a+0x1fa3+-0x36b9*0x1)),_0x11369d=new Uint8Array(_0x10a8bb);let _0x2f441f=_0x5c7469?0x187a+0x81*0x43+-0x3a3d:_0x157697*(-0x844+0x655+0x1*0x1f3)*(_0x27de60-(-0x1a9a+-0x2c8+0x1d63)),_0x103cc7,_0x378b4f,_0x4abe3c,_0x40f443,_0x17b5ae,_0x404415;for(_0x378b4f=-0xb7*0x23+0x16d*-0x1+0x5*0x54a;_0x378b4f<_0x27de60;++_0x378b4f){if(_0x378b4f&&_0x114615['readArray'](_0x4121b4),(_0x4121b4[0xc43+0x25*-0xc6+0x1*0x105d]<<0x59*0x6b+0x1387+-0x38b2)+_0x4121b4[0xe7c+0xb2c+0x5*-0x521]!==_0x157697)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x40f443=0x1*0xa+-0xd*-0x37+0x19*-0x1d;_0x40f443<0x1cd6+0x908+0x55*-0x72;++_0x40f443)for(_0x103cc7=0x117*0x2+-0x1*-0xfa7+-0x11d5;_0x103cc7<_0x157697;)if(_0x17b5ae=_0x114615['readU8'](),_0x17b5ae>0x1*0xfd3+0x10b1+0x801*-0x4){if(_0x17b5ae-=0x1c8b+-0x1*0xf61+-0xcaa,_0x103cc7+_0x17b5ae>_0x157697)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x404415=_0x114615['readU8'](),_0x4abe3c=-0x208*0x5+-0x5+0x209*0x5;_0x4abe3c<_0x17b5ae;++_0x4abe3c)_0x11369d[_0x2f441f+_0x40f443+(0x11*-0x84+-0x16dd+0x1fa5)*_0x103cc7++]=_0x404415;}else{if(_0x17b5ae===-0xb2*0xd+0x1b29+-0x1*0x121f||_0x103cc7+_0x17b5ae>_0x157697)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4abe3c=0x457+0x33a+-0x791;_0x4abe3c<_0x17b5ae;++_0x4abe3c)_0x11369d[_0x2f441f+_0x40f443+(0x6d*-0x12+0x15f*0x7+-0x1eb)*_0x103cc7++]=_0x114615['readU8']();}_0x2f441f+=_0x157697*(-0x4b2*0x5+0x17f*-0xd+0x2af1*0x1)*(_0x5c7469?-0xb68+0x97a+0x1ef:-(-0x135f+-0x587*0x1+0x4fb*0x5));}return _0x11369d;}['_readPixel'+'sFlat'](_0x52d549,_0x556c68,_0x4956cf){return _0x52d549['remainingB'+'ytes']===_0x556c68*_0x4956cf*(0x1*-0xd72+0x8*-0x250+0x2*0xffb)?new Uint8Array(_0x52d549['arraybuffe'+'r'],_0x52d549['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x56a8f6){const _0xa92bdb=Xi['calcMipLev'+'elsCount'](_0x56a8f6['_width'],_0x56a8f6['_height']),_0x12d7f4=function(_0x57985e){return _0x57985e instanceof HTMLCanvasElement||_0x57985e instanceof HTMLImageElement||_0x57985e instanceof HTMLVideoElement;};if(!(_0x56a8f6['_format']===Ne||_0x56a8f6['_format']===Xt)||_0x56a8f6['_volume']||_0x56a8f6['_compresse'+'d']||_0x56a8f6['_levels']['length']===-0x362*-0x2+-0x2629+-0x2*-0xfb3||_0x56a8f6['_levels']['length']===_0xa92bdb||_0x12d7f4(_0x56a8f6['_cubemap']?_0x56a8f6['_levels'][-0x4*-0x639+0x1b*0xef+-0x3219*0x1][0x2243+-0x419+-0x1e2a]:_0x56a8f6['_levels'][0x1257+-0xb*-0x16+-0x1349]))return;const _0x319514=function(_0x477dab,_0xab2f1c,_0x14ae0b){const _0x12e9a2=Math['max'](0x1504+0x11fb*-0x1+0x184*-0x2,_0x477dab>>0xc83+-0x119b+-0x1d*-0x2d),_0x1290fa=Math['max'](0x36c+-0x1*-0x15a3+0x42d*-0x6,_0xab2f1c>>0x2b*-0x4a+0x4*0x39d+-0x205),_0x183e7f=new _0x14ae0b['constructo'+'r'](_0x12e9a2*_0x1290fa*(-0x725*0x1+-0xa1b+0x1144)),_0xf86867=Math['floor'](_0x477dab/_0x12e9a2),_0x11b137=Math['floor'](_0xab2f1c/_0x1290fa),_0x13bcc5=_0xf86867*_0x11b137;for(let _0x68cc4c=-0x67a*0x5+0x907+-0x3*-0x7c9;_0x68cc4c<_0x1290fa;++_0x68cc4c)for(let _0xb63f7a=-0x1*0x19d3+0x1c49+-0x69*0x6;_0xb63f7a<_0x12e9a2;++_0xb63f7a)for(let _0x92d10a=-0x7*-0x1e9+-0x6f2+-0x66d;_0x92d10a<-0x2172*-0x1+-0x26e5+-0x577*-0x1;++_0x92d10a){let _0x485fd0=0x1a7f+0x201e+-0x3a9d;for(let _0x7af2de=0x2630+-0x1cbb*-0x1+0x1cf*-0x25;_0x7af2de<_0x11b137;++_0x7af2de)for(let _0x128857=-0x1*0x14f3+-0xec*0x28+0x39d3;_0x128857<_0xf86867;++_0x128857)_0x485fd0+=_0x14ae0b[(_0xb63f7a*_0xf86867+_0x128857+(_0x68cc4c*_0x11b137+_0x7af2de)*_0x477dab)*(-0x1*-0x39+0x234b+-0x2380)+_0x92d10a];_0x183e7f[(_0xb63f7a+_0x68cc4c*_0x12e9a2)*(0x20a1+-0xce8+0x3f1*-0x5)+_0x92d10a]=_0x485fd0/_0x13bcc5;}return _0x183e7f;};for(let _0x5d2b5c=_0x56a8f6['_levels']['length'];_0x5d2b5c<_0xa92bdb;++_0x5d2b5c){const _0x4f4f6e=Math['max'](-0x1b*-0xbd+-0x24f3+0x1*0x1105,_0x56a8f6['_width']>>_0x5d2b5c-(0x1978+0x17e6+-0x1*0x315d)),_0x10495d=Math['max'](-0xcf6+0x11db+-0x4e4,_0x56a8f6['_height']>>_0x5d2b5c-(0xd91*-0x2+-0x6*-0x3f8+0x353));if(_0x56a8f6['_cubemap']){const _0x125a9a=[];for(let _0x16904f=0xe*0x1f3+0x10d*0x17+0x3375*-0x1;_0x16904f<-0x6*0xf2+-0x1b40+0x1079*0x2;++_0x16904f)_0x125a9a['push'](_0x319514(_0x4f4f6e,_0x10495d,_0x56a8f6['_levels'][_0x5d2b5c-(-0x1bd*-0xf+0x11c+-0x1b2e*0x1)][_0x16904f]));_0x56a8f6['_levels']['push'](_0x125a9a);}else _0x56a8f6['_levels']['push'](_0x319514(_0x4f4f6e,_0x10495d,_0x56a8f6['_levels'][_0x5d2b5c-(-0x21ab+-0x95*0x2f+0x3d07)]));}_0x56a8f6['_levelsUpd'+'ated']=_0x56a8f6['_cubemap']?[[!(0x2*0x1352+-0x1dd1+0x2f1*-0x3),!(-0x27e*0x3+-0x1876*0x1+0x1ff0),!(-0x5b*-0x23+-0x1e17+0x2*0x8d3),!(0x2*-0xfc+0x2115+0x3b*-0x87),!(0x2615*0x1+0x7*-0x2f+-0x13a*0x1e),!(-0x23fe*-0x1+-0x25*-0x19+0x1*-0x279b)]]:[!(0x3a9*-0x1+0x76a+-0x3c1)];};class oU extends Qe{constructor(_0x6ace87){super(_0x6ace87,'texture');const _0x3ebd1b=_0x6ace87['assets'],_0x20f46b=_0x6ace87['graphicsDe'+'vice'];this['_device']=_0x20f46b,this['_assets']=_0x3ebd1b,this['imgParser']=new Zk(_0x3ebd1b,_0x20f46b),this['parsers']={'dds':new iU(_0x3ebd1b),'ktx':new eU(_0x3ebd1b),'ktx2':new sU(_0x3ebd1b,_0x20f46b),'basis':new qk(_0x3ebd1b,_0x20f46b),'hdr':new rU(_0x3ebd1b)};}set['crossOrigi'+'n'](_0x5a8bd5){this['imgParser']['crossOrigi'+'n']=_0x5a8bd5;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x39f09a){this['imgParser']['maxRetries']=_0x39f09a;for(const _0x1e5f68 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1e5f68)&&(this['parsers'][_0x1e5f68]['maxRetries']=_0x39f09a);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x150bd4){return _0x150bd4['indexOf']('?')>=-0x89b+0x2250+-0x19b5?_0x150bd4['split']('?')[0x25d7+0x1263*0x1+-0x383a]:_0x150bd4;}['_getParser'](_0x3c43df){const _0x359ade=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x3c43df))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x359ade]||this['imgParser'];}['_getTextur'+'eOptions'](_0x375510){var _0x3c3d76;const _0x497626={'profilerHint':Pr};if(_0x375510){((_0x3c3d76=_0x375510['name'])==null?void(-0xa4*-0x2f+0x4*-0x150+-0x94*0x2b):_0x3c3d76['length'])>0x1*-0x264b+-0x3*0x3dc+0x31df&&(_0x497626['name']=_0x375510['name']);const _0x143bbb=_0x375510['data'];_0x143bbb['hasOwnProp'+'erty']('minfilter')&&(_0x497626['minFilter']=wS[_0x143bbb['minfilter']]),_0x143bbb['hasOwnProp'+'erty']('magfilter')&&(_0x497626['magFilter']=wS[_0x143bbb['magfilter']]),_0x143bbb['hasOwnProp'+'erty']('addressu')&&(_0x497626['addressU']=TS[_0x143bbb['addressu']]),_0x143bbb['hasOwnProp'+'erty']('addressv')&&(_0x497626['addressV']=TS[_0x143bbb['addressv']]),_0x143bbb['hasOwnProp'+'erty']('mipmaps')&&(_0x497626['mipmaps']=_0x143bbb['mipmaps']),_0x143bbb['hasOwnProp'+'erty']('anisotropy')&&(_0x497626['anisotropy']=_0x143bbb['anisotropy']),_0x143bbb['hasOwnProp'+'erty']('flipY')&&(_0x497626['flipY']=!!_0x143bbb['flipY']),_0x143bbb['hasOwnProp'+'erty']('srgb')&&(_0x497626['srgb']=!!_0x143bbb['srgb']),_0x497626['type']=Ds,_0x143bbb['hasOwnProp'+'erty']('type')?_0x497626['type']=aU[_0x143bbb['type']]:_0x143bbb['hasOwnProp'+'erty']('rgbm')&&_0x143bbb['rgbm']?_0x497626['type']=Zi:_0x375510['file']&&(_0x375510['file']['opt']&0x71f+-0xe75+0x75e)!==-0x221b+0x59*0x55+0x48e&&(_0x497626['type']=Jo);}return _0x497626;}['load'](_0x27be4e,_0x23c87b,_0x365ab1){typeof _0x27be4e=='string'&&(_0x27be4e={'load':_0x27be4e,'original':_0x27be4e}),this['_getParser'](_0x27be4e['original'])['load'](_0x27be4e,_0x23c87b,_0x365ab1);}['open'](_0x4ef578,_0x4b63bd,_0x37e051){if(!_0x4ef578)return;const _0x12c105=this['_getTextur'+'eOptions'](_0x37e051);let _0xd72cb7=this['_getParser'](_0x4ef578)['open'](_0x4ef578,_0x4b63bd,this['_device'],_0x12c105);return _0xd72cb7===null?_0xd72cb7=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0xd72cb7),_0x4b63bd['unswizzled'+'GGGR']&&(_0x37e051['file']['variants']['basis']['opt']&=-(-0x57*0x15+-0x109c+0x17c8))),_0xd72cb7;}['patch'](_0x14b5ab,_0x8e3bac){const _0x22e98d=_0x14b5ab['resource'];if(!_0x22e98d)return;const _0x465ada=this['_getTextur'+'eOptions'](_0x14b5ab);for(const _0x5259ee of Object['keys'](_0x465ada))_0x22e98d[_0x5259ee]=_0x465ada[_0x5259ee];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x3bc82d){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x3bc82d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0xefae95){!this['_supported']||this['_manager']['active']||(this['_root']=_0xefae95);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x289a7d,_0x46406e,_0xb34f62,_0x56dc16=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x289a7d,this['_xrHitTest'+'Source']=_0x46406e,this['_transient']=_0xb34f62,this['_inputSour'+'ce']=_0x56dc16);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x542765=this['manager']['hitTest']['sources'],_0x1caf7a=_0x542765['indexOf'](this);_0x1caf7a!==-(-0x95*0x6+-0x1*-0xc7+0x6*0x74)&&_0x542765['splice'](_0x1caf7a,-0x1df3+0x2*-0x223+0x111d*0x2),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x3974c7){if(this['_transient']){const _0x3917d8=_0x3974c7['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x5eec81=-0x1814+0x1da2+0x3*-0x1da;_0x5eec81<_0x3917d8['length'];_0x5eec81++){const _0x506431=_0x3917d8[_0x5eec81];if(!_0x506431['results']['length'])continue;let _0xe5c1e;_0x506431['inputSourc'+'e']&&(_0xe5c1e=this['manager']['input']['_getByInpu'+'tSource'](_0x506431['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x506431['results'],_0xe5c1e);}}else{const _0x1960dc=_0x3974c7['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x1960dc['length'])return;this['updateHitR'+'esults'](_0x1960dc);}}['updateHitR'+'esults'](_0x517812,_0x5956d2){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x5956d2)return;const _0x464572=Rc['pop']()??new D();_0x5956d2?_0x464572['copy'](_0x5956d2['getOrigin']()):_0x464572['copy'](this['manager']['camera']['getPositio'+'n']());let _0x903b94=(-0x414+-0x1934+0x1d49)/(-0x1*-0x6b9+0x1813+-0x1ecc*0x1),_0x252bf2=null;const _0x1a9163=Rc['pop']()??new D(),_0x22b811=bS['pop']()??new le();for(let _0xa455cf=0xd75+-0x12f1+-0x2*-0x2be;_0xa455cf<_0x517812['length'];_0xa455cf++){const _0x20de39=_0x517812[_0xa455cf]['getPose'](this['manager']['_reference'+'Space']),_0x2c0fcc=_0x464572['distance'](_0x20de39['transform']['position']);_0x2c0fcc>=_0x903b94||(_0x903b94=_0x2c0fcc,_0x252bf2=_0x517812[_0xa455cf],_0x1a9163['copy'](_0x20de39['transform']['position']),_0x22b811['copy'](_0x20de39['transform']['orientatio'+'n']));}this['fire']('result',_0x1a9163,_0x22b811,_0x5956d2||this['_inputSour'+'ce'],_0x252bf2),this['manager']['hitTest']['fire']('result',this,_0x1a9163,_0x22b811,_0x5956d2||this['_inputSour'+'ce'],_0x252bf2),Rc['push'](_0x464572),Rc['push'](_0x1a9163),bS['push'](_0x22b811);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x30c64e){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x16e*0x19+0x5cf+-0x3be*-0x8)),h(this,'_checkingA'+'vailabilit'+'y',!(0x4f0+0x2*0xf4b+0x15*-0x1b1)),h(this,'sources',[]),(this['manager']=_0x30c64e,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x5a614f=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x10e+0xcb9*-0x2+0x1a81);if(!_0x5a614f)return;this['_available']=_0x5a614f,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x3e*0x69+-0x56c*-0x1+0x1402),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x2a0f1a=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2a0f1a})['then'](_0x45c445=>{_0x45c445['cancel'](),this['manager']['active']&&(this['_available']=!(-0x39b*-0x8+0x1f41+0x55*-0xb5),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1b83+-0x1ad0+0x13*0x2dc);for(let _0x17fd20=0x2*0x218+0x1*0x1f3+-0x1*0x623;_0x17fd20<this['sources']['length'];_0x17fd20++)this['sources'][_0x17fd20]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x114a95={}){var _0x3332b1,_0x2bbf9c;if(!this['_supported']){(_0x3332b1=_0x114a95['callback'])==null||_0x3332b1['call'](_0x114a95,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x2bbf9c=_0x114a95['callback'])==null||_0x2bbf9c['call'](_0x114a95,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x114a95['profile']&&!_0x114a95['spaceType']&&(_0x114a95['spaceType']=ES);let _0x6f00d3;const _0x17a8d9=_0x114a95['offsetRay'];if(_0x17a8d9){const _0x325bfc=new DOMPoint(_0x17a8d9['origin']['x'],_0x17a8d9['origin']['y'],_0x17a8d9['origin']['z'],-0x1390+0x1*-0x1139+0x24ca),_0x535063=new DOMPoint(_0x17a8d9['direction']['x'],_0x17a8d9['direction']['y'],_0x17a8d9['direction']['z'],-0x2297+0x1*0xb5f+-0x2*-0xb9c);_0x6f00d3=new XRRay(_0x325bfc,_0x535063);}const _0x82bd3d=_0x114a95['callback'];_0x114a95['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x114a95['spaceType'])['then'](_0x41c24c=>{if(!this['manager']['session']){const _0x44f548=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x82bd3d&&_0x82bd3d(_0x44f548),this['fire']('error',_0x44f548);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x41c24c,'entityTypes':_0x114a95['entityType'+'s']||void(-0x9ee+0x6*0x61f+0x46*-0x62),'offsetRay':_0x6f00d3})['then'](_0x35bc67=>{this['_onHitTest'+'Source'](_0x35bc67,!(-0x12a4+-0x155e+0x2803),_0x114a95['inputSourc'+'e'],_0x82bd3d);})['catch'](_0x38589c=>{_0x82bd3d&&_0x82bd3d(_0x38589c),this['fire']('error',_0x38589c);});})['catch'](_0x348ded=>{_0x82bd3d&&_0x82bd3d(_0x348ded),this['fire']('error',_0x348ded);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x114a95['profile'],'entityTypes':_0x114a95['entityType'+'s']||void(0xde0+-0x7*-0x517+-0x1*0x3181),'offsetRay':_0x6f00d3})['then'](_0x5d6b1c=>{this['_onHitTest'+'Source'](_0x5d6b1c,!(-0x726+0x1*-0x59e+0x4*0x331),_0x114a95['inputSourc'+'e'],_0x82bd3d);})['catch'](_0x19144f=>{_0x82bd3d&&_0x82bd3d(_0x19144f),this['fire']('error',_0x19144f);});}['_onHitTest'+'Source'](_0x36dcc9,_0x4acb73,_0x34f748,_0x2cc47b){if(!this['manager']['session']){_0x36dcc9['cancel']();const _0x4c3b8b=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x2cc47b&&_0x2cc47b(_0x4c3b8b),this['fire']('error',_0x4c3b8b);return;}const _0x5b26eb=new ju(this['manager'],_0x36dcc9,_0x4acb73,_0x34f748??null);this['sources']['push'](_0x5b26eb),_0x2cc47b&&_0x2cc47b(null,_0x5b26eb),this['fire']('add',_0x5b26eb);}['update'](_0x47e8eb){if(this['_available']){for(let _0x6ced57=-0xf94+-0x24db+-0x1f*-0x1b1;_0x6ced57<this['sources']['length'];_0x6ced57++)this['sources'][_0x6ced57]['update'](_0x47e8eb);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x4352da,_0x16a499){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0xe11+-0x17ff+-0x2*-0x4f7),h(this,'_trackable',!(-0x43e*-0x1+-0x10fd*-0x1+-0x153a)),h(this,'_tracking',!(0x1*-0x216f+0x5*0x3eb+0x1*0xdd9)),h(this,'_emulated',!(0x28c+-0x1eea+0x1c5f*0x1)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x4352da,this['_width']=_0x16a499);}get['image'](){return this['_image'];}set['width'](_0x1c166b){this['_width']=_0x1c166b;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1fab2b=>(this['_bitmap']=_0x1fab2b,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x2e2c88){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x1c9*0x1+-0x1d54+0x1b8c)),h(this,'_images',[]),(this['_manager']=_0x2e2c88,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x1eb44f,_0x156a99){if(!this['_supported']||this['_manager']['active'])return null;const _0x831f54=new Yu(_0x1eb44f,_0x156a99);return this['_images']['push'](_0x831f54),_0x831f54;}['remove'](_0x3dcaf6){if(this['_manager']['active'])return;const _0xf80d7f=this['_images']['indexOf'](_0x3dcaf6);_0xf80d7f!==-(-0x1893+-0x1*-0x288+0x160c)&&(_0x3dcaf6['destroy'](),this['_images']['splice'](_0xf80d7f,0x1ef0+-0x3*0x178+-0x1a87));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x270b31=>{this['_available']=!(0x14a6+0x2ba*0xb+0x39e*-0xe);for(let _0x4c4812=-0x1*-0x205f+-0x2*-0xab7+-0x1*0x35cd;_0x4c4812<_0x270b31['length'];_0x4c4812++)this['_images'][_0x4c4812]['_trackable']=_0x270b31[_0x4c4812]==='trackable';})['catch'](_0x5e78fc=>{this['_available']=!(-0x1*0x173b+0x1be*-0x6+-0xc4*-0x2c),this['fire']('error',_0x5e78fc);});}['_onSession'+'End'](){this['_available']=!(-0x571*0x3+0xbd7+0x47d);for(let _0x2a9c2d=-0xfa6+-0x750+0x16f6;_0x2a9c2d<this['_images']['length'];_0x2a9c2d++){const _0x58ee7b=this['_images'][_0x2a9c2d];_0x58ee7b['_pose']=null,_0x58ee7b['_measuredW'+'idth']=0x1fa0+-0x86*0x29+0x515*-0x2,_0x58ee7b['_tracking']&&(_0x58ee7b['_tracking']=!(-0x5*-0x6fb+0xd*0xcb+-0x2d35),_0x58ee7b['fire']('untracked'));}}['prepareIma'+'ges'](_0x17bfd0){this['_images']['length']?Promise['all'](this['_images']['map'](_0x59d19d=>_0x59d19d['prepare']()))['then'](_0x3e0039=>{_0x17bfd0(null,_0x3e0039);})['catch'](_0x90a49f=>{_0x17bfd0(_0x90a49f,null);}):_0x17bfd0(null,null);}['update'](_0x5a70b5){if(!this['_available'])return;const _0xf6e962=_0x5a70b5['getImageTr'+'ackingResu'+'lts'](),_0x29c38b={};for(let _0x3ddc33=0x1194+0x2*0x66b+-0x1e6a;_0x3ddc33<_0xf6e962['length'];_0x3ddc33++){_0x29c38b[_0xf6e962[_0x3ddc33]['index']]=_0xf6e962[_0x3ddc33];const _0x3e29a4=this['_images'][_0xf6e962[_0x3ddc33]['index']];_0x3e29a4['_emulated']=_0xf6e962[_0x3ddc33]['trackingSt'+'ate']==='emulated',_0x3e29a4['_measuredW'+'idth']=_0xf6e962[_0x3ddc33]['measuredWi'+'dthInMeter'+'s'],_0x3e29a4['_pose']=_0x5a70b5['getPose'](_0xf6e962[_0x3ddc33]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x35d345=0xd27+0xa4c+-0x1773;_0x35d345<this['_images']['length'];_0x35d345++)this['_images'][_0x35d345]['_tracking']&&!_0x29c38b[_0x35d345]?(this['_images'][_0x35d345]['_tracking']=!(0x4*0x649+0x1ac+-0x1acf),this['_images'][_0x35d345]['fire']('untracked')):!this['_images'][_0x35d345]['_tracking']&&_0x29c38b[_0x35d345]&&(this['_images'][_0x35d345]['_tracking']=!(-0x5d*-0x57+-0x2568+0x5cd),this['_images'][_0x35d345]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x225a1c,_0x41ac79){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x225a1c,this['_hand']=_0x41ac79,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x37c+-0x1*0x66b+0x2ef;l<AS['length'];l++)R0[AS[l]]=!(-0x21db+-0xbfc+-0x5*-0x92b);class CS{constructor(_0x1fa718,_0x2ea156,_0x5363eb,_0x4893eb=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x1*-0x19fd+0x399+0x1664)),(this['_index']=_0x1fa718,this['_id']=_0x2ea156,this['_hand']=_0x5363eb,this['_finger']=_0x4893eb,this['_wrist']=_0x2ea156==='wrist',this['_tip']=this['_finger']&&!!R0[_0x2ea156]);}['update'](_0x1b885e){this['_dirtyLoca'+'l']=!(0x214*-0x1+-0x2159+0x236d*0x1),this['_radius']=_0x1b885e['radius'],this['_localPosi'+'tion']['copy'](_0x1b885e['transform']['position']),this['_localRota'+'tion']['copy'](_0x1b885e['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x675+0x7cd+0x7*-0x31),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x3e5ee1=this['_hand']['_manager']['camera']['parent'];_0x3e5ee1?this['_worldTran'+'sform']['mul2'](_0x3e5ee1['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x83*-0x2d+-0xa3*-0x23+-0x1d0*0x19+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x2e7879){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0x13*0x172+0x1431*-0x1+-0x744)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x3ecb3e=_0x2e7879['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x2e7879['_manager'],this['_inputSour'+'ce']=_0x2e7879,_0x3ecb3e['get']('wrist')){const _0x307351=new CS(0xdbd+0x1a27+-0x6a6*0x6,'wrist',this,null);this['_wrist']=_0x307351,this['_joints']['push'](_0x307351),this['_jointsByI'+'d']['wrist']=_0x307351;}for(let _0x2414cd=-0xcce+0x11d8+0x56*-0xf;_0x2414cd<rh['length'];_0x2414cd++){const _0xeccf28=new uU(_0x2414cd,this);for(let _0x5b2e4e=-0x943+0x2c9+0x67a;_0x5b2e4e<rh[_0x2414cd]['length'];_0x5b2e4e++){const _0x30ae45=rh[_0x2414cd][_0x5b2e4e];if(!_0x3ecb3e['get'](_0x30ae45))continue;const _0xe39876=new CS(_0x5b2e4e,_0x30ae45,this,_0xeccf28);this['_joints']['push'](_0xe39876),this['_jointsByI'+'d'][_0x30ae45]=_0xe39876,_0xe39876['tip']&&(this['_tips']['push'](_0xe39876),_0xeccf28['_tip']=_0xe39876),_0xeccf28['_joints']['push'](_0xe39876);}}}['update'](_0x6f89bd){const _0x510c7f=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x5f1030=0x2036+0x1*-0x2197+0x161;_0x5f1030<this['_joints']['length'];_0x5f1030++){const _0x244aee=this['_joints'][_0x5f1030],_0x5251d0=_0x510c7f['hand']['get'](_0x244aee['_id']);if(_0x5251d0){let _0x464a85;if(_0x6f89bd['session']['visibility'+'State']!=='hidden'&&(_0x464a85=_0x6f89bd['getJointPo'+'se'](_0x5251d0,this['_manager']['_reference'+'Space'])),_0x464a85)_0x244aee['update'](_0x464a85),_0x244aee['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1265+-0xae*-0x21+0x1*-0x28d3),this['fire']('tracking'));else{if(_0x244aee['wrist']){this['_tracking']&&(this['_tracking']=!(-0x99d+-0xc3a*0x1+0x15d8),this['fire']('trackinglo'+'st'));break;}}}}const _0x24943c=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x305445=this['_jointsByI'+'d']['thumb-tip'],_0xf4d630=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x511029=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x4b7315=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0xd98111=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x24943c&&_0x305445&&_0xf4d630&&_0x511029&&_0x4b7315&&_0xd98111){this['_inputSour'+'ce']['_dirtyRay']=!(-0x17dc+0x11*0x137+-0x1*-0x335),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x305445['_localPosi'+'tion'],_0x511029['_localPosi'+'tion'],0x2*-0x2c0+0x12f*-0x1f+0x2a31+0.5);let _0x4ed726=_0x24943c,_0x5af44b=_0xd98111;if(this['_inputSour'+'ce']['handedness']===hU){const _0x568113=_0x4ed726;_0x4ed726=_0x5af44b,_0x5af44b=_0x568113;}Wr['sub2'](_0x4ed726['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x5af44b['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0xf4d630['_localPosi'+'tion'],_0x4b7315['_localPosi'+'tion'],-0x2c*-0x59+0x1f63+0x143*-0x25+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0x4*0x526+0x1*-0x1315+-0x183+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x39f+-0x173e+0x13a0)&&this['_fingerIsC'+'losed'](0x8da+0x3*0x831+0x1*-0x216b)&&this['_fingerIsC'+'losed'](-0x1d2c+0x3ed+0x7a*0x35)&&this['_fingerIsC'+'losed'](0xf6c+0x119c+-0x4*0x841)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x221a+-0xee9+0x3103),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x525*-0x1+-0x116f+-0x3*-0x419),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x307431){const _0x2b9fe1=this['_fingers'][_0x307431];return Wr['sub2'](_0x2b9fe1['joints'][-0x9de+0x1*-0x716+0x10f4]['_localPosi'+'tion'],_0x2b9fe1['joints'][-0xd68+-0xa3c+0x17a5*0x1]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x2b9fe1['joints'][-0xe4e*-0x2+0x1471+0x1*-0x310b]['_localPosi'+'tion'],_0x2b9fe1['joints'][-0xd*0x2dd+0x1615+0xf27]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(0x18ff+-0xeaa+-0xa55+0.8);}['getJointBy'+'Id'](_0x276d4a){return this['_jointsByI'+'d'][_0x276d4a]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x5da*-0x1+0x122e+-0x1808;class Qt extends me{constructor(_0x29cb4b,_0x57e445){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0xd3c+0x1*-0x242a+0x3167)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x8ee+0x2307+-0x15fa*0x2)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0xba+0x408+0x34e*-0x1)),h(this,'_dirtyRay',!(-0xe95*0x1+-0x1567*0x1+0x23fd)),h(this,'_selecting',!(0x251*0x1+-0x1c05+0x1*0x19b5)),h(this,'_squeezing',!(0x238a+-0x268c+-0x3*-0x101)),h(this,'_elementIn'+'put',!(-0xa6*0x1f+-0x1f74+0x338e)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x29cb4b,this['_xrInputSo'+'urce']=_0x57e445,_0x57e445['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2c7396){this['_elementIn'+'put']!==_0x2c7396&&(this['_elementIn'+'put']=_0x2c7396,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x4d0a41){if(this['_hand'])this['_hand']['update'](_0x4d0a41);else{const _0xee4d7=this['_xrInputSo'+'urce']['gripSpace'];if(_0xee4d7){const _0x49706f=_0x4d0a41['getPose'](_0xee4d7,this['_manager']['_reference'+'Space']);if(_0x49706f){this['_grip']||(this['_grip']=!(0x151e+-0x6*0x274+0x6*-0x111),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x42c247=de(),_0x28ed58=(_0x42c247-this['_velocitie'+'sTimestamp'])/(0x16b9+-0x1715+0x444);this['_velocitie'+'sTimestamp']=_0x42c247,this['_dirtyLoca'+'l']=!(0x22eb+0x1*0x2001+-0x42ec),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x49706f['transform']['position']),this['_localRota'+'tion']['copy'](_0x49706f['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x2c5*0x3+-0x8d1+0x82),this['_manager']['input']['velocities'+'Supported']&&_0x49706f['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x49706f['linearVelo'+'city']):_0x28ed58>0x18fb*-0x1+0x8c8+0x1d*0x8f&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x28ed58),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0xe3*0x1b+0x12c+0x85f*-0x3+0.15));}else this['_velocitie'+'sAvailable']=!(0x1d08+0x7a9*-0x5+0x946);}const _0xc68d1d=_0x4d0a41['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0xc68d1d&&(this['_dirtyRay']=!(-0x7bb*0x4+0x81b+-0x63*-0x3b),this['_rayLocal']['origin']['copy'](_0xc68d1d['transform']['position']),this['_rayLocal']['direction']['set'](0x1*0x162b+-0x15c9+-0x1*0x62,0x1*-0x26de+-0x97f*0x4+0x4cda,-(-0xe*0x1bf+0xd6*-0xd+0x2351*0x1)),DS['copy'](_0xc68d1d['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0xab0+-0x4e2*0x5+-0x5*-0x2bf),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x9f5dd1=this['_manager']['camera']['parent'];_0x9f5dd1?this['_worldTran'+'sform']['mul2'](_0x9f5dd1['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x443032=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x25c8+-0x107*0x4+-0xa5*-0x41),this['_manager']['camera']['parent']){const _0x422711=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x422711['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x422711),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x443032&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x570fdb={}){_0x570fdb['inputSourc'+'e']=this,_0x570fdb['profile']=this['_xrInputSo'+'urce']['profiles'][-0x30d+0x4c0+-0x1*0x1b3];const _0x4c10d7=_0x570fdb['callback'];_0x570fdb['callback']=(_0x4f6886,_0x8b33d6)=>{_0x8b33d6&&this['onHitTestS'+'ourceAdd'](_0x8b33d6),_0x4c10d7&&_0x4c10d7(_0x4f6886,_0x8b33d6);},this['_manager']['hitTest']['start'](_0x570fdb);}['onHitTestS'+'ourceAdd'](_0x551e25){this['_hitTestSo'+'urces']['push'](_0x551e25),this['fire']('hittest:ad'+'d',_0x551e25),_0x551e25['on']('result',(_0x2445aa,_0x26a45e,_0xdb0557,_0x16e8a7)=>{_0xdb0557===this&&this['fire']('hittest:re'+'sult',_0x551e25,_0x2445aa,_0x26a45e,_0x16e8a7);}),_0x551e25['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x551e25),this['fire']('hittest:re'+'move',_0x551e25);});}['onHitTestS'+'ourceRemov'+'e'](_0x3c51c9){const _0x12f86d=this['_hitTestSo'+'urces']['indexOf'](_0x3c51c9);_0x12f86d!==-(0x1f2d+-0x1334*-0x1+-0x3260)&&this['_hitTestSo'+'urces']['splice'](_0x12f86d,0x59*0x1b+0x1876+-0x21d8);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x2e1b4b){var _0x1286b9,_0x3e2154;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x151b+0x16ee*0x1+-0x1d2)),(this['manager']=_0x2e1b4b,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x3e2154=(_0x1286b9=window['XRPose'])==null?void(-0x204a+0x29*0x9+-0x1ed9*-0x1):_0x1286b9['prototype'])!=null&&_0x3e2154['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x4f1b9c=>{this['_onInputSo'+'urcesChang'+'e'](_0x4f1b9c);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x41463b=this['manager']['session'];_0x41463b['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x41463b['addEventLi'+'stener']('select',_0x5340a3=>{const _0x27a0f5=this['_getByInpu'+'tSource'](_0x5340a3['inputSourc'+'e']);_0x27a0f5['update'](_0x5340a3['frame']),_0x27a0f5['fire']('select',_0x5340a3),this['fire']('select',_0x27a0f5,_0x5340a3);}),_0x41463b['addEventLi'+'stener']('selectstar'+'t',_0x857027=>{const _0x5bd7f7=this['_getByInpu'+'tSource'](_0x857027['inputSourc'+'e']);_0x5bd7f7['_selecting']||(_0x5bd7f7['update'](_0x857027['frame']),_0x5bd7f7['_selecting']=!(-0x162e+0x5b0+0x107e),_0x5bd7f7['fire']('selectstar'+'t',_0x857027),this['fire']('selectstar'+'t',_0x5bd7f7,_0x857027));}),_0x41463b['addEventLi'+'stener']('selectend',_0x5eedc5=>{const _0x3dc0cf=this['_getByInpu'+'tSource'](_0x5eedc5['inputSourc'+'e']);_0x3dc0cf['update'](_0x5eedc5['frame']),_0x3dc0cf['_selecting']=!(0x2652+-0xb4f+0xd81*-0x2),_0x3dc0cf['fire']('selectend',_0x5eedc5),this['fire']('selectend',_0x3dc0cf,_0x5eedc5);}),_0x41463b['addEventLi'+'stener']('squeeze',_0x1af0fe=>{const _0x3d04c5=this['_getByInpu'+'tSource'](_0x1af0fe['inputSourc'+'e']);_0x3d04c5['update'](_0x1af0fe['frame']),_0x3d04c5['fire']('squeeze',_0x1af0fe),this['fire']('squeeze',_0x3d04c5,_0x1af0fe);}),_0x41463b['addEventLi'+'stener']('squeezesta'+'rt',_0x78f5a0=>{const _0x18e534=this['_getByInpu'+'tSource'](_0x78f5a0['inputSourc'+'e']);_0x18e534['update'](_0x78f5a0['frame']),_0x18e534['_squeezing']=!(0x3*-0x122+-0x1303+0x1669),_0x18e534['fire']('squeezesta'+'rt',_0x78f5a0),this['fire']('squeezesta'+'rt',_0x18e534,_0x78f5a0);}),_0x41463b['addEventLi'+'stener']('squeezeend',_0x31a9e5=>{const _0x3d8511=this['_getByInpu'+'tSource'](_0x31a9e5['inputSourc'+'e']);_0x3d8511['update'](_0x31a9e5['frame']),_0x3d8511['_squeezing']=!(-0xdbe+0x2172+-0x1*0x13b3),_0x3d8511['fire']('squeezeend',_0x31a9e5),this['fire']('squeezeend',_0x3d8511,_0x31a9e5);});const _0x3bc3d2=_0x41463b['inputSourc'+'es'];for(let _0x1fecae=0x57d+0x19af+0xe4*-0x23;_0x1fecae<_0x3bc3d2['length'];_0x1fecae++)this['_addInputS'+'ource'](_0x3bc3d2[_0x1fecae]);}['_onSession'+'End'](){let _0x43b13b=this['_inputSour'+'ces']['length'];for(;_0x43b13b--;){const _0x145e9d=this['_inputSour'+'ces'][_0x43b13b];this['_inputSour'+'ces']['splice'](_0x43b13b,-0x262e+0xb1*0x1+-0x12bf*-0x2),_0x145e9d['fire']('remove'),this['fire']('remove',_0x145e9d);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x2ee416){for(let _0x11a4f2=-0x7*0x1+-0xf56+0x13*0xcf;_0x11a4f2<_0x2ee416['removed']['length'];_0x11a4f2++)this['_removeInp'+'utSource'](_0x2ee416['removed'][_0x11a4f2]);for(let _0x21f2c5=0x25b2+0x1968+-0x3f1a;_0x21f2c5<_0x2ee416['added']['length'];_0x21f2c5++)this['_addInputS'+'ource'](_0x2ee416['added'][_0x21f2c5]);}['_getByInpu'+'tSource'](_0x2233a6){for(let _0x10461d=0x118*-0x3+0xe6d+-0xb25;_0x10461d<this['_inputSour'+'ces']['length'];_0x10461d++)if(this['_inputSour'+'ces'][_0x10461d]['inputSourc'+'e']===_0x2233a6)return this['_inputSour'+'ces'][_0x10461d];return null;}['_removeApp'+'Entity'](_0x35e02f){const _0x47def8=this['manager']['app']['root']['findByName']('Armature_'+_0x35e02f);_0x47def8&&this['manager']['app']['root']['removeChil'+'d'](_0x47def8);}['_addInputS'+'ource'](_0xa3f2d1){if(this['_removeApp'+'Entity'](_0xa3f2d1['handedness']),this['_getByInpu'+'tSource'](_0xa3f2d1))return;const _0x2acf8b=new Qt(this['manager'],_0xa3f2d1);this['_inputSour'+'ces']['push'](_0x2acf8b),this['fire']('add',_0x2acf8b);}['_removeInp'+'utSource'](_0x133e1e){for(let _0x5d0457=-0x2192+-0x3*-0xbf6+-0x250;_0x5d0457<this['_inputSour'+'ces']['length'];_0x5d0457++){if(this['_inputSour'+'ces'][_0x5d0457]['inputSourc'+'e']!==_0x133e1e)continue;const _0x3f6cc2=this['_inputSour'+'ces'][_0x5d0457];this['_inputSour'+'ces']['splice'](_0x5d0457,0x1f*-0x125+-0x384+-0x680*-0x6);let _0x2750e7=_0x3f6cc2['hitTestSou'+'rces']['length'];for(;_0x2750e7--;)_0x3f6cc2['hitTestSou'+'rces'][_0x2750e7]['remove']();this['_removeApp'+'Entity'](_0x3f6cc2['handedness']),_0x3f6cc2['fire']('remove'),this['fire']('remove',_0x3f6cc2);return;}}['update'](_0x21c36c){for(let _0x22ac8e=-0x12fe+-0x21e8+0x3*0x11a2;_0x22ac8e<this['_inputSour'+'ces']['length'];_0x22ac8e++)this['_inputSour'+'ces'][_0x22ac8e]['update'](_0x21c36c);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x18b3ca){super(),h(this,'_manager'),h(this,'_supported',!(0x4e6+-0x14d4*-0x1+-0x19b9*0x1)),h(this,'_available',!(0x1ff6+0x8*-0x3b3+-0x25d)),h(this,'_lightProb'+'eRequested',!(0x75b*0x3+-0x14c7*-0x1+0x1*-0x2ad7)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0x5f*0xa+-0x1acb+0x1e81),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x2541+-0x21ff+-0x327)),(this['_manager']=_0x18b3ca,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x1928+-0xb73+0x249b));}['_onSession'+'End'](){this['_supported']=!(0x117e+0xb3c+-0x1cb9),this['_available']=!(0x4c8+-0x5*-0x47+0x2*-0x315),this['_lightProb'+'eRequested']=!(0x14*-0x59+-0x8c8*-0x1+-0x1*0x1d3),this['_lightProb'+'e']=null;}['start'](){let _0x3e0a66;if(this['_manager']['session']||(_0x3e0a66=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3e0a66&&this['_manager']['type']!==$o&&(_0x3e0a66=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3e0a66&&!this['_supported']&&(_0x3e0a66=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3e0a66&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3e0a66=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3e0a66){this['fire']('error',_0x3e0a66);return;}this['_lightProb'+'eRequested']=!(-0x2100+-0x2*0x9eb+-0x2*-0x1a6b),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x7b2756=>{const _0x16d657=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x2679+0x611+0x2c89*-0x1),this['_manager']['active']?_0x16d657&&(this['_lightProb'+'e']=_0x7b2756):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x23b4c0=>{this['_lightProb'+'eRequested']=!(-0x6f*-0xd+0x1f6c*-0x1+0x19ca),this['fire']('error',_0x23b4c0);});}['end'](){this['_lightProb'+'eRequested']=!(0x1573*0x1+-0x2*-0x92c+-0x27ca),this['_lightProb'+'e']=null,this['_available']=!(-0x174b+0x2*0x6e7+0x97e);}['update'](_0x1ab6cf){if(!this['_lightProb'+'e'])return;const _0x484f9a=_0x1ab6cf['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x484f9a)return;this['_available']||(this['_available']=!(0x3e*-0x8b+-0x781+0xdb9*0x3),this['fire']('available'));const _0xb553d8=_0x484f9a['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x1152*0x2+0x66a+-0x49*-0x63,Math['max'](_0xb553d8['x'],Math['max'](_0xb553d8['y'],_0xb553d8['z']))),Ja['copy'](_0xb553d8)['mulScalar']((-0x21bb+0xdf1+0x13cb)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0x1f02+-0x13f8+0x32fa,-0x1*0x10b+0x3*-0x869+0x1a46,0x167d+0xdcd+-0x244a),IS['copy'](_0x484f9a['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x107+0xfe0+-0x4d5*0x3),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x484f9a['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0x24fa+-0x212b*0x1+0x4625;class Qu extends me{constructor(_0x289062,_0x3fae56){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x289062,this['_xrPlane']=_0x3fae56,this['_lastChang'+'edTime']=_0x3fae56['lastChange'+'dTime'],this['_orientati'+'on']=_0x3fae56['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x117f72){const _0x3dd48e=this['_planeDete'+'ction']['_manager'],_0x22a671=_0x117f72['getPose'](this['_xrPlane']['planeSpace'],_0x3dd48e['_reference'+'Space']);_0x22a671&&(this['_position']['copy'](_0x22a671['transform']['position']),this['_rotation']['copy'](_0x22a671['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x5d2512){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x1331+0x21bc+-0x34ec)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x5d2512,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x66a*-0x6+0x27a+-0x28f5)&&(this['_available']=!(-0xf6*0x1+0x1*0x1256+-0x1160),this['fire']('available'));}['_onSession'+'End'](){for(let _0x5043b4=-0x78b+-0xea4*-0x2+-0x15bd;_0x5043b4<this['_planes']['length'];_0x5043b4++)this['_planes'][_0x5043b4]['destroy'](),this['fire']('remove',this['_planes'][_0x5043b4]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x19dc*-0x1+-0x6ca+-0x1312,this['_available']&&(this['_available']=!(0x9d1+-0x2192+0x17c2),this['fire']('unavailabl'+'e'));}['update'](_0x226e6e){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x226e6e['detectedPl'+'anes']['size'])this['_available']=!(0x1369+0x4*-0x733+0x963*0x1),this['fire']('available');else return;}const _0x53c760=_0x226e6e['detectedPl'+'anes'];for(const [_0x2e2dae,_0x223767]of this['_planesInd'+'ex'])_0x53c760['has'](_0x2e2dae)||(this['_planesInd'+'ex']['delete'](_0x2e2dae),this['_planes']['splice'](this['_planes']['indexOf'](_0x223767),0x7*0x155+-0x1791*-0x1+0x20e3*-0x1),_0x223767['destroy'](),this['fire']('remove',_0x223767));for(const _0x42a2a0 of _0x53c760){let _0x3f3732=this['_planesInd'+'ex']['get'](_0x42a2a0);_0x3f3732?_0x3f3732['update'](_0x226e6e):(_0x3f3732=new Qu(this,_0x42a2a0),this['_planesInd'+'ex']['set'](_0x42a2a0,_0x3f3732),this['_planes']['push'](_0x3f3732),_0x3f3732['update'](_0x226e6e),this['fire']('add',_0x3f3732));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x3e9a1c,_0xb7588,_0x43009f=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x3e9a1c,this['_xrAnchor']=_0xb7588,this['_uuid']=_0x43009f);}['destroy'](){if(!this['_xrAnchor'])return;const _0x254185=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x254185,this);}['update'](_0x29cdb1){if(!this['_xrAnchor'])return;const _0x9bdafc=_0x29cdb1['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x9bdafc){if(this['_position']['equals'](_0x9bdafc['transform']['position'])&&this['_rotation']['equals'](_0x9bdafc['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x9bdafc['transform']['position']),this['_rotation']['copy'](_0x9bdafc['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x2900d4){if(!this['_anchors']['persistenc'+'e']){_0x2900d4==null||_0x2900d4(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x2900d4==null||_0x2900d4(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x2900d4&&this['_uuidReque'+'sts']['push'](_0x2900d4);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x4bc198=>{this['_uuid']=_0x4bc198,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x2900d4==null||_0x2900d4(null,_0x4bc198);for(const _0xf3aa4b of this['_uuidReque'+'sts'])_0xf3aa4b(null,_0x4bc198);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x4bc198);})['catch'](_0x4e0c19=>{_0x2900d4==null||_0x2900d4(_0x4e0c19,null);for(const _0x1e84dd of this['_uuidReque'+'sts'])_0x1e84dd(_0x4e0c19,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x28d129){if(!this['_uuid']){_0x28d129==null||_0x28d129(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x2e38ce=>{this['_uuid']=null,_0x28d129==null||_0x28d129(_0x2e38ce),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x535ec5){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x23ee+0x23d3+-0x47c0)),h(this,'_checkingA'+'vailabilit'+'y',!(0x1319*-0x2+-0x130f+0x3942)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x935+0x342+-0xc77):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x535ec5,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x3a2431;const _0x5343f4=((_0x3a2431=this['manager']['session']['enabledFea'+'tures'])==null?void(0x14f5+-0x14a2+0x1*-0x53):_0x3a2431['indexOf']('anchors'))>=-0x2ae+-0x14e8+0x1796;_0x5343f4&&(this['_available']=_0x5343f4,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x11*0x225+0x16db*-0x1+0x3b*-0x3b);for(let _0x5b7934=-0x1fc1+-0x1*-0x1419+-0xba8*-0x1;_0x5b7934<this['_creationQ'+'ueue']['length'];_0x5b7934++)this['_creationQ'+'ueue'][_0x5b7934]['callback']&&this['_creationQ'+'ueue'][_0x5b7934]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x2456+-0x837*-0x2+-0x34c4,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x45eb6a=this['_list']['length'];for(;_0x45eb6a--;)this['_list'][_0x45eb6a]['destroy']();this['_list']['length']=-0x1e92+0x6ce+0x17c4,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x4bd2fa,_0x5cfb54=null){const _0x3d4102=new Io(this,_0x4bd2fa,_0x5cfb54);return this['_index']['set'](_0x4bd2fa,_0x3d4102),_0x5cfb54&&this['_indexByUu'+'id']['set'](_0x5cfb54,_0x3d4102),this['_list']['push'](_0x3d4102),_0x3d4102['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x3d4102;}['_onAnchorD'+'estroy'](_0x3afb6d,_0x505ff7){this['_index']['delete'](_0x3afb6d),_0x505ff7['uuid']&&this['_indexByUu'+'id']['delete'](_0x505ff7['uuid']);const _0xd7ce14=this['_list']['indexOf'](_0x505ff7);_0xd7ce14!==-(-0x3*-0x9f7+-0x999+0x5*-0x40f)&&this['_list']['splice'](_0xd7ce14,-0x10*0x259+0x3a3+0x21ee),this['fire']('destroy',_0x505ff7);}['create'](_0x3e3fc8,_0x2dc6ef,_0x28be7a){if(!this['_available']){_0x28be7a==null||_0x28be7a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x3e3fc8 instanceof XRHitTestResult){const _0x439b55=_0x3e3fc8;if(_0x28be7a=_0x2dc6ef,!this['_supported']){_0x28be7a==null||_0x28be7a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x439b55['createAnch'+'or']){_0x28be7a==null||_0x28be7a(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x439b55['createAnch'+'or']()['then'](_0x55eab0=>{const _0x3af1ce=this['_createAnc'+'hor'](_0x55eab0);_0x28be7a==null||_0x28be7a(null,_0x3af1ce),this['fire']('add',_0x3af1ce);})['catch'](_0x58bee3=>{_0x28be7a==null||_0x28be7a(_0x58bee3,null),this['fire']('error',_0x58bee3);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x3e3fc8,_0x2dc6ef),'callback':_0x28be7a});}['restore'](_0x403672,_0x20ffe7){if(!this['_available']){_0x20ffe7==null||_0x20ffe7(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x20ffe7==null||_0x20ffe7(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x20ffe7==null||_0x20ffe7(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x403672)['then'](_0x287dc1=>{const _0x6e7893=this['_createAnc'+'hor'](_0x287dc1,_0x403672);_0x20ffe7==null||_0x20ffe7(null,_0x6e7893),this['fire']('add',_0x6e7893);})['catch'](_0x1c609c=>{_0x20ffe7==null||_0x20ffe7(_0x1c609c,null),this['fire']('error',_0x1c609c);});}['forget'](_0x12cef0,_0x594e56){if(!this['_available']){_0x594e56==null||_0x594e56(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x594e56==null||_0x594e56(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x594e56==null||_0x594e56(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x12cef0)['then'](()=>{_0x594e56==null||_0x594e56(null);})['catch'](_0x273216=>{_0x594e56==null||_0x594e56(_0x273216),this['fire']('error',_0x273216);});}['update'](_0x4637df){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x50d+0xcee+-0x1*0x11fb),_0x4637df['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x3e11b7=>{_0x3e11b7['delete'](),this['manager']['active']&&(this['_available']=!(0x1*-0x147d+0x6*0x116+0xdf9),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x303b3a=0x9eb+-0x196a+-0xf7f*-0x1;_0x303b3a<this['_creationQ'+'ueue']['length'];_0x303b3a++){const _0x338bee=this['_creationQ'+'ueue'][_0x303b3a];_0x4637df['createAnch'+'or'](_0x338bee['transform'],this['manager']['_reference'+'Space'])['then'](_0x4388ae=>{_0x338bee['callback']&&this['_callbacks'+'Anchors']['set'](_0x4388ae,_0x338bee['callback']);})['catch'](_0x1d1519=>{_0x338bee['callback']&&_0x338bee['callback'](_0x1d1519,null),this['fire']('error',_0x1d1519);});}this['_creationQ'+'ueue']['length']=0x4ab*0x4+-0x133*-0x13+-0x1*0x2975;}for(const [_0xb135f1,_0x53f19a]of this['_index'])_0x4637df['trackedAnc'+'hors']['has'](_0xb135f1)||(this['_index']['delete'](_0xb135f1),_0x53f19a['destroy']());for(let _0x2cb1db=0x22b5+-0x223e+-0x77;_0x2cb1db<this['_list']['length'];_0x2cb1db++)this['_list'][_0x2cb1db]['update'](_0x4637df);for(const _0x49ff95 of _0x4637df['trackedAnc'+'hors']){if(this['_index']['has'](_0x49ff95))continue;try{const _0x481266=_0x49ff95['anchorSpac'+'e'];}catch{continue;}const _0x16ba61=this['_createAnc'+'hor'](_0x49ff95);_0x16ba61['update'](_0x4637df);const _0x48a9bb=this['_callbacks'+'Anchors']['get'](_0x49ff95);_0x48a9bb&&(this['_callbacks'+'Anchors']['delete'](_0x49ff95),_0x48a9bb(null,_0x16ba61)),this['fire']('add',_0x16ba61);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x16040c,_0x2c4acd){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x7*0x17b+-0xa06+0x1463),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x16040c,this['_xrMesh']=_0x2c4acd,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x4ed9a2){const _0x43f9dd=this['_meshDetec'+'tion']['_manager'],_0x4a813f=_0x4ed9a2['getPose'](this['_xrMesh']['meshSpace'],_0x43f9dd['_reference'+'Space']);_0x4a813f&&(this['_position']['copy'](_0x4a813f['transform']['position']),this['_rotation']['copy'](_0x4a813f['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x4eaf1f){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x1f64+-0x1357+0x4*0xcaf)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x4eaf1f,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x44b98c){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x44b98c['detectedMe'+'shes']['size'])this['_available']=!(0x2489+-0x2f1*-0x7+-0x3920*0x1),this['fire']('available');else return;}for(const _0x546e65 of _0x44b98c['detectedMe'+'shes']){let _0x596bc4=this['_index']['get'](_0x546e65);_0x596bc4?_0x596bc4['update'](_0x44b98c):(_0x596bc4=new Ju(this,_0x546e65),this['_index']['set'](_0x546e65,_0x596bc4),this['_list']['push'](_0x596bc4),_0x596bc4['update'](_0x44b98c),this['fire']('add',_0x596bc4));}for(const _0x406cd8 of this['_index']['values']())_0x44b98c['detectedMe'+'shes']['has'](_0x406cd8['xrMesh'])||this['_removeMes'+'h'](_0x406cd8);}['_removeMes'+'h'](_0x1dd5b2){this['_index']['delete'](_0x1dd5b2['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x1dd5b2),0x202d+0x1*0x1a9e+-0x3aca),_0x1dd5b2['destroy'](),this['fire']('remove',_0x1dd5b2);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x158872=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x1ff+-0x57f+0x1*0x77f);if(!_0x158872)return;this['_available']=_0x158872,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x20af+0x6c5+0x2773*-0x1);for(const _0x4941cf of this['_index']['values']())this['_removeMes'+'h'](_0x4941cf);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x1c54da,_0x47c4a2,_0x3d46f0){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0xa*0x391+0x2*-0x2bb+-0x1e31)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0xf0f*-0x1+-0xc06+0x1b35)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x1c54da,this['_xrView']=_0x47c4a2);const _0x25453d=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x25453d,{'format':Cr,'mipmaps':!(-0x18c9+0xe2b+0xa9f*0x1),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x385b65=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x25453d,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x3d46f0===0x100f*0x2+0x1fe6+-0x925*0x7?0xaae+-0x7b4*-0x2+0x35*-0x7e:_0x3d46f0,'mipmaps':!(-0x1a10+0x22e5+0x14*-0x71),'addressU':ue,'addressV':ue,'minFilter':_0x385b65,'magFilter':_0x385b65,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x14017=-0x2*-0x104e+-0x17e+-0x1f1e;_0x14017<this['_textureDe'+'pth']['_levels']['length'];_0x14017++)this['_textureDe'+'pth']['_levels'][_0x14017]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x25453d['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x573080;return((_0x573080=this['_depthInfo'])==null?void(-0x12fe+-0x1*0x12a1+0x259f):_0x573080['rawValueTo'+'Meters'])||0x2d*-0xae+-0x389+0x221f;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x1d5256,_0x45096a){this['_xrView']=_0x45096a,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x150e1b=_0x1d5256['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x150e1b['x'],this['_viewport']['y']=_0x150e1b['y'],this['_viewport']['z']=_0x150e1b['width'],this['_viewport']['w']=_0x150e1b['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x1d5256);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x375266=this['_manager']['webglBindi'+'ng'];if(!_0x375266)return;const _0x1cc4dc=_0x375266['getCameraI'+'mage'](this['_xrCamera']);if(!_0x1cc4dc)return;const _0x397feb=this['_manager']['app']['graphicsDe'+'vice'],_0x3c9791=_0x397feb['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x3c9791['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x3c9791['createFram'+'ebuffer']();else{const _0x4a810b=_0x3c9791['COLOR_ATTA'+'CHMENT0'],_0x544cff=this['_xrCamera']['width'],_0x52c2a3=this['_xrCamera']['height'];_0x397feb['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x3c9791['framebuffe'+'rTexture2D'](_0x3c9791['FRAMEBUFFE'+'R'],_0x4a810b,_0x3c9791['TEXTURE_2D'],_0x1cc4dc,-0x818+0x2422+0xc2*-0x25),_0x397feb['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x3c9791['framebuffe'+'rTexture2D'](_0x3c9791['FRAMEBUFFE'+'R'],_0x4a810b,_0x3c9791['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x33d+0x6*-0x447+0x1ce7*0x1),_0x3c9791['bindFrameb'+'uffer'](_0x3c9791['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x3c9791['bindFrameb'+'uffer'](_0x3c9791['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x3c9791['blitFrameb'+'uffer'](0x17*-0x170+0x7*-0x557+-0x3*-0x177b,_0x52c2a3,_0x544cff,0x2df*0x7+-0x1703+0x2ea,-0x371+0x1*-0x13bb+0x172c,0xef3+0xf1f+-0x1e12,_0x544cff,_0x52c2a3,_0x3c9791['COLOR_BUFF'+'ER_BIT'],_0x3c9791['NEAREST']);}}['_updateDep'+'th'](_0x514f5d){var _0x5efcbe,_0x7a364b;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x2826da=this['_manager']['views']['depthGpuOp'+'timized'],_0x2b9017=_0x2826da?this['_manager']['webglBindi'+'ng']:_0x514f5d;if(!_0x2b9017){this['_depthInfo']=null;return;}const _0x2bd733=_0x2b9017['getDepthIn'+'formation'](this['_xrView']);if(!_0x2bd733){this['_depthInfo']=null;return;}let _0xeed01f=!this['_depthInfo']!=!_0x2bd733;this['_depthInfo']=_0x2bd733;const _0x2e062c=((_0x5efcbe=this['_depthInfo'])==null?void(0x398+-0x1ec4+0x1b2c):_0x5efcbe['width'])||0xf9+0x1*0x851+-0x946,_0x57b13d=((_0x7a364b=this['_depthInfo'])==null?void(0x2*0x1383+-0x541+-0x21c5):_0x7a364b['height'])||0xaf+0x49c*-0x5+0x1661;let _0x439c01=!(0xf*0x10d+0xa83+-0x1a45);if((this['_textureDe'+'pth']['width']!==_0x2e062c||this['_textureDe'+'pth']['height']!==_0x57b13d)&&(this['_textureDe'+'pth']['_width']=_0x2e062c,this['_textureDe'+'pth']['_height']=_0x57b13d,_0xeed01f=!(0x1*0x23bb+-0x43f*0x4+0x1*-0x12bf),_0x439c01=!(-0x2e4*0x4+-0x1505+0x1*0x2095)),_0xeed01f&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x2826da){if(this['_depthInfo']['texture']){const _0x4523cb=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x4523cb['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x4523cb['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x4523cb['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x4523cb['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x4523cb['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x4523cb['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x4523cb['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x4523cb['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x332+-0x2575+-0x3*-0xd8d);}}else this['_textureDe'+'pth']['_levels'][-0x427*0x8+0x3cf+-0x1*-0x1d69]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0xa6+0x189f+-0x11*0x169]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x439c01&&this['fire']('depth:resi'+'ze',_0x2e062c,_0x57b13d);}['updateTran'+'sforms'](_0x4b0694){_0x4b0694?(this['_viewInvOf'+'fMat']['mul2'](_0x4b0694,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x2*0x136b+-0x757*-0x1+-0x2e2d]=this['_viewInvOf'+'fMat']['data'][-0x1*0x599+-0x1eda+0x247f],this['_positionD'+'ata'][-0x719+0x22d0+-0x1bb6]=this['_viewInvOf'+'fMat']['data'][0x10a8+0x87b+-0x1916],this['_positionD'+'ata'][-0x11c5+0x425*0x4+0x133]=this['_viewInvOf'+'fMat']['data'][0x9ea+0x1c*-0x7b+-0x2*-0x1cc];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x2ccf9b,_0x31817f){var _0x5c3d2b;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x5c3d2b=this['_depthInfo'])==null?void(0x1*0x6b+-0x7c9+-0x2*-0x3af):_0x5c3d2b['getDepthIn'+'Meters'](_0x2ccf9b,_0x31817f))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x48df20=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x48df20['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x48df20['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x9547e2){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x1a24+-0x1e2*-0x11+0x13*-0x4f)),h(this,'_available'+'Depth',!(-0x9*0x33c+0x1241*-0x1+0x2f5e)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x9547e2,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x6b5c4c,_0x41fd5d){for(let _0x51636b=-0x18a0+-0x76b+0x277*0xd;_0x51636b<_0x41fd5d['length'];_0x51636b++)this['_indexTmp']['set'](_0x41fd5d[_0x51636b]['eye'],_0x41fd5d[_0x51636b]);for(const [_0x44e410,_0x345e64]of this['_indexTmp']){let _0x20dfbf=this['_index']['get'](_0x44e410);_0x20dfbf?_0x20dfbf['update'](_0x6b5c4c,_0x345e64):(_0x20dfbf=new O0(this['_manager'],_0x345e64,_0x41fd5d['length']),this['_index']['set'](_0x44e410,_0x20dfbf),this['_list']['push'](_0x20dfbf),_0x20dfbf['update'](_0x6b5c4c,_0x345e64),this['fire']('add',_0x20dfbf));}for(const [_0x27ee2a,_0x1eaa98]of this['_index']){if(this['_indexTmp']['has'](_0x27ee2a))continue;_0x1eaa98['destroy'](),this['_index']['delete'](_0x27ee2a);const _0x44f591=this['_list']['indexOf'](_0x1eaa98);_0x44f591!==-(0x1557+0x2309*-0x1+0xdb3*0x1)&&this['_list']['splice'](_0x44f591,0x24e1+-0x15bf+-0xf21),this['fire']('remove',_0x1eaa98);}this['_indexTmp']['clear']();}['get'](_0x429d19){return this['_index']['get'](_0x429d19)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x8c9*0x1+-0x11d5+0x1*0x90d),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x196f+-0x1c90+0x3600),this['_available'+'Depth'])){const _0x51f3dd=this['_manager']['session'];this['_depthUsag'+'e']=_0x51f3dd['depthUsage'],this['_depthForm'+'at']=_0x51f3dd['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x5e3f3a of this['_index']['values']())_0x5e3f3a['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x2b*0x5d+0x1*0x63+-0x1001),this['_available'+'Depth']=!(-0x2091+0x2524+-0x492),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x567*0x3+0x2329+-0x12f4;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x4370d2){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x22b*-0xa+-0xc72+0x2220+0.1),h(this,'_depthFar',0x1b61+0x1369+-0x2ae2),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x22a0+-0xd6*0x2c+0x4768),h(this,'_height',0xfb*0x21+-0x1*-0x1520+-0x357b),h(this,'_framebuff'+'erScaleFac'+'tor',0x192b*-0x1+-0x2359+0x3c85*0x1),(this['app']=_0x4370d2,this['_available'][lU]=!(0x11f6+0xc7a+0x7*-0x459),this['_available'][cU]=!(0x1f*-0x94+0xe2f*-0x1+-0xf*-0x224),this['_available'][$o]=!(-0x10a0+0xa*-0xe3+0x1*0x197f),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x555e45,_0xe32777,_0x4617fe,_0x5b1763){let _0x39c1b4=_0x5b1763;if(typeof _0x5b1763=='object'&&(_0x39c1b4=_0x5b1763['callback']),!this['_available'][_0xe32777]){_0x39c1b4&&_0x39c1b4(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x39c1b4&&_0x39c1b4(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x555e45,this['_camera']['camera']['xr']=this,this['_type']=_0xe32777,this['_spaceType']=_0x4617fe,this['_framebuff'+'erScaleFac'+'tor']=(_0x5b1763==null?void(-0x205+-0x2ae+-0x4b3*-0x1):_0x5b1763['framebuffe'+'rScaleFact'+'or'])??0x1add*0x1+0x4d6*0x8+-0x418c,this['_setClipPl'+'anes'](_0x555e45['nearClip'],_0x555e45['farClip']);const _0x33f58b={'requiredFeatures':[_0x4617fe],'optionalFeatures':[]},_0x21d7fb=this['app']['graphicsDe'+'vice'];_0x21d7fb!=null&&_0x21d7fb['isWebGPU']&&_0x33f58b['requiredFe'+'atures']['push']('webgpu');const _0x4baa15=_0x21d7fb==null?void(0x23c7+-0x10*0x81+-0x1bb7):_0x21d7fb['isWebGL2'];if(_0xe32777===$o){if(_0x33f58b['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x33f58b['optionalFe'+'atures']['push']('hit-test'),_0x5b1763&&(_0x5b1763['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x33f58b['optionalFe'+'atures']['push']('image-trac'+'king'),_0x5b1763['planeDetec'+'tion']&&_0x33f58b['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x5b1763['meshDetect'+'ion']&&_0x33f58b['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x33f58b['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x33f58b['domOverlay']={'root':this['domOverlay']['root']}),_0x5b1763&&_0x5b1763['anchors']&&this['anchors']['supported']&&_0x33f58b['optionalFe'+'atures']['push']('anchors'),_0x5b1763&&_0x5b1763['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x33f58b['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x303828=[],_0x2793b4=[];if(_0x303828['push'](P0,dU),_0x2793b4['push'](I0,M0,D0),_0x5b1763['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x57194f=_0x303828['indexOf'](_0x5b1763['depthSensi'+'ng']['usagePrefe'+'rence']);_0x57194f!==-(-0xa12+0x25cf+-0x1bbc)&&_0x303828['splice'](_0x57194f,-0x27*0xb1+0x29*0x15+0x179b),_0x303828['unshift'](_0x5b1763['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x5b1763['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x49f42c=_0x2793b4['indexOf'](_0x5b1763['depthSensi'+'ng']['dataFormat'+'Preference']);_0x49f42c!==-(-0x1*-0x39b+-0x5c9+0x22f)&&_0x2793b4['splice'](_0x49f42c,0x5ef*0x1+-0xf*-0x1b7+-0x1fa7),_0x2793b4['unshift'](_0x5b1763['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x33f58b['depthSensi'+'ng']={'usagePreference':_0x303828,'dataFormatPreference':_0x2793b4};}_0x4baa15&&_0x5b1763&&_0x5b1763['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x33f58b['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x33f58b['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x5b1763&&_0x5b1763['optionalFe'+'atures']&&(_0x33f58b['optionalFe'+'atures']=_0x33f58b['optionalFe'+'atures']['concat'](_0x5b1763['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x51b5a5,_0x41b7d1)=>{if(_0x51b5a5){_0x39c1b4&&_0x39c1b4(_0x51b5a5),this['fire']('error',_0x51b5a5);return;}_0x41b7d1!==null&&(_0x33f58b['trackedIma'+'ges']=_0x41b7d1),this['_onStartOp'+'tionsReady'](_0xe32777,_0x4617fe,_0x33f58b,_0x39c1b4);}):this['_onStartOp'+'tionsReady'](_0xe32777,_0x4617fe,_0x33f58b,_0x39c1b4);}['_onStartOp'+'tionsReady'](_0x1782c8,_0xa33264,_0x57645c,_0x4d365d){const _0x9c3f01=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x57645c;navigator['xr']['requestSes'+'sion'](_0x1782c8,_0x9c3f01)['then'](_0x26dad6=>{this['_onSession'+'Start'](_0x26dad6,_0xa33264,_0x4d365d);})['catch'](_0x5572d7=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x4d365d&&_0x4d365d(_0x5572d7),this['fire']('error',_0x5572d7);});}['end'](_0x18a268){if(!this['_session']){_0x18a268&&_0x18a268(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x18a268&&this['once']('end',_0x18a268),this['_session']['end']();}['isAvailabl'+'e'](_0xfb03d5){return this['_available'][_0xfb03d5];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x977e32 in this['_available'])this['_sessionSu'+'pportCheck'](_0x977e32);}['initiateRo'+'omCapture'](_0x326fcd){if(!this['_session']){_0x326fcd(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x326fcd(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x326fcd&&_0x326fcd(null);})['catch'](_0x4652b9=>{_0x326fcd&&_0x326fcd(_0x4652b9);});}['updateTarg'+'etFrameRat'+'e'](_0x13e09c,_0x5bcd01){var _0x353c70;if(!((_0x353c70=this['_session'])!=null&&_0x353c70['updateTarg'+'etFrameRat'+'e'])){_0x5bcd01==null||_0x5bcd01(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x13e09c)['then'](()=>{_0x5bcd01==null||_0x5bcd01();})['catch'](_0x4fd8e5=>{_0x5bcd01==null||_0x5bcd01(_0x4fd8e5);});}['_sessionSu'+'pportCheck'](_0xe0cd49){navigator['xr']['isSessionS'+'upported'](_0xe0cd49)['then'](_0x1060d6=>{this['_available'][_0xe0cd49]!==_0x1060d6&&(this['_available'][_0xe0cd49]=_0x1060d6,this['fire']('available',_0xe0cd49,_0x1060d6),this['fire']('available:'+_0xe0cd49,_0x1060d6));})['catch'](_0x5925ab=>{this['fire']('error',_0x5925ab);});}['_onSession'+'Start'](_0x3abc78,_0x43a962,_0x57a4e1){let _0x2ae0ab=!(0x32a+-0x1858+-0x11*-0x13f);this['_session']=_0x3abc78;const _0x9e6a0=()=>{this['fire']('visibility'+':change',_0x3abc78['visibility'+'State']);},_0x5613fe=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x304fd9=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x5613fe),this['_camera']['off']('set_farCli'+'p',_0x5613fe),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3abc78['removeEven'+'tListener']('end',_0x304fd9),_0x3abc78['removeEven'+'tListener']('visibility'+'change',_0x9e6a0),_0x2ae0ab||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x2*-0xed5+0x1*0xd0f+-0x1*0x2ab9,this['_height']=-0x1f*-0xad+0x1*-0x13b1+0xa1*-0x2,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3abc78['addEventLi'+'stener']('end',_0x304fd9),_0x3abc78['addEventLi'+'stener']('visibility'+'change',_0x9e6a0),this['_camera']['on']('set_nearCl'+'ip',_0x5613fe),this['_camera']['on']('set_farCli'+'p',_0x5613fe),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x2a75cc;this['fire']('frameratec'+'hange',(_0x2a75cc=this['_session'])==null?void(-0x1*0x267b+-0x1924+-0x1535*-0x3):_0x2a75cc['frameRate']);}),_0x3abc78['requestRef'+'erenceSpac'+'e'](_0x43a962)['then'](_0x327009=>{this['_reference'+'Space']=_0x327009,this['app']['tick'](),_0x57a4e1&&_0x57a4e1(null),this['fire']('start');})['catch'](_0x2ecc37=>{_0x2ae0ab=!(-0x1*-0x21d7+0x2469+0x4640*-0x1),_0x3abc78['end'](),_0x57a4e1&&_0x57a4e1(_0x2ecc37),this['fire']('error',_0x2ecc37);});}['_setClipPl'+'anes'](_0x1307e9,_0x6713bf){this['_depthNear']===_0x1307e9&&this['_depthFar']===_0x6713bf||(this['_depthNear']=_0x1307e9,this['_depthFar']=_0x6713bf,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x2fa287=this['app']['graphicsDe'+'vice'],_0x373f40=_0x2fa287['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x2fa287['gl'],{'alpha':!(-0x14d8+0x20f2+-0xc1a),'depth':!(0x1*0x25dc+-0x320+-0x72*0x4e),'stencil':!(0xc0d*0x1+0x1d43+-0x2950),'framebufferScaleFactor':_0x373f40,'antialias':!(0xf34+0x17*0x106+-0x1*0x26bd)}),_0x2fa287!=null&&_0x2fa287['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x2fa287['gl']);}catch(_0x25397b){this['fire']('error',_0x25397b);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x5d5aff=>{this['fire']('error',_0x5d5aff);});},0x16fa+0x1a65+-0x315f);}['update'](_0x3fbff2){if(!this['_session'])return!(0x124f*0x2+0x259e*0x1+-0x4a3b*0x1);const _0x55f6c1=_0x3fbff2['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x36c5ed=_0x3fbff2['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x55f6c1||this['_height']!==_0x36c5ed)&&(this['_width']=_0x55f6c1,this['_height']=_0x36c5ed,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x55f6c1,_0x36c5ed));const _0x520705=_0x3fbff2['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x520705)return!(0x49*-0x25+0xe95+-0x407);const _0x15e492=this['views']['list']['length'];this['views']['update'](_0x3fbff2,_0x520705['views']);const _0x19de9d=_0x520705['transform']['position'],_0x1e5039=_0x520705['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x19de9d['x'],_0x19de9d['y'],_0x19de9d['z']),this['_localRota'+'tion']['set'](_0x1e5039['x'],_0x1e5039['y'],_0x1e5039['z'],_0x1e5039['w']),_0x15e492===-0xb2*-0x35+0xdac+-0x3286&&this['views']['list']['length']>-0x2145+-0x133*0x13+-0x29*-0x15e){const _0x39ef91=new te(),_0x37ebde=this['views']['list'][0x1*0x22f5+-0x220d*0x1+0x4*-0x3a];_0x39ef91['copy'](_0x37ebde['projMat']);const _0x2a46a4=_0x39ef91['data'],_0x2174bf=(-0x2*0x6ac+0x179+0xbe1*0x1)*Math['atan']((0x29*-0x4c+0x2f2*0xb+-0x1439)/_0x2a46a4[0x174a+0x13bb*-0x1+-0x38a])*(0x7f5+-0x8bb+-0x1b*-0xe)/Math['PI'],_0xb4fc45=_0x2a46a4[-0x10*0x1e3+-0x25d6+0x440b*0x1]/_0x2a46a4[0xebd+-0x1*0x407+-0xab6],_0x62c049=_0x2a46a4[-0x3*0x7ce+-0x6cb*0x1+0x7f*0x3d]/(_0x2a46a4[-0x15d7+-0x1b03+0x30e4]+(-0x1b*-0x134+0x130f+-0x338a)),_0x4cf7ed=_0x2a46a4[-0x12cd+0x1ad5+0x2*-0x3fd]/(_0x2a46a4[0xc85+-0x1*-0x1c1d+-0x2898]-(0x2109+0x8f5*-0x1+-0x1813));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0xb4fc45,'farClip':_0x62c049,'fov':_0x2174bf,'horizontalFov':!(-0x357+-0x5ef*0x5+-0x139*-0x1b),'nearClip':_0x4cf7ed});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x3fbff2),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x3fbff2),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x3fbff2),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x3fbff2),this['anchors']['supported']&&this['anchors']['update'](_0x3fbff2),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x3fbff2),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x3fbff2)),this['fire']('update',_0x3fbff2),!(-0x1*-0xb47+0x17f3+-0x233a);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x1a8575;return((_0x1a8575=this['_session'])==null?void(-0x14f0+-0x1c5c+0x314c):_0x1a8575['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x35d1a7){var _0x20fe81;(((_0x20fe81=this['_baseLayer'])==null?void(0x187c+-0x1*0x103d+-0x83f):_0x20fe81['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x16b3+-0x4a2+0x1b56&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x35d1a7);}get['fixedFovea'+'tion'](){var _0x1fbbc3;return((_0x1fbbc3=this['_baseLayer'])==null?void(-0x11d3+-0x2032+0xd*0x3d9):_0x1fbbc3['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x139b8c,_0x5b6678={}){super(_0x139b8c);const _0x479be1=new tL();_0x479be1['graphicsDe'+'vice']=_0x5b6678['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x139b8c,_0x5b6678),this['addCompone'+'ntSystems'](_0x479be1),this['addResourc'+'eHandles'](_0x479be1),_0x479be1['elementInp'+'ut']=_0x5b6678['elementInp'+'ut'],_0x479be1['keyboard']=_0x5b6678['keyboard'],_0x479be1['mouse']=_0x5b6678['mouse'],_0x479be1['touch']=_0x5b6678['touch'],_0x479be1['gamepads']=_0x5b6678['gamepads'],_0x479be1['scriptPref'+'ix']=_0x5b6678['scriptPref'+'ix'],_0x479be1['assetPrefi'+'x']=_0x5b6678['assetPrefi'+'x'],_0x479be1['scriptsOrd'+'er']=_0x5b6678['scriptsOrd'+'er'],_0x479be1['soundManag'+'er']=new Pw(),_0x479be1['lightmappe'+'r']=pL,_0x479be1['batchManag'+'er']=IE,_0x479be1['xr']=ln,this['init'](_0x479be1);}['createDevi'+'ce'](_0x316436,_0x5a94cb){return _0x5a94cb['graphicsDe'+'viceOption'+'s']||(_0x5a94cb['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x5a94cb['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x6*0x2b5+-0x1*0x3ed+0xc51*-0x1)),_0x5a94cb['graphicsDe'+'viceOption'+'s']['alpha']=_0x5a94cb['graphicsDe'+'viceOption'+'s']['alpha']||!(0xddb+-0x2*-0x9dd+-0x2194),new aw(_0x316436,_0x5a94cb['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x2a80e7){_0x2a80e7['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x2a02e3){_0x2a02e3['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x29a9f0,_0x53624e){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x4d*0x7c+-0xd60+-0x17eb)),h(this,'_loaded',!(-0xbc*0x10+-0x1*0x1a17+0x4*0x976)),h(this,'_failed',[]),(this['_registry']=_0x53624e,_0x29a9f0['forEach'](_0x4ae52d=>{if(_0x4ae52d instanceof pe)_0x4ae52d['registry']||(_0x4ae52d['registry']=_0x53624e),this['_assets']['add'](_0x4ae52d);else{const _0x33754a=_0x53624e['get'](_0x4ae52d);_0x33754a?this['_assets']['add'](_0x33754a):this['_waitForAs'+'set'](_0x4ae52d);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x368b31=>{this['_registry']['off']('add:'+_0x368b31,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x39739b){var _0x9351;return _0x39739b['type']==='model'&&((_0x9351=_0x39739b['file'])==null?void(0x37d+-0x3ee+0x71):_0x9351['url'])&&_0x39739b['file']['url']&&_0x39739b['file']['url']['match'](/.json$/g);}['load'](_0x4c3afe,_0x38bee7){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1dae+-0x1ded+0x3b9b),this['_callback']=_0x4c3afe,this['_scope']=_0x38bee7,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x279945=!(0x5f7+-0x16cf*-0x1+-0x1cc5);this['_assets']['forEach'](_0x443814=>{_0x443814['loaded']||(_0x279945=!(-0x1*0x2ea+0x2275*0x1+-0x1a9*0x13),this['_assetHasD'+'ependencie'+'s'](_0x443814)&&this['_registry']['loadFromUr'+'l'](_0x443814['file']['url'],_0x443814['type'],(_0x4d897c,_0x5d6a60)=>{if(_0x4d897c){this['_onError'](_0x4d897c,_0x443814);return;}this['_onLoad'](_0x443814);}),this['_loadingAs'+'sets']['add'](_0x443814),this['_registry']['add'](_0x443814));}),this['_loadingAs'+'sets']['forEach'](_0x3a07fb=>{this['_assetHasD'+'ependencie'+'s'](_0x3a07fb)||this['_registry']['load'](_0x3a07fb);}),!_0x279945&&this['_waitingAs'+'sets']['size']===0x3ab+0x535+-0x8*0x11c&&this['_loadingCo'+'mplete']();}['ready'](_0x1be3f4,_0x542d3e=this){this['_loaded']?_0x1be3f4['call'](_0x542d3e,Array['from'](this['_assets'])):this['once']('load',_0x22adfa=>{_0x1be3f4['call'](_0x542d3e,_0x22adfa);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x1*0x4b+-0x1*0xf27+0xedc),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x393039){this['_loadingAs'+'sets']['has'](_0x393039)&&(this['fire']('progress',_0x393039),this['_loadingAs'+'sets']['delete'](_0x393039)),this['_loadingAs'+'sets']['size']===-0x14d1+0x15c0+-0x1*0xef&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0xc*-0x2cf+0x1cbe+0x4f6);}['_onError'](_0x3e7e34,_0x89ee2e){this['_loadingAs'+'sets']['has'](_0x89ee2e)&&(this['_failed']['push'](_0x89ee2e),this['_loadingAs'+'sets']['delete'](_0x89ee2e)),this['_loadingAs'+'sets']['size']===0x13*0x16e+0x1*0x200c+-0x16*0x2b1&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x15bd+-0xb87+-0xa36);}['_onAddAsse'+'t'](_0x3399b5){this['_waitingAs'+'sets']['delete'](_0x3399b5),this['_assets']['add'](_0x3399b5),_0x3399b5['loaded']||(this['_loadingAs'+'sets']['add'](_0x3399b5),this['_registry']['load'](_0x3399b5));}['_waitForAs'+'set'](_0x2e80e1){this['_waitingAs'+'sets']['add'](_0x2e80e1),this['_registry']['once']('add:'+_0x2e80e1,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x2f1dad,_0x4f35a1){super(_0x2f1dad),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x4f35a1;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x387a6c=>{_0x387a6c['defaultUni'+'formBuffer']['destroy'](),_0x387a6c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*0x2597+0x119b+-0x13fc*-0x1;}['update'](_0x550e4e,_0x4ea394,_0x5213f0,_0x29eaa7){this['camera']=_0x550e4e,this['scene']=_0x4ea394,this['layers']=_0x5213f0,this['mapping']=_0x29eaa7;}['execute'](){const _0x22f6f0=this['device'],{renderer:_0x4fa921,camera:_0x5bf0d4,scene:_0xa11257,layers:_0x2799a5,mapping:_0x336c41,renderTarget:_0x24c048}=this,_0x219155=_0xa11257['layers']['layerList'],_0x5c9dc8=_0xa11257['layers']['subLayerEn'+'abled'],_0x126b03=_0xa11257['layers']['subLayerLi'+'st'];for(let _0xbde521=-0x26aa+0x1*-0x1765+-0x3e0f*-0x1;_0xbde521<_0x219155['length'];_0xbde521++){const _0x2d1003=_0x219155[_0xbde521];if(!(_0x2799a5&&_0x2799a5['indexOf'](_0x2d1003)<-0x25b9+0x1*-0x263b+0x4bf4)&&_0x2d1003['enabled']&&_0x5c9dc8[_0xbde521]&&_0x2d1003['camerasSet']['has'](_0x5bf0d4['camera'])){const _0x324f33=_0x126b03[_0xbde521];Q['pushGpuMar'+'ker'](_0x22f6f0,_0x2d1003['name']+'('+(_0x324f33?'TRANSP':'OPAQUE')+')'),_0x2d1003['_clearDept'+'hBuffer']&&_0x4fa921['clear'](_0x5bf0d4['camera'],!(0x4*0x5bd+-0x3*-0x39+-0xbcf*0x2),!(-0x301*-0x2+0x8*0x40+0x32*-0x29),!(0xe6f+-0xf09+-0x1f*-0x5));const _0x53726d=_0x2d1003['meshInstan'+'ces'];for(let _0x2f446d=0x8*0x1c+-0x2704+0x2624;_0x2f446d<_0x53726d['length'];_0x2f446d++){const _0xd56d95=_0x53726d[_0x2f446d];_0xd56d95['pick']&&_0xd56d95['transparen'+'t']===_0x324f33&&(Fc['push'](_0xd56d95),_0x336c41['set'](_0xd56d95['id'],_0xd56d95));}Fc['length']>-0x235*0x4+0x5fd*0x4+0x2*-0x790&&(_0xa11257['clusteredL'+'ightingEna'+'bled']&&_0x4fa921['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x4fa921['setCameraU'+'niforms'](_0x5bf0d4['camera'],_0x24c048),_0x22f6f0['supportsUn'+'iformBuffe'+'rs']&&_0x4fa921['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x4fa921['viewUnifor'+'mFormat'],_0x4fa921['viewBindGr'+'oupFormat'],null),_0x4fa921['renderForw'+'ard'](_0x5bf0d4['camera'],_0x24c048,Fc,_U,Zn,_0x4b8a07=>{_0x22f6f0['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=0x1853+0xe30+0x1*-0x2683),Q['popGpuMark'+'er'](_0x22f6f0);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0xcd5253,_0x59624f,_0x975ac6){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x76*0x28+0x3a9*-0x7+0x72f)),(w['assert'](_0xcd5253),this['renderer']=_0xcd5253['renderer'],this['device']=_0xcd5253['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0xcd5253['renderer']),this['width']=0x608*-0x1+0x2*-0x39+0x67a,this['height']=0x6ef+-0x982*-0x1+-0x17*0xb7,this['resize'](_0x59624f,_0x975ac6),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x1*-0x422+0x664*0x2+-0x75*0x25);}));}['getSelecti'+'on'](_0x127843,_0x3a2410,_0xd39c1e=-0x9d0*0x1+0x81f+0x1b2,_0x3d7324=0x1*0x11dd+0x1b92*-0x1+0x9b6){const _0x12983d=this['device'];if(_0x12983d['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x127843!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x3a2410=this['renderTarg'+'et']['height']-(_0x3a2410+_0x3d7324);const _0x552f49=this['sanitizeRe'+'ct'](_0x127843,_0x3a2410,_0xd39c1e,_0x3d7324);_0x12983d['setRenderT'+'arget'](this['renderTarg'+'et']),_0x12983d['updateBegi'+'n']();const _0xdac808=new Uint8Array((0xaa*0xa+0xd3f+-0x1*0x13df)*_0x552f49['z']*_0x552f49['w']);return _0x12983d['readPixels'](_0x552f49['x'],_0x552f49['y'],_0x552f49['z'],_0x552f49['w'],_0xdac808),_0x12983d['updateEnd'](),this['decodePixe'+'ls'](_0xdac808,this['mapping']);}['getSelecti'+'onAsync'](_0x96aa58,_0x6c1b87,_0x23815b=0x355*-0x9+-0x4ef*-0x1+0x190f,_0x5883eb=-0xe*0x13c+0x153b*0x1+-0x65*0xa){var _0xdbfbd2;(_0xdbfbd2=this['device'])!=null&&_0xdbfbd2['isWebGL2']&&(_0x6c1b87=this['renderTarg'+'et']['height']-(_0x6c1b87+_0x5883eb));const _0x41e9ef=this['sanitizeRe'+'ct'](_0x96aa58,_0x6c1b87,_0x23815b,_0x5883eb);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x41e9ef['x'],_0x41e9ef['y'],_0x41e9ef['z'],_0x41e9ef['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x2503+-0x1*-0x26bd+-0x8*0x978)})['then'](_0x9d3975=>this['decodePixe'+'ls'](_0x9d3975,this['mapping']));}['sanitizeRe'+'ct'](_0x4bf063,_0x128ab7,_0xf1468d,_0x21b697){const _0x34f0b7=this['renderTarg'+'et']['width'],_0xf562ce=this['renderTarg'+'et']['height'];return _0x4bf063=Y['clamp'](Math['floor'](_0x4bf063),-0x1097+0x1f5+-0x2*-0x751,_0x34f0b7-(-0x1a*-0x82+0x21*0x14+0x7*-0x241)),_0x128ab7=Y['clamp'](Math['floor'](_0x128ab7),-0x2*-0x233+-0x1*-0x6fb+-0x1*0xb61,_0xf562ce-(-0x1*0xd79+0x1bf3+0xf7*-0xf)),_0xf1468d=Math['floor'](Math['max'](_0xf1468d,-0xaab+-0x4d2+-0x6*-0x295)),_0xf1468d=Math['min'](_0xf1468d,_0x34f0b7-_0x4bf063),_0x21b697=Math['floor'](Math['max'](_0x21b697,0x151e+0x19d1+-0x2eee)),_0x21b697=Math['min'](_0x21b697,_0xf562ce-_0x128ab7),SU['set'](_0x4bf063,_0x128ab7,_0xf1468d,_0x21b697);}['decodePixe'+'ls'](_0x4fb457,_0xd7d8fa){const _0x4a801e=[];if(this['deviceVali'+'d']){const _0x41f509=_0x4fb457['length'];for(let _0x4d64dc=0x170f*-0x1+-0x33*-0x1b+-0x11ae*-0x1;_0x4d64dc<_0x41f509;_0x4d64dc+=0x1271*0x2+-0x1*0x1e42+-0x69c){const _0x44d711=_0x4fb457[_0x4d64dc+(-0x16c3+-0x1cc6+0x3389)],_0x4056bc=_0x4fb457[_0x4d64dc+(-0x58b+0xad1+-0x545)],_0x39f971=_0x4fb457[_0x4d64dc+(-0x1c6d+0x3*-0x8ff+0x376c)],_0x44fc53=(_0x4fb457[_0x4d64dc+(0x14c+-0x254e+-0x1*-0x2405)]<<-0xba4+0x3*0x66e+-0x78e|_0x44d711<<0x443*-0x7+-0xacf+0x28b4|_0x4056bc<<-0x184e*0x1+0x2275*0x1+-0x1*0xa1f|_0x39f971)>>>0x23da+0x2172+-0x454c;_0x44fc53!==0xc972f3cb+-0x755d9f8c+0xabeaabc0&&Rf['add'](_0xd7d8fa['get'](_0x44fc53));}Rf['forEach'](_0x5994c5=>{_0x5994c5&&_0x4a801e['push'](_0x5994c5);}),Rf['clear']();}return _0x4a801e;}['allocateRe'+'nderTarget'](){const _0xf4a70d=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x96e+-0x1db8+0x2727),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0xf4a70d,'depth':!(0x15*0xa3+0x25ab+-0x330a)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x16595,_0x1049b6,_0x2e3bf7){_0x2e3bf7 instanceof Ot&&(_0x2e3bf7=[_0x2e3bf7]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x4bc901=this['renderPass'];_0x4bc901['init'](this['renderTarg'+'et']),_0x4bc901['colorOps']['clearValue']=ie['WHITE'],_0x4bc901['colorOps']['clear']=!(0xafd+0x5*0x6f2+-0x2db7),_0x4bc901['depthStenc'+'ilOps']['clearDepth']=!(-0x7*-0xde+-0x2*-0xf51+-0x24b4),_0x4bc901['update'](_0x16595,_0x1049b6,_0x2e3bf7,this['mapping']),_0x4bc901['render']();}['resize'](_0x5e229d,_0x66f1b){this['width']=Math['floor'](_0x5e229d),this['height']=Math['floor'](_0x66f1b);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0xda265b,_0x314896,_0x525c03){return yU['cross'](_0xda265b,_0x314896)['dot'](_0x525c03);}function xU(_0x4b029e,_0x57653c,_0x438c2e){en['sub2'](_0x57653c,_0x4b029e),Nc['sub2'](_0x438c2e[-0x6b*0x2a+0x1e12+-0xc84],_0x4b029e),Ff['sub2'](_0x438c2e[-0x60*-0x27+-0x1*-0x2b7+-0x1156],_0x4b029e),OS['sub2'](_0x438c2e[0x5f4*0x4+-0x89*-0x24+-0x1*0x2b12],_0x4b029e),kc['cross'](OS,en);let _0xe1fa5b=Nc['dot'](kc),_0x3de4e7,_0x25ff3d;if(_0xe1fa5b>=-0x1*-0x2329+0x1564+0x388d*-0x1){if(_0x3de4e7=-Ff['dot'](kc),_0x3de4e7<0x13aa+-0x1*0x72f+-0xc7b||(_0x25ff3d=BS(en,Ff,Nc),_0x25ff3d<0x1a8f*0x1+0x1aa+0x1c39*-0x1))return-(-0x15+0x53*-0x5+0x1b5);const _0x363c1b=(-0x1229+-0x2388+0x35b2)/(_0x3de4e7+_0xe1fa5b+_0x25ff3d);Uc['copy'](_0x438c2e[0xe71*0x1+0x2*-0x209+0x127*-0x9])['mulScalar'](_0x3de4e7*_0x363c1b),Bc['copy'](_0x438c2e[0x33c*0x2+0x90c+0xd1*-0x13])['mulScalar'](_0xe1fa5b*_0x363c1b),zc['copy'](_0x438c2e[-0x3ba+-0x1e9d+-0x9*-0x3d1])['mulScalar'](_0x25ff3d*_0x363c1b),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x438c2e[-0x7bf+-0x146*0x11+0x1d68],_0x4b029e),_0x3de4e7=Nf['dot'](kc),_0x3de4e7<-0x3ac+-0x1260+0x160c||(_0x25ff3d=BS(en,Nc,Nf),_0x25ff3d<-0x7*0x2f+0x1*-0x25b1+-0x137d*-0x2))return-(0x371*0x1+0x24ef+-0x285f);_0xe1fa5b=-_0xe1fa5b;const _0x3c87ba=(0x2*0x1095+0x3f0+-0x2519)/(_0x3de4e7+_0xe1fa5b+_0x25ff3d);Uc['copy'](_0x438c2e[0x6*-0x2e3+0x15c9+-0x477*0x1])['mulScalar'](_0x3de4e7*_0x3c87ba),Bc['copy'](_0x438c2e[-0x10ff*0x1+0x2*-0xf6f+0x17f0*0x2])['mulScalar'](_0xe1fa5b*_0x3c87ba),zc['copy'](_0x438c2e[0x1abb*-0x1+0x1*0x6c6+-0x1*-0x13f7])['mulScalar'](_0x25ff3d*_0x3c87ba),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x438c2e[0x13a6+-0xa7e+-0x928*0x1],_0x438c2e[0x2d*-0x1+0x1408+0x13d9*-0x1])['lengthSq']()<(0x20ca+-0x1ea+-0x1a*0x130+0.0001)*(0x853*-0x4+-0x2685+0x5*0xe5d+0.0001)||en['sub2'](_0x438c2e[0x609*0x4+0x8*-0x2b4+-0x1*0x283],_0x438c2e[0x22da+-0x1d8e+-0x21*0x29])['lengthSq']()<(-0x9e+0x6c8+-0x62a+0.0001)*(0xc9e+0x141d+0x1*-0x20bb+0.0001)?-(-0x263b*-0x1+-0x1da4+0x7*-0x13a):kf['sub'](_0x4b029e)['lengthSq']();}class Am{constructor(_0xd8ea22,_0x534433,_0x14cdfb){this['event']=_0xd8ea22,this['element']=_0x534433,this['camera']=_0x14cdfb,this['_stopPropa'+'gation']=!(-0x104c+-0x1bc8*-0x1+0x1*-0xb7b);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x2055+0xec+0x2b*0xbb),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x364869,_0x4f7b25,_0x4295b7,_0x269052,_0x7e6425,_0x25e7b3,_0x36e15b){super(_0x364869,_0x4f7b25,_0x4295b7),this['x']=_0x269052,this['y']=_0x7e6425,this['ctrlKey']=_0x364869['ctrlKey']||!(0x45b+-0x1fa1+0x1b47*0x1),this['altKey']=_0x364869['altKey']||!(-0xbe5+0x1b97+-0xfb1),this['shiftKey']=_0x364869['shiftKey']||!(-0x1*-0xf4f+0x6*-0x1f9+-0x378),this['metaKey']=_0x364869['metaKey']||!(0x2632+0x1*0x112d+0x175*-0x26),this['button']=_0x364869['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x364869['movementX']||_0x364869['webkitMove'+'mentX']||_0x364869['mozMovemen'+'tX']||-0x1012+-0xe*0x38+0x1322,this['dy']=_0x364869['movementY']||_0x364869['webkitMove'+'mentY']||_0x364869['mozMovemen'+'tY']||-0x19a7+0x7*-0x52f+0x3df0):(this['dx']=_0x269052-_0x25e7b3,this['dy']=_0x7e6425-_0x36e15b),this['wheelDelta']=0x18e2+-0x7ac+-0x1136,_0x364869['type']==='wheel'&&(_0x364869['deltaY']>-0x1*-0x25c6+-0x1*-0x1e67+-0x442d?this['wheelDelta']=-0x3*-0x1be+-0x67*-0x16+-0x1*0xe13:_0x364869['deltaY']<0xe35*-0x2+0x30d+0x1*0x195d&&(this['wheelDelta']=-(0x1*-0x134b+0xf7b*0x1+-0x1*-0x3d1)));}}class Ao extends Am{constructor(_0x1cbc37,_0x5c9f5d,_0x46ed71,_0x44eb43,_0x5311bf,_0x3bb824){super(_0x1cbc37,_0x5c9f5d,_0x46ed71),this['touches']=_0x1cbc37['touches'],this['changedTou'+'ches']=_0x1cbc37['changedTou'+'ches'],this['x']=_0x44eb43,this['y']=_0x5311bf,this['touch']=_0x3bb824;}}class dr extends Am{constructor(_0x54cd99,_0x40c836,_0x7d2f50,_0xc1dc26){super(_0x54cd99,_0x40c836,_0x7d2f50),this['inputSourc'+'e']=_0xc1dc26;}}class Xo{constructor(_0x260465,_0xd60bae){this['_app']=null,this['_attached']=!(-0x600+0x2238+-0x1c37),this['_target']=null,this['_enabled']=!(-0x2*-0x788+0xa6d+-0xe1*0x1d),this['_lastX']=0x1376+-0x12e0*0x1+-0x96,this['_lastY']=0x1*-0xc7d+-0x7*-0x15+0xbea,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0xd60bae||_0xd60bae['useMouse']!==!(-0x18c7+-0x17d3+-0x17*-0x21d),this['_useTouch']=!_0xd60bae||_0xd60bae['useTouch']!==!(0x1024+-0x1*-0x1e59+-0x2e7c),this['_useXr']=!_0xd60bae||_0xd60bae['useXr']!==!(0x2479+0x938+-0x2db0),this['_selectEve'+'ntsAttache'+'d']=!(0xf*0xc2+0x24d0+0x1*-0x302d),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x260465);}set['enabled'](_0x162834){this['_enabled']=_0x162834;}get['enabled'](){return this['_enabled'];}set['app'](_0x287674){this['_app']=_0x287674;}get['app'](){return this['_app']||Ms();}['attach'](_0x2c3afc){this['_attached']&&(this['_attached']=!(0x1*0x1069+-0x1*-0x12e9+-0x1*0x2351),this['detach']()),this['_target']=_0x2c3afc,this['_attached']=!(-0x7a*-0x28+0x93*-0x3f+0x111d);const _0x41d1e3=Ae['passiveEve'+'nts']?{'passive':!(-0x7e2*0x1+-0x421*-0x1+0x3c1)}:!(-0xcde+0x2087+-0x13a8);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x41d1e3),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x41d1e3),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x41d1e3),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x41d1e3)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x41d1e3),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x752+-0x1*0x1d8+0x92b)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x1e2d+-0x45c*-0x2+0x1372*-0x2)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x6b2*-0x5+0x20ab*0x1+0xd0))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x1*-0x1229+-0x3*-0x8f4+-0x1*0x8b3),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x26f*-0x3+-0x1f*-0x43+-0xf69);const _0x237c3f=Ae['passiveEve'+'nts']?{'passive':!(0x17d8+-0x1108+0x10*-0x6d)}:!(0x4dc*0x2+-0x179*-0xb+-0x19ea);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x237c3f),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x237c3f),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x237c3f),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x237c3f)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x237c3f),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0xbef+0x822+-0xd6*0x18)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x1*0x1965+0xd8c*-0x2+-0x2*-0xda)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x11*0xf2+-0xe95*-0x1+-0x1ea6))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(0x733+0x1264+-0x1996),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0xba4815){this['_elements']['indexOf'](_0xba4815)===-(-0x289+-0x255e+0x27e8*0x1)&&this['_elements']['push'](_0xba4815);}['removeElem'+'ent'](_0x238912){const _0x3e9a1f=this['_elements']['indexOf'](_0x238912);_0x3e9a1f!==-(0x7f7+-0x1e88+-0x1b*-0xd6)&&this['_elements']['splice'](_0x3e9a1f,-0x1d1a+0x15fa+0x721);}['_handleUp'](_0x2b9b4a){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2b9b4a),this['_onElement'+'MouseEvent']('mouseup',_0x2b9b4a)));}['_handleDow'+'n'](_0x41cd20){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x41cd20),this['_onElement'+'MouseEvent']('mousedown',_0x41cd20)));}['_handleMov'+'e'](_0x4f77f6){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4f77f6),this['_onElement'+'MouseEvent']('mousemove',_0x4f77f6),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x2ddb6c){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x2ddb6c),this['_onElement'+'MouseEvent']('mousewheel',_0x2ddb6c));}['_determine'+'TouchedEle'+'ments'](_0x2322b3){const _0x1e923b={},_0x2c4722=this['app']['systems']['camera']['cameras'];for(let _0x2417b8=_0x2c4722['length']-(-0x11ab+0x1*0x1b68+-0x9bc);_0x2417b8>=0x425*-0x4+-0x4*0x732+0x2d5c;_0x2417b8--){const _0x373096=_0x2c4722[_0x2417b8];let _0x388c26=-0x161c+-0x26a*0x4+-0x4*-0x7f1;const _0x174467=_0x2322b3['changedTou'+'ches']['length'];for(let _0xd6b9f8=-0x1df5*-0x1+0xc53+-0x549*0x8;_0xd6b9f8<_0x174467;_0xd6b9f8++){if(_0x1e923b[_0x2322b3['changedTou'+'ches'][_0xd6b9f8]['identifier']]){_0x388c26++;continue;}const _0x35550b=Wc(_0x2322b3['changedTou'+'ches'][_0xd6b9f8]),_0x2bf260=this['_getTarget'+'ElementByC'+'oords'](_0x373096,_0x35550b['x'],_0x35550b['y']);_0x2bf260&&(_0x388c26++,_0x1e923b[_0x2322b3['changedTou'+'ches'][_0xd6b9f8]['identifier']]={'element':_0x2bf260,'camera':_0x373096,'x':_0x35550b['x'],'y':_0x35550b['y']});}if(_0x388c26===_0x174467)break;}return _0x1e923b;}['_handleTou'+'chStart'](_0x13eaeb){if(!this['_enabled'])return;const _0x37ba4f=this['_determine'+'TouchedEle'+'ments'](_0x13eaeb);for(let _0x308492=-0x1*-0x2705+-0x8fa+0x1*-0x1e0b,_0x1a4f69=_0x13eaeb['changedTou'+'ches']['length'];_0x308492<_0x1a4f69;_0x308492++){const _0x155845=_0x13eaeb['changedTou'+'ches'][_0x308492],_0x52ef03=_0x37ba4f[_0x155845['identifier']],_0x1e52d5=this['_touchedEl'+'ements'][_0x155845['identifier']];_0x52ef03&&(!_0x1e52d5||_0x52ef03['element']!==_0x1e52d5['element'])&&(this['_fireEvent'](_0x13eaeb['type'],new Ao(_0x13eaeb,_0x52ef03['element'],_0x52ef03['camera'],_0x52ef03['x'],_0x52ef03['y'],_0x155845)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x155845['identifier']]=!(0x262d+0x19c1+-0x3fed));}for(const _0x44f6a7 in _0x37ba4f)this['_touchedEl'+'ements'][_0x44f6a7]=_0x37ba4f[_0x44f6a7];}['_handleTou'+'chEnd'](_0x318ac9){if(!this['_enabled'])return;const _0x5ec046=this['app']['systems']['camera']['cameras'];for(const _0x158855 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x158855];for(let _0x21e69e=-0x17*-0x119+-0x1e95+0x556,_0x5c33b5=_0x318ac9['changedTou'+'ches']['length'];_0x21e69e<_0x5c33b5;_0x21e69e++){const _0x46ca17=_0x318ac9['changedTou'+'ches'][_0x21e69e],_0x4e8321=this['_touchedEl'+'ements'][_0x46ca17['identifier']];if(!_0x4e8321)continue;const _0x141043=_0x4e8321['element'],_0xa2b49d=_0x4e8321['camera'],_0x73d7b9=_0x4e8321['x'],_0x2cd05e=_0x4e8321['y'];delete this['_touchedEl'+'ements'][_0x46ca17['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x46ca17['identifier']];const _0x4dbadc=Wc(_0x46ca17);for(let _0x40898b=_0x5ec046['length']-(0x627+0x16ce+0x73d*-0x4);_0x40898b>=0x173*-0x3+0x1274+0x17*-0x9d;_0x40898b--)this['_getTarget'+'ElementByC'+'oords'](_0x5ec046[_0x40898b],_0x4dbadc['x'],_0x4dbadc['y'])===_0x141043&&(this['_clickedEn'+'tities'][_0x141043['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x318ac9,_0x141043,_0xa2b49d,_0x73d7b9,_0x2cd05e,_0x46ca17)),this['_clickedEn'+'tities'][_0x141043['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x318ac9['type'],new Ao(_0x318ac9,_0x141043,_0xa2b49d,_0x73d7b9,_0x2cd05e,_0x46ca17));}}['_handleTou'+'chMove'](_0x2fe9b3){if(_0x2fe9b3['preventDef'+'ault'](),!this['_enabled'])return;const _0x3e8404=this['_determine'+'TouchedEle'+'ments'](_0x2fe9b3);for(let _0x3c5aa7=0x12fe+-0x9*0x323+0xb*0xd7,_0x42aae3=_0x2fe9b3['changedTou'+'ches']['length'];_0x3c5aa7<_0x42aae3;_0x3c5aa7++){const _0x10b988=_0x2fe9b3['changedTou'+'ches'][_0x3c5aa7],_0x36c50d=_0x3e8404[_0x10b988['identifier']],_0x2c9d3e=this['_touchedEl'+'ements'][_0x10b988['identifier']];if(_0x2c9d3e){const _0x2c6478=Wc(_0x10b988);(!_0x36c50d||_0x36c50d['element']!==_0x2c9d3e['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x10b988['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x2fe9b3,_0x2c9d3e['element'],_0x2c9d3e['camera'],_0x2c6478['x'],_0x2c6478['y'],_0x10b988)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x10b988['identifier']]=!(0x119b+0x188a+-0x2a25)),this['_fireEvent']('touchmove',new Ao(_0x2fe9b3,_0x2c9d3e['element'],_0x2c9d3e['camera'],_0x2c6478['x'],_0x2c6478['y'],_0x10b988));}}}['_onElement'+'MouseEvent'](_0x5921f0,_0x239020){let _0x576f62=null;const _0x1b293b=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x2502c0=this['app']['systems']['camera']['cameras'];let _0x59c77e;for(let _0x46fa42=_0x2502c0['length']-(0x80f*0x4+-0x4d8*-0x8+0x3*-0x17a9);_0x46fa42>=0x110f*-0x2+-0x166f*-0x1+0x3*0x3e5&&(_0x59c77e=_0x2502c0[_0x46fa42],_0x576f62=this['_getTarget'+'ElementByC'+'oords'](_0x59c77e,cr,hr),!_0x576f62);_0x46fa42--);if(this['_hoveredEl'+'ement']=_0x576f62,(_0x5921f0==='mousemove'||_0x5921f0==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x5921f0,new bo(_0x239020,this['_pressedEl'+'ement'],_0x59c77e,cr,hr,this['_lastX'],this['_lastY'])):_0x576f62&&(this['_fireEvent'](_0x5921f0,new bo(_0x239020,_0x576f62,_0x59c77e,cr,hr,this['_lastX'],this['_lastY'])),_0x5921f0==='mousedown'&&(this['_pressedEl'+'ement']=_0x576f62)),_0x1b293b!==this['_hoveredEl'+'ement']&&(_0x1b293b&&this['_fireEvent']('mouseleave',new bo(_0x239020,_0x1b293b,_0x59c77e,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x239020,this['_hoveredEl'+'ement'],_0x59c77e,cr,hr,this['_lastX'],this['_lastY']))),_0x5921f0==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x1ba7ad=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x112cd7=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x1a16c9=this['_clickedEn'+'tities'][_0x1ba7ad]||-0x1da1+-0x724+0x24c5;_0x112cd7=Date['now']()-_0x1a16c9>0x2c*-0xb7+0xb92+0x150e,delete this['_clickedEn'+'tities'][_0x1ba7ad];}_0x112cd7&&this['_fireEvent']('click',new bo(_0x239020,this['_hoveredEl'+'ement'],_0x59c77e,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x4bb388=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x5dcfc2=0x21a3+-0x1e19*-0x1+-0x1fde*0x2;_0x5dcfc2<_0x4bb388['length'];_0x5dcfc2++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x4bb388[_0x5dcfc2],null);}['_onXrInput'+'Remove'](_0x23202f){const _0x4ed235=this['_selectedE'+'lements'][_0x23202f['id']];_0x4ed235&&(_0x23202f['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x4ed235,null,_0x23202f))),delete this['_selectedE'+'lements'][_0x23202f['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x23202f['id']];}['_onSelectS'+'tart'](_0xfded0,_0x251df6){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0xfded0,_0x251df6);}['_onSelectE'+'nd'](_0x5a68c2,_0x1f12b4){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x5a68c2,_0x1f12b4);}['_onElement'+'SelectEven'+'t'](_0x34c60a,_0x574399,_0x5692db){let _0x4a8849;const _0x285e0a=this['_selectedE'+'lements'][_0x574399['id']];let _0x521fcc;const _0x1b7149=this['app']['systems']['camera']['cameras'];let _0xb361ab;if(_0x574399['elementInp'+'ut']){ep['set'](_0x574399['getOrigin'](),_0x574399['getDirecti'+'on']());for(let _0x596fc2=_0x1b7149['length']-(0x15e0+-0x3*0xbf+-0x13a2);_0x596fc2>=0x1f26+0x1414+-0x333a&&(_0xb361ab=_0x1b7149[_0x596fc2],_0x4a8849=this['_getTarget'+'ElementByR'+'ay'](ep,_0xb361ab),!_0x4a8849);_0x596fc2--);}_0x574399['_elementEn'+'tity']=_0x4a8849||null,_0x4a8849?(this['_selectedE'+'lements'][_0x574399['id']]=_0x4a8849,_0x521fcc=_0x4a8849):delete this['_selectedE'+'lements'][_0x574399['id']],_0x285e0a!==_0x521fcc&&(_0x285e0a&&this['_fireEvent']('selectleav'+'e',new dr(_0x5692db,_0x285e0a,_0xb361ab,_0x574399)),_0x521fcc&&this['_fireEvent']('selectente'+'r',new dr(_0x5692db,_0x521fcc,_0xb361ab,_0x574399)));const _0x2e9418=this['_selectedP'+'ressedElem'+'ents'][_0x574399['id']];_0x34c60a==='selectmove'&&_0x2e9418&&this['_fireEvent']('selectmove',new dr(_0x5692db,_0x2e9418,_0xb361ab,_0x574399)),_0x34c60a==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x574399['id']]=_0x521fcc,_0x521fcc&&this['_fireEvent']('selectstar'+'t',new dr(_0x5692db,_0x521fcc,_0xb361ab,_0x574399))),!_0x574399['elementInp'+'ut']&&_0x2e9418&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x574399['id']],_0x285e0a&&this['_fireEvent']('selectend',new dr(_0x5692db,_0x2e9418,_0xb361ab,_0x574399))),_0x34c60a==='selectend'&&_0x574399['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x574399['id']],_0x2e9418&&this['_fireEvent']('selectend',new dr(_0x5692db,_0x2e9418,_0xb361ab,_0x574399)),_0x2e9418&&_0x2e9418===_0x285e0a&&this['_fireEvent']('click',new dr(_0x5692db,_0x2e9418,_0xb361ab,_0x574399)));}['_fireEvent'](_0x388271,_0x15ee1e){let _0x46daa2=_0x15ee1e['element'];for(;_0x46daa2['fire'](_0x388271,_0x15ee1e),!(_0x15ee1e['_stopPropa'+'gation']||!_0x46daa2['entity']['parent']||(_0x46daa2=_0x46daa2['entity']['parent']['element'],!_0x46daa2)););}['_calcMouse'+'Coords'](_0x317b04){const _0x10a7eb=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x2466ff=Math['floor'](_0x10a7eb['left']),_0x424246=Math['floor'](_0x10a7eb['top']);cr=_0x317b04['clientX']-_0x2466ff,hr=_0x317b04['clientY']-_0x424246;}['_sortEleme'+'nts'](_0x514948,_0x34377b){const _0x3f63b1=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x514948['layers'],_0x34377b['layers']);return _0x3f63b1!==0x1*-0x1bc4+-0xe5*0x2+-0xc2*-0x27?_0x3f63b1:_0x514948['screen']&&!_0x34377b['screen']?-(-0x648*0x2+-0x159d+0x222e):!_0x514948['screen']&&_0x34377b['screen']?-0x352+-0x1*0x1b4d+0x1ea0:!_0x514948['screen']&&!_0x34377b['screen']?0x486+0x22+-0x4*0x12a:_0x514948['screen']['screen']['screenSpac'+'e']&&!_0x34377b['screen']['screen']['screenSpac'+'e']?-(0x166f*-0x1+-0x1bac+0x321c):_0x34377b['screen']['screen']['screenSpac'+'e']&&!_0x514948['screen']['screen']['screenSpac'+'e']?-0x577*0x2+0x37+0xab8:_0x34377b['drawOrder']-_0x514948['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x104211,_0x35f6c9,_0x4938d7){const _0x249dcf=this['_calculate'+'RayScreen'](_0x35f6c9,_0x4938d7,_0x104211,Ri)?Ri:null,_0x5c359e=this['_calculate'+'Ray3d'](_0x35f6c9,_0x4938d7,_0x104211,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x104211,_0x249dcf,_0x5c359e);}['_getTarget'+'ElementByR'+'ay'](_0x3e9f8c,_0x1befb4){Ri['origin']['copy'](_0x3e9f8c['origin']),Ri['direction']['copy'](_0x3e9f8c['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x1befb4['farClip']*(0x2541+-0x2*-0xf16+0x3*-0x1679))['add'](Ri['origin']);const _0x23ffbb=Ri,_0x15357b=_0x1befb4['worldToScr'+'een'](_0x23ffbb['origin'],Of),_0x36cfff=this['_calculate'+'RayScreen'](_0x15357b['x'],_0x15357b['y'],_0x1befb4,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x1befb4,_0x36cfff,_0x23ffbb);}['_getTarget'+'Element'](_0x146ce6,_0x3e5e98,_0x3ef004){let _0x44bc9b=null,_0x395d19=(-0x17e5+-0x557+0x1d3d)/(0xeae+0x1*-0x4c+-0xe62);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0xf43a5d=0x752*-0x5+0x341*-0xc+0x4ba6,_0x102a4f=this['_elements']['length'];_0xf43a5d<_0x102a4f;_0xf43a5d++){const _0x50e509=this['_elements'][_0xf43a5d];if(_0x50e509['layers']['some'](_0x10d5e0=>_0x146ce6['layersSet']['has'](_0x10d5e0))){if(_0x50e509['screen']&&_0x50e509['screen']['screen']['screenSpac'+'e']){if(!_0x3e5e98)continue;if(this['_checkElem'+'ent'](_0x3e5e98,_0x50e509,!(0x1aa6+0x220e+-0x3cb4))>=-0x105*0x24+-0x1745+-0xd*-0x49d){_0x44bc9b=_0x50e509;break;}}else{if(!_0x3ef004)continue;const _0x451f37=this['_checkElem'+'ent'](_0x3ef004,_0x50e509,!(-0x1369+-0x6*0x22d+0x2078));if(_0x451f37>=-0x1ab8+0xe33+-0x1*-0xc85&&(_0x451f37<_0x395d19&&(_0x44bc9b=_0x50e509,_0x395d19=_0x451f37),_0x50e509['screen'])){_0x44bc9b=_0x50e509;break;}}}}return _0x44bc9b;}['_calculate'+'RayScreen'](_0x2a66d9,_0x521db9,_0x467185,_0xd5035e){const _0x1512e3=this['app']['graphicsDe'+'vice']['width'],_0x386caf=this['app']['graphicsDe'+'vice']['height'],_0x175187=_0x467185['rect']['z']*_0x1512e3,_0x106759=_0x467185['rect']['w']*_0x386caf,_0x524999=_0x467185['rect']['x']*_0x1512e3,_0x3348f6=_0x524999+_0x175187,_0x1705db=(0x1*-0x8ef+0x4f7*-0x5+0x21c3-_0x467185['rect']['y'])*_0x386caf,_0x2c57dc=_0x1705db-_0x106759;let _0x37d6cf=_0x2a66d9*_0x1512e3/this['_target']['clientWidt'+'h'],_0x392846=_0x521db9*_0x386caf/this['_target']['clientHeig'+'ht'];return _0x37d6cf>=_0x524999&&_0x37d6cf<=_0x3348f6&&_0x392846<=_0x1705db&&_0x392846>=_0x2c57dc?(_0x37d6cf=_0x1512e3*(_0x37d6cf-_0x524999)/_0x175187,_0x392846=_0x386caf*(_0x392846-_0x2c57dc)/_0x106759,_0x392846=_0x386caf-_0x392846,_0xd5035e['origin']['set'](_0x37d6cf,_0x392846,-0x1e99+0x1758+-0x742*-0x1),_0xd5035e['direction']['set'](0x224b+-0x803*-0x3+0x3a54*-0x1,0xa4c+0x18be*0x1+0x17*-0x186,-(0x1*-0x1b59+0xb94+0xfc6)),_0xd5035e['end']['copy'](_0xd5035e['direction'])['mulScalar'](-0x16*-0x35+0x75b+-0xbe7)['add'](_0xd5035e['origin']),!(-0x336+-0x1c7*0xd+0x1a51)):!(0x110e*-0x1+0x3d*-0x8b+-0x6*-0x85d);}['_calculate'+'Ray3d'](_0x1f5baa,_0x1aa4f2,_0xb7639d,_0x26a64d){const _0x1442d1=this['_target']['clientWidt'+'h'],_0x184ccb=this['_target']['clientHeig'+'ht'],_0x1b8c7f=_0xb7639d['rect']['z']*_0x1442d1,_0xa4a67=_0xb7639d['rect']['w']*_0x184ccb,_0x141b91=_0xb7639d['rect']['x']*_0x1442d1,_0x4d44cd=_0x141b91+_0x1b8c7f,_0x281e7d=(-0x1*0xe30+-0xcbe*-0x2+-0xb4b-_0xb7639d['rect']['y'])*_0x184ccb,_0x5d8472=_0x281e7d-_0xa4a67;let _0x470c0c=_0x1f5baa,_0x53f2be=_0x1aa4f2;return _0x1f5baa>=_0x141b91&&_0x1f5baa<=_0x4d44cd&&_0x1aa4f2<=_0x281e7d&&_0x53f2be>=_0x5d8472?(_0x470c0c=_0x1442d1*(_0x470c0c-_0x141b91)/_0x1b8c7f,_0x53f2be=_0x184ccb*(_0x53f2be-_0x5d8472)/_0xa4a67,_0xb7639d['screenToWo'+'rld'](_0x470c0c,_0x53f2be,_0xb7639d['nearClip'],Of),_0xb7639d['screenToWo'+'rld'](_0x470c0c,_0x53f2be,_0xb7639d['farClip'],RS),_0x26a64d['origin']['copy'](Of),_0x26a64d['direction']['set'](-0x22ec+0x1e65+0x487,-0xd6b+0x6*-0x3+0xd7d,-(-0x88f+0x134a+-0xaba*0x1)),_0x26a64d['end']['copy'](RS),!(-0xad*0x35+-0x138*-0x14+0xb71)):!(-0x1517+0x1cf2+-0x7da);}['_checkElem'+'ent'](_0xf478,_0x242a6e,_0x19ba0b){if(_0x242a6e['maskedBy']&&this['_checkElem'+'ent'](_0xf478,_0x242a6e['maskedBy']['element'],_0x19ba0b)<0x929+0x948+0x1271*-0x1)return-(-0x4*0x886+0x1478+-0x1*-0xda1);let _0x423456;_0x19ba0b?_0x423456=Xo['calculateS'+'caleToScre'+'en'](_0x242a6e):_0x423456=Xo['calculateS'+'caleToWorl'+'d'](_0x242a6e);const _0x3065de=Xo['buildHitCo'+'rners'](_0x242a6e,_0x19ba0b?_0x242a6e['screenCorn'+'ers']:_0x242a6e['worldCorne'+'rs'],_0x423456);return xU(_0xf478['origin'],_0xf478['end'],_0x3065de);}static['buildHitCo'+'rners'](_0x52695a,_0x130141,_0x1f9460){let _0xaf3c73=_0x130141;if(_0x52695a['entity']&&_0x52695a['entity']['button']){const _0x1d3bd7=_0x52695a['entity']['button']['hitPadding']||vU;wo['copy'](_0x52695a['entity']['up']),Vc['copy'](wo)['mulScalar'](-(0x5a4+-0x11*-0x1+0x124*-0x5)),Eo['copy'](_0x52695a['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x67a+0x21a3*0x1+-0x22*0x12e)),wo['mulScalar'](_0x1d3bd7['w']*_0x1f9460['y']),Vc['mulScalar'](_0x1d3bd7['y']*_0x1f9460['y']),Eo['mulScalar'](_0x1d3bd7['z']*_0x1f9460['x']),Gc['mulScalar'](_0x1d3bd7['x']*_0x1f9460['x']),FS['copy'](_0xaf3c73[-0x91*0x3d+-0x9*0x37a+0x5*0xd2b])['add'](Vc)['add'](Gc),NS['copy'](_0xaf3c73[0x62b+-0x896+0x26c])['add'](Vc)['add'](Eo),kS['copy'](_0xaf3c73[-0x1*-0xf75+-0x20b*0xd+0xc*0xed])['add'](wo)['add'](Eo),US['copy'](_0xaf3c73[0x158d+0x8ba*0x4+-0x3872])['add'](wo)['add'](Gc),_0xaf3c73=[FS,NS,kS,US];}if(_0x1f9460['x']<-0x1*-0x184a+0x443*-0x1+0x1*-0x1407){const _0x4f7844=_0xaf3c73[-0x645+-0x13*0x4+0x693]['x'],_0x1bfe0d=_0xaf3c73[0x1*0x19e5+0x20f2+-0x1*0x3ad7]['x'];_0xaf3c73[-0x12a5+0x1*0x13b4+0x10f*-0x1]['x']=_0x4f7844,_0xaf3c73[-0x21ec+-0x15d7+0x37c4]['x']=_0x1bfe0d,_0xaf3c73[-0x57b+0x7*0x42a+-0x17a9]['x']=_0x1bfe0d,_0xaf3c73[0xec*-0xa+0x9d6+0x1*-0x9b]['x']=_0x4f7844;}if(_0x1f9460['y']<-0x124a+-0x1b8f+0x61*0x79){const _0x26b696=_0xaf3c73[-0xe8d+-0x1fe3+-0x29*-0x122]['y'],_0x26e10f=_0xaf3c73[-0x14f6+0x205*-0xd+0x2c7*0x11]['y'];_0xaf3c73[0x469*-0x3+0xf91*0x1+-0x256]['y']=_0x26b696,_0xaf3c73[0xd6+0x9b+0x4*-0x5c]['y']=_0x26b696,_0xaf3c73[0x10d1+0x1520+0x1*-0x25ef]['y']=_0x26e10f,_0xaf3c73[-0x6ca+0x2*0x2af+0x16f]['y']=_0x26e10f;}if(_0x1f9460['z']<-0x11*-0x1e9+0x1*-0xa+-0x206f){const _0x5b62d7=_0xaf3c73[0x12cb+-0x4eb*-0x1+-0x29*0x94]['x'],_0x3c7849=_0xaf3c73[-0xcb0+0x1*-0x1a0d+-0xd*-0x2fb]['y'],_0x13d3fc=_0xaf3c73[-0x172f+0xec3+-0x86e*-0x1]['z'];_0xaf3c73[-0x1*0xd47+0xfc3*-0x2+0x1*0x2ccf]['x']=_0xaf3c73[0xe3*0x3+-0x2*-0xa23+0x3*-0x7a5]['x'],_0xaf3c73[0x234c*-0x1+0x5be*0x3+0xb2*0x1a]['y']=_0xaf3c73[0x14e7+-0x365+-0x1182]['y'],_0xaf3c73[-0x1*-0x1869+0x25b5+-0x3e1c]['z']=_0xaf3c73[0x13*-0x35+0x6*0x48d+-0x175f]['z'],_0xaf3c73[-0x477*-0x5+-0x30b*0xa+-0x19*-0x53]['x']=_0x5b62d7,_0xaf3c73[0x1808+-0xfad*0x2+-0x752*-0x1]['y']=_0x3c7849,_0xaf3c73[-0x13cc+-0x2380+-0xdd3*-0x4]['z']=_0x13d3fc;}return _0xaf3c73;}static['calculateS'+'caleToScre'+'en'](_0x217cd){let _0x133e13=_0x217cd['entity'];const _0x1c1f16=_0x217cd['screen']['screen']['scale'];for(tn['set'](_0x1c1f16,_0x1c1f16,_0x1c1f16);_0x133e13&&!_0x133e13['screen'];)tn['mul'](_0x133e13['getLocalSc'+'ale']()),_0x133e13=_0x133e13['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x176872){let _0x10df0c=_0x176872['entity'];for(tn['set'](0x10ac+0x1*-0x2192+0x1*0x10e7,0x116*0x6+-0x14ae+-0x75*-0x1f,-0x1fdc+-0x1a22+-0x39ff*-0x1);_0x10df0c;)tn['mul'](_0x10df0c['getLocalSc'+'ale']()),_0x10df0c=_0x10df0c['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x24b39d,_0x1d26df){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x24b39d,new _m(_0x1d26df));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x2be83a){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x185ea2){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x185ea2?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x5a53ef){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x5a53ef?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x2026+-0x1eb6+0x42dc;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x132d*-0x1+0x9*-0x26f+0x2914);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x12ee*-0x1+-0x919+0x1c07);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x5*-0x6f6+-0x22c7+0x1*0x4595);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x4a*0x55+-0x1945+0x31d7*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x8*-0x3cd+-0x197c+0x37e4);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(-0x10ae+0x1f59*0x1+0x5*-0x2ef);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x78*0x52+0x1a0+-0x281*0x10);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x327+0x400*0x2+0xb27*-0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x2*-0x761+0x1*0x7c7+0x6fb);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(0x1*0x26ad+0xf74+-0x3621);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x126c+-0xc*-0x47+0x78c*0x2);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x3d2c36,_0x36cb45){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x245af3=this['blendState'];ut['copy'](_0x245af3),ut['setColorBl'+'end'](_0x245af3['colorOp'],_0x3d2c36,_0x36cb45),ut['setAlphaBl'+'end'](_0x245af3['alphaOp'],_0x3d2c36,_0x36cb45),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x3e309a,_0x52a07c,_0x56bcaa,_0x307122){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x4d6a0c=this['blendState'];ut['copy'](_0x4d6a0c),ut['setColorBl'+'end'](_0x4d6a0c['colorOp'],_0x3e309a,_0x52a07c),ut['setAlphaBl'+'end'](_0x4d6a0c['alphaOp'],_0x56bcaa,_0x307122),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x5501fd){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x4933ad=this['blendState'];ut['copy'](_0x4933ad),ut['setColorBl'+'end'](_0x5501fd,_0x4933ad['colorSrcFa'+'ctor'],_0x4933ad['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x5501fd,_0x4933ad['alphaSrcFa'+'ctor'],_0x4933ad['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x5962c2,_0x187212){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x3d3802=this['blendState'];ut['copy'](_0x3d3802),ut['setColorBl'+'end'](_0x5962c2,_0x3d3802['colorSrcFa'+'ctor'],_0x3d3802['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x187212,_0x3d3802['alphaSrcFa'+'ctor'],_0x3d3802['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x143176,_0x359953,_0x524889,_0x533ba1){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x386003=this['blendState'];ut['copy'](_0x386003),ut['setColorWr'+'ite'](_0x143176,_0x359953,_0x524889,_0x533ba1),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x1480ef){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x1480ef,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x1d6e3b){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x1d6e3b,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x4c8270){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x4c8270,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x168934){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x168934,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x568615,_0x298998){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x298998+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x298998);},'set'(_0x752b46,_0x602879,_0x46c8c9){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x602879+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x602879,_0x46c8c9),!(-0x371*0x5+-0x1bb0+0x2ce5*0x1);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x4c9e18){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x4c9e18;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x54b15b){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x54b15b;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x7295c9){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x7295c9;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x3e80e4){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x3e80e4;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x41da6f){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x2885aa){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0xf412af){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x3e2f20,_0x21b229)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x3e2f20,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x3e2f20+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x21b229];},'set':function(_0x122026){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x3e2f20+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x21b229]=_0x122026,this['updateShad'+'ers']=!(-0x1*0x24c+0xdb*0x20+0x14*-0x141);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x241347,_0x197e61,_0xf60e9=''){Object['defineProp'+'erty'](_0x241347['prototype'],_0x197e61,{'set':function(_0x2345d1){w['errorOnce'](_0x241347['name']+'#'+_0x197e61+('\x20has\x20been\x20'+'removed.\x20')+_0xf60e9);},'get':function(){w['errorOnce'](_0x241347['name']+'#'+_0x197e61+('\x20has\x20been\x20'+'removed.\x20')+_0xf60e9);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x58d695){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x58d695);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x4b7304){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x4b7304];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x541932){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x541932;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x1bd8d6){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x1de470){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x1de470;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(0xfdb*0x1+0x9c*0x18+0x1*-0x1e17);},'set':function(_0x22a71c){this['gloss']=_0x22a71c*(-0x117*0xb+0x20f1+0xa7a*-0x2+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x4039f9){this['useTonemap']=_0x4039f9;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x4963ab=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x1c38+-0x1*-0x95f+0x9*-0x42d)));return this['anisotropy'+'Intensity']*_0x4963ab;},'set':function(_0x237546){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x237546),_0x237546>=0x5*-0x43f+-0x10c0+0x25fb?this['anisotropy'+'Rotation']=-0x2*-0x422+0x88a+0x2cd*-0x6:this['anisotropy'+'Rotation']=-0x1c*-0x5c+0x1d*0x7d+-0x7f5*0x3;}});function Qs(_0x558af2,_0x561d7f){Object['defineProp'+'erty'](Ut['prototype'],_0x561d7f,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x561d7f+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x558af2+'\x20instead.'),this[_0x558af2];},'set':function(_0x348e90){w['deprecated']('pc.Standar'+'dMaterial#'+_0x561d7f+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x558af2+'\x20instead.'),this[_0x558af2]=_0x348e90;}});}function Id(_0x2a4a05){Object['defineProp'+'erty'](Ut['prototype'],_0x2a4a05,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x2a4a05+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x2a4a05+('\x20was\x20alway'+'s\x20true')),!(-0xaeb+0x1c92+-0x11a7);},'set':function(_0x525bf4){w['deprecated']('pc.Standar'+'dMaterial#'+_0x2a4a05+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x2a4a05+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x4ed385,_0xd76a2){_0x4ed385!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x4ed385,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x4ed385+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0xd76a2||_0x4ed385)+'.'),this['litOptions'][_0xd76a2||_0x4ed385];},'set':function(_0x2cf9d3){w['deprecated']('Setting\x20pc'+'.Options#'+_0x4ed385+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0xd76a2||_0x4ed385)+'.'),this['litOptions'][_0xd76a2||_0x4ed385]=_0x2cf9d3;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0xfe395f){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0xfe395f);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x39*0xd+-0x2239*-0x1+-0x251c);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0xad7+-0x3e*0x1c+-0x40d*0x1);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x2465a6,_0x2deab9,_0x135fd6){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x2465a6=_0x2465a6||this['graphicsDe'+'vice']['canvas'];const _0x224bf2=function(){_0x2deab9(),document['removeEven'+'tListener']('fullscreen'+'change',_0x224bf2);},_0x491c3d=function(){_0x135fd6(),document['removeEven'+'tListener']('fullscreen'+'error',_0x491c3d);};_0x2deab9&&document['addEventLi'+'stener']('fullscreen'+'change',_0x224bf2,!(-0xb43*0x1+0xe71*-0x2+0x3*0xd62)),_0x135fd6&&document['addEventLi'+'stener']('fullscreen'+'error',_0x491c3d,!(0x16bd+-0x1768+0x1*0xac)),_0x2465a6['requestFul'+'lscreen']?_0x2465a6['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x135fd6();},Ks['prototype']['disableFul'+'lscreen']=function(_0x48d9e5){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x3c55ba=function(){_0x48d9e5(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3c55ba);};_0x48d9e5&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3c55ba,!(0x3*0xbe7+-0x142c+-0xf88)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x55a916){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x1e66e4=this['scenes']['find'](_0x55a916);return _0x1e66e4?_0x1e66e4['url']:null;},Ks['prototype']['loadScene']=function(_0x2f2766,_0x2f054a){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x2f2766,_0x2f054a);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x37b0ed,_0x35b985){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x37b0ed,_0x35b985);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x40ec4e,_0x42427e){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x40ec4e,_0x42427e);},Tm['prototype']['setVisible']=function(_0x376ddb){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x376ddb;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x2bb980){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x2bb980;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x1*-0x2073+0x1cd+-0x223f*0x1?this['gravity']['copy'](arguments[-0x21f5*0x1+0x2584+-0x38f*0x1]):this['gravity']['set'](arguments[-0x1f*0xa4+0x1a09+0x1f*-0x33],arguments[-0x3*-0xd2+-0x2b*0x86+0x140d*0x1],arguments[0x29*-0xdc+-0x1393+-0x36d1*-0x1]);};class wU{constructor(_0x515d6a){this['_frameInde'+'x']=0x22d*0xe+-0x20fc+0x286,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x95*-0x27+0x9f*-0x10+0x20a4,this['enabled']=!(0x1*-0x80f+0x2*0xec5+0x8d*-0x27),_0x515d6a['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x515d6a['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x515d6a['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x2765af){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x514990=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x514990,this['_frameInde'+'x']=0x11*-0x95+0x1116+-0x731,this['mark'](_0x2765af);}['mark'](_0xe441fc){if(!this['enabled'])return;const _0x48aa9b=de();if(this['_frameInde'+'x']>-0x1aff+0x2*0x792+0x25f*0x5){const _0x41b66d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x17*-0x13a+0x1*0x4b2+-0x20e7)];_0x41b66d[-0x24e7+-0x1*0x277+0x1*0x275f]=_0x48aa9b-_0x41b66d[-0x2c9*-0x3+0xfc6+-0x1820];}else{if(this['_timings']['length']>-0x2413*0x1+0x331*-0x4+0x1*0x30d7){const _0x4eb99d=this['_timings'][this['_timings']['length']-(0x6b0+-0x1*-0x23c7+0x1*-0x2a76)];_0x4eb99d[-0xb4c+-0x10f1+0x1c3e]=_0x48aa9b-_0x4eb99d[-0x55*-0x24+-0xc11+0x1e];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0xe441fc,_0x48aa9b]);else{const _0x1a02cb=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x1a02cb[-0x14f9+0x2237+-0xd3e]=_0xe441fc,_0x1a02cb[0x14a7+-0x1d96+-0x1*-0x8f0]=_0x48aa9b;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0xcfa+-0x2265+0x2f5f,-(-0x2513+-0x346+0x285a))['map'](_0x127cbf=>_0x127cbf[-0x9c2*-0x3+0xd55+0x154d*-0x2]);}}class EU{constructor(_0x4ef11b){this['device']=_0x4ef11b,_0x4ef11b['gpuProfile'+'r']['enabled']=!(0x1656+-0x1223+-0x433),this['enabled']=!(0x1bd0+-0x30c+-0x18c4),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1f71+-0x1*0x82b+0x279d,this['_timings']=[];}get['timings'](){return this['_timings'][0x66a*-0x3+-0x10e8*0x1+0x2426]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x3731f6,_0x5cd32c,_0x46881a,_0x5ba633,_0x38eb39){this['app']=_0x3731f6,this['values']=[],this['statNames']=_0x5cd32c,this['statNames']['length']>-0x202b+-0x7a4+0x13e9*0x2&&(this['statNames']['length']=0x1*-0x1607+-0x4ac*0x1+-0x1ab6*-0x1),this['unitsName']=_0x5ba633,this['decimalPla'+'ces']=_0x46881a,this['multiplier']=_0x38eb39||0x23bf+0x36b*-0x6+-0xf3c;const _0xecb0f2=(_0x492b11,_0x38f070)=>_0x492b11['split']('.')['reduce']((_0x3ec4e6,_0x332736)=>_0x3ec4e6?_0x3ec4e6[_0x332736]:null,_0x38f070||this);_0x3731f6['on']('frameupdat'+'e',_0x22506e=>{for(let _0x5d664d=0x33*0x33+-0x1b2+0x1*-0x877;_0x5d664d<this['statNames']['length'];_0x5d664d++)this['values'][_0x5d664d]=_0xecb0f2(this['statNames'][_0x5d664d],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x285f5a,_0x266ffd,_0x5c583f,_0x32b6ac,_0x316163){this['app']=_0x266ffd,this['name']=_0x285f5a,this['device']=_0x266ffd['graphicsDe'+'vice'],this['timer']=_0x316163,this['watermark']=_0x5c583f,this['enabled']=!(-0x2451+0x3*-0x3e3+0x2ffb),this['textRefres'+'hRate']=_0x32b6ac,this['avgTotal']=-0x18a1+0x198f+0xee*-0x1,this['avgTimer']=0x8d*0x11+-0xb6b*0x2+0xd79,this['avgCount']=-0x43f+-0x1d3*0x10+0x216f,this['timingText']='',this['texture']=null,this['yOffset']=0x1af9+-0x12b6+-0xeb*0x9,this['cursor']=-0x8d8+0x59f*-0x1+0xe77*0x1,this['sample']=new Uint8ClampedArray(0x1*0x193a+0x181c+0x76*-0x6b),this['sample']['set']([-0x1d8b+-0x16b4+0x343f,-0x59*-0x56+-0x1181*-0x1+0xf*-0x329,-0x2042*-0x1+0x1db6+-0x295*0x18,0x1727*-0x1+-0x277*0xe+0x3aa8]),this['counter']=0x20c8+0x2*-0x623+-0x1482,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x439cec){const _0x16a0b8=this['timer']['timings'],_0x1b7ea6=_0x16a0b8['reduce']((_0x4f21d4,_0x132971)=>_0x4f21d4+_0x132971,-0x52*0x12+-0x1468+0x1a2c);if(this['avgTotal']+=_0x1b7ea6,this['avgTimer']+=_0x439cec,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x1604+-0x20*-0xb1+-0x14*0x235,this['avgTotal']=0x26e*0xf+-0xa66+-0x1a0c,this['avgCount']=-0x17*0x147+-0x2*0x166+-0x202d*-0x1),this['enabled']){let _0x90d25c=0xfe9*0x2+0x41*0x5b+0x124f*-0x3;const _0x336e74=(0x156e+0x104b+-0x25b8+0.5)*this['watermark'];for(let _0x5ca103=-0xbe7*-0x1+0x8d3*-0x1+0x18a*-0x2;_0x5ca103<_0x16a0b8['length'];++_0x5ca103)_0x90d25c+=Math['floor'](_0x16a0b8[_0x5ca103]/_0x336e74*(-0x2133+0x126a*0x2+-0x2a2)),this['sample'][_0x5ca103]=_0x90d25c;this['sample'][0xfc5+0x333+-0x12f5]=this['watermark']/_0x336e74*(0x1*-0x253c+0xad*-0x2e+0x4551),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x25e8*-0x1+0x1004*0x2+-0x45ec)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1*0x445+0x1f8b+0x8f4*-0x4);}}['render'](_0x15cda7,_0x4af3f2,_0x1ebb93,_0x191724,_0x449306){_0x15cda7['quad'](_0x4af3f2+_0x191724,_0x1ebb93,-_0x191724,_0x449306,this['enabled']?this['cursor']:0x1615+0x46c+0x1*-0x1a81,this['enabled']?0x12d2+0x1e12+-0x4*0xc39+0.5+this['yOffset']:this['texture']['height']-(-0xf*-0xb6+-0x2211+-0x8*-0x2ed),-_0x191724,-0x9fa+-0x6ce+0x10c8,this['texture'],-0x1103+-0x9ef*-0x1+0x714);}}class AU{constructor(_0x51bd9f,_0x359352){const _0x29291a=_0x55ed79=>{_0x55ed79['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x55ed79['textAlign']='left',_0x55ed79['textBaseli'+'ne']='alphabetic';},_0x1764ad=_0x276ae7=>_0x276ae7==='.'||_0x276ae7['length']===0x991*-0x1+0xda3*-0x2+0x2*0x126c&&_0x276ae7['charCodeAt'](0x1fab+-0x10e7+-0x8c*0x1b)>=0x2556+-0xef7*0x2+-0x54*0x16&&_0x276ae7['charCodeAt'](-0x2045+-0xe94+0x2ed9)<=0x2*-0xc5e+0xbb*-0x13+0x1*0x26d6,_0x248a80=document['createElem'+'ent']('canvas'),_0x391c79=_0x248a80['getContext']('2d',{'alpha':!(-0x139*0x1d+-0x2*0xa9c+0x1*0x38ad)});_0x29291a(_0x391c79);const _0x598407=new Map(),_0x1b3d59=0x9*-0x2c4+0x52+0x5*0x4eb,_0x279ba2=0x1553+0x5*0x70f+0x2*-0x1b4f;let _0x3f1a85=_0x1b3d59,_0x12b989=_0x1b3d59;_0x359352['forEach'](_0x4f9cfe=>{const _0x20607d=_0x391c79['measureTex'+'t'](_0x4f9cfe),_0x4a9e28=Math['ceil'](-_0x20607d['actualBoun'+'dingBoxLef'+'t']),_0x53b083=Math['ceil'](_0x20607d['actualBoun'+'dingBoxRig'+'ht']),_0x2803e4=Math['ceil'](_0x20607d['actualBoun'+'dingBoxAsc'+'ent']),_0x44ca1f=Math['ceil'](_0x20607d['actualBoun'+'dingBoxDes'+'cent']),_0x5c5a6c=_0x4a9e28+_0x53b083,_0x270b0f=_0x2803e4+_0x44ca1f;_0x3f1a85+_0x5c5a6c+_0x1b3d59>=_0x279ba2&&(_0x3f1a85=_0x1b3d59,_0x12b989+=-0x29*-0x25+0x1d78+0xc9*-0x2d),_0x598407['set'](_0x4f9cfe,{'l':_0x4a9e28,'r':_0x53b083,'a':_0x2803e4,'d':_0x44ca1f,'w':_0x5c5a6c,'h':_0x270b0f,'x':_0x3f1a85,'y':_0x12b989}),_0x3f1a85+=_0x5c5a6c+_0x1b3d59;}),_0x248a80['width']=-0x1*-0x18a1+0xdff*-0x1+-0x1*0x8a2,_0x248a80['height']=Y['nextPowerO'+'fTwo'](_0x12b989+(0xd*-0x247+-0xa*0x7f+0xb8b*0x3)+_0x1b3d59),_0x29291a(_0x391c79),_0x391c79['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x391c79['fillRect'](0x2b*0x85+0x659*0x3+-0x2962*0x1,0xdf*-0x29+0x183b+0x3d4*0x3,_0x248a80['width'],_0x248a80['height']),_0x598407['forEach']((_0x1d5d3a,_0x8a00b8)=>{_0x391c79['fillStyle']=_0x1764ad(_0x8a00b8)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x391c79['fillText'](_0x8a00b8,_0x1d5d3a['x']-_0x1d5d3a['l'],_0x1d5d3a['y']+_0x1d5d3a['a']);}),this['placements']=_0x598407;const _0x442ed8=_0x391c79['getImageDa'+'ta'](-0x20eb*-0x1+-0x62*-0x40+-0x396b,-0x22b3+-0x4c*-0x38+-0x295*-0x7,_0x248a80['width'],_0x248a80['height'])['data'];for(let _0x24a4bf=-0x1893+-0x517+0x1daa;_0x24a4bf<_0x442ed8['length'];_0x24a4bf+=-0x25b1+-0x2540+0x4af5)_0x442ed8[_0x24a4bf+(-0x62c+0x129f*0x1+-0xc70)]=_0x442ed8[_0x24a4bf+(-0x43f*-0x1+-0x2082+0x1c43)],_0x442ed8[_0x24a4bf+(-0x6fb*-0x5+0x1bd*0x15+-0xa*0x724)]=0x760*-0x2+0x1e8b+-0xecc,_0x442ed8[_0x24a4bf+(-0x1*0xd3a+0xfe7+-0x2ac)]=-0x2*0xf50+-0xc74*-0x2+0x6b7,_0x442ed8[_0x24a4bf+(0x26*-0xd4+-0x9*-0x4d+0x1*0x1cc5)]=0x2b*0xb9+-0x1bf5+-0x21f;this['texture']=new _e(_0x51bd9f,{'name':'mini-stats'+'-word-atla'+'s','width':_0x248a80['width'],'height':_0x248a80['height'],'mipmaps':!(-0xf2*0x10+0x10c5+0x54*-0x5),'minFilter':Te,'magFilter':Te,'levels':[_0x442ed8]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x11628d,_0x3fa3ec,_0x46273b,_0x5cdce7){const _0x5efe94=this['placements']['get'](_0x3fa3ec);return _0x5efe94?(_0x11628d['quad'](_0x46273b+_0x5efe94['l']-(0x1c2d*-0x1+-0x1651*0x1+-0x10d5*-0x3),_0x5cdce7-_0x5efe94['d']+(0x24ae+-0x1c37+-0x1*0x876),_0x5efe94['w']+(0x2369+-0x2432*-0x1+0x1*-0x4799),_0x5efe94['h']+(-0x117a+0x1*0xbb7+0x5c5*0x1),_0x5efe94['x']-(-0x2424+0x5b3+0x1e72),this['texture']['height']-_0x5efe94['y']-_0x5efe94['h']-(0x1eb3+-0xf8*-0x15+0x1*-0x330a),void(0x680+-0x23f*-0xd+-0x23b3),void(-0x1fb9+0x1*0x4b8+0x1b01),this['texture'],-0x3*0xcb8+0x12b8+-0x2c7*-0x7),_0x5efe94['w']):-0x757+-0x9d2+0xbf*0x17;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x4d82fb,_0x4e7449=0x255e+0x17*0x163+-0x1*0x4343){const _0x1e8632=new kt(_0x4d82fb,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x5919f4=new Uint16Array(_0x4e7449*(0x1*-0xcaf+-0x350+-0x1005*-0x1));for(let _0x14ac46=-0x4*0x6b1+0xaba+-0x1*-0x100a;_0x14ac46<_0x4e7449;++_0x14ac46)_0x5919f4[_0x14ac46*(-0x24f6+0x240d+0xef)+(0x51f+-0x17e3*-0x1+-0x1d02)]=_0x14ac46*(0x1ba2+0x2b*0xe5+-0x1*0x4215),_0x5919f4[_0x14ac46*(0x5d5*0x5+0x2427+-0x1*0x414a)+(-0x1*0xb78+0x3*0xbcf+-0x7fc*0x3)]=_0x14ac46*(0x23ab+0x1*0x1fb1+-0x4358)+(-0x3db+0xc4*0x8+-0x244),_0x5919f4[_0x14ac46*(-0x4b*-0x3+0x107b+-0x1156*0x1)+(-0x1*-0x1607+0x32*-0xd+0x137b*-0x1)]=_0x14ac46*(0x2f*-0x9a+0x1*-0x13ea+0x1*0x3034)+(0x2037+-0x1*-0xe9e+-0x2ed3),_0x5919f4[_0x14ac46*(-0x1235*0x2+-0x1454+-0xe31*-0x4)+(-0x829+0x1885+-0x1059)]=_0x14ac46*(-0x10*0x77+0x1b94+-0x1420),_0x5919f4[_0x14ac46*(0xce1+0x4*0x6d3+-0x2827)+(0x8f2+-0xad*-0x29+-0x24a3)]=_0x14ac46*(-0xaf6+-0x1205*-0x1+-0x70b*0x1)+(0x2219*-0x1+0x1e2e*0x1+-0x3*-0x14f),_0x5919f4[_0x14ac46*(-0x18be+-0x780+0x1*0x2044)+(0x62f*-0x1+0x1d8*0x2+0x284*0x1)]=_0x14ac46*(0x9*0x17a+-0x1a6*0xa+0x336)+(-0x1*0x1f2e+0x1c71+-0x8*-0x58);this['device']=_0x4d82fb,this['buffer']=new Is(_0x4d82fb,_0x1e8632,_0x4e7449*(-0x1119+-0x24bd+0x35da),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x1ab2+0x6d3*-0x3+-0x635)),this['indexBuffe'+'r']=new br(_0x4d82fb,Yi,_0x4e7449*(-0x14b*0xe+0x2407+-0x11e7),ms,_0x5919f4),this['prim']={'type':js,'indexed':!(0x1553+-0x1008+-0x54b),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x1bea+-0x1*-0xd8b+0xd*0x11b,this['mesh']=new Ge(_0x4d82fb),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x265b+-0x1569+-0x4b*-0xcc]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x1de295=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x1de295,_0x1de295['cull']=bt,_0x1de295['depthState']=Yt['NODEPTH'],_0x1de295['blendState']=new pt(!(0x1*0x81+-0x21b1+0x2130),fs,jh,Yh,fs,Ft,Ft),_0x1de295['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x1de295,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1ca6+-0xe3*-0x1f+0x12d*0x1)},this['targetSize']={'width':_0x4d82fb['width'],'height':_0x4d82fb['height']};}['quad'](_0x182eed,_0x310f8a,_0x41af8d,_0x34e44b,_0x18467d,_0x500ee5,_0x1f6198,_0x22242b,_0x299ae7,_0x28f9cb=0x2*-0x1119+0x15b7+0xc7b){const _0x1f7d32=this['targetSize']['width'],_0x247f52=this['targetSize']['height'],_0x385b20=_0x182eed/_0x1f7d32,_0x5e9a73=_0x310f8a/_0x247f52,_0x2e5ea6=(_0x182eed+_0x41af8d)/_0x1f7d32,_0x34b177=(_0x310f8a+_0x34e44b)/_0x247f52,_0x24cf10=_0x299ae7['width'],_0x5aada1=_0x299ae7['height'],_0x11dbec=_0x18467d/_0x24cf10,_0x13eec3=_0x500ee5/_0x5aada1,_0x2a5bfe=(_0x18467d+(_0x1f6198??_0x41af8d))/_0x24cf10,_0x51664f=(_0x500ee5+(_0x22242b??_0x34e44b))/_0x5aada1;this['data']['set']([_0x385b20,_0x5e9a73,_0x28f9cb,_0x11dbec,_0x13eec3,-0x341*-0xa+-0x1e+-0x19f*0x14,-0x11*0x7d+-0x6*0x5c9+0x2b03,_0x2e5ea6,_0x5e9a73,_0x28f9cb,_0x2a5bfe,_0x13eec3,-0x34c+0x119d+-0xe50,0x2b*0xbd+-0x1*-0xf44+0x5*-0x967,_0x2e5ea6,_0x34b177,_0x28f9cb,_0x2a5bfe,_0x51664f,-0x6a9+0x5d*-0x4+0x81e,-0x3*0x9f7+0x4e*0x16+0x1732*0x1,_0x385b20,_0x34b177,_0x28f9cb,_0x11dbec,_0x51664f,0x1*-0x2a1+-0x245*0xb+0x373*0x8,0x1503+-0x60d+-0xef5],(0x398*-0x3+0x1979+0x1*-0xe95)*this['quads']),this['quads']++,this['prim']['count']+=0x283*-0xd+-0xdf*0x7+0x26c6;}['startFrame'](){this['quads']=0x880+0x5b5*0x1+-0xe35,this['prim']['count']=-0x5c7+0x6d+-0xa*-0x89,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5f36db,_0x1344ea,_0x35178b,_0x3ebcf4,_0xb8ca04,_0x22eeaf){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0xb8ca04,0x178d+0x3c8+0x1b55*-0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x35178b),this['material']['setParamet'+'er']('wordsTex',_0x3ebcf4),_0x5f36db['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1344ea);}}class N0{constructor(_0x10d2bb,_0x335b95){const _0x24545b=_0x10d2bb['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x24545b['height']/_0x24545b['maxPixelRa'+'tio'],_0x335b95={...N0['getDefault'+'Options'](),..._0x335b95},this['options']=_0x335b95,this['initGraphs'](_0x10d2bb,_0x24545b,_0x335b95);const _0x1c5c9c=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x38ce86=>_0x38ce86['name']))['concat'](_0x335b95['stats']?_0x335b95['stats']['map'](_0x5b1afa=>_0x5b1afa['unitsName']):[])['filter'](_0x5d8862=>!!_0x5d8862));this['wordAtlas']=new AU(_0x24545b,_0x1c5c9c),this['sizes']=_0x335b95['sizes'],this['_activeSiz'+'eIndex']=_0x335b95['startSizeI'+'ndex'];const _0x4c6e28=document['createElem'+'ent']('div');_0x4c6e28['setAttribu'+'te']('id','mini-stats'),_0x335b95['position']==='top'?_0x4c6e28['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x4c6e28['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x4c6e28['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x4c6e28),_0x4c6e28['addEventLi'+'stener']('mouseenter',_0x481415=>{this['opacity']=-0x3*0xd05+-0x3*0x413+-0x1*-0x3349;}),_0x4c6e28['addEventLi'+'stener']('mouseleave',_0x54a47f=>{this['opacity']=-0x1*0x21d+-0x965*-0x4+-0x2377+0.7;}),_0x4c6e28['addEventLi'+'stener']('click',_0xa9eb33=>{_0xa9eb33['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x1*-0x176c+0x1e7b+-0x35e6))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x24545b['on']('resizecanv'+'as',this['updateDiv'],this),_0x24545b['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x10d2bb['on']('postrender',this['postRender'],this),this['app']=_0x10d2bb,this['drawLayer']=_0x10d2bb['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x24545b,this['render2d']=new IU(_0x24545b),this['div']=_0x4c6e28,this['width']=-0x1*0x69d+0x1f*-0xb9+0x2*0xe82,this['height']=0x86*-0x37+-0xd46+0x2a10,this['gspacing']=-0xc05+0x2*0xb33+-0xa5f,this['clr']=[0x2564+0xc2f+-0x3192,0x1bac+-0x1*-0x21af+-0x3d5a,0x4*-0x4cf+0x493*0x7+-0xcc8,-0x1*-0x1b81+-0x1*0xf1a+-0xc67+0.5],this['_enabled']=!(0x1*-0x2137+-0xe5d*-0x1+0xfe*0x13),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x5678cf=>_0x5678cf['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0xa+-0xef5+0x2fc*0x5)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0xc8*0x11+0x1538+-0x7f0)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x1*-0x634+-0x15c*-0x1+-0xb0*0xb)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x5b*0x13+0xa65+-0x1126),'watermark':0x21},'gpu':{'enabled':!(-0x3*-0xced+0xe*-0x39+0xb3*-0x33),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x1446e5){this['_activeSiz'+'eIndex']=_0x1446e5,this['gspacing']=this['sizes'][_0x1446e5]['spacing'],this['resize'](this['sizes'][_0x1446e5]['width'],this['sizes'][_0x1446e5]['height'],this['sizes'][_0x1446e5]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x3e24c4){this['clr'][-0x432*-0x9+-0x1afa+-0xac5]=_0x3e24c4;}get['opacity'](){return this['clr'][-0x3*-0x6c5+0x175e+-0x2baa];}get['overallHei'+'ght'](){const _0x576aa7=this['graphs'],_0x59c154=this['gspacing'];return this['height']*_0x576aa7['length']+_0x59c154*(_0x576aa7['length']-(0x4*-0x376+-0x1*0x1bfd+0x29d6));}set['enabled'](_0x17b9cd){if(_0x17b9cd!==this['_enabled']){this['_enabled']=_0x17b9cd;for(let _0x2177ad=0x1*0x2383+0x1*0x62f+-0x29b2;_0x2177ad<this['graphs']['length'];++_0x2177ad)this['graphs'][_0x2177ad]['enabled']=_0x17b9cd,this['graphs'][_0x2177ad]['timer']['enabled']=_0x17b9cd;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x535466,_0x5582ef,_0xbd5408){if(this['graphs']=[],_0xbd5408['cpu']['enabled']){const _0x504f68=new wU(_0x535466),_0x942496=new Uf('CPU',_0x535466,_0xbd5408['cpu']['watermark'],_0xbd5408['textRefres'+'hRate'],_0x504f68);this['graphs']['push'](_0x942496);}if(_0xbd5408['gpu']['enabled']){const _0x4d32ca=new EU(_0x5582ef),_0x2a4940=new Uf('GPU',_0x535466,_0xbd5408['gpu']['watermark'],_0xbd5408['textRefres'+'hRate'],_0x4d32ca);this['graphs']['push'](_0x2a4940);}_0xbd5408['stats']&&_0xbd5408['stats']['forEach'](_0x3cf99d=>{const _0x336a73=new bU(_0x535466,_0x3cf99d['stats'],_0x3cf99d['decimalPla'+'ces'],_0x3cf99d['unitsName'],_0x3cf99d['multiplier']),_0x42df61=new Uf(_0x3cf99d['name'],_0x535466,_0x3cf99d['watermark'],_0xbd5408['textRefres'+'hRate'],_0x336a73);this['graphs']['push'](_0x42df61);});const _0xe87d35=_0xbd5408['sizes']['reduce']((_0x2881c3,_0x96c3a4)=>_0x96c3a4['width']>_0x2881c3?_0x96c3a4['width']:_0x2881c3,0xf1a+-0x1874+0x85*0x12);this['texture']=new _e(_0x5582ef,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0xe87d35),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0xd0*0x19+0x17*0x79+0x2*-0xf97),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x1b72c3,_0xd08d4f)=>{_0x1b72c3['texture']=this['texture'],_0x1b72c3['yOffset']=_0xd08d4f;});}['render'](){const _0x4b4d7b=this['graphs'],_0x320bdd=this['wordAtlas'],_0x43b7df=this['render2d'],_0x465000=this['width'],_0x416389=this['height'],_0x508f36=this['gspacing'];_0x43b7df['startFrame']();for(let _0x4cdd76=-0x1d69*-0x1+0x807*0x1+-0x2570;_0x4cdd76<_0x4b4d7b['length'];++_0x4cdd76){const _0x2c9093=_0x4b4d7b[_0x4cdd76];let _0x1e115f=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x4cdd76+(0x127d+0x15b3+-0x282f))*(_0x416389+_0x508f36):_0x4cdd76*(_0x416389+_0x508f36);_0x2c9093['render'](_0x43b7df,0x15bb*-0x1+-0x1e44+-0x1cb*-0x1d,_0x1e115f,_0x465000,_0x416389);let _0x3ccbc8=-0x4e1*0x6+-0xecf+0x2c16;_0x1e115f+=_0x416389-(0x3b*0x3a+0x23f0+-0x1b*0x1d3),_0x3ccbc8+=_0x320bdd['render'](_0x43b7df,_0x2c9093['name'],_0x3ccbc8,_0x1e115f)+(0x2*0xed1+0x24a+-0x1fe2);const _0xf408af=_0x2c9093['timingText'];for(let _0x11b761=0x1196*0x1+-0xd5d+-0x2f*0x17;_0x11b761<_0xf408af['length'];++_0x11b761)_0x3ccbc8+=_0x320bdd['render'](_0x43b7df,_0xf408af[_0x11b761],_0x3ccbc8,_0x1e115f);_0x2c9093['timer']['unitsName']&&(_0x3ccbc8+=-0x1396*-0x1+-0xf87+-0x103*0x4,_0x320bdd['render'](_0x43b7df,_0x2c9093['timer']['unitsName'],_0x3ccbc8,_0x1e115f));}_0x43b7df['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x416389);}['resize'](_0x71db38,_0x2cf222,_0x129b8d){const _0x426027=this['graphs'];for(let _0x3e65eb=-0x564+-0x24e9+0x2a4d;_0x3e65eb<_0x426027['length'];++_0x3e65eb)_0x426027[_0x3e65eb]['enabled']=_0x129b8d;this['width']=_0x71db38,this['height']=_0x2cf222,this['updateDiv']();}['updateDiv'](){const _0x4de0cf=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x4de0cf['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x4de0cf['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x373bc4=>_0x373bc4['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x1dd459,_0x124735,_0x2af7b5)=>{_0x1dd459['on'](_0x124735,_0x2af7b5),this['eventsList']=this['eventsList']['concat']({'e':_0x1dd459,'ty':_0x124735,'fn':_0x2af7b5});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x515d8c,ty:_0x2443ad,fn:_0x264b5c})=>{_0x515d8c['off'](_0x2443ad,_0x264b5c);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x253f22=>{var _0x144eb2;if(console['log']('add\x20xr\x20inp'+'ut',_0x253f22['handedness']),!((_0x144eb2=_0x253f22['profiles'])!=null&&_0x144eb2['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x2bcc66=_0x253f22['profiles']['map'](async _0x369589=>{var _0x2d3f59;const _0x44d7ab=this['basePath']+'/'+_0x369589+('/profile.j'+'son');try{const _0x4e3fb0=await fetch(_0x44d7ab);if(!_0x4e3fb0['ok'])return null;const _0x4b23de=await _0x4e3fb0['json'](),_0x2a79a1=((_0x2d3f59=_0x4b23de['layouts'][_0x253f22['handedness']])==null?void(0x979+-0x257d+0x2*0xe02):_0x2d3f59['assetPath'])||'',_0x1b9159=this['basePath']+'/'+_0x4b23de['profileId']+'/'+_0x253f22['handedness']+_0x2a79a1['replace'](/^\/?(left|right)/,''),_0x545222=await new Promise((_0x1b2f49,_0x51966d)=>{this['app']['assets']['loadFromUr'+'l'](_0x1b9159,'container',(_0x16931d,_0xadac57)=>{_0x16931d?_0x51966d(_0x16931d):_0x1b2f49(_0xadac57);});});return{'profileId':_0x369589,'asset':_0x545222};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x369589),null;}}),_0x227bf6=(await Promise['all'](_0x2bcc66))['find'](_0x10f6f4=>_0x10f6f4!==null);if(_0x227bf6){const {asset:_0x28cca3}=_0x227bf6,_0x1bb6c5=_0x28cca3['resource']['instantiat'+'eRenderEnt'+'ity']();_0x1bb6c5['name']='Armature_'+_0x253f22['handedness'],this['app']['root']['addChild'](_0x1bb6c5),this['preEntitie'+'s']['set'](_0x253f22,_0x1bb6c5);const _0x5c1d22=new Map();if(_0x253f22['hand'])for(const _0x5c3f16 of _0x253f22['hand']['joints']){const _0x166c31=_0x1bb6c5['findByName'](_0x5c3f16['id']);_0x166c31&&_0x5c1d22['set'](_0x5c3f16,_0x166c31);}this['controller'+'s']['set'](_0x253f22,{'entity':_0x1bb6c5,'jointMap':_0x5c1d22});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x33c063=>{var _0x1e3d29;const _0x4b1f48=this['controller'+'s']['get'](_0x33c063);_0x4b1f48&&((_0x1e3d29=_0x4b1f48['entity'])==null||_0x1e3d29['destroy'](),this['app']['root']['removeChil'+'d'](_0x4b1f48==null?void(0x12d*0x7+0x237c+-0x2bb7):_0x4b1f48['entity']),this['controller'+'s']['delete'](_0x33c063));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x553199,_0x33dfa6,_0x220843;const _0x2913a9=this['app'];(_0x553199=this['controller'+'s'])==null||_0x553199['forEach'](_0x29650e=>{var _0x1df91d;_0x2913a9['root']['removeChil'+'d'](_0x29650e==null?void(-0x5d6+-0x23b1+-0x1*-0x2987):_0x29650e['entity']),(_0x1df91d=_0x29650e['entity'])==null||_0x1df91d['destroy']();}),(_0x33dfa6=this['controller'+'s'])==null||_0x33dfa6['clear'](),(_0x220843=this['preEntitie'+'s'])==null||_0x220843['forEach'](_0x510d09=>{_0x2913a9['root']['removeChil'+'d'](_0x510d09),_0x510d09==null||_0x510d09['destroy']();});const _0x4ac25b=()=>{const _0x4ec879=_0x2913a9['root']['findByName']('Armature_l'+'eft'),_0x18180b=_0x2913a9['root']['findByName']('Armature_r'+'ight');for(_0x4ec879&&_0x2913a9['root']['removeChil'+'d'](_0x4ec879),_0x18180b&&_0x2913a9['root']['removeChil'+'d'](_0x18180b);_0x2913a9['root']['findByName']('Armature_l'+'eft')||_0x2913a9['root']['findByName']('Armature_r'+'ight');)_0x4ac25b();};_0x4ac25b();});}['update'](_0x3cd417){var _0xa77a92;if((_0xa77a92=this['app']['xr'])!=null&&_0xa77a92['active']){for(const [_0x16d8a0,{entity:_0x456310,jointMap:_0x4ef32a}]of this['controller'+'s'])if(_0x16d8a0['hand']){for(const [_0x593a1f,_0x2fc130]of _0x4ef32a)_0x2fc130['setPositio'+'n'](_0x593a1f['getPositio'+'n']()),_0x2fc130['setRotatio'+'n'](_0x593a1f['getRotatio'+'n']());}else _0x456310['setPositio'+'n'](_0x16d8a0['getPositio'+'n']()),_0x456310['setRotatio'+'n'](_0x16d8a0['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x1597+-0x1*0xaa5+0x203d)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x1341+0x175*-0x1+0x2*-0x8e6,-0x57d*-0x7+-0x1*-0x22d9+0xea7*-0x5,-0x113*0x1c+0x12a5+0xb6f)),h(this,'invalidCol'+'or',new ie(0x1*0x1c2e+-0x7*0x361+0x2*-0x243,-0x51*-0x47+-0x767*-0x2+0x2545*-0x1,-0x1089+-0x258b*0x1+0x3614)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x6*0x308+-0x5f1*-0x5+-0x17f2*0x2)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x1f08+0x912+0x5*-0x805));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x296c57=>{const _0x3c44a4=()=>{this['activePoin'+'ters']['set'](_0x296c57,!(-0x116*-0x1+-0x124+-0x1*-0xe));},_0x196c81=()=>{this['activePoin'+'ters']['set'](_0x296c57,!(-0x51+-0x1874+0x3*0x842)),this['tryTelepor'+'t'](_0x296c57);};_0x296c57['on']('selectstar'+'t',_0x3c44a4),_0x296c57['on']('selectend',_0x196c81),this['inputHandl'+'ers']['set'](_0x296c57,{'handleSelectStart':_0x3c44a4,'handleSelectEnd':_0x196c81}),this['inputSourc'+'es']['add'](_0x296c57);}),this['app']['xr']['input']['on']('remove',_0x33dc60=>{const _0x4958bd=this['inputHandl'+'ers']['get'](_0x33dc60);_0x4958bd&&(_0x33dc60['off']('selectstar'+'t',_0x4958bd['handleSele'+'ctStart']),_0x33dc60['off']('selectend',_0x4958bd['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x33dc60)),this['activePoin'+'ters']['delete'](_0x33dc60),this['inputSourc'+'es']['delete'](_0x33dc60);});}['findPlaneI'+'ntersectio'+'n'](_0x26cf56,_0x4b54dc){if(Math['abs'](_0x4b54dc['y'])<0x406*-0x5+0x1011*-0x2+-0x16*-0x260+0.00001)return null;const _0x3a269c=-_0x26cf56['y']/_0x4b54dc['y'];return _0x3a269c<-0x8*0x13+0x1ba0+-0x1b08?null:new D(_0x26cf56['x']+_0x4b54dc['x']*_0x3a269c,0x11bf+0x15*0x137+-0x2b42,_0x26cf56['z']+_0x4b54dc['z']*_0x3a269c);}['tryTelepor'+'t'](_0x1a2509){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x449f99=_0x1a2509['getOrigin'](),_0x26d519=_0x1a2509['getDirecti'+'on'](),_0x43d489=this['findPlaneI'+'ntersectio'+'n'](_0x449f99,_0x26d519);if(_0x43d489){const _0x385df2=this['entity']['getPositio'+'n']()['y'];_0x43d489['y']=_0x385df2,this['entity']['setPositio'+'n'](_0x43d489);}}}['update'](){for(const _0x226310 of this['inputSourc'+'es']){const _0x351f91=_0x226310['getOrigin'](),_0x5c530e=_0x226310['getDirecti'+'on']();if(_0x226310['gamepad']&&!_0x226310['hand']){const _0x2ebb7b=_0x226310['gamepad'];for(let _0x27a2d0=0x21f9+-0x1bd2+-0x5*0x13b;_0x27a2d0<_0x2ebb7b['buttons']['length'];++_0x27a2d0)_0x2ebb7b['buttons'][_0x27a2d0]['pressed']&&console['log'](_0x27a2d0,_0x226310['handedness']),_0x226310['handedness']==='right'&&_0x27a2d0===0x18e8+0x79d+0x2*-0x1042&&(this['teleportOp'+'enStatus']=_0x2ebb7b['buttons'][0x113a*-0x1+-0xf81+0x20bc]['pressed']),_0x226310['handedness']==='left'&&_0x27a2d0===-0x2157+0x19c3+-0x287*-0x3&&(this['teleportLe'+'ftOpenStat'+'us']=_0x2ebb7b['buttons'][-0x191b+-0x181b+0x3137]['pressed']);}const _0x78000b=_0x226310['handedness'];if(!this['enableDraw'+'Ray']&&(_0x78000b==='right'&&!this['teleportOp'+'enStatus']||_0x78000b==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x1411b8=this['findPlaneI'+'ntersectio'+'n'](_0x351f91,_0x5c530e);if(this['enableDraw'+'Ray']||!_0x1411b8){const _0x5a3b2d=_0x351f91['clone']()['add'](_0x5c530e['clone']()['mulScalar'](0xe89*-0x1+0xf48+-0x5b)),_0x29fb8e=this['enableDraw'+'Ray']?_0x226310['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x351f91,_0x5a3b2d,_0x29fb8e);}else this['app']['drawLine'](_0x351f91,_0x1411b8,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x1411b8);}}['drawTelepo'+'rtIndicato'+'r'](_0x2f1be5){for(let _0x595b9f=-0x41b+-0x1a6*0xb+0x163d;_0x595b9f<0x1aa6*0x1+0x2ae*0x7+0x3*-0xf18;_0x595b9f++){const _0x26428f=_0x595b9f/(-0x1e3f+0x189c+0x5c3)*Math['PI']*(-0x1*0x18be+-0xa8c+-0x1*-0x234c),_0x3f5584=(_0x595b9f+(0x7ec+0xc72+-0x145d))/(-0x61*-0x3d+-0x1fb8+0x1bf*0x5)*Math['PI']*(0x829+-0x146f*-0x1+-0x1c96),_0x137773=_0x2f1be5['x']+Math['cos'](_0x26428f)*(0x2*-0x6f9+-0x1fb1*-0x1+0x4d*-0x3b+0.2),_0x5f0894=_0x2f1be5['z']+Math['sin'](_0x26428f)*(0xb60+0x4c*-0xe+0x6*-0x134+0.2),_0x5babca=_0x2f1be5['x']+Math['cos'](_0x3f5584)*(-0x1*-0x2467+-0x20e*-0xb+-0x39*0x109+0.2),_0x27380a=_0x2f1be5['z']+Math['sin'](_0x3f5584)*(-0x3*-0x12+0x2684+-0x2*0x135d+0.2);this['app']['drawLine'](new D(_0x137773,-0xb67+0x1049*-0x1+0x1bb0+0.01,_0x5f0894),new D(_0x5babca,-0x2447+-0x881+0x2cc8*0x1+0.01,_0x27380a),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x53371c(_0x503e3d){function _0x51e88f(_0x27846a){if(typeof _0x27846a==='string')return function(_0x53ded9){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x27846a/_0x27846a)['length']!==-0xa19+0x1*-0x162a+0x46*0x76||_0x27846a%(0x1ae6+0x547+-0x2019)===-0x1bc9+-0x208d+0x3c56?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x51e88f(++_0x27846a);}try{if(_0x503e3d)return _0x51e88f;else _0x51e88f(0x1100*-0x2+0x83b+-0x2dd*-0x9);}catch(_0x5890b4){}}