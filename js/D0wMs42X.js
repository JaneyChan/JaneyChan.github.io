const _0xcae25b=(function(){let _0x246fed=!![];return function(_0x483cab,_0x523071){const _0x3d8441=_0x246fed?function(){if(_0x523071){const _0x24cb74=_0x523071['apply'](_0x483cab,arguments);return _0x523071=null,_0x24cb74;}}:function(){};return _0x246fed=![],_0x3d8441;};}()),_0x1b04c6=_0xcae25b(this,function(){return _0x1b04c6['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x1b04c6)['search']('(((.+)+)+)'+'+$');});_0x1b04c6();const _0x2f228b=(function(){let _0x148ce1=!![];return function(_0x1c1c47,_0x4bb329){const _0x58ebf3=_0x148ce1?function(){if(_0x4bb329){const _0x45507f=_0x4bb329['apply'](_0x1c1c47,arguments);return _0x4bb329=null,_0x45507f;}}:function(){};return _0x148ce1=![],_0x58ebf3;};}());(function(){_0x2f228b(this,function(){const _0x16461a=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x32205b=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x2a55e3=_0x4104cb('init');!_0x16461a['test'](_0x2a55e3+'chain')||!_0x32205b['test'](_0x2a55e3+'input')?_0x2a55e3('0'):_0x4104cb();})();}());const _0x56bbc9=(function(){let _0x52c5ee=!![];return function(_0x221354,_0x575a59){const _0x37facc=_0x52c5ee?function(){if(_0x575a59){const _0xbad2b9=_0x575a59['apply'](_0x221354,arguments);return _0x575a59=null,_0xbad2b9;}}:function(){};return _0x52c5ee=![],_0x37facc;};}()),_0x14a470=_0x56bbc9(this,function(){let _0x356c09;try{const _0x201b35=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x356c09=_0x201b35();}catch(_0x8f875f){_0x356c09=window;}const _0x3812ce=_0x356c09['console']=_0x356c09['console']||{},_0x2dcfc1=['log','warn','info','error','exception','table','trace'];for(let _0x45da27=-0x1*0x21f9+-0x4*0x29a+0x7*0x657;_0x45da27<_0x2dcfc1['length'];_0x45da27++){const _0x4c3409=_0x56bbc9['constructo'+'r']['prototype']['bind'](_0x56bbc9),_0x7bf8f1=_0x2dcfc1[_0x45da27],_0x4ccea6=_0x3812ce[_0x7bf8f1]||_0x4c3409;_0x4c3409['__proto__']=_0x56bbc9['bind'](_0x56bbc9),_0x4c3409['toString']=_0x4ccea6['toString']['bind'](_0x4ccea6),_0x3812ce[_0x7bf8f1]=_0x4c3409;}});_0x14a470();var k0=Object['defineProp'+'erty'],U0=(_0x4609bb,_0x216ed1,_0x5b4e4e)=>_0x216ed1 in _0x4609bb?k0(_0x4609bb,_0x216ed1,{'enumerable':!(-0x125c+-0x1*0x19cd+0x2c29),'configurable':!(-0x1319+-0x41*-0x82+-0xde9),'writable':!(0x6dd*-0x1+0x971*0x4+-0x1ee7),'value':_0x5b4e4e}):_0x4609bb[_0x216ed1]=_0x5b4e4e,h=(_0x2a84ab,_0x5a13ab,_0x145df9)=>U0(_0x2a84ab,typeof _0x5a13ab!='symbol'?_0x5a13ab+'':_0x5a13ab,_0x145df9),B0=(_0x478009=>(_0x478009['HIGH']='high',_0x478009['MEDIUM']='medium',_0x478009['LOW']='low',_0x478009['LOW_VR']='lowVR',_0x478009))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x408cf1=navigator['userAgent']['includes']('Macintosh'),_0x4a98c6=navigator['maxTouchPo'+'ints']===0x30*0x2d+-0x1577+-0xd0c*-0x1,_0xe5db33=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x408cf1&&_0x4a98c6&&_0xe5db33;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x2cf9dd=navigator['userAgent']['toLowerCas'+'e']();return _0x2cf9dd['includes']('pico')||_0x2cf9dd['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x38454a=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x5566e2=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x38454a)?'iOS':/android/['test'](_0x38454a)?'Android':/mac/['test'](_0x5566e2)?'macOS':/win/['test'](_0x5566e2)?'Windows':/linux/['test'](_0x5566e2)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x1411+0x2432+0x12b2*-0x3,this['MEDIUM_FPS'+'_THRESHOLD']=0x71*-0x56+-0x1*-0x755+0x1ebf,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x2*-0xc2d+0x66f+0x11ef)*(-0x121*0x3+0x8*0x20a+-0x5*0x1c9)*(-0x41c*0x3+0x1ec8+0x39d*-0x4)*(0x1dc8+0x13c*-0x2+-0x1750),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(-0x41f*0x2+-0xa91+0x12d1*0x1)*(-0x633+0x7cd*0x4+0x11b*-0x13)*(0x1*-0x246b+0x1222+-0xa3*-0x23)*(-0x1569+0x23b1*0x1+-0xa48),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x2095b2){const _0x1a005d=_0x2095b2['toLowerCas'+'e']();for(const [_0x54cc20,_0x134d28]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x1a005d['includes'](_0x54cc20))return _0x134d28*(0x5*0x5b0+0x66e+0x5bf*-0x6);return 0xe0+0x39+-0x1*0xe7;}['getModelSc'+'ore'](_0x432587,_0x583266){const _0x1a7e6b=_0x432587['toLowerCas'+'e'](),_0x2c8916=_0x583266['toLowerCas'+'e']();for(const [_0x13cf4d,_0x461a40]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x1a7e6b['includes'](_0x13cf4d)&&_0x461a40['some'](_0x2d3ca7=>_0x2d3ca7['test'](_0x2c8916)))return-0x4d0+-0x1*0x12ee+0x1818;for(const [_0x5b3c82,_0x544bdf]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x1a7e6b['includes'](_0x5b3c82)&&_0x544bdf['some'](_0x17c6dc=>_0x17c6dc['test'](_0x2c8916)))return 0x15f2+0x8dd+-0x1e89*0x1;for(const [_0x4de113,_0x36def2]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x1a7e6b['includes'](_0x4de113)&&_0x36def2['some'](_0x27b8fa=>_0x27b8fa['test'](_0x2c8916)))return 0xf+-0x5*0x417+0x1496;return-0x7f1+0x3*-0x74f+0x1e1a;}['getMemoryS'+'core'](_0x5e1484){return _0x5e1484?_0x5e1484>=0x1*0x4a63+-0xb4d*-0x7+-0x6a9e?0xe63*-0x1+0x2*0x8fa+0x10f*-0x3:_0x5e1484>=-0x1724*0x1+0x211f+0x2d*0x79?0x1*-0xef7+0x1719+0x1*-0x7c8:_0x5e1484>=-0x1195+0x1533+-0x3b*-0x56?0x1683+0x1*-0x1b53+0x520:_0x5e1484>=-0x70a+0x6e8*0x2+0x8da?-0x1ceb+-0x1a07+0x3738:_0x5e1484>=0xe4*0x12+0x1a1f*0x1+-0x2257?0x2*0x91f+0x18b9+0x2abb*-0x1:0x237+-0xa*-0x31a+0x2109*-0x1:0x11*0x137+0xcb*-0x17+-0x11c*0x2;}['getDriverS'+'core'](_0x54306c){if(!_0x54306c)return-0x1*-0xd4f+-0x5b8+0x3*-0x277;const _0x3a111b=_0x54306c['match'](/20[2-9][0-9]/);if(_0x3a111b){const _0xe9a81d=parseInt(_0x3a111b[-0x101*-0x17+-0x5*-0x351+0x1*-0x27ac]);if(_0xe9a81d>=0x14b9*-0x1+0x1*0x1e3d+-0x1*0x19d)return-0x1e2*-0x13+0xc06+-0x2f68;if(_0xe9a81d>=0xedb*0x2+-0x7db*-0x1+0x31*-0x9b)return 0x1*0xe6b+-0x3*0xcb9+0x1810;if(_0xe9a81d>=0x4*-0x65+-0x1b44+-0x39*-0xa5)return 0x1*-0x1be7+0x76c+0x14b7;}return-0x247*-0x2+0x1196+-0x15f2;}['evaluateGP'+'U'](_0x17e549){const _0x39ac3c=this['getVendorS'+'core'](_0x17e549['vendor']),_0x52b34e=this['getModelSc'+'ore'](_0x17e549['vendor'],_0x17e549['renderer']),_0x341b31=this['getMemoryS'+'core'](_0x17e549['memory']),_0x28bf9c=this['getDriverS'+'core'](_0x17e549['driverVers'+'ion']);return console['log']('GPU:',_0x17e549['vendor']),console['log']('GPU:',_0x17e549['renderer']),console['log']('GPU:',_0x17e549['driverVers'+'ion']),console['table'](_0x17e549),_0x39ac3c*(0x1bdf*0x1+0x2*0x8e+-0x3*0x9a9+0.3)+_0x52b34e*(0x1f22*0x1+0x305*-0x1+-0x95f*0x3+0.4)+_0x341b31*(-0x1cb5+-0x1383+0x3038+0.2)+_0x28bf9c*(0x9a6+-0xd68+-0xd*-0x4a+0.1);}['evaluateCP'+'U'](){const _0xd923ca=navigator['hardwareCo'+'ncurrency'];return _0xd923ca>=0x464+-0x1d5d+0x1*0x1901?-0x22c1+-0x5*-0xb7+0x5*0x63d:_0xd923ca>=0x264+-0xbd4*0x2+-0x3*-0x718?-0x71f*-0x5+0x53*-0x5c+-0x7*0xd3:0x328+-0xded+0x2*0x563;}['evaluateMe'+'mory'](_0x49cb46){return typeof _0x49cb46=='string'?0xfa0+-0x59e*0x6+0x59*0x34:_0x49cb46['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0xc459c5){const _0x33b48c=WS(),_0x4356fd=GS(),_0x35c81f=HS();if(_0x4356fd)return'medium';if(_0x35c81f)return'lowVR';if(_0x33b48c)return'low';const _0x415711=_0xc459c5['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x18f*-0x1+-0x253+0x1*0xc7:_0xc459c5['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?-0x653*-0x5+0x1a65*-0x1+-0x538:-0x285+-0x254*-0x1+0x32;let _0x3c2c33=-0x1a45+-0x1ba1+-0x1*-0x35e7;typeof _0xc459c5['gpuInfo']!='string'&&(_0x3c2c33=this['evaluateGP'+'U'](_0xc459c5['gpuInfo']));const _0x2c34f9=this['evaluateCP'+'U'](),_0x5adb9d=this['evaluateMe'+'mory'](_0xc459c5['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x138a+-0xc*-0x102+0x653*-0x5:this['evaluateMe'+'mory'](_0xc459c5['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0x133e+-0x61*-0x65+-0x3981:0x60d*-0x1+-0x209d+0x26ab,_0x2e240d=_0x415711+_0x3c2c33+_0x2c34f9+_0x5adb9d;return console['log']('GPU:',_0x415711,_0x3c2c33,_0x2c34f9,_0x5adb9d),_0x2e240d>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x2e240d>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x1e0f1f){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x1e0f1f];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x4a3b61){var _0x3c6a88=Date['now']();return setTimeout(function(){_0x4a3b61({'didTimeout':!(-0x85+0x2c5*0x3+0x1*-0x7c9),'timeRemaining':function(){return Math['max'](-0x1eb*-0x5+-0x1a36+0x109f,0x2*-0x343+0x6fe*0x2+-0xf*0x7c-(Date['now']()-_0x3c6a88));}});},0x5*0x2f7+-0x31*0x89+0xb67);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x28d396){clearTimeout(_0x28d396);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x404c79,_0x13b29b){for(const _0x407bb1 in _0x13b29b){const _0x51642f=_0x13b29b[_0x407bb1];Array['isArray'](_0x51642f)?_0x404c79[_0x407bb1]=ah([],_0x51642f):_0x51642f&&typeof _0x51642f=='object'?_0x404c79[_0x407bb1]=ah({},_0x51642f):_0x404c79[_0x407bb1]=_0x51642f;}return _0x404c79;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x2a4444=>{const _0x301512=Math['random']()*(0x1*0x12c9+-0x1*0x14f4+0x23b)|-0x30*-0x88+0x467+0x5*-0x5fb;return(_0x2a4444==='x'?_0x301512:_0x301512&-0x2*-0x11f9+0x817+-0x46*0xa1|-0x879*0x3+0x36f*0x5+0x848)['toString'](-0x7a2*0x5+-0x1232+-0x9d*-0x5c);});}},xe={'delimiter':'/','join'(..._0x410a0f){let _0x32f0d0=_0x410a0f[0x1f88+0x17*-0x13f+0x93*-0x5];for(let _0x491d3d=0xf6a+0x1*-0x1d39+-0x23*-0x65;_0x491d3d<_0x410a0f['length']-(-0x27*0x4+-0x26b7*0x1+-0x4*-0x9d5);_0x491d3d++){const _0x3476e6=_0x410a0f[_0x491d3d],_0xf6e37f=_0x410a0f[_0x491d3d+(0x11*-0x64+0xd59+-0x6b4)];if(_0xf6e37f[-0xee3+-0x1*0x1597+0x247a]===xe['delimiter']){_0x32f0d0=_0xf6e37f;continue;}_0x3476e6&&_0xf6e37f&&_0x3476e6[_0x3476e6['length']-(-0x5ca*-0x1+0x69*0x3d+0x2*-0xf67)]!==xe['delimiter']&&_0xf6e37f[0x117d+0x148*0x15+-0x5*0x8e1]!==xe['delimiter']?_0x32f0d0+=xe['delimiter']+_0xf6e37f:_0x32f0d0+=_0xf6e37f;}return _0x32f0d0;},'normalize'(_0x358581){const _0x3c7ac3=_0x358581['startsWith'](xe['delimiter']),_0x49ae01=_0x358581['endsWith'](xe['delimiter']),_0x153558=_0x358581['split']('/');let _0x28ab91='',_0x9b9fa0=[];for(let _0xe26a7f=-0x20*-0x11e+-0x1253+-0x116d;_0xe26a7f<_0x153558['length'];_0xe26a7f++)if(_0x153558[_0xe26a7f]!==''&&_0x153558[_0xe26a7f]!=='.'){if(_0x153558[_0xe26a7f]==='..'&&_0x9b9fa0['length']>0x1bf*-0x7+0x1f24+-0xa7*0x1d){_0x9b9fa0=_0x9b9fa0['slice'](0x63d*0x1+0x2*-0xa7a+0xeb7*0x1,_0x9b9fa0['length']-(-0x22d4+-0xa*0x1b4+-0x33de*-0x1));continue;}_0xe26a7f>-0x1460+-0x1053+0x24b3&&_0x9b9fa0['push'](xe['delimiter']),_0x9b9fa0['push'](_0x153558[_0xe26a7f]);}return _0x28ab91=_0x9b9fa0['join'](''),!_0x3c7ac3&&_0x28ab91[-0x110e+0x14b*0xc+0x18a*0x1]===xe['delimiter']&&(_0x28ab91=_0x28ab91['slice'](0x70*-0x9+-0x33*0x23+-0x575*-0x2)),_0x49ae01&&_0x28ab91[_0x28ab91['length']-(0x640+0x2594*-0x1+-0x269*-0xd)]!==xe['delimiter']&&(_0x28ab91+=xe['delimiter']),_0x28ab91;},'split'(_0x39bab5){const _0x47f968=_0x39bab5['lastIndexO'+'f'](xe['delimiter']);return _0x47f968!==-(0x1*0x107b+0x1163+-0x21dd)?[_0x39bab5['substring'](0xa7*0x2+-0x12c4+-0x37e*-0x5,_0x47f968),_0x39bab5['substring'](_0x47f968+(-0xea2+-0x10c7+-0x2*-0xfb5))]:['',_0x39bab5];},'getBasename'(_0x2877dd){return xe['split'](_0x2877dd)[0x3*0x215+-0x145b+0xe1d];},'getDirectory'(_0x9ba00a){return xe['split'](_0x9ba00a)[-0x2316*-0x1+-0x184*0x7+0xd*-0x1e2];},'getExtension'(_0x1ecf82){const _0x184104=_0x1ecf82['split']('?')[-0x1747+-0x25f4+0x3d3b]['split']('.')['pop']();return _0x184104!==_0x1ecf82?'.'+_0x184104:'';},'isRelativePath'(_0x5466ac){return _0x5466ac['charAt'](-0x1*-0x25a2+0x6df+-0x2c81)!=='/'&&_0x5466ac['match'](/:\/\//)===null;},'extractPath'(_0x343e12){let _0x3d4d1b='';const _0xd3c53a=_0x343e12['split']('/');let _0x343a41=-0x22*0xff+0x109b+0x5c1*0x3;if(_0xd3c53a['length']>-0x5*-0x101+0x20be*0x1+0xb3*-0x36){if(xe['isRelative'+'Path'](_0x343e12)){if(_0xd3c53a[-0x1466+-0x1ef5+0x335b*0x1]==='.'){for(_0x343a41=0x1*0x1d66+0x30*-0xac+-0x49*-0xa;_0x343a41<_0xd3c53a['length']-(-0xb5*-0x2a+-0x17*0xfb+-0x724);++_0x343a41)_0x3d4d1b+=_0x343a41===0x7*0x279+0xb5*0x32+-0x34a9*0x1?_0xd3c53a[_0x343a41]:'/'+_0xd3c53a[_0x343a41];}else{if(_0xd3c53a[0x1*0x2699+0x127e+-0x3917]==='..'){for(_0x343a41=-0x241*0x1+-0xddb*0x1+0x101c;_0x343a41<_0xd3c53a['length']-(-0xbc*-0x1f+-0x1506+-0x1bd);++_0x343a41)_0x3d4d1b+=_0x343a41===-0x1063+0xf22+0x141?_0xd3c53a[_0x343a41]:'/'+_0xd3c53a[_0x343a41];}else{for(_0x3d4d1b='.',_0x343a41=0x3*-0xb4a+-0x2307+0x44e5;_0x343a41<_0xd3c53a['length']-(-0x2b9+-0x51*0x75+0x113*0x25);++_0x343a41)_0x3d4d1b+='/'+_0xd3c53a[_0x343a41];}}}else{for(_0x343a41=-0x10e7+0x41*-0x41+0x2168;_0x343a41<_0xd3c53a['length']-(0x26fc+-0x4b2+0x43*-0x83);++_0x343a41)_0x3d4d1b+=_0x343a41===0x1*-0x2dd+-0x56a+0x847?_0xd3c53a[_0x343a41]:'/'+_0xd3c53a[_0x343a41];}}return _0x3d4d1b;}},J0=()=>{let _0x2c40fd=!(-0x506*0x1+0x2502+0x1ffb*-0x1);try{const _0x45168e=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x2c40fd=!(0x179f*0x1+-0xfc3+-0x3ee*0x2),!(-0x1*0xa5e+-0x1f34+0x1*0x2993);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x45168e),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x45168e);}catch{}return _0x2c40fd;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1d7*-0x5+0x2e2+-0xc15),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x1f3*-0xf+-0x1f7*-0x2b+-0x1418*-0x8,jS=0x89d2+-0x1*-0x2516+0x2d17,Rm=0xec42+-0x1acfe+-0x3*-0x8994,rx=-0x3*-0x336b+-0x1*-0x1040e+-0xbe50,ax=-0x1196*0x1+0x224e+0xf55,Om=-0x1*0x17983+0x15525+0x21644,Fm=-0xa*-0x5b97+-0x258a6+-0xb6bf*-0x1,nx=0x28e57*0x1+-0x1a88b+0x2699*0x7,ox=-0x25eb9*0x1+0x2e70d+0x16bab,lx=0x947*-0x6+-0xa4e*-0x2+-0x21ef*-0x2,cx=-0x646*0x2+0x13*-0x373+0x6f14,zf=0xeca1+-0x30fd*-0xa+-0x1d883,Vf=0x13c33*-0x1+0x176df+0xc363;function Gf(_0x390e61,_0x587bcb=0x34d*0x6+-0x24a*-0xd+-0x3190){const _0x1d6179=_0x390e61['length'];if(_0x587bcb<-0x1e66+-0x1157+0x2fbd||_0x587bcb>=_0x1d6179)return null;const _0x580617=_0x390e61['charCodeAt'](_0x587bcb);if(_0x1d6179>-0xab*-0x6+0x23a6*0x1+-0x27a7&&_0x580617>=Bf&&_0x580617<=jS){const _0x2f7e67=_0x390e61['charCodeAt'](_0x587bcb+(0x259f+-0xc7b+-0xb*0x249));if(_0x2f7e67>=Rm&&_0x2f7e67<=rx)return{'code':(_0x580617-Bf)*(0x2f*0x4c+-0x1*-0x10d9+-0x1acd)+_0x2f7e67-Rm+(-0xe566+-0x5822+0x4*0x8f62),'long':!(-0x925*-0x4+-0x21bd+-0x2d7)};}return{'code':_0x580617,'long':!(0x1e4f+0x1*0x2589+-0x43d7)};}function fr(_0x66084e,_0x5cbcff,_0x75b87d){if(!_0x66084e)return!(0xd5c+-0x26f5*-0x1+-0x3450);const _0x193ed9=Gf(_0x66084e);if(_0x193ed9){const _0x1f0843=_0x193ed9['code'];return _0x1f0843>=_0x5cbcff&&_0x1f0843<=_0x75b87d;}return!(0xc12+0xde2*-0x1+0x1d1);}function hx(_0x2b2438,_0x28cd48){if(_0x28cd48===_0x2b2438['length']-(-0x3*-0x42d+-0x114d+0x1*0x4c7))return 0x10f8+-0x23d*-0xc+-0x2bd3*0x1;if(fr(_0x2b2438[_0x28cd48],Bf,jS)){const _0x19401b=_0x2b2438['substring'](_0x28cd48,_0x28cd48+(-0x598+0x2272+-0x1cd8)),_0x5b32a9=_0x2b2438['substring'](_0x28cd48+(-0x2209*0x1+0x127e+0xf8d),_0x28cd48+(0x3*0xc94+0x16c9+-0x3c81));return fr(_0x5b32a9,nx,ox)||fr(_0x19401b,Om,Fm)&&fr(_0x5b32a9,Om,Fm)?0x2e*0xa3+-0x737*-0x5+-0x1*0x4159:fr(_0x5b32a9,zf,Vf)?0xa9*0x34+-0x1*-0x18fe+-0x9*0x697:-0x2b*-0x2f+0x1690+-0x1e73*0x1;}return fr(_0x2b2438[_0x28cd48+(0x203e+0x13e9+-0x6*0x8b1)],zf,Vf)?0x1*0x5cf+0x1153*0x2+0x5f*-0x6d:-0x25bc+-0x1df3+0x43b0;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x1f1289,..._0x472f6e){for(let _0x2c4527=0x253d+0x9e1+-0x2f1e;_0x2c4527<_0x472f6e['length'];_0x2c4527++)_0x1f1289=_0x1f1289['replace']('{'+_0x2c4527+'}',_0x472f6e[_0x2c4527]);return _0x1f1289;},'getCodePoint'(_0x4284d7,_0x24d31d){const _0x5a41fb=Gf(_0x4284d7,_0x24d31d);return _0x5a41fb&&_0x5a41fb['code'];},'getCodePoints'(_0x432c31){if(typeof _0x432c31!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x46f79b=-0x666+0x2284+-0x1c1e;const _0x58d021=[];let _0x53eb0a;for(;_0x53eb0a=Gf(_0x432c31,_0x46f79b);)_0x58d021['push'](_0x53eb0a['code']),_0x46f79b+=_0x53eb0a['long']?0x976+-0xa6f+0xfb:0x65*0x2e+-0x2347+0x1*0x1122;return _0x58d021;},'getSymbols'(_0x1e0f6b){if(typeof _0x1e0f6b!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x2a9763=-0x116*-0x2+-0x15*-0x179+-0x2119;const _0x3d02e1=_0x1e0f6b['length'],_0x9b8d69=[];let _0x144cc6=0x7*0x9d+0x2*-0x51f+0x5f3,_0x430dec;for(;_0x2a9763<_0x3d02e1;){if(_0x144cc6+=hx(_0x1e0f6b,_0x2a9763+_0x144cc6),_0x430dec=_0x1e0f6b[_0x2a9763+_0x144cc6],fr(_0x430dec,lx,cx)&&(_0x430dec=_0x1e0f6b[_0x2a9763+_0x144cc6++]),fr(_0x430dec,zf,Vf)&&(_0x430dec=_0x1e0f6b[_0x2a9763+_0x144cc6++]),_0x430dec&&_0x430dec['charCodeAt'](-0xbdd*0x1+-0x426+-0x1003*-0x1)===ax){_0x430dec=_0x1e0f6b[_0x2a9763+_0x144cc6++];continue;}const _0x732625=_0x1e0f6b['substring'](_0x2a9763,_0x2a9763+_0x144cc6);_0x9b8d69['push'](_0x732625),_0x2a9763+=_0x144cc6,_0x144cc6=0x26f6+0x207a*-0x1+-0x5*0x14c;}return _0x9b8d69;},'fromCodePoint'(..._0x1c1efb){return _0x1c1efb['map'](_0x2fd0ef=>_0x2fd0ef>0x4a+0x4a0a+0xb5ab?(_0x2fd0ef-=0x1d39d+0xdf9*-0x22+0x149*0xcd,String['fromCharCo'+'de']((_0x2fd0ef>>0x1e1c+0x1fd8+0x27a*-0x19)+(0x66b5*-0x1+-0x1*0x19991+-0x142*-0x243),_0x2fd0ef%(-0xcdf+0x23ba+0x3*-0x649)+(0x49a3+-0x1*0x12919+-0x385*-0x7e))):String['fromCharCo'+'de'](_0x2fd0ef))['join']('');}},Zr=class Zr{static['set'](_0x1d7e16,_0x4c951b=!(-0x17ac+0xf*-0xf3+0xca3*0x3)){_0x4c951b?Zr['_traceChan'+'nels']['add'](_0x1d7e16):Zr['_traceChan'+'nels']['delete'](_0x1d7e16);}static['get'](_0x33c3c5){return Zr['_traceChan'+'nels']['has'](_0x33c3c5);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x157*-0x16+0x18b4+-0x362d));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x5c3bab){Vt['_loggedMes'+'sages']['has'](_0x5c3bab)||(Vt['_loggedMes'+'sages']['add'](_0x5c3bab),console['warn']('DEPRECATED'+':\x20'+_0x5c3bab));}static['removed'](_0x1da125){Vt['_loggedMes'+'sages']['has'](_0x1da125)||(Vt['_loggedMes'+'sages']['add'](_0x1da125),console['error']('REMOVED:\x20'+_0x1da125));}static['assertDepr'+'ecated'](_0x4b7a22,_0x4734cd){_0x4b7a22||Vt['deprecated'](_0x4734cd);}static['assert'](_0x10ceed,..._0x4b11a2){_0x10ceed||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4b11a2);}static['assertDest'+'royed'](_0x4ed57c){var _0x32f68b;if(_0x4ed57c!=null&&_0x4ed57c['__alreadyD'+'estroyed']){const _0x142374='['+((_0x32f68b=_0x4ed57c['constructo'+'r'])==null?void(-0xbc*-0x33+0xdf9*-0x1+-0x177b):_0x32f68b['name'])+(']\x20with\x20nam'+'e\x20[')+_0x4ed57c['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x142374)||(Vt['_loggedMes'+'sages']['add'](_0x142374),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x142374,_0x4ed57c));}}static['call'](_0x44cf88){_0x44cf88();}static['log'](..._0x33627e){console['log'](..._0x33627e);}static['logOnce'](_0x3b66c4,..._0x42c4b1){Vt['_loggedMes'+'sages']['has'](_0x3b66c4)||(Vt['_loggedMes'+'sages']['add'](_0x3b66c4),console['log'](_0x3b66c4,..._0x42c4b1));}static['warn'](..._0x270fb6){console['warn'](..._0x270fb6);}static['warnOnce'](_0x28edee,..._0x555e67){Vt['_loggedMes'+'sages']['has'](_0x28edee)||(Vt['_loggedMes'+'sages']['add'](_0x28edee),console['warn'](_0x28edee,..._0x555e67));}static['error'](..._0xda9ec5){console['error'](..._0xda9ec5);}static['errorOnce'](_0x350c89,..._0x5e556f){Vt['_loggedMes'+'sages']['has'](_0x350c89)||(Vt['_loggedMes'+'sages']['add'](_0x350c89),console['error'](_0x350c89,..._0x5e556f));}static['trace'](_0x33ecba,..._0x231282){mi['get'](_0x33ecba)&&(console['groupColla'+'psed'](_0x33ecba['padEnd'](0x1475+0x12f1+0x13a9*-0x2,'\x20')+'|',..._0x231282),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x17a14c,_0x50507a){_0x17a14c&&(_0x17a14c['name']=_0x50507a);}static['setLabel'](_0x29a638,_0x266512){_0x29a638&&(_0x29a638['label']=_0x266512);}static['setDestroy'+'ed'](_0x23b253){_0x23b253&&(_0x23b253['__alreadyD'+'estroyed']=!(0x26a8+-0x11ff+0x81*-0x29));}}class dx{constructor(_0x1ba0c6,_0x42acab,_0x670cf,_0x22ca2f,_0x1670cd=!(-0x71a+-0x2*-0x11b5+-0x1*0x1c4f)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x1*-0x26e9+0x1441*0x1+0x1*0x12a9)),(this['handler']=_0x1ba0c6,this['name']=_0x42acab,this['callback']=_0x670cf,this['scope']=_0x22ca2f,this['_once']=_0x1670cd);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x9e0be,_0x1edd38,_0x187b47=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x9e0be,_0x1edd38,_0x187b47,!(0x89e*0x1+-0x654+-0x249));}['once'](_0x2b9e7e,_0x313db3,_0x20d2f0=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x2b9e7e,_0x313db3,_0x20d2f0,!(-0x1f5*0xd+0x33*-0x11+0x24*0xcd));}set['removed'](_0x50bfd9){_0x50bfd9&&(this['_removed']=!(0x107+-0x58b*-0x3+0xe2*-0x14));}get['removed'](){return this['_removed'];}['toJSON'](_0x464bfe){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x2e9e75,_0x3bcbdb,_0x1a2d83,_0x3a25b1){if((!_0x2e9e75||typeof _0x2e9e75!='string'||!_0x3bcbdb)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x2e9e75+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x3bcbdb),this['_callbacks']['has'](_0x2e9e75)||this['_callbacks']['set'](_0x2e9e75,[]),this['_callbackA'+'ctive']['has'](_0x2e9e75)){const _0x58dc90=this['_callbackA'+'ctive']['get'](_0x2e9e75);_0x58dc90&&_0x58dc90===this['_callbacks']['get'](_0x2e9e75)&&this['_callbackA'+'ctive']['set'](_0x2e9e75,_0x58dc90['slice']());}const _0x46b573=new dx(this,_0x2e9e75,_0x3bcbdb,_0x1a2d83,_0x3a25b1);return this['_callbacks']['get'](_0x2e9e75)['push'](_0x46b573),_0x46b573;}['on'](_0x10f962,_0x4c51c7,_0x262615=this){return this['_addCallba'+'ck'](_0x10f962,_0x4c51c7,_0x262615,!(-0x1049+-0x15b*-0x7+0x6cd));}['once'](_0x3ea866,_0x468184,_0x471178=this){return this['_addCallba'+'ck'](_0x3ea866,_0x468184,_0x471178,!(-0x2663+0x26a6+-0x43));}['off'](_0x3682f4,_0x34d632,_0x586665){if(_0x3682f4)this['_callbackA'+'ctive']['has'](_0x3682f4)&&this['_callbackA'+'ctive']['get'](_0x3682f4)===this['_callbacks']['get'](_0x3682f4)&&this['_callbackA'+'ctive']['set'](_0x3682f4,this['_callbackA'+'ctive']['get'](_0x3682f4)['slice']());else{for(const [_0x34a4fb,_0x2ba2f6]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x34a4fb)&&this['_callbacks']['get'](_0x34a4fb)===_0x2ba2f6&&this['_callbackA'+'ctive']['set'](_0x34a4fb,_0x2ba2f6['slice']());}if(_0x3682f4){if(_0x34d632){const _0x1e2131=this['_callbacks']['get'](_0x3682f4);if(!_0x1e2131)return this;for(let _0x12997e=0x1*0x74c+0x16ac+-0xefc*0x2;_0x12997e<_0x1e2131['length'];_0x12997e++)_0x1e2131[_0x12997e]['callback']===_0x34d632&&(_0x586665&&_0x1e2131[_0x12997e]['scope']!==_0x586665||(_0x1e2131[_0x12997e]['removed']=!(0x21a*0x4+0x24e2+0x3e*-0xbb),_0x1e2131['splice'](_0x12997e,0x1*-0x491+-0x21d2+-0x9c*-0x3f),_0x12997e--));_0x1e2131['length']===-0x1111+-0xe27*0x1+0x128*0x1b&&this['_callbacks']['delete'](_0x3682f4);}else{const _0x10ae4a=this['_callbacks']['get'](_0x3682f4);if(_0x10ae4a){for(let _0x13f55d=-0x24a9+-0x295*-0x8+-0x1001*-0x1;_0x13f55d<_0x10ae4a['length'];_0x13f55d++)_0x10ae4a[_0x13f55d]['removed']=!(-0x1052+-0x16d7+0x2729);this['_callbacks']['delete'](_0x3682f4);}}}else{for(const _0x5684bf of this['_callbacks']['values']())for(let _0x1528f0=0xe74+0x1*0x126a+-0x20de;_0x1528f0<_0x5684bf['length'];_0x1528f0++)_0x5684bf[_0x1528f0]['removed']=!(-0x13f6+-0x191+0xa7*0x21);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x1cee10){const _0x33baed=_0x1cee10['name'];_0x1cee10['removed']=!(0xa*0x113+-0x13bd+0x8ff),this['_callbackA'+'ctive']['has'](_0x33baed)&&this['_callbackA'+'ctive']['get'](_0x33baed)===this['_callbacks']['get'](_0x33baed)&&this['_callbackA'+'ctive']['set'](_0x33baed,this['_callbackA'+'ctive']['get'](_0x33baed)['slice']());const _0xfcfec4=this['_callbacks']['get'](_0x33baed);if(!_0xfcfec4)return this;const _0x1dabe1=_0xfcfec4['indexOf'](_0x1cee10);return _0x1dabe1!==-(0x17fd+0xe4d+-0x63*0x63)&&(_0xfcfec4['splice'](_0x1dabe1,0x9f*0x7+-0x994*-0x2+0x2f0*-0x8),_0xfcfec4['length']===0x96d*-0x1+0x1845+-0xed8&&this['_callbacks']['delete'](_0x33baed)),this;}['fire'](_0x3fe296,_0x27ba83,_0x459a76,_0x1ffbf5,_0x43be50,_0x5e308d,_0x1ad5df,_0x56e4a0,_0xc1e005){if(!_0x3fe296)return this;const _0x9957f8=this['_callbacks']['get'](_0x3fe296);if(!_0x9957f8)return this;let _0x47189d;this['_callbackA'+'ctive']['has'](_0x3fe296)?this['_callbackA'+'ctive']['get'](_0x3fe296)!==_0x9957f8&&(_0x47189d=_0x9957f8['slice']()):this['_callbackA'+'ctive']['set'](_0x3fe296,_0x9957f8);for(let _0xa5db04=0x479+0x1*-0x1c4b+0x17d2*0x1;(_0x47189d||this['_callbackA'+'ctive']['get'](_0x3fe296))&&_0xa5db04<(_0x47189d||this['_callbackA'+'ctive']['get'](_0x3fe296))['length'];_0xa5db04++){const _0x3b63dc=(_0x47189d||this['_callbackA'+'ctive']['get'](_0x3fe296))[_0xa5db04];if(_0x3b63dc['callback']&&(_0x3b63dc['callback']['call'](_0x3b63dc['scope'],_0x27ba83,_0x459a76,_0x1ffbf5,_0x43be50,_0x5e308d,_0x1ad5df,_0x56e4a0,_0xc1e005),_0x3b63dc['_once'])){const _0x2fdf02=this['_callbacks']['get'](_0x3fe296),_0x5770a7=_0x2fdf02?_0x2fdf02['indexOf'](_0x3b63dc):-(0x1*-0xa+0x1341+-0x1336*0x1);if(_0x5770a7!==-(0x16ec+-0x182*-0x4+-0x1cf3)){this['_callbackA'+'ctive']['get'](_0x3fe296)===_0x2fdf02&&this['_callbackA'+'ctive']['set'](_0x3fe296,this['_callbackA'+'ctive']['get'](_0x3fe296)['slice']());const _0x3e31a4=this['_callbacks']['get'](_0x3fe296);if(!_0x3e31a4)continue;_0x3e31a4[_0x5770a7]['removed']=!(-0x2*-0xec6+0x15aa+-0x72*0x73),_0x3e31a4['splice'](_0x5770a7,-0x88d+-0x379*-0x3+-0x1dd),_0x3e31a4['length']===-0xaa9+0xb*0x220+0x28b*-0x5&&this['_callbacks']['delete'](_0x3fe296);}}}return _0x47189d||this['_callbackA'+'ctive']['delete'](_0x3fe296),this;}['hasEvent'](_0x16b7f3){var _0xeecd3e;return!!((_0xeecd3e=this['_callbacks']['get'](_0x16b7f3))!=null&&_0xeecd3e['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x146cbd,_0x42ffb2){if(this['_index'][_0x146cbd])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x146cbd);const _0x294925=this['_list']['push'](_0x42ffb2)-(0x1258+0x45*-0x2f+0x4*-0x16b);this['_index'][_0x146cbd]=_0x294925;}['has'](_0x113c26){return this['_index'][_0x113c26]!==void(0x8fe+-0x6a*-0x19+0x1*-0x1358);}['get'](_0x4bae67){const _0x60e309=this['_index'][_0x4bae67];return _0x60e309!==void(-0x2694+0x3a0*-0xa+0x4ad4)?this['_list'][_0x60e309]:null;}['remove'](_0xdab7d8){const _0x1ad505=this['_index'][_0xdab7d8];if(_0x1ad505!==void(-0x1*0x74b+-0x572*0x2+0x122f)){this['_list']['splice'](_0x1ad505,-0xb08+-0x1*0x1337+-0x1e4*-0x10),delete this['_index'][_0xdab7d8];for(_0xdab7d8 in this['_index']){const _0x27015c=this['_index'][_0xdab7d8];_0x27015c>_0x1ad505&&(this['_index'][_0xdab7d8]=_0x27015c-(-0xb*0x139+0xd*-0x1cd+0x24dd));}return!(-0x6c4+-0x13*0x3d+0xb4b);}return!(0x224f*0x1+0x19ee+-0x3c3c);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0xfe9*0x1+0x23*0x117+-0x360e;for(const _0x2361f0 in this['_index'])delete this['_index'][_0x2361f0];}}const ux=_0x2b7df9=>{const _0x33135f={};let _0x529cac=_0x33135f;return()=>(_0x529cac===_0x33135f&&(_0x529cac=_0x2b7df9()),_0x529cac);},ii=class ii{static['loadScript'](_0x581f89,_0x2b7bb1){const _0x5b9e7f=document['createElem'+'ent']('script');_0x5b9e7f['setAttribu'+'te']('src',_0x581f89),_0x5b9e7f['onload']=()=>{_0x2b7bb1(null);},_0x5b9e7f['onerror']=()=>{_0x2b7bb1('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x581f89+'\x27');},document['body']['appendChil'+'d'](_0x5b9e7f);}static['loadWasm'](_0x346924,_0x4ed846,_0x1f2e7b){const _0x477e70=ii['wasmSuppor'+'ted']()&&_0x4ed846['glueUrl']&&_0x4ed846['wasmUrl']?_0x4ed846['glueUrl']:_0x4ed846['fallbackUr'+'l'];_0x477e70?ii['loadScript'](_0x477e70,_0x3c07f5=>{if(_0x3c07f5)_0x1f2e7b(_0x3c07f5,null);else{const _0x257e87=window[_0x346924];window[_0x346924]=void(-0x1*0x616+-0x4a8+0xabe),_0x257e87({'locateFile':()=>_0x4ed846['wasmUrl'],'onAbort':()=>{_0x1f2e7b('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x52eef5=>{_0x1f2e7b(null,_0x52eef5);});}}):_0x1f2e7b('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x5ce328){return ii['modules']['hasOwnProp'+'erty'](_0x5ce328)||(ii['modules'][_0x5ce328]={'config':null,'initializing':!(0x1*0x15d4+0x107e+0x2651*-0x1),'instance':null,'callbacks':[]}),ii['modules'][_0x5ce328];}static['initialize'](_0x33561f,_0x1f0d01){if(_0x1f0d01['initializi'+'ng'])return;const _0x14580f=_0x1f0d01['config'];(_0x14580f['glueUrl']||_0x14580f['wasmUrl']||_0x14580f['fallbackUr'+'l'])&&(_0x1f0d01['initializi'+'ng']=!(-0x20f+0x46e+-0x25f),ii['loadWasm'](_0x33561f,_0x14580f,(_0x1bf6ec,_0x3836ff)=>{_0x1bf6ec?_0x14580f['errorHandl'+'er']?_0x14580f['errorHandl'+'er'](_0x1bf6ec):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x33561f+'\x20error='+_0x1bf6ec):(_0x1f0d01['instance']=_0x3836ff,_0x1f0d01['callbacks']['forEach'](_0x37b412=>{_0x37b412(_0x3836ff);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xde83db=new WebAssembly['Module'](Uint8Array['of'](-0x11b9+-0x2462+-0x603*-0x9,0x1d3d+-0x7c6+-0x1516,-0x1112+-0xd*-0x52+-0x1*-0xd5b,0x221c+-0x151f+-0xc90,-0x1*-0x12cd+-0x1f7*-0x9+0x1*-0x247b,0x24f2+0x1*0x244d+-0x493f*0x1,0x1*0x1819+-0x1dd8+0x5bf,0x2405+0x58d*-0x7+0x2d6));if(_0xde83db instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xde83db)instanceof WebAssembly['Instance'];}}catch{}return!(0xb*0x3d+-0x549+0x2ab);}));let Yr=ii;class YS{static['setConfig'](_0xf815d4,_0x481a58){const _0x554556=Yr['getModule'](_0xf815d4);_0x554556['config']=_0x481a58,_0x554556['callbacks']['length']>0x487+-0x797*-0x5+-0x2a7a&&Yr['initialize'](_0xf815d4,_0x554556);}static['getConfig'](_0x4da791){var _0x52ce36,_0x822a04;return(_0x822a04=(_0x52ce36=Yr['modules'])==null?void(0xb84*0x2+-0x534+-0x11d4):_0x52ce36[_0x4da791])==null?void(0x1ba*-0x7+-0x1f7e+0x2b94):_0x822a04['config'];}static['getInstanc'+'e'](_0x162c18,_0x428fa7){const _0xc1f044=Yr['getModule'](_0x162c18);_0xc1f044['instance']?_0x428fa7(_0xc1f044['instance']):(_0xc1f044['callbacks']['push'](_0x428fa7),_0xc1f044['config']&&Yr['initialize'](_0x162c18,_0xc1f044));}}class KS{constructor(_0x400343){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x22c6+0xca*0x14+0x1ba*0xb),(this['arraybuffe'+'r']=_0x400343,this['dataView']=new DataView(_0x400343));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x950c08=-0x1*0x1107+-0x757+0x185e*0x1){this['offset']=_0x950c08;}['skip'](_0x4422d7){this['offset']+=_0x4422d7;}['align'](_0x1074e1){this['offset']=this['offset']+_0x1074e1-(-0x1683+-0x24df*-0x1+-0xe5b)&~(_0x1074e1-(-0x68b+-0x3*-0x8a4+0x136*-0x10));}['_inc'](_0x7eebcb){return this['offset']+=_0x7eebcb,this['offset']-_0x7eebcb;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x58df2c){let _0x47617d='';for(let _0x189b21=0xef4+-0xa0b*-0x1+-0x3*0x855;_0x189b21<_0x58df2c;++_0x189b21)_0x47617d+=this['readChar']();return _0x47617d;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0xb2a*0x3+0x1e29+-0x3fa5),!(0x1229+-0x1b56+0x1b*0x57));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x210b*0x1+0x1aeb+0x6*0x106),!(0x1a2e+0x925*-0x1+-0x1109));}['readU64'](){return this['readU32']()+(0xfb3+0x2*-0x6f1+0x1*-0x1cf)**(-0x32b+0x1356+-0x100b)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x50b+-0x1db1+-0x8b*-0x40),!(0x7*-0x59+-0x2*0xba5+0x19ba));}['readArray'](_0x5b3278){for(let _0x38156d=-0x9f+0x35*0x19+-0x48e;_0x38156d<_0x5b3278['length'];++_0x38156d)_0x5b3278[_0x38156d]=this['readU8']();}['readLine'](){const _0xbe748=this['dataView'];let _0xe0fd04='';for(;!(this['offset']>=_0xbe748['byteLength']);){const _0x4ca452=String['fromCharCo'+'de'](this['readU8']());if(_0x4ca452==='\x0a')break;_0xe0fd04+=_0x4ca452;}return _0xe0fd04;}}class oh{constructor(_0x35f294){h(this,'items',[]),h(this,'length',0x45a*-0x3+0x2*-0x7c+0xe06),h(this,'loopIndex',-(-0x1817+-0x1*0x1ec5+-0x5*-0xaf9)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x35f294['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x391914){let _0x214e73=-0x8c0+0xfc8+-0x19*0x48,_0x3b2f5a=this['items']['length']-(0xa3*0xd+-0x9d5*-0x2+0xdf8*-0x2);const _0x14918d=_0x391914[this['_sortBy']];let _0x238955,_0x37d2c9;for(;_0x214e73<=_0x3b2f5a;)_0x238955=Math['floor']((_0x214e73+_0x3b2f5a)/(0x16a*0x10+-0x19d8+0x33a)),_0x37d2c9=this['items'][_0x238955][this['_sortBy']],_0x37d2c9<=_0x14918d?_0x214e73=_0x238955+(-0x1*0x168e+0x192b+0xa7*-0x4):_0x37d2c9>_0x14918d&&(_0x3b2f5a=_0x238955-(-0x3*-0x5b2+-0x1e5b+0xd46));return _0x214e73;}['_doSort'](_0x3c8594,_0x135a51){const _0x3213ba=this['_sortBy'];return _0x3c8594[_0x3213ba]-_0x135a51[_0x3213ba];}['insert'](_0x28c770){const _0x2625dc=this['_binarySea'+'rch'](_0x28c770);this['items']['splice'](_0x2625dc,0x12a7+-0x1*0x11d6+-0x1*0xd1,_0x28c770),this['length']++,this['loopIndex']>=_0x2625dc&&this['loopIndex']++;}['append'](_0x2ec572){this['items']['push'](_0x2ec572),this['length']++;}['remove'](_0x1e5f9e){const _0x1b420e=this['items']['indexOf'](_0x1e5f9e);_0x1b420e<0x114d*0x1+0x4c*-0x70+0x3*0x551||(this['items']['splice'](_0x1b420e,0x2*-0x965+-0x215d+0x3428),this['length']--,this['loopIndex']>=_0x1b420e&&this['loopIndex']--);}['sort'](){const _0x23dfd6=this['loopIndex']>=0x485*0x1+0x630+-0xab5*0x1?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x23dfd6!==null&&(this['loopIndex']=this['items']['indexOf'](_0x23dfd6));}}class Oo extends me{constructor(_0x82db03){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x82db03;}['add'](..._0x366547){let _0xfe12e7=!(0x15d5+-0x8fc+-0xcd8);const _0x486220=this['_processAr'+'guments'](_0x366547,!(-0x1b49+-0xdf5+-0x149f*-0x2));if(!_0x486220['length'])return _0xfe12e7;for(let _0x797355=0x4*-0x48+-0xe4+-0x6*-0x56;_0x797355<_0x486220['length'];_0x797355++)this['_index'][_0x486220[_0x797355]]||(_0xfe12e7=!(-0x332*0xa+0x7*0x42a+0x2ce),this['_index'][_0x486220[_0x797355]]=!(-0x290*0xe+0x15d7*-0x1+0x39b7),this['_list']['push'](_0x486220[_0x797355]),this['fire']('add',_0x486220[_0x797355],this['_parent']));return _0xfe12e7&&this['fire']('change',this['_parent']),_0xfe12e7;}['remove'](..._0x5fe09f){let _0x400a49=!(-0x1ef7*0x1+-0x1*-0x572+0x1986);if(!this['_list']['length'])return _0x400a49;const _0x4d27f2=this['_processAr'+'guments'](_0x5fe09f,!(0x303*-0x7+0x2545+0x7*-0x250));if(!_0x4d27f2['length'])return _0x400a49;for(let _0xe91237=0x1*0x11c9+-0x1864+0x69b;_0xe91237<_0x4d27f2['length'];_0xe91237++)this['_index'][_0x4d27f2[_0xe91237]]&&(_0x400a49=!(-0x7*0x304+-0xfcf+0x24eb*0x1),delete this['_index'][_0x4d27f2[_0xe91237]],this['_list']['splice'](this['_list']['indexOf'](_0x4d27f2[_0xe91237]),-0x167b+0x22d0+-0xc54),this['fire']('remove',_0x4d27f2[_0xe91237],this['_parent']));return _0x400a49&&this['fire']('change',this['_parent']),_0x400a49;}['clear'](){if(!this['_list']['length'])return;const _0x2b14a6=this['_list']['slice'](-0x25b8+-0x927+0x39b*0xd);this['_list']=[],this['_index']={};for(let _0x8798a4=-0x90+0xbd*-0x11+-0x9*-0x175;_0x8798a4<_0x2b14a6['length'];_0x8798a4++)this['fire']('remove',_0x2b14a6[_0x8798a4],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x1366db){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x1366db)):!(-0x8*-0x125+-0x167e+0xd57);}['_has'](_0x321b57){if(!this['_list']['length']||!_0x321b57['length'])return!(-0x8*-0x2d3+-0x1b10*-0x1+-0x31a7);for(let _0x10041d=-0x7bf+0x1*0xf3b+-0x77c;_0x10041d<_0x321b57['length'];_0x10041d++)if(_0x321b57[_0x10041d]['length']===-0xbb*0x22+0xa3*-0x3d+0x6*0xa9d){if(this['_index'][_0x321b57[_0x10041d][0x112f+0x1b15+-0x2c44]])return!(0x115*0xe+-0x1e07+0xee1);}else{let _0x30e132=!(0x1*-0x1027+0xa85+0x5a2*0x1);for(let _0x3cbea1=-0xa*-0x355+-0x1*-0xc7c+-0x2dce;_0x3cbea1<_0x321b57[_0x10041d]['length'];_0x3cbea1++)if(!this['_index'][_0x321b57[_0x10041d][_0x3cbea1]]){_0x30e132=!(0x1fa6+-0x1f89+-0x1c);break;}if(_0x30e132)return!(0x23e6+-0x1b81+0x1*-0x865);}return!(0x1*0x67f+-0x34c*-0x2+-0xd16);}['list'](){return this['_list']['slice'](-0x5*-0x511+-0xbde+-0xd77);}['_processAr'+'guments'](_0x341c81,_0x376e99){const _0xc95230=[];let _0x5b1cac=[];if(!_0x341c81||!_0x341c81['length'])return _0xc95230;for(let _0x522b4b=-0x2*-0x20b+0x584+0x4cd*-0x2;_0x522b4b<_0x341c81['length'];_0x522b4b++)if(_0x341c81[_0x522b4b]instanceof Array){_0x376e99||(_0x5b1cac=[]);for(let _0x48c884=-0x1*-0x117f+0x1efd+0x2*-0x183e;_0x48c884<_0x341c81[_0x522b4b]['length'];_0x48c884++)typeof _0x341c81[_0x522b4b][_0x48c884]=='string'&&(_0x376e99?_0xc95230['push'](_0x341c81[_0x522b4b][_0x48c884]):_0x5b1cac['push'](_0x341c81[_0x522b4b][_0x48c884]));!_0x376e99&&_0x5b1cac['length']&&_0xc95230['push'](_0x5b1cac);}else typeof _0x341c81[_0x522b4b]=='string'&&(_0x376e99?_0xc95230['push'](_0x341c81[_0x522b4b]):_0xc95230['push']([_0x341c81[_0x522b4b]]));return _0xc95230;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x2bca58){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x6c15f9=_0x2bca58['match'](px);this['scheme']=_0x6c15f9[-0x2*0x386+0x4e6+-0x2e*-0xc],this['authority']=_0x6c15f9[-0xc57*-0x2+-0x6c0+-0x8f5*0x2],this['path']=_0x6c15f9[-0x387*0x2+-0x133*0x2+0x5*0x1e5],this['query']=_0x6c15f9[-0x24b3+0x8*0x10d+0x1c52],this['fragment']=_0x6c15f9[-0x99e*0x2+-0x255*0x3+-0x691*-0x4];}['toString'](){let _0x278e9e='';return this['scheme']&&(_0x278e9e+=this['scheme']+':'),this['authority']&&(_0x278e9e+='//'+this['authority']),_0x278e9e+=this['path'],this['query']&&(_0x278e9e+='?'+this['query']),this['fragment']&&(_0x278e9e+='#'+this['fragment']),_0x278e9e;}['getQuery'](){const _0x815941={};if(this['query']){const _0x1501f5=decodeURIComponent(this['query'])['split']('&');for(const _0x3be40e of _0x1501f5){const _0x19603c=_0x3be40e['split']('=');_0x815941[_0x19603c[-0x1a19+0x266c+0x277*-0x5]]=_0x19603c[-0xed9+0x2*0x356+-0x417*-0x2];}}return _0x815941;}['setQuery'](_0x45c2b3){let _0x538371='';for(const _0x3c5e51 in _0x45c2b3)_0x45c2b3['hasOwnProp'+'erty'](_0x3c5e51)&&(_0x538371!==''&&(_0x538371+='&'),_0x538371+=encodeURIComponent(_0x3c5e51)+'='+encodeURIComponent(_0x45c2b3[_0x3c5e51]));this['query']=_0x538371;}}const mx=0x16e5*0x1+0x130+-0x1815,tp=0xd3*0x29+0xff*0x22+0x43a8*-0x1,Nm=-0x2e*0x6+-0x646*0x1+0x75e,_x=-0x2*0x5a2+-0x1084+0x1bcd,Y={'DEG_TO_RAD':Math['PI']/(0x49*0x6c+-0x5c1+0xc9*-0x1f),'RAD_TO_DEG':(-0x10*0x1c3+0x17f3+-0x37*-0x17)/Math['PI'],'clamp'(_0x4b53f3,_0x1aa00c,_0x2e7cb5){return _0x4b53f3>=_0x2e7cb5?_0x2e7cb5:_0x4b53f3<=_0x1aa00c?_0x1aa00c:_0x4b53f3;},'intToBytes24'(_0x5e0632){const _0x52faf3=_0x5e0632>>0x1877+-0x20cb+0x4*0x219&0x677+-0x7*0x1bb+0x6a5,_0x4b1d9d=_0x5e0632>>0x831+0x46b+-0xc94&-0xb*-0x1a1+-0x26e0+0x15f4,_0x2a6f86=_0x5e0632&-0xa7f*0x1+-0x1*-0x16e9+-0xb6b;return[_0x52faf3,_0x4b1d9d,_0x2a6f86];},'intToBytes32'(_0x36d23b){const _0x2b8ad9=_0x36d23b>>-0x17d*-0x1+0x3c1*0x6+-0x17eb&0x22b3+-0x1dfe+0x26*-0x19,_0x52b66a=_0x36d23b>>-0x298*-0x9+0x885+0x7*-0x48b&0x1bcf+0x54e*-0x3+0xa*-0x117,_0x48055c=_0x36d23b>>0x1751*0x1+-0x1*0x1ce1+0x598&-0xb65+-0x1*-0xd8a+-0x126,_0x55c23d=_0x36d23b&0x1970+0x5*-0x577+0x2e2;return[_0x2b8ad9,_0x52b66a,_0x48055c,_0x55c23d];},'bytesToInt24'(_0x1a0fea,_0x2a9c1b,_0x4b68f4){return _0x1a0fea['length']&&(_0x4b68f4=_0x1a0fea[-0x5ce+-0x1375+0x1945],_0x2a9c1b=_0x1a0fea[0x1*-0x955+0x1141+-0x7eb],_0x1a0fea=_0x1a0fea[-0x221a+-0x20be+0x42d8]),_0x1a0fea<<-0x1e4*-0x6+-0x13*-0x18e+-0x28d2|_0x2a9c1b<<-0x1698+-0x338*0x6+0x29f0|_0x4b68f4;},'bytesToInt32'(_0x2897fa,_0x480693,_0x135472,_0x42cf10){return _0x2897fa['length']&&(_0x42cf10=_0x2897fa[-0x20b*-0xb+0x159d+-0x2c13],_0x135472=_0x2897fa[-0x3*0x76a+-0x177+0x17b7],_0x480693=_0x2897fa[-0x31*0x11+0x38f+0xb*-0x7],_0x2897fa=_0x2897fa[-0xb67*-0x1+0xfce+-0x7*0x3e3]),(_0x2897fa<<-0x4b*0x11+-0xdb*0x18+0x199b|_0x480693<<-0x9b0+-0x2222+-0x2be2*-0x1|_0x135472<<-0x4d7+-0x2f*-0x1e+0x1*-0xa3|_0x42cf10)>>>0x18dd+-0x1*-0x168d+-0x2f6a;},'lerp'(_0x8d8229,_0x329cf1,_0x557ea4){return _0x8d8229+(_0x329cf1-_0x8d8229)*Y['clamp'](_0x557ea4,0x2b*-0x97+-0xb75*-0x3+-0x481*0x2,0x4*0x89b+-0xa*0x35c+-0x1*0xd3);},'lerpAngle'(_0x40bf95,_0x271fcb,_0x57b99e){return _0x271fcb-_0x40bf95>0xd6+-0xba+0x4*0x26&&(_0x271fcb-=0x212d+0x2*0xcb9+-0x3937),_0x271fcb-_0x40bf95<-(-0x3*-0x37+-0x1303+0x1312)&&(_0x271fcb+=0x1*-0x2e3+-0x109d*-0x1+0x2*-0x629),Y['lerp'](_0x40bf95,_0x271fcb,Y['clamp'](_0x57b99e,0x6ec*0x4+0x2*-0x3f9+-0x2*0x9df,-0x46*-0x12+0x1a90+-0x1f7b*0x1));},'powerOfTwo'(_0x18c22c){return _0x18c22c!==-0x726+0x1*-0x1b94+0xa*0x379&&!(_0x18c22c&_0x18c22c-(-0x19*0x11+-0x151b+0x16c5));},'nextPowerOfTwo'(_0x33b427){return _0x33b427--,_0x33b427|=_0x33b427>>0x2ab*-0xc+-0x1c75*-0x1+-0x1*-0x390,_0x33b427|=_0x33b427>>0x11*0x2b+0x1e*0xd2+0x47*-0x63,_0x33b427|=_0x33b427>>-0x39*0x83+-0x2a1+0x7f4*0x4,_0x33b427|=_0x33b427>>-0xb21+-0x1*-0x1700+-0xbd7*0x1,_0x33b427|=_0x33b427>>-0xb5+0xb*0x19+-0x2*0x27,_0x33b427++,_0x33b427;},'nearestPowerOfTwo'(_0x43cb67){return Math['pow'](-0x309+0x1e5b+-0x1b50,Math['round'](Math['log2'](_0x43cb67)));},'random'(_0x3c061b,_0x4be22f){const _0x3bedbc=_0x4be22f-_0x3c061b;return Math['random']()*_0x3bedbc+_0x3c061b;},'smoothstep'(_0x522aeb,_0x3bc15d,_0x3ceff4){return _0x3ceff4<=_0x522aeb?0xe9f+0x8*0x1b4+-0x1c3f:_0x3ceff4>=_0x3bc15d?-0x1*0x19a9+-0x7fc+0x76*0x49:(_0x3ceff4=(_0x3ceff4-_0x522aeb)/(_0x3bc15d-_0x522aeb),_0x3ceff4*_0x3ceff4*(0x2601+0x17f*-0x17+-0x395-(-0x293*-0xb+0x9*-0x78+-0x1817)*_0x3ceff4));},'smootherstep'(_0x17defd,_0x550120,_0x441cce){return _0x441cce<=_0x17defd?-0x8*-0x70+-0x1acf*-0x1+0x1*-0x1e4f:_0x441cce>=_0x550120?-0x19fe+-0x2f*0x8a+0x11*0x305:(_0x441cce=(_0x441cce-_0x17defd)/(_0x550120-_0x17defd),_0x441cce*_0x441cce*_0x441cce*(_0x441cce*(_0x441cce*(-0xc*0x115+0x3a4*-0x7+-0xd*-0x2f6)-(-0x136c+-0xc*-0x67+-0x1f*-0x79))+(0x1b58+0x65b+-0x21a9*0x1)));},'roundUp'(_0x2e72fe,_0x3e44a0){return _0x3e44a0===0x4*0x5a1+0xeb*-0x2+-0x14ae?_0x2e72fe:Math['ceil'](_0x2e72fe/_0x3e44a0)*_0x3e44a0;},'between'(_0x129e64,_0x56b909,_0x2fcff7,_0x5e48f5){const _0x5a4012=Math['min'](_0x56b909,_0x2fcff7),_0x2aaeab=Math['max'](_0x56b909,_0x2fcff7);return _0x5e48f5?_0x129e64>=_0x5a4012&&_0x129e64<=_0x2aaeab:_0x129e64>_0x5a4012&&_0x129e64<_0x2aaeab;}},Tt=class Tt{constructor(_0xf864cf=-0x3d*-0x5+0x2464*0x1+0x42d*-0x9,_0x1728f1=0x9e5+-0x324+-0xf7*0x7,_0x230dd7=-0xce7*-0x1+-0xb*0x1cc+0x6dd,_0x2e069a=0xf13+-0x208b+-0xd5*-0x15){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0xfa9a4d=_0xf864cf['length'];_0xfa9a4d===0x136*0x5+-0x691*-0x3+-0x19be||_0xfa9a4d===0x12a4+0xe2f*0x2+-0x6*0x7d5?(this['r']=_0xf864cf[0x41+0x1bbe+-0x3*0x955],this['g']=_0xf864cf[-0x1fb6+-0x18c3+0x387a*0x1],this['b']=_0xf864cf[-0x737*0x4+0xd*-0x2e0+-0x116*-0x3d],this['a']=_0xf864cf[0x1133*0x1+0x1c91+-0x2dc1]??-0x5db*0x2+0x3c*0x16+0x68f*0x1):(this['r']=_0xf864cf,this['g']=_0x1728f1,this['b']=_0x230dd7,this['a']=_0x2e069a);}['clone'](){const _0x4ae15e=this['constructo'+'r'];return new _0x4ae15e(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x441ec6){return this['r']=_0x441ec6['r'],this['g']=_0x441ec6['g'],this['b']=_0x441ec6['b'],this['a']=_0x441ec6['a'],this;}['equals'](_0x5efaa2){return this['r']===_0x5efaa2['r']&&this['g']===_0x5efaa2['g']&&this['b']===_0x5efaa2['b']&&this['a']===_0x5efaa2['a'];}['set'](_0x59d8c2,_0x51362e,_0x31a876,_0x35b9d7=0xd40+-0x21*0xfb+0x131c){return this['r']=_0x59d8c2,this['g']=_0x51362e,this['b']=_0x31a876,this['a']=_0x35b9d7,this;}['lerp'](_0x347e92,_0x12a315,_0x4f9975){return this['r']=_0x347e92['r']+_0x4f9975*(_0x12a315['r']-_0x347e92['r']),this['g']=_0x347e92['g']+_0x4f9975*(_0x12a315['g']-_0x347e92['g']),this['b']=_0x347e92['b']+_0x4f9975*(_0x12a315['b']-_0x347e92['b']),this['a']=_0x347e92['a']+_0x4f9975*(_0x12a315['a']-_0x347e92['a']),this;}['linear'](_0x4f417e=this){return this['r']=Math['pow'](_0x4f417e['r'],-0x250*-0x10+-0x26a1+0x1a3+0.20000000000000018),this['g']=Math['pow'](_0x4f417e['g'],-0x1*0x1225+-0x6db*0x1+0x1902+0.20000000000000018),this['b']=Math['pow'](_0x4f417e['b'],0x1d32+0xfa0+-0x2cd0+0.20000000000000018),this['a']=_0x4f417e['a'],this;}['gamma'](_0x103134=this){return this['r']=Math['pow'](_0x103134['r'],(0x311+-0x5d4+0x2c4)/(-0x1d30+-0x15*0x178+0x6a*0x91+0.20000000000000018)),this['g']=Math['pow'](_0x103134['g'],(-0x9e*0x1f+-0xece+0x21f1)/(0x730+0x8fe+-0x102c+0.20000000000000018)),this['b']=Math['pow'](_0x103134['b'],(0x5e*0x27+0x13af+0x10*-0x220)/(0xfd3*0x2+0x4c*-0x49+-0x9f8+0.20000000000000018)),this['a']=_0x103134['a'],this;}['mulScalar'](_0x215f45){return this['r']*=_0x215f45,this['g']*=_0x215f45,this['b']*=_0x215f45,this;}['fromString'](_0x343078){const _0x2a4c2b=parseInt(_0x343078['replace']('#','0x'),0x4*0x1+0x1886+-0x187a);let _0x375bb7;return _0x343078['length']>0x532+-0x3ba+-0x171?_0x375bb7=Y['intToBytes'+'32'](_0x2a4c2b):(_0x375bb7=Y['intToBytes'+'24'](_0x2a4c2b),_0x375bb7[-0x4f8+-0x26a9*-0x1+0x1df*-0x12]=-0x1327*0x2+0x17a0+0xfad),this['set'](_0x375bb7[-0x1a*0x6c+0x2116+0x12a*-0x13]/(-0xa3*0x13+0x2257+0x3*-0x715),_0x375bb7[-0xf3*-0x17+-0x2*-0x892+-0x26f8]/(-0x81e*-0x4+0x154e+-0x3b*0xe5),_0x375bb7[0x143c+0x1fc9+-0x3403]/(0x14d9+-0x1eb0+0xad6),_0x375bb7[0xa2c+-0x1a72+0x1049]/(0x223d+-0x87a+0x1*-0x18c4)),this;}['fromArray'](_0x5af445,_0x30c727=0x9ac+0x171a+0x347*-0xa){return this['r']=_0x5af445[_0x30c727]??this['r'],this['g']=_0x5af445[_0x30c727+(0x5da*-0x4+-0xa08+-0x1*-0x2171)]??this['g'],this['b']=_0x5af445[_0x30c727+(-0x9eb*-0x1+-0xc71+0x288)]??this['b'],this['a']=_0x5af445[_0x30c727+(0x7a*0x10+-0x1*0x45b+-0x342)]??this['a'],this;}['toString'](_0xcee06b,_0x2a093e){const {r:_0x5c0d36,g:_0x5c8f21,b:_0x24d4d4,a:_0x311dd9}=this;if(_0x2a093e||_0x5c0d36>0x19*-0x112+-0x1c7b+0x373e||_0x5c8f21>0x69b+0xc64+-0x16*0xdd||_0x24d4d4>0x543+-0x14e4+0xfa2)return _0x5c0d36['toFixed'](0x2a*-0x2a+-0x5*0x31b+0x42*0x57)+',\x20'+_0x5c8f21['toFixed'](-0x46b+-0x1365+0x17d3)+',\x20'+_0x24d4d4['toFixed'](0x12a*0x18+-0x1*-0x85d+-0x244a)+',\x20'+_0x311dd9['toFixed'](-0x2*-0xf3c+0x24ac+-0x4321);let _0x23c8ce='#'+((0x24c9+0x1609*0x1+-0x3ad1<<-0x1b*0x81+-0x20bb+0x2e6e)+(Math['round'](_0x5c0d36*(0x219c+0x3de+0x247b*-0x1))<<-0x1393+-0x8d*0x34+0x11*0x2d7)+(Math['round'](_0x5c8f21*(0x3*-0x319+-0x1d41+0xbf*0x35))<<-0x1374+0xbf*0x1+0x12bd)+Math['round'](_0x24d4d4*(-0x78e+-0x1*0x26a9+0x2f36)))['toString'](-0x1247*0x2+-0x1383+-0x3821*-0x1)['slice'](-0x138d+0xdb4*0x1+0x5da);if(_0xcee06b===!(0x1a97+-0xe5*0x1a+-0x355)){const _0x59c3d8=Math['round'](_0x311dd9*(-0xb2a*0x2+0x3fe*0x7+0xd*-0x5b))['toString'](-0x4b2+0x5*0x125+-0xf7*0x1);this['a']<(-0x7*-0x373+-0x1d97+-0x2*-0x2c1)/(-0x554*0x6+0x1*-0x6d9+0x27d0)?_0x23c8ce+='0'+_0x59c3d8:_0x23c8ce+=_0x59c3d8;}return _0x23c8ce;}['toArray'](_0x425010=[],_0x3366f7=-0x161d+0xa63+-0x1*-0xbba,_0x556480=!(0x349+-0x1f95+0x713*0x4)){return _0x425010[_0x3366f7]=this['r'],_0x425010[_0x3366f7+(-0x1566+0x17*0x23+0xf6*0x13)]=this['g'],_0x425010[_0x3366f7+(-0x1880+0x5*0x1b1+0x100d)]=this['b'],_0x556480&&(_0x425010[_0x3366f7+(-0x1701+0x1*-0x1385+-0x2a89*-0x1)]=this['a']),_0x425010;}};h(Tt,'BLACK',Object['freeze'](new Tt(0x4*0x9bb+-0x841+-0x1eab,-0x958+0x19de+-0x1086,-0xcd*-0xb+-0x2314+0x1a45,0x203*0x1+0x17b0+-0x19b2))),h(Tt,'BLUE',Object['freeze'](new Tt(-0x28*0xbc+0x112c+0xc34,0x1d3*-0x5+0x1e8e*-0x1+0x27ad,0x5c3+-0x1*-0x1bcd+-0x79*0x47,-0x2*-0x1247+0x1c5*-0xe+-0x3*0x3ed))),h(Tt,'CYAN',Object['freeze'](new Tt(-0x53c+-0x2fc*-0x3+0xee*-0x4,0x2152+0x10*-0xa7+0x1*-0x16e1,-0x353*-0x8+-0x1*-0x179f+-0x2*0x191b,-0x1*-0x219e+-0x1ac0+-0xfb*0x7))),h(Tt,'GRAY',Object['freeze'](new Tt(0xe4f*-0x1+-0x2fe*-0x7+-0x6a3+0.5,-0x2b8*0xe+-0xca*-0x29+0x5b6+0.5,0x248f+0x7*0xab+0x1a*-0x196+0.5,0x100d+-0x263+-0xda9))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x1*-0xb93+0x1*-0xb2d+-0x66,-0xe14*0x1+0x1428+-0x1*0x613,0x173d+-0x1*0x26ba+0x319*0x5,-0x49*-0x13+0xd*-0x213+0x158d))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x1*0xc1+-0x1f*-0xd6+-0x1aaa,-0xf87+0x10be+-0x137,0x3*0xae7+0x3ae*0x2+-0x2810,0x1*-0x1483+0x5*0x103+0xf75))),h(Tt,'RED',Object['freeze'](new Tt(-0xd8+-0x1*-0x2029+-0x1f5*0x10,0x1a18+0x558+-0x1f70,-0x1*0x1997+-0x2*0x7a1+0x28d9,0x15e7+0xbd+0x5f*-0x3d))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x144+-0x1*0x779+0x1*0x8be,0x761+0x22e3+-0x2a43,0x1*-0xfb+-0x2529*-0x1+-0x242d,-0x107f*0x1+0x218e+-0x2*0x887))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0x214d+0xd*-0x1+-0x215b*-0x1,0x7db*0x1+-0x255+-0x585,0x1*-0x53a+0x1f6a*-0x1+0x24a4,-0x1089+0x4f+0x103b*0x1)));let ie=Tt;class ZS{constructor(_0x5b9690,_0x4ae043=0x3*0x929+-0x2*-0x36d+-0x2255){h(this,'_curve'),h(this,'_left',-(0x9d*0xa+0xb*-0x2ae+0x8b*0x2b)/(0x2247+0x1c45+-0x3e8c)),h(this,'_right',(0x409+0x26ae+0x16*-0x1f1)/(-0x21e*-0xd+-0x26b3+0xb2d)),h(this,'_recip',-0xb*-0xe5+-0xf5f+0x588),h(this,'_p0',-0x14ad*0x1+0x1*0x247d+-0x2*0x7e8),h(this,'_p1',0x1e*-0xd3+0xcde+0x3f4*0x3),h(this,'_m0',-0x3*0x5e3+0x1d82+0x3f3*-0x3),h(this,'_m1',0xe7c*0x2+0x1*-0x6d1+-0x1627),(this['_curve']=_0x5b9690,this['_reset'](_0x4ae043));}['evaluate'](_0xa09736,_0x26201c=!(-0x1683+0x4b4*-0x3+-0x1*-0x24a0)){(_0x26201c||_0xa09736<this['_left']||_0xa09736>=this['_right'])&&this['_reset'](_0xa09736);let _0x4cfaec;const _0x19da7a=this['_curve']['type'];if(_0x19da7a===_x)_0x4cfaec=this['_p0'];else{const _0x4694e2=this['_recip']===-0x1639*0x1+0xb4e+0xaeb?-0x55b+0x270d+0x1c6*-0x13:(_0xa09736-this['_left'])*this['_recip'];_0x19da7a===mx?_0x4cfaec=Y['lerp'](this['_p0'],this['_p1'],_0x4694e2):_0x19da7a===tp?_0x4cfaec=Y['lerp'](this['_p0'],this['_p1'],_0x4694e2*_0x4694e2*(0x1*-0x1955+-0x48*0x4b+0x2e70-(-0x1ff*-0x5+-0x14d5+0xadc)*_0x4694e2)):_0x4cfaec=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x4694e2);}return _0x4cfaec;}['_reset'](_0x1b9508){const _0x2d1213=this['_curve']['keys'],_0x2db869=_0x2d1213['length'];if(!_0x2db869)this['_left']=-(-0x2543+0x4a2*0x3+-0xbaf*-0x2)/(-0x2528+-0x6*-0x542+0x59c),this['_right']=(-0x23cd+-0x1c*0xaf+0x36f2)/(0xa7c+0x10e8+-0x4*0x6d9),this['_recip']=0x71*-0x3b+0xe42+0x1af*0x7,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0xf4e+0x23*0xb9+-0x2899;else{if(_0x1b9508<_0x2d1213[0x7b*0x8+0x1b16*0x1+-0x1eee*0x1][0x1369*-0x2+0x1039*-0x2+0x4744])this['_left']=-(-0xf75*0x2+0x1be*-0x11+-0x3c89*-0x1)/(-0x1*-0x10c1+0x25*0x3+-0x5*0x370),this['_right']=_0x2d1213[0x74f+0x62b*0x6+0x2c51*-0x1][-0x79e+-0x13*-0x7+0x4f*0x17],this['_recip']=0x39b+0x7*-0x333+0x12ca,this['_p0']=this['_p1']=_0x2d1213[-0x3*-0x544+0x359*0x1+-0x1325][0x1*-0x1101+0x1e91+0x10b*-0xd],this['_m0']=this['_m1']=0x8f*-0x3+-0x5f*-0x6+-0x8d;else{if(_0x1b9508>=_0x2d1213[_0x2db869-(0x21c9+-0x88d+-0x193b*0x1)][0x3*-0x64f+0x13*0x67+0x2d2*0x4])this['_left']=_0x2d1213[_0x2db869-(0x4*-0x281+-0x120b+0x382*0x8)][-0x26e7+0x3*-0x2ab+0x2ee8],this['_right']=(0x1bec+0x1194+-0x2d7f*0x1)/(0x404+-0x1d6c+0x1968),this['_recip']=0x201*0x3+-0x14*0x191+0x1951*0x1,this['_p0']=this['_p1']=_0x2d1213[_0x2db869-(-0x2660+-0x28e+0x28ef)][-0x1205+-0x17f5*-0x1+-0x1f*0x31],this['_m0']=this['_m1']=-0x1563+-0x184*0x18+0x1dd*0x1f;else{let _0x32d35a=-0xeea+-0xf9*-0xd+-0x1*-0x245;for(;_0x1b9508>=_0x2d1213[_0x32d35a+(-0x1300+-0x758*-0x3+-0x307)][0x1a82+-0x24b3+0x1*0xa31];)_0x32d35a++;this['_left']=_0x2d1213[_0x32d35a][-0x1*-0x26bc+0x11*0xb3+-0x329f],this['_right']=_0x2d1213[_0x32d35a+(-0x1*0xb74+0x1*-0x180d+0x2382)][-0x3*0xb89+-0x2*-0xbdf+0x1b*0x67];const _0x3f751d=(-0x689*0x2+0x2626+0x31*-0x83)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3f751d)?_0x3f751d:-0xa3*-0x29+-0x8*-0x3c5+-0x3843,this['_p0']=_0x2d1213[_0x32d35a][0x32*-0x53+-0x1f*0xf1+0x2d66],this['_p1']=_0x2d1213[_0x32d35a+(0x6f*0x2a+-0x8d7*-0x3+-0x2cba)][0xa*0x143+0x10cb+-0x1d68],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x2d1213,_0x32d35a);}}}}['_calcTange'+'nts'](_0x5c543f,_0x20c721){let _0x2f4be9;const _0x3288ed=_0x5c543f[_0x20c721],_0x281506=_0x5c543f[_0x20c721+(0x12*-0x5d+-0x133*0x12+0x1c21)];let _0x52878e;if(_0x20c721===-0x178a+0x15*-0x29+0x1ae7?_0x2f4be9=[_0x5c543f[-0x13bb+0x2366+0xfab*-0x1][0x15e+0x1a55+-0x1bb3]+(_0x5c543f[0x39*0xad+0x66*-0x3e+0x83*-0x1b][-0x1*-0x26b6+-0x2*-0x336+-0x1691*0x2]-_0x5c543f[-0x25cd+0x2*-0xbf5+0x8*0x7b7][-0x6*0x1d5+0x1*-0xe3f+0x193d*0x1]),_0x5c543f[0x8ff+0x74a+-0x1049][0x1*0x36e+-0x1d*-0xa7+-0x1658]+(_0x5c543f[0x222d+-0x26d4+-0x1*-0x4a7][-0x24b*-0x11+-0x1f3b+-0x7bf]-_0x5c543f[-0x8*-0x4be+-0x1886+-0xd69][-0x1*-0x1bfa+0x9ad*-0x1+-0x124c])]:_0x2f4be9=_0x5c543f[_0x20c721-(0x6f*0x47+-0x4*-0x392+0x4*-0xb44)],_0x20c721===_0x5c543f['length']-(0x1d9f+-0x82f+0xd*-0x1a6)?_0x52878e=[_0x5c543f[_0x20c721+(0xb84+-0x1*-0x1ca+0x46f*-0x3)][0x1f0a+0x21eb+0x1*-0x40f5]+(_0x5c543f[_0x20c721+(-0x63*0xd+0x221b*0x1+0x9b1*-0x3)][-0x1bc5+0x18d*-0x16+0x3de3]-_0x5c543f[_0x20c721][0x1*0x1477+0x1aef+0x17b3*-0x2]),_0x5c543f[_0x20c721+(0x35*0x67+-0x1a70+0x51e)][0xfa0+-0x1*0x1355+-0xbe*-0x5]+(_0x5c543f[_0x20c721+(-0x1ab0+0x1467+0x64a)][0xd*0x21a+-0x3bc+-0x1795]-_0x5c543f[_0x20c721][0x40+0x60d+0x7c*-0xd])]:_0x52878e=_0x5c543f[_0x20c721+(-0x415*0x1+0x1819+0xa01*-0x2)],this['_curve']['type']===Nm){const _0x534044=(0x1d8b+-0x5d2+-0x17b7*0x1)*(_0x281506[0x96*0x3d+0x2bd*-0x2+-0x1e44]-_0x3288ed[-0x1f*-0x5b+-0x161b+0xb16])/(_0x281506[-0x49e*0x3+-0x131f+-0x20f9*-0x1]-_0x2f4be9[0x43f+-0x93a+0x4fb]),_0x546a0b=(0x697+-0x1f93+0xe*0x1c9)*(_0x281506[-0x2f6*-0x5+-0x1*0x1389+0x4bb]-_0x3288ed[-0x133d+0x481*-0x2+0x1c3f*0x1])/(_0x52878e[0x157e+-0x5ff+-0xf7f]-_0x3288ed[-0x9d*-0x3b+-0x1519+-0x2*0x78b]);this['_m0']=this['_curve']['tension']*(isFinite(_0x534044)?_0x534044:-0x1702+0x579*-0x5+0x325f)*(_0x281506[0x463*-0x6+0x86*0x47+-0xad7]-_0x2f4be9[0xb27+-0x19fe+0x8*0x1db]),this['_m1']=this['_curve']['tension']*(isFinite(_0x546a0b)?_0x546a0b:0x1251*-0x1+-0xadf+0x1d30)*(_0x52878e[-0x22f4+-0xa15*0x3+-0x504*-0xd]-_0x3288ed[-0x1*0x21a7+0x144d+-0xd*-0x107]);}else{const _0x5dc0df=(_0x281506[-0x1367+-0x3*0x59+0x1472]-_0x3288ed[0x35*-0x1+-0x8*-0x25c+-0x12ab])/(_0x3288ed[0x1d7d*0x1+0x1407+-0x3184]-_0x2f4be9[-0xec1+0x41a+0xaa7]),_0x2fd3a3=(_0x281506[0x1a72+-0xa*-0x273+-0x32f0]-_0x3288ed[0xae3*0x1+0x1e6a+-0x294d])/(_0x52878e[-0x1b0d+0x2*0xa43+0x687]-_0x281506[-0x30*-0x39+-0x951+-0x1b*0xd]),_0x4d5ff2=_0x3288ed[0x1106+-0x213*-0x9+-0x23b0]+(_0x2f4be9[0x9*-0x209+-0x2*0x20b+-0xef*-0x18]-_0x3288ed[-0x17ad+-0x49e+0x1c4c])*(isFinite(_0x5dc0df)?_0x5dc0df:-0x1fe1+0x4*0x4cd+0xcad),_0x59c660=_0x281506[0x127*-0x19+-0x3*0xb15+0x1*0x3e0f]+(_0x52878e[-0x20*0x119+-0x2061+-0x21c1*-0x2]-_0x281506[-0xea1+0x1256*-0x1+0x20f8])*(isFinite(_0x2fd3a3)?_0x2fd3a3:0x271+-0x106c+0xdfb),_0x41f0ab=this['_curve']['tension'];this['_m0']=_0x41f0ab*(_0x281506[-0x42*-0x3b+-0x3b1+-0x16*0x86]-_0x4d5ff2),this['_m1']=_0x41f0ab*(_0x59c660-_0x3288ed[-0xb9e+-0x51*0x6b+0x1*0x2d7a]);}}['_evaluateH'+'ermite'](_0x31b928,_0x3ccdfd,_0x2b1bc8,_0x2d92b5,_0x2e1af0){const _0x17f3ff=_0x2e1af0*_0x2e1af0,_0x47b629=_0x2e1af0+_0x2e1af0,_0x522606=0x16fe+0xb3b+-0x2238-_0x2e1af0,_0x10a322=_0x522606*_0x522606;return _0x31b928*((-0x14*0x2b+0x2*-0x81+0x3*0x175+_0x47b629)*_0x10a322)+_0x2b1bc8*(_0x2e1af0*_0x10a322)+_0x3ccdfd*(_0x17f3ff*(0x1*-0x1bbb+-0x1023*0x2+0x3c04-_0x47b629))+_0x2d92b5*(_0x17f3ff*(_0x2e1af0-(-0x964+0x1a03+0x2c5*-0x6)));}}class qs{constructor(_0x4af470){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0xa11+-0x1*-0x195b+-0x236c+0.5),h(this,'_eval',new ZS(this));if(_0x4af470){for(let _0x5c8969=-0x11f1+-0x1*0x1366+0x2557;_0x5c8969<_0x4af470['length']-(-0x500+-0x269*-0xd+0x695*-0x4);_0x5c8969+=0x1db*0x9+0xb0f+0x2*-0xde0)this['keys']['push']([_0x4af470[_0x5c8969],_0x4af470[_0x5c8969+(-0x256b+0x35b*0xb+0x83)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x33cdec,_0x3afdfa){const _0x34cc37=this['keys'],_0xf05f38=_0x34cc37['length'];let _0x5d771b=-0x1185+0x13e8+0x263*-0x1;for(;_0x5d771b<_0xf05f38&&!(_0x34cc37[_0x5d771b][-0x41*-0x1+-0x2473+0x2432]>_0x33cdec);_0x5d771b++);const _0x2e1e91=[_0x33cdec,_0x3afdfa];return this['keys']['splice'](_0x5d771b,0xba7+-0x76*0x3+-0xa45,_0x2e1e91),_0x2e1e91;}['get'](_0x425dec){return this['keys'][_0x425dec];}['sort'](){this['keys']['sort']((_0xcf745f,_0x505db4)=>_0xcf745f[0x79e+-0x536+-0x4*0x9a]-_0x505db4[0x2077+-0x40c+-0x1c6b]);}['value'](_0x29a3fd){return this['_eval']['evaluate'](_0x29a3fd,!(0x2250+0x2523+-0x4773*0x1));}['closest'](_0x255d5f){const _0x5e3d0d=this['keys'],_0x50c201=_0x5e3d0d['length'];let _0x3eaa54=-0x1289+-0x2674+0x38ff,_0x10ffe0=null;for(let _0x2ce96e=-0x4af+-0x373*0x2+0xb95;_0x2ce96e<_0x50c201;_0x2ce96e++){const _0x44ac4b=Math['abs'](_0x255d5f-_0x5e3d0d[_0x2ce96e][-0x116d+0x18dd*0x1+-0x770]);if(_0x3eaa54>=_0x44ac4b)_0x3eaa54=_0x44ac4b,_0x10ffe0=_0x5e3d0d[_0x2ce96e];else break;}return _0x10ffe0;}['clone'](){const _0x1a716e=new this['constructo'+'r']();return _0x1a716e['keys']=this['keys']['map'](_0x15df1e=>[..._0x15df1e]),_0x1a716e['type']=this['type'],_0x1a716e['tension']=this['tension'],_0x1a716e;}['quantize'](_0x22432e){_0x22432e=Math['max'](_0x22432e,0x1624+0x3*-0x62a+0x3a4*-0x1);const _0x1897e2=new Float32Array(_0x22432e),_0x27032c=(0x3*-0x7a6+0xbd6*0x3+-0x1*0xc8f)/(_0x22432e-(-0xbb6+0x3*-0x77e+-0x1*-0x2231));_0x1897e2[0x9e2+0x1e31+-0x2813]=this['_eval']['evaluate'](0x1be4+-0x87d*0x3+-0x26d,!(-0x9a7*0x4+-0x1*-0x833+0x1e69));for(let _0x4d2432=-0x7e8+0x1f*0xc5+-0x2*0x7f9;_0x4d2432<_0x22432e;_0x4d2432++)_0x1897e2[_0x4d2432]=this['_eval']['evaluate'](_0x27032c*_0x4d2432);return _0x1897e2;}['quantizeCl'+'amped'](_0x46a994,_0x49ffda,_0x27bd9d){const _0x4feb88=this['quantize'](_0x46a994);for(let _0xda945a=-0x1715+0x2*-0x1d0+0x8e7*0x3;_0xda945a<_0x4feb88['length'];++_0xda945a)_0x4feb88[_0xda945a]=Math['min'](_0x27bd9d,Math['max'](_0x49ffda,_0x4feb88[_0xda945a]));return _0x4feb88;}}class na{constructor(..._0x756572){h(this,'curves',[]),h(this,'_type',tp);if(_0x756572['length']>0x1*0x17d5+0x1689+-0x2e5d){for(let _0x412a7b=-0x1c+-0x1*0x1ebf+-0x3*-0xa49;_0x412a7b<_0x756572['length'];_0x412a7b++)this['curves']['push'](new qs(_0x756572[_0x412a7b]));}else{if(_0x756572['length']===0x3*-0x741+-0x2171+0x3734)this['curves']['push'](new qs());else{const _0x45eecd=_0x756572[-0xbbc+-0x7*0x327+-0x21cd*-0x1];if(typeof _0x45eecd=='number'){for(let _0x4a70fd=0x17c7+0x246d+-0x3c34;_0x4a70fd<_0x45eecd;_0x4a70fd++)this['curves']['push'](new qs());}else{for(let _0xf05f23=0xa97*0x3+-0x12f*-0x3+-0x2352;_0xf05f23<_0x45eecd['length'];_0xf05f23++)this['curves']['push'](new qs(_0x45eecd[_0xf05f23]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x27ad73){this['_type']=_0x27ad73;for(let _0x24a88b=-0x26a*0xb+0x1*-0x1850+0x32de;_0x24a88b<this['curves']['length'];_0x24a88b++)this['curves'][_0x24a88b]['type']=_0x27ad73;}get['type'](){return this['_type'];}['get'](_0x122302){return this['curves'][_0x122302];}['value'](_0x1fab93,_0x45d9cb=[]){const _0x1841d4=this['curves']['length'];_0x45d9cb['length']=_0x1841d4;for(let _0x365197=0xe89+0x256c+-0x33f5*0x1;_0x365197<_0x1841d4;_0x365197++)_0x45d9cb[_0x365197]=this['curves'][_0x365197]['value'](_0x1fab93);return _0x45d9cb;}['clone'](){const _0x78eb8a=new this['constructo'+'r']();_0x78eb8a['curves']=[];for(let _0x406f15=0x1*-0x917+-0x2563+0x6*0x7bf;_0x406f15<this['curves']['length'];_0x406f15++)_0x78eb8a['curves']['push'](this['curves'][_0x406f15]['clone']());return _0x78eb8a['_type']=this['_type'],_0x78eb8a;}['quantize'](_0xff44d4){_0xff44d4=Math['max'](_0xff44d4,0x26f+0xbd6*0x3+-0x25ef);const _0x3face8=this['curves']['length'],_0x733dd2=new Float32Array(_0xff44d4*_0x3face8),_0x349bba=(0x6ce+-0x6c7+-0x6)/(_0xff44d4-(-0x139*-0x9+-0xc2+0x2*-0x51f));for(let _0x111787=0x8b8+-0xea+-0x2*0x3e7;_0x111787<_0x3face8;_0x111787++){const _0x224cf5=new ZS(this['curves'][_0x111787]);for(let _0x176fa0=-0x1437+0x1*0x1f5f+-0x11*0xa8;_0x176fa0<_0xff44d4;_0x176fa0++)_0x733dd2[_0x176fa0*_0x3face8+_0x111787]=_0x224cf5['evaluate'](_0x349bba*_0x176fa0);}return _0x733dd2;}['quantizeCl'+'amped'](_0x4de4cb,_0x4edea1,_0x4c0070){const _0x5c6fb3=this['quantize'](_0x4de4cb);for(let _0x9bddd7=0x1*0x3a+-0x1862+0x8*0x305;_0x9bddd7<_0x5c6fb3['length'];++_0x9bddd7)_0x5c6fb3[_0x9bddd7]=Math['min'](_0x4c0070,Math['max'](_0x4edea1,_0x5c6fb3[_0x9bddd7]));return _0x5c6fb3;}}const Hf=new Float32Array(-0x17af+0x32*-0x43+0x24c6),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x3ec618){Hf[0xd83+0x1226+0x5*-0x655]=_0x3ec618;const _0x313d8e=km[-0x1fb8+-0x1*-0x1bfa+0x3be];let _0x44adb7=_0x313d8e>>-0x1ff6+-0x7dc*0x4+-0x2*-0x1fbb&0xdb51+-0x5da5+0x254,_0x1b8964=_0x313d8e>>0xc30+0x11e*-0x9+-0x216&0x5*-0x569+0x25*-0x9f+0x1*0x3a07;const _0x147ee8=_0x313d8e>>0x1348*0x1+0x843+-0x7*0x3ec&-0x95c+-0x1*-0x26da+-0x1c7f;return _0x147ee8<-0x9c2+-0x2*0xc9e+-0x11*-0x215?_0x44adb7:_0x147ee8>-0x25*-0x2f+0x1661*-0x1+0x1024?(_0x44adb7|=0x51*0x24b+0x20e5+0x4*-0x17a8,_0x44adb7|=(_0x147ee8===0x10f9+-0x1734+-0xb9*-0xa?0xde2+-0x3*0x561+0x241*0x1:-0x17*-0x140+0x1b19+0x2*-0x1bec)&&_0x313d8e&-0x1*0x9866d1+0x99be9c*-0x1+-0x6c895b*-0x4,_0x44adb7):_0x147ee8<-0xe*0x15a+-0x26ad*-0x1+0x3*-0x670?(_0x1b8964|=0x5ce*0x3+-0x2*0x2a+-0x916,_0x44adb7|=(_0x1b8964>>0x2*-0x229+-0x3b*0x47+0x3*0x70b-_0x147ee8)+(_0x1b8964>>0x22b2+-0x5*0x4cd+-0xa40-_0x147ee8&0x2*-0x118d+0x1267+0x10b4),_0x44adb7):(_0x44adb7|=_0x147ee8-(-0x3*-0xc92+0x2*0x526+0x17c9*-0x2)<<0x2*-0x686+0x16ca+0xc*-0xcf|_0x1b8964>>0xe1+0x25c*-0xc+0x1b70,_0x44adb7+=_0x1b8964&0x1bb3+-0x1*0xce5+-0xecd,_0x44adb7);}static['float2RGBA'+'8'](_0x44c421,_0xb84268){Hf[-0x4*0x7db+-0x1602+0x356e]=_0x44c421;const _0x42a335=km[-0x1ef5*0x1+-0x34b*0x9+-0x8*-0x793];_0xb84268['r']=(_0x42a335>>-0x12*-0x22+0x1008+-0x1254&0x2e1+0x11*0x224+-0x2646)/(-0x2*-0x75d+-0x4f2+-0x8c9*0x1),_0xb84268['g']=(_0x42a335>>0xe7+0xa0+-0x3*0x7d&-0x1154*0x1+0x160+0x10f3)/(-0x25d3+-0x1c21+-0x57*-0xc5),_0xb84268['b']=(_0x42a335>>0x8*0x1f3+0x9bc*0x2+-0x2308&-0x7*0x52f+0x1d19+0x82f)/(0x12e8+0x4*0x3c+-0x19*0xc1),_0xb84268['a']=(_0x42a335&-0x99*-0x33+0x1b10+0x7*-0x814)/(0x953*-0x1+-0x1*0x981+0x13d3);}}const wt=class wt{constructor(_0x52589b=0x1a54+0x112a+-0x2b7e,_0x371f3b=0x1*-0x2480+0x23c4+0xbc,_0x371669=0x1*-0x11d7+0x35*-0x95+-0x148*-0x26){h(this,'x'),h(this,'y'),h(this,'z'),_0x52589b['length']===-0x97d+-0x8f*0x27+0x1f49?(this['x']=_0x52589b[-0xa00*-0x1+0x2293+-0x2c93],this['y']=_0x52589b[0x1134+0x1b1*0x5+-0x19a8],this['z']=_0x52589b[-0x1bc8+0x208d+-0x4c3*0x1]):(this['x']=_0x52589b,this['y']=_0x371f3b,this['z']=_0x371669);}['add'](_0x27a70c){return this['x']+=_0x27a70c['x'],this['y']+=_0x27a70c['y'],this['z']+=_0x27a70c['z'],this;}['add2'](_0x5c7150,_0xa271fb){return this['x']=_0x5c7150['x']+_0xa271fb['x'],this['y']=_0x5c7150['y']+_0xa271fb['y'],this['z']=_0x5c7150['z']+_0xa271fb['z'],this;}['addScalar'](_0x3d05a7){return this['x']+=_0x3d05a7,this['y']+=_0x3d05a7,this['z']+=_0x3d05a7,this;}['addScaled'](_0x3840fe,_0x20f68b){return this['x']+=_0x3840fe['x']*_0x20f68b,this['y']+=_0x3840fe['y']*_0x20f68b,this['z']+=_0x3840fe['z']*_0x20f68b,this;}['clone'](){const _0xb8cd30=this['constructo'+'r'];return new _0xb8cd30(this['x'],this['y'],this['z']);}['copy'](_0x38a07b){return this['x']=_0x38a07b['x'],this['y']=_0x38a07b['y'],this['z']=_0x38a07b['z'],this;}['cross'](_0x4595e2,_0x3a3187){const _0x2912e6=_0x4595e2['x'],_0x140871=_0x4595e2['y'],_0x344db5=_0x4595e2['z'],_0xac91a7=_0x3a3187['x'],_0x76039a=_0x3a3187['y'],_0x2e1556=_0x3a3187['z'];return this['x']=_0x140871*_0x2e1556-_0x76039a*_0x344db5,this['y']=_0x344db5*_0xac91a7-_0x2e1556*_0x2912e6,this['z']=_0x2912e6*_0x76039a-_0xac91a7*_0x140871,this;}['distance'](_0x15a578){const _0x10e1bb=this['x']-_0x15a578['x'],_0x2da138=this['y']-_0x15a578['y'],_0x39949f=this['z']-_0x15a578['z'];return Math['sqrt'](_0x10e1bb*_0x10e1bb+_0x2da138*_0x2da138+_0x39949f*_0x39949f);}['div'](_0xcd7022){return this['x']/=_0xcd7022['x'],this['y']/=_0xcd7022['y'],this['z']/=_0xcd7022['z'],this;}['div2'](_0x42a34b,_0x2584a5){return this['x']=_0x42a34b['x']/_0x2584a5['x'],this['y']=_0x42a34b['y']/_0x2584a5['y'],this['z']=_0x42a34b['z']/_0x2584a5['z'],this;}['divScalar'](_0xad129){return this['x']/=_0xad129,this['y']/=_0xad129,this['z']/=_0xad129,this;}['dot'](_0x4863ae){return this['x']*_0x4863ae['x']+this['y']*_0x4863ae['y']+this['z']*_0x4863ae['z'];}['equals'](_0x555f35){return this['x']===_0x555f35['x']&&this['y']===_0x555f35['y']&&this['z']===_0x555f35['z'];}['equalsAppr'+'ox'](_0x3af365,_0x53e691=-0x8c5*-0x1+-0x4f*0x29+0x3e2+0.000001){return Math['abs'](this['x']-_0x3af365['x'])<_0x53e691&&Math['abs'](this['y']-_0x3af365['y'])<_0x53e691&&Math['abs'](this['z']-_0x3af365['z'])<_0x53e691;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x2a096d,_0x1353ef,_0x4193b6){return this['x']=_0x2a096d['x']+_0x4193b6*(_0x1353ef['x']-_0x2a096d['x']),this['y']=_0x2a096d['y']+_0x4193b6*(_0x1353ef['y']-_0x2a096d['y']),this['z']=_0x2a096d['z']+_0x4193b6*(_0x1353ef['z']-_0x2a096d['z']),this;}['mul'](_0x58d1a1){return this['x']*=_0x58d1a1['x'],this['y']*=_0x58d1a1['y'],this['z']*=_0x58d1a1['z'],this;}['mul2'](_0x462b07,_0x4dc882){return this['x']=_0x462b07['x']*_0x4dc882['x'],this['y']=_0x462b07['y']*_0x4dc882['y'],this['z']=_0x462b07['z']*_0x4dc882['z'],this;}['mulScalar'](_0x338c95){return this['x']*=_0x338c95,this['y']*=_0x338c95,this['z']*=_0x338c95,this;}['normalize'](_0x3d9b53=this){const _0xfb80ed=_0x3d9b53['x']*_0x3d9b53['x']+_0x3d9b53['y']*_0x3d9b53['y']+_0x3d9b53['z']*_0x3d9b53['z'];if(_0xfb80ed>-0x13*-0x1a3+0x1e8e+-0x3da7){const _0x55cc28=(0x3*0xc69+-0x776*0x2+-0xa*0x23b)/Math['sqrt'](_0xfb80ed);this['x']=_0x3d9b53['x']*_0x55cc28,this['y']=_0x3d9b53['y']*_0x55cc28,this['z']=_0x3d9b53['z']*_0x55cc28;}return this;}['floor'](_0x16a8aa=this){return this['x']=Math['floor'](_0x16a8aa['x']),this['y']=Math['floor'](_0x16a8aa['y']),this['z']=Math['floor'](_0x16a8aa['z']),this;}['ceil'](_0xe1a7a4=this){return this['x']=Math['ceil'](_0xe1a7a4['x']),this['y']=Math['ceil'](_0xe1a7a4['y']),this['z']=Math['ceil'](_0xe1a7a4['z']),this;}['round'](_0x562f82=this){return this['x']=Math['round'](_0x562f82['x']),this['y']=Math['round'](_0x562f82['y']),this['z']=Math['round'](_0x562f82['z']),this;}['min'](_0x2fdd18){return _0x2fdd18['x']<this['x']&&(this['x']=_0x2fdd18['x']),_0x2fdd18['y']<this['y']&&(this['y']=_0x2fdd18['y']),_0x2fdd18['z']<this['z']&&(this['z']=_0x2fdd18['z']),this;}['max'](_0x5a9b8c){return _0x5a9b8c['x']>this['x']&&(this['x']=_0x5a9b8c['x']),_0x5a9b8c['y']>this['y']&&(this['y']=_0x5a9b8c['y']),_0x5a9b8c['z']>this['z']&&(this['z']=_0x5a9b8c['z']),this;}['project'](_0x37aab5){const _0x1bff93=this['x']*_0x37aab5['x']+this['y']*_0x37aab5['y']+this['z']*_0x37aab5['z'],_0x218b62=_0x37aab5['x']*_0x37aab5['x']+_0x37aab5['y']*_0x37aab5['y']+_0x37aab5['z']*_0x37aab5['z'],_0x49c92e=_0x1bff93/_0x218b62;return this['x']=_0x37aab5['x']*_0x49c92e,this['y']=_0x37aab5['y']*_0x49c92e,this['z']=_0x37aab5['z']*_0x49c92e,this;}['set'](_0x1c1382,_0x3f951b,_0x599f56){return this['x']=_0x1c1382,this['y']=_0x3f951b,this['z']=_0x599f56,this;}['sub'](_0x3fcff8){return this['x']-=_0x3fcff8['x'],this['y']-=_0x3fcff8['y'],this['z']-=_0x3fcff8['z'],this;}['sub2'](_0x35b656,_0x123652){return this['x']=_0x35b656['x']-_0x123652['x'],this['y']=_0x35b656['y']-_0x123652['y'],this['z']=_0x35b656['z']-_0x123652['z'],this;}['subScalar'](_0x4def5f){return this['x']-=_0x4def5f,this['y']-=_0x4def5f,this['z']-=_0x4def5f,this;}['fromArray'](_0x12eb72,_0x238306=-0x5*0x2ef+0x426+-0xa85*-0x1){return this['x']=_0x12eb72[_0x238306]??this['x'],this['y']=_0x12eb72[_0x238306+(-0x540+0x1517*-0x1+-0x4*-0x696)]??this['y'],this['z']=_0x12eb72[_0x238306+(-0x1*0x26b5+0xd18+-0x7*-0x3a9)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x8e2df4=[],_0x37592c=-0x1*0x1233+0x1*-0x7b5+0x33d*0x8){return _0x8e2df4[_0x37592c]=this['x'],_0x8e2df4[_0x37592c+(-0x5*-0x18f+0x59*0x49+-0x212b)]=this['y'],_0x8e2df4[_0x37592c+(0x1*0x2635+-0x1*-0xeab+-0x34de)]=this['z'],_0x8e2df4;}};h(wt,'ZERO',Object['freeze'](new wt(-0x1226+0x4f*-0x6+0x1400,-0xf6*-0x5+0x197a+-0xcc*0x26,-0xe+-0x2601+-0x1*-0x260f))),h(wt,'HALF',Object['freeze'](new wt(-0x2*-0x4db+0x6f*-0x42+0x4ba*0x4+0.5,0x723+0xc*-0x13e+0x7c5+0.5,0x23f2+-0x492+-0x1f60+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x17db+0x1f9e+-0x7c2,0x2108+-0x95*-0x8+-0x25af,0x1d27+-0x2*0xb50+-0x343*0x2))),h(wt,'UP',Object['freeze'](new wt(0xc03+0x1d5c+-0x295f,0x227b+0xc59*0x2+0x874*-0x7,0x1a8f+0x1a23+-0x34b2))),h(wt,'DOWN',Object['freeze'](new wt(0x1b65*0x1+-0x24b4+0x94f,-(-0xbb1*-0x3+0x17*-0x185+0x1*-0x1f),-0xbd9+-0x4*0xc3+0x5d*0x29))),h(wt,'RIGHT',Object['freeze'](new wt(0x39*0x45+0x10a*0x4+0x4*-0x4e1,0x1*0xf67+0x1*0x17e3+-0x274a,-0x19ef*-0x1+0x1f89+-0x3978))),h(wt,'LEFT',Object['freeze'](new wt(-(0x59b*-0x5+-0x727+0x232f*0x1),-0xdb7*0x1+-0x187*0xf+0x24a0,-0xf82+0x1e7c+-0xefa))),h(wt,'FORWARD',Object['freeze'](new wt(-0x151*-0x7+-0x1e80+0x1549,0x1a42+0x267c+-0x1*0x40be,-(-0x2509+-0x1d2e+-0x847*-0x8)))),h(wt,'BACK',Object['freeze'](new wt(-0x133*-0x1f+0x23b+0x184*-0x1a,0x8*0x17+0x160*-0x4+-0x2*-0x264,0x1494+0x22*0x76+0x243f*-0x1)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x1*-0xfad+-0x142f+0x23e5*0x1)),this['data'][0x3*-0x86a+0x844*-0x1+0x2182]=this['data'][0x8b1*-0x1+-0x11*-0xe7+0x1*-0x6a2]=this['data'][0x8d*-0x2b+-0x1407+0x2bbe]=-0x1979*0x1+0x8b6+0x10c4;}['clone'](){const _0x7e0eb0=this['constructo'+'r'];return new _0x7e0eb0()['copy'](this);}['copy'](_0x1ea02e){const _0xaef586=_0x1ea02e['data'],_0x7de0ec=this['data'];return _0x7de0ec[-0x4c7+0x2*-0x5bf+0x1045]=_0xaef586[-0x18c1*-0x1+0x412+-0x1cd3],_0x7de0ec[-0x744+0xf12+-0x7cd]=_0xaef586[-0xaeb+-0x184a+0x2336],_0x7de0ec[-0x2*-0x118b+-0x1b19+-0x7fb]=_0xaef586[-0x3b*0x8f+-0x1*-0x95c+0x179b],_0x7de0ec[-0x2323+0x10c1+0x1265]=_0xaef586[-0x23c0+0x1*-0xafb+0x2ebe],_0x7de0ec[0x21d5+0xbab+-0x1*0x2d7c]=_0xaef586[0x5*-0xb5+-0x6a0+0xa2d],_0x7de0ec[-0x89*-0x13+-0x254f+-0x11*-0x199]=_0xaef586[-0x1*-0x1a2d+-0x1*-0x24d9+-0x1*0x3f01],_0x7de0ec[0x17f7+-0x183+-0x166e]=_0xaef586[0xb93+0x24c1*-0x1+-0x1*-0x1934],_0x7de0ec[0xe8a+-0x998+-0x4eb*0x1]=_0xaef586[-0x2f2+0xbd1+-0x8d8],_0x7de0ec[-0x4*0x62a+0x2*-0x1216+0x3cdc]=_0xaef586[-0x127d+-0x1*0x22b4+0x7d*0x6d],this;}['set'](_0x2c39b4){const _0xb7009=this['data'];return _0xb7009[0x2039*0x1+0x1*-0x3e1+-0x1c58]=_0x2c39b4[-0x1b52+-0x1cf9+0x384b],_0xb7009[-0x574*0x4+-0x1*-0x20c5+-0x57a*0x2]=_0x2c39b4[-0x2*0x45d+-0x4*0x8eb+0x2c67],_0xb7009[0x1893+0x713+-0x1fa4]=_0x2c39b4[0x1543*-0x1+-0x1428+-0xf*-0x2c3],_0xb7009[-0x1d23+-0x164*0x10+-0x12*-0x2db]=_0x2c39b4[0x26fd+0xe71+-0x356b],_0xb7009[-0x6*-0x4d6+-0x253*0x1+-0x1*0x1aad]=_0x2c39b4[-0x9d*0x3+0x82e*0x3+-0x16af],_0xb7009[-0x2*-0x79+-0x18c1+-0x262*-0xa]=_0x2c39b4[0x6a4+0x1e93+-0x2532],_0xb7009[0x4*-0x481+-0x1f06+0x3110]=_0x2c39b4[-0x1100+0x2104+-0x17*0xb2],_0xb7009[-0x104c*-0x2+0x1c65+-0x3cf6]=_0x2c39b4[-0xf89+-0x89b+0x182b],_0xb7009[0x1b7*-0x13+0x3e7+0x7*0x41a]=_0x2c39b4[-0x59*0x41+-0x433+0x1ad4],this;}['getX'](_0x4ed5c2=new D()){return _0x4ed5c2['set'](this['data'][-0x538*0x2+0x641*0x2+-0x212],this['data'][-0x1*0x2d4+0x21e3+0x212*-0xf],this['data'][0x2703+-0x22fb+-0x406]);}['getY'](_0x234f0e=new D()){return _0x234f0e['set'](this['data'][-0x3*0x1fd+0x1*0x1dc+0x41e],this['data'][0x1*0x1d4a+0x1760+-0x17*0x24a],this['data'][0x2*0x883+0x1611+-0x2712]);}['getZ'](_0x2fc0f9=new D()){return _0x2fc0f9['set'](this['data'][-0x816+0x1f*-0xa6+0x1c36*0x1],this['data'][-0x1d+-0xe9e+0xec2],this['data'][0x2215+-0x262*-0xf+-0x45cb]);}['equals'](_0x1d7225){const _0x502ba5=this['data'],_0x1659f5=_0x1d7225['data'];return _0x502ba5[0x954+0x174d+-0x20a1]===_0x1659f5[-0xaf6+-0x2*-0x94a+0x96*-0xd]&&_0x502ba5[0xb*-0x31e+0xb1b+-0xe*-0x1a8]===_0x1659f5[0x23*0x32+-0x6ba+-0x1b*0x1]&&_0x502ba5[-0x116c+0x10e7+-0x87*-0x1]===_0x1659f5[0x1*0x1147+-0x12ca*0x1+0x185]&&_0x502ba5[0x12+-0xc8b+0xc7c]===_0x1659f5[0x3b*-0x7f+-0x1*0xabc+0x2804]&&_0x502ba5[0xa76+0x201b*-0x1+0x15a9]===_0x1659f5[0xd27+0x52*0x76+-0x32ef]&&_0x502ba5[0x1884+0x394*0x8+0x3*-0x11b5]===_0x1659f5[-0x1c06+-0x17f4+-0x5c7*-0x9]&&_0x502ba5[0x1cad+-0x1f0f+0x268]===_0x1659f5[0x2*-0xb57+-0x20ff+0x37b3]&&_0x502ba5[-0x5*-0x63+0x7fa+0x1fa*-0x5]===_0x1659f5[-0x7f*-0x23+-0x15bb+0x465]&&_0x502ba5[0x1*-0x9ee+0x19c9+0x1*-0xfd3]===_0x1659f5[0x10cf+-0x19*-0xe5+-0x9c9*0x4];}['isIdentity'](){const _0x40a2e9=this['data'];return _0x40a2e9[0x1a41+0xcd7+0x1a1*-0x18]===0x7c0+0x2400+-0x2bbf&&_0x40a2e9[0x165+0x201d+0x3*-0xb2b]===0x72*0x47+0xd41+0x1*-0x2cdf&&_0x40a2e9[-0xb83*0x1+-0x1*-0x325+0x218*0x4]===-0xdd7+0x10e0+-0x103*0x3&&_0x40a2e9[0x17b4+0x1*0x26d3+-0x3e84]===-0x13bf+0x16dd+0x1*-0x31e&&_0x40a2e9[0x1b25+0x223b+-0x3d5c]===0x236a+-0x6*0x17e+-0x1a75*0x1&&_0x40a2e9[0x1347+-0xc*-0x89+-0x19ae]===-0x1bb0+-0x41b*0x2+-0x397*-0xa&&_0x40a2e9[0x1*0x23a7+0x8a2*0x1+-0x2c43]===-0x7c2*-0x1+-0x896*-0x1+-0x1058&&_0x40a2e9[-0x22d7+-0x1fcb+0x42a9]===0x15c9+0x108c+-0x2655*0x1&&_0x40a2e9[-0x1bd7+-0x1a5e+-0xad9*-0x5]===-0x1*-0x205f+0x57d*-0x1+0x3d7*-0x7;}['setIdentit'+'y'](){const _0x311e8b=this['data'];return _0x311e8b[0x2*-0xedc+0x7d9+0x1fd*0xb]=0xd1*0xb+0x1*0x1089+-0x7*0x3a5,_0x311e8b[-0x295*-0x9+0x167*-0x2+-0x146e]=0x200d+0x2db+0x8ba*-0x4,_0x311e8b[-0x241*-0xb+-0x7cd*0x3+-0x162]=0x1623*-0x1+-0xe46+-0x1*-0x2469,_0x311e8b[-0x970+-0x1*0x1d7b+0x26ee]=-0x1513+0x13ea+0x1b*0xb,_0x311e8b[-0x1c7*-0x1+-0x5a3*-0x2+-0xd09]=-0x1*0x73b+-0x7e4+0xf20,_0x311e8b[0x1585+0x3b8+0x434*-0x6]=0xf5c*-0x2+-0x1bdb+0x1*0x3a93,_0x311e8b[-0x5*-0x571+0x5c5+-0x20f4]=-0x24ff+0x2524+-0x25,_0x311e8b[0xf50+0xcf7+-0x1c40]=0x171+-0x6c1+0x550,_0x311e8b[0x8c8+0x33*-0x65+0xb5f]=-0x2505+-0x1308+-0x1c07*-0x2,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x1942af=this){const _0x297afe=_0x1942af['data'],_0x1b8270=this['data'];if(_0x297afe===_0x1b8270){let _0xb6c383;_0xb6c383=_0x297afe[-0x3*-0xb4f+-0x12b2*-0x1+-0x349e],_0x1b8270[0xb9*-0x25+-0x19*0xf5+0x32ab*0x1]=_0x297afe[0xa62+-0x1a69*0x1+0x100a],_0x1b8270[0x26d0+0x17f1+-0x6*0xa75]=_0xb6c383,_0xb6c383=_0x297afe[0xb66+0xc3b+-0x179f],_0x1b8270[-0x1b1*0x8+0x26ad*0x1+0x1*-0x1923]=_0x297afe[-0x1*0x20b+-0x2484+0x2695],_0x1b8270[-0x10bb*-0x2+0x6*0x10d+0x13df*-0x2]=_0xb6c383,_0xb6c383=_0x297afe[-0x54c+0x119*-0xb+0x1164],_0x1b8270[-0x1e30+0x477*-0x1+0x22ac*0x1]=_0x297afe[-0x1116+0x576+0x9d*0x13],_0x1b8270[-0x1e39*0x1+0x2351*0x1+-0x511]=_0xb6c383;}else _0x1b8270[0x1b82+0x131a+-0x2e9c*0x1]=_0x297afe[-0x347+0x22c6+-0x1f7f],_0x1b8270[0x188d+-0x3*-0xc57+-0x3d91]=_0x297afe[-0x1*-0x26ad+-0x27c*0x3+-0x2f*0xaa],_0x1b8270[0xa8a+-0x24d2+0x1a4a]=_0x297afe[-0x5d3*0x1+-0x1678+0x1c51],_0x1b8270[0x223*0x1+-0x2045*-0x1+-0x2265]=_0x297afe[-0x3f*-0x3e+-0x212b*0x1+-0x8f5*-0x2],_0x1b8270[-0xa4+0x2194+-0x20ec]=_0x297afe[-0x1fdf+0x84d+0x1796],_0x1b8270[0x1b57+-0x13*-0x207+0x5*-0xd2b]=_0x297afe[0x18ee+0x434+-0x1d1b],_0x1b8270[-0x131*0x3+0x2035+-0x1c9c]=_0x297afe[-0x933+-0x1580+0x1eb5],_0x1b8270[0x1f0c+0x26db+-0x45e0]=_0x297afe[0x2302+-0xf*-0x1cf+-0x3e1e*0x1],_0x1b8270[0x10b*-0x3+-0x72d+0xa56]=_0x297afe[-0x253a+0xc7*-0xa+0x106*0x2c];return this;}['setFromMat'+'4'](_0x1894b8){const _0x5f205d=_0x1894b8['data'],_0x4e6860=this['data'];return _0x4e6860[-0xd*0xa9+0xb70+-0x1*0x2db]=_0x5f205d[-0x655*0x1+-0x1fdd+-0x2*-0x1319],_0x4e6860[-0x602*-0x1+-0x379+0x6*-0x6c]=_0x5f205d[-0x191*0x13+0x4*0x542+0x22f*0x4],_0x4e6860[0x2bd*0x9+0x1aca*-0x1+0x227]=_0x5f205d[0x25d3*-0x1+0xb0b*-0x3+-0x2*-0x237b],_0x4e6860[-0x1*0x1cd0+-0x18b6+0x3589]=_0x5f205d[0x16fa+0x9*0x28b+-0x2dd9],_0x4e6860[0x86d*-0x1+-0x34c*-0x4+-0x5*0xf3]=_0x5f205d[0x7*0x3d3+-0x311+-0x17af],_0x4e6860[0x2237+-0x2681+-0x1*-0x44f]=_0x5f205d[0x1079*-0x1+0xdc2+0x2bd],_0x4e6860[-0x296+-0x2*-0x118c+-0xfc*0x21]=_0x5f205d[0x1*0x1af3+-0x7*0x3a1+-0x184],_0x4e6860[0x16e0+-0x2678+0x535*0x3]=_0x5f205d[-0x9*-0x2f7+-0x2308+0x862],_0x4e6860[0x19a5+-0x16a7+-0x2f6*0x1]=_0x5f205d[0x19e0+-0xa21+-0xfb5],this;}['setFromQua'+'t'](_0x155104){const _0x4b5814=_0x155104['x'],_0xfd1391=_0x155104['y'],_0x16a9fc=_0x155104['z'],_0x3265bb=_0x155104['w'],_0xeb1d90=_0x4b5814+_0x4b5814,_0x3e0c81=_0xfd1391+_0xfd1391,_0x4e5aee=_0x16a9fc+_0x16a9fc,_0x4c87a1=_0x4b5814*_0xeb1d90,_0x324604=_0x4b5814*_0x3e0c81,_0xfe87b3=_0x4b5814*_0x4e5aee,_0x50547f=_0xfd1391*_0x3e0c81,_0x49f2c8=_0xfd1391*_0x4e5aee,_0x31aa83=_0x16a9fc*_0x4e5aee,_0x3c7b62=_0x3265bb*_0xeb1d90,_0xed8484=_0x3265bb*_0x3e0c81,_0x5b29c5=_0x3265bb*_0x4e5aee,_0x1c8f17=this['data'];return _0x1c8f17[0x7bb*0x4+0x26e4+-0x8*0x8ba]=0x676+0x18a*-0x16+0x1b67-(_0x50547f+_0x31aa83),_0x1c8f17[-0x25ff+0x25ee+0x12]=_0x324604+_0x5b29c5,_0x1c8f17[-0x1*0x1d8e+0x1f8+0x1b98]=_0xfe87b3-_0xed8484,_0x1c8f17[0x329*0x9+0x1d0e+-0x397c]=_0x324604-_0x5b29c5,_0x1c8f17[0x9a3*-0x3+-0x4a*0x40+0x545*0x9]=0x11d6+0x1*0x4fa+-0x1*0x16cf-(_0x4c87a1+_0x31aa83),_0x1c8f17[-0x2495+-0x1*-0x6f3+0x1da7*0x1]=_0x49f2c8+_0x3c7b62,_0x1c8f17[0x2fe*0xb+-0xcba+0x142a*-0x1]=_0xfe87b3+_0xed8484,_0x1c8f17[0x931*0x1+0x1a6*0xd+-0x1e98]=_0x49f2c8-_0x3c7b62,_0x1c8f17[0xf04+0x1*-0xbe9+-0x313]=-0x1*0xf9d+0x13*-0x1c9+-0x1083*-0x3-(_0x4c87a1+_0x50547f),this;}['invertMat4'](_0x37dae9){const _0x4908ef=_0x37dae9['data'],_0x475f84=_0x4908ef[-0x1020*0x1+0x18cf+0x75*-0x13],_0x1f6025=_0x4908ef[-0xe*-0xf2+0x19dd*-0x1+0xca2*0x1],_0x4a4ff6=_0x4908ef[0xa1d+0x13a9+0x4*-0x771],_0x368035=_0x4908ef[0xa4f+-0x157d+0xb32],_0x414532=_0x4908ef[-0x788+0x23a1+-0x1c14],_0x6f6b8d=_0x4908ef[-0x5*-0x253+-0x929+0x4*-0x9c],_0x53a7f2=_0x4908ef[-0x801+-0x1ed6*0x1+0x26df],_0x4b33c9=_0x4908ef[0x6ae*-0x3+-0x2f4*-0xb+0xc69*-0x1],_0x9c53d0=_0x4908ef[0x1e5f+-0x1da+-0x1c7b],_0x193221=_0x9c53d0*_0x414532-_0x6f6b8d*_0x4b33c9,_0xf282f6=-_0x9c53d0*_0x1f6025+_0x4a4ff6*_0x4b33c9,_0x2b4d31=_0x6f6b8d*_0x1f6025-_0x4a4ff6*_0x414532,_0x59cf17=-_0x9c53d0*_0x368035+_0x6f6b8d*_0x53a7f2,_0x1b7fdc=_0x9c53d0*_0x475f84-_0x4a4ff6*_0x53a7f2,_0x38316e=-_0x6f6b8d*_0x475f84+_0x4a4ff6*_0x368035,_0xdfb243=_0x4b33c9*_0x368035-_0x414532*_0x53a7f2,_0x49648b=-_0x4b33c9*_0x475f84+_0x1f6025*_0x53a7f2,_0x425c38=_0x414532*_0x475f84-_0x1f6025*_0x368035,_0x1f57a2=_0x475f84*_0x193221+_0x1f6025*_0x59cf17+_0x4a4ff6*_0xdfb243;if(_0x1f57a2===-0x5*0x251+0xeda+-0x345)this['setIdentit'+'y']();else{const _0x152ed2=(-0x1d63*-0x1+0x30*0xce+-0x4402)/_0x1f57a2,_0x5c5545=this['data'];_0x5c5545[0x9e5*0x1+0x727*0x3+-0x1f5a]=_0x193221*_0x152ed2,_0x5c5545[0x1583+-0x785+-0xdfd]=_0xf282f6*_0x152ed2,_0x5c5545[0x1817+-0x5c4+0x61b*-0x3]=_0x2b4d31*_0x152ed2,_0x5c5545[-0xbe*-0x1f+0xf4c+0x264b*-0x1]=_0x59cf17*_0x152ed2,_0x5c5545[-0xb*0xed+-0x21a4+0x2bd7]=_0x1b7fdc*_0x152ed2,_0x5c5545[0x1716+-0x1dc8*0x1+-0x6b7*-0x1]=_0x38316e*_0x152ed2,_0x5c5545[0xc37+-0x3b*-0x60+-0x2251]=_0xdfb243*_0x152ed2,_0x5c5545[-0x14f0+0x215*-0x5+0x1f60]=_0x49648b*_0x152ed2,_0x5c5545[-0x2224+-0x224e*0x1+0x447a]=_0x425c38*_0x152ed2;}return this;}['transformV'+'ector'](_0x25e0f1,_0x461a0b=new D()){const _0x378068=this['data'],{x:_0xfefd6,y:_0x2f4376,z:_0x383041}=_0x25e0f1;return _0x461a0b['x']=_0xfefd6*_0x378068[-0xa*0x107+0x49*0x26+-0x90]+_0x2f4376*_0x378068[0x21b7+-0x1961+-0x1*0x853]+_0x383041*_0x378068[0x55c+-0x349*-0x4+-0x127a],_0x461a0b['y']=_0xfefd6*_0x378068[0x2010+0x2b5+0x6f4*-0x5]+_0x2f4376*_0x378068[-0x2366+0x145+0x2225]+_0x383041*_0x378068[-0x101d+-0xa70+0xbd*0x24],_0x461a0b['z']=_0xfefd6*_0x378068[-0x8d4+-0x10b8+0x198e]+_0x2f4376*_0x378068[0x2*-0xcca+0xc9f+0xcfa]+_0x383041*_0x378068[-0x2520*0x1+-0x382+-0xd8e*-0x3],_0x461a0b;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0xec5*0x2+-0x218c+0x3f16,0xc6d*0x1+0x702+-0x136f,0x1132+0x1*-0x787+-0x9*0x113,0x91*-0x3b+0x7a*0x15+0xd*0x1cd,0x87*0x1+0x175a+-0x17e1,0x16b*0x1b+-0x2525+-0x124,-0x1*-0x2302+0x190f+-0x3c11,-0xc9c+-0x40a+0x10a6,-0x17b*-0x14+-0x14*0x161+-0x208])));let _i=gn;const Gt=class Gt{constructor(_0xe3b580=-0x1c1*-0x9+-0x3*0x634+0x3*0xf1,_0x5008bf=-0x20eb*-0x1+0x260a+0xe31*-0x5){h(this,'x'),h(this,'y'),_0xe3b580['length']===0x2b*0x8+-0x1d*0xb2+-0x96a*-0x2?(this['x']=_0xe3b580[0x962+-0xf28+0x5c6*0x1],this['y']=_0xe3b580[-0x1e9*-0x12+0x1*0x1955+0x1ddb*-0x2]):(this['x']=_0xe3b580,this['y']=_0x5008bf);}['add'](_0x29884b){return this['x']+=_0x29884b['x'],this['y']+=_0x29884b['y'],this;}['add2'](_0x54aea5,_0x324dc2){return this['x']=_0x54aea5['x']+_0x324dc2['x'],this['y']=_0x54aea5['y']+_0x324dc2['y'],this;}['addScalar'](_0x5789ac){return this['x']+=_0x5789ac,this['y']+=_0x5789ac,this;}['addScaled'](_0x29cfdf,_0x63a523){return this['x']+=_0x29cfdf['x']*_0x63a523,this['y']+=_0x29cfdf['y']*_0x63a523,this;}['clone'](){const _0x32fa31=this['constructo'+'r'];return new _0x32fa31(this['x'],this['y']);}['copy'](_0x2f0920){return this['x']=_0x2f0920['x'],this['y']=_0x2f0920['y'],this;}['cross'](_0x560f49){return this['x']*_0x560f49['y']-this['y']*_0x560f49['x'];}['distance'](_0x4d975a){const _0x20c07c=this['x']-_0x4d975a['x'],_0x4129f0=this['y']-_0x4d975a['y'];return Math['sqrt'](_0x20c07c*_0x20c07c+_0x4129f0*_0x4129f0);}['div'](_0x1b7ad9){return this['x']/=_0x1b7ad9['x'],this['y']/=_0x1b7ad9['y'],this;}['div2'](_0x343d7f,_0x2b560a){return this['x']=_0x343d7f['x']/_0x2b560a['x'],this['y']=_0x343d7f['y']/_0x2b560a['y'],this;}['divScalar'](_0x184e56){return this['x']/=_0x184e56,this['y']/=_0x184e56,this;}['dot'](_0xcbfbcf){return this['x']*_0xcbfbcf['x']+this['y']*_0xcbfbcf['y'];}['equals'](_0x18c8d3){return this['x']===_0x18c8d3['x']&&this['y']===_0x18c8d3['y'];}['equalsAppr'+'ox'](_0x33c4ff,_0x5decbf=0x11*-0x14c+-0xaed+0x17*0x16f+0.000001){return Math['abs'](this['x']-_0x33c4ff['x'])<_0x5decbf&&Math['abs'](this['y']-_0x33c4ff['y'])<_0x5decbf;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x49c759,_0x35882d,_0xf5449d){return this['x']=_0x49c759['x']+_0xf5449d*(_0x35882d['x']-_0x49c759['x']),this['y']=_0x49c759['y']+_0xf5449d*(_0x35882d['y']-_0x49c759['y']),this;}['mul'](_0x19c427){return this['x']*=_0x19c427['x'],this['y']*=_0x19c427['y'],this;}['mul2'](_0x1f4f54,_0x26f267){return this['x']=_0x1f4f54['x']*_0x26f267['x'],this['y']=_0x1f4f54['y']*_0x26f267['y'],this;}['mulScalar'](_0x536629){return this['x']*=_0x536629,this['y']*=_0x536629,this;}['normalize'](_0x3900f8=this){const _0x1e41a3=_0x3900f8['x']*_0x3900f8['x']+_0x3900f8['y']*_0x3900f8['y'];if(_0x1e41a3>0x2618+-0xcf0+0x398*-0x7){const _0x4bae69=(0x44*0x13+0x14ff+-0x1a0a)/Math['sqrt'](_0x1e41a3);this['x']=_0x3900f8['x']*_0x4bae69,this['y']=_0x3900f8['y']*_0x4bae69;}return this;}['rotate'](_0x1b20ec){const _0x19500b=Math['atan2'](this['x'],this['y'])+_0x1b20ec*Y['DEG_TO_RAD'],_0x514739=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x19500b)*_0x514739,this['y']=Math['cos'](_0x19500b)*_0x514739,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x499cbe){return Math['atan2'](this['x']*_0x499cbe['y']+this['y']*_0x499cbe['x'],this['x']*_0x499cbe['x']+this['y']*_0x499cbe['y'])*Y['RAD_TO_DEG'];}['floor'](_0xce7267=this){return this['x']=Math['floor'](_0xce7267['x']),this['y']=Math['floor'](_0xce7267['y']),this;}['ceil'](_0x223c9e=this){return this['x']=Math['ceil'](_0x223c9e['x']),this['y']=Math['ceil'](_0x223c9e['y']),this;}['round'](_0x3d21f2=this){return this['x']=Math['round'](_0x3d21f2['x']),this['y']=Math['round'](_0x3d21f2['y']),this;}['min'](_0x114ef9){return _0x114ef9['x']<this['x']&&(this['x']=_0x114ef9['x']),_0x114ef9['y']<this['y']&&(this['y']=_0x114ef9['y']),this;}['max'](_0xa95d1){return _0xa95d1['x']>this['x']&&(this['x']=_0xa95d1['x']),_0xa95d1['y']>this['y']&&(this['y']=_0xa95d1['y']),this;}['set'](_0x32e32e,_0x358126){return this['x']=_0x32e32e,this['y']=_0x358126,this;}['sub'](_0x47400a){return this['x']-=_0x47400a['x'],this['y']-=_0x47400a['y'],this;}['sub2'](_0x27b6af,_0x945820){return this['x']=_0x27b6af['x']-_0x945820['x'],this['y']=_0x27b6af['y']-_0x945820['y'],this;}['subScalar'](_0x8e2363){return this['x']-=_0x8e2363,this['y']-=_0x8e2363,this;}['fromArray'](_0xf2f4bc,_0x578b6a=0x2b7*-0x5+-0xef*0x11+0x2*0xeb9){return this['x']=_0xf2f4bc[_0x578b6a]??this['x'],this['y']=_0xf2f4bc[_0x578b6a+(-0x1*0x653+0x231c+-0x1cc8)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x48307a=[],_0x54a2a3=0x5*-0x571+0x20b9+-0x584){return _0x48307a[_0x54a2a3]=this['x'],_0x48307a[_0x54a2a3+(-0x1*-0xd67+0x10d0+-0x1e36)]=this['y'],_0x48307a;}static['angleRad'](_0x21a7d7,_0x35000b){return Math['atan2'](_0x21a7d7['x']*_0x35000b['y']-_0x21a7d7['y']*_0x35000b['x'],_0x21a7d7['x']*_0x35000b['x']+_0x21a7d7['y']*_0x35000b['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(-0x138d+-0x102+-0x148f*-0x1,0x4*-0x2e7+0xef3+-0x357))),h(Gt,'HALF',Object['freeze'](new Gt(-0x157+0x1bef*-0x1+-0x6*-0x4e1+0.5,-0x95c+0x1f1*-0x6+0xa81*0x2+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(0xb47+-0x2520+0x19da,0x3b*0x7d+-0x10*0x5+0xe*-0x209))),h(Gt,'UP',Object['freeze'](new Gt(-0x15f7*-0x1+-0x2*0x11ab+0xd5f,-0x2*0xb93+-0x2*-0xaff+-0xb*-0x1b))),h(Gt,'DOWN',Object['freeze'](new Gt(-0x12d1*-0x1+-0xe83+0x1d*-0x26,-(-0x1229+-0x13*-0x127+-0xbf*0x5)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x265a+-0xa86+0x30e1,-0x2*0x1309+-0x34a*-0x5+0x15a*0x10))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0xb*-0x119+0x1829*0x1+-0x407*0x3),0x1bef+0x907*-0x2+-0x9e1)));let J=Gt;const pr=class pr{constructor(_0xa092f3=-0x1671+-0xe3d+0x2*0x1257,_0x3be9f7=-0x29d+0x19*-0x133+0x1*0x2098,_0x29c4b2=-0x2415+-0x21*-0x89+-0x24*-0x83,_0x560a41=-0x158*0x1b+-0x1*0x19ab+-0x3df3*-0x1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0xa092f3['length']===0x20ed+-0x20fb+0x12?(this['x']=_0xa092f3[-0x21b0*0x1+0x114+0x209c],this['y']=_0xa092f3[-0x1*-0x376+-0x20f+-0x166],this['z']=_0xa092f3[-0x14e7+0xdfa+0x6ef],this['w']=_0xa092f3[0x15b5+0x93+-0x1*0x1645]):(this['x']=_0xa092f3,this['y']=_0x3be9f7,this['z']=_0x29c4b2,this['w']=_0x560a41);}['add'](_0x57bb96){return this['x']+=_0x57bb96['x'],this['y']+=_0x57bb96['y'],this['z']+=_0x57bb96['z'],this['w']+=_0x57bb96['w'],this;}['add2'](_0x210592,_0xedd681){return this['x']=_0x210592['x']+_0xedd681['x'],this['y']=_0x210592['y']+_0xedd681['y'],this['z']=_0x210592['z']+_0xedd681['z'],this['w']=_0x210592['w']+_0xedd681['w'],this;}['addScalar'](_0x54578d){return this['x']+=_0x54578d,this['y']+=_0x54578d,this['z']+=_0x54578d,this['w']+=_0x54578d,this;}['addScaled'](_0x1e2ffd,_0x3beaeb){return this['x']+=_0x1e2ffd['x']*_0x3beaeb,this['y']+=_0x1e2ffd['y']*_0x3beaeb,this['z']+=_0x1e2ffd['z']*_0x3beaeb,this['w']+=_0x1e2ffd['w']*_0x3beaeb,this;}['clone'](){const _0x2675d9=this['constructo'+'r'];return new _0x2675d9(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x39c4f9){return this['x']=_0x39c4f9['x'],this['y']=_0x39c4f9['y'],this['z']=_0x39c4f9['z'],this['w']=_0x39c4f9['w'],this;}['div'](_0x1cd6a7){return this['x']/=_0x1cd6a7['x'],this['y']/=_0x1cd6a7['y'],this['z']/=_0x1cd6a7['z'],this['w']/=_0x1cd6a7['w'],this;}['div2'](_0x305aef,_0x4e2025){return this['x']=_0x305aef['x']/_0x4e2025['x'],this['y']=_0x305aef['y']/_0x4e2025['y'],this['z']=_0x305aef['z']/_0x4e2025['z'],this['w']=_0x305aef['w']/_0x4e2025['w'],this;}['divScalar'](_0x2e83c6){return this['x']/=_0x2e83c6,this['y']/=_0x2e83c6,this['z']/=_0x2e83c6,this['w']/=_0x2e83c6,this;}['dot'](_0x37c3cc){return this['x']*_0x37c3cc['x']+this['y']*_0x37c3cc['y']+this['z']*_0x37c3cc['z']+this['w']*_0x37c3cc['w'];}['equals'](_0x49bf1f){return this['x']===_0x49bf1f['x']&&this['y']===_0x49bf1f['y']&&this['z']===_0x49bf1f['z']&&this['w']===_0x49bf1f['w'];}['equalsAppr'+'ox'](_0x583ca0,_0x52c7df=-0x210c+0x2*0x896+0x1fc*0x8+0.000001){return Math['abs'](this['x']-_0x583ca0['x'])<_0x52c7df&&Math['abs'](this['y']-_0x583ca0['y'])<_0x52c7df&&Math['abs'](this['z']-_0x583ca0['z'])<_0x52c7df&&Math['abs'](this['w']-_0x583ca0['w'])<_0x52c7df;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0xff9e02,_0x5a106b,_0x294047){return this['x']=_0xff9e02['x']+_0x294047*(_0x5a106b['x']-_0xff9e02['x']),this['y']=_0xff9e02['y']+_0x294047*(_0x5a106b['y']-_0xff9e02['y']),this['z']=_0xff9e02['z']+_0x294047*(_0x5a106b['z']-_0xff9e02['z']),this['w']=_0xff9e02['w']+_0x294047*(_0x5a106b['w']-_0xff9e02['w']),this;}['mul'](_0x2d81de){return this['x']*=_0x2d81de['x'],this['y']*=_0x2d81de['y'],this['z']*=_0x2d81de['z'],this['w']*=_0x2d81de['w'],this;}['mul2'](_0x4c17ee,_0x420a10){return this['x']=_0x4c17ee['x']*_0x420a10['x'],this['y']=_0x4c17ee['y']*_0x420a10['y'],this['z']=_0x4c17ee['z']*_0x420a10['z'],this['w']=_0x4c17ee['w']*_0x420a10['w'],this;}['mulScalar'](_0x345e88){return this['x']*=_0x345e88,this['y']*=_0x345e88,this['z']*=_0x345e88,this['w']*=_0x345e88,this;}['normalize'](_0x43f29b=this){const _0x7c1aba=_0x43f29b['x']*_0x43f29b['x']+_0x43f29b['y']*_0x43f29b['y']+_0x43f29b['z']*_0x43f29b['z']+_0x43f29b['w']*_0x43f29b['w'];if(_0x7c1aba>-0x1e31+0x74+0x1dbd){const _0x13aae9=(0xe3*0x1f+0x48f*-0x4+-0x940)/Math['sqrt'](_0x7c1aba);this['x']=_0x43f29b['x']*_0x13aae9,this['y']=_0x43f29b['y']*_0x13aae9,this['z']=_0x43f29b['z']*_0x13aae9,this['w']=_0x43f29b['w']*_0x13aae9;}return this;}['floor'](_0x22dbec=this){return this['x']=Math['floor'](_0x22dbec['x']),this['y']=Math['floor'](_0x22dbec['y']),this['z']=Math['floor'](_0x22dbec['z']),this['w']=Math['floor'](_0x22dbec['w']),this;}['ceil'](_0x158a94=this){return this['x']=Math['ceil'](_0x158a94['x']),this['y']=Math['ceil'](_0x158a94['y']),this['z']=Math['ceil'](_0x158a94['z']),this['w']=Math['ceil'](_0x158a94['w']),this;}['round'](_0xe919b1=this){return this['x']=Math['round'](_0xe919b1['x']),this['y']=Math['round'](_0xe919b1['y']),this['z']=Math['round'](_0xe919b1['z']),this['w']=Math['round'](_0xe919b1['w']),this;}['min'](_0x45ced2){return _0x45ced2['x']<this['x']&&(this['x']=_0x45ced2['x']),_0x45ced2['y']<this['y']&&(this['y']=_0x45ced2['y']),_0x45ced2['z']<this['z']&&(this['z']=_0x45ced2['z']),_0x45ced2['w']<this['w']&&(this['w']=_0x45ced2['w']),this;}['max'](_0x29ac72){return _0x29ac72['x']>this['x']&&(this['x']=_0x29ac72['x']),_0x29ac72['y']>this['y']&&(this['y']=_0x29ac72['y']),_0x29ac72['z']>this['z']&&(this['z']=_0x29ac72['z']),_0x29ac72['w']>this['w']&&(this['w']=_0x29ac72['w']),this;}['set'](_0xd0f9ef,_0xcee3ea,_0x366691,_0x58a59a){return this['x']=_0xd0f9ef,this['y']=_0xcee3ea,this['z']=_0x366691,this['w']=_0x58a59a,this;}['sub'](_0x4ad4c7){return this['x']-=_0x4ad4c7['x'],this['y']-=_0x4ad4c7['y'],this['z']-=_0x4ad4c7['z'],this['w']-=_0x4ad4c7['w'],this;}['sub2'](_0x22ee4d,_0x4c411a){return this['x']=_0x22ee4d['x']-_0x4c411a['x'],this['y']=_0x22ee4d['y']-_0x4c411a['y'],this['z']=_0x22ee4d['z']-_0x4c411a['z'],this['w']=_0x22ee4d['w']-_0x4c411a['w'],this;}['subScalar'](_0x172621){return this['x']-=_0x172621,this['y']-=_0x172621,this['z']-=_0x172621,this['w']-=_0x172621,this;}['fromArray'](_0x56e083,_0x340890=-0x2a9*-0xc+-0x1a4e*-0x1+0x101*-0x3a){return this['x']=_0x56e083[_0x340890]??this['x'],this['y']=_0x56e083[_0x340890+(0xcbd+0x7*0x3b9+-0x26cb*0x1)]??this['y'],this['z']=_0x56e083[_0x340890+(0x2a2*-0x1+-0x1887+-0xd*-0x217)]??this['z'],this['w']=_0x56e083[_0x340890+(0x16f*0xe+0x7e*-0x3+-0x1295)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x2dd616=[],_0x4bfba2=0x1*0x159d+-0x21c4+0xc27){return _0x2dd616[_0x4bfba2]=this['x'],_0x2dd616[_0x4bfba2+(-0x109*0x1+-0x97f*0x2+-0xa04*-0x2)]=this['y'],_0x2dd616[_0x4bfba2+(0x2*-0x973+0xf*-0x22f+0x23f*0x17)]=this['z'],_0x2dd616[_0x4bfba2+(0x10a4+-0x17e1*-0x1+-0x2882)]=this['w'],_0x2dd616;}};h(pr,'ZERO',Object['freeze'](new pr(0x1*-0xb6c+-0x20ed+0x2c59*0x1,0x4*-0x7f0+0x1c6a+-0x356*-0x1,-0x6d7*-0x2+-0x26b*0xb+-0x1*-0xceb,-0xcc7*-0x1+0x2366+-0x100f*0x3))),h(pr,'HALF',Object['freeze'](new pr(0x82d+-0x2*0xdd2+-0x97*-0x21+0.5,0x14c5+-0x153b+0x76+0.5,0x128e+0x54*-0x2a+0x2*-0x263+0.5,0x1ad9*0x1+0x1*0x1ffb+-0xa*0x5e2+0.5))),h(pr,'ONE',Object['freeze'](new pr(0x7*0x33d+-0x59*-0x65+-0x39c7,-0xcf1+-0x1*0xd83+-0x1a75*-0x1,0x405+0x6*0x67+-0x66e,-0xd57*0x1+-0xe1b*-0x2+-0xede)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x9fd+0x13*-0x175+0x2e*0xd2)),this['data'][0x19a6+-0x3*0x116+-0x1664]=this['data'][-0x1b41*0x1+0x1*-0x11b5+0x7*0x66d]=this['data'][0xd57+0xb44+-0x1891]=this['data'][0x16*-0x116+0xb03*-0x1+0x22f6]=0x99f*-0x3+-0x237d+-0x19*-0x293;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x1139a8,_0x2f9a5d,_0x7588a6,_0x5ecdfe,_0x532dae){_0x532dae?(_0x1139a8['x']=_0x5ecdfe*Math['tan'](_0x2f9a5d*Math['PI']/(-0x3*-0x4f8+-0x152d+0x7ad)),_0x1139a8['y']=_0x1139a8['x']/_0x7588a6):(_0x1139a8['y']=_0x5ecdfe*Math['tan'](_0x2f9a5d*Math['PI']/(-0x8*0x1eb+0x219f+-0x1*0x10df)),_0x1139a8['x']=_0x1139a8['y']*_0x7588a6);}['add2'](_0x4d1f9b,_0x4197ee){const _0x239df2=_0x4d1f9b['data'],_0x2cb8cc=_0x4197ee['data'],_0x16ef32=this['data'];return _0x16ef32[0x1*0x36d+-0x2615+0x22a8]=_0x239df2[0x252a+0x8*-0x184+-0x190a]+_0x2cb8cc[-0x1f85+0x1af4+0xa7*0x7],_0x16ef32[-0x1*0x1e72+0x2608+-0x795]=_0x239df2[-0x11fa+0x2006+-0xe0b]+_0x2cb8cc[-0x4*-0x147+-0x3*0x26b+0x226],_0x16ef32[0x1*0xb0a+0xde*0x2+0x4*-0x331]=_0x239df2[-0x61f+0x1515+-0x15c*0xb]+_0x2cb8cc[-0x60a+-0x1*-0xedb+-0x8cf],_0x16ef32[-0x13e4+0x1b2+0x1235]=_0x239df2[0x4*0x3ff+0x3ca+-0x13c3*0x1]+_0x2cb8cc[-0x1a4c+0x6a1*-0x1+0x20f0],_0x16ef32[-0xf33+0x1330+-0x3f9]=_0x239df2[-0x13*0x8d+-0x6ef+-0x1*-0x116a]+_0x2cb8cc[-0x1a17+-0x1*0x127+0x1b42],_0x16ef32[0x4d1*-0x1+0x459+0x1*0x7d]=_0x239df2[0x1e20+0x2527+0x2*-0x21a1]+_0x2cb8cc[0xa*-0x305+0x15*-0x103+0x3376],_0x16ef32[-0x1a2a+-0x24fc+0x3f2c]=_0x239df2[0x155c*0x1+0x90*-0x2f+0x51a]+_0x2cb8cc[0x1aef+0x2c3*0xd+-0x3ed0],_0x16ef32[-0xc3*0x18+-0x2*0xf5c+0x3107]=_0x239df2[-0x1b7a+-0x129c+-0x3*-0xf5f]+_0x2cb8cc[-0x6ff+0x2b3+0x453],_0x16ef32[0x89c+-0x3b2+0x19*-0x32]=_0x239df2[0x1f49*0x1+-0x2609*-0x1+-0x454a]+_0x2cb8cc[0x1013*0x1+-0xf39+-0xf*0xe],_0x16ef32[-0xd1a+-0x2*0xa13+0x2149]=_0x239df2[-0x13*-0x1+-0xde4+0xdda]+_0x2cb8cc[0x16ed+0x1adf+0x1*-0x31c3],_0x16ef32[-0x3ae+0xe91+-0x1*0xad9]=_0x239df2[-0x211c*-0x1+0x1f81+-0x4093*0x1]+_0x2cb8cc[-0x7*0x4d0+-0x2234+0x43ee*0x1],_0x16ef32[-0x136d*-0x1+-0x491+-0xed1]=_0x239df2[0x1*-0x20b+0x919+-0x5*0x167]+_0x2cb8cc[0xe8b+0xa22*-0x3+0xfe6],_0x16ef32[-0x1b7a+-0x1fdc+-0xb*-0x566]=_0x239df2[0x455*-0x5+-0x1e1*-0xb+0x10a]+_0x2cb8cc[0x6bf*-0x1+-0x751+-0x2*-0x70e],_0x16ef32[-0x1243+-0x191d+0x2b6d]=_0x239df2[-0x2544+-0x1fd1*0x1+0x1*0x4522]+_0x2cb8cc[-0x1d14+-0x2*0x5a4+0x2869],_0x16ef32[-0x3*0x57d+0x2584+-0x14ff]=_0x239df2[0x7e6+0x5a*0x6b+-0x17*0x1fa]+_0x2cb8cc[-0x1b1*-0x8+0x26fb+-0x3475*0x1],_0x16ef32[-0x1680+0x1*-0x19ce+0x3*0x101f]=_0x239df2[0x6ad*0x1+-0xcec+-0x21a*-0x3]+_0x2cb8cc[0x1*0x24f5+-0x1*0x15b0+-0x6*0x289],this;}['add'](_0x354032){return this['add2'](this,_0x354032);}['clone'](){const _0xaf81ef=this['constructo'+'r'];return new _0xaf81ef()['copy'](this);}['copy'](_0x365a88){const _0x5e2384=_0x365a88['data'],_0xb6c720=this['data'];return _0xb6c720[0x1b*-0x54+-0x5*0x5ae+0x26*0xfb]=_0x5e2384[0x1609+0x1f98+-0x35a1],_0xb6c720[-0x13dc+0x2143*-0x1+0x1*0x3520]=_0x5e2384[-0x7*-0x219+-0x1*0x17ae+0xc0*0xc],_0xb6c720[0xb02*0x3+-0x1a2e+-0x6d6]=_0x5e2384[0x2349+-0x1f33+-0x414],_0xb6c720[0x1012+-0xa88+-0x587]=_0x5e2384[-0x1e00+-0x3b8+0x311*0xb],_0xb6c720[-0x8e0+0x142e*0x1+-0xb4a]=_0x5e2384[0x4f*0x2f+-0x14df+0x56*0x13],_0xb6c720[0x3ad*0x3+0x1*-0x17a6+-0x652*-0x2]=_0x5e2384[0x2408+-0x105d+-0x1f7*0xa],_0xb6c720[0x21*-0x3b+-0x62*0x23+0x1507]=_0x5e2384[0x1440+0x18ee+-0x2d28],_0xb6c720[0x1f8f+-0x198*-0x5+-0x2780]=_0x5e2384[-0x13e3+0x133d*-0x1+-0xd0d*-0x3],_0xb6c720[-0x2695+-0x1*-0xfb+0x25a2]=_0x5e2384[0x230a+0x10a3+-0xd*0x3f9],_0xb6c720[0x17*0x7a+0x2*-0x1030+-0x1573*-0x1]=_0x5e2384[-0x21*0x12e+-0x16b+0x2862],_0xb6c720[0x1f25+0x1edc+0x3df7*-0x1]=_0x5e2384[-0xb1*0x23+0x2*-0xaad+0x2d97],_0xb6c720[-0x83d+0x24a1+-0x1c59]=_0x5e2384[-0x10bd*-0x1+0x2da*0x5+0x1*-0x1ef4],_0xb6c720[-0xdd5*-0x2+0x1954+-0x34f2]=_0x5e2384[0x13b7+-0x70c+-0xc9f],_0xb6c720[-0x1*-0x946+0x15d7+-0x470*0x7]=_0x5e2384[-0x1*-0x24fb+0x99+-0x2587],_0xb6c720[0x16bb+0x9*-0x1c+0x3*-0x73b]=_0x5e2384[-0x1a0e+0x1a91*-0x1+0x34ad],_0xb6c720[0x2096+-0x1da+0x1ead*-0x1]=_0x5e2384[0x1ded+-0x1*-0x2267+-0x4045],this;}['equals'](_0x2f6e5c){const _0x30ae13=this['data'],_0x20b461=_0x2f6e5c['data'];return _0x30ae13[-0x719+0x1347+0xc2e*-0x1]===_0x20b461[-0x1e44+0x1efb+-0xb7]&&_0x30ae13[0xd5*-0xb+0xc19*-0x2+0x215a]===_0x20b461[0x1*0x1a93+-0x79d+-0x12f5]&&_0x30ae13[-0x5*-0x2a9+-0x246c+0x1721*0x1]===_0x20b461[-0x632+0xd3a+-0x706]&&_0x30ae13[0x4fd*0x1+-0x10b6+0xbbc*0x1]===_0x20b461[-0x17db+-0xb*0x2ab+0x39*0xef]&&_0x30ae13[-0x133b+-0x7*-0x95+0xf2c*0x1]===_0x20b461[-0xc5c+0x1910+-0xcb0]&&_0x30ae13[-0x1*0x94d+-0x1d9f+0x26f1]===_0x20b461[-0x1a90+-0x32a+-0x5*-0x5f3]&&_0x30ae13[-0x943*-0x3+-0x2*-0x8f3+0x1*-0x2da9]===_0x20b461[-0x5*-0x16f+-0x1e1a*0x1+0x3*0x7a7]&&_0x30ae13[0x8d0+-0x11*-0x14d+-0x1ee6]===_0x20b461[-0x1020+0x20e8+-0x10c1]&&_0x30ae13[-0x1596+0x1f28+0xb*-0xde]===_0x20b461[-0xd*-0x49+-0x1*-0x23e6+0x399*-0xb]&&_0x30ae13[-0x59+-0x2e*0x7f+0x1734]===_0x20b461[0x163+0x427+0x1*-0x581]&&_0x30ae13[0x1e7b+-0x352*0x2+0x7ef*-0x3]===_0x20b461[-0x1fc3+-0x39+0x1*0x2006]&&_0x30ae13[0xa3*-0x11+0x1*-0x1655+-0xb11*-0x3]===_0x20b461[-0x18d9+0xd44+0xba0]&&_0x30ae13[-0x6*0x567+-0x1*0xfe9+0x305f]===_0x20b461[0x3a*-0x38+-0xd*0xb2+0x15c6]&&_0x30ae13[0x3*-0x84+-0x2*0x1093+-0x5*-0x6f3]===_0x20b461[0x1*0x170a+-0x3b1*-0x9+-0x1*0x3836]&&_0x30ae13[-0x1756*0x1+0x4*-0x8c5+0x3a78]===_0x20b461[0x15d*-0x17+-0x40c+-0x1d*-0x139]&&_0x30ae13[-0x50b+0x66d+-0x153]===_0x20b461[-0xe*-0x197+-0x241f+0x12*0xc6];}['isIdentity'](){const _0x40fb99=this['data'];return _0x40fb99[-0xfb*0x11+-0x1fc3+0x306e]===0x19d6*0x1+-0x21cb+-0x3fb*-0x2&&_0x40fb99[-0x6b2+0x7cf*0x3+0x1*-0x10ba]===-0x1*0x1091+0x2301+-0x8*0x24e&&_0x40fb99[-0x6b7+0x61*-0x4d+0xa*0x397]===0x1f9a+-0xbe+0x2*-0xf6e&&_0x40fb99[0x91a*0x1+-0x100f*0x1+0x6f8]===0x2*-0x970+-0x1*0x26dd+-0x133f*-0x3&&_0x40fb99[0x1*-0x1c81+0x3*-0x313+-0x2*-0x12df]===0x4d5*0x1+0x1*0x144b+-0x1920&&_0x40fb99[0x1*0xc85+-0x19ad+0xd2d]===-0x1823+0x1ba+-0x1*-0x166a&&_0x40fb99[0x1cd*-0x1+-0x1644+0x1817]===0x1ef9+0xce4+-0x2bdd&&_0x40fb99[-0x1e1e+-0xdc+0x1f01*0x1]===0x20d7+0x5*0x541+-0x3b1c&&_0x40fb99[0x3bc+0xfb*-0x18+0xc*0x1a7]===0x6a3*-0x2+0x13a2+-0x65c&&_0x40fb99[-0x43*0x43+0x48*0x4b+0x386*-0x1]===0x1*-0x1139+-0x1b58+-0x1*-0x2c91&&_0x40fb99[-0x20b1+0x2344+-0x289]===-0xb*0x191+0x2680+0x2*-0xaa2&&_0x40fb99[0xb50*0x3+0x177+-0x11ae*0x2]===0x972+-0x10ff+0x78d&&_0x40fb99[0x13bd+-0x1ae2+0x731]===0x2311+0x1*0x353+-0x444*0x9&&_0x40fb99[0x13e+-0x4*0x5b3+0x1*0x159b]===-0x1*0x264b+-0x100c+0x1*0x3657&&_0x40fb99[0x11e1*0x1+0x1*-0x2135+-0x7b1*-0x2]===0xc8c*-0x1+-0x1*0x20aa+0x2d36&&_0x40fb99[-0xb3a+0x3*-0x55e+0x1b63]===0x154f+0x16f0+-0x2c3e;}['mul2'](_0x3678b5,_0x2c5992){const _0x2a8e6a=_0x3678b5['data'],_0x2e8b52=_0x2c5992['data'],_0x12f99a=this['data'],_0x360a06=_0x2a8e6a[0x1*0x856+-0x1*0x86b+0x15],_0x4e3d2b=_0x2a8e6a[-0x1*0x1e1d+-0x1a*-0xd7+0x848],_0x417048=_0x2a8e6a[0x16*0x122+-0x1b6a+0x28*0x10],_0x1c678d=_0x2a8e6a[0x863*0x2+-0x31b*-0x5+0x2*-0x1025],_0x55269e=_0x2a8e6a[0xf7d+-0x371*0x2+-0x897],_0x15a2f8=_0x2a8e6a[0x6*-0x28+0x1e25+-0x1d30],_0x3597f1=_0x2a8e6a[-0x7c*-0x22+0x15ec+-0x265e],_0x5531a3=_0x2a8e6a[0x1aac+-0x1afa+0x55],_0x543db8=_0x2a8e6a[0x13f*0x1f+-0x637+-0x67a*0x5],_0x57cef3=_0x2a8e6a[0x16*0xb1+-0x25db+0x16ae],_0x5be87a=_0x2a8e6a[0xc0c+0xdc3*-0x2+0x14b*0xc],_0x14fde4=_0x2a8e6a[0x1c1+-0x24ee+0x62*0x5c],_0x12d869=_0x2a8e6a[0x918+0x1*-0x2465+0x1b59],_0x5041d5=_0x2a8e6a[0x2606+-0xa4*0x22+-0x1031],_0x5e40ef=_0x2a8e6a[-0x509*-0x1+0x48*-0x4e+0x10f5*0x1],_0x3dd868=_0x2a8e6a[0x8b*-0x3d+-0x1*-0x15d+0x1fd1];let _0x597e1d,_0x401bc2,_0x5ce1ba,_0x244dba;return _0x597e1d=_0x2e8b52[-0x1df6+-0x3*-0x8e3+-0x1*-0x34d],_0x401bc2=_0x2e8b52[0x1*0x1e2c+-0x712+-0x1719],_0x5ce1ba=_0x2e8b52[0x4cd*-0x1+-0x6*0x1a1+0xe95],_0x244dba=_0x2e8b52[0x16*0xd1+0x1126+0x257*-0xf],_0x12f99a[0xed2+-0x5b*0x29+0x1*-0x3f]=_0x360a06*_0x597e1d+_0x55269e*_0x401bc2+_0x543db8*_0x5ce1ba+_0x12d869*_0x244dba,_0x12f99a[0xf9e+-0x2493+-0xa7b*-0x2]=_0x4e3d2b*_0x597e1d+_0x15a2f8*_0x401bc2+_0x57cef3*_0x5ce1ba+_0x5041d5*_0x244dba,_0x12f99a[0x11a+0x1cd+0x3*-0xf7]=_0x417048*_0x597e1d+_0x3597f1*_0x401bc2+_0x5be87a*_0x5ce1ba+_0x5e40ef*_0x244dba,_0x12f99a[-0x58a+-0x228d+0x281a*0x1]=_0x1c678d*_0x597e1d+_0x5531a3*_0x401bc2+_0x14fde4*_0x5ce1ba+_0x3dd868*_0x244dba,_0x597e1d=_0x2e8b52[0x68*0x2b+0x6e2*0x5+-0x33de],_0x401bc2=_0x2e8b52[-0x1*-0x3d+-0x2c*0xcd+-0x24*-0xf9],_0x5ce1ba=_0x2e8b52[0x3f*-0x6+-0x1a*-0x16a+-0x2344],_0x244dba=_0x2e8b52[-0x719+0xd4b+0x1*-0x62b],_0x12f99a[0x1d*0xc5+-0xc*0x252+0x81*0xb]=_0x360a06*_0x597e1d+_0x55269e*_0x401bc2+_0x543db8*_0x5ce1ba+_0x12d869*_0x244dba,_0x12f99a[0x2350+0x42+-0x238d]=_0x4e3d2b*_0x597e1d+_0x15a2f8*_0x401bc2+_0x57cef3*_0x5ce1ba+_0x5041d5*_0x244dba,_0x12f99a[0x1a2d+0x1dcf+0x1d*-0x1ee]=_0x417048*_0x597e1d+_0x3597f1*_0x401bc2+_0x5be87a*_0x5ce1ba+_0x5e40ef*_0x244dba,_0x12f99a[-0x19f+-0x4e+0x2*0xfa]=_0x1c678d*_0x597e1d+_0x5531a3*_0x401bc2+_0x14fde4*_0x5ce1ba+_0x3dd868*_0x244dba,_0x597e1d=_0x2e8b52[-0x26*-0xa3+-0xb16+-0xd14],_0x401bc2=_0x2e8b52[-0x5b7+-0xb*0x101+0x10cb],_0x5ce1ba=_0x2e8b52[-0x1b7d+-0x288+0x1e0f],_0x244dba=_0x2e8b52[-0x619+-0x122c+0x8*0x30a],_0x12f99a[-0x1*-0x13+0x26*-0x107+0x26ff]=_0x360a06*_0x597e1d+_0x55269e*_0x401bc2+_0x543db8*_0x5ce1ba+_0x12d869*_0x244dba,_0x12f99a[-0x23cd+0x1eb*-0x12+0x465c]=_0x4e3d2b*_0x597e1d+_0x15a2f8*_0x401bc2+_0x57cef3*_0x5ce1ba+_0x5041d5*_0x244dba,_0x12f99a[0xe3*0xe+-0xac*-0x1+-0x1*0xd0c]=_0x417048*_0x597e1d+_0x3597f1*_0x401bc2+_0x5be87a*_0x5ce1ba+_0x5e40ef*_0x244dba,_0x12f99a[-0x49d*-0x1+-0x56*0x61+0x1c04]=_0x1c678d*_0x597e1d+_0x5531a3*_0x401bc2+_0x14fde4*_0x5ce1ba+_0x3dd868*_0x244dba,_0x597e1d=_0x2e8b52[0x699*-0x5+0x1a*0x67+-0x1693*-0x1],_0x401bc2=_0x2e8b52[0x23a4+0x224f*0x1+-0x17*0x30a],_0x5ce1ba=_0x2e8b52[-0x1*0xc0a+0x4*-0x59c+0x2288],_0x244dba=_0x2e8b52[0x6fc*0x3+0x14c4+-0x87*0x4f],_0x12f99a[0x10f*-0xe+0xec7+0x1*0x17]=_0x360a06*_0x597e1d+_0x55269e*_0x401bc2+_0x543db8*_0x5ce1ba+_0x12d869*_0x244dba,_0x12f99a[0x1*-0x1b1e+-0x24bd+0x3fe8]=_0x4e3d2b*_0x597e1d+_0x15a2f8*_0x401bc2+_0x57cef3*_0x5ce1ba+_0x5041d5*_0x244dba,_0x12f99a[-0x471+0xa1a+-0x59b]=_0x417048*_0x597e1d+_0x3597f1*_0x401bc2+_0x5be87a*_0x5ce1ba+_0x5e40ef*_0x244dba,_0x12f99a[-0x1f6e+-0x1*-0x2379+-0x3fc]=_0x1c678d*_0x597e1d+_0x5531a3*_0x401bc2+_0x14fde4*_0x5ce1ba+_0x3dd868*_0x244dba,this;}['mulAffine2'](_0x29f1b2,_0x151c48){const _0x32d60f=_0x29f1b2['data'],_0x53c4f2=_0x151c48['data'],_0xbfcfac=this['data'],_0x3d1ea4=_0x32d60f[-0x4d6+-0xc47*0x3+-0x1*-0x29ab],_0xf5e8ac=_0x32d60f[0x9d0+0x3*-0xbbd+0x8*0x32d],_0x588539=_0x32d60f[-0xd9*-0x23+0x1d98+0x877*-0x7],_0x52130e=_0x32d60f[0x26b+-0x1766+-0x5*-0x433],_0x200547=_0x32d60f[-0x12ae+-0x5*-0x624+-0xc01],_0x466598=_0x32d60f[0x1eb6+-0x2*-0xaee+-0x348c],_0x430531=_0x32d60f[-0x5*-0x435+-0x563+-0xf9e],_0x4d873e=_0x32d60f[0x2*0xa07+-0x39*0xaf+-0x2*-0x979],_0x7f09da=_0x32d60f[0x2256+0x1*-0x1c8f+-0x5bd],_0x1842d1=_0x32d60f[0x72a*-0x2+0x39*0x54+-0x454],_0x3121ff=_0x32d60f[0x2283+-0x3*-0x36e+-0x2cc0],_0x30c7ef=_0x32d60f[0xb6f*0x3+-0x1871+-0x9ce];let _0x3cc97a,_0x16e91c,_0x196bc3;return _0x3cc97a=_0x53c4f2[-0x2204+0x4*0x93a+-0x2e4],_0x16e91c=_0x53c4f2[0x3*-0x99+-0x2*-0x1066+0xf80*-0x2],_0x196bc3=_0x53c4f2[0x192f+-0x1*0x1fd2+0x237*0x3],_0xbfcfac[0x19d*0x1+-0x8bf*-0x2+0x49*-0x43]=_0x3d1ea4*_0x3cc97a+_0x52130e*_0x16e91c+_0x430531*_0x196bc3,_0xbfcfac[0x2627+-0x1b7+0x246f*-0x1]=_0xf5e8ac*_0x3cc97a+_0x200547*_0x16e91c+_0x4d873e*_0x196bc3,_0xbfcfac[-0x12a3*0x2+-0x20e7*0x1+0x462f]=_0x588539*_0x3cc97a+_0x466598*_0x16e91c+_0x7f09da*_0x196bc3,_0xbfcfac[-0x1*0x435+-0x250f+-0x1*-0x2947]=0x1c13+0x1*0x2135+-0x3d48,_0x3cc97a=_0x53c4f2[0x1dd7+0x7ef*0x1+-0x25c2],_0x16e91c=_0x53c4f2[-0xbf0+-0x5b5*-0x2+0x8b],_0x196bc3=_0x53c4f2[-0x9e*-0xa+0x9*0x1de+-0x1*0x16f4],_0xbfcfac[0x20f+-0x1*-0x20d7+-0x1*0x22e2]=_0x3d1ea4*_0x3cc97a+_0x52130e*_0x16e91c+_0x430531*_0x196bc3,_0xbfcfac[-0x20fb+0x22ba+-0x1*0x1ba]=_0xf5e8ac*_0x3cc97a+_0x200547*_0x16e91c+_0x4d873e*_0x196bc3,_0xbfcfac[0x1*0xc82+0x162+-0xdde]=_0x588539*_0x3cc97a+_0x466598*_0x16e91c+_0x7f09da*_0x196bc3,_0xbfcfac[0xab*-0x2d+-0x1bb7+0x39cd*0x1]=-0x1baa*-0x1+-0xb2*0xb+-0x7*0x2dc,_0x3cc97a=_0x53c4f2[0x174c+0x19*0x123+0x65*-0x83],_0x16e91c=_0x53c4f2[0x4*-0x797+0x262+0x65*0x47],_0x196bc3=_0x53c4f2[-0x3e9+-0x1bb6+0x1fa9],_0xbfcfac[0x1*0x397+-0x353+-0x14*0x3]=_0x3d1ea4*_0x3cc97a+_0x52130e*_0x16e91c+_0x430531*_0x196bc3,_0xbfcfac[-0x99b*0x2+-0x11e9+0x2528]=_0xf5e8ac*_0x3cc97a+_0x200547*_0x16e91c+_0x4d873e*_0x196bc3,_0xbfcfac[-0x25f8+-0x8dc*-0x4+0x292]=_0x588539*_0x3cc97a+_0x466598*_0x16e91c+_0x7f09da*_0x196bc3,_0xbfcfac[0x1195+0xf3+0x1*-0x127d]=0x2249+0x3*-0x455+-0x154a,_0x3cc97a=_0x53c4f2[0x1a1c*0x1+-0xaa1+-0x9*0x1b7],_0x16e91c=_0x53c4f2[0x127*-0x19+0xd6f*0x1+-0xb*-0x167],_0x196bc3=_0x53c4f2[0xbc2+0x5de*-0x1+-0x5d6],_0xbfcfac[-0x1*0x17e9+-0x3*0xacb+0x3856]=_0x3d1ea4*_0x3cc97a+_0x52130e*_0x16e91c+_0x430531*_0x196bc3+_0x1842d1,_0xbfcfac[0x79+0x1b99+-0x1c05]=_0xf5e8ac*_0x3cc97a+_0x200547*_0x16e91c+_0x4d873e*_0x196bc3+_0x3121ff,_0xbfcfac[-0x1*-0xde7+-0x2*-0x4c1+-0x175b]=_0x588539*_0x3cc97a+_0x466598*_0x16e91c+_0x7f09da*_0x196bc3+_0x30c7ef,_0xbfcfac[0x49d*-0x6+0x23*-0x4f+0x2*0x1345]=0x15de+0xa6+0x781*-0x3,this;}['mul'](_0x21b0cd){return this['mul2'](this,_0x21b0cd);}['transformP'+'oint'](_0x5767a8,_0x516203=new D()){const _0x1145d9=this['data'],{x:_0x18976a,y:_0x24b853,z:_0x4be6fa}=_0x5767a8;return _0x516203['x']=_0x18976a*_0x1145d9[0x1c03*-0x1+0x3e5+-0x12*-0x157]+_0x24b853*_0x1145d9[-0x9b4+0xdd*-0x13+0x1a1f]+_0x4be6fa*_0x1145d9[0x2428+-0x1183*0x2+-0x8d*0x2]+_0x1145d9[-0x1f43+-0x7*0x199+0x2a7e],_0x516203['y']=_0x18976a*_0x1145d9[0xc6+-0x1a47+-0xa*-0x28d]+_0x24b853*_0x1145d9[-0x19a6+0x2077*-0x1+0x1*0x3a22]+_0x4be6fa*_0x1145d9[-0x1c82+0x15ce+0x6bd*0x1]+_0x1145d9[0x56d+-0x5*-0x3b3+0x2a7*-0x9],_0x516203['z']=_0x18976a*_0x1145d9[0x2*-0xade+-0xc*-0xfe+0x9d6]+_0x24b853*_0x1145d9[-0x177*-0x8+0x171*-0x9+-0x3*-0x6d]+_0x4be6fa*_0x1145d9[0xc*-0x12+0x3*-0x457+0xde7*0x1]+_0x1145d9[0x1*0x188+0x270d+0x7d*-0x53],_0x516203;}['transformV'+'ector'](_0x147b71,_0x40e9dd=new D()){const _0x3df885=this['data'],{x:_0x29dbad,y:_0x13253d,z:_0x5daa3f}=_0x147b71;return _0x40e9dd['x']=_0x29dbad*_0x3df885[-0x1*-0x2e7+-0x226c+0x1f85]+_0x13253d*_0x3df885[0x757+0x5c*0x61+-0x2a2f]+_0x5daa3f*_0x3df885[-0x11e5+0x1*0x1e16+-0xc29],_0x40e9dd['y']=_0x29dbad*_0x3df885[0x361*-0x2+-0x755*-0x1+0x49*-0x2]+_0x13253d*_0x3df885[0x10b3+0x17*0x15d+0x1003*-0x3]+_0x5daa3f*_0x3df885[-0x577*0x1+-0xd52+0x12d2],_0x40e9dd['z']=_0x29dbad*_0x3df885[0x1496+-0xbbe+-0x8d6]+_0x13253d*_0x3df885[0x1ee7+-0x1b0+-0x1d31]+_0x5daa3f*_0x3df885[0x321*0x7+-0x1adf*0x1+-0x502*-0x1],_0x40e9dd;}['transformV'+'ec4'](_0x2f58e6,_0x20e6f0=new re()){const _0x19a23c=this['data'],{x:_0x2f84e7,y:_0x178618,z:_0x17c50f,w:_0x399678}=_0x2f58e6;return _0x20e6f0['x']=_0x2f84e7*_0x19a23c[-0x77f+0x5a*0x66+-0x1c5d]+_0x178618*_0x19a23c[0x4bd+-0xe48+0x98f]+_0x17c50f*_0x19a23c[-0x1*0xf8d+-0x1*-0xdf+-0x75b*-0x2]+_0x399678*_0x19a23c[0x33*0xad+-0x235f+0x2*0x7a],_0x20e6f0['y']=_0x2f84e7*_0x19a23c[-0x45*0x17+0xb*0x279+-0x7d*0x2b]+_0x178618*_0x19a23c[-0xa72+-0x1*0x2565+-0xbf7*-0x4]+_0x17c50f*_0x19a23c[0x1*-0x219+-0x156*0x6+-0x2*-0x513]+_0x399678*_0x19a23c[-0x787*-0x1+-0x13*0xf+-0x65d],_0x20e6f0['z']=_0x2f84e7*_0x19a23c[-0xfa6+0x17da+-0x832]+_0x178618*_0x19a23c[0x9*-0x35b+0x1aac+0x38d]+_0x17c50f*_0x19a23c[0x5*0x493+0x6af*0x1+-0x1*0x1d84]+_0x399678*_0x19a23c[-0x1*-0xd87+-0x57*0x1c+-0x3f5],_0x20e6f0['w']=_0x2f84e7*_0x19a23c[0x2*0x47c+-0x1*-0x207d+0x14b9*-0x2]+_0x178618*_0x19a23c[0x4eb+-0x1eb6*-0x1+-0x239a]+_0x17c50f*_0x19a23c[-0x423*0x6+-0xc5d+0x772*0x5]+_0x399678*_0x19a23c[-0x227+0x1f*-0x13e+-0x28b8*-0x1],_0x20e6f0;}['setLookAt'](_0x41fae3,_0x2bfcae,_0x5e2408){ei['sub2'](_0x41fae3,_0x2bfcae)['normalize'](),Js['copy'](_0x5e2408)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x56a3f2=this['data'];return _0x56a3f2[-0x5*-0x738+-0xeda*0x1+-0x2*0xa9f]=Os['x'],_0x56a3f2[0x770*-0x2+-0x1102+0x1fe3]=Os['y'],_0x56a3f2[-0x2*0xa27+-0x2*0x92+0x55d*0x4]=Os['z'],_0x56a3f2[0xae*0x1f+-0x1667+-0x4*-0x56]=-0x14*-0x89+-0x103e+0x58a,_0x56a3f2[-0x38d*-0xa+0x33*0x81+-0x1*0x3d31]=Js['x'],_0x56a3f2[0x70*0x12+0xf2b+-0x1706]=Js['y'],_0x56a3f2[-0x20ee+0x9*-0x392+0x4116]=Js['z'],_0x56a3f2[-0x169*-0x7+-0xa*-0x158+0x12a*-0x14]=0x8b*0x2+0x1aed+-0x1c03,_0x56a3f2[0x2337+-0x223c+-0x3*0x51]=ei['x'],_0x56a3f2[0x1721*0x1+-0x2cc*-0x3+-0x1f7c]=ei['y'],_0x56a3f2[0xd*0x6e+-0x1*-0x407+-0x13*0x81]=ei['z'],_0x56a3f2[0xe16+-0x1d93+-0xf88*-0x1]=-0x484+-0x540+0x64*0x19,_0x56a3f2[-0x2*-0x757+0x2592+-0x2*0x1a1a]=_0x41fae3['x'],_0x56a3f2[-0x1*0x18be+-0x159*0x3+0x1cd6]=_0x41fae3['y'],_0x56a3f2[0x73*0x55+-0x1*0x34c+-0x22d5]=_0x41fae3['z'],_0x56a3f2[0x1*0xd6d+0x1*0x13b8+-0x2116]=0x1041+0x269b+-0x1*0x36db,this;}['setFrustum'](_0x350207,_0xf72e43,_0x1cf178,_0xced93c,_0x5e90ed,_0x266b30){const _0x7af5cf=(-0x1edc+-0xcfb*-0x3+-0x813)*_0x5e90ed,_0x509bd6=_0xf72e43-_0x350207,_0x3cca54=_0xced93c-_0x1cf178,_0x1c57c9=_0x266b30-_0x5e90ed,_0x275bc0=this['data'];return _0x275bc0[-0x20b4+-0x1d0c+0x3dc0]=_0x7af5cf/_0x509bd6,_0x275bc0[0x4b9*-0x7+-0x24b7+-0x45c7*-0x1]=0x6b*-0x6+0xd6b+-0x18f*0x7,_0x275bc0[-0x1*0x4ea+0x1*-0x89a+-0x241*-0x6]=0xa7c+0xdd4+0x4*-0x614,_0x275bc0[0x266d+-0x497+-0x21d3]=0x530+-0x1359+0x91*0x19,_0x275bc0[-0x1a8a+-0x2541+-0x1545*-0x3]=-0x176e*0x1+0x2*-0xfd1+0x2*0x1b88,_0x275bc0[-0x1a02+-0x1*-0xdfb+0x1*0xc0c]=_0x7af5cf/_0x3cca54,_0x275bc0[-0x10d*0xb+0xcdd+-0x148]=0x8c1+0x1*-0x224b+0x7*0x3a6,_0x275bc0[-0x435*0x9+0x89f+0x1d45]=-0x1*-0xec9+-0x5*0x1f3+-0x50a,_0x275bc0[-0x5bc+0x1*0x142f+-0xe6b]=(_0xf72e43+_0x350207)/_0x509bd6,_0x275bc0[0x2529+-0x230b*-0x1+-0x482b]=(_0xced93c+_0x1cf178)/_0x3cca54,_0x275bc0[0x2a4+0x19cf+-0x1c69*0x1]=(-_0x266b30-_0x5e90ed)/_0x1c57c9,_0x275bc0[-0x16e1+0x13*-0x7+0x1771]=-(-0x1f58+-0xf45+-0xd*-0x396),_0x275bc0[-0xc61*0x2+0x6b*-0x41+0x33f9]=0x73e+-0x19d2+0x2*0x94a,_0x275bc0[0x1*0x15dd+-0x1*0x1bc+0x505*-0x4]=0x2*-0x715+-0x1*0x1e46+-0x2c70*-0x1,_0x275bc0[0xe6*0x2+0x2ed+-0x4ab]=-_0x7af5cf*_0x266b30/_0x1c57c9,_0x275bc0[-0x5*0x329+-0x43a+-0xa0b*-0x2]=0x480+0x1*0x22d9+0x59f*-0x7,this;}['setPerspec'+'tive'](_0x44a2b4,_0x36fd89,_0x575d48,_0x51893a,_0x4f4dbb){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x44a2b4,_0x36fd89,_0x575d48,_0x4f4dbb),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x575d48,_0x51893a);}['setOrtho'](_0x37cb50,_0x4dcce8,_0x4d2461,_0x11d5a0,_0x484603,_0x4f3e63){const _0x556756=this['data'];return _0x556756[-0xf*0x169+0xa4a*0x1+0xadd]=(0x25d*0x1+0xa0c+-0x19*0x7f)/(_0x4dcce8-_0x37cb50),_0x556756[-0x4*-0x47f+0x16*-0x141+0x1*0x99b]=0x1*0x55a+-0x1857+-0x12fd*-0x1,_0x556756[-0x1*-0x2e8+0x23d7+-0x26bd]=0x7f*0x49+0x1201+0x8*-0x6c7,_0x556756[-0x94f*-0x3+-0x1c6+-0x1a24]=0x6*0x601+-0x1*-0x8e4+-0x2*0x1675,_0x556756[-0x1ac6+0x2b*-0x46+0x1346*0x2]=-0x9e*-0x37+0x1f25+-0x4117*0x1,_0x556756[0x60a+0x8d4+0xed9*-0x1]=(0x182f+-0xa2c+-0xe01)/(_0x11d5a0-_0x4d2461),_0x556756[-0x951*-0x3+-0x1d87+0x19a]=0x1*-0x19fd+0x8e*0x2f+-0x7*0x3,_0x556756[0x45*0x1e+0x77*-0x1+-0x1b*0x48]=-0x1fe7*-0x1+0x16c1+-0x42*0xd4,_0x556756[-0x60c+0x34*0x3+0xaf*0x8]=-0x2af+-0xff5+0x12a4*0x1,_0x556756[0x2703+0x1d3e+-0x4438]=0x139+0x3*-0x23b+0x578,_0x556756[-0x132d*-0x1+0x9f5*-0x2+-0xc7*-0x1]=-(-0x11c*0x17+-0x2445+0x3dcb)/(_0x4f3e63-_0x484603),_0x556756[-0x1*0x9cd+-0x1cf8+0x26d0]=-0x1185+0x2*0xf10+-0xc9b,_0x556756[-0x6fc+-0xffa*0x2+0x26fc]=-(_0x4dcce8+_0x37cb50)/(_0x4dcce8-_0x37cb50),_0x556756[0x57c+-0x31*0x1b+-0x44]=-(_0x11d5a0+_0x4d2461)/(_0x11d5a0-_0x4d2461),_0x556756[-0x199b+-0x1*0xb62+0x250b]=-(_0x4f3e63+_0x484603)/(_0x4f3e63-_0x484603),_0x556756[0xfc0+0x55*0x61+-0x17f3*0x2]=-0x2d3+0x368*0x2+0x55*-0xc,this;}['setFromAxi'+'sAngle'](_0x4671f2,_0x3710cf){_0x3710cf*=Y['DEG_TO_RAD'];const {x:_0x2aec54,y:_0x31ee0d,z:_0x9bd5b5}=_0x4671f2,_0x47b8a0=Math['cos'](_0x3710cf),_0x3ef880=Math['sin'](_0x3710cf),_0x183d91=-0x7f*0x22+-0x167f+0x275e-_0x47b8a0,_0x50bbec=_0x183d91*_0x2aec54,_0x1f4f85=_0x183d91*_0x31ee0d,_0x1ae4f3=this['data'];return _0x1ae4f3[-0x2*-0xdf6+0x2578+0x5*-0xd14]=_0x50bbec*_0x2aec54+_0x47b8a0,_0x1ae4f3[0x1*0x253+0x3*0x285+-0x1*0x9e1]=_0x50bbec*_0x31ee0d+_0x3ef880*_0x9bd5b5,_0x1ae4f3[-0x949*0x4+-0x350+0x2*0x143b]=_0x50bbec*_0x9bd5b5-_0x3ef880*_0x31ee0d,_0x1ae4f3[0x13ad+0x1*-0x41b+0x1*-0xf8f]=-0x1cab+0x2*-0x91f+0x2ee9,_0x1ae4f3[-0x2085+-0x5*0x676+0x1*0x40d7]=_0x50bbec*_0x31ee0d-_0x3ef880*_0x9bd5b5,_0x1ae4f3[0x1b65+0x21b5+-0x3d15]=_0x1f4f85*_0x31ee0d+_0x47b8a0,_0x1ae4f3[-0xa1d+-0x90e+0x11*0x121]=_0x1f4f85*_0x9bd5b5+_0x3ef880*_0x2aec54,_0x1ae4f3[-0x16b7+0x8*-0xa4+0x1bde]=0x133*0x1+0x1ce*0xd+-0x1*0x18a9,_0x1ae4f3[-0x197e+0x1*-0x64d+0x1fd3]=_0x50bbec*_0x9bd5b5+_0x3ef880*_0x31ee0d,_0x1ae4f3[-0x59*-0x5f+-0x25df+0x4e1]=_0x1f4f85*_0x9bd5b5-_0x2aec54*_0x3ef880,_0x1ae4f3[0x276+-0x1eef+0x1c83]=_0x183d91*_0x9bd5b5*_0x9bd5b5+_0x47b8a0,_0x1ae4f3[-0x2c*-0xd5+0x2ee+0x277f*-0x1]=-0x2*-0x2c6+0xf8f*-0x1+0xa03,_0x1ae4f3[-0xaae+0x8f6+0x2*0xe2]=0xfb3+-0x5*0x45a+0x60f,_0x1ae4f3[-0x1a99+0xb84*-0x2+0x31ae]=0x44*-0x92+0x1e97*-0x1+0x7*0x9e9,_0x1ae4f3[-0x13*0xd1+0x142d*0x1+-0x49c]=0x20f3+-0xb*0x308+0x65*0x1,_0x1ae4f3[0x1*-0xd4a+-0xad3+0x182c]=0x14d5+0x5fb*-0x1+-0xed9,this;}['setTransla'+'te'](_0xccb83e,_0xca58d3,_0x574547){const _0x1a6c4f=this['data'];return _0x1a6c4f[-0x23b6+-0x19*0x3a+-0x296*-0x10]=-0x26e3+0x21bb*0x1+0x529*0x1,_0x1a6c4f[0x16f9*-0x1+0x1a65+0xaf*-0x5]=-0x26a4*-0x1+0x8b2+-0x2f56,_0x1a6c4f[-0x3*0x40e+-0x18b8+0x24e4]=-0x1712+0x511*0x1+0x1201*0x1,_0x1a6c4f[-0x1*-0x2347+0x1*0x775+-0x2ab9]=0x1cde+0x85e+0x129e*-0x2,_0x1a6c4f[0x4c7*0x3+-0x23ab*-0x1+0xc7f*-0x4]=0x70*-0x1c+0x2fc*-0x6+0x1e28,_0x1a6c4f[0x1944+-0xac3+-0xe7c]=-0x1*-0x4e0+-0x262a+-0x1*-0x214b,_0x1a6c4f[-0x26fc+-0x10aa+0x37ac]=0x1228+-0x10*0x1f5+0xd28,_0x1a6c4f[0x1*-0x102b+-0x8*-0x407+-0x1006]=0x2cd+0x9b2+-0x7*0x1c9,_0x1a6c4f[0xa62+-0x190c+0xc6*0x13]=-0x625+-0x1890+-0x7*-0x463,_0x1a6c4f[0x1fcf+0x23d*0x5+-0x2af7]=0xd0+0x1287+-0x1*0x1357,_0x1a6c4f[0x1*-0x11ab+0x26de+-0x1529]=0x129+0xff*-0x2+0xd6,_0x1a6c4f[-0x1b9d*-0x1+-0x1cf*0x7+-0xee9]=0x1a36+0xc98+0x2*-0x1367,_0x1a6c4f[0x1559+0x1290*-0x2+0xfd3*0x1]=_0xccb83e,_0x1a6c4f[0x5fa+-0x2676+0x2089]=_0xca58d3,_0x1a6c4f[0x35a*0x6+-0x1*0x1caf+0x8a1]=_0x574547,_0x1a6c4f[0x36d*0x7+-0x1706+-0x2*0x73]=-0x10*0xb4+-0x76e+0x1*0x12af,this;}['setScale'](_0x4289d9,_0x83af38,_0x508eaa){const _0x5a1b42=this['data'];return _0x5a1b42[0x115*-0x6+0x209*0x2+-0x2*-0x136]=_0x4289d9,_0x5a1b42[0x13*0x1ca+0x97f+-0x2b7c]=-0x1c67*0x1+-0x2*-0x285+0x175d,_0x5a1b42[-0x2b*-0xbf+-0x73+-0x1fa0]=-0x19f7*-0x1+-0xbe1+-0x4b2*0x3,_0x5a1b42[-0x32b+-0x1*-0x175d+0x142f*-0x1]=0x26d2+0x46d*-0x4+-0x11*0x13e,_0x5a1b42[-0xfb8+0x1*0x6fd+0x8bf]=-0x13c*-0x15+0x1ce8+-0x36d4,_0x5a1b42[-0x1ed0+0x1852+0x683]=_0x83af38,_0x5a1b42[-0x1829*0x1+-0x2*0x3f3+0x2015]=-0xa7d+-0x1a3*-0x1+0x8da,_0x5a1b42[0x2370+-0x23e6*0x1+0x7d]=-0x182*-0x4+-0x1*-0x1410+-0x1*0x1a18,_0x5a1b42[0x1*-0x827+0xa06+-0x3*0x9d]=0x2359+-0x1bdf+-0x77a,_0x5a1b42[-0x91*0x43+0x9c5+0x1c37]=0x2*0x10fc+0x4*0x917+-0x4654,_0x5a1b42[-0x7df+-0x12c+0x915]=_0x508eaa,_0x5a1b42[-0x155f+0xb27*0x1+0xa43]=0xb0+-0x31*0x7f+0x179f,_0x5a1b42[0x1*0x8c5+-0xf5d+0x11*0x64]=-0x2579+-0x11*0xa3+0x304c,_0x5a1b42[-0x2*0xb81+0x806*-0x3+0x2f21]=-0xc29*0x1+-0xcbe+0x18e7,_0x5a1b42[0x1*-0x1d7b+-0x208b*-0x1+-0x302]=0x1ee2+-0x1188+-0xd5a,_0x5a1b42[-0xe8f+0x19c6+-0xb28]=0x1*-0xbd7+-0x1121*-0x1+-0x549,this;}['setViewpor'+'t'](_0x2a77dc,_0x49d823,_0x8e8462,_0x545513){const _0x44ffaa=this['data'];return _0x44ffaa[-0x1*0x2575+-0x730+0x2ca5]=_0x8e8462*(-0x1b83+0x12c3+-0x1*-0x8c0+0.5),_0x44ffaa[-0x22a4+0x1*-0xfc3+0x3268]=0x1*-0x599+0xb79+0x5e*-0x10,_0x44ffaa[-0xe72+0xe4b+0x29]=0x17ab*-0x1+0x1*0x853+-0x1*-0xf58,_0x44ffaa[0x1cc+0x826+-0x9ef*0x1]=-0x1b5d+0x21f0+0x3*-0x231,_0x44ffaa[-0x1*-0xa03+-0x25ee+0x1bef]=-0x5*-0x2f+-0x1*-0x115f+-0x124a,_0x44ffaa[0x4*-0x5e7+0x18c2+-0x121]=_0x545513*(-0x1d1f+-0x2251+0x3f70+0.5),_0x44ffaa[-0x447+-0x2*0x354+0xaf5]=-0xa08+0x1c23+-0x1*0x121b,_0x44ffaa[-0x1dc2+0x80f*0x4+-0x273]=0x1*0x12e9+-0x1212*-0x1+-0x24fb,_0x44ffaa[0x1836+-0x65*0x1a+0x12*-0xc6]=-0x13a3+0x1*0xdc9+-0x5da*-0x1,_0x44ffaa[0x1*0x2405+-0x1*-0x1891+-0x3*0x142f]=-0x31*-0xad+0x33e*-0x2+-0x191*0x11,_0x44ffaa[0x1832+-0x2*0x6f7+-0x11*0x9a]=0x2*0x10aa+-0x25*0x5e+-0x2*0x9df+0.5,_0x44ffaa[-0x895+0x4cf+-0x1*-0x3d1]=-0x1446+0xef*0x26+0x7*-0x22c,_0x44ffaa[-0x1*-0x14a7+0xca1+0x1*-0x213c]=_0x2a77dc+_0x8e8462*(0x57c+0xb3*0xb+-0x1*0xd2d+0.5),_0x44ffaa[0xdb*-0x27+0xec2+0x2*0x954]=_0x49d823+_0x545513*(-0x62d*0x1+0x3*-0x64c+0x1911+0.5),_0x44ffaa[-0x24a5+-0x24ca+0x3*0x187f]=0x169+0x137f+0xdf*-0x18+0.5,_0x44ffaa[-0x3*-0x44d+-0x209f+0x13c7]=-0x1aff*0x1+0x138e+0x772,this;}['setReflect'+'ion'](_0x23cf9a,_0x2bee07){const _0x1827b8=_0x23cf9a['x'],_0x171784=_0x23cf9a['y'],_0x44be4a=_0x23cf9a['z'],_0x5e716d=this['data'];return _0x5e716d[0x2096+-0x21bc+0x2*0x93]=0x3e6*-0x4+-0x3e*-0x12+0xb3d-(-0x73*0x35+-0x115b+0x14*0x20f)*_0x1827b8*_0x1827b8,_0x5e716d[0x499+0x151b*-0x1+0x1083]=-(-0x16e8+-0x1356+-0x4*-0xa90)*_0x1827b8*_0x171784,_0x5e716d[-0x2667+0x69c+0x1fcd]=-(0x67*0x3b+0x65c+0x1*-0x1e17)*_0x1827b8*_0x44be4a,_0x5e716d[0x1205*0x1+-0x1869*0x1+0x667]=-0x2*-0x7d0+0x236e+-0x330e,_0x5e716d[0x5*-0x3ed+0x1e6c+-0x1f*0x59]=-(-0x1*0x179c+0x5*0x5e2+-0x6a*0xe)*_0x1827b8*_0x171784,_0x5e716d[0x186a+0xd*0x19a+0x90b*-0x5]=-0x1acd*-0x1+-0x1ff7+0x52b-(0x404+-0x501+0xff)*_0x171784*_0x171784,_0x5e716d[0x16*0x123+0x8db*-0x1+0x1021*-0x1]=-(-0x7c7+0x6d*0x33+-0xdee)*_0x171784*_0x44be4a,_0x5e716d[-0x5*-0x151+0x2ea*-0xd+-0x191*-0x14]=-0x1*0x67a+-0x6b*-0x5+0x463,_0x5e716d[-0x1968+-0x9cf+0x233f]=-(-0xf*-0x167+0xcfa+-0x2201)*_0x1827b8*_0x44be4a,_0x5e716d[-0x1b7*0x1+-0x171*0x15+0x2005]=-(-0x113e+-0x1*-0x253d+-0x13fd)*_0x171784*_0x44be4a,_0x5e716d[-0x2b*-0x1+-0x52*0x71+0x2411]=-0x2545+0x3*0x248+0x616*0x5-(0xb35+0x1e3e+-0x2971*0x1)*_0x44be4a*_0x44be4a,_0x5e716d[0x1c33+0x9e*-0x17+-0xdf6]=-0x1*-0x53d+-0xfc1+-0x2a1*-0x4,_0x5e716d[0x23ca+-0xc83*0x1+-0x173b]=-(0x1ddd+0x1*0x22d+-0x2008)*_0x1827b8*_0x2bee07,_0x5e716d[-0x4db+-0xd9*0x2+-0x5*-0x152]=-(-0x17*0xaf+-0x147*-0x17+-0xda6)*_0x171784*_0x2bee07,_0x5e716d[0xb47*0x1+-0x9af+0x1*-0x18a]=-(0x801*-0x3+-0x524*-0x7+-0xbf7*0x1)*_0x44be4a*_0x2bee07,_0x5e716d[-0xc8c+-0x10f7+0x5ea*0x5]=0x6a*-0x26+-0x7e+-0x5*-0x33f,this;}['invert'](_0x4f3012=this){const _0x4bcffe=_0x4f3012['data'],_0x3fe9ba=_0x4bcffe[0x46e+-0x2182+0xe8a*0x2],_0x3f78b8=_0x4bcffe[-0x16ec+-0x1ea1*0x1+0x358e],_0x3caa4a=_0x4bcffe[0x71*-0x17+0x17*-0x16f+0x2b22],_0x49941c=_0x4bcffe[-0x1*-0x1f9+-0x97*-0x41+-0x284d*0x1],_0x1b223b=_0x4bcffe[0x6*-0x167+0x167c+-0x202*0x7],_0x1c2ed4=_0x4bcffe[-0x98a+-0xcc7*0x2+0x231d*0x1],_0x1ef671=_0x4bcffe[-0x166*0x4+0x1421+-0xe83],_0x341106=_0x4bcffe[0x19b*0x13+0xd86*-0x2+-0x36e],_0x4d0e38=_0x4bcffe[-0x12a2+-0x1c50*-0x1+-0x13*0x82],_0x4dfe41=_0x4bcffe[-0xeb9+-0x1228+0x2fe*0xb],_0x359412=_0x4bcffe[-0x22e6+-0x94*0x3d+0x4634],_0x16830f=_0x4bcffe[-0x224e*-0x1+0x343+-0x2586],_0x40d0bc=_0x4bcffe[-0x1e29*0x1+0x2504+-0x6cf*0x1],_0x1af0c5=_0x4bcffe[0x1a52+0x610+-0x5d*0x59],_0x726384=_0x4bcffe[0x223*0xb+-0x1817+-0x2*-0x52],_0x35b604=_0x4bcffe[-0x34d+-0x3*0xbf5+0x273b],_0x47e322=_0x3fe9ba*_0x1c2ed4-_0x3f78b8*_0x1b223b,_0x59c36f=_0x3fe9ba*_0x1ef671-_0x3caa4a*_0x1b223b,_0x5d31c5=_0x3fe9ba*_0x341106-_0x49941c*_0x1b223b,_0x2e5ec1=_0x3f78b8*_0x1ef671-_0x3caa4a*_0x1c2ed4,_0x2a134d=_0x3f78b8*_0x341106-_0x49941c*_0x1c2ed4,_0x5e072b=_0x3caa4a*_0x341106-_0x49941c*_0x1ef671,_0x5c2c5e=_0x4d0e38*_0x1af0c5-_0x4dfe41*_0x40d0bc,_0x260d44=_0x4d0e38*_0x726384-_0x359412*_0x40d0bc,_0x295f87=_0x4d0e38*_0x35b604-_0x16830f*_0x40d0bc,_0x1a9374=_0x4dfe41*_0x726384-_0x359412*_0x1af0c5,_0x138949=_0x4dfe41*_0x35b604-_0x16830f*_0x1af0c5,_0x2fdacb=_0x359412*_0x35b604-_0x16830f*_0x726384,_0x1da081=_0x47e322*_0x2fdacb-_0x59c36f*_0x138949+_0x5d31c5*_0x1a9374+_0x2e5ec1*_0x295f87-_0x2a134d*_0x260d44+_0x5e072b*_0x5c2c5e;if(_0x1da081===-0x6b3+-0x1003*0x1+0x132*0x13)this['setIdentit'+'y']();else{const _0x1353e0=(0x1b9a+0x1*-0x190b+-0x28e)/_0x1da081,_0x373ec3=this['data'];_0x373ec3[-0xe*-0x168+0x6*0x50e+-0x3204]=(_0x1c2ed4*_0x2fdacb-_0x1ef671*_0x138949+_0x341106*_0x1a9374)*_0x1353e0,_0x373ec3[0x676+0x15*-0x9b+0x642]=(-_0x3f78b8*_0x2fdacb+_0x3caa4a*_0x138949-_0x49941c*_0x1a9374)*_0x1353e0,_0x373ec3[-0x1564+-0x5a*0x34+0x27ae]=(_0x1af0c5*_0x5e072b-_0x726384*_0x2a134d+_0x35b604*_0x2e5ec1)*_0x1353e0,_0x373ec3[-0x109b+0x1611+-0x573]=(-_0x4dfe41*_0x5e072b+_0x359412*_0x2a134d-_0x16830f*_0x2e5ec1)*_0x1353e0,_0x373ec3[-0x1172+0x4a8+0xcce]=(-_0x1b223b*_0x2fdacb+_0x1ef671*_0x295f87-_0x341106*_0x260d44)*_0x1353e0,_0x373ec3[0x246f+-0x2*-0x4db+-0x2e20]=(_0x3fe9ba*_0x2fdacb-_0x3caa4a*_0x295f87+_0x49941c*_0x260d44)*_0x1353e0,_0x373ec3[-0x82*0x3f+-0x1*-0x94d+0x16b7]=(-_0x40d0bc*_0x5e072b+_0x726384*_0x5d31c5-_0x35b604*_0x59c36f)*_0x1353e0,_0x373ec3[0x1*0x1a8b+-0x104f+-0xa35]=(_0x4d0e38*_0x5e072b-_0x359412*_0x5d31c5+_0x16830f*_0x59c36f)*_0x1353e0,_0x373ec3[-0x2d+0x125*0xd+-0xeac]=(_0x1b223b*_0x138949-_0x1c2ed4*_0x295f87+_0x341106*_0x5c2c5e)*_0x1353e0,_0x373ec3[-0xf7f*-0x2+-0x3c*-0x6f+0x1*-0x38f9]=(-_0x3fe9ba*_0x138949+_0x3f78b8*_0x295f87-_0x49941c*_0x5c2c5e)*_0x1353e0,_0x373ec3[-0xb74+-0x183b+0x725*0x5]=(_0x40d0bc*_0x2a134d-_0x1af0c5*_0x5d31c5+_0x35b604*_0x47e322)*_0x1353e0,_0x373ec3[-0x9*0x433+0x1016+0x15c*0x10]=(-_0x4d0e38*_0x2a134d+_0x4dfe41*_0x5d31c5-_0x16830f*_0x47e322)*_0x1353e0,_0x373ec3[0xaa0+0x593+-0x5*0x33b]=(-_0x1b223b*_0x1a9374+_0x1c2ed4*_0x260d44-_0x1ef671*_0x5c2c5e)*_0x1353e0,_0x373ec3[0x643+0x13*-0x1ba+0x1a98]=(_0x3fe9ba*_0x1a9374-_0x3f78b8*_0x260d44+_0x3caa4a*_0x5c2c5e)*_0x1353e0,_0x373ec3[-0x1724+-0xe4b+0x257d]=(-_0x40d0bc*_0x2e5ec1+_0x1af0c5*_0x59c36f-_0x726384*_0x47e322)*_0x1353e0,_0x373ec3[0x1d1e+0x25d*-0xc+0xb3*-0x1]=(_0x4d0e38*_0x2e5ec1-_0x4dfe41*_0x59c36f+_0x359412*_0x47e322)*_0x1353e0;}return this;}['set'](_0x2187a){const _0x111f9b=this['data'];return _0x111f9b[0x665+-0x17f*-0x5+-0xde0]=_0x2187a[-0x19ad+-0x20cd+0xf*0x3e6],_0x111f9b[0x2*0x1219+0x480+-0x28b1]=_0x2187a[0x9*0x33f+-0x3ac*-0x2+-0x1247*0x2],_0x111f9b[0x191a+0x233*-0x3+-0x127f]=_0x2187a[0xbf*-0x1d+-0xd55+0x22fa*0x1],_0x111f9b[-0x3ef+0xd9d+-0x9ab]=_0x2187a[-0x4a*-0x80+-0x2a1*0x4+0x1a79*-0x1],_0x111f9b[0xb*0xa3+-0xc*0x137+0x1*0x797]=_0x2187a[0x215*-0x11+-0x1dc5+0x412e],_0x111f9b[-0xf27*-0x1+-0x3*0xe0+-0xc82]=_0x2187a[0x1*-0x122b+0x2136+-0xf06],_0x111f9b[0x109d+0x142d+-0x931*0x4]=_0x2187a[0x1488+0x5e5*0x3+-0x2631],_0x111f9b[0x1*-0x212d+0x1ee6+0x1*0x24e]=_0x2187a[0xaf0+-0xd32+0x249],_0x111f9b[0x1*0xf+0x13*-0x169+0x1ac4]=_0x2187a[-0x2667+-0x2020+0x468f*0x1],_0x111f9b[0x19e6*0x1+-0x59f*-0x2+-0x251b]=_0x2187a[0x29*-0x91+-0x186c+0x2fae],_0x111f9b[0x829*-0x1+-0x155d*-0x1+-0x151*0xa]=_0x2187a[0xc93+0x181c*0x1+-0x24a5],_0x111f9b[-0x1ac+-0x181b+0xa*0x295]=_0x2187a[-0x377*0x7+0xb*-0x15e+0x2756],_0x111f9b[-0xe35*-0x1+-0x2088+0x125f]=_0x2187a[0x826*0x1+-0x437+-0x3e3],_0x111f9b[0xe95*-0x1+-0x7*0x3e5+0x29e5]=_0x2187a[-0x10ce+-0x46f*0x6+0x2b75],_0x111f9b[0x8*0x12+0x11e6*-0x2+0x1*0x234a]=_0x2187a[-0x66b+0x2144+0x1acb*-0x1],_0x111f9b[0x20c+-0x25d1*-0x1+0x3fb*-0xa]=_0x2187a[0x1*-0x1f25+0xa5e+-0x7f*-0x2a],this;}['setIdentit'+'y'](){const _0x5d63bd=this['data'];return _0x5d63bd[0x114a+-0x3b*-0x95+-0x33a1]=0x1d26+-0x19*-0xe3+0x19a8*-0x2,_0x5d63bd[0xb01+-0x3*0x9e8+-0x257*-0x8]=-0x22f9+0xd9a+-0x155f*-0x1,_0x5d63bd[-0x24ca+-0x10d*-0x1d+-0x1*-0x653]=-0x1*0x379+0x1a80+-0x1707,_0x5d63bd[0x1eb2+0x1a*-0x46+-0x5*0x4b7]=0x1*0x13ac+0xe*0x245+-0x3372,_0x5d63bd[0xd8*0x16+-0x184*-0x8+-0x1eac]=0x1dd*0x1+-0x2005+0x1e28,_0x5d63bd[-0x18c1*0x1+0x10e1*-0x2+0x3a88*0x1]=0x11*-0x242+0x11cc+0x7*0x2f1,_0x5d63bd[0x112e+-0x1ef2+-0x6e5*-0x2]=0x1f*-0x10b+0xcaf*-0x1+-0xb41*-0x4,_0x5d63bd[-0x20a+-0x1*0x30d+0x51e]=0x233a+-0x2f2+-0x2048,_0x5d63bd[-0x872+-0x2*-0x63a+-0x3fa]=0x25ca+0xcc*0x7+-0x2b5e,_0x5d63bd[-0x1*0x224f+0x7c7+-0x1*-0x1a91]=-0x1a*-0x31+0x1596+-0x1a9*0x10,_0x5d63bd[0x2004*-0x1+0x155*0x7+-0x17*-0xfd]=0x9e0+-0x2f*0x29+-0x258,_0x5d63bd[0x1dc9+-0xf80+-0x1*0xe3e]=-0xab9+-0x3*-0x575+-0x5a6,_0x5d63bd[0x2520+0x60a*0x1+-0x1*0x2b1e]=0x7c7+-0x21b9*-0x1+0x14c*-0x20,_0x5d63bd[-0x1a0b*-0x1+0x11a1*0x2+0xe*-0x460]=-0x66+0x1*0xcdd+-0xc77*0x1,_0x5d63bd[0x6*-0x3f9+0x2*0xc+-0x2*-0xbe6]=-0x1d24*0x1+-0x1*0x1ed3+-0x387*-0x11,_0x5d63bd[-0x4a5+0x117f*-0x2+-0x13d9*-0x2]=-0xb2*-0x17+0x123c+-0x2239,this;}['setTRS'](_0xff2ffb,_0x302e56,_0x5c5606){const _0x5a873f=_0x302e56['x'],_0x523ded=_0x302e56['y'],_0x1ab634=_0x302e56['z'],_0x1db73a=_0x302e56['w'],_0x26aa58=_0x5c5606['x'],_0x3d2741=_0x5c5606['y'],_0xcdfc42=_0x5c5606['z'],_0x20e828=_0x5a873f+_0x5a873f,_0x27c2dc=_0x523ded+_0x523ded,_0xbbc464=_0x1ab634+_0x1ab634,_0x510983=_0x5a873f*_0x20e828,_0x3a8226=_0x5a873f*_0x27c2dc,_0xf9440e=_0x5a873f*_0xbbc464,_0x3953ea=_0x523ded*_0x27c2dc,_0x5e5a58=_0x523ded*_0xbbc464,_0x1e412d=_0x1ab634*_0xbbc464,_0x20e002=_0x1db73a*_0x20e828,_0x436b47=_0x1db73a*_0x27c2dc,_0x2628b4=_0x1db73a*_0xbbc464,_0xde0e93=this['data'];return _0xde0e93[-0xf28+-0xf5b*0x2+-0x1*-0x2dde]=(0x2*0x6fb+-0x20c9+0x14*0xf1-(_0x3953ea+_0x1e412d))*_0x26aa58,_0xde0e93[0x72*-0x4a+-0x4ca*-0x1+-0x1*-0x1c2b]=(_0x3a8226+_0x2628b4)*_0x26aa58,_0xde0e93[-0x21fa+-0x1dad+0x3fa9]=(_0xf9440e-_0x436b47)*_0x26aa58,_0xde0e93[0xf0b+-0x141*0x19+0x1051]=-0x1*-0xdd7+0x296+0x1d*-0x91,_0xde0e93[-0x1837*-0x1+-0x1*-0x133c+0x1*-0x2b6f]=(_0x3a8226-_0x2628b4)*_0x3d2741,_0xde0e93[0xa5+-0x22ed+0xb6f*0x3]=(-0x1335+0x1*-0x1177+-0x24ad*-0x1-(_0x510983+_0x1e412d))*_0x3d2741,_0xde0e93[0x1ba3+-0x5fd*0x1+-0x15a0]=(_0x5e5a58+_0x20e002)*_0x3d2741,_0xde0e93[-0x1*0x2030+0xb*0x35f+-0x59*0xe]=-0x1c9a+0x4e8*0x5+0x412,_0xde0e93[0x12b7+-0x16f3+-0xb6*-0x6]=(_0xf9440e+_0x436b47)*_0xcdfc42,_0xde0e93[0x4c4+-0x9f*-0x2+0xb*-0x8b]=(_0x5e5a58-_0x20e002)*_0xcdfc42,_0xde0e93[-0x981*0x1+-0xddb+0x2*0xbb3]=(0x1*-0x98f+0x2364+-0x26*0xae-(_0x510983+_0x3953ea))*_0xcdfc42,_0xde0e93[-0x2417*0x1+0x71+0x23b1]=0x266+0xa1e+-0xc84,_0xde0e93[0x6fe+0x1*0x26d5+-0x1*0x2dc7]=_0xff2ffb['x'],_0xde0e93[0x2*0x13f+-0xc82*0x2+0x1693*0x1]=_0xff2ffb['y'],_0xde0e93[-0xdfd+0x22e0+-0x14d5]=_0xff2ffb['z'],_0xde0e93[-0x210f+-0x14*-0x164+0x54e]=0x1326+0x1e7a+-0x319f,this;}['transpose'](_0x1ee753=this){const _0x4d6669=_0x1ee753['data'],_0xffe52=this['data'];if(_0x4d6669===_0xffe52){let _0x20b6e7;_0x20b6e7=_0x4d6669[-0xbc3+0x1389+-0x99*0xd],_0xffe52[0x8b9+-0x23ab+0x1af3]=_0x4d6669[0x463*0x7+-0xdce+-0x189*0xb],_0xffe52[0x86f+-0x175*-0xf+-0x1e46*0x1]=_0x20b6e7,_0x20b6e7=_0x4d6669[0x4d0*0x6+0x1*-0x1f46+-0x134*-0x2],_0xffe52[-0x17fe+-0x679+-0x1d*-0x10d]=_0x4d6669[0x17e7+-0xa52+-0xd8d],_0xffe52[-0x153*-0x3+0x203d+-0x242e]=_0x20b6e7,_0x20b6e7=_0x4d6669[0x3*0x1bb+0x214+-0x742],_0xffe52[-0x5e8+-0x1697+-0xe41*-0x2]=_0x4d6669[-0x191d*-0x1+0x6e1+-0x1ff2],_0xffe52[0x1249+0x7ab+-0x2*0xcf4]=_0x20b6e7,_0x20b6e7=_0x4d6669[-0x2459+-0x91b+0x2*0x16bd],_0xffe52[0xac4+0x70b*-0x4+-0x116e*-0x1]=_0x4d6669[0x24c4+0x1e57+-0x4312],_0xffe52[0x1*0x1732+0xce*0x30+-0x3dc9]=_0x20b6e7,_0x20b6e7=_0x4d6669[0xfc2+-0x7d3*-0x2+-0x1f61],_0xffe52[0x23fd+-0x1b5d+0x1f*-0x47]=_0x4d6669[-0xad3+-0x6*-0x3c6+-0xbc4],_0xffe52[-0x2024+0x1561+-0x2b4*-0x4]=_0x20b6e7,_0x20b6e7=_0x4d6669[0x26fd*-0x1+0x151d+-0x11eb*-0x1],_0xffe52[-0x1*-0x1726+-0x1737+0x7*0x4]=_0x4d6669[0x232d+-0xd5*0x3+0x20a*-0x10],_0xffe52[0x1d12+-0xa66+-0x94f*0x2]=_0x20b6e7;}else _0xffe52[-0x22e0+0x1914+-0xe4*-0xb]=_0x4d6669[-0xa1a+-0x1*0x542+0xf5c],_0xffe52[-0x1*-0x1c4b+0xf9c*0x1+-0x2be6]=_0x4d6669[-0xd*-0x275+0x33a*-0x7+-0x957*0x1],_0xffe52[0x1024*0x1+0x2020+-0x3042]=_0x4d6669[-0x2a+0x15d+-0x12b],_0xffe52[0x854+-0x33b+-0x516]=_0x4d6669[-0xa*-0x2ef+-0x783*-0x4+-0x3b56],_0xffe52[-0x359+-0x1*0x1a8f+0x4*0x77b]=_0x4d6669[-0x1352+-0x694+0x19e7],_0xffe52[-0xa*-0xa9+0x36e+-0xb*0xe9]=_0x4d6669[0x39d+-0x1*0x1233+0x1*0xe9b],_0xffe52[-0x26d5*-0x1+0x12de+0x1*-0x39ad]=_0x4d6669[0x455*0x1+0x65*0x17+-0x15*0xa3],_0xffe52[-0x98f+0x2e*0xc7+0x68b*-0x4]=_0x4d6669[-0x2547+0x2d0+0x1142*0x2],_0xffe52[0x2b*-0x47+-0x26c5+0x32ba]=_0x4d6669[-0x2505+-0x16a*-0x1a+-0x43*-0x1],_0xffe52[-0x2401+0x2de*-0x8+-0x1d7d*-0x2]=_0x4d6669[0x1cd4+-0x219e+0x4d0],_0xffe52[0xe8a*-0x2+0x473*0x5+0x6df]=_0x4d6669[0x79f*-0x1+0x1*0x2162+0x1b7*-0xf],_0xffe52[0x1d2+-0xb1b+-0x4aa*-0x2]=_0x4d6669[-0xd05+0xdb5*0x2+-0x1*0xe57],_0xffe52[-0x1ff0+-0x2b*-0x35+0x137*0x13]=_0x4d6669[0x6*0xa6+0x28e*-0x4+-0x1*-0x657],_0xffe52[0x1444+0x1d43+-0x317a]=_0x4d6669[0x21fb+-0x2ac*-0x8+-0x3754],_0xffe52[-0x2019*-0x1+0x7*-0x1c+-0x1f47]=_0x4d6669[-0x6*-0x1be+-0x1d*0xd9+0xe2c],_0xffe52[-0x1*-0x48d+0xf91+0x403*-0x5]=_0x4d6669[-0x232d*0x1+0x994+-0x4*-0x66a];return this;}['getTransla'+'tion'](_0x3b31b7=new D()){return _0x3b31b7['set'](this['data'][-0x915*-0x1+-0xe04+0x4fb],this['data'][0x1*-0x1193+0x223a+0x2*-0x84d],this['data'][0x22f3*0x1+0x2666+-0x494b]);}['getX'](_0x1ab65c=new D()){return _0x1ab65c['set'](this['data'][0x4*-0x8fc+0x555+0x1e9b],this['data'][0x2211+-0x2a*-0x32+-0x874*0x5],this['data'][0x1e52*-0x1+0x272*0xe+0x7d*-0x8]);}['getY'](_0x5eb3de=new D()){return _0x5eb3de['set'](this['data'][0x4*-0x335+0x5*0xaf+-0x13*-0x7f],this['data'][-0x22e8+0x9c3+0x192a],this['data'][0xcac+0x26d+-0xf13]);}['getZ'](_0x4d3f3b=new D()){return _0x4d3f3b['set'](this['data'][-0x4e*-0x33+-0x1*-0x1fd3+-0x2f55],this['data'][0x59d*0x1+-0x6*-0x1f+-0x64e],this['data'][0xef0+-0xc20+-0x2c6]);}['getScale'](_0x110bb2=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x110bb2['set'](Os['length'](),Js['length'](),ei['length']()),_0x110bb2;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x59*0x46+-0x1*-0x115a+0x6fc?-(-0x119*0xb+-0x5d9+0x11ed):-0x3ac*-0x2+-0x22ff+0x1ba8;}['setFromEul'+'erAngles'](_0x520098,_0x22bcce,_0x336824){_0x520098*=Y['DEG_TO_RAD'],_0x22bcce*=Y['DEG_TO_RAD'],_0x336824*=Y['DEG_TO_RAD'];const _0x2d2438=Math['sin'](-_0x520098),_0x4b90bb=Math['cos'](-_0x520098),_0x2f74d7=Math['sin'](-_0x22bcce),_0x24b8fe=Math['cos'](-_0x22bcce),_0x525d3c=Math['sin'](-_0x336824),_0x598be4=Math['cos'](-_0x336824),_0x279a06=this['data'];return _0x279a06[-0x18d3+-0x1827+-0x1*-0x30fa]=_0x24b8fe*_0x598be4,_0x279a06[0x13ac+0x172*0x1+-0x151d]=-_0x24b8fe*_0x525d3c,_0x279a06[0x247*-0x1+0x26dc+-0x2493]=_0x2f74d7,_0x279a06[-0x1bd6+-0x2d6+0x1eaf]=0x26ce+0x17b+0x1*-0x2849,_0x279a06[-0x1*0x2531+-0x7c3+0x2cf8]=_0x4b90bb*_0x525d3c+_0x598be4*_0x2d2438*_0x2f74d7,_0x279a06[-0x24d0+0xab2+0x1a23]=_0x4b90bb*_0x598be4-_0x2d2438*_0x2f74d7*_0x525d3c,_0x279a06[0x1*0x25e7+0x544+0x5*-0x8a1]=-_0x24b8fe*_0x2d2438,_0x279a06[-0x91e+-0x25d6+0x2efb]=-0x426*-0x2+-0xbbe*0x2+-0xa2*-0x18,_0x279a06[0x165*-0xd+0x1*-0xf66+0x1*0x218f]=_0x2d2438*_0x525d3c-_0x4b90bb*_0x598be4*_0x2f74d7,_0x279a06[0x1d30+0x268e+-0x1*0x43b5]=_0x598be4*_0x2d2438+_0x4b90bb*_0x2f74d7*_0x525d3c,_0x279a06[0x1ea3+0x9e*-0xa+-0x186d]=_0x4b90bb*_0x24b8fe,_0x279a06[0x11f7+0x2067+-0x3df*0xd]=0x13b1+0x1822*-0x1+0x471,_0x279a06[-0x3e5+-0x73f*-0x3+0x43*-0x44]=-0x1*0x1b7d+-0x7e6+0x2363,_0x279a06[-0x242*0x11+0x4*-0x6f4+0x423f]=0x19ef+0x856+-0x2245,_0x279a06[-0x17*0x194+-0xa8f+-0x1*-0x2ee9]=-0x1ab9+-0x1750+0x3209*0x1,_0x279a06[-0x1*-0x26ed+0x889+-0x2f67]=-0x5*0x6f+-0x1*0x24d7+-0x2703*-0x1,this;}['getEulerAn'+'gles'](_0x51271e=new D()){this['getScale'](Hl);const _0xcbf2bc=Hl['x'],_0x4b3212=Hl['y'],_0x280ea2=Hl['z'];if(_0xcbf2bc===-0x6*0x5ba+-0x1559+0x37b5||_0x4b3212===0x1892+-0x35*-0x22+-0x1f9c||_0x280ea2===0x4e7*0x4+-0xe0f+0x1d*-0x31)return _0x51271e['set'](0x788+-0x2c5*-0x4+-0x129c*0x1,0x2*0xadb+0x86f*0x3+-0x2f03,0x10c1+-0x2108+-0x1cf*-0x9);const _0x5e39c5=this['data'],_0x1abb49=Math['asin'](-_0x5e39c5[0x1f3a+0x107+-0x7f*0x41]/_0xcbf2bc),_0x4c5845=Math['PI']*(-0x6e0*-0x5+-0x260d+0x3ad+0.5);let _0x46bc85,_0x31da42;return _0x1abb49<_0x4c5845?_0x1abb49>-_0x4c5845?(_0x46bc85=Math['atan2'](_0x5e39c5[0x1606+0x1698+-0x2c98]/_0x4b3212,_0x5e39c5[-0x1111+0x1*-0x1a0+0x12bb]/_0x280ea2),_0x31da42=Math['atan2'](_0x5e39c5[-0x1594+0x78a+-0xe0b*-0x1]/_0xcbf2bc,_0x5e39c5[-0x1f01+-0x79*0x3d+-0x9*-0x6a6]/_0xcbf2bc)):(_0x31da42=-0x1*0xdb7+0x20d4+-0x7*0x2bb,_0x46bc85=-Math['atan2'](_0x5e39c5[-0x441+0x1*-0x2507+0x294c]/_0x4b3212,_0x5e39c5[0x15f+-0x1fbf+0x1e65]/_0x4b3212)):(_0x31da42=0x1f20+-0x952+0x15ce*-0x1,_0x46bc85=Math['atan2'](_0x5e39c5[-0xe76+0xbc6+0x2b4]/_0x4b3212,_0x5e39c5[0x40*-0x1+0x1132+0x1*-0x10ed]/_0x4b3212)),_0x51271e['set'](_0x46bc85,_0x1abb49,_0x31da42)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x283*0xa+0x3d8+0x1546,-0xbce*-0x1+-0x2*-0xb1d+-0x2208,-0x5*-0x48c+-0x1e84+0xf9*0x8,-0x21bf+-0x7*-0x3e3+0x68a,0xd1*-0x25+0x126a*0x1+-0xbcb*-0x1,-0xac3*0x2+-0x2*-0xf45+-0x904,-0x39b+0x1ab0+-0x1715,-0xfb*-0x13+-0x23a2+0x1101,0xca*0x2+0x72f+-0x8c3,0x4*-0x4dc+-0x1a59+0x2dc9*0x1,0x1*-0x226c+-0x1*-0x1b3d+0x72f,0x517*-0x3+-0x43*0x13+0x143e,0x88e+0x1*-0x2037+0x17a9,-0x53f*-0x1+-0x9b4+0x475,-0x3d1*-0x1+-0x63f+0x26e,-0x102c+-0x66*0x26+0x1f50])));let te=Qr;const Sn=class Sn{constructor(_0x386574=0x2168+0xf3*-0xf+-0x132b,_0x569455=-0x19d*0x3+0x2*-0x838+0x1*0x1547,_0x11c890=-0x181f+-0x213e+0x395d,_0x5917ff=0x1180+0x21e6+-0x3365){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x386574['length']===0x1*-0xf08+-0x37b+-0x9*-0x20f?(this['x']=_0x386574[-0x5f2+0x104b+-0x373*0x3],this['y']=_0x386574[0x1e5f+-0x1e5*-0x7+-0x2ba1],this['z']=_0x386574[-0x1*-0x1102+-0x731+-0x9cf],this['w']=_0x386574[0x3df+0x70+-0x44c]):(this['x']=_0x386574,this['y']=_0x569455,this['z']=_0x11c890,this['w']=_0x5917ff);}['clone'](){const _0x19fc98=this['constructo'+'r'];return new _0x19fc98(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x4d4f70=this){return this['x']=_0x4d4f70['x']*-(-0x5*-0x2b2+-0xc95+-0xe4),this['y']=_0x4d4f70['y']*-(-0x13fb+-0x14f2+-0xa9*-0x3e),this['z']=_0x4d4f70['z']*-(0x1*0x2295+0x222b+-0x44bf),this['w']=_0x4d4f70['w'],this;}['copy'](_0x15b7d4){return this['x']=_0x15b7d4['x'],this['y']=_0x15b7d4['y'],this['z']=_0x15b7d4['z'],this['w']=_0x15b7d4['w'],this;}['dot'](_0x4456fb){return this['x']*_0x4456fb['x']+this['y']*_0x4456fb['y']+this['z']*_0x4456fb['z']+this['w']*_0x4456fb['w'];}['equals'](_0x570f58){return this['x']===_0x570f58['x']&&this['y']===_0x570f58['y']&&this['z']===_0x570f58['z']&&this['w']===_0x570f58['w'];}['equalsAppr'+'ox'](_0x44bd58,_0x1906ba=-0x7f0+-0x1dd4*-0x1+-0x15e4+0.000001){return Math['abs'](this['x']-_0x44bd58['x'])<_0x1906ba&&Math['abs'](this['y']-_0x44bd58['y'])<_0x1906ba&&Math['abs'](this['z']-_0x44bd58['z'])<_0x1906ba&&Math['abs'](this['w']-_0x44bd58['w'])<_0x1906ba;}['getAxisAng'+'le'](_0x310cab){let _0x5c8aca=Math['acos'](this['w'])*(0x13*0x1e3+-0x2*0x6b2+0x1*-0x1673);const _0x28eb49=Math['sin'](_0x5c8aca/(0x1*-0x1229+0x6*-0x21e+-0x1edf*-0x1));return _0x28eb49!==0x1*0x12db+0x1cb1+-0x2f8c?(_0x310cab['x']=this['x']/_0x28eb49,_0x310cab['y']=this['y']/_0x28eb49,_0x310cab['z']=this['z']/_0x28eb49,(_0x310cab['x']<0x8*0x419+0x1*-0x509+-0x1bbf||_0x310cab['y']<-0x1044*0x2+-0x236a+0x43f2||_0x310cab['z']<0x1*0xda+-0xadc*-0x2+-0x786*0x3)&&(_0x310cab['x']*=-(0xacd*0x1+0x218e+-0x2c5a*0x1),_0x310cab['y']*=-(0x12*0x18f+-0xbd6+-0x1037),_0x310cab['z']*=-(-0x3d1+0x15*-0x107+-0xc5*-0x21),_0x5c8aca*=-(-0x3*0xa53+0x13c+0x1dbe))):(_0x310cab['x']=-0xc7c+0x90b*0x1+0x372,_0x310cab['y']=-0x4*0x61b+0x5ce+0x94f*0x2,_0x310cab['z']=0x1f6e+0x1e62+-0x3dd*0x10),_0x5c8aca*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x202115=new D()){let _0x231709,_0x57b114,_0x542e67;const _0x105b09=this['x'],_0x24ea2f=this['y'],_0xebe537=this['z'],_0x248593=this['w'],_0x17523b=(0xb81*-0x1+-0x6d8+0x1*0x125b)*(_0x248593*_0x24ea2f-_0x105b09*_0xebe537);return _0x17523b<=-(-0x305*-0x1+0x11d2+-0x14d7+0.99999)?(_0x231709=(-0x548+-0x236c+0x28b6)*Math['atan2'](_0x105b09,_0x248593),_0x57b114=-Math['PI']/(-0x2521+0x918+-0x959*-0x3),_0x542e67=0x1f3a+-0x1873+-0x15b*0x5):_0x17523b>=-0x10ef+-0xd7d+-0x2c4*-0xb+0.99999?(_0x231709=(-0x1c39+0x623+0x1618)*Math['atan2'](_0x105b09,_0x248593),_0x57b114=Math['PI']/(-0x1c73*0x1+-0x10*-0xe9+0xde5),_0x542e67=0x1adb+-0xd90*0x2+0x17*0x3):(_0x231709=Math['atan2']((-0x1b28+0x3*-0xbe4+0x3ed6)*(_0x248593*_0x105b09+_0x24ea2f*_0xebe537),-0x2*-0x12f7+-0x23a9+-0x244-(-0x15eb+0xd*-0x172+0x28b7)*(_0x105b09*_0x105b09+_0x24ea2f*_0x24ea2f)),_0x57b114=Math['asin'](_0x17523b),_0x542e67=Math['atan2']((0xd*0x23b+-0x35*-0x71+-0x3462)*(_0x248593*_0xebe537+_0x105b09*_0x24ea2f),0x20e*-0x7+0x1267+0x2*-0x202-(0x718*-0x4+0x1522+-0x3a*-0x20)*(_0x24ea2f*_0x24ea2f+_0xebe537*_0xebe537))),_0x202115['set'](_0x231709,_0x57b114,_0x542e67)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x13e464=this){return this['conjugate'](_0x13e464)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x1dc4a5,_0x3fd1b0,_0x4568c9){const _0x234832=(0x6ad*-0x1+0x205*0x7+-0x775-_0x4568c9)*(_0x1dc4a5['dot'](_0x3fd1b0)<0xfb*-0x22+-0x17b2+0x3908?-(0x9d*-0xd+-0x1bb5*-0x1+-0x13bb):0x2127+-0x6*0x6c+-0x1e9e);return this['x']=_0x1dc4a5['x']*_0x234832+_0x3fd1b0['x']*_0x4568c9,this['y']=_0x1dc4a5['y']*_0x234832+_0x3fd1b0['y']*_0x4568c9,this['z']=_0x1dc4a5['z']*_0x234832+_0x3fd1b0['z']*_0x4568c9,this['w']=_0x1dc4a5['w']*_0x234832+_0x3fd1b0['w']*_0x4568c9,this['normalize']();}['mul'](_0x29a00f){const _0x332036=this['x'],_0x2b81eb=this['y'],_0x3511aa=this['z'],_0x164546=this['w'],_0x52e95a=_0x29a00f['x'],_0x25afe7=_0x29a00f['y'],_0x13ca22=_0x29a00f['z'],_0x17201f=_0x29a00f['w'];return this['x']=_0x164546*_0x52e95a+_0x332036*_0x17201f+_0x2b81eb*_0x13ca22-_0x3511aa*_0x25afe7,this['y']=_0x164546*_0x25afe7+_0x2b81eb*_0x17201f+_0x3511aa*_0x52e95a-_0x332036*_0x13ca22,this['z']=_0x164546*_0x13ca22+_0x3511aa*_0x17201f+_0x332036*_0x25afe7-_0x2b81eb*_0x52e95a,this['w']=_0x164546*_0x17201f-_0x332036*_0x52e95a-_0x2b81eb*_0x25afe7-_0x3511aa*_0x13ca22,this;}['mulScalar'](_0x5dae48,_0x1b7efd=this){return this['x']=_0x1b7efd['x']*_0x5dae48,this['y']=_0x1b7efd['y']*_0x5dae48,this['z']=_0x1b7efd['z']*_0x5dae48,this['w']=_0x1b7efd['w']*_0x5dae48,this;}['mul2'](_0x519d54,_0x17171d){const _0x7c2394=_0x519d54['x'],_0x1402bd=_0x519d54['y'],_0x3bf2d9=_0x519d54['z'],_0x49ecc0=_0x519d54['w'],_0x358d87=_0x17171d['x'],_0x21d361=_0x17171d['y'],_0x4e82d1=_0x17171d['z'],_0x41b545=_0x17171d['w'];return this['x']=_0x49ecc0*_0x358d87+_0x7c2394*_0x41b545+_0x1402bd*_0x4e82d1-_0x3bf2d9*_0x21d361,this['y']=_0x49ecc0*_0x21d361+_0x1402bd*_0x41b545+_0x3bf2d9*_0x358d87-_0x7c2394*_0x4e82d1,this['z']=_0x49ecc0*_0x4e82d1+_0x3bf2d9*_0x41b545+_0x7c2394*_0x21d361-_0x1402bd*_0x358d87,this['w']=_0x49ecc0*_0x41b545-_0x7c2394*_0x358d87-_0x1402bd*_0x21d361-_0x3bf2d9*_0x4e82d1,this;}['normalize'](_0x22ef41=this){let _0x1289cf=_0x22ef41['length']();return _0x1289cf===0x58*0x29+0x1ba7*0x1+-0x29bf?(this['x']=this['y']=this['z']=0x56+0x1f2b+0x64d*-0x5,this['w']=-0x7aa+-0x13b8+0x1b63):(_0x1289cf=(-0x5*0xd+-0x3ec*0x2+-0x2*-0x40d)/_0x1289cf,this['x']=_0x22ef41['x']*_0x1289cf,this['y']=_0x22ef41['y']*_0x1289cf,this['z']=_0x22ef41['z']*_0x1289cf,this['w']=_0x22ef41['w']*_0x1289cf),this;}['set'](_0x11a202,_0x29d255,_0x3588e3,_0x3427c8){return this['x']=_0x11a202,this['y']=_0x29d255,this['z']=_0x3588e3,this['w']=_0x3427c8,this;}['setFromAxi'+'sAngle'](_0x216660,_0x491038){_0x491038*=(-0x1*-0x2d2+-0x5*0x54d+0x17af*0x1+0.5)*Y['DEG_TO_RAD'];const _0x1abd15=Math['sin'](_0x491038),_0x122745=Math['cos'](_0x491038);return this['x']=_0x1abd15*_0x216660['x'],this['y']=_0x1abd15*_0x216660['y'],this['z']=_0x1abd15*_0x216660['z'],this['w']=_0x122745,this;}['setFromEul'+'erAngles'](_0x4b9fe9,_0x4bbada,_0x17753d){if(_0x4b9fe9 instanceof D){const _0x2aed40=_0x4b9fe9;_0x4b9fe9=_0x2aed40['x'],_0x4bbada=_0x2aed40['y'],_0x17753d=_0x2aed40['z'];}const _0x4763fd=(-0x1913+0xeea+0xa29+0.5)*Y['DEG_TO_RAD'];_0x4b9fe9*=_0x4763fd,_0x4bbada*=_0x4763fd,_0x17753d*=_0x4763fd;const _0x6c70d6=Math['sin'](_0x4b9fe9),_0x256ec4=Math['cos'](_0x4b9fe9),_0x2343d6=Math['sin'](_0x4bbada),_0x4111ca=Math['cos'](_0x4bbada),_0x262c96=Math['sin'](_0x17753d),_0x153f7f=Math['cos'](_0x17753d);return this['x']=_0x6c70d6*_0x4111ca*_0x153f7f-_0x256ec4*_0x2343d6*_0x262c96,this['y']=_0x256ec4*_0x2343d6*_0x153f7f+_0x6c70d6*_0x4111ca*_0x262c96,this['z']=_0x256ec4*_0x4111ca*_0x262c96-_0x6c70d6*_0x2343d6*_0x153f7f,this['w']=_0x256ec4*_0x4111ca*_0x153f7f+_0x6c70d6*_0x2343d6*_0x262c96,this;}['setFromMat'+'4'](_0x3a213d){const _0x4573ac=_0x3a213d['data'];let _0x2bdc02=_0x4573ac[0x298+0x26cf+-0xdcd*0x3],_0x23f120=_0x4573ac[0x1*-0x24fa+0xc88+0x1873],_0x2b4441=_0x4573ac[0x7d5+-0x1a82+-0x12af*-0x1],_0x269903=_0x4573ac[0xa*0x2c4+-0x1*-0x151a+-0x11*0x2de],_0x4faa58=_0x4573ac[0xd*-0x130+-0x4cc*0x2+-0x247*-0xb],_0x35bbc6=_0x4573ac[-0x94c+0x1401+-0x223*0x5],_0x1358d1=_0x4573ac[-0x5*-0x39e+-0x1331+0x123],_0x40b73b=_0x4573ac[0xd3*-0x26+0x17b4*0x1+0x1*0x7a7],_0x4ce5cc=_0x4573ac[-0x1*0x260f+0x57d+0x1*0x209c],_0x2c2f2a;return _0x2c2f2a=_0x2bdc02*_0x2bdc02+_0x23f120*_0x23f120+_0x2b4441*_0x2b4441,_0x2c2f2a===-0x5e*0x47+-0x1349*0x1+-0x1*-0x2d5b?this['set'](-0x15*-0x3e+0x1*-0x1ee6+0x19d0,-0x1*0x14f6+-0x7*0x1b3+-0x20db*-0x1,0x21f5+-0x9*-0x2fc+-0x3cd1*0x1,-0xc91*-0x1+-0x7b5*-0x2+-0x1bfa):(_0x2c2f2a=(0x1caf+0xe23+-0x2ad1)/Math['sqrt'](_0x2c2f2a),_0x2bdc02*=_0x2c2f2a,_0x23f120*=_0x2c2f2a,_0x2b4441*=_0x2c2f2a,_0x2c2f2a=_0x269903*_0x269903+_0x4faa58*_0x4faa58+_0x35bbc6*_0x35bbc6,_0x2c2f2a===-0x2286+-0x9c6+0x2c4c?this['set'](0xe5*-0x29+-0x2a6+-0x1*-0x2753,0x203+-0x34a+-0x147*-0x1,0x1de4+-0x2336+-0x552*-0x1,-0x18ff+0x121*0xe+0x932):(_0x2c2f2a=(0x1fad+-0x16c9+0x5b*-0x19)/Math['sqrt'](_0x2c2f2a),_0x269903*=_0x2c2f2a,_0x4faa58*=_0x2c2f2a,_0x35bbc6*=_0x2c2f2a,_0x2c2f2a=_0x1358d1*_0x1358d1+_0x40b73b*_0x40b73b+_0x4ce5cc*_0x4ce5cc,_0x2c2f2a===0x29*-0x4a+-0x1*-0x1a4d+-0x19b*0x9?this['set'](-0x1*0x1a07+0x135f+-0x6*-0x11c,-0x1a06*0x1+0x1bfb+-0x3*0xa7,0x20c0+0x2*-0x552+-0x4*0x587,-0x2*-0x5dd+0x1e54+-0x5*0x869):(_0x2c2f2a=(-0x599*0x5+-0x379+-0xb3*-0x2d)/Math['sqrt'](_0x2c2f2a),_0x1358d1*=_0x2c2f2a,_0x40b73b*=_0x2c2f2a,_0x4ce5cc*=_0x2c2f2a,_0x4ce5cc<-0x1b73+-0x1*0xfcd+0x2b40?_0x2bdc02>_0x4faa58?this['set'](-0x2*0xdab+0x21cd+-0x676+_0x2bdc02-_0x4faa58-_0x4ce5cc,_0x23f120+_0x269903,_0x1358d1+_0x2b4441,_0x35bbc6-_0x40b73b):this['set'](_0x23f120+_0x269903,-0x50+0x1028+0xfd7*-0x1-_0x2bdc02+_0x4faa58-_0x4ce5cc,_0x35bbc6+_0x40b73b,_0x1358d1-_0x2b4441):_0x2bdc02<-_0x4faa58?this['set'](_0x1358d1+_0x2b4441,_0x35bbc6+_0x40b73b,0x5d7+-0x2*0x1345+0x20b4-_0x2bdc02-_0x4faa58+_0x4ce5cc,_0x23f120-_0x269903):this['set'](_0x35bbc6-_0x40b73b,_0x1358d1-_0x2b4441,_0x23f120-_0x269903,0x888+-0xe7a+0x5f3+_0x2bdc02+_0x4faa58+_0x4ce5cc),this['mulScalar']((0x20c6+-0x239+-0x1e8c)/this['length']()))));}['setFromDir'+'ections'](_0xfb4e8e,_0x260ff4){const _0x4cb4f1=-0x16e+-0x1ef9+0x3d*0x88+_0xfb4e8e['dot'](_0x260ff4);return _0x4cb4f1<Number['EPSILON']?Math['abs'](_0xfb4e8e['x'])>Math['abs'](_0xfb4e8e['y'])?(this['x']=-_0xfb4e8e['z'],this['y']=-0xc53+-0x2ae*-0x5+-0x113,this['z']=_0xfb4e8e['x'],this['w']=-0x11b4+-0x2345+0xbf*0x47):(this['x']=0x1*0x69d+-0x14b1+0xe14,this['y']=-_0xfb4e8e['z'],this['z']=_0xfb4e8e['y'],this['w']=-0x19*0x123+0x4*-0x3a9+-0x49*-0x97):(this['x']=_0xfb4e8e['y']*_0x260ff4['z']-_0xfb4e8e['z']*_0x260ff4['y'],this['y']=_0xfb4e8e['z']*_0x260ff4['x']-_0xfb4e8e['x']*_0x260ff4['z'],this['z']=_0xfb4e8e['x']*_0x260ff4['y']-_0xfb4e8e['y']*_0x260ff4['x'],this['w']=_0x4cb4f1),this['normalize']();}['slerp'](_0x15f05f,_0x338940,_0x5af558){const _0x167529=_0x15f05f['x'],_0x2c5f09=_0x15f05f['y'],_0x84cda5=_0x15f05f['z'],_0x25a01a=_0x15f05f['w'];let _0x373743=_0x338940['x'],_0x366ab1=_0x338940['y'],_0x57eeb1=_0x338940['z'],_0x31ee9e=_0x338940['w'],_0x1f7443=_0x25a01a*_0x31ee9e+_0x167529*_0x373743+_0x2c5f09*_0x366ab1+_0x84cda5*_0x57eeb1;if(_0x1f7443<-0x21bb+0x152+0x1*0x2069&&(_0x31ee9e=-_0x31ee9e,_0x373743=-_0x373743,_0x366ab1=-_0x366ab1,_0x57eeb1=-_0x57eeb1,_0x1f7443=-_0x1f7443),Math['abs'](_0x1f7443)>=-0x1968+0x1759+0x210)return this['w']=_0x25a01a,this['x']=_0x167529,this['y']=_0x2c5f09,this['z']=_0x84cda5,this;const _0x2ac16d=Math['acos'](_0x1f7443),_0x16e8c4=Math['sqrt'](-0x1ddd*0x1+-0x1cc4+0x3aa2-_0x1f7443*_0x1f7443);if(Math['abs'](_0x16e8c4)<-0xb17*0x1+-0x19*0x4a+0x1251+0.001)return this['w']=_0x25a01a*(-0x2e2*-0x2+0x6b6+0x1*-0xc7a+0.5)+_0x31ee9e*(-0x1152+-0x24d4+0x2*0x1b13+0.5),this['x']=_0x167529*(0x4c*-0x5a+0xc60*-0x1+0x2718+0.5)+_0x373743*(0x5c0+-0xe4a+0x88a+0.5),this['y']=_0x2c5f09*(0x37*0x7e+-0x2*0x7f+-0x1a14+0.5)+_0x366ab1*(0x1dd3+-0x97*-0x1d+-0x2eee+0.5),this['z']=_0x84cda5*(-0x1*0x165e+-0x2617+0x3c75+0.5)+_0x57eeb1*(-0x1b0e*-0x1+0x1*0x765+0x2273*-0x1+0.5),this;const _0x1ca37c=Math['sin']((-0x2460+-0xb*0x371+-0x128f*-0x4-_0x5af558)*_0x2ac16d)/_0x16e8c4,_0x11db3f=Math['sin'](_0x5af558*_0x2ac16d)/_0x16e8c4;return this['w']=_0x25a01a*_0x1ca37c+_0x31ee9e*_0x11db3f,this['x']=_0x167529*_0x1ca37c+_0x373743*_0x11db3f,this['y']=_0x2c5f09*_0x1ca37c+_0x366ab1*_0x11db3f,this['z']=_0x84cda5*_0x1ca37c+_0x57eeb1*_0x11db3f,this;}['transformV'+'ector'](_0x279110,_0x7064a6=new D()){const _0x5407ab=_0x279110['x'],_0x44586d=_0x279110['y'],_0x390b0c=_0x279110['z'],_0x50156e=this['x'],_0x50d2c1=this['y'],_0x54a00b=this['z'],_0x4d2c79=this['w'],_0x4ff405=_0x4d2c79*_0x5407ab+_0x50d2c1*_0x390b0c-_0x54a00b*_0x44586d,_0x5822e2=_0x4d2c79*_0x44586d+_0x54a00b*_0x5407ab-_0x50156e*_0x390b0c,_0x1898c6=_0x4d2c79*_0x390b0c+_0x50156e*_0x44586d-_0x50d2c1*_0x5407ab,_0x5c6556=-_0x50156e*_0x5407ab-_0x50d2c1*_0x44586d-_0x54a00b*_0x390b0c;return _0x7064a6['x']=_0x4ff405*_0x4d2c79+_0x5c6556*-_0x50156e+_0x5822e2*-_0x54a00b-_0x1898c6*-_0x50d2c1,_0x7064a6['y']=_0x5822e2*_0x4d2c79+_0x5c6556*-_0x50d2c1+_0x1898c6*-_0x50156e-_0x4ff405*-_0x54a00b,_0x7064a6['z']=_0x1898c6*_0x4d2c79+_0x5c6556*-_0x54a00b+_0x4ff405*-_0x50d2c1-_0x5822e2*-_0x50156e,_0x7064a6;}['fromArray'](_0xc921d6,_0x5ceba4=-0x12*0x1f5+0x22d9*-0x1+-0x1*-0x4613){return this['x']=_0xc921d6[_0x5ceba4]??this['x'],this['y']=_0xc921d6[_0x5ceba4+(-0x10*0xe3+-0x2*-0x1190+-0x14ef)]??this['y'],this['z']=_0xc921d6[_0x5ceba4+(-0x1b69*-0x1+-0xb0c+-0x105b)]??this['z'],this['w']=_0xc921d6[_0x5ceba4+(0x1873+0x1*-0x1d89+0x519)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x31591d=[],_0xebd7c=0x2*-0x117e+0xd20+-0xaee*-0x2){return _0x31591d[_0xebd7c]=this['x'],_0x31591d[_0xebd7c+(0x1ede+0xb*-0x1c9+-0xb3a)]=this['y'],_0x31591d[_0xebd7c+(0xfe2+-0x71*0x9+-0x115*0xb)]=this['z'],_0x31591d[_0xebd7c+(0x1*-0x15eb+-0xdde+0x23cc)]=this['w'],_0x31591d;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0xae9+-0xd3e+-0x2af*-0x9,0x8f9+-0x1bfd+0x1*0x1304,-0xef*0x3+0x1485+0x288*-0x7,-0x86d+-0x8a0+-0x110e*-0x1))),h(Sn,'ZERO',Object['freeze'](new Sn(0x2429*-0x1+0x1f*0x118+0x241*0x1,0x70a*-0x2+-0x1d45+0x2b59,0x1b1*-0x17+0x2*0x886+0x15db,0x26fb+0x1*-0x65a+-0x20a1*0x1)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x2de21c,_0x248996){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x28*-0x49+0x1*0x17d2+-0xc6a+0.5,-0x1*0x86+0x11*-0x1e3+-0x2099*-0x1+0.5,0xcd1+0x9*-0x1c1+-0x98*-0x5+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x2de21c&&this['center']['copy'](_0x2de21c),_0x248996&&this['halfExtent'+'s']['copy'](_0x248996));}['add'](_0x4fa880){const _0x7527c8=this['center'],_0x571477=_0x7527c8['x'],_0x1c2af3=_0x7527c8['y'],_0x5392b8=_0x7527c8['z'],_0x54794e=this['halfExtent'+'s'],_0x3715cf=_0x54794e['x'],_0x29f4bc=_0x54794e['y'],_0xf56c39=_0x54794e['z'];let _0x4358fb=_0x571477-_0x3715cf,_0x2a5cf5=_0x571477+_0x3715cf,_0x30ceb9=_0x1c2af3-_0x29f4bc,_0x83880b=_0x1c2af3+_0x29f4bc,_0x4c8f49=_0x5392b8-_0xf56c39,_0x558f7c=_0x5392b8+_0xf56c39;const _0x4a9e18=_0x4fa880['center'],_0xba56a5=_0x4a9e18['x'],_0x18da8f=_0x4a9e18['y'],_0x907e35=_0x4a9e18['z'],_0xb6a965=_0x4fa880['halfExtent'+'s'],_0x462532=_0xb6a965['x'],_0x4eee7b=_0xb6a965['y'],_0x28495e=_0xb6a965['z'],_0xb63699=_0xba56a5-_0x462532,_0x591f53=_0xba56a5+_0x462532,_0x1dc0a1=_0x18da8f-_0x4eee7b,_0x4a7bf8=_0x18da8f+_0x4eee7b,_0x22eff0=_0x907e35-_0x28495e,_0x54e8df=_0x907e35+_0x28495e;_0xb63699<_0x4358fb&&(_0x4358fb=_0xb63699),_0x591f53>_0x2a5cf5&&(_0x2a5cf5=_0x591f53),_0x1dc0a1<_0x30ceb9&&(_0x30ceb9=_0x1dc0a1),_0x4a7bf8>_0x83880b&&(_0x83880b=_0x4a7bf8),_0x22eff0<_0x4c8f49&&(_0x4c8f49=_0x22eff0),_0x54e8df>_0x558f7c&&(_0x558f7c=_0x54e8df),_0x7527c8['x']=(_0x4358fb+_0x2a5cf5)*(-0xd15+-0x5*-0x115+0x4*0x1eb+0.5),_0x7527c8['y']=(_0x30ceb9+_0x83880b)*(0x1b53*-0x1+0x1bc+-0x1*-0x1997+0.5),_0x7527c8['z']=(_0x4c8f49+_0x558f7c)*(0x186a+-0x1*-0x13d8+-0x5*0x8da+0.5),_0x54794e['x']=(_0x2a5cf5-_0x4358fb)*(-0x9b*0x3f+0x365+0x22c0+0.5),_0x54794e['y']=(_0x83880b-_0x30ceb9)*(0x4*-0xf4+-0x5ad*0x2+-0x2*-0x795+0.5),_0x54794e['z']=(_0x558f7c-_0x4c8f49)*(-0x12f*0x1+0x27*-0xf9+0x271e+0.5);}['copy'](_0x2ba3a2){this['center']['copy'](_0x2ba3a2['center']),this['halfExtent'+'s']['copy'](_0x2ba3a2['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x5f5cf7){const _0x43ec8d=this['getMax'](),_0x2b6cbd=this['getMin'](),_0xc6f3dc=_0x5f5cf7['getMax'](),_0x4035ef=_0x5f5cf7['getMin']();return _0x2b6cbd['x']<=_0xc6f3dc['x']&&_0x43ec8d['x']>=_0x4035ef['x']&&_0x2b6cbd['y']<=_0xc6f3dc['y']&&_0x43ec8d['y']>=_0x4035ef['y']&&_0x2b6cbd['z']<=_0xc6f3dc['z']&&_0x43ec8d['z']>=_0x4035ef['z'];}['_intersect'+'sRay'](_0x50c0f2,_0x3cc0f5){const _0x246e28=Pa['copy'](this['getMin']())['sub'](_0x50c0f2['origin']),_0x831310=Ma['copy'](this['getMax']())['sub'](_0x50c0f2['origin']),_0x3d456f=_0x50c0f2['direction'];_0x3d456f['x']===0x2*-0xea4+0x4*0x569+0x7a4?(_0x246e28['x']=_0x246e28['x']<-0x2523+-0x1*-0x26f7+-0x1d4?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x831310['x']=_0x831310['x']<-0xb02+-0x4e2+-0x7f2*-0x2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x246e28['x']/=_0x3d456f['x'],_0x831310['x']/=_0x3d456f['x']),_0x3d456f['y']===-0x16*0xfe+0x3*0x611+0x3a1?(_0x246e28['y']=_0x246e28['y']<0x151+-0x2*0xb04+0x14b7?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x831310['y']=_0x831310['y']<0x166+0x1d59*0x1+-0x1ebf?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x246e28['y']/=_0x3d456f['y'],_0x831310['y']/=_0x3d456f['y']),_0x3d456f['z']===-0x94e+0x363*-0xa+0x2b2c?(_0x246e28['z']=_0x246e28['z']<0xad7+-0x7*-0x48b+-0x1*0x2aa4?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x831310['z']=_0x831310['z']<0x11b4+0x8*-0x1f0+-0x234?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x246e28['z']/=_0x3d456f['z'],_0x831310['z']/=_0x3d456f['z']);const _0x4e2ec8=Um['set'](Math['min'](_0x246e28['x'],_0x831310['x']),Math['min'](_0x246e28['y'],_0x831310['y']),Math['min'](_0x246e28['z'],_0x831310['z'])),_0x553fc1=Bm['set'](Math['max'](_0x246e28['x'],_0x831310['x']),Math['max'](_0x246e28['y'],_0x831310['y']),Math['max'](_0x246e28['z'],_0x831310['z'])),_0x5ad81a=Math['min'](Math['min'](_0x553fc1['x'],_0x553fc1['y']),_0x553fc1['z']),_0x136379=Math['max'](Math['max'](_0x4e2ec8['x'],_0x4e2ec8['y']),_0x4e2ec8['z']),_0x584712=_0x5ad81a>=_0x136379&&_0x136379>=-0x2f*0xc4+0x1e4e+-0x1*-0x5ae;return _0x584712&&_0x3cc0f5['copy'](_0x50c0f2['direction'])['mulScalar'](_0x136379)['add'](_0x50c0f2['origin']),_0x584712;}['_fastInter'+'sectsRay'](_0x546540){const _0xa59dc5=Pa,_0x4d4ae5=Ma,_0x339347=Um,_0x4e659e=Bm,_0xd75f3b=gx,_0x4961dd=_0x546540['direction'];return _0xa59dc5['sub2'](_0x546540['origin'],this['center']),_0x4e659e['set'](Math['abs'](_0xa59dc5['x']),Math['abs'](_0xa59dc5['y']),Math['abs'](_0xa59dc5['z'])),_0x339347['mul2'](_0xa59dc5,_0x4961dd),!(_0x4e659e['x']>this['halfExtent'+'s']['x']&&_0x339347['x']>=0x1a06+0x168+-0x1b6e*0x1||_0x4e659e['y']>this['halfExtent'+'s']['y']&&_0x339347['y']>=0x3*-0x8ab+-0xfb*0x1+-0x274*-0xb||_0x4e659e['z']>this['halfExtent'+'s']['z']&&_0x339347['z']>=0x557*0x1+0x4c5+-0xa1c||(_0xd75f3b['set'](Math['abs'](_0x4961dd['x']),Math['abs'](_0x4961dd['y']),Math['abs'](_0x4961dd['z'])),_0x4d4ae5['cross'](_0x4961dd,_0xa59dc5),_0x4d4ae5['set'](Math['abs'](_0x4d4ae5['x']),Math['abs'](_0x4d4ae5['y']),Math['abs'](_0x4d4ae5['z'])),_0x4d4ae5['x']>this['halfExtent'+'s']['y']*_0xd75f3b['z']+this['halfExtent'+'s']['z']*_0xd75f3b['y'])||_0x4d4ae5['y']>this['halfExtent'+'s']['x']*_0xd75f3b['z']+this['halfExtent'+'s']['z']*_0xd75f3b['x']||_0x4d4ae5['z']>this['halfExtent'+'s']['x']*_0xd75f3b['y']+this['halfExtent'+'s']['y']*_0xd75f3b['x']);}['intersects'+'Ray'](_0x5a267e,_0x15040e){return _0x15040e?this['_intersect'+'sRay'](_0x5a267e,_0x15040e):this['_fastInter'+'sectsRay'](_0x5a267e);}['setMinMax'](_0x54febd,_0x268594){this['center']['add2'](_0x268594,_0x54febd)['mulScalar'](-0x9b4+0x1*-0x9b3+-0x1*-0x1367+0.5),this['halfExtent'+'s']['sub2'](_0x268594,_0x54febd)['mulScalar'](-0x3dc*0x5+-0x1d9c+0x30e8+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x2b9f21){const _0x4d880b=this['getMin'](),_0x132888=this['getMax']();return!(_0x2b9f21['x']<_0x4d880b['x']||_0x2b9f21['x']>_0x132888['x']||_0x2b9f21['y']<_0x4d880b['y']||_0x2b9f21['y']>_0x132888['y']||_0x2b9f21['z']<_0x4d880b['z']||_0x2b9f21['z']>_0x132888['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x191000,_0x158094,_0x5f40ca=!(-0x2548+-0x1*0x1f87+0xb78*0x6)){const _0x550d73=_0x191000['center'],_0x1fd4a2=_0x191000['halfExtent'+'s'],_0xd5557e=_0x158094['data'];let _0x12e9c6=_0xd5557e[-0x1604+-0x5b*0x5+-0x1*-0x17cb],_0x561d49=_0xd5557e[-0x1*0x16c2+-0x21dd+0x38a3],_0x34b258=_0xd5557e[-0x204d*0x1+-0x11a8+0x31fd*0x1],_0x119c5a=_0xd5557e[0x25b2+0x6ab+-0xb17*0x4],_0x465d7f=_0xd5557e[-0x17*0x106+-0x14d5+0x1632*0x2],_0x268efc=_0xd5557e[0x1831+0x1*0x111b+-0x2943],_0x119f77=_0xd5557e[-0x1935+-0x1b46+0x347d],_0x4e9a2a=_0xd5557e[0x12d9+0x1b*0x35+-0x186a],_0x2efbc9=_0xd5557e[0x909+0x6*-0x2f7+0x1*0x8cb];if(_0x5f40ca){let _0x552e90=_0x12e9c6*_0x12e9c6+_0x561d49*_0x561d49+_0x34b258*_0x34b258;if(_0x552e90>-0x196*0x7+0x15f9*0x1+0xfd*-0xb){const _0x5e2df5=(-0x2bc+-0x24bb+0x18*0x1a5)/Math['sqrt'](_0x552e90);_0x12e9c6*=_0x5e2df5,_0x561d49*=_0x5e2df5,_0x34b258*=_0x5e2df5;}if(_0x552e90=_0x119c5a*_0x119c5a+_0x465d7f*_0x465d7f+_0x268efc*_0x268efc,_0x552e90>0x132b+0x1f53+0x17*-0x232){const _0x166384=(0x238b+-0x3*0xd1+0xc5*-0x2b)/Math['sqrt'](_0x552e90);_0x119c5a*=_0x166384,_0x465d7f*=_0x166384,_0x268efc*=_0x166384;}if(_0x552e90=_0x119f77*_0x119f77+_0x4e9a2a*_0x4e9a2a+_0x2efbc9*_0x2efbc9,_0x552e90>0x426+0x33a+-0x20*0x3b){const _0x299136=(0x1943+-0x2216+-0x5*-0x1c4)/Math['sqrt'](_0x552e90);_0x119f77*=_0x299136,_0x4e9a2a*=_0x299136,_0x2efbc9*=_0x299136;}}this['center']['set'](_0xd5557e[-0x43f*0x6+-0xbf6+0x12be*0x2]+_0x12e9c6*_0x550d73['x']+_0x561d49*_0x550d73['y']+_0x34b258*_0x550d73['z'],_0xd5557e[-0x1772+-0x148f*0x1+-0x2*-0x1607]+_0x119c5a*_0x550d73['x']+_0x465d7f*_0x550d73['y']+_0x268efc*_0x550d73['z'],_0xd5557e[-0x1115*-0x2+0x540*0x5+0x2*-0x1e2e]+_0x119f77*_0x550d73['x']+_0x4e9a2a*_0x550d73['y']+_0x2efbc9*_0x550d73['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x12e9c6)*_0x1fd4a2['x']+Math['abs'](_0x561d49)*_0x1fd4a2['y']+Math['abs'](_0x34b258)*_0x1fd4a2['z'],Math['abs'](_0x119c5a)*_0x1fd4a2['x']+Math['abs'](_0x465d7f)*_0x1fd4a2['y']+Math['abs'](_0x268efc)*_0x1fd4a2['z'],Math['abs'](_0x119f77)*_0x1fd4a2['x']+Math['abs'](_0x4e9a2a)*_0x1fd4a2['y']+Math['abs'](_0x2efbc9)*_0x1fd4a2['z']);}static['computeMin'+'Max'](_0x3104d7,_0x38ba49,_0xc47e7d,_0x46b0cb=_0x3104d7['length']/(0x1da7+-0x7f4*-0x1+-0x2598)){if(_0x46b0cb>-0x14*-0xae+0x34*0xaf+-0x154*0x25){let _0x49911b=_0x3104d7[0x2df+-0x5ab+0xb3*0x4],_0x463564=_0x3104d7[-0x34*-0x28+0x7c+-0x89b],_0xa8dedf=_0x3104d7[0x16d6*-0x1+0x20dc+-0xa04],_0x2ce475=_0x49911b,_0x2e000c=_0x463564,_0x5e89bc=_0xa8dedf;const _0x5b90fe=_0x46b0cb*(-0xffd*-0x1+0x2406+-0x200*0x1a);for(let _0x4c8add=0x365*-0x4+0x12f*-0x18+0x1*0x29ff;_0x4c8add<_0x5b90fe;_0x4c8add+=0x2*0xa91+-0xd*0x175+-0x22e){const _0x399ded=_0x3104d7[_0x4c8add],_0x10250f=_0x3104d7[_0x4c8add+(0x1*-0x1e34+0x29*-0xa9+-0x1ca3*-0x2)],_0x72f21f=_0x3104d7[_0x4c8add+(0x1*-0x135a+0x2*0xb9b+-0x3da)];_0x399ded<_0x49911b&&(_0x49911b=_0x399ded),_0x10250f<_0x463564&&(_0x463564=_0x10250f),_0x72f21f<_0xa8dedf&&(_0xa8dedf=_0x72f21f),_0x399ded>_0x2ce475&&(_0x2ce475=_0x399ded),_0x10250f>_0x2e000c&&(_0x2e000c=_0x10250f),_0x72f21f>_0x5e89bc&&(_0x5e89bc=_0x72f21f);}_0x38ba49['set'](_0x49911b,_0x463564,_0xa8dedf),_0xc47e7d['set'](_0x2ce475,_0x2e000c,_0x5e89bc);}}['compute'](_0x1643fa,_0x2b58e1){De['computeMin'+'Max'](_0x1643fa,Pa,Ma,_0x2b58e1),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x33238a){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x33238a)<=_0x33238a['radius']*_0x33238a['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x2c02fe){const _0x577a43=this['getMin'](),_0xce0a42=this['getMax']();let _0x5db085=0x464+0x144f+0x18b3*-0x1;const _0x1e3e2d=['x','y','z'];for(let _0x4d5069=-0x1b91+-0x144c+0x2fdd*0x1;_0x4d5069<-0x1*-0x1a93+-0x24f5+-0xa65*-0x1;++_0x4d5069){let _0x4fac46=0x28*0x8+-0x11b7+0x1077;const _0x207a6a=_0x2c02fe['center'][_0x1e3e2d[_0x4d5069]],_0x57c6b2=_0x577a43[_0x1e3e2d[_0x4d5069]],_0x2abd1=_0xce0a42[_0x1e3e2d[_0x4d5069]];let _0x3fafdc=-0x511+-0x1965+0x1e76;_0x207a6a<_0x57c6b2&&(_0x3fafdc=_0x57c6b2-_0x207a6a,_0x4fac46+=_0x3fafdc*_0x3fafdc),_0x207a6a>_0x2abd1&&(_0x3fafdc=_0x207a6a-_0x2abd1,_0x4fac46+=_0x3fafdc*_0x3fafdc),_0x5db085+=_0x4fac46;}return _0x5db085;}['_expand'](_0x2d6e0d,_0x2a6418){Pa['add2'](this['getMin'](),_0x2d6e0d),Ma['add2'](this['getMax'](),_0x2a6418),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x3ed801=new D(),_0x468dfb=0x5*-0x341+0xa99+-0x79*-0xc+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x3ed801),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x3ed801,this['radius']=_0x468dfb);}['containsPo'+'int'](_0x6eb0be){const _0x5cc1f2=Wl['sub2'](_0x6eb0be,this['center'])['lengthSq'](),_0x4c0460=this['radius'];return _0x5cc1f2<_0x4c0460*_0x4c0460;}['intersects'+'Ray'](_0x46ca41,_0x356ea1){const _0x56462d=Wl['copy'](_0x46ca41['origin'])['sub'](this['center']),_0x41187a=_0x56462d['dot'](Sx['copy'](_0x46ca41['direction'])['normalize']()),_0x31c021=_0x56462d['dot'](_0x56462d)-this['radius']*this['radius'];if(_0x31c021>-0x7*0x58f+-0x793*-0x1+0x1f56&&_0x41187a>-0x68+0x425*-0x1+0x48d)return!(0x1c55+0x1f*-0xe+-0x1aa2);const _0x554805=_0x41187a*_0x41187a-_0x31c021;if(_0x554805<-0x1f86+-0x1114+0x309a)return!(-0x1796+0x2157+-0x9c0);const _0xa8135f=Math['abs'](-_0x41187a-Math['sqrt'](_0x554805));return _0x356ea1&&_0x356ea1['copy'](_0x46ca41['direction'])['mulScalar'](_0xa8135f)['add'](_0x46ca41['origin']),!(-0xc87+-0x19f8+0x267f*0x1);}['intersects'+'BoundingSp'+'here'](_0x453d4c){Wl['sub2'](_0x453d4c['center'],this['center']);const _0x3d021b=_0x453d4c['radius']+this['radius'];return Wl['lengthSq']()<=_0x3d021b*_0x3d021b;}}class QS{constructor(_0x5026f4=D['UP'],_0x38dfd2=0x1*-0xbaa+-0x159a+-0x2*-0x10a2){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x5026f4),this['distance']=_0x38dfd2);}['clone'](){const _0x4e61a9=this['constructo'+'r'];return new _0x4e61a9()['copy'](this);}['copy'](_0x2c0b25){return this['normal']['copy'](_0x2c0b25['normal']),this['distance']=_0x2c0b25['distance'],this;}['intersects'+'Line'](_0x4ddc83,_0x55ed3b,_0x3b9cfb){const _0x4c8b81=this['distance'],_0x1bb4f2=this['normal']['dot'](_0x4ddc83)+_0x4c8b81,_0x2338d7=this['normal']['dot'](_0x55ed3b)+_0x4c8b81,_0x6a7888=_0x1bb4f2/(_0x1bb4f2-_0x2338d7),_0x44452f=_0x6a7888>=-0x11b*0xf+-0x24ba*0x1+-0x354f*-0x1&&_0x6a7888<=0x2326+-0x251*0x1+-0x20d4*0x1;return _0x44452f&&_0x3b9cfb&&_0x3b9cfb['lerp'](_0x4ddc83,_0x55ed3b,_0x6a7888),_0x44452f;}['intersects'+'Ray'](_0x33d30c,_0x2c54c4){const _0x36a31a=this['normal']['dot'](_0x33d30c['direction']);if(_0x36a31a===0xf*0x53+0x1656+0x1b33*-0x1)return!(-0x161a+0x25ce+-0xfb3);const _0x3dc245=-(this['normal']['dot'](_0x33d30c['origin'])+this['distance'])/_0x36a31a;return _0x3dc245>=0x4*0x985+-0x7*-0x3bd+0x1*-0x403f&&_0x2c54c4&&_0x2c54c4['copy'](_0x33d30c['direction'])['mulScalar'](_0x3dc245)['add'](_0x33d30c['origin']),_0x3dc245>=0xd*-0x80+-0x14c0+-0x2*-0xda0;}['normalize'](){const _0x1acf02=(0x31c+-0x1f65+0x2*0xe25)/this['normal']['length']();return this['normal']['mulScalar'](_0x1acf02),this['distance']*=_0x1acf02,this;}['set'](_0x3810ca,_0x85a3cd,_0x77000e,_0x187cc3){return this['normal']['set'](_0x3810ca,_0x85a3cd,_0x77000e),this['distance']=_0x187cc3,this;}['setFromPoi'+'ntNormal'](_0x38fc5e,_0x5131bd){return this['normal']['copy'](_0x5131bd),this['distance']=-this['normal']['dot'](_0x38fc5e),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x230586=-0x17*0x1b1+0x22ef+0x3f8;_0x230586<0xcc9*-0x3+0x18e*-0x6+0x2fb5;_0x230586++)this['planes'][_0x230586]=new QS();}['clone'](){const _0x4b7186=this['constructo'+'r'];return new _0x4b7186()['copy'](this);}['copy'](_0x55a2ae){for(let _0x38cde5=0x1*0x1aab+0xe75+-0x2920;_0x38cde5<0x3*-0x78b+-0x3*0xb07+0x1294*0x3;_0x38cde5++)this['planes'][_0x38cde5]['copy'](_0x55a2ae['planes'][_0x38cde5]);return this;}['setFromMat'+'4'](_0x4def4a){const [_0x11d601,_0x1080a9,_0x53d575,_0x2f319e,_0x44a856,_0x275377,_0x3d04aa,_0x3e0745,_0x26d369,_0x18bd40,_0x54337f,_0x58fca7,_0xff1e98,_0x2749e4,_0x335b40,_0x7b073]=_0x4def4a['data'],_0x441127=this['planes'];_0x441127[0x5*-0x691+0x1877*0x1+0x85e]['set'](_0x2f319e-_0x11d601,_0x3e0745-_0x44a856,_0x58fca7-_0x26d369,_0x7b073-_0xff1e98)['normalize'](),_0x441127[-0xb0a+0x11*-0x8+0x1*0xb93]['set'](_0x2f319e+_0x11d601,_0x3e0745+_0x44a856,_0x58fca7+_0x26d369,_0x7b073+_0xff1e98)['normalize'](),_0x441127[0x2ef*0x3+-0x2114+0x1849*0x1]['set'](_0x2f319e+_0x1080a9,_0x3e0745+_0x275377,_0x58fca7+_0x18bd40,_0x7b073+_0x2749e4)['normalize'](),_0x441127[0xde3+0x1f41+-0x2d21]['set'](_0x2f319e-_0x1080a9,_0x3e0745-_0x275377,_0x58fca7-_0x18bd40,_0x7b073-_0x2749e4)['normalize'](),_0x441127[-0xa85+-0x3*0x2f1+0x33a*0x6]['set'](_0x2f319e-_0x53d575,_0x3e0745-_0x3d04aa,_0x58fca7-_0x54337f,_0x7b073-_0x335b40)['normalize'](),_0x441127[-0x179e+0x2292+-0xaef]['set'](_0x2f319e+_0x53d575,_0x3e0745+_0x3d04aa,_0x58fca7+_0x54337f,_0x7b073+_0x335b40)['normalize']();}['containsPo'+'int'](_0x15f604){for(let _0x5ab734=-0x29b*0x7+-0x802+-0x1*-0x1a3f;_0x5ab734<0x8f*-0x3b+0x1*0x16bb+0xa40;_0x5ab734++){const {normal:_0x3ed4bf,distance:_0x4c7a0d}=this['planes'][_0x5ab734];if(_0x3ed4bf['dot'](_0x15f604)+_0x4c7a0d<=-0xbe7*-0x3+-0x3b5+-0x2000)return!(0x5d*0x1+0x137d*0x2+-0x2756);}return!(-0x61b*-0x2+-0x761*-0x5+-0x311b);}['containsSp'+'here'](_0x308347){const {center:_0xabf7ca,radius:_0x55ba9d}=_0x308347;let _0x289884=-0x10c1+0x4a2*0x6+-0xb0b;for(let _0xcbe654=-0x1c9b+-0x1b*0x11b+0x3a74;_0xcbe654<-0x9*-0x32a+0x1*-0x7db+-0x1499;_0xcbe654++){const {normal:_0xe04e71,distance:_0x34d91e}=this['planes'][_0xcbe654],_0x2c70c4=_0xe04e71['dot'](_0xabf7ca)+_0x34d91e;if(_0x2c70c4<=-_0x55ba9d)return-0x6af*-0x1+-0x2273+0xde2*0x2;_0x2c70c4>_0x55ba9d&&_0x289884++;}return _0x289884===-0x2*-0x98+-0x535+-0x40b*-0x1?-0x19af+0xc01+-0x248*-0x6:0x1a0*0x6+-0x103c+0x67d;}}class Dn{constructor(_0x38a180,_0x170702){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x38a180&&this['origin']['copy'](_0x38a180),_0x170702&&this['direction']['copy'](_0x170702));}['set'](_0x4829d8,_0xebb3da){return this['origin']['copy'](_0x4829d8),this['direction']['copy'](_0xebb3da),this;}['copy'](_0x26addf){return this['set'](_0x26addf['origin'],_0x26addf['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0xbdd*-0x3+0x263f+-0xd*0x5ae,ue=0x2*0x1330+0x2*-0x93+-0x2dd*0xd,ip=0x2426+-0xc3a+-0x17ea,rp=0x5*0x366+0x1b49+0x2c47*-0x1,Ft=-0x1ae1+0x596+0x154c,vx=0xc07+0x24f8+0x30fd*-0x1,JS=-0x2262+-0x18bf+0x7*0x873,xx=0x982+-0xef5+0x578,jh=-0x1ec6+0x1c4e*0x1+0x27e,Yh=-0x1676+0x291+0x13ed,fs=-0x7f4+-0x120a+0x6*0x455,Tx=0x8c1+-0x9c*-0x3b+-0x2cb3,wx=-0x692+-0x1c*0x109+0x2391,Ex=-0xe*-0x28e+0x691+0x3*-0xe1b,ms=-0x1240+-0x2375*0x1+0x35b5,lh=0x263e+0x1*-0x1d5d+-0x470*0x2,ey=-0x1a*0x17e+0xcca*0x2+0x69d*0x2,bx=0x23c6+0x5*0x71b+0x474a*-0x1,jo=-0x989*-0x3+-0x2*0x8+-0xd*0x232,Yo=0x84+0xb*-0x71+0x15*0x35,ch=-0x1a89+0x2118+-0x19*0x43,bt=0x1d5e+-0x1ed9+0x17b*0x1,pa=0x3*-0xb3b+0x1c10+0x5a2,Fo=0x2201+-0x5e2*0x3+-0x1059,Ax=0x9*-0x1dd+0x554+0xb74,Te=-0x1ce+-0x19dc+0x1*0x1baa,vt=0xd54+0x194a+-0x269d,Kh=-0x2dc+-0x2606+-0x1472*-0x2,Zh=-0x3d9*0x9+-0x129*-0xe+0x311*0x6,Qh=-0x166f+0x1*0x1e0d+-0x79a*0x1,ma=0x2567*-0x1+0xa3*0x39+0x11*0x11,Cx=0x19ea+0xb*-0xad+-0x629*0x3,hh=0xba0+0x19b*0x4+-0x95*0x1f,dh=-0x3ae+-0x55*-0x16+-0x39e,Wf=-0x5*-0x2e9+0x8ee*0x2+-0x2066,Px=-0x22f4+0x65*0x4a+0x5c6,Mx=-0x1*0x13d9+0x25ef*-0x1+-0x39cd*-0x1,Dx=-0xb46+-0x71*-0x2+0x56*0x1f,Wi=0x251*0xb+-0x10de+0x2*-0x44b,$f=0x1f8d+-0x1*-0x20ab+0x3c*-0x112,Yi=-0x411*-0x3+-0x2624+0x19f2,wr=0xa35+-0x210d+0xc3*0x1e,ty=0xe3*0x21+0xca0+-0x1*0x29e3,sy=-0x8e1+0x146f*-0x1+0x1d51,ap=0x1*-0x2069+-0x61b*0x1+0x2686,Jh=-0xe34+0x2300+0x11*-0x139,np=-0x66c*-0x6+-0x259f*0x1+-0xe5,ed=-0x6b*-0x59+-0x2633+0x105,Cr=0x16*-0x13f+-0x133c+0x1*0x2eac,Ne=0xd21*0x2+0x201+-0x1c3c,td=-0x16db+-0x496+0xd*0x21d,op=0x1e74+0x9*-0x18d+-0x1076*0x1,vl=-0x11*0xd7+-0x2*0x821+-0x1e93*-0x1,ui=-0x4fe+-0x2137+-0x24*-0x110,nt=0x1084+0xa*-0x135+-0x466,Ye=0xb6e+0x5*0x2df+-0x19bc,Xt=0x1*0x1753+0x63a+-0x1d7f,Ji=-0x1*-0x4c6+-0xd86+0x1*0x8cf,$i=0x1c82+0x6f5*-0x1+-0x157d*0x1,sd=-0x43a+0x24b7*0x1+-0x206c,In=-0xf58+0x1e5d*0x1+0x2b*-0x59,lp=-0x1b7a*0x1+0x1*-0x191b+0x34a8,_s=-0x3b*-0x5+0x1723+0x1836*-0x1,id=-0x2*0x95+-0x6ce*0x5+0x2345*0x1,cp=-0x59+0x89*0x40+-0x21d1,hp=-0x1ce8+0x8a*-0x48+0x43cf,xl=-0x1385*-0x2+0x2104+0x1*-0x47f6,Tl=-0x20*0x5e+0x1a3*0x17+-0x19cc,rd=0x2155+-0x2249*-0x1+-0x4384,ad=0x1a5d*-0x1+-0x200a+0x3a82,iy=-0x1*0x1b73+-0x13*-0xda+0xb61,ry=0xcef+0xbe4+0xc5b*-0x2,ay=0x104a+0x1*-0x1339+-0x1*-0x30d,ny=0x18a9*0x1+0x26*-0x1e+-0x359*0x6,dp=0x2575+-0xb3b+-0x1a*0x101,oy=-0x9*-0x13d+-0x1*0x1946+-0x16d*-0xa,fp=-0x1bd9+0x12*0x2e+0x18bf,up=-0x2487+-0x4*0x847+0x55e*0xd,pp=0x628*-0x5+0x1a96+0x456,Ki=-0x48c*-0x8+0x14a3*-0x1+-0xf98,mp=0x1cc*-0x2+-0x11d6+0x1594,ly=0x27*-0x57+0x1364*-0x2+0x3430,_p=0x1d6b+-0x1f84+-0x241*-0x1,gp=-0x1942+0x1c83+0x24*-0x16,Sp=0xb63*-0x1+0x250c+0x1*-0x197f,yp=0x1244+-0x1e1e+0xc05,vp=-0xc99+-0x14ed+0x2*0x10d9,cy=0x6ee*-0x4+0x1e34+-0x24f,xp=-0x19a4+0x567*-0x7+0x3fa3,nd=-0x1a07+0x1586+0xa*0x78,Tp=0x5*0x1a5+0x1*0x1f4+0x1*-0x9fd,Ue=0x816+-0x5*0x47f+0xe96,od=0x6*-0x59e+0x1350+0xe96,wp=-0x1*0x128b+-0x1*0xe04+-0x1*-0x20c2,Ep=0x129*0x13+0x14ee+-0x2ac5,bp=-0x5a5+-0x1f*-0x12b+-0x199*0x13,Xf=0x57b*-0x1+-0x3c6*0x1+-0x1*-0x977,qf=-0x96e+-0x2c*-0x3b+-0x7f,jf=0x1649+-0x607+-0x1*0x100a,Yf=-0x18*-0x16a+-0x7d5*-0x1+-0x2988,Kf=-0xc7*-0x14+-0x21f4+0x12a6,Zf=-0x1cd7+-0x17f6+-0xa*-0x54e,hy=0x1*-0x2126+0x332+0x1e34,dy=0x439*0x1+-0x1156+0xd5e,fy=-0x12b0+0x7d5*0x1+0xb1d,uy=-0x16a5+-0xe87+0x103*0x25,Qf=0xdf8+-0x6d*-0x50+-0x2fc4*0x1,vn=0x3df*-0x5+-0x945+0x1ce5,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0xef7*-0x1+-0x8ba*0x2+0x206b)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x133*-0x5+-0x778+0x179)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x9c*0x34+-0x2530+0x44e0)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x1cdf*0x1+0xfc6+0xd19)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x12ab+0x1*-0x57a+0x1825)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x2*0x251+0xef6+0x2*-0x52a)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x5*0x2f+-0x509*-0x3+-0x1*0x1006)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x1*-0x213a+-0x15ce+-0x92c*-0x6)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0x1510+0x2*-0x63f+-0x892)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x1c20+-0x94d*0x2+-0x175d*-0x2),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0x83*0x7+0x1868+-0x14d3),'srgb':!(0x2*-0x136e+-0x2503+0x1*0x4bdf)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x3a9+0x11e3+-0x158c),'srgb':!(-0x1604+0x3ab+-0x3d*-0x4d)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x260+0x2*-0x87d+0x135a)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0x270c+-0x12eb*-0x1+-0x39f7),'srgb':!(-0xad*0xa+-0x83*-0xd+-0x9*-0x3)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0xb9*0x32+-0x1c*-0x1d+-0x6*0x68d),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x1e0f+-0x1237*0x1+0x3046*0x1),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x3ff*0x7+-0x19ff+0x35f8),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x437*-0x7+-0x5f*0x4+-0x1c05)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0xb57*-0x1+-0x1c40+0x2797),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0xb*0x1ad+0x7c*-0x13+0x1ba3),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x67d*-0x1+-0x174e+0x1*0x1dcb),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x16ca*0x1+0x6*0x29+-0x17c0),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1*0x20b+-0xbf2+0xdfd),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x18fa+-0x17b7+-0x143),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x445+-0x1b5e+0x1b*0xdb),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0xc85*-0x2+-0x5b*-0x12+-0x1*-0x12a4)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2*0xbcf+-0x128d+0x2a2b*0x1)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x4db+0x49c*0x1+0x3f),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0xcaf+-0x11*0xd3+0x1ab2),'srgb':!(0x18b4+0xc30*0x2+-0x3114)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1*-0x2586+0x45*0x13+-0x2aa5),'srgb':!(-0xd*0xbb+0x67a*-0x2+-0x335*-0x7)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x907*-0x1+-0x3a*-0x4+-0x1*0x9ef),'srgb':!(-0x2661+-0xc71+0x515*0xa)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x163e+-0x1934+-0x2*-0x17b),'srgb':!(0x3*0x1a+0x2211+0x1a3*-0x15)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x270b*0x1+-0xd6b+0x1a3b*0x2),'srgb':!(0xd2f+0x35*-0x82+0xdbb)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x4*0x806+0xe1*-0xa+0x28e2),'srgb':!(0x111+0x1*0x47b+-0x58c)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x1308+0x175a+-0x1*0x2a62),'srgb':!(-0x1e92+0x5d9*0x3+0xd07)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x2*0xb+0x137d+-0x1367*0x1)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x79*0x47+0x19a8+-0x3b37)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0x24b8+-0x1c96+-0x822)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x293*0x8+0x204b+0x3*-0x11a1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x6ce*-0x1+0x161e+-0x1cec)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(-0x133b+0x2*-0xb02+-0x1*-0x293f)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0x42+-0xb3*-0x2+-0x1*0x1a8)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0xd0b+-0x499+-0x5e*0x17)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x1913+0x979+-0x228c)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x7c4*0x1+0xc5*-0x13+0x2d*0x27)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(0xf7d+-0x1f75+0xff8)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x3*-0x7a7+-0x730+-0xfc5)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x1*0x1529+0x17*0x18a+-0xe3d)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x2e7*-0x5+0x26d4+-0x1851)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x1*-0x217d+0x19dd+-0x3b5a*0x1)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x1ec5+0x5*-0x7be+0x7f1)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x45d+0x15ed*-0x1+-0x2*-0x8c8)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x24c+0xe*0x36+-0x540)}]]),Ix=_0x5f399d=>{var _0x39a598;return((_0x39a598=Nt['get'](_0x5f399d))==null?void(0x246a+-0x205+-0x2265):_0x39a598['blockSize'])!==void(0x2*0x6c3+0xc9c+-0x1a22);},fh=_0x58ae21=>{var _0x217b69;return((_0x217b69=Nt['get'](_0x58ae21))==null?void(-0x4*-0x696+-0x20f4+0x69c):_0x217b69['srgb'])===!(0x14d+0xc*0x3d+-0x3*0x163);},dn=_0x147000=>{var _0x3d9d20;return((_0x3d9d20=Nt['get'](_0x147000))==null?void(0xfef+-0x18a2+-0x83*-0x11):_0x3d9d20['isInt'])===!(0x236b+0x1378*-0x2+-0x11*-0x35);},ld=_0x351e6f=>{var _0x3c3bf2;return((_0x3c3bf2=Nt['get'](_0x351e6f))==null?void(0x1477+0x24f5*-0x1+0x107e):_0x3c3bf2['srgbFormat'])||_0x351e6f;},Lx=_0x55626e=>{for(const [_0x23ba3c,_0x759910]of Nt)if(_0x759910['srgbFormat']===_0x55626e)return _0x23ba3c;return _0x55626e;},py=_0x3d2988=>{const _0x1d5e2b=Nt['get'](_0x3d2988);return!!(_0x1d5e2b!=null&&_0x1d5e2b['ldr']&&!(_0x1d5e2b!=null&&_0x1d5e2b['srgb']));},my=_0x45139a=>{switch(_0x45139a){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=-0x566+0x1720+0x11ba*-0x1,hd=0x1e02+0x1ddd+-0x3bde,_y=-0x16f3+0x1529+0x1cc,gy=0x88*0x25+-0x62*-0x10+-0x19c5,js=0x1cde+-0x24c1+0x7e7,Er=0x1588+-0x1*0x22ed+0xd6a*0x1,oa=-0x59*-0x2e+-0xfb5*0x1+-0x43,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0x13b8+-0x16b8+0x2a71,xn=-0x49e+-0x182*-0x4+-0x16a,kx=-0x314*-0x8+0x3*0x10+-0x2*0xc67,Ux=-0x1c0a*-0x1+0x1c6e+-0x3875,Bx=-0x169f+-0x641*0x1+0x1ce5,$l=-0x4*-0x68d+0x9*-0x371+0x1*0x4c5,yy=-0x188f+0x10b0+0x4*0x1f8,Od=-0x1638+-0xd81+0x23bb*0x1,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0x6da+-0x1dad+0x2488,Pr=0x79f+-0xd4a+0x5ad,vy=-0x5c2*0x4+-0x136*0x4+0x79*0x3b,xy='2d',zx=-0x1*-0xdc9+-0x10c9+0x300,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x147+-0x1467+0x1320,la=0x14e5+-0x93*0x17+-0x119*0x7,fd=-0x1eb5+0xa84*-0x1+0x293b*0x1,Ml=-0xf4d*-0x1+0x133c+0x1eb*-0x12,Ty=-0x560+0x13*0xc3+-0x915,el=-0x1573+-0x184*-0x2+0x1270,Ve=-0x26d5+0x18b*0x16+0x4e9,Tn=0xfab+-0x3*-0x252+-0x3*0x78b,_a=0x13c5+0x88a*-0x1+0xb3a*-0x1,Xs=0xca5+0x270d+-0x33b0,ga=0x3*0xaef+-0x1571+0x19f*-0x7,ds=-0x23f3*-0x1+0x1731+-0x3b20,Rn=-0x2*0x1349+-0x1fa2+-0x4639*-0x1,ca=0xa47*-0x2+0x19b8+-0x524,ha=-0x1692+0x2*0x677+-0x63*-0x19,da=0x3*-0x16f+-0x528+-0x7*-0x15b,tl=0x134b+-0x238*0x8+0x182*-0x1,sl=0x18b2+-0x5c1+-0x1*0x12e7,il=-0x1b83+-0x153c+-0x1*-0x30ca,_h=0x55*-0x2d+-0xc1f+0x1b1c,On=0x22d3+-0x1a9a+-0x82c,li=-0x4*-0x6da+-0x1a3d+-0x39*0x5,Hx=-0x551*0x7+0xcac+0x1*0x189a,Wx=-0x2615*0x1+0x1*-0x2225+0x484a,ud=-0x1*-0x14bd+-0x1*-0x105d+0x13*-0x1f3,$x=0x2dd*-0x1+0x113b+-0xe4c,Xx=0x2*0xa9a+-0x51f+-0x2ab*0x6,qx=-0x13*-0x6b+-0x1a68+0x128b,pd=-0x1*-0x812+-0xd*0x2ed+0x1e0c,md=-0x25e0+0x3c8+0x222e,Lp=0x107*0x1c+-0x53*0x5f+-0x220*-0x1,wy=-0x1*0x18f4+0x3e9*0x8+-0x31e*0x2,jx=0x13*0x13+0x1*0x24b5+-0x2605,Fn=0x3*-0x576+-0xb2f*-0x1+0x54d,Nn=-0x26ed+0x1a9*-0x2+0x2a5a,kn=-0x786+-0x3*-0xc11+-0x47*0x67,Un=-0x9f7+-0x1247*-0x1+0x1*-0x833,Bn=-0x1*0x14bf+-0x1f8c+0x3469,_d=0x2002+-0x4e*0x59+-0x1*0x4c5,gd=0x243e+0x6*0x190+-0x2d7e,zn=-0xb*-0x335+0x1f30+-0x4256,Sd=0x665*-0x2+-0x19fb+0x17*0x1b1,yd=0xecc+0x26ca+-0x3573,Vn=0xaed*0x3+0x1279+0xcc7*-0x4,vd=0x1e4e+0x1*0x1943+-0x376c,xd=-0x14e0+-0x172+-0xb3c*-0x2,gh=0x21e7+0x37c*-0x5+-0x1054,Rp=-0x150+-0x1e5e+0x1fd6,Op=-0x18a8+-0x12f4+-0xe97*-0x3,Yx=0x169*-0xb+0x5dd+-0x8*-0x13a,Kx=-0x1745+0x1*-0xaa2+0x2212,Zx=0x1489+-0xb*0x2ee+-0x1*-0xbdd,Qx=0x1*-0x18df+-0x38f*0x2+0x166*0x17,Jx=0x7ac+0x2*0xcca+-0x2112,eT=0x3*0x79f+0xf*0x49+0x67*-0x43,tT=-0x11d4+0x2*0xf7a+-0xcf0,sT=-0x1*0x551+0x21*0x97+0x4a7*-0x3,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0xf4a8b1,_0x4aa757)=>{_0xf4a8b1['forEach'](_0x510183=>rT['set'](_0x510183,_0x4aa757));});const aT='webgl2',Fp=-0x23*0x65+0x110c+-0x2*0x19e,by=0x1*-0x1021+0x1*0x189b+-0x2*0x43c,nT=-0x6b*0x2e+-0x1987+0x9d*0x49,oT='ldr',Ay=-0x3d*-0x29+0x24dd+0xad*-0x45,Cy=0x1ac8+-0x126f+-0x857,Py=0x1*0x4da+0xc10+-0x10e6,My=0x8ee+0x1a20+-0x2306,Dy=0x1811+0x12cb*0x1+-0x2acc,Iy=-0x1a96+-0xf65+0x2a1b*0x1,Ly=-0xde2+-0xd65+0x1b87,Ry=0x1152+0x46*0x62+-0x2b9e*0x1,lT=-0x841*0x3+-0x47f*-0x4+0xa*0xc7,rl=0x17dc+0xd1*-0x16+-0x5e6,Oy=0x1a35+-0x1e3c+-0x6*-0xac,su=0x190*0x7+-0x170f+0xc21,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0xdf4+0x7f*-0x47+0xa*0x4eb,-0x635+0x3*0x3de+-0x564,0x24fc+0x2f1*0x4+-0x30be,0x1915*0x1+-0x1*-0x1fdd+0x2*-0x1c78,-0x30*-0x53+0xc64+0x3*-0x950,0x8c3*0x4+-0x223d*0x1+-0x7*0x1d,-0x1b6b*-0x1+-0x13db+0x8a*-0xe,0x1fc3+0x266*-0x5+-0x13c3*0x1],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0xc8f+-0xb91+-0xfd,0x259a+0x274*0x9+-0x72*0x86,-0x236a+-0x2373+-0x46e1*-0x1],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x119*0x11+-0x378+-0x1*0xf31,Le[gs]=0x2231*-0x1+-0x1a85+0x3cb7,Le[gi]=0x1b*0x46+-0x14b5+0x1*0xd55,Le[us]=-0x929+0x2f*0x52+-0x5e2,Le[Wt]=0x2360*0x1+0x1f*0x117+-0x4525,Le[is]=-0x87f+-0x26b1+0x971*0x5,Le[ba]=-0x12*-0x2f+0x19be+-0x1d06,Le[wl]=0x1*0x1e8b+-0x1f72+0x1*0xee,Le[El]=-0x241f+0x59*-0x4b+0x3e3a,Le[bl]=0x2244+0x1b0e+0x3d49*-0x1,Le[Al]=-0x10c0+0x4*0x19c+-0x212*-0x5,Le[Cl]=0x179b+-0x3da+-0x13b6,Le[Pl]=-0x1*-0xa75+-0x6b*0x5d+0x1c76,Le[yi]=-0x1aa+-0x16ea+-0x41*-0x61,Le[Jf]=-0x572*0x3+-0x1*-0xfd1+-0x85*-0x1,Le[uh]=0x1*0x1dc8+0x2495+-0x425c,Le[Ap]=-0x8*-0x10f+0x1f3+-0xa69,Le[Cp]=-0x1*-0x845+-0x1afb+-0x1*-0x12b9,Le[Pp]=0x1c91*0x1+0x1e*-0xa0+0xc1*-0xd,Le[Rx]=-0x2414+0x1*-0x14b1+-0x38ca*-0x1,Le[Ox]=-0xb3*0xf+0x13*0x8b+-0x2*-0x19,Le[Fx]=0xf6+0xb2b*-0x1+0xa3c,Le[Ko]=-0x1fd+-0x9fd+0xc02,Le[Zo]=0x1b7+-0x30*0xca+0x1*0x2432,Le[Nx]=0x1a97*-0x1+-0x8db+-0x1*-0x237c,Le[Mp]=-0xdb5+-0x1b73+0x2933*0x1,Le[Dp]=0x37e+0x1*0x5ee+-0x20*0x4b,Le[ph]=0x5*-0x233+0xd64+-0x78*0x5,Le[Ip]=-0x7e0+0x1*0x7a5+0x49*0x1,Le[Ln]=0x1*-0xd13+0x23a*0x11+-0x18b8;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x5a+0x1f*0xce+-0x194c;}static['pushGpuMar'+'ker'](_0x5e5974,_0x3c1223){mr['markers']['push'](_0x3c1223),_0x5e5974['pushMarker'](_0x3c1223);}static['popGpuMark'+'er'](_0x55687a){mr['markers']['length']&&mr['markers']['pop'](),_0x55687a['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0xc86+-0x11e5+0x55f;class Td{constructor(_0x3b99f6,_0x51c246){h(this,'slot',-(-0x9c6+-0x1b*0xe2+0x219d)),h(this,'scopeId',null),(this['name']=_0x3b99f6,this['visibility']=_0x51c246);}}class kp extends Td{}class fT extends Td{constructor(_0x47dcfd,_0x4a8cec,_0x538be6=!(-0x10be*-0x1+-0x208c+0xfcf)){super(_0x47dcfd,_0x4a8cec),h(this,'format',''),(this['readOnly']=_0x538be6,w['assert'](_0x538be6||!(_0x4a8cec&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x18c5e2,_0x26d569,_0x5aca47=xy,_0x1bb283=zx,_0x2f3fe1=!(-0x25c6+-0x5d*0x5+0x1*0x2797),_0x41a205=null){super(_0x18c5e2,_0x26d569),this['textureDim'+'ension']=_0x5aca47,this['sampleType']=_0x1bb283,this['hasSampler']=_0x2f3fe1,this['samplerNam'+'e']=_0x41a205??_0x18c5e2+'_sampler';}}class uT extends Td{constructor(_0x171c60,_0x275154=Ne,_0x198737=xy,_0x29cb32=!(0x7*-0x421+0x1*-0x10af+-0x6*-0x799),_0x3fafb3=!(0x18d0*-0x1+0x317*-0x7+0x2e72)){super(_0x171c60,nT),this['format']=_0x275154,this['textureDim'+'ension']=_0x198737,this['write']=_0x29cb32,this['read']=_0x3fafb3;}}class Ny{constructor(_0x1251e2,_0x1e5ef1){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x1e5ef1));let _0x34e842=-0x1e51+-0x2443*0x1+-0x4*-0x10a5;_0x1e5ef1['forEach'](_0xcaf6ea=>{_0xcaf6ea['slot']=_0x34e842++,_0xcaf6ea instanceof Gm&&_0xcaf6ea['hasSampler']&&_0x34e842++,_0xcaf6ea instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0xcaf6ea):_0xcaf6ea instanceof Gm?this['textureFor'+'mats']['push'](_0xcaf6ea):_0xcaf6ea instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0xcaf6ea):_0xcaf6ea instanceof fT?this['storageBuf'+'ferFormats']['push'](_0xcaf6ea):w['assert']('Invalid\x20bi'+'nd\x20format',_0xcaf6ea);}),this['device']=_0x1251e2;const _0x184179=_0x1251e2['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x1cf55c,_0x40f534)=>this['bufferForm'+'atsMap']['set'](_0x1cf55c['name'],_0x40f534)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x147c26,_0x5a8479)=>{this['textureFor'+'matsMap']['set'](_0x147c26['name'],_0x5a8479),_0x147c26['scopeId']=_0x184179['resolve'](_0x147c26['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x1067e0,_0xb3c273)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x1067e0['name'],_0xb3c273),_0x1067e0['scopeId']=_0x184179['resolve'](_0x1067e0['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0xb95082,_0x3aab54)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0xb95082['name'],_0x3aab54),_0xb95082['scopeId']=_0x184179['resolve'](_0xb95082['name']);}),this['impl']=_0x1251e2['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x586f65){const _0x157288=this['textureFor'+'matsMap']['get'](_0x586f65);return _0x157288!==void(0x1*0x303+-0x3*-0x72c+-0x1887)?this['textureFor'+'mats'][_0x157288]:null;}['getStorage'+'Texture'](_0x7524a){const _0x5856e4=this['storageTex'+'tureFormat'+'sMap']['get'](_0x7524a);return _0x5856e4!==void(0x1a79*0x1+-0x21*0xe7+-0x8d*-0x6)?this['storageTex'+'tureFormat'+'s'][_0x5856e4]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x221cc0,_0x109fae){return this['_cache']['has'](_0x221cc0)||(this['_cache']['set'](_0x221cc0,_0x109fae()),_0x221cc0['on']('destroy',()=>{this['remove'](_0x221cc0);}),_0x221cc0['on']('devicelost',()=>{var _0x4da74f,_0x11f31b;(_0x11f31b=(_0x4da74f=this['_cache']['get'](_0x221cc0))==null?void(0xe82+-0x347*0x8+0xbb6):_0x4da74f['loseContex'+'t'])==null||_0x11f31b['call'](_0x4da74f,_0x221cc0);})),this['_cache']['get'](_0x221cc0);}['remove'](_0x42342d){var _0x166dbb,_0x1ec092;(_0x1ec092=(_0x166dbb=this['_cache']['get'](_0x42342d))==null?void(-0x175b+0x1a41+-0x2e6):_0x166dbb['destroy'])==null||_0x1ec092['call'](_0x166dbb,_0x42342d),this['_cache']['delete'](_0x42342d);}}class Xi{static['calcLevelD'+'imension'](_0x349698,_0x4f5362){return Math['max'](_0x349698>>_0x4f5362,0x3c5+-0x26*0x85+-0x7fd*-0x2);}static['calcMipLev'+'elsCount'](_0x242f7f,_0x4888c6,_0x41e4b2=0x504+-0x56c*-0x6+-0x258b*0x1){return-0xa*-0x33d+0x1b5e+-0x3bbf+Math['floor'](Math['log2'](Math['max'](_0x242f7f,_0x4888c6,_0x41e4b2)));}static['calcLevelG'+'puSize'](_0xe84a87,_0x45f55f,_0x1d66fd,_0x13798e){var _0x12eb2d;const _0x4ad1fb=Nt['get'](_0x13798e);w['assert'](_0x4ad1fb!==void(0x1*0x1111+-0xaa3*0x3+-0x32*-0x4c),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x13798e);const _0x528a20=((_0x12eb2d=Nt['get'](_0x13798e))==null?void(0x10b*-0x5+0xe29+-0x2*0x479):_0x12eb2d['size'])??0x682+0x801*0x1+-0xe83*0x1;if(_0x528a20>-0x848+0x1e9f+-0x7*0x331)return _0xe84a87*_0x45f55f*_0x1d66fd*_0x528a20;const _0x385734=_0x4ad1fb['blockSize']??-0x25f2+0x1a11+0xbe1;let _0x518278=Math['floor']((_0xe84a87+(-0x2*0x1af+0x2a1*0x3+-0x482))/(-0x1*0x619+-0x49*-0x4c+-0xf8f));const _0x2d5513=Math['floor']((_0x45f55f+(-0xb*-0x28b+0x220d+-0x3e03))/(-0x4ba+-0x2*0x44e+0xd5a)),_0x345734=Math['floor']((_0x1d66fd+(0x1297+0x9e5+-0x1c79))/(-0x7*0x386+-0x37*-0x9d+-0x90d));return(_0x13798e===xl||_0x13798e===Tl)&&(_0x518278=Math['max'](Math['floor'](_0x518278/(-0x21bc+-0x1e8*-0x14+-0x462*0x1)),0x381*-0x5+-0x3*0x40d+0x1*0x1dad)),_0x518278*_0x2d5513*_0x345734*_0x385734;}static['calcGpuSiz'+'e'](_0x544c49,_0x5d76ab,_0x36e9c4,_0x962316,_0x19847c,_0x3da95b){let _0x4553e6=-0x1718+0x117b+0x59d;for(;_0x4553e6+=Xi['calcLevelG'+'puSize'](_0x544c49,_0x5d76ab,_0x36e9c4,_0x962316),!(!_0x19847c||_0x544c49===0x240e+-0x14d1+0x79e*-0x2&&_0x5d76ab===-0x210d+0x20ce+-0x1*-0x40&&_0x36e9c4===0x212*-0x10+0x326*-0x8+0x3a51*0x1);)_0x544c49=Math['max'](_0x544c49>>0x2046+0x11a5*0x1+-0x18f5*0x2,-0xa1b+-0xeac*-0x2+0x99e*-0x2),_0x5d76ab=Math['max'](_0x5d76ab>>0x2c*-0xab+0x4b*0x29+-0xb2*-0x19,0x4*-0x2+-0x20aa+0x2f9*0xb),_0x36e9c4=Math['max'](_0x36e9c4>>-0x1*0xa1d+-0x1*0x2374+0x2d92,-0x43a+0x1*-0xf01+0x133c);return _0x4553e6*(_0x3da95b?-0x7cd+-0x88+-0x2c9*-0x3:0x20e+-0xbe2+0x9d5);}}let pT=-0x1*0x91f+-0x714+0x1033;class _e{constructor(_0x223ae7,_0x597b28={}){h(this,'name'),h(this,'_gpuSize',0x2*-0x20c+0x4*0x6ef+-0x17a4),h(this,'id',pT++),h(this,'_invalid',!(-0xf89+-0x1*0x61b+-0x15a5*-0x1)),h(this,'_lockedLev'+'el',-(0x19a*-0xe+0x10d+-0xab0*-0x2)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x89c+-0x10*0x20c+0x1*0x295c),h(this,'_storage',!(0x1c70*-0x1+-0x1a7a+-0x11*-0x33b)),h(this,'_numLevels',-0x1892+-0x676*0x1+0x1f08),h(this,'_numLevels'+'Requested');var _0x15bc39;this['device']=_0x223ae7,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x597b28['width']||Number['isInteger'](_0x597b28['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x597b28),w['assert'](!_0x597b28['height']||Number['isInteger'](_0x597b28['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x597b28),w['assert'](!_0x597b28['depth']||Number['isInteger'](_0x597b28['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x597b28),this['name']=_0x597b28['name']??'',this['_width']=Math['floor'](_0x597b28['width']??-0x4f1+-0x1c*-0x2d+0x1*0x9),this['_height']=Math['floor'](_0x597b28['height']??0x1117+-0x17*0x199+-0x13ac*-0x1),this['_format']=_0x597b28['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x597b28['minFilter']=Te,_0x597b28['magFilter']=Te),this['_volume']=_0x597b28['volume']??!(-0x12fb*-0x2+0xa69*-0x2+-0x1123),this['_depth']=Math['floor'](_0x597b28['depth']??-0x1585+-0x1f92+0x2*0x1a8c),this['_arrayLeng'+'th']=Math['floor'](_0x597b28['arrayLengt'+'h']??-0xb03+0x45b*0x4+0x3*-0x223),this['_storage']=_0x597b28['storage']??!(0x1*-0x1f7+-0xcd3*0x1+0xecb),this['_cubemap']=_0x597b28['cubemap']??!(-0x244+-0x165d+0x18a2),this['_flipY']=_0x597b28['flipY']??!(-0x1*0x1003+0x11*-0x11b+-0x1d5*-0x13),this['_premultip'+'lyAlpha']=_0x597b28['premultipl'+'yAlpha']??!(0x215f+-0xca*0x20+-0x81e),this['_mipmaps']=_0x597b28['mipmaps']??!(-0x1421*-0x1+0x20f8+-0x3519),this['_numLevels'+'Requested']=_0x597b28['numLevels'],_0x597b28['numLevels']!==void(0x266e+-0x1df3+-0x87b)&&(this['_numLevels']=_0x597b28['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x597b28['minFilter']??ma,this['_magFilter']=_0x597b28['magFilter']??vt,this['_anisotrop'+'y']=_0x597b28['anisotropy']??-0x8*0x190+-0xdd2+-0x1a53*-0x1,this['_addressU']=_0x597b28['addressU']??yt,this['_addressV']=_0x597b28['addressV']??yt,this['_addressW']=_0x597b28['addressW']??yt,this['_compareOn'+'Read']=_0x597b28['compareOnR'+'ead']??!(-0x1e5*-0x5+0x1fe6+-0x295e),this['_compareFu'+'nc']=_0x597b28['compareFun'+'c']??hh,this['_type']=_0x597b28['type']??Ds,w['assert'](!_0x597b28['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x597b28['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x597b28['projection']&&_0x597b28['projection']!==tu&&(this['projection']=_0x597b28['projection']),this['profilerHi'+'nt']=_0x597b28['profilerHi'+'nt']??-0x1*0x300+0x11f1+0x2d*-0x55,this['_levels']=_0x597b28['levels'];const _0x4d26d7=!!_0x597b28['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x4d26d7),_0x223ae7['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x15bc39=Nt['get'](this['format']))==null?void(0x1*-0x23e4+-0x22fa+0x46de):_0x15bc39['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x202db9=this['device'];if(_0x202db9){const _0x3470b1=_0x202db9['textures']['indexOf'](this);_0x3470b1!==-(0x247+-0x25b9+-0x3*-0xbd1)&&_0x202db9['textures']['splice'](_0x3470b1,0x31*0x86+0x15d3+0x2*-0x17bc),_0x202db9['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x202db9),this['adjustVram'+'SizeTracki'+'ng'](_0x202db9['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x437bdf=!(0x985+0x1eb+-0x30*0x3d)){var _0x788a3a;const {device:_0x4d5ec7}=this;(_0x788a3a=this['impl'])==null||_0x788a3a['destroy'](_0x4d5ec7),this['impl']=null,this['impl']=_0x4d5ec7['createText'+'ureImpl'](this),this['dirtyAll'](),_0x437bdf&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x5ba7bf,_0x57aaf7,_0x5d0920=-0x35*0x7d+0x1*0x1835+0xd*0x21){const _0x68589d=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x68589d['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x68589d),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x5ba7bf),this['_height']=Math['floor'](_0x57aaf7),this['_depth']=Math['floor'](_0x5d0920),this['_updateNum'+'Level'](),this['impl']=_0x68589d['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0xf54561,_0x4a9cd4){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x4a9cd4+('\x20vram.text'+'ure:\x20')+_0xf54561['tex']+'\x20=>\x20'+(_0xf54561['tex']+_0x4a9cd4)),_0xf54561['tex']+=_0x4a9cd4,this['profilerHi'+'nt']===eu?_0xf54561['texShadow']+=_0x4a9cd4:this['profilerHi'+'nt']===Pr?_0xf54561['texAsset']+=_0x4a9cd4:this['profilerHi'+'nt']===vy&&(_0xf54561['texLightma'+'p']+=_0x4a9cd4);}['propertyCh'+'anged'](_0x2722c5){this['impl']['propertyCh'+'anged'](_0x2722c5),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x3bd665=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x634+-0x1090+0x1*0x16c5,_0x8bf5bc=this['_numLevels'+'Requested'];_0x8bf5bc!==void(-0x2311+-0x2ed+0x25fe)&&_0x8bf5bc>_0x3bd665&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x3bd665,this),this['_numLevels']=Math['min'](_0x8bf5bc??_0x3bd665,_0x3bd665),this['_mipmaps']=this['_numLevels']>0x1*-0x1555+0x56a+0xfec;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x3b1b88){this['_minFilter']!==_0x3b1b88&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x3b1b88,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x5a665d){this['_magFilter']!==_0x5a665d&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x5a665d,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x46f956){this['_addressU']!==_0x46f956&&(this['_addressU']=_0x46f956,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x7355f1){this['_addressV']!==_0x7355f1&&(this['_addressV']=_0x7355f1,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x44b03a){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x44b03a!==this['_addressW']&&(this['_addressW']=_0x44b03a,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x1e1db8){this['_compareOn'+'Read']!==_0x1e1db8&&(this['_compareOn'+'Read']=_0x1e1db8,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x464880){this['_compareFu'+'nc']!==_0x464880&&(this['_compareFu'+'nc']=_0x464880,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x1badce){this['_anisotrop'+'y']!==_0x1badce&&(this['_anisotrop'+'y']=_0x1badce,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x3715e5){this['_mipmaps']!==_0x3715e5&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x3715e5,_0x3715e5&&(this['_needsMipm'+'apsUpload']=!(-0x15*-0xe3+-0x38*0x6d+-0xbf*-0x7)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x393037=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x727+-0x11b*-0x11+-0xba3);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x393037,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x18c2+0x167*-0x1+0x3*-0x7c9;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x29ba11){this['_type']!==_0x29ba11&&(this['_type']=_0x29ba11,this['device']['_shadersDi'+'rty']=!(0x1*-0x1598+0x29*-0x47+0x123*0x1d));}get['type'](){return this['_type'];}set['srgb'](_0x1a9da4){var _0x217f1b,_0x20cc0b,_0x4ea05d,_0x2d198b;const _0x2a94fe=fh(this['format']);if(_0x1a9da4!==_0x2a94fe){if(_0x1a9da4){const _0x5e7214=ld(this['format']);this['_format']!==_0x5e7214&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x217f1b=Nt['get'](this['format']))==null?void(-0x2*-0x10df+-0xa5c+-0x29*0x92):_0x217f1b['name'])+'\x20->\x20'+((_0x20cc0b=Nt['get'](_0x5e7214))==null?void(0x16e1+0x95*0x27+-0x2d94):_0x20cc0b['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5e7214,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1*-0xbe1+0x1762+0x9b*-0x13));}else{const _0x4281be=Lx(this['format']);this['_format']!==_0x4281be&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x4ea05d=Nt['get'](this['format']))==null?void(0x25c5+-0x153c+-0x1089):_0x4ea05d['name'])+'\x20->\x20'+((_0x2d198b=Nt['get'](_0x4281be))==null?void(0x5*-0x517+0xea8+0x9*0x133):_0x2d198b['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x4281be,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1e44+-0xc*-0x1ff+0x650));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x42c2ae){this['_flipY']!==_0x42c2ae&&(this['_flipY']=_0x42c2ae,this['_needsUplo'+'ad']=!(-0x44+0x21a0+-0x215c));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x248074){this['_premultip'+'lyAlpha']!==_0x248074&&(this['_premultip'+'lyAlpha']=_0x248074,this['_needsUplo'+'ad']=!(0x18a*0x14+-0x107d+-0xe4b));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x26f9*-0x1+0x327*-0xa+-0x773*0x1),!(0x199c+-0x1c44+0x2a8),!(-0x10c5+0x2a1*0x9+-0x4*0x1b9),!(0x179+-0x245+0xcc),!(0xe*0x1c6+0x2db*-0x2+-0x131e*0x1),!(0xc5+-0x1*-0x16cb+-0x1a*0xe8)]]:[!(-0x19d1+0x7f*0x4d+-0xc62)],this['_needsUplo'+'ad']=!(0x59+-0x3*-0x8f5+-0x68*0x43),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0xb54+0x10*0x1a8+-0x161*0xb),this['propertyCh'+'anged'](lT);}['lock'](_0x5470c8={}){_0x5470c8['level']??(_0x5470c8['level']=-0x1467+-0x1ff9+0x3460),_0x5470c8['face']??(_0x5470c8['face']=0x3da*0x3+-0x1*-0x26af+-0x323d),_0x5470c8['mode']??(_0x5470c8['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x5470c8['mode']===yy||_0x5470c8['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x5470c8['mode'],this['_lockedLev'+'el']=_0x5470c8['level'];const _0x43df50=this['cubemap']?this['_levels'][_0x5470c8['face']]:this['_levels'];if((_0x43df50==null?void(-0x1b75+0x1c18+-0xa3*0x1):_0x43df50[_0x5470c8['level']])===null){const _0x4f6aa4=Math['max'](0x5a3*0x1+-0x27f*-0xa+0xf4c*-0x2,this['_width']>>_0x5470c8['level']),_0x24fb26=Math['max'](-0x123d+-0x1509+0x1*0x2747,this['_height']>>_0x5470c8['level']),_0x1bb033=Math['max'](0x2389*0x1+0x1e97+-0x421f,this['_depth']>>_0x5470c8['level']),_0x35716c=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x4f6aa4,_0x24fb26,_0x1bb033,this['_format']));_0x43df50[_0x5470c8['level']]=new(my(this['_format']))(_0x35716c);}return _0x43df50==null?void(-0x232e+0x40e+-0xf90*-0x2):_0x43df50[_0x5470c8['level']];}['setSource'](_0x34c9ff,_0x524490=0xc5c+0x21e0+-0x2e3c){let _0x101807=!(0xc6b+0x1d*-0x71+0x1*0x63),_0x3df9d9,_0xf127e0;if(this['_cubemap']){if(_0x34c9ff[-0x2*0x19b+-0x173e+0x1a74]){_0x3df9d9=_0x34c9ff[0x15a7+-0x208a+-0xae3*-0x1]['width']||0x22*0x11f+-0x1*-0x1c2d+-0x424b,_0xf127e0=_0x34c9ff[-0x1e2b+0x245*0x7+0xe48]['height']||-0x60d*0x5+0x2512+-0x6d1;for(let _0x1e6910=0x3*0x484+0x1000+-0x1d8c;_0x1e6910<-0x230e+-0xedf+-0x2a1*-0x13;_0x1e6910++){const _0x46ecef=_0x34c9ff[_0x1e6910];if(!_0x46ecef||_0x46ecef['width']!==_0x3df9d9||_0x46ecef['height']!==_0xf127e0||!this['device']['_isBrowser'+'Interface'](_0x46ecef)){_0x101807=!(0x7f*-0x1a+0x3f*0x92+-0x1708);break;}}}else _0x101807=!(0x69a*0x5+0x1*0x69b+-0x279d);if(!_0x101807){for(let _0x4b615b=0x5a5+-0x1c7+-0x21*0x1e;_0x4b615b<0x1*0x1459+0x8a1+-0x1cf4;_0x4b615b++)this['_levels'][_0x524490][_0x4b615b]!==_0x34c9ff[_0x4b615b]&&(this['_levelsUpd'+'ated'][_0x524490][_0x4b615b]=!(0x1*-0x1cc3+0x6d7*-0x3+-0x26*-0x14c));}}else this['device']['_isBrowser'+'Interface'](_0x34c9ff)||(_0x101807=!(0x7*-0xf1+-0xfb6*-0x2+-0x18d5)),_0x101807||(_0x34c9ff!==this['_levels'][_0x524490]&&(this['_levelsUpd'+'ated'][_0x524490]=!(0x3*-0x869+-0x57*0x21+0x2472)),_0x34c9ff instanceof HTMLVideoElement?(_0x3df9d9=_0x34c9ff['videoWidth'],_0xf127e0=_0x34c9ff['videoHeigh'+'t']):(_0x3df9d9=_0x34c9ff['width'],_0xf127e0=_0x34c9ff['height']));if(_0x101807){if(this['_width']=0x1*-0x49+0x1b70+-0x1b23,this['_height']=-0x2*-0x66c+0x148f+-0x2163,this['_cubemap']){for(let _0x679de4=0x245b+-0x23b*0x3+-0x1daa*0x1;_0x679de4<-0x4db+0x2081+0x22*-0xd0;_0x679de4++)this['_levels'][_0x524490][_0x679de4]=null,this['_levelsUpd'+'ated'][_0x524490][_0x679de4]=!(0x10f9*-0x2+0xc*0x24b+0x66e);}else this['_levels'][_0x524490]=null,this['_levelsUpd'+'ated'][_0x524490]=!(0x27a*0x1+0x80a+-0x2a1*0x4);}else _0x524490===0x8*0x1+-0x21c3+0x21bb&&(this['_width']=_0x3df9d9,this['_height']=_0xf127e0),this['_levels'][_0x524490]=_0x34c9ff;(this['_invalid']!==_0x101807||!_0x101807)&&(this['_invalid']=_0x101807,this['upload']());}['getSource'](_0x23a82f=-0x1fc5+0x268a+-0x6c5*0x1){return this['_levels'][_0x23a82f];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x2d*-0x65+-0x1*-0x83f+0x37*-0x79),this['_lockedMod'+'e']=$l;}['upload'](){var _0x2b6d11,_0x4b724e;this['_needsUplo'+'ad']=!(0x87*-0x4a+0x1190+0x1576),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x4b724e=(_0x2b6d11=this['impl'])['uploadImme'+'diate'])==null||_0x4b724e['call'](_0x2b6d11,this['device'],this);}['read'](_0x9cc255,_0x342a5d,_0xaaac92,_0x3de44b,_0x10aef5={}){var _0x227828,_0x209a83;return(_0x209a83=(_0x227828=this['impl'])['read'])==null?void(0x20e4+-0x2bf+0x1e25*-0x1):_0x209a83['call'](_0x227828,_0x9cc255,_0x342a5d,_0xaaac92,_0x3de44b,_0x10aef5);}['write'](_0x5d326e,_0x272880,_0x2261c7,_0x524aaa,_0x4e592e){var _0x315ddb,_0x153f2e;return(_0x153f2e=(_0x315ddb=this['impl'])['write'])==null?void(-0x1267+0x143+-0x449*-0x4):_0x153f2e['call'](_0x315ddb,_0x5d326e,_0x272880,_0x2261c7,_0x524aaa,_0x4e592e);}}const mT={'white':[-0xd*-0xab+0x5*-0x49+-0x643,-0x744+-0x1e62+0x26a5,-0xadd+-0x1*-0x1ccc+-0x10f0,0x1*0x13f3+-0xce5*-0x1+-0x1*0x1fd9],'gray':[-0x484+-0x18*-0x73+-0x6*0xf6,-0x26f1+-0x12d*0x19+-0x9*-0x7a6,0x20d1+0xde1*0x2+-0x3c13,0x277*0xf+-0xf68*-0x1+-0x3362],'black':[-0x1a*-0x108+-0x19*-0xc5+-0x2e0d,-0x412*-0x8+-0x123b+-0xe55,-0x19ad+-0x1111*0x1+0x2abe,-0x410+0x8ef*0x3+-0x15be],'normal':[-0x14*0x160+0x2*-0x12b0+0x4160,0x1b00+-0x531*-0x1+0x1fb1*-0x1,0xfbb+-0x1b8d+0xcd1,0xcb7+0x1*0x230+0x164*-0xa],'pink':[0x1*-0xf8e+0x1d*0x12e+-0x11a9*0x1,-0x352+0x2701+-0x232f,0x14d8+0x3*-0x1f+-0x137c*0x1,0x6d2+0xd1e+0x1*-0x12f1]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x1eb999=>{_0x1eb999['destroy']();});}}const gT=new Kt(),fa=(_0x23d902,_0x6062f1)=>{const _0x31f0f0=gT['get'](_0x23d902,()=>new _T());if(!_0x31f0f0['map']['has'](_0x6062f1)){const _0x160cb0=new _e(_0x23d902,{'name':'built-in-t'+'exture-'+_0x6062f1,'width':0x1,'height':0x1,'format':Ne}),_0x21ccb7=_0x160cb0['lock'](),_0x1f24c6=mT[_0x6062f1];w['assert'](_0x1f24c6,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x6062f1+('\x27\x20not\x20foun'+'d')),_0x21ccb7['set'](_0x1f24c6),_0x160cb0['unlock'](),_0x31f0f0['map']['set'](_0x6062f1,_0x160cb0);}return _0x31f0f0['map']['get'](_0x6062f1);};let ST=0x6b1+-0x2c3+-0x1f7*0x2;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x3cae81,_0x526627,_0x501451){h(this,'renderVers'+'ionUpdated',-(-0x2695+-0x21ed+0x4883)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x3cae81,this['format']=_0x526627,this['dirty']=!(-0x1eb9+-0x229d+0x4156),this['impl']=_0x3cae81['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x501451,_0x501451&&this['setUniform'+'Buffer'](Np,_0x501451),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x526627));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x26c093,_0x3d1dec){const _0x2cef92=this['format']['bufferForm'+'atsMap']['get'](_0x26c093);w['assert'](_0x2cef92!==void(-0x493+-0x67a+0xb0d),'Setting\x20a\x20'+'uniform\x20['+_0x26c093+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x2cef92]!==_0x3d1dec&&(this['uniformBuf'+'fers'][_0x2cef92]=_0x3d1dec,this['dirty']=!(-0x98d+-0x4a*-0x13+0x40f));}['setStorage'+'Buffer'](_0x50e14d,_0x465663){const _0x198cac=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x50e14d);w['assert'](_0x198cac!==void(-0x24ec*0x1+0x1*0x6a1+0x1e4b*0x1),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x50e14d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x198cac]!==_0x465663&&(this['storageBuf'+'fers'][_0x198cac]=_0x465663,this['dirty']=!(0x839*0x4+0x1f6*0x13+-0x4626));}['setTexture'](_0xece06d,_0x29698a){const _0x2841db=this['format']['textureFor'+'matsMap']['get'](_0xece06d);w['assert'](_0x2841db!==void(-0x627+-0x505*0x1+0xb2c),'Setting\x20a\x20'+'texture\x20['+_0xece06d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x2841db]!==_0x29698a?(this['textures'][_0x2841db]=_0x29698a,this['dirty']=!(0x23*-0x76+0x1*-0x34+-0x7b*-0x22)):this['renderVers'+'ionUpdated']<_0x29698a['renderVers'+'ionDirty']&&(this['dirty']=!(0xbbd+0x1d2b+0x11*-0x268));}['setStorage'+'Texture'](_0x253f79,_0x25b812){const _0x213a2c=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x253f79);w['assert'](_0x213a2c!==void(-0x2022+0x42f+0x1b*0x109),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x253f79+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x213a2c]!==_0x25b812?(this['storageTex'+'tures'][_0x213a2c]=_0x25b812,this['dirty']=!(-0x2*-0xd87+-0x2693*-0x1+-0x41a1)):this['renderVers'+'ionUpdated']<_0x25b812['renderVers'+'ionDirty']&&(this['dirty']=!(-0xb87*-0x2+-0xf76+0x18*-0x51));}['updateUnif'+'ormBuffers'](){for(let _0x87e0c5=-0x26c2+0x18d5+0x2c9*0x5;_0x87e0c5<this['uniformBuf'+'fers']['length'];_0x87e0c5++)this['uniformBuf'+'fers'][_0x87e0c5]['update']();}['update'](){const {textureFormats:_0x47a885,storageTextureFormats:_0x2c0325,storageBufferFormats:_0x215c9e}=this['format'];for(let _0x2a7a64=-0x15be+0x116*0x13+0x11c;_0x2a7a64<_0x47a885['length'];_0x2a7a64++){const _0x1fa8b7=_0x47a885[_0x2a7a64];let _0x58e110=_0x1fa8b7['scopeId']['value'];_0x58e110||(_0x1fa8b7['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x58e110=fa(this['device'],'white')),_0x1fa8b7['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x58e110=fa(this['device'],'pink')),_0x58e110||(w['errorOnce']('Texture\x20'+_0x1fa8b7['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x58e110=fa(this['device'],'pink'))),this['setTexture'](_0x1fa8b7['name'],_0x58e110);}for(let _0x2d9cac=0x24dd+-0x171f+0x6df*-0x2;_0x2d9cac<_0x2c0325['length'];_0x2d9cac++){const _0x537d14=_0x2c0325[_0x2d9cac],_0x45d022=_0x537d14['scopeId']['value'];w['assert'](_0x45d022,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x537d14['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x537d14['name'],_0x45d022);}for(let _0x24e006=0x7ea+0x2515+-0x2cff;_0x24e006<_0x215c9e['length'];_0x24e006++){const _0x4df219=_0x215c9e[_0x24e006],_0x530b3a=_0x4df219['scopeId']['value'];w['assert'](_0x530b3a,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x4df219['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x4df219['name'],_0x530b3a);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0xdb18c3=-0x26c4+0x673+0x2051;_0xdb18c3<this['uniformBuf'+'fers']['length'];_0xdb18c3++){const _0x22b74c=this['uniformBuf'+'fers'][_0xdb18c3];this['uniformBuf'+'ferOffsets'][_0xdb18c3]=_0x22b74c['offset'],this['renderVers'+'ionUpdated']<_0x22b74c['renderVers'+'ionDirty']&&(this['dirty']=!(-0x187e+-0x26ff+0x1*0x3f7d));}this['dirty']&&(this['dirty']=!(-0x307*-0x1+-0x1b8d+-0x111*-0x17),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x237440,_0x33fef8,_0x30cb0e,_0x54290c=0x2*-0xa72+-0x24b5*-0x1+-0xfd0){return _0x237440&~(_0x54290c<<_0x30cb0e)|_0x33fef8<<_0x30cb0e;},'get'(_0x264c57,_0x5a149c,_0xf301b=-0x62d+-0x1aaa+0x836*0x4){return _0x264c57>>_0x5a149c&_0xf301b;},'all'(_0x46bb43,_0x520382,_0x33499c=-0x2432*-0x1+0x64*0x20+0x1*-0x30b1){const _0x9231a4=_0x33499c<<_0x520382;return(_0x46bb43&_0x9231a4)===_0x9231a4;},'any'(_0x463303,_0x260847,_0x2fec6d=0x1da7+0x1ce+-0x1f74*0x1){return(_0x463303&_0x2fec6d<<_0x260847)!==0xf4f*0x2+0x24d2+0x1*-0x4370;}},Xl=0x1*-0x18ad+0x65*-0x1d+0x2425,ir=0xa05+0x5*0xa+0x2*-0x514,Hm=0x1c*0xb2+0x79*-0x2+-0x1286,Wm=0x9cf+0x41*0x17+0xfa3*-0x1,$m=0x1*-0x97a+-0x4*0x939+0x2e65,Xm=-0x1*-0x2485+-0xf19+-0x1561,qm=0x1*0x120d+-0x103*-0x26+-0x3871,jm=0x685+-0xdab+0x738,iu=-0x22*-0x75+0x2*0x944+-0x21fc,Ym=-0x39*-0x3+0x32c+-0x3c0,Km=-0x11e4+-0x6d7*0x1+0x9b*0x29,Zm=0x76*-0x1+0x16*-0x1bb+0x26a1,Qm=0x209*-0xc+0x1b1b*-0x1+0x33a1*0x1,yT=0x53c+-0x7*0x269+0xbb2,vT=iu,ri=class ri{constructor(_0x2276be=!(0x1*-0x6b1+0x15*-0x67+0xf25),_0x31ff90=fs,_0x176c39=Ft,_0x34d6a7=rp,_0x52b08d,_0x50b97a,_0x588626,_0xab8244=!(-0x9*-0x22f+0xa8f+0x2*-0xf1b),_0x3aa176=!(0xa06*0x3+0x11*0x1b5+0x7*-0x871),_0x100d05=!(-0x8d8+-0x2584+0x2e5c),_0x363e4f=!(0xa2c+0x550+-0x3df*0x4)){h(this,'target0',0x1539+0x3*0x8b8+-0x2f61),(this['setColorBl'+'end'](_0x31ff90,_0x176c39,_0x34d6a7),this['setAlphaBl'+'end'](_0x52b08d??_0x31ff90,_0x50b97a??_0x176c39,_0x588626??_0x34d6a7),this['setColorWr'+'ite'](_0xab8244,_0x3aa176,_0x100d05,_0x363e4f),this['blend']=_0x2276be);}set['blend'](_0x2402d6){this['target0']=qe['set'](this['target0'],_0x2402d6?0x535*-0x7+-0x164a+0x3abe:-0x829*-0x1+0xc7e+-0x14a7,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x3a52c3,_0x7ae256,_0x3482aa){this['target0']=qe['set'](this['target0'],_0x3a52c3,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x7ae256,Wm,ir),this['target0']=qe['set'](this['target0'],_0x3482aa,$m,ir);}['setAlphaBl'+'end'](_0x23e130,_0xb2167f,_0x3c94c3){this['target0']=qe['set'](this['target0'],_0x23e130,Xm,Xl),this['target0']=qe['set'](this['target0'],_0xb2167f,qm,ir),this['target0']=qe['set'](this['target0'],_0x3c94c3,jm,ir);}['setColorWr'+'ite'](_0x49bb84,_0x28e96f,_0x1bf084,_0x269445){this['redWrite']=_0x49bb84,this['greenWrite']=_0x28e96f,this['blueWrite']=_0x1bf084,this['alphaWrite']=_0x269445;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x3ed343){this['target0']=qe['set'](this['target0'],_0x3ed343?-0x2a5*0x3+0x228b+-0x31*0x8b:-0x7*0x545+0x11ea+-0x3*-0x653,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x10effa){this['target0']=qe['set'](this['target0'],_0x10effa?0x1ccd*0x1+-0x249f+0x7d3*0x1:-0x255d+-0x135*-0x14+0xd39,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x1cf4c9){this['target0']=qe['set'](this['target0'],_0x1cf4c9?-0x9*0x435+-0x3a3+-0x5*-0x84d:-0xd2b*-0x1+0x2f5*-0x7+-0x1e2*-0x4,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x143ebb){this['target0']=qe['set'](this['target0'],_0x143ebb?0x87b+0x20*-0x12+-0x63a:0x10db+0x4*0x329+-0x1d7f,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x4c6b6a){return this['target0']=_0x4c6b6a['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x128626){return this['target0']===_0x128626['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x3e2+0xbe9+-0x807),void(-0xad7+0x371+0x1*0x766),void(-0x1*0x52c+0x7ea*0x1+0x1b*-0x1a),void(-0xa19*0x3+-0x2285+0x40d0),void(0x3*0xd2+-0x1aa5+0x182f*0x1),void(0x65*-0x13+-0x5f6*-0x2+-0x67*0xb),void(0x3e0+0x8b*0x35+-0x20a7),!(-0x1403+-0xf2*0x1d+-0x3a6*-0xd),!(-0xb*-0x275+0x2065*-0x1+0x55f),!(0x7*-0x571+0x23d2+0x246),!(0x1*-0x77b+-0x1*-0x2655+0x1*-0x1ed9)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x25*-0xcd+0x311*0x7+-0x78*0x6d),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x119a+-0xd19+0x1eb3),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x2*0xe4d+-0x39f+-0x18fb);}['get'](_0x280dce){let _0x3d5526=this['map']['get'](_0x280dce);return _0x3d5526===void(-0x57*0x6+0x2*-0x82a+-0x2*-0x92f)&&(_0x3d5526=this['id']++,this['map']['set'](_0x280dce,_0x3d5526)),_0x3d5526;}}const xT=new Bp(),Jm=0x9f5*-0x1+-0x61e*-0x3+-0x85e,e_=0x6e0+-0x5*0x23f+-0x45b*-0x1,t_=0x1*-0x1a2a+-0x4*0xf+0x1a69*0x1,_r=class _r{constructor(_0x1b3297=Wf,_0x166076=!(-0x1750+0x1636+-0x2f*-0x6)){h(this,'data',0x279*-0x7+0x61c*-0x2+0x1d87),h(this,'_depthBias',-0x48d+-0x1444*0x1+0x18d1),h(this,'_depthBias'+'Slope',0xc9+-0x14dd*0x1+-0x1414*-0x1),h(this,'key',-0x1*0xe8f+-0x185*0xb+-0x2*-0xfa3),(this['func']=_0x1b3297,this['write']=_0x166076);}set['test'](_0x239d20){this['func']=_0x239d20?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x5e2a34){this['data']=qe['set'](this['data'],_0x5e2a34?-0x1b15*-0x1+0x1da2+0x40d*-0xe:0x1*-0x2291+0x80e+-0x1*-0x1a83,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x5aa6b0){this['data']=qe['set'](this['data'],_0x5aa6b0,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x47d940){this['_depthBias']=_0x47d940,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x1c0627){this['_depthBias'+'Slope']=_0x1c0627,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x21acb3){return this['data']=_0x21acb3['data'],this['_depthBias']=_0x21acb3['_depthBias'],this['_depthBias'+'Slope']=_0x21acb3['_depthBias'+'Slope'],this['key']=_0x21acb3['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x4d3a47,_depthBias:_0x27755e,_depthBiasSlope:_0x3e89fa}=this,_0x103ba7=_0x4d3a47+'-'+_0x27755e+'-'+_0x3e89fa;this['key']=xT['get'](_0x103ba7);}['equals'](_0x470ae5){return this['key']===_0x470ae5['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x2*-0x185+-0x1c6*0x1+-0x143)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x3a9+0x1a17+0xee0*-0x2))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x172d+0x3f0*0x2+-0x1*0x1f0d),h(this,'revision',0x2159*0x1+-0x12a8+-0xeb1*0x1);}['equals'](_0x12e88e){return this['globalId']===_0x12e88e['globalId']&&this['revision']===_0x12e88e['revision'];}['copy'](_0x3e082b){this['globalId']=_0x3e082b['globalId'],this['revision']=_0x3e082b['revision'];}['reset'](){this['globalId']=0xf4f+0x8f5+-0x1844,this['revision']=0x9a5+-0x315*0x6+0x8d9;}}let s_=0x120f+-0x196a*-0x1+0x1f*-0x167;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x1253d4){this['name']=_0x1253d4,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x59e3cc){}['setValue'](_0x4a8dc5){this['value']=_0x4a8dc5,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x23cf7a){this['name']=_0x23cf7a,this['variables']=new Map();}['resolve'](_0x484fc3){return this['variables']['has'](_0x484fc3)||this['variables']['set'](_0x484fc3,new wT(_0x484fc3)),this['variables']['get'](_0x484fc3);}['removeValu'+'e'](_0x298d65){for(const _0x50fa49 in this['variables']){const _0x1fe536=this['variables'][_0x50fa49];_0x1fe536['value']===_0x298d65&&(_0x1fe536['value']=null);}}}let bT=-0x1*0x2359+0x3b*-0x90+0x37*0x13f;class Is{constructor(_0x49fe00,_0x3b2cf9,_0x330343,_0x5a9840){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x1*-0xf1+-0x4a*-0x80+0x49*-0x85&&(!_0x5a9840||typeof _0x5a9840=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x5a9840==null?void(0x1b3b+-0x3*0x399+-0x1070):_0x5a9840['usage'])??ms,this['device']=_0x49fe00,this['format']=_0x3b2cf9,this['numVertice'+'s']=_0x330343,this['id']=bT++,this['impl']=_0x49fe00['createVert'+'exBufferIm'+'pl'](this,_0x3b2cf9,_0x5a9840),this['numBytes']=_0x3b2cf9['verticesBy'+'teSize']?_0x3b2cf9['verticesBy'+'teSize']:_0x3b2cf9['size']*_0x330343,this['adjustVram'+'SizeTracki'+'ng'](_0x49fe00['_vram'],this['numBytes']));const _0x55db09=_0x5a9840==null?void(-0x3*0x89b+0xb9e+-0x5*-0x2d7):_0x5a9840['data'];_0x55db09?this['setData'](_0x55db09):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x3d0364=this['device'],_0x390e90=_0x3d0364['buffers']['indexOf'](this);_0x390e90!==-(-0x2*-0xa49+0x7cc+-0x1c5d)&&_0x3d0364['buffers']['splice'](_0x390e90,0x4*0x42e+0x22b2+0x7b*-0x6b),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x3d0364),this['adjustVram'+'SizeTracki'+'ng'](_0x3d0364['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x59a047,_0x3aac6a){w['trace'](q0,this['id']+'\x20size:\x20'+_0x3aac6a+'\x20vram.vb:\x20'+_0x59a047['vb']+'\x20=>\x20'+(_0x59a047['vb']+_0x3aac6a)),_0x59a047['vb']+=_0x3aac6a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x271ae9){return _0x271ae9['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x271ae9['byteLength']),!(-0x15*0x4f+-0x728+-0xc*-0x123)):(this['storage']=_0x271ae9,this['unlock'](),!(-0x828+0x2ef+-0xbf*-0x7));}}function hi(_0x1772e5){if(_0x1772e5==null)return 0x7*0x52f+-0x83c+-0x1c0d;let _0x2d59eb=0x2e*-0x7f+-0x2227+-0x38f9*-0x1;for(let _0x1a1cd1=0xeff+0x16d4+-0x25d3,_0x4f7330=_0x1772e5['length'];_0x1a1cd1<_0x4f7330;_0x1a1cd1++)_0x2d59eb=(_0x2d59eb<<-0x1*0x2441+-0x107d*0x2+0x4540*0x1)-_0x2d59eb+_0x1772e5['charCodeAt'](_0x1a1cd1),_0x2d59eb|=0x4*0x479+0x5*0xb4+-0x1568;return _0x2d59eb;}function By(_0xcd3295){let _0x35dee2=0x4*0x7554935+0x8412a005+-0x2*0x1025938a;for(let _0x347d09=0x1*-0x1575+-0x5*0x117+-0x1ec*-0xe;_0x347d09<_0xcd3295['length'];_0x347d09++)_0x35dee2^=_0xcd3295[_0x347d09],_0x35dee2*=-0xb7bb9f+-0x1874c59+-0x409*-0xcdf3;return _0x35dee2>>>0x2*-0x5ad+0x847*0x3+-0xd7b;}const AT=new Bp(),CT=[0x1*-0xca6+-0x15c7+0x226f,0x29+-0x1152*0x1+0x112d,-0xba9+0x1*-0x1a91+-0x2642*-0x1,0x1563+0x1656+-0x1*0x2bad,-0x1048+-0x113*0x23+0x35f1],PT=new Kt();class kt{constructor(_0x3a376a,_0x5d5edd,_0x162712){this['device']=_0x3a376a,this['_elements']=[],this['hasUv0']=!(0x5*-0x387+0x11ba+0x16*-0x1),this['hasUv1']=!(0x21dd*-0x1+-0x1ff6+-0x41d4*-0x1),this['hasColor']=!(-0x1*-0x1f37+-0xe42*-0x1+-0x123*0x28),this['hasTangent'+'s']=!(-0x7a2*0x4+0xe33+0x1056),this['verticesBy'+'teSize']=-0x10*0xc5+0x25b*-0x3+0xb*0x1c3,this['vertexCoun'+'t']=_0x162712,this['interleave'+'d']=_0x162712===void(0x1*0xbf8+-0x2589+0x1991),this['instancing']=!(-0xa55+0x1*-0x1229+0x1c7f),this['size']=_0x5d5edd['reduce']((_0x5cc8c3,_0xdea79e)=>_0x5cc8c3+Math['ceil'](_0xdea79e['components']*No[_0xdea79e['type']]/(-0x145d*-0x1+0x2451+-0x1c55*0x2))*(-0x16b3+-0x16fc+0x2db3),0x3*0x29+0x319*-0x1+0x2*0x14f);let _0x57a333=0x2467+-0x13be+-0x10a9,_0x575c53;for(let _0x2b5927=0x30*0x55+-0x18ea+0x2fe*0x3,_0x5b3fe5=_0x5d5edd['length'];_0x2b5927<_0x5b3fe5;_0x2b5927++){const _0x5a5bde=_0x5d5edd[_0x2b5927];_0x575c53=_0x5a5bde['components']*No[_0x5a5bde['type']],w['assert'](kt['isElementV'+'alid'](_0x3a376a,_0x5a5bde),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x5a5bde['semantic']+'\x20:\x20'+cT[_0x5a5bde['type']]+'\x20x\x20'+_0x5a5bde['components']),_0x162712&&(_0x57a333=Y['roundUp'](_0x57a333,_0x575c53),w['assert'](_0x575c53%(0xec3+0x7*-0x14d+-0x2*0x2d2)===-0x1a0e+-0x5*0x556+0x5*0xa8c,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x575c53));const _0x3e80ac=_0x5a5bde['asInt']??!(-0x3*-0xca6+0x1705+-0x3cf6),_0x2af571=_0x3e80ac?!(-0xdd6+0x1632*-0x1+0x5*0x735):_0x5a5bde['normalize']??!(-0x3*0x67e+-0x2196+-0xf7*-0x37),_0x183e73={'name':_0x5a5bde['semantic'],'offset':_0x162712?_0x57a333:_0x5a5bde['hasOwnProp'+'erty']('offset')?_0x5a5bde['offset']:_0x57a333,'stride':_0x162712?_0x575c53:_0x5a5bde['hasOwnProp'+'erty']('stride')?_0x5a5bde['stride']:this['size'],'dataType':_0x5a5bde['type'],'numComponents':_0x5a5bde['components'],'normalize':_0x2af571,'size':_0x575c53,'asInt':_0x3e80ac};this['_elements']['push'](_0x183e73),_0x162712?_0x57a333+=_0x575c53*_0x162712:_0x57a333+=Math['ceil'](_0x575c53/(-0x1ab0+-0x133d+0x2df1))*(-0xa67*-0x1+-0x1609+0xba6),_0x5a5bde['semantic']===is?this['hasUv0']=!(0x16a2*0x1+0x31f+-0x19c1):_0x5a5bde['semantic']===ba?this['hasUv1']=!(0x2*0x49f+0x5*0x410+-0x1d8e):_0x5a5bde['semantic']===Wt?this['hasColor']=!(0x7*-0x199+-0xae*-0xa+0x463):_0x5a5bde['semantic']===yi&&(this['hasTangent'+'s']=!(-0x60+0x539+-0x4d9));}_0x162712&&(this['verticesBy'+'teSize']=_0x57a333),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2d3c54){return PT['get'](_0x2d3c54,()=>new kt(_0x2d3c54,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x40b201,_0x389b40){const _0x12668e=_0x389b40['components']*No[_0x389b40['type']];return!(_0x40b201['isWebGPU']&&!CT['includes'](_0x12668e));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x9a9343=[],_0x1f4a85=[],_0x3249b9=this['_elements']['length'];for(let _0x1c0f69=-0x55*0x23+0x73*-0x19+0x16da;_0x1c0f69<_0x3249b9;_0x1c0f69++){const {name:_0x52fbfb,dataType:_0xfe07b6,numComponents:_0xe1d99,normalize:_0x4e5424,offset:_0x37757e,stride:_0x316993,size:_0x3e4550,asInt:_0x3af402}=this['_elements'][_0x1c0f69],_0xa1cd1c=_0x52fbfb+_0xfe07b6+_0xe1d99+_0x4e5424+_0x3af402;_0x9a9343['push'](_0xa1cd1c);const _0x33dae8=_0xa1cd1c+_0x37757e+_0x316993+_0x3e4550;_0x1f4a85['push'](_0x33dae8);}_0x9a9343['sort']();const _0x537090=_0x9a9343['join']();this['batchingHa'+'sh']=hi(_0x537090),this['shaderProc'+'essingHash'+'String']=_0x537090,this['renderingH'+'ashString']=_0x1f4a85['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x3f12cc={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0xc9a*0x2+-0x1*-0x144b+0x13*-0x265)),h(this,'_key'),(this['_func']=_0x3f12cc['func']??Wi,this['_ref']=_0x3f12cc['ref']??0x1687*0x1+0x1c5c+0x7*-0x745,this['_readMask']=_0x3f12cc['readMask']??0xc88*-0x1+-0x1c55*-0x1+0x1*-0xece,this['_writeMask']=_0x3f12cc['writeMask']??-0x1*0x1d55+-0x24be+0xaa*0x65,this['_fail']=_0x3f12cc['fail']??xn,this['_zfail']=_0x3f12cc['zfail']??xn,this['_zpass']=_0x3f12cc['zpass']??xn,this['_evalKey']());}set['func'](_0x26af89){this['_func']=_0x26af89,this['_dirty']=!(0x1689+-0xab*-0x16+-0x253b);}get['func'](){return this['_func'];}set['ref'](_0x39803f){this['_ref']=_0x39803f,this['_dirty']=!(-0x2*-0x359+0x1*0x10a5+-0x1*0x1757);}get['ref'](){return this['_ref'];}set['fail'](_0x31bd40){this['_fail']=_0x31bd40,this['_dirty']=!(-0x10*0x1ef+0x7*0x2ec+0x16*0x7a);}get['fail'](){return this['_fail'];}set['zfail'](_0x2d6097){this['_zfail']=_0x2d6097,this['_dirty']=!(-0x1e63+0xb93*0x1+-0x12d0*-0x1);}get['zfail'](){return this['_zfail'];}set['zpass'](_0xa556c7){this['_zpass']=_0xa556c7,this['_dirty']=!(0x16df*0x1+0x3*0x1d2+-0x1c55);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x4c7cf7){this['_readMask']=_0x4c7cf7,this['_dirty']=!(-0x170+0xc2c+-0xabc);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x22de58){this['_writeMask']=_0x22de58,this['_dirty']=!(-0x1*0x47+-0x21be+0x2205);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x3a026e,_ref:_0x1c3961,_fail:_0x50b3cb,_zfail:_0x29c8ba,_zpass:_0x3b3088,_readMask:_0xe44a6f,_writeMask:_0x1681df}=this,_0x1c4582=_0x3a026e+','+_0x1c3961+','+_0x50b3cb+','+_0x29c8ba+','+_0x3b3088+','+_0xe44a6f+','+_0x1681df;this['_key']=MT['get'](_0x1c4582),this['_dirty']=!(0x1*0xbe1+0xe5*0x1a+-0x5db*0x6);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x48fa99){return this['_func']=_0x48fa99['_func'],this['_ref']=_0x48fa99['_ref'],this['_readMask']=_0x48fa99['_readMask'],this['_writeMask']=_0x48fa99['_writeMask'],this['_fail']=_0x48fa99['_fail'],this['_zfail']=_0x48fa99['_zfail'],this['_zpass']=_0x48fa99['_zpass'],this['_dirty']=_0x48fa99['_dirty'],this['_key']=_0x48fa99['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x151ef4,_0x2f8aba){var _0x10f8d4,_0x2f9321,_0x353bad,_0x37ba55,_0x4820ff,_0x892166;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0xb00+-0xcfb*0x2+-0xef7*-0x1)),h(this,'isWebGPU',!(-0x1d*-0xcb+0x8*-0x1bf+-0xf*0x9a)),h(this,'isWebGL2',!(0x13ef+-0x1b+-0x13d3)),h(this,'isHdr',!(0x1780+-0x283*0x4+-0xd73)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0xcde+-0x1*0xf8b+0x6ad),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x2*0x189+0x2*-0x9bc+-0xf7*-0x11),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x23c*-0xa+-0xb*0x301+0x3764),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x141b+0x48*0x50+-0x264)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x801+-0x79+-0x787)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x1*0x241d+0x730+-0x2b4d),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x17*0x2f+-0x1371+0x17ab)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x8bf*-0x4+-0x3*0x92f+0x1f45*0x2)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x1225+0x26ed+0xc5*-0x1b)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x2*-0x51d+-0x1b9+-0xf*-0xcc)),h(this,'textureFlo'+'atFilterab'+'le',!(-0xdf+-0x2264+0x2344)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x482+0x12e6+-0x1*0x1767)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0x1153*0x2+-0x1e90+0x1*0x4136,-0x2409*-0x1+-0xadf+-0x192a,-0x268a+0x1153+0x1537*0x1,-0x1*-0xd78+-0x1*-0xbfc+0x1*-0x1973],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x1*-0x12dd+-0x1240+-0x128f*-0x2)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x151ef4,'setAttribu'+'te'in _0x151ef4&&_0x151ef4['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x2f8aba},(_0x10f8d4=this['initOption'+'s'])['alpha']??(_0x10f8d4['alpha']=!(-0x1*0x155+0x15d*-0x6+0x983*0x1)),(_0x2f9321=this['initOption'+'s'])['depth']??(_0x2f9321['depth']=!(-0x21bb+-0x364+-0x11*-0x22f)),(_0x353bad=this['initOption'+'s'])['stencil']??(_0x353bad['stencil']=!(-0x220f*0x1+-0x1968+0x3b77)),(_0x37ba55=this['initOption'+'s'])['antialias']??(_0x37ba55['antialias']=!(0x2004+-0x293+-0x1*0x1d71)),(_0x4820ff=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x4820ff['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x892166=this['initOption'+'s'])['displayFor'+'mat']??(_0x892166['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x1*0xa4e+0x1*-0x1cb9+-0xc*-0x189,window['devicePixe'+'lRatio']):-0x225b+-0x975+-0xe9b*-0x3,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x5cd+0x1cf3+-0x1160*0x2,this['_shaderSwi'+'tchesPerFr'+'ame']=0x27*0xed+0xb*-0x253+-0xa8a,this['_primsPerF'+'rame']=[]);for(let _0x91e1f3=cd;_0x91e1f3<=oa;_0x91e1f3++)this['_primsPerF'+'rame'][_0x91e1f3]=-0x334*0x1+0x26d3*-0x1+0x2a07;this['_renderTar'+'getCreatio'+'nTime']=0x13ff+-0x15fd+0x1fe,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x3a*-0x9f+0x2*-0x521+0x2e48);}['postInit'](){const _0x143cec=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0xd8f4d2=new Float32Array([-(-0xcf1*-0x1+0x745+-0x1435),-(-0x17f9+-0x26*0x65+0x26f8),-0x1*0x12e7+-0x1852+-0x1f7*-0x16,-(-0x2f*0x57+0x2*-0x65d+-0xe5a*-0x2),-(0x5*0x68d+-0x4c1*-0x8+0x1e*-0x25c),0x1*0x1f+-0xa56+0x51c*0x2,0x371*-0x6+-0x800+-0x1ca7*-0x1,-0x61a+-0x122b*0x2+-0x109*-0x29]);this['quadVertex'+'Buffer']=new Is(this,_0x143cec,0xa2*-0x3d+-0x1c48+0x2*0x2173,{'data':_0xd8f4d2});}['initCapsDe'+'fines'](){const {capsDefines:_0x1e655c}=this;_0x1e655c['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x1e655c['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x1e655c['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x581828,_0x450889,_0x575077;this['fire']('destroy'),(_0x581828=this['quadVertex'+'Buffer'])==null||_0x581828['destroy'](),this['quadVertex'+'Buffer']=null,(_0x450889=this['dynamicBuf'+'fers'])==null||_0x450889['destroy'](),this['dynamicBuf'+'fers']=null,(_0x575077=this['gpuProfile'+'r'])==null||_0x575077['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x8af46a){this['fire']('destroy:sh'+'ader',_0x8af46a);const _0x4d4a01=this['shaders']['indexOf'](_0x8af46a);_0x4d4a01!==-(0xeae+0x526*0x1+-0x13d3)&&this['shaders']['splice'](_0x4d4a01,0x36c+-0x26f1+0x2386);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x15e4ec;this['contextLos'+'t']=!(-0x137*-0x6+-0x97d+0x1*0x233),this['backBuffer'+'Size']['set'](-(0xac1+0x6c7*0x3+-0x1f15),-(-0x28b+-0xf2e+0x11ba));for(const _0x1ad81e of this['textures'])_0x1ad81e['loseContex'+'t']();for(const _0xb9234f of this['buffers'])_0xb9234f['loseContex'+'t']();for(const _0x5f45f6 of this['targets'])_0x5f45f6['loseContex'+'t']();(_0x15e4ec=this['gpuProfile'+'r'])==null||_0x15e4ec['loseContex'+'t']();}['restoreCon'+'text'](){var _0x3e4d32,_0x3ddefb;this['contextLos'+'t']=!(-0x242a+0x9d*-0x2f+0x8d*0x76),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x5113ac of this['buffers'])_0x5113ac['unlock']();(_0x3ddefb=(_0x3e4d32=this['gpuProfile'+'r'])==null?void(-0x11b5+-0x17d*-0x7+-0x3a5*-0x2):_0x3e4d32['restoreCon'+'text'])==null||_0x3ddefb['call'](_0x3e4d32);}['toJSON'](_0x76fb4f){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xeed+-0xdcd*-0x1+-0x1cba*0x1),this['shaderAsyn'+'cCompile']=!(0x8*0x404+-0x1a13+-0x60c),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x1*-0x1c57+-0x106c+0x2cc3*0x1,this['sx']=this['sy']=this['sw']=this['sh']=0xb06*0x2+-0x21db+0xbcf,this['blendColor']=new ie(0x4*0x821+0x1aa*-0x10+-0xd*0x74,0x111f+-0x16a6+0x587,0xbf7*0x3+0x13f+0x1*-0x2524,-0x841*0x2+-0x397*-0x2+-0x18e*-0x6);}['setStencil'+'State'](_0x3eda94,_0x5e3d95){w['assert'](!(-0xf4*-0x10+-0xd7*-0x1b+-0x25ec));}['setBlendSt'+'ate'](_0x29c721){w['assert'](!(0x22c*0x8+0xa81*-0x2+0x13*0x31));}['setBlendCo'+'lor'](_0x58b6af,_0x5c0552,_0x2e61ea,_0x30774a){w['assert'](!(-0xf76+0xa1*0x1+0xed6));}['setDepthSt'+'ate'](_0x437347){w['assert'](!(0xc*-0xce+-0x2128+0x1*0x2ad1));}['setCullMod'+'e'](_0x1c1056){w['assert'](!(0x8ba+0x1325+0x1d*-0xf6));}['setRenderT'+'arget'](_0x38703a){this['renderTarg'+'et']=_0x38703a;}['setVertexB'+'uffer'](_0x1a511f){_0x1a511f&&this['vertexBuff'+'ers']['push'](_0x1a511f);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1040+0x1107+-0x2147;}['getIndirec'+'tDrawSlot'](){return 0xc4e+-0x132*-0x15+-0x2568;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x188889){if(_0x188889['initialize'+'d'])return;const _0x6b017e=de();this['fire']('fbo:create',{'timestamp':_0x6b017e,'target':this}),_0x188889['init'](),this['targets']['add'](_0x188889),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x6b017e;}['draw'](_0x44568b,_0x50e4ed,_0x2a4d94,_0x421398,_0x2c67e8=!(-0xd43+-0x1932+0x5*0x7b1),_0x5c3446=!(-0x8ea*0x1+0x246+0x6a4)){w['assert'](!(0x6ad*0x2+-0x2330+0x15d7));}['_isBrowser'+'Interface'](_0x2ae101){return this['_isImageBr'+'owserInter'+'face'](_0x2ae101)||this['_isImageCa'+'nvasInterf'+'ace'](_0x2ae101)||this['_isImageVi'+'deoInterfa'+'ce'](_0x2ae101);}['_isImageBr'+'owserInter'+'face'](_0x224da7){return typeof ImageBitmap<'u'&&_0x224da7 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x224da7 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x12722f){return typeof HTMLCanvasElement<'u'&&_0x12722f instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x51005d){return typeof HTMLVideoElement<'u'&&_0x51005d instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x21fd85,_0x4fcd09){const _0x56a4dc=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x1931+-0x2362+0x3c94),_0x102f37=Math['floor'](_0x21fd85*_0x56a4dc),_0x210f6f=Math['floor'](_0x4fcd09*_0x56a4dc);(_0x102f37!==this['canvas']['width']||_0x210f6f!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x102f37,_0x210f6f);}['setResolut'+'ion'](_0x1c3ee3,_0x305cd7){this['canvas']['width']=_0x1c3ee3,this['canvas']['height']=_0x305cd7,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x1c3ee3,_0x305cd7);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x3241ce=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x3241ce['width'],this['clientRect']['height']=_0x3241ce['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x1ddeec){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1a33*-0x1+-0x1ea1+0x38d5*0x1);}set['maxPixelRa'+'tio'](_0x2174f2){this['_maxPixelR'+'atio']=_0x2174f2;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x1b1ade){}['endRenderP'+'ass'](_0x211a40){}['startCompu'+'tePass'](_0x102908){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xb0+0x29*-0x40+0x28*0x46,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x3dadd6=this['textures']['slice']();_0x3dadd6['sort']((_0x376e2e,_0x3785cd)=>_0x3785cd['gpuSize']-_0x376e2e['gpuSize']),w['log']('Textures:\x20'+_0x3dadd6['length']);let _0x3e1e05=-0x1*0x19b5+-0x11*-0x1bb+-0x1*0x3b6;_0x3dadd6['forEach']((_0x31b480,_0x526b0e)=>{const _0x22e074=_0x31b480['gpuSize'];_0x3e1e05+=_0x22e074,w['log'](_0x526b0e+'.\x20'+_0x31b480['name']+'\x20'+_0x31b480['width']+'x'+_0x31b480['height']+'\x20VRAM:\x20'+(_0x22e074/(-0x1b5a+-0x1*0x1971+-0x38cb*-0x1)/(0x1562+0x1072+-0x21d4))['toFixed'](0xec7+0x2673+-0x3538)+'\x20MB');}),w['log']('Total:\x20'+(_0x3e1e05/(-0xd1c+0x887*0x1+0x895)/(-0xeb4*0x1+-0x26f*-0x1+0x1045))['toFixed'](-0x1835+0x184a+0x1*-0x13)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x16158b=>_0x16158b['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x2233cf,_0x4045ef='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x4091be=[In,nt,Xt],_0x1bbf60=!(0x12a7+0x329+-0x15d0),_0x329ae5=0x1bac*-0x1+0x34*-0xa3+0xd*0x4ad){for(let _0x42cdcc=0x31*-0xb0+-0x267d+0x482d;_0x42cdcc<_0x4091be['length'];_0x42cdcc++){const _0xda0563=_0x4091be[_0x42cdcc];switch(_0xda0563){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0xda0563;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0xda0563;break;case Xt:if(this['isWebGPU']&&_0x329ae5>0x849+-0xb73+0x32b)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x1bbf60||this['textureFlo'+'atFilterab'+'le']))return _0xda0563;break;}}}['validateAt'+'tributes'](_0x5beaba,_0x2d5001,_0x4cedd5){w['call'](()=>{ql['clear'](),_0x2d5001==null||_0x2d5001['elements']['forEach'](_0x36658b=>ql['add'](Le[_0x36658b['name']])),_0x4cedd5==null||_0x4cedd5['elements']['forEach'](_0x10b548=>ql['add'](Le[_0x10b548['name']]));for(const [_0x589eee,_0x311321]of _0x5beaba['attributes'])ql['has'](_0x589eee)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x311321+(']\x20at\x20locat'+'ion\x20')+_0x589eee+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x5beaba,'vb0Format':_0x2d5001,'vb1Format':_0x4cedd5});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x1f1*0xd+-0x1c9+-0x1774;class gt{constructor(_0x38206c={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x25f331,_0x316c96,_0x45078a,_0x5cf6ef,_0xa3c8bf,_0xfbf56b;w['assert'](!(_0x38206c instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x34a3de=((_0x25f331=_0x38206c['colorBuffe'+'r'])==null?void(-0x9a*-0x9+-0x1296+-0x696*-0x2):_0x25f331['device'])??((_0x316c96=_0x38206c['colorBuffe'+'rs'])==null?void(0x1162+-0x626*0x2+-0x516):_0x316c96[0x1e7f+0x43*0x1a+-0xc6f*0x3]['device'])??((_0x45078a=_0x38206c['depthBuffe'+'r'])==null?void(0xd22*0x1+0x635*-0x3+-0x119*-0x5):_0x45078a['device'])??_0x38206c['graphicsDe'+'vice'];w['assert'](_0x34a3de,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x34a3de;const {maxSamples:_0x1b8ce1}=this['_device'];if(this['_samples']=Math['min'](_0x38206c['samples']??-0x89*0xb+-0x261d+-0x1*-0x2c01,_0x1b8ce1),_0x34a3de['isWebGPU']&&(this['_samples']=this['_samples']>0x19bc+0x20a+-0x1bc5*0x1?_0x1b8ce1:0xced*-0x1+-0x2561+-0x1dd*-0x1b),this['_colorBuff'+'er']=_0x38206c['colorBuffe'+'r'],_0x38206c['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x38206c['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x38206c['depthBuffe'+'r'],this['_face']=_0x38206c['face']??0x1564+-0x3*-0xd2+-0x47*0x56,this['_depthBuff'+'er']){const _0xad1d2b=this['_depthBuff'+'er']['_format'];_0xad1d2b===$i||_0xad1d2b===vn?(this['_depth']=!(-0x1*0x254+0x1d65+-0x1b11),this['_stencil']=!(-0xf53*-0x1+0x91d*-0x4+0x1522)):_0xad1d2b===sd?(this['_depth']=!(-0x21c9*-0x1+0x7ca+-0x2993),this['_stencil']=!(-0x43f+-0xa6a+0xea9)):_0xad1d2b===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0xe*0x59+-0xb*-0x30a+-0x1c8f?(this['_depth']=!(-0x7*0x1c1+0x1*-0xa5b+0x16a2),this['_stencil']=!(-0x25e1+0x46a*0x3+-0x14c*-0x13)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x272*-0x5+-0x6*0x602+-0x39*-0x6b),this['_stencil']=!(-0xa*-0x19c+-0x1*-0x258+-0x126f));}else this['_depth']=_0x38206c['depth']??!(-0x2394+-0x2426+0x47ba),this['_stencil']=_0x38206c['stencil']??!(-0x110d+-0x3*0x200+0x170e);_0x38206c['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x38206c['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x38206c['colorBuffe'+'rs'][0x2352+-0x2*0xbf8+-0xb62])),this['autoResolv'+'e']=_0x38206c['autoResolv'+'e']??!(-0x9c9+-0x1*-0x11b6+-0x7ed),this['name']=_0x38206c['name'],this['name']||(this['name']=(_0x5cf6ef=this['_colorBuff'+'er'])==null?void(0x1*0x1eef+0x14ca+-0x33b9):_0x5cf6ef['name']),this['name']||(this['name']=(_0xa3c8bf=this['_depthBuff'+'er'])==null?void(-0x6a2+-0x3d*0x4f+0x1975):_0xa3c8bf['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x38206c['flipY']??!(0x1b1d*0x1+0x12e*0x1f+0x153a*-0x3),this['_mipLevel']=_0x38206c['mipLevel']??0x2703*-0x1+0x1e88+0x87b,this['_mipLevel']>0x19d1+0x1d17*-0x1+0x1a3*0x2&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x38206c}),this['_mipLevel']=-0xd3f*-0x2+-0x1595+-0x4e9*0x1),this['_mipmaps']=_0x38206c['mipLevel']===void(0x212b+-0x244d+0x322*0x1),this['validateMr'+'t'](),this['impl']=_0x34a3de['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0xfbf56b=this['_colorBuff'+'ers'])!=null&&_0xfbf56b['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x10a73f=this['_device'];_0x10a73f&&(_0x10a73f['targets']['delete'](this),_0x10a73f['renderTarg'+'et']===this&&_0x10a73f['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x527fb5=this['_device'];_0x527fb5&&this['impl']['destroy'](_0x527fb5);}['destroyTex'+'tureBuffer'+'s'](){var _0x26a8e8,_0x5a0b8b;(_0x26a8e8=this['_depthBuff'+'er'])==null||_0x26a8e8['destroy'](),this['_depthBuff'+'er']=null,(_0x5a0b8b=this['_colorBuff'+'ers'])==null||_0x5a0b8b['forEach'](_0x538dff=>{_0x538dff['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x3dfcc9,_0x21808b){var _0x1b1dd5,_0x3608c6;if(this['width']!==_0x3dfcc9||this['height']!==_0x21808b){if(this['mipLevel']>0x1ab+-0x92b*-0x3+-0x2*0xe96){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x55342a=this['_device'];this['destroyFra'+'meBuffers'](),_0x55342a['renderTarg'+'et']===this&&_0x55342a['setRenderT'+'arget'](null),(_0x1b1dd5=this['_depthBuff'+'er'])==null||_0x1b1dd5['resize'](_0x3dfcc9,_0x21808b),(_0x3608c6=this['_colorBuff'+'ers'])==null||_0x3608c6['forEach'](_0x1b45d3=>{_0x1b45d3['resize'](_0x3dfcc9,_0x21808b);}),this['validateMr'+'t'](),this['impl']=_0x55342a['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x2cfde7,height:_0xa74c5d,cubemap:_0x4ca302,volume:_0x48a756}=this['_colorBuff'+'ers'][-0x1*-0x943+-0x1*0x2577+-0x5*-0x5a4];for(let _0x1b3e59=0x21c7*-0x1+0xc3c+0x158c;_0x1b3e59<this['_colorBuff'+'ers']['length'];_0x1b3e59++){const _0x468175=this['_colorBuff'+'ers'][_0x1b3e59];w['assert'](_0x468175['width']===_0x2cfde7,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x468175['height']===_0xa74c5d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x468175['cubemap']===_0x4ca302,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x468175['volume']===_0x48a756,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x4493c4=!(0x19*0x10d+-0x16a8+-0x39d),_0x15dd3c=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x22f3+0x1c43+-0x1*0x3f35&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x4493c4?'[color]':'')+':'+(_0x15dd3c?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x4493c4,_0x15dd3c),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x1e2513,_0x5635ed,_0x518daa){if(!this['_device']){if(_0x1e2513['_device'])this['_device']=_0x1e2513['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x51*0x63+0xc39+-0x49*-0x43);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x1e2513['name']+'->'+this['name']);const _0x476f73=this['_device']['copyRender'+'Target'](_0x1e2513,this,_0x5635ed,_0x518daa);return Q['popGpuMark'+'er'](this['_device']),_0x476f73;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x21cb7c){var _0x3ba1f;return(_0x3ba1f=this['_colorBuff'+'ers'])==null?void(-0x13*0x15+0x2fa*-0x2+0x783):_0x3ba1f[_0x21cb7c];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x1d7647,_0x53116a;let _0x42f0ed=((_0x1d7647=this['_colorBuff'+'er'])==null?void(0xf13+0x221d*-0x1+0x1*0x130a):_0x1d7647['width'])||((_0x53116a=this['_depthBuff'+'er'])==null?void(0x1a43+0xdc5+-0x2808):_0x53116a['width'])||this['_device']['width'];return this['_mipLevel']>-0x2*-0xeef+-0x18de+-0x500&&(_0x42f0ed=Xi['calcLevelD'+'imension'](_0x42f0ed,this['_mipLevel'])),_0x42f0ed;}get['height'](){var _0x2548b9,_0x4afaa7;let _0x20efc5=((_0x2548b9=this['_colorBuff'+'er'])==null?void(-0x7*-0x239+-0xc18+-0x1*0x377):_0x2548b9['height'])||((_0x4afaa7=this['_depthBuff'+'er'])==null?void(0x1adf+-0xacc+-0x1013):_0x4afaa7['height'])||this['_device']['height'];return this['_mipLevel']>-0x1*-0x1d75+-0x2354+0x5df&&(_0x20efc5=Xi['calcLevelD'+'imension'](_0x20efc5,this['_mipLevel'])),_0x20efc5;}['isColorBuf'+'ferSrgb'](_0x34eff2=0x3*0x859+0x23f+-0x1b4a){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x3f3d4b=this['getColorBu'+'ffer'](_0x34eff2);return _0x3f3d4b?fh(_0x3f3d4b['format']):!(0x1*0x146b+0x673+-0x1add);}}const IT={'equals'(_0x5c0ba1,_0x586e8b){if(_0x5c0ba1['length']!==_0x586e8b['length'])return!(0x2062+-0xad3+-0x158e);for(let _0x346876=-0x2650+-0x258f+0x4bdf*0x1;_0x346876<_0x5c0ba1['length'];_0x346876++)if(_0x5c0ba1[_0x346876]!==_0x586e8b[_0x346876])return!(0x8cd*0x1+0x12bb+-0x1b*0x105);return!(-0x24b+0xe1b+-0xbd0);}};class wd{constructor(){h(this,'_refCount',0x2*0x10dc+-0x1d5f+-0x15*0x35);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x262c50){super(),h(this,'object'),(this['object']=_0x262c50,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x2bc873=>{var _0x1db95c;(_0x1db95c=_0x2bc873['object'])==null||_0x1db95c['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x674464){const _0xc2609a=this['cache']['get'](_0x674464);return _0xc2609a?(_0xc2609a['incRefCoun'+'t'](),_0xc2609a['object']):null;}['set'](_0x121b78,_0x5d54c5){w['assert'](!this['cache']['has'](_0x121b78),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x121b78,'object':_0x5d54c5}),this['cache']['set'](_0x121b78,new LT(_0x5d54c5));}['release'](_0x5ecac3){var _0x2e48a8;const _0x2af917=this['cache']['get'](_0x5ecac3);_0x2af917?(_0x2af917['decRefCoun'+'t'](),_0x2af917['refCount']===0x15f2+0x625*-0x2+-0x4d4*0x2&&(this['cache']['delete'](_0x5ecac3),(_0x2e48a8=_0x2af917['object'])==null||_0x2e48a8['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x5ecac3});}}class OT extends RT{['loseContex'+'t'](_0x3d341a){this['clear']();}}const FT=new Kt(),Fd=_0x363671=>FT['get'](_0x363671,()=>new OT()),At=[];At[Xs]=-0xec*0x1+-0x3f0+0x4dd,At[ga]=0x1645*0x1+-0x21f4+0xbb1,At[ds]=-0x20b3+-0x752*-0x1+0x5*0x514,At[Rn]=0x9ab+0xf3a+0x18e1*-0x1,At[_a]=0x681*0x3+0x6a*0x26+-0x233e,At[ca]=-0x1b67+-0x7be*-0x1+0x13ab,At[ha]=0x1*-0x224b+-0xb27*0x1+0x2d75,At[da]=0x1*-0x1f49+0x1f72+0x25*-0x1,At[Tn]=0x2fc+0xc3+-0x3be*0x1,At[tl]=0x1*0x239e+0x54a+0x82e*-0x5,At[sl]=-0xb5d*0x3+-0x7a4+0x29be,At[il]=0xf7b+0xf58+-0x1ecf,At[_h]=0x1*-0x676+-0x56*-0xe+-0xe5*-0x2,At[On]=-0x12a1*0x2+-0x1685*-0x1+-0x1*-0xec9,At[li]=0x2*0x2f6+-0x1*0xcb3+-0x1*-0x6d7,At[Fn]=0x3*0x9a3+-0x2609+0x921,At[Nn]=-0x25a+0xa1f*-0x1+0xd5*0xf,At[kn]=-0x580+-0x1f5f+0x1271*0x2,At[Un]=-0xcf5+0xa4e+0x2ab;class dt{constructor(_0x3a2f51,_0x3f6c13,_0x315d31=-0x14b+0x1c0e+-0x1ac3){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x3a2f51,this['name']=_0x315d31?_0x3a2f51+'[0]':_0x3a2f51,this['type']=_0x3f6c13,this['numCompone'+'nts']=At[_0x3f6c13],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x3f6c13+'\x20used\x20for\x20'+_0x3a2f51),this['updateType']=_0x3f6c13,_0x315d31>0x1910+-0x1eaf+0x1*0x59f)switch(_0x3f6c13){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x3f6c13]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3a2f51+'\x27.'),w['call'](()=>{this['invalid']=!(0x111d+-0xc*-0x2fd+0x1*-0x34f9);});break;}this['count']=_0x315d31,w['assert'](!isNaN(_0x315d31),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3a2f51+'['+_0x315d31+']'),w['call'](()=>{isNaN(_0x315d31)&&(this['invalid']=!(0x93e+0x2552*-0x1+0x1c14));});let _0x212f42=this['numCompone'+'nts'];_0x315d31&&(_0x212f42=Y['roundUp'](_0x212f42,-0x1537*0x1+-0x1*-0x17cb+-0x4*0xa4)),this['byteSize']=_0x212f42*(-0x1*-0x1645+0x86a*-0x3+0x11*0x2d),_0x315d31&&(this['byteSize']*=_0x315d31),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x3f6c13+'\x20used\x20for\x20'+_0x3a2f51);}get['isArrayTyp'+'e'](){return this['count']>0x176*0x1+-0x3a7+0x21*0x11;}['calculateO'+'ffset'](_0x45d30a){let _0x144a33=this['byteSize']<=0x1271+0x1b13+-0x2d7c?this['byteSize']:-0x1cc0+-0x93*-0x2+0x1baa;this['count']&&(_0x144a33=-0x122c*-0x1+0x18d+-0x13a9),_0x45d30a=Y['roundUp'](_0x45d30a,_0x144a33),this['offset']=_0x45d30a/(0xf85+-0x25*0x9+-0xe34);}}class zy{constructor(_0x26757d,_0x44ee13){h(this,'byteSize',-0x1ff2*0x1+0x25e*-0x7+0x3084),h(this,'map',new Map()),(this['scope']=_0x26757d['scope'],this['uniforms']=_0x44ee13);let _0x52df91=0x6*0x15a+-0xa07*0x3+0x15f9;for(let _0x5ddc84=0x206c+-0xee7*-0x2+-0x5a*0xb1;_0x5ddc84<_0x44ee13['length'];_0x5ddc84++){const _0x4e3f20=_0x44ee13[_0x5ddc84];_0x4e3f20['calculateO'+'ffset'](_0x52df91),_0x52df91=_0x4e3f20['offset']*(0x21b7+-0x111c*0x1+-0x1f*0x89)+_0x4e3f20['byteSize'],_0x4e3f20['scopeId']=this['scope']['resolve'](_0x4e3f20['name']),this['map']['set'](_0x4e3f20['name'],_0x4e3f20);}this['byteSize']=Y['roundUp'](_0x52df91,-0x2186+-0x14e4+-0x26*-0x16f);}['get'](_0x183fae){return this['map']['get'](_0x183fae);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x1d1987,_0x165df0=new Map(),_0x380f58={}){Lt['sourceName']=_0x380f58['sourceName'],_0x1d1987=this['stripComme'+'nts'](_0x1d1987),_0x1d1987=_0x1d1987['split'](/\r?\n/)['map'](_0x13ee66=>_0x13ee66['trimEnd']())['join']('\x0a');const _0x421d97=new Map(),_0x31b442=new Map();if(_0x1d1987=this['_preproces'+'s'](_0x1d1987,_0x421d97,_0x31b442,_0x165df0,_0x380f58['stripDefin'+'es']),_0x1d1987===null)return null;const _0x54ec80=new Map();return _0x421d97['forEach']((_0x1152e8,_0x32e6ce)=>{Number['isInteger'](parseFloat(_0x1152e8))&&!_0x1152e8['includes']('.')&&_0x54ec80['set'](_0x32e6ce,_0x1152e8);}),_0x1d1987=this['stripComme'+'nts'](_0x1d1987),_0x1d1987=this['stripUnuse'+'dColorAtta'+'chments'](_0x1d1987,_0x380f58),_0x1d1987=this['RemoveEmpt'+'yLines'](_0x1d1987),_0x1d1987=this['processArr'+'aySize'](_0x1d1987,_0x54ec80),_0x1d1987=this['injectDefi'+'nes'](_0x1d1987,_0x31b442),_0x1d1987;}static['stripUnuse'+'dColorAtta'+'chments'](_0x361a8f,_0x4132a0){if(_0x4132a0['stripUnuse'+'dColorAtta'+'chments']){const _0x561682=new Map(),_0x107934=_0x361a8f['match'](a_);if(_0x107934==null||_0x107934['forEach'](_0x61a81d=>{const _0x4caec4=parseInt(_0x61a81d['charAt'](_0x61a81d['length']-(0x2617+-0x5*-0x33+0x91*-0x45)),-0x1113*0x1+0xc0c+0x511);_0x561682['set'](_0x4caec4,(_0x561682['get'](_0x4caec4)??0x3*0x161+0xb47+-0xf6a)+(-0x20+-0x138f+-0x1a4*-0xc));}),Array['from'](_0x561682['values']())['some'](_0xf796f4=>_0xf796f4===-0x1629+0x11ba*0x2+-0x3f*0x36)){const _0x34eb28=_0x361a8f['split']('\x0a'),_0x3c1871=[];for(let _0x5ae58a=-0x9a6*-0x1+0xda4+0x10f*-0x16;_0x5ae58a<_0x34eb28['length'];_0x5ae58a++){const _0x9dc846=_0x34eb28[_0x5ae58a]['match'](a_);if(_0x9dc846){const _0x2a7c32=parseInt(_0x9dc846[0x20fc+-0x1*0x539+0x941*-0x3]['charAt'](_0x9dc846[0x1*0x18bb+-0x269a+0xddf]['length']-(-0x260b+0x61a+0x1ff2)),-0x1e89*-0x1+-0x1093+-0xdec);if(_0x2a7c32>-0x266f+0x1*0x1ca2+0x9cd&&_0x561682['get'](_0x2a7c32)===-0x1f11+0x12e*0x21+-0x1f7*0x4)continue;}_0x3c1871['push'](_0x34eb28[_0x5ae58a]);}_0x361a8f=_0x3c1871['join']('\x0a');}}return _0x361a8f;}static['stripComme'+'nts'](_0x3ab777){return _0x3ab777['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x32acba,_0x152852){return _0x32acba!==null&&_0x152852['forEach']((_0x17b581,_0x57b3b2)=>{_0x32acba=_0x32acba['replace'](new RegExp('\x5c['+_0x57b3b2+'\x5c]','g'),'['+_0x17b581+']');}),_0x32acba;}static['injectDefi'+'nes'](_0xcd1f4a,_0x42afc7){if(_0xcd1f4a!==null&&_0x42afc7['size']>-0x1e5d+-0xe*0xb+0x1ef7*0x1){const _0x4ed041=_0xcd1f4a['split']('\x0a');_0x42afc7['forEach']((_0xb4b4e,_0x4cdcec)=>{const _0x3da7df=new RegExp(_0x4cdcec,'g');for(let _0x72e3c0=0x13ac+0x4*0x89f+-0x1b14*0x2;_0x72e3c0<_0x4ed041['length'];_0x72e3c0++)_0x4ed041[_0x72e3c0]['includes']('#')||(_0x4ed041[_0x72e3c0]=_0x4ed041[_0x72e3c0]['replace'](_0x3da7df,_0xb4b4e));}),_0xcd1f4a=_0x4ed041['join']('\x0a');}return _0xcd1f4a;}static['RemoveEmpt'+'yLines'](_0x180cc4){return _0x180cc4!==null&&(_0x180cc4=_0x180cc4['split'](/\r?\n/)['map'](_0x5bc4b0=>_0x5bc4b0['trim']()===''?'':_0x5bc4b0)['join']('\x0a'),_0x180cc4=_0x180cc4['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x180cc4;}static['_preproces'+'s'](_0x4f9748,_0x1c57a9=new Map(),_0xc43650,_0x5ed002,_0x44aed4){var _0x15fcff;const _0x12f6db=_0x4f9748,_0x4fe229=[];let _0x4677fd=!(0x1*0x205c+0x14ba+-0x3515),_0x3781b9;for(;(_0x3781b9=Fs['exec'](_0x4f9748))!==null&&!_0x4677fd;){const _0x35bd7d=_0x3781b9[-0xcba+0x2039+-0x137e];switch(_0x35bd7d){case'define':{Nd['lastIndex']=_0x3781b9['index'];const _0x18717d=Nd['exec'](_0x4f9748);w['assert'](_0x18717d,'Invalid\x20['+_0x35bd7d+']:\x20'+_0x4f9748['substring'](_0x3781b9['index'],_0x3781b9['index']+(0x2d0+-0x77e+0x512))+'...'),_0x4677fd||(_0x4677fd=_0x18717d===null);const _0x4227f4=_0x18717d[0x225e+-0xa0c+-0x19f*0xf];r_['lastIndex']=_0x18717d['index'];const _0x536e3d=r_['exec'](_0x4227f4)[-0x1c42+0x1dd2*0x1+-0x190];let _0x367e3a=_0x4227f4['substring'](_0x536e3d['length'])['trim']();_0x367e3a===''&&(_0x367e3a='true');const _0x4d013e=Lt['_keep'](_0x4fe229);let _0x541805=_0x44aed4;if(_0x4d013e){const _0x51089b=_0x536e3d['startsWith']('{')&&_0x536e3d['endsWith']('}');_0x51089b&&(_0x541805=!(0x211*-0xf+0x1*-0x23aa+0x42a9)),_0x51089b?_0xc43650['set'](_0x536e3d,_0x367e3a):_0x1c57a9['set'](_0x536e3d,_0x367e3a),_0x541805&&(_0x4f9748=_0x4f9748['substring'](-0x22*-0x14+0x85*-0x14+0x7bc,_0x18717d['index']-(0x3d*0x2b+0xf93+0x89b*-0x3))+_0x4f9748['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x18717d['index']-(-0x1dd1+0x2380+-0x1*0x5ae));}w['trace'](Lr,_0x35bd7d+':\x20['+_0x536e3d+']\x20'+_0x367e3a+'\x20'+(_0x4d013e?'':'IGNORED')),_0x541805||(Fs['lastIndex']=_0x18717d['index']+_0x18717d[0xc14+-0x1ca0+0x584*0x3]['length']);break;}case'undef':{kd['lastIndex']=_0x3781b9['index'];const _0x757273=kd['exec'](_0x4f9748),_0x359bd2=_0x757273[-0x11da+0xb66*0x3+-0x1057]['trim'](),_0x1224cc=Lt['_keep'](_0x4fe229);_0x1224cc&&(_0x1c57a9['delete'](_0x359bd2),_0x44aed4&&(_0x4f9748=_0x4f9748['substring'](0x1d*0x43+-0x1*-0x6df+-0xe76,_0x757273['index']-(0xabd+-0x19*-0x141+-0x2a15))+_0x4f9748['substring'](kd['lastIndex']),Fs['lastIndex']=_0x757273['index']-(-0x1*0x25b3+-0xc3c+-0x5e*-0x88))),w['trace'](Lr,_0x35bd7d+':\x20['+_0x359bd2+']\x20'+(_0x1224cc?'':'IGNORED')),_0x44aed4||(Fs['lastIndex']=_0x757273['index']+_0x757273[-0xf21+0x22a*-0xb+0x26ef]['length']);break;}case'extension':{i_['lastIndex']=_0x3781b9['index'];const _0x13777f=i_['exec'](_0x4f9748);if(w['assert'](_0x13777f,'Invalid\x20['+_0x35bd7d+']:\x20'+_0x4f9748['substring'](_0x3781b9['index'],_0x3781b9['index']+(0x1ea0+-0x254b*-0x1+-0x4387))+'...'),_0x4677fd||(_0x4677fd=_0x13777f===null),_0x13777f){const _0x3a5b93=_0x13777f[0x1*0x229f+0x2*-0xfa1+-0x35c],_0x173386=Lt['_keep'](_0x4fe229);_0x173386&&_0x1c57a9['set'](_0x3a5b93,'true'),w['trace'](Lr,_0x35bd7d+':\x20['+_0x3a5b93+']\x20'+(_0x173386?'':'IGNORED'));}Fs['lastIndex']=_0x13777f['index']+_0x13777f[0x1*-0x65f+-0x2*-0x123+0x419]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x3781b9['index'];const _0x12f537=Ud['exec'](_0x4f9748),_0x48412f=_0x12f537[-0xca1+-0x2*0x3d1+0x1445*0x1],_0x236750=Lt['evaluate'](_0x48412f,_0x1c57a9);_0x4677fd||(_0x4677fd=_0x236750['error']);let _0x15fcf0=_0x236750['result'];_0x35bd7d==='ifndef'&&(_0x15fcf0=!_0x15fcf0),_0x4fe229['push']({'anyKeep':_0x15fcf0,'keep':_0x15fcf0,'start':_0x3781b9['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x35bd7d+':\x20['+_0x48412f+']\x20=>\x20'+_0x15fcf0),Fs['lastIndex']=_0x12f537['index']+_0x12f537[-0x19b6+-0x1*0xa53+0xe1*0x29]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x3781b9['index'];const _0x42178a=Bd['exec'](_0x4f9748),_0x55611e=_0x4fe229['pop']();if(!_0x55611e){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x42178a[0xcd+0x17e8+-0x20f*0xc]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x4f9748['substring'](_0x3781b9['index'],_0x3781b9['index']+(-0x6*-0x4ae+-0x24d3+0x923))+'...',{'source':_0x12f6db}),_0x4677fd=!(0x433*-0x1+-0x1*-0x24fb+-0x20c8);continue;}const _0x346805=_0x55611e['keep']?_0x4f9748['substring'](_0x55611e['end'],_0x3781b9['index']):'';w['trace'](Lr,_0x35bd7d+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x346805!=='')),_0x4f9748=_0x4f9748['substring'](0x2404+0xe24+-0x3228,_0x55611e['start'])+_0x346805+_0x4f9748['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x55611e['start']+_0x346805['length'];const _0x2bbb81=_0x42178a[-0x1*0x1223+-0x1*-0x8f5+0x92f];if(_0x2bbb81==='else'||_0x2bbb81==='elif'){let _0x3b1ade=!(0xe6d+0x59*0x9+-0x1*0x118d);if(!_0x55611e['anyKeep']){if(_0x2bbb81==='else')_0x3b1ade=!_0x55611e['keep'];else{const _0xa128b6=Lt['evaluate'](_0x42178a[-0x2275*0x1+-0x4c*-0x3d+-0x4f*-0x35],_0x1c57a9);_0x3b1ade=_0xa128b6['result'],_0x4677fd||(_0x4677fd=_0xa128b6['error']);}}_0x4fe229['push']({'anyKeep':_0x55611e['anyKeep']||_0x3b1ade,'keep':_0x3b1ade,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x35bd7d+':\x20['+_0x42178a[-0x1*0x5c+-0x17d6*0x1+0x1834]+']\x20=>\x20'+_0x3b1ade);}break;}case'include':{zd['lastIndex']=_0x3781b9['index'];const _0x34a79b=zd['exec'](_0x4f9748);if(_0x4677fd||(_0x4677fd=_0x34a79b===null),!_0x34a79b){w['assert'](_0x34a79b,'Invalid\x20['+_0x35bd7d+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x4f9748['substring'](_0x3781b9['index'],_0x3781b9['index']+(0x1*0x2465+-0x15ea+-0xe17))+'...'),_0x4677fd=!(0x10d*0x2+-0x3*-0x335+-0x1*0xbb9);continue;}const _0x48d035=_0x34a79b[-0x104f+0x657+-0x6f*-0x17]['trim'](),_0x29333c=(_0x15fcff=_0x34a79b[-0x86b+0x87*-0x2c+-0x1fa1*-0x1])==null?void(0x5*-0x219+0xe3e+-0x3c1):_0x15fcff['trim'](),_0x777cfe=Lt['_keep'](_0x4fe229);if(_0x777cfe){let _0x5c45ff=_0x5ed002==null?void(-0x47*-0x7f+0x79d+-0x2ad6):_0x5ed002['get'](_0x48d035);if(_0x5c45ff!==void(-0x241f+0x4a5+0x1f7a)){if(_0x5c45ff=this['stripComme'+'nts'](_0x5c45ff),_0x29333c){const _0xec435d=_0x1c57a9['get'](_0x29333c),_0x476542=parseFloat(_0xec435d);if(Number['isInteger'](_0x476542)){let _0x4c9f25='';for(let _0x4ca868=0x1037*0x2+0x87d+0x1*-0x28eb;_0x4ca868<_0x476542;_0x4ca868++)_0x4c9f25+=_0x5c45ff['replace'](VT,String(_0x4ca868));_0x5c45ff=_0x4c9f25;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x29333c+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x4f9748['substring'](_0x3781b9['index'],_0x3781b9['index']+(0xa9a+-0xeab+0x475))+'...',{'originalSource':_0x12f6db,'source':_0x4f9748}),_0x4677fd=!(0x1458+0x1*0x1beb+0x3043*-0x1);}_0x4f9748=_0x4f9748['substring'](0x1144+-0x1*-0x186c+-0x29b0,_0x34a79b['index']-(0x1c55+-0xf0+0x4*-0x6d9))+_0x5c45ff+_0x4f9748['substring'](zd['lastIndex']),Fs['lastIndex']=_0x34a79b['index']-(-0xc2c+0x6*0x502+-0x11df);}else{console['error']('Include\x20\x22'+_0x48d035+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x12f6db,'source':_0x4f9748}),_0x4677fd=!(0x2600*-0x1+-0xda9+0x33a9);continue;}}w['trace'](Lr,_0x35bd7d+':\x20['+_0x48d035+']\x20'+(_0x777cfe?'':'IGNORED'));break;}}}return _0x4fe229['length']>0x24c0+0x1071+0x11bb*-0x3&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x4677fd=!(0x7*-0x1c9+-0x25fc+0x327b)),_0x4677fd?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x12f6db}),null):_0x4f9748;}static['_keep'](_0x5f1c44){for(let _0x15ba9c=0xfb7+-0x2115+0x1ee*0x9;_0x15ba9c<_0x5f1c44['length'];_0x15ba9c++)if(!_0x5f1c44[_0x15ba9c]['keep'])return!(-0x1f0a+0x1422*-0x1+0x4a7*0xb);return!(-0x1549+-0x7d*0x5+0x17ba*0x1);}static['evaluateAt'+'omicExpres'+'sion'](_0x5cf410,_0x2c53a6){let _0x3dca66=!(-0x3*0x98f+-0x11c1+-0x1*-0x2e6f);_0x5cf410=_0x5cf410['trim']();let _0x1749bb=!(-0x137*0x2+-0x19c6+0xf9*0x1d);if(_0x5cf410==='true')return{'result':!(0x21f9+0x6*-0xca+0x3*-0x9bf),'error':_0x3dca66};if(_0x5cf410==='false')return{'result':!(0x2ef+0x946*0x4+-0x2806),'error':_0x3dca66};const _0x3b1e6e=NT['exec'](_0x5cf410);if(_0x3b1e6e){_0x1749bb=_0x3b1e6e[-0x2551+0x1*-0xec9+0x341b]==='!',_0x5cf410=_0x3b1e6e[0xd*0x10+0x3*-0xc8f+0x24df]['trim']();const _0x3993de=_0x2c53a6['has'](_0x5cf410);return{'result':_0x1749bb?!_0x3993de:_0x3993de,'error':_0x3dca66};}const _0x51a366=BT['exec'](_0x5cf410);if(_0x51a366){const _0x4e81ef=_0x2c53a6['get'](_0x51a366[-0x176+-0x2e*-0x4f+0x1*-0xcbb]['trim']())??_0x51a366[-0xea*0x4+0x874*0x4+-0x1e27]['trim'](),_0x4b0b5c=_0x2c53a6['get'](_0x51a366[-0x9ee+-0x1389+0x1d7a*0x1]['trim']())??_0x51a366[0x79*-0x18+0x19d+-0x1*-0x9be]['trim'](),_0x36fcee=_0x51a366[0x23e8+-0x12a+-0x22bc]['trim']();let _0x462f10=!(-0x9e+0x1e31+-0x1d92);switch(_0x36fcee){case'==':_0x462f10=_0x4e81ef===_0x4b0b5c;break;case'!=':_0x462f10=_0x4e81ef!==_0x4b0b5c;break;case'<':_0x462f10=_0x4e81ef<_0x4b0b5c;break;case'<=':_0x462f10=_0x4e81ef<=_0x4b0b5c;break;case'>':_0x462f10=_0x4e81ef>_0x4b0b5c;break;case'>=':_0x462f10=_0x4e81ef>=_0x4b0b5c;break;default:_0x3dca66=!(0xd27+-0x1896+0xb6f);}return{'result':_0x462f10,'error':_0x3dca66};}return{'result':_0x2c53a6['has'](_0x5cf410),'error':_0x3dca66};}static['processPar'+'entheses'](_0x3c52ff,_0x5b5238){let _0x2bcdcc=!(0x15d6+-0x24a1+0xecc),_0x1c77a1=_0x3c52ff['trim']();for(;_0x1c77a1['startsWith']('(')&&_0x1c77a1['endsWith'](')');){let _0x8d051e=0x27f*0x7+-0x2610+0xfb*0x15,_0x225248=!(0x1*-0x7fb+0x1d57+-0x557*0x4);for(let _0x5091d5=0x2*0x908+-0x1*0x739+-0x3*0x39d;_0x5091d5<_0x1c77a1['length']-(0x1c56+-0x1df5*-0x1+-0x3a4a);_0x5091d5++)if(_0x1c77a1[_0x5091d5]==='(')_0x8d051e++;else{if(_0x1c77a1[_0x5091d5]===')'&&(_0x8d051e--,_0x8d051e===0x235b+-0x1*0x1543+0x58*-0x29)){_0x225248=!(-0x3*0x851+-0x1326+0x2c1a);break;}}if(_0x225248)_0x1c77a1=_0x1c77a1['slice'](0x1b7f+-0xa1b+-0x1163,-(-0x66c+-0x1a25+0x16*0x17b))['trim']();else break;}for(;;){let _0x879c6a=!(-0x26af+0x1cc*0x2+0x2318),_0x55fcaf=-0x1*0xb8c+-0x19a0*-0x1+-0x11*0xd4,_0x5b8641=-0x17bd+-0x1*-0x1cda+-0x51d,_0x19c6f6=-(-0x3*0xd7+-0xc19*-0x1+-0x13*0x81),_0x5a1b3f=-(-0x103d*0x1+-0xe14+-0x1*-0x1e52),_0x386b02=0x12d8+-0x826+-0x559*0x2;for(let _0x59e79b=-0x4*-0x495+0x1*0x705+-0x1959;_0x59e79b<_0x1c77a1['length'];_0x59e79b++)if(_0x1c77a1[_0x59e79b]==='('){const _0x448a86=_0x1c77a1['substring'](0x1a91+0x2a6*0xb+-0x37b3,_0x59e79b);UT['test'](_0x448a86)?_0x386b02++:_0x386b02===0x5b9+0x19d+-0x3*0x272&&(_0x55fcaf++,_0x55fcaf>_0x5b8641&&(_0x5b8641=_0x55fcaf,_0x19c6f6=_0x59e79b),_0x879c6a=!(-0x45*-0x1a+-0x1215*0x2+0x2*0xe94));}else _0x1c77a1[_0x59e79b]===')'&&(_0x386b02>0x15c+0x21e5+-0x2341?_0x386b02--:_0x55fcaf>0x2380+-0xd*0x13b+-0x1*0x1381&&(_0x55fcaf===_0x5b8641&&_0x19c6f6!==-(0x128a+0xff0+0x2279*-0x1)&&(_0x5a1b3f=_0x59e79b),_0x55fcaf--));if(!_0x879c6a||_0x19c6f6===-(0x15e0+0x29e+0x187d*-0x1)||_0x5a1b3f===-(0x8ad+0x1837*-0x1+0xf8b))break;const _0x46cb8d=_0x1c77a1['substring'](_0x19c6f6+(-0x9*-0x1f3+-0xbec+0x1*-0x59e),_0x5a1b3f),{result:_0x1a0650,error:_0xa4c8bd}=Lt['evaluate'](_0x46cb8d,_0x5b5238);_0x2bcdcc=_0x2bcdcc||_0xa4c8bd,_0x1c77a1=_0x1c77a1['substring'](0x75+-0x1164+0x10ef,_0x19c6f6)+(_0x1a0650?'true':'false')+_0x1c77a1['substring'](_0x5a1b3f+(-0x1e2f+-0x34*0x19+0x7a*0x4a));}return{'expression':_0x1c77a1,'error':_0x2bcdcc};}static['evaluate'](_0x28a0b5,_0x410820){const _0x4f0198=zT['exec'](_0x28a0b5)===null;w['assert'](_0x4f0198,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x28a0b5);let _0x518686=_0x28a0b5,_0x35f28e=!(-0x9dd+0x1a63+-0x1085);if(_0x28a0b5['replace'](kT,'')['indexOf']('(')!==-(-0x174d*-0x1+-0x1c89+0x9*0x95)){const _0x4090dd=Lt['processPar'+'entheses'](_0x28a0b5,_0x410820);_0x518686=_0x4090dd['expression'],_0x35f28e=_0x4090dd['error'];}if(_0x35f28e)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x28a0b5+'\x22'),{'result':!(-0x1178+0x7d2+-0x161*-0x7),'error':!(-0x58c*-0x1+0x106f*-0x1+0x3*0x3a1)};const _0x3d6166=_0x518686['split']('||');for(const _0x452cef of _0x3d6166){const _0x439982=_0x452cef['split']('&&');let _0x52f1d7=!(-0x1*-0x1091+-0x168e+0x5fd);for(const _0x2de40b of _0x439982){const {result:_0x182be8,error:_0x57060c}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x2de40b['trim'](),_0x410820);if(!_0x182be8||_0x57060c){_0x52f1d7=!(-0x9*-0x43d+0x1440+-0x3a64);break;}}if(_0x52f1d7)return{'result':!(0x612+0x2*-0x6b2+0x752),'error':!_0x4f0198};}return{'result':!(0x1ba*-0xd+-0x26c5+0x3d38),'error':!_0x4f0198};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x3ee97e,_0x23b5ba){w['assert'](_0x23b5ba),w['assert'](!_0x23b5ba['vertexDefi'+'nes']||_0x23b5ba['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x23b5ba['vertexIncl'+'udes']||_0x23b5ba['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x23b5ba['fragmentDe'+'fines']||_0x23b5ba['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x23b5ba['fragmentIn'+'cludes']||_0x23b5ba['fragmentIn'+'cludes']instanceof Map);const _0x192014=_0x3f2b03=>{let _0x5847bd=_0x3f2b03['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x5847bd)||(_0x5847bd=[_0x5847bd]),_0x5847bd;},_0x3572d9=(_0x33e2ba,_0x210730,_0xb57938,_0x596f18)=>{const _0x1974ce=_0x3ee97e['isWebGPU']?_0x33e2ba:_0x210730;let _0x113bdc='';if(!_0xb57938){const _0x17343b=_0x192014(_0x596f18);for(let _0x181a31=-0x7b2*0x1+-0x72d+0x1a7*0x9;_0x181a31<_0x3ee97e['maxColorAt'+'tachments'];_0x181a31++){_0x113bdc+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x181a31+'\x0a';const _0x2c60b2=_0x17343b[_0x181a31]??'vec4';_0x113bdc+='#define\x20ou'+'tType_'+_0x181a31+'\x20'+_0x2c60b2+'\x0a';}}return _0x113bdc+_0x1974ce;},_0x2c658a=(_0x536daf,_0x20e9d1)=>{let _0x3527f7='';if(!_0x536daf){const _0x3d1bda=_0x192014(_0x20e9d1);for(let _0x50dabc=-0x163*-0x9+0x1*0x239b+-0x1*0x3016;_0x50dabc<_0x3ee97e['maxColorAt'+'tachments'];_0x50dabc++){const _0x556f74=_0x3d1bda[_0x50dabc]??'vec4',_0x37fa7e=Fy['get'](_0x556f74);w['assert'](_0x37fa7e,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x556f74+'\x20->\x20'+_0x37fa7e),_0x3527f7+='alias\x20pcOu'+'tType'+_0x50dabc+'\x20=\x20'+_0x37fa7e+';\x0a';}}return _0x3527f7;},_0x2f753b=_0x23b5ba['name']??'Untitled';let _0x114afd,_0x44ec12;const _0x27599d=Jt['getDefines'+'Code'](_0x3ee97e,_0x23b5ba['vertexDefi'+'nes']),_0x361639=Jt['getDefines'+'Code'](_0x3ee97e,_0x23b5ba['fragmentDe'+'fines']);return _0x23b5ba['shaderLang'+'uage']===it?(_0x114afd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x2c658a(!(0x176*-0xb+0x1*0x1d5d+-0xd4b),_0x23b5ba)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x27599d+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23b5ba['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x44ec12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x2c658a(!(0x2*-0x68f+0x17*-0x17f+0x2f88),_0x23b5ba)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x361639+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23b5ba['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x23b5ba['vertexCode']),_0x114afd=Jt['versionCod'+'e'](_0x3ee97e)+_0x3572d9(Wy,Gy,!(-0x1*-0x2632+-0x109f*-0x1+-0x36d1),_0x23b5ba)+_0x27599d+Jt['precisionC'+'ode'](_0x3ee97e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x2f753b)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23b5ba['vertexCode'],w['assert'](_0x23b5ba['fragmentCo'+'de']),_0x44ec12=(_0x23b5ba['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x3ee97e)+_0x3572d9(Hy,Vy,!(0x137*0xb+-0x904+-0x1*0x458),_0x23b5ba)+_0x361639+Jt['precisionC'+'ode'](_0x3ee97e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x2f753b)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23b5ba['fragmentCo'+'de']),{'name':_0x2f753b,'shaderLanguage':_0x23b5ba['shaderLang'+'uage']??Fe,'attributes':_0x23b5ba['attributes'],'vshader':_0x114afd,'vincludes':_0x23b5ba['vertexIncl'+'udes'],'fincludes':_0x23b5ba['fragmentIn'+'cludes'],'fshader':_0x44ec12,'useTransformFeedback':_0x23b5ba['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x23b5ba['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x23b5ba['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x4cd98a,_0x5f3e46){let _0x5d78c9='';return _0x4cd98a['capsDefine'+'s']['forEach']((_0x1791fc,_0x122e9b)=>{_0x5d78c9+='#define\x20'+_0x122e9b+'\x20'+_0x1791fc+'\x0a';}),_0x5d78c9+='\x0a',_0x5f3e46==null||_0x5f3e46['forEach']((_0x54509a,_0x3e91c7)=>{_0x5d78c9+='#define\x20'+_0x3e91c7+'\x20'+_0x54509a+'\x0a';}),_0x5d78c9+='\x0a',_0x5d78c9;}static['getShaderN'+'ameCode'](_0x405074){return'#define\x20SH'+'ADER_NAME\x20'+_0x405074+'\x0a';}static['versionCod'+'e'](_0x3c01df){return _0x3c01df['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x37b6b2,_0x173ddf){_0x173ddf&&_0x173ddf!=='highp'&&_0x173ddf!=='mediump'&&_0x173ddf!=='lowp'&&(_0x173ddf=null),_0x173ddf&&(_0x173ddf==='highp'&&_0x37b6b2['maxPrecisi'+'on']!=='highp'&&(_0x173ddf='mediump'),_0x173ddf==='mediump'&&_0x37b6b2['maxPrecisi'+'on']==='lowp'&&(_0x173ddf='lowp'));const _0x52ff65=_0x173ddf||_0x37b6b2['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x52ff65+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x52ff65+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x52ff65+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x52ff65+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x52ff65+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x52ff65+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x52ff65+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x3c6f91){const _0x40b9a8={};let _0x6ef75f=0x1499+-0xb44*0x1+-0x955*0x1,_0x4267f5=_0x3c6f91['indexOf']('attribute');for(;_0x4267f5>=0x104a+-0x10a6*0x2+0x26e*0x7&&!(_0x4267f5>-0x1a49*0x1+-0x1a9b+0x34e4&&_0x3c6f91[_0x4267f5-(0x994+-0xdc9+0x436)]==='/');){let _0x23ce04=!(-0x134d+0x1b9d*0x1+-0x84f);if(_0x4267f5>-0x1d*-0x8b+-0x2140+-0x1181*-0x1){let _0x2e4f79=_0x3c6f91['lastIndexO'+'f']('\x0a',_0x4267f5);_0x2e4f79=_0x2e4f79!==-(0x1ee5+0x106f*0x1+-0x2f53)?_0x2e4f79+(0x1383+-0x1acf+0x74d):0x2d7*0xd+-0x814+-0x17*0x141,_0x3c6f91['substring'](_0x2e4f79,_0x4267f5)['includes']('#')&&(_0x23ce04=!(-0x4a0*0x7+-0xd57+-0x2f*-0xf9));}if(!_0x23ce04){const _0x19e304=_0x3c6f91['indexOf'](';',_0x4267f5),_0x5912e4=_0x3c6f91['lastIndexO'+'f']('\x20',_0x19e304),_0x5c88ef=_0x3c6f91['substring'](_0x5912e4+(-0x1*0x445+-0x761+0x9d*0x13),_0x19e304);if(_0x40b9a8[_0x5c88ef])w['warn']('Attribute\x20'+'['+_0x5c88ef+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x3c6f91});else{const _0x670c2f=GT[_0x5c88ef];_0x670c2f!==void(0x52*-0x18+0x25d3*0x1+-0x1*0x1e23)?_0x40b9a8[_0x5c88ef]=_0x670c2f:(_0x40b9a8[_0x5c88ef]='ATTR'+_0x6ef75f,_0x6ef75f++);}}_0x4267f5=_0x3c6f91['indexOf']('attribute',_0x4267f5+(0x2206+0x20fe+-0x4303));}return _0x40b9a8;}}let HT=0x78d+0xca+-0x857;class qy{constructor(_0xe4c47e,_0x4fa3f7){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0xe4c47e,this['definition']=_0x4fa3f7,this['name']=_0x4fa3f7['name']||'Untitled',this['init'](),_0x4fa3f7['cshader'])w['assert'](_0xe4c47e['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x4fa3f7['vshader']&&!_0x4fa3f7['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x4fa3f7['cshader']=ko['run'](_0x4fa3f7['cshader'],_0x4fa3f7['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0x2b*-0xbf+0x1bbf*-0x1+0x25*-0x1e)});else{w['assert'](_0x4fa3f7['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x4fa3f7['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x4fa3f7['vshader'],this['fUnmodifie'+'d']=_0x4fa3f7['fshader'];});const _0x241a08=_0x4fa3f7['shaderLang'+'uage']===it;_0x4fa3f7['vshader']=ko['run'](_0x4fa3f7['vshader'],_0x4fa3f7['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x241a08}),_0x4fa3f7['shaderLang'+'uage']===Fe&&(_0x4fa3f7['attributes']??(_0x4fa3f7['attributes']=Jt['collectAtt'+'ributes'](_0x4fa3f7['vshader'])));const _0x5b73f1=_0xe4c47e['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x4fa3f7['fshader']=ko['run'](_0x4fa3f7['fshader'],_0x4fa3f7['fincludes'],{'stripUnusedColorAttachments':_0x5b73f1,'stripDefines':_0x241a08,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x4fa3f7['vshader']||!_0x4fa3f7['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x17ef*-0x1+0x6a0+0x114f);return;}}this['impl']=_0xe4c47e['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x12f9*-0x1+0x1fdd+-0xce3),this['failed']=!(-0x4cc+-0x1*0x2395+0x2862);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x16eb2f,_0x26cc08,_0x22f3ee){const _0x2ee1c4=_0x16eb2f['storageFlo'+'at32'];_0x2ee1c4[_0x22f3ee]=_0x26cc08;},Be[ga]=(_0x8943e0,_0x5a7f87,_0x215ff9)=>{const _0x404a3e=_0x8943e0['storageFlo'+'at32'];_0x404a3e[_0x215ff9]=_0x5a7f87[-0x1*0x1256+-0x17e*0xd+0x25bc],_0x404a3e[_0x215ff9+(0x2*0x2+-0xe9+0xa*0x17)]=_0x5a7f87[0x158d+-0xdf6*0x2+0x1*0x660];},Be[ds]=(_0x2f6972,_0x344b03,_0x690ca1)=>{const _0x2ee3bd=_0x2f6972['storageFlo'+'at32'];_0x2ee3bd[_0x690ca1]=_0x344b03[-0x2614+-0x12f+0x2743],_0x2ee3bd[_0x690ca1+(-0x311*-0xb+-0x7d*-0x29+-0x35bf)]=_0x344b03[-0xa21*0x2+0x1*-0x1bcb+0x300e*0x1],_0x2ee3bd[_0x690ca1+(0x1c6e+0x70f+-0x237b)]=_0x344b03[0x1ae8+-0x49a*0x2+-0x11b2];},Be[Rn]=(_0xd597e0,_0x5c0d7b,_0x305ad6)=>{const _0x1e7465=_0xd597e0['storageFlo'+'at32'];_0x1e7465[_0x305ad6]=_0x5c0d7b[-0x27*0xc9+0x44*-0x3d+0x2ed3*0x1],_0x1e7465[_0x305ad6+(0x6a*0x1+-0x257a+0x2511)]=_0x5c0d7b[0x24*-0xe5+0x20e6+-0xb1],_0x1e7465[_0x305ad6+(-0x2608+-0x1c05+-0x757*-0x9)]=_0x5c0d7b[-0x1b99+-0x403+0x1f9e],_0x1e7465[_0x305ad6+(-0x1*0x418+0xb*0x185+-0xc9c)]=_0x5c0d7b[-0x1*-0x1ec1+0x331*-0x5+-0xec9];},Be[_a]=function(_0x33ff83,_0x347077,_0x1edc62){const _0x55b148=_0x33ff83['storageInt'+'32'];_0x55b148[_0x1edc62]=_0x347077;},Be[ca]=function(_0x58f540,_0x453e2d,_0x41a6ab){const _0x3fd6eb=_0x58f540['storageInt'+'32'];_0x3fd6eb[_0x41a6ab]=_0x453e2d[-0x73*0x2c+-0x12a5+0x1*0x2669],_0x3fd6eb[_0x41a6ab+(-0x1f22+-0x1b7a+-0x1*-0x3a9d)]=_0x453e2d[-0x1c51+-0x3ec*-0x5+0x8b6];},Be[ha]=function(_0x37cef8,_0x1d10b0,_0x1f989b){const _0x2cfc88=_0x37cef8['storageInt'+'32'];_0x2cfc88[_0x1f989b]=_0x1d10b0[0x1*-0x26dd+-0x1808+-0x3*-0x14f7],_0x2cfc88[_0x1f989b+(-0x1724*-0x1+-0x89*-0x32+-0x31e5*0x1)]=_0x1d10b0[0x8*0x46c+-0x1cb5+-0x355*0x2],_0x2cfc88[_0x1f989b+(-0x25e8+0x37f*-0x7+0x3e63*0x1)]=_0x1d10b0[0x446*-0x6+0x1*-0x179b+0x579*0x9];},Be[da]=function(_0x47c737,_0x13f53f,_0x85ae41){const _0x1eb6d6=_0x47c737['storageInt'+'32'];_0x1eb6d6[_0x85ae41]=_0x13f53f[0x149f*-0x1+0x156f+-0xd0],_0x1eb6d6[_0x85ae41+(-0x1545+-0x128e+0x27d4)]=_0x13f53f[0x22d3*-0x1+-0x808+0x2adc],_0x1eb6d6[_0x85ae41+(-0x441+-0x102+0x545)]=_0x13f53f[-0x12c4*0x2+-0xec9+0x3453],_0x1eb6d6[_0x85ae41+(0x178c+0x970+-0x16f*0x17)]=_0x13f53f[-0x2*0xf67+0xd45*-0x1+0x2c16];},Be[_h]=(_0x1fd850,_0x6dd5a5,_0x4dbb26)=>{const _0x2c5019=_0x1fd850['storageFlo'+'at32'];_0x2c5019[_0x4dbb26]=_0x6dd5a5[0x1953+0x1daa+0x7*-0x7db],_0x2c5019[_0x4dbb26+(-0x7b*0x11+-0x31*0x77+-0x1*-0x1ef3)]=_0x6dd5a5[-0x1*0x2345+-0x21fe+0x4544],_0x2c5019[_0x4dbb26+(-0xd84*-0x1+-0x1c2d+-0xead*-0x1)]=_0x6dd5a5[-0x2a*-0xdc+-0xefe+-0x1518],_0x2c5019[_0x4dbb26+(-0x10be+-0x2169*0x1+0x322c)]=_0x6dd5a5[0x1f*0x3d+0x10b4+-0x10c*0x17],_0x2c5019[_0x4dbb26+(-0x1c2e*-0x1+-0x91f*0x1+0x1307*-0x1)]=_0x6dd5a5[0x23ec+0x1025+0x1*-0x340d],_0x2c5019[_0x4dbb26+(-0x12f4+0x1028+0x2d5)]=_0x6dd5a5[0x19b8+0x1*0x229f+-0x3c52];},Be[On]=(_0x3dfa93,_0x341219,_0x38b8f4)=>{const _0x53ab65=_0x3dfa93['storageFlo'+'at32'];_0x53ab65[_0x38b8f4]=_0x341219[0x6e5+0x9b*-0x1f+0x20*0x5f],_0x53ab65[_0x38b8f4+(-0x1*-0x377+-0x2485*0x1+0x210f)]=_0x341219[0x2022+-0x2*-0xdd0+-0x3bc1],_0x53ab65[_0x38b8f4+(-0x2*-0x8f1+0x1e*-0x8d+-0x15a)]=_0x341219[-0x16b7*-0x1+-0x224d*0x1+-0xe*-0xd4],_0x53ab65[_0x38b8f4+(0x1af*0x1+0x13ce+-0x1579)]=_0x341219[-0x3be*-0x3+0x10ce+0x957*-0x3],_0x53ab65[_0x38b8f4+(0xdf3+-0x1*0x16f+-0xc7f)]=_0x341219[0x1*-0x22d1+0x2521*0x1+0xc*-0x31],_0x53ab65[_0x38b8f4+(-0x1527+-0x1e2*-0x11+-0xad5)]=_0x341219[0x2556+0x17*-0xe+-0x240f],_0x53ab65[_0x38b8f4+(0x2*0xfad+-0x42c+-0x5*0x56e)]=_0x341219[0x2353*0x1+0x2342+-0x468f*0x1],_0x53ab65[_0x38b8f4+(-0x1*0x1cce+0x1806+0x9*0x89)]=_0x341219[-0x48c+-0x1*0x554+0x1fb*0x5],_0x53ab65[_0x38b8f4+(0xd*-0x2c+-0x97*0xd+0x1*0x9f1)]=_0x341219[-0x31*0x9e+-0xe4+0x1f2a];},Be[ud]=function(_0xf3ab5a,_0x2530a6,_0x54effe,_0x4039bc){const _0x22a279=_0xf3ab5a['storageFlo'+'at32'];for(let _0xdcb897=0x58*-0x44+0x135*-0x19+-0x358d*-0x1;_0xdcb897<_0x4039bc;_0xdcb897++)_0x22a279[_0x54effe+_0xdcb897*(-0x26bd+0x175e+0xf63)]=_0x2530a6[_0xdcb897];},Be[pd]=(_0x4604fb,_0x1f8aeb,_0x2d0988,_0x473f50)=>{const _0x28fbb8=_0x4604fb['storageFlo'+'at32'];for(let _0x31c81c=0x1c55+0x3b*0x9b+-0x400e;_0x31c81c<_0x473f50;_0x31c81c++)_0x28fbb8[_0x2d0988+_0x31c81c*(0x1cff+-0x1fdf+-0x4*-0xb9)]=_0x1f8aeb[_0x31c81c*(-0x1e21+-0x16d9+0x4*0xd3f)],_0x28fbb8[_0x2d0988+_0x31c81c*(0x236d+0x3*0x16c+-0x27ad*0x1)+(0x8a3+-0x227b*0x1+0x19d9)]=_0x1f8aeb[_0x31c81c*(0x293*-0x9+-0x18a4+0x2fd1)+(-0x1aa6+-0x140b+0x2eb2)];},Be[md]=(_0x1e7a6d,_0x4783fe,_0x1cfb95,_0x19101a)=>{const _0x2cd597=_0x1e7a6d['storageFlo'+'at32'];for(let _0x1fc59b=-0xf8f+-0x2319+0x32a8;_0x1fc59b<_0x19101a;_0x1fc59b++)_0x2cd597[_0x1cfb95+_0x1fc59b*(-0x16a8+-0x132d*-0x2+-0x2*0x7d7)]=_0x4783fe[_0x1fc59b*(-0x10b*-0x7+-0x1f63+0x1819*0x1)],_0x2cd597[_0x1cfb95+_0x1fc59b*(0xabe+0x14ef*0x1+-0x1fa9)+(-0x15e1+0xad*0x11+0xa65)]=_0x4783fe[_0x1fc59b*(0x5a*-0x3+0x2520+-0x240f)+(-0x8c3*-0x2+0x2*-0xebf+-0xbf9*-0x1)],_0x2cd597[_0x1cfb95+_0x1fc59b*(0x31c+0x25f*-0x5+0x8c3)+(-0x1*-0x7ef+-0x2073+0x1886)]=_0x4783fe[_0x1fc59b*(-0x127d+-0x4*0x15c+-0x8*-0x2fe)+(0x326*-0x8+0x8*-0xd4+0x1fd2)];},Be[Fn]=(_0x3b8b21,_0x3b9554,_0x1b824d,_0x146808)=>{const _0x1afea6=_0x3b8b21['storageUin'+'t32'];_0x1afea6[_0x1b824d]=_0x3b9554;},Be[Nn]=(_0x2e5767,_0x560741,_0x1a7b38,_0x31b3f2)=>{const _0x1c804d=_0x2e5767['storageUin'+'t32'];_0x1c804d[_0x1a7b38]=_0x560741[0x5b*0x1+0x8b*-0x35+-0x6b*-0x44],_0x1c804d[_0x1a7b38+(0x121*0x5+-0x19f0+-0x6*-0x362)]=_0x560741[0x700+0x18dd*-0x1+0x11de];},Be[kn]=(_0x545b42,_0x3161c7,_0x1acbc1,_0x135355)=>{const _0x8d4723=_0x545b42['storageUin'+'t32'];_0x8d4723[_0x1acbc1]=_0x3161c7[0x865*0x4+0x4*0x17d+-0x2788],_0x8d4723[_0x1acbc1+(-0x1375+0x5d*0x45+-0x23*0x29)]=_0x3161c7[0x912+-0x23d3+0x1ac2],_0x8d4723[_0x1acbc1+(0x230c*0x1+-0x2014+-0x2f6)]=_0x3161c7[0x1a*0xd6+-0x16*0x86+0x51b*-0x2];},Be[Un]=(_0x2f6aa3,_0x856abd,_0x3420fc,_0x10811e)=>{const _0x3c8d7d=_0x2f6aa3['storageUin'+'t32'];_0x3c8d7d[_0x3420fc]=_0x856abd[0x13*-0x31+0x2*-0xbc0+0x1b23],_0x3c8d7d[_0x3420fc+(0x155c*0x1+-0x20b4*0x1+0x19f*0x7)]=_0x856abd[-0x262f+0x1934+0xcfc],_0x3c8d7d[_0x3420fc+(0x646+0x1f2+-0x1*0x836)]=_0x856abd[-0xf15+-0x15f8+0x250f],_0x3c8d7d[_0x3420fc+(0x1dbf+0x72a*-0x3+-0x5*0x1a6)]=_0x856abd[-0x1775+0x40f+0x1369*0x1];},Be[Bn]=function(_0x4bc836,_0x1303f8,_0x52a66e,_0x1fedd9){const _0x4cb111=_0x4bc836['storageInt'+'32'];for(let _0x16e7bf=0x11*-0x247+-0x12f*0x1+0x27e6;_0x16e7bf<_0x1fedd9;_0x16e7bf++)_0x4cb111[_0x52a66e+_0x16e7bf*(-0x1cef+0xc2*-0x2f+0x4091)]=_0x1303f8[_0x16e7bf];},Be[gd]=Be[Bn],Be[_d]=function(_0x25e620,_0x2d67cd,_0x1735dc,_0x58bf36){const _0x1a1fed=_0x25e620['storageUin'+'t32'];for(let _0xaf2639=-0x83e+0x7*0x1bf+-0x1*0x3fb;_0xaf2639<_0x58bf36;_0xaf2639++)_0x1a1fed[_0x1735dc+_0xaf2639*(-0x3*0x63f+-0xf8b+0x224c)]=_0x2d67cd[_0xaf2639];},Be[zn]=(_0x135c70,_0xb38cf4,_0x26661e,_0x2bd931)=>{const _0x31e54c=_0x135c70['storageInt'+'32'];for(let _0x5633ee=0xf*-0x95+-0x377*-0x4+0x65*-0xd;_0x5633ee<_0x2bd931;_0x5633ee++)_0x31e54c[_0x26661e+_0x5633ee*(-0x61*0x22+-0xde+-0x2*-0x6e2)]=_0xb38cf4[_0x5633ee*(-0x67f*-0x6+0x2*-0xfda+-0x4*0x1d1)],_0x31e54c[_0x26661e+_0x5633ee*(-0x2543*-0x1+0x1*-0x18d7+-0xc68)+(0x188*-0x7+-0x2449*0x1+-0x16*-0x223)]=_0xb38cf4[_0x5633ee*(0x2126+0x1377+-0xc9*0x43)+(0x255+0x2036+-0x1145*0x2)];},Be[yd]=Be[zn],Be[Sd]=(_0x2de377,_0x5aca5f,_0x51ac85,_0x2071aa)=>{const _0x2e25e2=_0x2de377['storageUin'+'t32'];for(let _0x517691=-0x2688+-0x2*0x233+-0x44b*-0xa;_0x517691<_0x2071aa;_0x517691++)_0x2e25e2[_0x51ac85+_0x517691*(0x20f+0x185*0x8+0x5*-0x2d7)]=_0x5aca5f[_0x517691*(0x182e+0x27*-0xad+-0x2b*-0xd)],_0x2e25e2[_0x51ac85+_0x517691*(-0xb31+0x1*-0x17+0xb4c)+(0x1*-0x171f+-0x1*-0x112+0x160e)]=_0x5aca5f[_0x517691*(-0x35*-0x5+-0x4*0x79c+-0x1d69*-0x1)+(-0x1d9c+-0x617+0x23b4)];},Be[Vn]=(_0x4785c2,_0x5514d7,_0x20193e,_0x3759ac)=>{const _0x21c270=_0x4785c2['storageInt'+'32'];for(let _0x38130b=-0x3*0x4a5+-0x2*0x5d5+-0x1*-0x1999;_0x38130b<_0x3759ac;_0x38130b++)_0x21c270[_0x20193e+_0x38130b*(0x1947+0x6bc+-0x1fff)]=_0x5514d7[_0x38130b*(-0x1*0x507+0x19db+-0x14d1)],_0x21c270[_0x20193e+_0x38130b*(-0x1*0x120a+0x71f*0x1+0xaef)+(0x89*-0x42+0x15f9+0xd5a)]=_0x5514d7[_0x38130b*(-0x2359+-0x49*0x7+0x255b)+(0x2323*-0x1+-0x2*0x4d9+-0x779*-0x6)],_0x21c270[_0x20193e+_0x38130b*(0x1c2d*0x1+0x1*0xfb5+-0x2bde)+(-0x2220+-0x6ff+0x2921)]=_0x5514d7[_0x38130b*(0xe8c+-0x1d7c+0xef3)+(-0x63*0x15+-0x4be*0x8+0x2e11)];},Be[xd]=Be[Vn],Be[vd]=(_0x45269a,_0x5c203c,_0x5e35bf,_0x5f256e)=>{const _0xa3a2f2=_0x45269a['storageUin'+'t32'];for(let _0x5bb19d=0x2*-0xa1d+0x2360+-0xf26;_0x5bb19d<_0x5f256e;_0x5bb19d++)_0xa3a2f2[_0x5e35bf+_0x5bb19d*(-0x269b*0x1+-0x1668+0x1*0x3d07)]=_0x5c203c[_0x5bb19d*(0xd50+-0x5d1+-0x3be*0x2)],_0xa3a2f2[_0x5e35bf+_0x5bb19d*(0x1b*-0x5e+0x1*0x1702+0x68a*-0x2)+(0x1*-0x235f+-0x17*0x18+0x8*0x4b1)]=_0x5c203c[_0x5bb19d*(-0x1c5*-0x15+0x6e8+-0x2c0e)+(-0x52b+-0x993+0xebf*0x1)],_0xa3a2f2[_0x5e35bf+_0x5bb19d*(-0x2*-0x4a9+-0x232e+0x19e0)+(0x91f+0x1fe8+-0x2905)]=_0x5c203c[_0x5bb19d*(0x26f4+-0xf01+-0x17f0*0x1)+(0x1d61*0x1+0x23ff*-0x1+-0x4*-0x1a8)];};class zp{constructor(_0x5bbf03,_0x4541c8,_0x39f902=!(-0x4a2*0x8+0x1b94+0x1*0x97c)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x5*-0x557+-0x89a+0x7*0x50b);if(this['device']=_0x5bbf03,this['format']=_0x4541c8,this['persistent']=_0x39f902,w['assert'](_0x4541c8),_0x39f902){this['impl']=_0x5bbf03['createUnif'+'ormBufferI'+'mpl'](this);const _0xa610a6=new ArrayBuffer(_0x4541c8['byteSize']);this['assignStor'+'age'](new Int32Array(_0xa610a6)),_0x5bbf03['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x9766ff=this['device'];this['impl']['destroy'](_0x9766ff),_0x9766ff['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1135+-0x262b+0x3760:this['allocation']['offset'];}['assignStor'+'age'](_0x455ecf){this['storageInt'+'32']=_0x455ecf,this['storageUin'+'t32']=new Uint32Array(_0x455ecf['buffer'],_0x455ecf['byteOffset'],_0x455ecf['byteLength']/(0x1bda+-0x7b*-0x2f+-0x326b)),this['storageFlo'+'at32']=new Float32Array(_0x455ecf['buffer'],_0x455ecf['byteOffset'],_0x455ecf['byteLength']/(-0x168b+0x10e8+0x1*0x5a7));}['loseContex'+'t'](){var _0x4991a5;(_0x4991a5=this['impl'])==null||_0x4991a5['loseContex'+'t']();}['setUniform'](_0x16f978,_0xce9d70){w['assert'](_0x16f978);const _0x12a57a=_0x16f978['offset'];if(_0xce9d70!=null){const _0x145162=Be[_0x16f978['updateType']];_0x145162?_0x145162(this,_0xce9d70,_0x12a57a,_0x16f978['count']):this['storageFlo'+'at32']['set'](_0xce9d70,_0x12a57a);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x16f978['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x16f978['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x2a42c1,_0x9c8822){const _0x227f22=this['format']['map']['get'](_0x2a42c1);w['assert'](_0x227f22,'Uniform\x20na'+'me\x20['+_0x2a42c1+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x227f22&&this['setUniform'](_0x227f22,_0x9c8822);}['startUpdat'+'e'](_0x5a04f7){if(!this['persistent']){const _0x1965ef=this['allocation'],_0x5f1a2b=_0x1965ef['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x1965ef,this['format']['byteSize']),this['assignStor'+'age'](_0x1965ef['storage']),_0x5a04f7&&(_0x5a04f7['bindGroup']=_0x1965ef['gpuBuffer']['getBindGro'+'up'](this),_0x5a04f7['offsets'][-0x2f*0x2f+-0x7*-0x22a+-0x685*0x1]=_0x1965ef['offset']),_0x5f1a2b!==_0x1965ef['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x1e5519){this['startUpdat'+'e'](_0x1e5519);const _0x1f5cc1=this['format']['uniforms'];for(let _0x1a44b6=0x1d86*0x1+-0x183b+0x1*-0x54b;_0x1a44b6<_0x1f5cc1['length'];_0x1a44b6++){const _0x1320d0=_0x1f5cc1[_0x1a44b6]['scopeId']['value'];this['setUniform'](_0x1f5cc1[_0x1a44b6],_0x1320d0);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x44*-0x11+-0x32c+-0x7b1*-0x1)),h(this,'_enableReq'+'uest',!(-0x85*-0x19+0x1c49+-0x2945)),h(this,'_frameTime',0xf*-0x11b+-0x10cb+0x2160);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x743c83){this['_enableReq'+'uest']=_0x743c83;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x22cf+0x8a8+0xe7d*-0x3));}['request'](_0x5e4ae4){this['pastFrameA'+'llocations']['set'](_0x5e4ae4,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x48753a,_0x2548da){if(_0x2548da){const _0x324b0c=this['pastFrameA'+'llocations']['get'](_0x48753a);if(w['assert'](_0x324b0c['length']===_0x2548da['length']),_0x2548da['length']>0x2408+-0x1*-0x1697+-0x3a9f&&(this['_frameTime']=_0x2548da['reduce']((_0x1000a8,_0x238e30)=>_0x1000a8+_0x238e30,-0x2187*-0x1+0x1*-0x99e+0x1*-0x17e9)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x48753a+'\x20--');let _0x4cecad=-0x67a*0x2+0x12e5+-0x5f1;for(let _0xb848b1=0x211f+0x260a+0x4729*-0x1;_0xb848b1<_0x324b0c['length'];++_0xb848b1){const _0x2afb4f=_0x324b0c[_0xb848b1];_0x4cecad+=_0x2548da[_0xb848b1],w['trace'](Gl,_0x2548da[_0xb848b1]['toFixed'](-0x3*0x6be+-0x1f7*-0x7+0x67b)+'\x20ms\x20'+_0x2afb4f);}w['trace'](Gl,_0x4cecad['toFixed'](0x443*-0x4+0xac2+0x3e*0x1a)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x48753a);}['getSlot'](_0x292e72){const _0x2382bc=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x292e72),_0x2382bc;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x41d9c2){this['bufferId']&&(_0x41d9c2['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x468662,_0x401cfd,_0x3d8874,_0x5aef8f){const _0x4f11d4=_0x468662['gl'];if(this['bufferId'])_0x4f11d4['bindBuffer'](_0x3d8874,this['bufferId']),_0x4f11d4['bufferSubD'+'ata'](_0x3d8874,-0x89*-0x21+-0x1b21+0x8*0x12f,_0x5aef8f);else{let _0x52ebcd;switch(_0x401cfd){case ms:_0x52ebcd=_0x4f11d4['STATIC_DRA'+'W'];break;case lh:_0x52ebcd=_0x4f11d4['DYNAMIC_DR'+'AW'];break;case ey:_0x52ebcd=_0x4f11d4['STREAM_DRA'+'W'];break;case bx:_0x52ebcd=_0x4f11d4['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4f11d4['createBuff'+'er'](),_0x4f11d4['bindBuffer'](_0x3d8874,this['bufferId']),_0x4f11d4['bufferData'](_0x3d8874,_0x5aef8f,_0x52ebcd);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x2492e5){super['destroy'](_0x2492e5),_0x2492e5['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0xfed8c){const _0x4dbb3a=_0xfed8c['device'];super['unlock'](_0x4dbb3a,_0xfed8c['usage'],_0x4dbb3a['gl']['ARRAY_BUFF'+'ER'],_0xfed8c['storage']);}}class qT extends jy{constructor(_0x2dce39){super();const _0x191f5b=_0x2dce39['device']['gl'],_0x527418=_0x2dce39['format'];_0x527418===$f?this['glFormat']=_0x191f5b['UNSIGNED_B'+'YTE']:_0x527418===Yi?this['glFormat']=_0x191f5b['UNSIGNED_S'+'HORT']:_0x527418===wr&&(this['glFormat']=_0x191f5b['UNSIGNED_I'+'NT']);}['unlock'](_0x467cb4){const _0x4e7c40=_0x467cb4['device'];super['unlock'](_0x4e7c40,_0x467cb4['usage'],_0x4e7c40['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x467cb4['storage']);}}class jT{constructor(_0x3c814b,_0x5b39c7,_0x10e195,_0x5c555b){if(this['locationId']=_0x5c555b,this['scopeId']=_0x3c814b['scope']['resolve'](_0x5b39c7),this['version']=new Uy(),_0x5b39c7['substring'](_0x5b39c7['length']-(0xe49+0x2702+0x16*-0x26c))==='[0]')switch(_0x10e195){case Xs:_0x10e195=ud;break;case _a:_0x10e195=Bn;break;case Fn:_0x10e195=_d;break;case Tn:_0x10e195=gd;break;case ga:_0x10e195=pd;break;case ca:_0x10e195=zn;break;case Nn:_0x10e195=Sd;break;case tl:_0x10e195=yd;break;case ds:_0x10e195=md;break;case ha:_0x10e195=Vn;break;case kn:_0x10e195=vd;break;case sl:_0x10e195=xd;break;case Rn:_0x10e195=Lp;break;case da:_0x10e195=gh;break;case Un:_0x10e195=Rp;break;case il:_0x10e195=Op;break;}this['dataType']=_0x10e195,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x1*0x13cd+0x1545+-0x4*0x5e;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x449bb6){this['map']['forEach'](_0x4c3571=>{_0x449bb6['gl']['deleteShad'+'er'](_0x4c3571);});}['loseContex'+'t'](_0x20a8df){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x303d74){h(this,'compileDur'+'ation',0x819+-0x1fa8+-0x1*-0x178f),(this['init'](),this['compile'](_0x303d74['device'],_0x303d74),this['link'](_0x303d74['device'],_0x303d74),_0x303d74['device']['shaders']['push'](_0x303d74));}['destroy'](_0x23e33b){this['glProgram']&&(_0x23e33b['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5c4358,_0x353320){this['compile'](_0x5c4358,_0x353320),this['link'](_0x5c4358,_0x353320);}['compile'](_0x1b285a,_0x433280){const _0x59fa41=_0x433280['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1b285a,_0x59fa41['vshader'],!(0x26b7+0x62d+-0x11*0x2a4)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1b285a,_0x59fa41['fshader'],!(0x15a+0x167*-0x17+-0x17*-0x158));}['link'](_0x448014,_0x136ef7){if(this['glProgram'])return;const _0x372eb3=_0x448014['gl'];if(_0x372eb3['isContextL'+'ost']())return;let _0x429173=0xa59+0x1e5e+-0x28b7;w['call'](()=>{this['compileDur'+'ation']=-0x1c71+0x733*-0x1+0x2*0x11d2,_0x429173=de();});const _0x5c2c92=_0x372eb3['createProg'+'ram']();this['glProgram']=_0x5c2c92,_0x372eb3['attachShad'+'er'](_0x5c2c92,this['glVertexSh'+'ader']),_0x372eb3['attachShad'+'er'](_0x5c2c92,this['glFragment'+'Shader']);const _0x2691d5=_0x136ef7['definition'],_0x951433=_0x2691d5['attributes'];if(_0x2691d5['useTransfo'+'rmFeedback']){const _0x499292=[];for(const _0x2364a0 in _0x951433)_0x951433['hasOwnProp'+'erty'](_0x2364a0)&&_0x499292['push']('out_'+_0x2364a0);_0x372eb3['transformF'+'eedbackVar'+'yings'](_0x5c2c92,_0x499292,_0x372eb3['INTERLEAVE'+'D_ATTRIBS']);}const _0x1cefbb={};for(const _0x37515d in _0x951433)if(_0x951433['hasOwnProp'+'erty'](_0x37515d)){const _0x3b6499=_0x951433[_0x37515d],_0x5dab16=Le[_0x3b6499];w['assert'](!_0x1cefbb['hasOwnProp'+'erty'](_0x5dab16),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x1cefbb[_0x5dab16]+'\x20and\x20'+_0x37515d),_0x1cefbb[_0x5dab16]=_0x37515d,_0x372eb3['bindAttrib'+'Location'](_0x5c2c92,_0x5dab16,_0x37515d);}_0x372eb3['linkProgra'+'m'](_0x5c2c92),w['call'](()=>{this['compileDur'+'ation']=de()-_0x429173;}),_0x448014['_shaderSta'+'ts']['linked']++,_0x2691d5['tag']===Sy&&_0x448014['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x2ff51f,_0x422c32,_0xf803cc){const _0x3f39c3=_0x2ff51f['gl'];if(_0x3f39c3['isContextL'+'ost']())return null;const _0x492c72=(_0xf803cc?ZT:QT)['get'](_0x2ff51f,()=>new KT());let _0x31cb48=_0x492c72['map']['get'](_0x422c32);if(!_0x31cb48){const _0x3a15db=de();_0x2ff51f['fire']('shader:com'+'pile:start',{'timestamp':_0x3a15db,'target':_0x2ff51f}),_0x31cb48=_0x3f39c3['createShad'+'er'](_0xf803cc?_0x3f39c3['VERTEX_SHA'+'DER']:_0x3f39c3['FRAGMENT_S'+'HADER']),_0x3f39c3['shaderSour'+'ce'](_0x31cb48,_0x422c32),_0x3f39c3['compileSha'+'der'](_0x31cb48),_0x492c72['map']['set'](_0x422c32,_0x31cb48);const _0x2bf49a=de();_0x2ff51f['fire']('shader:com'+'pile:end',{'timestamp':_0x2bf49a,'target':_0x2ff51f}),_0x2ff51f['_shaderSta'+'ts']['compileTim'+'e']+=_0x2bf49a-_0x3a15db,_0xf803cc?_0x2ff51f['_shaderSta'+'ts']['vsCompiled']++:_0x2ff51f['_shaderSta'+'ts']['fsCompiled']++;}return _0x31cb48;}['finalize'](_0x2f7e8a,_0xc7c7ad){var _0x28e677,_0x26cba8;const _0x4c326d=_0x2f7e8a['gl'];if(_0x4c326d['isContextL'+'ost']())return!(-0x1422+0xd94+0x68e);const _0x707e23=this['glProgram'],_0x94aa02=_0xc7c7ad['definition'],_0x13bc02=de();_0x2f7e8a['fire']('shader:lin'+'k:start',{'timestamp':_0x13bc02,'target':_0x2f7e8a});let _0x1322d0=-0x37*-0x6d+0x34a*0x2+-0x1dff;if(w['call'](()=>{_0x1322d0=de();}),!_0x4c326d['getProgram'+'Parameter'](_0x707e23,_0x4c326d['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x2f7e8a,_0xc7c7ad,this['glVertexSh'+'ader'],_0x94aa02['vshader'],'vertex')||!this['_isCompile'+'d'](_0x2f7e8a,_0xc7c7ad,this['glFragment'+'Shader'],_0x94aa02['fshader'],'fragment'))return!(-0x433+0xdd2+-0x99e);const _0x5ac52c='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x4c326d['getProgram'+'InfoLog'](_0x707e23);return _0x94aa02['translated'+'Frag']=(_0x28e677=_0x4c326d['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x109b+0xf74*-0x1+0x200f*0x1):_0x28e677['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x94aa02['translated'+'Vert']=(_0x26cba8=_0x4c326d['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1048+-0x244f+0x1407):_0x26cba8['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x5ac52c,_0x94aa02),console['error'](_0x5ac52c),!(0x121*0x11+0x8ec*0x3+-0x2df4);}const _0x18e49c=_0x4c326d['getProgram'+'Parameter'](_0x707e23,_0x4c326d['ACTIVE_ATT'+'RIBUTES']);_0xc7c7ad['attributes']['clear']();for(let _0x50b89e=-0x1*-0xc95+0x1fcd+-0x256*0x13;_0x50b89e<_0x18e49c;_0x50b89e++){const _0x53f044=_0x4c326d['getActiveA'+'ttrib'](_0x707e23,_0x50b89e),_0x263d53=_0x4c326d['getAttribL'+'ocation'](_0x707e23,_0x53f044['name']);YT['has'](_0x53f044['name'])||(_0x94aa02['attributes'][_0x53f044['name']]===void(0x1*0xdfd+-0x995+0x5e*-0xc)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x53f044['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0xc7c7ad['label']+']',_0xc7c7ad),_0xc7c7ad['failed']=!(-0x3cb*-0x5+-0xecb*0x2+-0xa9f*-0x1)):_0xc7c7ad['attributes']['set'](_0x263d53,_0x53f044['name']));}const _0xc70f58=_0x2f7e8a['_samplerTy'+'pes'],_0x2583c8=_0x4c326d['getProgram'+'Parameter'](_0x707e23,_0x4c326d['ACTIVE_UNI'+'FORMS']);for(let _0x3c8fbc=-0x21f2+-0x57*0x19+-0x2a71*-0x1;_0x3c8fbc<_0x2583c8;_0x3c8fbc++){const _0x3fe04d=_0x4c326d['getActiveU'+'niform'](_0x707e23,_0x3c8fbc),_0x30ede5=_0x4c326d['getUniform'+'Location'](_0x707e23,_0x3fe04d['name']),_0x35e845=new jT(_0x2f7e8a,_0x3fe04d['name'],_0x2f7e8a['pcUniformT'+'ype'][_0x3fe04d['type']],_0x30ede5);_0xc70f58['has'](_0x3fe04d['type'])?this['samplers']['push'](_0x35e845):this['uniforms']['push'](_0x35e845);}_0xc7c7ad['ready']=!(-0x546*-0x2+0x269*0x1+-0xcf5*0x1);const _0x5e1160=de();return _0x2f7e8a['fire']('shader:lin'+'k:end',{'timestamp':_0x5e1160,'target':_0x2f7e8a}),_0x2f7e8a['_shaderSta'+'ts']['compileTim'+'e']+=_0x5e1160-_0x13bc02,w['call'](()=>{const _0x5e9493=de()-_0x1322d0;this['compileDur'+'ation']+=_0x5e9493,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0xc7c7ad['id']+']\x20'+_0xc7c7ad['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x2*-0xa63+-0x2583+0x10be)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x1*-0x1508+-0x1e29+0x3332)+'ms');}),!(-0x12dd+0xa11*-0x1+0x422*0x7);}['_isCompile'+'d'](_0x35e4f0,_0x977961,_0x2a90e7,_0x489720,_0x30cda4){const _0x3fd74f=_0x35e4f0['gl'];if(!_0x3fd74f['getShaderP'+'arameter'](_0x2a90e7,_0x3fd74f['COMPILE_ST'+'ATUS'])){const _0x38c32f=_0x3fd74f['getShaderI'+'nfoLog'](_0x2a90e7),[_0x13831e,_0x531e31]=this['_processEr'+'ror'](_0x489720,_0x38c32f),_0x1f2bec='Failed\x20to\x20'+'compile\x20'+_0x30cda4+'\x20shader:\x0a\x0a'+_0x38c32f+'\x0a'+_0x13831e+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x531e31['shader']=_0x977961,console['error'](_0x1f2bec,_0x531e31),console['error'](_0x1f2bec),!(0x232*-0x1+-0x1eb+0x41e);}return!(-0x116+0x1*0x1dd9+0xc7*-0x25);}['isLinked'](_0x4674ad){const {extParallelShaderCompile:_0x2d605d}=_0x4674ad;return _0x2d605d?_0x4674ad['gl']['getProgram'+'Parameter'](this['glProgram'],_0x2d605d['COMPLETION'+'_STATUS_KH'+'R']):!(0x9ad*0x1+0x1*-0x24da+-0x90f*-0x3);}['_processEr'+'ror'](_0x907e87,_0xbe4b8c){const _0x4bd5ec={};let _0x3eef97='';if(_0x907e87){const _0x3ebd5c=_0x907e87['split']('\x0a');let _0x842c0f=0x2a*-0xeb+-0x11*0x16b+-0x3ea9*-0x1,_0x15fd09=_0x3ebd5c['length'];if(_0xbe4b8c&&_0xbe4b8c['startsWith']('ERROR:')){const _0x57dcfc=_0xbe4b8c['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x57dcfc&&(_0x4bd5ec['message']=_0x57dcfc[-0x12e2+0xda9*0x2+-0x86d],_0x4bd5ec['line']=parseInt(_0x57dcfc[-0x1284+0x1663+-0x17*0x2b],0x94+-0x6a2+0x618),_0x842c0f=Math['max'](0xe3a*0x1+-0x17*0xd+-0xd0f,_0x4bd5ec['line']-(0x2*0x72d+-0x3d1+0x17*-0x75)),_0x15fd09=Math['min'](_0x3ebd5c['length'],_0x4bd5ec['line']+(0x1*0x587+-0xd24+0x7a2)));}for(let _0x1c50a1=_0x842c0f;_0x1c50a1<_0x15fd09;_0x1c50a1++){const _0x227f2e=_0x1c50a1+(0xc6f+0x1*-0x4d9+-0x795)===_0x4bd5ec['line']?'>\x20':'\x20\x20';_0x3eef97+=''+_0x227f2e+(_0x1c50a1+(-0x969+0x120b+0x8a1*-0x1))+':\x09'+_0x3ebd5c[_0x1c50a1]+'\x0a';}_0x4bd5ec['source']=_0x907e87;}return[_0x3eef97,_0x4bd5ec];}}function c_(_0x5741b6,_0x5dec9d){const _0x206cbf=_0x5741b6['width'],_0x19535f=_0x5741b6['height'];if(_0x206cbf>_0x5dec9d||_0x19535f>_0x5dec9d){const _0x56859b=_0x5dec9d/Math['max'](_0x206cbf,_0x19535f),_0x28d2fa=Math['floor'](_0x206cbf*_0x56859b),_0x2b70a0=Math['floor'](_0x19535f*_0x56859b);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5dec9d+('.\x20Resizing'+'\x20from\x20')+_0x206cbf+',\x20'+_0x19535f+'\x20to\x20'+_0x28d2fa+',\x20'+_0x2b70a0+'.');const _0x16e657=document['createElem'+'ent']('canvas');return _0x16e657['width']=_0x28d2fa,_0x16e657['height']=_0x2b70a0,_0x16e657['getContext']('2d')['drawImage'](_0x5741b6,-0x183*-0xa+-0x9*-0x116+-0x18e4,-0xab9+0x1a7d+-0xfc4,_0x206cbf,_0x19535f,-0x207*-0x1+-0x1d3e+0x1*0x1b37,0x1*-0x1613+0x1db+0xa1c*0x2,_0x28d2fa,_0x2b70a0),_0x16e657;}return _0x5741b6;}class ew{constructor(_0x58f979){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x71*-0xc+-0xa1c+0xf68),this['texture']=_0x58f979;}['destroy'](_0xb70e81){if(this['_glTexture']){for(let _0x3f89c6=-0x439*0x1+-0x1fd6+-0x1*-0x240f;_0x3f89c6<_0xb70e81['textureUni'+'ts']['length'];_0x3f89c6++){const _0x46b65f=_0xb70e81['textureUni'+'ts'][_0x3f89c6];for(let _0x1676c4=0x8ee+-0x811+-0xdd;_0x1676c4<_0x46b65f['length'];_0x1676c4++)_0x46b65f[_0x1676c4]===this['_glTexture']&&(_0x46b65f[_0x1676c4]=null);}_0xb70e81['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x24fb78){this['dirtyParam'+'eterFlags']|=_0x24fb78;}['initialize'](_0x26a7ad,_0x393c7d){const _0x159606=_0x26a7ad['gl'];switch(this['_glTexture']=_0x159606['createText'+'ure'](),this['_glTarget']=_0x393c7d['_cubemap']?_0x159606['TEXTURE_CU'+'BE_MAP']:_0x393c7d['_volume']?_0x159606['TEXTURE_3D']:_0x393c7d['array']?_0x159606['TEXTURE_2D'+'_ARRAY']:_0x159606['TEXTURE_2D'],_0x393c7d['_format']){case ty:this['_glFormat']=_0x159606['ALPHA'],this['_glInterna'+'lFormat']=_0x159606['ALPHA'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x159606['LUMINANCE'],this['_glInterna'+'lFormat']=_0x159606['LUMINANCE'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x159606['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x159606['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x159606['RED'],this['_glInterna'+'lFormat']=_0x159606['R8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x159606['RG'],this['_glInterna'+'lFormat']=_0x159606['RG8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['RGB565'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['RGB5_A1'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['RGBA4'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['RGB8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['RGBA8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x159606['SRGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x159606['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x159606['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x159606['SRGB'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x159606['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x159606['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x26a7ad['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x26a7ad['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x159606['RED'],this['_glInterna'+'lFormat']=_0x159606['R16F'],this['_glPixelTy'+'pe']=_0x159606['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x159606['RG'],this['_glInterna'+'lFormat']=_0x159606['RG16F'],this['_glPixelTy'+'pe']=_0x159606['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['RGB16F'],this['_glPixelTy'+'pe']=_0x159606['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['RGBA16F'],this['_glPixelTy'+'pe']=_0x159606['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['RGB32F'],this['_glPixelTy'+'pe']=_0x159606['FLOAT'];break;case Xt:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['RGBA32F'],this['_glPixelTy'+'pe']=_0x159606['FLOAT'];break;case Ji:this['_glFormat']=_0x159606['RED'],this['_glInterna'+'lFormat']=_0x159606['R32F'],this['_glPixelTy'+'pe']=_0x159606['FLOAT'];break;case $i:this['_glFormat']=_0x159606['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x159606['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x159606['FLOAT'];break;case vn:this['_glFormat']=_0x159606['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x159606['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x159606['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x159606['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x159606['RGB'],this['_glInterna'+'lFormat']=_0x159606['SRGB8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x159606['RGBA'],this['_glInterna'+'lFormat']=_0x159606['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R8I'],this['_glPixelTy'+'pe']=_0x159606['BYTE'];break;case oy:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R8UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R16I'],this['_glPixelTy'+'pe']=_0x159606['SHORT'];break;case up:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R16UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R32I'],this['_glPixelTy'+'pe']=_0x159606['INT'];break;case Ki:this['_glFormat']=_0x159606['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x159606['R32UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG8I'],this['_glPixelTy'+'pe']=_0x159606['BYTE'];break;case ly:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG8UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG16I'],this['_glPixelTy'+'pe']=_0x159606['SHORT'];break;case gp:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG16UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG32I'],this['_glPixelTy'+'pe']=_0x159606['INT'];break;case yp:this['_glFormat']=_0x159606['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x159606['RG32UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA8I'],this['_glPixelTy'+'pe']=_0x159606['BYTE'];break;case cy:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA8UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA16I'],this['_glPixelTy'+'pe']=_0x159606['SHORT'];break;case nd:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA16UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA32I'],this['_glPixelTy'+'pe']=_0x159606['INT'];break;case Ue:this['_glFormat']=_0x159606['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x159606['RGBA32UI'],this['_glPixelTy'+'pe']=_0x159606['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x124a+0x11*-0x1cd+0x30e8);}['upload'](_0x25bde6,_0x475701){w['assert'](_0x475701['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x475701);const _0x1b1eca=_0x25bde6['gl'];if(!_0x475701['_needsUplo'+'ad']&&(_0x475701['_needsMipm'+'apsUpload']&&_0x475701['_mipmapsUp'+'loaded']||!_0x475701['pot']))return;let _0x49969a=-0x1*0x81e+-0x241+0xa5f,_0x467e24,_0x4c8377;const _0x975563=_0x475701['numLevels'];for(_0x475701['array']&&_0x1b1eca['texStorage'+'3D'](_0x1b1eca['TEXTURE_2D'+'_ARRAY'],_0x975563,this['_glInterna'+'lFormat'],_0x475701['_width'],_0x475701['_height'],_0x475701['_arrayLeng'+'th']);_0x475701['_levels'][_0x49969a]||_0x49969a===-0x1*0x182b+0x1da*0xd+0x19;){if(!_0x475701['_needsUplo'+'ad']&&_0x49969a===-0x1*0xd13+-0x1d99+-0xaab*-0x4){_0x49969a++;continue;}else{if(_0x49969a&&(!_0x475701['_needsMipm'+'apsUpload']||!_0x475701['_mipmaps']))break;}if(_0x467e24=_0x475701['_levels'][_0x49969a],_0x4c8377=(-0x50a+0x53*0x59+-0x17d0)/Math['pow'](0x6cf+-0x1b70+0x14a3*0x1,_0x49969a),_0x49969a===0x13df+0x4dc+-0x4f2*0x5&&!_0x475701['_compresse'+'d']&&!_0x475701['_integerFo'+'rmat']&&_0x475701['_levels']['length']<_0x975563&&(_0x1b1eca['generateMi'+'pmap'](this['_glTarget']),_0x475701['_mipmapsUp'+'loaded']=!(-0x262+0x42*0x58+-0xa27*0x2)),_0x475701['_cubemap']){let _0x43a04d;if(_0x25bde6['_isBrowser'+'Interface'](_0x467e24[0x25*0x5c+-0x2514+0x17c8]))for(_0x43a04d=0x1d1+0xb*0x18b+-0x12ca;_0x43a04d<-0x12*0x11b+0x4*0x751+-0x12b*0x8;_0x43a04d++){if(!_0x475701['_levelsUpd'+'ated'][-0xd3b+-0x2317+-0xa*-0x4d5][_0x43a04d])continue;let _0x3be754=_0x467e24[_0x43a04d];_0x25bde6['_isImageBr'+'owserInter'+'face'](_0x3be754)&&(_0x3be754['width']>_0x25bde6['maxCubeMap'+'Size']||_0x3be754['height']>_0x25bde6['maxCubeMap'+'Size'])&&(_0x3be754=c_(_0x3be754,_0x25bde6['maxCubeMap'+'Size']),_0x49969a===0x5*-0x397+0x269e+-0x14ab&&(_0x475701['_width']=_0x3be754['width'],_0x475701['_height']=_0x3be754['height'])),_0x25bde6['setUnpackF'+'lipY'](!(-0xfd8+-0x11*-0x11+-0xeb8*-0x1)),_0x25bde6['setUnpackP'+'remultiply'+'Alpha'](_0x475701['_premultip'+'lyAlpha']),this['_glCreated']?_0x1b1eca['texSubImag'+'e2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,0x1bc5*-0x1+-0x149*-0xe+-0x1*-0x9c7,-0x16cd+0x1ce7+-0x61a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3be754):_0x1b1eca['texImage2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3be754);}else for(_0x4c8377=(0x468+0x1*-0x1425+0xfbe)/Math['pow'](0x2263+0x12e4+-0x3545,_0x49969a),_0x43a04d=0x245*0x7+-0x1e84+0xea1;_0x43a04d<-0xae*-0x27+0x1f96+-0x1d09*0x2;_0x43a04d++){if(!_0x475701['_levelsUpd'+'ated'][-0x1*0xc43+0x3*-0x6e1+0x2*0x1073][_0x43a04d])continue;const _0x5435c4=_0x467e24[_0x43a04d];_0x475701['_compresse'+'d']?this['_glCreated']&&_0x5435c4?_0x1b1eca['compressed'+'TexSubImag'+'e2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,0x1241*-0x1+-0xc08+-0x1e49*-0x1,0x3e3+-0x15c2*0x1+0x4b*0x3d,Math['max'](_0x475701['_width']*_0x4c8377,-0xb52+-0x127b+0x1dce),Math['max'](_0x475701['_height']*_0x4c8377,0x1*0x1712+-0x1cf3+0x5e2),this['_glInterna'+'lFormat'],_0x5435c4):_0x1b1eca['compressed'+'TexImage2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,this['_glInterna'+'lFormat'],Math['max'](_0x475701['_width']*_0x4c8377,0x10c9+0x1fe7*0x1+-0x79*0x67),Math['max'](_0x475701['_height']*_0x4c8377,0x1*0x1525+-0x21ff+0xcdb),-0x43*-0x67+-0x6ff*-0x3+-0x2ff2,_0x5435c4):(_0x25bde6['setUnpackF'+'lipY'](!(-0x13a*0x9+-0x1*0xc5b+0x1766)),_0x25bde6['setUnpackP'+'remultiply'+'Alpha'](_0x475701['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5435c4?_0x1b1eca['texSubImag'+'e2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,0x8ce+0x19be+-0x228c,-0x1c52+0x484+0x115*0x16,Math['max'](_0x475701['_width']*_0x4c8377,-0x3c6+-0x13d5+0x179c),Math['max'](_0x475701['_height']*_0x4c8377,-0x29c*0x6+0xddd+0x1cc),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5435c4):_0x1b1eca['texImage2D'](_0x1b1eca['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a04d,_0x49969a,this['_glInterna'+'lFormat'],Math['max'](_0x475701['_width']*_0x4c8377,-0xf24+-0x17b4+-0x33*-0xc3),Math['max'](_0x475701['_height']*_0x4c8377,0x2b9+0xd3*-0x6+0x5*0x72),-0x23e+-0x1*-0x22e7+0x1*-0x20a9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5435c4));}}else{if(_0x475701['_volume'])_0x475701['_compresse'+'d']?_0x1b1eca['compressed'+'TexImage3D'](_0x1b1eca['TEXTURE_3D'],_0x49969a,this['_glInterna'+'lFormat'],Math['max'](_0x475701['_width']*_0x4c8377,0x10ac+0x2409+-0x34b4),Math['max'](_0x475701['_height']*_0x4c8377,0x35+0x345*0x3+-0xb*0xe9),Math['max'](_0x475701['_depth']*_0x4c8377,-0x14bc*0x1+-0xf65*0x2+0x3387),0x26b1+-0x4f4+-0x21bd,_0x467e24):(_0x25bde6['setUnpackF'+'lipY'](!(-0x3*0x847+0x1065+0x871*0x1)),_0x25bde6['setUnpackP'+'remultiply'+'Alpha'](_0x475701['_premultip'+'lyAlpha']),_0x1b1eca['texImage3D'](_0x1b1eca['TEXTURE_3D'],_0x49969a,this['_glInterna'+'lFormat'],Math['max'](_0x475701['_width']*_0x4c8377,-0x600+-0x8e0+0xee1),Math['max'](_0x475701['_height']*_0x4c8377,0x1*0x7fa+0x1*0x1a23+-0x221c),Math['max'](_0x475701['_depth']*_0x4c8377,0xa82+0x1*0xb23+-0x15a4),0x4cd*0x8+-0x1d7c+0x476*-0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24));else{if(_0x475701['array']&&typeof _0x467e24=='object'){if(_0x475701['_arrayLeng'+'th']===_0x467e24['length']){if(_0x475701['_compresse'+'d']){for(let _0x3a924f=0x265e+0x1b4*-0x6+0xe13*-0x2;_0x3a924f<_0x475701['_arrayLeng'+'th'];_0x3a924f++)_0x1b1eca['compressed'+'TexSubImag'+'e3D'](_0x1b1eca['TEXTURE_2D'+'_ARRAY'],_0x49969a,0x1*0x15f2+-0xac7+0x3b9*-0x3,-0xcb1+-0x1689+0x233a,_0x3a924f,Math['max'](Math['floor'](_0x475701['_width']*_0x4c8377),-0x11*0x173+0x2426+-0xb82),Math['max'](Math['floor'](_0x475701['_height']*_0x4c8377),-0x15f8*0x1+0x2*-0xeb1+0x335b),-0xef6+-0x3b4*-0x8+-0xea9,this['_glInterna'+'lFormat'],_0x467e24[_0x3a924f]);}else{for(let _0x21276b=0x141f+-0x2*-0x3e4+-0x3*0x94d;_0x21276b<_0x475701['_arrayLeng'+'th'];_0x21276b++)_0x1b1eca['texSubImag'+'e3D'](_0x1b1eca['TEXTURE_2D'+'_ARRAY'],_0x49969a,0x1790+0x218b+-0x21*0x1bb,0x113f+-0x5fc+0xb43*-0x1,_0x21276b,Math['max'](Math['floor'](_0x475701['_width']*_0x4c8377),-0x13c+-0x12b1+-0x2*-0x9f7),Math['max'](Math['floor'](_0x475701['_height']*_0x4c8377),-0x2619+-0x99f+0x2fb9),0x1cd0+-0x72c+-0xbf*0x1d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24[_0x21276b]);}}}else{if(_0x25bde6['_isBrowser'+'Interface'](_0x467e24)){_0x25bde6['_isImageBr'+'owserInter'+'face'](_0x467e24)&&(_0x467e24['width']>_0x25bde6['maxTexture'+'Size']||_0x467e24['height']>_0x25bde6['maxTexture'+'Size'])&&(_0x467e24=c_(_0x467e24,_0x25bde6['maxTexture'+'Size']),_0x49969a===0x17df+0x1*-0x679+-0x1166&&(_0x475701['_width']=_0x467e24['width'],_0x475701['_height']=_0x467e24['height']));const _0x5e37f8=_0x467e24['width']||_0x467e24['videoWidth'],_0x2e04fa=_0x467e24['height']||_0x467e24['videoHeigh'+'t'];_0x25bde6['setUnpackF'+'lipY'](_0x475701['_flipY']),_0x25bde6['setUnpackP'+'remultiply'+'Alpha'](_0x475701['_premultip'+'lyAlpha']),this['_glCreated']&&_0x475701['_width']===_0x5e37f8&&_0x475701['_height']===_0x2e04fa&&!_0x25bde6['_isImageVi'+'deoInterfa'+'ce'](_0x467e24)?_0x1b1eca['texSubImag'+'e2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,-0x7fb+0x55b+0xa8*0x4,0x5*0x44d+0x9c4*-0x3+-0x39*-0x23,this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24):(_0x1b1eca['texImage2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24),_0x49969a===-0x8b0+0x1dc9+-0x1519&&(_0x475701['_width']=_0x5e37f8,_0x475701['_height']=_0x2e04fa));}else _0x4c8377=(-0x1*0x15dd+-0x5*-0x102+0x10d4)/Math['pow'](0x1*0x14c3+0x2033+-0x34f4,_0x49969a),_0x475701['_compresse'+'d']?this['_glCreated']&&_0x467e24?_0x1b1eca['compressed'+'TexSubImag'+'e2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,0x1*-0x1b25+-0x1b23+0x3648,-0x1*-0x2230+-0x327*-0x3+0x1*-0x2ba5,Math['max'](Math['floor'](_0x475701['_width']*_0x4c8377),0xca5+0x1a37*0x1+-0x26db),Math['max'](Math['floor'](_0x475701['_height']*_0x4c8377),-0x1ecd+0x224d+-0x1*0x37f),this['_glInterna'+'lFormat'],_0x467e24):_0x1b1eca['compressed'+'TexImage2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x475701['_width']*_0x4c8377),0x1c2d+-0x26b9+0x25*0x49),Math['max'](Math['floor'](_0x475701['_height']*_0x4c8377),0x1bd*0xb+0xb34+-0x1e52),0xee9+0xe*0x27a+-0x3195,_0x467e24):(_0x25bde6['setUnpackF'+'lipY'](!(0x1*-0x1c82+-0x11a4+-0x2e27*-0x1)),_0x25bde6['setUnpackP'+'remultiply'+'Alpha'](_0x475701['_premultip'+'lyAlpha']),this['_glCreated']&&_0x467e24?_0x1b1eca['texSubImag'+'e2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,0x4*0x16a+0x3*-0xf+-0x57b,-0x1c48+-0xe8a+0x15*0x20a,Math['max'](_0x475701['_width']*_0x4c8377,-0x62b+0xad2+-0x4a6),Math['max'](_0x475701['_height']*_0x4c8377,0x4f*-0x4f+-0x10f+0x1971),this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24):_0x1b1eca['texImage2D'](_0x1b1eca['TEXTURE_2D'],_0x49969a,this['_glInterna'+'lFormat'],Math['max'](_0x475701['_width']*_0x4c8377,0x15ac+0xaf1*0x3+-0x5*0xae6),Math['max'](_0x475701['_height']*_0x4c8377,0x2*-0x54a+0x11b3+-0x71e),-0x1287+-0x3*0xbd9+0x3612,this['_glFormat'],this['_glPixelTy'+'pe'],_0x467e24));_0x49969a===0x47*-0xe+-0x5*0x1eb+0xd79*0x1?_0x475701['_mipmapsUp'+'loaded']=!(0x1a09+0x1a66+-0x346e):_0x475701['_mipmapsUp'+'loaded']=!(-0x2*-0xdd8+0x251*-0xb+-0x235);}}}_0x49969a++;}if(_0x475701['_needsUplo'+'ad']){if(_0x475701['_cubemap']){for(let _0x4d607d=-0x15bd+0x103*-0x21+0x3720;_0x4d607d<0x249b+0x1b4a+-0x1*0x3fdf;_0x4d607d++)_0x475701['_levelsUpd'+'ated'][0x1e3f+0xd3*-0x25+0x40][_0x4d607d]=!(0x1d*0x3b+0x74*-0x24+0x9a2);}else _0x475701['_levelsUpd'+'ated'][-0x161*0x17+0x1b6*0x12+0xeb]=!(0x161b+0x110e+0x4e5*-0x8);}!_0x475701['_compresse'+'d']&&!_0x475701['_integerFo'+'rmat']&&_0x475701['_mipmaps']&&_0x475701['_needsMipm'+'apsUpload']&&_0x475701['_levels']['length']===0x573+0x5ad+-0xb1f&&(_0x1b1eca['generateMi'+'pmap'](this['_glTarget']),_0x475701['_mipmapsUp'+'loaded']=!(0x1*-0xa4+0x1*0x1e5d+-0x1db9)),_0x475701['_gpuSize']&&_0x475701['adjustVram'+'SizeTracki'+'ng'](_0x25bde6['_vram'],-_0x475701['_gpuSize']),_0x475701['_gpuSize']=_0x475701['gpuSize'],_0x475701['adjustVram'+'SizeTracki'+'ng'](_0x25bde6['_vram'],_0x475701['_gpuSize']),this['_glCreated']=!(0x1*0x90a+0x5*0x3d6+-0x1c38);}['read'](_0x12c1d6,_0x5443c3,_0x544f6c,_0x2bf8d2,_0x218365){const _0x248b71=this['texture'];return _0x248b71['device']['readTextur'+'eAsync'](_0x248b71,_0x12c1d6,_0x5443c3,_0x544f6c,_0x2bf8d2,_0x218365);}['write'](_0x2200e0,_0x2f5bc9,_0x59c56f,_0x878fec,_0xcace15){const {texture:_0x4a730a}=this,{device:_0x2211ba}=_0x4a730a;return _0x2211ba['setTexture'](_0x4a730a,-0x2281+0x1*-0x95b+-0x322*-0xe),_0x2211ba['writeTextu'+'reAsync'](_0x4a730a,_0x2200e0,_0x2f5bc9,_0x59c56f,_0x878fec,_0xcace15);}}class tw{constructor(_0x15988f,_0x57b272){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x15988f,this['resolveFB']=_0x57b272);}['destroy'](_0x52035e){this['msaaFB']&&(_0x52035e['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x52035e['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x5b5+-0x139f*0x1+-0x1*-0x1955));}['destroy'](_0x47028f){var _0x329a59;const _0x1eecd3=_0x47028f['gl'];this['_isInitial'+'ized']=!(-0x17*-0x14b+0x1*0x9f7+-0x27b3),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x1eecd3['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x1eecd3['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x1eecd3['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x2c9444=>{_0x1eecd3['deleteRend'+'erbuffer'](_0x2c9444);}),this['_glMsaaCol'+'orBuffers']['length']=-0x17ba+0xc0b+0xbaf,(_0x329a59=this['colorMrtFr'+'amebuffers'])==null||_0x329a59['forEach'](_0x2b0ee4=>{_0x2b0ee4['destroy'](_0x1eecd3);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x47028f)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x956*0x1+-0x98d*-0x4+-0x2*0x17c5);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x1695a8,_0x5a4613){var _0x4fc731,_0x2b268b;const _0x2e6d42=_0x1695a8['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0xdab+0x16bf+-0x246a*0x1);const _0x33c8be=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x67c+-0x900+-0xf7c*-0x1))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x5a4613['width']<=-0x1277+-0x21d*-0x3+0xc2*0x10||_0x5a4613['height']<=-0x1b68+0x135d*-0x1+0x399*0xd)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x5a4613['width']+'\x20x\x20'+_0x5a4613['height'],_0x5a4613);}),this['_glFrameBu'+'ffer']=_0x2e6d42['createFram'+'ebuffer'](),_0x1695a8['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x18b571=((_0x4fc731=_0x5a4613['_colorBuff'+'ers'])==null?void(-0x31*-0xb1+0x1*0x117b+0xad*-0x4c):_0x4fc731['length'])??-0x1192+0x59+0x1139,_0x47f594=_0x2e6d42['COLOR_ATTA'+'CHMENT0'];for(let _0x4105a1=-0x3f6*0x2+0x11d*-0x17+0x3*0xb2d;_0x4105a1<_0x18b571;++_0x4105a1){const _0x29c280=_0x5a4613['getColorBu'+'ffer'](_0x4105a1);_0x29c280&&(_0x29c280['impl']['_glTexture']||(_0x29c280['_width']=Math['min'](_0x29c280['width'],_0x1695a8['maxRenderB'+'ufferSize']),_0x29c280['_height']=Math['min'](_0x29c280['height'],_0x1695a8['maxRenderB'+'ufferSize']),_0x1695a8['setTexture'](_0x29c280,0x19fa+-0x2*-0xa18+0x1*-0x2e2a)),_0x2e6d42['framebuffe'+'rTexture2D'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x47f594+_0x4105a1,_0x29c280['_cubemap']?_0x2e6d42['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5a4613['_face']:_0x2e6d42['TEXTURE_2D'],_0x29c280['impl']['_glTexture'],_0x5a4613['mipLevel']),_0x33c8be['push'](_0x47f594+_0x4105a1));}_0x2e6d42['drawBuffer'+'s'](_0x33c8be);const _0x2fa3d7=_0x5a4613['_depthBuff'+'er'];if(_0x2fa3d7||_0x5a4613['_depth']){const _0x86d388=_0x5a4613['_stencil']?_0x2e6d42['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2e6d42['DEPTH_ATTA'+'CHMENT'];if(_0x2fa3d7)_0x2fa3d7['impl']['_glTexture']||(_0x2fa3d7['_width']=Math['min'](_0x2fa3d7['width'],_0x1695a8['maxRenderB'+'ufferSize']),_0x2fa3d7['_height']=Math['min'](_0x2fa3d7['height'],_0x1695a8['maxRenderB'+'ufferSize']),_0x1695a8['setTexture'](_0x2fa3d7,-0x24e7+-0x2d8*-0x2+-0x3d*-0x83)),_0x2e6d42['framebuffe'+'rTexture2D'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x86d388,_0x2fa3d7['_cubemap']?_0x2e6d42['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5a4613['_face']:_0x2e6d42['TEXTURE_2D'],_0x5a4613['_depthBuff'+'er']['impl']['_glTexture'],_0x5a4613['mipLevel']);else{if(!(_0x5a4613['_samples']>-0x21d6+-0x122f+0x1a03*0x2)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x2e6d42['createRend'+'erbuffer']());const _0x483402=_0x5a4613['_stencil']?_0x2e6d42['DEPTH24_ST'+'ENCIL8']:_0x2e6d42['DEPTH_COMP'+'ONENT32F'];_0x2e6d42['bindRender'+'buffer'](_0x2e6d42['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2e6d42['renderbuff'+'erStorage'](_0x2e6d42['RENDERBUFF'+'ER'],_0x483402,_0x5a4613['width'],_0x5a4613['height']),_0x2e6d42['framebuffe'+'rRenderbuf'+'fer'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x86d388,_0x2e6d42['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2e6d42['bindRender'+'buffer'](_0x2e6d42['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x1695a8,_0x5a4613));}if(_0x5a4613['_samples']>-0x1fc5*0x1+0xc61+0x677*0x3){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x2e6d42['createFram'+'ebuffer'](),_0x1695a8['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2ab5f3=((_0x2b268b=_0x5a4613['_colorBuff'+'ers'])==null?void(-0xee4+0x3*-0x3dd+0x1a7b*0x1):_0x2b268b['length'])??0x259+0x26ce+-0x1*0x2927;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1def+-0x1413+-0x3202*-0x1)){const _0x54bdc3=_0x2e6d42['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x54bdc3);const _0x44d04c=_0x1695a8['backBuffer'+'Format']===Ne?_0x2e6d42['RGBA8']:_0x2e6d42['RGB8'];_0x2e6d42['bindRender'+'buffer'](_0x2e6d42['RENDERBUFF'+'ER'],_0x54bdc3),_0x2e6d42['renderbuff'+'erStorageM'+'ultisample'](_0x2e6d42['RENDERBUFF'+'ER'],_0x5a4613['_samples'],_0x44d04c,_0x5a4613['width'],_0x5a4613['height']),_0x2e6d42['framebuffe'+'rRenderbuf'+'fer'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x2e6d42['COLOR_ATTA'+'CHMENT0'],_0x2e6d42['RENDERBUFF'+'ER'],_0x54bdc3);}else for(let _0x335b69=0x1*-0x94a+0xda*-0x20+0x248a;_0x335b69<_0x2ab5f3;++_0x335b69){const _0x3aeddb=_0x5a4613['getColorBu'+'ffer'](_0x335b69);if(_0x3aeddb){const _0x1f87d4=_0x2e6d42['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1f87d4),_0x2e6d42['bindRender'+'buffer'](_0x2e6d42['RENDERBUFF'+'ER'],_0x1f87d4),_0x2e6d42['renderbuff'+'erStorageM'+'ultisample'](_0x2e6d42['RENDERBUFF'+'ER'],_0x5a4613['_samples'],_0x3aeddb['impl']['_glInterna'+'lFormat'],_0x5a4613['width'],_0x5a4613['height']),_0x2e6d42['framebuffe'+'rRenderbuf'+'fer'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x2e6d42['COLOR_ATTA'+'CHMENT0']+_0x335b69,_0x2e6d42['RENDERBUFF'+'ER'],_0x1f87d4);}}if(_0x5a4613['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x467993=_0x5a4613['_stencil']?_0x2e6d42['DEPTH24_ST'+'ENCIL8']:_0x2e6d42['DEPTH_COMP'+'ONENT32F'],_0x5015c6=_0x5a4613['_stencil']?_0x2e6d42['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2e6d42['DEPTH_ATTA'+'CHMENT'];let _0x4abc93;const _0x246df9=_0x5a4613['_depthBuff'+'er'];_0x246df9&&(_0x4abc93=_0x246df9['id']+':'+_0x5a4613['width']+':'+_0x5a4613['height']+':'+_0x5a4613['_samples']+':'+_0x467993+':'+_0x5015c6,this['_glMsaaDep'+'thBuffer']=Fd(_0x1695a8)['get'](_0x4abc93)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x2e6d42['createRend'+'erbuffer'](),_0x2e6d42['bindRender'+'buffer'](_0x2e6d42['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x2e6d42['renderbuff'+'erStorageM'+'ultisample'](_0x2e6d42['RENDERBUFF'+'ER'],_0x5a4613['_samples'],_0x467993,_0x5a4613['width'],_0x5a4613['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x2e6d42['deleteRend'+'erbuffer'](this);},_0x246df9&&Fd(_0x1695a8)['set'](_0x4abc93,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x4abc93,_0x2e6d42['framebuffe'+'rRenderbuf'+'fer'](_0x2e6d42['FRAMEBUFFE'+'R'],_0x5015c6,_0x2e6d42['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x1695a8,_0x5a4613,'MSAA')),_0x2ab5f3>0x2104+0x2417+-0x451a&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x1695a8,_0x5a4613,_0x2ab5f3),_0x1695a8['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x2e6d42['drawBuffer'+'s'](_0x33c8be));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x528102,_0x529d87,_0x78d724){const _0x138361=_0x528102['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2abbec=-0x78d+-0x183f+0x1fcc;_0x2abbec<_0x78d724;++_0x2abbec){const _0x211e84=_0x529d87['getColorBu'+'ffer'](_0x2abbec),_0x1daa13=_0x138361['createFram'+'ebuffer']();_0x528102['setFramebu'+'ffer'](_0x1daa13);const _0x2a8a04=this['_glMsaaCol'+'orBuffers'][_0x2abbec];_0x138361['bindRender'+'buffer'](_0x138361['RENDERBUFF'+'ER'],_0x2a8a04),_0x138361['renderbuff'+'erStorageM'+'ultisample'](_0x138361['RENDERBUFF'+'ER'],_0x529d87['_samples'],_0x211e84['impl']['_glInterna'+'lFormat'],_0x529d87['width'],_0x529d87['height']),_0x138361['framebuffe'+'rRenderbuf'+'fer'](_0x138361['FRAMEBUFFE'+'R'],_0x138361['COLOR_ATTA'+'CHMENT0'],_0x138361['RENDERBUFF'+'ER'],_0x2a8a04),_0x138361['drawBuffer'+'s']([_0x138361['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x528102,_0x529d87,'MSAA-MRT-s'+'rc'+_0x2abbec));const _0x1ef98d=_0x138361['createFram'+'ebuffer']();_0x528102['setFramebu'+'ffer'](_0x1ef98d),_0x138361['framebuffe'+'rTexture2D'](_0x138361['FRAMEBUFFE'+'R'],_0x138361['COLOR_ATTA'+'CHMENT0'],_0x211e84['_cubemap']?_0x138361['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x529d87['_face']:_0x138361['TEXTURE_2D'],_0x211e84['impl']['_glTexture'],-0x1953+-0x294+0x1be7),this['colorMrtFr'+'amebuffers'][_0x2abbec]=new tw(_0x1daa13,_0x1ef98d),w['call'](()=>this['_checkFbo'](_0x528102,_0x529d87,'MSAA-MRT-d'+'st'+_0x2abbec));}}['_checkFbo'](_0x14524d,_0x51cea2,_0x1af828=''){const _0x1b669e=_0x14524d['gl'],_0x18a4d3=_0x1b669e['checkFrame'+'bufferStat'+'us'](_0x1b669e['FRAMEBUFFE'+'R']);let _0x587b41;switch(_0x18a4d3){case _0x1b669e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x587b41='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x1b669e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x587b41='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x1b669e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x587b41='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x1b669e['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x587b41='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x587b41,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x587b41+(',\x20render\x20t'+'arget:\x20')+_0x51cea2['name']+'\x20'+_0x1af828,_0x51cea2);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x3*-0x93f+0x1*-0x1814+0x1*-0x3a9,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x252c+0x11b2+-0x6*0x925),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x81e+-0x19ba+0x8*0x43b),this['_isInitial'+'ized']=!(0x3b*0x9d+0x1*-0x1ef8+-0x536);}['internalRe'+'solve'](_0x1586da,_0x3ecf8f,_0x3ad52c,_0x11cd73,_0x495d03){w['assert'](_0x3ecf8f!==_0x3ad52c,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1586da['setScissor'](-0x1d*0x9b+-0xdbc*0x1+0x1f4b,0x2f*-0x21+0x1ab*-0x1+0x7ba,_0x11cd73['width'],_0x11cd73['height']);const _0x3c9d77=_0x1586da['gl'];_0x3c9d77['bindFrameb'+'uffer'](_0x3c9d77['READ_FRAME'+'BUFFER'],_0x3ecf8f),_0x3c9d77['bindFrameb'+'uffer'](_0x3c9d77['DRAW_FRAME'+'BUFFER'],_0x3ad52c),_0x3c9d77['blitFrameb'+'uffer'](0x75*-0x3d+-0x5*0x5b7+0x1*0x3874,0x1fe9+0x394*0x5+-0xb*0x487,_0x11cd73['width'],_0x11cd73['height'],-0x2*0x6da+0xc89+-0x17*-0xd,-0xc17+0x1d65+-0xa*0x1bb,_0x11cd73['width'],_0x11cd73['height'],_0x495d03,_0x3c9d77['NEAREST']);}['resolve'](_0x57c86d,_0x2e5f32,_0x31e362,_0x51b726){const _0xda6f58=_0x57c86d['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x31e362)for(let _0x5f012a=-0x3*-0x673+-0xc1*-0x32+-0x390b;_0x5f012a<this['colorMrtFr'+'amebuffers']['length'];_0x5f012a++){const _0x1a0d93=this['colorMrtFr'+'amebuffers'][_0x5f012a];Q['pushGpuMar'+'ker'](_0x57c86d,'RESOLVE-MR'+'T'+_0x5f012a),this['internalRe'+'solve'](_0x57c86d,_0x1a0d93['msaaFB'],_0x1a0d93['resolveFB'],_0x2e5f32,_0xda6f58['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x57c86d);}_0x51b726&&(Q['pushGpuMar'+'ker'](_0x57c86d,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x57c86d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2e5f32,_0xda6f58['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x57c86d));}else Q['pushGpuMar'+'ker'](_0x57c86d,'RESOLVE'),this['internalRe'+'solve'](_0x57c86d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2e5f32,(_0x31e362?_0xda6f58['COLOR_BUFF'+'ER_BIT']:0xcbf+-0x1458+0x799)|(_0x51b726?_0xda6f58['DEPTH_BUFF'+'ER_BIT']:-0x4c5*0x4+0x1f97+-0xc83)),Q['popGpuMark'+'er'](_0x57c86d);_0xda6f58['bindFrameb'+'uffer'](_0xda6f58['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x43153c){this['queries']['forEach'](_0x17dbf0=>_0x43153c['deleteQuer'+'y'](_0x17dbf0)),this['queries']=null;}}class rw extends $T{constructor(_0x2e8d14){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x2e8d14,this['ext']=_0x2e8d14['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x334a90=>this['device']['gl']['deleteQuer'+'y'](_0x334a90)),this['frameQueri'+'es']['forEach'](_0x4102bf=>this['device']['gl']['deleteQuer'+'y'](_0x4102bf)),this['previousFr'+'ameQueries']['forEach'](_0xa4d749=>_0xa4d749['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x39f16d){if(this['ext']){const _0x45a628=this['getSlot'](_0x39f16d),_0x4ff1e2=this['getQuery']();return this['frameQueri'+'es'][_0x45a628]=_0x4ff1e2,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x4ff1e2),_0x45a628;}}['end'](_0x1a60d6){_0x1a60d6!==void(0x18d4+-0xad9*0x2+-0x322)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x51e856=this['ext'],_0x296dc2=this['device']['gl'],_0x37cd45=this['device']['renderVers'+'ion'],_0xb49077=this['frameQueri'+'es'];if(_0xb49077['length']>0x1*0x1ef1+0xe1f+-0x2d10){this['frameQueri'+'es']=[];const _0x509762=new iw();_0x509762['queries']=_0xb49077,_0x509762['renderVers'+'ion']=_0x37cd45,this['previousFr'+'ameQueries']['push'](_0x509762);}if(this['previousFr'+'ameQueries']['length']>0x11*0x189+-0x1c8c+0x273){const _0x2f6f8b=this['previousFr'+'ameQueries'][-0x1*-0x1bd2+0xbed+-0x27bf],_0x1d0242=_0x2f6f8b['queries'],_0x4a69a9=_0x1d0242[_0x1d0242['length']-(0xcc9*-0x3+0x1*0x1d31+0x92b*0x1)],_0x134969=_0x296dc2['getQueryPa'+'rameter'](_0x4a69a9,_0x296dc2['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0xdde0a7=_0x296dc2['getParamet'+'er'](_0x51e856['GPU_DISJOI'+'NT_EXT']);if(_0x134969&&!_0xdde0a7){this['previousFr'+'ameQueries']['shift']();const _0x38249d=this['timings'];_0x38249d['length']=-0x1a03+0x1020+-0x9e3*-0x1;for(let _0x5f2727=0x38a*0x7+-0x1a31+0x21*0xb;_0x5f2727<_0x1d0242['length'];_0x5f2727++){const _0x42f823=_0x1d0242[_0x5f2727],_0x5647b9=_0x296dc2['getQueryPa'+'rameter'](_0x42f823,_0x296dc2['QUERY_RESU'+'LT']);_0x38249d[_0x5f2727]=_0x5647b9*(-0x156a+-0x175*0x11+0x699*0x7+0.000001),this['freeQuerie'+'s']['push'](_0x42f823);}this['report'](_0x2f6f8b['renderVers'+'ion'],_0x38249d);}_0xdde0a7&&(this['previousFr'+'ameQueries']['forEach'](_0x1a3601=>{this['report'](_0x1a3601['renderVers'+'ion'],null),_0x1a3601['destroy'](_0x296dc2);}),this['previousFr'+'ameQueries']['length']=0x1ace+-0x7fa*0x2+-0x2*0x56d);}super['request'](_0x37cd45);}}}const Da=[];class aw extends $e{constructor(_0x1c8e5f,_0x27cf57={}){super(_0x1c8e5f,_0x27cf57),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x25fc+-0x197a+0x3f77*0x1)),(_0x27cf57=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x1003+-0x9a7+0x1*-0x65b),this['_contextLo'+'stHandler']=_0x350321=>{_0x350321['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x2502b1=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x2502b1&&_0x2502b1['includes']('AppleWebKi'+'t')&&(_0x2502b1['includes']('15.4')||_0x2502b1['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x27cf57['antialias']=!(0x1*0xad5+0x1dd*-0xf+-0x1e7*-0x9),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x5ec891=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x244dda=_0x5ec891?_0x5ec891[0x689*0x4+-0xe82+0xba1*-0x1]:null;if(_0x244dda){const _0x5500ee=parseFloat(_0x244dda);(Ae['name']==='windows'&&(_0x5500ee>=-0x80f*-0x1+0x937+-0x10ce||_0x5500ee===0x1*-0x1eba+-0x6a6+0x17*0x1a5)||Ae['name']==='android'&&_0x5500ee>=0x227a+0xd6c+-0x2f62*0x1)&&(_0x27cf57['antialias']=!(0x13e*0x13+0x1e9a+-0x3633),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x244dda));}}this['backBuffer'+'Antialias']=_0x27cf57['antialias']??!(-0x1*0x138e+-0x1*0x944+0x1cd3),_0x27cf57['antialias']=!(0x11*-0x225+-0x28d*0x4+0x2eaa);const _0x357006=_0x27cf57['gl']??_0x1c8e5f['getContext']('webgl2',_0x27cf57);if(!_0x357006)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x357006,this['isWebGL2']=!(-0x68e+0x2016+0x4c*-0x56),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x4b1cc4=Ae['browserNam'+'e']==='chrome',_0x255035=Ae['browserNam'+'e']==='safari',_0x46b80a=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x7*0x175+-0x10bf+-0x1af3*-0x1);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x255035,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x46b80a&&_0x4b1cc4&&!_0x27cf57['alpha'],_0x1c8e5f['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x12c2+0x20cb+-0x338c)),_0x1c8e5f['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x2222+0x1e74+0x3af)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x255035&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x357006['SAMPLER_2D'],_0x357006['SAMPLER_CU'+'BE'],_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x357006['INT_SAMPLE'+'R_2D'],_0x357006['SAMPLER_2D'+'_SHADOW'],_0x357006['SAMPLER_CU'+'BE_SHADOW'],_0x357006['SAMPLER_3D'],_0x357006['INT_SAMPLE'+'R_3D'],_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x357006['SAMPLER_2D'+'_ARRAY'],_0x357006['INT_SAMPLE'+'R_2D_ARRAY'],_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x357006['REPEAT'],_0x357006['CLAMP_TO_E'+'DGE'],_0x357006['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x357006['FUNC_ADD'],_0x357006['FUNC_SUBTR'+'ACT'],_0x357006['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x357006['MIN'],_0x357006['MAX']],this['glBlendFun'+'ctionColor']=[_0x357006['ZERO'],_0x357006['ONE'],_0x357006['SRC_COLOR'],_0x357006['ONE_MINUS_'+'SRC_COLOR'],_0x357006['DST_COLOR'],_0x357006['ONE_MINUS_'+'DST_COLOR'],_0x357006['SRC_ALPHA'],_0x357006['SRC_ALPHA_'+'SATURATE'],_0x357006['ONE_MINUS_'+'SRC_ALPHA'],_0x357006['DST_ALPHA'],_0x357006['ONE_MINUS_'+'DST_ALPHA'],_0x357006['CONSTANT_C'+'OLOR'],_0x357006['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x357006['ZERO'],_0x357006['ONE'],_0x357006['SRC_COLOR'],_0x357006['ONE_MINUS_'+'SRC_COLOR'],_0x357006['DST_COLOR'],_0x357006['ONE_MINUS_'+'DST_COLOR'],_0x357006['SRC_ALPHA'],_0x357006['SRC_ALPHA_'+'SATURATE'],_0x357006['ONE_MINUS_'+'SRC_ALPHA'],_0x357006['DST_ALPHA'],_0x357006['ONE_MINUS_'+'DST_ALPHA'],_0x357006['CONSTANT_A'+'LPHA'],_0x357006['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x357006['NEVER'],_0x357006['LESS'],_0x357006['EQUAL'],_0x357006['LEQUAL'],_0x357006['GREATER'],_0x357006['NOTEQUAL'],_0x357006['GEQUAL'],_0x357006['ALWAYS']],this['glStencilO'+'p']=[_0x357006['KEEP'],_0x357006['ZERO'],_0x357006['REPLACE'],_0x357006['INCR'],_0x357006['INCR_WRAP'],_0x357006['DECR'],_0x357006['DECR_WRAP'],_0x357006['INVERT']],this['glClearFla'+'g']=[-0x2*-0xc95+-0x4f*0x55+0x111,_0x357006['COLOR_BUFF'+'ER_BIT'],_0x357006['DEPTH_BUFF'+'ER_BIT'],_0x357006['COLOR_BUFF'+'ER_BIT']|_0x357006['DEPTH_BUFF'+'ER_BIT'],_0x357006['STENCIL_BU'+'FFER_BIT'],_0x357006['STENCIL_BU'+'FFER_BIT']|_0x357006['COLOR_BUFF'+'ER_BIT'],_0x357006['STENCIL_BU'+'FFER_BIT']|_0x357006['DEPTH_BUFF'+'ER_BIT'],_0x357006['STENCIL_BU'+'FFER_BIT']|_0x357006['COLOR_BUFF'+'ER_BIT']|_0x357006['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0xae5*0x2+-0x2*-0xd8e+-0x2*0x2a9,_0x357006['BACK'],_0x357006['FRONT'],_0x357006['FRONT_AND_'+'BACK']],this['glFilter']=[_0x357006['NEAREST'],_0x357006['LINEAR'],_0x357006['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x357006['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x357006['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x357006['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x357006['POINTS'],_0x357006['LINES'],_0x357006['LINE_LOOP'],_0x357006['LINE_STRIP'],_0x357006['TRIANGLES'],_0x357006['TRIANGLE_S'+'TRIP'],_0x357006['TRIANGLE_F'+'AN']],this['glType']=[_0x357006['BYTE'],_0x357006['UNSIGNED_B'+'YTE'],_0x357006['SHORT'],_0x357006['UNSIGNED_S'+'HORT'],_0x357006['INT'],_0x357006['UNSIGNED_I'+'NT'],_0x357006['FLOAT'],_0x357006['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x357006['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x357006['INT']]=_a,this['pcUniformT'+'ype'][_0x357006['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x357006['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x357006['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x357006['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x357006['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x357006['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x357006['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x357006['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x357006['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x357006['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x357006['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x357006['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x357006['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x357006['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x357006['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x357006['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x357006['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x357006['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x357006['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x357006['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x357006['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x357006['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x357006['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x357006['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x357006['TEXTURE_2D']]=-0x80+0x793+-0x1*0x713,this['targetToSl'+'ot'][_0x357006['TEXTURE_CU'+'BE_MAP']]=0x1ec6+0xe9*-0x1d+0x1*-0x460,this['targetToSl'+'ot'][_0x357006['TEXTURE_3D']]=-0x2*-0x9b8+-0xb1+0x63f*-0x3;let _0x68c6d9,_0x34107c,_0x44be65,_0x4c9849,_0x542650;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x5030dd,_0x280ed6){_0x5030dd['value']!==_0x280ed6&&(_0x357006['uniform1i'](_0x5030dd['locationId'],_0x280ed6),_0x5030dd['value']=_0x280ed6);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x1f7e19,_0x241a8d){_0x1f7e19['value']!==_0x241a8d&&(_0x357006['uniform1f'](_0x1f7e19['locationId'],_0x241a8d),_0x1f7e19['value']=_0x241a8d);},this['commitFunc'+'tion'][ga]=function(_0x279f32,_0x38d323){_0x542650=_0x279f32['value'],_0x68c6d9=_0x38d323[0x1897+-0x172+0x5*-0x4a1],_0x34107c=_0x38d323[0x1b92+0x1866+-0x33f7],(_0x542650[-0x4a*0x16+-0x20f2*-0x1+-0x1a96]!==_0x68c6d9||_0x542650[-0x1083+-0x1802+-0x27*-0x10a]!==_0x34107c)&&(_0x357006['uniform2fv'](_0x279f32['locationId'],_0x38d323),_0x542650[0x1*-0x1e05+-0x1b63+0x3968]=_0x68c6d9,_0x542650[-0x1*-0x54a+-0x6*0x279+0x98d]=_0x34107c);},this['commitFunc'+'tion'][ds]=function(_0xc70615,_0x6b981){_0x542650=_0xc70615['value'],_0x68c6d9=_0x6b981[0x1*-0x1c13+0x1c39+-0x26],_0x34107c=_0x6b981[-0x116*0x1d+0x212f+-0x1b0],_0x44be65=_0x6b981[-0x5c6+-0x1*0x21c3+0x278b*0x1],(_0x542650[-0x1ee2+-0x13e4+0xc2*0x43]!==_0x68c6d9||_0x542650[-0x91*-0x5+-0xe5*0x5+0x1a5]!==_0x34107c||_0x542650[0x248f*-0x1+-0x26bb+0x4b4c]!==_0x44be65)&&(_0x357006['uniform3fv'](_0xc70615['locationId'],_0x6b981),_0x542650[0x82a*-0x1+-0x4b8+0xce2]=_0x68c6d9,_0x542650[-0x995+0x567+0x99*0x7]=_0x34107c,_0x542650[-0x200+-0x1165*-0x1+0xd*-0x12f]=_0x44be65);},this['commitFunc'+'tion'][Rn]=function(_0x1db0b2,_0x490e25){_0x542650=_0x1db0b2['value'],_0x68c6d9=_0x490e25[-0x1*0x1633+0xe60+0x7d3],_0x34107c=_0x490e25[0x1*0x1803+0x1253+-0x2a55],_0x44be65=_0x490e25[0xdd7+-0x47*0x3c+0x1*0x2cf],_0x4c9849=_0x490e25[0x25d5+-0x2b*-0x5a+-0x34f0],(_0x542650[0x1103+-0x1b46+0xa43]!==_0x68c6d9||_0x542650[0x11ad+0x1*-0x157a+0x3ce]!==_0x34107c||_0x542650[-0x2007+0x3f2*-0x6+0x37b5]!==_0x44be65||_0x542650[-0xa8b*0x2+0x2550+-0x1037]!==_0x4c9849)&&(_0x357006['uniform4fv'](_0x1db0b2['locationId'],_0x490e25),_0x542650[0x2663*-0x1+0x11d5+0x148e]=_0x68c6d9,_0x542650[0x212e+0x11b6+0x7*-0x745]=_0x34107c,_0x542650[-0x1788+-0x2*0xc0e+-0x1*-0x2fa6]=_0x44be65,_0x542650[-0xdbf+-0x3*0x9f5+0x2ba1]=_0x4c9849);},this['commitFunc'+'tion'][ca]=function(_0x31187d,_0x214274){_0x542650=_0x31187d['value'],_0x68c6d9=_0x214274[-0x5e*0x53+-0x1a62*-0x1+0x418],_0x34107c=_0x214274[-0x1ddc+0x46f*0x7+-0x12c],(_0x542650[-0x1e1*-0x5+-0x22*0xad+0xd95]!==_0x68c6d9||_0x542650[-0xb64+0x2e3*0x4+-0x27]!==_0x34107c)&&(_0x357006['uniform2iv'](_0x31187d['locationId'],_0x214274),_0x542650[0x10fb+-0x1332+-0x3*-0xbd]=_0x68c6d9,_0x542650[-0x1b3+0x202a+0xe*-0x22d]=_0x34107c);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x6ccef5,_0x7ce37a){_0x542650=_0x6ccef5['value'],_0x68c6d9=_0x7ce37a[0x14df+-0x7*-0x3cb+-0x1*0x2f6c],_0x34107c=_0x7ce37a[0xc73+0x3*0xa4b+-0x2b53],_0x44be65=_0x7ce37a[-0x13*0x59+0xbb9+-0x51c],(_0x542650[-0x20ce+0x40*-0xe+-0x60d*-0x6]!==_0x68c6d9||_0x542650[0xc8e+0x21b+-0xea8]!==_0x34107c||_0x542650[0x20ae+0x1*-0x1c80+-0x42c]!==_0x44be65)&&(_0x357006['uniform3iv'](_0x6ccef5['locationId'],_0x7ce37a),_0x542650[-0x36*-0x18+0x11*-0xb9+-0x2b*-0x2b]=_0x68c6d9,_0x542650[0x3*0x815+-0xda5+-0xa99*0x1]=_0x34107c,_0x542650[-0x563*-0x1+0x4*-0x1e6+-0x15*-0x1b]=_0x44be65);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x56ecd5,_0x4b8c13){_0x542650=_0x56ecd5['value'],_0x68c6d9=_0x4b8c13[0x1a08+-0x617+-0x5*0x3fd],_0x34107c=_0x4b8c13[-0x2122+-0xaf0+0x2c13],_0x44be65=_0x4b8c13[0x253*0x3+-0x1*0x2479+0x1d82],_0x4c9849=_0x4b8c13[-0x1bec*-0x1+-0x26a+-0x197f],(_0x542650[0x1165*-0x1+-0x1cd+-0xd*-0x17a]!==_0x68c6d9||_0x542650[-0x277*0x1+-0x8b*-0x18+-0xa90]!==_0x34107c||_0x542650[0x8*-0x110+0xea+0x798]!==_0x44be65||_0x542650[-0x1*0x1b9a+0x4*0xdb+0x1831]!==_0x4c9849)&&(_0x357006['uniform4iv'](_0x56ecd5['locationId'],_0x4b8c13),_0x542650[-0x52a+-0x2462+0x4*0xa63]=_0x68c6d9,_0x542650[0x185+-0xb34+-0x7c*-0x14]=_0x34107c,_0x542650[0xe9c+0x7c3+0x19*-0xe5]=_0x44be65,_0x542650[-0xc7*-0x7+0x1*-0x2037+0x1ac9]=_0x4c9849);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0xcff4f1,_0x534fc1){_0x357006['uniformMat'+'rix2fv'](_0xcff4f1['locationId'],!(0x5*-0x37f+0x74b*0x2+0xe*0x35),_0x534fc1);},this['commitFunc'+'tion'][On]=function(_0x1c2a2,_0x2c7459){_0x357006['uniformMat'+'rix3fv'](_0x1c2a2['locationId'],!(-0x11b1+-0x1a2*0x1+-0x2*-0x9aa),_0x2c7459);},this['commitFunc'+'tion'][li]=function(_0x21b2cc,_0x42b1e7){_0x357006['uniformMat'+'rix4fv'](_0x21b2cc['locationId'],!(0x2a1*0x1+-0x2411+0x2171),_0x42b1e7);},this['commitFunc'+'tion'][ud]=function(_0x1af4fb,_0x9a2320){_0x357006['uniform1fv'](_0x1af4fb['locationId'],_0x9a2320);},this['commitFunc'+'tion'][pd]=function(_0x5852c6,_0x20b530){_0x357006['uniform2fv'](_0x5852c6['locationId'],_0x20b530);},this['commitFunc'+'tion'][md]=function(_0x47f4cf,_0x298688){_0x357006['uniform3fv'](_0x47f4cf['locationId'],_0x298688);},this['commitFunc'+'tion'][Lp]=function(_0x4d2e3b,_0x2b4893){_0x357006['uniform4fv'](_0x4d2e3b['locationId'],_0x2b4893);},this['commitFunc'+'tion'][Fn]=function(_0x367270,_0x327647){_0x367270['value']!==_0x327647&&(_0x357006['uniform1ui'](_0x367270['locationId'],_0x327647),_0x367270['value']=_0x327647);},this['commitFunc'+'tion'][Nn]=function(_0x19e744,_0x4849ad){_0x542650=_0x19e744['value'],_0x68c6d9=_0x4849ad[0x30c+-0x1190*-0x2+-0x262c],_0x34107c=_0x4849ad[0xf*-0x61+-0x23d6+0x2986],(_0x542650[-0x1794+0x1056+0x73e]!==_0x68c6d9||_0x542650[0x2*-0x4d6+-0x2529+0x2ed6]!==_0x34107c)&&(_0x357006['uniform2ui'+'v'](_0x19e744['locationId'],_0x4849ad),_0x542650[-0x59*-0x61+-0x10e6+-0x10d3]=_0x68c6d9,_0x542650[0xa7+-0x5af+-0x1*-0x509]=_0x34107c);},this['commitFunc'+'tion'][kn]=function(_0x13816d,_0x4549f1){_0x542650=_0x13816d['value'],_0x68c6d9=_0x4549f1[0x63c+0xb39+-0x29*0x6d],_0x34107c=_0x4549f1[-0x106*0x13+-0x15ea+0x1*0x295d],_0x44be65=_0x4549f1[-0x268d+-0x561+0x2*0x15f8],(_0x542650[0x22bf+0x18aa+-0x3b69]!==_0x68c6d9||_0x542650[0x10f*-0x3+-0x8*-0x315+-0x157a]!==_0x34107c||_0x542650[-0x2370+-0x1a87+0xc65*0x5]!==_0x44be65)&&(_0x357006['uniform3ui'+'v'](_0x13816d['locationId'],_0x4549f1),_0x542650[0xdc*0xd+-0x635*-0x2+0xbcb*-0x2]=_0x68c6d9,_0x542650[-0x2480+0x7e7+0x20b*0xe]=_0x34107c,_0x542650[-0x53a*0x4+0x31d*0xb+0x1*-0xd55]=_0x44be65);},this['commitFunc'+'tion'][Un]=function(_0x4197bf,_0x2d992d){_0x542650=_0x4197bf['value'],_0x68c6d9=_0x2d992d[0x67*-0x17+-0x1394+0x1cd5],_0x34107c=_0x2d992d[0x888+-0x5*-0x598+0x247f*-0x1],_0x44be65=_0x2d992d[0x2*-0x44e+-0xe0f+0x16ad],_0x4c9849=_0x2d992d[-0x28+0x21f8+-0x21cd*0x1],(_0x542650[0x9*-0x3b5+-0xb*-0x37f+-0x518]!==_0x68c6d9||_0x542650[0x2*-0xc98+0x2*-0x11ab+0x3c87]!==_0x34107c||_0x542650[0x100*0x2+-0x10df*-0x2+0x2*-0x11de]!==_0x44be65||_0x542650[-0x2c*0xb1+-0xb61+0x29d0]!==_0x4c9849)&&(_0x357006['uniform4ui'+'v'](_0x4197bf['locationId'],_0x2d992d),_0x542650[-0xf9e*-0x1+-0x15*-0x149+-0x1*0x2a9b]=_0x68c6d9,_0x542650[-0x251*-0x5+-0x1231*0x2+-0x7f*-0x32]=_0x34107c,_0x542650[0xe24+0x2069+-0x2e8b]=_0x44be65,_0x542650[-0x21a+-0x3*-0x369+-0x81e]=_0x4c9849);},this['commitFunc'+'tion'][Bn]=function(_0xac3b4c,_0x1ba145){_0x357006['uniform1iv'](_0xac3b4c['locationId'],_0x1ba145);},this['commitFunc'+'tion'][_d]=function(_0x342059,_0x26609b){_0x357006['uniform1ui'+'v'](_0x342059['locationId'],_0x26609b);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x3fd738,_0x2716d4){_0x357006['uniform2iv'](_0x3fd738['locationId'],_0x2716d4);},this['commitFunc'+'tion'][Sd]=function(_0x4d8131,_0x5db8a1){_0x357006['uniform2ui'+'v'](_0x4d8131['locationId'],_0x5db8a1);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x5f23aa,_0x5934b9){_0x357006['uniform3iv'](_0x5f23aa['locationId'],_0x5934b9);},this['commitFunc'+'tion'][vd]=function(_0x58aa61,_0x164595){_0x357006['uniform3ui'+'v'](_0x58aa61['locationId'],_0x164595);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x2e3d32,_0x136c0b){_0x357006['uniform4iv'](_0x2e3d32['locationId'],_0x136c0b);},this['commitFunc'+'tion'][Rp]=function(_0x5f24c8,_0x1bab8b){_0x357006['uniform4ui'+'v'](_0x5f24c8['locationId'],_0x1bab8b);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x45f1da,_0x10f86e){_0x357006['uniformMat'+'rix4fv'](_0x45f1da['locationId'],!(-0x20ea+-0x2*-0xc2f+0xb*0xc7),_0x10f86e);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x313ca0=this['gl'];this['feedback']&&_0x313ca0['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1*0x1069+-0x24b2+0x135*0x2c)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1*-0x2479+0x1*0x991+-0x2e09)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x28fef8){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x28fef8;}['updateBack'+'bufferForm'+'at'](_0x446f44){const _0x596672=this['gl'];_0x596672['bindFrameb'+'uffer'](_0x596672['FRAMEBUFFE'+'R'],_0x446f44);const _0x35f79a=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x35f79a?Ne:Cr;}['updateBack'+'buffer'](){const _0x4e3b08=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4e3b08)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x9ce+0x1b82+-0x11b3),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x5c96d9,_0x409028){return new XT();}['createInde'+'xBufferImp'+'l'](_0x40e62d){return new qT(_0x40e62d);}['createShad'+'erImpl'](_0x1a1ba3){return new JT(_0x1a1ba3);}['createText'+'ureImpl'](_0x2deb6a){return new ew(_0x2deb6a);}['createRend'+'erTargetIm'+'pl'](_0x3b7ee8){return new sw();}['pushMarker'](_0x39287f){if(Ae['browser']&&window['spector']){const _0x5473e2=Q['toString']();window['spector']['setMarker'](_0x5473e2+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x39cd51=Q['toString']();_0x39cd51['length']?window['spector']['setMarker'](_0x39cd51+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x4db02b=this['gl'];let _0x5c5616='highp';if(_0x4db02b['getShaderP'+'recisionFo'+'rmat']){const _0x591c33=_0x4db02b['getShaderP'+'recisionFo'+'rmat'](_0x4db02b['VERTEX_SHA'+'DER'],_0x4db02b['HIGH_FLOAT']),_0x3a5cb7=_0x4db02b['getShaderP'+'recisionFo'+'rmat'](_0x4db02b['VERTEX_SHA'+'DER'],_0x4db02b['MEDIUM_FLO'+'AT']),_0x211270=_0x4db02b['getShaderP'+'recisionFo'+'rmat'](_0x4db02b['FRAGMENT_S'+'HADER'],_0x4db02b['HIGH_FLOAT']),_0x3c7516=_0x4db02b['getShaderP'+'recisionFo'+'rmat'](_0x4db02b['FRAGMENT_S'+'HADER'],_0x4db02b['MEDIUM_FLO'+'AT']);if(_0x591c33&&_0x3a5cb7&&_0x211270&&_0x3c7516){const _0x1a7478=_0x591c33['precision']>0x18a7*0x1+0xb85+-0x242c&&_0x211270['precision']>-0x1185+-0x21ad*-0x1+-0x1028,_0x4d18aa=_0x3a5cb7['precision']>0x1dc+0x218+0x2e*-0x16&&_0x3c7516['precision']>0x4f*-0x61+-0x4ac*0x2+-0x7db*-0x5;_0x1a7478||(_0x4d18aa?(_0x5c5616='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x5c5616='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x5c5616;}['getExtensi'+'on'](){for(let _0x51ffe0=0x8*-0x301+-0x3*0x785+-0x2e97*-0x1;_0x51ffe0<arguments['length'];_0x51ffe0++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x51ffe0])!==-(-0x269a+-0x2419*0x1+0x2ab*0x1c))return this['gl']['getExtensi'+'on'](arguments[_0x51ffe0]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2b122=this['gl'];this['supportedE'+'xtensions']=_0x2b122['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x1ea7+0x145*-0x1c+0x1*0x4e5),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x7d2c9b=this['gl'];let _0x402efa;const _0xb740a4=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x3b72d=_0x7d2c9b['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x3b72d==null?void(0x7a9*0x1+-0x7*-0x4cd+-0x2944):_0x3b72d['antialias'])??!(-0x1612+0x3*-0x84f+-0x5e*-0x80),this['supportsSt'+'encil']=(_0x3b72d==null?void(-0x1e4a+-0x1626+0x3470):_0x3b72d['stencil'])??!(-0xef*-0x26+0x17f+-0x24f8),this['maxTexture'+'Size']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_3D_TEX'+'TURE_SIZE']),_0x402efa=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x402efa?_0x7d2c9b['getParamet'+'er'](_0x402efa['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x402efa?_0x7d2c9b['getParamet'+'er'](_0x402efa['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0xc77b6e=/\bMali-G52+/,_0x15a7d0=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0xb740a4['match'](_0x15a7d0))&&!this['unmaskedRe'+'nderer']['match'](_0xc77b6e),_0x402efa=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x402efa?_0x7d2c9b['getParamet'+'er'](_0x402efa['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x3*0xa2a+0x124b+-0x8e*-0x16;const _0x2590f3=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x2590f3?_0x7d2c9b['getParamet'+'er'](_0x7d2c9b['MAX_SAMPLE'+'S']):-0x2141+-0x1a51*-0x1+0x1*0x6f1,this['maxSamples']=Math['min'](this['maxSamples'],-0x1125+-0xca7*-0x1+-0x241*-0x2),this['samples']=_0x2590f3&&this['backBuffer'+'Antialias']?this['maxSamples']:-0xc31+0x2a6+0x98c,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x120b+0x1a*0x94+-0x30b*-0x1&&(this['supportsAr'+'eaLights']=!(0xa46+-0x7*0x2a4+0x837)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x38e36a=this['gl'];_0x38e36a['disable'](_0x38e36a['BLEND']),_0x38e36a['blendFunc'](_0x38e36a['ONE'],_0x38e36a['ZERO']),_0x38e36a['blendEquat'+'ion'](_0x38e36a['FUNC_ADD']),_0x38e36a['colorMask'](!(0x2*0x719+0xb85+-0x19b7),!(0xb5*-0x1a+0xf44*-0x1+0x21a6),!(0x1394+-0x21d7*0x1+0x1*0xe43),!(0x30e+0x24e+-0x55c)),_0x38e36a['blendColor'](-0x960+0x1*0x9de+-0x15*0x6,0xe3b+0x558+0x1393*-0x1,-0xacc+0x2052+0x1*-0x1586,0x1348+0xb37+-0x25*0xd3),_0x38e36a['enable'](_0x38e36a['CULL_FACE']),this['cullFace']=_0x38e36a['BACK'],_0x38e36a['cullFace'](_0x38e36a['BACK']),_0x38e36a['enable'](_0x38e36a['DEPTH_TEST']),_0x38e36a['depthFunc'](_0x38e36a['LEQUAL']),_0x38e36a['depthMask'](!(0x20b0*0x1+0x311*-0x1+-0x1d9f)),this['stencil']=!(-0xb*-0xbc+0x1326+-0x1b39),_0x38e36a['disable'](_0x38e36a['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x143*-0x13+0x1*0x109+-0x4*-0x5bc,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x26f5+0x1c92+0x2f*0x3e,_0x38e36a['stencilFun'+'c'](_0x38e36a['ALWAYS'],0x247e+-0x1039+-0x1445,-0x22b5+0x13b1+-0x1003*-0x1),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x2*0xce3+-0x1f19+0x39de,this['stencilWri'+'teMaskBack']=0x1a4f+0x8f2+0x2*-0x1121,_0x38e36a['stencilOp'](_0x38e36a['KEEP'],_0x38e36a['KEEP'],_0x38e36a['KEEP']),_0x38e36a['stencilMas'+'k'](0x4dd+-0xe58+0x37e*0x3),this['alphaToCov'+'erage']=!(-0xf10+0x144*0x1d+0x1d*-0xbf),this['raster']=!(0x133f+-0x1*-0x9a9+-0x1ce8),_0x38e36a['disable'](_0x38e36a['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x38e36a['disable'](_0x38e36a['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x8e*-0x19+-0x263d+0x138*0x14),_0x38e36a['disable'](_0x38e36a['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x832+-0x26ea+0x1eb9,_0x38e36a['clearDepth'](0x15af+-0x1c80+0x6d2),this['clearColor']=new ie(-0x507+-0xa66+0xf6d,-0x497+0x1e00+-0x1969,0x202d+0xcb+-0x20f8,0x21*0x112+0x1*0x1541+-0x3893),_0x38e36a['clearColor'](-0x1774+0x2197+-0x3*0x361,0x1c7b*0x1+-0x1748+-0x533,-0x68*0x17+0x20a6+-0x174e,0x1*-0x242+0xe83+-0xc41),this['clearStenc'+'il']=-0x164d+-0x1b6+0x1803,_0x38e36a['clearStenc'+'il'](-0x1755+-0x1788+-0x2b*-0x117),_0x38e36a['hint'](_0x38e36a['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x38e36a['NICEST']),_0x38e36a['enable'](_0x38e36a['SCISSOR_TE'+'ST']),_0x38e36a['pixelStore'+'i'](_0x38e36a['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x38e36a['NONE']),this['unpackFlip'+'Y']=!(-0xa3b+-0x1544+0x1f80),_0x38e36a['pixelStore'+'i'](_0x38e36a['UNPACK_FLI'+'P_Y_WEBGL'],!(0x2*-0x3a6+0x188a+-0x113d)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x1*0x1abb+0x18a3+0x219*0x1),_0x38e36a['pixelStore'+'i'](_0x38e36a['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x1564+-0x973+0xbc*0x2a)),_0x38e36a['pixelStore'+'i'](_0x38e36a['UNPACK_ALI'+'GNMENT'],-0x6c2+-0x1*0x179f+0x1e62);}['initTextur'+'eUnits'](_0x5230a3=0xd*-0x1bd+0x83e+0xe6b*0x1){this['textureUni'+'ts']=[];for(let _0x2857be=-0x207d+0x26*0x72+0xf91*0x1;_0x2857be<_0x5230a3;_0x2857be++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x13ba+-0x5*0x361+0xc35*0x3,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0xa8a4ae of this['shaders'])_0xa8a4ae['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x3e3fb5 of this['shaders'])_0x3e3fb5['restoreCon'+'text']();}['setViewpor'+'t'](_0x3e46b2,_0x39399a,_0x2ad864,_0x72a111){(this['vx']!==_0x3e46b2||this['vy']!==_0x39399a||this['vw']!==_0x2ad864||this['vh']!==_0x72a111)&&(this['gl']['viewport'](_0x3e46b2,_0x39399a,_0x2ad864,_0x72a111),this['vx']=_0x3e46b2,this['vy']=_0x39399a,this['vw']=_0x2ad864,this['vh']=_0x72a111);}['setScissor'](_0x426fea,_0x525621,_0x3e6d9b,_0x2292a5){(this['sx']!==_0x426fea||this['sy']!==_0x525621||this['sw']!==_0x3e6d9b||this['sh']!==_0x2292a5)&&(this['gl']['scissor'](_0x426fea,_0x525621,_0x3e6d9b,_0x2292a5),this['sx']=_0x426fea,this['sy']=_0x525621,this['sw']=_0x3e6d9b,this['sh']=_0x2292a5);}['setFramebu'+'ffer'](_0x57c9d8){if(this['activeFram'+'ebuffer']!==_0x57c9d8){const _0x11abb4=this['gl'];_0x11abb4['bindFrameb'+'uffer'](_0x11abb4['FRAMEBUFFE'+'R'],_0x57c9d8),this['activeFram'+'ebuffer']=_0x57c9d8;}}['copyRender'+'Target'](_0x40f460,_0x573921,_0x158410,_0x2f8cf6){var _0x284fd0,_0x3b0184;const _0x2b20c0=this['gl'];if(_0x40f460===this['backBuffer']&&(_0x40f460=null),_0x158410){if(_0x573921){if(_0x40f460){if(!_0x40f460['_colorBuff'+'er']||!_0x573921['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x22da+-0x1028*-0x1+-0x12b3*-0x1);if(_0x40f460['_colorBuff'+'er']['_format']!==_0x573921['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x6df+0x68*0x18+0x2e*-0x10);}}else{if(!_0x40f460['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0xaae+0x6e3+-0x1190);}}if(_0x2f8cf6&&_0x40f460&&!_0x40f460['_depth']){if(!_0x40f460['_depthBuff'+'er']||!_0x573921['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x907*0x1+0xc93*0x3+-0x1cb1);if(_0x40f460['_depthBuff'+'er']['_format']!==_0x573921['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x818+0x1241*0x2+-0x1c69);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x3bf67f=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x573921,this['updateBegi'+'n']();const _0x4d9eb3=_0x40f460?_0x40f460['impl']['_glFrameBu'+'ffer']:(_0x284fd0=this['backBuffer'])==null?void(0x1ea4+-0x2cb+-0x1bd9):_0x284fd0['impl']['_glFrameBu'+'ffer'],_0x3204f4=_0x573921?_0x573921['impl']['_glFrameBu'+'ffer']:(_0x3b0184=this['backBuffer'])==null?void(-0x1240+0xed9+0x367):_0x3b0184['impl']['_glFrameBu'+'ffer'];w['assert'](_0x4d9eb3!==_0x3204f4,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2b20c0['bindFrameb'+'uffer'](_0x2b20c0['READ_FRAME'+'BUFFER'],_0x4d9eb3),_0x2b20c0['bindFrameb'+'uffer'](_0x2b20c0['DRAW_FRAME'+'BUFFER'],_0x3204f4);const _0xfce6aa=_0x40f460?_0x40f460['width']:_0x573921?_0x573921['width']:this['width'],_0x2ee424=_0x40f460?_0x40f460['height']:_0x573921?_0x573921['height']:this['height'];return _0x2b20c0['blitFrameb'+'uffer'](0xc6d*0x1+-0x8c8+0x3*-0x137,-0x7*0x547+0x14*-0xad+0x3275,_0xfce6aa,_0x2ee424,-0x8*0xea+-0x1858+0x1fa8,0x2261+-0xef*0xb+-0x2*0xc0e,_0xfce6aa,_0x2ee424,(_0x158410?_0x2b20c0['COLOR_BUFF'+'ER_BIT']:-0x47c+0xa*-0x1c3+0x161a)|(_0x2f8cf6?_0x2b20c0['DEPTH_BUFF'+'ER_BIT']:-0x858+-0x9cd*-0x1+-0x175*0x1),_0x2b20c0['NEAREST']),this['renderTarg'+'et']=_0x3bf67f,_0x2b20c0['bindFrameb'+'uffer'](_0x2b20c0['FRAMEBUFFE'+'R'],_0x3bf67f?_0x3bf67f['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0xb64+-0x3d*0x9d+0x1a05*0x1);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x3b7881){const _0x5eb611=_0x3b7881['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x5eb611,w['assert'](_0x5eb611),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x3b7881['name']+'\x20RT:'+_0x5eb611['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x10d7c0,height:_0x2fecb7}=_0x5eb611;this['setViewpor'+'t'](-0x21fb*0x1+-0x10b4+0xa23*0x5,-0x1*0x1abf+0xab8+0x1007,_0x10d7c0,_0x2fecb7),this['setScissor'](-0x1*-0x2507+-0x192+-0x2375,0xbb1+0xc68*-0x3+-0x51b*-0x5,_0x10d7c0,_0x2fecb7);const _0x18b1b6=_0x3b7881['colorOps'],_0x5147ba=_0x3b7881['depthStenc'+'ilOps'];if(_0x18b1b6!=null&&_0x18b1b6['clear']||_0x5147ba['clearDepth']||_0x5147ba['clearStenc'+'il']){let _0x31f7d6=-0x25b2+0x899+0x1d19;const _0x3878ec={};_0x18b1b6!=null&&_0x18b1b6['clear']&&(_0x31f7d6|=jo,_0x3878ec['color']=[_0x18b1b6['clearValue']['r'],_0x18b1b6['clearValue']['g'],_0x18b1b6['clearValue']['b'],_0x18b1b6['clearValue']['a']]),_0x5147ba['clearDepth']&&(_0x31f7d6|=Yo,_0x3878ec['depth']=_0x5147ba['clearDepth'+'Value']),_0x5147ba['clearStenc'+'il']&&(_0x31f7d6|=ch,_0x3878ec['stencil']=_0x5147ba['clearStenc'+'ilValue']),_0x3878ec['flags']=_0x31f7d6,this['clear'](_0x3878ec);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x1e89+0x2422+-0x599*0x1),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x1222a6){var _0x5791f1;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0xb994c8=this['renderTarg'+'et'],_0x53f556=_0x1222a6['colorArray'+'Ops']['length'];if(_0xb994c8){Da['length']=0xa6*-0x1c+-0x9e8+0x704*0x4;const _0x21e862=this['gl'];for(let _0x2548e9=-0x16e7+0x1*-0xce5+0x23cc;_0x2548e9<_0x53f556;_0x2548e9++){const _0x402de9=_0x1222a6['colorArray'+'Ops'][_0x2548e9];_0x402de9['store']||_0x402de9['resolve']||Da['push'](_0x21e862['COLOR_ATTA'+'CHMENT0']+_0x2548e9);}_0xb994c8!==this['backBuffer']&&(_0x1222a6['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x21e862['DEPTH_ATTA'+'CHMENT']),_0x1222a6['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x21e862['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x5*-0x72f+-0x805*0x4+-0x3d7&&_0x1222a6['fullSizeCl'+'earRect']&&_0x21e862['invalidate'+'Framebuffe'+'r'](_0x21e862['DRAW_FRAME'+'BUFFER'],Da),_0x53f556&&((_0x5791f1=_0x1222a6['colorOps'])!=null&&_0x5791f1['resolve'])&&_0x1222a6['samples']>0x31+0x3c*0x64+-0x17a0*0x1&&_0xb994c8['autoResolv'+'e']&&_0xb994c8['resolve'](!(-0x1af*0x17+-0x3*0x621+0x391c),!(-0x8d2*-0x4+0x19f4+0x4b*-0xd1)),_0xb994c8['depthBuffe'+'r']&&_0x1222a6['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x1222a6['samples']>0x1673*-0x1+-0x1*0x1d5f+-0x1*-0x33d3&&_0xb994c8['autoResolv'+'e']&&_0xb994c8['resolve'](!(0x1326+-0x109+-0x4c*0x3d),!(-0x1*-0xa8b+-0x4*-0x3d0+-0x19cb));for(let _0x5037fa=0x14fc+-0x21e4+-0x3b*-0x38;_0x5037fa<_0x53f556;_0x5037fa++)if(_0x1222a6['colorArray'+'Ops'][_0x5037fa]['genMipmaps']){const _0x12ec39=_0xb994c8['_colorBuff'+'ers'][_0x5037fa];_0x12ec39&&_0x12ec39['impl']['_glTexture']&&_0x12ec39['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x5037fa),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xc18+0x409+0x810)),this['bindTextur'+'e'](_0x12ec39),this['gl']['generateMi'+'pmap'](_0x12ec39['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x10f7+0x1b8b+-0x2c81),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x356440){this['_defaultFr'+'amebuffer']!==_0x356440&&(this['_defaultFr'+'amebuffer']=_0x356440,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x127*-0x4+-0x70b+0x26f));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x522046=0x1e9d+-0x1c9b*0x1+0x1*-0x202;_0x522046<this['textureUni'+'ts']['length'];++_0x522046)for(let _0x50d280=0xa08+-0x13e6+0x9de;_0x50d280<0x216f+0x16ac+-0x3818;++_0x50d280)this['textureUni'+'ts'][_0x522046][_0x50d280]=null;}const _0xe3fc56=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0xe3fc56);const _0x2145fb=_0xe3fc56['impl'];_0x2145fb['initialize'+'d']||this['initRender'+'Target'](_0xe3fc56),this['setFramebu'+'ffer'](_0x2145fb['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x2be00b=this['renderTarg'+'et'];if(_0x2be00b&&_0x2be00b!==this['backBuffer']){_0x2be00b['_samples']>-0x877*-0x1+-0x312+-0xa*0x8a&&_0x2be00b['autoResolv'+'e']&&_0x2be00b['resolve']();const _0x2d4779=_0x2be00b['_colorBuff'+'er'];_0x2d4779&&_0x2d4779['impl']['_glTexture']&&_0x2d4779['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x255e+-0x2467*-0x1+0x49c4*-0x1)),this['bindTextur'+'e'](_0x2d4779),this['gl']['generateMi'+'pmap'](_0x2d4779['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x3ed8e1){if(this['unpackFlip'+'Y']!==_0x3ed8e1){this['unpackFlip'+'Y']=_0x3ed8e1;const _0x2c88de=this['gl'];_0x2c88de['pixelStore'+'i'](_0x2c88de['UNPACK_FLI'+'P_Y_WEBGL'],_0x3ed8e1);}}['setUnpackP'+'remultiply'+'Alpha'](_0x336735){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x336735){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x336735;const _0x465f77=this['gl'];_0x465f77['pixelStore'+'i'](_0x465f77['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x336735);}}['activeText'+'ure'](_0x180d84){this['textureUni'+'t']!==_0x180d84&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x180d84),this['textureUni'+'t']=_0x180d84);}['bindTextur'+'e'](_0x5beea8){const _0x575fc9=_0x5beea8['impl'],_0x49aa07=_0x575fc9['_glTarget'],_0x4f4425=_0x575fc9['_glTexture'],_0x1b0598=this['textureUni'+'t'],_0x5c4572=this['targetToSl'+'ot'][_0x49aa07];this['textureUni'+'ts'][_0x1b0598][_0x5c4572]!==_0x4f4425&&(this['gl']['bindTextur'+'e'](_0x49aa07,_0x4f4425),this['textureUni'+'ts'][_0x1b0598][_0x5c4572]=_0x4f4425);}['bindTextur'+'eOnUnit'](_0x5c0282,_0x5b579c){const _0x683c93=_0x5c0282['impl'],_0x27719b=_0x683c93['_glTarget'],_0x4b7067=_0x683c93['_glTexture'],_0x21e3b2=this['targetToSl'+'ot'][_0x27719b];this['textureUni'+'ts'][_0x5b579c][_0x21e3b2]!==_0x4b7067&&(this['activeText'+'ure'](_0x5b579c),this['gl']['bindTextur'+'e'](_0x27719b,_0x4b7067),this['textureUni'+'ts'][_0x5b579c][_0x21e3b2]=_0x4b7067);}['setTexture'+'Parameters'](_0x519d3c){const _0x1efc17=this['gl'],_0x345572=_0x519d3c['impl']['dirtyParam'+'eterFlags'],_0x46437e=_0x519d3c['impl']['_glTarget'];if(_0x345572&Ay){let _0xc082b9=_0x519d3c['_minFilter'];(!_0x519d3c['_mipmaps']||_0x519d3c['_compresse'+'d']&&_0x519d3c['_levels']['length']===-0x193+0x1d23+0x5*-0x583)&&(_0xc082b9===Kh||_0xc082b9===Zh?_0xc082b9=Te:(_0xc082b9===Qh||_0xc082b9===ma)&&(_0xc082b9=vt)),_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0xc082b9]);}if(_0x345572&Cy&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x519d3c['_magFilter']]),_0x345572&Py&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x519d3c['_addressU']]),_0x345572&My&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x519d3c['_addressV']]),_0x345572&Dy&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x519d3c['_addressW']]),_0x345572&Iy&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_CO'+'MPARE_MODE'],_0x519d3c['_compareOn'+'Read']?_0x1efc17['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x1efc17['NONE']),_0x345572&Ly&&_0x1efc17['texParamet'+'eri'](_0x46437e,_0x1efc17['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x519d3c['_compareFu'+'nc']]),_0x345572&Ry){const _0x193b3d=this['extTexture'+'FilterAnis'+'otropic'];_0x193b3d&&_0x1efc17['texParamet'+'erf'](_0x46437e,_0x193b3d['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x519d3c['_anisotrop'+'y']),-0x946+0x9f6+0x1*-0xaf,this['maxAnisotr'+'opy']));}}['setTexture'](_0x56c8e9,_0x4f2e73){const _0x48a2af=_0x56c8e9['impl'];_0x48a2af['_glTexture']||_0x48a2af['initialize'](this,_0x56c8e9),_0x48a2af['dirtyParam'+'eterFlags']>0xfbd+-0x9ef+-0x5ce||_0x56c8e9['_needsUplo'+'ad']||_0x56c8e9['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x4f2e73),this['bindTextur'+'e'](_0x56c8e9),_0x48a2af['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x56c8e9),_0x48a2af['dirtyParam'+'eterFlags']=0xa5e*0x1+-0x3a9*-0x3+-0x1559*0x1),(_0x56c8e9['_needsUplo'+'ad']||_0x56c8e9['_needsMipm'+'apsUpload'])&&(_0x48a2af['upload'](this,_0x56c8e9),_0x56c8e9['_needsUplo'+'ad']=!(-0x1*-0xea7+0x1*0x1915+-0x27bb),_0x56c8e9['_needsMipm'+'apsUpload']=!(0x13*0x67+0x1d2c*-0x1+0x562*0x4))):this['bindTextur'+'eOnUnit'](_0x56c8e9,_0x4f2e73);}['createVert'+'exArray'](_0x41bca9){let _0x2f3b49,_0x526dc0;const _0x2fd94e=_0x41bca9['length']>0x1f72+0xe2a+0x2d9b*-0x1;if(_0x2fd94e){_0x2f3b49='';for(let _0x475d07=-0x42*0x89+-0x2ae*0xd+0x4628;_0x475d07<_0x41bca9['length'];_0x475d07++){const _0x2a7689=_0x41bca9[_0x475d07];_0x2f3b49+=_0x2a7689['id']+_0x2a7689['format']['renderingH'+'ash'];}_0x526dc0=this['_vaoMap']['get'](_0x2f3b49);}if(!_0x526dc0){const _0x213560=this['gl'];_0x526dc0=_0x213560['createVert'+'exArray'](),_0x213560['bindVertex'+'Array'](_0x526dc0),_0x213560['bindBuffer'](_0x213560['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x198f5e=!(-0x229d*-0x1+-0x1375+0x9*-0x1af);for(let _0xd7c789=-0x25d5+-0x1dfa+0x43cf*0x1;_0xd7c789<_0x41bca9['length'];_0xd7c789++){const _0xadd4ea=_0x41bca9[_0xd7c789];_0x213560['bindBuffer'](_0x213560['ARRAY_BUFF'+'ER'],_0xadd4ea['impl']['bufferId']);const _0x102c38=_0xadd4ea['format']['elements'];for(let _0x3e3f21=0x1093+0x1*0xf13+0x1*-0x1fa6;_0x3e3f21<_0x102c38['length'];_0x3e3f21++){const _0xd0b097=_0x102c38[_0x3e3f21],_0x20181d=Le[_0xd0b097['name']];_0x20181d===-0x2*0x4a9+-0x1052+-0x446*-0x6&&(_0x198f5e=!(-0x1183+0x2239+0x1*-0x10b6)),_0xd0b097['asInt']?_0x213560['vertexAttr'+'ibIPointer'](_0x20181d,_0xd0b097['numCompone'+'nts'],this['glType'][_0xd0b097['dataType']],_0xd0b097['stride'],_0xd0b097['offset']):_0x213560['vertexAttr'+'ibPointer'](_0x20181d,_0xd0b097['numCompone'+'nts'],this['glType'][_0xd0b097['dataType']],_0xd0b097['normalize'],_0xd0b097['stride'],_0xd0b097['offset']),_0x213560['enableVert'+'exAttribAr'+'ray'](_0x20181d),_0xadd4ea['format']['instancing']&&_0x213560['vertexAttr'+'ibDivisor'](_0x20181d,-0x1*-0x23e1+-0xd02+-0x16de);}}_0x213560['bindVertex'+'Array'](null),_0x213560['bindBuffer'](_0x213560['ARRAY_BUFF'+'ER'],null),_0x2fd94e&&this['_vaoMap']['set'](_0x2f3b49,_0x526dc0),_0x198f5e||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x526dc0;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x3d1935){const _0x16b7ec=this['gl'];let _0x1eae8d;if(this['vertexBuff'+'ers']['length']===0x4b*-0xb+-0xa20*0x3+0x219a){const _0x9b8e12=this['vertexBuff'+'ers'][-0x11*-0x1e9+0x925*0x3+-0x6*0x9fc];w['assert'](_0x9b8e12['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x9b8e12['impl']['vao']||(_0x9b8e12['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x1eae8d=_0x9b8e12['impl']['vao'];}else _0x1eae8d=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x1eae8d&&(this['boundVao']=_0x1eae8d,_0x16b7ec['bindVertex'+'Array'](_0x1eae8d));const _0x54c0f1=_0x3d1935?_0x3d1935['impl']['bufferId']:null;_0x16b7ec['bindBuffer'](_0x16b7ec['ELEMENT_AR'+'RAY_BUFFER'],_0x54c0f1);}['draw'](_0x330cd3,_0x476637,_0x4dc9c6,_0x3ccb24,_0x1de6d1=!(0xe68*0x1+0x13b1*0x1+0x2219*-0x1),_0x59b1a7=!(-0x1c2e+0x1e61+-0x233)){const _0x255504=this['shader'];if(_0x255504&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x3c406c=this['gl'];_0x1de6d1&&(w['call'](()=>{var _0x3a8dd6,_0x3b2dbe;return this['validateAt'+'tributes'](this['shader'],(_0x3a8dd6=this['vertexBuff'+'ers'][-0xbf5*-0x1+-0x67*0x45+0xfce])==null?void(-0x4*-0x17f+0x1134+-0x1730):_0x3a8dd6['format'],(_0x3b2dbe=this['vertexBuff'+'ers'][0x718+0x1f*-0xef+0x15da])==null?void(0xa29+0x238d*0x1+-0x2db6):_0x3b2dbe['format']);}),this['setBuffers'](_0x476637));let _0x5ccf03=0x1ac8*-0x1+-0x1785+-0xa3*-0x4f;const _0x1a00e9=_0x255504['impl']['samplers'];for(let _0x5db312=0x41f+-0x679*-0x1+0xe2*-0xc,_0x4bca38=_0x1a00e9['length'];_0x5db312<_0x4bca38;_0x5db312++){const _0x37863d=_0x1a00e9[_0x5db312];let _0x52d80f=_0x37863d['scopeId']['value'];if(!_0x52d80f){const _0x6e0534=_0x37863d['scopeId']['name'];w['assert'](_0x6e0534!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x6e0534!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x6e0534==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x52d80f=fa(this,'white')),_0x6e0534==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x52d80f=fa(this,'pink')),_0x52d80f||(w['errorOnce']('Shader\x20'+_0x255504['name']+'\x20requires\x20'+_0x6e0534+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x255504),_0x52d80f=fa(this,'pink'));}if(_0x52d80f instanceof _e){const _0x563663=_0x52d80f;this['setTexture'](_0x563663,_0x5ccf03),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0xec5+0x81*-0x7+-0xb3c&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x563663?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x563663}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x563663&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x563663})),_0x37863d['slot']!==_0x5ccf03&&(_0x3c406c['uniform1i'](_0x37863d['locationId'],_0x5ccf03),_0x37863d['slot']=_0x5ccf03),_0x5ccf03++;}else{_0x37863d['array']['length']=0x1afb*0x1+-0x14a7+-0x654;const _0x4c8234=_0x52d80f['length'];for(let _0x24d79f=-0x59*0x48+-0x1364+0x2c6c;_0x24d79f<_0x4c8234;_0x24d79f++){const _0x2e3d83=_0x52d80f[_0x24d79f];this['setTexture'](_0x2e3d83,_0x5ccf03),_0x37863d['array'][_0x24d79f]=_0x5ccf03,_0x5ccf03++;}_0x3c406c['uniform1iv'](_0x37863d['locationId'],_0x37863d['array']);}}const _0x275994=_0x255504['impl']['uniforms'];for(let _0x77dd8c=0x7*-0x224+-0x217a+-0x2*-0x183b,_0x1f7c6e=_0x275994['length'];_0x77dd8c<_0x1f7c6e;_0x77dd8c++){const _0x59853f=_0x275994[_0x77dd8c],_0x5e18b5=_0x59853f['scopeId'],_0x263b8a=_0x59853f['version'],_0x3d5103=_0x5e18b5['versionObj'+'ect']['version'];if(_0x263b8a['globalId']!==_0x3d5103['globalId']||_0x263b8a['revision']!==_0x3d5103['revision']){_0x263b8a['globalId']=_0x3d5103['globalId'],_0x263b8a['revision']=_0x3d5103['revision'];const _0x51c365=_0x5e18b5['value'];_0x51c365!=null?this['commitFunc'+'tion'][_0x59853f['dataType']](_0x59853f,_0x51c365):w['warnOnce']('Shader\x20['+_0x255504['label']+(']\x20requires'+'\x20uniform\x20[')+_0x59853f['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x3c406c['bindBuffer'+'Base'](_0x3c406c['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x53b*0x5+0x1c64+-0x368b,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x3c406c['beginTrans'+'formFeedba'+'ck'](_0x3c406c['POINTS']));const _0x28adb3=this['glPrimitiv'+'e'][_0x330cd3['type']],_0x59e582=_0x330cd3['count'];if(_0x330cd3['indexed']){w['assert'](_0x476637['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x5b93ce=_0x476637['impl']['glFormat'],_0x17d0f3=_0x330cd3['base']*_0x476637['bytesPerIn'+'dex'];_0x4dc9c6>0x1e5d+0x3*0x5a1+-0x3f*0xc0?_0x3c406c['drawElemen'+'tsInstance'+'d'](_0x28adb3,_0x59e582,_0x5b93ce,_0x17d0f3,_0x4dc9c6):_0x3c406c['drawElemen'+'ts'](_0x28adb3,_0x59e582,_0x5b93ce,_0x17d0f3);}else{const _0x313de6=_0x330cd3['base'];_0x4dc9c6>-0x1728+0x58*-0x3e+0x1*0x2c78?_0x3c406c['drawArrays'+'Instanced'](_0x28adb3,_0x313de6,_0x59e582,_0x4dc9c6):_0x3c406c['drawArrays'](_0x28adb3,_0x313de6,_0x59e582);}this['transformF'+'eedbackBuf'+'fer']&&(_0x3c406c['endTransfo'+'rmFeedback'](),_0x3c406c['bindBuffer'+'Base'](_0x3c406c['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1df*-0x9+-0x35*0x3f+0x1de2,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x330cd3['type']]+=_0x330cd3['count']*(_0x4dc9c6>0xd*0x21d+0x1662+-0x2*0x18ed?_0x4dc9c6:0x92*0x1+-0x1*-0xe89+-0x2*0x78d);}_0x59b1a7&&this['clearVerte'+'xBuffer']();}['clear'](_0x4626e7){const _0x976709=this['defaultCle'+'arOptions'];_0x4626e7=_0x4626e7||_0x976709;const _0x896338=_0x4626e7['flags']??_0x976709['flags'];if(_0x896338!==-0xc8f+-0x1556*-0x1+-0x3*0x2ed){const _0x4c7899=this['gl'];if(_0x896338&jo){const _0x11c7f9=_0x4626e7['color']??_0x976709['color'],_0x161f8d=_0x11c7f9[0xea*0x26+0x9d7*0x1+0x1*-0x2c93],_0x39e1f8=_0x11c7f9[-0x1569+-0x1*0x10bb+0x13b*0x1f],_0x1ec56b=_0x11c7f9[0x3d0+-0x6a1+0x1*0x2d3],_0x419c12=_0x11c7f9[0xe25*0x1+0x7*-0x301+0x6e5*0x1],_0xe4e790=this['clearColor'];(_0x161f8d!==_0xe4e790['r']||_0x39e1f8!==_0xe4e790['g']||_0x1ec56b!==_0xe4e790['b']||_0x419c12!==_0xe4e790['a'])&&(this['gl']['clearColor'](_0x161f8d,_0x39e1f8,_0x1ec56b,_0x419c12),this['clearColor']['set'](_0x161f8d,_0x39e1f8,_0x1ec56b,_0x419c12)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x896338&Yo){const _0x23753f=_0x4626e7['depth']??_0x976709['depth'];_0x23753f!==this['clearDepth']&&(this['gl']['clearDepth'](_0x23753f),this['clearDepth']=_0x23753f),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x896338&ch){const _0x35cdbe=_0x4626e7['stencil']??_0x976709['stencil'];_0x35cdbe!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x35cdbe),this['clearStenc'+'il']=_0x35cdbe),_0x4c7899['stencilMas'+'k'](-0x157f+-0x1*0xd6c+0x23ea),this['stencilWri'+'teMaskFron'+'t']=-0x1*-0x1e2c+0x35*0x1+-0x1d62,this['stencilWri'+'teMaskBack']=-0x2*-0xda9+-0x2e7*0x5+-0xbd0;}_0x4c7899['clear'](this['glClearFla'+'g'][_0x896338]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x44542f,_0x3eb2db,_0x1bba82,_0x50a60b,_0x4306fa){const _0x42a649=this['gl'];_0x42a649['readPixels'](_0x44542f,_0x3eb2db,_0x1bba82,_0x50a60b,_0x42a649['RGBA'],_0x42a649['UNSIGNED_B'+'YTE'],_0x4306fa);}['clientWait'+'Async'](_0x5cc694,_0x3d10cf){const _0x48fa24=this['gl'],_0x5dde73=_0x48fa24['fenceSync'](_0x48fa24['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x3c6*-0x3+0x1126+-0x8*0x38f);return this['submit'](),new Promise((_0x433b44,_0x15ee08)=>{function _0x56c0c5(){const _0x311ef5=_0x48fa24['clientWait'+'Sync'](_0x5dde73,_0x5cc694,0x34+0x1af0+-0xd92*0x2);_0x311ef5===_0x48fa24['TIMEOUT_EX'+'PIRED']?setTimeout(_0x56c0c5,_0x3d10cf):(_0x48fa24['deleteSync'](_0x5dde73),_0x311ef5===_0x48fa24['WAIT_FAILE'+'D']?_0x15ee08(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x433b44());}_0x56c0c5();});}async['readPixels'+'Async'](_0x89f3e4,_0x52e1b7,_0x22b500,_0x17c275,_0x2e6e5e){var _0x4171a3;const _0x204342=this['gl'],_0x1c66d0=(_0x4171a3=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x242b+-0x2*-0x22+-0x246f):_0x4171a3['impl'],_0x55458d=(_0x1c66d0==null?void(-0x44b+-0x20dc+0x2527):_0x1c66d0['_glFormat'])??_0x204342['RGBA'],_0xbb8b86=(_0x1c66d0==null?void(0xcd*0x1d+0x1*-0x21e9+0xab0):_0x1c66d0['_glPixelTy'+'pe'])??_0x204342['UNSIGNED_B'+'YTE'],_0x50df5d=_0x204342['createBuff'+'er']();return _0x204342['bindBuffer'](_0x204342['PIXEL_PACK'+'_BUFFER'],_0x50df5d),_0x204342['bufferData'](_0x204342['PIXEL_PACK'+'_BUFFER'],_0x2e6e5e['byteLength'],_0x204342['STREAM_REA'+'D']),_0x204342['readPixels'](_0x89f3e4,_0x52e1b7,_0x22b500,_0x17c275,_0x55458d,_0xbb8b86,0x2f*0xad+0x11f7+0x1*-0x31ba),_0x204342['bindBuffer'](_0x204342['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0xca4+0x2b*-0x3f+0xcd*0x1d,0xe2*0x25+0x2204+-0x1*0x429e),_0x204342['bindBuffer'](_0x204342['PIXEL_PACK'+'_BUFFER'],_0x50df5d),_0x204342['getBufferS'+'ubData'](_0x204342['PIXEL_PACK'+'_BUFFER'],0x2546+-0x1c40+-0x906,_0x2e6e5e),_0x204342['bindBuffer'](_0x204342['PIXEL_PACK'+'_BUFFER'],null),_0x204342['deleteBuff'+'er'](_0x50df5d),_0x2e6e5e;}['readTextur'+'eAsync'](_0x24232b,_0x1d063a,_0x3fd862,_0x5d0bc9,_0xf9d11a,_0x5b1ad8){const _0x5812cd=_0x5b1ad8['face']??-0x1*0x59a+-0x625+0xbbf,_0x4e3d0c=_0x5b1ad8['renderTarg'+'et']??new gt({'colorBuffer':_0x24232b,'depth':!(-0x22e1+0x22c0+-0x11*-0x2),'face':_0x5812cd});w['assert'](_0x4e3d0c['colorBuffe'+'r']===_0x24232b);const _0x12434e=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x5d0bc9,_0xf9d11a,0x1*-0x21e3+0xfee+-0xf2*-0x13,_0x24232b['_format'])),_0x483b13=_0x5b1ad8['data']??new(my(_0x24232b['_format']))(_0x12434e);return this['setRenderT'+'arget'](_0x4e3d0c),this['initRender'+'Target'](_0x4e3d0c),new Promise((_0x531506,_0x4315d5)=>{this['readPixels'+'Async'](_0x1d063a,_0x3fd862,_0x5d0bc9,_0xf9d11a,_0x483b13)['then'](_0x26486c=>{_0x5b1ad8['renderTarg'+'et']||_0x4e3d0c['destroy'](),_0x531506(_0x26486c);})['catch'](_0x4315d5);});}async['writeTextu'+'reAsync'](_0xb6f3b5,_0x13dde8,_0x3c0442,_0x43a1b6,_0x2a72e5,_0x14e80c){const _0x582f77=this['gl'],_0xbfa5b0=_0xb6f3b5['impl'],_0x22ef03=(_0xbfa5b0==null?void(0x1*0x233e+0x1c8b*0x1+-0x1543*0x3):_0xbfa5b0['_glFormat'])??_0x582f77['RGBA'],_0x24a437=(_0xbfa5b0==null?void(0x47*-0x43+-0x8b3*-0x3+0x3c2*-0x2):_0xbfa5b0['_glPixelTy'+'pe'])??_0x582f77['UNSIGNED_B'+'YTE'],_0x291358=_0x582f77['createBuff'+'er']();_0x582f77['bindBuffer'](_0x582f77['PIXEL_UNPA'+'CK_BUFFER'],_0x291358),_0x582f77['bufferData'](_0x582f77['PIXEL_UNPA'+'CK_BUFFER'],_0x14e80c,_0x582f77['STREAM_DRA'+'W']),_0x582f77['bindTextur'+'e'](_0x582f77['TEXTURE_2D'],_0xbfa5b0['_glTexture']),_0x582f77['texSubImag'+'e2D'](_0x582f77['TEXTURE_2D'],-0x141d+0x19c6+-0x1e3*0x3,_0x13dde8,_0x3c0442,_0x43a1b6,_0x2a72e5,_0x22ef03,_0x24a437,-0x164+0x1*-0x1173+0x12d7),_0x582f77['bindBuffer'](_0x582f77['PIXEL_UNPA'+'CK_BUFFER'],null),_0xb6f3b5['_needsUplo'+'ad']=!(-0x991*0x1+-0x7d0*0x2+-0xc99*-0x2),_0xb6f3b5['_mipmapsUp'+'loaded']=!(0x245*0x5+0x227d+-0x2dd5),await this['clientWait'+'Async'](0x1*-0x110b+0x58f+0xb7c,0x274*-0x7+0x612+0xb2a);}['setAlphaTo'+'Coverage'](_0x3f2a7f){this['alphaToCov'+'erage']!==_0x3f2a7f&&(this['alphaToCov'+'erage']=_0x3f2a7f,_0x3f2a7f?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x575111){if(this['transformF'+'eedbackBuf'+'fer']!==_0x575111){this['transformF'+'eedbackBuf'+'fer']=_0x575111;const _0x139a01=this['gl'];_0x575111?(this['feedback']||(this['feedback']=_0x139a01['createTran'+'sformFeedb'+'ack']()),_0x139a01['bindTransf'+'ormFeedbac'+'k'](_0x139a01['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x139a01['bindTransf'+'ormFeedbac'+'k'](_0x139a01['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x40e5cb){this['raster']!==_0x40e5cb&&(this['raster']=_0x40e5cb,_0x40e5cb?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x51972e){if(this['stencil']!==_0x51972e){const _0x39e8b9=this['gl'];_0x51972e?_0x39e8b9['enable'](_0x39e8b9['STENCIL_TE'+'ST']):_0x39e8b9['disable'](_0x39e8b9['STENCIL_TE'+'ST']),this['stencil']=_0x51972e;}}['setStencil'+'Func'](_0x242dda,_0x310639,_0xf71f53){(this['stencilFun'+'cFront']!==_0x242dda||this['stencilRef'+'Front']!==_0x310639||this['stencilMas'+'kFront']!==_0xf71f53||this['stencilFun'+'cBack']!==_0x242dda||this['stencilRef'+'Back']!==_0x310639||this['stencilMas'+'kBack']!==_0xf71f53)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x242dda],_0x310639,_0xf71f53),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x242dda,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x310639,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0xf71f53);}['setStencil'+'FuncFront'](_0x4d5f23,_0x564626,_0x2b4a13){if(this['stencilFun'+'cFront']!==_0x4d5f23||this['stencilRef'+'Front']!==_0x564626||this['stencilMas'+'kFront']!==_0x2b4a13){const _0x4c5cb2=this['gl'];_0x4c5cb2['stencilFun'+'cSeparate'](_0x4c5cb2['FRONT'],this['glComparis'+'on'][_0x4d5f23],_0x564626,_0x2b4a13),this['stencilFun'+'cFront']=_0x4d5f23,this['stencilRef'+'Front']=_0x564626,this['stencilMas'+'kFront']=_0x2b4a13;}}['setStencil'+'FuncBack'](_0x3c1009,_0x112da9,_0x3be1f4){if(this['stencilFun'+'cBack']!==_0x3c1009||this['stencilRef'+'Back']!==_0x112da9||this['stencilMas'+'kBack']!==_0x3be1f4){const _0x228e9d=this['gl'];_0x228e9d['stencilFun'+'cSeparate'](_0x228e9d['BACK'],this['glComparis'+'on'][_0x3c1009],_0x112da9,_0x3be1f4),this['stencilFun'+'cBack']=_0x3c1009,this['stencilRef'+'Back']=_0x112da9,this['stencilMas'+'kBack']=_0x3be1f4;}}['setStencil'+'Operation'](_0x430c14,_0x88b754,_0xa20f0f,_0x7feef5){(this['stencilFai'+'lFront']!==_0x430c14||this['stencilZfa'+'ilFront']!==_0x88b754||this['stencilZpa'+'ssFront']!==_0xa20f0f||this['stencilFai'+'lBack']!==_0x430c14||this['stencilZfa'+'ilBack']!==_0x88b754||this['stencilZpa'+'ssBack']!==_0xa20f0f)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x430c14],this['glStencilO'+'p'][_0x88b754],this['glStencilO'+'p'][_0xa20f0f]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x430c14,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x88b754,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0xa20f0f),(this['stencilWri'+'teMaskFron'+'t']!==_0x7feef5||this['stencilWri'+'teMaskBack']!==_0x7feef5)&&(this['gl']['stencilMas'+'k'](_0x7feef5),this['stencilWri'+'teMaskFron'+'t']=_0x7feef5,this['stencilWri'+'teMaskBack']=_0x7feef5);}['setStencil'+'OperationF'+'ront'](_0x51163f,_0x3729f3,_0x5c6453,_0x393bb8){(this['stencilFai'+'lFront']!==_0x51163f||this['stencilZfa'+'ilFront']!==_0x3729f3||this['stencilZpa'+'ssFront']!==_0x5c6453)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x51163f],this['glStencilO'+'p'][_0x3729f3],this['glStencilO'+'p'][_0x5c6453]),this['stencilFai'+'lFront']=_0x51163f,this['stencilZfa'+'ilFront']=_0x3729f3,this['stencilZpa'+'ssFront']=_0x5c6453),this['stencilWri'+'teMaskFron'+'t']!==_0x393bb8&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x393bb8),this['stencilWri'+'teMaskFron'+'t']=_0x393bb8);}['setStencil'+'OperationB'+'ack'](_0x20013f,_0xd62fb2,_0x1fdac1,_0x4e5397){(this['stencilFai'+'lBack']!==_0x20013f||this['stencilZfa'+'ilBack']!==_0xd62fb2||this['stencilZpa'+'ssBack']!==_0x1fdac1)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x20013f],this['glStencilO'+'p'][_0xd62fb2],this['glStencilO'+'p'][_0x1fdac1]),this['stencilFai'+'lBack']=_0x20013f,this['stencilZfa'+'ilBack']=_0xd62fb2,this['stencilZpa'+'ssBack']=_0x1fdac1),this['stencilWri'+'teMaskBack']!==_0x4e5397&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x4e5397),this['stencilWri'+'teMaskBack']=_0x4e5397);}['setBlendSt'+'ate'](_0x4fa529){const _0x448e3e=this['blendState'];if(!_0x448e3e['equals'](_0x4fa529)){const _0x2e60c4=this['gl'],{blend:_0x53565f,colorOp:_0x1d2ea9,alphaOp:_0x33f948,colorSrcFactor:_0x5ea27d,colorDstFactor:_0x1ffea1,alphaSrcFactor:_0x40634f,alphaDstFactor:_0x3f1833}=_0x4fa529;if(_0x448e3e['blend']!==_0x53565f&&(_0x53565f?_0x2e60c4['enable'](_0x2e60c4['BLEND']):_0x2e60c4['disable'](_0x2e60c4['BLEND'])),_0x448e3e['colorOp']!==_0x1d2ea9||_0x448e3e['alphaOp']!==_0x33f948){const _0xcf057c=this['glBlendEqu'+'ation'];_0x2e60c4['blendEquat'+'ionSeparat'+'e'](_0xcf057c[_0x1d2ea9],_0xcf057c[_0x33f948]);}(_0x448e3e['colorSrcFa'+'ctor']!==_0x5ea27d||_0x448e3e['colorDstFa'+'ctor']!==_0x1ffea1||_0x448e3e['alphaSrcFa'+'ctor']!==_0x40634f||_0x448e3e['alphaDstFa'+'ctor']!==_0x3f1833)&&_0x2e60c4['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x5ea27d],this['glBlendFun'+'ctionColor'][_0x1ffea1],this['glBlendFun'+'ctionAlpha'][_0x40634f],this['glBlendFun'+'ctionAlpha'][_0x3f1833]),_0x448e3e['allWrite']!==_0x4fa529['allWrite']&&this['gl']['colorMask'](_0x4fa529['redWrite'],_0x4fa529['greenWrite'],_0x4fa529['blueWrite'],_0x4fa529['alphaWrite']),_0x448e3e['copy'](_0x4fa529);}}['setBlendCo'+'lor'](_0x29ff69,_0x23eb92,_0x77737,_0x4b8432){const _0x2caac1=this['blendColor'];(_0x29ff69!==_0x2caac1['r']||_0x23eb92!==_0x2caac1['g']||_0x77737!==_0x2caac1['b']||_0x4b8432!==_0x2caac1['a'])&&(this['gl']['blendColor'](_0x29ff69,_0x23eb92,_0x77737,_0x4b8432),_0x2caac1['set'](_0x29ff69,_0x23eb92,_0x77737,_0x4b8432));}['setStencil'+'State'](_0x457518,_0x4f14b4){_0x457518||_0x4f14b4?(this['setStencil'+'Test'](!(-0x7*0x316+0x57+-0x1543*-0x1)),_0x457518===_0x4f14b4?(this['setStencil'+'Func'](_0x457518['func'],_0x457518['ref'],_0x457518['readMask']),this['setStencil'+'Operation'](_0x457518['fail'],_0x457518['zfail'],_0x457518['zpass'],_0x457518['writeMask'])):(_0x457518??(_0x457518=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x457518['func'],_0x457518['ref'],_0x457518['readMask']),this['setStencil'+'OperationF'+'ront'](_0x457518['fail'],_0x457518['zfail'],_0x457518['zpass'],_0x457518['writeMask']),_0x4f14b4??(_0x4f14b4=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x4f14b4['func'],_0x4f14b4['ref'],_0x4f14b4['readMask']),this['setStencil'+'OperationB'+'ack'](_0x4f14b4['fail'],_0x4f14b4['zfail'],_0x4f14b4['zpass'],_0x4f14b4['writeMask']))):this['setStencil'+'Test'](!(-0x13f*-0xe+-0x1a55+0x1*0x8e4));}['setDepthSt'+'ate'](_0x1680e8){const _0x4978e8=this['depthState'];if(!_0x4978e8['equals'](_0x1680e8)){const _0x4ac7e8=this['gl'],_0x104ea3=_0x1680e8['write'];_0x4978e8['write']!==_0x104ea3&&_0x4ac7e8['depthMask'](_0x104ea3);let {func:_0x48889d,test:_0x399388}=_0x1680e8;!_0x399388&&_0x104ea3&&(_0x399388=!(0x2*0x652+0x1c70+-0x2914),_0x48889d=Wi),_0x4978e8['func']!==_0x48889d&&_0x4ac7e8['depthFunc'](this['glComparis'+'on'][_0x48889d]),_0x4978e8['test']!==_0x399388&&(_0x399388?_0x4ac7e8['enable'](_0x4ac7e8['DEPTH_TEST']):_0x4ac7e8['disable'](_0x4ac7e8['DEPTH_TEST']));const {depthBias:_0x21f887,depthBiasSlope:_0x4d3d66}=_0x1680e8;_0x21f887||_0x4d3d66?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x3*0x44d+-0xb3f+-0x1a8),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4ac7e8['polygonOff'+'set'](_0x4d3d66,_0x21f887)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x123a*0x1+-0x200f*-0x1+0xb1*-0x14),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4978e8['copy'](_0x1680e8);}}['setCullMod'+'e'](_0x491465){if(this['cullMode']!==_0x491465){if(_0x491465===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x37d7c4=this['glCull'][_0x491465];this['cullFace']!==_0x37d7c4&&(this['gl']['cullFace'](_0x37d7c4),this['cullFace']=_0x37d7c4);}this['cullMode']=_0x491465;}}['setShader'](_0x2be079,_0x40be0b=!(0x667+-0x2*-0x8de+-0xc11*0x2)){_0x2be079!==this['shader']&&(this['shader']=_0x2be079,this['shaderAsyn'+'cCompile']=_0x40be0b,this['shaderVali'+'d']=void(-0x948+-0x10fc+-0xd22*-0x2),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x2cd617}=this,{impl:_0x387238}=_0x2cd617;this['shaderVali'+'d']===void(-0xbb5+-0xd12+0x18c7*0x1)&&(_0x2cd617['failed']?this['shaderVali'+'d']=!(0x5e*-0x5f+0xdd6+0x150d):_0x2cd617['ready']||(this['shaderAsyn'+'cCompile']?_0x387238['isLinked'](this)?_0x387238['finalize'](this,_0x2cd617)||(_0x2cd617['failed']=!(-0x1036+0x40*0x12+0x1*0xbb6),this['shaderVali'+'d']=!(0x371+-0x1da+-0x196*0x1)):this['shaderVali'+'d']=!(-0x5b1+-0x4*0x3e2+0x153a):_0x387238['finalize'](this,_0x2cd617)||(_0x2cd617['failed']=!(0xe59+-0xf0c+0xb3),this['shaderVali'+'d']=!(-0x1e83+0x1*0x1543+-0x67*-0x17)))),this['shaderVali'+'d']===void(0xf86+-0x59f*-0x3+0x2063*-0x1)&&(this['gl']['useProgram'](_0x387238['glProgram']),this['shaderVali'+'d']=!(-0x1ea7+-0x26fc+-0x45a3*-0x1));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x2eb1bb=this['gl'];this['_vaoMap']['forEach']((_0x250c4e,_0x254006,_0x12ff13)=>{_0x2eb1bb['deleteVert'+'exArray'](_0x250c4e);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x430ff5){_0x430ff5?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x59256e=-0x1422+-0x152+0x15d8){const _0x361c26=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x361c26['loseContex'+'t'](),setTimeout(()=>_0x361c26['restoreCon'+'text'](),_0x59256e);}}let nw=0xa*0x295+0x1d20*-0x1+0x1*0x34e;class br{constructor(_0x3cd8b4,_0x301b97,_0x29c32b,_0x133c4a=ms,_0x51824e,_0x3ca0a5){this['device']=_0x3cd8b4,this['format']=_0x301b97,this['numIndices']=_0x29c32b,this['usage']=_0x133c4a,this['id']=nw++,this['impl']=_0x3cd8b4['createInde'+'xBufferImp'+'l'](this,_0x3ca0a5);const _0x120b2f=hT[_0x301b97];this['bytesPerIn'+'dex']=_0x120b2f,this['numBytes']=this['numIndices']*_0x120b2f,_0x51824e?this['setData'](_0x51824e):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x3cd8b4['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x17864d=this['device'],_0x12dabe=_0x17864d['buffers']['indexOf'](this);_0x12dabe!==-(-0x15f9+0x1*-0x2471+0x3a6b)&&_0x17864d['buffers']['splice'](_0x12dabe,0xc98+0x6a2+0x25*-0x85),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x17864d),this['adjustVram'+'SizeTracki'+'ng'](_0x17864d['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x4cca43,_0x56059a){w['trace'](j0,this['id']+'\x20size:\x20'+_0x56059a+'\x20vram.ib:\x20'+_0x4cca43['ib']+'\x20=>\x20'+(_0x4cca43['ib']+_0x56059a)),_0x4cca43['ib']+=_0x56059a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x408049){return _0x408049['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x408049['byteLength']),!(0xfec+-0x4a*-0x17+-0x1691*0x1)):(this['storage']=_0x408049,this['unlock'](),!(-0x3*0xa06+0x11*0x24a+-0x8d8));}['_lockTyped'+'Array'](){const _0x421e8a=this['lock']();return this['format']===wr?new Uint32Array(_0x421e8a):this['format']===Yi?new Uint16Array(_0x421e8a):new Uint8Array(_0x421e8a);}['writeData'](_0x58b661,_0x1961d4){const _0x479b8a=this['_lockTyped'+'Array']();if(_0x58b661['length']>_0x1961d4){if(ArrayBuffer['isView'](_0x58b661))_0x58b661=_0x58b661['subarray'](0x3*0xa83+-0xabf+0x1*-0x14ca,_0x1961d4),_0x479b8a['set'](_0x58b661);else{for(let _0x796986=-0xd7a+0x8bf+0x4bb;_0x796986<_0x1961d4;_0x796986++)_0x479b8a[_0x796986]=_0x58b661[_0x796986];}}else _0x479b8a['set'](_0x58b661);this['unlock']();}['readData'](_0xd9356e){const _0xdb62fd=this['_lockTyped'+'Array'](),_0x54b4ad=this['numIndices'];if(ArrayBuffer['isView'](_0xd9356e))_0xd9356e['set'](_0xdb62fd);else{_0xd9356e['length']=0x1181+-0x564*0x3+-0x155*0x1;for(let _0x3ab50e=0x176f+0x1*-0x7cd+-0xfa2;_0x3ab50e<_0x54b4ad;_0x3ab50e++)_0xd9356e[_0x3ab50e]=_0xdb62fd[_0x3ab50e];}return _0x54b4ad;}}class ow{constructor(){h(this,'clearValue',new ie(0x1*-0xa72+-0x16fe+0x1ac*0x14,0x1a8f+-0x446*0x2+-0x9f*0x1d,0x1f99+-0x1814+0x19*-0x4d,0xd4d+0x1*-0x20db+-0x138f*-0x1)),h(this,'clearValue'+'Linear',new ie(0x21a1+0x1f55+-0x5*0xcfe,-0x1*-0x21d+0x55e+0x5*-0x17f,-0x24ac*-0x1+-0x2*0xec3+0xb7*-0xa,-0x1d2*0xf+0x1bc0+-0x71)),h(this,'clear',!(0x15ce+-0x8*-0x417+0x3685*-0x1)),h(this,'store',!(-0x1100+-0xb1d+0x1c1e)),h(this,'resolve',!(-0x2*-0xc4d+0x234b+-0x13*0x327)),h(this,'genMipmaps',!(-0x10bb+-0x12*-0x153+-0x6*0x12f));}}class lw{constructor(){h(this,'clearDepth'+'Value',0x223+0x1165+-0x1*0x1387),h(this,'clearStenc'+'ilValue',0x5c*0x39+-0x138a+0xb*-0x16),h(this,'clearDepth',!(-0xbe9*0x3+0x19a1+0xa1b*0x1)),h(this,'clearStenc'+'il',!(-0x226a+0x1d78+0x4f3)),h(this,'storeDepth',!(0x465+0x123d+-0x16a1*0x1)),h(this,'resolveDep'+'th',!(0x217a+-0xe91+-0x12e8)),h(this,'storeStenc'+'il',!(-0xa2a+-0x2677+0x30a2));}}class ys{constructor(_0x293b2a){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x14d7+0xb3d+0x99a)),h(this,'_skipStart',!(-0x34d*-0xa+0x13*-0x15a+0x5*-0x177)),h(this,'_skipEnd',!(-0x1f4*0x10+0x1*0x267b+0x2*-0x39d)),h(this,'executeEna'+'bled',!(-0x6*0x2e9+-0x2533+0x36a9)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x2583+-0xe5e+-0x5*0x4a1),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x218f+-0x113*0x5+0xcfa*0x3)),h(this,'fullSizeCl'+'earRect',!(0x5*0x1c9+0xc0+-0x9ad)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x293b2a),this['device']=_0x293b2a);}get['colorOps'](){return this['colorArray'+'Ops'][-0x41*0x60+0x737+-0x1129*-0x1];}set['name'](_0x2d367a){this['_name']=_0x2d367a;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x17b46f){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x17b46f;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x3aa76f){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x3aa76f;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x35690a){this['_options']=_0x35690a,_0x35690a&&(this['scaleX']=this['scaleX']??0x29*-0xbb+-0x1*0x1bc5+0x1*0x39b9,this['scaleY']=this['scaleY']??-0x1*0x2209+-0x42f+0x13*0x203);}get['options'](){return this['_options'];}['init'](_0x1cdce2=null,_0x3a3847){this['options']=_0x3a3847,this['renderTarg'+'et']=_0x1cdce2,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x1626+-0x797*-0x1+-0x2*0xede),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x22f25d,_0x39247c,_0x45768b,_0x40efba;const _0x346d9a=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x346d9a!=null&&_0x346d9a['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x265f+0x731+0x6*-0x798));const _0x213852=_0x346d9a?((_0x22f25d=_0x346d9a['_colorBuff'+'ers'])==null?void(0x1ffb+0x21c8+-0x7*0x965):_0x22f25d['length'])??0x42*0x71+-0x1*0x23ea+0x6c8:-0x4*0x3a9+0x19aa+0x193*-0x7;this['colorArray'+'Ops']['length']=-0x1*0x2273+-0x1*0x667+0x28da;for(let _0x3e9dbf=0x293*-0x1+-0xed6+0x1*0x1169;_0x3e9dbf<_0x213852;_0x3e9dbf++){const _0x485c86=new ow();this['colorArray'+'Ops'][_0x3e9dbf]=_0x485c86,this['samples']===-0x52*0xd+-0x7ff+0xc2a&&(_0x485c86['store']=!(-0x21d6+0x1612+0xbc4),_0x485c86['resolve']=!(0x3a*0x23+-0x144*0x10+0xc53));const _0x3ddb0e=(_0x45768b=(_0x39247c=this['renderTarg'+'et'])==null?void(-0x4*0x49d+0x1*0x812+0x3*0x376):_0x39247c['_colorBuff'+'ers'])==null?void(-0x151e+-0x74f+0x1c6d):_0x45768b[_0x3e9dbf];if((_0x40efba=this['renderTarg'+'et'])!=null&&_0x40efba['mipmaps']&&(_0x3ddb0e!=null&&_0x3ddb0e['mipmaps'])){const _0x5d991a=dn(_0x3ddb0e['_format']);_0x485c86['genMipmaps']=!_0x5d991a;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2f0a4e=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x52199c=Math['floor'](_0x2f0a4e['width']*this['scaleX']),_0x5760de=Math['floor'](_0x2f0a4e['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x52199c,_0x5760de);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x2dd624){this['_enabled']!==_0x2dd624&&(this['_enabled']=_0x2dd624,_0x2dd624?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x20a835){const _0x4a86f9=this['colorArray'+'Ops']['length'];for(let _0x5a00e3=0xb23+0x1c49+-0x276c;_0x5a00e3<_0x4a86f9;_0x5a00e3++){const _0x31a0a6=this['colorArray'+'Ops'][_0x5a00e3];_0x20a835&&(_0x31a0a6['clearValue']['copy'](_0x20a835),_0x31a0a6['clearValue'+'Linear']['linear'](_0x20a835)),_0x31a0a6['clear']=!!_0x20a835;}}['setClearDe'+'pth'](_0x53b798){_0x53b798&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x53b798),this['depthStenc'+'ilOps']['clearDepth']=_0x53b798!==void(0x18*-0xf6+-0x7bf*-0x3+0x5*-0x9);}['setClearSt'+'encil'](_0x6439ac){_0x6439ac&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x6439ac),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x6439ac!==void(0x1993+0xb7a+-0x250d);}['render'](){if(this['enabled']){const _0x39a3d4=this['device'],_0x4a5eac=this['renderTarg'+'et']!==void(-0x62f*0x4+-0x1*0x1495+-0x2d51*-0x1);w['call'](()=>{this['log'](_0x39a3d4,_0x39a3d4['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x4a5eac&&!this['_skipStart']&&_0x39a3d4['startRende'+'rPass'](this),this['execute'](),_0x4a5eac&&!this['_skipEnd']&&_0x39a3d4['endRenderP'+'ass'](this)),this['after'](),_0x39a3d4['renderPass'+'Index']++;}}['log'](_0x32ea20,_0x2f712d=-0x2bf+-0x1cc2+0x5*0x64d){var _0x4bd250,_0x2cf2e3,_0xe4db86;if(mi['get'](Pm)||mi['get'](cn)){const _0x1dce30=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x32ea20['backBuffer']:null),_0xc52d4b=!!(_0x1dce30!=null&&_0x1dce30['impl']['assignedCo'+'lorTexture'])||(_0x1dce30==null?void(0x1b99+-0x1f44+0x3ab):_0x1dce30['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x274+-0x1fb5+0x37*0x9f),_0x13f3af=((_0x4bd250=_0x1dce30==null?void(-0x1f7c+0x1*-0x24b+0x1*0x21c7):_0x1dce30['_colorBuff'+'ers'])==null?void(0x1*-0xc93+0x16e*0xe+-0x3*0x27b):_0x4bd250['length'])??(_0xc52d4b?-0x3b*-0x17+0x761+0x3b*-0x37:0x19f0+0x1c3e+-0x49*0xbe),_0x5a3596=_0x1dce30==null?void(-0xd*-0x250+0x92b*0x2+-0x3066):_0x1dce30['depth'],_0x382d88=_0x1dce30==null?void(0x1d83+0x1215+0x1*-0x2f98):_0x1dce30['stencil'],_0x569af5=_0x1dce30==null?void(0x175a+0x1cff*-0x1+0x5a5):_0x1dce30['mipLevel'],_0x352164=_0x1dce30?'\x20RT:\x20'+(_0x1dce30?_0x1dce30['name']:'NULL')+'\x20'+(_0x13f3af>-0x2128+0x1158+-0xfd0*-0x1?'[Color'+(_0x13f3af>0x2599+-0xaa7+0xb*-0x273?'\x20x\x20'+_0x13f3af:'')+']':'')+(_0x5a3596?'[Depth]':'')+(_0x382d88?'[Stencil]':'')+'\x20'+_0x1dce30['width']+'\x20x\x20'+_0x1dce30['height']+(this['samples']>0xeed+-0x1*-0x1177+-0x2b3*0xc?'\x20samples:\x20'+this['samples']:'')+(_0x569af5>0x409+0xb09*-0x1+0x700?'\x20mipLevel:'+'\x20'+_0x569af5:''):'',_0x50f138=this['_skipStart']?'++':_0x2f712d['toString']()['padEnd'](0x72c+-0x19a0+0x11*0x116,'\x20');w['trace'](Pm,_0x50f138+':\x20'+this['name']['padEnd'](0x1*-0x20c9+-0x1dea+0x3ec7,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x352164['padEnd'](0x196b+-0x2173*0x1+0x826));for(let _0x5b9d8f=0x21bb+-0x3*0x6d2+-0x1*0xd45;_0x5b9d8f<_0x13f3af;_0x5b9d8f++){const _0x3884ca=this['colorArray'+'Ops'][_0x5b9d8f],_0x5658ff=(_0x2cf2e3=Nt['get'](_0xc52d4b?_0x32ea20['backBuffer'+'Format']:_0x1dce30['getColorBu'+'ffer'](_0x5b9d8f)['format']))==null?void(-0x5*0x24b+-0x19b6+0x252d*0x1):_0x2cf2e3['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x5b9d8f+']:\x20'+(_0x3884ca['clear']?'clear':'load')+'->'+(_0x3884ca['store']?'store':'discard')+'\x20'+(_0x3884ca['resolve']?'resolve\x20':'')+(_0x3884ca['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x5658ff+']\x20'+(_0x3884ca['clear']?'[clear:\x20'+_0x3884ca['clearValue']['toString'](!(0x7ea*-0x2+-0x343+-0x1b*-0xb5),!(-0x1b4a+0xb00+0x6*0x2b7))+']':''));}if(this['depthStenc'+'ilOps']){const _0x171f2e=''+(_0x1dce30['depthBuffe'+'r']?'\x20[format:\x20'+((_0xe4db86=Nt['get'](_0x1dce30['depthBuffe'+'r']['format']))==null?void(0x7d0+-0x25b2+0x1de2):_0xe4db86['name'])+']':'');_0x5a3596&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x171f2e+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x382d88&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x171f2e+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x5267b3){this['array'][this['index']]=_0x5267b3;}function hw(_0x574ba4,_0x43d52a){this['array'][this['index']]=_0x574ba4,this['array'][this['index']+(-0xf08+0x22c1+0x13b8*-0x1)]=_0x43d52a;}function dw(_0x5050a2,_0x12b2d0,_0x168319){this['array'][this['index']]=_0x5050a2,this['array'][this['index']+(-0x3f1*0x1+-0x1679*-0x1+-0x1287)]=_0x12b2d0,this['array'][this['index']+(-0xce*-0x1+0x58*0xb+-0x24a*0x2)]=_0x168319;}function fw(_0x570b39,_0x73a448,_0x89e4d,_0x55282f){this['array'][this['index']]=_0x570b39,this['array'][this['index']+(0xdc3+-0x31*0xb3+0x1*0x1481)]=_0x73a448,this['array'][this['index']+(0x2*-0x1237+0x2027+0x449)]=_0x89e4d,this['array'][this['index']+(-0x2170+-0x1261+-0xd6*-0x3e)]=_0x55282f;}function uw(_0x178074,_0x2e567c,_0x27f7ed){this['array'][_0x178074]=_0x2e567c[_0x27f7ed];}function pw(_0xf6feb8,_0x5406d1,_0x34da1a){this['array'][_0xf6feb8]=_0x5406d1[_0x34da1a],this['array'][_0xf6feb8+(0xa7*0x3a+0x20*0x108+-0x46d5)]=_0x5406d1[_0x34da1a+(-0x1f86+0x89*-0x19+-0x77c*-0x6)];}function mw(_0x480d58,_0x1367ff,_0x24ee32){this['array'][_0x480d58]=_0x1367ff[_0x24ee32],this['array'][_0x480d58+(0x9b+0x5bb+-0x655)]=_0x1367ff[_0x24ee32+(-0x56*-0x20+0x1b85+-0x2644)],this['array'][_0x480d58+(0x10f+0x2095*0x1+-0x10d1*0x2)]=_0x1367ff[_0x24ee32+(-0x1b91*0x1+0x1924+0x7*0x59)];}function _w(_0x356662,_0x46d208,_0x33e185){this['array'][_0x356662]=_0x46d208[_0x33e185],this['array'][_0x356662+(0x176b+-0x22a3+0xa9*0x11)]=_0x46d208[_0x33e185+(-0x1f0b+-0x132c+-0x4*-0xc8e)],this['array'][_0x356662+(-0x1*-0x1ab+0x1ad*0x1+-0x356)]=_0x46d208[_0x33e185+(0x879+0x1855+-0x20cc)],this['array'][_0x356662+(-0x741*-0x4+-0xc7*0x1+-0x1c3a)]=_0x46d208[_0x33e185+(0x1*-0x1b7a+-0xf*0xb0+0x1*0x25cd)];}function gw(_0x5919a2,_0xdcd96b,_0x4776fe){_0xdcd96b[_0x4776fe]=this['array'][_0x5919a2];}function Sw(_0x46536f,_0x24e618,_0x20d35b){_0x24e618[_0x20d35b]=this['array'][_0x46536f],_0x24e618[_0x20d35b+(-0x20+0x1f26+-0x1f05)]=this['array'][_0x46536f+(-0x7*-0xbd+0xc*-0x1a0+-0x2*-0x72b)];}function yw(_0x585184,_0x52f218,_0x54118e){_0x52f218[_0x54118e]=this['array'][_0x585184],_0x52f218[_0x54118e+(-0x20*0x12e+0xb*-0x7c+0x10d*0x29)]=this['array'][_0x585184+(-0x1767+-0xb*-0x17b+0x71f)],_0x52f218[_0x54118e+(0x18dd+-0x5*0x663+-0x714*-0x1)]=this['array'][_0x585184+(0x1*0x229f+0x137*-0xb+0x440*-0x5)];}function vw(_0x34afcd,_0x5ad8f6,_0x1b8b61){_0x5ad8f6[_0x1b8b61]=this['array'][_0x34afcd],_0x5ad8f6[_0x1b8b61+(0x10a1+0x65b*0x2+0x1d56*-0x1)]=this['array'][_0x34afcd+(0x1170+0x4*-0x4e2+0x219)],_0x5ad8f6[_0x1b8b61+(0x1*-0x2cf+0x1*-0x1c5+-0x496*-0x1)]=this['array'][_0x34afcd+(0x80*-0x4d+-0xc13+0x3295)],_0x5ad8f6[_0x1b8b61+(0x3c*0x16+-0x11c3*-0x2+0x28ab*-0x1)]=this['array'][_0x34afcd+(0x20b5*0x1+0x1615*0x1+-0x36c7)];}class xw{constructor(_0x200156,_0x2433dc,_0x569dba){switch(this['index']=-0x1*-0xfbf+0xf6c+-0x1f2b,this['numCompone'+'nts']=_0x2433dc['numCompone'+'nts'],_0x569dba['interleave'+'d']?this['array']=new wn[_0x2433dc['dataType']](_0x200156,_0x2433dc['offset']):this['array']=new wn[_0x2433dc['dataType']](_0x200156,_0x2433dc['offset'],_0x569dba['vertexCoun'+'t']*_0x2433dc['numCompone'+'nts']),this['stride']=_0x2433dc['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x2433dc['numCompone'+'nts']){case-0x8ac+-0x354+-0x1*-0xc01:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x213*-0x11+-0x1007+0x334c:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x567+0xc07+-0x69d:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0x2a1*-0x9+0x11b7+0x5f6:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x4328ad){return this['array'][this['index']+_0x4328ad];}['set'](_0x519f90,_0x301786,_0x201206,_0x4bcef8){}['getToArray'](_0x121cd7,_0x22d98a,_0x22a8cd){}['setFromArr'+'ay'](_0x556d8d,_0x949b4,_0x372a55){}}class Uo{constructor(_0x3981d2){this['vertexBuff'+'er']=_0x3981d2,this['vertexForm'+'atSize']=_0x3981d2['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x37d333=this['vertexBuff'+'er']['getFormat']();for(let _0x3defdf=-0x1f6f+0x1bbd+0x3b2;_0x3defdf<_0x37d333['elements']['length'];_0x3defdf++){const _0x4a872a=_0x37d333['elements'][_0x3defdf];this['accessors'][_0x3defdf]=new xw(this['buffer'],_0x4a872a,_0x37d333),this['element'][_0x4a872a['name']]=this['accessors'][_0x3defdf];}}['next'](_0x2fceef=0x1a5*-0x11+-0x17ab+0x33a1){let _0x4f99f9=0x87c+-0x1964+0x874*0x2;const _0x13b2b0=this['accessors'],_0xea22d0=this['accessors']['length'];for(;_0x4f99f9<_0xea22d0;){const _0x32e3a4=_0x13b2b0[_0x4f99f9++];_0x32e3a4['index']+=_0x2fceef*_0x32e3a4['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x26ce12,_0x49fa4c,_0x58591e){const _0x495449=this['element'][_0x26ce12];if(_0x495449){_0x58591e>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x58591e+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x58591e=this['vertexBuff'+'er']['numVertice'+'s']);const _0x4f6caf=_0x495449['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x5eea91=0xf*-0x100+0xb8d*0x3+-0x1*0x13a7;for(let _0x10c2d4=0x1*-0x16e8+0x35*0x65+0x1ff;_0x10c2d4<_0x58591e;_0x10c2d4++)_0x495449['setFromArr'+'ay'](_0x5eea91,_0x49fa4c,_0x10c2d4*_0x4f6caf),_0x5eea91+=_0x495449['stride'];}else{if(_0x49fa4c['length']>_0x58591e*_0x4f6caf){const _0x350529=_0x58591e*_0x4f6caf;if(ArrayBuffer['isView'](_0x49fa4c))_0x49fa4c=_0x49fa4c['subarray'](-0xb46+-0xbef+0x1c9*0xd,_0x350529),_0x495449['array']['set'](_0x49fa4c);else{for(let _0x4f624b=0x11e+0xd42+-0xe60;_0x4f624b<_0x350529;_0x4f624b++)_0x495449['array'][_0x4f624b]=_0x49fa4c[_0x4f624b];}}else _0x495449['array']['set'](_0x49fa4c);}}}['readData'](_0x70076d,_0x3ceaba){const _0xcd943d=this['element'][_0x70076d];let _0x3ef66c=-0x8c*0x2+-0x1*-0x1f55+-0x1e3d;if(_0xcd943d){_0x3ef66c=this['vertexBuff'+'er']['numVertice'+'s'];let _0x21c87c;const _0x4623a0=_0xcd943d['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x3ceaba)&&(_0x3ceaba['length']=-0x2*0xcb9+-0x1fa2+0x464*0xd),_0xcd943d['index']=0x7a2+0xc1*-0x17+0x9b5;let _0x18c6b7=0x12ab+-0x8b*-0xe+-0x1a45*0x1;for(_0x21c87c=-0x18ac+0x1766+-0x2*-0xa3;_0x21c87c<_0x3ef66c;_0x21c87c++)_0xcd943d['getToArray'](_0x18c6b7,_0x3ceaba,_0x21c87c*_0x4623a0),_0x18c6b7+=_0xcd943d['stride'];}else{if(ArrayBuffer['isView'](_0x3ceaba))_0x3ceaba['set'](_0xcd943d['array']);else{_0x3ceaba['length']=-0x473*0x3+-0x17dd*-0x1+-0x1*0xa84;const _0x341351=_0x3ef66c*_0x4623a0;for(_0x21c87c=0x8fe*-0x1+0x1fa6+-0x16a8;_0x21c87c<_0x341351;_0x21c87c++)_0x3ceaba[_0x21c87c]=_0xcd943d['array'][_0x21c87c];}}}return _0x3ef66c;}}const Tw=-(0x101*0x1+-0x2*-0x3fd+0x17f*-0x6);class ww{constructor(_0x475e77,_0x7792de){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x7792de&&(this['key']=_0x7792de['keyCode'],this['element']=_0x7792de['target'],this['event']=_0x7792de);}}const jl=new ww();function Vd(_0x2a7a9c){return jl['key']=_0x2a7a9c['keyCode'],jl['element']=_0x2a7a9c['target'],jl['event']=_0x2a7a9c,jl;}function Yl(_0x1a4850){return typeof _0x1a4850=='string'?_0x1a4850['toUpperCas'+'e']()['charCodeAt'](-0x1299+0x7af+0xaea):_0x1a4850;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x479b64,_0x4dc952={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x479b64&&this['attach'](_0x479b64),this['preventDef'+'ault']=_0x4dc952['preventDef'+'ault']||!(-0x2645+0x2*-0x8c5+-0x4c*-0xbc),this['stopPropag'+'ation']=_0x4dc952['stopPropag'+'ation']||!(0x1bd2+-0x1374+-0x85d*0x1));}['attach'](_0x5b03d3){this['_element']&&this['detach'](),this['_element']=_0x5b03d3,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0xb1f+0x17*-0xaf+0x1ad9)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1*0x5d8+-0x24ca+-0x127*-0x25)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x42*-0x74+-0x1*-0x2dd+-0x20c4)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x3df*0x1+-0x6e*0x3c+0x15ea)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x4e9*0x3+0x20ac+-0x52*0x38));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2*-0x1ed+-0x1*0x1ae9+0x1710)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0xfc7+-0x80b+-0x7bb));}['toKeyIdent'+'ifier'](_0x4b89cc){_0x4b89cc=Yl(_0x4b89cc);const _0x11cce4=Ew[_0x4b89cc['toString']()];if(_0x11cce4)return _0x11cce4;let _0x3773e9=_0x4b89cc['toString'](0x2116+0x1*0x108d+-0x3193)['toUpperCas'+'e']();const _0x29b28f=_0x3773e9['length'];for(let _0x285f44=0x537*-0x7+-0x1*-0xe92+0x15ef;_0x285f44<-0xef+0x4*0x611+-0x1751-_0x29b28f;_0x285f44++)_0x3773e9='0'+_0x3773e9;return'U+'+_0x3773e9;}['_handleKey'+'Down'](_0x34a34b){const _0x46eaa8=_0x34a34b['keyCode']||_0x34a34b['charCode'];if(_0x46eaa8===void(-0x22*0xd7+-0xdf5*0x1+0x2a83))return;const _0x45432f=this['toKeyIdent'+'ifier'](_0x46eaa8);this['_keymap'][_0x45432f]=!(-0xa*-0x339+0x19d7+-0x3a11*0x1),this['fire']('keydown',Vd(_0x34a34b)),this['preventDef'+'ault']&&_0x34a34b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x34a34b['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x91bd77){const _0x12d34e=_0x91bd77['keyCode']||_0x91bd77['charCode'];if(_0x12d34e===void(0x400+0x2673+-0x2a73))return;const _0x495dac=this['toKeyIdent'+'ifier'](_0x12d34e);delete this['_keymap'][_0x495dac],this['fire']('keyup',Vd(_0x91bd77)),this['preventDef'+'ault']&&_0x91bd77['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x91bd77['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x3aecc5){this['fire']('keypress',Vd(_0x3aecc5)),this['preventDef'+'ault']&&_0x3aecc5['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3aecc5['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x48e067 in this['_lastmap'])delete this['_lastmap'][_0x48e067];for(const _0x4f6697 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x4f6697)&&(this['_lastmap'][_0x4f6697]=this['_keymap'][_0x4f6697]);}['isPressed'](_0x854ae0){const _0x166155=Yl(_0x854ae0),_0x20a1bd=this['toKeyIdent'+'ifier'](_0x166155);return!!this['_keymap'][_0x20a1bd];}['wasPressed'](_0x56be85){const _0xaaa1a7=Yl(_0x56be85),_0x31f027=this['toKeyIdent'+'ifier'](_0xaaa1a7);return!!this['_keymap'][_0x31f027]&&!this['_lastmap'][_0x31f027];}['wasRelease'+'d'](_0x461a94){const _0x184fb3=Yl(_0x461a94),_0x7b0e44=this['toKeyIdent'+'ifier'](_0x184fb3);return!this['_keymap'][_0x7b0e44]&&!!this['_lastmap'][_0x7b0e44];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x5a0b60,_0x35f768){h(this,'x',0xb*-0x17f+0x1*0x180d+0x1e6*-0x4),h(this,'y',-0xc8a+0x15a3+-0x919),h(this,'dx',0xb*-0x5b+-0x12c2+0x16ab),h(this,'dy',-0x5*0x392+-0x107*-0xb+0x2b*0x27),h(this,'button',Tw),h(this,'wheelDelta',0x1*-0x10a6+0x228*0xe+0x1*-0xd8a),h(this,'element'),h(this,'ctrlKey',!(-0x5*0x1d+-0x23b0+-0x22*-0x111)),h(this,'altKey',!(-0x19*-0x103+-0x9b7+0x3*-0x531)),h(this,'shiftKey',!(-0x1*-0x1709+0x26fc+-0x3e04)),h(this,'metaKey',!(0xd*-0xe2+-0x1*-0x1483+-0x908)),h(this,'event');let _0x3bfa13={'x':0x0,'y':0x0};if(_0x35f768){if(_0x35f768 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x3bfa13=_0x5a0b60['_getTarget'+'Coords'](_0x35f768);}else _0x35f768={};if(_0x3bfa13)this['x']=_0x3bfa13['x'],this['y']=_0x3bfa13['y'];else{if(ru())this['x']=-0x2*0xeb9+0x2335+0x19*-0x3b,this['y']=0x243d+-0xb22+-0x191b;else return;}_0x35f768['type']==='wheel'&&(_0x35f768['deltaY']>0xa4c+-0x1*0x949+-0x103?this['wheelDelta']=0x2005+0x1d73+-0x3d77:_0x35f768['deltaY']<0x21d6+0x1*0x1bf0+0x1*-0x3dc6&&(this['wheelDelta']=-(0x1229+0x1ca9+-0x31f*0xf))),ru()?(this['dx']=_0x35f768['movementX']||_0x35f768['webkitMove'+'mentX']||_0x35f768['mozMovemen'+'tX']||-0x1*0x455+0x1619*0x1+0x1*-0x11c4,this['dy']=_0x35f768['movementY']||_0x35f768['webkitMove'+'mentY']||_0x35f768['mozMovemen'+'tY']||-0x13*-0xb2+0x1a42+-0x2778):(this['dx']=this['x']-_0x5a0b60['_lastX'],this['dy']=this['y']-_0x5a0b60['_lastY']),(_0x35f768['type']==='mousedown'||_0x35f768['type']==='mouseup')&&(this['button']=_0x35f768['button']),this['buttons']=_0x5a0b60['_buttons']['slice'](-0x1347+0xe*0x115+0x97*0x7),this['element']=_0x35f768['target'],this['ctrlKey']=_0x35f768['ctrlKey']??!(0x11b5+0x149c+-0x265*0x10),this['altKey']=_0x35f768['altKey']??!(-0x6b*-0x47+0x1723*0x1+-0x34cf),this['shiftKey']=_0x35f768['shiftKey']??!(0xee0+-0x745*-0x3+0x1257*-0x2),this['metaKey']=_0x35f768['metaKey']??!(-0x13*0x47+0x2234+0xa1*-0x2e),this['event']=_0x35f768;}}class sa extends me{constructor(_0x41dde1){super(),h(this,'_lastX',0x71*0x20+0x21d0*-0x1+-0x2*-0x9d8),h(this,'_lastY',-0x1b83+-0x1df0+0x3973),h(this,'_buttons',[!(-0x1c6+0x23bd+0x4da*-0x7),!(-0x13e9+0x14e*0x8+0x4bd*0x2),!(0x1f87+-0x16dd+-0x8a9)]),h(this,'_lastbutto'+'ns',[!(-0x1685+-0x301*-0x1+-0x107*-0x13),!(0x4*-0x511+-0x13c6*0x1+0x280b),!(-0x182b+-0x12b*-0x1a+-0xd*0x7a)]),h(this,'_target',null),h(this,'_attached',!(-0x1b58+-0xfff+0x2b58)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x189427=>{_0x189427['preventDef'+'ault']();},this['attach'](_0x41dde1));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x4fc2e7){if(this['_target']=_0x4fc2e7,this['_attached'])return;this['_attached']=!(0x25*0x3a+-0x296*0x6+0x722);const _0x162455={'passive':!(0x3*0x8cb+-0x1975+-0x2f*0x5)},_0x5d844d=Ae['passiveEve'+'nts']?_0x162455:!(-0xb0+0xf44+0xd*-0x11f);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5d844d),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5d844d),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5d844d),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5d844d);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x1273+-0x206d+0xdfb),this['_target']=null;const _0x5a8dcf={'passive':!(-0xed*0xd+0x3*0x846+-0xcc8)},_0x17ee62=Ae['passiveEve'+'nts']?_0x5a8dcf:!(-0x1593+-0xf6a+-0x1*-0x24fe);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x17ee62),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x17ee62),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x17ee62),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x17ee62);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x473d3f,_0x15cee7){if(!document['body']['requestPoi'+'nterLock']){_0x15cee7&&_0x15cee7();return;}const _0x5576dc=()=>{_0x473d3f(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5576dc);},_0x41204c=()=>{_0x15cee7(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x41204c);};_0x473d3f&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5576dc,!(0x3b9*-0x3+0x243+0x8e9)),_0x15cee7&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x41204c,!(-0x1377+0x18b6+-0x53e)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x2f0cd7){if(!document['exitPointe'+'rLock'])return;const _0x4c92c6=()=>{_0x2f0cd7(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4c92c6);};_0x2f0cd7&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4c92c6,!(0x1783+-0x19*0x190+0xf8e)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0xb*-0xc1+0x10f7+-0x1942]=this['_buttons'][-0x11b7+0x1*-0xe3c+-0x1ff3*-0x1],this['_lastbutto'+'ns'][-0x16*-0xa3+0x105a+-0x1*0x1e5b]=this['_buttons'][0x355*-0x6+-0xfb+-0x37f*-0x6],this['_lastbutto'+'ns'][0x1*-0x1f57+-0x1548+0x34a1]=this['_buttons'][0x2017+0x1390+-0x3f9*0xd];}['isPressed'](_0x1f2ef9){return this['_buttons'][_0x1f2ef9];}['wasPressed'](_0x339f5a){return this['_buttons'][_0x339f5a]&&!this['_lastbutto'+'ns'][_0x339f5a];}['wasRelease'+'d'](_0x5b31ce){return!this['_buttons'][_0x5b31ce]&&this['_lastbutto'+'ns'][_0x5b31ce];}['_handleUp'](_0x688c5d){this['_buttons'][_0x688c5d['button']]=!(0x1d57+-0x12a1+-0x1*0xab5);const _0x5c0cc8=new ta(this,_0x688c5d);_0x5c0cc8['event']&&this['fire']('mouseup',_0x5c0cc8);}['_handleDow'+'n'](_0x3736ec){this['_buttons'][_0x3736ec['button']]=!(0x1e55+0xc1*0x2a+-0x1*0x3dff);const _0xddd2df=new ta(this,_0x3736ec);_0xddd2df['event']&&this['fire']('mousedown',_0xddd2df);}['_handleMov'+'e'](_0x5680ae){const _0x4e6c2d=new ta(this,_0x5680ae);_0x4e6c2d['event']&&(this['fire']('mousemove',_0x4e6c2d),this['_lastX']=_0x4e6c2d['x'],this['_lastY']=_0x4e6c2d['y']);}['_handleWhe'+'el'](_0x361b4e){const _0x34a9bc=new ta(this,_0x361b4e);_0x34a9bc['event']&&this['fire']('mousewheel',_0x34a9bc);}['_getTarget'+'Coords'](_0x1eb2c4){const _0xcac490=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x359586=Math['floor'](_0xcac490['left']),_0x5db181=Math['floor'](_0xcac490['top']);return _0x1eb2c4['clientX']<_0x359586||_0x1eb2c4['clientX']>=_0x359586+this['_target']['clientWidt'+'h']||_0x1eb2c4['clientY']<_0x5db181||_0x1eb2c4['clientY']>=_0x5db181+this['_target']['clientHeig'+'ht']?null:{'x':_0x1eb2c4['clientX']-_0x359586,'y':_0x1eb2c4['clientY']-_0x5db181};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x358259){let _0x41cbe9=-0x106f+0x185a+-0x7eb,_0x55a179=0x76d+0x59*0x26+-0x14a3,_0x44846c=_0x358259['target'];for(;!(_0x44846c instanceof HTMLElement)&&_0x44846c;)_0x44846c=_0x44846c['parentNode'];for(;_0x44846c;)_0x41cbe9+=_0x44846c['offsetLeft']-_0x44846c['scrollLeft'],_0x55a179+=_0x44846c['offsetTop']-_0x44846c['scrollTop'],_0x44846c=_0x44846c['offsetPare'+'nt'];return{'x':_0x358259['pageX']-_0x41cbe9,'y':_0x358259['pageY']-_0x55a179};}class d_{constructor(_0x5c6c8e){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x20ac90=Wc(_0x5c6c8e);this['id']=_0x5c6c8e['identifier'],this['x']=_0x20ac90['x'],this['y']=_0x20ac90['y'],this['target']=_0x5c6c8e['target'],this['touch']=_0x5c6c8e;}}class Kl{constructor(_0x2119ac,_0x4b53cb){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x4b53cb['target'],this['event']=_0x4b53cb,this['touches']=Array['from'](_0x4b53cb['touches'])['map'](_0x1fb4e5=>new d_(_0x1fb4e5)),this['changedTou'+'ches']=Array['from'](_0x4b53cb['changedTou'+'ches'])['map'](_0x1408ed=>new d_(_0x1408ed)));}['getTouchBy'+'Id'](_0x2d1775,_0x48be32){return _0x48be32['find'](_0x23e4c8=>_0x23e4c8['id']===_0x2d1775)||null;}}(function(){const _0x388382=function(){let _0x52a93f;try{_0x52a93f=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x72df66){_0x52a93f=window;}return _0x52a93f;},_0x56a090=_0x388382();_0x56a090['setInterva'+'l'](_0x4104cb,-0x86d*0x1+0xf30+0x8dd);}());class Zl extends me{constructor(_0x1d26bf){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x1d26bf);}['attach'](_0x63cebd){this['_element']&&this['detach'](),this['_element']=_0x63cebd,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x7*-0x2b3+0x14fb*0x1+-0x1*0x27df)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x1929+0x408*0x1+-0x1d30)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x21d*-0x9+0x83*0x1+-0x1*-0x1283)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x19e2+0x1c3e+0x1*-0x361f));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0xdc5+0x1cc8+-0x2a8c)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x1d9a+-0xa9*-0x5+0xd*0x206)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x2481+0x2*0x6da+0x16ce)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0xca3*-0x1+-0x260a+0x1968))),this['_element']=null;}['_handleTou'+'chStart'](_0x536ddc){this['fire']('touchstart',new Kl(this,_0x536ddc));}['_handleTou'+'chEnd'](_0x2d8b9d){this['fire']('touchend',new Kl(this,_0x2d8b9d));}['_handleTou'+'chMove'](_0x3c746d){_0x3c746d['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x3c746d));}['_handleTou'+'chCancel'](_0x1a7c6b){this['fire']('touchcance'+'l',new Kl(this,_0x1a7c6b));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x8e83e6,_0x5ef4ab,_0x14f089){typeof _0x5ef4ab=='function'&&(_0x14f089=_0x5ef4ab,_0x5ef4ab={});const _0x57256c=this['request']('GET',_0x8e83e6,_0x5ef4ab,_0x14f089),{progress:_0x4567d6}=_0x5ef4ab;if(_0x4567d6){const _0x3c7ae1=_0x10fc23=>{_0x10fc23['lengthComp'+'utable']&&_0x4567d6['fire']('progress',_0x10fc23['loaded'],_0x10fc23['total']);},_0x5dd010=_0x21f70d=>{_0x3c7ae1(_0x21f70d),_0x57256c['removeEven'+'tListener']('loadstart',_0x3c7ae1),_0x57256c['removeEven'+'tListener']('progress',_0x3c7ae1),_0x57256c['removeEven'+'tListener']('loadend',_0x5dd010);};_0x57256c['addEventLi'+'stener']('loadstart',_0x3c7ae1),_0x57256c['addEventLi'+'stener']('progress',_0x3c7ae1),_0x57256c['addEventLi'+'stener']('loadend',_0x5dd010);}return _0x57256c;}['post'](_0x1b0d2d,_0xd4a993,_0x4eaf06,_0x404883){return typeof _0x4eaf06=='function'&&(_0x404883=_0x4eaf06,_0x4eaf06={}),_0x4eaf06['postdata']=_0xd4a993,this['request']('POST',_0x1b0d2d,_0x4eaf06,_0x404883);}['put'](_0x276123,_0x735e22,_0x3ccce5,_0x52b882){return typeof _0x3ccce5=='function'&&(_0x52b882=_0x3ccce5,_0x3ccce5={}),_0x3ccce5['postdata']=_0x735e22,this['request']('PUT',_0x276123,_0x3ccce5,_0x52b882);}['del'](_0x3c2e21,_0x511256,_0x223e34){return typeof _0x511256=='function'&&(_0x223e34=_0x511256,_0x511256={}),this['request']('DELETE',_0x3c2e21,_0x511256,_0x223e34);}['request'](_0x453082,_0x466086,_0x556b21,_0x4e1833){let _0x565c57,_0x37e4fa,_0x19f679,_0x18745d=!(0x1714+0x950+-0x1*0x2063);if(typeof _0x556b21=='function'&&(_0x4e1833=_0x556b21,_0x556b21={}),_0x556b21['retry']&&(_0x556b21=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x556b21)),_0x556b21['callback']=_0x4e1833,_0x556b21['async']==null&&(_0x556b21['async']=!(-0x3*-0xaee+-0x1c4b+-0x1*0x47f)),_0x556b21['headers']==null&&(_0x556b21['headers']={}),_0x556b21['postdata']!=null){if(_0x556b21['postdata']instanceof Document)_0x19f679=_0x556b21['postdata'];else{if(_0x556b21['postdata']instanceof FormData)_0x19f679=_0x556b21['postdata'];else{if(_0x556b21['postdata']instanceof Object){let _0x2a0bac=_0x556b21['headers']['Content-Ty'+'pe'];switch(_0x2a0bac===void(0x4a9+0x10c9*-0x1+0xc20)&&(_0x556b21['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x2a0bac=_0x556b21['headers']['Content-Ty'+'pe']),_0x2a0bac){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x19f679='';let _0x476354=!(0x63e*-0x5+0x1c22*-0x1+0x1a6*0x24);for(const _0x5646cf in _0x556b21['postdata'])if(_0x556b21['postdata']['hasOwnProp'+'erty'](_0x5646cf)){_0x476354?_0x476354=!(0xbf*-0x1+-0x11e0+0x10*0x12a):_0x19f679+='&';const _0x462769=encodeURIComponent(_0x5646cf),_0x3a35f2=encodeURIComponent(_0x556b21['postdata'][_0x5646cf]);_0x19f679+=_0x462769+'='+_0x3a35f2;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x2a0bac==null&&(_0x556b21['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x19f679=JSON['stringify'](_0x556b21['postdata']);break;}}else _0x19f679=_0x556b21['postdata'];}}}if(_0x556b21['cache']===!(0x2*0xa57+-0x295+0x182*-0xc)){const _0x118cbe=de();_0x565c57=new Rd(_0x466086),_0x565c57['query']?_0x565c57['query']=_0x565c57['query']+'&ts='+_0x118cbe:_0x565c57['query']='ts='+_0x118cbe,_0x466086=_0x565c57['toString']();}_0x556b21['query']&&(_0x565c57=new Rd(_0x466086),_0x37e4fa=ah(_0x565c57['getQuery'](),_0x556b21['query']),_0x565c57['setQuery'](_0x37e4fa),_0x466086=_0x565c57['toString']());const _0xbbed6e=new XMLHttpRequest();_0xbbed6e['open'](_0x453082,_0x466086,_0x556b21['async']),_0xbbed6e['withCreden'+'tials']=_0x556b21['withCreden'+'tials']!==void(-0x3*-0x50b+0x2018+-0x2f39)?_0x556b21['withCreden'+'tials']:!(0x2*-0x303+-0x1376+0x197d),_0xbbed6e['responseTy'+'pe']=_0x556b21['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x466086);for(const _0x44f007 in _0x556b21['headers'])_0x556b21['headers']['hasOwnProp'+'erty'](_0x44f007)&&_0xbbed6e['setRequest'+'Header'](_0x44f007,_0x556b21['headers'][_0x44f007]);_0xbbed6e['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x453082,_0x466086,_0x556b21,_0xbbed6e);},_0xbbed6e['onerror']=()=>{this['_onError'](_0x453082,_0x466086,_0x556b21,_0xbbed6e),_0x18745d=!(-0x5a6+-0x14e5*-0x1+-0x1*0xf3f);};try{_0xbbed6e['send'](_0x19f679);}catch(_0x43f845){_0x18745d||_0x556b21['error'](_0xbbed6e['status'],_0xbbed6e,_0x43f845);}return _0xbbed6e;}['_guessResp'+'onseType'](_0x20f5b9){const _0xd24f4d=new Rd(_0x20f5b9),_0x3a3e75=xe['getExtensi'+'on'](_0xd24f4d['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x3a3e75)>=0x1a25+0x1999+-0x33be?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3a3e75==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x3a3e75==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x35a6d6){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x35a6d6)>=-0x3a0+0xe*-0x287+0x2702;}['_isBinaryR'+'esponseTyp'+'e'](_0x188187){return _0x188187===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x188187===Oe['ResponseTy'+'pe']['BLOB']||_0x188187===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x88a05d,_0x4d01c5,_0x1b16c7,_0x3c7870){if(_0x3c7870['readyState']===-0x22fa+0x8a7*-0x1+0x2ba5)switch(_0x3c7870['status']){case 0x1*0x18d1+0x1*-0x240a+0xb39*0x1:{_0x3c7870['responseUR'+'L']&&_0x3c7870['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x88a05d,_0x4d01c5,_0x1b16c7,_0x3c7870):this['_onError'](_0x88a05d,_0x4d01c5,_0x1b16c7,_0x3c7870);break;}case-0x5*-0x511+-0xce7+0x1f1*-0x6:case-0x18a6+-0x1e23+0x1286*0x3:case-0x1382+-0x1364+0x27b4:case 0x12ee+0x1e*0xca+-0x296a:{this['_onSuccess'](_0x88a05d,_0x4d01c5,_0x1b16c7,_0x3c7870);break;}default:{this['_onError'](_0x88a05d,_0x4d01c5,_0x1b16c7,_0x3c7870);break;}}}['_onSuccess'](_0x5f2d65,_0x543077,_0x36ccbd,_0x4dc17f){let _0x59b2f1,_0x36daac;const _0x1b3e0f=_0x4dc17f['getRespons'+'eHeader']('Content-Ty'+'pe');_0x1b3e0f&&(_0x36daac=_0x1b3e0f['split'](';')[0x1*0x21b6+0x303+-0x24b9]['trim']());try{this['_isBinaryC'+'ontentType'](_0x36daac)||this['_isBinaryR'+'esponseTyp'+'e'](_0x4dc17f['responseTy'+'pe'])?_0x59b2f1=_0x4dc17f['response']:_0x36daac===Oe['ContentTyp'+'e']['JSON']||_0x543077['split']('?')[-0x13f*0x2+0x1f11+-0x5*0x5b7]['endsWith']('.json')?_0x59b2f1=JSON['parse'](_0x4dc17f['responseTe'+'xt']):_0x4dc17f['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x36daac===Oe['ContentTyp'+'e']['XML']?_0x59b2f1=_0x4dc17f['responseXM'+'L']:_0x59b2f1=_0x4dc17f['responseTe'+'xt'],_0x36ccbd['callback'](null,_0x59b2f1);}catch(_0xc613de){_0x36ccbd['callback'](_0xc613de);}}['_onError'](_0x5d1db8,_0x56d8be,_0x3f2bb9,_0x9a25fd){if(!_0x3f2bb9['retrying']){if(_0x3f2bb9['retry']&&_0x3f2bb9['retries']<_0x3f2bb9['maxRetries']){_0x3f2bb9['retries']++,_0x3f2bb9['retrying']=!(-0x1*0x17c2+-0x1*0x1c9c+0x345e);const _0x1c624a=Y['clamp'](Math['pow'](0x7a7+-0x9*0x4f+0x59*-0xe,_0x3f2bb9['retries'])*Oe['retryDelay'],-0x14b*-0x17+-0xf1*0x1d+-0x27*0x10,_0x3f2bb9['maxRetryDe'+'lay']||-0x9dd*-0x1+-0x23ef+0x2d9a);console['log'](_0x5d1db8+':\x20'+_0x56d8be+'\x20-\x20Error\x20'+_0x9a25fd['status']+('.\x20Retrying'+'\x20in\x20')+_0x1c624a+'\x20ms'),setTimeout(()=>{_0x3f2bb9['retrying']=!(0x1*0x1867+0x2d8*-0x7+-0x47e),this['request'](_0x5d1db8,_0x56d8be,_0x3f2bb9,_0x3f2bb9['callback']);},_0x1c624a);}else _0x3f2bb9['callback'](_0x9a25fd['status']===0x1*-0x2597+-0x50d+0x2aa4?'Network\x20er'+'ror':_0x9a25fd['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x12*-0x1a1+-0x7cf*-0x2+-0x2c8c);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x220341){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x220341;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x5d4058){this['position']['copy'](_0x5d4058);const _0x11296e=this['listener'];_0x11296e&&('positionX'in _0x11296e?(_0x11296e['positionX']['value']=_0x5d4058['x'],_0x11296e['positionY']['value']=_0x5d4058['y'],_0x11296e['positionZ']['value']=_0x5d4058['z']):_0x11296e['setPositio'+'n']&&_0x11296e['setPositio'+'n'](_0x5d4058['x'],_0x5d4058['y'],_0x5d4058['z']));}['setOrienta'+'tion'](_0x1695b1){this['orientatio'+'n']['copy'](_0x1695b1);const _0x494400=this['listener'];if(_0x494400){const _0x15e164=_0x1695b1['data'];'forwardX'in _0x494400?(_0x494400['forwardX']['value']=-_0x15e164[-0xf*-0x13a+0x1cfc+-0x2f5a],_0x494400['forwardY']['value']=-_0x15e164[0x1*-0x2ad+0x2*0x1101+-0x1f4c],_0x494400['forwardZ']['value']=-_0x15e164[-0x9f*0x17+0x1c25+-0xdd2*0x1],_0x494400['upX']['value']=_0x15e164[0x1111*-0x1+-0x10ed+0x5ab*0x6],_0x494400['upY']['value']=_0x15e164[0x2*-0x7cd+0x1dd7+0x104*-0xe],_0x494400['upZ']['value']=_0x15e164[-0x2217+-0x21*0xbf+-0x7*-0x864]):_0x494400['setOrienta'+'tion']&&_0x494400['setOrienta'+'tion'](-_0x15e164[0xf1a+0x1e5d+-0x2d6f],-_0x15e164[-0x1337*0x1+-0x10*0x1f7+0x32b0],-_0x15e164[-0x1b39+0x899+0x12aa],_0x15e164[0x1*-0x1e70+-0x3*0x4bd+0x1*0x2cab],_0x15e164[-0x205b+-0x233f+0x439f],_0x15e164[0x71a*-0x1+0x1180+-0xa60]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x547953=this['_manager']['context'];return _0x547953?_0x547953['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x1225+-0x4*0x7ad+0x30da),this['listener']=new Cw(this),this['_volume']=-0x16c*0x5+0x418*0x1+0x305;}set['volume'](_0x314346){_0x314346=Y['clamp'](_0x314346,0xd*0x1c9+-0x1b10+0x3db,-0xcf*0x9+-0x25*-0xf6+-0x1c46),this['_volume']=_0x314346,this['fire']('volumechan'+'ge',_0x314346);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x1155+0x482*0x6+-0x9b7),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0xf4f+-0x11a2+0x254),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x4ab73f;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x4ab73f=this['_context'])==null||_0x4ab73f['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x2ac8e0=this['_context']['createBuff'+'erSource']();_0x2ac8e0['buffer']=this['_context']['createBuff'+'er'](0x25ea+0x1697*0x1+-0x3c80,-0x1*0xebf+0x1d75+0xfb*-0xf,this['_context']['sampleRate']),_0x2ac8e0['connect'](this['_context']['destinatio'+'n']),_0x2ac8e0['start'](-0x1*0x709+0x1*-0x84c+0x9d*0x19),_0x2ac8e0['onended']=_0xee33e9=>{_0x2ac8e0['disconnect'](0x1ad0+0x16f7+-0x31c7),this['fire']('resume');};},_0x12ba2f=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x12ba2f);})['catch'](_0x5041fa=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x5041fa);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x189be4=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x189be4);})['catch'](_0x18e750=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x18e750);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x3175f1=>{window['addEventLi'+'stener'](_0x3175f1,this['_unlockHan'+'dlerFunc'],!(-0xf26*0x2+0x1572+0x8db));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x2c41ff=>{window['removeEven'+'tListener'](_0x2c41ff,this['_unlockHan'+'dlerFunc'],!(-0x6b8*-0x1+0x766+-0xe1d));});}}class Mw{constructor(_0x3a11f5){h(this,'audio'),h(this,'buffer'),_0x3a11f5 instanceof Audio?this['audio']=_0x3a11f5:this['buffer']=_0x3a11f5;}get['duration'](){let _0x164a10=0x16a*0x6+-0x77*0x35+0x1027;return this['buffer']?_0x164a10=this['buffer']['duration']:this['audio']&&(_0x164a10=this['audio']['duration']),_0x164a10||-0x17df+-0x8b*-0x15+-0x13*-0xa8;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0x2*0x115f+-0x2135*-0x1+-0x43f3,fn=-0x7a*-0xf+-0x211f*-0x1+-0x2844,Hs=0x3b*-0x2d+-0x2*0x1189+0x2d73;function es(_0x2f2697,_0x11dace){return _0x2f2697%_0x11dace||-0x651*0x5+-0x1268+0x43*0xbf;}class As extends me{constructor(_0x33b21a,_0xfc13f5,_0x321c80){super(),h(this,'source',null),(this['_manager']=_0x33b21a,this['_volume']=_0x321c80['volume']!==void(0x148*0xc+-0x244a+-0xa75*-0x2)?Y['clamp'](Number(_0x321c80['volume'])||0x3*0x943+-0x1ea+-0x25*0xb3,-0x142f+-0xaea+0x1f19,0x480+0xa*0x311+-0x2329):0x1f67*0x1+-0x5fa+-0xcb6*0x2,this['_pitch']=_0x321c80['pitch']!==void(0x1271+-0x1bd8+0x967)?Math['max'](-0xe56+0x81b*0x1+0x37*0x1d+0.01,Number(_0x321c80['pitch'])||-0xe*0x6+-0x1edb*-0x1+-0x1e87):-0x1a6e+-0x1*0x133f+-0x2*-0x16d7,this['_loop']=!!(_0x321c80['loop']!==void(0xf95*-0x1+-0x21d1*0x1+0x3166)&&_0x321c80['loop']),this['_sound']=_0xfc13f5,this['_state']=Hs,this['_suspended']=!(0x33*-0x27+-0x19*0x91+0x15ef),this['_suspendEn'+'dEvent']=-0x1*-0x701+-0x1391+0x4*0x324,this['_suspendIn'+'stanceEven'+'ts']=!(0xa49+-0xf87+-0x53f*-0x1),this['_playWhenL'+'oaded']=!(0x203+0x9b7+-0xbba),this['_startTime']=Math['max'](-0x1*0xde9+-0x35*0x13+0x11d8,Number(_0x321c80['startTime'])||0x1ab7+0x3a*0xa7+0x5*-0xce9),this['_duration']=Math['max'](0x1162+0x194a+-0x2aac,Number(_0x321c80['duration'])||0x250*-0x4+-0x3*0xbcb+-0x1c9*-0x19),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x321c80['onPlay'],this['_onPauseCa'+'llback']=_0x321c80['onPause'],this['_onResumeC'+'allback']=_0x321c80['onResume'],this['_onStopCal'+'lback']=_0x321c80['onStop'],this['_onEndCall'+'back']=_0x321c80['onEnd'],Dl()?(this['_startedAt']=0x257d+0xec*-0x3+0x3*-0xb93,this['_currentTi'+'me']=-0xac0+-0x1699+0x2159,this['_currentOf'+'fset']=0x3c8*0x4+0x85d*-0x1+-0x6c3,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x859+0x2*0xc83+-0x10ac),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1f5*0x12+0xa*-0x18a+-0x13d5),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x57d929){if(!(_0x57d929<-0x20ef*0x1+-0x841*-0x1+0x18ae)){if(this['_state']===Zt){const _0x56752f=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1769+0x1d18+-0x5af),this['stop'](),this['_startOffs'+'et']=_0x57d929,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x56752f;}else this['_startOffs'+'et']=_0x57d929,this['_currentTi'+'me']=_0x57d929;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0xb9b*-0x1+-0x7*0x1a7+-0x4*-0x5cb:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x32d107){this['_duration']=Math['max'](0x99*0x11+0x27*-0x2f+-0x300,Number(_0x32d107)||0x9*0x183+-0x11e4+-0x449*-0x1);const _0x3313b7=this['_state']===Zt;this['stop'](),_0x3313b7&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x651+-0x1*0xa61+-0x68*-0xa;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x23ac83){this['_loop']=!!_0x23ac83,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x3fdb76){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x3fdb76)||0x17*0x162+0xcf9+-0x2cc7,-0x14e1+0x269f+-0x11be+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x874eca){this['_sound']=_0x874eca,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x303236){this['_startTime']=Math['max'](-0x1*0x1c09+0x1766+0x4a3,Number(_0x303236)||-0x247d*0x1+-0x1122+0x359f);const _0x2719ce=this['_state']===Zt;this['stop'](),_0x2719ce&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x5b0fab){_0x5b0fab=Y['clamp'](_0x5b0fab,0x130a+0x2*0xb9f+0x1ec*-0x16,0x25c9+-0x7*-0x63+-0x287d),this['_volume']=_0x5b0fab,this['gain']&&(this['gain']['gain']['value']=_0x5b0fab*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1b20+0x89f+-0x23bf){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x192a*0x1+-0x64d*0x4+0xa),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x7*0x28c+0xe42+0x393),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1221+0x12a6+0x1*-0x84),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1*0xf21+-0x20ed*0x1+-0x3*-0x1005):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1ae3+0x222a*0x1+-0x3d0d),!(0x199c+-0x1*-0x497+-0xf19*0x2)):(this['_playAudio'+'Immediate'](),!(0x7f3+0x1bdc+-0x23cf));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xfa0+0x452+0x243*0x5),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x45bb20=es(this['_startOffs'+'et'],this['duration']);_0x45bb20=es(this['_startTime']+_0x45bb20,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x2137+-0x456*0x7+-0x1*-0x3f91,_0x45bb20,this['_duration']):this['source']['start'](0x475*0x3+0x1410*-0x1+0x6b1,_0x45bb20),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x447*0x1+0x1d0*-0x2+0x7e7,this['_currentOf'+'fset']=_0x45bb20,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x2e7*0xd+0x3af*-0x4+-0x16fe),this['_state']!==Zt?!(-0xa*0x32a+-0x1ea5+0xe*0x473):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x18ae*-0x1+-0x1*0xeb7+0x2765),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1614+-0x25ae+0x2*0x1de1));}['resume'](){if(this['_state']!==fn)return!(0x923+-0x2375+-0x17*-0x125);let _0x5619ea=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5619ea=es(this['_startOffs'+'et'],this['duration']),_0x5619ea=es(this['_startTime']+_0x5619ea,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x1c45+-0xabd*-0x1+0x1188,_0x5619ea,this['_duration']):this['source']['start'](-0x200e+-0x1d2c+0x3d3a,_0x5619ea),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5619ea,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1*0xbf9+-0x1f3*0x1+-0xa05),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0xcd3+-0xb72+-0x161*0x1);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x232f+0x98e+0x11*0x182),this['_state']===Hs)return!(0xd*0xe3+0x1*-0xdf3+0x26d);const _0x2ae8d5=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1268+0x19ce+-0x766,this['_currentTi'+'me']=0x594*-0x6+0x1d52+0x426,this['_currentOf'+'fset']=-0x9*0x25+-0x592+-0x6df*-0x1,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x2ae8d5&&this['source']&&this['source']['stop'](-0x1786*0x1+0x1*0x1a54+0x2ce*-0x1),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x1*0xa63+-0x2404+0x2e67);}['setExterna'+'lNodes'](_0x14d1d9,_0x40c442){if(!_0x14d1d9){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x40c442||(_0x40c442=_0x14d1d9);const _0x13c2a9=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x14d1d9&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x13c2a9),this['_firstNode']=_0x14d1d9,this['_connector'+'Node']['connect'](_0x14d1d9)),this['_lastNode']!==_0x40c442&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x13c2a9),this['_lastNode']=_0x40c442,this['_lastNode']['connect'](_0x13c2a9));}['clearExter'+'nalNodes'](){const _0x50272e=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x50272e),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x50272e);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x41d4a7=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x41d4a7['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0x1*-0x29+0xaba*0x2+-0x154b),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x37e*-0x4+0xfa0+-0x1a7*0x1):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x2*0x371+-0x551*0x5+-0x132*-0x1c),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x26*0x79+0x402+-0x128*0x13));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x2597+0x39*0xb+-0x1*-0x2325):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0x2315+-0x12*0x97+-0x492*-0xa),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x20c9+0xb1b*0x1+0x35*-0xd4));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x22ea+-0x6bb*0x1+-0xde2*-0x3):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x4*-0x635+0x2e7+-0xd*0x222),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x7*0x58c+-0xf7e+-0x11*-0x332));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0x1e6a+-0x49b*-0x1+0x76*0x38):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xc62+0x2359*0x1+0x2*-0x17dd),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0xac8+-0x2*0xbd4+-0x1*-0xce0));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x38e+-0x5*0xec+0x6*0x2d);let _0x537725=es(this['_startOffs'+'et'],this['duration']);_0x537725=es(this['_startTime']+_0x537725,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x537725;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x119d+0x1a11*-0x1+-0x2baf*-0x1),this['source']=this['_sound']['audio']['cloneNode'](!(0x28*0x1a+0x5*0x403+-0x181f)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2d9f90){_0x2d9f90=Y['clamp'](_0x2d9f90,-0x1*0x115f+0x8ce+0x891,0x463*0x1+-0x1*-0x87+-0x4e9),this['_volume']=_0x2d9f90,this['source']&&(this['source']['volume']=_0x2d9f90*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x5cf326){this['_pitch']=Math['max'](Number(_0x5cf326)||0x1*-0x1cb8+-0x7*-0x315+0x1*0x725,0x2282*0x1+-0x11ad+-0x10d5+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x240bac){this['stop'](),this['_sound']=_0x240bac;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?-0x2*-0x43e+-0x1f*0x11b+0x19c9:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x34c7a7){_0x34c7a7<0x134a+0x2056+-0x19d*0x20||(this['_startOffs'+'et']=_0x34c7a7,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x34c7a7,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0xb4a*0x1+-0x2bc4+0x7*0xd72;class sn extends As{constructor(_0x509cf4,_0x2ba73a,_0x2d81f7={}){super(_0x509cf4,_0x2ba73a,_0x2d81f7),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x2d81f7['position']&&(this['position']=_0x2d81f7['position']),this['maxDistanc'+'e']=_0x2d81f7['maxDistanc'+'e']!==void(-0x48+0xf31*-0x1+-0xe9*-0x11)?Number(_0x2d81f7['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x2d81f7['refDistanc'+'e']!==void(-0x2aa+0x9*0x200+0x12e*-0xd)?Number(_0x2d81f7['refDistanc'+'e']):0x494*0x8+-0x1*-0x2d1+-0x2770,this['rollOffFac'+'tor']=_0x2d81f7['rollOffFac'+'tor']!==void(-0x10c*0x1a+0xe8*0x3+0x188*0x10)?Number(_0x2d81f7['rollOffFac'+'tor']):0x1a*-0x12+-0x1b29+-0x1*-0x1cfe,this['distanceMo'+'del']=_0x2d81f7['distanceMo'+'del']!==void(0x1*0x1c86+0x19*-0x3a+-0x16dc)?_0x2d81f7['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4902bc){this['_position']['copy'](_0x4902bc);const _0x47c87c=this['panner'];'positionX'in _0x47c87c?(_0x47c87c['positionX']['value']=_0x4902bc['x'],_0x47c87c['positionY']['value']=_0x4902bc['y'],_0x47c87c['positionZ']['value']=_0x4902bc['z']):_0x47c87c['setPositio'+'n']&&_0x47c87c['setPositio'+'n'](_0x4902bc['x'],_0x4902bc['y'],_0x4902bc['z']);}get['position'](){return this['_position'];}set['velocity'](_0x2724a3){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x2724a3);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2fe300){this['panner']['maxDistanc'+'e']=_0x2fe300;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x53aef0){this['panner']['refDistanc'+'e']=_0x53aef0;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x1b4547){this['panner']['rolloffFac'+'tor']=_0x1b4547;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x3e6fd8){this['panner']['distanceMo'+'del']=_0x3e6fd8;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x4d0224,_0x242c21,_0x307b4a,_0x4de7a2,_0x15d307,_0x56c017){l=l['sub2'](_0x4d0224,_0x242c21);const _0x5b3250=l['length']();if(_0x5b3250<_0x307b4a)return-0x1*-0x261a+-0x141e+-0x11fb;if(_0x5b3250>_0x4de7a2)return 0x22fc+0x6b*0x43+-0x2b*0x177;let _0x478d39=-0x2351+0x1208*-0x2+-0x3*-0x17cb;return _0x56c017===Vp?_0x478d39=-0x1fd+0xcc8+0x1*-0xaca-_0x15d307*(_0x5b3250-_0x307b4a)/(_0x4de7a2-_0x307b4a):_0x56c017===bw?_0x478d39=_0x307b4a/(_0x307b4a+_0x15d307*(_0x5b3250-_0x307b4a)):_0x56c017===Aw&&(_0x478d39=Math['pow'](_0x5b3250/_0x307b4a,-_0x15d307)),Y['clamp'](_0x478d39,0x845+-0x1*0x17c6+0x15*0xbd,0x2383+0x1979+0xe9*-0x43);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x13b39f){if(this['_position']['copy'](_0x13b39f),this['source']){const _0x4b16e3=this['_manager']['listener']['getPositio'+'n'](),_0x4e23b7=t(_0x4b16e3,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1147ec=this['volume'];this['source']['volume']=_0x1147ec*_0x4e23b7*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x160bf6){this['_maxDistan'+'ce']=_0x160bf6;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x1a69da){this['_refDistan'+'ce']=_0x1a69da;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x20e762){this['_rollOffFa'+'ctor']=_0x20e762;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x334bad){this['_distanceM'+'odel']=_0x334bad;}});}const Gp=0x1*-0x19a+-0x14f0+0x168a,Hp=-0x54*-0x33+-0x1a8*-0x2+-0x2dd*0x7,Zs=0x1b3a+-0x802+-0x1336,Cs=0xd38+0x1319*-0x1+0x5e4,Gn=-0x7*-0x4a3+-0x584+-0x1aed,Wp=0x36f+-0x1*0x2165+0x1dfb,Ed=-0x541*0x1+-0x1f43+0x248a,$p=0x3*-0x51e+-0x2*0x557+0x1a0f,Xp=0x15b9+-0x1*0x1733+-0x1*-0x182,qp=0x365*0x2+0x4e9*-0x2+0x1*0x311,jp=0x598*-0x2+0x1a28+0x6*-0x27d,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x7*0x13d+-0x116b+0x1a16,Yp=0x80b+0x2316+0x7*-0x629,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0x143b+-0x3*-0x897+0x2*-0x2c5,Ky=0x1*0x11ea+-0x16*0x5c+0x351*-0x3,er=-0x229+0x1575*0x1+-0x104*0x13,ps=0x2f4+0x2325+-0x2618,Kp=0x611+-0x61*-0x33+0x13*-0x156,Zp=0x26e2+-0x1dc6+-0x919,Il=0x189b+0x1*-0x19b6+0x11f,ve=0xc5*-0x2+0x2187+-0x1ffd,Ke=0x1290+-0x9e8+-0x8a7,Ze=-0x192a+-0x968+-0x2*-0x114a,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x223c+-0xff5+0x3295,Ys=-0x1f00+-0x5*-0x387+0xd5d,Zy=0x449+0xcd*-0x5+0x1*-0x47,Qy=0x1147*-0x2+-0x1396+0x3626*0x1,Jy=0x6d6+-0x2f*-0xad+-0x2696,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0x1c69+0xdbd*-0x1+0x139*-0xc,ev=0x10d1+-0xe0d+-0x2c3,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0xb*-0xcb+-0x255e+-0x1*-0x1ca5,au=-0x8*-0x4a5+-0xc6e+-0x18b8,Jp=-0x15*-0xae+0x596+-0x13d9,kw=0x12*-0x106+-0xa46+0x1cb6,tv=0x11db+0x189f+-0x2a75,al=-0x211b+-0x1386+0x34a7,sv=0x267e+0x571*-0x2+-0x1b95,iv=0x1cd9*0x1+-0x3f2*0x4+0x2f*-0x47,Uw=0x13eb+0x1*0xc6f+-0x2051*0x1,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x2628+0x48e*-0x5+-0xf62)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x500+-0x1*0x1575+0x1a75)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x3*0x2ef+-0x15ff+0x1*0xd32)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(0x1*-0x1763+0x1a*-0x12e+0x360f)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(-0x96c*0x4+-0x181*-0x4+-0x4*-0x7eb)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x4c0*-0x3+0x2cf*-0x1+-0xb71*0x1)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0xd01+0x94e+0x3b3*0x1)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x2*-0xd46+-0xb*-0x1e5+0x5b5)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x21d*-0x11+-0x18ae+0xc1f*0x5)}]]),Bw=0x2541+-0xd*-0xe9+0x3017*-0x1,em=0x1768+0x1525+-0x2c8c,nu=0x19f*0x17+-0x108d*0x1+-0x14bc,rv=-0x1e98+0x71d*0x1+0x177b,ai=-0x160d+-0x69c+0x1ca9,zw=0x1daf+0x2605*0x1+0x1691*-0x3,yh=0x1dc9+0x12e+-0x1ef7,Vw=0x1*0x1403+0x1f3c+0x752*-0x7,ni=-0x5f*0x39+-0xc86+0x21ad,En=0x1e34+-0x1700+-0x733,un=0x10f4+0x1ab0+-0x2ba4,$r=-0x1894+0x16c8+0x1cd,Jl=0x2*-0x1307+-0x9f*-0x1b+0x3*0x719,tm=0x37b+-0x1*-0x1a51+-0x1dcc*0x1,av=0x8d2*-0x4+0x883+0x17*0x12a,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x14c3+0x22f4+0xe31*-0x1,Xc=0x14*0x46+0x2462*-0x1+0x1*0x1eeb,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x253b+-0xbc7*-0x2+-0x3*-0x48f,UU=-0x57f*-0x5+-0x1*0x2195+0x61b,BU=-0x7ea+-0xf45*0x1+0x1731,zU=-0x4*0x86c+-0x11*0x51+-0xa4*-0x3d,VU=0x2040+0x1*0x1951+-0x398d,GU=0x708*-0x5+-0x541+-0x2e*-0xe1,nv=0x5*-0x78f+0xe97+0x3df*0x6,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x1*0x573+-0x1*0x17a7+0xa*0x2e9,bd=0x20fc*-0x1+0x3e5*0x9+-0x210,cv=0x1439+0x41+-0xa*0x20c,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x53*-0x1f+0x1*0x724+-0x19*0xb0,nl=-0x1e88+0x196c+0x83*0xa,nm=-0x21d1+0x1faf*-0x1+0x4184,dv=0x1b5c+0x1*-0x68f+-0x14c5,fv=-0x70*0x4c+0x4*-0x42b+0x31fc,ol=0x175*0x17+-0x89f*-0x1+-0x2a02,ou=-0x4+-0x9af+-0x9*-0x11b,uv=-0x236*-0x1+0x1f1*0xf+-0x1ed5,Eh=-0x226a+-0x38d+0x1db*0x15,om=0xac6+0xbf+-0x1*0x985,ll=-0x4*0x69a+0x511*-0x2+0x288a,cl=0x1977+0x2504+-0x3*0x1229,pv=-0x1b*-0x137+-0x19e5+0x918,hl=0x35e0+0xc83*-0x2+0x326,qc=0x90*-0x20+-0x5633+0x1f*0x56d,Ps=0x3*0x3be+-0x3a0+-0x79a,xr=0x59*0x6b+0x26d0+0x6*-0xcab,lm=0xeff*0x2+-0x653+-0x17a9,Ss=0x1b2+-0x1*-0x18b3+-0x1a64,di=-0x13*-0xef+-0x110b*-0x1+-0x22c6*0x1,fi=-0x4a*-0x39+-0xd*-0x166+-0x22a4,Aa=-0x1*-0xa84+0x206a+-0x9d*0x46,Rl=0x1758+-0x3*-0x135+-0x1*0x1af6,cm=-0xee6+0x1*0x1d92+-0xeaa,Zn=0x2043+0xc25*-0x1+-0x141b,ci=-0x95*0xf+-0x1*-0x43f+-0x47c*-0x1,Pt=-0x1b2*-0x14+0x1a7d+-0x3c64,Mt=0x3*-0x427+-0x1*0x136d+-0xff2*-0x2,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0x10*-0x23d+-0x26a8+-0xee5*-0x5,ec=-0xe5a+0x13*0x1ba+0x4*-0x49d,Yc=-0x25cd*-0x1+0x15ef+-0x3bbc,jw=-0xd1f*0x2+0x18d*-0x1+0xde6*0x2,Yw=0x1aaf+0x244b*0x1+-0x3ef8,m_=0x1*0xb51+-0xfb*0xb+-0x7*0x13,Kw=-0x486+0x4f6+-0x1*0x6c,Zw=0x1cb1*0x1+-0x374*0x1+-0x1938,hm=-0x1976+-0x20b*0xa+0x2de4,lu=0x17*-0x56+0x58f*-0x5+0x11c3*0x2,Ce=0x1890+0x24b9+0x21d*-0x1d,je=0xcd8+-0x2d5+-0xa02,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x1820f6,_0x352bc3,_0x488e75){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x1820f6,this['bindGroupF'+'ormats'][rl]=_0x352bc3,this['vertexForm'+'at']=_0x488e75);}['hasUniform'](_0x2c8ff3){for(let _0x26d756=0x16a3+-0x1f3*0x14+0x1059;_0x26d756<this['uniformFor'+'mats']['length'];_0x26d756++){const _0x6f7c77=this['uniformFor'+'mats'][_0x26d756];if(_0x6f7c77!=null&&_0x6f7c77['get'](_0x2c8ff3))return!(0x473+0x1*-0x5b3+-0x5*-0x40);}return!(0x2d4+0x1*-0x5e5+0x6*0x83);}['hasTexture'](_0x2e194f){for(let _0x272e14=-0x136a+0x16c6+0x2*-0x1ae;_0x272e14<this['bindGroupF'+'ormats']['length'];_0x272e14++){const _0x1ea4cb=this['bindGroupF'+'ormats'][_0x272e14];if(_0x1ea4cb!=null&&_0x1ea4cb['getTexture'](_0x2e194f))return!(-0x925*-0x1+0xe42+0x7cd*-0x3);}return!(-0x71*-0x17+-0x1bfe+-0x8ec*-0x2);}['getVertexE'+'lement'](_0x26daa3){var _0x398acd;return(_0x398acd=this['vertexForm'+'at'])==null?void(-0x26*0xe9+-0x94+-0xe*-0x283):_0x398acd['elements']['find'](_0xf1f617=>_0xf1f617['name']===_0x26daa3);}['generateKe'+'y'](_0x361675){var _0x228d2f;let _0x2d4552=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x361675['isWebGPU']&&(_0x2d4552+=(_0x228d2f=this['vertexForm'+'at'])==null?void(0x13be+-0x2164+-0x2*-0x6d3):_0x228d2f['shaderProc'+'essingHash'+'String']),_0x2d4552;}}const gv=new Kt();function Hn(_0x1a2af5){const _0x150f30=gv['get'](_0x1a2af5);return w['assert'](_0x150f30),_0x150f30;}function cE(_0x45b4ae,_0x4a0254){w['assert'](_0x4a0254),gv['get'](_0x45b4ae,()=>_0x4a0254);}class ya{static['definesHas'+'h'](_0x2099cb){const _0x11cf47=Array['from'](_0x2099cb)['sort']((_0x4a86e7,_0x28eb4e)=>_0x4a86e7[-0x122a+-0xd6a+0x1f94]>_0x28eb4e[0x4b*0x45+0x1*0x11d1+-0x2608]?0x1c5f+-0x334+-0x192a:-(0x21dc+0xa1+-0x227c));return hi(JSON['stringify'](_0x11cf47));}}const hE=new Kt();class dE{constructor(_0x5015f9,_0x31fb7b,_0x471859={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x5015f9),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5015f9),this['name']=_0x5015f9,this['index']=_0x31fb7b,Object['assign'](this,_0x471859),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x4a1657;this['isShadow']?_0x4a1657='SHADOW':this['isForward']?_0x4a1657='FORWARD':this['index']===Zn&&(_0x4a1657='PICK'),this['defines']['set'](_0x4a1657+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0x1f25+0xccd+-0x2bf2);const _0x35c01a=(_0x3ca740,_0x17a384,_0x4c6288)=>{const _0x17316b=this['allocate'](_0x3ca740,_0x4c6288);w['assert'](_0x17316b['index']===_0x17a384);};_0x35c01a('forward',Aa,{'isForward':!(-0x12fd+0x4a9*-0x1+0x17a6)}),_0x35c01a('prepass',Rl),_0x35c01a('shadow',cm),_0x35c01a('pick',Zn);}static['get'](_0x410a59){return w['assert'](_0x410a59),hE['get'](_0x410a59,()=>new Si());}['allocate'](_0x2fdfa0,_0x199348){let _0x392cc1=this['passesName'+'d']['get'](_0x2fdfa0);return _0x392cc1===void(-0x2288+-0x11ba+0x3442)&&(_0x392cc1=new dE(_0x2fdfa0,this['nextIndex'],_0x199348),this['passesName'+'d']['set'](_0x392cc1['name'],_0x392cc1),this['passesInde'+'xed'][_0x392cc1['index']]=_0x392cc1,this['nextIndex']++),_0x392cc1;}['getByIndex'](_0x5302f4){const _0x1e2ac2=this['passesInde'+'xed'][_0x5302f4];return w['assert'](_0x1e2ac2),_0x1e2ac2;}['getByName'](_0x3091b9){return this['passesName'+'d']['get'](_0x3091b9);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0xda8+0x1cb+0xbde)),h(this,'_key','');}['set'](_0xc5d4f2,_0x2a8d0e){return(!this['has'](_0xc5d4f2)||this['get'](_0xc5d4f2)!==_0x2a8d0e)&&this['markDirty'](),super['set'](_0xc5d4f2,_0x2a8d0e);}['add'](_0xdeda3){for(const [_0x33dd88,_0x74e9fc]of Object['entries'](_0xdeda3))this['set'](_0x33dd88,_0x74e9fc);return this;}['delete'](_0x5ee438){const _0xd1d394=this['has'](_0x5ee438),_0x92cf16=super['delete'](_0x5ee438);return _0xd1d394&&_0x92cf16&&this['markDirty'](),_0x92cf16;}['clear'](){this['size']>-0xc31*-0x1+-0x352*-0x1+-0xf83&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0x244a*-0x1+0x2067*0x1+-0x3e3*-0x1),this['_keyDirty']=!(-0x5fb*0x2+0x1*-0x1ef1+0x2ae7);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x1edc+-0xb4c+-0x3*0x685);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x43*-0xa+0x769+-0x4ca*0x1),this['_key']=Array['from'](this['entries']())['sort'](([_0x327cc7],[_0x990ab0])=>_0x327cc7<_0x990ab0?-(-0xc8f+-0x1ab8+0x2748):_0x327cc7>_0x990ab0?-0x6f1*-0x1+-0x503*-0x7+0x1f*-0x15b:0xa1*-0x25+0x1*0x1d45+-0x600*0x1)['map'](([_0x52bfd9,_0x435e9d])=>_0x52bfd9+'='+hi(_0x435e9d))['join'](',')),this['_key'];}['copy'](_0x10fc3d){this['clear']();for(const [_0x2b94fd,_0x29a838]of _0x10fc3d)this['set'](_0x2b94fd,_0x29a838);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x13c70b,_0x2ef443=Fe){const _0x323a0c=fE['get'](_0x13c70b,()=>new Pe());return _0x2ef443===Fe?_0x323a0c['glsl']:_0x323a0c['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0xad7*0x1+-0xbb+-0x50e*0x2||this['wgsl']['size']>-0xd6e+-0x11e0+0x1f4e*0x1;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x34b3c9){return this['version']=_0x34b3c9['version'],this['glsl']['copy'](_0x34b3c9['glsl']),this['wgsl']['copy'](_0x34b3c9['wgsl']),this;}}class bh{static['merge'](..._0x4c2fed){const _0x228a64=new Map(_0x4c2fed[-0x253f*0x1+0x1fdf+0x158*0x4]??[]);for(let _0x12abbd=-0x653*-0x1+-0x3*-0xbf7+-0x2a37;_0x12abbd<_0x4c2fed['length'];_0x12abbd++){const _0x3dee63=_0x4c2fed[_0x12abbd];if(_0x3dee63){for(const [_0x902055,_0x40660c]of _0x3dee63)_0x228a64['set'](_0x902055,_0x40660c);}}return _0x228a64;}}class uE extends ya{constructor(_0x102275,_0x13a3b6){super(),this['key']=_0x102275,this['shaderDefi'+'nition']=_0x13a3b6;}['generateKe'+'y'](_0xc15dd8){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x3a1b16,_0x2da747){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x297889,_0x22f187){const _0x32b5db=Hn(_0x297889);let _0x4e5895=_0x32b5db['getCachedS'+'hader'](_0x22f187['uniqueName']);if(!_0x4e5895){const _0x28b7ea=_0x297889['isWebGPU']&&(!!_0x22f187['vertexWGSL']||!!_0x22f187['vertexChun'+'k'])&&(!!_0x22f187['fragmentWG'+'SL']||!!_0x22f187['fragmentCh'+'unk']),_0xb89222=Pe['get'](_0x297889,_0x28b7ea?it:Fe),_0x382244=_0x22f187['vertexChun'+'k']?_0xb89222['get'](_0x22f187['vertexChun'+'k']):_0x28b7ea?_0x22f187['vertexWGSL']:_0x22f187['vertexGLSL'],_0x5b97fc=_0x22f187['fragmentCh'+'unk']?_0xb89222['get'](_0x22f187['fragmentCh'+'unk']):_0x28b7ea?_0x22f187['fragmentWG'+'SL']:_0x22f187['fragmentGL'+'SL'];w['assert'](_0x382244,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x22f187),w['assert'](_0x5b97fc,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x22f187);const _0xa1db29=bh['merge'](_0xb89222,_0x22f187['fragmentIn'+'cludes']),_0x53b27c=bh['merge'](_0xb89222,_0x22f187['vertexIncl'+'udes']);_0x4e5895=new qy(_0x297889,Jt['createDefi'+'nition'](_0x297889,{'name':_0x22f187['uniqueName'],'shaderLanguage':_0x28b7ea?it:Fe,'attributes':_0x22f187['attributes'],'vertexCode':_0x382244,'fragmentCode':_0x5b97fc,'useTransformFeedback':_0x22f187['useTransfo'+'rmFeedback'],'vertexIncludes':_0x53b27c,'vertexDefines':_0x22f187['vertexDefi'+'nes'],'fragmentIncludes':_0xa1db29,'fragmentDefines':_0x22f187['fragmentDe'+'fines'],'fragmentOutputTypes':_0x22f187['fragmentOu'+'tputTypes']})),_0x32b5db['setCachedS'+'hader'](_0x22f187['uniqueName'],_0x4e5895);}return _0x4e5895;}static['getCoreDef'+'ines'](_0x556b9b,_0x428f07){const _0x43c0a2=new Map(_0x556b9b['defines']);return _0x428f07['cameraShad'+'erParams']['defines']['forEach']((_0xbbb9f2,_0x38cc56)=>_0x43c0a2['set'](_0x38cc56,_0xbbb9f2)),Si['get'](_0x428f07['device'])['getByIndex'](_0x428f07['pass'])['defines']['forEach']((_0x4ddacc,_0x1f07e6)=>_0x43c0a2['set'](_0x1f07e6,_0x4ddacc)),_0x43c0a2;}static['processSha'+'der'](_0xae5e94,_0x203dd3){w['assert'](_0xae5e94);const _0x423745=_0xae5e94['definition'],_0xe0f5f3=(_0x423745['name']??'shader')+'-id-'+_0xae5e94['id'],_0x2c75f7=new uE(_0xe0f5f3,_0x423745),_0x17092a='shader',_0xd67ad0=Hn(_0xae5e94['device']);w['assert'](!_0xd67ad0['isRegister'+'ed'](_0x17092a)),_0xd67ad0['register'](_0x17092a,_0x2c75f7);const _0x1e983f=_0xd67ad0['getProgram'](_0x17092a,{},_0x203dd3);return _0xd67ad0['unregister'](_0x17092a),_0x1e983f;}static['addScreenD'+'epthChunkD'+'efines'](_0x16a74a,_0x37ac5a,_0x232802){_0x37ac5a['sceneDepth'+'MapLinear']&&_0x232802['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x16a74a['textureFlo'+'atRenderab'+'le']&&_0x232802['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0xde*0x1+0x1625*0x1+-0x1*0x1546)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x2274b6){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x1fe0f9=_0x2274b6['device'];if(this['shader']=_0x2274b6,w['assert'](_0x2274b6),_0x1fe0f9['supportsUn'+'iformBuffe'+'rs']){const _0x159c64=new Ad();this['shader']=$t['processSha'+'der'](_0x2274b6,_0x159c64);const _0xd82e18=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0xd82e18&&(this['uniformBuf'+'fer']=new zp(_0x1fe0f9,_0xd82e18,!(-0x1b*0x7+-0x24db+0x2599)));const _0x557a46=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x557a46),this['bindGroup']=new Up(_0x1fe0f9,_0x557a46),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5f2db5,_0x349f89;(_0x5f2db5=this['uniformBuf'+'fer'])==null||_0x5f2db5['destroy'](),this['uniformBuf'+'fer']=null,(_0x349f89=this['bindGroup'])==null||_0x349f89['destroy'](),this['bindGroup']=null;}['render'](_0xe04e5b,_0x568d4e){const _0x429828=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x429828,'QuadRender'),_0xe04e5b&&(so['set'](_0x429828['vx'],_0x429828['vy'],_0x429828['vw'],_0x429828['vh']),io['set'](_0x429828['sx'],_0x429828['sy'],_0x429828['sw'],_0x429828['sh']),_0x568d4e=_0x568d4e??_0xe04e5b,_0x429828['setViewpor'+'t'](_0xe04e5b['x'],_0xe04e5b['y'],_0xe04e5b['z'],_0xe04e5b['w']),_0x429828['setScissor'](_0x568d4e['x'],_0x568d4e['y'],_0x568d4e['z'],_0x568d4e['w'])),_0x429828['setVertexB'+'uffer'](_0x429828['quadVertex'+'Buffer'],-0x1*-0x22b4+-0x5*-0x402+0x31*-0x11e);const _0x9ce7cb=this['shader'];if(_0x429828['setShader'](_0x9ce7cb),_0x429828['supportsUn'+'iformBuffe'+'rs']){_0x429828['setBindGro'+'up'](rl,_0x429828['emptyBindG'+'roup']);const _0x5ae98b=this['bindGroup'];_0x5ae98b['update'](),_0x429828['setBindGro'+'up'](Oy,_0x5ae98b);const _0x4e13ba=this['uniformBuf'+'fer'];_0x4e13ba?(_0x4e13ba['update'](Gd),_0x429828['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x429828['setBindGro'+'up'](su,_0x429828['emptyBindG'+'roup']);}_0x429828['draw'](pE),_0xe04e5b&&(_0x429828['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x429828['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x429828);}}class mE extends ys{constructor(_0x3f505d,_0x1a37d0,_0x2fd65f,_0x3cbac6){super(_0x3f505d),this['quad']=_0x1a37d0,this['rect']=_0x2fd65f,this['scissorRec'+'t']=_0x3cbac6;}['execute'](){const {device:_0x5b5464}=this;Q['pushGpuMar'+'ker'](_0x5b5464,this['name']+':'+this['quad']['shader']['name']),_0x5b5464['setCullMod'+'e'](bt),_0x5b5464['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5b5464['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x5b5464);}}const _E=new re();function Ar(_0x42f0bc,_0x4bc02d,_0x14a94c,_0x3618d3,_0x3aec76){w['assert'](_0x4bc02d!==void(0x3c*0x1c+-0xd63+0x6d3));const _0x2e5b76=arguments[0x113e+0x2069+-0x2*0x18d1];w['call'](()=>{_0x2e5b76!==void(0xcdd*0x2+-0xa6a+-0x50*0x31)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x51c4be=new Ah(_0x14a94c);_0x3618d3||(_0x3618d3=_E,_0x3618d3['x']=-0x683*-0x2+0x3*-0x7c1+0xa3d,_0x3618d3['y']=0x1c09+-0x9e3+0x913*-0x2,_0x3618d3['z']=_0x4bc02d?_0x4bc02d['width']:_0x42f0bc['width'],_0x3618d3['w']=_0x4bc02d?_0x4bc02d['height']:_0x42f0bc['height']);const _0x5a9cb4=new mE(_0x42f0bc,_0x51c4be,_0x3618d3,_0x3aec76);_0x5a9cb4['init'](_0x4bc02d),_0x5a9cb4['colorOps']['clear']=!(0x7ae+0x17d*0x2+-0x3*0x38d),_0x5a9cb4['depthStenc'+'ilOps']['clearDepth']=!(-0x1*0x123e+-0x210+-0x6c5*-0x3),_0x42f0bc['isWebGPU']&&_0x4bc02d===null&&_0x42f0bc['samples']>0x1ff7+0xf*-0x61+-0x1a47&&(_0x5a9cb4['colorOps']['store']=!(-0x515*-0x4+-0x19fc+0x16a*0x4)),_0x5a9cb4['render'](),_0x51c4be['destroy']();}class g_{constructor(_0x11f0de,_0x39262c,_0x511550){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x11f0de,this['dynamic']=_0x39262c,this['batchGroup'+'Id']=_0x511550);}['destroy'](_0x4e5604,_0x3a0a1e){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x4e5604,_0x3a0a1e),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x41f599,_0x564e2e){for(let _0x443cfe=0x20*-0x2b+0xd*-0x2c2+-0x6df*-0x6;_0x443cfe<_0x564e2e['length'];_0x443cfe++){const _0x509f7d=_0x41f599['layers']['getLayerBy'+'Id'](_0x564e2e[_0x443cfe]);_0x509f7d&&_0x509f7d['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x388dac,_0x180d57){for(let _0x4f424b=-0x2d9+-0x15d+-0x436*-0x1;_0x4f424b<_0x180d57['length'];_0x4f424b++){const _0x59ce49=_0x388dac['layers']['getLayerBy'+'Id'](_0x180d57[_0x4f424b]);_0x59ce49&&_0x59ce49['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x2a1*0xb+-0x203c+0x351]['aabb']);for(let _0x65c894=-0x19d7+0x1a*-0x15+0x1bfa;_0x65c894<this['origMeshIn'+'stances']['length'];_0x65c894++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x65c894]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x234d+0x116b+0x1a5c*-0x2;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x5f3984,_0x219148,_0x217ad7,_0x190bbd,_0x4dce6f=[er]){h(this,'_ui',!(-0x36*0x85+-0x23e2+0x3ff1)),h(this,'_sprite',!(0x2209+-0x24b9*0x1+0x2b1*0x1)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x5f3984,this['name']=_0x219148,this['dynamic']=_0x217ad7,this['maxAabbSiz'+'e']=_0x190bbd,this['layers']=_0x4dce6f);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0xea1698){h(this,'bones'),(this['_dirty']=!(0xa1*-0x3+0x2303*-0x1+-0x1273*-0x2),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x309*-0x6+0xfed+0x1111*-0x2),this['_updateBef'+'oreCull']=!(-0x482+-0x47*-0x27+0x5*-0x143),_0xea1698&&this['initSkin'](_0xea1698));}set['rootBone'](_0x1aff31){this['_rootBone']=_0x1aff31;}get['rootBone'](){return this['_rootBone'];}['init'](_0x150adc,_0x3dbd78){const _0x343797=_0x3dbd78*(-0x164f*0x1+0x146c+0x12*0x1b);let _0x19205a=Math['ceil'](Math['sqrt'](_0x343797));_0x19205a=Y['roundUp'](_0x19205a,0x227d+0x145e*0x1+-0x14*0x2be);const _0x246492=Math['ceil'](_0x343797/_0x19205a);this['boneTextur'+'e']=new _e(_0x150adc,{'width':_0x19205a,'height':_0x246492,'format':Xt,'mipmaps':!(0xdb0+-0x1a3f+-0xc90*-0x1),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x24e5e1,_0x4279c1){this['rootBone']=_0x24e5e1;const _0x395806=this['skin'],_0x141ac8=[];for(let _0xe4e440=0x11be+0xac5+0x9*-0x32b;_0xe4e440<_0x395806['boneNames']['length'];_0xe4e440++){const _0x45ff44=_0x395806['boneNames'][_0xe4e440];let _0x2da903=_0x24e5e1['findByName'](_0x45ff44);_0x2da903||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x45ff44+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x4279c1['name']+(',\x20rootBone'+':\x20')+_0x24e5e1['name']),_0x2da903=_0x4279c1),_0x141ac8['push'](_0x2da903);}this['bones']=_0x141ac8;}['initSkin'](_0xce4d81){this['skin']=_0xce4d81,this['bones']=[];const _0x9da83e=_0xce4d81['inverseBin'+'dPose']['length'];this['init'](_0xce4d81['device'],_0x9da83e),this['matrices']=[];for(let _0xa78fd8=-0x1dd+-0x1*-0x44d+-0x68*0x6;_0xa78fd8<_0x9da83e;_0xa78fd8++)this['matrices'][_0xa78fd8]=new te();}['uploadBone'+'s'](_0x2a7f09){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x8c7514,_0x1acc8a){if(this['_skinUpdat'+'eIndex']!==_0x1acc8a){this['_skinUpdat'+'eIndex']=_0x1acc8a,S_['copy'](_0x8c7514['getWorldTr'+'ansform']())['invert']();for(let _0x3d2ae9=this['bones']['length']-(0x2*0x2ab+0x1822+0x18d*-0x13);_0x3d2ae9>=0x2*-0x103f+0x18ec+0x792*0x1;_0x3d2ae9--)this['matrices'][_0x3d2ae9]['mulAffine2'](S_,this['bones'][_0x3d2ae9]['getWorldTr'+'ansform']()),this['matrices'][_0x3d2ae9]['mulAffine2'](this['matrices'][_0x3d2ae9],this['skin']['inverseBin'+'dPose'][_0x3d2ae9]);}}['updateMatr'+'ices'](_0x49df7f,_0x5e67c6){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x49df7f,_0x5e67c6);}['updateMatr'+'ixPalette'](_0x59d654,_0x45e859){this['_updateMat'+'rices'](_0x59d654,_0x45e859);const _0x510ee5=this['matrixPale'+'tte'],_0x819031=this['bones']['length'];for(let _0x9f7cde=0x655+0x1ff9+-0x2*0x1327;_0x9f7cde<_0x819031;_0x9f7cde++){const _0x27dacf=this['matrices'][_0x9f7cde]['data'],_0xb7f12=_0x9f7cde*(0x4*-0x34+0x19f3+-0x1917);_0x510ee5[_0xb7f12]=_0x27dacf[0x2*-0x376+0xd3*-0x23+0x23c5],_0x510ee5[_0xb7f12+(0xaa3*0x1+0x2654+0x3*-0x1052)]=_0x27dacf[0x19a4+0x269b*0x1+-0x403b],_0x510ee5[_0xb7f12+(0x1a2c+0x33*-0xa3+-0x55*-0x13)]=_0x27dacf[0x127d*0x2+-0x327*0x1+0xd3*-0x29],_0x510ee5[_0xb7f12+(-0x1*0x2f1+-0xe01+-0x5a7*-0x3)]=_0x27dacf[0x211c+-0x632+0x16a*-0x13],_0x510ee5[_0xb7f12+(0x25c7*-0x1+0x3c9+0x2202)]=_0x27dacf[0x2033+0xd6c+-0x2d9e*0x1],_0x510ee5[_0xb7f12+(-0xa39*0x2+-0x3ff*-0x7+0x3c1*-0x2)]=_0x27dacf[-0x15e0+-0x193*0x15+0x36f4],_0x510ee5[_0xb7f12+(0x2a1*-0x9+0x10*0xc+0x16ef*0x1)]=_0x27dacf[0x24a4+-0xed*-0x8+-0x2c03],_0x510ee5[_0xb7f12+(-0xbb*-0x9+-0xdab*0x1+0x71f*0x1)]=_0x27dacf[0x1d74+0x2a4+-0x200b],_0x510ee5[_0xb7f12+(0x14d3*-0x1+-0x143f*-0x1+0x6*0x1a)]=_0x27dacf[0x1f96+-0xf18+-0x4*0x41f],_0x510ee5[_0xb7f12+(0x2008+-0x181e+-0x7e1)]=_0x27dacf[0x1539+-0x217d+0xc4a],_0x510ee5[_0xb7f12+(-0xc29+-0xe2e+0x1a61)]=_0x27dacf[0x1de2+0x19d+-0x1f75],_0x510ee5[_0xb7f12+(-0x17e7*-0x1+0xf70+-0x274c)]=_0x27dacf[0x589+-0x1d*-0x39+0x2*-0x5f8];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x3c822c,_0x3bf9e9,_0x46baef){super();const _0x5d0dc0=_0x3bf9e9['length'];this['init'](_0x3c822c,_0x5d0dc0),this['device']=_0x3c822c,this['rootNode']=_0x46baef,this['bones']=_0x3bf9e9;}['updateMatr'+'ices'](_0x16c1e9,_0x424011){}['updateMatr'+'ixPalette'](_0x589463,_0x591809){const _0x61460d=this['matrixPale'+'tte'],_0x55ba91=this['bones']['length'];for(let _0x1953b2=0x10e+-0x40e+0x300;_0x1953b2<_0x55ba91;_0x1953b2++){const _0x2e4e5a=this['bones'][_0x1953b2]['getWorldTr'+'ansform']()['data'],_0xfa3a71=_0x1953b2*(0x1556+0x3f1*-0x5+-0x3*0x87);_0x61460d[_0xfa3a71]=_0x2e4e5a[-0x2143+0x10d9+-0xb*-0x17e],_0x61460d[_0xfa3a71+(0x12b9+-0x2016+0xd5e)]=_0x2e4e5a[0xc97+0x1811*-0x1+0x2*0x5bf],_0x61460d[_0xfa3a71+(0x9*-0x2c7+-0xa60+0x2361*0x1)]=_0x2e4e5a[0xab2+0xff0+0x1e*-0xe3],_0x61460d[_0xfa3a71+(-0x1*-0x422+0x7df+-0x266*0x5)]=_0x2e4e5a[-0xe4b+-0xcd7*0x2+0x5*0x801],_0x61460d[_0xfa3a71+(0x1027+0x1e35*-0x1+-0x1*-0xe12)]=_0x2e4e5a[0x4*0x85c+-0x18fa+-0x875],_0x61460d[_0xfa3a71+(-0x18ba+0x1*-0x2ab+0x1b6a)]=_0x2e4e5a[0x1b73*-0x1+-0x1*0x103f+0x13*0x24d],_0x61460d[_0xfa3a71+(-0x716+0x2be+-0x22f*-0x2)]=_0x2e4e5a[0x1307+0x1bfb+-0x965*0x5],_0x61460d[_0xfa3a71+(-0x174*-0x1a+-0xa+0x78b*-0x5)]=_0x2e4e5a[0x1f2d+0xa30+-0x2950],_0x61460d[_0xfa3a71+(-0x1987+0x515+-0xa3d*-0x2)]=_0x2e4e5a[-0x1815+-0x1*-0x1857+0x10*-0x4],_0x61460d[_0xfa3a71+(-0x677+0xc2c+-0x5ac)]=_0x2e4e5a[0x1*0xb38+-0x13b4+0xc6*0xb],_0x61460d[_0xfa3a71+(0x37e*-0xb+-0x55d*0x7+0x4bff)]=_0x2e4e5a[0x10e2+-0x10e2+0xa],_0x61460d[_0xfa3a71+(-0xc*-0x17+-0x18f6+0x17ed)]=_0x2e4e5a[0x151a+0xc95*-0x2+-0x1*-0x41e];}this['uploadBone'+'s'](this['device']);}}let gE=-0x8d2*0x1+-0x1113*-0x1+0x1*-0x841;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x206d+0x1*-0x731+0x279f),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x315*-0x3+0x1*0x103f+-0x197e,this['maxIndices']=-0x1336*-0x1+-0x225e*-0x1+0x3*-0x11dc,this['vertexCoun'+'t']=-0x1*-0x255+-0xbc4*-0x2+-0x89f*0x3,this['indexCount']=0x1a91+-0x7e6+-0x12ab,this['vertexStre'+'amsUpdated']=!(-0x17*-0x8a+0xc5b+0x40*-0x63),this['indexStrea'+'mUpdated']=!(0x2c*0x4f+0x165b+-0x23ee),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x3de3f1,_0x5c03b3){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x3de3f1,'Vertex\x20str'+'eam\x20'+_0x5c03b3+'\x20has\x20'+_0x3de3f1+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x3de3f1;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0xc31+0xe24+-0x7c*0x4),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x1b05*0x1+0x2d3*0xd+-0x9af),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0xf26+0xf5e+-0x16*0x163),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0xb52*-0x1+0x8*-0x45b+0x106*0x17);class SE{constructor(_0x38bfe9,_0x3e23ca,_0x292369,_0xed2da1,_0x4d4eda){this['data']=_0x38bfe9,this['componentC'+'ount']=_0x3e23ca,this['dataType']=_0x292369,this['dataTypeNo'+'rmalize']=_0xed2da1,this['asInt']=_0x4d4eda;}}class Ge extends wd{constructor(_0x128659,_0x2e1014){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0xc4e+0x26f5+-0x1aa7),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x1f*-0x20+0x25*-0x97+0x11f4)),h(this,'_storageVe'+'rtex',!(-0x1d70+-0x11*-0x1b3+0x8e)),(this['id']=gE++,w['assert'](_0x128659,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x128659,this['_storageIn'+'dex']=(_0x2e1014==null?void(-0x1939+0x26f6+-0xdbd):_0x2e1014['storageInd'+'ex'])||!(-0x1*-0x4b+-0x4e1+0x19*0x2f),this['_storageVe'+'rtex']=(_0x2e1014==null?void(0x2*-0xf51+-0x18b*0x1+0x1*0x202d):_0x2e1014['storageVer'+'tex'])||!(0x75*-0x2a+0x99d*-0x1+-0x2*-0xe68));}static['fromGeomet'+'ry'](_0x1121e9,_0x3296bc,_0x7fd59f={}){const _0x4eaa7d=new Ge(_0x1121e9,_0x7fd59f),{positions:_0x7c4978,normals:_0x12db81,tangents:_0x1b1d50,colors:_0x19d4ac,uvs:_0x561f43,uvs1:_0x316903,blendIndices:_0x2c58e1,blendWeights:_0x5eac3b,indices:_0x31ecb2}=_0x3296bc;return _0x7c4978&&_0x4eaa7d['setPositio'+'ns'](_0x7c4978),_0x12db81&&_0x4eaa7d['setNormals'](_0x12db81),_0x1b1d50&&_0x4eaa7d['setVertexS'+'tream'](yi,_0x1b1d50,-0x3a*0x9b+0x1*0xc92+0x1690),_0x19d4ac&&_0x4eaa7d['setColors3'+'2'](_0x19d4ac),_0x561f43&&_0x4eaa7d['setUvs'](0x1d1c+-0xebb+-0xe61,_0x561f43),_0x316903&&_0x4eaa7d['setUvs'](0x14a1*0x1+-0x9*0x2f3+-0x12f*-0x5,_0x316903),_0x2c58e1&&_0x4eaa7d['setVertexS'+'tream'](us,_0x2c58e1,-0x1*-0x15bf+0x13c*-0xd+-0x5af,_0x2c58e1['length']/(0x16a6+-0x57e+0x1*-0x1124),la),_0x5eac3b&&_0x4eaa7d['setVertexS'+'tream'](gi,_0x5eac3b,0xd0*-0x1b+0x1*-0x6f3+0x1ce7),_0x31ecb2&&_0x4eaa7d['setIndices'](_0x31ecb2),_0x4eaa7d['update'](),_0x4eaa7d;}set['morph'](_0x380d81){_0x380d81!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x380d81,_0x380d81&&_0x380d81['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0xea734f){this['_aabb']=_0xea734f,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x8ac25a=this['morph'];_0x8ac25a&&(this['morph']=null,_0x8ac25a['refCount']<-0x557+0x1b01*0x1+-0x1*0x15a9&&_0x8ac25a['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0xe50ed6=-0x14e6+-0x1*-0x4b1+-0x3*-0x567;_0xe50ed6<this['indexBuffe'+'r']['length'];_0xe50ed6++)this['_destroyIn'+'dexBuffer'](_0xe50ed6);this['indexBuffe'+'r']['length']=0x1ad1*-0x1+0x143+0x198e,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x4e5a9e){this['indexBuffe'+'r'][_0x4e5a9e]&&(this['indexBuffe'+'r'][_0x4e5a9e]['destroy'](),this['indexBuffe'+'r'][_0x4e5a9e]=null);}['_initBoneA'+'abbs'](_0xb0eb10){this['boneAabb']=[],this['boneUsed']=[];let _0x3fc39b,_0xa34d18,_0x1930d2,_0x536a2c,_0x553f13;const _0xbb32a=[],_0x211400=[],_0x57caf6=this['boneUsed'],_0x5f022a=this['skin']['boneNames']['length'];let _0x2c246e,_0x4ef80e,_0xf441a;for(let _0x35cd17=0x1*-0x108+0x1*0x14f3+-0x1*0x13eb;_0x35cd17<_0x5f022a;_0x35cd17++)_0xbb32a[_0x35cd17]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x211400[_0x35cd17]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3c552f=new Uo(this['vertexBuff'+'er']),_0x5ae4bc=_0x3c552f['element'][Me],_0x5d8d64=_0x3c552f['element'][gi],_0x3ad9cc=_0x3c552f['element'][us],_0x449684=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x47ccd5=0x17e1+0x7*0x40f+-0x344a;_0x47ccd5<_0x449684;_0x47ccd5++){for(let _0x1dbb38=-0x2265+0x587*-0x2+-0xb3*-0x41;_0x1dbb38<-0x4f*-0x3a+-0x243+-0xf9f;_0x1dbb38++)if(_0x5d8d64['array'][_0x5d8d64['index']+_0x1dbb38]>-0x12ca+0xcbe*0x3+-0x1370){const _0x4428ad=_0x3ad9cc['array'][_0x3ad9cc['index']+_0x1dbb38];if(_0x57caf6[_0x4428ad]=!(-0x1e24+-0x11cb*0x1+0x2fef),_0x3fc39b=_0x5ae4bc['array'][_0x5ae4bc['index']],_0xa34d18=_0x5ae4bc['array'][_0x5ae4bc['index']+(-0x2464+-0x47f*0x8+0x485d)],_0x1930d2=_0x5ae4bc['array'][_0x5ae4bc['index']+(0x1a6c+0xe12*0x2+-0x368e)],_0x536a2c=_0x211400[_0x4428ad],_0x553f13=_0xbb32a[_0x4428ad],_0x553f13['x']>_0x3fc39b&&(_0x553f13['x']=_0x3fc39b),_0x553f13['y']>_0xa34d18&&(_0x553f13['y']=_0xa34d18),_0x553f13['z']>_0x1930d2&&(_0x553f13['z']=_0x1930d2),_0x536a2c['x']<_0x3fc39b&&(_0x536a2c['x']=_0x3fc39b),_0x536a2c['y']<_0xa34d18&&(_0x536a2c['y']=_0xa34d18),_0x536a2c['z']<_0x1930d2&&(_0x536a2c['z']=_0x1930d2),_0xb0eb10){let _0x5c0f96=_0x2c246e=_0x3fc39b,_0x338725=_0x4ef80e=_0xa34d18,_0x52b8aa=_0xf441a=_0x1930d2;for(let _0x39ae82=-0x1a68+0x43*0x16+0x14a6*0x1;_0x39ae82<_0xb0eb10['length'];_0x39ae82++){const _0xd20c7a=_0xb0eb10[_0x39ae82],_0x5872bd=_0xd20c7a['deltaPosit'+'ions'][_0x47ccd5*(-0xa7+-0x6*0x8d+0x3f8)],_0x1d05d5=_0xd20c7a['deltaPosit'+'ions'][_0x47ccd5*(0x2*0x38c+0x24cc+-0x2f*0xef)+(-0x636+-0x1231*0x2+0x2a99)],_0x4d5f1a=_0xd20c7a['deltaPosit'+'ions'][_0x47ccd5*(-0x16*0xa9+0x5*0x565+-0xc7*0x10)+(0x10ae+0x77b*0x3+-0x143*0x1f)];_0x5872bd<-0x1*0x5bf+0x599*-0x3+0x2*0xb45?_0x5c0f96+=_0x5872bd:_0x2c246e+=_0x5872bd,_0x1d05d5<0x2109+0x3*-0x577+-0x10a4?_0x338725+=_0x1d05d5:_0x4ef80e+=_0x1d05d5,_0x4d5f1a<0x1aa8+0x1b4f+-0x35f7?_0x52b8aa+=_0x4d5f1a:_0xf441a+=_0x4d5f1a;}_0x553f13['x']>_0x5c0f96&&(_0x553f13['x']=_0x5c0f96),_0x553f13['y']>_0x338725&&(_0x553f13['y']=_0x338725),_0x553f13['z']>_0x52b8aa&&(_0x553f13['z']=_0x52b8aa),_0x536a2c['x']<_0x2c246e&&(_0x536a2c['x']=_0x2c246e),_0x536a2c['y']<_0x4ef80e&&(_0x536a2c['y']=_0x4ef80e),_0x536a2c['z']<_0xf441a&&(_0x536a2c['z']=_0xf441a);}}_0x3c552f['next']();}const _0x48da76=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x42b8d4=>_0x42b8d4['name']===Me);if(_0x48da76&&_0x48da76['normalize']){const _0x392597=((()=>{switch(_0x48da76['dataType']){case dd:return _0xdbcb4e=>Math['max'](_0xdbcb4e/(0x1*-0x19e6+0x1037+0x2*0x517),-(-0x3bf*-0x2+-0x678*0x1+-0x105));case la:return _0xe769ea=>_0xe769ea/(0x14d2+-0x1ba9+-0x7d6*-0x1);case fd:return _0x5ac8dc=>Math['max'](_0x5ac8dc/(0xd894+0x602*-0x1f+0x61a9),-(-0xf9*0x27+0x388+0x2268));case Ml:return _0x32a24f=>_0x32a24f/(0xfccd*-0x2+0xbf86+0x23a13);default:return _0x2097a7=>_0x2097a7;}})());for(let _0x5e58ff=0x4d*0x7+0x240f+-0x262a;_0x5e58ff<_0x5f022a;_0x5e58ff++)if(_0x57caf6[_0x5e58ff]){const _0xa1f7cc=_0xbb32a[_0x5e58ff],_0x15eb3c=_0x211400[_0x5e58ff];_0xa1f7cc['set'](_0x392597(_0xa1f7cc['x']),_0x392597(_0xa1f7cc['y']),_0x392597(_0xa1f7cc['z'])),_0x15eb3c['set'](_0x392597(_0x15eb3c['x']),_0x392597(_0x15eb3c['y']),_0x392597(_0x15eb3c['z']));}}for(let _0x2a7c82=0x515+-0x2*0x283+-0xf;_0x2a7c82<_0x5f022a;_0x2a7c82++){const _0x29e3c8=new De();_0x29e3c8['setMinMax'](_0xbb32a[_0x2a7c82],_0x211400[_0x2a7c82]),this['boneAabb']['push'](_0x29e3c8);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1*-0x366+0x1e04+-0x1a9e&&this['indexBuffe'+'r'][-0x11f6+-0x1f32*-0x1+-0x4*0x34f]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x16f7*-0x1+0x2*-0x63+0x17bd]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x1*-0x1871+0x9ea+0xe87]['numIndices']));}['clear'](_0xd057c8,_0x31c149,_0xa3832d=0x2*0x33d+0x1*0x721+-0xd9b,_0xf4b391=-0x1b*-0x9d+-0x16*-0xec+-0x24d7*0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x3c4*-0xa+-0x1ca6+0x424e),this['_geometryD'+'ata']['maxVertice'+'s']=_0xa3832d,this['_geometryD'+'ata']['maxIndices']=_0xf4b391,this['_geometryD'+'ata']['verticesUs'+'age']=_0xd057c8?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x31c149?ms:lh;}['setVertexS'+'tream'](_0x48640b,_0x1ec748,_0x206509,_0x55c078,_0x1bfd8b=Ve,_0x13e0b4=!(0x691*0x2+0xcec+-0x1a0d),_0x1b0d24=!(0x1977+0x182e+0x18d2*-0x2)){this['_initGeome'+'tryData']();const _0x7d4cf=_0x55c078||_0x1ec748['length']/_0x206509;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x7d4cf,_0x48640b),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x2f*0x3b+0x1318+-0x843),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x48640b]=new SE(_0x1ec748,_0x206509,_0x1bfd8b,_0x13e0b4,_0x1b0d24);}['getVertexS'+'tream'](_0x40c3bf,_0x440701){let _0x550c44=-0x1a39+-0x2*0xc93+0x335f,_0x51274b=!(0x68c*0x5+0x2*0xf+-0x20d9);if(this['_geometryD'+'ata']){const _0x2cf36a=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x40c3bf];_0x2cf36a&&(_0x51274b=!(0x1ca1+0x1f3*-0x7+-0x77e*0x2),_0x550c44=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x440701)?_0x440701['set'](_0x2cf36a['data']):(_0x440701['length']=-0x7f*-0xd+-0x1*0x1819+0x12*0xfb,_0x440701['push'](_0x2cf36a['data'])));}return _0x51274b||this['vertexBuff'+'er']&&(_0x550c44=new Uo(this['vertexBuff'+'er'])['readData'](_0x40c3bf,_0x440701)),_0x550c44;}['setPositio'+'ns'](_0x5f3e24,_0xabb0e2=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x348999){this['setVertexS'+'tream'](Me,_0x5f3e24,_0xabb0e2,_0x348999,Ve,!(-0x3d8*-0x3+-0x856+-0x331));}['setNormals'](_0x574e54,_0x3b917=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x176b2f){this['setVertexS'+'tream'](gs,_0x574e54,_0x3b917,_0x176b2f,Ve,!(0x9cf+0xde3+-0x17b1));}['setUvs'](_0x24234b,_0x133173,_0x447b4b=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x35c78d){this['setVertexS'+'tream'](zm+_0x24234b,_0x133173,_0x447b4b,_0x35c78d,Ve,!(-0x3b*-0x17+-0x1ad0+0x99*0x24));}['setColors'](_0x26a56f,_0x4498d6=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0xa3b0fd){this['setVertexS'+'tream'](Wt,_0x26a56f,_0x4498d6,_0xa3b0fd,Ve,!(0x1306+-0x1*0x1f11+0xc0c));}['setColors3'+'2'](_0x5478c9,_0x48ce1c){this['setVertexS'+'tream'](Wt,_0x5478c9,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x48ce1c,la,!(-0x23d5*0x1+0x648+-0x1d8d*-0x1));}['setIndices'](_0x2183d7,_0x448e08){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x96b+0xb*0x2ce+-0x156f),this['_geometryD'+'ata']['indices']=_0x2183d7,this['_geometryD'+'ata']['indexCount']=_0x448e08||_0x2183d7['length'];}['getPositio'+'ns'](_0x5788ec){return this['getVertexS'+'tream'](Me,_0x5788ec);}['getNormals'](_0x24058e){return this['getVertexS'+'tream'](gs,_0x24058e);}['getUvs'](_0x5b2dac,_0xc888){return this['getVertexS'+'tream'](zm+_0x5b2dac,_0xc888);}['getColors'](_0x49ecb9){return this['getVertexS'+'tream'](Wt,_0x49ecb9);}['getIndices'](_0x2368d2){let _0x786f4f=-0x1896+0x1d8f*0x1+-0x4f9*0x1;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0xc7d791=this['_geometryD'+'ata']['indices'];if(_0x786f4f=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x2368d2))_0x2368d2['set'](_0xc7d791);else{_0x2368d2['length']=0x394+0x187d+-0x1c11;for(let _0x56f844=0x1e*0x27+-0x598+0x106,_0x5a82ea=_0xc7d791['length'];_0x56f844<_0x5a82ea;_0x56f844++)_0x2368d2['push'](_0xc7d791[_0x56f844]);}}else this['indexBuffe'+'r']['length']>0x6a0*0x2+-0x3e*-0x62+-0x107*0x24&&this['indexBuffe'+'r'][-0x1a68+-0x1786+0x9a*0x53]&&(_0x786f4f=this['indexBuffe'+'r'][-0x1*-0x335+-0x101d+0x1d8*0x7]['readData'](_0x2368d2));return _0x786f4f;}['update'](_0x20292e=js,_0x30f5ce=!(-0x1*-0x12e9+-0x53*-0x51+-0x2d2c)){if(this['_geometryD'+'ata']){if(_0x30f5ce){const _0x3dcabe=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x3dcabe&&_0x3dcabe['componentC'+'ount']===-0x14*-0xc7+-0x25ec*0x1+0x1*0x1663&&(this['_aabb']['compute'](_0x3dcabe['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x507314=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x507314=!(-0x139b*0x1+0x13*-0x5c+0x1a6f),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x507314&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x30f67f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x30f67f=!(0x1*0x9be+-0x1dda+0x141c),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x30f67f&&this['indexBuffe'+'r']['length']>-0x45*0x78+-0x25cc+0x10c*0x43&&this['indexBuffe'+'r'][0x2631+0x6eb+0x4*-0xb47]&&(this['indexBuffe'+'r'][-0x1e12+-0x2*0x8ca+0x2fa6]['destroy'](),this['indexBuffe'+'r'][-0x46+0xa6*0x2f+-0x4*0x78d]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x119c+0x1*-0x245e+0x35fa]['type']=_0x20292e,this['indexBuffe'+'r']['length']>-0x1*0x13b1+0xa67*0x3+-0xb84&&this['indexBuffe'+'r'][-0x1470*0x1+0x3*-0xbb9+-0x379b*-0x1]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x2fe+0xb*0x369+-0x2881]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0xe5*0xb+-0xf15+-0x2*-0x29f]['indexed']=!(0x1be1+0x1be9+-0x37ca)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x2a2+-0x105b+0xdb9]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0xb63+0xaa6+0xbd]['indexed']=!(0x2516+-0x1705+-0xe10)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x28+-0x15c9+-0x29*-0x89,this['_geometryD'+'ata']['indexCount']=-0x156b+-0x86*0x2+0x51*0x47,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x9bf*-0x2+0xe95*-0x1+0x2214),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x5d*-0x40+0x22b0+0x1*-0xb6f),this['_geometryD'+'ata']['recreate']=!(0xc30+0x15b*0xf+-0x821*0x4),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x54dc34){const _0x59f133=[];for(const _0x4d93a5 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x170aa3=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4d93a5];_0x59f133['push']({'semantic':_0x4d93a5,'components':_0x170aa3['componentC'+'ount'],'type':_0x170aa3['dataType'],'normalize':_0x170aa3['dataTypeNo'+'rmalize'],'asInt':_0x170aa3['asInt']});}return new kt(this['device'],_0x59f133,_0x54dc34);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x4e9879=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5cba37=this['_buildVert'+'exFormat'](_0x4e9879);this['vertexBuff'+'er']=new Is(this['device'],_0x5cba37,_0x4e9879,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x58a709=new Uo(this['vertexBuff'+'er']),_0x39acd3=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x44b32c in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0xd044d9=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x44b32c];_0x58a709['writeData'](_0x44b32c,_0xd044d9['data'],_0x39acd3),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x44b32c];}_0x58a709['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x101*-0x21+-0x18ee+0x833*-0x1||!this['indexBuffe'+'r'][0xa*-0x2fc+-0xb21*-0x1+0x12b7*0x1]){const _0x310ff5=this['_geometryD'+'ata']['maxVertice'+'s'],_0x301a6a=_0x310ff5>0x22d4+-0x5*0x1121+0x132d0||_0x310ff5===-0x19*0x179+0x6f*0x2+0x23f3?wr:Yi,_0x458b15=this['_storageIn'+'dex']?{'storage':!(0x4fc+0x1178+-0x3be*0x6)}:void(0x2235+-0x1f*0xc7+-0x1*0xa1c);this['indexBuffe'+'r'][0x17c4*-0x1+-0x1ed2+0x3696]=new br(this['device'],_0x301a6a,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x190c+0x551+-0x1e5d),_0x458b15);}const _0x427c2d=this['_geometryD'+'ata']['indices'];_0x427c2d&&(this['indexBuffe'+'r'][-0x14e+-0x86f*-0x1+-0x49*0x19]['writeData'](_0x427c2d,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x287df6){_0x287df6===$r?this['generateWi'+'reframe']():_0x287df6===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0xa*-0x105+-0x14*-0x31+-0x5*-0x146,'indexed':!(0x16a9+-0x5a4+-0x1104)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x3410ed=this['vertexBuff'+'er']['numVertice'+'s'],_0x37444d=[];let _0x44d934;if(this['indexBuffe'+'r']['length']>-0xd6*0x1+-0x924+0x1*0x9fa&&this['indexBuffe'+'r'][0xa9*0x34+0x165d+0x38b1*-0x1]){const _0x300c98=[[0x5d*-0x35+-0x1115*-0x1+0x1*0x22c,-0x1*-0x19ed+-0x11*-0xd6+0x16*-0x1d3],[-0x1435+-0xe2c+0x2262,0x1c76+0x2*-0xaa9+-0x722],[-0x2001+0x1*-0xdd+-0x838*-0x4,0x1695*0x1+-0x181*0xe+-0x187]],_0x508e03=this['primitive'][un]['base'],_0x2c9db2=this['primitive'][un]['count'],_0x95a340=this['primitive'][un]['baseVertex']||0x2232+-0x2193+-0x3*0x35,_0x4f130c=this['indexBuffe'+'r'][un],_0x39a4b6=new Sh[_0x4f130c['format']](_0x4f130c['storage']),_0x4efff1=new Set();for(let _0xc7d10a=_0x508e03;_0xc7d10a<_0x508e03+_0x2c9db2;_0xc7d10a+=0x5e*-0xb+0x1*0x7f1+-0x3e4)for(let _0x16559f=0x2455+0x25fa+-0x4a4f;_0x16559f<0x1b97+-0x740+-0x4*0x515;_0x16559f++){const _0x468585=_0x39a4b6[_0xc7d10a+_0x300c98[_0x16559f][0x245+0x2025+0x226a*-0x1]]+_0x95a340,_0x416207=_0x39a4b6[_0xc7d10a+_0x300c98[_0x16559f][0x350*-0x2+0x1528+-0xe87]]+_0x95a340,_0x30993b=_0x468585>_0x416207?_0x416207*_0x3410ed+_0x468585:_0x468585*_0x3410ed+_0x416207;_0x4efff1['has'](_0x30993b)||(_0x4efff1['add'](_0x30993b),_0x37444d['push'](_0x468585,_0x416207));}_0x44d934=_0x4f130c['format'];}else{for(let _0x7b8301=-0x133*-0x10+-0x2621+0x1*0x12f1;_0x7b8301<_0x3410ed;_0x7b8301+=-0x242a*0x1+-0x22b7*0x1+0x46e4)_0x37444d['push'](_0x7b8301,_0x7b8301+(-0x239f+0x33d+0x2063),_0x7b8301+(0x1b91*0x1+0x834+-0x1c*0x147),_0x7b8301+(0x20bd+-0x2*-0x1387+0x11*-0x439),_0x7b8301+(0x1d25+0x2a7+-0x1fca),_0x7b8301);_0x44d934=_0x37444d['length']>-0x10f90+-0x2*-0x228b+-0x17*-0x13ef?wr:Yi;}const _0x24bb6a=new br(this['vertexBuff'+'er']['device'],_0x44d934,_0x37444d['length']);new Sh[_0x24bb6a['format']](_0x24bb6a['storage'])['set'](_0x37444d),_0x24bb6a['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x37444d['length'],'indexed':!(-0x9f2+-0xf*-0x167+-0xb17)},this['indexBuffe'+'r'][$r]=_0x24bb6a;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x520caa,_0x3e5dba){return _0x520caa instanceof Function?_0x520caa:_0x33175b=>{let _0x2d03e3=_0x33175b[_0x520caa];return _0x2d03e3 instanceof Function&&(_0x2d03e3=_0x2d03e3()),_0x2d03e3===_0x3e5dba;};}function Sv(_0x4a0331,_0x4107e1){if(_0x4107e1(_0x4a0331))return _0x4a0331;const _0x59b7=_0x4a0331['_children'],_0x4ab2ac=_0x59b7['length'];for(let _0x5cafcf=0x1d77+-0x1a15+-0x362;_0x5cafcf<_0x4ab2ac;++_0x5cafcf){const _0x2b8509=Sv(_0x59b7[_0x5cafcf],_0x4107e1);if(_0x2b8509)return _0x2b8509;}return null;}class Ie extends me{constructor(_0x4c2df6='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x873*-0x4+0x39*0x4d+0x10a8,0xe+0x332*-0x7+0x1651,0x7f*0xa+0x20*0x95+0x1795*-0x1)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x1fc4+-0x14ca+0x35*-0x35)),h(this,'_aabbVer',0x1f80+-0x2f*-0x9d+-0x1*0x3c53),h(this,'_frozen',!(0x1*0x10e1+0xc*-0x9+-0x1074)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0x1b64+-0x1fd5+0x9df*0x6)),h(this,'_worldScal'+'eSign',0x1432+0x1309*-0x1+-0x129),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x8d*0x12+-0x26a+-0xc54*-0x1)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0x15b9+0x1c3c+0x1*-0x31f5),h(this,'_enabled',!(0x78*0x40+-0x97*-0x31+-0x3ae7)),h(this,'_enabledIn'+'Hierarchy',!(0x1270+-0x1*-0x14b4+-0x2723)),h(this,'scaleCompe'+'nsation',!(-0x419+0x169f+-0x1285)),this['name']=_0x4c2df6;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x1d47+-0x8bf+-0x1487));}get['normalMatr'+'ix'](){const _0x480793=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x480793['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x443*-0x4+0x31c*-0x6+0x23b5)),_0x480793;}set['enabled'](_0x196205){var _0x59bbfc;this['_enabled']!==_0x196205&&(this['_enabled']=_0x196205,(_0x196205&&((_0x59bbfc=this['_parent'])!=null&&_0x59bbfc['enabled'])||!_0x196205)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x196205));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x565d67=this['_parent'];if(!_0x565d67)return'';let _0x214d42=this['name'];for(;_0x565d67&&_0x565d67['_parent'];)_0x214d42=_0x565d67['name']+'/'+_0x214d42,_0x565d67=_0x565d67['_parent'];return _0x214d42;}get['root'](){let _0x286ddf=this;for(;_0x286ddf['_parent'];)_0x286ddf=_0x286ddf['_parent'];return _0x286ddf;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x36a0de,_0x122c85){_0x36a0de['_onHierarc'+'hyStateCha'+'nged'](_0x122c85);const _0x584163=_0x36a0de['_children'];for(let _0xc636ee=0x1*-0x679+-0xe6a+0x14e3,_0x4436e8=_0x584163['length'];_0xc636ee<_0x4436e8;_0xc636ee++)_0x584163[_0xc636ee]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x584163[_0xc636ee],_0x122c85);}['_onHierarc'+'hyStateCha'+'nged'](_0x4e5aa3){this['_enabledIn'+'Hierarchy']=_0x4e5aa3,_0x4e5aa3&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x40fd8b){_0x40fd8b['name']=this['name'];const _0x3527d9=this['tags']['_list'];_0x40fd8b['tags']['clear']();for(let _0x1e646c=-0x22b*0x5+0x1ac4+-0x54f*0x3;_0x1e646c<_0x3527d9['length'];_0x1e646c++)_0x40fd8b['tags']['add'](_0x3527d9[_0x1e646c]);_0x40fd8b['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x40fd8b['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x40fd8b['localScale']['copy'](this['localScale']),_0x40fd8b['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x40fd8b['position']['copy'](this['position']),_0x40fd8b['rotation']['copy'](this['rotation']),_0x40fd8b['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x40fd8b['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x40fd8b['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x40fd8b['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x40fd8b['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x40fd8b['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x40fd8b['_aabbVer']=this['_aabbVer']+(-0x2*-0xdf9+-0x836+0x13bb*-0x1),_0x40fd8b['_enabled']=this['_enabled'],_0x40fd8b['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x40fd8b['_enabledIn'+'Hierarchy']=!(0x46a+0xbfb+-0x1064);}['clone'](){const _0x1a51c1=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x1a51c1),_0x1a51c1;}['copy'](_0x1c9986){return _0x1c9986['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0xb9c354=this['_children'];for(;_0xb9c354['length'];){const _0x11409f=_0xb9c354['pop']();_0x11409f['_parent']=null,_0x11409f['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x169c71,_0x19492e){const _0x58d1f7=[],_0x2f22cd=b_(_0x169c71,_0x19492e);return this['forEach'](_0x57579c=>{_0x2f22cd(_0x57579c)&&_0x58d1f7['push'](_0x57579c);}),_0x58d1f7;}['findOne'](_0x31d8d6,_0x43631c){const _0xb2517=b_(_0x31d8d6,_0x43631c);return Sv(this,_0xb2517);}['findByTag'](..._0x1256f0){const _0x16a504=[],_0x37a6c1=(_0x39cedf,_0x32c051)=>{_0x32c051&&_0x39cedf['tags']['has'](..._0x1256f0)&&_0x16a504['push'](_0x39cedf);for(let _0x5632d0=-0x1142*0x1+-0x1c72+0x2db4;_0x5632d0<_0x39cedf['_children']['length'];_0x5632d0++)_0x37a6c1(_0x39cedf['_children'][_0x5632d0],!(0x25*-0x10d+-0x43*-0x56+-0x21*-0x7f));};return _0x37a6c1(this,!(0x9*0x1b7+-0x2061+0x10f3)),_0x16a504;}['findByName'](_0x3297bf){return this['findOne']('name',_0x3297bf);}['findByPath'](_0x42dab7){const _0xa00354=Array['isArray'](_0x42dab7)?_0x42dab7:_0x42dab7['split']('/');let _0xf94b2=this;for(let _0x152c6b=-0x16c3+-0xa5c+0x1*0x211f,_0x15f5ab=_0xa00354['length'];_0x152c6b<_0x15f5ab;++_0x152c6b)if(_0xf94b2=_0xf94b2['children']['find'](_0x4bb62a=>_0x4bb62a['name']===_0xa00354[_0x152c6b]),!_0xf94b2)return null;return _0xf94b2;}['forEach'](_0x5e8dc8,_0x449b2a){_0x5e8dc8['call'](_0x449b2a,this);const _0x43a754=this['_children'],_0x22adde=_0x43a754['length'];for(let _0x182f15=0x1*-0x2550+-0x1460+0x39b0;_0x182f15<_0x22adde;++_0x182f15)_0x43a754[_0x182f15]['forEach'](_0x5e8dc8,_0x449b2a);}['isDescenda'+'ntOf'](_0x1d8711){let _0x212212=this['_parent'];for(;_0x212212;){if(_0x212212===_0x1d8711)return!(-0x1570+-0x8f5*0x4+-0xb74*-0x5);_0x212212=_0x212212['_parent'];}return!(0x2a7+0xc89+-0x1*0xf2f);}['isAncestor'+'Of'](_0x4da6cd){return _0x4da6cd['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x2329+-0x8*0x5+-0x2300)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0xa5c+-0x95+-0xaf1*-0x1&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x4d7166;(_0x4d7166=this['_parent'])==null||_0x4d7166['removeChil'+'d'](this);}['reparent'](_0x428f87,_0x7f3cbf){this['remove'](),_0x428f87&&(_0x7f3cbf>=-0xd9*-0x1f+-0x23a2+-0x1*-0x95b?_0x428f87['insertChil'+'d'](this,_0x7f3cbf):_0x428f87['addChild'](this));}['setLocalEu'+'lerAngles'](_0x465311,_0x484831,_0x232dc2){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x465311,_0x484831,_0x232dc2),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x380226,_0x5517a3,_0x1491b9){_0x380226 instanceof D?this['localPosit'+'ion']['copy'](_0x380226):this['localPosit'+'ion']['set'](_0x380226,_0x5517a3,_0x1491b9),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x57a55f,_0x3c6c86,_0x3aea2e,_0x1f1f2f){_0x57a55f instanceof le?this['localRotat'+'ion']['copy'](_0x57a55f):this['localRotat'+'ion']['set'](_0x57a55f,_0x3c6c86,_0x3aea2e,_0x1f1f2f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x459fe6,_0x540b4b,_0x140b49){_0x459fe6 instanceof D?this['localScale']['copy'](_0x459fe6):this['localScale']['set'](_0x459fe6,_0x540b4b,_0x140b49),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1b1d*-0x1+0x181e+-0x333b),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x4864ac=this['_parent'];for(;_0x4864ac;)_0x4864ac['_frozen']=!(0x1f4b*0x1+-0x2641+0x6f7),_0x4864ac=_0x4864ac['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1af8+-0x1917+-0x1e0),this['_dirtyWorl'+'d']=!(-0x1*-0x224d+0x1863+-0x3ab0);for(let _0xd97e46=0x2408+-0x7ed*0x4+-0x4*0x115;_0xd97e46<this['_children']['length'];_0xd97e46++)this['_children'][_0xd97e46]['_dirtyWorl'+'d']||this['_children'][_0xd97e46]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x57*0x1d+-0x1*0x97b+-0x4*0x18),this['_worldScal'+'eSign']=0x227a+0x3*0x3a+0x4b*-0x78,this['_aabbVer']++;}['setPositio'+'n'](_0x6fa984,_0x3dc17c,_0x55316a){_0x6fa984 instanceof D?rs['copy'](_0x6fa984):rs['set'](_0x6fa984,_0x3dc17c,_0x55316a),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x278a67,_0x84da4b,_0x58c97c,_0xb35fd6){if(_0x278a67 instanceof le?as['copy'](_0x278a67):as['set'](_0x278a67,_0x84da4b,_0x58c97c,_0xb35fd6),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x2061dc=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x2061dc)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x9b23ab,_0x233392){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x9b23ab),this['localRotat'+'ion']['copy'](_0x233392);else{const _0x351afb=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x351afb)['invert'](),ro['transformP'+'oint'](_0x9b23ab,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x233392);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x19087d,_0x1d050b,_0x45007c){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x19087d,_0x1d050b,_0x45007c),this['_parent']!==null){const _0x5acf0e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x5acf0e)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x1eeb88){this['_prepareIn'+'sertChild'](_0x1eeb88),this['_children']['push'](_0x1eeb88),this['_onInsertC'+'hild'](_0x1eeb88);}['addChildAn'+'dSaveTrans'+'form'](_0x1c6f43){const _0x3ffa40=_0x1c6f43['getPositio'+'n'](),_0x245645=_0x1c6f43['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1c6f43),_0x1c6f43['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x3ffa40)),_0x1c6f43['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x245645)),this['_children']['push'](_0x1c6f43),this['_onInsertC'+'hild'](_0x1c6f43);}['insertChil'+'d'](_0x11f6c6,_0x3235b3){this['_prepareIn'+'sertChild'](_0x11f6c6),this['_children']['splice'](_0x3235b3,0xcc9+-0x14fe+0x835,_0x11f6c6),this['_onInsertC'+'hild'](_0x11f6c6);}['_prepareIn'+'sertChild'](_0x5bdfe3){_0x5bdfe3['remove'](),w['assert'](_0x5bdfe3!==this,'GraphNode\x20'+(_0x5bdfe3==null?void(0x144a*0x1+-0x377*-0x4+-0x2226):_0x5bdfe3['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x5bdfe3),'GraphNode\x20'+(_0x5bdfe3==null?void(-0xdc5+-0x11e1*0x2+-0x199*-0x1f):_0x5bdfe3['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x4058c4,_0x522adf,_0x4e245f){this['fire'](_0x4058c4,_0x4e245f);for(let _0xfbee05=0x1017*0x1+0x1bc9+-0x2be0;_0xfbee05<this['_children']['length'];_0xfbee05++)this['_children'][_0xfbee05]['_fireOnHie'+'rarchy'](_0x522adf,_0x522adf,_0x4e245f);}['_onInsertC'+'hild'](_0x3f2fb5){_0x3f2fb5['_parent']=this;const _0x23a007=_0x3f2fb5['_enabled']&&this['enabled'];_0x3f2fb5['_enabledIn'+'Hierarchy']!==_0x23a007&&(_0x3f2fb5['_enabledIn'+'Hierarchy']=_0x23a007,_0x3f2fb5['_notifyHie'+'rarchyStat'+'eChanged'](_0x3f2fb5,_0x23a007)),_0x3f2fb5['_updateGra'+'phDepth'](),_0x3f2fb5['_dirtifyWo'+'rld'](),this['_frozen']&&_0x3f2fb5['_unfreezeP'+'arentToRoo'+'t'](),_0x3f2fb5['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x3f2fb5);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x1aaa+-0xd6a+0x2815):-0xe8f*0x1+0x23e+0xc51;for(let _0x25ce28=0xbaa+-0xb9f+0x1*-0xb,_0x1ee76b=this['_children']['length'];_0x25ce28<_0x1ee76b;_0x25ce28++)this['_children'][_0x25ce28]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x5c564b){const _0xc96ee1=this['_children']['indexOf'](_0x5c564b);_0xc96ee1!==-(-0x1f*-0x63+-0xf31+0x335)&&(this['_children']['splice'](_0xc96ee1,0x1e34+-0x1f7*0x5+0x8*-0x28c),_0x5c564b['_parent']=null,_0x5c564b['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x5c564b));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1733+-0x1778+0x2eac)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x258d70;const _0x36625b=this['_parent'];let _0x56a2e2=this['localScale'],_0x9747cb=_0x36625b;if(_0x9747cb){for(;_0x9747cb&&_0x9747cb['scaleCompe'+'nsation'];)_0x9747cb=_0x9747cb['_parent'];_0x9747cb&&(_0x9747cb=_0x9747cb['_parent'],_0x9747cb&&(_0x258d70=_0x9747cb['worldTrans'+'form']['getScale'](),T_['mul2'](_0x258d70,this['localScale']),_0x56a2e2=T_));}Wd['setFromMat'+'4'](_0x36625b['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x34ad62=_0x36625b['worldTrans'+'form'];_0x36625b['scaleCompe'+'nsation']&&(w_['mul2'](_0x258d70,_0x36625b['getLocalSc'+'ale']()),v_['setTRS'](_0x36625b['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x34ad62=v_),_0x34ad62['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x56a2e2);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1c66+0xee7+0xd80);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*0x1885+0x23dc+-0xb57),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x294e58=this['_children'];for(let _0x5ef65d=0x25af+-0x2404+-0x3d*0x7,_0x2a1408=_0x294e58['length'];_0x5ef65d<_0x2a1408;_0x5ef65d++)_0x294e58[_0x5ef65d]['syncHierar'+'chy']();}['lookAt'](_0x45cdc4,_0x2f82f2,_0x16eaf3,_0x1bd8fe=-0x1*-0x200e+0x2b0+-0x22be,_0x5b67b5=0xdfe*-0x1+-0x22dd+0x30dc,_0x23a628=0x164c+0x1df9+-0x3445){if(_0x45cdc4 instanceof D)$d['copy'](_0x45cdc4),_0x2f82f2 instanceof D?tc['copy'](_0x2f82f2):tc['copy'](D['UP']);else{if(_0x16eaf3===void(-0x256c+0x1518+0x1*0x1054))return;$d['set'](_0x45cdc4,_0x2f82f2,_0x16eaf3),tc['set'](_0x1bd8fe,_0x5b67b5,_0x23a628);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x1a2c80,_0x527a3a,_0x55e78f){_0x1a2c80 instanceof D?rs['copy'](_0x1a2c80):rs['set'](_0x1a2c80,_0x527a3a,_0x55e78f),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x3f7c53,_0x8b8d56,_0x47bea9){_0x3f7c53 instanceof D?rs['copy'](_0x3f7c53):rs['set'](_0x3f7c53,_0x8b8d56,_0x47bea9),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x2d6bea,_0x44948c,_0x1b2db2){if(as['setFromEul'+'erAngles'](_0x2d6bea,_0x44948c,_0x1b2db2),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x318b4b=this['getRotatio'+'n'](),_0x73346b=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x73346b)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x318b4b);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x102b23,_0x1553b4,_0x380c5f){as['setFromEul'+'erAngles'](_0x102b23,_0x1553b4,_0x380c5f),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x379691){const _0x40c9ab=yv['get'](_0x379691);return w['assert'](_0x40c9ab),_0x40c9ab;}function xE(_0x2e2b8c,_0x37489e){w['assert'](_0x37489e),yv['get'](_0x2e2b8c,()=>_0x37489e);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x28545b,_0x57f3e0)=>{_0x57f3e0['destroy']();}),this['cache']['clear']();}['incRef'](_0x452707){const _0x2c06ca=(this['cache']['get'](_0x452707)||-0x19b7+-0x1255+0x2c0c)+(-0x2a9*0x7+-0xba1*-0x1+0x6ff);this['cache']['set'](_0x452707,_0x2c06ca);}['decRef'](_0x25bcb5){if(_0x25bcb5){let _0x26f1b3=this['cache']['get'](_0x25bcb5);_0x26f1b3&&(_0x26f1b3--,_0x26f1b3===0x3*0x9c9+-0x131f+-0x1*0xa3c?(this['cache']['delete'](_0x25bcb5),_0x25bcb5['destroy']()):this['cache']['set'](_0x25bcb5,_0x26f1b3));}}}class zi{static['incRef'](_0x39a9ea){this['cache']['incRef'](_0x39a9ea);}static['decRef'](_0x3fe9d1){this['cache']['decRef'](_0x3fe9d1);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0x1da9+0x313*-0x7+-0x824;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x1c0e+0x1007*0x2+-0x3c18);class bE{constructor(_0xd8636e){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x1af4+0x1bd8+-0xe3)),this['count']=_0xd8636e;}['destroy'](){var _0x14828a;this['_destroyVe'+'rtexBuffer']&&((_0x14828a=this['vertexBuff'+'er'])==null||_0x14828a['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x527+0x1c8e+-0x21b1));}['get'](_0xe3a996){return this['map']['get'](_0xe3a996)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x5f047b){if(!this['bindGroup']){const _0xd4e417=this['shader'];w['assert'](_0xd4e417);const _0x35115f=_0xd4e417['meshBindGr'+'oupFormat'];w['assert'](_0x35115f),this['bindGroup']=new Up(_0x5f047b,_0x35115f),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x3a8297){if(!this['uniformBuf'+'fer']){const _0x285606=this['shader'];w['assert'](_0x285606);const _0xbb5a34=_0x285606['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0xbb5a34),this['uniformBuf'+'fer']=new zp(_0x3a8297,_0xbb5a34,!(-0xae9+-0xe8*0x16+0x1eda));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x17ab57,_0x53604c;(_0x17ab57=this['bindGroup'])==null||_0x17ab57['destroy'](),this['bindGroup']=null,(_0x53604c=this['uniformBuf'+'fer'])==null||_0x53604c['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x2a9ec5,_0x4e6930,_0x2b41c5=null){h(this,'castShadow',!(-0x1*0xe21+-0x2a*-0xd6+-0x14fa)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x8e0+0xf8e+-0x72*0xf)),h(this,'drawOrder',-0x1*-0x1597+-0x31*-0x4d+-0x2454),h(this,'_drawBucke'+'t',-0x20*0x9f+0x1da4+-0x71*0x15),h(this,'node'),h(this,'visible',!(-0x19a+0xa41+0x1*-0x8a7)),h(this,'visibleThi'+'sFrame',!(-0xb2*-0x30+-0x1e41*-0x1+-0x3fa0)),h(this,'flipFacesF'+'actor',-0x1*0x575+0x41*-0x4a+0x1840*0x1),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x134+-0x1996+0x2*0xc31)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x4*0x355+0x26d7+-0x342a)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x1da0+0x92*0x2+0x1c7d)),h(this,'_aabbMeshV'+'er',-(-0x1*-0x2446+-0x262*-0x7+-0x34f3)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0xb0b+0xd*0x241+-0x2858)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x18d7+-0x11e1+-0x6f6),h(this,'_sortKeyFo'+'rward',-0x1*0xc07+0x6*0x4ae+-0x100d),h(this,'_sortKeyDy'+'namic',-0xf*0x15d+0x2e*-0xd1+0x1*0x3a01),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x1*-0xefc+-0x1980+0xa84)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(-0x224*0x6+0x12c5+-0x2f6*0x2)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x681+-0x1*-0x1e25+-0x1794),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x2a9ec5 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x2b41c5,this['_mesh']=_0x2a9ec5,_0x2a9ec5['incRefCoun'+'t'](),this['material']=_0x4e6930,_0x2a9ec5['vertexBuff'+'er']){const _0x235d39=_0x2a9ec5['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x235d39['hasUv0']?nm:0x330+0x1feb+-0x231b,this['_shaderDef'+'s']|=_0x235d39['hasUv1']?dv:-0x1894+0x1*0x208f+0xe3*-0x9,this['_shaderDef'+'s']|=_0x235d39['hasColor']?fv:-0xe77+0x373*0x1+0xb04,this['_shaderDef'+'s']|=_0x235d39['hasTangent'+'s']?om:-0x2099+0x3d*-0x95+-0x17*-0x2f6;}this['updateKey']();}set['drawBucket'](_0x520a07){this['_drawBucke'+'t']=Math['floor'](_0x520a07)&0x1c73+0x6ab+-0x1*0x221f,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x319ae2){this['_renderSty'+'le']=_0x319ae2,this['mesh']['prepareRen'+'derState'](_0x319ae2);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x35c83a){_0x35c83a!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x35c83a,_0x35c83a&&_0x35c83a['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0xc4241d){this['_aabb']=_0xc4241d;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x2c8adb=this['_customAab'+'b'],_0x148805=!!_0x2c8adb;if(!_0x2c8adb){if(_0x2c8adb=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x509a07=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x509a07);}const _0xccad0d=this['mesh']['boneUsed'];let _0x2203eb=!(-0x23*-0x57+0x715*-0x1+0x2*-0x268);for(let _0x557079=0x7*-0x3e6+0x4a0+0x3*0x78e;_0x557079<this['mesh']['boneAabb']['length'];_0x557079++)_0xccad0d[_0x557079]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x557079],this['skinInstan'+'ce']['matrices'][_0x557079]),_0x2203eb?(_0x2203eb=!(0x1f18+-0x248e+0x577),_0x2c8adb['center']['copy'](sc['center']),_0x2c8adb['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x2c8adb['add'](sc));_0x148805=!(-0x1d7d+0x37b+0x1a02*0x1);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x2c8adb['center']['copy'](this['mesh']['aabb']['center']),_0x2c8adb['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x2c8adb['center']['set'](0xb68+0x174+0xcdc*-0x1,0x1a5+-0x12a4+0xe5*0x13,-0x1f9e+0x1264+-0xd3a*-0x1),_0x2c8adb['halfExtent'+'s']['set'](0x1f08*0x1+-0xba*0x5+-0x1b66,0x9*-0xc1+0x5*0x14f+-0x2*-0x1f,-0x454+-0x54*-0x52+-0x1694)),this['mesh']&&this['mesh']['morph']){const _0x46c0fb=this['mesh']['morph']['aabb'];_0x2c8adb['_expand'](_0x46c0fb['getMin'](),_0x46c0fb['getMax']());}_0x148805=!(-0x375*-0x6+0x1*0x2224+-0x36e2),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x148805&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x2c8adb,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x3a5447=>{_0x3a5447['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x3ceb70,_0x3a6038,_0x239917,_0x336fa7,_0x2a0e06,_0x1ae4c,_0x3fd9a8){var _0xd29084;const _0x26fe1f=this['_shaderDef'+'s'];Rr[0x81d+-0x12*0xc2+0x587]=_0x3ceb70,Rr[-0x2f5*-0x6+0x16e8+-0x28a5]=_0x3a6038,Rr[-0x4*-0x6f1+0x2374*0x1+-0x3*0x1512]=_0x26fe1f,Rr[0x3*-0x9d5+-0x22ba*0x1+0x1*0x403c]=_0x336fa7['hash'];const _0x386596=By(Rr);let _0x337407=this['_shaderCac'+'he']['get'](_0x386596);if(!_0x337407){const _0x543664=this['_material'];if(_0x337407=new CE(),_0x337407['shader']=_0x543664['variants']['get'](_0x386596),_0x337407['hashes']=new Uint32Array(Rr),!_0x337407['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x5e824e=_0x543664['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x239917,'objDefs':_0x26fe1f,'cameraShaderParams':_0x336fa7,'pass':_0x3ceb70,'sortedLights':_0x3fd9a8,'viewUniformFormat':_0x2a0e06,'viewBindGroupFormat':_0x1ae4c,'vertexFormat':(_0xd29084=this['mesh']['vertexBuff'+'er'])==null?void(-0x1ca3*0x1+0xaba+0x1*0x11e9):_0xd29084['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x543664['variants']['set'](_0x386596,_0x5e824e),_0x337407['shader']=_0x5e824e;}this['_shaderCac'+'he']['set'](_0x386596,_0x337407);}return w['call'](()=>{IT['equals'](_0x337407['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x337407;}set['material'](_0x4d9fc7){this['clearShade'+'rs']();const _0x5dea41=this['_material'];_0x5dea41&&_0x5dea41['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4d9fc7,_0x4d9fc7&&(_0x4d9fc7['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4d9fc7['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0xe665b8){_0xe665b8!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0xe665b8,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x173e72){this['_calculate'+'SortDistan'+'ce']=_0x173e72;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x62d5da){this['_receiveSh'+'adow']!==_0x62d5da&&(this['_receiveSh'+'adow']=_0x62d5da,this['_updateSha'+'derDefs'](_0x62d5da?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x3a39bd){this['_updateSha'+'derDefs'](_0x3a39bd?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0xf58+0x44*-0x8+-0xbc*0x12;}set['skinInstan'+'ce'](_0x552373){this['_skinInsta'+'nce']=_0x552373,this['_updateSha'+'derDefs'](_0x552373?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x14fb85){var _0x1ca1c1;(_0x1ca1c1=this['_morphInst'+'ance'])==null||_0x1ca1c1['destroy'](),this['_morphInst'+'ance']=_0x14fb85;let _0x4f73c6=this['_shaderDef'+'s'];_0x4f73c6=_0x14fb85&&_0x14fb85['morph']['morphPosit'+'ions']?_0x4f73c6|ll:_0x4f73c6&~ll,_0x4f73c6=_0x14fb85&&_0x14fb85['morph']['morphNorma'+'ls']?_0x4f73c6|cl:_0x4f73c6&~cl,_0x4f73c6=_0x14fb85&&_0x14fb85['morph']['intRenderF'+'ormat']?_0x4f73c6|hl:_0x4f73c6&~hl,this['_updateSha'+'derDefs'](_0x4f73c6);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0xffaf7){this['_screenSpa'+'ce']!==_0xffaf7&&(this['_screenSpa'+'ce']=_0xffaf7,this['_updateSha'+'derDefs'](_0xffaf7?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x50487f){this['_sortKeyFo'+'rward']=_0x50487f;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x44fd71){const _0xd72dac=this['_shaderDef'+'s']&0x1*-0xc635+0x5555+0x170df;this['_updateSha'+'derDefs'](_0xd72dac|_0x44fd71<<0x1a2b+0x1*-0x2164+-0x749*-0x1);}get['mask'](){return this['_shaderDef'+'s']>>-0x7d*0x43+-0x1*-0x135d+-0x65*-0x22;}set['instancing'+'Count'](_0x1132e6){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x1132e6);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x179*0xd+-0x20a3+-0x4*-0xcf2;}['destroy'](){var _0x3bf7c1,_0x4cbd3e,_0x131877;const _0x4e2957=this['mesh'];_0x4e2957&&(this['mesh']=null,_0x4e2957['refCount']<-0xe62+0xf78+-0x115&&_0x4e2957['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0xc96+-0x60*0x1d+0x49*-0x6],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x2*0x5ba+-0x148d*-0x1+-0x2000],null),(_0x3bf7c1=this['_skinInsta'+'nce'])==null||_0x3bf7c1['destroy'](),this['_skinInsta'+'nce']=null,(_0x4cbd3e=this['morphInsta'+'nce'])==null||_0x4cbd3e['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x131877=this['instancing'+'Data'])==null||_0x131877['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x550ee0,_0x872ee){if(_0x550ee0){for(let _0x4c1ef0=-0x1d*-0x6+-0x1*-0x783+-0x831;_0x4c1ef0<_0x550ee0['length'];_0x4c1ef0++){_0x550ee0[_0x4c1ef0]['_renderSty'+'le']=_0x872ee;const _0x164596=_0x550ee0[_0x4c1ef0]['mesh'];qd['has'](_0x164596)||(qd['add'](_0x164596),_0x164596['prepareRen'+'derState'](_0x872ee));}qd['clear']();}}['_isVisible'](_0x305ce1){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x305ce1):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x305ce1['frustum']['containsSp'+'here'](Xd)>0x1a*-0xa3+-0x92a+0x19b8):!(-0x1e4d+0x1592+-0xd*-0xac);}['updateKey'](){const {material:_0x4db016}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0x1014+0x59*-0x2b+-0x10a|(_0x4db016['alphaToCov'+'erage']||_0x4db016['alphaTest']?-0x7c566f+0x6ffbc4+0x4c5aab:-0x21+-0x19*-0x119+-0x1b50)|_0x4db016['id']&-0x68c244+0x20ebd7*0x2+0x66ea95;}['setInstanc'+'ing'](_0x381f78,_0x34258a=!(0x2169+-0x1*-0x6b+0x1*-0x21d3)){_0x381f78?(this['instancing'+'Data']=new bE(_0x381f78['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x381f78,_0x381f78['format']['instancing']=!(0x240b*-0x1+0x142*0x4+0x1*0x1f03),this['cull']=_0x34258a):(this['instancing'+'Data']=null,this['cull']=!(-0x13af+0x1d4d+-0x99e*0x1)),this['_updateSha'+'derDefs'](_0x381f78?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x472559,_0x165604){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x472559==null?void(0x11dc+-0x3c4*-0x8+-0x4*0xbff):_0x472559['camera'])??null,_0x165604),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x516987;this['_allocIndi'+'rectData']();const _0x481d87=(_0x516987=this['mesh'])==null?void(-0x227e+0x57*-0x5e+-0x84e*-0x8):_0x516987['primitive'][this['renderStyl'+'e']],_0x1c5f03=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x1c5f03[-0x71d+0x2086+-0x515*0x5]=_0x481d87['count'],_0x1c5f03[-0x1166+0x2*0x9a3+0x1df*-0x1]=_0x481d87['base'],_0x1c5f03[0x1067+-0x1572+0x50d*0x1]=_0x481d87['baseVertex'],_0x1c5f03;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x53f685){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x53f685));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x3bb6ac){return this['parameters'][_0x3bb6ac];}['setParamet'+'er'](_0x37cbd9,_0x32fc40,_0x399700=-0x244e2938*0x3+0x1f098f8bb+-0x83ae7d14){const _0x207ace=this['parameters'][_0x37cbd9];_0x207ace?(_0x207ace['data']=_0x32fc40,_0x207ace['passFlags']=_0x399700):this['parameters'][_0x37cbd9]={'scopeId':null,'data':_0x32fc40,'passFlags':_0x399700};}['setRealtim'+'eLightmap'](_0x58c387,_0x385cbd){const _0xda66a2=this['getParamet'+'er'](_0x58c387);_0xda66a2!==_0x385cbd&&(_0xda66a2&&zi['decRef'](_0xda66a2['data']),_0x385cbd?(zi['incRef'](_0x385cbd),this['setParamet'+'er'](_0x58c387,_0x385cbd)):this['deletePara'+'meter'](_0x58c387));}['deletePara'+'meter'](_0x46da4f){this['parameters'][_0x46da4f]&&delete this['parameters'][_0x46da4f];}['setParamet'+'ers'](_0x17f38b,_0x561bc7){const _0x374462=this['parameters'];for(const _0x3e8b85 in _0x374462){const _0x4650f4=_0x374462[_0x3e8b85];_0x4650f4['passFlags']&_0x561bc7&&(_0x4650f4['scopeId']||(_0x4650f4['scopeId']=_0x17f38b['scope']['resolve'](_0x3e8b85)),_0x4650f4['scopeId']['setValue'](_0x4650f4['data']));}}['setLightma'+'pped'](_0x3f1b84){_0x3f1b84?this['mask']=(this['mask']|di)&-(0x8*-0x32b+0x824+0x7*0x276):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x258d*0x1+0x1e93+0x6fa],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x4b*-0x4b+0x1160+-0x1*0x2758],null),this['_shaderDef'+'s']&=-(0xdc4+-0x1*0xccd+0xfca),this['mask']=(this['mask']|Ss)&-(-0x26e8+0x11d*0x9+0x1cea));}['setCustomA'+'abb'](_0x5b4c96){_0x5b4c96?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x5b4c96):this['_customAab'+'b']=_0x5b4c96['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0xb62+0x118f+-0x62c)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x124f*0x2+-0x23*-0x4+-0x252a,0x6aa+0xe40+-0x14e9*0x1,-0xd2d+0x26e4+0x524*-0x5,-0x31b*-0x2+-0x26+-0x60e,0x535*-0x2+0x517*-0x2+0x19*0xd3,-0x2*0xcdc+-0x1ff1+0x39aa],ME=[0x212+0x2161+0x5*-0x717,0xa1*-0x5+-0x23d+0x563,0x649*0x2+0x29e+-0xf2d,0x2633+-0x2708+-0x47*-0x3,0x8f4+0x1*0xeb1+-0x17a2,-0xc86+-0x4*0x2b2+0x1750],A_=new _i();function C_(_0x33b39a,_0x374c79){if(_0x33b39a&&!_0x374c79||!_0x33b39a&&_0x374c79)return!(-0x496*0x8+0xc2*-0x2a+0x4485);if(_0x33b39a=_0x33b39a['data'],_0x374c79=_0x374c79['data'],_0x33b39a===_0x374c79)return!(-0x1a36+0x1*-0x7dc+0x2212);if(_0x33b39a instanceof Float32Array&&_0x374c79 instanceof Float32Array){if(_0x33b39a['length']!==_0x374c79['length'])return!(-0xbd5+0x11df+0x609*-0x1);for(let _0x129b5d=0x2*-0xbab+-0x1*0x747+0x1e9d;_0x129b5d<_0x33b39a['length'];_0x129b5d++)if(_0x33b39a[_0x129b5d]!==_0x374c79[_0x129b5d])return!(-0x23d1+-0xc6c+0x303e);return!(0x26e9+0x2de*-0x1+-0x1*0x240b);}return!(0x1bf2+0x1567+-0x3158);}function DE(_0x4a5891,_0x2d64fe){for(const _0x167b52 in _0x4a5891)if(_0x4a5891['hasOwnProp'+'erty'](_0x167b52)&&!C_(_0x4a5891[_0x167b52],_0x2d64fe[_0x167b52]))return!(0x1655+-0xa*-0x36d+-0x1c4b*0x2);for(const _0x483f97 in _0x2d64fe)if(_0x2d64fe['hasOwnProp'+'erty'](_0x483f97)&&!C_(_0x2d64fe[_0x483f97],_0x4a5891[_0x483f97]))return!(0xd8d+0x6*0x114+-0x7*0x2dc);return!(-0x2073+0x34c*-0x2+0x270b);}function jd(_0x1132a5){return _0x1132a5['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x267cf8,_0x4bd14d,_0x41ecf4){this['device']=_0x267cf8,this['rootNode']=_0x4bd14d,this['scene']=_0x41ecf4,this['_init']=!(0x1*-0x1062+0x2*0x14+0x103b),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x21f9+-0x10f6+0x32ef,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x171573,_0x336df0,_0x3fc302,_0x13fab7,_0x43b89a){if(_0x13fab7===void(-0x16f3+0x7f*0x30+-0xdd)&&(_0x13fab7=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x13fab7]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x13fab7+('\x20already\x20e'+'xists.'));return;}const _0x129617=new St(_0x13fab7,_0x171573,_0x336df0,_0x3fc302,_0x43b89a);return this['_batchGrou'+'ps'][_0x13fab7]=_0x129617,_0x129617;}['removeGrou'+'p'](_0x4cc22b){if(!this['_batchGrou'+'ps'][_0x4cc22b]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4cc22b+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x35315b=[];for(let _0x56cf46=-0xa9c+0x7a*0x49+-0x182e;_0x56cf46<this['_batchList']['length'];_0x56cf46++)this['_batchList'][_0x56cf46]['batchGroup'+'Id']===_0x4cc22b?this['destroyBat'+'ch'](this['_batchList'][_0x56cf46]):_0x35315b['push'](this['_batchList'][_0x56cf46]);this['_batchList']=_0x35315b,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x4cc22b),delete this['_batchGrou'+'ps'][_0x4cc22b];}['markGroupD'+'irty'](_0x35597d){this['_dirtyGrou'+'ps']['indexOf'](_0x35597d)<-0xb18*-0x2+0x3d7*0x1+-0x1a07&&this['_dirtyGrou'+'ps']['push'](_0x35597d);}['getGroupBy'+'Name'](_0x2b07ba){const _0x25882a=this['_batchGrou'+'ps'];for(const _0xadd2d0 in _0x25882a)if(_0x25882a['hasOwnProp'+'erty'](_0xadd2d0)&&_0x25882a[_0xadd2d0]['name']===_0x2b07ba)return _0x25882a[_0xadd2d0];return null;}['getBatches'](_0x4493f6){const _0x5024be=[],_0x3dec57=this['_batchList']['length'];for(let _0x4ead17=-0x195e+-0xb11*0x1+0x3*0xc25;_0x4ead17<_0x3dec57;_0x4ead17++){const _0x4e5498=this['_batchList'][_0x4ead17];_0x4e5498['batchGroup'+'Id']===_0x4493f6&&_0x5024be['push'](_0x4e5498);}return _0x5024be;}['_removeMod'+'elsFromBat'+'chGroup'](_0x1d3399,_0x4e5ce2){if(_0x1d3399['enabled']){_0x1d3399['model']&&_0x1d3399['model']['batchGroup'+'Id']===_0x4e5ce2&&(_0x1d3399['model']['batchGroup'+'Id']=-(0x3*0x2f+-0x1723+0x1697)),_0x1d3399['render']&&_0x1d3399['render']['batchGroup'+'Id']===_0x4e5ce2&&(_0x1d3399['render']['batchGroup'+'Id']=-(-0x4c7*-0x7+-0x16*0x7e+-0x4*0x5a7)),_0x1d3399['element']&&_0x1d3399['element']['batchGroup'+'Id']===_0x4e5ce2&&(_0x1d3399['element']['batchGroup'+'Id']=-(-0x11a*0x10+-0x381+0x1522)),_0x1d3399['sprite']&&_0x1d3399['sprite']['batchGroup'+'Id']===_0x4e5ce2&&(_0x1d3399['sprite']['batchGroup'+'Id']=-(-0x15cc+-0x1085+0x2652));for(let _0x52e0b5=0x1*0x141b+-0x173*0x7+-0x32*0x33;_0x52e0b5<_0x1d3399['_children']['length'];_0x52e0b5++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x1d3399['_children'][_0x52e0b5],_0x4e5ce2);}}['insert'](_0x12bbb1,_0x44abfe,_0x34fed0){const _0x3fae66=this['_batchGrou'+'ps'][_0x44abfe];w['assert'](_0x3fae66,'Invalid\x20ba'+'tch\x20'+_0x44abfe+'\x20insertion'),_0x3fae66&&_0x3fae66['_obj'][_0x12bbb1]['indexOf'](_0x34fed0)<0x2*0x3d+-0x1a74*-0x1+-0x1aee&&(_0x3fae66['_obj'][_0x12bbb1]['push'](_0x34fed0),this['markGroupD'+'irty'](_0x44abfe));}['remove'](_0x183302,_0x166d00,_0x2dbe9d){const _0x46878c=this['_batchGrou'+'ps'][_0x166d00];if(w['assert'](_0x46878c,'Invalid\x20ba'+'tch\x20'+_0x166d00+'\x20insertion'),_0x46878c){const _0x25b851=_0x46878c['_obj'][_0x183302]['indexOf'](_0x2dbe9d);_0x25b851>=0x4ed+0xedd*-0x2+0x18cd&&(_0x46878c['_obj'][_0x183302]['splice'](_0x25b851,-0x1439+-0x945+0x1d7f),this['markGroupD'+'irty'](_0x166d00));}}['_extractRe'+'nder'](_0x3128cf,_0xc5d112,_0x2cf7db,_0x4a0220){return _0x3128cf['render']&&(_0xc5d112=_0x4a0220[_0x3128cf['render']['batchGroup'+'Id']]=_0xc5d112['concat'](_0x3128cf['render']['meshInstan'+'ces']),_0x3128cf['render']['removeFrom'+'Layers']()),_0xc5d112;}['_extractMo'+'del'](_0x58f0ed,_0x356b68,_0x3eac6f,_0x5194da){return _0x58f0ed['model']&&_0x58f0ed['model']['model']&&(_0x356b68=_0x5194da[_0x58f0ed['model']['batchGroup'+'Id']]=_0x356b68['concat'](_0x58f0ed['model']['meshInstan'+'ces']),_0x58f0ed['model']['removeMode'+'lFromLayer'+'s'](),_0x58f0ed['model']['_batchGrou'+'p']=_0x3eac6f),_0x356b68;}['_extractEl'+'ement'](_0x2fee82,_0xd4f2b2,_0x4494c5){if(!_0x2fee82['element'])return;let _0xa00cf4=!(-0xa4b+-0x14ac+0x1ef8);_0x2fee82['element']['_text']&&_0x2fee82['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x1b27+0x787*-0x2+0x871*0x5?(_0xd4f2b2['push'](_0x2fee82['element']['_text']['_model']['meshInstan'+'ces'][-0xa29*0x1+0x5*0x28c+-0x293]),_0x2fee82['element']['removeMode'+'lFromLayer'+'s'](_0x2fee82['element']['_text']['_model']),_0xa00cf4=!(-0x2df+0x5bf*0x2+-0x89f)):_0x2fee82['element']['_image']&&(_0xd4f2b2['push'](_0x2fee82['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x2fee82['element']['removeMode'+'lFromLayer'+'s'](_0x2fee82['element']['_image']['_renderabl'+'e']['model']),_0x2fee82['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0xd4f2b2['push'](_0x2fee82['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x2fee82['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x2fee82['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x2fee82['element']['_dirtifyMa'+'sk'](),_0x2fee82['element']['_onPrerend'+'er']())),_0xa00cf4=!(-0x5*-0x773+-0x93*-0x3d+-0x27e*0x1d)),_0xa00cf4&&(_0x4494c5['_ui']=!(-0x1625*-0x1+0x2aa+-0x18cf),_0x2fee82['element']['_batchGrou'+'p']=_0x4494c5);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x1782e8,_0x1f922a){for(let _0x2a0ee3=-0x5*0x1d8+-0x1d98+0x26d0;_0x2a0ee3<_0x1f922a['length'];_0x2a0ee3++){const _0x480218=_0x1f922a[_0x2a0ee3],_0x362ac4=this['_batchGrou'+'ps'][_0x480218];if(!_0x362ac4)continue;let _0x56df05=_0x1782e8[_0x480218];_0x56df05||(_0x56df05=_0x1782e8[_0x480218]=[]);for(let _0x33b347=-0x1363+-0x9dd*0x3+0x187d*0x2;_0x33b347<_0x362ac4['_obj']['model']['length'];_0x33b347++)_0x56df05=this['_extractMo'+'del'](_0x362ac4['_obj']['model'][_0x33b347],_0x56df05,_0x362ac4,_0x1782e8);for(let _0x251b71=0x283+0x425+-0x2*0x354;_0x251b71<_0x362ac4['_obj']['render']['length'];_0x251b71++)_0x56df05=this['_extractRe'+'nder'](_0x362ac4['_obj']['render'][_0x251b71],_0x56df05,_0x362ac4,_0x1782e8);for(let _0x4bf9c9=-0x2*-0xfb3+0xc59*-0x3+0x5a5;_0x4bf9c9<_0x362ac4['_obj']['element']['length'];_0x4bf9c9++)this['_extractEl'+'ement'](_0x362ac4['_obj']['element'][_0x4bf9c9],_0x56df05,_0x362ac4);for(let _0xb6e1e5=-0x14ae+-0x4e1*0x7+0x36d5;_0xb6e1e5<_0x362ac4['_obj']['sprite']['length'];_0xb6e1e5++){const _0x52a6e4=_0x362ac4['_obj']['sprite'][_0xb6e1e5];_0x52a6e4['sprite']&&_0x52a6e4['sprite']['_meshInsta'+'nce']&&(_0x362ac4['dynamic']||_0x52a6e4['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x56df05['push'](_0x52a6e4['sprite']['_meshInsta'+'nce']),_0x52a6e4['sprite']['removeMode'+'lFromLayer'+'s'](),_0x362ac4['_sprite']=!(0x1083+-0x513*0x1+-0xb70),_0x52a6e4['sprite']['_batchGrou'+'p']=_0x362ac4);}}}['generate'](_0x1b8208){const _0x1aa3ca={};_0x1b8208||(_0x1b8208=Object['keys'](this['_batchGrou'+'ps']));const _0x2d8f9a=[];for(let _0x3ab57c=0x1937+0x3*0x48f+-0x26e4;_0x3ab57c<this['_batchList']['length'];_0x3ab57c++){if(_0x1b8208['indexOf'](this['_batchList'][_0x3ab57c]['batchGroup'+'Id'])<-0x2*-0x9a3+-0x7*0x2f5+0x1*0x16d){_0x2d8f9a['push'](this['_batchList'][_0x3ab57c]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x3ab57c]);}if(this['_batchList']=_0x2d8f9a,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x1aa3ca,_0x1b8208),_0x1b8208===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x2*-0xa38+-0x8fd*-0x3+-0x2f67;else{const _0x3fbe8c=[];for(let _0x1879bf=0x3*0xaf3+-0x16fb+-0x9de;_0x1879bf<this['_dirtyGrou'+'ps']['length'];_0x1879bf++)_0x1b8208['indexOf'](this['_dirtyGrou'+'ps'][_0x1879bf])<-0x1899+0x1e9a+-0x1d*0x35&&_0x3fbe8c['push'](this['_dirtyGrou'+'ps'][_0x1879bf]);this['_dirtyGrou'+'ps']=_0x3fbe8c;}let _0x123e2d,_0x3f5465,_0x59db99,_0x380536;for(const _0x295c41 in _0x1aa3ca)if(_0x1aa3ca['hasOwnProp'+'erty'](_0x295c41)){if(_0x123e2d=_0x1aa3ca[_0x295c41],_0x59db99=this['_batchGrou'+'ps'][_0x295c41],!_0x59db99){w['error']('batch\x20grou'+'p\x20'+_0x295c41+'\x20not\x20found');continue;}_0x3f5465=this['prepare'](_0x123e2d,_0x59db99['dynamic'],_0x59db99['maxAabbSiz'+'e'],_0x59db99['_ui']||_0x59db99['_sprite']);for(let _0x2e7250=-0x21*-0x33+0x1*0xc11+-0x12a4*0x1;_0x2e7250<_0x3f5465['length'];_0x2e7250++)_0x380536=this['create'](_0x3f5465[_0x2e7250],_0x59db99['dynamic'],parseInt(_0x295c41,-0x1f4b*0x1+0x1bbd+-0x73*-0x8)),_0x380536&&_0x380536['addToLayer'+'s'](this['scene'],_0x59db99['layers']);}}['prepare'](_0x988ed3,_0x25e667,_0x571120=Number['POSITIVE_I'+'NFINITY'],_0x4e950e){if(_0x988ed3['length']===0x1642+-0x2*0xb71+0xa0)return[];const _0x2fe7aa=_0x571120*(0x2*0x2f2+-0x43*-0x1b+0x1*-0xcf5+0.5),_0x382127=0x20d8+-0xfae+-0xd2a,_0x5c0bf8=0x133f7f8d3+0x917bd9e0+-0xc573d2b4,_0x34458f=new De(),_0x12b608=new De();let _0xa0e0da=null,_0x2f423a;const _0x85f4d8=[];let _0x2def98=0x280+-0x1db5+0x3e3*0x7;_0x4e950e&&_0x988ed3['sort']((_0x2179aa,_0x547318)=>_0x2179aa['drawOrder']-_0x547318['drawOrder']);let _0x11b394=_0x988ed3,_0x3791d6;const _0x108979=_0x4e950e?function(_0x10af34){_0xa0e0da?_0xa0e0da['add'](_0x10af34['aabb']):_0xa0e0da=_0x10af34['aabb']['clone'](),_0x3791d6['push'](_0x10af34);}:function(_0x245a7b){_0x3791d6['push'](_0x245a7b);};for(;_0x11b394['length']>-0x1*-0x142+-0x1041+0xeff;){_0x85f4d8[_0x2def98]=[_0x11b394[-0x4*-0x39e+-0x9*-0x203+-0x2093]],_0x3791d6=[];const _0x3bcf59=_0x11b394[0x475+0x1b47+-0x1fbc]['material'],_0x52bd6c=_0x11b394[0xc3*0x1f+0x1f75*0x1+-0x13*0x2e6]['layer'],_0x5695b7=_0x11b394[-0x1470+-0x1*0xbb9+-0x1*-0x2029]['_shaderDef'+'s'],_0x565a48=_0x11b394[-0x2b+0x2270+0x1f*-0x11b]['parameters'],_0x4dfaaf=_0x11b394[-0x2*0x12da+-0xcc6+0x327a]['stencilFro'+'nt'];let _0x32b5f4=_0x11b394[-0x10bb+0x2639+0x83*-0x2a]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x21b855=_0x11b394[0x1085+0x7f*0x7+-0x6aa*0x3]['drawOrder'];_0x34458f['copy'](_0x11b394[-0xc17+-0x1b7c+-0x1*-0x2793]['aabb']);const _0x40dec0=jd(_0x11b394[-0x3*0x4b3+-0x5*-0x5f1+-0xf9c]),_0x540f0d=_0x11b394[0x1bf5+0x5ee*0x1+-0x21e3]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x94381a=_0x11b394[0x13b4*0x1+0x7*0x394+0x2cc*-0x10]['mesh']['primitive'][0x4a*-0x69+-0x11*0x18b+0x3895*0x1]['indexed'];_0xa0e0da=null;for(let _0xfa5e65=-0x2*0xa88+0x881+0xc90;_0xfa5e65<_0x11b394['length'];_0xfa5e65++){const _0x37ffa6=_0x11b394[_0xfa5e65];if(_0x25e667&&_0x85f4d8[_0x2def98]['length']>=_0x382127){_0x3791d6=_0x3791d6['concat'](_0x11b394['slice'](_0xfa5e65));break;}if(_0x3bcf59!==_0x37ffa6['material']||_0x52bd6c!==_0x37ffa6['layer']||_0x540f0d!==_0x37ffa6['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x94381a!==_0x37ffa6['mesh']['primitive'][0x1*0xb2e+-0x3*0x1f7+-0x549]['indexed']||_0x5695b7!==_0x37ffa6['_shaderDef'+'s']||_0x32b5f4+_0x37ffa6['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x5c0bf8){_0x108979(_0x37ffa6);continue;}if(_0x12b608['copy'](_0x34458f),_0x12b608['add'](_0x37ffa6['aabb']),_0x12b608['halfExtent'+'s']['x']>_0x2fe7aa||_0x12b608['halfExtent'+'s']['y']>_0x2fe7aa||_0x12b608['halfExtent'+'s']['z']>_0x2fe7aa){_0x108979(_0x37ffa6);continue;}if(_0x4dfaaf&&(!(_0x2f423a=_0x37ffa6['stencilFro'+'nt'])||_0x4dfaaf['func']!==_0x2f423a['func']||_0x4dfaaf['zpass']!==_0x2f423a['zpass'])){_0x108979(_0x37ffa6);continue;}if(_0x40dec0!==jd(_0x37ffa6)){_0x108979(_0x37ffa6);continue;}if(!DE(_0x565a48,_0x37ffa6['parameters'])){_0x108979(_0x37ffa6);continue;}if(_0x4e950e&&_0xa0e0da&&_0xa0e0da['intersects'](_0x37ffa6['aabb'])&&_0x37ffa6['drawOrder']!==_0x21b855){_0x108979(_0x37ffa6);continue;}_0x34458f['add'](_0x37ffa6['aabb']),_0x32b5f4+=_0x37ffa6['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x85f4d8[_0x2def98]['push'](_0x37ffa6);}_0x2def98++,_0x11b394=_0x3791d6;}return _0x85f4d8;}['collectBat'+'chedMeshDa'+'ta'](_0x24d1d7,_0xb37d4a){let _0x19c9d3=null,_0x256808=0x1153+0x1*0x7b9+-0x190c,_0x432a45=-0x5*0x717+-0xdd0+0x3143*0x1,_0x58e35a=null;for(let _0x1b049c=-0x498*0x8+-0x167*-0xe+0x111e;_0x1b049c<_0x24d1d7['length'];_0x1b049c++)if(_0x24d1d7[_0x1b049c]['visible']){const _0x5608a6=_0x24d1d7[_0x1b049c]['mesh'],_0x48dd65=_0x5608a6['vertexBuff'+'er']['numVertice'+'s'];if(_0x256808+=_0x48dd65,_0x5608a6['primitive'][-0x186*-0x1+-0x1dbd+-0x1c37*-0x1]['indexed'])_0x432a45+=_0x5608a6['primitive'][-0x203b+0x2*0x119+-0xe9*-0x21]['count'];else{const _0x3adb71=_0x5608a6['primitive'][0x1f11+0x3f3+-0x2304]['type'];(_0x3adb71===oa||_0x3adb71===Er)&&_0x5608a6['primitive'][-0xd*-0x116+0x16d5*-0x1+0x8b7]['count']===0x21fb*0x1+-0xb39+-0x16be&&(_0x432a45+=-0x146e+0x1cb3+-0x83f);}if(!_0x19c9d3){_0x58e35a=_0x24d1d7[_0x1b049c]['material'],_0x19c9d3={};const _0xcb5bcf=_0x5608a6['vertexBuff'+'er']['format']['elements'];for(let _0x5d35dc=-0x106a+0x18d2+-0x10d*0x8;_0x5d35dc<_0xcb5bcf['length'];_0x5d35dc++){const _0x318d5e=_0xcb5bcf[_0x5d35dc]['name'];_0x19c9d3[_0x318d5e]={'numComponents':_0xcb5bcf[_0x5d35dc]['numCompone'+'nts'],'dataType':_0xcb5bcf[_0x5d35dc]['dataType'],'normalize':_0xcb5bcf[_0x5d35dc]['normalize'],'count':0x0};}_0xb37d4a&&(_0x19c9d3[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x4c9*-0x4+0x2b3+0x1072),'count':0x0});}}return{'streams':_0x19c9d3,'batchNumVerts':_0x256808,'batchNumIndices':_0x432a45,'material':_0x58e35a};}['create'](_0x45fce0,_0x283a87,_0x5ed283){const _0x4d8752=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x7ae+0xe3b+-0x68d));let _0x173eeb=null,_0x2b51b6,_0x4a0e73,_0x3dc832,_0x5021f4=null;const _0x181649=this['collectBat'+'chedMeshDa'+'ta'](_0x45fce0,_0x283a87);if(_0x181649['streams']){const _0x17591c=_0x181649['streams'];let _0x54ab5a=_0x181649['material'];const _0x1d64d6=_0x181649['batchNumVe'+'rts'],_0x55b47e=_0x181649['batchNumIn'+'dices'];_0x5021f4=new g_(_0x45fce0,_0x283a87,_0x5ed283),this['_batchList']['push'](_0x5021f4);let _0x413ac4,_0x3e6c03,_0x2ac7c6,_0x23c314,_0x4a43ed=0x18c8+0x106b+-0x2933,_0x5b50cc=-0x165*0x16+0x1cb+-0x1ed*-0xf,_0x51495f;const _0x5db9b9=_0x1d64d6<=0x40b*-0x74+0x651+0x2ceaa?Uint16Array:Uint32Array,_0x3e7bdd=new _0x5db9b9(_0x55b47e);for(_0x2b51b6 in _0x17591c)_0x173eeb=_0x17591c[_0x2b51b6],_0x173eeb['typeArrayT'+'ype']=wn[_0x173eeb['dataType']],_0x173eeb['elementByt'+'eSize']=No[_0x173eeb['dataType']],_0x173eeb['buffer']=new _0x173eeb['typeArrayT'+'ype'](_0x1d64d6*_0x173eeb['numCompone'+'nts']);for(let _0x38ab01=0x45d*-0x1+-0x1*0x2197+-0x1*-0x25f4;_0x38ab01<_0x45fce0['length'];_0x38ab01++)if(_0x45fce0[_0x38ab01]['visible']){_0x4a0e73=_0x45fce0[_0x38ab01]['mesh'],_0x3dc832=_0x4a0e73['vertexBuff'+'er']['numVertice'+'s'],_0x283a87||(_0x51495f=_0x45fce0[_0x38ab01]['node']['getWorldTr'+'ansform']());for(_0x2b51b6 in _0x17591c)if(_0x2b51b6!==us){_0x173eeb=_0x17591c[_0x2b51b6];const _0x38bc49=new _0x173eeb['typeArrayT'+'ype'](_0x173eeb['buffer']['buffer'],_0x173eeb['elementByt'+'eSize']*_0x173eeb['count']),_0xd0d31e=_0x4a0e73['getVertexS'+'tream'](_0x2b51b6,_0x38bc49)*_0x173eeb['numCompone'+'nts'];if(_0x173eeb['count']+=_0xd0d31e,!_0x283a87&&_0x173eeb['numCompone'+'nts']>=-0x2120+0x7d*-0x9+-0x2588*-0x1){if(_0x2b51b6===Me){const _0x38f39a=_0x51495f['data'],_0x4236fb=_0x38f39a[0x180c+-0x2211+0xa05],_0x59b25f=_0x38f39a[-0xa31*-0x3+-0x1*-0xef8+-0x2d8a],_0x449cdf=_0x38f39a[0x259f*0x1+0x1*-0xba5+0x2*-0xcfc],_0x59a47f=_0x38f39a[0x145d+-0x7db*0x1+-0x3*0x42a],_0x2a6a06=_0x38f39a[0x1709+-0x1*-0x26e+-0x1*0x1972],_0x32b909=_0x38f39a[-0x1393+-0xc9+0x1462],_0x418b6c=_0x38f39a[0x2*0xf0b+-0x246a+0x65c],_0x14e2a8=_0x38f39a[0x201e+-0x1634+-0x9e1],_0xd9f721=_0x38f39a[0x19*0x8+0xd4*0x5+0x5*-0xfa],_0x1698f8=_0x38f39a[0x1448+0x1cb9*-0x1+-0x35*-0x29],_0x58811f=_0x38f39a[0x6f*0x24+0x10d9*0x1+-0x2068],_0x23b9b1=_0x38f39a[-0x1*0x134b+0x1cda+-0x981];let _0x104dff,_0x4401e8,_0x2d8f31;for(let _0x1ff31b=0x1b6d+0x182*0x16+-0x1*0x3c99;_0x1ff31b<_0xd0d31e;_0x1ff31b+=_0x173eeb['numCompone'+'nts'])_0x104dff=_0x38bc49[_0x1ff31b],_0x4401e8=_0x38bc49[_0x1ff31b+(0x1cf6+-0xc*0x1a+-0x1*0x1bbd)],_0x2d8f31=_0x38bc49[_0x1ff31b+(0x1*-0x647+0x13b7+-0xd6e)],_0x38bc49[_0x1ff31b]=_0x104dff*_0x4236fb+_0x4401e8*_0x59a47f+_0x2d8f31*_0x418b6c+_0x1698f8,_0x38bc49[_0x1ff31b+(0x209*0x2+0x13e*0x4+0x9*-0x101)]=_0x104dff*_0x59b25f+_0x4401e8*_0x2a6a06+_0x2d8f31*_0x14e2a8+_0x58811f,_0x38bc49[_0x1ff31b+(-0x7*0x172+0x112c+-0x70c)]=_0x104dff*_0x449cdf+_0x4401e8*_0x32b909+_0x2d8f31*_0xd9f721+_0x23b9b1;}else{if(_0x2b51b6===gs||_0x2b51b6===yi){A_['invertMat4'](_0x51495f)['transpose']();const [_0x4a526c,_0x52e5d7,_0x458c75,_0x390f24,_0x2cae6d,_0x25a2b3,_0x137a20,_0x9867d,_0x528dbd]=A_['data'];let _0x22295a,_0x505876,_0x303552;for(let _0x9f5f22=-0x145a+0x9*0x1ef+0x1*0x2f3;_0x9f5f22<_0xd0d31e;_0x9f5f22+=_0x173eeb['numCompone'+'nts'])_0x22295a=_0x38bc49[_0x9f5f22],_0x505876=_0x38bc49[_0x9f5f22+(0x1b5*-0x1+0x24f0+-0x2*0x119d)],_0x303552=_0x38bc49[_0x9f5f22+(-0x2295+-0x265f+0x1852*0x3)],_0x38bc49[_0x9f5f22]=_0x22295a*_0x4a526c+_0x505876*_0x390f24+_0x303552*_0x137a20,_0x38bc49[_0x9f5f22+(0x9*-0x449+-0x1356+0x39e8)]=_0x22295a*_0x52e5d7+_0x505876*_0x2cae6d+_0x303552*_0x9867d,_0x38bc49[_0x9f5f22+(-0xa64+-0x137*-0x19+0x13f9*-0x1)]=_0x22295a*_0x458c75+_0x505876*_0x25a2b3+_0x303552*_0x528dbd;}}}}if(_0x283a87){_0x173eeb=_0x17591c[us];for(let _0x5b90bb=-0xd3+0x3fe+-0x32b;_0x5b90bb<_0x3dc832;_0x5b90bb++)_0x173eeb['buffer'][_0x173eeb['count']++]=_0x38ab01;}if(_0x4a0e73['primitive'][-0x1c3f+-0x2543*-0x1+-0x904]['indexed']){_0x413ac4=_0x4a0e73['primitive'][-0x35*0xb2+0x1*0xc7+0x737*0x5]['base'],_0x3e6c03=_0x4a0e73['primitive'][-0x85b+0x225f+0x456*-0x6]['baseVertex']||-0xead+0xc19+0x294*0x1,_0x2ac7c6=_0x4a0e73['primitive'][0x71f*-0x1+-0x1598+0x1*0x1cb7]['count'];const _0x1d71f2=_0x4a0e73['indexBuffe'+'r'][-0x22ac+-0x6fe+0x29aa*0x1]['getFormat']();_0x23c314=new Sh[_0x1d71f2](_0x4a0e73['indexBuffe'+'r'][0x4e6*0x2+0xd*-0x139+-0x7*-0xdf]['storage']);}else{_0x3e6c03=-0x3ca+0x3d*0xd+-0x3b*-0x3;const _0x2547c5=_0x4a0e73['primitive'][0x5cb+0x18e*-0xf+-0x1187*-0x1]['type'];if(_0x2547c5===oa||_0x2547c5===Er){if(_0x4a0e73['primitive'][0x134d+-0xa82*0x3+0xc39]['count']===0x198a+-0x105d+-0x14f*0x7)_0x413ac4=-0x7b5*0x1+-0x7d7*-0x1+-0x22*0x1,_0x2ac7c6=0x14f*0x9+0x365*-0x4+-0x1*-0x1d3,_0x23c314=_0x2547c5===oa?PE:ME;else{_0x2ac7c6=0x1d61+0x2052+0x15f*-0x2d;continue;}}}for(let _0x30aae1=0x1229+0x525*0x1+0x1*-0x174e;_0x30aae1<_0x2ac7c6;_0x30aae1++)_0x3e7bdd[_0x30aae1+_0x5b50cc]=_0x23c314[_0x413ac4+_0x30aae1]+_0x3e6c03+_0x4a43ed;_0x5b50cc+=_0x2ac7c6,_0x4a43ed+=_0x3dc832;}_0x4a0e73=new Ge(this['device']);for(_0x2b51b6 in _0x17591c)_0x173eeb=_0x17591c[_0x2b51b6],_0x4a0e73['setVertexS'+'tream'](_0x2b51b6,_0x173eeb['buffer'],_0x173eeb['numCompone'+'nts'],void(0x17d7+-0x5e7*-0x5+0x1*-0x355a),_0x173eeb['dataType'],_0x173eeb['normalize']);_0x3e7bdd['length']>-0x3*-0x40d+0x8*0x1a3+-0x17*0x119&&_0x4a0e73['setIndices'](_0x3e7bdd),_0x4a0e73['update'](js,!(0x1307+-0x1ad9+0x7d3)),_0x283a87&&(_0x54ab5a=_0x54ab5a['clone'](),_0x54ab5a['update']());const _0x558b1c=new He(_0x4a0e73,_0x54ab5a,this['rootNode']);_0x558b1c['castShadow']=_0x5021f4['origMeshIn'+'stances'][0x1*0x1f7d+-0xd39+-0x1c*0xa7]['castShadow'],_0x558b1c['parameters']=_0x5021f4['origMeshIn'+'stances'][-0x6f6+0x4*0x67f+-0x1306]['parameters'],_0x558b1c['layer']=_0x5021f4['origMeshIn'+'stances'][-0x1ff6+0x6fe*0x4+0x1*0x3fe]['layer'],_0x558b1c['_shaderDef'+'s']=_0x5021f4['origMeshIn'+'stances'][-0x2e*0x3d+-0x25*-0x78+0x331*-0x2]['_shaderDef'+'s'],_0x558b1c['batching']=!(-0x86f*-0x4+0x1975+-0x1*0x3b31),_0x558b1c['cull']=_0x5021f4['origMeshIn'+'stances'][-0x75a+-0x61*0x2f+0x71*0x39]['cull'];const _0x485808=this['_batchGrou'+'ps'][_0x5ed283];if(_0x485808&&_0x485808['_ui']&&(_0x558b1c['cull']=!(0x1b74+0x8b1+-0x1212*0x2)),_0x283a87){const _0x1e8233=[];for(let _0x1145ea=-0x5ff*-0x6+-0xe57+-0x15a3;_0x1145ea<_0x5021f4['origMeshIn'+'stances']['length'];_0x1145ea++)_0x1e8233['push'](_0x5021f4['origMeshIn'+'stances'][_0x1145ea]['node']);_0x558b1c['skinInstan'+'ce']=new y_(this['device'],_0x1e8233,this['rootNode']);}_0x558b1c['_updateAab'+'b']=!(0x1c99+-0x24*-0x4c+-0x2748),_0x558b1c['drawOrder']=_0x5021f4['origMeshIn'+'stances'][-0x2*-0x97c+-0x233a+0x2*0x821]['drawOrder'],_0x558b1c['stencilFro'+'nt']=_0x5021f4['origMeshIn'+'stances'][0xa*-0x95+-0x1*-0xaf3+-0x521]['stencilFro'+'nt'],_0x558b1c['stencilBac'+'k']=_0x5021f4['origMeshIn'+'stances'][0x3b*0xa6+0x1*0x23f3+-0x4a35]['stencilBac'+'k'],_0x558b1c['flipFacesF'+'actor']=jd(_0x5021f4['origMeshIn'+'stances'][0x10dd+0x10*0xda+-0x1e7d]),_0x558b1c['castShadow']=_0x5021f4['origMeshIn'+'stances'][0x300+0x8d4+-0x2f5*0x4]['castShadow'],_0x5021f4['meshInstan'+'ce']=_0x558b1c,_0x5021f4['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x4d8752,_0x5021f4;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x82c+-0x1361+0xb35&&this['generate'](this['_dirtyGrou'+'ps']);const _0x4fd64e=de();for(let _0x288f30=-0x2*-0x123+-0x1117+0xed1;_0x288f30<this['_batchList']['length'];_0x288f30++)this['_batchList'][_0x288f30]['dynamic']&&this['_batchList'][_0x288f30]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x4fd64e;}['clone'](_0x4d257c,_0x20e007){const _0x290bc7=new g_(_0x20e007,_0x4d257c['dynamic'],_0x4d257c['batchGroup'+'Id']);this['_batchList']['push'](_0x290bc7);const _0x4d10b9=[];for(let _0xc392af=-0x152b*-0x1+0x5*-0x226+0x9d*-0x11;_0xc392af<_0x20e007['length'];_0xc392af++)_0x4d10b9['push'](_0x20e007[_0xc392af]['node']);return _0x290bc7['meshInstan'+'ce']=new He(_0x4d257c['meshInstan'+'ce']['mesh'],_0x4d257c['meshInstan'+'ce']['material'],_0x4d257c['meshInstan'+'ce']['node']),_0x290bc7['meshInstan'+'ce']['_updateAab'+'b']=!(0x10*0x132+0x1f5b+-0x327a),_0x290bc7['meshInstan'+'ce']['parameters']=_0x20e007[-0xb*-0xde+0xc8a+-0x585*0x4]['parameters'],_0x290bc7['meshInstan'+'ce']['cull']=_0x20e007[-0x8*-0x74+-0x57*-0x3d+0x2b*-0x91]['cull'],_0x290bc7['meshInstan'+'ce']['layer']=_0x20e007[-0x104f+0x8fe*0x3+-0xaab*0x1]['layer'],_0x4d257c['dynamic']&&(_0x290bc7['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x4d10b9,this['rootNode'])),_0x290bc7['meshInstan'+'ce']['castShadow']=_0x4d257c['meshInstan'+'ce']['castShadow'],_0x290bc7;}['destroyBat'+'ch'](_0x290b57){_0x290b57['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x290b57['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x2ba797,_0x5a96ef,_0x28d671){if((_0x2ba797==null?void(-0x12b*-0x1+0x2097+0x21c2*-0x1):_0x2ba797['colorBuffe'+'r']['format'])!==_0x28d671)return!(0x261a+-0x96c+-0x1cae);const _0x3bc57c=(_0x5a96ef==null?void(-0x15de+0x79*0x3+0x1473):_0x5a96ef['width'])||this['device']['width'],_0x253c90=(_0x5a96ef==null?void(-0xd30+-0x16a8+0x23d8):_0x5a96ef['height'])||this['device']['height'];return!_0x2ba797||_0x3bc57c!==_0x2ba797['width']||_0x253c90!==_0x2ba797['height'];}['allocateRe'+'nderTarget'](_0x28eb3a,_0x27430,_0x555b0e,_0x45668d){const _0x9f0af8=new _e(_0x555b0e,{'name':P_,'format':_0x45668d,'width':_0x27430?_0x27430['colorBuffe'+'r']['width']:_0x555b0e['width'],'height':_0x27430?_0x27430['colorBuffe'+'r']['height']:_0x555b0e['height'],'mipmaps':!(0x9ba+0x17a1*0x1+-0x215b),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x28eb3a?(_0x28eb3a['destroyFra'+'meBuffers'](),_0x28eb3a['_colorBuff'+'er']=_0x9f0af8,_0x28eb3a['_colorBuff'+'ers']=[_0x9f0af8]):_0x28eb3a=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x9f0af8,'depth':!(0x1*0xd2b+-0xd86+0x5c),'stencil':!(0x1d*-0x5d+-0x1c20+0x7*0x586),'autoResolve':!(0x5f+0x17bb+-0x1819)}),_0x28eb3a;}['releaseRen'+'derTarget'](_0x3b2b06){_0x3b2b06&&(_0x3b2b06['destroyTex'+'tureBuffer'+'s'](),_0x3b2b06['destroy']());}['frameUpdat'+'e'](){const _0x490e2d=this['device'],_0x366cb3=this['source'],_0x49dea9=(_0x366cb3==null?void(-0x2*-0x45f+-0x2298*-0x1+-0x2b56):_0x366cb3['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x366cb3==null?void(0x1c2b+-0x1*0x89a+-0x1391):_0x366cb3['colorBuffe'+'r'],_0x49dea9)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x366cb3,_0x490e2d,_0x49dea9));const _0x13693f=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x490e2d['scope']['resolve'](P_)['setValue'](_0x13693f);}['execute'](){const _0x3e4051=this['device'];Q['pushGpuMar'+'ker'](_0x3e4051,'GRAB-COLOR');const _0x392843=this['source'],_0x2194d8=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x3e4051['isWebGPU']?(_0x3e4051['copyRender'+'Target'](_0x392843,this['colorRende'+'rTarget'],!(-0x1bc6+-0x201f+0x3be5),!(-0x71*0xd+-0x606*-0x5+0x1e0*-0xd)),_0x3e4051['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x3e4051['copyRender'+'Target'](_0x392843,this['colorRende'+'rTarget'],!(0x1119+-0x1133+0x1a),!(0x19db+0xe3e+-0x2818)),_0x3e4051['activeText'+'ure'](_0x3e4051['maxCombine'+'dTextures']-(0x15f3*-0x1+-0x54a*-0x2+0xb60)),_0x3e4051['bindTextur'+'e'](_0x2194d8),_0x3e4051['gl']['generateMi'+'pmap'](_0x2194d8['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x3e4051);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x5a2517,_0x490f97){super(_0x5a2517),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x490f97;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x3ba333,_0x42a1e7){const _0x5844cc=(_0x42a1e7==null?void(-0x66a+-0x2*0x9f5+-0x1a54*-0x1):_0x42a1e7['width'])||this['device']['width'],_0x5e5a54=(_0x42a1e7==null?void(0x1a28+-0x2ba*0x9+-0x19e):_0x42a1e7['height'])||this['device']['height'];return!_0x3ba333||_0x5844cc!==_0x3ba333['width']||_0x5e5a54!==_0x3ba333['height'];}['allocateRe'+'nderTarget'](_0x5abf3a,_0x1710cf,_0x4a63f7,_0x1fc9fc,_0x50fd8f){const _0x17f5a4=new _e(_0x4a63f7,{'name':M_,'format':_0x1fc9fc,'width':_0x1710cf?_0x1710cf['colorBuffe'+'r']['width']:_0x4a63f7['width'],'height':_0x1710cf?_0x1710cf['colorBuffe'+'r']['height']:_0x4a63f7['height'],'mipmaps':!(0x5*0x373+0x2632+-0x3770),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x5abf3a?(_0x5abf3a['destroyFra'+'meBuffers'](),_0x50fd8f?_0x5abf3a['_depthBuff'+'er']=_0x17f5a4:(_0x5abf3a['_colorBuff'+'er']=_0x17f5a4,_0x5abf3a['_colorBuff'+'ers']=[_0x17f5a4])):_0x5abf3a=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x50fd8f?null:_0x17f5a4,'depthBuffer':_0x50fd8f?_0x17f5a4:null,'depth':!_0x50fd8f,'stencil':_0x4a63f7['supportsSt'+'encil'],'autoResolve':!(0x4*0x2ed+0x1d85+0x149c*-0x2)}),_0x5abf3a;}['releaseRen'+'derTarget'](_0x45d894){_0x45d894&&(_0x45d894['destroyTex'+'tureBuffer'+'s'](),_0x45d894['destroy']());}['before'](){var _0x430acc,_0x52f23f;const _0x591887=this['camera'],_0xedd00d=this['device'],_0x3daa73=(_0x591887==null?void(-0x19a2+0x2e3+0x9*0x287):_0x591887['renderTarg'+'et'])??_0xedd00d['backBuffer'];let _0x52a81c=!(-0x2ba*0x5+0x25fc+-0x185a),_0x117cc1=_0x3daa73['stencil']?sd:$i;_0xedd00d['isWebGPU']&&_0x3daa73['samples']>-0x1*0xa6f+0x16ac*-0x1+0x211c&&(_0x117cc1=Ji,_0x52a81c=!(-0x15d2+0x8a8+-0xd2b*-0x1));const _0x4b8999=((_0x430acc=_0x591887['renderTarg'+'et'])==null?void(-0x25bf+-0xb13+0x30d2):_0x430acc['depthBuffe'+'r'])??((_0x52f23f=_0x591887['renderTarg'+'et'])==null?void(-0x1*0x716+-0x24bc+-0x2*-0x15e9):_0x52f23f['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x4b8999)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x591887['renderTarg'+'et'],_0xedd00d,_0x117cc1,_0x52a81c));const _0xb59755=_0x52a81c?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0xedd00d['scope']['resolve'](M_)['setValue'](_0xb59755);}['execute'](){const _0x2cac15=this['device'];if(Q['pushGpuMar'+'ker'](_0x2cac15,'GRAB-DEPTH'),_0x2cac15['isWebGL2']&&_0x2cac15['renderTarg'+'et']['samples']>-0x5d5*0x5+0xff9+-0xb*-0x133){const _0x7d202f=_0x2cac15['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x4530ab=this['depthRende'+'rTarget'];_0x2cac15['renderTarg'+'et']=_0x4530ab,_0x2cac15['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x2cac15,_0x7d202f,_0x4530ab['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x2cac15['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x2cac15['copyRender'+'Target'](_0x2cac15['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x1eae+0x1c08+0x2a7),!(-0xda0+0x92d+0x473));Q['popGpuMark'+'er'](_0x2cac15);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x6f*0x5+-0x646+0x872)),h(this,'_ssaoEnabl'+'ed',!(0x57f+-0x127b+0xcfd)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x16*0xce+0x3*-0x853+0x2aae)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x4*-0x51e+-0xeaf+0x2327));}get['hash'](){if(this['_hash']===void(0x65d+-0xfb3+0x956)){const _0x3e8826=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x3e8826);}return this['_hash'];}get['defines'](){const _0x5e239d=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x163+0x1ce6+0x4*-0x792),_0x5e239d['clear'](),this['_sceneDept'+'hMapLinear']&&_0x5e239d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x1*-0x255+-0x2213+-0x748*-0x5)),_0x5e239d['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x5e239d['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x5e239d['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x5e239d;}['markDirty'](){this['_hash']=void(-0xed6+-0x1*0x8c5+-0x1*-0x179b),this['_definesDi'+'rty']=!(0x1f76+-0x1f0b+-0x6b);}set['fog'](_0x2e84ac){this['_fog']!==_0x2e84ac&&(this['_fog']=_0x2e84ac,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x361099){this['_ssaoEnabl'+'ed']!==_0x361099&&(this['_ssaoEnabl'+'ed']=_0x361099,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x3dc584){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1*0x3bb+-0xdb6+0x1171),this['_gammaCorr'+'ection']!==_0x3dc584&&(this['_gammaCorr'+'ection']=_0x3dc584,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0xfa19bf){this['_toneMappi'+'ng']!==_0xfa19bf&&(this['_toneMappi'+'ng']=_0xfa19bf,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x4e7554){this['_srgbRende'+'rTarget']!==_0x4e7554&&(this['_srgbRende'+'rTarget']=_0x4e7554,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x21a801){this['_sceneDept'+'hMapLinear']!==_0x21a801&&(this['_sceneDept'+'hMapLinear']=_0x21a801,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x16b7+-0x1ff6+0x36ad),(this['_aspectRat'+'io']=(0x17e3+0xa21*-0x3+0x690)/(0x270a+-0x201f+-0x6e2),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(-0x95*0x42+0x22c1+0x3a9*0x1+0.75,-0xa3d*0x1+0x8*-0x61+0x2b*0x4f+0.75,-0x1d07+0xe03+0xf04+0.75,-0x3e7*0x3+0x2*-0x407+0x13c4),this['_clearColo'+'rBuffer']=!(-0x2428+-0x26e3+0x4b0b),this['_clearDept'+'h']=-0x1f*-0x4f+0x26db*0x1+-0x306b,this['_clearDept'+'hBuffer']=!(-0x24e3+0x22d3+0x210),this['_clearSten'+'cil']=0x8cd+-0xfd9+0x70c,this['_clearSten'+'cilBuffer']=!(-0x2a*-0xd0+-0x1*-0x1d95+0x15b*-0x2f),this['_cullFaces']=!(-0x1*0x11d1+0x1c72+-0xaa1),this['_farClip']=-0xfb*0xb+-0x14a7+0x2358,this['_flipFaces']=!(0x1*0x23c7+0x77e*0x4+-0x41be),this['_fov']=-0x1244+-0x4*-0x6ad+-0x843,this['_frustumCu'+'lling']=!(0x1a*0x7b+-0x1afa+0xe7c),this['_horizonta'+'lFov']=!(0x26d3+0x1*0x31+-0x2703),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x1*-0x1936+-0x1e1a+0x4e4+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x9*-0xf2+-0x1e55+-0x1d*-0xc1,this['_projectio'+'n']=ni,this['_rect']=new re(0x62c+-0x2*-0xfec+-0x3*0xcac,0xca4+-0xbc*0x14+0x20c,-0x13e9+0x2e*-0x7d+0x2a60,-0x3b1+0x46+0x36c),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x2673+-0x4d4*0x5+-0x3*0x4c5,-0x2*0xffb+-0x1534+-0x1a95*-0x2,-0x1141+-0x1*0x2011+0x3153,0x7*-0xbf+-0x2207+0x1*0x2741),this['_scissorRe'+'ctClear']=!(0x1e30+-0x302+-0x1b2d*0x1),this['_aperture']=0x1673+-0x1*-0x212a+-0x378d,this['_shutter']=(-0xec6*-0x1+-0x35*-0x43+-0x4e*0x5e)/(0x12f8*0x1+-0x501*0x5+0x9f5),this['_sensitivi'+'ty']=-0x35c*-0x9+0x3*-0xa5+-0x1865,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0xd05+0x1037+-0x1*0x1d3c),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x169*-0x5+-0x1*-0x2586+-0x1*0x2c93),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x26a2+-0x397+0x2a39),this['_shaderMat'+'ricesVersi'+'on']=-0x2497+0x332*-0x2+0x2afb,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x18c6+0x1e67+0x372d*-0x1,0x371*-0x7+-0x7db*0x3+0x2fa8,0x1*-0x930+-0x2*0x10cf+0x1*0x2ace,0x1ffb*0x1+0x212+-0x1*0x220d],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x43a8d6,_0x1bbfea;(_0x43a8d6=this['renderPass'+'ColorGrab'])==null||_0x43a8d6['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x1bbfea=this['renderPass'+'DepthGrab'])==null||_0x1bbfea['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x2173+0x1d*-0xe+-0x1fdd;}['_storeShad'+'erMatrices'](_0x1c4343,_0x24ef27,_0x53ed97,_0x366b85){this['_shaderMat'+'ricesVersi'+'on']!==_0x366b85&&(this['_shaderMat'+'ricesVersi'+'on']=_0x366b85,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x1c4343),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x1c4343),this['_viewProjI'+'nverse']['invert'](_0x1c4343),this['_jitters'][0x1*0x8+0x2*-0x867+0x10c8]=this['_jitters'][-0x23f5*-0x1+0x3d9+-0x1*0x27ce],this['_jitters'][-0x21b+-0x504*-0x2+-0x7ea]=this['_jitters'][-0x1d34+0x10*-0x1eb+0x13*0x327],this['_jitters'][0x1bf0+0x19df+-0x35cf]=_0x24ef27,this['_jitters'][-0x1*0x207b+0x322+0x1d5a]=_0x53ed97);}get['fullSizeCl'+'earRect'](){const _0x3dc8f6=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x3dc8f6['x']===0x23d4+-0x1dd1+-0x603&&_0x3dc8f6['y']===0xcf1*0x2+-0x2453+-0xa71*-0x1&&_0x3dc8f6['z']===-0x12ee*-0x2+-0x1a42+-0x1*0xb99&&_0x3dc8f6['w']===0x7db*0x2+-0xd6d+-0x92*0x4;}set['aspectRati'+'o'](_0x2fb191){this['_aspectRat'+'io']!==_0x2fb191&&(this['_aspectRat'+'io']=_0x2fb191,this['_projMatDi'+'rty']=!(0x1*-0x1945+-0x217a+0x3abf));}get['aspectRati'+'o'](){var _0xef3acf;return(_0xef3acf=this['xr'])!=null&&_0xef3acf['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x15535c){this['_aspectRat'+'ioMode']!==_0x15535c&&(this['_aspectRat'+'ioMode']=_0x15535c,this['_projMatDi'+'rty']=!(0x19f9+0x875+-0xe2*0x27));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x523402){this['_calculate'+'Projection']=_0x523402,this['_projMatDi'+'rty']=!(-0x27f+0x204d*-0x1+0x8b3*0x4);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x4d7e7e){this['_calculate'+'Transform']=_0x4d7e7e;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5ac5dc){this['_clearColo'+'r']['copy'](_0x5ac5dc);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x50befe){this['_clearColo'+'rBuffer']=_0x50befe;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x32af3d){this['_clearDept'+'h']=_0x32af3d;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x206e12){this['_clearDept'+'hBuffer']=_0x206e12;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x483431){this['_clearSten'+'cil']=_0x483431;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x3db5a8){this['_clearSten'+'cilBuffer']=_0x3db5a8;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x133c1b){this['_cullFaces']=_0x133c1b;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4a20e8){this['_farClip']!==_0x4a20e8&&(this['_farClip']=_0x4a20e8,this['_projMatDi'+'rty']=!(0x1*-0x1a7+0x2209*-0x1+0x23b0*0x1));}get['farClip'](){var _0x3c0269;return(_0x3c0269=this['xr'])!=null&&_0x3c0269['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x4d3a65){this['_flipFaces']=_0x4d3a65;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x431d4b){this['_fov']!==_0x431d4b&&(this['_fov']=_0x431d4b,this['_projMatDi'+'rty']=!(-0x3*-0x106+0x2b*-0x17+-0x1d*-0x7));}get['fov'](){var _0x1d1aba;return(_0x1d1aba=this['xr'])!=null&&_0x1d1aba['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x5acd33){this['_frustumCu'+'lling']=_0x5acd33;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x371243){this['_horizonta'+'lFov']!==_0x371243&&(this['_horizonta'+'lFov']=_0x371243,this['_projMatDi'+'rty']=!(0x24fd+0x2e*-0x47+-0x183b*0x1));}get['horizontal'+'Fov'](){var _0x58e719;return(_0x58e719=this['xr'])!=null&&_0x58e719['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0xb4322a){this['_layers']=_0xb4322a['slice'](0x22f*-0x8+-0xef*0x15+-0x1*-0x2513),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x4ce81c){this['_nearClip']!==_0x4ce81c&&(this['_nearClip']=_0x4ce81c,this['_projMatDi'+'rty']=!(0x3*0x2e+0x9ed+-0xa77));}get['nearClip'](){var _0x2fabaf;return(_0x2fabaf=this['xr'])!=null&&_0x2fabaf['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x89af1c){this['_node']=_0x89af1c;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x2df7fe){this['_orthoHeig'+'ht']!==_0x2df7fe&&(this['_orthoHeig'+'ht']=_0x2df7fe,this['_projMatDi'+'rty']=!(-0x3*0x28c+0x2236+0x2*-0xd49));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x56be9d){this['_projectio'+'n']!==_0x56be9d&&(this['_projectio'+'n']=_0x56be9d,this['_projMatDi'+'rty']=!(-0x1b*-0x12f+-0x4*-0x317+-0x2c51));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0xf477f7){this['_rect']['copy'](_0xf477f7);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x55aac9){this['_renderTar'+'get']=_0x55aac9;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x143062){this['_scissorRe'+'ct']['copy'](_0x143062);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x1f6c8b=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x1f6c8b)['invert'](),this['_viewMatDi'+'rty']=!(0x4*-0x16a+0xceb*-0x1+0x29*0x74);}return this['_viewMat'];}set['aperture'](_0x58cafd){this['_aperture']=_0x58cafd;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x4fcb80){this['_sensitivi'+'ty']=_0x4fcb80;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x231c37){this['_shutter']=_0x231c37;}get['shutter'](){return this['_shutter'];}set['xr'](_0x47a316){this['_xr']!==_0x47a316&&(this['_xr']=_0x47a316,this['_projMatDi'+'rty']=!(-0x9*0xce+-0x22e5+0x2a23));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x4d964e){return this['_aspectRat'+'io']=_0x4d964e['_aspectRat'+'io'],this['_farClip']=_0x4d964e['_farClip'],this['_fov']=_0x4d964e['_fov'],this['_horizonta'+'lFov']=_0x4d964e['_horizonta'+'lFov'],this['_nearClip']=_0x4d964e['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x4d964e['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x4d964e['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x4d964e['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x4d964e['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x4d964e['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x4d964e['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4d964e['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4d964e['calculateT'+'ransform'],this['clearColor']=_0x4d964e['clearColor'],this['clearColor'+'Buffer']=_0x4d964e['clearColor'+'Buffer'],this['clearDepth']=_0x4d964e['clearDepth'],this['clearDepth'+'Buffer']=_0x4d964e['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x4d964e['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x4d964e['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4d964e['cullFaces'],this['flipFaces']=_0x4d964e['flipFaces'],this['frustumCul'+'ling']=_0x4d964e['frustumCul'+'ling'],this['layers']=_0x4d964e['layers'],this['orthoHeigh'+'t']=_0x4d964e['orthoHeigh'+'t'],this['projection']=_0x4d964e['projection'],this['rect']=_0x4d964e['rect'],this['renderTarg'+'et']=_0x4d964e['renderTarg'+'et'],this['scissorRec'+'t']=_0x4d964e['scissorRec'+'t'],this['aperture']=_0x4d964e['aperture'],this['shutter']=_0x4d964e['shutter'],this['sensitivit'+'y']=_0x4d964e['sensitivit'+'y'],this['shaderPass'+'Info']=_0x4d964e['shaderPass'+'Info'],this['jitter']=_0x4d964e['jitter'],this['_projMatDi'+'rty']=!(0x1b9*-0x7+0x1731*-0x1+-0x20*-0x11a),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x60ae4,_0x5e9ebe){var _0x213642;_0x5e9ebe?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x60ae4)):((_0x213642=this['renderPass'+'ColorGrab'])==null||_0x213642['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x54966c,_0x2e6136,_0x5d666c){var _0x26cd43;_0x5d666c?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x54966c,this)):((_0x26cd43=this['renderPass'+'DepthGrab'])==null||_0x26cd43['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1682+-0xbd3+0x2256));}['worldToScr'+'een'](_0x31f346,_0x578790,_0x2f990b,_0x4a51d9=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x31f346,_0x4a51d9);const _0x398234=this['_viewProjM'+'at']['data'],_0x3499ca=_0x31f346['x']*_0x398234[-0x4ee+-0x11f*-0x19+-0x18a*0xf]+_0x31f346['y']*_0x398234[0x8be+0xb1b+-0x13d2]+_0x31f346['z']*_0x398234[-0x445*0x1+0x5c9+-0x179]+(-0x95*0x5+-0xb42+0xe2c)*_0x398234[-0x1bd+0x1*0xa66+-0x2*0x44d];_0x4a51d9['x']=(_0x4a51d9['x']/_0x3499ca+(-0x646+0x25e8+-0x1fa1))*(0x1*0x1b4+-0x7ef+0x63b+0.5),_0x4a51d9['y']=(0x3*0xa63+-0x1ae3+-0x445*0x1-_0x4a51d9['y']/_0x3499ca)*(0x8*0x339+0x4d5+-0x1e9d+0.5);const {x:_0x442e83,y:_0x4bf8dc,z:_0x2bbf7b,w:_0x135146}=this['_rect'];return _0x4a51d9['x']=_0x4a51d9['x']*_0x2bbf7b*_0x578790+_0x442e83*_0x578790,_0x4a51d9['y']=_0x4a51d9['y']*_0x135146*_0x2f990b+(-0x143*-0x13+0xb5*-0x26+0x2e6-_0x4bf8dc-_0x135146)*_0x2f990b,_0x4a51d9;}['screenToWo'+'rld'](_0x321898,_0x5c2b19,_0x4704c1,_0x3baa6b,_0x343fca,_0x44ac04=new D()){const {x:_0x27bdfd,y:_0x404962,z:_0x1ecaaa,w:_0x37121f}=this['_rect'],_0x4ee989=this['farClip']-this['nearClip'];if(La['set']((_0x321898-_0x27bdfd*_0x3baa6b)/(_0x1ecaaa*_0x3baa6b),-0x169*-0x2+0x6*0x478+-0x1da1-(_0x5c2b19-(-0x922+-0x5*-0x2cf+-0x4e8-_0x404962-_0x37121f)*_0x343fca)/(_0x37121f*_0x343fca),_0x4704c1/_0x4ee989),La['mulScalar'](-0x2*0x562+0xd*0x1d+0x1*0x94d),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x3986e5=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x3986e5['transformP'+'oint'](ao,D_);const _0x197d9d=this['_node']['getPositio'+'n']();_0x44ac04['sub2'](D_,_0x197d9d),_0x44ac04['normalize'](),_0x44ac04['mulScalar'](_0x4704c1),_0x44ac04['add'](_0x197d9d);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x44ac04);return _0x44ac04;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x3f92d1=this['_orthoHeig'+'ht'],_0x227a7e=_0x3f92d1*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x227a7e,_0x227a7e,-_0x3f92d1,_0x3f92d1,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x26e8*-0x1+0xd3b+0x1a11*-0x2);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x3ea97a=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x2*-0x84+-0x18*-0x18d+-0x25dc)/this['_sensitivi'+'ty']);return(0x19c2+0x1017+-0x29d8)/(Math['pow'](-0x172b+0x1a48+-0x31b*0x1,_0x3ea97a)*(0x1*-0x1027+-0x52*0x65+0x3082+0.19999999999999996));}['getScreenS'+'ize'](_0xadfa0c){if(this['_projectio'+'n']===ni){const _0x371a79=this['_node']['getPositio'+'n']()['distance'](_0xadfa0c['center']);if(_0x371a79<_0xadfa0c['radius'])return-0x1935+-0x1*-0x965+-0xfd1*-0x1;const _0x10e8b5=Math['asin'](_0xadfa0c['radius']/_0x371a79),_0x545f72=Math['tan'](_0x10e8b5),_0x297ac5=Math['tan'](this['fov']/(-0xe78+-0x1e2a+0x2ca4*0x1)*Y['DEG_TO_RAD']);return Math['min'](_0x545f72/_0x297ac5,0x1c9c+0xe*-0x4d+-0x1865);}return Y['clamp'](_0xadfa0c['radius']/this['_orthoHeig'+'ht'],0x1fbd+-0x4*-0x5b3+-0x3689,0x4c4+0x422*-0x2+0x3*0x12b);}['getFrustum'+'Corners'](_0xb40aeb=this['nearClip'],_0x453108=this['farClip']){const _0x4280c5=this['fov']*Math['PI']/(-0x1066+0x2*0x161+0x198*0x9);let _0x4cfa97,_0x3301f5;this['projection']===ni?this['horizontal'+'Fov']?(_0x4cfa97=_0xb40aeb*Math['tan'](_0x4280c5/(0xf8d+0x14ff+0x3*-0xc2e)),_0x3301f5=_0x4cfa97/this['aspectRati'+'o']):(_0x3301f5=_0xb40aeb*Math['tan'](_0x4280c5/(0x1cbf+0x1c+-0x1cd9)),_0x4cfa97=_0x3301f5*this['aspectRati'+'o']):(_0x3301f5=this['_orthoHeig'+'ht'],_0x4cfa97=_0x3301f5*this['aspectRati'+'o']);const _0x1b9b61=OE;return _0x1b9b61[0x493*0x1+0x19ad+-0x16*0x160]['x']=_0x4cfa97,_0x1b9b61[-0x9c9+-0x4eb*0x6+0x274b]['y']=-_0x3301f5,_0x1b9b61[-0x2*-0x1169+-0x2679+-0x5*-0xbb]['z']=-_0xb40aeb,_0x1b9b61[0x19*0x166+0x1b06+-0x3dfb]['x']=_0x4cfa97,_0x1b9b61[-0x1a48+0x59f*0x5+-0x1d2]['y']=_0x3301f5,_0x1b9b61[-0x1759*0x1+0x8c*-0xf+0x482*0x7]['z']=-_0xb40aeb,_0x1b9b61[-0x1b77+-0x664*-0x3+0x84d]['x']=-_0x4cfa97,_0x1b9b61[-0xed*-0x1+-0x26de+-0x25f3*-0x1]['y']=_0x3301f5,_0x1b9b61[-0x10ff*0x1+0x63f+0xac2]['z']=-_0xb40aeb,_0x1b9b61[0x1*-0x25fa+-0x4f2+-0x1d*-0x17b]['x']=-_0x4cfa97,_0x1b9b61[-0xc35+-0x1a*-0x11f+-0x10ee]['y']=-_0x3301f5,_0x1b9b61[0xf5a*0x1+-0x1d1d+-0x2b*-0x52]['z']=-_0xb40aeb,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x4cfa97=_0x453108*Math['tan'](_0x4280c5/(-0x1*0xd4+0x1*0x3ba+-0x2e4)),_0x3301f5=_0x4cfa97/this['aspectRati'+'o']):(_0x3301f5=_0x453108*Math['tan'](_0x4280c5/(-0x1554+-0xbc3*0x3+0x389f)),_0x4cfa97=_0x3301f5*this['aspectRati'+'o'])),_0x1b9b61[-0x1d0e*0x1+-0x24a6+0x41b8]['x']=_0x4cfa97,_0x1b9b61[0x1*-0x1af+0x23b1+-0x21fe]['y']=-_0x3301f5,_0x1b9b61[0x1c0d*-0x1+-0x9cc+-0x1b*-0x167]['z']=-_0x453108,_0x1b9b61[-0xa93+-0x3*0x44f+0x7d7*0x3]['x']=_0x4cfa97,_0x1b9b61[0x1*0x25d9+-0x1f0c+0x364*-0x2]['y']=_0x3301f5,_0x1b9b61[0x1730+0x1acb+0x2*-0x18fb]['z']=-_0x453108,_0x1b9b61[0xdb5+-0xd8b*-0x1+-0x19a*0x11]['x']=-_0x4cfa97,_0x1b9b61[0x1374+-0x1*-0x407+0x1*-0x1775]['y']=_0x3301f5,_0x1b9b61[0x1217+-0x1130+-0xe1]['z']=-_0x453108,_0x1b9b61[-0x2426*-0x1+0xe88+0x32a7*-0x1]['x']=-_0x4cfa97,_0x1b9b61[-0x1*0xc22+-0xb0f+0xb9c*0x2]['y']=-_0x3301f5,_0x1b9b61[0xf8b+-0x2092+0x25*0x76]['z']=-_0x453108,_0x1b9b61;}['setXrPrope'+'rties'](_0x46bdfd){Object['assign'](this['_xrPropert'+'ies'],_0x46bdfd),this['_projMatDi'+'rty']=!(-0x11d2+-0x233f+0x4d3*0xb);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x24009d,_0x3be04d,_0x3220e0){const _0x3c9864=new Fl();switch(_0x3c9864['node']=new Ie(_0x24009d),_0x3c9864['aspectRati'+'o']=-0x7*-0x1a1+-0xa*-0x331+0x2b5*-0x10,_0x3c9864['aspectRati'+'oMode']=lu,_0x3c9864['_scissorRe'+'ctClear']=!(0xf22+0x65*0x49+-0x2bef),_0x3be04d){case Ke:_0x3c9864['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x3220e0]),_0x3c9864['fov']=0x1c2a+-0x38*0x12+-0x17e0,_0x3c9864['projection']=ni;break;case Ze:_0x3c9864['projection']=ni;break;case ve:_0x3c9864['projection']=En;break;}return _0x3c9864;}static['evalSpotCo'+'okieMatrix'](_0x2a84f9){let _0x568370=gr['_spotCooki'+'eCamera'];_0x568370||(_0x568370=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x568370),_0x568370['fov']=_0x2a84f9['_outerCone'+'Angle']*(-0x27*-0x3f+0x1c56+-0x25ed);const _0x17b43b=_0x568370['_node'];_0x17b43b['setPositio'+'n'](_0x2a84f9['_node']['getPositio'+'n']()),_0x17b43b['setRotatio'+'n'](_0x2a84f9['_node']['getRotatio'+'n']()),_0x17b43b['rotateLoca'+'l'](-(0x179*-0x3+-0x1335+0x17fa),-0x239*0x3+0xd*-0x2f+-0x2*-0x487,0x2*-0x35b+-0x1*-0x195f+0x12a9*-0x1),L_['setTRS'](_0x17b43b['getPositio'+'n'](),_0x17b43b['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x568370['projection'+'Matrix'],L_);const _0x160ab7=_0x2a84f9['cookieMatr'+'ix'],_0x50fe8b=_0x2a84f9['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x50fe8b['x'],_0x50fe8b['y'],_0x50fe8b['z'],_0x50fe8b['w']),_0x160ab7['mul2'](O_,R_),_0x160ab7;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0x2e3+0xb*0x289+-0x27*0xca,0xf4a*-0x1+-0x5*-0x427+-0x51f,-0x1*-0xda7+0x1*0x1039+0xe96*-0x2),new le()['setFromEul'+'erAngles'](-0x828+0x1f76+-0x174e,-(-0xe*0x108+0x4*0x43c+0x2*-0x113),-0xe5*0x25+-0x1*0xd4f+0x2f1c),new le()['setFromEul'+'erAngles'](-0x19b2+0x16ba+-0x32*-0x11,-0x1*0x1ff7+0xd*0x27f+-0x7c,0xf*0xd5+0x4*-0x27e+-0x1*0x283),new le()['setFromEul'+'erAngles'](-(0x1339+-0x1*0xc7f+0x20*-0x33),0x4ff*0x2+0xb3d+0x1*-0x153b,0x91a*0x1+-0xdef*-0x1+-0x1709*0x1),new le()['setFromEul'+'erAngles'](-0x2*-0x137b+-0xe4f+-0x1*0x18a7,-0x14e9+0x1b0a+0x56d*-0x1,-0x109*-0x1+-0x2357+-0x2*-0x1181),new le()['setFromEul'+'erAngles'](-0x245c+-0xedb+0x3337,-0x3*0x469+0x2*-0x7ae+0x1c97,-0x670+-0x57a+0xc9e)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x19*0x49+-0x1ea5+-0xa4*-0x3b),FE=new D(-(-0x443+-0x1b8b+0x1fce+0.5),-0x6*-0x76+0x1b2+-0x476,0x2315+-0x143e+-0xed7),NE=new D(0x6ad*-0x4+0x189*-0x11+0x34cd,-0xb4e*0x3+-0xa3d+0x7f*0x59,-0xdaa+0x1203+-0x459+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x5ccee3,_0x482d76)=>Object['keys'](_0x5ccee3)['map'](_0x44c3c6=>'#define\x20{'+_0x482d76+_0x44c3c6+'}\x20'+_0x5ccee3[_0x44c3c6])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x3dae44){h(this,'areaLights'+'Enabled',!(0x10c3*-0x1+-0x774+0x1838)),(this['device']=_0x3dae44,Pe['get'](_0x3dae44,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x3dae44,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0xa8d+-0xe82+0x1*0x3f6),this['shadowsEna'+'bled']=!(-0x2fb*0x7+0x1*0x225d+0xd7f*-0x1),this['areaLights'+'Enabled']=!(0x181a+0x1*0x1d09+0x1*-0x3522),this['maxLights']=0x9*-0xb3+0xac+-0xe*-0x79);const _0x59c290=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1453*0x1+-0x82f+-0x1c86*-0x1)*_0x59c290*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x59c290,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x7*-0x3d+0x16*-0x141+0x1d41*0x1,this['invMaxAtte'+'nuation']=0x2456+0x1*0x448+-0x6*0x6c5,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x374f17;(_0x374f17=this['lightsText'+'ure'])==null||_0x374f17['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x59850e,_0xe19fcc,_0x4eb9b0,_0x116ee1,_0x14fb69){return new _e(_0x59850e,{'name':_0x14fb69,'width':_0xe19fcc,'height':_0x4eb9b0,'mipmaps':!(-0x1*-0x20c9+-0x2430+0x1*0x368),'format':_0x116ee1,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x155292,_0x5190ed){this['boundsMin']['copy'](_0x155292),this['boundsDelt'+'a']['copy'](_0x5190ed);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x3e647d,_0xb2ae16){_0xb2ae16['_node']['getWorldTr'+'ansform']()['getY'](_0x3e647d)['mulScalar'](-(-0x14de*0x1+0x2*-0x1112+-0x3703*-0x1)),_0x3e647d['normalize']();}['getLightAr'+'eaSizes'](_0x20c5e1){const _0xa00b67=_0x20c5e1['_node']['getWorldTr'+'ansform']();return _0xa00b67['transformV'+'ector'](FE,vs),Or[-0x3d*0x3b+0x1fa5*0x1+-0x1196*0x1]=vs['x'],Or[-0x1*0x445+0x1f9e+0xaf*-0x28]=vs['y'],Or[-0x2385+-0x2144+0x44cb]=vs['z'],_0xa00b67['transformV'+'ector'](NE,vs),Or[-0x9*-0x293+0x1323+-0x4b3*0x9]=vs['x'],Or[-0x960+-0x4a6+0x1*0xe0a]=vs['y'],Or[0x1013+0x5a7+0x15b5*-0x1]=vs['z'],Or;}['addLightDa'+'ta'](_0x3a87d4,_0x3d8e3a){const _0x5a595a=_0x3a87d4['_type']===Ze,_0x48b0dd=_0x3a87d4['atlasViewp'+'ortAllocat'+'ed'],_0x103918=this['cookiesEna'+'bled']&&!!_0x3a87d4['_cookie']&&_0x48b0dd,_0x4e826e=this['areaLights'+'Enabled']&&_0x3a87d4['shape']!==Ys,_0x301625=this['shadowsEna'+'bled']&&_0x3a87d4['castShadow'+'s']&&_0x48b0dd,_0x9c8d5b=_0x3a87d4['_node']['getPositio'+'n']();let _0x255487=null,_0x2e1627=null;_0x5a595a?_0x301625?_0x255487=_0x3a87d4['getRenderD'+'ata'](null,0x19b1*-0x1+0x1*0x11de+-0x7d3*-0x1)['shadowMatr'+'ix']:_0x103918&&(_0x255487=Wn['evalSpotCo'+'okieMatrix'](_0x3a87d4)):(_0x301625||_0x103918)&&(_0x2e1627=_0x3a87d4['atlasViewp'+'ort']);const _0x31ede7=this['lightsFloa'+'t'],_0x3bcd85=this['lightsUint'],_0x392810=_0x3d8e3a*this['lightsText'+'ure']['width']*(-0x11b9+0x7*-0x3ca+0x2c43);_0x31ede7[_0x392810+(0x1*0x156e+-0x65*0x6+-0x130c)*at['POSITION_R'+'ANGE']+(0xf5d+-0x1dae+0xe51)]=_0x9c8d5b['x'],_0x31ede7[_0x392810+(0x1*0x244d+0xf*0xd6+-0x30d3)*at['POSITION_R'+'ANGE']+(0x1389+-0x4*-0x23+0x404*-0x5)]=_0x9c8d5b['y'],_0x31ede7[_0x392810+(0x549*0x3+0x5*0x33f+-0x2012)*at['POSITION_R'+'ANGE']+(0xd69*0x1+-0x2*0x3cd+-0x5cd)]=_0x9c8d5b['z'],_0x31ede7[_0x392810+(0x4aa+-0x56e+0xc8)*at['POSITION_R'+'ANGE']+(-0x1*0x7fb+-0x1*-0x1d31+0xc9*-0x1b)]=_0x3a87d4['attenuatio'+'nEnd'];const _0x2d8783=_0x3a87d4['clusteredD'+'ata'];if(_0x3bcd85[_0x392810+(-0x1c2*-0xa+0x1f04+0x184a*-0x2)*at['COLOR_ANGL'+'ES_BIAS']+(-0xb*0x2db+-0x38f+0x22f8)]=_0x2d8783[-0x5e*-0x49+0x1d9f*0x1+0x141*-0x2d],_0x3bcd85[_0x392810+(-0x1778+-0x1*0x105a+-0x13eb*-0x2)*at['COLOR_ANGL'+'ES_BIAS']+(0x13fa+0x1*0xcff+0x1a6*-0x14)]=_0x2d8783[-0xb09+0x459*-0x1+0xf63],_0x3bcd85[_0x392810+(0x1bd1*0x1+0x15*0x9c+-0x2899)*at['COLOR_ANGL'+'ES_BIAS']+(0x2d2*-0x7+0x259f+-0xf*0x131)]=_0x2d8783[0x178f*-0x1+-0xc04+0x2395],_0x3a87d4['castShadow'+'s']){const _0x2f8b80=_0x3a87d4['getRenderD'+'ata'](null,-0xa*0xdf+-0x56*-0xf+0x3ac),_0x3e8c53=_0x3a87d4['_getUnifor'+'mBiasValue'+'s'](_0x2f8b80),_0x121f17=Mn['float2Half'](_0x3e8c53['bias']),_0x35ab21=Mn['float2Half'](_0x3e8c53['normalBias']);_0x3bcd85[_0x392810+(-0x1fd5+-0x1*0x24be+0x4497)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2249+0x56f*0x5+0x721)]=_0x121f17|_0x35ab21<<0x25b8+-0x2545*-0x1+-0x4aed;}if(_0x5a595a&&(this['getSpotDir'+'ection'](vs,_0x3a87d4),_0x31ede7[_0x392810+(0x5*-0x1+0x1*0x15dd+-0x1fc*0xb)*at['DIRECTION_'+'FLAGS']+(-0xb*-0x1c4+-0x1fd0+-0x3d*-0x34)]=vs['x'],_0x31ede7[_0x392810+(0x8*0x2bd+0x401*0x1+0x3b3*-0x7)*at['DIRECTION_'+'FLAGS']+(0xe75+-0xae*-0x33+0x188f*-0x2)]=vs['y'],_0x31ede7[_0x392810+(-0x6a3+-0xe2*-0x22+-0x175d)*at['DIRECTION_'+'FLAGS']+(0x1b65+-0x452*-0x5+-0x30fd)]=vs['z']),_0x3bcd85[_0x392810+(-0xb19+0x170+0x9ad)*at['DIRECTION_'+'FLAGS']+(0x17*-0x13f+0x161c+0x690)]=_0x3a87d4['getCluster'+'edFlags'](_0x301625,_0x103918),_0x255487){const _0x178d06=_0x255487['data'];for(let _0x597d49=-0x1a0b+-0x3*0x7ef+0x31d8;_0x597d49<-0x1*0x19a5+0x252d+-0xb78;_0x597d49++)_0x31ede7[_0x392810+(-0x99*0x28+0x349*-0x3+-0x21c7*-0x1)*at['PROJ_MAT_0']+_0x597d49]=_0x178d06[_0x597d49];}if(_0x2e1627&&(_0x31ede7[_0x392810+(0x1c05+0x95*-0x7+-0x17ee)*at['ATLAS_VIEW'+'PORT']+(-0x1062+0x1*-0x2333+0x5*0xa51)]=_0x2e1627['x'],_0x31ede7[_0x392810+(0xfdb+0x423*0x1+-0x13fa)*at['ATLAS_VIEW'+'PORT']+(-0xcbc+-0x46*-0x2d+-0x6f*-0x1)]=_0x2e1627['y'],_0x31ede7[_0x392810+(0x3d3+0x8f+-0x2b*0x1a)*at['ATLAS_VIEW'+'PORT']+(-0x335*0xb+0x1e82+0x4c7)]=_0x2e1627['z']/(0x16ca+0x1*-0x5ef+-0x10d8)),_0x4e826e){const _0x3968f2=this['getLightAr'+'eaSizes'](_0x3a87d4);_0x31ede7[_0x392810+(-0x2b*0x84+-0x1*-0x1f7+-0x1439*-0x1)*at['AREA_DATA_'+'WIDTH']+(-0xa9*0x1e+-0x2f*-0x2e+0xb5c)]=_0x3968f2[0x1234+-0x5*-0x43+-0x1383],_0x31ede7[_0x392810+(-0x36c*0x1+-0x12c8+0x1638)*at['AREA_DATA_'+'WIDTH']+(0x19e9+0x2*-0xabd+0x3*-0x17a)]=_0x3968f2[0x24b*-0x1+0xa6e+-0x2b6*0x3],_0x31ede7[_0x392810+(0x1dce+-0x156f+0x2c9*-0x3)*at['AREA_DATA_'+'WIDTH']+(-0xb74+-0xb*0x245+0x246d)]=_0x3968f2[-0x22a8+-0x49c+0x2746],_0x31ede7[_0x392810+(-0x2332+0x564+0x1dd2)*at['AREA_DATA_'+'HEIGHT']+(0xa*-0x17d+-0xc4d*0x2+0x277c)]=_0x3968f2[0x1*-0x796+-0x7e7+-0x1f0*-0x8],_0x31ede7[_0x392810+(0x139f*-0x1+0x7*0x41b+-0x91a)*at['AREA_DATA_'+'HEIGHT']+(-0x1*0xfa3+0xf*-0x6b+-0x47*-0x4f)]=_0x3968f2[-0x35*-0x50+-0x17b+-0xf11],_0x31ede7[_0x392810+(0x6*-0x119+-0x2d*0xbb+0x2779)*at['AREA_DATA_'+'HEIGHT']+(-0x195a+-0x2646+0x3fa2)]=_0x3968f2[0x384+-0x11*0xad+-0x16*-0x5d];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0xf01+0xac6*0x1+-0x9c7;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x42aea7){h(this,'clusterTex'+'ture'),(this['device']=_0x42aea7,this['name']='Untitled',this['reportCoun'+'t']=-0x1d87+0x12f1+-0x21e*-0x5,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x2635*-0x1+-0x7f*-0x2c+0xf02*-0x4,-0x1bfe+0x1*-0x18d9+0x34d8,0x2423+0xc5*-0x22+-0x9f8),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x1*0x59f+0x3*-0x3d7+0x1128,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x42aea7),this['registerUn'+'iforms'](_0x42aea7));}set['maxCellLig'+'htCount'](_0x44bd2b){_0x44bd2b!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x44bd2b,this['_cellsDirt'+'y']=!(0x1*-0xf77+-0x44e*0x7+0x2d99));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x5c6b08){ic['copy'](_0x5c6b08)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0xfa5+0x3*-0x99b+0x2c76));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x3fcdf5){this['_clusterSk'+'ipId']=_0x3fcdf5['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x3fcdf5['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x3fcdf5['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x3fcdf5['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x1*-0x136d+-0x1*-0x1b92+-0x2efc),this['_clusterBo'+'undsMinId']=_0x3fcdf5['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x4*-0x2eb+0x9d9+-0x2f*-0xa),this['_clusterBo'+'undsDeltaI'+'d']=_0x3fcdf5['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x2*0x49+-0x18d7+-0x2*-0xcb6),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x3fcdf5['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x4bc+-0x1c1f+0x257*0xa),this['_clusterCe'+'llsDotId']=_0x3fcdf5['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x2*0x832+-0x141b+-0x2*-0x1dd),this['_clusterCe'+'llsMaxId']=_0x3fcdf5['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x1366+0x3*-0x655+-0x64);}['updatePara'+'ms'](_0x305e35){_0x305e35&&(this['cells']=_0x305e35['cells'],this['maxCellLig'+'htCount']=_0x305e35['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x305e35['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x305e35['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x305e35['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x81*0x35+-0x399*-0x1+0x61*0x3d);const _0x1997a0=this['_cells']['x'],_0x3fd1bf=this['_cells']['y'],_0x514249=this['_cells']['z'],_0x3a4de2=_0x1997a0*_0x3fd1bf*_0x514249,_0x3b2f7f=this['maxCellLig'+'htCount']*_0x3a4de2;let _0x17a387=Math['ceil'](Math['sqrt'](_0x3b2f7f));_0x17a387=Y['roundUp'](_0x17a387,this['maxCellLig'+'htCount']);const _0x982c50=Math['ceil'](_0x3b2f7f/_0x17a387);w['assert'](_0x17a387<=k_&&_0x982c50<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1*-0x1258+0xf4e+-0x21a6]=_0x1997a0,this['_clusterCe'+'llsMaxData'][0x130d*0x1+0x10b9+0x1*-0x23c5]=_0x3fd1bf,this['_clusterCe'+'llsMaxData'][0x4d*0x1d+-0x131f*0x1+0xa68]=_0x514249,this['_clusterCe'+'llsDotData'][0xa*0x1be+0x8*-0x3e0+-0x6ca*-0x2]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x472*-0x3+0x1e13+-0x10bc]=_0x1997a0*_0x514249*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x916+-0x6e5+0xffd]=_0x1997a0*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x3b2f7f),this['counts']=new Int32Array(_0x3a4de2),this['_clusterTe'+'xtureSizeD'+'ata'][0x1*0xfec+-0x13c9+0x3dd]=_0x17a387,this['_clusterTe'+'xtureSizeD'+'ata'][-0x2ad*0x7+0x4c8+0xdf4]=(-0x2225+-0x1f90+0x1*0x41b6)/_0x17a387,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1*0x1feb+-0x2198+0x1*0x4185]=(0x1c3c*0x1+-0x86*-0x41+0x1*-0x3e41)/_0x982c50,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x17a387,_0x982c50,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x24ba+0x4*-0x5f0+-0x1429*-0x3?0x19f9+0x1d6*0xc+-0x3001:-0x1e7f+0xb7*-0x17+0x2ef1),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x521cfb=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2*0xe96+-0x22b5+0x589]=this['_cells']['x']/_0x521cfb['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xae5+-0x1af*-0xa+-0x1fb*0xe]=this['_cells']['y']/_0x521cfb['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x226f*-0x1+-0x133+0x1*-0x213a]=this['_cells']['z']/_0x521cfb['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x9cf+-0x1eac+-0x2fb*-0x7]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0xf3a+0x4c1+-0x95*-0x12]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x1a66+0x1*0x21d6+-0x1*0x76e]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x25*0xee+-0x13d4+0x277*0x16]=_0x521cfb['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x566+-0x1a92+0x152d]=_0x521cfb['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1619+-0xdbe*0x2+0x9eb*0x5]=_0x521cfb['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x4157b3,_0xc60be3,_0x30e925){_0xc60be3['copy'](_0x4157b3['min']),_0xc60be3['sub'](this['boundsMin']),_0xc60be3['div'](this['boundsDelt'+'a']),_0xc60be3['mul2'](_0xc60be3,this['cells']),_0xc60be3['floor'](),_0x30e925['copy'](_0x4157b3['max']),_0x30e925['sub'](this['boundsMin']),_0x30e925['div'](this['boundsDelt'+'a']),_0x30e925['mul2'](_0x30e925,this['cells']),_0x30e925['ceil'](),_0xc60be3['max'](D['ZERO']),_0x30e925['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x546671){const _0x2e0750=this['lightsBuff'+'er']['maxLights'],_0x1bf1db=this['_usedLight'+'s'];let _0x2a0ab5=-0x1667+0x1918+0x4*-0xac;_0x546671['forEach'](_0x212da6=>{const _0xe5c189=!!(_0x212da6['mask']&(Ss|di)),_0x1c41ab=_0x212da6['type']===Ze&&_0x212da6['_outerCone'+'Angle']===-0x62a+-0x1e22+0x244c;if(_0x212da6['enabled']&&_0x212da6['type']!==ve&&_0x212da6['visibleThi'+'sFrame']&&_0x212da6['intensity']>0x249+0x8e9+-0xb32&&_0xe5c189&&!_0x1c41ab){if(_0x2a0ab5<_0x2e0750){let _0x2eb6d9;_0x2a0ab5<_0x1bf1db['length']?_0x2eb6d9=_0x1bf1db[_0x2a0ab5]:(_0x2eb6d9=new U_(),_0x1bf1db['push'](_0x2eb6d9)),_0x2eb6d9['light']=_0x212da6,_0x212da6['getBoundin'+'gBox'](Yd),_0x2eb6d9['min']['copy'](Yd['getMin']()),_0x2eb6d9['max']['copy'](Yd['getMax']()),_0x2a0ab5++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x2e0750-(0x91b*0x4+0x6e2*0x4+-0x3ff3))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x1bf1db['length']=_0x2a0ab5;}['evaluateBo'+'unds'](){const _0x3bb47e=this['_usedLight'+'s'],_0x599a81=this['boundsMin'],_0x1b65c7=this['boundsMax'];if(_0x3bb47e['length']>0x6*0x3e0+0x23*0xc9+0x2b*-0x12e){_0x599a81['copy'](_0x3bb47e[-0x4ee+-0x1537*0x1+0x1a26]['min']),_0x1b65c7['copy'](_0x3bb47e[0x14d7+-0xda3+-0x733]['max']);for(let _0xbcbed2=-0x1*-0x4ca+-0x22bb+0x1df3;_0xbcbed2<_0x3bb47e['length'];_0xbcbed2++)_0x599a81['min'](_0x3bb47e[_0xbcbed2]['min']),_0x1b65c7['max'](_0x3bb47e[_0xbcbed2]['max']);}else _0x599a81['set'](0x1300+-0x7b*0x4d+-0x1*-0x11ff,-0x1fbe+0x159b*-0x1+0x1*0x3559,-0x23b7+0x13bc+0x1*0xffb),_0x1b65c7['set'](-0x205+-0x1*-0x2226+-0x2020,0xef7+-0x2*0x9fe+0x506,0x1fc1+0x962+0x5*-0x83a);this['boundsDelt'+'a']['sub2'](_0x1b65c7,_0x599a81),this['lightsBuff'+'er']['setBounds'](_0x599a81,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x111dde){this['counts']['fill'](0x1f*0x11+0x2297+-0x24a6),this['clusters']['fill'](0x164*-0xe+0x18*0xe9+-0x260),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x111dde?_0x111dde['areaLights'+'Enabled']:!(-0x1*-0x22bd+0x1a64+-0x3d20);const _0x287ff8=this['_cells']['x'],_0x487b49=this['_cells']['z'],_0x3fd60e=this['counts'],_0x5a9326=this['_maxCellLi'+'ghtCount'],_0x10eff6=this['clusters'],_0x55f686=this['maxCellLig'+'htCount'];let _0x5aa9ad=!(-0x1*-0x305+0x1eb7+-0x21bb);const _0x12200c=this['_usedLight'+'s'];for(let _0x417973=0x2*0x287+0x206+0x713*-0x1;_0x417973<_0x12200c['length'];_0x417973++){const _0x3ad758=_0x12200c[_0x417973],_0x58e2ae=_0x3ad758['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x58e2ae,_0x417973),this['evalLightC'+'ellMinMax'](_0x3ad758,rc,ac);const _0xb357a1=rc['x'],_0x482030=ac['x'],_0x3d9163=rc['y'],_0x31f2a8=ac['y'],_0x582e41=rc['z'],_0x1e4ac6=ac['z'];for(let _0x4994bc=_0xb357a1;_0x4994bc<=_0x482030;_0x4994bc++)for(let _0x32d874=_0x582e41;_0x32d874<=_0x1e4ac6;_0x32d874++)for(let _0x5a4f49=_0x3d9163;_0x5a4f49<=_0x31f2a8;_0x5a4f49++){const _0x2795c2=_0x4994bc+_0x287ff8*(_0x32d874+_0x5a4f49*_0x487b49),_0x1cb009=_0x3fd60e[_0x2795c2];_0x1cb009<_0x5a9326?(_0x10eff6[_0x55f686*_0x2795c2+_0x1cb009]=_0x417973,_0x3fd60e[_0x2795c2]=_0x1cb009+(0x9c2+0x6*-0x1ae+0x53)):_0x5aa9ad=!(0x178c+0x1091+-0x281d);}}_0x5aa9ad&&this['reportCoun'+'t']<0x1939*0x1+0x1*-0x419+-0x151b&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1c4f+-0x1b13+-0x138?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x7be37b,_0x439e7b=null){this['updatePara'+'ms'](_0x439e7b),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x7be37b),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x439e7b),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0xa87+0x20d7+0x8ac*-0x5+0.39996322972865306,Nl={'circlePoint'(_0x2ef2ed){const _0x52a482=Math['sqrt'](Math['random']()),_0xb82aec=Math['random']()*(0x129c*0x1+-0x1*-0x80e+-0x1aa8)*Math['PI'];_0x2ef2ed['x']=_0x52a482*Math['cos'](_0xb82aec),_0x2ef2ed['y']=_0x52a482*Math['sin'](_0xb82aec);},'circlePointDeterministic'(_0x493372,_0x3699c7,_0x27e275){const _0xbdd180=_0x3699c7*B_,_0x4cb761=Math['sqrt'](_0x3699c7)/Math['sqrt'](_0x27e275);_0x493372['x']=_0x4cb761*Math['cos'](_0xbdd180),_0x493372['y']=_0x4cb761*Math['sin'](_0xbdd180);},'spherePointDeterministic'(_0x20245e,_0x511743,_0x36a3a6,_0x377516=-0x35*-0x82+-0x260+-0x9*0x2ba,_0x4b4dcf=0x3d6+0x1*0xdcd+-0x11a2){_0x377516=-0x79*0x31+-0x1856+0x2f80-(0x1*0xecf+-0x14de+0x611*0x1)*_0x377516,_0x4b4dcf=0x15de+-0x716+-0xec7-(-0x189a+0x1b2e+-0x5e*0x7)*_0x4b4dcf;const _0x1da80e=Y['lerp'](_0x377516,_0x4b4dcf,_0x511743/_0x36a3a6),_0x1ce590=Math['sqrt'](-0x1a4+0x24b+-0xa6-_0x1da80e*_0x1da80e),_0xe21fbd=B_*_0x511743;_0x20245e['x']=Math['cos'](_0xe21fbd)*_0x1ce590,_0x20245e['y']=_0x1da80e,_0x20245e['z']=Math['sin'](_0xe21fbd)*_0x1ce590;},'radicalInverse'(_0x404a65){let _0x1efe0f=(_0x404a65<<0xb*0xb+0x2cb*0xb+0x1*-0x1f22|_0x404a65>>>-0x1615+0x1*0x26e5+0x10c*-0x10)>>>0xd50+-0xf02+0x1*0x1b2;return _0x1efe0f=((_0x1efe0f&0x291a033+-0x3d*-0x1f0f8d+0x1*0x4b5d0089)<<-0xe0b+0x2*0x93b+-0x46a|(_0x1efe0f&0xb8652b22+0xb*0x14020237+-0x211*0x712685)>>>0x212+-0x236f*-0x1+-0x2580)>>>-0xeb4+-0x164a+0x24fe,_0x1efe0f=((_0x1efe0f&0x34604792+-0x70c34*-0xc95+0x3*-0x1df334e1)<<0x65d+-0x199d*0x1+0x1*0x1342|(_0x1efe0f&0x947df76*-0x1+0x293daf9d+0xacd6fca5)>>>-0x1cb8+-0x1*0x3ab+-0x2065*-0x1)>>>-0x3*0x909+-0x3*-0x80f+0x2*0x177,_0x1efe0f=((_0x1efe0f&0xc51c36b*-0x1+-0xe4f329b*-0x1+0xd119fdf)<<-0x60*-0x2+0x17c1*-0x1+-0x53*-0x47|(_0x1efe0f&0x1d91a0c06+-0x8840a8f+-0xdfa51087)>>>-0x83a+-0x3*-0x9b7+-0x14e7)>>>0x2b*0x11+-0x72a+0x44f*0x1,_0x1efe0f=((_0x1efe0f&0x561448+-0x1f0f2b8+0xb*0x3c88ad)<<0xd76+-0x1*-0x1fd3+-0x23*0x14b|(_0x1efe0f&-0xcefb0bf3+0x1*-0x1a8de1d26+0x376da2819)>>>0x4*-0x107+0x4*0x16a+-0x184)>>>0x565*-0x2+-0x607*0x1+0x10d1,_0x1efe0f*(0xd7e+0x1*0x13f3+-0x2171+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x19b2e8){return BE[_0x19b2e8]??'decodeGamm'+'a';}static['encodeFunc'](_0x516a24){return zE[_0x516a24]??'encodeGamm'+'a';}}const z_=_0x39d545=>{switch(_0x39d545){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x435cd6,_0x7c818c,_0x4d2526)=>{if(_0x435cd6<=-0x2178+0xa91*-0x1+-0x1*-0x2c09)_0x7c818c[_0x4d2526+(0x112e+0x1651+0x277f*-0x1)]=0xb*-0x209+0x3*-0x88d+-0x56*-0x8f,_0x7c818c[_0x4d2526+(0x28a*0x5+-0x90c+-0x3a5)]=0x1*-0x22a3+-0xb14*0x1+0x2db7,_0x7c818c[_0x4d2526+(-0x16*-0xa3+0x1019+-0x14f*0x17)]=0xc52+0x1654*-0x1+0xa02,_0x7c818c[_0x4d2526+(-0x21e0*0x1+-0x648+0x282b)]=0x10d0+-0x970+-0x2*0x3b0;else{if(_0x435cd6>=-0x179*-0x17+0x1*-0x1127+-0x185*0xb)_0x7c818c[_0x4d2526+(0xf28*-0x1+0x2*-0xcf5+0x2912*0x1)]=0x1c*-0x39+0xa47+-0x30c,_0x7c818c[_0x4d2526+(-0x3*0xbdf+-0x220d+0x45ab)]=-0x9*0x39+-0x1c4a*-0x1+0x3*-0x8c3,_0x7c818c[_0x4d2526+(-0x2*-0x6f2+-0xa80+-0x362*0x1)]=-0x1*-0x152e+-0x1692+0x164,_0x7c818c[_0x4d2526+(-0x2414+0x1b7d*0x1+0x3*0x2de)]=0xf48+-0xb6*-0x25+-0x2996;else{let _0xdea51c=(-0x13bf+0x6ae+0xd12)*_0x435cd6%(0x2029*-0x1+0xc31*-0x1+-0xec9*-0x3),_0x20da7f=(-0x1b0a+0xa21*-0x1+-0x2*-0x1315)*_0x435cd6%(-0x6f2*-0x4+0x2257+-0x3e1e),_0x5d796e=(0x649*0x26+-0x2ef7*0x7+0x16*0xfa2)*_0x435cd6%(-0x475*-0x1+0x1374+0x4*-0x5fa);const _0x52484f=(-0x11959aa+-0x18*0x138463+-0x3*-0x14e41fb)*_0x435cd6%(-0x1f21+-0x2507+0x4429);_0xdea51c-=_0x20da7f/(0x25a0+0xfdc+-0x347d),_0x20da7f-=_0x5d796e/(-0x17b*0x16+0x64*-0x2f+0x33ed),_0x5d796e-=_0x52484f/(0x4*0x29e+0x2*0x73c+-0x1*0x17f1),_0x7c818c[_0x4d2526+(-0x2245+-0x251a+0x79*0x97)]=Math['min'](-0xe8a+-0xc42+0x1bcb,Math['floor'](_0xdea51c*(0x1cf8+-0xa*0x355+0x55a))),_0x7c818c[_0x4d2526+(-0x2*0x1aa+-0x2417+-0x57*-0x74)]=Math['min'](-0x221+-0x2002+0x2322,Math['floor'](_0x20da7f*(0xd65*-0x1+-0x2*0x125b+-0x10b*-0x31))),_0x7c818c[_0x4d2526+(0x220a+0x11c*0x16+-0x550*0xb)]=Math['min'](-0x1ea*-0x8+0x329+0x2*-0x8bd,Math['floor'](_0x5d796e*(0x2a2+0x1*0x24f+0x1*-0x3f1))),_0x7c818c[_0x4d2526+(-0x8*0x40e+-0x1185+0x31f8)]=Math['min'](0x107b+-0x25*0xfd+-0x15*-0x101,Math['floor'](_0x52484f*(0x1aff+0x73a+-0x2139)));}}},VE=_0x21cf01=>{const _0x51805a=_0x21cf01['length'],_0x47da36=Math['min'](_0x51805a,-0x3d8+0x13ae+0x17*-0x9a),_0x2d2119=Math['ceil'](_0x51805a/_0x47da36),_0x21c304=new Uint8Array(_0x47da36*_0x2d2119*(0x1bc7*0x1+-0xb03+-0x10c0));let _0x11a393=0x1a9f+-0x5d2+-0x429*0x5;for(let _0x341d4e=-0xe86+-0x4f7*-0x7+-0x143b;_0x341d4e<_0x51805a;_0x341d4e+=-0x2*0xd93+0x1baa+0x2*-0x40)nc(_0x21cf01[_0x341d4e+(-0x153f+-0x3*-0x65+0x4*0x504)]*(0x1036+-0x241e+0x13e8+0.5)+(0x1*-0x247f+-0x5d2*0x1+0x1*0x2a51+0.5),_0x21c304,_0x11a393+(-0xa8+0x7*0x1f9+0x103*-0xd)),nc(_0x21cf01[_0x341d4e+(0x16b*0x6+0x2291+-0x2b12)]*(0x47d+-0x2235+0x1db8*0x1+0.5)+(0x2060+-0x3c1*-0x9+0x4229*-0x1+0.5),_0x21c304,_0x11a393+(0x9e3+-0x2*0xb2e+-0x1*-0xc7d)),nc(_0x21cf01[_0x341d4e+(-0xfb3*0x1+0x6a7*-0x1+0x165c)]*(0x1fa6+-0x1095*-0x2+-0x40d0+0.5)+(0x1ae5+0x1*0x182d+0x1106*-0x3+0.5),_0x21c304,_0x11a393+(0x877*0x1+0x5e7*0x6+-0x2bd9)),nc(_0x21cf01[_0x341d4e+(-0x149f+-0x21e9+-0x368b*-0x1)]/(-0x7d*-0x34+0x1*0x14e7+-0x2e43),_0x21c304,_0x11a393+(-0x986+0x562+0x430)),_0x11a393+=0x1cb3+0x22d2+-0x3f75;return{'width':_0x47da36,'height':_0x2d2119,'data':_0x21c304};},GE=(_0x341a16,_0x36b5ba,_0x2dedfb,_0x51cee4)=>{const _0x4c8666=_0x2dedfb*(0x926*-0x2+0x210b*-0x1+-0xb*-0x4ab)*Math['PI'],_0x3d9613=Math['pow'](-0x569*-0x1+-0x5af+-0x1*-0x47-_0x36b5ba,(-0x1a36+0xf8b+0xaac)/(_0x51cee4+(0x2*-0x854+-0x51*0x2f+-0x1*-0x1f88))),_0x2a2cb9=Math['sqrt'](-0x2417+0x969+-0x1*-0x1aaf-_0x3d9613*_0x3d9613);_0x341a16['set'](Math['cos'](_0x4c8666)*_0x2a2cb9,Math['sin'](_0x4c8666)*_0x2a2cb9,_0x3d9613)['normalize']();},HE=(_0x41e6df,_0x23a35b,_0x426727)=>{const _0x34f614=_0x426727*(-0x2612+-0x1150+0x58a*0xa)*Math['PI'],_0x4a1e44=Math['sqrt'](-0x36b*0x1+-0x1*0x2195+0x2501-_0x23a35b),_0x42b3b1=Math['sqrt'](_0x23a35b);_0x41e6df['set'](Math['cos'](_0x34f614)*_0x42b3b1,Math['sin'](_0x34f614)*_0x42b3b1,_0x4a1e44)['normalize']();},WE=(_0x385cac,_0x5925c8,_0x4cb093,_0x3c0d5d)=>{const _0x15febd=_0x4cb093*(0x7a*-0x1f+0xb5*-0x6+0x1306)*Math['PI'],_0x1e9f15=Math['sqrt']((0x1*-0x1d0c+-0x13a2*0x1+0x30af*0x1-_0x5925c8)/(0x1916+-0x1b97+0x282+(_0x3c0d5d*_0x3c0d5d-(-0x8b*0x47+-0x1*-0x7b5+0x1ed9))*_0x5925c8)),_0x6d7d1e=Math['sqrt'](0x116a*0x2+-0x8b*-0x14+0x1*-0x2daf-_0x1e9f15*_0x1e9f15);_0x385cac['set'](Math['cos'](_0x15febd)*_0x6d7d1e,Math['sin'](_0x15febd)*_0x6d7d1e,_0x1e9f15)['normalize']();},$E=(_0xd9da77,_0x4ebd60)=>{const _0x234143=_0xd9da77*_0x4ebd60,_0x5083d8=_0x4ebd60/(0x71*0x2f+0x10a1+0x255f*-0x1-_0xd9da77*_0xd9da77+_0x234143*_0x234143);return _0x5083d8*_0x5083d8*((0x139d*0x1+0x336+-0x16d2)/Math['PI']);},XE=(_0x3d50b0,_0x4ca793)=>{const _0x3a435a=new D(),_0x281405=[];for(let _0x587e32=0x10ab+-0x6e5*0x5+-0x8e7*-0x2;_0x587e32<_0x3d50b0;++_0x587e32)GE(_0x3a435a,_0x587e32/_0x3d50b0,Nl['radicalInv'+'erse'](_0x587e32),_0x4ca793),_0x281405['push'](_0x3a435a['x'],_0x3a435a['y'],_0x3a435a['z'],-0xc56+0x1*-0xaa2+0x16f8);return _0x281405;},qE=(_0x83bcdc,_0x56a132)=>{const _0x2aad9c=_0x56a132/_0x83bcdc,_0x435481=new D(),_0x391ead=[];for(let _0x55e1cd=-0xcae+-0xa51*-0x1+0x25d;_0x55e1cd<_0x83bcdc;++_0x55e1cd){HE(_0x435481,_0x55e1cd/_0x83bcdc,Nl['radicalInv'+'erse'](_0x55e1cd));const _0x4e386c=_0x435481['z']/Math['PI'],_0x5e22c4=(-0x9bc+0x1*-0x13+0x9cf+0.5)*Math['log2'](_0x2aad9c/_0x4e386c);_0x391ead['push'](_0x435481['x'],_0x435481['y'],_0x435481['z'],_0x5e22c4);}return _0x391ead;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x4d6745,_0x1bfe2a)=>{const _0x5ed17e=jE[_0x4d6745];return _0x5ed17e&&_0x5ed17e[_0x1bfe2a]||_0x4d6745;},KE=(_0xf82393,_0x211ac2,_0x2b1e44)=>{const _0x701ff2=_0x2b1e44/_0xf82393,_0x30f427=0xc5*-0x27+0x727+0x16dd-Math['log2'](_0x211ac2)/(0x24b2+-0x1*0xd2b+-0x177c),_0x169eba=_0x30f427*_0x30f427,_0x4cf1e9=new D(),_0x190489=new D(),_0x11503a=new D(0x21a9*-0x1+0x16d7*0x1+0xad2,0x3*0xc8e+-0x7*-0x569+-0x13d*0x3d,-0x1180+-0x188f+0x2a10),_0x1dcec3=[],_0xda9271=YE(_0xf82393,_0x211ac2);for(let _0x5acdb4=0x18bf+0x2*-0x3a9+-0x116d;_0x5acdb4<_0xda9271;++_0x5acdb4){WE(_0x4cf1e9,_0x5acdb4/_0xda9271,Nl['radicalInv'+'erse'](_0x5acdb4),_0x169eba);const _0x25dee0=_0x4cf1e9['z'];if(_0x190489['set'](_0x4cf1e9['x'],_0x4cf1e9['y'],_0x4cf1e9['z'])['mulScalar']((-0x1f39*0x1+0x849*-0x1+-0xd2c*-0x3)*_0x25dee0)['sub'](_0x11503a),_0x190489['z']>-0x1618+0x7eb*-0x1+0x24f*0xd){const _0xacdf19=$E(Math['min'](0x1*-0x23f3+0x2692+-0x14f*0x2,_0x25dee0),_0x169eba)/(0x2bf+0x1*0x1d87+-0x2042)+(0x206a+-0x232d+0x7*0x65+0.001),_0x1c2d9c=(0xa48+0x4*-0x68d+0xfec+0.5)*Math['log2'](_0x701ff2/_0xacdf19);_0x1dcec3['push'](_0x190489['x'],_0x190489['y'],_0x190489['z'],_0x1c2d9c);}}for(;_0x1dcec3['length']<_0xf82393*(0x3*0x1bf+0x1*-0x2366+0x1e2d);)_0x1dcec3['push'](-0x1d9*-0x14+0x1*-0x1347+-0x11ad,0x1148+-0xa8*0x2b+-0x2bc*-0x4,0x4b3*0x1+0x1*-0x3d+-0x476,0xa*-0x73+-0x5*0x46d+0x553*0x5);return _0x1dcec3;},ZE=(_0x38e623,_0x138d53,_0x53134d)=>{const _0x67f1e2=VE(_0x53134d);return new _e(_0x38e623,{'name':_0x138d53,'width':_0x67f1e2['width'],'height':_0x67f1e2['height'],'mipmaps':!(0x1480+-0x5f7*0x2+-0x891),'minFilter':Te,'magFilter':Te,'levels':[_0x67f1e2['data']]});};class xv{constructor(_0x213646=!(0x2671*0x1+0x13fa+-0x3a6b*0x1)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x213646;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x5bf724,_0x5886d1)=>{_0x5bf724['destroy']();});}['get'](_0x5cc183,_0x76143c){if(!this['map']['has'](_0x5cc183)){const _0x4c05e3=_0x76143c();return this['map']['set'](_0x5cc183,_0x4c05e3),_0x4c05e3;}return this['map']['get'](_0x5cc183);}}const QE=new xv(!(-0xa6*-0x35+0xeee*0x2+-0x191*0x29)),JE=new Kt(),dm=(_0x1755c0,_0x470872,_0x9ef5f5)=>JE['get'](_0x1755c0,()=>new xv())['get'](_0x470872,()=>ZE(_0x1755c0,_0x470872,QE['get'](_0x470872,_0x9ef5f5))),eb=(_0x331c79,_0x1dbbb2,_0x5e0f90)=>{const _0x2756e7='lambert-sa'+'mples-'+_0x1dbbb2+'-'+_0x5e0f90;return dm(_0x331c79,_0x2756e7,()=>qE(_0x1dbbb2,_0x5e0f90));},tb=(_0x525d01,_0x3c5340,_0x40d025)=>{const _0x97004='phong-samp'+'les-'+_0x3c5340+'-'+_0x40d025;return dm(_0x525d01,_0x97004,()=>XE(_0x3c5340,_0x40d025));},sb=(_0x34cd50,_0x4f6ffb,_0x5f3d50,_0x45a2c6)=>{const _0x4e5947='ggx-sample'+'s-'+_0x4f6ffb+'-'+_0x5f3d50+'-'+_0x45a2c6;return dm(_0x34cd50,_0x4e5947,()=>KE(_0x4f6ffb,_0x5f3d50,_0x45a2c6));};function vi(_0x4f79c4,_0x11d1b8,_0x448976={}){var _0x51947d,_0x32bf06;w['assert'](_0x4f79c4 instanceof _e&&_0x11d1b8 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x5344ea=_0x448976['seamPixels']??0x3b9+-0x7*-0x31c+0x2d5*-0x9,_0x3b576b=(((_0x51947d=_0x448976['rect'])==null?void(-0x1c58+0x1*-0x17d7+-0x1165*-0x3):_0x51947d['z'])??_0x11d1b8['width'])-_0x5344ea*(0xb*0x29a+-0x119b*0x1+-0xb01),_0x30be4f=(((_0x32bf06=_0x448976['rect'])==null?void(0x23cf*0x1+0xe*-0x23a+-0x4a3):_0x32bf06['w'])??_0x11d1b8['height'])-_0x5344ea*(-0x1b0+-0x17c9*0x1+0x197b);if(_0x3b576b<0x23a3+-0x4f3*0x1+-0x623*0x5||_0x30be4f<0x2b3*-0xa+0x57*-0x53+0x2*0x1b9a)return!(-0xc5c+-0x1f99+0x15fb*0x2);const _0x260a92={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x44bb71=_0x448976['hasOwnProp'+'erty']('specularPo'+'wer')?_0x448976['specularPo'+'wer']:-0x2*0x11b3+-0x434*0x7+0x40d3,_0x425613=_0x448976['hasOwnProp'+'erty']('face')?_0x448976['face']:null,_0x234b09=_0x448976['hasOwnProp'+'erty']('distributi'+'on')?_0x448976['distributi'+'on']:_0x44bb71===0x19bf+-0x7dc*-0x1+0x17*-0x176?'none':'phong',_0x54f947=_0x260a92[_0x234b09]||'reproject',_0x517f65=_0x54f947['startsWith']('prefilterS'+'amples'),_0x31cabc=Tr['decodeFunc'](_0x4f79c4['encoding']),_0x1dfffe=Tr['encodeFunc'](_0x11d1b8['encoding']),_0x4cf8cf='sample'+z_(_0x4f79c4['projection']),_0x4bef2e='getDirecti'+'on'+z_(_0x11d1b8['projection']),_0x5f4071=_0x448976['hasOwnProp'+'erty']('numSamples')?_0x448976['numSamples']:-0xec4+-0x20a8+0x336c,_0x2ac159='ReprojectS'+'hader:'+_0x54f947+'_'+_0x31cabc+'_'+_0x1dfffe+'_'+_0x4cf8cf+'_'+_0x4bef2e+'_'+_0x5f4071,_0x5e1d9d=_0x4f79c4['device'];let _0x19677a=Hn(_0x5e1d9d)['getCachedS'+'hader'](_0x2ac159);if(!_0x19677a){const _0x2b2d75=new Map();_0x517f65&&_0x2b2d75['set']('USE_SAMPLE'+'S_TEX',''),_0x4f79c4['cubemap']&&_0x2b2d75['set']('CUBEMAP_SO'+'URCE',''),_0x2b2d75['set']('{PROCESS_F'+'UNC}',_0x54f947),_0x2b2d75['set']('{DECODE_FU'+'NC}',_0x31cabc),_0x2b2d75['set']('{ENCODE_FU'+'NC}',_0x1dfffe),_0x2b2d75['set']('{SOURCE_FU'+'NC}',_0x4cf8cf),_0x2b2d75['set']('{TARGET_FU'+'NC}',_0x4bef2e),_0x2b2d75['set']('{NUM_SAMPL'+'ES}',_0x5f4071),_0x2b2d75['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x5f4071))['toFixed'](-0x25e1*0x1+0x1*0xd46+-0x41a*-0x6));const _0xe3a8a=_0x5e1d9d['isWebGPU'],_0x441b45=Pe['get'](_0x5e1d9d,_0xe3a8a?it:Fe),_0x11cbda=new Map();_0x11cbda['set']('decodePS',_0x441b45['get']('decodePS')),_0x11cbda['set']('encodePS',_0x441b45['get']('encodePS')),_0x19677a=$t['createShad'+'er'](_0x5e1d9d,{'uniqueName':_0x2ac159,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x11cbda,'fragmentDefines':_0x2b2d75});}Q['pushGpuMar'+'ker'](_0x5e1d9d,'ReprojectT'+'exture'),_0x5e1d9d['setBlendSt'+'ate'](pt['NOBLEND']);const _0x1da8d4=_0x5e1d9d['scope']['resolve'](_0x4f79c4['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x1da8d4),_0x1da8d4['setValue'](_0x4f79c4);const _0x5ef881=_0x5e1d9d['scope']['resolve']('params'),_0x1196f5=_0x5e1d9d['scope']['resolve']('uvMod');_0x5344ea>-0x1f6d+-0x682*-0x2+-0x623*-0x3?_0x1196f5['setValue']([(_0x3b576b+_0x5344ea*(-0x14f1+-0x1fb8+0x34ab))/_0x3b576b,(_0x30be4f+_0x5344ea*(-0x1c3*-0x7+-0x1734+-0x5*-0x22d))/_0x30be4f,-_0x5344ea/_0x3b576b,-_0x5344ea/_0x30be4f]):_0x1196f5['setValue']([-0x1*0x1735+-0x2af+-0x3b3*-0x7,-0x101*-0xe+0x1caf+-0x2abc,-0x35*0x5+-0x2293+0x239c,-0x1d93*-0x1+0x24b2+-0x4245]);const _0x4f51b7=[0xb75*-0x1+-0x29*-0xc0+0x134b*-0x1,_0x11d1b8['width']*_0x11d1b8['height']*(_0x11d1b8['cubemap']?0x1c8a+0x1*-0x21e6+0x562:-0xb3*-0xd+-0x181c+0x3*0x502),_0x4f79c4['width']*_0x4f79c4['height']*(_0x4f79c4['cubemap']?0x1eda+0x476+0x234a*-0x1:-0x3*0x6aa+-0x1*-0x1e6a+0xa6b*-0x1)];if(_0x517f65){const _0x161019=_0x4f79c4['width']*_0x4f79c4['height']*(_0x4f79c4['cubemap']?-0x58*0x13+0x5*0x38f+-0xb3d*0x1:-0xb*0x153+0x1*0x1eb3+-0x1021),_0x29c582=_0x234b09==='ggx'?sb(_0x5e1d9d,_0x5f4071,_0x44bb71,_0x161019):_0x234b09==='lambert'?eb(_0x5e1d9d,_0x5f4071,_0x161019):tb(_0x5e1d9d,_0x5f4071,_0x44bb71);_0x5e1d9d['scope']['resolve']('samplesTex')['setValue'](_0x29c582),_0x5e1d9d['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x84f*-0x2+0x1ac*-0x1+0x124b)/_0x29c582['width'],(0xed9+-0x12c8+0x3f0)/_0x29c582['height']]);}for(let _0x199f7a=-0x1*-0x1ad7+-0x77c+-0x1*0x135b;_0x199f7a<(_0x11d1b8['cubemap']?-0x3e*-0x5f+-0x1cef+0x5f3:0x7*0x39a+0x13*-0x191+0x48e);_0x199f7a++)if(_0x425613===null||_0x199f7a===_0x425613){const _0x3d32c6=new gt({'colorBuffer':_0x11d1b8,'face':_0x199f7a,'depth':!(-0x11d2+-0xf78+-0x214b*-0x1),'flipY':_0x5e1d9d['isWebGPU']});_0x4f51b7[-0x1270+-0x481*-0x4+0x6c]=_0x199f7a,_0x5ef881['setValue'](_0x4f51b7),Ar(_0x5e1d9d,_0x3d32c6,_0x19677a,_0x448976==null?void(0x185b+-0xb*-0x335+0x3ba2*-0x1):_0x448976['rect']),_0x3d32c6['destroy']();}return Q['popGpuMark'+'er'](_0x5e1d9d),!(0x1*-0x2427+0x1*0x329+0x20fe);}const Kd=(_0x150649,_0x5c7b4f=0x8*0x35b+-0x2c*0xc4+0x6d8)=>0x1*-0x1b5b+0xcd7+0xe85+Math['floor'](Math['log2'](Math['max'](_0x150649,_0x5c7b4f))),ib=_0x5c04b5=>_0x5c04b5['textureHal'+'fFloatRend'+'erable'],rb=_0x28e265=>_0x28e265['textureFlo'+'atRenderab'+'le'],ab=_0x2d845d=>ib(_0x2d845d)?nt:rb(_0x2d845d)?Xt:Ne,nb=_0x2d9703=>Ne,ob=(_0x134eb5,_0x3cebf8,_0xc1c6fd,_0x4e10ca)=>new _e(_0x134eb5,{'name':'lighting-'+_0x3cebf8,'cubemap':!(-0x2*-0xb4b+0x1ca*-0x15+0x224*0x7),'width':_0x3cebf8,'height':_0x3cebf8,'format':_0xc1c6fd,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0xe6a+0x1e2d+0x2*-0x7e1)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x148ea0,_0xe3628d){const _0x3b97f8=_0x148ea0['device'];Q['pushGpuMar'+'ker'](_0x3b97f8,'genSkyboxC'+'ubemap');const _0x3d459a=ob(_0x3b97f8,_0xe3628d||(_0x148ea0['cubemap']?_0x148ea0['width']:_0x148ea0['width']/(-0x205a+-0x139*0x13+0x3799)),Ne);return vi(_0x148ea0,_0x3d459a,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x3b97f8),_0x3d459a;}static['generateLi'+'ghtingSour'+'ce'](_0x4acf38,_0xa7203){const _0x4f536d=_0x4acf38['device'];Q['pushGpuMar'+'ker'](_0x4f536d,'genLightin'+'gSource');const _0x296931=ab(_0x4f536d),_0x5cf3e0=(_0xa7203==null?void(-0x1d56+0x95*-0x39+0x1*0x3e83):_0xa7203['target'])||new _e(_0x4f536d,{'name':'lighting-s'+'ource','cubemap':!(0xadc+-0x259d+0x1ac1),'width':(_0xa7203==null?void(0xa67+-0x1194+0x1*0x72d):_0xa7203['size'])||0x17*0x1af+0x21bd+-0x47f6,'height':(_0xa7203==null?void(-0x5ab*-0x1+-0x5cd+-0x11*-0x2):_0xa7203['size'])||-0xdf7*0x2+-0x1a90+0x36fe,'format':_0x296931,'type':_0x296931===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1051+0x179f+-0x74e)});return vi(_0x4acf38,_0x5cf3e0,{'numSamples':_0x4acf38['mipmaps']?0x3*0x8bf+0x1e*0x8d+-0x2ac2:-0xde*0xd+-0x804+0x2*0xba5}),Q['popGpuMark'+'er'](_0x4f536d),_0x5cf3e0;}static['generateAt'+'las'](_0x2543ed,_0x21074f){const _0x26c6ac=_0x2543ed['device'],_0x579f2b=nb();Q['pushGpuMar'+'ker'](_0x26c6ac,'genAtlas');const _0x2f079c=(_0x21074f==null?void(-0x46c*0x7+0x37*0x40+0x4*0x44d):_0x21074f['target'])||new _e(_0x26c6ac,{'name':'envAtlas','width':(_0x21074f==null?void(-0x1a0*-0x4+-0xb23*-0x2+-0x1cc6):_0x21074f['size'])||-0x11*0x74+0x1*0x1b34+0xe*-0x140,'height':(_0x21074f==null?void(0x1*0xf5c+-0x7c*-0x49+0xcae*-0x4):_0x21074f['size'])||-0xd9+-0x37a+0x1*0x653,'format':_0x579f2b,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x313+0x225b+0x11*-0x1d7)});Q['pushGpuMar'+'ker'](_0x26c6ac,'mipmaps');const _0x457da4=_0x2f079c['width']/(0x165d+-0x1cde+0x881),_0xf0add0=new re(0xc88+-0x196a*-0x1+0x653*-0x6,-0xca7*0x2+-0x1*0x18df+-0x1*-0x322d,(-0x1*0x1d6b+0x377*0x7+-0x7*-0x106)*_0x457da4,(-0x2676+-0x269+-0x9*-0x4a7)*_0x457da4),_0x2ca02b=Kd(-0x117e+0xa99+0x2f*0x2b)-Kd(0xfaf+-0x6a9*0x2+0x1*-0x259);for(let _0x747c24=-0x97c+-0x253f+0x2ebb;_0x747c24<_0x2ca02b;++_0x747c24)vi(_0x2543ed,_0x2f079c,{'numSamples':0x1,'rect':_0xf0add0,'seamPixels':_0x457da4}),_0xf0add0['x']+=_0xf0add0['w'],_0xf0add0['y']+=_0xf0add0['w'],_0xf0add0['z']=Math['max'](-0xe5c+-0x1*0x375+0x11d2,Math['floor'](_0xf0add0['z']*(-0x912+0x116+0x3fe*0x2+0.5))),_0xf0add0['w']=Math['max'](0x1*0x2527+-0x1f3d+-0x1*0x5e9,Math['floor'](_0xf0add0['w']*(0xb3*0x2b+0x106+-0x17b*0x15+0.5)));Q['popGpuMark'+'er'](_0x26c6ac),Q['pushGpuMar'+'ker'](_0x26c6ac,'reflection'+'s'),_0xf0add0['set'](-0x90*-0x1+-0xe77+0xde7,(0x119*0x10+-0xb02+-0x58e)*_0x457da4,(-0x1108+-0x254e+0x3756)*_0x457da4,(-0x8*-0x35c+0x1d95+-0x37f5)*_0x457da4);for(let _0x470b1e=0x9e*-0x25+-0x1*-0x55d+-0x2*-0x8bd;_0x470b1e<-0x1*-0x12bd+-0x141*0x8+-0x8ae;++_0x470b1e)vi(_0x2543ed,_0x2f079c,{'numSamples':(_0x21074f==null?void(0x9e2*0x2+-0x3fb*-0x2+0x2a*-0xa9):_0x21074f['numReflect'+'ionSamples'])||0x1*-0x13b3+-0x1a36+0x31e9,'distribution':(_0x21074f==null?void(0x3*-0x53b+0x9c7*-0x1+0x28*0xa3):_0x21074f['distributi'+'on'])||'ggx','specularPower':Math['max'](0x2097+0x23ee+-0x4484,0xbf*0x1f+0x2*-0xb51+0x71*0x11>>_0x470b1e*(-0xe32+-0x222c+0x3060)),'rect':_0xf0add0,'seamPixels':_0x457da4}),_0xf0add0['y']+=_0xf0add0['w'],_0xf0add0['z']=Math['max'](0x8*0x396+0x19*0x9d+0x3ab*-0xc,Math['floor'](_0xf0add0['z']*(0x3e7+0x1*0x21fe+-0x1*0x25e5+0.5))),_0xf0add0['w']=Math['max'](0x1a9*-0x2+0x1a3b+-0x16e8,Math['floor'](_0xf0add0['w']*(-0x26b8+-0x822*-0x2+0x1674+0.5)));return Q['popGpuMark'+'er'](_0x26c6ac),Q['pushGpuMar'+'ker'](_0x26c6ac,'ambient'),_0xf0add0['set']((0x2*0x3aa+0x1754+-0x1e28)*_0x457da4,(-0x1*-0x1139+0x64d*-0x1+0x1*-0x96c)*_0x457da4,(0x1825*-0x1+-0x2*0x416+0x2091)*_0x457da4,(0x6b*0x3a+-0x24ea+0x12*0xb6)*_0x457da4),vi(_0x2543ed,_0x2f079c,{'numSamples':(_0x21074f==null?void(0x2*0x97b+0x1*0x2306+-0x35fc):_0x21074f['numAmbient'+'Samples'])||0xed3+0x10ab+-0x177e,'distribution':'lambert','rect':_0xf0add0,'seamPixels':_0x457da4}),Q['popGpuMark'+'er'](_0x26c6ac),Q['popGpuMark'+'er'](_0x26c6ac),_0x2f079c;}static['generatePr'+'efilteredA'+'tlas'](_0x218cda,_0x10d095){const _0x37bbce=_0x218cda[0xbf*-0x6+-0xf6c+-0x12*-0x11b]['device'],_0x754432=_0x218cda[0x4c9+-0x97*0xc+0x24b]['format'],_0x3733e4=_0x218cda[-0x25ed*0x1+0xb3a+0x1ab3*0x1]['type'];Q['pushGpuMar'+'ker'](_0x37bbce,'genPrefilt'+'eredAtlas');const _0xc5125e=(_0x10d095==null?void(-0x1314+-0x1f*-0x11a+0x3*-0x506):_0x10d095['target'])||new _e(_0x37bbce,{'name':'envPrefilt'+'eredAtlas','width':(_0x10d095==null?void(0x1*-0x1d95+0x3*0x595+0xcd6):_0x10d095['size'])||0x91+-0x5*-0x8b+-0x148,'height':(_0x10d095==null?void(0x25c6*-0x1+-0x1*-0xfda+0x15ec):_0x10d095['size'])||-0xae2+-0x16c2+-0x8e9*-0x4,'format':_0x754432,'type':_0x3733e4,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0xd7d*0x1+-0x1dc9+-0x2b47*-0x1)});Q['pushGpuMar'+'ker'](_0x37bbce,'mipmaps');const _0x5d8b2e=_0xc5125e['width']/(0x15cb+0x677*0x2+-0x20b9*0x1),_0x58bda8=new re(-0x1be+0x1*0x3e3+-0x225,-0x939*0x1+0x564+0x3d5,(0x1f7f+0x39a*0x5+-0x2f81)*_0x5d8b2e,(0x1ed4+0x677*0x5+0x7*-0x8e1)*_0x5d8b2e),_0xd337b8=Kd(0x11b2+-0x1*0x1397+0x1*0x3e5);for(let _0x1f2e8d=-0xb9f+0x14d2+-0x933;_0x1f2e8d<_0xd337b8;++_0x1f2e8d)vi(_0x218cda[-0x1d57+-0x7*0x290+0x85*0x5b],_0xc5125e,{'numSamples':0x1,'rect':_0x58bda8,'seamPixels':_0x5d8b2e}),_0x58bda8['x']+=_0x58bda8['w'],_0x58bda8['y']+=_0x58bda8['w'],_0x58bda8['z']=Math['max'](0x1d3*0xe+-0x56*-0x6a+-0x3d25*0x1,Math['floor'](_0x58bda8['z']*(0x9*-0xc1+0x6c9*-0x2+0x145b+0.5))),_0x58bda8['w']=Math['max'](-0x2260+-0xd0d*0x2+0x3c7b,Math['floor'](_0x58bda8['w']*(0x487+-0x642+0x1bb*0x1+0.5)));Q['popGpuMark'+'er'](_0x37bbce),Q['pushGpuMar'+'ker'](_0x37bbce,'reflection'+'s'),_0x58bda8['set'](-0x17fa+-0x13a4+0x2b9e,(0x21c8+0x188f+0x3f*-0xe9)*_0x5d8b2e,(-0x6e4+0x20b2+-0x18ce)*_0x5d8b2e,(0x26ae+-0x2ad+-0x2381*0x1)*_0x5d8b2e);for(let _0x346fd1=0x1825+-0x12da+-0x54a;_0x346fd1<_0x218cda['length'];++_0x346fd1)vi(_0x218cda[_0x346fd1],_0xc5125e,{'numSamples':0x1,'rect':_0x58bda8,'seamPixels':_0x5d8b2e}),_0x58bda8['y']+=_0x58bda8['w'],_0x58bda8['z']=Math['max'](-0x1*0xcf7+-0x53*-0x22+0x1f2,Math['floor'](_0x58bda8['z']*(-0xe64+-0x164b+0x24af*0x1+0.5))),_0x58bda8['w']=Math['max'](-0x187a+0xc26+0xc55,Math['floor'](_0x58bda8['w']*(-0x1*-0xf36+-0x22fa+0x13c4+0.5)));return Q['popGpuMark'+'er'](_0x37bbce),Q['pushGpuMar'+'ker'](_0x37bbce,'ambient'),_0x58bda8['set']((0x10be*0x1+0xe*-0x238+0xed2)*_0x5d8b2e,(-0x136f+0x87*0x47+0x1*-0x1082)*_0x5d8b2e,(-0x1428+0x93d+0xb2b)*_0x5d8b2e,(-0x1*-0x1415+0x25fe+0xb97*-0x5)*_0x5d8b2e),_0x10d095!=null&&_0x10d095['legacyAmbi'+'ent']?vi(_0x218cda[-0x2*-0x8f2+-0x2*-0xd7+-0x138d],_0xc5125e,{'numSamples':0x1,'rect':_0x58bda8,'seamPixels':_0x5d8b2e}):vi(_0x218cda[0x63d*-0x2+0x125d*-0x1+0x1ed7],_0xc5125e,{'numSamples':(_0x10d095==null?void(0xbb*0xb+0x2b*-0x2b+-0xd0):_0x10d095['numSamples'])||-0x18*-0x1+-0x300+0x8*0x15d,'distribution':'lambert','rect':_0x58bda8,'seamPixels':_0x5d8b2e}),Q['popGpuMark'+'er'](_0x37bbce),Q['popGpuMark'+'er'](_0x37bbce),_0xc5125e;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x38d1af,_0xa57350)=>{const _0x59555a=_0x38d1af['split']('.')['map'](_0x524f38=>parseInt(_0x524f38,0x73*0x19+0x2*-0xae7+0xa9d)),_0x256ac3=_0xa57350['split']('.')['map'](_0x3baf1e=>parseInt(_0x3baf1e,-0x3d6+-0x194b+0x1d2b));return _0x59555a[-0x1*0xb1e+-0x853+-0x2c7*-0x7]<_0x256ac3[-0x1*-0x33d+-0x146e*-0x1+-0x17ab]||_0x59555a[-0x5a+-0x1*0x41b+0x475*0x1]===_0x256ac3[-0x17*-0x16d+-0x259*0x1+0x513*-0x6]&&_0x59555a[-0x2435*-0x1+-0x15cc+-0xe68]<_0x256ac3[0x154a+-0xf97*0x1+-0x5b2];},hb=(_0x5e96e2,_0x4b7d93)=>{for(const _0x51dac9 of _0x5e96e2['keys']())if(V_['hasOwnProp'+'erty'](_0x51dac9)){const _0x4b5ff9=V_[_0x51dac9];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x51dac9+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x4b5ff9+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x1a6f4f=lb[_0x51dac9];_0x1a6f4f&&(!_0x4b7d93||cb(_0x4b7d93,_0x1a6f4f))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x51dac9+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1a6f4f+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x4b7d93||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x421478,_0x52d1ac,_0x3aa615=!(0xe57*0x1+0x10cb+-0x1f22)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x421478,this['options']=_0x52d1ac);const _0x934486=_0x52d1ac['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x421478['isWebGPU']&&_0x3aa615&&(_0x934486!=null&&_0x934486['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x52d1ac['userAttrib'+'utes']){for(const [_0x201995,_0x9db7a4]of Object['entries'](_0x52d1ac['userAttrib'+'utes']))this['attributes'][_0x9db7a4]=_0x201995;}const _0x5a3193=Pe['get'](_0x421478,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x5a3193),_0x934486){const _0x3da4a9=this['shaderLang'+'uage']===Fe?_0x934486['glsl']:_0x934486['wgsl'];w['call'](()=>{hb(_0x3da4a9,_0x934486['version']);}),_0x3da4a9['forEach']((_0x451e3b,_0x4fb7d2)=>{for(const _0xf00533 in Zd)Zd['hasOwnProp'+'erty'](_0xf00533)&&_0x451e3b['indexOf'](_0xf00533)>=0x1*-0x632+-0x1*0x2395+0x29c7&&(this['attributes'][_0xf00533]=Zd[_0xf00533]);this['chunks']['set'](_0x4fb7d2,_0x451e3b);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x52d1ac['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x52d1ac['lights']['length']>-0x8c*-0x2d+-0x1*0x1c85+0x3e9||_0x52d1ac['dirLightMa'+'pEnabled']||_0x52d1ac['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x52d1ac['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x52d1ac['useSpecula'+'r']||_0x52d1ac['ambientSH']||_0x52d1ac['useHeights']||_0x52d1ac['enableGGXS'+'pecular']||_0x52d1ac['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x52d1ac['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x52d1ac['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x52d1ac['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x52d1ac['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x2f6dfa,_0x3e0177,_0x4d6548=''){_0x2f6dfa&&this['fDefines']['set'](_0x3e0177,_0x4d6548);}['generateVe'+'rtexShader'](_0x3b1c90,_0x22c2fe,_0x331655){const {options:_0x4323ad,vDefines:_0x52c4c7,attributes:_0x5b989a}=this,_0x26c3d4=new Map();if(_0x26c3d4['set']('vPositionW','vec3'),(_0x4323ad['nineSliced'+'Mode']===Pt||_0x4323ad['nineSliced'+'Mode']===Mt)&&_0x52c4c7['set']('NINESLICED',!(-0x93*0x7+0x2609+-0x1102*0x2)),this['options']['linearDept'+'h']&&(_0x52c4c7['set']('LINEAR_DEP'+'TH',!(-0x9*0x440+-0x3*0x705+0x3b4f)),_0x26c3d4['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x52c4c7['set']('NORMALS',!(0x11b4+-0x1*-0x21a9+-0x335d)),this['options']['useInstanc'+'ing']){const _0x40f8c1=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x40f8c1['get']('transformI'+'nstancingV'+'S')&&(_0x5b989a['instance_l'+'ine1']=Mp,_0x5b989a['instance_l'+'ine2']=Dp,_0x5b989a['instance_l'+'ine3']=Ip,_0x5b989a['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x5b989a['vertex_nor'+'mal']=gs,_0x26c3d4['set']('vNormalW','vec3'),_0x4323ad['hasTangent'+'s']&&(_0x4323ad['useHeights']||_0x4323ad['useNormals']||_0x4323ad['useClearCo'+'atNormals']||_0x4323ad['enableGGXS'+'pecular'])?(_0x52c4c7['set']('TANGENTS',!(-0x89f+-0x12dd+0x1b7c)),_0x5b989a['vertex_tan'+'gent']=yi,_0x26c3d4['set']('vTangentW','vec3'),_0x26c3d4['set']('vBinormalW','vec3')):_0x4323ad['enableGGXS'+'pecular']&&(_0x52c4c7['set']('GGX_SPECUL'+'AR',!(0x2*-0x54a+-0x1*-0x14d7+-0xa43)),_0x26c3d4['set']('vObjectSpa'+'ceUpW','vec3')));const _0x2ffeb6=-0xdf*0x1d+0xf7d+0x9c8;for(let _0x5e5c63=0x1101+0x1b*0xf7+-0x2b0e;_0x5e5c63<_0x2ffeb6;_0x5e5c63++)_0x3b1c90[_0x5e5c63]&&(_0x52c4c7['set']('UV'+_0x5e5c63,!(-0x255c+0x482*-0x4+0x3764)),_0x5b989a['vertex_tex'+'Coord'+_0x5e5c63]='TEXCOORD'+_0x5e5c63),_0x22c2fe[_0x5e5c63]&&(_0x52c4c7['set']('UV'+_0x5e5c63+('_UNMODIFIE'+'D'),!(-0x7*0x56b+-0xd9+0xe*0x2c5)),_0x26c3d4['set']('vUv'+_0x5e5c63,'vec2'));let _0x16d128=0x22b5+0x2329+-0x45de;const _0xbaafe0=new Set();_0x331655['forEach'](_0xc4a133=>{const {id:_0x51bcf3,uv:_0x51e64d,name:_0x22b0fd}=_0xc4a133,_0x44bf8b=_0x51bcf3+_0x51e64d*(-0xbfa+-0x2232+0x950*0x5);if(!_0xbaafe0['has'](_0x44bf8b)){_0xbaafe0['add'](_0x44bf8b),_0x26c3d4['set']('vUV'+_0x51e64d+'_'+_0x51bcf3,'vec2');const _0xd28318='texture_'+_0x22b0fd+('MapTransfo'+'rm');_0x52c4c7['set']('{TRANSFORM'+'_NAME_'+_0x16d128+'}',_0xd28318),_0x52c4c7['set']('{TRANSFORM'+'_UV_'+_0x16d128+'}',_0x51e64d),_0x52c4c7['set']('{TRANSFORM'+'_ID_'+_0x16d128+'}',_0x51bcf3),_0x16d128++;}}),_0x52c4c7['set']('UV_TRANSFO'+'RMS_COUNT',_0x16d128),_0x4323ad['vertexColo'+'rs']&&(_0x5b989a['vertex_col'+'or']=Wt,_0x52c4c7['set']('VERTEX_COL'+'OR',!(-0x1*-0x1c8d+-0x83d+0x50*-0x41)),_0x26c3d4['set']('vVertexCol'+'or','vec4')),_0x4323ad['useMsdf']&&_0x4323ad['msdfTextAt'+'tribute']&&(_0x5b989a['vertex_out'+'lineParame'+'ters']=Ko,_0x5b989a['vertex_sha'+'dowParamet'+'ers']=Zo,_0x52c4c7['set']('MSDF',!(0x9*0x1f5+-0xbfb+-0x5a2))),(_0x4323ad['useMorphPo'+'sition']||_0x4323ad['useMorphNo'+'rmal'])&&(_0x52c4c7['set']('MORPHING',!(-0x1*0xa67+0x68a+0x3dd)),_0x4323ad['useMorphTe'+'xtureBased'+'Int']&&_0x52c4c7['set']('MORPHING_I'+'NT',!(-0x1b03+0xb49+0xfba)),_0x4323ad['useMorphPo'+'sition']&&_0x52c4c7['set']('MORPHING_P'+'OSITION',!(-0xb6*-0x20+0x1dbb+-0x347b)),_0x4323ad['useMorphNo'+'rmal']&&_0x52c4c7['set']('MORPHING_N'+'ORMAL',!(-0x2*0x2ce+0x1a4f+-0x14b3)),_0x5b989a['morph_vert'+'ex_id']=Ln),_0x4323ad['skin']&&(_0x5b989a['vertex_bon'+'eIndices']=us,_0x4323ad['batch']?_0x52c4c7['set']('BATCH',!(-0x1231+-0x1*-0x205e+-0xe2d)):(_0x5b989a['vertex_bon'+'eWeights']=gi,_0x52c4c7['set']('SKIN',!(0xd0b+-0x21b+-0xe*0xc8)))),_0x4323ad['useInstanc'+'ing']&&_0x52c4c7['set']('INSTANCING',!(-0x254f+-0x3*0xb38+0x46f7)),_0x4323ad['screenSpac'+'e']&&_0x52c4c7['set']('SCREENSPAC'+'E',!(0x619*0x3+0x44*0x1+-0x128f)),_0x4323ad['pixelSnap']&&_0x52c4c7['set']('PIXELSNAP',!(-0x259e+-0x4*0x26b+0x2f4a)),_0x26c3d4['forEach']((_0x44d402,_0x1aadda)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x1aadda['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x1aadda+':\x20'+Fy['get'](_0x44d402)+';\x0a':'varying\x20'+_0x44d402+'\x20'+_0x1aadda+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x528eaf,_0x5c4e68){const _0x2126d6=this['fDefines'],_0x315773=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x315773['lights']['length']),_0x528eaf&&_0x2126d6['set']('AREA_LIGHT'+'S',!(-0x189e+-0x2*0x75f+0x275c)),_0x5c4e68&&this['lighting']&&(_0x2126d6['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x17d1+0x77e*0x4+0x35c9*-0x1)),_0x315773['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2126d6['set']('CLUSTER_CO'+'OKIES',!(-0x11b8+0x8ec+-0x2*-0x466)),_0x315773['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x2126d6['set']('CLUSTER_AR'+'EALIGHTS',!(-0x1b4d+0x15e5+0x568)),_0x315773['lightMaskD'+'ynamic']&&_0x2126d6['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0xc3b+0x2a*-0x8+-0x1*-0xd8b)),_0x315773['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x315773['noShadow'])){const _0x5402e=qi['get'](_0x315773['clusteredL'+'ightingSha'+'dowType']);_0x2126d6['set']('CLUSTER_SH'+'ADOWS',!(0x130d*-0x1+0x6d4+0x3*0x413)),_0x2126d6['set']('SHADOW_KIN'+'D_'+_0x5402e['kind'],!(-0x14ef*-0x1+-0x1a9d+0x5ae)),_0x2126d6['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x5402e['kind'],!(0x2*0x10c1+0x25f9*-0x1+-0x9*-0x7f));}for(let _0x2279cf=-0x23*0x27+-0x194c+0x1*0x1ea1;_0x2279cf<_0x315773['lights']['length'];_0x2279cf++){const _0x18b52b=_0x315773['lights'][_0x2279cf],_0x2d5ce4=_0x18b52b['_type'];if(_0x5c4e68&&_0x2d5ce4!==ve)continue;const _0x407bd1=_0x528eaf&&_0x18b52b['_shape']?_0x18b52b['_shape']:Ys,_0x2e741b=_0x18b52b['_shadowTyp'+'e'],_0x26ac72=_0x18b52b['castShadow'+'s']&&!_0x315773['noShadow'],_0x20d3e7=qi['get'](_0x2e741b);w['assert'](_0x20d3e7),_0x2126d6['set']('LIGHT'+_0x2279cf,!(0x4*0x32b+0x7*-0x121+-0x21*0x25)),_0x2126d6['set']('LIGHT'+_0x2279cf+'TYPE',''+u_[_0x2d5ce4]),_0x2126d6['set']('LIGHT'+_0x2279cf+'SHADOWTYPE',''+_0x20d3e7['name']),_0x2126d6['set']('LIGHT'+_0x2279cf+'SHAPE',''+Fw[_0x407bd1]),_0x2126d6['set']('LIGHT'+_0x2279cf+'FALLOFF',''+Nw[_0x18b52b['_falloffMo'+'de']]),_0x18b52b['affectSpec'+'ularity']&&_0x2126d6['set']('LIGHT'+_0x2279cf+('AFFECT_SPE'+'CULARITY'),!(-0xa15+-0x230b+0x26*0x130)),_0x18b52b['_cookie']&&(_0x2d5ce4===Ze&&!_0x18b52b['_cookie']['_cubemap']||_0x2d5ce4===Ke&&_0x18b52b['_cookie']['_cubemap'])&&(_0x2126d6['set']('LIGHT'+_0x2279cf+'COOKIE',!(-0x2211+-0x2534+-0x5*-0xe41)),_0x2126d6['set']('{LIGHT'+_0x2279cf+('COOKIE_CHA'+'NNEL}'),_0x18b52b['_cookieCha'+'nnel']),_0x2d5ce4===Ze&&(_0x18b52b['_cookieTra'+'nsform']&&_0x2126d6['set']('LIGHT'+_0x2279cf+('COOKIE_TRA'+'NSFORM'),!(-0x146+0xbcb*-0x3+0x24a7)),_0x18b52b['_cookieFal'+'loff']&&_0x2126d6['set']('LIGHT'+_0x2279cf+('COOKIE_FAL'+'LOFF'),!(0x1d5a+-0x167+0x2d*-0x9f)))),_0x26ac72&&(_0x2126d6['set']('LIGHT'+_0x2279cf+'CASTSHADOW',!(0x2*0x7f5+0x1cfc+-0x2ce6)),_0x20d3e7['pcf']&&_0x2126d6['set']('LIGHT'+_0x2279cf+'SHADOW_PCF',!(0x20e9+0x1ed*-0x10+-0x219)),_0x18b52b['_normalOff'+'setBias']&&!_0x18b52b['_isVsm']&&_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x1*-0x1a62+0x1e22+-0x3c0)),_0x2d5ce4===ve&&(_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0xb20+0x1c0d*0x1+0x1*-0x10ed)),_0x18b52b['cascadeBle'+'nd']>-0x123d+0xe79+0x3c4&&_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x2e9*-0xd+0x46b+0x216a)),_0x18b52b['numCascade'+'s']>-0x7*-0x544+0x656*-0x1+-0x1e85&&_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_CA'+'SCADES'),!(0xc7*0x17+-0x1188+-0x59))),(_0x20d3e7['pcf']||_0x20d3e7['pcss']||this['device']['isWebGPU'])&&_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(-0x3*-0x96d+0x9*0xb5+-0x22a4)),_0x2d5ce4===Ke&&_0x2126d6['set']('LIGHT'+_0x2279cf+('_SHADOW_SA'+'MPLE_POINT'),!(0x2*-0x359+-0x1b31+0x21e3))),_0x26ac72&&(_0x2126d6['set']('SHADOW_KIN'+'D_'+_0x20d3e7['kind'],!(-0x133*0x5+-0x5de*0x5+-0xbc7*-0x3)),_0x2d5ce4===ve&&_0x2126d6['set']('SHADOW_DIR'+'ECTIONAL',!(0x7e9+0x7b8+-0xfa1)));}}['prepareFor'+'wardPass'](_0x2ac398){const {options:_0x3cfcc1}=this,_0x4c1b83=_0x3cfcc1['clusteredL'+'ightingEna'+'bled']&&_0x3cfcc1['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x3cfcc1['lights']['some'](_0x4b086f=>_0x4b086f['_shape']&&_0x4b086f['_shape']!==Ys),_0xa6453b=!_0x3cfcc1['lightMapEn'+'abled']||_0x3cfcc1['lightMapWi'+'thoutAmbie'+'nt'],_0x1a830c=this['needsNorma'+'l']&&(_0x3cfcc1['useNormals']||_0x3cfcc1['useClearCo'+'atNormals']||_0x3cfcc1['enableGGXS'+'pecular']&&!_0x3cfcc1['useHeights']);_0x3cfcc1['useSpecula'+'r']&&(this['fDefineSet'](!(-0x12*-0x163+-0x2373+0xb3*0xf),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x3cfcc1['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x3cfcc1['fresnelMod'+'el']>0x13cf+0x19b9+-0xbc*0x3e,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x3cfcc1['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x3cfcc1['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x3cfcc1['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x3cfcc1['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x3cfcc1['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x3cfcc1['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x3cfcc1['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x3cfcc1['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x3cfcc1['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x3cfcc1['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x3cfcc1['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x3cfcc1['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x3cfcc1['skyboxInte'+'nsity']>0x1ca6+-0x16c+0x1b3a*-0x1,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x3cfcc1['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x3cfcc1['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x1a830c,'LIT_TBN'),this['fDefineSet'](_0xa6453b,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x3cfcc1['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x3cfcc1['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x3cfcc1['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x3cfcc1['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x3cfcc1['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x3cfcc1['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x3cfcc1['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x3cfcc1['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x3cfcc1['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x3cfcc1['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x3cfcc1['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x3cfcc1['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x3cfcc1['useAo'],'LIT_AO'),this['fDefineSet'](_0x3cfcc1['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x3cfcc1['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x3cfcc1['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x3cfcc1['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0xc4a+0xf49*0x1+-0xd*0x21f),'LIT_FRESNE'+'L_MODEL',Rw[_0x3cfcc1['fresnelMod'+'el']]),this['fDefineSet'](!(-0x73f+0x1b07+-0x13c8),'LIT_NONE_S'+'LICE_MODE',qw[_0x3cfcc1['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x712*0x2+0x13f+0xce5),'LIT_BLEND_'+'TYPE',Yy[_0x3cfcc1['blendType']]),this['fDefineSet'](!(0x2234+-0x1257+-0xfdd),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x3cfcc1['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x2d*0x56+0x1c9*0xe+-0x9e0),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x3cfcc1['occludeSpe'+'cular']]),this['fDefineSet'](!(-0xcc5+-0x472*0x1+0x1137),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x3cfcc1['reflection'+'Source']]),this['fDefineSet'](!(0x1e33*0x1+-0x2424+0x1fb*0x3),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x3cfcc1['ambientSou'+'rce']]),this['fDefineSet'](!(0x1d*0x36+-0x493+0x18b*-0x1),'{lightingU'+'v}',_0x2ac398??''),this['fDefineSet'](!(0x709*0x1+-0x3b*0xa7+0x1f74),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x3cfcc1['reflection'+'Encoding'])),this['fDefineSet'](!(-0xd*0x235+-0x2*0x129e+-0x96b*-0x7),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x3cfcc1['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x1*0x1ddd+0x254d+-0x2195*0x2),'{ambientDe'+'code}',Tr['decodeFunc'](_0x3cfcc1['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x4c1b83,_0x3cfcc1['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x2bff52}=this,_0x5cdd1a=this['shaderPass'+'Info']['lightType'],_0x243d1f=this['shaderPass'+'Info']['shadowType'],_0x841410=qi['get'](_0x243d1f);w['assert'](_0x841410);const _0x474c89=_0x5cdd1a===ve||!_0x841410['vsm']&&_0x5cdd1a===Ze;this['fDefineSet'](_0x474c89,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0x1813*0x1+-0x5*-0x773+-0x5e*0xa7),'LIGHT_TYPE',''+u_[_0x5cdd1a]),this['fDefineSet'](!(0x5*-0x561+0x1*0xccd+0xe18),'SHADOW_TYP'+'E',''+_0x841410['name']),this['fDefineSet'](_0x2bff52['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x221187,_0x462ccb,_0x1cfc18){const _0x1321f5=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x221187??''),this['includes']['set']('frontendCo'+'dePS',_0x462ccb??''),_0x1321f5['pass']===Zn||_0x1321f5['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x1cfc18)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x15a3+0x2231+-0xc8d)),h(this,'shaderChun'+'ks',null),h(this,'pass',0x5a+0x239*0x5+0x5*-0x24b),h(this,'alphaTest',!(0x1d9a+0xec5*0x1+-0x2c5e)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x257f*0x1+0x9d8+-0x2f56)),h(this,'screenSpac'+'e',!(0x10f*-0x2+0x1*-0x1e23+-0x2042*-0x1)),h(this,'skin',!(-0x7c+-0x50e+0x58b)),h(this,'batch',!(-0x6b5+-0x2026+0x9b7*0x4)),h(this,'useInstanc'+'ing',!(0x3*0x439+-0x1*-0x1d93+-0x2a3d)),h(this,'useMorphPo'+'sition',!(0x1f5+-0x16ab*-0x1+-0x189f)),h(this,'useMorphNo'+'rmal',!(0x21cb*-0x1+-0x89f*0x2+0x330a)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x1183+-0x5*-0xab+0x14d9*-0x1)),h(this,'nineSliced'+'Mode',-0x3*0x21e+-0x1467+0x1ac1),h(this,'clusteredL'+'ightingEna'+'bled',!(0x187c*-0x1+0xf55+0x927)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x6d9+-0x2e*0xd+-0x2*0x241)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x1b2b+0x1086+-0x2bb*0x10)),h(this,'clusteredL'+'ightingSha'+'dowType',0x3bb+-0x1*0x189d+-0xa2*-0x21),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x9d8+-0x1e*0x121+0x2bb7)),h(this,'vertexColo'+'rs',!(-0x1*0x1343+0x4*0x2b+0x44*0x46)),h(this,'lightMapEn'+'abled',!(-0x1e0f+0x1*-0x2266+0x1be*0x25)),h(this,'dirLightMa'+'pEnabled',!(0x1a63+0x2*0xc48+-0x32f2)),h(this,'useHeights',!(0x1*-0x925+-0x2d*0xd+-0x1*-0xb6f)),h(this,'useNormals',!(-0xe9d+0x237a+-0x14dc)),h(this,'useClearCo'+'atNormals',!(-0x4fc+-0x268d+0x2b8a)),h(this,'useAo',!(0x26a6+0x17*-0x95+-0x1942)),h(this,'diffuseMap'+'Enabled',!(-0x10f*-0xb+-0xb26*-0x3+-0x2d16)),h(this,'pixelSnap',!(0x1638+-0x6d3+-0x7b2*0x2)),h(this,'ambientSH',!(-0x13*0xdd+0xbc2+-0xee*-0x5)),h(this,'ssao',!(0x1650+-0x38b*0xa+0xd1f)),h(this,'twoSidedLi'+'ghting',!(-0x1c32+0xf47*0x1+0xcec)),h(this,'occludeDir'+'ect',!(-0x16*0xfb+-0x1634+0x2bc7)),h(this,'occludeSpe'+'cular',0x1bc9+-0xd*0x184+0x1*-0x815),h(this,'occludeSpe'+'cularFloat',!(-0x360+-0x1cd4+0x5*0x671)),h(this,'useMsdf',!(0x9*0x403+-0xa8+-0x2372)),h(this,'msdfTextAt'+'tribute',!(-0x84e+-0x1985+-0x362*-0xa)),h(this,'alphaToCov'+'erage',!(0x204*0x1+0x342*0x8+0x1*-0x1c13)),h(this,'opacityFad'+'esSpecular',!(0x1d73+-0x4*0x11b+0x1*-0x1906)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x17ad+0x18d*0x1+-0x3b*-0x60),h(this,'useSpecula'+'r',!(0x10*-0x26f+-0x1c6d*0x1+0x435e)),h(this,'useSpecula'+'rityFactor',!(-0x13fd+-0x6*-0x30d+0x1b0)),h(this,'enableGGXS'+'pecular',!(0xfb*-0xf+0xa2a+0xc2*0x6)),h(this,'fresnelMod'+'el',0x1071+0x23ce+-0x343f),h(this,'useRefract'+'ion',!(-0xdd1+-0x2a6+0x1078)),h(this,'useClearCo'+'at',!(0x2*0xbb2+0x3*0x43b+0x4*-0x905)),h(this,'useSheen',!(0x113*-0x1+0x1*0x211b+-0x2007)),h(this,'useIridesc'+'ence',!(-0x266b+-0x744+0x2db0)),h(this,'useMetalne'+'ss',!(0xa7*-0x2b+0x1*0x1e13+-0x205)),h(this,'useDynamic'+'Refraction',!(-0x488+0x3*-0x5e1+-0x56*-0x42)),h(this,'dispersion',!(-0x256f+-0x2498+0x4a08)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x1dfa+0x1de1+-0xd*-0x2)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0xc3e+0x2*0x241+0x7bd),h(this,'useCubeMap'+'Rotation',!(-0x1*0x6c2+0xfb8+-0x8f5)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x50d*-0x6+0xc0b+-0x2a58)),h(this,'lights',[]),h(this,'noShadow',!(0x1215+-0x2*0x6a5+-0x4ca)),h(this,'lightMaskD'+'ynamic',-0x720+0x1e22+0x9b*-0x26),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x1*0x1b4c+0x610+0x1*0x153d)),h(this,'shadowCatc'+'her',!(0x2ab*-0x7+-0x241+0x14ef));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x9ce+-0x24b9+0x1aec*0x1)),h(this,'specularTi'+'nt',!(-0x2491+-0x7f2*-0x1+0x20*0xe5)),h(this,'metalnessT'+'int',!(-0x685+0x1de+-0x12a*-0x4)),h(this,'glossTint',!(-0x7*0x10a+0x13a5+-0xc5e)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x875+0x3*-0x74f+0xd79)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x6ac+-0x2544+0x1e99)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x19*-0x143+0x1e97*0x1+0xc6d*-0x5)),h(this,'glossInver'+'t',!(-0x1184+-0xa2*-0x4+-0x3*-0x4ff)),h(this,'sheenGloss'+'Invert',!(-0x1c68+-0x13b9+0x3022)),h(this,'clearCoatG'+'lossInvert',!(-0x132e+0xb*-0x4+-0x3df*-0x5)),h(this,'useAO',!(-0x1a*0x153+-0x215f*0x1+0x43ce)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x233941){return'lit'+Object['keys'](_0x233941)['sort']()['map'](_0x3b6c8c=>{var _0xeedfe7;return _0x3b6c8c==='shaderChun'+'ks'?((_0xeedfe7=_0x233941['shaderChun'+'ks'])==null?void(-0x2476+0x1*-0x13e5+0x385b):_0xeedfe7['key'])??'':_0x3b6c8c==='lights'?Ev['generateLi'+'ghtsKey'](_0x233941):_0x3b6c8c+_0x233941[_0x3b6c8c];})['join']('\x0a');},'generateLightsKey'(_0xa126e5){return'lights:'+_0xa126e5['lights']['map'](_0x13d537=>!_0xa126e5['clusteredL'+'ightingEna'+'bled']||_0x13d537['_type']===ve?_0x13d537['key']+',':'')['join']('');}},bn=[],Qd=_0x2b138=>Object['keys'](_0x2b138)['filter'](_0xad1dcf=>_0xad1dcf!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x50d111){let _0x497a4a;return _0x50d111===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x50d111)),_0x497a4a=this['propsMin']):_0x50d111===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x50d111)),_0x497a4a=this['props']):_0x497a4a=Qd(_0x50d111),'standard:\x0a'+ya['definesHas'+'h'](_0x50d111['defines'])+'\x0a'+_0x497a4a['map'](_0x43b917=>_0x43b917+_0x50d111[_0x43b917])['join']('\x0a')+Ev['generateKe'+'y'](_0x50d111['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x9151b4,_0x5e7af9,_0xc166d4){const _0x527e7d=_0xc166d4[_0x9151b4],_0x3ec682=_0xc166d4[_0x5e7af9],_0x1dc070=_0xc166d4['litOptions']['pass']===Aa;let _0x35a6d9;return _0x1dc070&&_0xc166d4['litOptions']['nineSliced'+'Mode']===Pt||_0x1dc070&&_0xc166d4['litOptions']['nineSliced'+'Mode']===Mt?_0x35a6d9='nineSliced'+'Uv':(_0x527e7d===0x1*-0x2092+0x9ba+0x16d8?_0x35a6d9='vUv'+_0x3ec682:_0x35a6d9='vUV'+_0x3ec682+'_'+_0x527e7d,_0xc166d4['heightMap']&&_0x9151b4!=='heightMapT'+'ransform'&&(_0x35a6d9+='\x20+\x20dUvOffs'+'et')),_0x35a6d9;}['_validateM'+'apChunk'](_0x333c39,_0x1e861d,_0x1bca2f){w['call'](()=>{const _0x2bd158=_0x1bca2f['get'](_0x1e861d)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x52158e=[],_0x4d3c72=(_0x1f4621,_0x546088)=>{_0x2bd158['includes'](_0x1f4621)&&_0x52158e['push']('\x20\x20'+_0x1f4621+'\x20->\x20'+_0x546088);};[['$UV','{STD_'+_0x333c39+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x333c39+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x333c39+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x333c39+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x333c39+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x333c39+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x333c39+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x1a9488,_0x3e838b])=>_0x4d3c72(_0x1a9488,_0x3e838b)),[['MAPFLOAT','STD_'+_0x333c39+'_CONSTANT'],['MAPCOLOR','STD_'+_0x333c39+'_CONSTANT'],['MAPVERTEX','STD_'+_0x333c39+'_VERTEX'],['MAPTEXTURE','STD_'+_0x333c39+'_TEXTURE'],['MAPINVERT','STD_'+_0x333c39+'_INVERT']]['forEach'](([_0x4131a9,_0x25f7e7])=>_0x4d3c72(_0x4131a9,_0x25f7e7)),_0x2bd158['includes']('$texture2D'+'SAMPLE')&&_0x4d3c72('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x52158e['length']>0x2*-0x262+0x1af6+-0x1632&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x1e861d+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x52158e['join']('\x0a'),{'code':_0x2bd158});});}['_addMapDef'+'ines'](_0x143bc6,_0x34be56,_0x5da7c3,_0x33b4f4,_0x53ce74,_0x5c67ea,_0x690c2b=null){const _0x432a11=_0x34be56+'Map',_0x56765c=_0x34be56['toUpperCas'+'e'](),_0x8368bd=_0x432a11+'Uv',_0xf9ef7=_0x432a11+'Identifier',_0xf71afa=_0x432a11+'Transform',_0x2a684a=_0x432a11+'Channel',_0x35a856=_0x34be56+('VertexColo'+'rChannel'),_0xee7be0=_0x34be56+'Tint',_0x1cc23e=_0x34be56+('VertexColo'+'r'),_0xaf25d5=_0x34be56+'Mode',_0x365931=_0x34be56+'Invert',_0x3f6cf5=_0x33b4f4[_0xee7be0],_0x424456=_0x33b4f4[_0x1cc23e],_0x20f1f2=_0x33b4f4[_0x432a11],_0xe973b1=_0x33b4f4[_0xf9ef7],_0x2ae401=_0x33b4f4[_0xaf25d5],_0x4eaa31=_0x53ce74['get'](_0x5da7c3);if(w['assert'](_0x4eaa31,'Shader\x20chu'+'nk\x20'+_0x5da7c3+('\x20not\x20found'+'.')),w['call'](()=>{_0x4eaa31&&this['_validateM'+'apChunk'](_0x56765c,_0x5da7c3,_0x53ce74);}),_0x20f1f2){_0x143bc6['set']('STD_'+_0x56765c+'_TEXTURE','');const _0x3e1127=this['_getUvSour'+'ceExpressi'+'on'](_0xf71afa,_0x8368bd,_0x33b4f4);_0x143bc6['set']('{STD_'+_0x56765c+('_TEXTURE_U'+'V}'),_0x3e1127),_0x143bc6['set']('{STD_'+_0x56765c+('_TEXTURE_C'+'HANNEL}'),_0x33b4f4[_0x2a684a]);const _0x12fa19='{STD_'+_0x56765c+('_TEXTURE_N'+'AME}');if(_0x4eaa31['includes'](_0x12fa19)){let _0x520bae='texture_'+_0x432a11;const _0x341978=_0x5c67ea[_0xe973b1];_0x341978?_0x520bae=_0x341978:(_0x5c67ea[_0xe973b1]=_0x520bae,_0x143bc6['set']('STD_'+_0x56765c+('_TEXTURE_A'+'LLOCATE'),'')),_0x143bc6['set'](_0x12fa19,_0x520bae);}if(_0x690c2b){const _0xe2050d=_0x33b4f4[_0x2a684a]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x690c2b);_0x143bc6['set']('{STD_'+_0x56765c+('_TEXTURE_D'+'ECODE}'),_0xe2050d);}}_0x424456&&(_0x143bc6['set']('STD_'+_0x56765c+'_VERTEX',''),_0x143bc6['set']('{STD_'+_0x56765c+('_VERTEX_CH'+'ANNEL}'),_0x33b4f4[_0x35a856])),_0x2ae401&&_0x143bc6['set']('{STD_'+_0x56765c+('_DETAILMOD'+'E}'),_0x2ae401),_0x3f6cf5&&_0x143bc6['set']('STD_'+_0x56765c+'_CONSTANT',''),_0x33b4f4[_0x365931]&&_0x143bc6['set']('STD_'+_0x56765c+'_INVERT','');}['_correctCh'+'annel'](_0x132c8e,_0x38d101,_0x3d28d9){if(_0x3d28d9[_0x132c8e]>0xcfe+-0x6*-0xd9+0x1*-0x1214){if(_0x3d28d9[_0x132c8e]<_0x38d101['length'])return _0x38d101['substring'](-0x1d06+0x43*-0x54+0x3302,_0x3d28d9[_0x132c8e]);if(_0x3d28d9[_0x132c8e]>_0x38d101['length']){let _0x4900a6=_0x38d101;const _0x44c706=_0x4900a6['charAt'](_0x4900a6['length']-(-0xd4c+-0x1f54+0x2ca1)),_0xff4b22=_0x3d28d9[_0x132c8e]-_0x4900a6['length'];for(let _0x2acbf6=0xc47*-0x3+0x1bdf+0x8f6;_0x2acbf6<_0xff4b22;_0x2acbf6++)_0x4900a6+=_0x44c706;return _0x4900a6;}return _0x38d101;}}['createVert'+'exShader'](_0x46f30a,_0x5bbe20){const _0x362fe2=[],_0x4742c0=[],_0x155958=[];for(const _0x1b4aaa in bn){const _0xd6f08=_0x1b4aaa+'Map';if(_0x5bbe20[_0x1b4aaa+('VertexColo'+'r')]){const _0x43999d=_0x1b4aaa+('VertexColo'+'rChannel');_0x5bbe20[_0x43999d]=this['_correctCh'+'annel'](_0x1b4aaa,_0x5bbe20[_0x43999d],bn);}if(_0x5bbe20[_0xd6f08]){const _0x44a7be=_0xd6f08+'Channel',_0x25ffdc=_0xd6f08+'Transform',_0x34f655=_0xd6f08+'Uv';_0x5bbe20[_0x34f655]=Math['min'](_0x5bbe20[_0x34f655],-0xd0*-0x2b+-0xfca+-0x1325),_0x5bbe20[_0x44a7be]=this['_correctCh'+'annel'](_0x1b4aaa,_0x5bbe20[_0x44a7be],bn);const _0x3f46a9=_0x5bbe20[_0x34f655];_0x362fe2[_0x3f46a9]=!(0x17c1+-0x9a8*0x3+0x537),_0x4742c0[_0x3f46a9]=_0x4742c0[_0x3f46a9]||_0x5bbe20[_0xd6f08]&&!_0x5bbe20[_0x25ffdc],_0x5bbe20[_0x25ffdc]&&_0x155958['push']({'name':_0x1b4aaa,'id':_0x5bbe20[_0x25ffdc],'uv':_0x5bbe20[_0x34f655]});}}_0x5bbe20['forceUv1']&&(_0x362fe2[-0x2308+0x1*0x1791+-0x2*-0x5bc]=!(0x14f*-0xb+-0x156a+-0x23cf*-0x1),_0x4742c0[0x1e79*-0x1+-0x9d7*0x1+-0x2851*-0x1]=_0x4742c0[-0xe4e+-0x1c4c+0x2a9b]!==void(0x352+0x224c+-0x259e)?_0x4742c0[-0xcf7*-0x1+0x14f7+-0x21ed]:!(0x1dc8+0x6dc+-0x24a4)),_0x46f30a['generateVe'+'rtexShader'](_0x362fe2,_0x4742c0,_0x155958);}['prepareFra'+'gmentDefin'+'es'](_0x54f247,_0x434102,_0x320fbc){const _0x398e50=(_0x109238,_0x3a1f99,_0x3c7b54='')=>{_0x109238&&_0x434102['set'](_0x3a1f99,_0x3c7b54);};_0x398e50(_0x54f247['lightMap'],'STD_LIGHTM'+'AP',''),_0x398e50(_0x54f247['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x398e50(_0x54f247['dirLightMa'+'p']&&_0x54f247['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x398e50(_0x54f247['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x398e50(_0x54f247['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x398e50(_0x54f247['aoMap']||_0x54f247['aoVertexCo'+'lor']||_0x54f247['useAO'],'STD_AO',''),_0x398e50(!(0x1f42*-0x1+-0x779+0x26bb),'STD_OPACIT'+'Y_DITHER',iE[_0x320fbc['isForward']?_0x54f247['litOptions']['opacityDit'+'her']:_0x54f247['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x39aac9,_0x2291eb){const _0x3d1809=Si['get'](_0x39aac9)['getByIndex'](_0x2291eb['litOptions']['pass']),_0x4667fb=_0x3d1809['isForward'],_0x43e74a=new db(_0x39aac9,_0x2291eb['litOptions']);this['createVert'+'exShader'](_0x43e74a,_0x2291eb);const _0x1f60bc={};_0x2291eb['litOptions']['fresnelMod'+'el']=_0x2291eb['litOptions']['fresnelMod'+'el']===0x7*0x356+-0x24b6+-0xd5c*-0x1?Yp:_0x2291eb['litOptions']['fresnelMod'+'el'];const _0x30d06b=_0x43e74a['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x2291eb,_0x30d06b,_0x3d1809);let _0x100378='';if(_0x4667fb){if(_0x2291eb['heightMap']&&this['_addMapDef'+'ines'](_0x30d06b,'height','parallaxPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),(_0x2291eb['litOptions']['blendType']!==Cs||_0x2291eb['litOptions']['alphaTest']||_0x2291eb['litOptions']['alphaToCov'+'erage']||_0x2291eb['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x30d06b,'opacity','opacityPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),_0x43e74a['needsNorma'+'l']){if((_0x2291eb['normalMap']||_0x2291eb['clearCoatN'+'ormalMap'])&&!_0x2291eb['litOptions']['hasTangent'+'s']){const _0x1e38d8=_0x2291eb['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x100378=this['_getUvSour'+'ceExpressi'+'on'](_0x1e38d8+'Transform',_0x1e38d8+'Uv',_0x2291eb);}this['_addMapDef'+'ines'](_0x30d06b,'normalDeta'+'il','normalMapP'+'S',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x30d06b,'normal','normalMapP'+'S',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['packedNorm'+'al']?'xy':'xyz');}_0x2291eb['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x30d06b,'diffuseDet'+'ail','diffusePS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x30d06b,'diffuse','diffusePS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['diffuseEnc'+'oding']),_0x2291eb['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x30d06b,'refraction','transmissi'+'onPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'thickness','thicknessP'+'S',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc)),_0x2291eb['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x30d06b,'iridescenc'+'e','iridescenc'+'ePS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc)),(_0x43e74a['lighting']&&_0x2291eb['litOptions']['useSpecula'+'r']||_0x43e74a['reflection'+'s'])&&(_0x2291eb['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x30d06b,'sheen','sheenPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x30d06b,'sheenGloss','sheenGloss'+'PS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc)),_0x2291eb['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x30d06b,'metalness','metalnessP'+'S',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'ior','iorPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc)),_0x2291eb['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x30d06b,'specularit'+'yFactor','specularit'+'yFactorPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),_0x2291eb['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x30d06b,'specular','specularPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x30d06b,'gloss','glossPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc)),_0x2291eb['aoDetail']&&this['_addMapDef'+'ines'](_0x30d06b,'aoDetail','aoPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),(_0x2291eb['aoMap']||_0x2291eb['aoVertexCo'+'lor']||_0x2291eb['useAO'])&&this['_addMapDef'+'ines'](_0x30d06b,'ao','aoPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'emissive','emissivePS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['emissiveEn'+'coding']),_0x2291eb['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x30d06b,'clearCoat','clearCoatP'+'S',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),this['_addMapDef'+'ines'](_0x30d06b,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x2291eb['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x30d06b,'anisotropy','anisotropy'+'PS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc),(_0x2291eb['lightMap']||_0x2291eb['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x30d06b,'light','lightmapPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc,_0x2291eb['lightMapEn'+'coding']);}else{const _0x2defe3=_0x2291eb['litOptions']['opacitySha'+'dowDither'];(_0x2291eb['litOptions']['alphaTest']||_0x2defe3)&&this['_addMapDef'+'ines'](_0x30d06b,'opacity','opacityPS',_0x2291eb,_0x43e74a['chunks'],_0x1f60bc);}_0x43e74a['generateFr'+'agmentShad'+'er'](_0x43e74a['chunks']['get']('stdDeclara'+'tionPS'),_0x43e74a['chunks']['get']('stdFrontEn'+'dPS'),_0x100378);const _0x181c8e=bh['merge'](_0x43e74a['chunks'],_0x43e74a['includes']),_0x2678d3=_0x43e74a['vDefines'];_0x2291eb['defines']['forEach']((_0x46df1c,_0x4f70f3)=>_0x2678d3['set'](_0x4f70f3,_0x46df1c)),_0x2291eb['defines']['forEach']((_0x2e1b09,_0x524f3f)=>_0x30d06b['set'](_0x524f3f,_0x2e1b09));const _0x1c8e90=Jt['createDefi'+'nition'](_0x39aac9,{'name':'StandardSh'+'ader','attributes':_0x43e74a['attributes'],'shaderLanguage':_0x43e74a['shaderLang'+'uage'],'vertexCode':_0x43e74a['vshader'],'fragmentCode':_0x43e74a['fshader'],'vertexIncludes':_0x181c8e,'fragmentIncludes':_0x181c8e,'fragmentDefines':_0x30d06b,'vertexDefines':_0x2678d3});return _0x43e74a['shaderPass'+'Info']['isForward']&&(_0x1c8e90['tag']=Sy),_0x1c8e90;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x1*-0xcd1+0x15*0x6+-0xc53*-0x1;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x5d5+0x145f*0x1+0x3d*-0x3d)),h(this,'parameters',{}),h(this,'alphaTest',-0x2*0x1348+0x120a+-0x1*-0x1486),h(this,'alphaToCov'+'erage',!(0xaa5+0xac1+0x1565*-0x1)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x19c9+0x1a1*0x15+-0x21b*0x4)),h(this,'_shaderVer'+'sion',-0x1*-0x19ba+-0x14*0x11c+0x1*-0x38a),h(this,'_scene',null),h(this,'dirty',!(0x221+0x598*0x1+-0x293*0x3)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x16adb5=Fe){const _0x1ea528=this['shaderChun'+'ks'];return _0x16adb5===Fe?_0x1ea528['glsl']:_0x1ea528['wgsl'];}set['shaderChun'+'ksVersion'](_0x26d339){this['shaderChun'+'ks']['version']=_0x26d339;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x5afab7){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x5afab7;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x512084){this['_depthStat'+'e']['depthBias']=_0x512084;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x11450e){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x11450e;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x29cc82){this['_blendStat'+'e']['redWrite']=_0x29cc82;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x2ef14f){this['_blendStat'+'e']['greenWrite']=_0x2ef14f;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x26efbe){this['_blendStat'+'e']['blueWrite']=_0x26efbe;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x2de4e0){this['_blendStat'+'e']['alphaWrite']=_0x2de4e0;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x36906f=this['transparen'+'t'],_0x41ddee=this['meshInstan'+'ces'];for(let _0x2050fb=0x64*-0x13+-0x2*0x2+0x770;_0x2050fb<_0x41ddee['length'];_0x2050fb++)_0x41ddee[_0x2050fb]['transparen'+'t']=_0x36906f;}set['blendState'](_0x174f81){this['_blendStat'+'e']['copy'](_0x174f81),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x54eeff){const _0x3abc46=ss[_0x54eeff];w['assert'](_0x3abc46,'Unknown\x20bl'+'end\x20mode\x20'+_0x54eeff),this['_blendStat'+'e']['setColorBl'+'end'](_0x3abc46['op'],_0x3abc46['src'],_0x3abc46['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x3abc46['alphaOp']??_0x3abc46['op'],_0x3abc46['alphaSrc']??_0x3abc46['src'],_0x3abc46['alphaDst']??_0x3abc46['dst']);const _0x8feb05=_0x54eeff!==Cs;this['_blendStat'+'e']['blend']!==_0x8feb05&&(this['_blendStat'+'e']['blend']=_0x8feb05,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x33d319,colorSrcFactor:_0x4fbf87,colorDstFactor:_0x3bea84,alphaOp:_0x174151,alphaSrcFactor:_0x3c6c3e,alphaDstFactor:_0x44c46c}=this['_blendStat'+'e'];for(let _0x1960e1=-0xa69+-0x12ed+0xeab*0x2;_0x1960e1<ss['length'];_0x1960e1++){const _0x317a96=ss[_0x1960e1];if(_0x317a96['src']===_0x4fbf87&&_0x317a96['dst']===_0x3bea84&&_0x317a96['op']===_0x33d319&&_0x317a96['src']===_0x3c6c3e&&_0x317a96['dst']===_0x44c46c&&_0x317a96['op']===_0x174151)return _0x1960e1;}return Zs;}set['depthState'](_0x56fa47){this['_depthStat'+'e']['copy'](_0x56fa47);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x5b873d){this['_depthStat'+'e']['test']=_0x5b873d;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x5afc04){this['_depthStat'+'e']['func']=_0x5afc04;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0xb96cd2){this['_depthStat'+'e']['write']=_0xb96cd2;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x282581){var _0x22008c,_0x62e2d2;this['name']=_0x282581['name'],this['alphaTest']=_0x282581['alphaTest'],this['alphaToCov'+'erage']=_0x282581['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x282581['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x282581['_depthStat'+'e']),this['cull']=_0x282581['cull'],this['stencilFro'+'nt']=(_0x22008c=_0x282581['stencilFro'+'nt'])==null?void(0x1e1+-0x2126+0x1f45):_0x22008c['clone'](),_0x282581['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x282581['stencilFro'+'nt']===_0x282581['stencilBac'+'k']?this['stencilFro'+'nt']:_0x282581['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x129ef0 in _0x282581['parameters'])_0x282581['parameters']['hasOwnProp'+'erty'](_0x129ef0)&&this['_setParame'+'terSimple'](_0x129ef0,_0x282581['parameters'][_0x129ef0]['data']);return this['defines']['clear'](),_0x282581['defines']['forEach']((_0x1e3366,_0xde3fb9)=>this['defines']['set'](_0xde3fb9,_0x1e3366)),this['_shaderChu'+'nks']=_0x282581['hasShaderC'+'hunks']?new Pe():null,(_0x62e2d2=this['_shaderChu'+'nks'])==null||_0x62e2d2['copy'](_0x282581['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x134da4=this['meshInstan'+'ces'];for(let _0x4bc0f8=0x1dca+0x4be+0x6e8*-0x5;_0x4bc0f8<_0x134da4['length'];_0x4bc0f8++)_0x134da4[_0x4bc0f8]['updateKey']();}['updateUnif'+'orms'](_0x70e9a4,_0x567bc6){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x231deb){w['assert'](!(-0x871*-0x4+-0x21ab+-0x18),'Not\x20implem'+'ented');}['update'](){var _0x5ebd3c,_0xe75e85;if(Object['keys'](this['_oldChunks'])['length']>-0x10*0x4a+-0x82a+0xcca){for(const [_0x168880,_0x257aef]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x168880,_0x257aef),delete this['_oldChunks'][_0x168880];}(this['_definesDi'+'rty']||(_0x5ebd3c=this['_shaderChu'+'nks'])!=null&&_0x5ebd3c['isDirty']())&&(this['_definesDi'+'rty']=!(0x11*-0x248+0x102a+0x1*0x169f),(_0xe75e85=this['_shaderChu'+'nks'])==null||_0xe75e85['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x427+-0x1*0x206a+0x1c43);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x445855=this['meshInstan'+'ces'],_0x3feea8=_0x445855['length'];for(let _0x5dba1c=0x3b*-0x9e+0xbce+0x189c;_0x5dba1c<_0x3feea8;_0x5dba1c++)_0x445855[_0x5dba1c]['clearShade'+'rs']();}['getParamet'+'er'](_0x5a9928){return this['parameters'][_0x5a9928];}['_setParame'+'terSimple'](_0x4dc063,_0x4425d1){w['call'](()=>{_0x4425d1===void(-0xc31*-0x1+-0x17*0xa9+0x2fe)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4dc063+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x222163=this['parameters'][_0x4dc063];_0x222163?_0x222163['data']=_0x4425d1:this['parameters'][_0x4dc063]={'scopeId':null,'data':_0x4425d1};}['setParamet'+'er'](_0x9f5a9a,_0x32fc27){if(_0x32fc27===void(0x58a+-0x66b+-0x9*-0x19)&&typeof _0x9f5a9a=='object'){const _0xe10a0=_0x9f5a9a;if(_0xe10a0['length']){for(let _0x358b8c=0xfe8*0x2+-0x3*0xc44+0x4fc;_0x358b8c<_0xe10a0['length'];_0x358b8c++)this['setParamet'+'er'](_0xe10a0[_0x358b8c]);return;}_0x9f5a9a=_0xe10a0['name'],_0x32fc27=_0xe10a0['value'];}this['_setParame'+'terSimple'](_0x9f5a9a,_0x32fc27);}['deletePara'+'meter'](_0x17097a){this['parameters'][_0x17097a]&&delete this['parameters'][_0x17097a];}['setParamet'+'ers'](_0x5c6f5a,_0x32e125){const _0x4a4695=this['parameters'];_0x32e125===void(0xaff*-0x2+0x21ca+-0xbcc)&&(_0x32e125=_0x4a4695);for(const _0x5e5f5e in _0x32e125){const _0x2312ea=_0x4a4695[_0x5e5f5e];_0x2312ea&&(_0x2312ea['scopeId']||(_0x2312ea['scopeId']=_0x5c6f5a['scope']['resolve'](_0x5e5f5e)),_0x2312ea['scopeId']['setValue'](_0x2312ea['data']));}}['setDefine'](_0x2d1fa5,_0x36be80){let _0x3da269=!(-0x1879+0x6a6+0x11d4);const {defines:_0x2a975d}=this;_0x36be80!==void(0xc7*-0x21+-0x168+0x1b0f)&&_0x36be80!==!(-0x55d*0x4+0x18dc+-0x367)?(_0x3da269=!_0x2a975d['has'](_0x2d1fa5)||_0x2a975d['get'](_0x2d1fa5)!==_0x36be80,_0x2a975d['set'](_0x2d1fa5,_0x36be80)):(_0x3da269=_0x2a975d['has'](_0x2d1fa5),_0x2a975d['delete'](_0x2d1fa5)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x3da269);}['getDefine'](_0x35e676){return this['defines']['has'](_0x35e676);}['destroy'](){this['variants']['clear']();for(let _0x45b5cc=-0x5*0x5c1+0x21b0+-0x4eb*0x1;_0x45b5cc<this['meshInstan'+'ces']['length'];_0x45b5cc++){const _0x138feb=this['meshInstan'+'ces'][_0x45b5cc];if(_0x138feb['clearShade'+'rs'](),_0x138feb['_material']=null,_0x138feb['mesh']){const _0x2d677c=Qn(_0x138feb['mesh']['device']);this!==_0x2d677c&&(_0x138feb['material']=_0x2d677c);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x4f*-0x3b+0xf1f+0x316*0x1;}['addMeshIns'+'tanceRef'](_0x3736fe){this['meshInstan'+'ces']['push'](_0x3736fe);}['removeMesh'+'InstanceRe'+'f'](_0x9b2ef8){const _0x442079=this['meshInstan'+'ces'],_0x4a7ac1=_0x442079['indexOf'](_0x9b2ef8);_0x4a7ac1!==-(0xf5a*-0x1+-0x1219+0x2174)&&_0x442079['splice'](_0x4a7ac1,-0x5*0xc+-0x48f*0x3+0x1*0xdea);}}class Ws{static['update'](_0x5167e7,_0x2ed824,_0x4c1378,_0xb48d7b,_0x27ab76,_0x3ac2fd,_0xa78722){Ws['updateShar'+'edOptions'](_0x5167e7,_0x2ed824,_0x4c1378,_0x27ab76,_0x3ac2fd),Ws['updateMate'+'rialOption'+'s'](_0x5167e7,_0x2ed824),Ws['updateEnvO'+'ptions'](_0x5167e7,_0x2ed824,_0x4c1378,_0xb48d7b),Ws['updateLigh'+'tingOption'+'s'](_0x5167e7,_0x2ed824,_0x4c1378,_0x27ab76,_0xa78722);}static['updateShar'+'edOptions'](_0xa0c413,_0xe211c7,_0x499c3f,_0x5135a0,_0x4bb712){_0xa0c413['shaderChun'+'ks']=_0xe211c7['shaderChun'+'ks'],_0xa0c413['pass']=_0x4bb712,_0xa0c413['alphaTest']=_0xe211c7['alphaTest']>0x3*0x705+-0x728*-0x4+-0x31af,_0xa0c413['blendType']=_0xe211c7['blendType'],_0xa0c413['screenSpac'+'e']=_0x5135a0&&(_0x5135a0&Eh)!==0x567+0x9eb+-0xf52,_0xa0c413['skin']=_0x5135a0&&(_0x5135a0&nl)!==-0x725+-0x1*-0x1093+-0x96e,_0xa0c413['useInstanc'+'ing']=_0x5135a0&&(_0x5135a0&ol)!==0x1479+-0x17*-0xb5+-0x2*0x125e,_0xa0c413['useMorphPo'+'sition']=_0x5135a0&&(_0x5135a0&ll)!==-0xa9f+0x3d5+0x6ca,_0xa0c413['useMorphNo'+'rmal']=_0x5135a0&&(_0x5135a0&cl)!==-0x2659+0xe*0x10+-0xb5*-0x35,_0xa0c413['useMorphTe'+'xtureBased'+'Int']=_0x5135a0&&(_0x5135a0&hl)!==-0x82c+0x1*-0x1145+-0xa7*-0x27,_0xa0c413['hasTangent'+'s']=_0x5135a0&&(_0x5135a0&om)!==0x26*0x40+-0x1*0x133f+0x9bf,_0xa0c413['nineSliced'+'Mode']=_0xe211c7['nineSliced'+'Mode']||ci,_0xe211c7['useLightin'+'g']&&_0x499c3f['clusteredL'+'ightingEna'+'bled']?(_0xa0c413['clusteredL'+'ightingEna'+'bled']=!(-0x116d+0x538+0xc35),_0xa0c413['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x499c3f['lighting']['cookiesEna'+'bled'],_0xa0c413['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x499c3f['lighting']['shadowsEna'+'bled'],_0xa0c413['clusteredL'+'ightingSha'+'dowType']=_0x499c3f['lighting']['shadowType'],_0xa0c413['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x499c3f['lighting']['areaLights'+'Enabled']):(_0xa0c413['clusteredL'+'ightingEna'+'bled']=!(-0x1*0x1037+0xa15*-0x2+-0x1*-0x2462),_0xa0c413['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1621+-0x22ec+0xccc),_0xa0c413['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x13bc+-0xb2b+0x2*0xf74),_0xa0c413['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*-0x2239+-0x2f*0x73+-0x1c9*-0x1f));}static['updateMate'+'rialOption'+'s'](_0x4cfb80,_0x4c8242){_0x4cfb80['separateAm'+'bient']=!(-0xb3f+0x8ac+0xa5*0x4),_0x4cfb80['pixelSnap']=_0x4c8242['pixelSnap'],_0x4cfb80['ambientSH']=_0x4c8242['ambientSH'],_0x4cfb80['twoSidedLi'+'ghting']=_0x4c8242['twoSidedLi'+'ghting'],_0x4cfb80['occludeDir'+'ect']=_0x4c8242['occludeDir'+'ect'],_0x4cfb80['occludeSpe'+'cular']=_0x4c8242['occludeSpe'+'cular'],_0x4cfb80['occludeSpe'+'cularFloat']=_0x4c8242['occludeSpe'+'cularInten'+'sity']!==-0x1*0x26d1+-0x65*-0x8+0x23aa,_0x4cfb80['useMsdf']=!(0x280+-0x34*0x68+-0x12a1*-0x1),_0x4cfb80['msdfTextAt'+'tribute']=!(0x2d*0x65+-0x52*-0x16+-0x211*0xc),_0x4cfb80['alphaToCov'+'erage']=_0x4c8242['alphaToCov'+'erage'],_0x4cfb80['opacityFad'+'esSpecular']=_0x4c8242['opacityFad'+'esSpecular'],_0x4cfb80['opacityDit'+'her']=_0x4c8242['opacityDit'+'her'],_0x4cfb80['cubeMapPro'+'jection']=tm,_0x4cfb80['useSpecula'+'r']=_0x4c8242['hasSpecula'+'r'],_0x4cfb80['useSpecula'+'rityFactor']=_0x4c8242['hasSpecula'+'rityFactor'],_0x4cfb80['enableGGXS'+'pecular']=_0x4c8242['ggxSpecula'+'r'],_0x4cfb80['fresnelMod'+'el']=_0x4c8242['fresnelMod'+'el'],_0x4cfb80['useRefract'+'ion']=_0x4c8242['hasRefract'+'ion'],_0x4cfb80['useClearCo'+'at']=_0x4c8242['hasClearCo'+'at'],_0x4cfb80['useSheen']=_0x4c8242['hasSheen'],_0x4cfb80['useIridesc'+'ence']=_0x4c8242['hasIrrides'+'cence'],_0x4cfb80['useMetalne'+'ss']=_0x4c8242['hasMetalne'+'ss'],_0x4cfb80['useDynamic'+'Refraction']=_0x4c8242['dynamicRef'+'raction'],_0x4cfb80['dispersion']=_0x4c8242['dispersion']>0x179b+0x1*-0x731+-0x106a,_0x4cfb80['vertexColo'+'rs']=!(0x9d+0x2311*0x1+-0x23ad*0x1),_0x4cfb80['lightMapEn'+'abled']=_0x4c8242['hasLightin'+'g'],_0x4cfb80['dirLightMa'+'pEnabled']=_0x4c8242['dirLightMa'+'p'],_0x4cfb80['useHeights']=_0x4c8242['hasHeights'],_0x4cfb80['useNormals']=_0x4c8242['hasNormals'],_0x4cfb80['useClearCo'+'atNormals']=_0x4c8242['hasClearCo'+'atNormals'],_0x4cfb80['useAo']=_0x4c8242['hasAo'],_0x4cfb80['diffuseMap'+'Enabled']=_0x4c8242['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x160210,_0x24579f,_0x4329f5,_0x8f8e17){_0x160210['fog']=_0x24579f['useFog']?_0x8f8e17['fog']:Kn,_0x160210['gamma']=_0x8f8e17['shaderOutp'+'utGamma'],_0x160210['toneMap']=_0x24579f['useTonemap']?_0x8f8e17['toneMappin'+'g']:nv,_0x24579f['useSkybox']&&_0x4329f5['envAtlas']&&_0x4329f5['skybox']?(_0x160210['reflection'+'Source']=xh,_0x160210['reflection'+'Encoding']=_0x4329f5['envAtlas']['encoding'],_0x160210['reflection'+'CubemapEnc'+'oding']=_0x4329f5['skybox']['encoding']):_0x24579f['useSkybox']&&_0x4329f5['envAtlas']?(_0x160210['reflection'+'Source']=vh,_0x160210['reflection'+'Encoding']=_0x4329f5['envAtlas']['encoding']):_0x24579f['useSkybox']&&_0x4329f5['skybox']?(_0x160210['reflection'+'Source']=Th,_0x160210['reflection'+'Encoding']=_0x4329f5['skybox']['encoding']):(_0x160210['reflection'+'Source']=vr,_0x160210['reflection'+'Encoding']=null),_0x24579f['ambientSH']?(_0x160210['ambientSou'+'rce']=im,_0x160210['ambientEnc'+'oding']=null):_0x160210['reflection'+'Source']!==vr&&_0x4329f5['envAtlas']?(_0x160210['ambientSou'+'rce']=rm,_0x160210['ambientEnc'+'oding']=_0x4329f5['envAtlas']['encoding']):(_0x160210['ambientSou'+'rce']=am,_0x160210['ambientEnc'+'oding']=null);const _0x19b290=_0x160210['reflection'+'Source']!==vr;_0x160210['skyboxInte'+'nsity']=_0x19b290,_0x160210['useCubeMap'+'Rotation']=_0x19b290&&_0x4329f5['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3873ea,_0x15e956,_0x37f1e8,_0x2c6f10,_0xc01da4){if(_0x3873ea['lightMapWi'+'thoutAmbie'+'nt']=!(0x2ab*0xb+-0xc06*0x1+-0x1152),_0x15e956['useLightin'+'g']){const _0x321262=[],_0x2a9eed=_0x2c6f10?_0x2c6f10>>0x571+-0x22d4+0x1d73:Ss;_0x3873ea['lightMaskD'+'ynamic']=!!(_0x2a9eed&Ss),_0x3873ea['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1f2a+-0x15*-0xb3+0x107c),_0xc01da4&&(Ws['collectLig'+'hts'](ve,_0xc01da4[ve],_0x321262,_0x2a9eed),_0x37f1e8['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0xc01da4[Ke],_0x321262,_0x2a9eed),Ws['collectLig'+'hts'](Ze,_0xc01da4[Ze],_0x321262,_0x2a9eed))),_0x3873ea['lights']=_0x321262;}else _0x3873ea['lights']=[];(_0x3873ea['lights']['length']===0x30c+-0x1*-0x251+0x1*-0x55d&&!_0x37f1e8['clusteredL'+'ightingEna'+'bled']||(_0x2c6f10&wh)!==-0x1ff*-0x7+-0x6*0x572+0x12b3)&&(_0x3873ea['noShadow']=!(0xca4+-0x1a2f+0xd8b*0x1));}static['collectLig'+'hts'](_0xa4e2d6,_0x325e55,_0x9758bd,_0x398e75){for(let _0x187493=-0x21ec+-0x1f72+0x415e;_0x187493<_0x325e55['length'];_0x187493++){const _0x4f1c54=_0x325e55[_0x187493];_0x4f1c54['enabled']&&_0x4f1c54['mask']&_0x398e75&&_0x9758bd['push'](_0x4f1c54);}}}const G_=(_0xf317fd,_0x2d7436)=>{if(_0xf317fd['length']!==_0x2d7436['length'])return!(-0x1986+-0x2568+0x3eef);for(let _0x4ec0d4=0x2355+-0x55d*0x4+0xb*-0x143;_0x4ec0d4<_0xf317fd['length'];++_0x4ec0d4)if(_0xf317fd[_0x4ec0d4]!==_0x2d7436[_0x4ec0d4])return!(-0x5d1*0x3+-0x242a+0x2*0x1acf);return!(0x115*0x18+0x1106+-0x2afe);},pb=_0x150d1c=>_0x150d1c['r']!==0xfa6+0x1*0x14db+-0x2480||_0x150d1c['g']!==-0x13c1+-0x1*-0x1b81+-0x7bf||_0x150d1c['b']!==0x1*0x1adb+0xaa0+-0xd*0x2e2,mb=_0x4bc8c7=>_0x4bc8c7['r']!==-0xcd7+-0x1c95*0x1+0x296c||_0x4bc8c7['g']!==-0x1c41+0x506+0x173b||_0x4bc8c7['b']!==0x129e+0x2164+-0x3402;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x1bd3bc,_0x50caa8,_0x1e3023,_0x2d0d38,_0x3539fe,_0x51d63a){this['_updateSha'+'redOptions'](_0x1bd3bc,_0x50caa8,_0x1e3023,_0x2d0d38,_0x3539fe),this['_updateMin'+'Options'](_0x1bd3bc,_0x1e3023,_0x3539fe),this['_updateUVO'+'ptions'](_0x1bd3bc,_0x1e3023,_0x2d0d38,!(-0x1300+0xfda+0x326*0x1));}['updateRef'](_0x244b36,_0x43cf18,_0xf7ff53,_0x12ef44,_0xc662d5,_0x359b51,_0x2216f0){this['_updateSha'+'redOptions'](_0x244b36,_0x43cf18,_0x12ef44,_0xc662d5,_0x359b51),this['_updateEnv'+'Options'](_0x244b36,_0x12ef44,_0x43cf18,_0xf7ff53),this['_updateMat'+'erialOptio'+'ns'](_0x244b36,_0x12ef44,_0x43cf18),_0x244b36['litOptions']['hasTangent'+'s']=_0xc662d5&&(_0xc662d5&om)!==-0x3c7*0x1+0xd05*-0x1+0x35c*0x5,this['_updateLig'+'htOptions'](_0x244b36,_0x43cf18,_0x12ef44,_0xc662d5,_0x2216f0),this['_updateUVO'+'ptions'](_0x244b36,_0x12ef44,_0xc662d5,!(-0x17a1+0x2336+-0x72*0x1a),_0xf7ff53);}['_updateSha'+'redOptions'](_0x5d26c1,_0x3e9a79,_0x3aaf46,_0x56d636,_0x319c9b){_0x5d26c1['forceUv1']=_0x3aaf46['forceUv1'],_0x3aaf46['userAttrib'+'utes']&&(_0x5d26c1['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x3aaf46['userAttrib'+'utes']['entries']())),_0x5d26c1['litOptions']['shaderChun'+'ks']=_0x3aaf46['shaderChun'+'ks'],_0x5d26c1['litOptions']['pass']=_0x319c9b,_0x5d26c1['litOptions']['alphaTest']=_0x3aaf46['alphaTest']>0x1*-0x5bb+0x124*0x3+0x24f*0x1,_0x5d26c1['litOptions']['blendType']=_0x3aaf46['blendType'],_0x5d26c1['litOptions']['screenSpac'+'e']=_0x56d636&&(_0x56d636&Eh)!==0xb50+-0x1078+0x21*0x28,_0x5d26c1['litOptions']['skin']=_0x56d636&&(_0x56d636&nl)!==0xe30+0x9f*-0x9+-0x899,_0x5d26c1['litOptions']['batch']=_0x56d636&&(_0x56d636&qc)!==-0x6*-0x573+0x10d*0x16+-0x37d0,_0x5d26c1['litOptions']['useInstanc'+'ing']=_0x56d636&&(_0x56d636&ol)!==0x75b+0x1e2+-0x93d,_0x5d26c1['litOptions']['useMorphPo'+'sition']=_0x56d636&&(_0x56d636&ll)!==0x1*-0x359+0x3b*0x57+-0x42d*0x4,_0x5d26c1['litOptions']['useMorphNo'+'rmal']=_0x56d636&&(_0x56d636&cl)!==-0x2*0x1352+0x1ae0+-0x2*-0x5e2,_0x5d26c1['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x56d636&&(_0x56d636&hl)!==0x677+0x58*-0x7+-0x40f*0x1,_0x5d26c1['litOptions']['nineSliced'+'Mode']=_0x3aaf46['nineSliced'+'Mode']||0x20c2+-0x2284+-0x3*-0x96,_0x3e9a79['clusteredL'+'ightingEna'+'bled']&&_0x3aaf46['useLightin'+'g']?(_0x5d26c1['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x5*0x16d+0x232*-0x3+-0x1*0x8b),_0x5d26c1['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x3e9a79['lighting']['cookiesEna'+'bled'],_0x5d26c1['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x3e9a79['lighting']['shadowsEna'+'bled'],_0x5d26c1['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x3e9a79['lighting']['shadowType'],_0x5d26c1['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x3e9a79['lighting']['areaLights'+'Enabled']):(_0x5d26c1['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x25b5+0x1017+0x35cb*-0x1),_0x5d26c1['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1*-0x1c88+-0x1fa3*0x1+0x31c),_0x5d26c1['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x10ba*0x1+-0x2*0x12bf+0x14c5),_0x5d26c1['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1c01+0x1d3c+-0x393c));}['_updateUVO'+'ptions'](_0x1cf00c,_0x550bce,_0x1c8a16,_0x579122,_0x3d84b3){let _0xdccae1=!(0x88*-0x1f+0x377*0x4+0x29d*0x1),_0x7bb758=!(-0x17d1+0x609+-0x1*-0x11c9),_0xa3bbdc=!(-0x9*0x7c+-0x12a1+0x3*0x7aa);_0x1c8a16&&(_0xdccae1=(_0x1c8a16&nm)!==-0x25ed+-0x4ac+0x2a99,_0x7bb758=(_0x1c8a16&dv)!==-0xe2a+0x517+0x913,_0xa3bbdc=(_0x1c8a16&fv)!==-0x1*0x260f+-0x25ca+0x4bd9),_0x1cf00c['litOptions']['vertexColo'+'rs']=!(0x7d*0x4b+0x1ccc+-0x416a),this['_mapXForms']=[];const _0x1926b6={};for(const _0x2e2ba6 in bn)this['_updateTex'+'Options'](_0x1cf00c,_0x550bce,_0x2e2ba6,_0xdccae1,_0x7bb758,_0xa3bbdc,_0x579122,_0x1926b6);this['_mapXForms']=null,_0x1cf00c['litOptions']['ssao']=_0x3d84b3==null?void(-0x2131+0x1567*-0x1+-0x2*-0x1b4c):_0x3d84b3['ssaoEnable'+'d'],_0x1cf00c['useAO']=_0x1cf00c['litOptions']['ssao'],_0x1cf00c['litOptions']['lightMapEn'+'abled']=_0x1cf00c['lightMap'],_0x1cf00c['litOptions']['dirLightMa'+'pEnabled']=_0x1cf00c['dirLightMa'+'p'],_0x1cf00c['litOptions']['useHeights']=_0x1cf00c['heightMap'],_0x1cf00c['litOptions']['useNormals']=_0x1cf00c['normalMap'],_0x1cf00c['litOptions']['useClearCo'+'atNormals']=_0x1cf00c['clearCoatN'+'ormalMap'],_0x1cf00c['litOptions']['useAo']=_0x1cf00c['aoMap']||_0x1cf00c['aoVertexCo'+'lor']||_0x1cf00c['litOptions']['ssao'],_0x1cf00c['litOptions']['diffuseMap'+'Enabled']=_0x1cf00c['diffuseMap'];}['_updateTex'+'Options'](_0x40c547,_0x59d331,_0x19b532,_0x57517d,_0x114afc,_0x12365d,_0x453b79,_0x393623){const _0x17cfbb=_0x19b532==='opacity';if(!_0x453b79||_0x17cfbb){const _0xff3c98=_0x19b532+'Map',_0x2ae2c1=_0x19b532+('VertexColo'+'r'),_0x47ffd4=_0x19b532+('VertexColo'+'rChannel'),_0x46be79=_0xff3c98+'Channel',_0x24bd9=_0xff3c98+'Transform',_0x4c375f=_0xff3c98+'Uv',_0x2ab964=_0xff3c98+'Identifier';if(_0x19b532!=='light'&&(_0x40c547[_0xff3c98]=!(-0xcd2+0x257c+-0x18a9),_0x40c547[_0x2ab964]=void(0x4*-0x161+-0xefb*-0x1+0x977*-0x1),_0x40c547[_0x46be79]='',_0x40c547[_0x24bd9]=-0x1*-0x1d39+0xb89*0x1+-0x28c2,_0x40c547[_0x4c375f]=-0x5*-0x324+-0x19d4+0xa20),_0x40c547[_0x2ae2c1]=!(-0x1d6a+0x790+0x749*0x3),_0x40c547[_0x47ffd4]='',_0x17cfbb&&_0x59d331['blendType']===Cs&&_0x59d331['alphaTest']===-0x1120+0x1*0x1c19+-0xaf9&&!_0x59d331['alphaToCov'+'erage']&&_0x59d331['opacityDit'+'her']===Sa)return;if(_0x19b532!=='height'&&_0x59d331[_0x2ae2c1]&&_0x12365d&&(_0x40c547[_0x2ae2c1]=_0x59d331[_0x2ae2c1],_0x40c547[_0x47ffd4]=_0x59d331[_0x47ffd4],_0x40c547['litOptions']['vertexColo'+'rs']=!(-0x29c*-0x2+0xc96+0x35*-0x56)),_0x59d331[_0xff3c98]){let _0x20e127=!(0x2*0xe43+0x16bd+-0x3343);if(_0x59d331[_0x4c375f]===-0x109e+-0x2e*0x1a+0x154a&&!_0x57517d&&(_0x20e127=!(0x23b0+-0x13*0xd+-0x22b8)),_0x59d331[_0x4c375f]===-0x1da5+0xd05+0x10a1*0x1&&!_0x114afc&&(_0x20e127=!(-0xb31+-0xa44+0x43*0x52)),_0x20e127){const _0x41c66d=_0x59d331[_0xff3c98]['id'];let _0x5266eb=_0x393623[_0x41c66d];_0x5266eb===void(-0x89*0xe+-0xb7d+-0x71*-0x2b)&&(_0x393623[_0x41c66d]=_0x19b532,_0x5266eb=_0x19b532),_0x40c547[_0xff3c98]=!!_0x59d331[_0xff3c98],_0x40c547[_0x2ab964]=_0x5266eb,_0x40c547[_0x24bd9]=this['_getMapTra'+'nsformID'](_0x59d331['getUniform'](_0x24bd9),_0x59d331[_0x4c375f]),_0x40c547[_0x46be79]=_0x59d331[_0x46be79],_0x40c547[_0x4c375f]=_0x59d331[_0x4c375f];}}}}['_updateMin'+'Options'](_0x532329,_0x9b7875,_0x1284aa){const _0x40489a=_0x1284aa===Rl;_0x532329['litOptions']['opacitySha'+'dowDither']=_0x40489a?_0x9b7875['opacityDit'+'her']:_0x9b7875['opacitySha'+'dowDither'],_0x532329['litOptions']['linearDept'+'h']=_0x40489a,_0x532329['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x4a4fc5,_0x5f16b7,_0x7debb6){var _0x43da1f,_0x5d06e9,_0x394e57,_0x2b7f34,_0x22742d,_0x42f82e;const _0x8c7a86=!!(_0x5f16b7['useMetalne'+'ss']||_0x5f16b7['specularMa'+'p']||_0x5f16b7['sphereMap']||_0x5f16b7['cubeMap']||mb(_0x5f16b7['specular'])||_0x5f16b7['specularit'+'yFactor']>0x17*0x5+0x8*0x290+-0x14f3&&_0x5f16b7['useMetalne'+'ss']||_0x5f16b7['enableGGXS'+'pecular']||_0x5f16b7['clearCoat']>0x14a*0x3+-0x4*0xc1+-0xda),_0x39adf1=!_0x5f16b7['useMetalne'+'ss']||_0x5f16b7['useMetalne'+'ssSpecular'+'Color'],_0x3bf924=_0x8c7a86&&(_0x5f16b7['specularTi'+'nt']||!_0x5f16b7['specularMa'+'p']&&!_0x5f16b7['specularVe'+'rtexColor'])&&pb(_0x5f16b7['specular']),_0x2b9236=_0x8c7a86&&_0x5f16b7['useMetalne'+'ssSpecular'+'Color']&&(_0x5f16b7['specularit'+'yFactorTin'+'t']||_0x5f16b7['specularit'+'yFactor']<-0x3*0x58e+-0x25f2+0x369d&&!_0x5f16b7['specularit'+'yFactorMap']),_0x102698=_0x5e63a7=>_0x5e63a7?_0x5e63a7['format']===vl||_0x5e63a7['type']===Jo:!(0x770+0x187e+-0x1fed),_0x12c1ee=(_0x5826e0,_0x59c622)=>Math['abs'](_0x5826e0-_0x59c622)<-0x6*0x67f+0x13*0x175+0xb4b+0.0001;_0x4a4fc5['specularTi'+'nt']=_0x3bf924,_0x4a4fc5['specularit'+'yFactorTin'+'t']=_0x2b9236,_0x4a4fc5['metalnessT'+'int']=_0x5f16b7['useMetalne'+'ss']&&_0x5f16b7['metalness']<-0x4bd+0x7c5+-0x307,_0x4a4fc5['glossTint']=!(0xd69*0x2+0x1667+-0x1*0x3139),_0x4a4fc5['diffuseEnc'+'oding']=(_0x43da1f=_0x5f16b7['diffuseMap'])==null?void(-0xbaa*0x1+0x1*0x13b2+0x808*-0x1):_0x43da1f['encoding'],_0x4a4fc5['diffuseDet'+'ailEncodin'+'g']=(_0x5d06e9=_0x5f16b7['diffuseDet'+'ailMap'])==null?void(-0x11*0x1+0x3*-0x497+-0x7*-0x1fa):_0x5d06e9['encoding'],_0x4a4fc5['emissiveEn'+'coding']=(_0x394e57=_0x5f16b7['emissiveMa'+'p'])==null?void(0x1*0x48c+0x1805+-0x67*0x47):_0x394e57['encoding'],_0x4a4fc5['lightMapEn'+'coding']=(_0x2b7f34=_0x5f16b7['lightMap'])==null?void(0x3a5*0x2+0x3e6+-0xb30):_0x2b7f34['encoding'],_0x4a4fc5['packedNorm'+'al']=_0x102698(_0x5f16b7['normalMap']),_0x4a4fc5['refraction'+'Tint']=_0x12c1ee(_0x5f16b7['refraction'],-0x23a2+-0x3*-0xaef+0x2d6),_0x4a4fc5['refraction'+'IndexTint']=_0x12c1ee(_0x5f16b7['refraction'+'Index'],(0x7ed*-0x4+-0x37f+-0x119a*-0x2)/(0xc37*-0x2+-0x1064+0x1*0x28d3+0.5)),_0x4a4fc5['thicknessT'+'int']=_0x5f16b7['useDynamic'+'Refraction']&&_0x5f16b7['thickness']!==0x1*0x2306+0x58f*0x4+-0x1*0x3941,_0x4a4fc5['specularEn'+'coding']=(_0x22742d=_0x5f16b7['specularMa'+'p'])==null?void(0x93f+0x494*-0x2+0x17*-0x1):_0x22742d['encoding'],_0x4a4fc5['sheenEncod'+'ing']=(_0x42f82e=_0x5f16b7['sheenMap'])==null?void(0x1e13+0x184+0x1f97*-0x1):_0x42f82e['encoding'],_0x4a4fc5['aoMapUv']=_0x5f16b7['aoUvSet'],_0x4a4fc5['aoDetail']=!!_0x5f16b7['aoDetailMa'+'p'],_0x4a4fc5['diffuseDet'+'ail']=!!_0x5f16b7['diffuseDet'+'ailMap'],_0x4a4fc5['normalDeta'+'il']=!!_0x5f16b7['normalMap'],_0x4a4fc5['normalDeta'+'ilPackedNo'+'rmal']=_0x102698(_0x5f16b7['normalDeta'+'ilMap']),_0x4a4fc5['diffuseDet'+'ailMode']=_0x5f16b7['diffuseDet'+'ailMode'],_0x4a4fc5['aoDetailMo'+'de']=_0x5f16b7['aoDetailMo'+'de'],_0x4a4fc5['clearCoatG'+'loss']=!!_0x5f16b7['clearCoatG'+'loss'],_0x4a4fc5['clearCoatP'+'ackedNorma'+'l']=_0x102698(_0x5f16b7['clearCoatN'+'ormalMap']),_0x4a4fc5['iorTint']=_0x12c1ee(_0x5f16b7['refraction'+'Index'],(0x1*-0xac5+-0xefe+-0x44*-0x61)/(-0x1bc9+0x2639+0x1*-0xa6f+0.5)),_0x7debb6['forcePassT'+'hroughSpec'+'ular']&&(_0x4a4fc5['specularEn'+'coding']='linear',_0x4a4fc5['sheenEncod'+'ing']='linear'),_0x4a4fc5['iridescenc'+'eTint']=_0x5f16b7['iridescenc'+'e']!==-0x7a4+0x163e+-0xe99,_0x4a4fc5['glossInver'+'t']=_0x5f16b7['glossInver'+'t'],_0x4a4fc5['sheenGloss'+'Invert']=_0x5f16b7['sheenGloss'+'Invert'],_0x4a4fc5['clearCoatG'+'lossInvert']=_0x5f16b7['clearCoatG'+'lossInvert'],_0x4a4fc5['useSpecula'+'rColor']=_0x39adf1,_0x4a4fc5['litOptions']['separateAm'+'bient']=!(-0x1d63*-0x1+-0xdd0+-0x2*0x7c9),_0x4a4fc5['litOptions']['pixelSnap']=_0x5f16b7['pixelSnap'],_0x4a4fc5['litOptions']['ambientSH']=!!_0x5f16b7['ambientSH'],_0x4a4fc5['litOptions']['twoSidedLi'+'ghting']=_0x5f16b7['twoSidedLi'+'ghting'],_0x4a4fc5['litOptions']['occludeSpe'+'cular']=_0x5f16b7['occludeSpe'+'cular'],_0x4a4fc5['litOptions']['occludeSpe'+'cularFloat']=_0x5f16b7['occludeSpe'+'cularInten'+'sity']!==-0xa04*0x3+-0x17b+-0xfc4*-0x2,_0x4a4fc5['litOptions']['useMsdf']=!!_0x5f16b7['msdfMap'],_0x4a4fc5['litOptions']['msdfTextAt'+'tribute']=!!_0x5f16b7['msdfTextAt'+'tribute'],_0x4a4fc5['litOptions']['alphaToCov'+'erage']=_0x5f16b7['alphaToCov'+'erage'],_0x4a4fc5['litOptions']['opacityFad'+'esSpecular']=_0x5f16b7['opacityFad'+'esSpecular'],_0x4a4fc5['litOptions']['opacityDit'+'her']=_0x5f16b7['opacityDit'+'her'],_0x4a4fc5['litOptions']['cubeMapPro'+'jection']=_0x5f16b7['cubeMapPro'+'jection'],_0x4a4fc5['litOptions']['occludeDir'+'ect']=_0x5f16b7['occludeDir'+'ect'],_0x4a4fc5['litOptions']['useSpecula'+'r']=_0x8c7a86,_0x4a4fc5['litOptions']['useSpecula'+'rityFactor']=(_0x2b9236||!!_0x5f16b7['specularit'+'yFactorMap'])&&_0x5f16b7['useMetalne'+'ssSpecular'+'Color'],_0x4a4fc5['litOptions']['enableGGXS'+'pecular']=_0x5f16b7['enableGGXS'+'pecular'],_0x4a4fc5['litOptions']['fresnelMod'+'el']=_0x5f16b7['fresnelMod'+'el'],_0x4a4fc5['litOptions']['useRefract'+'ion']=(_0x5f16b7['refraction']||!!_0x5f16b7['refraction'+'Map'])&&(_0x5f16b7['useDynamic'+'Refraction']||_0x4a4fc5['litOptions']['reflection'+'Source']!==vr),_0x4a4fc5['litOptions']['useClearCo'+'at']=!!_0x5f16b7['clearCoat'],_0x4a4fc5['litOptions']['useSheen']=_0x5f16b7['useSheen'],_0x4a4fc5['litOptions']['useIridesc'+'ence']=_0x5f16b7['useIridesc'+'ence']&&_0x5f16b7['iridescenc'+'e']!==0x78d+0x2*0x1094+0x11*-0x265,_0x4a4fc5['litOptions']['useMetalne'+'ss']=_0x5f16b7['useMetalne'+'ss'],_0x4a4fc5['litOptions']['useDynamic'+'Refraction']=_0x5f16b7['useDynamic'+'Refraction'],_0x4a4fc5['litOptions']['dispersion']=_0x5f16b7['dispersion']>-0x4f2+-0x277*-0x1+0x5*0x7f,_0x4a4fc5['litOptions']['shadowCatc'+'her']=_0x5f16b7['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x1e849c,_0x22a073,_0x13673c,_0x4f8a71){_0x1e849c['litOptions']['fog']=_0x22a073['useFog']?_0x4f8a71['fog']:Kn,_0x1e849c['litOptions']['gamma']=_0x4f8a71['shaderOutp'+'utGamma'],_0x1e849c['litOptions']['toneMap']=_0x22a073['useTonemap']?_0x4f8a71['toneMappin'+'g']:nv;let _0x12db75=!(-0x1dd4+-0x1*0x5ef+0x23c4*0x1);if(_0x22a073['envAtlas']&&_0x22a073['cubeMap']?(_0x1e849c['litOptions']['reflection'+'Source']=xh,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x22a073['envAtlas']['encoding'],_0x1e849c['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x22a073['cubeMap']['encoding']):_0x22a073['envAtlas']?(_0x1e849c['litOptions']['reflection'+'Source']=vh,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x22a073['envAtlas']['encoding']):_0x22a073['cubeMap']?(_0x1e849c['litOptions']['reflection'+'Source']=Th,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x22a073['cubeMap']['encoding']):_0x22a073['sphereMap']?(_0x1e849c['litOptions']['reflection'+'Source']=hv,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x22a073['sphereMap']['encoding']):_0x22a073['useSkybox']&&_0x13673c['envAtlas']&&_0x13673c['skybox']?(_0x1e849c['litOptions']['reflection'+'Source']=xh,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x13673c['envAtlas']['encoding'],_0x1e849c['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x13673c['skybox']['encoding'],_0x12db75=!(0x1f99+-0xe64+-0x1135)):_0x22a073['useSkybox']&&_0x13673c['envAtlas']?(_0x1e849c['litOptions']['reflection'+'Source']=vh,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x13673c['envAtlas']['encoding'],_0x12db75=!(0x1f77+0x69+0x2*-0xff0)):_0x22a073['useSkybox']&&_0x13673c['skybox']?(_0x1e849c['litOptions']['reflection'+'Source']=Th,_0x1e849c['litOptions']['reflection'+'Encoding']=_0x13673c['skybox']['encoding'],_0x12db75=!(-0x1687+-0x1318+0x5*0x853)):(_0x1e849c['litOptions']['reflection'+'Source']=vr,_0x1e849c['litOptions']['reflection'+'Encoding']=null),_0x22a073['ambientSH'])_0x1e849c['litOptions']['ambientSou'+'rce']=im,_0x1e849c['litOptions']['ambientEnc'+'oding']=null;else{const _0x51d740=_0x22a073['envAtlas']||(_0x22a073['useSkybox']&&_0x13673c['envAtlas']?_0x13673c['envAtlas']:null);_0x51d740&&!_0x22a073['sphereMap']?(_0x1e849c['litOptions']['ambientSou'+'rce']=rm,_0x1e849c['litOptions']['ambientEnc'+'oding']=_0x51d740['encoding']):(_0x1e849c['litOptions']['ambientSou'+'rce']=am,_0x1e849c['litOptions']['ambientEnc'+'oding']=null);}_0x1e849c['litOptions']['skyboxInte'+'nsity']=_0x12db75,_0x1e849c['litOptions']['useCubeMap'+'Rotation']=_0x12db75&&_0x13673c['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x22c8d2,_0x24de69,_0x447f4c,_0x3c9ca6,_0x5bff39){if(_0x22c8d2['lightMap']=!(0xc*-0x22c+-0x1b*0xf9+0x3454),_0x22c8d2['lightMapCh'+'annel']='',_0x22c8d2['lightMapUv']=0x1*-0x4c7+-0xbf3+0x10ba*0x1,_0x22c8d2['lightMapTr'+'ansform']=0x4*-0xad+-0x1854+-0xa*-0x2b4,_0x22c8d2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x142b+0x1305+0x127),_0x22c8d2['dirLightMa'+'p']=!(-0x2325+-0xf8a+0x1*0x32b0),_0x3c9ca6&&(_0x22c8d2['litOptions']['noShadow']=(_0x3c9ca6&wh)!==0x1*-0x1eeb+-0x21bf+0x5d*0xb2,(_0x3c9ca6&ou)!==0x33+0xf*0x271+-0x24d2&&(_0x22c8d2['lightMapEn'+'coding']=_0x24de69['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x22c8d2['lightMap']=!(-0x6*-0x2e0+-0x1*-0x15a+-0x129a),_0x22c8d2['lightMapCh'+'annel']='rgb',_0x22c8d2['lightMapUv']=-0x61*-0x62+0x567+0x2*-0x1544,_0x22c8d2['lightMapTr'+'ansform']=0x402+0xb3*0x13+-0x114b*0x1,_0x22c8d2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x447f4c['lightMap'],(_0x3c9ca6&uv)!==0x24d+-0xf2d+-0x1*-0xce0&&(_0x22c8d2['dirLightMa'+'p']=!(0x18e*0x7+-0x3*-0x431+-0x5*0x4b1)),(_0x3c9ca6&pv)!==0x2*-0x65b+0x688*0x3+-0x6e2&&(_0x22c8d2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1a95*0x1+-0x1ae1+0x3577)))),_0x447f4c['useLightin'+'g']){const _0x362651=[],_0x3e0347=_0x3c9ca6?_0x3c9ca6>>-0x1*-0x12a9+0x15e5+0x1*-0x287e:Ss;_0x22c8d2['litOptions']['lightMaskD'+'ynamic']=!!(_0x3e0347&Ss),_0x5bff39&&(Ws['collectLig'+'hts'](ve,_0x5bff39[ve],_0x362651,_0x3e0347),_0x24de69['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x5bff39[Ke],_0x362651,_0x3e0347),Ws['collectLig'+'hts'](Ze,_0x5bff39[Ze],_0x362651,_0x3e0347))),_0x22c8d2['litOptions']['lights']=_0x362651;}else _0x22c8d2['litOptions']['lights']=[];_0x22c8d2['litOptions']['lights']['length']===0x23e1+0x1*-0xee1+-0xa8*0x20&&!_0x24de69['clusteredL'+'ightingEna'+'bled']&&(_0x22c8d2['litOptions']['noShadow']=!(0x157c+0x5*0x281+-0x2201));}['_getMapTra'+'nsformID'](_0x4dff30,_0x50c259){if(!_0x4dff30)return 0x1386+-0xa63+-0x923*0x1;let _0x4f115c=this['_mapXForms'][_0x50c259];_0x4f115c||(_0x4f115c=[],this['_mapXForms'][_0x50c259]=_0x4f115c);for(let _0x2d05be=-0x2ad*-0x1+0x22d9+-0x2586;_0x2d05be<_0x4f115c['length'];_0x2d05be++)if(G_(_0x4f115c[_0x2d05be][0x1a6e+-0x1*-0x2357+0x7*-0x8d3]['value'],_0x4dff30[-0x1*0x10ec+0x721+-0x17*-0x6d]['value'])&&G_(_0x4f115c[_0x2d05be][-0x238d+0x1*-0x24b+0x25d9*0x1]['value'],_0x4dff30[-0x2*0xca4+0x151f*0x1+0x42a*0x1]['value']))return _0x2d05be+(-0x88c*0x1+-0xfad*-0x1+-0x720);return _0x4f115c['push'](_0x4dff30);}}function rt(_0x43720f,_0x5d40b9=!(0x45*-0x1e+-0x17f9+0x1*0x200f),_0x277ef9=!(-0x1*0x239c+0x2125*-0x1+0x16eb*0x3)){const _0x300a10={};return _0x300a10[_0x43720f+'Map']='texture',_0x300a10[_0x43720f+'MapTiling']='vec2',_0x300a10[_0x43720f+'MapOffset']='vec2',_0x300a10[_0x43720f+('MapRotatio'+'n')]='number',_0x300a10[_0x43720f+'MapUv']='number',_0x5d40b9&&(_0x300a10[_0x43720f+'MapChannel']='string',_0x277ef9&&(_0x300a10[_0x43720f+('VertexColo'+'r')]='boolean',_0x300a10[_0x43720f+('VertexColo'+'rChannel')]='string')),_0x300a10;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x1*0x1727+0x2*-0xc06+0x2f33),!(0x7f6+-0x725+-0xd0)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x15d+0x6*0xd1+-0x643*0x1),!(0x1d*0xe9+-0x1*-0x15e1+-0x1017*0x3)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x11e8+-0x6d*-0x35+-0x4a8)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x1*0x23db+0x2*-0x1079+0x44ce)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x234+0x20d8+-0x1ea3*0x1)),'normalDetailMapBumpiness':'number',...rt('height',!(0x2*0x1d1+0x1a1c+0x1b*-0x11a),!(0x5*0x327+-0x192b+0x969)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x2ef7d1=>{this['_'+_0x2ef7d1]=Kc[_0x2ef7d1]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0xbb9472){return super['copy'](_0xbb9472),Object['keys'](Kc)['forEach'](_0x5dccb8=>{this[_0x5dccb8]=_0xbb9472[_0x5dccb8];}),this['userAttrib'+'utes']=new Map(_0xbb9472['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x42a2f2,_0x1aa0c8){this['userAttrib'+'utes']['set'](_0x1aa0c8,_0x42a2f2);}['_setParame'+'ter'](_0x211dc3,_0x4523e0){no['add'](_0x211dc3),this['setParamet'+'er'](_0x211dc3,_0x4523e0);}['_setParame'+'ters'](_0x274d84){_0x274d84['forEach'](_0x14e58a=>{this['_setParame'+'ter'](_0x14e58a['name'],_0x14e58a['value']);});}['_processPa'+'rameters'](_0x3ac35c){const _0x40e2ad=this[_0x3ac35c];_0x40e2ad['forEach'](_0x334ca9=>{no['has'](_0x334ca9)||delete this['parameters'][_0x334ca9];}),this[_0x3ac35c]=no,no=_0x40e2ad,no['clear']();}['_updateMap'](_0x4212a4){const _0x54fb76=_0x4212a4+'Map',_0x32cc0e=this[_0x54fb76];if(_0x32cc0e){this['_setParame'+'ter']('texture_'+_0x54fb76,_0x32cc0e);const _0x57b327=_0x54fb76+'Transform',_0xddecc6=this['getUniform'](_0x57b327);_0xddecc6&&this['_setParame'+'ters'](_0xddecc6);}}['_allocUnif'+'orm'](_0xdab194,_0x27ca23){let _0x2168e2=this['_uniformCa'+'che'][_0xdab194];return _0x2168e2||(_0x2168e2=_0x27ca23(),this['_uniformCa'+'che'][_0xdab194]=_0x2168e2),_0x2168e2;}['getUniform'](_0x492eea,_0x3ff134,_0x43a6f5){return bv[_0x492eea](this,_0x3ff134,_0x43a6f5);}['updateUnif'+'orms'](_0x45a5d5,_0x587413){const _0x2685f7=_0x3930d3=>this['getUniform'](_0x3930d3,_0x45a5d5,_0x587413);this['_setParame'+'ter']('material_a'+'mbient',_0x2685f7('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x2685f7('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0xeaa+0x26d5*0x1+-0x357e)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2685f7('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x2685f7('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2685f7('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x139a*0x1+0x1ad*0x3+-0x5*0x4ed&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1397+-0x13bc+0x25&&this['emissive']['g']===-0x1f16+-0x1*0x1a1d+-0x1311*-0x3&&this['emissive']['b']===0x26b9+-0x15b3+-0x1106&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x2685f7('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x3*0x2a+-0x1fec+0x1f6e&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1917+0x241*-0x8+-0x8b*0xd&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x2685f7('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x941+0xff2+0x1933*-0x1?-0x1bfa+-0x1ea6+-0x3aa0*-0x1:(0x982+-0xf16*0x1+0x595)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1124+0x2608+-0x14e3)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x2685f7('cubeMapPro'+'jectionBox'));for(const _0xbafa49 in bn)this['_updateMap'](_0xbafa49);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x2685f7('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x45a5d5,_0x587413);}['updateEnvU'+'niforms'](_0x47853c,_0x340b36){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x340b36['envAtlas']&&_0x340b36['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x340b36['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x340b36['skybox'])):_0x340b36['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x340b36['envAtlas']):_0x340b36['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x340b36['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x1f2653){const {device:_0x1e9732,scene:_0xe5fc65,pass:_0x12f14a,objDefs:_0x2c65bd,sortedLights:_0x428629,cameraShaderParams:_0xb7321c}=_0x1f2653;this['updateEnvU'+'niforms'](_0x1e9732,_0xe5fc65);const _0x53ca73=Si['get'](_0x1e9732)['getByIndex'](_0x12f14a),_0x228614=_0x12f14a===Zn||_0x12f14a===Rl||_0x53ca73['isShadow'];let _0xa3ec78=_0x228614?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0xa3ec78['defines']=$t['getCoreDef'+'ines'](this,_0x1f2653),_0x228614?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0xa3ec78,_0xe5fc65,this,_0x2c65bd,_0x12f14a,_0x428629):this['shaderOptB'+'uilder']['updateRef'](_0xa3ec78,_0xe5fc65,_0xb7321c,this,_0x2c65bd,_0x12f14a,_0x428629),this['useFog']||_0xa3ec78['defines']['set']('FOG','NONE'),_0xa3ec78['defines']['set']('TONEMAP',ov[_0xa3ec78['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0xa3ec78=this['onUpdateSh'+'ader'](_0xa3ec78));const _0x4bd586=new Ad(_0x1f2653['viewUnifor'+'mFormat'],_0x1f2653['viewBindGr'+'oupFormat'],_0x1f2653['vertexForm'+'at']),_0x5826e5=Hn(_0x1e9732);_0x5826e5['register']('standard',Jd);const _0x402b15=_0x5826e5['getProgram']('standard',_0xa3ec78,_0x4bd586,this['userId']);return this['_dirtyShad'+'er']=!(0x77*0x1d+0x37f*-0x8+0xe7e*0x1),_0x402b15;}['destroy'](){for(const _0x56f2a4 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x56f2a4]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x29635f,_0x217af2)=>{bv[_0x29635f]=_0x217af2;},um=(_0x1fd27b,_0x2f81c5,_0x222b81,_0x47d3ba)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x1fd27b,{'get':_0x47d3ba||function(){return this['_'+_0x1fd27b];},'set':_0x222b81}),Kc[_0x1fd27b]={'value':_0x2f81c5};},Sb=_0x542e92=>{const _0xc0c56e='_'+_0x542e92['name'],_0x4322f8=_0x542e92['dirtyShade'+'rFunc']||(()=>!(-0x3*-0x9f+-0x382*-0xb+-0x2873)),_0x2265c9=function(_0xa6709d){const _0x393036=this[_0xc0c56e];_0x393036!==_0xa6709d&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x4322f8(_0x393036,_0xa6709d),this[_0xc0c56e]=_0xa6709d);};um(_0x542e92['name'],()=>_0x542e92['defaultVal'+'ue'],_0x2265c9,_0x542e92['getterFunc']);},yb=_0x525ca6=>{const _0x128ee7='_'+_0x525ca6['name'],_0x355a35=_0x525ca6['dirtyShade'+'rFunc']||(()=>!(0x1292+0x2112+0x52a*-0xa)),_0x221da4=function(_0x3fde63){const _0x2a5808=this[_0x128ee7];_0x2a5808['equals'](_0x3fde63)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x355a35(_0x2a5808,_0x3fde63),this[_0x128ee7]=_0x2a5808['copy'](_0x3fde63));};um(_0x525ca6['name'],()=>_0x525ca6['defaultVal'+'ue']['clone'](),_0x221da4,_0x525ca6['getterFunc']);},Es=_0xcee88e=>_0xcee88e['defaultVal'+'ue']&&_0xcee88e['defaultVal'+'ue']['clone']?yb(_0xcee88e):Sb(_0xcee88e);function et(_0x407b71,_0x1ae389='rgb',_0x1e5117=!(-0x1055+-0x33*-0x99+-0xe26),_0x3bdf45=-0x8d5*-0x4+-0x22*-0xbe+-0x3c90){bn[_0x407b71]=_0x1ae389['length']||-(-0x168*0xb+0x1*-0x2027+0x2fa0),Es({'name':_0x407b71+'Map','defaultValue':null,'dirtyShaderFunc':(_0x32cb7d,_0x490dad)=>!!_0x32cb7d!=!!_0x490dad||_0x32cb7d&&(_0x32cb7d['type']!==_0x490dad['type']||_0x32cb7d['format']!==_0x490dad['format'])}),Es({'name':_0x407b71+'MapTiling','defaultValue':new J(0x1235*0x1+-0x106f*-0x1+-0x22a3,0xf13*-0x2+0x99*-0x1e+0x3015)}),Es({'name':_0x407b71+'MapOffset','defaultValue':new J(0x40e+-0x6*-0x46b+-0x518*0x6,-0x6ee*0x3+-0x1da7+0x3271)}),Es({'name':_0x407b71+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x407b71+'MapUv','defaultValue':_0x3bdf45}),_0x1ae389&&(Es({'name':_0x407b71+'MapChannel','defaultValue':_0x1ae389}),_0x1e5117&&(Es({'name':_0x407b71+('VertexColo'+'r'),'defaultValue':!(0x263*-0xb+0x1bbf+-0x17d)}),Es({'name':_0x407b71+('VertexColo'+'rChannel'),'defaultValue':_0x1ae389})));const _0x1f8031=_0x407b71+'MapTiling',_0x5e3bbc=_0x407b71+'MapOffset',_0x17be73=_0x407b71+('MapRotatio'+'n'),_0x4586cb=_0x407b71+('MapTransfo'+'rm');Pd(_0x4586cb,(_0x5ca48e,_0x8d1cd8,_0x27ae8a)=>{const _0x55f8a6=_0x5ca48e[_0x1f8031],_0x503d9a=_0x5ca48e[_0x5e3bbc],_0x309476=_0x5ca48e[_0x17be73];if(_0x55f8a6['x']===-0x1287+0x2*0x11ba+-0x10ec&&_0x55f8a6['y']===0x10*-0x22d+0x67*0x29+0x1252&&_0x503d9a['x']===0x1b64*-0x1+0x24e1+-0x97d&&_0x503d9a['y']===-0x11ed+0x163+0x2*0x845&&_0x309476===0x12*-0x146+-0xe93+0x257f)return null;const _0x403bd7=_0x5ca48e['_allocUnif'+'orm'](_0x4586cb,()=>[{'name':'texture_'+_0x4586cb+'0','value':new Float32Array(-0x2404+-0x268e+0x3d*0x139)},{'name':'texture_'+_0x4586cb+'1','value':new Float32Array(-0x6c2+-0xeb9+0x2*0xabf)}]),_0xa40b14=Math['cos'](_0x309476*Y['DEG_TO_RAD']),_0x43bbab=Math['sin'](_0x309476*Y['DEG_TO_RAD']),_0x3f9d52=_0x403bd7[-0x3ab*-0x1+0x1fbc+0x3*-0xbcd]['value'];_0x3f9d52[0x2*0x251+0x10b+0x1*-0x5ad]=_0xa40b14*_0x55f8a6['x'],_0x3f9d52[0x1246+0x1f5e+-0x83*0x61]=-_0x43bbab*_0x55f8a6['y'],_0x3f9d52[0x15d*-0x12+0xa05+0x1*0xe87]=_0x503d9a['x'];const _0x58af52=_0x403bd7[0xeae*-0x1+0x2397+-0x14e8]['value'];return _0x58af52[-0x1f12+0x6e+0x1ea4]=_0x43bbab*_0x55f8a6['x'],_0x58af52[0x21*-0x1+-0x130a+0x3*0x664]=_0xa40b14*_0x55f8a6['y'],_0x58af52[0x144a+0xcdd+0x2125*-0x1]=-0x1*0x92b+0x1bf9+-0x12cd-_0x55f8a6['y']-_0x503d9a['y'],_0x403bd7;});}function Ra(_0x2d33f0,_0x4d1e48){Es({'name':_0x2d33f0,'defaultValue':_0x4d1e48,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x583*0x2+-0x2c3+0xdc9),this['_'+_0x2d33f0];}}),Pd(_0x2d33f0,(_0x27f1aa,_0x1ecbe2,_0x58cdea)=>{const _0x2990af=_0x27f1aa['_allocUnif'+'orm'](_0x2d33f0,()=>new Float32Array(0xb*-0x137+0x234e*-0x1+0x192*0x1f)),_0x3287b1=_0x27f1aa[_0x2d33f0];return oc['linear'](_0x3287b1),_0x2990af[0x2165+-0xf*0x169+0x61f*-0x2]=oc['r'],_0x2990af[0x216b+0x94e+-0x2ab8]=oc['g'],_0x2990af[0xec8+-0x1dd8+0xf12]=oc['b'],_0x2990af;});}function ze(_0xc5c0db,_0x49c86a,_0x3b825d){Es({'name':_0xc5c0db,'defaultValue':_0x49c86a,'dirtyShaderFunc':(_0x3f2609,_0x10c254)=>(_0x3f2609===0x23dc+0x26+-0xb*0x346||_0x3f2609===-0x3ab*-0x9+-0x17d5+-0x92d)!=(_0x10c254===0x1d8e+-0x224e+0x4c0*0x1||_0x10c254===0x1d7*-0x3+0x12cb+-0x1*0xd45)}),Pd(_0xc5c0db,_0x3b825d);}function oo(_0x5400f0,_0x3029fe){Es({'name':_0x5400f0,'defaultValue':null,'dirtyShaderFunc':(_0x3f2f42,_0x18aaf6)=>!!_0x3f2f42==!!_0x18aaf6}),Pd(_0x5400f0,_0x3029fe);}function ke(_0x52fdba,_0x1df27c){Es({'name':_0x52fdba,'defaultValue':_0x1df27c});}function vb(){Ra('ambient',new ie(0x1fee+0x2*-0x3c7+-0x185f,-0x2*0xf31+0x4*-0x1c1+0x2567,-0x3b*0x7f+0x22db*-0x1+0x4021)),Ra('diffuse',new ie(0x124d+-0x11e0+0xc*-0x9,-0x39b*0x1+0x3d*0x16+0x2*-0xd1,-0xbdf+-0x1ddb+0x29bb)),Ra('specular',new ie(0x5*0x67a+0x1*0xb7a+-0x2bdc,0x1e6e+-0x2*0x10a+-0x1c5a,-0x2a*-0xb1+-0x503+-0x1807)),Ra('emissive',new ie(0x1*0x240f+0x29*0x66+-0x1*0x3465,-0x123a+-0x26fa*0x1+0x3934,0x2*0x166+-0x10c*0x1+0x1*-0x1c0)),Ra('sheen',new ie(-0x2*-0x10dd+-0xd*-0x277+-0x41c4,0x59b*0x1+-0x259*-0xb+-0x649*0x5,0x1*0x1c55+-0x4e3*0x1+-0x1771)),Ra('attenuatio'+'n',new ie(-0xe31+0x11*0x89+0x519,0x98e+0xc5*-0x1d+0x26*0x56,0x24b*0x7+0x1741*0x1+-0x274d*0x1)),ze('emissiveIn'+'tensity',0x1d90+0x2017+-0xd*0x4be),ze('specularit'+'yFactor',-0xd*-0x18e+-0x1315+-0x120),ze('sheenGloss',-0x1*0x1d71+-0x1e36+0x1*0x3ba7),ze('gloss',0x5c*0x17+0x5df+-0x1*0xe23+0.25),ze('aoIntensit'+'y',0x162d+-0x190*-0x1+-0x1f*0xc4),ze('heightMapF'+'actor',0x26*-0xfb+0x1*-0x1ee3+0x4426,(_0x24edef,_0x372285,_0x22b94a)=>_0x24edef['heightMapF'+'actor']*(-0x26b9*0x1+-0xa*-0x133+-0x3*-0x8e9+0.025)),ze('opacity',-0x31c+-0x3*0x900+0x1e1d),ze('alphaFade',-0x38e*0xa+0x950+0x8bf*0x3),ze('alphaTest',-0x470+0x372*-0xa+0x106*0x26),ze('bumpiness',0x545+0x15cd+-0x1b11),ze('normalDeta'+'ilMapBumpi'+'ness',-0x15f5+-0x7ea*0x1+0x1de0),ze('reflectivi'+'ty',-0x1381*-0x1+0x587*0x7+-0x3a31),ze('occludeSpe'+'cularInten'+'sity',-0xbfd+0x132+-0x2b3*-0x4),ze('refraction',-0x2*0xcf4+0x652+0x1396),ze('refraction'+'Index',(-0x11b8+0x9b*-0x3e+0x3743)/(-0x21a3+0x8*-0x5e+-0x2*-0x124a+0.5)),ze('dispersion',0x1af*0xf+-0x3b*0x43+0x8*-0x13a),ze('thickness',-0xd62*-0x2+0x1*-0x88d+-0x1237*0x1),ze('attenuatio'+'nDistance',-0x17e4+0x6f3+0x10f1),ze('metalness',0x4*-0x338+-0xdc8*0x1+0x555*0x5),ze('anisotropy'+'Intensity',0x3e3*-0x1+-0x8b*0x37+0x21c0),ze('anisotropy'+'Rotation',-0x209e+0x154+-0xb2*-0x2d),ze('clearCoat',0x1aaa*-0x1+-0x165b*-0x1+0x44f),ze('clearCoatG'+'loss',0x237b+0x1e8d+-0x1*0x4207),ze('clearCoatB'+'umpiness',-0x2d1*0x5+0x10f4+0x1*-0x2de),ze('aoUvSet',-0x2*0x89+-0x18ea*0x1+0x19fc,null),ze('iridescenc'+'e',0x1e1*0x7+-0x2157+0x4*0x50c),ze('iridescenc'+'eRefractio'+'nIndex',(0x1639+0x103d+-0x2675)/(0x2198+0x812*0x1+-0x29a9+0.5)),ze('iridescenc'+'eThickness'+'Min',-0x1*0x81a+-0x17a8+0x1fc2),ze('iridescenc'+'eThickness'+'Max',0xa5*-0x2b+-0x104*-0xb+0x1*0x108b),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0xe63582,_0x175914,_0x524196)=>{const _0x21a6ad=_0xe63582['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1*-0x2359+-0x44*0x2f+0x2fd8)},{'name':'envBoxMax','value':new Float32Array(0x4e5+-0x10d0+0x6*0x1fd)}]),_0x52ee5f=_0xe63582['cubeMapPro'+'jectionBox']['getMin'](),_0x38d463=_0x21a6ad[0xc90+0x1d5b+-0x29eb]['value'];_0x38d463[-0x3*0xbc1+0x1e76+0x4cd]=_0x52ee5f['x'],_0x38d463[0x1*0x593+-0x2e*-0x2b+-0x6a6*0x2]=_0x52ee5f['y'],_0x38d463[-0x2048+0x23f5*-0x1+0x443f]=_0x52ee5f['z'];const _0x3f1704=_0xe63582['cubeMapPro'+'jectionBox']['getMax'](),_0x5b8480=_0x21a6ad[-0xd41+-0xb*0x2a1+0x2a2d]['value'];return _0x5b8480[-0x1*0x359+0x18b5+-0x155c]=_0x3f1704['x'],_0x5b8480[-0x18d2*0x1+-0x10*0x1e3+0x3703]=_0x3f1704['y'],_0x5b8480[0x1*0x305+0x1aa8+-0x23*0xd9]=_0x3f1704['z'],_0x21a6ad;}),ke('specularTi'+'nt',!(-0x13*0x153+-0x4ae*-0x1+0x147c)),ke('specularit'+'yFactorTin'+'t',!(0x693+-0xf83+0x8f1)),ke('useMetalne'+'ss',!(-0x88+-0x131b+-0x4*-0x4e9)),ke('useMetalne'+'ssSpecular'+'Color',!(-0x22c*0x3+0x2*-0x1387+0x2d93)),ke('useSheen',!(0x78*0x41+0x2025+0x4*-0xfa7)),ke('enableGGXS'+'pecular',!(0xbba+0x20*-0x50+-0x1b9)),ke('occludeDir'+'ect',!(-0xe*-0x179+-0x164*0x17+0xb5f)),ke('opacityFad'+'esSpecular',!(0xe9f+0x4b*-0x53+-0x22*-0x49)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0x741*-0x3+0x1223*-0x1+0x27e7)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0x156e+0x1493+-0x3*-0x49)),ke('useLightin'+'g',!(0x957*-0x2+0x1c4f+-0x91*0x11)),ke('useTonemap',!(-0x16*0x112+0x2325*-0x1+0x3ab1)),ke('useSkybox',!(-0x188*0x2+0x1f18+-0x1c08)),ke('forceUv1',!(-0x329+0x1*0x219b+-0x1e71)),ke('pixelSnap',!(-0x1*0xd51+-0x1*0x1a0c+0x275e)),ke('twoSidedLi'+'ghting',!(0x1118+0x139*-0x1+-0xfde)),ke('nineSliced'+'Mode',void(0x1d54+-0x2ab*-0xa+0x3802*-0x1)),ke('msdfTextAt'+'tribute',!(-0x72f+-0x1064+-0x6*-0x3ee)),ke('useIridesc'+'ence',!(0x76*-0xd+0x78f+-0x190*0x1)),ke('glossInver'+'t',!(0x1*0x16a3+0x1b90+-0x3232)),ke('sheenGloss'+'Invert',!(0x2*0xa2d+-0x9cc+-0xa8d*0x1)),ke('clearCoatG'+'lossInvert',!(-0x16a2+-0x8a6+0x1f49)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x6f*-0x6+0xb*-0xb9+0xa8e)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x34*0x22+-0x184e+0x1167)),et('ao','g'),et('light','rgb',!(-0x13fe+-0xd*-0x2ff+0xd3*-0x17),0x1e48+-0x17fd*0x1+-0x64a),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x3*0xae5+0xe*-0x71+0x26de*0x1)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x73*0x49+-0x1911+-0x7b9)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x8f9701=function(){return this['_prefilter'+'edCubemaps'];},_0x1f2992=function(_0xdfe634){const _0x4ed0d9=this['_prefilter'+'edCubemaps'];_0xdfe634=_0xdfe634||[];let _0x30f490=!(0x2066+-0x1241*0x1+0xe24*-0x1),_0x315a8a=!(-0x33f+-0xa8+0x1b*0x25);for(let _0x3d2b6b=-0x100d+-0x909*0x1+0x1916;_0x3d2b6b<-0x21f3+0xafd+0x16fc;++_0x3d2b6b){const _0x488b00=_0xdfe634[_0x3d2b6b]||null;_0x4ed0d9[_0x3d2b6b]!==_0x488b00&&(_0x4ed0d9[_0x3d2b6b]=_0x488b00,_0x30f490=!(0x1*0x270e+-0x12e2+0x2*-0xa16)),_0x315a8a=_0x315a8a&&!!_0x4ed0d9[_0x3d2b6b];}_0x30f490&&(_0x315a8a?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x4ed0d9,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x1bb*0xd+-0x1a83*-0x1+0x202*-0x2));},_0x5e65f8=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x5e65f8['slice'](),_0x1f2992,_0x8f9701);}vb();const Rt=class Rt{static['render'](_0x31ec8e,_0x3621ac){const _0x2110fc=_0x3621ac['device'],_0x72e0f5=_0x31ec8e['cells'],_0x9f4564=_0x31ec8e['lightsBuff'+'er'],_0x335651=_0x9f4564['boundsMin'],_0x86165c=_0x9f4564['boundsDelt'+'a'],_0x52d1c7=_0x335651['clone']()['add'](_0x86165c),_0x1ea894=_0x9f4564['boundsDelt'+'a']['clone']()['div'](_0x72e0f5),_0x5b62c2=Rt['gridPositi'+'ons'],_0x1f99ff=Rt['gridColors'],_0x53a0ba=new ie(-0x107*-0x1+-0xc3c+0xb35+0.3,-0x10b6+0x1*0x95f+0x757+0.3,0x3ce+-0x3*-0xbfd+-0x27c5+0.3),_0x1f4b46=(_0x38839d,_0x40a351,_0x17f432,_0x4fd703,_0x4eb3ca,_0x551a87,_0x59e7ef,_0x4ce92b,_0x2b0166)=>{for(let _0x2641c7=0x17b*0x17+-0x1680+-0xb8d;_0x2641c7<=_0x38839d;_0x2641c7++)for(let _0x66d4e6=0x154f+0x21d3+-0x3722;_0x66d4e6<=_0x40a351;_0x66d4e6++){const _0x15f02a=_0x17f432+_0x2641c7*_0x4fd703,_0x2224d5=_0x4eb3ca+_0x66d4e6*_0x551a87;_0x2b0166===0xa46+-0x57*-0x66+-0x2cf0?_0x5b62c2['push'](_0x15f02a,_0x59e7ef,_0x2224d5,_0x15f02a,_0x4ce92b,_0x2224d5):_0x2b0166===-0x7eb+0x68a+0x162?_0x5b62c2['push'](_0x15f02a,_0x2224d5,_0x59e7ef,_0x15f02a,_0x2224d5,_0x4ce92b):_0x2b0166===0x2a6+-0x1*-0x1345+-0x1*0x15e9&&_0x5b62c2['push'](_0x59e7ef,_0x15f02a,_0x2224d5,_0x4ce92b,_0x15f02a,_0x2224d5);}};if(_0x1f4b46(_0x72e0f5['x'],_0x72e0f5['z'],_0x335651['x'],_0x1ea894['x'],_0x335651['z'],_0x1ea894['z'],_0x335651['y'],_0x52d1c7['y'],-0x1fc8+0x23a0+-0x3d8),_0x1f4b46(_0x72e0f5['x'],_0x72e0f5['y'],_0x335651['x'],_0x1ea894['x'],_0x335651['y'],_0x1ea894['y'],_0x335651['z'],_0x52d1c7['z'],0x19bc+-0x1d7b+-0xc*-0x50),_0x1f4b46(_0x72e0f5['y'],_0x72e0f5['z'],_0x335651['y'],_0x1ea894['y'],_0x335651['z'],_0x1ea894['z'],_0x335651['x'],_0x52d1c7['x'],-0x149e+0x6cd+-0xdd3*-0x1),_0x5b62c2['length']){const _0x5a8047=_0x5b62c2['length']/(0x23f1+0xae1+-0x2ecf);if(_0x5a8047!==_0x1f99ff['length']/(-0x5b3+0x10fd+0xde*-0xd)){_0x1f99ff['length']=-0x1741+0x12f3+0x44e;for(let _0x32859d=-0x962+-0x9*-0x2d4+-0x1012;_0x32859d<_0x5a8047;_0x32859d++)_0x1f99ff['push'](_0x53a0ba['r'],_0x53a0ba['g'],_0x53a0ba['b'],_0x53a0ba['a']);}_0x3621ac['drawLineAr'+'rays'](_0x5b62c2,_0x1f99ff),_0x5b62c2['length']=0x135c+0x247d+0x1*-0x37d9;}let _0x2d52c2=Rt['mesh'];_0x2d52c2||(_0x2d52c2=new Ge(_0x2110fc),_0x2d52c2['clear'](!(-0x7cc+-0x267+-0x1*-0xa33),!(-0x567*0x6+-0xd17+0x2d81)),Rt['mesh']=_0x2d52c2);const _0xb11999=[],_0x20048b=[],_0x583573=[],_0x395a27=_0x31ec8e['_cells']['x'],_0x93b1fc=_0x31ec8e['_cells']['z'],_0x56ec97=_0x31ec8e['counts'],_0x344d97=_0x31ec8e['_maxCellLi'+'ghtCount'],_0x2fabec=new D(),_0x7374c3=new D(),_0x2bd110=new D(),_0x1508eb=_0x86165c['clone']()['div'](_0x72e0f5);let _0x182092=-0x1*0x49f+-0x1372+-0x1811*-0x1;for(let _0x3c116b=0xc0d+0x1a10+-0x261d;_0x3c116b<_0x72e0f5['x'];_0x3c116b++)for(let _0x13a6de=0x224e+0xb1d*-0x1+-0x1731;_0x13a6de<_0x72e0f5['z'];_0x13a6de++)for(let _0x50fc2f=-0x1979+0xdc4+0xbb5;_0x50fc2f<_0x72e0f5['y'];_0x50fc2f++){const _0x4d716e=_0x3c116b+_0x395a27*(_0x13a6de+_0x50fc2f*_0x93b1fc),_0x17b59b=_0x56ec97[_0x4d716e];if(_0x17b59b>0x1d3e+-0x3aa+-0x1994*0x1){_0x2fabec['x']=_0x335651['x']+_0x1508eb['x']*_0x3c116b,_0x2fabec['y']=_0x335651['y']+_0x1508eb['y']*_0x50fc2f,_0x2fabec['z']=_0x335651['z']+_0x1508eb['z']*_0x13a6de,_0x7374c3['add2'](_0x2fabec,_0x1508eb),_0xb11999['push'](_0x2fabec['x'],_0x2fabec['y'],_0x7374c3['z']),_0xb11999['push'](_0x7374c3['x'],_0x2fabec['y'],_0x7374c3['z']),_0xb11999['push'](_0x7374c3['x'],_0x7374c3['y'],_0x7374c3['z']),_0xb11999['push'](_0x2fabec['x'],_0x7374c3['y'],_0x7374c3['z']),_0xb11999['push'](_0x7374c3['x'],_0x2fabec['y'],_0x2fabec['z']),_0xb11999['push'](_0x2fabec['x'],_0x2fabec['y'],_0x2fabec['z']),_0xb11999['push'](_0x2fabec['x'],_0x7374c3['y'],_0x2fabec['z']),_0xb11999['push'](_0x7374c3['x'],_0x7374c3['y'],_0x2fabec['z']),_0x2bd110['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x17b59b/_0x344d97)['round']();for(let _0x1cc47c=-0x1e6d+0x1bea+-0x283*-0x1;_0x1cc47c<0x26be+-0xe5*0x1d+-0xcc5;_0x1cc47c++)_0x20048b['push'](_0x2bd110['x'],_0x2bd110['y'],_0x2bd110['z'],0x624*0x2+0x1091+-0x1cd8);_0x583573['push'](_0x182092*(-0x93b*-0x1+-0x4*0x6b+-0x787)+(0x117a+-0x1af3+0x1*0x979),_0x182092*(0x235*-0xa+0x1981*0x1+-0x367)+(0x4*-0x19e+-0x233d+-0x1*-0x29b6),_0x182092*(-0x272*0x1+0x132+-0x8*-0x29)+(-0x66a+0x1*-0xdf5+0x1462)),_0x583573['push'](_0x182092*(-0x917+-0x1d*0x140+0x2d5f)+(-0x1df4+-0x1*-0x1334+0xac3),_0x182092*(0x1e45+-0x1f38+0xfb*0x1)+(0x32e*-0x3+0xd0d+-0x382),_0x182092*(0x7f*0x5+-0x9a5+0x133*0x6)+(0x4f*0x65+-0x1*0x205f+0x5*0x3e)),_0x583573['push'](_0x182092*(-0x8fe+0x89f+-0x67*-0x1)+(-0x10c8+-0x20dd*-0x1+-0x1011),_0x182092*(0x2513+-0x1dda+-0x731)+(-0x1*0x1515+0x5*-0x325+-0x1*-0x24d3),_0x182092*(-0x18*-0x3+-0x1497+-0x29*-0x7f)+(0x2*0x9b9+0x12f9+0x7e*-0x4e)),_0x583573['push'](_0x182092*(-0x263f+-0x4fb+0x2b42)+(0xc16+-0x1abc+0xead),_0x182092*(0x9*0x3ea+0xc1*0x1b+-0x378d)+(0xca5+-0x22f7*-0x1+-0x1*0x2f97),_0x182092*(-0x1*0x1e4f+-0x1ade*0x1+0x5*0xb71)+(0x29d+-0x212*0xd+0x1853)),_0x583573['push'](_0x182092*(-0x3c0+-0x1*0x21e+0x5e6)+(-0x1*-0x24f2+0x1deb+-0x42da),_0x182092*(0x57*0x31+-0x45*-0x16+-0x17*0xfb)+(-0x1e86+-0x4d6+0x235e),_0x182092*(-0x13e7+0x22c0+-0xed1)+(-0x1*-0x823+0x1ab0+-0x3b*0x97)),_0x583573['push'](_0x182092*(-0x235a*0x1+-0x1f6c+0x1f7*0x22)+(-0x28*0xb6+-0x164+-0xc9*-0x26),_0x182092*(-0x45b*0x1+-0x1*-0x1057+-0xbf4)+(-0x259*0x1+0xa52*-0x3+0x2156),_0x182092*(0xb66+-0x5*0x182+-0x62*0xa)+(0x1*0xe9a+0x168+-0xffc)),_0x583573['push'](_0x182092*(-0x286*0x2+0x137*-0x19+0x2373)+(-0x359*0x2+-0x632+0x1*0xce5),_0x182092*(0x10b2+0x166b+0x57*-0x73)+(-0x1fa6+0x72c*0x5+0x31*-0x16),_0x182092*(0x1c95+0x18c6+-0x3553)+(-0x8*0x33a+-0x1*0x247+-0x59f*-0x5)),_0x583573['push'](_0x182092*(0x2*0xf2e+-0x10fc+-0xd58)+(0x253f+0x6*0x298+-0xb*0x4cd),_0x182092*(0xbec+-0x26d5+-0x79*-0x39)+(-0x69*0x1+-0x24ae+0x251c),_0x182092*(0x1eff+0x3*0x581+-0x67*0x76)+(-0x371*-0x5+-0x708+-0xa29)),_0x583573['push'](_0x182092*(-0x1e09*-0x1+-0x1352+-0xaaf)+(0x1fbf+-0x157e+-0xa4*0x10),_0x182092*(0xc*0x157+-0x2da*-0x5+-0x1e4e)+(0x3e*-0x59+-0x1*0x10a9+-0x263b*-0x1),_0x182092*(0x522*0x1+0xe4a+0x2*-0x9b2)+(0x2*0x126a+-0x1f*-0x4f+0x5f*-0x7d)),_0x583573['push'](_0x182092*(0x7c2+0x19f2+-0x21ac)+(-0x8ef+-0x1*-0xd0f+-0x4*0x107),_0x182092*(-0x1*-0x13be+-0x5b*0x59+-0x1*-0xbed)+(-0x66e*-0x5+-0xc61*-0x2+0x1*-0x38e1),_0x182092*(-0x9f0+-0xcbe+0x16b6)+(-0x2*0x1039+0x2458+-0x3e4)),_0x583573['push'](_0x182092*(0x7*0x83+-0x13c3+0x1036*0x1)+(-0x2281+-0x25f*0x7+0x331f),_0x182092*(0x806+-0xe63+0x665)+(-0x3*0x301+0x6d3*-0x3+0x1d7c),_0x182092*(0xc20+-0x15*-0x86+0x5*-0x49e)+(0x1313*0x1+0xb76+-0x1e83)),_0x583573['push'](_0x182092*(0x734+0x10b+-0x837)+(-0x14bd*-0x1+-0x19*0xf+-0x9a3*0x2),_0x182092*(-0x1ada+0x1a61+0x81)+(-0x1cf0+-0x2176+-0x3e69*-0x1),_0x182092*(-0x1669+0xa6*0x37+-0xd39)+(0x1267*0x2+0xc89*-0x1+-0x183f)),_0x182092++;}}if(_0x182092){if(_0x2d52c2['setPositio'+'ns'](_0xb11999),_0x2d52c2['setNormals'](new Float32Array(_0xb11999['length'])),_0x2d52c2['setColors3'+'2'](_0x20048b),_0x2d52c2['setIndices'](_0x583573),_0x2d52c2['update'](js,!(0x2*0xfcd+-0x190e+-0x68b)),!Rt['meshInstan'+'ce']){const _0x3b0e9b=new Ut();_0x3b0e9b['useLightin'+'g']=!(0x20ce+-0x2287*-0x1+0x116*-0x3e),_0x3b0e9b['emissive']=new ie(-0xe53+-0x19*-0x17+-0x3*-0x407,0x58+0x107e*0x2+-0x13*0x1c1,0x1b0f+0x1*-0xa9f+-0x106f),_0x3b0e9b['emissiveVe'+'rtexColor']=!(-0x839+-0x2*0x9c9+0x1bcb),_0x3b0e9b['blendType']=Ed,_0x3b0e9b['depthWrite']=!(-0x1a43+0x12d*0x1e+-0x2*0x481),_0x3b0e9b['update']();const _0x1bc60b=new Ie('WorldClust'+'ersDebug');_0x1bc60b['worldTrans'+'form']=te['IDENTITY'],_0x1bc60b['_dirtyWorl'+'d']=_0x1bc60b['_dirtyNorm'+'al']=!(-0x1391+0x7de+0xbb4),Rt['meshInstan'+'ce']=new He(_0x2d52c2,_0x3b0e9b,_0x1bc60b),Rt['meshInstan'+'ce']['cull']=!(-0x1727*0x1+0x1e7d+0x755*-0x1);}const _0x400088=Rt['meshInstan'+'ce'];_0x3621ac['immediate']['drawMesh'](_0x400088['material'],_0x400088['node']['worldTrans'+'form'],null,_0x400088,_0x3621ac['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0x121c+-0x1ba6+0xd5*0x37,0x16dd+-0x17d0+0x1*0xf4,-0x1*-0x12a1+-0x7*-0x217+-0x1*0x2141)),h(Rt,'colorHigh',new D(-0x3aa+-0x2485+0x2857,-0x8e9*0x3+-0x870+0x232b,0x21ee+-0xbc5+0x3d*-0x5d));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0xbb95d0=atob(xb);Vi=Uint8Array['from'](_0xbb95d0,_0x311b47=>_0x311b47['charCodeAt'](-0x2292+-0x1352+0x35e4));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x559072=-0x2*-0xa1b+-0x2570+-0x3*-0x5be){h(this,'seed',-0xe16+0x1*0x2ab+0xb6b),(this['seed']=_0x559072*(-0x2*-0x1241+0x13fd+-0x387b),Av());}['_next'](){this['seed']=(this['seed']+(0xbad+0xfc5+-0x1b6e*0x1))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x4a4+0x1b2b+-0x1ed0);}['vec4'](_0x261300=new re()){return this['_next'](),_0x261300['set'](Vi[this['seed']],Vi[this['seed']+(0x119*0x1e+0x3cf+-0x24bc)],Vi[this['seed']+(0xc05*0x1+0x13*0x108+-0x57*0x5d)],Vi[this['seed']+(-0x1ee9+0x1*-0xd31+-0x17*-0x1eb)])['mulScalar']((-0x257a+0x1*-0x1d86+0x3f1*0x11)/(-0xdf4+-0x1901+0x27f4));}}const Eb=[new D(-(0x1*0x1a3a+-0x2133+0x6fa),-0x17*0xef+-0xd26+-0x229f*-0x1,0x3d4*-0x1+-0x2*0x99d+0x170e),new D(-0x1*-0xed7+-0x2d*0xc7+-0x9*-0x23d,-0x18da*-0x1+-0x1986+0x56*0x2,-0x7f7+0x1*-0x228b+0x2a82),new D(0x1061+-0xeed*0x1+-0x5d*0x4,-(0x25e9+0x76d*-0x5+-0xc7),0x10ba+-0x67*0x17+-0x779*0x1),new D(-0x15e4+0x11*-0xc5+0x22f9*0x1,-0x33e+0xe82+-0xb43,-0x262e+-0x89e+-0x4*-0xbb3),new D(-0x11*0x7+-0x150a+0x1581,0x48*0x54+-0x34a*0x1+0x2*-0xa2b,-(0xd08+0x1*0x215f+-0x2e66)),new D(-0x1aeb+0x11*0x1ac+-0x4d*0x5,-0x5*0x6d1+0x1580+0xc95,-0x22b1+-0x3*0x631+-0x3545*-0x1)];class bb{constructor(){h(this,'colors',new Float32Array(0xcc9+-0x692*0x4+0xd91));}['update'](_0x314b00,_0xe0ff06){const _0x11ebb9=this['colors'],{r:_0xa001cb,g:_0x168e0a,b:_0x1a8d7a}=_0x314b00;for(let _0x5db6cd=0xa73+0x1697+-0x210a;_0x5db6cd<-0x1bee+0x3*0x2eb+-0x5*-0x3d7;_0x5db6cd++)_0x11ebb9[_0x5db6cd*(-0x148b+-0x1*-0x5e7+0xea7)]=_0xa001cb,_0x11ebb9[_0x5db6cd*(-0x7c*-0x38+0xa*0x2d3+-0x1*0x375b)+(0x260+0xaef+-0xd4e)]=_0x168e0a,_0x11ebb9[_0x5db6cd*(-0x15e6+0x6bc+0xf2d)+(-0xcee*-0x1+-0x1*-0x1bfa+-0x15d*0x1e)]=_0x1a8d7a;for(let _0x13006a=-0x3*-0x557+-0x16c4+0x1*0x6bf;_0x13006a<_0xe0ff06['length'];_0x13006a++){const _0x48b857=_0xe0ff06[_0x13006a];if(_0x48b857['_type']===ve)for(let _0x20baf9=0x1*-0x159e+0x1*0x2a6+0x2*0x97c;_0x20baf9<0x1cf7+-0x2404+0x713*0x1;_0x20baf9++){const _0xc7e6f4=Math['max'](Eb[_0x20baf9]['dot'](_0x48b857['_direction']),0x18ec+0x1648*-0x1+-0x2a4)*_0x48b857['_intensity'],_0x1e0c06=_0x48b857['_color'];_0x11ebb9[_0x20baf9*(0x1b1e+0x1*-0x24d7+0x9bc)]+=_0x1e0c06['r']*_0xc7e6f4,_0x11ebb9[_0x20baf9*(0x69*-0x3b+-0xb70+0xa9*0x36)+(-0x5b*-0x67+-0x1e70+-0x62c)]+=_0x1e0c06['g']*_0xc7e6f4,_0x11ebb9[_0x20baf9*(-0x24c*-0x6+0x24fc+0x47*-0xb7)+(-0xa5a+-0x161*-0x4+-0x8*-0x9b)]+=_0x1e0c06['b']*_0xc7e6f4;}}}}const Ab=(_0x5d32d4,_0x103b62,_0x430388,_0x54e67f)=>{const _0x5d6b12=new _e(_0x5d32d4,{'name':''+_0x103b62+_0x430388,'width':_0x430388,'height':_0x430388,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1725+-0xaa1+-0x1*-0x21c7)});return _0x5d6b12['lock']()['set'](_0x54e67f),_0x5d6b12['unlock'](),_0x5d6b12;},Cb=new Kt(),Pb=_0x5360d2=>Cb['get'](_0x5360d2,()=>{const _0x3cb412=Tb(),_0x205ab8=Math['sqrt'](_0x3cb412['length']/(0x1*-0x69e+-0x9e+0x740));return Ab(_0x5360d2,'BlueNoise',_0x205ab8,_0x3cb412);});class va{constructor(_0x5d6505,_0x2a4e66){this['texture']=_0x5d6505,this['cached']=!(0xbd7+-0xae9+-0xed*0x1),this['renderTarg'+'ets']=_0x2a4e66;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x247990=this['renderTarg'+'ets'];for(let _0x2adc09=-0x207f+0x26*0xbf+-0x425*-0x1;_0x2adc09<_0x247990['length'];_0x2adc09++)_0x247990[_0x2adc09]['destroy']();this['renderTarg'+'ets']['length']=-0x24d1+-0x164*0x1a+-0x1853*-0x3;}static['create'](_0x13f818,_0x195261){let _0x566b3b=null;return _0x195261['_type']===Ke?_0x566b3b=this['createCube'+'map'](_0x13f818,_0x195261['_shadowRes'+'olution'],_0x195261['_shadowTyp'+'e']):_0x566b3b=this['create2dMa'+'p'](_0x13f818,_0x195261['_shadowRes'+'olution'],_0x195261['_shadowTyp'+'e']),_0x566b3b;}static['createAtla'+'s'](_0x446300,_0x36743c,_0x554328){const _0x5ab5c9=this['create2dMa'+'p'](_0x446300,_0x36743c,_0x554328),_0xb4e3ef=_0x5ab5c9['renderTarg'+'ets'],_0x1a7421=_0xb4e3ef[0x4*0x5b9+0xf3*-0x4+-0x1318];for(let _0x450b76=0x22c7+-0x214+-0x20b3;_0x450b76<0x1fac+-0x71*-0x17+0x1*-0x29ce;_0x450b76++)_0xb4e3ef['push'](_0x1a7421);return _0x5ab5c9;}static['create2dMa'+'p'](_0x233c11,_0x31b6d7,_0xd97203){var _0x50715e;const _0x294e31=qi['get'](_0xd97203);w['assert'](_0x294e31);let _0x3255b4=_0x294e31['format'];_0x3255b4===Ji&&!_0x233c11['textureFlo'+'atRenderab'+'le']&&_0x233c11['textureHal'+'fFloatRend'+'erable']&&(_0x3255b4=od);const _0x451cc7=(_0x50715e=Nt['get'](_0x3255b4))==null?void(-0xc66+0x1e5a+-0x2*0x8fa):_0x50715e['name'];let _0x44ddf2=vt;_0xd97203===Jp&&(_0x44ddf2=_0x233c11['extTexture'+'FloatLinea'+'r']?vt:Te),_0xd97203===al&&(_0x44ddf2=Te);const _0x9057da=new _e(_0x233c11,{'profilerHint':eu,'format':_0x3255b4,'width':_0x31b6d7,'height':_0x31b6d7,'mipmaps':!(0x23fb+-0x7*0x391+-0xb03),'minFilter':_0x44ddf2,'magFilter':_0x44ddf2,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x451cc7});let _0x34dfd9=null;return _0x294e31!=null&&_0x294e31['pcf']?(_0x9057da['compareOnR'+'ead']=!(-0xe1+-0x1d5d*0x1+0x1e3e),_0x9057da['compareFun'+'c']=hh,_0x34dfd9=new gt({'depthBuffer':_0x9057da})):_0x34dfd9=new gt({'colorBuffer':_0x9057da,'depth':!(-0x29*0x29+0xc6d+-0x7d*0xc)}),_0x233c11['isWebGPU']&&(_0x34dfd9['flipY']=!(0x1ad3+-0x584*0x1+-0x154f*0x1)),new va(_0x9057da,[_0x34dfd9]);}static['createCube'+'map'](_0x89ce3d,_0x322bc7,_0xcc42f2){var _0x85a017;const _0x3a7b7e=qi['get'](_0xcc42f2);w['assert'](_0x3a7b7e);const _0x26ffc6=(_0x85a017=Nt['get'](_0x3a7b7e['format']))==null?void(-0x1f39+0x68*-0x50+0xb*0x5cb):_0x85a017['name'],_0x28cfe0=_0xcc42f2===al,_0x4b5d43=_0x28cfe0?Te:vt,_0x1bbc71=new _e(_0x89ce3d,{'profilerHint':eu,'format':_0x3a7b7e==null?void(-0xae+0x27*-0xb+0x25b):_0x3a7b7e['format'],'width':_0x322bc7,'height':_0x322bc7,'cubemap':!(0x5aa*-0x6+0x2088+0x1*0x174),'mipmaps':!(-0x2cc*0x9+-0x1147+0x2a74),'minFilter':_0x4b5d43,'magFilter':_0x4b5d43,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x26ffc6});_0x28cfe0||(_0x1bbc71['compareOnR'+'ead']=!(-0x211f+-0x641+0x2760),_0x1bbc71['compareFun'+'c']=hh);const _0x45dc22=[];for(let _0x29cddf=0x1d*-0x4d+0x118d*-0x1+0x3*0x8c2;_0x29cddf<0x2*0x109d+-0x1876+-0x8be;_0x29cddf++)_0x28cfe0?_0x45dc22['push'](new gt({'colorBuffer':_0x1bbc71,'face':_0x29cddf,'depth':!(-0x44d*0x3+-0x1e6+-0x1*-0xecd)})):_0x45dc22['push'](new gt({'depthBuffer':_0x1bbc71,'face':_0x29cddf}));return new va(_0x1bbc71,_0x45dc22);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x5932c9){this['size']=Math['floor'](_0x5932c9['w']*(0x69e+-0x1894+-0x2*-0xafb)),this['used']=!(-0x703*-0x2+-0x6f+0x1*-0xd96),this['lightId']=-(0x11ab+-0x1a72+-0x232*-0x4),this['rect']=_0x5932c9;}}class Ib{constructor(_0x4eb224){this['device']=_0x4eb224,this['version']=0x111a+-0xcf*0x10+0x1*-0x429,this['shadowAtla'+'sResolutio'+'n']=-0x2*-0x109c+-0x194f+0x17*0x1,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0xd9f+-0x1*0x9f7+0x1799,this['cookieAtla'+'sResolutio'+'n']=0x1e2a+0x232+-0x2058,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x13c6+-0x546+-0xe7f),'mipmaps':!(-0xb5a+0x1f3b+-0x13e0),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x425*-0x1+-0x4bd*-0x8+-0x12a*0x1d),'flipY':!(-0x21d1+0x2351+-0x180)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x2d5+0x455+-0x72a,-0x1c75+-0x1cf2+0x5*0xb7b),new J(0x1c3f*-0x1+-0x41*0x2b+0x272a,-0xc91+0x7a1+0x4f1),new J(0x22*0x27+0x1f85*0x1+-0x24b2,0x861+-0x1331+0xad0),new J(-0x3*-0x217+0x1c46+-0x228a,0x2*0xa27+0x1dc+-0x1629),new J(-0x991+-0x3*0x565+0x19c2,0x17ff+-0xf3e+-0x8c1),new J(0xb0d*-0x1+0x30*0x1b+0x5ff,0x12*0x7+-0x679*0x3+0x977*0x2)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x259*0x7+-0x1a*-0xd+-0xf1e*-0x1),this['allocateCo'+'okieAtlas'](0x3+-0x469*0x1+0x467*0x1),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x5a9eb0;(_0x5a9eb0=this['shadowAtla'+'s'])==null||_0x5a9eb0['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x569f64,_0x5db74c;(_0x569f64=this['cookieAtla'+'s'])==null||_0x569f64['destroy'](),this['cookieAtla'+'s']=null,(_0x5db74c=this['cookieRend'+'erTarget'])==null||_0x5db74c['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x3dce05,_0x32ec95=$s){var _0x50089f;const _0x575eeb=(_0x50089f=this['shadowAtla'+'s'])==null?void(0x1*0x1ca3+-0xe3*0x2b+0xa*0xf3):_0x50089f['texture']['format'],_0x413e53=qi['get'](_0x32ec95)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x3dce05||_0x575eeb!==_0x413e53){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x3dce05,_0x32ec95),this['shadowAtla'+'s']['cached']=!(-0x1*-0x16c6+0x1d85+-0x344b);const _0x1cf524=(0x14*0x163+-0x1*0x1853+0xb*-0x4f)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x1cf524,_0x1cf524,-(0x370*0x3+0xa*0x28f+-0x23e4)*_0x1cf524,-(0x2*0x1026+-0x9ba+0x98*-0x26)*_0x1cf524);}}['allocateCo'+'okieAtlas'](_0x580a32){this['cookieAtla'+'s']['width']!==_0x580a32&&(this['cookieRend'+'erTarget']['resize'](_0x580a32,_0x580a32),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1*-0x111+-0x37c*-0xb+-0x2763),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xd6b2c2=this['shadowAtla'+'s']['renderTarg'+'ets'][0x2397*0x1+-0x1563+0x194*-0x9]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xd6b2c2),this['_shadowAtl'+'asParams'][-0x47*-0x3d+0x3*-0x1ae+0x1*-0xbe1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1961+0xab5*-0x1+-0xeab]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x4ecc9d,_0x25afa7){let _0x5d294e=_0x25afa7['atlasSplit'];if(!_0x5d294e){const _0x46306b=Math['ceil'](Math['sqrt'](_0x4ecc9d));_0x5d294e=Db,_0x5d294e[0x1151+0x9d9*-0x1+0xef*-0x8]=_0x46306b,_0x5d294e['length']=0x10e2+-0x157*0x10+0x48f*0x1;}if(!((_0x54b622,_0x2353a7)=>_0x54b622['length']===_0x2353a7['length']&&_0x54b622['every']((_0x27a7e1,_0x26c059)=>_0x27a7e1===_0x2353a7[_0x26c059]))(_0x5d294e,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x10*-0x56+0xcc3+-0x1*0x1223,this['atlasSplit']['length']=-0x3*0x5a1+0x16d3*-0x1+0x27b6,this['atlasSplit']['push'](..._0x5d294e);const _0x2b1b43=this['atlasSplit'][0x10*0x14+-0x1242+0x881*0x2];if(_0x2b1b43>0xd0d*-0x2+0x647*-0x3+0x2cf0){const _0x1cd6b4=(0x8c2+0x1*-0x209+-0x2*0x35c)/_0x2b1b43;for(let _0x183e1a=0xdbe+0xa90+-0x184e;_0x183e1a<_0x2b1b43;_0x183e1a++)for(let _0x4e86b3=0xc23+-0x867+-0x3bc*0x1;_0x4e86b3<_0x2b1b43;_0x4e86b3++){const _0x448f83=new re(_0x183e1a*_0x1cd6b4,_0x4e86b3*_0x1cd6b4,_0x1cd6b4,_0x1cd6b4),_0x31cfb7=this['atlasSplit'][0x25f*0x4+-0x26bd+0x1d42+_0x183e1a*_0x2b1b43+_0x4e86b3];if(_0x31cfb7>-0x1278+-0x1739+0x29b2){for(let _0x18d3df=-0xd*0x1ee+-0x1*-0x1fff+0x3d*-0x1d;_0x18d3df<_0x31cfb7;_0x18d3df++)for(let _0x414e51=0x106*-0x20+0x3*0x28b+0x191f*0x1;_0x414e51<_0x31cfb7;_0x414e51++){const _0xb9bdba=_0x1cd6b4/_0x31cfb7,_0xf7d82a=new re(_0x448f83['x']+_0x18d3df*_0xb9bdba,_0x448f83['y']+_0x414e51*_0xb9bdba,_0xb9bdba,_0xb9bdba);this['slots']['push'](new tf(_0xf7d82a));}}else this['slots']['push'](new tf(_0x448f83));}}else this['slots']['push'](new tf(new re(-0x27a+-0xac*-0x2e+0x3*-0x97a,-0x78*-0x2+-0x19eb+-0x4ff*-0x5,-0x17d6+0xe*-0x199+0x1*0x2e35,-0x2*0x32d+-0x718+0xd73)));this['slots']['sort']((_0x26791e,_0x453f73)=>_0x453f73['size']-_0x26791e['size']);}}['collectLig'+'hts'](_0x5a664d,_0x9a8d82){const _0x2118ce=_0x9a8d82['cookiesEna'+'bled'],_0x2ba705=_0x9a8d82['shadowsEna'+'bled'];let _0x59b94b=!(0xcd*0x11+0x31e+-0x10ba),_0x32c6cb=!(0x1790+0x3*0x5b9+-0x28ba);const _0x33d244=Mb;return _0x33d244['length']=-0x3d*0x92+-0x1c3*0xc+0x37ee,(_0x2118ce||_0x2ba705)&&(_0x1a616a=>{for(let _0x347745=0x1*0x200b+-0x15ff+-0x2*0x506;_0x347745<_0x1a616a['length'];_0x347745++){const _0x2986f6=_0x1a616a[_0x347745];if(_0x2986f6['visibleThi'+'sFrame']){const _0x422b7d=_0x2ba705&&_0x2986f6['castShadow'+'s'],_0x3baebf=_0x2118ce&&!!_0x2986f6['cookie'];_0x59b94b||(_0x59b94b=_0x422b7d),_0x32c6cb||(_0x32c6cb=_0x3baebf),(_0x422b7d||_0x3baebf)&&_0x33d244['push'](_0x2986f6);}}})(_0x5a664d),_0x33d244['sort']((_0x3ccba7,_0x30088f)=>_0x30088f['maxScreenS'+'ize']-_0x3ccba7['maxScreenS'+'ize']),_0x59b94b&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x9a8d82['shadowType']),_0x32c6cb&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x59b94b||_0x32c6cb)&&this['subdivide'](_0x33d244['length'],_0x9a8d82),_0x33d244;}['setupSlot'](_0x183155,_0x591e97){_0x183155['atlasViewp'+'ort']['copy'](_0x591e97);const _0x3c128e=_0x183155['numShadowF'+'aces'];for(let _0x5b4d05=-0xe2f*-0x1+0x2519+-0x3348;_0x5b4d05<_0x3c128e;_0x5b4d05++)if(_0x183155['castShadow'+'s']||_0x183155['_cookie']){if(xi['copy'](_0x591e97),ef['copy'](_0x591e97),_0x183155['_type']===Ze&&xi['add'](this['scissorVec']),_0x183155['_type']===Ke){const _0x26c956=xi['z']/(-0x1e8e+0x2027+-0x3a*0x7),_0x3c77cb=this['cubeSlotsO'+'ffsets'][_0x5b4d05];xi['x']+=_0x26c956*_0x3c77cb['x'],xi['y']+=_0x26c956*_0x3c77cb['y'],xi['z']=_0x26c956,xi['w']=_0x26c956,ef['copy'](xi);}if(_0x183155['castShadow'+'s']){const _0x1fb97f=_0x183155['getRenderD'+'ata'](null,_0x5b4d05);_0x1fb97f['shadowView'+'port']['copy'](xi),_0x1fb97f['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x587a9a,_0x29a278,_0x3e2c39){_0x587a9a['atlasViewp'+'ortAllocat'+'ed']=!(-0x1da5*-0x1+0x1*-0x46f+0x7*-0x39a);const _0x1dfdba=this['slots'][_0x29a278];_0x1dfdba['lightId']=_0x587a9a['id'],_0x1dfdba['used']=!(-0x1637+-0x13*-0x23+0x139e),_0x3e2c39&&(_0x587a9a['atlasSlotU'+'pdated']=!(0x2478+0x210c+-0x4584),_0x587a9a['atlasVersi'+'on']=this['version'],_0x587a9a['atlasSlotI'+'ndex']=_0x29a278);}['update'](_0x1222fd,_0x46a9c5){this['shadowAtla'+'sResolutio'+'n']=_0x46a9c5['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x46a9c5['cookieAtla'+'sResolutio'+'n'];const _0x253540=this['collectLig'+'hts'](_0x1222fd,_0x46a9c5);if(_0x253540['length']>-0x1e+-0x7db+0x7f9){const _0x269753=this['slots'];for(let _0x496792=-0x13a7+-0xca6*0x1+0x204d;_0x496792<_0x269753['length'];_0x496792++)_0x269753[_0x496792]['used']=!(0x1461+-0x21eb*-0x1+-0x1219*0x3);const _0x25026a=Math['min'](_0x253540['length'],_0x269753['length']);for(let _0x4b0807=0x1742+-0x56*0x3a+-0x1e3*0x2;_0x4b0807<_0x25026a;_0x4b0807++){const _0x4809ce=_0x253540[_0x4b0807];_0x4809ce['castShadow'+'s']&&(_0x4809ce['_shadowMap']=this['shadowAtla'+'s']);const _0x58efb8=_0x269753[_0x4809ce['atlasSlotI'+'ndex']];if(_0x4809ce['atlasVersi'+'on']===this['version']&&_0x4809ce['id']===(_0x58efb8==null?void(-0x1*0x45e+-0x13ac+0x180a*0x1):_0x58efb8['lightId'])){const _0x130381=_0x269753[_0x4809ce['atlasSlotI'+'ndex']];_0x130381['size']===_0x269753[_0x4b0807]['size']&&!_0x130381['used']&&this['assignSlot'](_0x4809ce,_0x4809ce['atlasSlotI'+'ndex'],!(-0x1777+0x2*0x1c5+0x1*0x13ee));}}let _0x532f44=-0x15d*0x1a+-0x161*0xe+0x36c0;for(let _0x31bd33=-0x169*-0xb+0xc4*0x1+-0x1047;_0x31bd33<_0x25026a;_0x31bd33++){for(;_0x532f44<_0x269753['length']&&_0x269753[_0x532f44]['used'];)_0x532f44++;const _0x1b3b41=_0x253540[_0x31bd33];_0x1b3b41['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x1b3b41,_0x532f44,!(-0x21b9+-0x88c+0x2a45));const _0x44b64b=_0x269753[_0x1b3b41['atlasSlotI'+'ndex']];this['setupSlot'](_0x1b3b41,_0x44b64b['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0xf97de6=>{_0xf97de6['forEach'](_0x29d8ad=>{_0x29d8ad['destroy']();});}),this['cache']['clear']();}['getKey'](_0xc43c2a){const _0x1f9fce=_0xc43c2a['_type']===Ke,_0x177af3=_0xc43c2a['_shadowTyp'+'e'],_0x3718b4=_0xc43c2a['_shadowRes'+'olution'];return _0x1f9fce+'-'+_0x177af3+'-'+_0x3718b4;}['get'](_0x284b1b,_0x492fa8){const _0x2c138c=this['getKey'](_0x492fa8),_0x3d2a8f=this['cache']['get'](_0x2c138c);if(_0x3d2a8f&&_0x3d2a8f['length'])return _0x3d2a8f['pop']();const _0x375f6a=va['create'](_0x284b1b,_0x492fa8);return _0x375f6a['cached']=!(0x1*-0xb1b+0x1*0x2078+-0x3*0x71f),_0x375f6a;}['add'](_0x21bc4a,_0x3e137b){const _0x587cad=this['getKey'](_0x21bc4a),_0x23b8bc=this['cache']['get'](_0x587cad);_0x23b8bc?_0x23b8bc['push'](_0x3e137b):this['cache']['set'](_0x587cad,[_0x3e137b]);}}class Rb extends ys{constructor(_0x336544,_0x17c4c9,_0x255424,_0x13cb7f,_0x195b56){super(_0x336544),Ea['setName'](this,this['name']+'-'+_0x255424['_node']['name']),this['requiresCu'+'bemaps']=!(0xd9+-0x7*0x454+0x1d74),this['shadowRend'+'erer']=_0x17c4c9,this['light']=_0x255424,this['face']=_0x13cb7f,this['applyVsm']=_0x195b56,this['shadowCame'+'ra']=_0x17c4c9['prepareFac'+'e'](_0x255424,null,_0x13cb7f),_0x17c4c9['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0xe03*-0x1+-0x17d*0x2+0x10fd));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1*0x2149+-0x1bc3+-0x585));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x132a65,_0x348da2){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x132a65,this['shadowRend'+'erer']=_0x348da2,this['device']=_0x132a65['device']);}['cull'](_0x41fff1,_0x249264,_0x26db5b=null){const _0x366ab0=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x41fff1['visibleThi'+'sFrame']=!(0xe*0x26e+0x13*-0x181+-0x571),_0x366ab0||_0x41fff1['_shadowMap']||(_0x41fff1['_shadowMap']=va['create'](this['device'],_0x41fff1));const _0x3187b8=_0x41fff1['_type'],_0x2d72ef=_0x3187b8===Ze?-0x9aa+-0x10cd+0x1a78:-0x2204+-0xcf+0x22d9;for(let _0x5627c4=-0x1*0x709+-0x1492+0x1b9b*0x1;_0x5627c4<_0x2d72ef;_0x5627c4++){const _0x4945ea=_0x41fff1['getRenderD'+'ata'](null,_0x5627c4),_0x217fa2=_0x4945ea['shadowCame'+'ra'];_0x217fa2['nearClip']=_0x41fff1['attenuatio'+'nEnd']/(0xad2+-0x1ea4+-0x17ba*-0x1),_0x217fa2['farClip']=_0x41fff1['attenuatio'+'nEnd'];const _0x1100e0=_0x217fa2['_node'],_0x244fba=_0x41fff1['_node'];if(_0x1100e0['setPositio'+'n'](_0x244fba['getPositio'+'n']()),_0x3187b8===Ze)_0x217fa2['fov']=_0x41fff1['_outerCone'+'Angle']*(-0x1acd+-0x533+0x1001*0x2),_0x1100e0['setRotatio'+'n'](_0x244fba['getRotatio'+'n']()),_0x1100e0['rotateLoca'+'l'](-(0x173f+0xb93*0x2+0x3*-0xf59),0x1ef6+-0x22d4+0x3de,-0x1*0x1c4f+-0xc9a*-0x1+0xfb5);else{if(_0x3187b8===Ke){if(_0x366ab0){const _0x500bbc=(-0x281+-0x157*0xe+-0x9*-0x25d)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x41fff1['atlasViewp'+'ort']['z']/(0x23b*-0xd+0x2*-0x98a+0x3016))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x217fa2['fov']=Math['atan'](0xb92+-0x3*-0x45+-0x9*0x160+_0x500bbc)*Y['RAD_TO_DEG']*(0x1*0x1ca0+-0x283*0xe+0x68c);}else _0x217fa2['fov']=-0x3b9+-0x5*-0x65+-0x1*-0x21a;}}this['renderer']['updateCame'+'raFrustum'](_0x217fa2),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x249264,_0x41fff1,_0x4945ea['visibleCas'+'ters'],_0x217fa2,_0x26db5b);}}['prepareLig'+'hts'](_0x430168,_0xc1281c){let _0x54abfb;for(let _0x59c5d3=0x25f3+0x1*0x54b+-0x2b3e;_0x59c5d3<_0xc1281c['length'];_0x59c5d3++){const _0x3d6ac7=_0xc1281c[_0x59c5d3];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3d6ac7)&&_0x3d6ac7['atlasViewp'+'ortAllocat'+'ed']){_0x430168['push'](_0x3d6ac7);for(let _0x254b37=-0x12fc+0x2552+0x2*-0x92b;_0x254b37<_0x3d6ac7['numShadowF'+'aces'];_0x254b37++)_0x54abfb=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3d6ac7,null,_0x254b37);}}return _0x54abfb;}['buildNonCl'+'usteredRen'+'derPasses'](_0x5df56f,_0x3eb145){for(let _0x3fa816=0x1*-0x5e3+0x6ef*-0x1+0xcd2;_0x3fa816<_0x3eb145['length'];_0x3fa816++){const _0x1aba4c=_0x3eb145[_0x3fa816];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1aba4c)){const _0x15cc3d=_0x1aba4c['_type']===Ze,_0x158fd0=_0x1aba4c['numShadowF'+'aces'];for(let _0x1042fb=-0x1d*0xb5+-0x2a+-0x1*-0x14ab;_0x1042fb<_0x158fd0;_0x1042fb++){const _0x86e48=new Rb(this['device'],this['shadowRend'+'erer'],_0x1aba4c,_0x1042fb,_0x15cc3d);_0x5df56f['addRenderP'+'ass'](_0x86e48);}}}}}class Fb extends ys{constructor(_0x171e91,_0x97d925,_0x5b9f63,_0x7bec0e,_0x582de5){super(_0x171e91),Ea['setName'](this,this['name']+'-'+_0x5b9f63['_node']['name']),this['shadowRend'+'erer']=_0x97d925,this['light']=_0x5b9f63,this['camera']=_0x7bec0e,this['allCascade'+'sRendering']=_0x582de5;}['execute'](){const {light:_0x15a585,camera:_0x34abef,shadowRenderer:_0x1e9a7b,allCascadesRendering:_0xd008e5}=this,_0x37c4ad=_0x15a585['numShadowF'+'aces'],_0x110837=_0x15a585['shadowUpda'+'teOverride'+'s'];for(let _0x1afd5a=0x7f2*-0x1+0x1*0x1fe7+0x17f5*-0x1;_0x1afd5a<_0x37c4ad;_0x1afd5a++)(_0x110837==null?void(0xce*-0x9+-0x20db+0x2819*0x1):_0x110837[_0x1afd5a])!==Ps&&_0x1e9a7b['renderFace'](_0x15a585,_0x34abef,_0x1afd5a,!_0xd008e5),(_0x110837==null?void(0x1*0x60b+-0x1e3*0x9+0xaf0):_0x110837[_0x1afd5a])===xr&&(_0x110837[_0x1afd5a]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x11aeca,_0x28edf5,_0x6a39f1){Xe[0x23ab+-0x1*-0x2621+-0x4*0x1273]['x']=Xe[0x1*0x296+0xdc5+-0x1*0x105a]['x']=Xe[0x349*-0x5+0x1223+0x6d*-0x4]['x']=Xe[0x105d+0x1b91+-0x2beb]['x']=_0x28edf5['x'],Xe[-0x18e6+-0x1*0xc9d+-0x157*-0x1c]['y']=Xe[-0x1401+0x333+0x10d1]['y']=Xe[-0x7b2+-0x5*-0x34b+-0x8be]['y']=Xe[0x1241+0x1*-0x12f1+0xb5]['y']=_0x28edf5['y'],Xe[0xe37+0x1*0x2272+-0x30a7]['z']=Xe[0xa33+0x118+-0xb48]['z']=Xe[0x123d+-0x190*0x12+0x9e9]['z']=Xe[-0x186b+-0x1ca*-0x4+0x114a]['z']=_0x28edf5['z'],Xe[0x922+-0x1*0xc7e+0x3*0x120]['x']=Xe[0x9*-0x22c+-0x25a3+0x3934]['x']=Xe[0x16+0x37*0x46+0xf1a*-0x1]['x']=Xe[-0x3*0x295+-0x1*0x135a+0x1b20]['x']=_0x6a39f1['x'],Xe[-0x682*-0x3+0xa08+0x123*-0x1a]['y']=Xe[0x28d*0x5+0x13*0x14c+0x2563*-0x1]['y']=Xe[0x777+-0x9*-0x13d+-0x14*0xee]['y']=Xe[0x419*0x6+-0x1f59+-0x1*-0x6c9]['y']=_0x6a39f1['y'],Xe[-0x2663*0x1+-0x1d*0xd+0x27dc]['z']=Xe[-0x2481+-0x25f9*0x1+0x1*0x4a7b]['z']=Xe[0x1*0x5e7+-0x50c+-0x1*0xd7]['z']=Xe[-0xb09+0x1a9d+-0xf8f]['z']=_0x6a39f1['z'];let _0x353e23=0x354fb3a42+-0x4f5e46b5+-0x58c887c7*0x2,_0x477493=-(-0x37e440aaf+-0x30*0xe531844+0x881e47b6e);for(let _0x2b52e3=-0x2590+-0x6c*0x20+-0x10*-0x331;_0x2b52e3<0x5*-0x4ee+0x2417*0x1+0x7f*-0x17;++_0x2b52e3){_0x11aeca['transformP'+'oint'](Xe[_0x2b52e3],Xe[_0x2b52e3]);const _0x4cecea=Xe[_0x2b52e3]['z'];_0x4cecea<_0x353e23&&(_0x353e23=_0x4cecea),_0x4cecea>_0x477493&&(_0x477493=_0x4cecea);}return sf['min']=_0x353e23,sf['max']=_0x477493,sf;}class kb{constructor(_0x2d9b06,_0x523c1b){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x2d9b06,this['shadowRend'+'erer']=_0x523c1b,this['device']=_0x2d9b06['device']);}['cull'](_0x708f5c,_0x3aa1a7,_0x7120c7,_0x5af846=null){_0x708f5c['visibleThi'+'sFrame']=!(0x2637+-0xc*0x74+-0x20c7),_0x708f5c['_shadowMap']||(_0x708f5c['_shadowMap']=va['create'](this['device'],_0x708f5c));const _0x572314=_0x7120c7['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x708f5c,_0x572314,Math['min'](_0x7120c7['_farClip'],_0x708f5c['shadowDist'+'ance']));const _0x461438=_0x708f5c['shadowUpda'+'teOverride'+'s'];for(let _0x347163=-0x8cf+-0x152+0xa21*0x1;_0x347163<_0x708f5c['numCascade'+'s']&&(_0x461438==null?void(0xd*0x245+-0xef+-0x2e*0x9f):_0x461438[_0x347163])!==Ps;_0x347163++){const _0xdf2022=_0x708f5c['getRenderD'+'ata'](_0x7120c7,_0x347163),_0x2ae527=_0xdf2022['shadowCame'+'ra'];_0x2ae527['renderTarg'+'et']=_0x708f5c['_shadowMap']['renderTarg'+'ets'][-0x2282+0x15e4+0x1*0xc9e],_0xdf2022['shadowView'+'port']['copy'](_0x708f5c['cascades'][_0x347163]),_0xdf2022['shadowScis'+'sor']['copy'](_0x708f5c['cascades'][_0x347163]);const _0x23b8cc=_0x2ae527['_node'],_0x326fd7=_0x708f5c['_node'];_0x23b8cc['setPositio'+'n'](_0x326fd7['getPositio'+'n']()),_0x23b8cc['setRotatio'+'n'](_0x326fd7['getRotatio'+'n']()),_0x23b8cc['rotateLoca'+'l'](-(-0x2*0x124c+-0x6b7*-0x2+0x46*0x56),-0x26c9*-0x1+-0x8d*-0x29+-0x1*0x3d5e,-0x1185+-0x27*0xbc+0x2e29);const _0x533c7f=_0x347163===0x63a+-0x9*-0x44+-0x89e?_0x572314:_0x708f5c['_shadowCas'+'cadeDistan'+'ces'][_0x347163-(0x565+0x175*-0xf+0x1077*0x1)],_0x65937=_0x708f5c['_shadowCas'+'cadeDistan'+'ces'][_0x347163],_0x3de3d0=_0x7120c7['getFrustum'+'Corners'](_0x533c7f,_0x65937);Ti['set'](-0x8c0+0x1eb6+-0x15f6,0x1db*0xd+0x23*0x55+-0x23be,0x1*0x645+-0x128b+0xc46);const _0x4eb122=_0x7120c7['node']['getWorldTr'+'ansform']();for(let _0x433d8c=-0x2504+0x2558+0x1*-0x54;_0x433d8c<-0x1d*0x10c+0x3*0x37+0x1dbf*0x1;_0x433d8c++)_0x4eb122['transformP'+'oint'](_0x3de3d0[_0x433d8c],_0x3de3d0[_0x433d8c]),Ti['add'](_0x3de3d0[_0x433d8c]);Ti['mulScalar']((-0x1091+0x205c+0x7e5*-0x2)/(0x10f3+0x1df7+-0x2ee2));let _0x36b757=0x4e3+-0x2615+0x2132;for(let _0x5487f1=-0x13*0x1c9+-0x44f+0x263a;_0x5487f1<-0x1*0xc22+0x14e3+0x1*-0x8b9;_0x5487f1++){const _0x8ad321=_0x3de3d0[_0x5487f1]['sub'](Ti)['length']();_0x8ad321>_0x36b757&&(_0x36b757=_0x8ad321);}const _0x369b67=_0x23b8cc['right'],_0x53bba7=_0x23b8cc['up'],_0x20a0bb=_0x23b8cc['forward'],_0x7d7235=(-0x4a9*-0x2+0x1e3b+-0x19*0x195+0.25)*_0x708f5c['_shadowRes'+'olution']/_0x36b757,_0x4d271f=Math['ceil'](Ti['dot'](_0x53bba7)*_0x7d7235)/_0x7d7235,_0x16ab7a=Math['ceil'](Ti['dot'](_0x369b67)*_0x7d7235)/_0x7d7235,_0x2705ee=_0x53bba7['mulScalar'](_0x4d271f),_0xd909ce=_0x369b67['mulScalar'](_0x16ab7a),_0x67aeeb=Ti['dot'](_0x20a0bb),_0x44e4b5=_0x20a0bb['mulScalar'](_0x67aeeb);Ti['add2'](_0x2705ee,_0xd909ce)['add'](_0x44e4b5),_0x23b8cc['setPositio'+'n'](Ti),_0x23b8cc['translateL'+'ocal'](-0x2068+-0x23d3+0x443b*0x1,0x5f1+0x127e*0x1+-0x186f,-0xb*0x29017+0x6f17e*-0x1+0x3264bb),_0x2ae527['nearClip']=-0x15b*0x11+0x9f9+-0x7*-0x1de+0.01,_0x2ae527['farClip']=0x227b71+-0x1a77d7+0x1680e6,_0x2ae527['orthoHeigh'+'t']=_0x36b757,this['renderer']['updateCame'+'raFrustum'](_0x2ae527),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3aa1a7,_0x708f5c,_0xdf2022['visibleCas'+'ters'],_0x2ae527,_0x5af846);const _0x3afd2b=0x1*0x21a9+0x1*0x1381+0x1*-0x3529<<_0x347163,_0x26bfcd=_0xdf2022['visibleCas'+'ters'],_0x134f3b=_0x26bfcd['length'];let _0x32fd1c=-0xf1a+-0xd0d+0x1c27;for(let _0x15680e=0x36c+0x1673+-0x25*0xb3;_0x15680e<_0x134f3b;_0x15680e++){const _0x5a98d1=_0x26bfcd[_0x15680e];_0x5a98d1['shadowCasc'+'adeMask']&_0x3afd2b&&(_0x26bfcd[_0x32fd1c++]=_0x5a98d1,_0x32fd1c===0x1ba9+0x1e5*-0x11+0x5*0xe9?lc['copy'](_0x5a98d1['aabb']):lc['add'](_0x5a98d1['aabb']));}_0x134f3b!==_0x32fd1c&&(_0x26bfcd['length']=_0x32fd1c),H_['copy'](_0x23b8cc['getWorldTr'+'ansform']())['invert']();const _0x260cd8=Nb(H_,lc['getMin'](),lc['getMax']());_0x23b8cc['translateL'+'ocal'](-0x16ab+0x26d4+0x3*-0x563,-0x10b3+0x18ae+-0x7fb,_0x260cd8['max']+(0x1033+-0x4*-0x486+-0x224b+0.1)),_0x2ae527['farClip']=_0x260cd8['max']-_0x260cd8['min']+(0x8f2+-0x2*-0x350+-0xf92+0.2),_0xdf2022['projection'+'Compensati'+'on']=_0x36b757;}}['generateSp'+'litDistanc'+'es'](_0x473680,_0x3f1b11,_0x4ff1d3){_0x473680['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x4ff1d3);for(let _0x3c0797=0x1ab3+0x1*0xe7a+0x1f*-0x154;_0x3c0797<_0x473680['numCascade'+'s'];_0x3c0797++){const _0x416e06=_0x3c0797/_0x473680['numCascade'+'s'],_0x54f764=_0x3f1b11+(_0x4ff1d3-_0x3f1b11)*_0x416e06,_0x14b8c1=_0x3f1b11*(_0x4ff1d3/_0x3f1b11)**_0x416e06,_0x2788eb=Y['lerp'](_0x54f764,_0x14b8c1,_0x473680['cascadeDis'+'tribution']);_0x473680['_shadowCas'+'cadeDistan'+'ces'][_0x3c0797-(0x87a+0x1*0x13ab+-0x1c24)]=_0x2788eb;}}['getLightRe'+'nderPass'](_0x353f47,_0x1f0f08){w['assert'](_0x353f47&&_0x353f47['_type']===ve);let _0x1b49b4=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x353f47)){const _0x5094ca=_0x353f47['numShadowF'+'aces'],_0x6bccf4=_0x353f47['shadowUpda'+'teOverride'+'s'];let _0x1143be=!(-0x1813*-0x1+-0x2341+0xb2e),_0x43801e;for(let _0x3e32dd=-0x1f35+0xb3*-0x36+-0x5*-0xdcb;_0x3e32dd<_0x5094ca;_0x3e32dd++)(_0x6bccf4==null?void(0x7e8+0x481*-0x4+0xa1c):_0x6bccf4[_0x3e32dd])===Ps&&(_0x1143be=!(-0xb96+-0x2*-0x1129+-0x16bb)),_0x43801e=this['shadowRend'+'erer']['prepareFac'+'e'](_0x353f47,_0x1f0f08,_0x3e32dd);_0x1b49b4=new Fb(this['device'],this['shadowRend'+'erer'],_0x353f47,_0x1f0f08,_0x1143be),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x1b49b4,_0x43801e,_0x1143be);}return _0x1b49b4;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x17d0+-0x1176+0x1d*-0x38),lo=new re(-0x1e51+0x1055+0x1*0xdfd,0xb4*0x31+0x1279+0x1a76*-0x2,0x1e66+-0xa29+-0x21*0x9d,0x1*-0x22c6+-0x1f89+-0x979*-0x7),X_=new te();function Ub(_0x32a177,_0x81e098){return Math['exp'](-(_0x32a177*_0x32a177)/((-0x3*-0xa39+-0x1*0xd9e+-0x110b)*_0x81e098*_0x81e098));}function Bb(_0x48652c){const _0x21428b=(_0x48652c-(-0x36*0x44+-0x2089*-0x1+-0x1230))/(0x1f*-0x31+0x22df*-0x1+-0x192*-0x1a),_0x287600=(_0x48652c-(0x12cd*-0x2+0xc49+-0x1cf*-0xe))*(0x22a3*0x1+-0x1435+-0xe6e+0.5),_0x55b9fb=new Array(_0x48652c);let _0x3634b6=0x1fc*-0x2+-0xcf7+-0xff*-0x11;for(let _0x6d5fbe=-0x1*0xed5+-0x1a8e+0x2963;_0x6d5fbe<_0x48652c;++_0x6d5fbe)_0x55b9fb[_0x6d5fbe]=Ub(_0x6d5fbe-_0x287600,_0x21428b),_0x3634b6+=_0x55b9fb[_0x6d5fbe];for(let _0x5b2174=-0xe7b*-0x2+0x19d4+-0x36ca;_0x5b2174<_0x48652c;++_0x5b2174)_0x55b9fb[_0x5b2174]/=_0x3634b6;return _0x55b9fb;}class Cv{constructor(_0x4f06c1,_0x1f8f4f){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x4f06c1['device'],this['renderer']=_0x4f06c1,this['lightTextu'+'reAtlas']=_0x1f8f4f);const _0x1ebfde=this['device']['scope'];this['sourceId']=_0x1ebfde['resolve']('source'),this['pixelOffse'+'tId']=_0x1ebfde['resolve']('pixelOffse'+'t'),this['weightId']=_0x1ebfde['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1ebfde['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x2476*-0x1+0xb48+-0x2fbd),!(-0xca*0x5+-0x1*0x191e+-0x427*-0x7),!(-0x49a+-0xdbb+-0x1256*-0x1),!(0x7d*0x3f+0x8*0x22+-0x1fd2));}static['createShad'+'owCamera'](_0x34e407,_0x2fa206,_0xccc920){const _0x157fd0=Wn['create']('ShadowCame'+'ra',_0x2fa206,_0xccc920),_0x4c4319=qi['get'](_0x34e407);w['assert'](_0x4c4319);const _0x2d616e=(_0x4c4319==null?void(-0x1c1f+0x18e4+0x33b):_0x4c4319['vsm'])??!(0x633+-0x3*-0x413+-0x126b),_0x45524a=(_0x4c4319==null?void(-0x22d0+-0x9e*-0x9+0x1d42):_0x4c4319['pcf'])??!(-0xd55*-0x2+-0x3d5*-0x9+-0x3d26);return _0x2d616e?_0x157fd0['clearColor']=new ie(0x11fc+0x2610+-0x380c,-0x1*0x157b+0x2ff+0x127c,-0x54*0x59+-0x223c+0x3f70,0x7*-0x39e+-0x13cb+-0x1*-0x2d1d):_0x157fd0['clearColor']=new ie(0x1cf+-0x2103+0x1f35,0x183d+-0x60f*-0x1+0x2f*-0xa5,0x21d1+-0x174d+0x17*-0x75,-0xc*-0x314+0x2e0+-0xd45*0x3),_0x157fd0['clearDepth'+'Buffer']=!(-0x1dc7+-0x170b+0x34d2),_0x157fd0['clearStenc'+'ilBuffer']=!(-0x1*-0x8ab+0x2*-0xb24+0x15*0xa6),_0x157fd0['clearColor'+'Buffer']=!_0x45524a,_0x157fd0;}['_cullShado'+'wCastersIn'+'ternal'](_0x14f361,_0x3aceea,_0x54c0f7){const _0x43c570=_0x14f361['length'];for(let _0x3a0168=0x1*0x2168+-0x1994+0x2*-0x3ea;_0x3a0168<_0x43c570;_0x3a0168++){const _0x22a5b5=_0x14f361[_0x3a0168];_0x22a5b5['castShadow']&&(!_0x22a5b5['cull']||_0x22a5b5['_isVisible'](_0x54c0f7))&&(_0x22a5b5['visibleThi'+'sFrame']=!(-0x17*0x6d+-0x2*0x50e+-0x5*-0x3fb),_0x3aceea['push'](_0x22a5b5));}}['cullShadow'+'Casters'](_0x121d9c,_0x166493,_0x7ddd04,_0x531cb0,_0x36b613){var _0x2657c4,_0x4454ef;if((_0x2657c4=this['renderer']['scene'])==null||_0x2657c4['fire'](mv,_0x531cb0),_0x7ddd04['length']=0x25ae+-0x945*-0x2+-0x3838,_0x36b613)this['_cullShado'+'wCastersIn'+'ternal'](_0x36b613,_0x7ddd04,_0x531cb0);else{const _0x5ac130=_0x121d9c['layerList'],_0x3d8e20=_0x5ac130['length'];for(let _0x6c8a4c=-0x139*0x3+0x33d*-0x3+-0x2*-0x6b1;_0x6c8a4c<_0x3d8e20;_0x6c8a4c++){const _0x51ccb9=_0x5ac130[_0x6c8a4c];_0x51ccb9['_lightsSet']['has'](_0x166493)&&(rf['has'](_0x51ccb9)||(rf['add'](_0x51ccb9),this['_cullShado'+'wCastersIn'+'ternal'](_0x51ccb9['shadowCast'+'ers'],_0x7ddd04,_0x531cb0)));}rf['clear']();}_0x7ddd04['sort'](this['sortCompar'+'eShader']),(_0x4454ef=this['renderer']['scene'])==null||_0x4454ef['fire'](_v,_0x531cb0);}['sortCompar'+'eShader'](_0x264b55,_0x1d7975){const _0xac69f9=_0x264b55['_sortKeySh'+'adow'],_0x345605=_0x1d7975['_sortKeySh'+'adow'];return _0xac69f9===_0x345605?_0x1d7975['mesh']['id']-_0x264b55['mesh']['id']:_0x345605-_0xac69f9;}['setupRende'+'rState'](_0x1c4007,_0x1b3ff4){const _0x24cbe8=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x1b3ff4['_isPcf']:_0x1b3ff4['_isPcf']&&_0x1b3ff4['_type']!==Ke;_0x1c4007['setBlendSt'+'ate'](_0x24cbe8?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x1c4007['setDepthSt'+'ate'](_0x1b3ff4['shadowDept'+'hState']),_0x1c4007['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x45c004,_0x5b4f2d,_0x5d8b38,_0x56ce0c){const _0x488637=_0x5b4f2d['_node'];_0x45c004['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x488637['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x45c004['attenuatio'+'nEnd'])),W_['setTRS'](_0x488637['getPositio'+'n'](),_0x488637['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x5b4f2d['projection'+'Matrix'],W_);const _0x3fb4df=_0x5d8b38['shadowView'+'port'];_0x5b4f2d['rect']=_0x3fb4df,_0x5b4f2d['scissorRec'+'t']=_0x5d8b38['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x3fb4df['x'],_0x3fb4df['y'],_0x3fb4df['z'],_0x3fb4df['w']),_0x5d8b38['shadowMatr'+'ix']['mul2'](X_,$_),_0x45c004['_type']===ve&&_0x45c004['_shadowMat'+'rixPalette']['set'](_0x5d8b38['shadowMatr'+'ix']['data'],_0x56ce0c*(0x1*-0x1227+0x2ef*0x2+0x1d*0x6d));}['getShadowP'+'ass'](_0x415676){var _0x49c422;const _0x2032c3=_0x415676['_type'],_0x4ccd91=_0x415676['_shadowTyp'+'e'];let _0x117ba5=(_0x49c422=this['shadowPass'+'Cache'][_0x2032c3])==null?void(-0xec8*0x2+0x2055*0x1+-0x2c5):_0x49c422[_0x4ccd91];if(!_0x117ba5){const _0x3d144c='ShadowPass'+'_'+_0x2032c3+'_'+_0x4ccd91;_0x117ba5=Si['get'](this['device'])['allocate'](_0x3d144c,{'isShadow':!(-0x2*0x59f+-0x1*0x113b+-0x1c79*-0x1),'lightType':_0x2032c3,'shadowType':_0x4ccd91}),this['shadowPass'+'Cache'][_0x2032c3]||(this['shadowPass'+'Cache'][_0x2032c3]=[]),this['shadowPass'+'Cache'][_0x2032c3][_0x4ccd91]=_0x117ba5;}return _0x117ba5['index'];}['submitCast'+'ers'](_0x1ac5df,_0xf9cbb8,_0x2ec376){var _0x332cb5;const _0x36b9cf=this['device'],_0x52767f=this['renderer'],_0x493d9=_0x52767f['scene'],_0x2c9710=0xa7a+-0x211*0x5+0x12*-0x2<<cm,_0x123b97=this['getShadowP'+'ass'](_0xf9cbb8),_0x2909b5=_0x2ec376['shaderPara'+'ms'],_0x1dc925=_0x2ec376['renderTarg'+'et']['flipY']?-(0xdf6+0x9e9*-0x1+-0x1c*0x25):0xec0+0x1db0+0x659*-0x7,_0x2b0ccd=_0x1ac5df['length'];for(let _0x48a3b9=0x21c6+0xa*0x13+-0x2284;_0x48a3b9<_0x2b0ccd;_0x48a3b9++){const _0x584582=_0x1ac5df[_0x48a3b9],_0x3f0a2b=_0x584582['mesh'],_0x3b8156=_0x584582['instancing'+'Data'];if(_0x3b8156&&_0x3b8156['count']<=-0x151e+0x25*-0x79+0x269b)continue;_0x584582['ensureMate'+'rial'](_0x36b9cf);const _0x2e85c0=_0x584582['material'];Q['pushGpuMar'+'ker'](_0x36b9cf,'Node:\x20'+_0x584582['node']['name']+(',\x20Material'+':\x20')+_0x2e85c0['name']),_0x52767f['setBaseCon'+'stants'](_0x36b9cf,_0x2e85c0),_0x52767f['setSkinnin'+'g'](_0x36b9cf,_0x584582),_0x2e85c0['dirty']&&(_0x2e85c0['updateUnif'+'orms'](_0x36b9cf,_0x493d9),_0x2e85c0['dirty']=!(0x1*0x141b+-0x116a+-0x8*0x56)),_0x52767f['setupCullM'+'ode'](!(0x3*0x4b+0x48c+-0x1*0x56d),_0x1dc925,_0x584582),_0x2e85c0['setParamet'+'ers'](_0x36b9cf),_0x584582['setParamet'+'ers'](_0x36b9cf,_0x2c9710);const _0x4603fe=_0x584582['getShaderI'+'nstance'](_0x123b97,-0xa82+-0x1*0x74f+0x1*0x11d1,_0x493d9,_0x2909b5,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x3ad310=_0x4603fe['shader'];if(w['assert'](_0x3ad310,'no\x20shader\x20'+'for\x20pass\x20'+_0x123b97,_0x2e85c0),_0x3ad310['failed'])continue;_0x584582['_sortKeySh'+'adow']=_0x3ad310['id'],_0x36b9cf['setShader'](_0x3ad310),_0x52767f['setVertexB'+'uffers'](_0x36b9cf,_0x3f0a2b),_0x52767f['setMorphin'+'g'](_0x36b9cf,_0x584582['morphInsta'+'nce']),_0x3b8156&&_0x36b9cf['setVertexB'+'uffer'](_0x3b8156['vertexBuff'+'er']),_0x52767f['setMeshIns'+'tanceMatri'+'ces'](_0x584582),_0x52767f['setupMeshU'+'niformBuff'+'ers'](_0x4603fe);const _0xbd6fa6=_0x584582['renderStyl'+'e'],_0x46055d=(_0x332cb5=_0x584582['indirectDa'+'ta'])==null?void(-0x773+-0x1f0d*0x1+0x2680):_0x332cb5['get'](_0x2ec376);_0x36b9cf['draw'](_0x3f0a2b['primitive'][_0xbd6fa6],_0x3f0a2b['indexBuffe'+'r'][_0xbd6fa6],_0x3b8156==null?void(-0x141b+0x2*0x132a+-0x1239):_0x3b8156['count'],_0x46055d),_0x52767f['_shadowDra'+'wCalls']++,_0x3b8156&&_0x52767f['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x36b9cf);}}['needsShado'+'wRendering'](_0x2e5fb1){const _0x2539ee=_0x2e5fb1['enabled']&&_0x2e5fb1['castShadow'+'s']&&_0x2e5fb1['shadowUpda'+'teMode']!==Ps&&_0x2e5fb1['visibleThi'+'sFrame'];return _0x2e5fb1['shadowUpda'+'teMode']===xr&&(_0x2e5fb1['shadowUpda'+'teMode']=Ps),_0x2539ee&&(this['renderer']['_shadowMap'+'Updates']+=_0x2e5fb1['numShadowF'+'aces']),_0x2539ee;}['getLightRe'+'nderData'](_0x4b6300,_0x2999fc,_0x2cca0a){return _0x4b6300['getRenderD'+'ata'](_0x4b6300['_type']===ve?_0x2999fc:null,_0x2cca0a);}['setupRende'+'rPass'](_0x5c8b7b,_0x89c9f0,_0x3b30b9){const _0x444050=_0x89c9f0['renderTarg'+'et'];_0x5c8b7b['init'](_0x444050),_0x5c8b7b['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x1bb4+-0x2105+0x3cba,_0x5c8b7b['depthStenc'+'ilOps']['clearDepth']=_0x3b30b9,_0x444050['depthBuffe'+'r']?_0x5c8b7b['depthStenc'+'ilOps']['storeDepth']=!(0x1*-0x755+0x84*-0x40+-0x19d*-0x19):(_0x5c8b7b['colorOps']['clearValue']['copy'](_0x89c9f0['clearColor']),_0x5c8b7b['colorOps']['clear']=_0x3b30b9,_0x5c8b7b['depthStenc'+'ilOps']['storeDepth']=!(0x10d*-0x1e+-0x5*-0x31d+0xff6)),_0x5c8b7b['requiresCu'+'bemaps']=!(0x5dd*-0x3+0xd1b+0x47d);}['prepareFac'+'e'](_0x3c5576,_0x353899,_0x1e0e91){const _0x1e5199=_0x3c5576['_type'],_0x50ae4b=this['getLightRe'+'nderData'](_0x3c5576,_0x353899,_0x1e0e91)['shadowCame'+'ra'],_0x1ab265=_0x1e5199===ve?0xd0e*0x2+0xe9*0xd+-0x25f1:_0x1e0e91;return _0x50ae4b['renderTarg'+'et']=_0x3c5576['_shadowMap']['renderTarg'+'ets'][_0x1ab265],_0x50ae4b;}['renderFace'](_0xb4b7bb,_0x50f4e1,_0xdb93d5,_0x4322c1,_0x386156=!(-0x63b+0x55e*0x3+-0x85*0x13)){const _0x568821=this['device'],_0x3a505b=de();Q['pushGpuMar'+'ker'](_0x568821,'SHADOW\x20'+_0xb4b7bb['_node']['name']+'\x20FACE\x20'+_0xdb93d5);const _0x3696f9=this['getLightRe'+'nderData'](_0xb4b7bb,_0x50f4e1,_0xdb93d5),_0x578a8a=_0x3696f9['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0xb4b7bb,_0x578a8a,_0x3696f9,_0xdb93d5);const _0x20d19e=_0x578a8a['renderTarg'+'et'],_0x584792=this['renderer'];_0x584792['setCameraU'+'niforms'](_0x578a8a,_0x20d19e),_0x568821['supportsUn'+'iformBuffe'+'rs']&&_0x584792['setupViewU'+'niformBuff'+'ers'](_0x3696f9['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x386156?(_0x584792['setupViewp'+'ort'](_0x578a8a,_0x20d19e),_0x4322c1&&_0x584792['clear'](_0x578a8a)):_0x584792['clearView'](_0x578a8a,_0x20d19e,!(0x2b+0x2*0x4b1+-0x1*0x98d),!(0x1*0xa7+-0x578+0x4d2*0x1)),this['setupRende'+'rState'](_0x568821,_0xb4b7bb),this['submitCast'+'ers'](_0x3696f9['visibleCas'+'ters'],_0xb4b7bb,_0x578a8a),Q['popGpuMark'+'er'](_0x568821),_0x584792['_shadowMap'+'Time']+=de()-_0x3a505b;}['render'](_0x24a8e0,_0x6ba813,_0x498f0e=!(0x42*0x4f+-0x2396+-0x79c*-0x2)){if(this['needsShado'+'wRendering'](_0x24a8e0)){const _0x437d5a=_0x24a8e0['numShadowF'+'aces'];for(let _0xfb7b10=-0x1*-0x235d+-0x20cd+-0x290;_0xfb7b10<_0x437d5a;_0xfb7b10++)this['prepareFac'+'e'](_0x24a8e0,_0x6ba813,_0xfb7b10),this['renderFace'](_0x24a8e0,_0x6ba813,_0xfb7b10,!(-0x23f1+-0xf8*-0x13+0x43*0x43),_0x498f0e);this['renderVsm'](_0x24a8e0,_0x6ba813);}}['renderVsm'](_0x11450a,_0x3a31b){_0x11450a['_isVsm']&&_0x11450a['_vsmBlurSi'+'ze']>0x59c+0x4*0x1ac+0x419*-0x3&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x11450a['_type']===ve)&&this['applyVsmBl'+'ur'](_0x11450a,_0x3a31b);}['getVsmBlur'+'Shader'](_0x33aaa9,_0x3b480a){const _0x41f2b1=this['blurVsmSha'+'der'];let _0xcfb94e=_0x41f2b1[_0x33aaa9][_0x3b480a];if(!_0xcfb94e){this['blurVsmWei'+'ghts'][_0x3b480a]=Bb(_0x3b480a);const _0x5cf94d=new Map();_0x5cf94d['set']('{SAMPLES}',_0x3b480a),_0x33aaa9===0x1a5*-0xb+-0xcdc+0x4*0x7bd&&_0x5cf94d['set']('GAUSS',''),_0xcfb94e=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x33aaa9+_0x3b480a,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x5cf94d}),_0x41f2b1[_0x33aaa9][_0x3b480a]=_0xcfb94e;}return _0xcfb94e;}['applyVsmBl'+'ur'](_0x44a073,_0x2d7115){const _0x1bfdb5=this['device'];Q['pushGpuMar'+'ker'](_0x1bfdb5,'VSM\x20'+_0x44a073['_node']['name']),_0x1bfdb5['setBlendSt'+'ate'](pt['NOBLEND']);const _0x2bcf77=_0x44a073['getRenderD'+'ata'](_0x44a073['_type']===ve?_0x2d7115:null,-0x26cc+0x2408+0x2c4)['shadowCame'+'ra']['renderTarg'+'et'],_0x1041ad=this['renderer']['shadowMapC'+'ache']['get'](_0x1bfdb5,_0x44a073),_0x2a2bc0=_0x1041ad['renderTarg'+'ets'][-0x5dd+0x1*0xda1+-0x7c4],_0x22905d=_0x44a073['vsmBlurMod'+'e'],_0x3eac46=_0x44a073['_vsmBlurSi'+'ze'],_0x17ee9f=this['getVsmBlur'+'Shader'](_0x22905d,_0x3eac46);lo['z']=_0x44a073['_shadowRes'+'olution']-(0x2*-0x1069+0x1e00+0x2d4),lo['w']=lo['z'],this['sourceId']['setValue'](_0x2bcf77['colorBuffe'+'r']),Fr[0x53*-0x2+0x20dc+-0xe*0x24d]=(0x12c5+0x2bf*0xa+0x171d*-0x2)/_0x44a073['_shadowRes'+'olution'],Fr[-0x1af0*0x1+0x1096+0x1*0xa5b]=0x26c+0x185e+-0x7f*0x36,this['pixelOffse'+'tId']['setValue'](Fr),_0x22905d===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x3eac46]),Ar(_0x1bfdb5,_0x2a2bc0,_0x17ee9f,null,lo),this['sourceId']['setValue'](_0x2a2bc0['colorBuffe'+'r']),Fr[-0x53*-0x74+0xa75+-0x301*0x10]=Fr[0x761*0x2+-0x16b5+0x7f3],Fr[0x3c*0x1c+-0x1d89+0x16f9]=-0x1526+0x509+0x101d*0x1,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x1bfdb5,_0x2bcf77,_0x17ee9f,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x44a073,_0x1041ad),Q['popGpuMark'+'er'](_0x1bfdb5);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x1c923b){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x1c923b;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x34bb52=>{_0x34bb52['destroy']();}),this['_allocated']['length']=0x2*-0x6bb+-0xd*-0x287+0xf*-0x14b;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x562846=new cu(this['device']);_0x562846['name']='ClusterEmp'+'ty',_0x562846['update']([]),this['_empty']=_0x562846;}return this['_empty'];}['assign'](_0x2fc6b6){const _0x400afb=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x1df*0x11+0x377*0x4+0x11f3,this['_clusters']['clear']();const _0x1d24f3=_0x2fc6b6['length'];for(let _0x3bb7b9=0x1*0x126+-0x12cc+0x11a6;_0x3bb7b9<_0x1d24f3;_0x3bb7b9++){const _0x4cd592=_0x2fc6b6[_0x3bb7b9]['renderActi'+'ons'];if(_0x4cd592){const _0x932837=_0x4cd592['length'];for(let _0x26e635=0x4*-0x21a+-0x10a+0x972;_0x26e635<_0x932837;_0x26e635++){const _0x28cbcd=_0x4cd592[_0x26e635];_0x28cbcd['lightClust'+'ers']=null;const _0x4dd773=_0x28cbcd['layer'];if(_0x4dd773['hasCluster'+'edLights']&&_0x4dd773['meshInstan'+'ces']['length']){const _0x256285=_0x4dd773['getLightId'+'Hash'](),_0x1f0672=this['_clusters']['get'](_0x256285);let _0x445a0c=_0x1f0672==null?void(-0xb49*0x2+-0xfef*-0x1+0x6a3*0x1):_0x1f0672['lightClust'+'ers'];_0x445a0c||(_0x445a0c=cc['pop']()??new cu(this['device']),Ea['setName'](_0x445a0c,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x445a0c),this['_clusters']['set'](_0x256285,_0x28cbcd)),_0x28cbcd['lightClust'+'ers']=_0x445a0c;}_0x28cbcd['lightClust'+'ers']||(_0x28cbcd['lightClust'+'ers']=_0x400afb);}}}cc['forEach'](_0x1252ef=>_0x1252ef['destroy']()),cc['length']=0xd63+-0xacc+0x27*-0x11;}['update'](_0x5e9306,_0x101332){this['assign'](_0x5e9306),this['_clusters']['forEach'](_0x133eec=>{const _0x43b755=_0x133eec['layer'];_0x133eec['lightClust'+'ers']['update'](_0x43b755['clusteredL'+'ightsSet'],_0x101332);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x541fc9,_0x706db6){super(_0x541fc9),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0xd3*-0x2f+0x458+-0x397*0xc)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x706db6,this['requiresCu'+'bemaps']=!(-0x5*0x75a+0x1b5f+0x964),this['blitTextur'+'eId']=_0x541fc9['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x541fc9['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x541fc9['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x5b0103,_0x740c4,_0x474f17;(_0x5b0103=this['_quadRende'+'rer2D'])==null||_0x5b0103['destroy'](),this['_quadRende'+'rer2D']=null,(_0x740c4=this['_quadRende'+'rerCube'])==null||_0x740c4['destroy'](),this['_quadRende'+'rerCube']=null,(_0x474f17=this['_evtDevice'+'Restored'])==null||_0x474f17['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x51b70e,_0x2ce3ca){w['assert'](_0x51b70e);const _0x32a037=new pm(_0x51b70e['device'],_0x2ce3ca);return _0x32a037['init'](_0x51b70e),_0x32a037['colorOps']['clear']=!(-0x10db*-0x1+-0x192e+0x854),_0x32a037['depthStenc'+'ilOps']['clearDepth']=!(-0x4cc*0x4+-0x773+0x1aa4),_0x32a037;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x12*0x1dd+0x1*-0x26e+-0x1f1c);}['update'](_0x4b0c46){const _0x4ab88a=this['_filteredL'+'ights'];this['filter'](_0x4b0c46,_0x4ab88a),this['executeEna'+'bled']=_0x4ab88a['length']>0x7b*0xf+0x5a1+-0xcd6;}['filter'](_0x347359,_0x13f469){for(let _0x1b27b3=-0x2*-0x12b7+0x10d5*-0x1+0x1*-0x1499;_0x1b27b3<_0x347359['length'];_0x1b27b3++){const _0x3df4e7=_0x347359[_0x1b27b3];_0x3df4e7['_type']!==ve&&_0x3df4e7['atlasViewp'+'ortAllocat'+'ed']&&(!_0x3df4e7['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x3df4e7['enabled']&&_0x3df4e7['cookie']&&_0x3df4e7['visibleThi'+'sFrame']&&_0x13f469['push'](_0x3df4e7));}this['_forceCopy']=!(-0xa4*-0x2c+0xb6*-0x7+-0x1735);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x1be9be=0x34d*-0x4+0x2125+0x1*-0x13f1;_0x1be9be<0x10b*-0x15+-0x239e+-0x398b*-0x1;_0x1be9be++){const _0x1d528b=Wn['create'](null,Ke,_0x1be9be),_0x29f590=_0x1d528b['projection'+'Matrix'],_0x7ff029=_0x1d528b['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x1be9be]=new te()['mul2'](_0x29f590,_0x7ff029)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0xc35b47=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0xc35b47);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x367b06=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x367b06);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x2e8cba=this['device'];_0x2e8cba['setBlendSt'+'ate'](pt['NOBLEND']),_0x2e8cba['setCullMod'+'e'](bt),_0x2e8cba['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2e8cba['setStencil'+'State']();const _0x4d62e5=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x26587a=this['_cubeSlots'+'Offsets'],_0x2d8319=this['_filteredL'+'ights'];for(let _0x51d82c=0x2555+-0x71f+-0x509*0x6;_0x51d82c<_0x2d8319['length'];_0x51d82c++){const _0x2131fe=_0x2d8319[_0x51d82c];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x2131fe['_node']['name']);const _0x274aa5=_0x2131fe['numShadowF'+'aces'],_0x572a8d=_0x274aa5>-0x19fd+-0x73c*-0x1+0x12c2?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x274aa5>-0x1fcc+-0x1040+0x300d&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x2131fe['cookie']);for(let _0x4e5dca=0xb8a+-0x15bb+0xa31*0x1;_0x4e5dca<_0x274aa5;_0x4e5dca++){if(rr['copy'](_0x2131fe['atlasViewp'+'ort']),_0x274aa5>0x53a+0x141e+-0xd*0x1f3){const _0x53d323=rr['z']/(0x1*0xd96+-0x2*0x1f5+-0x9a9),_0x178255=_0x26587a[_0x4e5dca];rr['x']+=_0x53d323*_0x178255['x'],rr['y']+=_0x53d323*_0x178255['y'],rr['z']=_0x53d323,rr['w']=_0x53d323,this['invViewPro'+'jId']['setValue'](af[_0x4e5dca]['data']);}rr['mulScalar'](_0x4d62e5),_0x572a8d['render'](rr);}Q['popGpuMark'+'er'](_0x2e8cba);}_0x2d8319['length']=-0x1894+-0xa1*-0x1c+0x6f8;}}class Vb extends ys{constructor(_0x3e752d,_0x7ccb99,_0x18855f){super(_0x3e752d),this['requiresCu'+'bemaps']=!(-0x158c+-0x1*-0x1565+0x2*0x14),this['shadowRend'+'erer']=_0x7ccb99,this['shadowRend'+'ererLocal']=_0x18855f;}['update'](_0x5c58c4){const _0x3ac1a8=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4e5853=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3ac1a8,_0x5c58c4),_0x3b9892=_0x3ac1a8['length'];this['enabled']=_0x3b9892>-0x42c*-0x5+-0x1f6e+0xa92,_0x3b9892&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x4e5853,!(0x1*0x1285+0x251b+0x1d*-0x1eb));}['execute'](){const _0x56274b=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x3b8082=_0x56274b['length'];for(let _0x5c9fc5=-0x883+0x2*-0xaa1+-0x1*-0x1dc5;_0x5c9fc5<_0x3b8082;_0x5c9fc5++){const _0x3299c9=_0x56274b[_0x5c9fc5];for(let _0x5db7d4=0x3*0x795+0x2634+-0x1*0x3cf3;_0x5db7d4<_0x3299c9['numShadowF'+'aces'];_0x5db7d4++)this['shadowRend'+'erer']['renderFace'](_0x3299c9,null,_0x5db7d4,!(0xa0*-0x20+0xf2d+0x4d3));}_0x56274b['length']=0x1e05+0x1*0x1d39+-0x1*0x3b3e;}}class Gb extends ys{constructor(_0x3c0577,_0x3904a7,_0x2f75d1,_0x549bf1,_0x44f8da){super(_0x3c0577),this['renderer']=_0x3904a7,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x44f8da['cookieRend'+'erTarget'],_0x44f8da['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x3c0577,_0x2f75d1,_0x549bf1),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x4aadc5,_0x24c8ea,_0x8dee2e,_0x158da0,_0x5f4bd8){this['frameGraph']=_0x4aadc5,this['cookiesRen'+'derPass']['enabled']=_0x8dee2e,_0x8dee2e&&this['cookiesRen'+'derPass']['update'](_0x158da0),this['shadowRend'+'erPass']['enabled']=_0x24c8ea,_0x24c8ea&&this['shadowRend'+'erPass']['update'](_0x5f4bd8);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x4ac5f8=de(),{renderer:_0x1f8729}=this,{scene:_0x19a7c3}=_0x1f8729;_0x1f8729['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x19a7c3['lighting']),_0x1f8729['_lightClus'+'tersTime']+=de()-_0x4ac5f8,_0x1f8729['_lightClus'+'ters']=_0x1f8729['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x2685+0x12a7+-0x392c;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x1*-0x1d3b+0x3d*-0x32+-0x2926*-0x1,-(0xc*0x245+0x92*0x14+0x44b*-0x9),-0xcd4+0xd03+0x2e*-0x1),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x1430+0xf4*0xb+0x3*-0xa39,0x1b93+0x1fee*-0x1+0x45b*0x1,0xd*-0x113+-0x261d*0x1+0x3*0x115c,-0xc39+-0x89*-0x12+0x297*0x1,0x73*0x23+0x4*0x731+0x65b*-0x7,-0xd*0x199+0x1bed+-0x727*0x1,0x345+-0x7*-0x21+-0x59*0xc,0x1f*0xd5+-0x243a+0xa6f,-0x1f5d+-0xc1*-0xa+0x17d3,0x868+-0x91f+0xb7,0x1def+-0x11b7+0xb8*-0x11+0.5,0x253a+0x24d8+0x1f3*-0x26,-0x5*0x4c+0x1*-0x2f5+0x17b*0x3,0x46*0x2+-0x1*0x21ff+0x2173,-0x1be*-0x13+-0x1*-0x17a5+-0x38bf*0x1+0.5,0x101f+0x7f9+-0x7*0x371]),K_=[new J(0xf75+0x331+-0x12a6+0.5,-0x1*-0xdb7+-0x101c+-0x265*-0x1+0.333333),new J(0xf40*-0x1+-0xb44+0x1a84+0.25,-0x51*-0x13+-0x1*-0x24d3+-0x2ad6*0x1+0.666667),new J(-0x205f+-0x2155+-0x349*-0x14+0.75,-0x1f70+-0x421+0x3*0xbdb+0.111111),new J(0xbd2+0x1129*-0x1+-0x557*-0x1+0.125,0x627+0x5*0x15d+0x19f*-0x8+0.444444),new J(0x3*-0xb2b+0x6*-0x167+-0x5fd*-0x7+0.625,-0x10e+0x174e+-0x1640+0.777778),new J(-0x2*0x846+0xa22*0x1+0x66a+0.375,-0x1*0x1981+0x1*-0x24a9+0x1*0x3e2a+0.222222),new J(-0x1*0x1cf1+0xb53+0x119e+0.875,0x92d+0x1*0x1468+-0x1d95*0x1+0.555556),new J(0x62d*-0x3+0x561+0xd26+0.0625,-0x3*0xc70+0x4*0x844+0x440+0.888889),new J(-0x1*0x4d6+0x270e+0x92*-0x3c+0.5625,-0x114*-0x9+-0xc43+-0x83*-0x5+0.037037),new J(-0x2*0x7dc+0x24a5*0x1+0x14ed*-0x1+0.3125,-0x1*0x12b7+-0x1*0x1c69+-0x1d*-0x1a0+0.37037),new J(-0x1*-0x202d+0x16d5+-0x3702+0.8125,0x168c+-0x13c0+0xb3*-0x4+0.703704),new J(0x63c+0x14f1*0x1+0x305*-0x9+0.1875,-0x884+0xe*0x14a+-0x131*0x8+0.148148),new J(0xd*0xb+-0xe*0x26e+0x2175+0.6875,0x17d4+-0x1624+0x6c*-0x4+0.481481),new J(0x1af9*-0x1+0x22e1+-0x7e8+0.4375,-0x1*-0x17d0+0x1*-0xbf5+-0xbdb+0.814815),new J(-0x9e+-0x222a+0x22c8+0.9375,0x2658+0x1f3*0x7+0x1*-0x33fd+0.259259),new J(-0x14fe+-0x3*0x4cf+0x236b+0.03125,0x1e4a+-0xec3+-0xf87+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x259773){h(this,'clustersDe'+'bugRendere'+'d',!(-0x2*-0xbb4+-0x1792+0x2b)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x6f*-0x35+-0x2201*0x1+0xb81)),(this['device']=_0x259773,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x259773),this['lightTextu'+'reAtlas']=new Ib(_0x259773),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x1c72+0x258b+-0x919,this['_morphTime']=-0x21f*-0xa+-0xfe3*-0x1+-0x2519*0x1,this['_cullTime']=-0x12c7+0x2*0xde5+-0x3*0x301,this['_shadowMap'+'Time']=-0x1*0x5f3+0x8f5+-0x302,this['_lightClus'+'tersTime']=-0x303*0x6+0x2ab*0x1+0xf67,this['_layerComp'+'ositionUpd'+'ateTime']=0x1*-0x1726+0x11f6+0x10*0x53,this['_shadowDra'+'wCalls']=0x181f+-0x67c+0x285*-0x7,this['_skinDrawC'+'alls']=-0x2*-0x33d+0xadf+0x1159*-0x1,this['_instanced'+'DrawCalls']=-0x14d2+-0x1f31+0x3403,this['_shadowMap'+'Updates']=0x2313+-0x9f*0x16+0x261*-0x9,this['_numDrawCa'+'llsCulled']=0x1*-0x12b5+-0x1bdf+0x2e94,this['_camerasRe'+'ndered']=-0x14f*0x2+0x11c5+0x50d*-0x3,this['_lightClus'+'ters']=0x2*-0x9a3+0x1258+0xee);const _0x3427e6=_0x259773['scope'];this['boneTextur'+'eId']=_0x3427e6['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x3427e6['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x3427e6['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x3427e6['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1b18+-0x2102+0x3c1d),this['viewPosId']=_0x3427e6['resolve']('view_posit'+'ion'),this['projId']=_0x3427e6['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x3427e6['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x3427e6['resolve']('matrix_vie'+'w'),this['viewId3']=_0x3427e6['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x3427e6['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x3427e6['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x3427e6['resolve']('tbnBasis'),this['nearClipId']=_0x3427e6['resolve']('camera_nea'+'r'),this['farClipId']=_0x3427e6['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x109c*0x1+0x74*0x4a+-0x322*0x10),this['cameraPara'+'msId']=_0x3427e6['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x3427e6['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0x81a+-0x12a7+0xa8d),this['blueNoiseJ'+'itterVersi'+'on']=-0x27*-0xbd+0x1647*0x1+0x3312*-0x1,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x200*-0x2+-0x972+-0x2*-0x6bb),this['blueNoiseJ'+'itterId']=_0x3427e6['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x3427e6['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x3427e6['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x3427e6['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x3427e6['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x3427e6['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x1b22*-0x1+0x328*0x3+-0x249a),this['morphPosit'+'ionTex']=_0x3427e6['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x3427e6['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x3427e6['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x3427e6['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x48d5a5,_0x5a4411){const _0x3cac00=this['device'],_0xf95146=_0x5a4411?_0x5a4411['width']:_0x3cac00['width'],_0x129f82=_0x5a4411?_0x5a4411['height']:_0x3cac00['height'],_0x2683a8=_0x48d5a5['rect'];let _0x31a92f=Math['floor'](_0x2683a8['x']*_0xf95146),_0x45b4f0=Math['floor'](_0x2683a8['y']*_0x129f82),_0xd8e87f=Math['floor'](_0x2683a8['z']*_0xf95146),_0x20fe64=Math['floor'](_0x2683a8['w']*_0x129f82);if(_0x3cac00['setViewpor'+'t'](_0x31a92f,_0x45b4f0,_0xd8e87f,_0x20fe64),_0x48d5a5['_scissorRe'+'ctClear']){const _0x525c1d=_0x48d5a5['scissorRec'+'t'];_0x31a92f=Math['floor'](_0x525c1d['x']*_0xf95146),_0x45b4f0=Math['floor'](_0x525c1d['y']*_0x129f82),_0xd8e87f=Math['floor'](_0x525c1d['z']*_0xf95146),_0x20fe64=Math['floor'](_0x525c1d['w']*_0x129f82);}_0x3cac00['setScissor'](_0x31a92f,_0x45b4f0,_0xd8e87f,_0x20fe64);}['setCameraU'+'niforms'](_0x12d237,_0xb17e23){var _0x5aa391,_0xb0f0b0;const _0x4fffa6=_0xb17e23==null?void(-0xb6*0x1b+0x5c1+-0x6f*-0x1f):_0xb17e23['flipY'];let _0x42b12c=null;if(_0x12d237['xr']&&_0x12d237['xr']['session']){const _0x4839a0=((_0xb0f0b0=(_0x5aa391=_0x12d237['_node'])==null?void(0x20c0+0x215e+0xd*-0x516):_0x5aa391['parent'])==null?void(-0x1*0x42b+0x7e*0x13+-0x1*0x52f):_0xb0f0b0['getWorldTr'+'ansform']())||null;_0x42b12c=_0x12d237['xr']['views']['list'];for(let _0x1550aa=0x14*-0x107+-0x2579+0x1*0x3a05;_0x1550aa<_0x42b12c['length'];_0x1550aa++){const _0x47b79c=_0x42b12c[_0x1550aa];_0x47b79c['updateTran'+'sforms'](_0x4839a0),_0x12d237['frustum']['setFromMat'+'4'](_0x47b79c['projViewOf'+'fMat']);}}else{let _0x19bbce=_0x12d237['projection'+'Matrix'];_0x12d237['calculateP'+'rojection']&&_0x12d237['calculateP'+'rojection'](_0x19bbce,ec);let _0x5477bf=_0x12d237['getProject'+'ionMatrixS'+'kybox']();_0x4fffa6&&(_0x19bbce=Hb['mul2'](j_,_0x19bbce),_0x5477bf=Wb['mul2'](j_,_0x5477bf)),this['device']['isWebGPU']&&(_0x19bbce=$b['mul2'](Y_,_0x19bbce),_0x5477bf=Xb['mul2'](Y_,_0x5477bf));const {jitter:_0x35e229}=_0x12d237;let _0x160773=-0x1*0xa3d+0x741*-0x4+0x1*0x2741,_0x154057=0x1*0x9ee+0x6bf*-0x2+-0x98*-0x6;if(_0x35e229>-0x1*0x1aa5+0xdd*-0xa+0x2347){const _0x62e69c=_0xb17e23?_0xb17e23['width']:this['device']['width'],_0x9ec6db=_0xb17e23?_0xb17e23['height']:this['device']['height'],_0x153952=K_[this['device']['renderVers'+'ion']%K_['length']];_0x160773=_0x35e229*(_0x153952['x']*(-0x158e+0x1be7*0x1+-0x657)-(-0x203f+0x58d+0x557*0x5))/_0x62e69c,_0x154057=_0x35e229*(_0x153952['y']*(0x11bd+0x1a9d+-0x2c58)-(-0x1070+0x421*-0x3+0x14*0x171))/_0x9ec6db,_0x19bbce=qb['copy'](_0x19bbce),_0x19bbce['data'][0x1ce6+-0x3a9*0x2+-0x158c]=_0x160773,_0x19bbce['data'][-0x2*0xdf+0x1*0x1cc6+-0x1aff*0x1]=_0x154057,_0x5477bf=jb['copy'](_0x5477bf),_0x5477bf['data'][0x1*-0x2055+-0x2*-0xa91+0xb3b]=_0x160773,_0x5477bf['data'][0x121a+0x11*0x227+0x1a8*-0x21]=_0x154057,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x3bc26f=_0x35e229>0x2364+0x12b6*-0x2+0x208?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x8e*-0x13+-0x1c85+0x11fb]=_0x3bc26f['x'],this['blueNoiseJ'+'itterData'][-0x2e5*0xc+-0x2*0x2e7+0x288b]=_0x3bc26f['y'],this['blueNoiseJ'+'itterData'][-0x19e6+0x64b+0x139d]=_0x3bc26f['z'],this['blueNoiseJ'+'itterData'][-0x47b+0xb2d+-0x6af]=_0x3bc26f['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x19bbce['data']),this['projSkybox'+'Id']['setValue'](_0x5477bf['data']),_0x12d237['calculateT'+'ransform'])_0x12d237['calculateT'+'ransform'](nr,ec);else{const _0x4bf894=_0x12d237['_node']['getPositio'+'n'](),_0x3abb0b=_0x12d237['_node']['getRotatio'+'n']();nr['setTRS'](_0x4bf894,_0x3abb0b,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x19bbce,Oa),this['viewProjId']['setValue'](ar['data']),_0x12d237['_storeShad'+'erMatrices'](ar,_0x160773,_0x154057,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x4fffa6?-(0x2450+-0x3db*-0x7+-0x3f4c):-0x1*0xa04+-0x1478*-0x1+-0xa73),this['dispatchVi'+'ewPos'](_0x12d237['_node']['getPositio'+'n']()),_0x12d237['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x4fffa6?-(-0x1f29*0x1+0x2398+-0x46e):-0x1913*-0x1+-0xb*-0x1d3+0x2d23*-0x1);const _0x309dee=_0x12d237['_nearClip'],_0x552335=_0x12d237['_farClip'];return this['nearClipId']['setValue'](_0x309dee),this['farClipId']['setValue'](_0x552335),this['cameraPara'+'ms'][0x2002+0x14a1+-0x19*0x21b]=(-0x17ba+-0x1e4*0x3+-0x3*-0x9cd)/_0x552335,this['cameraPara'+'ms'][-0x1*0x5f+0xc40+-0xbe0]=_0x552335,this['cameraPara'+'ms'][-0x2aa*0x7+0x6f9+0xbaf*0x1]=_0x309dee,this['cameraPara'+'ms'][0x1119+-0x12c1+-0x1*-0x1ab]=_0x12d237['projection']===En?-0x4*0x6f2+-0x36f+0x1f38:-0xb57+-0x268f+-0x6*-0x851,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x12d237['getExposur'+'e']():this['scene']['exposure']),_0x42b12c;}['clear'](_0x35184f,_0x4004ea,_0x4ef8fd,_0x93c0ea){const _0x2f153d=(_0x4004ea??_0x35184f['_clearColo'+'rBuffer']?jo:-0x12*-0xb7+-0xb*-0x21f+-0x3*0xc11)|(_0x4ef8fd??_0x35184f['_clearDept'+'hBuffer']?Yo:0x1*-0x2051+-0x131a+-0x336b*-0x1)|(_0x93c0ea??_0x35184f['_clearSten'+'cilBuffer']?ch:0xc2f*-0x2+-0x53*0x18+0x1013*0x2);if(_0x2f153d){const _0x22cf31=this['device'];Q['pushGpuMar'+'ker'](_0x22cf31,'CLEAR'),_0x22cf31['clear']({'color':[_0x35184f['_clearColo'+'r']['r'],_0x35184f['_clearColo'+'r']['g'],_0x35184f['_clearColo'+'r']['b'],_0x35184f['_clearColo'+'r']['a']],'depth':_0x35184f['_clearDept'+'h'],'stencil':_0x35184f['_clearSten'+'cil'],'flags':_0x2f153d}),Q['popGpuMark'+'er'](_0x22cf31);}}['setCamera'](_0x477eaa,_0x409f59,_0x1df504,_0x224cc1=null){this['setCameraU'+'niforms'](_0x477eaa,_0x409f59),this['clearView'](_0x477eaa,_0x409f59,_0x1df504,!(0x14ef+-0x10bb*-0x1+-0x25a9));}['clearView'](_0x15510e,_0x38157f,_0x310996,_0x2b16db){const _0x1a7e24=this['device'];if(Q['pushGpuMar'+'ker'](_0x1a7e24,'CLEAR-VIEW'),_0x1a7e24['setRenderT'+'arget'](_0x38157f),_0x1a7e24['updateBegi'+'n'](),_0x2b16db&&(_0x1a7e24['setColorWr'+'ite'](!(0x1*0x234e+0x136*-0xc+-0x2*0xa63),!(-0x76b*-0x2+0x1fd9*-0x1+0x1103),!(0x3*0x409+0x40a*0x9+-0x33b*0xf),!(0x1452*-0x1+0x924+0x2*0x597)),_0x1a7e24['setDepthWr'+'ite'](!(-0xdda+-0x21a9+0x2f83))),this['setupViewp'+'ort'](_0x15510e,_0x38157f),_0x310996){const _0x12d0ea=_0x15510e['_clearOpti'+'ons'];_0x1a7e24['clear'](_0x12d0ea||{'color':[_0x15510e['_clearColo'+'r']['r'],_0x15510e['_clearColo'+'r']['g'],_0x15510e['_clearColo'+'r']['b'],_0x15510e['_clearColo'+'r']['a']],'depth':_0x15510e['_clearDept'+'h'],'flags':(_0x15510e['_clearColo'+'rBuffer']?jo:0x639+-0x269f+0x3a*0x8f)|(_0x15510e['_clearDept'+'hBuffer']?Yo:-0x1c30+0x5*-0x2ef+-0xe49*-0x3)|(_0x15510e['_clearSten'+'cilBuffer']?ch:-0x7*0x157+0x1e42+-0x1*0x14e1),'stencil':_0x15510e['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x1a7e24);}['setupCullM'+'ode'](_0x4ef12a,_0x567576,_0x4a70a5){const _0xfebde7=_0x4a70a5['material'];let _0x176696=bt;if(_0x4ef12a){let _0x6df41f=-0x1e21+-0x7*-0x38a+0x157*0x4;(_0xfebde7['cull']===Fo||_0xfebde7['cull']===pa)&&(_0x6df41f=_0x567576*_0x4a70a5['flipFacesF'+'actor']*_0x4a70a5['node']['worldScale'+'Sign']),_0x6df41f<-0x12*-0xdd+-0x5*-0x5a7+-0x2bcd?_0x176696=_0xfebde7['cull']===Fo?pa:Fo:_0x176696=_0xfebde7['cull'];}this['device']['setCullMod'+'e'](_0x176696),_0x176696===bt&&_0xfebde7['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x4a70a5['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x212a6b){if(_0x212a6b['xr']&&_0x212a6b['xr']['views']['list']['length']){const _0x30eba3=_0x212a6b['xr']['views']['list'][-0x30a+0x1*0x1312+-0x1008];ar['mul2'](_0x30eba3['projMat'],_0x30eba3['viewOffMat']),_0x212a6b['frustum']['setFromMat'+'4'](ar);return;}const _0x5992f7=_0x212a6b['projection'+'Matrix'];if(_0x212a6b['calculateP'+'rojection']&&_0x212a6b['calculateP'+'rojection'](_0x5992f7,ec),_0x212a6b['calculateT'+'ransform'])_0x212a6b['calculateT'+'ransform'](nr,ec);else{const _0x1b98c7=_0x212a6b['_node']['getPositio'+'n'](),_0x55f324=_0x212a6b['_node']['getRotatio'+'n']();nr['setTRS'](_0x1b98c7,_0x55f324,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x5992f7,Oa),_0x212a6b['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x29bb7b,_0x3a3712){_0x29bb7b['setCullMod'+'e'](_0x3a3712['cull']),_0x3a3712['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x3a3712['opacityMap']),(_0x3a3712['opacityMap']||_0x3a3712['alphaTest']>0x1*0x1349+0x1b10+0x153*-0x23)&&this['alphaTestI'+'d']['setValue'](_0x3a3712['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x21e459){nf++;const _0x38446e=_0x21e459['length'];if(_0x38446e===0x2*0x5fa+-0x820+0x23*-0x1c)return;const _0x56bef2=de();for(let _0x9e2e0=0x1*0x1a6+-0x1*-0x2039+0x29b*-0xd;_0x9e2e0<_0x38446e;_0x9e2e0++){const _0x4c275f=_0x21e459[_0x9e2e0]['skinInstan'+'ce'];_0x4c275f&&(_0x4c275f['updateMatr'+'ices'](_0x21e459[_0x9e2e0]['node'],nf),_0x4c275f['_dirty']=!(0x21*0xa7+-0xfa9+-0x1*0x5de));}this['_skinTime']+=de()-_0x56bef2;}['updateGpuS'+'kinMatrice'+'s'](_0x2e051f){const _0x1b4501=de();for(const _0x1c2495 of _0x2e051f){const _0x302a57=_0x1c2495['skinInstan'+'ce'];_0x302a57&&_0x302a57['_dirty']&&(_0x302a57['updateMatr'+'ixPalette'](_0x1c2495['node'],nf),_0x302a57['_dirty']=!(-0x2136+-0x3*0xa9c+0x1*0x410b));}this['_skinTime']+=de()-_0x1b4501;}['updateMorp'+'hing'](_0x3748dc){const _0x2ff705=de();for(const _0x1ee049 of _0x3748dc){const _0x171b1f=_0x1ee049['morphInsta'+'nce'];_0x171b1f&&_0x171b1f['_dirty']&&_0x171b1f['update']();}this['_morphTime']+=de()-_0x2ff705;}['updateGSpl'+'ats'](_0x206b76){var _0x1e5195;for(const _0x1392a3 of _0x206b76)(_0x1e5195=_0x1392a3['gsplatInst'+'ance'])==null||_0x1e5195['update']();}['gpuUpdate'](_0x1ce9a0){this['updateGpuS'+'kinMatrice'+'s'](_0x1ce9a0),this['updateMorp'+'hing'](_0x1ce9a0),this['updateGSpl'+'ats'](_0x1ce9a0);}['setVertexB'+'uffers'](_0x2a9151,_0x2da57b){_0x2a9151['setVertexB'+'uffer'](_0x2da57b['vertexBuff'+'er']);}['setMorphin'+'g'](_0x3fb565,_0x421858){_0x421858&&(_0x421858['prepareRen'+'dering'](_0x3fb565),_0x3fb565['setVertexB'+'uffer'](_0x421858['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x421858['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x421858['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x421858['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x411988,_0x5a8c9e){const _0x446f09=_0x5a8c9e['skinInstan'+'ce'];if(_0x446f09){this['_skinDrawC'+'alls']++;const _0x302641=_0x446f09['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x302641);}}['dispatchVi'+'ewPos'](_0x510d61){const _0x1dfae1=this['viewPos'];_0x1dfae1[-0x1f67*-0x1+0x225d+0x1071*-0x4]=_0x510d61['x'],_0x1dfae1[0xf43+-0x2*-0x8ff+-0x8*0x428]=_0x510d61['y'],_0x1dfae1[0x1329+-0xb5*-0x1+-0x13dc]=_0x510d61['z'],this['viewPosId']['setValue'](_0x1dfae1);}['initViewBi'+'ndGroupFor'+'mat'](_0x1c685d){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2e630e=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x1c685d&&_0x2e630e['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x2e630e);const _0x531914=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x531914);}}['setupViewU'+'niforms'](_0x172b43,_0x2e3c60){this['projId']['setValue'](_0x172b43['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x172b43['projMat']['data']),this['viewId']['setValue'](_0x172b43['viewOffMat']['data']),this['viewInvId']['setValue'](_0x172b43['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x172b43['viewMat3']['data']),this['viewProjId']['setValue'](_0x172b43['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x172b43['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x2e3c60);}['setupViewU'+'niformBuff'+'ers'](_0x1a6484,_0x42cdb0,_0x65b382,_0x311418){w['assert'](Array['isArray'](_0x1a6484),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x257f78}=this,_0x435df5=(_0x311418==null?void(-0xc36+-0xe61+-0x1*-0x1a97):_0x311418['length'])??0x1*0x18a7+0x1cab+-0x3551*0x1;for(;_0x1a6484['length']<_0x435df5;){const _0x4afc5e=new zp(_0x257f78,_0x42cdb0,!(-0x1b35+0x9e*-0x1a+0x2b42)),_0xe5cbff=new Up(_0x257f78,_0x65b382,_0x4afc5e);Ea['setName'](_0xe5cbff,'ViewBindGr'+'oup_'+_0xe5cbff['id']),_0x1a6484['push'](_0xe5cbff);}if(_0x311418)for(let _0x1586d8=-0x4*-0x2fc+-0x156d+0x97d;_0x1586d8<_0x435df5;_0x1586d8++){const _0x208880=_0x311418[_0x1586d8];this['setupViewU'+'niforms'](_0x208880,_0x1586d8);const _0x340a13=_0x1a6484[_0x1586d8];_0x340a13['defaultUni'+'formBuffer']['update'](),_0x340a13['update']();}else{const _0x9b3596=_0x1a6484[-0x208c+-0x6d*0x17+0x2a57];_0x9b3596['defaultUni'+'formBuffer']['update'](),_0x9b3596['update']();}_0x311418||_0x257f78['setBindGro'+'up'](rl,_0x1a6484[-0x2c5*0x1+0x2144+-0x1e7f*0x1]);}['setupMeshU'+'niformBuff'+'ers'](_0x2f4d92){const _0x5a527c=this['device'];if(_0x5a527c['supportsUn'+'iformBuffe'+'rs']){const _0x288177=_0x2f4d92['getBindGro'+'up'](_0x5a527c);_0x288177['update'](),_0x5a527c['setBindGro'+'up'](Oy,_0x288177),_0x2f4d92['getUniform'+'Buffer'](_0x5a527c)['update'](hf),_0x5a527c['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x5a5992,_0x475661=!(0xb17*0x3+0x88c+-0x8*0x53a)){const _0x6e0342=_0x5a5992['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x6e0342['data']),_0x475661&&this['normalMatr'+'ixId']['setValue'](_0x5a5992['node']['normalMatr'+'ix']['data']);}['cull'](_0x52d56f,_0x3f79f6,_0x591fa8){const _0x3e2fa0=de(),_0x35c293=_0x591fa8['opaque'];_0x35c293['length']=-0xfea+0xd42+0x2a8;const _0x5bb286=_0x591fa8['transparen'+'t'];_0x5bb286['length']=0x8f8+0xa38+-0x1330;const _0x54f188=_0x52d56f['frustumCul'+'ling'],_0x5e2cd0=_0x3f79f6['length'];for(let _0x2d36c0=-0x1eaa+0xacd+0xf*0x153;_0x2d36c0<_0x5e2cd0;_0x2d36c0++){const _0x2428c5=_0x3f79f6[_0x2d36c0];_0x2428c5['visible']&&(!_0x54f188||!_0x2428c5['cull']||_0x2428c5['_isVisible'](_0x52d56f))&&(_0x2428c5['visibleThi'+'sFrame']=!(-0x131e*-0x1+-0x307+-0x1017),(_0x2428c5['transparen'+'t']?_0x5bb286:_0x35c293)['push'](_0x2428c5),(_0x2428c5['skinInstan'+'ce']||_0x2428c5['morphInsta'+'nce']||_0x2428c5['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x2428c5),_0x2428c5['gsplatInst'+'ance']&&_0x2428c5['gsplatInst'+'ance']['cameras']['push'](_0x52d56f)));}this['_cullTime']+=de()-_0x3e2fa0,this['_numDrawCa'+'llsCulled']+=_0x54f188?_0x5e2cd0:0x1abb*0x1+0x1*-0xab8+-0x1003;}['collectLig'+'hts'](_0x33e189){this['lights']['length']=-0x4*-0x3ee+-0x22b1+0x1*0x12f9,this['localLight'+'s']['length']=0x69c+-0x1*-0x214f+-0x3a1*0xb;const _0x548510=this['scene']['_stats'];_0x548510['dynamicLig'+'hts']=-0x252+-0x3d*0x20+0x9f2,_0x548510['bakedLight'+'s']=-0x2ef*0xb+-0xe12+0x2e57*0x1;const _0x15b7a1=_0x33e189['layerList']['length'];for(let _0x450c86=-0x1*-0x2159+-0xa3*-0x2b+-0x1e5d*0x2;_0x450c86<_0x15b7a1;_0x450c86++){const _0x2fdcf6=_0x33e189['layerList'][_0x450c86];if(!cf['has'](_0x2fdcf6)){cf['add'](_0x2fdcf6);const _0x3c18f2=_0x2fdcf6['_lights'];for(let _0x5df7df=-0x696*-0x5+-0x6d9+-0x1a15;_0x5df7df<_0x3c18f2['length'];_0x5df7df++){const _0x59d010=_0x3c18f2[_0x5df7df];lf['has'](_0x59d010)||(lf['add'](_0x59d010),this['lights']['push'](_0x59d010),_0x59d010['_type']!==ve&&this['localLight'+'s']['push'](_0x59d010),(_0x59d010['mask']&Ss||_0x59d010['mask']&di)&&_0x548510['dynamicLig'+'hts']++,_0x59d010['mask']&fi&&_0x548510['bakedLight'+'s']++);}}}_0x548510['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x2e3ada,_0x5c2ad9){const _0x1d40bd=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2e23bc=this['scene']['physicalUn'+'its'];for(let _0x3a634a=-0x1085*0x1+-0x2*0x556+-0x1*-0x1b31;_0x3a634a<_0x5c2ad9['length'];_0x3a634a++){const _0x67f561=_0x5c2ad9[_0x3a634a];if(_0x67f561['enabled']){if(_0x67f561['_type']!==ve){if(_0x67f561['getBoundin'+'gSphere'](of),_0x2e3ada['frustum']['containsSp'+'here'](of)){_0x67f561['visibleThi'+'sFrame']=!(-0x7bd*0x3+-0x1*-0x1e22+-0x6eb),_0x67f561['usePhysica'+'lUnits']=_0x2e23bc;const _0x1b064c=_0x2e3ada['getScreenS'+'ize'](of);_0x67f561['maxScreenS'+'ize']=Math['max'](_0x67f561['maxScreenS'+'ize'],_0x1b064c);}else _0x1d40bd||_0x67f561['castShadow'+'s']&&!_0x67f561['shadowMap']&&(_0x67f561['visibleThi'+'sFrame']=!(-0x2260+-0x57*0x1c+0xd4*0x35));}else _0x67f561['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x264de6){const _0x5110be=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x29fe84=0x7f*-0x2c+-0x1*-0x248b+0x1*-0xeb7;_0x29fe84<this['localLight'+'s']['length'];_0x29fe84++){const _0x283aa0=this['localLight'+'s'][_0x29fe84];_0x283aa0['_type']!==ve&&(_0x5110be?_0x283aa0['atlasSlotU'+'pdated']&&_0x283aa0['shadowUpda'+'teMode']===Ps&&(_0x283aa0['shadowUpda'+'teMode']=xr):_0x283aa0['shadowUpda'+'teMode']===Ps&&_0x283aa0['castShadow'+'s']&&(_0x283aa0['getRenderD'+'ata'](null,-0x2d*-0xc3+-0x3*-0xad0+0x1*-0x42b7)['shadowCame'+'ra']['renderTarg'+'et']||(_0x283aa0['shadowUpda'+'teMode']=xr)),_0x283aa0['visibleThi'+'sFrame']&&_0x283aa0['castShadow'+'s']&&_0x283aa0['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x283aa0,_0x264de6));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x2d7849=_0x264de6['cameras'];for(let _0x34245f=-0x1d4c+0x1b1*-0xb+-0x2fe7*-0x1;_0x34245f<_0x2d7849['length'];_0x34245f++){const _0x52ba21=_0x2d7849[_0x34245f];if(_0x52ba21['enabled']){const _0x174f36=_0x52ba21['camera'];let _0x4a4f8c;const _0xd346fa=_0x174f36['layers'];for(let _0x57bac2=-0x5eb+-0xca7+0x2*0x949;_0x57bac2<_0xd346fa['length'];_0x57bac2++){const _0x57d769=_0x264de6['getLayerBy'+'Id'](_0xd346fa[_0x57bac2]);if(_0x57d769){const _0x43ff9a=_0x57d769['splitLight'+'s'][ve];for(let _0x9e65bb=-0xe5*0x1e+-0x49*0x47+0x2f15;_0x9e65bb<_0x43ff9a['length'];_0x9e65bb++){const _0x209c94=_0x43ff9a[_0x9e65bb];_0x209c94['castShadow'+'s']&&!Fa['has'](_0x209c94)&&(Fa['add'](_0x209c94),_0x4a4f8c=_0x4a4f8c??[],_0x4a4f8c['push'](_0x209c94),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x209c94,_0x264de6,_0x174f36));}}}_0x4a4f8c&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x174f36,_0x4a4f8c),Fa['clear']();}}}['cullCompos'+'ition'](_0x1fa227){const _0x45c176=de(),{scene:_0x45bb22}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xb1db00=_0x1fa227['cameras']['length'];this['_camerasRe'+'ndered']+=_0xb1db00;for(let _0x4d1757=-0x1cce+-0x61*0x1f+0x288d;_0x4d1757<_0xb1db00;_0x4d1757++){const _0x139b1e=_0x1fa227['cameras'][_0x4d1757];_0x45bb22==null||_0x45bb22['fire'](mv,_0x139b1e);const _0x5cef73=_0x139b1e['renderTarg'+'et'];_0x139b1e['frameUpdat'+'e'](_0x5cef73),this['updateCame'+'raFrustum'](_0x139b1e['camera']);const _0x514abc=_0x139b1e['layers'];for(let _0x8c4ba3=0x133c+0x8fd+-0x1c39;_0x8c4ba3<_0x514abc['length'];_0x8c4ba3++){const _0x2dc5e9=_0x1fa227['getLayerBy'+'Id'](_0x514abc[_0x8c4ba3]);if(_0x2dc5e9&&_0x2dc5e9['enabled']){this['cullLights'](_0x139b1e['camera'],_0x2dc5e9['_lights']);const _0x344529=_0x2dc5e9['getCulledI'+'nstances'](_0x139b1e['camera']);this['cull'](_0x139b1e['camera'],_0x2dc5e9['meshInstan'+'ces'],_0x344529);}}_0x45bb22==null||_0x45bb22['fire'](_v,_0x139b1e);}_0x45bb22['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x1fa227),_0x45bb22==null||_0x45bb22['fire'](lE),this['_cullTime']+=de()-_0x45c176;}['updateShad'+'ers'](_0x591637,_0x338ae7){const _0x5eba0b=_0x591637['length'];for(let _0x2949ba=-0x472+-0x1*-0x1f4e+-0x1adc;_0x2949ba<_0x5eba0b;_0x2949ba++){const _0x4fb6c9=_0x591637[_0x2949ba]['material'];if(_0x4fb6c9&&!Fa['has'](_0x4fb6c9)&&(Fa['add'](_0x4fb6c9),_0x4fb6c9['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x338ae7&&(!_0x4fb6c9['useLightin'+'g']||_0x4fb6c9['emitter']&&!_0x4fb6c9['emitter']['lighting']))continue;_0x4fb6c9['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x255d28){const _0x4bc436=this['scene'],_0xcb4da1=_0x4bc436['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4c5df2=0x7*-0x1f3+0x260+0xb45;const _0x134302=_0x255d28['layerList'],_0x5c3d0b=_0x134302['length'];for(let _0x39b44c=0x1*-0x1d87+0x1a8*-0xd+0x1105*0x3;_0x39b44c<_0x5c3d0b;_0x39b44c++){const _0x571e93=_0x134302[_0x39b44c]['meshInstan'+'ces'],_0x2ec52f=_0x571e93['length'];_0x4c5df2+=_0x2ec52f;for(let _0x2b9950=-0x236+0x20c4*0x1+-0x1e8e;_0x2b9950<_0x2ec52f;_0x2b9950++){const _0x375b61=_0x571e93[_0x2b9950];_0x375b61['visibleThi'+'sFrame']=!(-0x961+0x23b2+-0x1a50),_0xcb4da1&&df['push'](_0x375b61),_0x375b61['skinInstan'+'ce']&&ff['push'](_0x375b61);}}if(_0x4bc436['_stats']['meshInstan'+'ces']=_0x4c5df2,_0xcb4da1){const _0xfea95b=!_0x4bc436['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0xfea95b),_0x4bc436['updateShad'+'ers']=!(0x16*0xb0+0x204c+-0x3d*0xc7),this['device']['_shadersDi'+'rty']=!(0x1*0x9db+-0x48+-0x46*0x23),_0x4bc436['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x3*0x2f9+-0x4*-0xa0+-0xb6b,ff['length']=-0x173b+0x19ed*-0x1+-0x34*-0xf2;const _0x5bf8af=this['lights'],_0x46f7b5=_0x5bf8af['length'];for(let _0x322a82=-0x696+0x17e9*0x1+-0x1153;_0x322a82<_0x46f7b5;_0x322a82++)_0x5bf8af[_0x322a82]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x223376){const _0x5e0ce6=de(),_0x2b08c1=_0x223376['layerList']['length'],_0x4f1e15=this['scene']['_shaderVer'+'sion'];for(let _0x1b6654=0xfc0+0x22ab+-0x326b;_0x1b6654<_0x2b08c1;_0x1b6654++){const _0x4eb7eb=_0x223376['layerList'][_0x1b6654];_0x4eb7eb['_shaderVer'+'sion']=_0x4f1e15,_0x4eb7eb['_skipRende'+'rCounter']=0x527+0x1994+-0x1*0x1ebb,_0x4eb7eb['_forwardDr'+'awCalls']=0x247*-0xb+-0x148*-0x19+0x1*-0x6fb,_0x4eb7eb['_shadowDra'+'wCalls']=0x24d9+0x189b+-0x3d74,_0x4eb7eb['_renderTim'+'e']=-0x6fe+0x4*-0x241+0x2ab*0x6;}_0x223376['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x5e0ce6;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1*-0x225c+-0xe3*0xf+0x2faa),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0xb10+0x433+0x3e*-0x3f),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0xcf7*0x3+-0xa58*0x1+-0x1c8c),this['clearDepth']=!(-0x176+0x185a*0x1+-0x16e3),this['clearStenc'+'il']=!(-0x20d+-0x1*0x19b8+-0xa*-0x2c7),this['triggerPos'+'tprocess']=!(0x23*-0xa9+0x17a1+-0x85),this['firstCamer'+'aUse']=!(-0x2630+-0xb9b+-0x18e6*-0x2),this['lastCamera'+'Use']=!(-0x32*-0xaf+0x26b*0xb+-0x3cc6),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1*-0x17b3+-0xb1b*-0x1+0xc99));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3e0473=>{_0x3e0473['defaultUni'+'formBuffer']['destroy'](),_0x3e0473['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*-0xc89+0x151e+0x21a7*-0x1;}['setupClear'+'s'](_0x2bdfab,_0x344f91){this['clearColor']=(_0x2bdfab==null?void(-0xbb8*-0x1+-0x2333+0x177b*0x1):_0x2bdfab['clearColor'+'Buffer'])||_0x344f91['clearColor'+'Buffer'],this['clearDepth']=(_0x2bdfab==null?void(-0x11*-0xa3+-0x1327*0x1+-0x4*-0x215):_0x2bdfab['clearDepth'+'Buffer'])||_0x344f91['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x2bdfab==null?void(-0x2479*-0x1+-0x431+0x2048*-0x1):_0x2bdfab['clearStenc'+'ilBuffer'])||_0x344f91['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x50fcd7,_0xfb4dad,_0x340a38,_0x5e7f51){super(_0x50fcd7),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0xfe3+-0x2*0x11dd+-0x1*-0x339e)),(this['layerCompo'+'sition']=_0xfb4dad,this['scene']=_0x340a38,this['renderer']=_0x5e7f51);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x1019+-0x1*0x1571+0x258a;}['addRenderA'+'ction'](_0x90f677){this['renderActi'+'ons']['push'](_0x90f677);}['addLayer'](_0x18ad25,_0x2b931c,_0x1e06ac,_0xc562ff=!(0x105*-0x17+-0x120b*0x2+0x3b89)){w['assert'](_0x18ad25),w['assert'](this['renderTarg'+'et']!==void(-0x105+-0x1*0x1d6+-0x11*-0x2b),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x18ad25['camera']['layersSet']['has'](_0x2b931c['id']),'Camera\x20'+_0x18ad25['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x2b931c['name']+'.');const _0x3ca880=new Pv();if(_0x3ca880['renderTarg'+'et']=this['renderTarg'+'et'],_0x3ca880['camera']=_0x18ad25,_0x3ca880['layer']=_0x2b931c,_0x3ca880['transparen'+'t']=_0x1e06ac,_0xc562ff){const _0xdc4871=this['renderActi'+'ons']['length']===-0x1*0x1a54+0x318*0x1+0x173c;_0x3ca880['setupClear'+'s'](_0xdc4871?_0x18ad25:void(0x1*-0x1ed+0x2*-0xb3c+-0x1*-0x1865),_0x2b931c);}this['addRenderA'+'ction'](_0x3ca880);}['addLayers'](_0x440031,_0x28604e,_0xdf1354,_0x1f7c50,_0x20dd58,_0x47bffc=!(-0x24ff+-0x22c6+0x47c5*0x1)){const {layerList:_0x59bb18,subLayerList:_0x10372e}=_0x440031;let _0x570b8e=_0x1f7c50,_0x3c7fac=_0xdf1354;for(;_0x3c7fac<_0x59bb18['length'];){const _0x463075=_0x59bb18[_0x3c7fac],_0x29a80a=_0x10372e[_0x3c7fac];if(_0x28604e['camera']['layersSet']['has'](_0x463075['id'])&&(this['addLayer'](_0x28604e,_0x463075,_0x29a80a,_0x570b8e),_0x570b8e=!(-0xb3+0x2c*0x89+-0x16d8)),_0x3c7fac++,_0x463075['id']===_0x20dd58&&_0x29a80a===_0x47bffc)break;}return _0x3c7fac;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x2765a1,renderActions:_0x35e5d1}=this;for(let _0xf491b1=0xb*0x20b+0x1b86+0x1*-0x31ff;_0xf491b1<_0x35e5d1['length'];_0xf491b1++){const _0x293a36=_0x35e5d1[_0xf491b1]['camera']['camera'],_0x571e15=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x293a36);if(_0x571e15)for(let _0xff6260=0x11*0x15d+0x8c*-0x13+-0xcc9;_0xff6260<_0x571e15['length'];_0xff6260++){const _0x5ad657=_0x571e15[_0xff6260];if(_0x2765a1['dirLightSh'+'adows']['get'](_0x5ad657)!==_0x293a36){_0x2765a1['dirLightSh'+'adows']['set'](_0x5ad657,_0x293a36);const _0x37f250=_0x2765a1['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x5ad657,_0x293a36);_0x37f250&&this['beforePass'+'es']['push'](_0x37f250);}}}}['updateClea'+'rs'](){const _0x55e428=this['renderActi'+'ons'][-0x3*0xa21+-0x425+0x4*0x8a2];if(_0x55e428){const _0xa84c87=_0x55e428['camera']['camera'],_0xb155b4=_0xa84c87['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0xb155b4&&_0x55e428['clearColor']?_0xa84c87['clearColor']:void(0x1*0x21e7+-0x12e7*0x1+-0xf00)),this['setClearDe'+'pth'](_0xb155b4&&_0x55e428['clearDepth']&&!this['noDepthCle'+'ar']?_0xa84c87['clearDepth']:void(0x13+-0x284*-0x1+0xd*-0x33)),this['setClearSt'+'encil'](_0xb155b4&&_0x55e428['clearStenc'+'il']?_0xa84c87['clearStenc'+'il']:void(0x40*-0x7a+0x24dd+-0x3*0x21f));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x73aa68}=this;for(let _0xfe7e3e=0x17b8+-0x1760+0x8*-0xb;_0xfe7e3e<_0x73aa68['length'];_0xfe7e3e++){const _0x3b588b=_0x73aa68[_0xfe7e3e];_0x3b588b['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x3b588b['camera']);}}['execute'](){const {layerComposition:_0x20d3a4,renderActions:_0x3ad679}=this;for(let _0x13c27d=-0x1*-0x2be+0x1*0x41+0x3b*-0xd;_0x13c27d<_0x3ad679['length'];_0x13c27d++){const _0x259b14=_0x3ad679[_0x13c27d],_0x1cb5c6=_0x259b14['layer'];w['call'](()=>{_0x20d3a4['getLayerBy'+'Name'](_0x1cb5c6['name'])||w['warnOnce']('Layer\x20'+_0x1cb5c6['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x20d3a4['isEnabled'](_0x1cb5c6,_0x259b14['transparen'+'t'])&&this['renderRend'+'erAction'](_0x259b14,_0x13c27d===-0x9ac+-0x635*0x3+0x1c4b);}}['after'](){for(let _0x496a0c=0x2074+-0x106e+-0x1006;_0x496a0c<this['renderActi'+'ons']['length'];_0x496a0c++){const _0x3b3846=this['renderActi'+'ons'][_0x496a0c];_0x3b3846['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x3b3846['camera']);}this['beforePass'+'es']['length']=0x2320+0x1279+-0x3599;}['renderRend'+'erAction'](_0x5ac690,_0x2d6c5a){var _0xb695ca;const {renderer:_0x490c09,scene:_0x314b66}=this,_0x3c28bf=_0x490c09['device'],{layer:_0xc3e332,transparent:_0x17d884,camera:_0x1090ca}=_0x5ac690;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x1090ca?_0x1090ca['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0xc3e332['name']+'('+(_0x17d884?'TRANSP':'OPAQUE')+')');const _0x1f5028=de();if(_0x1090ca){const _0x125558=_0x1090ca['gammaCorre'+'ction'],_0x1577bf=_0x1090ca['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x20ab+0x172b+-0x37d6)&&(_0x1090ca['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x199*-0x10+0x1734+-0x30c4)&&(_0x1090ca['toneMappin'+'g']=this['toneMappin'+'g']),_0x314b66['fire'](nE,_0x1090ca,_0xc3e332,_0x17d884);const _0x48295b={'lightClusters':_0x5ac690['lightClust'+'ers']},_0x47f782=((_0xb695ca=_0x1090ca['camera']['shaderPass'+'Info'])==null?void(-0x6fb*0x3+0xc54+-0x1*-0x89d):_0xb695ca['index'])??Aa;(!_0x2d6c5a||!_0x1090ca['camera']['fullSizeCl'+'earRect'])&&(_0x48295b['clearColor']=_0x5ac690['clearColor'],_0x48295b['clearDepth']=_0x5ac690['clearDepth'],_0x48295b['clearStenc'+'il']=_0x5ac690['clearStenc'+'il']);const _0x37e128=_0x5ac690['renderTarg'+'et']??_0x3c28bf['backBuffer'];_0x490c09['renderForw'+'ardLayer'](_0x1090ca['camera'],_0x37e128,_0xc3e332,_0x17d884,_0x47f782,_0x5ac690['viewBindGr'+'oups'],_0x48295b),_0x3c28bf['setBlendSt'+'ate'](pt['NOBLEND']),_0x3c28bf['setStencil'+'State'](null,null),_0x3c28bf['setAlphaTo'+'Coverage'](!(0x1040+-0xa7*0x19+-0x4*-0x4)),_0x314b66['fire'](oE,_0x1090ca,_0xc3e332,_0x17d884),this['gammaCorre'+'ction']!==void(0x68c*-0x1+-0xa*-0x290+-0x4*0x4c5)&&(_0x1090ca['gammaCorre'+'ction']=_0x125558),this['toneMappin'+'g']!==void(-0x1*-0x1fb6+-0x1de3+-0x1d3)&&(_0x1090ca['toneMappin'+'g']=_0x1577bf);}Q['popGpuMark'+'er'](this['device']),_0xc3e332['_renderTim'+'e']+=de()-_0x1f5028;}['log'](_0x5e3278,_0x35f651){if(super['log'](_0x5e3278,_0x35f651),mi['get'](cn)){const {layerComposition:_0x354b30}=this;this['renderActi'+'ons']['forEach']((_0x503b5a,_0x4bbe7a)=>{const _0x471e12=_0x503b5a['layer'],_0x35f210=_0x471e12['enabled']&&_0x354b30['isEnabled'](_0x471e12,_0x503b5a['transparen'+'t']),_0x5284c2=_0x503b5a['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x4bbe7a+':'+('\x20Cam:\x20'+(_0x5284c2?_0x5284c2['entity']['name']:'-'))['padEnd'](0x19fb+-0x1a*0x11b+0x2d9,'\x20')+('\x20Lay:\x20'+_0x471e12['name'])['padEnd'](0x1*0x1b92+0x1d*0x29+-0x2021,'\x20')+(_0x503b5a['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x35f210?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x471e12['meshInstan'+'ces']['length'])['padEnd'](-0x21ce+0x6c4+0x1b0f,'\x20'));});}}}class Zb extends ys{constructor(_0x474750,_0x47b5c4,_0x2bb221){super(_0x474750),this['renderer']=_0x47b5c4,this['renderActi'+'on']=_0x2bb221,this['requiresCu'+'bemaps']=!(0x11b7+-0x1e1+0x7*-0x243);}['execute'](){const _0x1bd94d=this['renderActi'+'on'],_0x16083d=_0x1bd94d['camera'];w['assert'](_0x1bd94d['triggerPos'+'tprocess']&&_0x16083d['onPostproc'+'essing']),_0x16083d['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x791+-0x2*-0x9fd+-0x1b8b,this['shaderInst'+'ances']['length']=0x19c5+-0x8f4*-0x1+0x3*-0xb93,this['isNewMater'+'ial']['length']=-0x1663+-0x2e5+-0x652*-0x4,this['lightMaskC'+'hanged']['length']=-0x6c0+-0x6b*0x41+-0x13*-0x1c9;}};function Jb(_0x5d1f75){const _0x2ca2a0=[];for(let _0x3d54ac=-0x27a+-0x37*-0x47+-0xcc7;_0x3d54ac<_0x5d1f75;++_0x3d54ac){const _0x2c4486=Math['sqrt'](_0x3d54ac+(-0x92a+-0x3*0x7c+0xa9e+0.5))/Math['sqrt'](_0x5d1f75);_0x2ca2a0['push'](_0x2c4486);}return _0x2ca2a0;}function eA(_0x21c316){const _0x58e598=[];for(let _0x207c65=0x5e2+0x48a+-0xa6c;_0x207c65<_0x21c316;_0x207c65++){const _0x4f0370=_0x207c65/_0x21c316,_0x1a6a99=Math['sqrt'](_0x4f0370*_0x4f0370);_0x58e598['push'](_0x1a6a99);}return _0x58e598;}const Ni=class Ni extends Yb{constructor(_0x4a1026){super(_0x4a1026);const _0x11aedd=this['device'];this['_forwardDr'+'awCalls']=0x21*0x99+0x6e5+-0x1*0x1a9e,this['_materialS'+'witches']=-0x556+-0x2*-0x2bb+-0x1*0x20,this['_depthMapT'+'ime']=-0x12f4+-0x22b*-0x9+0xd*-0xb,this['_forwardTi'+'me']=0x10b1+-0x49b+-0x1ba*0x7,this['_sortTime']=0xd29+0x1563+-0x228c;const _0x100dca=_0x11aedd['scope'];this['fogColorId']=_0x100dca['resolve']('fog_color'),this['fogStartId']=_0x100dca['resolve']('fog_start'),this['fogEndId']=_0x100dca['resolve']('fog_end'),this['fogDensity'+'Id']=_0x100dca['resolve']('fog_densit'+'y'),this['ambientId']=_0x100dca['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x100dca['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x100dca['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x100dca['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x100dca['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x100dca['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x10e9+-0x2117+0x1032),this['fogColor']=new Float32Array(0x1*0x1a3a+0x1*-0x13c9+-0x66e),this['ambientCol'+'or']=new Float32Array(0x24f2*0x1+0x9*-0x3ba+-0x365),this['pcssDiskSa'+'mples']=Jb(0x49*-0x71+0x2d*0x97+0x5be),this['pcssSphere'+'Samples']=eA(0x123c+-0x1*-0x8d+-0x12b9);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x29805d){const _0x476b75=this['ambientCol'+'or'];if(or['linear'](_0x29805d['ambientLig'+'ht']),_0x476b75[-0x10bd+0x181f+-0xe*0x87]=or['r'],_0x476b75[0x1a26+0x5c*-0x46+0x17*-0xb]=or['g'],_0x476b75[-0x55b+-0x1*-0x162a+-0x187*0xb]=or['b'],_0x29805d['physicalUn'+'its']){for(let _0x2330b4=0x1*0x1b1+-0x220b+-0x52*-0x65;_0x2330b4<-0x4*0x41f+0x8d+0xd*0x13a;_0x2330b4++)_0x476b75[_0x2330b4]*=_0x29805d['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x476b75),this['skyboxInte'+'nsityId']['setValue'](_0x29805d['physicalUn'+'its']?_0x29805d['skyboxLumi'+'nance']:_0x29805d['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x29805d['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x418935,_0x126301){const _0x39cc96='light'+_0x126301;this['lightColor'+'Id'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_color'),this['lightDir'][_0x126301]=new Float32Array(0x12ce+0x43a+-0x53*0x47),this['lightDirId'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_direction'),this['lightShado'+'wMapId'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_radius'),this['lightPos'][_0x126301]=new Float32Array(0xc7b+0x1da*-0x8+0x258),this['lightPosId'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_position'),this['lightWidth'][_0x126301]=new Float32Array(-0x24*-0x63+0xdf7+-0x4*0x6f8),this['lightWidth'+'Id'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_halfWidth'),this['lightHeigh'+'t'][_0x126301]=new Float32Array(0x21d6+0x1*0x130a+-0x34dd),this['lightHeigh'+'tId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x126301]=_0x418935['resolve'](_0x39cc96+'_cookie'),this['lightCooki'+'eIntId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x126301]=_0x418935['resolve'](_0x39cc96+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x2747f0,_0x139875,_0x1dafb7,_0x395a12,_0x32ee48){this['lightPos'][_0x139875][0x1bba+0x1185+-0x2d3f]=_0x395a12['x']-_0x1dafb7['x']*_0x32ee48,this['lightPos'][_0x139875][0xe4c+0x1157+-0x1fa2]=_0x395a12['y']-_0x1dafb7['y']*_0x32ee48,this['lightPos'][_0x139875][0x16*-0x51+0x3e*-0x7+-0x8aa*-0x1]=_0x395a12['z']-_0x1dafb7['z']*_0x32ee48,this['lightPosId'][_0x139875]['setValue'](this['lightPos'][_0x139875]);const _0x135a3e=_0x2747f0['transformV'+'ector'](new D(-(-0x23ed*0x1+-0x118*-0x1e+0x31d+0.5),0x244a+0x1468+-0x2*0x1c59,0xedb+0x49b*-0x1+-0xa40));this['lightWidth'][_0x139875][0x1*0x194e+0x2297+-0x10d*0x39]=_0x135a3e['x']*_0x32ee48,this['lightWidth'][_0x139875][0x3*-0x139+0x1a30*-0x1+0x93*0x34]=_0x135a3e['y']*_0x32ee48,this['lightWidth'][_0x139875][0x3*-0x67e+-0x5a3+-0x3b*-0x6d]=_0x135a3e['z']*_0x32ee48,this['lightWidth'+'Id'][_0x139875]['setValue'](this['lightWidth'][_0x139875]);const _0xa63347=_0x2747f0['transformV'+'ector'](new D(0x243f+0x5d*-0x49+-0x9ba,0x20*-0x71+0x1c56+0x11*-0xd6,0x10de*-0x2+0x3*-0xf+0x21e9+0.5));this['lightHeigh'+'t'][_0x139875][-0xc3b*-0x3+0x265*-0x3+-0x4eb*0x6]=_0xa63347['x']*_0x32ee48,this['lightHeigh'+'t'][_0x139875][-0x4e1*-0x5+0x120f*-0x1+0x655*-0x1]=_0xa63347['y']*_0x32ee48,this['lightHeigh'+'t'][_0x139875][-0x1e67*-0x1+-0xda8+-0x10bd]=_0xa63347['z']*_0x32ee48,this['lightHeigh'+'tId'][_0x139875]['setValue'](this['lightHeigh'+'t'][_0x139875]);}['dispatchDi'+'rectLights'](_0xf10147,_0x49b2e6,_0xc4dfb){let _0x39af95=0x2b*-0xc5+0x15a2+0xb75;const _0x524ec4=this['device']['scope'];for(let _0x164b74=-0x6b*0x31+-0x1ca4+0x5*0x9d3;_0x164b74<_0xf10147['length'];_0x164b74++){if(!(_0xf10147[_0x164b74]['mask']&_0x49b2e6))continue;const _0xd88f9c=_0xf10147[_0x164b74],_0x4f2fb7=_0xd88f9c['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x39af95]||this['_resolveLi'+'ght'](_0x524ec4,_0x39af95),this['lightColor'+'Id'][_0x39af95]['setValue'](_0xd88f9c['_colorLine'+'ar']),_0x4f2fb7['getY'](_0xd88f9c['_direction'])['mulScalar'](-(-0x1e4f+0xad7+0x3e5*0x5)),_0xd88f9c['_direction']['normalize'](),this['lightDir'][_0x39af95][0x25bd+-0x1*0x203a+0x1*-0x583]=_0xd88f9c['_direction']['x'],this['lightDir'][_0x39af95][-0xeea+0x147*0x15+0x17d*-0x8]=_0xd88f9c['_direction']['y'],this['lightDir'][_0x39af95][-0x14e1+0x1*0x144e+0x95]=_0xd88f9c['_direction']['z'],this['lightDirId'][_0x39af95]['setValue'](this['lightDir'][_0x39af95]),_0xd88f9c['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x4f2fb7,_0x39af95,_0xd88f9c['_direction'],_0xc4dfb['_node']['getPositio'+'n'](),_0xc4dfb['farClip']),_0xd88f9c['castShadow'+'s']){const _0x184152=_0xd88f9c['getRenderD'+'ata'](_0xc4dfb,0x13*-0xbc+0x1d91+0x7*-0x23b),_0x318d4b=_0xd88f9c['_getUnifor'+'mBiasValue'+'s'](_0x184152);this['lightShado'+'wMapId'][_0x39af95]['setValue'](_0x184152['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x39af95]['setValue'](_0x184152['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x39af95]['setValue'](_0xd88f9c['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x39af95]['setValue'](_0xd88f9c['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x39af95]['setValue'](_0xd88f9c['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x39af95]['setValue'](-0x1*-0x1ff3+0x5d*0x57+0x1*-0x3f8d-_0xd88f9c['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x39af95]['setValue'](_0xd88f9c['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x39af95]['setValue'](_0xd88f9c['_softShado'+'wParams']),_0x184152['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x39af95]['setValue'](_0xd88f9c['penumbraSi'+'ze']/_0x184152['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x184152['projection'+'Compensati'+'on']);const _0xc3283d=_0xd88f9c['_shadowCam'+'eraParams'];_0xc3283d['length']=0x2046+0x1ae2+0x5ea*-0xa,_0xc3283d[-0x23b+0x1090+-0x4c7*0x3]=0x1efe*-0x1+-0xbb6+0x2ab4,_0xc3283d[-0x2*0x372+0x14ce+-0xde9*0x1]=_0x184152['shadowCame'+'ra']['_farClip'],_0xc3283d[0x1d63*-0x1+0x43*-0x35+-0x34*-0xd5]=_0x184152['shadowCame'+'ra']['_nearClip'],_0xc3283d[0xb*-0x92+0x1b3b+0x17f*-0xe]=0x1*-0x1a69+0x17e*0x4+0x1472,this['lightCamer'+'aParamsId'][_0x39af95]['setValue'](_0xc3283d);const _0x5bae16=_0xd88f9c['_shadowRen'+'derParams'];_0x5bae16['length']=-0x17*-0x11b+0x3*-0x93b+0x248,_0x5bae16[-0x260a+0xa9b+0x925*0x3]=_0xd88f9c['_shadowRes'+'olution'],_0x5bae16[0x16fa+-0x7b3*0x2+-0x115*0x7]=_0x318d4b['normalBias'],_0x5bae16[-0x11*0x1cd+-0x1650+0x34ef*0x1]=_0x318d4b['bias'],_0x5bae16[-0x1c55+0x229c+-0x2*0x322]=0x1*0xe1d+-0x1e43+0x1026,this['lightShado'+'wParamsId'][_0x39af95]['setValue'](_0x5bae16);}_0x39af95++;}return _0x39af95;}['setLTCPosi'+'tionalLigh'+'t'](_0x15ecdc,_0x21401b){const _0x592831=_0x15ecdc['transformV'+'ector'](new D(-(-0x2518+0x12a*-0x13+0x3b36+0.5),-0x12a3*0x1+0x152f+-0x28c,-0x1a61+-0x1*-0x463+0x15fe));this['lightWidth'][_0x21401b][0x1f*-0xe9+-0xf0d*-0x1+0xd2a]=_0x592831['x'],this['lightWidth'][_0x21401b][0x52a*0x2+-0x1616+0x1*0xbc3]=_0x592831['y'],this['lightWidth'][_0x21401b][0x4e1*-0x8+-0xb11*0x1+-0x321b*-0x1]=_0x592831['z'],this['lightWidth'+'Id'][_0x21401b]['setValue'](this['lightWidth'][_0x21401b]);const _0x58315c=_0x15ecdc['transformV'+'ector'](new D(-0x21e4+-0x2ff+-0x1*-0x24e3,-0x759+-0x89e+-0xff7*-0x1,0x5*0x7f+-0x113d+0xec2+0.5));this['lightHeigh'+'t'][_0x21401b][-0x7d4+-0x144b*-0x1+0x1*-0xc77]=_0x58315c['x'],this['lightHeigh'+'t'][_0x21401b][0x171e*-0x1+0x10*0x13f+0xa3*0x5]=_0x58315c['y'],this['lightHeigh'+'t'][_0x21401b][0x26b7+0x1a*-0x66+-0x3b*0x7b]=_0x58315c['z'],this['lightHeigh'+'tId'][_0x21401b]['setValue'](this['lightHeigh'+'t'][_0x21401b]);}['dispatchOm'+'niLight'](_0x147ee1,_0x4247e5,_0x5a50ff){const _0x594a0d=_0x4247e5['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5a50ff]||this['_resolveLi'+'ght'](_0x147ee1,_0x5a50ff),this['lightRadiu'+'sId'][_0x5a50ff]['setValue'](_0x4247e5['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x5a50ff]['setValue'](_0x4247e5['_colorLine'+'ar']),_0x594a0d['getTransla'+'tion'](_0x4247e5['_position']),this['lightPos'][_0x5a50ff][-0xb95*-0x2+0x9d3+-0x20fd]=_0x4247e5['_position']['x'],this['lightPos'][_0x5a50ff][-0x24a3+0x1fa0+0x504]=_0x4247e5['_position']['y'],this['lightPos'][_0x5a50ff][-0x1cb7*-0x1+-0x1c66+-0x4f*0x1]=_0x4247e5['_position']['z'],this['lightPosId'][_0x5a50ff]['setValue'](this['lightPos'][_0x5a50ff]),_0x4247e5['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x594a0d,_0x5a50ff),_0x4247e5['castShadow'+'s']){const _0xf28e5e=_0x4247e5['getRenderD'+'ata'](null,0xc92+0x21*0x21+-0x10d3);this['lightShado'+'wMapId'][_0x5a50ff]['setValue'](_0xf28e5e['shadowBuff'+'er']);const _0x119d06=_0x4247e5['_getUnifor'+'mBiasValue'+'s'](_0xf28e5e),_0x332e67=_0x4247e5['_shadowRen'+'derParams'];_0x332e67['length']=0xa98+0x206*0x11+0x65*-0x72,_0x332e67[-0x4*0x904+-0x1b2f*-0x1+0x8e1]=_0x4247e5['_shadowRes'+'olution'],_0x332e67[-0x18d4+-0x8a2+0x2177]=_0x119d06['normalBias'],_0x332e67[-0x53*0x49+-0x29f+0x33*0x84]=_0x119d06['bias'],_0x332e67[-0x29*0xce+-0x1bb3*-0x1+-0x7*-0xc2]=(0x11ed+0xa37+-0x1*0x1c23)/_0x4247e5['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x5a50ff]['setValue'](_0x332e67),this['lightShado'+'wIntensity'][_0x5a50ff]['setValue'](_0x4247e5['shadowInte'+'nsity']);const _0x3f2d00=_0x4247e5['penumbraSi'+'ze']/_0xf28e5e['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x5a50ff]['setValue'](_0x3f2d00);const _0x31b062=_0x4247e5['_shadowCam'+'eraParams'];_0x31b062['length']=0x1246+0x65*-0x28+0x27a*-0x1,_0x31b062[0x1c51+0xd28+-0x2979]=-0x1*-0x168b+-0x2400+-0x1*-0xd75,_0x31b062[0x1*0xe5c+0x212a+0x2f85*-0x1]=_0xf28e5e['shadowCame'+'ra']['_farClip'],_0x31b062[-0x24b9+0xf25+0x1596]=_0xf28e5e['shadowCame'+'ra']['_nearClip'],_0x31b062[0x29b*0x1+0x1*0x2310+-0x25a8]=0x463+0xb5*-0xd+-0x6*-0xcd,this['lightCamer'+'aParamsId'][_0x5a50ff]['setValue'](_0x31b062);}_0x4247e5['_cookie']&&(this['lightCooki'+'eId'][_0x5a50ff]['setValue'](_0x4247e5['_cookie']),this['lightShado'+'wMatrixId'][_0x5a50ff]['setValue'](_0x594a0d['data']),this['lightCooki'+'eIntId'][_0x5a50ff]['setValue'](_0x4247e5['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x28dd5a,_0x75d493,_0x6e6b54){const _0x20b7a1=_0x75d493['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x6e6b54]||this['_resolveLi'+'ght'](_0x28dd5a,_0x6e6b54),this['lightInAng'+'leId'][_0x6e6b54]['setValue'](_0x75d493['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x6e6b54]['setValue'](_0x75d493['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x6e6b54]['setValue'](_0x75d493['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x6e6b54]['setValue'](_0x75d493['_colorLine'+'ar']),_0x20b7a1['getTransla'+'tion'](_0x75d493['_position']),this['lightPos'][_0x6e6b54][-0x2041+0x15b6+0xa8b]=_0x75d493['_position']['x'],this['lightPos'][_0x6e6b54][-0xc09+0x67e+-0x4*-0x163]=_0x75d493['_position']['y'],this['lightPos'][_0x6e6b54][-0x6dc*-0x1+0x419*0x6+0xfb8*-0x2]=_0x75d493['_position']['z'],this['lightPosId'][_0x6e6b54]['setValue'](this['lightPos'][_0x6e6b54]),_0x75d493['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x20b7a1,_0x6e6b54),_0x20b7a1['getY'](_0x75d493['_direction'])['mulScalar'](-(0x288+0x8b6*0x3+-0x1ca9)),_0x75d493['_direction']['normalize'](),this['lightDir'][_0x6e6b54][0x1bfa*0x1+-0x16a1*-0x1+-0x329b]=_0x75d493['_direction']['x'],this['lightDir'][_0x6e6b54][0x37*0xa+0xd*-0x1fd+0x17b4]=_0x75d493['_direction']['y'],this['lightDir'][_0x6e6b54][0x700+-0x1ab*-0x9+-0x1*0x1601]=_0x75d493['_direction']['z'],this['lightDirId'][_0x6e6b54]['setValue'](this['lightDir'][_0x6e6b54]),_0x75d493['castShadow'+'s']){const _0x82a7e3=_0x75d493['getRenderD'+'ata'](null,-0xc31*-0x1+-0x95*-0x4+-0xe85);this['lightShado'+'wMapId'][_0x6e6b54]['setValue'](_0x82a7e3['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x6e6b54]['setValue'](_0x82a7e3['shadowMatr'+'ix']['data']);const _0x3d9a84=_0x75d493['_getUnifor'+'mBiasValue'+'s'](_0x82a7e3),_0x177a4c=_0x75d493['_shadowRen'+'derParams'];_0x177a4c['length']=-0x7b8+0x1d5*0xe+-0x2*0x8f5,_0x177a4c[-0x478+0x7be*-0x2+0x13f4]=_0x75d493['_shadowRes'+'olution'],_0x177a4c[0x15de*0x1+-0x2*0x7c9+-0x64b]=_0x3d9a84['normalBias'],_0x177a4c[0x4df*0x2+0x1*0x965+-0x1321]=_0x3d9a84['bias'],_0x177a4c[-0x2205+0x23d*-0x6+-0x1*-0x2f76]=(0x11*-0x9e+0x129a+-0x53*0x19)/_0x75d493['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x6e6b54]['setValue'](_0x177a4c),this['lightShado'+'wIntensity'][_0x6e6b54]['setValue'](_0x75d493['shadowInte'+'nsity']);const _0x1003a9=_0x75d493['penumbraSi'+'ze']/_0x82a7e3['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x1b2c47=_0x82a7e3['shadowCame'+'ra']['_fov']*Math['PI']/(0x2*-0x92f+-0xb11*0x2+0x2934),_0xb06153=(-0xb16+-0x1890+0x23a7)/Math['tan'](_0x1b2c47/(0x19f*0x1+-0x5d*-0x3b+0x170c*-0x1));this['lightShado'+'wSearchAre'+'aId'][_0x6e6b54]['setValue'](_0x1003a9*_0xb06153);const _0x3dee70=_0x75d493['_shadowCam'+'eraParams'];_0x3dee70['length']=-0x260*-0x4+0xe*0x243+-0x2926,_0x3dee70[0xfe8*0x2+-0x6*0x543+-0x3e]=0x1*-0x1067+0x2ba*-0x3+-0xd9*-0x1d,_0x3dee70[0x96f+-0x73+-0x8fb]=_0x82a7e3['shadowCame'+'ra']['_farClip'],_0x3dee70[-0xdb9*-0x1+-0x783+0x1*-0x634]=_0x82a7e3['shadowCame'+'ra']['_nearClip'],_0x3dee70[-0x2*-0x25f+0x2371*0x1+-0x3*0xd64]=0xa03*-0x2+0x4ef*0x1+0xf17,this['lightCamer'+'aParamsId'][_0x6e6b54]['setValue'](_0x3dee70);}if(_0x75d493['_cookie']){if(!_0x75d493['castShadow'+'s']){const _0x25c9de=Wn['evalSpotCo'+'okieMatrix'](_0x75d493);this['lightShado'+'wMatrixId'][_0x6e6b54]['setValue'](_0x25c9de['data']);}this['lightCooki'+'eId'][_0x6e6b54]['setValue'](_0x75d493['_cookie']),this['lightCooki'+'eIntId'][_0x6e6b54]['setValue'](_0x75d493['cookieInte'+'nsity']),_0x75d493['_cookieTra'+'nsform']&&(_0x75d493['_cookieTra'+'nsformUnif'+'orm'][0x17*-0x3b+0x1744+-0x11f7]=_0x75d493['_cookieTra'+'nsform']['x'],_0x75d493['_cookieTra'+'nsformUnif'+'orm'][0x17*-0xe5+0xe3*-0xa+0x1*0x1d72]=_0x75d493['_cookieTra'+'nsform']['y'],_0x75d493['_cookieTra'+'nsformUnif'+'orm'][-0x21f*-0x7+0x1529+-0x2400]=_0x75d493['_cookieTra'+'nsform']['z'],_0x75d493['_cookieTra'+'nsformUnif'+'orm'][-0x2*-0x123e+-0x155e+-0xf1b]=_0x75d493['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x6e6b54]['setValue'](_0x75d493['_cookieTra'+'nsformUnif'+'orm']),_0x75d493['_cookieOff'+'setUniform'][0x209e+0x542*-0x1+-0x1*0x1b5c]=_0x75d493['_cookieOff'+'set']['x'],_0x75d493['_cookieOff'+'setUniform'][-0xb07+0x1866+-0x1d*0x76]=_0x75d493['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x6e6b54]['setValue'](_0x75d493['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x3fcfc4,_0x2d0b32,_0x4b108d){let _0xa97d9d=_0x4b108d;const _0xb8997c=this['device']['scope'],_0x106946=_0x3fcfc4[Ke],_0x206cba=_0x106946['length'];for(let _0x4961ee=-0x1*0x791+0x1ed2+-0x1741;_0x4961ee<_0x206cba;_0x4961ee++){const _0x5a4929=_0x106946[_0x4961ee];_0x5a4929['mask']&_0x2d0b32&&(this['dispatchOm'+'niLight'](_0xb8997c,_0x5a4929,_0xa97d9d),_0xa97d9d++);}const _0x8364e9=_0x3fcfc4[Ze],_0x5a43d6=_0x8364e9['length'];for(let _0x5a3261=0x1898+-0xfbd+-0x8db;_0x5a3261<_0x5a43d6;_0x5a3261++){const _0x5bb9c7=_0x8364e9[_0x5a3261];_0x5bb9c7['mask']&_0x2d0b32&&(this['dispatchSp'+'otLight'](_0xb8997c,_0x5bb9c7,_0xa97d9d),_0xa97d9d++);}}['renderForw'+'ardPrepare'+'Materials'](_0x5fcb03,_0x3f9cdb,_0x1786c6,_0x169eea,_0xda99c,_0x3898b5){const _0x4f7c4e=_0x5fcb03['fogParams']??this['scene']['fog'],_0x506429=_0x5fcb03['shaderPara'+'ms'];_0x506429['fog']=_0x4f7c4e['type'],_0x506429['srgbRender'+'Target']=(_0x3f9cdb==null?void(0x5d3+-0x2547*0x1+0x6*0x53e):_0x3f9cdb['isColorBuf'+'ferSrgb'](-0xb*0x24d+0x203e+-0x6ef))??!(-0x1c1b+0x2005+-0x3e9);const _0x3305d9=(_0x466743,_0x269155,_0x205ee8,_0x4abf5b)=>{Nr['drawCalls']['push'](_0x466743),Nr['shaderInst'+'ances']['push'](_0x269155),Nr['isNewMater'+'ial']['push'](_0x205ee8),Nr['lightMaskC'+'hanged']['push'](_0x4abf5b);};Nr['clear']();const _0x3da0fb=this['device'],_0x2d70b6=this['scene'],_0x56c631=_0x2d70b6['clusteredL'+'ightingEna'+'bled'],_0x32d22e=(_0xda99c==null?void(0xeb*-0x2+0x1*0x2017+0x1e41*-0x1):_0xda99c['getLightHa'+'sh'](_0x56c631))??-0x2*0x8e7+-0x1*0x1d71+0x2f3f;let _0x52c9ab=null,_0x2c60d4,_0x4b67d1;const _0x35cc41=_0x1786c6['length'];for(let _0x3ab28e=-0x1a79+-0xb4+0x1b2d;_0x3ab28e<_0x35cc41;_0x3ab28e++){const _0x2333e4=_0x1786c6[_0x3ab28e];if(_0x5fcb03===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0xda99c){if(_0xda99c['_skipRende'+'rCounter']>=_0xda99c['skipRender'+'After'])continue;_0xda99c['_skipRende'+'rCounter']++;}const _0x564662=_0x2333e4['instancing'+'Data'];if(_0x564662&&_0x564662['count']<=-0xd*0x9+-0x1c5f+0x1cd4)continue;_0x2333e4['ensureMate'+'rial'](_0x3da0fb);const _0x59e94c=_0x2333e4['material'],_0xf73383=_0x2333e4['_shaderDef'+'s'],_0x2e273b=_0x2333e4['mask'];_0x59e94c&&_0x59e94c===_0x52c9ab&&_0xf73383!==_0x2c60d4&&(_0x52c9ab=null),_0x59e94c!==_0x52c9ab&&(this['_materialS'+'witches']++,_0x59e94c['_scene']=_0x2d70b6,_0x59e94c['dirty']&&(Q['pushGpuMar'+'ker'](_0x3da0fb,'Node:\x20'+_0x2333e4['node']['name']+(',\x20Material'+':\x20')+_0x59e94c['name']),_0x59e94c['updateUnif'+'orms'](_0x3da0fb,_0x2d70b6),_0x59e94c['dirty']=!(-0x2401*0x1+0x1995+0x1*0xa6d),Q['popGpuMark'+'er'](_0x3da0fb)));const _0xf1685=_0x2333e4['getShaderI'+'nstance'](_0x3898b5,_0x32d22e,_0x2d70b6,_0x506429,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x169eea);_0x3305d9(_0x2333e4,_0xf1685,_0x59e94c!==_0x52c9ab,!_0x52c9ab||_0x2e273b!==_0x4b67d1),_0x52c9ab=_0x59e94c,_0x2c60d4=_0xf73383,_0x4b67d1=_0x2e273b;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x5b264b,_0x3b100c,_0x47e71b,_0x4a275a,_0x1066ad,_0x37317a,_0x395867){var _0x360375,_0x2999f7;const _0x5948bb=this['device'],_0x517b27=this['scene'],_0x4c8453=-0xb2e+0x1f11+0x13e2*-0x1<<_0x4a275a,_0x2a9ce4=_0x37317a?-(0x2b*-0x9f+0x1f64+-0x257*0x2):0xc*-0x305+0x22d+0xa*0x368,_0x4af5b8=_0x517b27['clusteredL'+'ightingEna'+'bled'],_0x5ca620=(_0x360375=_0x5b264b['xr'])!=null&&_0x360375['session']&&_0x5b264b['xr']['views']['list']['length']?_0x5b264b['xr']['views']['list']:null,_0x380e4d=_0x3b100c['drawCalls']['length'];for(let _0x360bf8=-0x170c+0x1*-0x279+-0x2f*-0x8b;_0x360bf8<_0x380e4d;_0x360bf8++){const _0x397fcc=_0x3b100c['drawCalls'][_0x360bf8],_0x3e2fb4=_0x3b100c['isNewMater'+'ial'][_0x360bf8],_0x17b858=_0x3b100c['lightMaskC'+'hanged'][_0x360bf8],_0x3e87f1=_0x3b100c['shaderInst'+'ances'][_0x360bf8],_0x14a427=_0x397fcc['material'],_0x22a92f=_0x397fcc['mask'];if(_0x3e87f1['shader']['failed'])continue;if(_0x3e2fb4){if(_0x5948bb['setShader'](_0x3e87f1['shader'],!(0x1ad6+0x2583+-0x238*0x1d)),_0x14a427['setParamet'+'ers'](_0x5948bb),_0x17b858){const _0x4b010c=this['dispatchDi'+'rectLights'](_0x47e71b[ve],_0x22a92f,_0x5b264b);_0x4af5b8||this['dispatchLo'+'calLights'](_0x47e71b,_0x22a92f,_0x4b010c);}this['alphaTestI'+'d']['setValue'](_0x14a427['alphaTest']),_0x5948bb['setBlendSt'+'ate'](_0x14a427['blendState']),_0x5948bb['setDepthSt'+'ate'](_0x14a427['depthState']),_0x5948bb['setAlphaTo'+'Coverage'](_0x14a427['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x5948bb,'Node:\x20'+_0x397fcc['node']['name']+(',\x20Material'+':\x20')+_0x14a427['name']),this['setupCullM'+'ode'](_0x5b264b['_cullFaces'],_0x2a9ce4,_0x397fcc);const _0x17dfa9=_0x397fcc['stencilFro'+'nt']??_0x14a427['stencilFro'+'nt'],_0x242506=_0x397fcc['stencilBac'+'k']??_0x14a427['stencilBac'+'k'];_0x5948bb['setStencil'+'State'](_0x17dfa9,_0x242506),_0x397fcc['setParamet'+'ers'](_0x5948bb,_0x4c8453),_0x5948bb['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x397fcc['id']);const _0x3fe5e5=_0x397fcc['mesh'];this['setVertexB'+'uffers'](_0x5948bb,_0x3fe5e5),this['setMorphin'+'g'](_0x5948bb,_0x397fcc['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5948bb,_0x397fcc);const _0x1d6f70=_0x397fcc['instancing'+'Data'];_0x1d6f70&&_0x5948bb['setVertexB'+'uffer'](_0x1d6f70['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x397fcc,!(0x41d*0x2+0x2f*-0x27+-0x3*0x5b)),this['setupMeshU'+'niformBuff'+'ers'](_0x3e87f1);const _0x309b9c=_0x397fcc['renderStyl'+'e'],_0x11e2ad=_0x3fe5e5['indexBuffe'+'r'][_0x309b9c];_0x1066ad==null||_0x1066ad(_0x397fcc,_0x360bf8);const _0x203256=(_0x2999f7=_0x397fcc['indirectDa'+'ta'])==null?void(0x13*-0x36+-0xf7f*0x1+0x1381):_0x2999f7['get'](_0x5b264b);if(_0x5ca620)for(let _0x5744b3=0xf4*0x2+0x1*-0x1271+0x1089;_0x5744b3<_0x5ca620['length'];_0x5744b3++){const _0x10f9b4=_0x5ca620[_0x5744b3];if(_0x5948bb['setViewpor'+'t'](_0x10f9b4['viewport']['x'],_0x10f9b4['viewport']['y'],_0x10f9b4['viewport']['z'],_0x10f9b4['viewport']['w']),_0x5948bb['supportsUn'+'iformBuffe'+'rs']){const _0x3efd48=_0x395867[_0x5744b3];_0x5948bb['setBindGro'+'up'](rl,_0x3efd48);}else this['setupViewU'+'niforms'](_0x10f9b4,_0x5744b3);const _0x458b64=_0x5744b3===-0xcb*0x17+-0xd*-0xdf+-0xf*-0x76,_0x47050d=_0x5744b3===_0x5ca620['length']-(0x63*-0x5d+0x238+0x21c0);_0x5948bb['draw'](_0x3fe5e5['primitive'][_0x309b9c],_0x11e2ad,_0x1d6f70==null?void(-0x17*0x155+-0x2683+-0x2293*-0x2):_0x1d6f70['count'],_0x203256,_0x458b64,_0x47050d),this['_forwardDr'+'awCalls']++,_0x397fcc['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x5948bb['draw'](_0x3fe5e5['primitive'][_0x309b9c],_0x11e2ad,_0x1d6f70==null?void(0xf04+0x1a16+0x291a*-0x1):_0x1d6f70['count'],_0x203256),this['_forwardDr'+'awCalls']++,_0x397fcc['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x360bf8<_0x380e4d-(-0x35*0x1+0x698*0x2+-0xcfa)&&!_0x3b100c['isNewMater'+'ial'][_0x360bf8+(0x77+-0x104c+0xfd6)]&&_0x14a427['setParamet'+'ers'](_0x5948bb,_0x397fcc['parameters']),Q['popGpuMark'+'er'](_0x5948bb);}}['renderForw'+'ard'](_0x50bd4e,_0x2787aa,_0x26abc9,_0x23ed00,_0x1a2ec2,_0x3a7bce,_0x4b65e,_0x31e8c4,_0x3f1b81){const _0x242080=de(),_0x5e0ca9=this['renderForw'+'ardPrepare'+'Materials'](_0x50bd4e,_0x2787aa,_0x26abc9,_0x23ed00,_0x4b65e,_0x1a2ec2);this['renderForw'+'ardInterna'+'l'](_0x50bd4e,_0x5e0ca9,_0x23ed00,_0x1a2ec2,_0x3a7bce,_0x31e8c4,_0x3f1b81),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x242080;}['renderForw'+'ardLayer'](_0x1065f2,_0x2db8b2,_0x91a25b,_0x2443df,_0x4fa5b3,_0x4e605c,_0x587897={}){const {scene:_0x330ef8,device:_0x47247c}=this,_0x19fd51=_0x330ef8['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x1065f2,_0x2db8b2);let _0x4e9c65,_0x18e24a;if(_0x91a25b){const _0x43b794=de();_0x91a25b['sortVisibl'+'e'](_0x1065f2,_0x2443df),this['_sortTime']+=de()-_0x43b794;const _0x240df6=_0x91a25b['getCulledI'+'nstances'](_0x1065f2);_0x4e9c65=_0x2443df?_0x240df6['transparen'+'t']:_0x240df6['opaque'],_0x330ef8['immediate']['onPreRende'+'rLayer'](_0x91a25b,_0x4e9c65,_0x2443df),_0x91a25b['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x330ef8['ambientLig'+'ht'],_0x91a25b['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x18e24a=_0x91a25b['splitLight'+'s'];}else _0x4e9c65=_0x587897['meshInstan'+'ces'],_0x18e24a=_0x587897['splitLight'+'s']??Qb;if(w['assert'](_0x4e9c65,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x19fd51){const _0x5be77f=_0x587897['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x5be77f['activate'](),_0x91a25b&&!this['clustersDe'+'bugRendere'+'d']&&_0x330ef8['lighting']['debugLayer']===_0x91a25b['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x2581+-0x9a8+0x2f29),hu['render'](_0x5be77f,this['scene']));}_0x330ef8['_activeCam'+'era']=_0x1065f2;const _0x24364a=_0x1065f2['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x24364a);const _0x57446d=this['setCameraU'+'niforms'](_0x1065f2,_0x2db8b2);_0x47247c['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4e605c,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x57446d);const _0x53e88c=_0x587897['clearColor']??!(0x1a70+0xa*0x2ed+0x37b1*-0x1),_0x44575f=_0x587897['clearDepth']??!(-0x18a+-0x89b+0xa26),_0x4eed7a=_0x587897['clearStenc'+'il']??!(0x1*-0xae3+-0x1*-0xa2a+0x1*0xba);(_0x53e88c||_0x44575f||_0x4eed7a)&&this['clear'](_0x1065f2,_0x53e88c,_0x44575f,_0x4eed7a);const _0x33b07e=!!(_0x1065f2['_flipFaces']^(_0x2db8b2==null?void(0x1aef*-0x1+-0x1dc3*-0x1+0x16a*-0x2):_0x2db8b2['flipY'])),_0x1f1043=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x1065f2,_0x2db8b2,_0x4e9c65,_0x18e24a,_0x4fa5b3,null,_0x91a25b,_0x33b07e,_0x4e605c),_0x91a25b&&(_0x91a25b['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1f1043);}['setFogCons'+'tants'](_0x54a4e4){if(_0x54a4e4['type']!==Kn){or['linear'](_0x54a4e4['color']);const _0x4a50ef=this['fogColor'];_0x4a50ef[0x21d5+0x1*0x974+-0x2b49]=or['r'],_0x4a50ef[0x7*0x3ad+0x1*0xbd4+-0x258e]=or['g'],_0x4a50ef[-0x140a+0x1ee8*-0x1+0x4*0xcbd]=or['b'],this['fogColorId']['setValue'](_0x4a50ef),_0x54a4e4['type']===Iw?(this['fogStartId']['setValue'](_0x54a4e4['start']),this['fogEndId']['setValue'](_0x54a4e4['end'])):this['fogDensity'+'Id']['setValue'](_0x54a4e4['density']);}}['setSceneCo'+'nstants'](){const _0xe5b8dc=this['scene'];this['dispatchGl'+'obalLights'](_0xe5b8dc);const _0x507c63=this['device'];this['_screenSiz'+'e'][0x132+0x1d0+-0x302]=_0x507c63['width'],this['_screenSiz'+'e'][-0x17e1+0xb*0xef+0x29*0x55]=_0x507c63['height'],this['_screenSiz'+'e'][0x1*0x1449+-0x28*-0x4a+-0x1fd7]=(-0x1678+-0xbf1*-0x3+-0xd5a)/_0x507c63['width'],this['_screenSiz'+'e'][-0x837*-0x1+0x9eb*0x1+-0x1*0x121f]=(0x1f60+-0x593*-0x1+-0x24f2*0x1)/_0x507c63['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x303825,_0x399606){const _0x26df03=this['scene'];if(_0x303825['reset'](),_0x26df03['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x5d8333,cookiesEnabled:_0x4781d0}=_0x26df03['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x303825,_0x5d8333,_0x4781d0,this['lights'],this['localLight'+'s']),_0x303825['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x303825,this['localLight'+'s']);let _0x187774=-0x1fdf+-0x1f9c+-0x3*-0x1529,_0x29a967=!(0x982+0xd*0x1b1+-0x1f7f),_0x23fbda=null;const _0x2dfa03=_0x399606['_renderAct'+'ions'];for(let _0x40156d=_0x187774;_0x40156d<_0x2dfa03['length'];_0x40156d++){const _0x1d8304=_0x2dfa03[_0x40156d],{layer:_0x5d3335,camera:_0x54d124}=_0x1d8304;if(_0x1d8304['useCameraP'+'asses'])w['call'](()=>{_0x54d124['postEffect'+'s']['effects']['length']>0x18a*0x7+-0x15*-0x137+0x52f*-0x7&&w['warnOnce']('Camera\x20\x27'+_0x54d124['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x54d124['camera']['renderPass'+'es']['forEach'](_0x225768=>{_0x303825['addRenderP'+'ass'](_0x225768);});else{const _0xf07cfc=_0x5d3335['id']===ps,_0x3aa1f9=_0xf07cfc&&(_0x54d124['renderScen'+'eColorMap']||_0x54d124['renderScen'+'eDepthMap']);_0x29a967&&(_0x29a967=!(-0x80+0x5fb*-0x1+0x67c),_0x187774=_0x40156d,_0x23fbda=_0x1d8304['renderTarg'+'et']);const _0x3456e2=_0x2dfa03[_0x40156d+(0x11*0x3+0x480+-0x4b2)],_0x49c19e=(_0x3456e2?!_0x3456e2['useCameraP'+'asses']&&_0x3456e2['layer']['id']===ps:!(0x15f1+0x54*-0x15+-0xf0c))&&(_0x54d124['renderScen'+'eColorMap']||_0x54d124['renderScen'+'eDepthMap']),_0x238c2b=_0x3456e2?_0x3456e2['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x3456e2['camera']['camera']):!(0x2*0x895+-0x2*0x10f7+0x10c5);if(!_0x3456e2||_0x3456e2['renderTarg'+'et']!==_0x23fbda||_0x238c2b||_0x49c19e||_0x3aa1f9){if(_0xf07cfc&&_0x187774===_0x40156d||this['addMainRen'+'derPass'](_0x303825,_0x399606,_0x23fbda,_0x187774,_0x40156d),_0xf07cfc){if(_0x54d124['renderScen'+'eColorMap']){const _0x2296f8=_0x54d124['camera']['renderPass'+'ColorGrab'];_0x2296f8['source']=_0x54d124['renderTarg'+'et'],_0x303825['addRenderP'+'ass'](_0x2296f8);}_0x54d124['renderScen'+'eDepthMap']&&_0x303825['addRenderP'+'ass'](_0x54d124['camera']['renderPass'+'DepthGrab']);}if(_0x1d8304['triggerPos'+'tprocess']&&(_0x54d124!=null&&_0x54d124['onPostproc'+'essing'])){const _0x13873b=new Zb(this['device'],this,_0x1d8304);_0x303825['addRenderP'+'ass'](_0x13873b);}_0x29a967=!(-0x130d*-0x1+0x1a90+-0x1*0x2d9d);}}}}['addMainRen'+'derPass'](_0x36e351,_0xad879d,_0xd7c6cb,_0x21f4be,_0x29a7b5){const _0x4f98c5=new Kb(this['device'],_0xad879d,this['scene'],this);_0x4f98c5['init'](_0xd7c6cb);const _0x2dfdc4=_0xad879d['_renderAct'+'ions'];for(let _0x4b9402=_0x21f4be;_0x4b9402<=_0x29a7b5;_0x4b9402++)_0x4f98c5['addRenderA'+'ction'](_0x2dfdc4[_0x4b9402]);_0x36e351['addRenderP'+'ass'](_0x4f98c5);}['update'](_0x70a4cc){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x70a4cc),this['collectLig'+'hts'](_0x70a4cc),this['beginFrame'](_0x70a4cc),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x70a4cc),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0x1*0x28d+0x45*0x29+-0x880),h(Ni,'skipRender'+'After',-0x6*0x15b+0x1fa6+0x1ae*-0xe);let fl=Ni,uf=0x101d+-0x1*0x1eb7+0x4de*0x3;const co=[],hc=new Set();function tA(_0x3bfa5b,_0x47377d){return _0x3bfa5b['drawOrder']-_0x47377d['drawOrder'];}function sA(_0x453c06,_0x395604){const _0x31d6b9=_0x453c06['_sortKeyFo'+'rward'],_0x4ddcd7=_0x395604['_sortKeyFo'+'rward'];return _0x31d6b9===_0x4ddcd7?_0x395604['mesh']['id']-_0x453c06['mesh']['id']:_0x4ddcd7-_0x31d6b9;}function iA(_0x70966c,_0x4e8ff2){return _0x4e8ff2['_sortKeyDy'+'namic']-_0x70966c['_sortKeyDy'+'namic'];}function rA(_0x355ab5,_0x5affad){return _0x355ab5['_sortKeyDy'+'namic']-_0x5affad['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x5785b6={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x2513+0x8a+0x2489)),h(this,'requiresLi'+'ghtCube',!(0x1ffc+-0x1a00+0x1*-0x5fb)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0x1005+-0x665*-0x5+-0xff3)),(_0x5785b6['id']!==void(-0x5*-0x495+0x20d7+-0x37c0)?(this['id']=_0x5785b6['id'],uf=Math['max'](this['id']+(-0x18*0x119+-0x2206+0x3c5f),uf)):this['id']=uf++,this['name']=_0x5785b6['name'],this['_enabled']=_0x5785b6['enabled']??!(-0x6d*0x40+-0x242+-0x9d6*-0x3),this['_refCounte'+'r']=this['_enabled']?-0x19dc+-0x214+0x1bf1:0xad3*-0x1+0x14*0x88+-0x1*-0x33,this['opaqueSort'+'Mode']=_0x5785b6['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x5785b6['transparen'+'tSortMode']??m_,_0x5785b6['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5785b6['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5785b6['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5785b6['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5785b6['clearStenc'+'ilBuffer'],this['onEnable']=_0x5785b6['onEnable'],this['onDisable']=_0x5785b6['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1a13+0x194*0x4+0x1*-0x2063,this['_lightHash'+'Dirty']=!(0x1231*0x1+-0x6d*0x2f+0x1*0x1d3),this['_lightIdHa'+'sh']=-0x161b+0x24*0xa0+-0x1*0x65,this['_lightIdHa'+'shDirty']=!(0x28f+-0xb*-0x313+-0x245f),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x2c6*-0xe+-0x1c02+0x42d6,this['_renderTim'+'e']=-0x1*-0x1cf7+0x59b*0x5+0x5*-0xb66,this['_forwardDr'+'awCalls']=-0x39e*0xa+-0x1c6*-0x13+0x27a,this['_shadowDra'+'wCalls']=-0x761*-0x5+0x109e+-0x3583,this['_shaderVer'+'sion']=-(-0x23de+0x1*0x107b+-0x22*-0x92));}set['enabled'](_0x9e0e3b){_0x9e0e3b!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x1*-0x168e+-0x19c7*0x1+-0x5*-0xa5),this['_enabled']=_0x9e0e3b,_0x9e0e3b?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x2bc786){this['_clearColo'+'rBuffer']=_0x2bc786,this['_dirtyComp'+'osition']=!(-0x3c6+0x1374+0x2*-0x7d7);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x3650b5){this['_clearDept'+'hBuffer']=_0x3650b5,this['_dirtyComp'+'osition']=!(0x2295+-0x1*-0xc18+-0x2ead*0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x91c583){this['_clearSten'+'cilBuffer']=_0x91c583,this['_dirtyComp'+'osition']=!(-0x45*0x1f+0x1ee6*-0x1+0xd*0x305);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1*-0x1e67+0x1*-0xc5a+-0x120d;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x5*0x5b+0x5bd*0x6+-0x1*0x20a7&&(this['_enabled']=!(-0x90b*-0x2+-0x1026+-0x1f0),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x7*0x518+0x1*-0xbfb+0x2fa4)this['_enabled']=!(0xb57*0x3+0x1*0x551+-0x2755),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x2*0x60+-0x212*-0x2+0x272*-0x2){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x54425b,_0x34f515){const _0xfa48ed=this['meshInstan'+'ces'],_0x59c316=this['meshInstan'+'cesSet'];for(let _0x2fe461=-0xf8d+0x1247+-0x2ba;_0x2fe461<_0x54425b['length'];_0x2fe461++){const _0x4ee0eb=_0x54425b[_0x2fe461];_0x59c316['has'](_0x4ee0eb)||(_0xfa48ed['push'](_0x4ee0eb),_0x59c316['add'](_0x4ee0eb),hc['add'](_0x4ee0eb['material']));}if(_0x34f515||this['addShadowC'+'asters'](_0x54425b),hc['size']>-0x1b5c+0x22c6+-0x76a){const _0x21f126=this['_shaderVer'+'sion'];hc['forEach'](_0xf80330=>{_0x21f126>=-0xaad+0x1934+0x1*-0xe87&&_0xf80330['_shaderVer'+'sion']!==_0x21f126&&(_0xf80330['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0xf80330['clearVaria'+'nts'](),_0xf80330['_shaderVer'+'sion']=_0x21f126);}),hc['clear']();}}['removeMesh'+'Instances'](_0x300b31,_0x3650da){const _0x14cdfd=this['meshInstan'+'ces'],_0x2476b4=this['meshInstan'+'cesSet'];for(let _0x220896=-0x2409+-0x1bb6+0x3fbf;_0x220896<_0x300b31['length'];_0x220896++){const _0x3beb08=_0x300b31[_0x220896];if(_0x2476b4['has'](_0x3beb08)){_0x2476b4['delete'](_0x3beb08);const _0xb85671=_0x14cdfd['indexOf'](_0x3beb08);_0xb85671>=0x2*0x5a6+0x126c+-0x1db8&&_0x14cdfd['splice'](_0xb85671,-0x256b+-0x185*-0x7+-0x1ac9*-0x1);}}_0x3650da||this['removeShad'+'owCasters'](_0x300b31);}['addShadowC'+'asters'](_0x1bd5c3){const _0x1dfb42=this['shadowCast'+'ers'],_0x4910bf=this['shadowCast'+'ersSet'];for(let _0x46dbb6=-0xcd*0xd+-0x1bd4+0x3*0xcbf;_0x46dbb6<_0x1bd5c3['length'];_0x46dbb6++){const _0x3309dc=_0x1bd5c3[_0x46dbb6];_0x3309dc['castShadow']&&!_0x4910bf['has'](_0x3309dc)&&(_0x4910bf['add'](_0x3309dc),_0x1dfb42['push'](_0x3309dc));}}['removeShad'+'owCasters'](_0x43981b){const _0x14a812=this['shadowCast'+'ers'],_0x44a80b=this['shadowCast'+'ersSet'];for(let _0x17df59=-0x2273*0x1+0x14c*-0x17+0x5*0xcdb;_0x17df59<_0x43981b['length'];_0x17df59++){const _0x6750c2=_0x43981b[_0x17df59];if(_0x44a80b['has'](_0x6750c2)){_0x44a80b['delete'](_0x6750c2);const _0x245770=_0x14a812['indexOf'](_0x6750c2);_0x245770>=-0x1261*-0x1+-0x34a+0xf17*-0x1&&_0x14a812['splice'](_0x245770,0x241b+-0x2*0xb1b+0x7*-0x1fc);}}}['clearMeshI'+'nstances'](_0x4ba75c=!(-0x1*0x9c7+0xadb+0x1*-0x113)){this['meshInstan'+'ces']['length']=0x1b07+-0x1886+-0x281,this['meshInstan'+'cesSet']['clear'](),_0x4ba75c||(this['shadowCast'+'ers']['length']=0x17a*-0x13+-0x1ef8+0x3b06,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x59*-0x47+-0x13fe+0x1*-0x4b1),this['_lightIdHa'+'shDirty']=!(-0xaec*0x1+-0x6*0x207+0x49e*0x5),this['_splitLigh'+'tsDirty']=!(-0x9b9+-0x1*0x1783+0x213c);}['hasLight'](_0x324b3a){return this['_lightsSet']['has'](_0x324b3a);}['addLight'](_0x53d0e0){const _0x2e4adb=_0x53d0e0['light'];this['_lightsSet']['has'](_0x2e4adb)||(this['_lightsSet']['add'](_0x2e4adb),this['_lights']['push'](_0x2e4adb),this['markLights'+'Dirty']()),_0x2e4adb['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x2e4adb);}['removeLigh'+'t'](_0x17941f){const _0x3556bf=_0x17941f['light'];this['_lightsSet']['has'](_0x3556bf)&&(this['_lightsSet']['delete'](_0x3556bf),this['_lights']['splice'](this['_lights']['indexOf'](_0x3556bf),0x1f58+-0x10*0x67+-0x18e7),this['markLights'+'Dirty']()),_0x3556bf['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x3556bf);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x3add5c=>_0x3add5c['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x5*-0x29f+0x3b4*-0x7+0x2707,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1a*0xeb+0xa3b+-0x4*-0x369);const _0x431457=this['_splitLigh'+'ts'];for(let _0x1f1a30=0xfd*-0x1+0x1b*0x12+0xe9*-0x1;_0x1f1a30<_0x431457['length'];_0x1f1a30++)_0x431457[_0x1f1a30]['length']=0x784+0x112d+0x1*-0x18b1;const _0x509f38=this['_lights'];for(let _0x58c26e=0x1861+0x26*-0x8f+0x10d*-0x3;_0x58c26e<_0x509f38['length'];_0x58c26e++){const _0x384025=_0x509f38[_0x58c26e];_0x384025['enabled']&&_0x431457[_0x384025['_type']]['push'](_0x384025);}for(let _0xf58658=0x1d1b+0xcb5+-0x29d0;_0xf58658<_0x431457['length'];_0xf58658++)_0x431457[_0xf58658]['sort']((_0x80a88d,_0x345793)=>_0x80a88d['key']-_0x345793['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x54b77e,_0x150a24,_0x4bd429){let _0x5351f0=0x24f*0x7+0x49*0x6a+-0x2e63*0x1;const _0x551a39=this['_lights'];for(let _0x56f86b=0x220+0x4*-0xf+-0x1e4;_0x56f86b<_0x551a39['length'];_0x56f86b++){const _0x221718=_0x551a39[_0x56f86b]['type']!==ve;(_0x54b77e&&_0x221718||_0x150a24&&!_0x221718)&&co['push'](_0x4bd429?_0x551a39[_0x56f86b]['id']:_0x551a39[_0x56f86b]['key']);}return co['length']>0x209d+0x1090+-0x312d&&(co['sort'](),_0x5351f0=By(co),co['length']=-0x2688+0xb52+0x1b36),_0x5351f0;}['getLightHa'+'sh'](_0x585524){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x2e9*-0x1+-0x2147+0x2431),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x585524,!(0x11cf*-0x1+0x2*-0x209+-0x15e1*-0x1),!(0x17e*0x12+0x183b*0x1+-0x3316))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0xb33+-0x3df*-0x3+0x16cf*-0x1),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x71c+-0x1*0x1aaa+0x21c6),!(-0x608*-0x2+-0x2*0x20c+-0x7f7),!(-0xdb7+0xc9c+0x11b))),this['_lightIdHa'+'sh'];}['addCamera'](_0x57b8d1){this['camerasSet']['has'](_0x57b8d1['camera'])||(this['camerasSet']['add'](_0x57b8d1['camera']),this['cameras']['push'](_0x57b8d1),this['_dirtyComp'+'osition']=!(0x67*-0x1f+-0xad9+0x4aa*0x5));}['removeCame'+'ra'](_0x96d009){if(this['camerasSet']['has'](_0x96d009['camera'])){this['camerasSet']['delete'](_0x96d009['camera']);const _0x44b724=this['cameras']['indexOf'](_0x96d009);this['cameras']['splice'](_0x44b724,-0x133*-0xb+-0x13d+0x85*-0x17),this['_dirtyComp'+'osition']=!(0x188*0x4+0x1*0x3d3+-0x9f3);}}['clearCamer'+'as'](){this['cameras']['length']=-0xfdd+0x4e4+0xaf9*0x1,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x1*-0x137b+0xf5*0x6+0x1*0xdbd);}['_calculate'+'SortDistan'+'ces'](_0x45aecd,_0x2ee09a,_0x34e040){const _0x56270f=_0x45aecd['length'],{x:_0x4af10c,y:_0x1a9e98,z:_0x5d8978}=_0x2ee09a,{x:_0x30e8a5,y:_0x1333a1,z:_0xcb644f}=_0x34e040;for(let _0x2bc6e4=0x1ee0+0x7*-0x5+0xb7*-0x2b;_0x2bc6e4<_0x56270f;_0x2bc6e4++){const _0x5eb903=_0x45aecd[_0x2bc6e4];let _0x158a21;if(_0x5eb903['calculateS'+'ortDistanc'+'e'])_0x158a21=_0x5eb903['calculateS'+'ortDistanc'+'e'](_0x5eb903,_0x2ee09a,_0x34e040);else{const _0x356b79=_0x5eb903['aabb']['center'];_0x158a21=(_0x356b79['x']-_0x4af10c)*_0x30e8a5+(_0x356b79['y']-_0x1a9e98)*_0x1333a1+(_0x356b79['z']-_0x5d8978)*_0xcb644f;}const _0x15e8a1=_0x5eb903['_drawBucke'+'t']*(0x403c0726+-0x17fb59*-0x151+0xf*-0x269cec1);_0x5eb903['_sortKeyDy'+'namic']=_0x15e8a1+_0x158a21;}}['getCulledI'+'nstances'](_0x1af0e0){let _0x3eff05=this['_visibleIn'+'stances']['get'](_0x1af0e0);return _0x3eff05||(_0x3eff05=new nA(),this['_visibleIn'+'stances']['set'](_0x1af0e0,_0x3eff05)),_0x3eff05;}['sortVisibl'+'e'](_0x355044,_0x4d608c){const _0x561a38=_0x4d608c?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x561a38===Yc)return;const _0x9fa742=this['getCulledI'+'nstances'](_0x355044),_0x3b6b7f=_0x4d608c?_0x9fa742['transparen'+'t']:_0x9fa742['opaque'],_0x1688c8=_0x355044['node'];if(_0x561a38===Zw){const _0x4ff1de=_0x1688c8['getPositio'+'n'](),_0x1bb48d=_0x1688c8['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x3b6b7f,_0x3b6b7f['length'],_0x4ff1de,_0x1bb48d),this['customSort'+'Callback']&&_0x3b6b7f['sort'](this['customSort'+'Callback']);}else{if(_0x561a38===m_||_0x561a38===Kw){const _0x375207=_0x1688c8['getPositio'+'n'](),_0x44bec5=_0x1688c8['forward'];this['_calculate'+'SortDistan'+'ces'](_0x3b6b7f,_0x375207,_0x44bec5);}_0x3b6b7f['sort'](aA[_0x561a38]);}}}const oA=(_0x5559c3,_0x307954)=>_0x5559c3['priority']-_0x307954['priority'],ul=_0x1b84e7=>_0x1b84e7['sort'](oA);class du extends me{constructor(_0x13f17d='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x19b+-0x594*0x6+-0x1fde*-0x1)),(this['name']=_0x13f17d,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x228de0=>_0x228de0['destroy']()),this['_renderAct'+'ions']['length']=0x1155+-0x251b+-0x2*-0x9e3;}['markDirty'](){this['_dirty']=!(-0xa73+-0xe8b+0x1*0x18fe);}['_update'](){const _0x231743=this['layerList']['length'];if(!this['_dirty']){for(let _0x389ac7=0x20ce+-0x1c6e+0x50*-0xe;_0x389ac7<_0x231743;_0x389ac7++)if(this['layerList'][_0x389ac7]['_dirtyComp'+'osition']){this['_dirty']=!(-0x11da+-0x1ea8+0x3082);break;}}if(this['_dirty']){this['_dirty']=!(-0x7*-0x589+0x3*0x1e7+-0x3*0xed1),this['cameras']['length']=-0x5*-0x6ad+-0x18e8+-0xf1*0x9;for(let _0x55ea7d=-0xa*-0x266+0x6*-0x3b4+-0x1c4;_0x55ea7d<_0x231743;_0x55ea7d++){const _0x29cec8=this['layerList'][_0x55ea7d];_0x29cec8['_dirtyComp'+'osition']=!(-0xedc+-0x2441+0x331e);for(let _0x55f122=-0x2234+-0x19c5+-0x3bf9*-0x1;_0x55f122<_0x29cec8['cameras']['length'];_0x55f122++){const _0x5a7cd1=_0x29cec8['cameras'][_0x55f122];this['cameras']['indexOf'](_0x5a7cd1)<-0xe59+0x1fd2+-0x9*0x1f1&&this['cameras']['push'](_0x5a7cd1);}}this['cameras']['length']>0x25a3*0x1+-0x52*0x47+-0xee4&&ul(this['cameras']);let _0x489489=-0x923*0x2+-0x11a4+-0x23ea*-0x1;this['destroyRen'+'derActions']();for(let _0x368a69=-0x26*0xad+-0x2d*0xc8+0x2*0x1e6b;_0x368a69<this['cameras']['length'];_0x368a69++){const _0x3d12e7=this['cameras'][_0x368a69];if(_0x3d12e7['camera']['renderPass'+'es']['length']>0x1c8c+0x26c*0x8+-0x2fec){this['addDummyRe'+'nderAction'](_0x489489,_0x3d12e7),_0x489489++;continue;}let _0x2ebba9=!(0xb5*-0x20+-0x2284+-0xc*-0x4c3);const _0x161102=_0x489489;let _0x18fad9=null,_0x297c72=!(0xb*0x1af+0xc3*0x7+-0x17d9);for(let _0x40ff8e=0x634*-0x1+0xd*0x2c6+-0x1dda;_0x40ff8e<_0x231743;_0x40ff8e++){const _0x1b9d8c=this['layerList'][_0x40ff8e];if(_0x1b9d8c['enabled']&&this['subLayerEn'+'abled'][_0x40ff8e]&&_0x1b9d8c['cameras']['length']>0x20d3+0x653*0x6+-0x46c5&&_0x3d12e7['layers']['indexOf'](_0x1b9d8c['id'])>=-0x6*-0x538+0x150b+-0x407*0xd){!_0x297c72&&_0x1b9d8c['id']===_0x3d12e7['disablePos'+'tEffectsLa'+'yer']&&(_0x297c72=!(-0x15e8+-0xbf5*0x1+0x1*0x21dd),_0x18fad9&&(_0x18fad9['triggerPos'+'tprocess']=!(0xa7*-0x21+0xdf8+0x78f)));const _0x3f2207=this['subLayerLi'+'st'][_0x40ff8e];_0x18fad9=this['addRenderA'+'ction'](_0x489489,_0x1b9d8c,_0x3f2207,_0x3d12e7,_0x2ebba9,_0x297c72),_0x489489++,_0x2ebba9=!(-0xb17+0x1*-0x1286+0x1*0x1d9e);}}_0x161102<_0x489489&&(_0x18fad9['lastCamera'+'Use']=!(-0x21d3+-0xdcf+-0x17d1*-0x2)),!_0x297c72&&_0x18fad9&&(_0x18fad9['triggerPos'+'tprocess']=!(0x1b8a+-0x5df+-0x15ab)),_0x3d12e7['renderTarg'+'et']&&_0x3d12e7['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x161102-(0x33f+0x18a3+-0x1be1),_0x3d12e7);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x2f4c7a){w['assert'](this['_renderAct'+'ions']['length']===_0x2f4c7a);const _0x3bb694=new Pv();return this['_renderAct'+'ions']['push'](_0x3bb694),_0x3bb694;}['addDummyRe'+'nderAction'](_0x3a30ee,_0x1c51e1){const _0x144945=this['getNextRen'+'derAction'](_0x3a30ee);_0x144945['camera']=_0x1c51e1,_0x144945['useCameraP'+'asses']=!(-0x169c+0x1416+0x286);}['addRenderA'+'ction'](_0x52e9ee,_0x355b54,_0x2a0e19,_0x5d1361,_0x2ba9af,_0x5ace07){let _0x4afd31=_0x355b54['id']!==ps?_0x5d1361['renderTarg'+'et']:null,_0x3e3d37=!(-0x1141+0x1c83+-0xb41);const _0xe4e55c=this['_renderAct'+'ions'];for(let _0x13a0e3=_0x52e9ee-(-0x1217+-0x19e6+-0x6*-0x755);_0x13a0e3>=-0x26ec+-0x1*0x1ad7+0x1c7*0x25;_0x13a0e3--)if(_0xe4e55c[_0x13a0e3]['camera']===_0x5d1361&&_0xe4e55c[_0x13a0e3]['renderTarg'+'et']===_0x4afd31){_0x3e3d37=!(0x2*0x10ba+0x43*-0x95+0x58b);break;}_0x5ace07&&_0x5d1361['postEffect'+'sEnabled']&&(_0x4afd31=null);const _0x17c157=this['getNextRen'+'derAction'](_0x52e9ee);_0x17c157['triggerPos'+'tprocess']=!(0x559*-0x7+0x1*-0x21a7+-0x4717*-0x1),_0x17c157['layer']=_0x355b54,_0x17c157['transparen'+'t']=_0x2a0e19,_0x17c157['camera']=_0x5d1361,_0x17c157['renderTarg'+'et']=_0x4afd31,_0x17c157['firstCamer'+'aUse']=_0x2ba9af,_0x17c157['lastCamera'+'Use']=!(0x122*0x19+-0xaab*-0x2+-0x31a7);const _0x4c5ea0=_0x2ba9af||!_0x3e3d37,_0x208c77=_0x355b54['clearColor'+'Buffer']||_0x355b54['clearDepth'+'Buffer']||_0x355b54['clearStenc'+'ilBuffer'];return(_0x4c5ea0||_0x208c77)&&_0x17c157['setupClear'+'s'](_0x4c5ea0?_0x5d1361:void(0x2497+0x1ebb*-0x1+-0x1e*0x32),_0x355b54),_0x17c157;}['propagateR'+'enderTarge'+'t'](_0x3e0bde,_0x2fd6d5){for(let _0x2880d1=_0x3e0bde;_0x2880d1>=0x1959+0x15e0+0xb*-0x44b;_0x2880d1--){const _0x2b1735=this['_renderAct'+'ions'][_0x2880d1],_0x5c0be2=_0x2b1735['layer'];if(_0x2b1735['renderTarg'+'et']&&_0x5c0be2['id']!==ps)break;if(_0x5c0be2['id']===ps)continue;if(_0x2b1735['useCameraP'+'asses'])break;const _0x4e6c11=_0x2b1735==null?void(0x682+0xd*0x16c+-0x18fe):_0x2b1735['camera']['camera'];if(_0x4e6c11&&(!_0x2fd6d5['camera']['rect']['equals'](_0x4e6c11['rect'])||!_0x2fd6d5['camera']['scissorRec'+'t']['equals'](_0x4e6c11['scissorRec'+'t'])))break;_0x2b1735['renderTarg'+'et']=_0x2fd6d5['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x4757b4=-0x6*0x272+-0xc7b+0x1b27;_0x4757b4<this['_renderAct'+'ions']['length'];_0x4757b4++){const _0x549366=this['_renderAct'+'ions'][_0x4757b4],_0xcf06ec=_0x549366['camera'];if(_0x549366['useCameraP'+'asses'])w['trace'](Vl,_0x4757b4+('CustomPass'+'es\x20Cam:\x20')+(_0xcf06ec?_0xcf06ec['entity']['name']:'-'));else{const _0x22f1fc=_0x549366['layer'],_0x1c9805=_0x22f1fc['enabled']&&this['isEnabled'](_0x22f1fc,_0x549366['transparen'+'t']),_0x10cc34=(_0x549366['clearColor']?'Color\x20':'.....\x20')+(_0x549366['clearDepth']?'Depth\x20':'.....\x20')+(_0x549366['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x4757b4+('\x20Cam:\x20'+(_0xcf06ec?_0xcf06ec['entity']['name']:'-'))['padEnd'](-0x31*0x1c+-0x1*-0x2065+-0x1af3*0x1,'\x20')+('\x20Lay:\x20'+_0x22f1fc['name'])['padEnd'](-0x6*0x18+-0x1*-0x93d+-0x897,'\x20')+(_0x549366['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x1c9805?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x549366['renderTarg'+'et']?_0x549366['renderTarg'+'et']['name']:'-'))['padEnd'](0x10c6+-0x8*-0x18a+0x8*-0x39f,'\x20')+'\x20Clear:\x20'+_0x10cc34+(_0x549366['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x549366['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x549366['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x3afd22){const _0xc575a=this['layerIdMap']['get'](_0x3afd22['id'])===_0x3afd22;return w['assert'](!_0xc575a,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x3afd22['name']),_0xc575a;}['_isSublaye'+'rAdded'](_0x2648ce,_0x20f3fe){return(_0x20f3fe?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x2648ce)!==void(-0x1*-0x25c9+-0x78d*-0x3+-0x3c70)?(w['error']('Sublayer\x20'+_0x2648ce['name']+(',\x20transpar'+'ent:\x20')+_0x20f3fe+('\x20is\x20alread'+'y\x20added.')),!(0x24a3+-0x1aa*0xb+0xf7*-0x13)):!(-0xdad+-0xa59+-0x1807*-0x1);}['push'](_0x136f64){this['_isLayerAd'+'ded'](_0x136f64)||(this['layerList']['push'](_0x136f64),this['layerList']['push'](_0x136f64),this['_opaqueOrd'+'er'][_0x136f64['id']]=this['subLayerLi'+'st']['push'](!(-0x2277+0xa65*0x3+0x349*0x1))-(0xcaf+-0xf*0x255+0x164d),this['_transpare'+'ntOrder'][_0x136f64['id']]=this['subLayerLi'+'st']['push'](!(-0x1d0d+-0x1bbe+0x38cb*0x1))-(-0xfd9*-0x1+0x1e20*0x1+-0x2df8),this['subLayerEn'+'abled']['push'](!(-0x9*0x53+-0x119*-0x18+0x1*-0x176d)),this['subLayerEn'+'abled']['push'](!(-0x14a6+0x44a+-0x2ba*-0x6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x30b+0x3ae+0xa3*-0x1),this['fire']('add',_0x136f64));}['insert'](_0x423127,_0x425e28){if(this['_isLayerAd'+'ded'](_0x423127))return;this['layerList']['splice'](_0x425e28,0x830+-0x6b*-0x47+0x1b*-0x167,_0x423127,_0x423127),this['subLayerLi'+'st']['splice'](_0x425e28,-0x17*-0xd+0x18d*-0xc+0x5*0x37d,!(-0x30+-0xa9c+0xacd),!(0xe*-0x117+0x1298+-0x1*0x356));const _0x38990a=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x425e28,_0x38990a-(-0x59d*-0x2+-0x1de1*0x1+-0x4aa*-0x4)),this['_updateTra'+'nsparentOr'+'der'](_0x425e28,_0x38990a-(0x880+0x1edb+0x17*-0x1b6)),this['subLayerEn'+'abled']['splice'](_0x425e28,-0x1*0xb0a+0x1*0x493+0x677,!(0x179e+0xccd+-0x246b*0x1),!(-0x860+0xb04+-0x2a4)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x133c+0x118c+0x1b0),this['fire']('add',_0x423127);}['remove'](_0x566400){let _0x2ad268=this['layerList']['indexOf'](_0x566400);for(delete this['_opaqueOrd'+'er'][_0x2ad268],delete this['_transpare'+'ntOrder'][_0x2ad268];_0x2ad268>=-0x6*0xaa+-0x1*-0xc13+-0x817;)this['layerList']['splice'](_0x2ad268,-0x180a+-0xf00+-0x7cf*-0x5),this['subLayerLi'+'st']['splice'](_0x2ad268,0xe09*0x2+-0x24be+0x8ad),this['subLayerEn'+'abled']['splice'](_0x2ad268,0xc46+-0x65f+-0x1*0x5e6),_0x2ad268=this['layerList']['indexOf'](_0x566400),this['_dirty']=!(0x2464*0x1+-0x16e7+-0xd7d),this['fire']('remove',_0x566400);const _0x4a79db=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x2*0xb47+-0x1*-0x21e5+-0xb57,_0x4a79db-(-0x1*0x35f+-0x117f+0x14df)),this['_updateTra'+'nsparentOr'+'der'](0x11*0xce+0x22*0x1+-0xdd0,_0x4a79db-(-0x1*-0x1c99+-0x11*-0x101+-0x2da9*0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x184b27){this['_isSublaye'+'rAdded'](_0x184b27,!(-0x1a12+-0x1e97+0x38aa))||(this['layerList']['push'](_0x184b27),this['_opaqueOrd'+'er'][_0x184b27['id']]=this['subLayerLi'+'st']['push'](!(-0x14*0x1a5+-0x773*-0x4+0x1*0x319))-(-0x5d2*-0x6+-0x1d08+-0x89*0xb),this['subLayerEn'+'abled']['push'](!(-0xb*0x85+-0x2*-0x12a7+-0x1f97)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x7*0x2b+-0x8f3+-0x18e*-0x5),this['fire']('add',_0x184b27));}['insertOpaq'+'ue'](_0x45e442,_0x2e1cab){if(this['_isSublaye'+'rAdded'](_0x45e442,!(0x6be+0x7*0x47+-0x8ae)))return;this['layerList']['splice'](_0x2e1cab,0x107*0x21+-0x16c*-0x1+0x1*-0x2353,_0x45e442),this['subLayerLi'+'st']['splice'](_0x2e1cab,-0x115*0x19+0xfd+-0x30*-0x8b,!(0x2*-0x1348+0x3c9*-0x3+0x31ec));const _0x6bede7=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x2e1cab,_0x6bede7-(0x978+-0x2055+-0x1*-0x16de)),this['subLayerEn'+'abled']['splice'](_0x2e1cab,-0x1674*-0x1+-0x1*-0x85d+-0x1ed1,!(0x2*-0xdb7+0x6b*0x11+0x2b*0x79)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x8e1*-0x1+-0x7*0xf1+0xf78),this['fire']('add',_0x45e442);}['removeOpaq'+'ue'](_0x47911d){for(let _0xe5feb4=0x1866+0x2097+0x12ff*-0x3,_0x87aa1e=this['layerList']['length'];_0xe5feb4<_0x87aa1e;_0xe5feb4++)if(this['layerList'][_0xe5feb4]===_0x47911d&&!this['subLayerLi'+'st'][_0xe5feb4]){this['layerList']['splice'](_0xe5feb4,0x1cda*-0x1+-0x2524+0x41ff),this['subLayerLi'+'st']['splice'](_0xe5feb4,0x1ab3+0x1005*0x2+0x2a*-0x166),_0x87aa1e--,this['_updateOpa'+'queOrder'](_0xe5feb4,_0x87aa1e-(0x3d*-0x3d+-0x120+-0x7d5*-0x2)),this['subLayerEn'+'abled']['splice'](_0xe5feb4,-0xd31+0x1e5c+0x2*-0x895),this['_dirty']=!(-0xf*0x115+0xa5e*-0x1+-0x1a99*-0x1),this['layerList']['indexOf'](_0x47911d)<-0x136d+-0x403*0x5+-0xe*-0x2d2&&this['fire']('remove',_0x47911d);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x4587f4){this['_isSublaye'+'rAdded'](_0x4587f4,!(-0x164e*0x1+0xb7e*-0x3+0x38c8))||(this['layerList']['push'](_0x4587f4),this['_transpare'+'ntOrder'][_0x4587f4['id']]=this['subLayerLi'+'st']['push'](!(0x336+-0x2405+0x20cf))-(0x1d23+-0x1d33+0x1*0x11),this['subLayerEn'+'abled']['push'](!(-0xf7c+-0xb2+-0x6d*-0x26)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x5*0x2f0+-0x34*0x25+-0x72c),this['fire']('add',_0x4587f4));}['insertTran'+'sparent'](_0x5a94e6,_0x2f7446){if(this['_isSublaye'+'rAdded'](_0x5a94e6,!(0x1c42+-0xc*0x2bf+0x1*0x4b2)))return;this['layerList']['splice'](_0x2f7446,-0xdb5+0x15d3+-0x81e,_0x5a94e6),this['subLayerLi'+'st']['splice'](_0x2f7446,0xa27+0x25af+-0x2fd6,!(0x123f*0x2+0x24d+-0x26cb*0x1));const _0x166850=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x2f7446,_0x166850-(-0x1fd7+-0x4b*-0xf+0x1b73)),this['subLayerEn'+'abled']['splice'](_0x2f7446,0x1b80+-0x25*-0x8c+-0x2fbc,!(0x1ff+-0x20*-0xce+0x1*-0x1bbf)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1c79+0x54*-0x1a+-0x13f1),this['fire']('add',_0x5a94e6);}['removeTran'+'sparent'](_0x5ec9ca){for(let _0x2480e2=-0xc*-0x25d+-0x7f3+-0x5f*0x37,_0x1cbe89=this['layerList']['length'];_0x2480e2<_0x1cbe89;_0x2480e2++)if(this['layerList'][_0x2480e2]===_0x5ec9ca&&this['subLayerLi'+'st'][_0x2480e2]){this['layerList']['splice'](_0x2480e2,-0x1bcc+-0x113a+0x2d07),this['subLayerLi'+'st']['splice'](_0x2480e2,0x3*-0x9+-0xc6+0xe2),_0x1cbe89--,this['_updateTra'+'nsparentOr'+'der'](_0x2480e2,_0x1cbe89-(0xf52+-0x1d5c+-0x2cf*-0x5)),this['subLayerEn'+'abled']['splice'](_0x2480e2,-0xb81+0x18f+0x9f3),this['_dirty']=!(-0x3ac+0x185a+-0x14ae),this['layerList']['indexOf'](_0x5ec9ca)<-0x1b10+-0x1*0x903+0x2413&&this['fire']('remove',_0x5ec9ca);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x95e3b6){return this['layerOpaqu'+'eIndexMap']['get'](_0x95e3b6)??-(0x1*-0x1fc1+0x263*0xe+-0x1*0x1a8);}['getTranspa'+'rentIndex'](_0x4108de){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x4108de)??-(-0x1f*0x94+-0xe11+0x1ffe);}['isEnabled'](_0x1aab5c,_0x91fd8c){if(_0x1aab5c['enabled']){const _0x4d85b3=_0x91fd8c?this['getTranspa'+'rentIndex'](_0x1aab5c):this['getOpaqueI'+'ndex'](_0x1aab5c);if(_0x4d85b3>=-0x16f0+0x6*0x5df+-0x2*0x625)return this['subLayerEn'+'abled'][_0x4d85b3];}return!(-0x1f2c+0x1688+0x8a5);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x29624e=0x125*0x12+0x1012+0x1*-0x24ac;_0x29624e<this['layerList']['length'];_0x29624e++){const _0x52aef9=this['layerList'][_0x29624e];this['layerIdMap']['set'](_0x52aef9['id'],_0x52aef9),this['layerNameM'+'ap']['set'](_0x52aef9['name'],_0x52aef9),(this['subLayerLi'+'st'][_0x29624e]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x52aef9,_0x29624e);}}['getLayerBy'+'Id'](_0xb3ce0c){return this['layerIdMap']['get'](_0xb3ce0c)??null;}['getLayerBy'+'Name'](_0xb9bf66){return this['layerNameM'+'ap']['get'](_0xb9bf66)??null;}['_updateOpa'+'queOrder'](_0x20018e,_0x1bec1b){for(let _0x480639=_0x20018e;_0x480639<=_0x1bec1b;_0x480639++)this['subLayerLi'+'st'][_0x480639]===!(0xbab+-0x20a0+0x2*0xa7b)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x480639]['id']]=_0x480639);}['_updateTra'+'nsparentOr'+'der'](_0x24dfe4,_0x1a9e09){for(let _0x51c0d6=_0x24dfe4;_0x51c0d6<=_0x1a9e09;_0x51c0d6++)this['subLayerLi'+'st'][_0x51c0d6]===!(0x183e*-0x1+-0xe24*0x1+0x2662)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x51c0d6]['id']]=_0x51c0d6);}['_sortLayer'+'sDescendin'+'g'](_0x318451,_0x11f2b9,_0xe922e0){let _0x1c91e3=-(0x206*0x7+-0x1c44+0x9d*0x17),_0x5d6884=-(0x1005*-0x2+-0x85f+0x1435*0x2);for(let _0x3a175b=0x6e8+0x1aed+-0x1*0x21d5,_0x1ca098=_0x318451['length'];_0x3a175b<_0x1ca098;_0x3a175b++){const _0x370393=_0x318451[_0x3a175b];_0xe922e0['hasOwnProp'+'erty'](_0x370393)&&(_0x1c91e3=Math['max'](_0x1c91e3,_0xe922e0[_0x370393]));}for(let _0xf2bc79=0x57*0x5a+0x180c+0x91b*-0x6,_0x345571=_0x11f2b9['length'];_0xf2bc79<_0x345571;_0xf2bc79++){const _0x14e9dd=_0x11f2b9[_0xf2bc79];_0xe922e0['hasOwnProp'+'erty'](_0x14e9dd)&&(_0x5d6884=Math['max'](_0x5d6884,_0xe922e0[_0x14e9dd]));}return _0x1c91e3===-(0x5ae*-0x3+-0xbd+0x11c8)&&_0x5d6884!==-(-0x2588+-0x323*-0x1+0x2266)?0x2*-0x9af+-0x1*0xbc5+0x1f24:_0x5d6884===-(-0x2613+0x1ea9+0x76b)&&_0x1c91e3!==-(-0x20e9+-0xdf8*0x1+-0x1*-0x2ee2)?-(0x26a6+-0x1d28+-0x97d):_0x5d6884-_0x1c91e3;}['sortTransp'+'arentLayer'+'s'](_0x419571,_0xb91398){return this['_sortLayer'+'sDescendin'+'g'](_0x419571,_0xb91398,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0xea2d6a,_0x33806f){return this['_sortLayer'+'sDescendin'+'g'](_0xea2d6a,_0x33806f,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x2121+0x1bb4+0x3*0x1cf,-0x232c+-0xd*0xa3+0xe3*0x31,0x3c6+-0x1582+0x11bd,0x4*0x4a6+-0x17c5+0x297*0x2)],[new re(-0x2b*-0x4f+0x8*0x4be+-0x3335,0x2590+-0x652+-0x1f3e,0x7*-0x199+0x13*-0xab+0x20*0xbf+0.5,0x17dc+0x23a8+0x125*-0x34+0.5),new re(0x2*0x39+0x5f1+-0x5*0x147,-0x5*0x96+-0x32f+0x61d+0.5,0x1*0x1e6b+0x52*0x72+0x42ef*-0x1+0.5,0x376*0x1+0x1b5*-0x7+0x87d+0.5)],[new re(0x1*-0x224e+-0x1*0x1a0d+0x3c5b,0x5*-0x32+0x4*-0x7ac+-0x1*-0x1faa,0x1*0xf23+0x373*0x7+0x4e9*-0x8+0.5,0x2045+-0x16d5+-0x2*0x4b8+0.5),new re(0x1*0x25f2+-0x244*0xf+0x1fb*-0x2,0x1*-0x19b5+0x9d1*-0x1+0x2386*0x1+0.5,-0x3a6+0xb5*0x31+0xa55*-0x3+0.5,-0x4a7*0x6+0xc46+-0x11e*-0xe+0.5),new re(0x1a6*0x12+-0x2054+0x2a8+0.5,0x7b6+0x3*-0x8da+0x12d8,0x1bff+-0x2*-0xd+-0x1c19+0.5,-0xd*0x141+0x167+0x2*0x773+0.5)],[new re(0x1562+-0xfda+0x588*-0x1,0x6e4+-0xb42+0x2b*0x1a,-0x178*0xe+0x1dd*0x8+0xb5*0x8+0.5,-0x1747+-0x1*0x16d7+-0x1*-0x2e1e+0.5),new re(-0x4*-0x403+0x1a5c+0x5c*-0x76,0x2e7*0xb+0x156c+-0x3559+0.5,0x37*0xa3+0x22*0xe3+-0x412b+0.5,-0x13*0x135+-0x1d1d*-0x1+-0x62e+0.5),new re(-0x1e19+-0x1*0x8b6+-0x5*-0x7c3+0.5,0x1a62+-0xb*-0x151+-0x28dd,0x1*-0x701+-0xa1*-0x7+0x29a+0.5,0x490+-0xf90+-0x16*-0x80+0.5),new re(0x62*-0x13+-0x5a5*-0x1+-0x3*-0x8b+0.5,0x37+0x1*0x154f+-0x1586+0.5,0x1*-0xed0+-0x12ce*0x1+0x219e+0.5,0x1dfd+-0xa31+-0x13cc+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x24d7*-0x1+-0x1541+-0x1e*0x85;class dA{constructor(_0x454781,_0x4a1ff8,_0x5e930f){this['light']=_0x5e930f,this['camera']=_0x454781,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x5e930f['_shadowTyp'+'e'],_0x5e930f['_type'],_0x4a1ff8),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x1f53+0x911+-0x2864,0x1b76+-0x37f+-0x17f7,-0x787+-0x151e+0x1ca6,0x79*-0x41+-0x827*-0x2+0xd*0x11c),this['shadowScis'+'sor']=new re(0x1ae4+0x2704+-0x41e8,0x1eb*0x12+0x26fc+-0x24c1*0x2,0x96f+0x7*-0x22b+0x5bf,0xad9*-0x2+-0x2*-0x3e+0x1537),this['projection'+'Compensati'+'on']=0x1093+-0x15ac+0x2d*0x1d,this['face']=_0x4a1ff8,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3eaf5a=>{_0x3eaf5a['defaultUni'+'formBuffer']['destroy'](),_0x3eaf5a['destroy']();}),this['viewBindGr'+'oups']['length']=0x1252+-0x2*0x2f+-0x11f4;}get['shadowBuff'+'er'](){const _0x156c99=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x156c99?this['light']['_isPcf']?_0x156c99['depthBuffe'+'r']:_0x156c99['colorBuffe'+'r']:null;}}class pl{constructor(_0x4737f6,_0x28f76d){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0xfd*-0xb+-0x72a*0x1+-0xab*-0x1b),h(this,'clusteredD'+'ata',new Uint32Array(-0x7ea+0x26ff+-0x1f12)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x4737f6,this['clusteredL'+'ighting']=_0x28f76d,this['id']=hA++,this['_evtDevice'+'Restored']=_0x4737f6['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x1415+-0x6fe+-0x3*0x45d+0.8,-0x53*0xb+0x572+-0x25*0xd+0.8,0x466+-0xce3+-0x29*-0x35+0.8),this['_intensity']=-0x223+-0x309+0x52d,this['_affectSpe'+'cularity']=!(-0x1ce4+0x1*-0xe59+0x2b3d),this['_luminance']=-0x1ae5+-0x399+0x1e7e,this['_castShado'+'ws']=!(-0x16b4+-0x1*-0x1e2b+-0x776),this['_enabled']=!(-0x265a+-0x9c2*0x1+-0x71*-0x6d),this['_mask']=Ss,this['isStatic']=!(0x1ed6*0x1+0x1912+0x37e7*-0x1),this['key']=0x7*-0x1f+-0x2071+-0x1*-0x214a,this['bakeDir']=!(0x2e*0x6f+0x846+-0x1c38),this['bakeNumSam'+'ples']=-0x7ab+0xd93+-0x5e7,this['bakeArea']=-0x1338+0x13e2+-0xaa,this['attenuatio'+'nStart']=0x9*0x115+0x109*0x9+-0x1304,this['attenuatio'+'nEnd']=-0x248e+0x227*0x8+-0xf8*-0x14,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x228d+0x13*0x1bf+0x16b*0x1,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0xec4+-0x5d*0x59+0x2f19+0.01)*(-0xaa8+-0x841+0x12e9+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0xa9*0x3+-0x9aa*0x2+0x1*0x115a,this['_cookieFal'+'loff']=!(0x18fd+0x2029*-0x1+-0x4*-0x1cb),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1eaf+-0x1ada+0x398d),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x2*0xd2b+0x47*0x6e+-0x29*0x1a),this['_cookieTra'+'nsformSet']=!(-0x1893+0x2003+-0x76f),this['_cookieOff'+'setSet']=!(-0x2123*-0x1+0x2556+-0x4678),this['_innerCone'+'Angle']=0x43*0x27+0x1*0x2615+0x65*-0x7a,this['_outerCone'+'Angle']=-0x6cd*0x1+-0xd5d+0x29*0x7f,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x994*0x3+0x16d+-0x1e28,this['_cascadeBl'+'end']=-0x1*-0x1874+0x4d2*0x1+-0x1d46,this['cascadeDis'+'tribution']=0x11*0x15b+-0x4a*-0x31+-0xc67*0x3+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0xf97+-0x9*0x101+-0x14f*0x5),this['_updateLin'+'earColor'](),this['_position']=new D(0x3*-0x16a+-0x258e+0x1*0x29cc,0xb93*0x1+0x18ca+-0x3*0xc1f,-0xa1c+0x1f83+0x1567*-0x1),this['_direction']=new D(0xecb*-0x2+0x1e0c+-0x76,0x1c5d+-0x25f7*-0x1+-0x4254,-0x21fb+0x1da+0x2021),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x18c6+-0x55f+-0x12b3)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x23b3+0x6c2*-0x2+-0x3137*-0x1),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0xd2d*0x1+-0x2311+0x76*0x69,this['_shadowRes'+'olution']=-0x160d*-0x1+-0x1394+0x1*0x187,this['_shadowBia'+'s']=-(0x4*-0x503+-0x2f7*0xd+0x3a97+0.0005),this['_shadowInt'+'ensity']=0x7d7*-0x3+-0x241c*0x1+0x3ba2,this['_normalOff'+'setBias']=-0x1f21+0x1*0x156c+0x47*0x23,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x1d1b*-0x1+-0x3d*-0x83+-0x3c51),this['_isPcf']=!(0x1f13+-0x39a*-0xa+-0x4317*0x1),this['_softShado'+'wParams']=new Float32Array(-0x2184+-0x1*0x626+-0x13d7*-0x2),this['shadowSamp'+'les']=-0x14ca+-0x247b+0xd*0x469,this['shadowBloc'+'kerSamples']=-0x9*0xc3+0x1*-0x17af+-0x1e9a*-0x1,this['penumbraSi'+'ze']=-0x7c4*0x1+-0x529*0x1+-0x2*-0x677,this['penumbraFa'+'lloff']=0x2569+-0x386*0x7+0x65f*-0x2,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x8f4+0x184c+-0x3*0xb15),this['atlasVersi'+'on']=0x72d+0xfe*-0x1d+0x1599,this['atlasSlotI'+'ndex']=-0x2a*0x89+-0xf36+0x90*0x43,this['atlasSlotU'+'pdated']=!(0x6*-0x51a+0x1a6*-0x9+0x2d73),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x17e5+0x25cd*0x1+-0x1*0x3db1),this['maxScreenS'+'ize']=-0x854*-0x2+0x4*-0x5c9+0x67c,this['_updateSha'+'dowBias']());}['destroy'](){var _0xe2d997;(_0xe2d997=this['_evtDevice'+'Restored'])==null||_0xe2d997['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x40b1f4=-0x1*-0x599+0x2b*-0x25+-0x2*-0x4f;_0x40b1f4<this['_renderDat'+'a']['length'];_0x40b1f4++)this['_renderDat'+'a'][_0x40b1f4]['destroy']();this['_renderDat'+'a']['length']=-0x1e71+-0x2*-0x10e7+-0x3*0x11f;}}['addLayer'](_0xd7b751){this['layers']['add'](_0xd7b751);}['removeLaye'+'r'](_0x3b9737){this['layers']['delete'](_0x3b9737);}set['shadowSamp'+'les'](_0x1af4ae){this['_softShado'+'wParams'][0xe34+-0x73f*-0x5+-0x326f]=_0x1af4ae;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1b7*-0x1+0x1576+-0x172d];}set['shadowBloc'+'kerSamples'](_0x78e702){this['_softShado'+'wParams'][-0x12*0xf9+-0x1ed6+0x3059]=_0x78e702;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x12*-0x4+-0x23b8+-0xd3*-0x2b];}set['shadowBias'](_0xb1cb8f){this['_shadowBia'+'s']!==_0xb1cb8f&&(this['_shadowBia'+'s']=_0xb1cb8f,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x36b0f1){(!this['cascades']||this['numCascade'+'s']!==_0x36b0f1)&&(this['cascades']=lA[_0x36b0f1-(0x6f*0x14+-0x9d*0x2d+-0x977*-0x2)],this['_shadowMat'+'rixPalette']=new Float32Array(-0xbf*0x3+-0x2af+0x52c),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1*-0x801+0x1*0x1fde+-0x21*0xb9),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x4b6ddc){this['_cascadeBl'+'end']!==_0x4b6ddc&&(this['_cascadeBl'+'end']=_0x4b6ddc,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x453c25){this['_shadowMap']!==_0x453c25&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x453c25);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x115027){this['_mask']!==_0x115027&&(this['_mask']=_0x115027,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x14855c=this['_type'];return _0x14855c===ve?this['numCascade'+'s']:_0x14855c===Ke?0x5a*-0x6e+-0x36d*0x1+0x2a1f*0x1:0x1*-0x9b1+0x1ee2+-0x1530;}set['type'](_0x154f05){if(this['_type']===_0x154f05)return;this['_type']=_0x154f05,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x3a0986=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x3a0986;}get['type'](){return this['_type'];}set['shape'](_0x85c952){if(this['_shape']===_0x85c952)return;this['_shape']=_0x85c952,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0xa6c466=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0xa6c466;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x1b7d8c){this['_usePhysic'+'alUnits']!==_0x1b7d8c&&(this['_usePhysic'+'alUnits']=_0x1b7d8c,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x1c9b72){if(this['_shadowTyp'+'e']===_0x1c9b72)return;let _0x47672a=qi['get'](_0x1c9b72);_0x47672a||(_0x1c9b72=$s);const _0x440d0c=this['device'];_0x1c9b72===al&&!_0x440d0c['textureFlo'+'atRenderab'+'le']&&!_0x440d0c['textureHal'+'fFloatRend'+'erable']&&(_0x1c9b72=$s),this['_type']===Ke&&_0x1c9b72!==tv&&_0x1c9b72!==$s&&_0x1c9b72!==sv&&_0x1c9b72!==iv&&_0x1c9b72!==al&&(_0x1c9b72=$s),_0x1c9b72===Jp&&(!_0x440d0c['textureFlo'+'atRenderab'+'le']||!_0x440d0c['textureFlo'+'atFilterab'+'le'])&&(_0x1c9b72=au),_0x1c9b72===au&&!_0x440d0c['textureHal'+'fFloatRend'+'erable']&&(_0x1c9b72=$s),_0x47672a=qi['get'](_0x1c9b72),this['_isVsm']=(_0x47672a==null?void(0x3*-0x167+-0x3*0xaab+0x73e*0x5):_0x47672a['vsm'])??!(0x7f*0x4b+0x1083+-0x35b7),this['_isPcf']=(_0x47672a==null?void(-0x2*0xa07+-0x9a*0x35+-0x1*-0x33f0):_0x47672a['pcf'])??!(0x3fe+-0x1a33*-0x1+-0x1e30),this['_shadowTyp'+'e']=_0x1c9b72,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x4e5162){this['_enabled']!==_0x4e5162&&(this['_enabled']=_0x4e5162,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x5282e0){this['_castShado'+'ws']!==_0x5282e0&&(this['_castShado'+'ws']=_0x5282e0,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x1d79+-0x26bf+0x946;}set['shadowInte'+'nsity'](_0x1301be){this['_shadowInt'+'ensity']!==_0x1301be&&(this['_shadowInt'+'ensity']=_0x1301be,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x3d34b6){this['_shadowRes'+'olution']!==_0x3d34b6&&(this['_type']===Ke?_0x3d34b6=Math['min'](_0x3d34b6,this['device']['maxCubeMap'+'Size']):_0x3d34b6=Math['min'](_0x3d34b6,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x3d34b6,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xce9700){this['_vsmBlurSi'+'ze']!==_0xce9700&&(_0xce9700%(0x754+0x96*0x2+-0x1*0x87e)===-0x1*-0x1e17+0x10d5*-0x2+0x393&&_0xce9700++,this['_vsmBlurSi'+'ze']=_0xce9700);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x2689fc){if(this['_normalOff'+'setBias']!==_0x2689fc){const _0x5bceac=!this['_normalOff'+'setBias']&&_0x2689fc||this['_normalOff'+'setBias']&&!_0x2689fc;this['_normalOff'+'setBias']=_0x2689fc,_0x5bceac&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x4baa1a){this['_falloffMo'+'de']!==_0x4baa1a&&(this['_falloffMo'+'de']=_0x4baa1a,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x544d29){this['_innerCone'+'Angle']!==_0x544d29&&(this['_innerCone'+'Angle']=_0x544d29,this['_innerCone'+'AngleCos']=Math['cos'](_0x544d29*Math['PI']/(-0x5eb*0x2+0x1310+-0x686)),this['updateClus'+'terData'](!(0xfe8+0x1a6b+-0x2a52),!(-0x22f*0x3+0x1157+-0x565*0x2)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x1f4350){this['_outerCone'+'Angle']!==_0x1f4350&&(this['_outerCone'+'Angle']=_0x1f4350,this['_updateOut'+'erAngle'](_0x1f4350),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5f4155){this['_penumbraS'+'ize']=_0x5f4155,this['_softShado'+'wParams'][-0x7*-0x587+0x13*-0x89+0x14*-0x16d]=_0x5f4155;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x51751c){this['_softShado'+'wParams'][-0x94f*0x2+0x1c4b*-0x1+0x2eec]=_0x51751c;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0xb79*0x1+-0x296*0xe+0x2fb0];}['_updateOut'+'erAngle'](_0x3f83dd){const _0x5b6df0=_0x3f83dd*Math['PI']/(0x8*0x296+-0xd1d+-0x6df);this['_outerCone'+'AngleCos']=Math['cos'](_0x5b6df0),this['_outerCone'+'AngleSin']=Math['sin'](_0x5b6df0),this['updateClus'+'terData'](!(0x24d2+-0x788+-0x165*0x15),!(-0x1b11+-0x6bb*-0x3+0x20*0x37));}set['intensity'](_0x571a90){this['_intensity']!==_0x571a90&&(this['_intensity']=_0x571a90,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0xf82982){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0xf82982,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x21a9bf){this['_luminance']!==_0x21a9bf&&(this['_luminance']=_0x21a9bf,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0x322*0x7+-0x1*0x11ff+0x27ed,-0xc68*-0x2+0x3*-0x622+-0x66a,0x229+-0x7*0x2a5+-0x4f*-0x35,0x117b+-0x12e8+-0x3*-0x7a)),this['_atlasView'+'port'];}set['cookie'](_0x3ed6c0){this['_cookie']!==_0x3ed6c0&&(this['_cookie']=_0x3ed6c0,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x56464e){this['_cookieFal'+'loff']!==_0x56464e&&(this['_cookieFal'+'loff']=_0x56464e,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x40ac60){if(this['_cookieCha'+'nnel']!==_0x40ac60){if(_0x40ac60['length']<-0x1864+0xd9+0xa*0x25b){const _0x333f44=_0x40ac60['charAt'](_0x40ac60['length']-(-0x13*0x5+-0x1c89+0x1*0x1ce9)),_0x1ee444=0x232*0x7+-0x1*-0x1f7+-0x5c6*0x3-_0x40ac60['length'];for(let _0x3ba64c=0x81d+0xde4+0x83*-0x2b;_0x3ba64c<_0x1ee444;_0x3ba64c++)_0x40ac60+=_0x333f44;}this['_cookieCha'+'nnel']=_0x40ac60,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x110e7c){this['_cookieTra'+'nsform']!==_0x110e7c&&(this['_cookieTra'+'nsform']=_0x110e7c,this['_cookieTra'+'nsformSet']=!!_0x110e7c,_0x110e7c&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0xa08+0x423*0x4+0x1*-0x1a93)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x162ace){if(this['_cookieOff'+'set']===_0x162ace)return;!!(this['_cookieTra'+'nsformSet']||_0x162ace)&&!_0x162ace&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0xd64+-0x156+-0xc0e,0xf9b+0x1efe+-0x2e99):this['_cookieOff'+'set']=_0x162ace,this['_cookieOff'+'setSet']=!!_0x162ace,_0x162ace&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0xb*-0x123+-0x14be+0x1a6*0x5,-0x9*0x31b+-0x438+0x202c,0x16*-0x1b1+-0xaa+0x1*0x25e0,0x12*0x185+0x86e*0x1+-0x479*0x8),this['_cookieTra'+'nsformSet']=!(-0x56*0x52+-0x1066+0x1*0x2bf3)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x665+0x223*-0xc+-0x3b*-0x8b,this['atlasViewp'+'ortAllocat'+'ed']=!(0xcb9*0x3+-0x435+-0x21f5),this['atlasSlotU'+'pdated']=!(-0x3*0xb86+0x0+0x2293);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x4e019e=0xd4+-0x1aab+0x19d7;_0x4e019e<this['shadowUpda'+'teOverride'+'s']['length'];_0x4e019e++)this['shadowUpda'+'teOverride'+'s'][_0x4e019e]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x4e019e]=xr);}}['getRenderD'+'ata'](_0x317f45,_0x2b5eb2){for(let _0x33529a=-0x2171+-0x63*-0xa+0x1d93;_0x33529a<this['_renderDat'+'a']['length'];_0x33529a++){const _0x19a415=this['_renderDat'+'a'][_0x33529a];if(_0x19a415['camera']===_0x317f45&&_0x19a415['face']===_0x2b5eb2)return _0x19a415;}const _0x100e2a=new dA(_0x317f45,_0x2b5eb2,this);return this['_renderDat'+'a']['push'](_0x100e2a),_0x100e2a;}['clone'](){const _0x455e9d=new pl(this['device'],this['clusteredL'+'ighting']);return _0x455e9d['type']=this['_type'],_0x455e9d['setColor'](this['_color']),_0x455e9d['intensity']=this['_intensity'],_0x455e9d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x455e9d['luminance']=this['_luminance'],_0x455e9d['castShadow'+'s']=this['castShadow'+'s'],_0x455e9d['_enabled']=this['_enabled'],_0x455e9d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x455e9d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x455e9d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x455e9d['shadowType']=this['_shadowTyp'+'e'],_0x455e9d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x455e9d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x455e9d['vsmBias']=this['vsmBias'],_0x455e9d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x455e9d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x455e9d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x455e9d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x455e9d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x455e9d['numCascade'+'s']=this['numCascade'+'s'],_0x455e9d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x455e9d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x455e9d['shape']=this['_shape'],_0x455e9d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x455e9d['shadowBias']=this['shadowBias'],_0x455e9d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x455e9d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x455e9d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x455e9d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x455e9d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x455e9d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x455e9d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x455e9d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x455e9d;}static['getLightUn'+'itConversi'+'on'](_0x26965b,_0x1fe25b=Math['PI']/(0x3*0x3b0+0x737+-0x1243),_0x462d32=-0x1*0xcd1+-0x1543*-0x1+-0x439*0x2){switch(_0x26965b){case Ze:{const _0x5f462e=Math['cos'](_0x1fe25b),_0x467a24=Math['cos'](_0x462d32);return(-0xc85+0xe83+0x1fc*-0x1)*Math['PI']*(0x732+-0x6db+-0x56-_0x467a24+(_0x467a24-_0x5f462e)/(0x141a+0x19ae+-0x2a*0x117));}case Ke:return(-0x1*-0x7f0+-0x1*0x2ea+0x281*-0x2)*Math['PI'];case ve:return-0x8*-0x2e2+-0x163e+-0xd1;}}['_getUnifor'+'mBiasValue'+'s'](_0x56e6a3){const _0x563847=_0x56e6a3['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x1a7b+-0x129e+-0x7dd+0.00001)*(0x1a26+0x18c7*0x1+-0x10f3*0x3):wi['bias']=this['shadowBias']*(-0x478+-0x6dd+-0x1*-0xb69),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x389+-0x1851+0x14cf)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0x1538+0x42e+-0x1966+0.00001)*(0x17*0x95+-0x2*-0xdaf+0x28ad*-0x1):wi['bias']=this['shadowBias']/_0x563847*(-0x8*0x18a+0xf04+0x4*-0x94),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x563847/(-0x6*0x5db+0x269a+-0x371)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x42e1f7){if(this['_type']===Ze){const _0x288052=this['attenuatio'+'nEnd'],_0x1ce2b4=this['_outerCone'+'Angle'],_0x4e446e=this['_outerCone'+'AngleCos'],_0x5c16db=this['_node'];dc['copy'](_0x5c16db['up']),_0x1ce2b4>0x862+0x2*0x424+0x57f*-0x3?(_0x42e1f7['radius']=_0x288052*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x288052*_0x4e446e)):(_0x42e1f7['radius']=_0x288052/((0x1*-0x377+0x10f*-0x5+0x8c4)*_0x4e446e),dc['mulScalar'](-_0x42e1f7['radius'])),_0x42e1f7['center']['add2'](_0x5c16db['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x42e1f7['center']=this['_node']['getPositio'+'n'](),_0x42e1f7['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x3678a1){if(this['_type']===Ze){const _0x4f977c=this['attenuatio'+'nEnd'],_0x530a5e=this['_outerCone'+'Angle'],_0x5d470f=this['_node'],_0x2911ff=Math['abs'](Math['sin'](_0x530a5e*Y['DEG_TO_RAD'])*_0x4f977c);_0x3678a1['center']['set'](-0x1197+0x2651+-0x1*0x14ba,-_0x4f977c*(0x233a+-0x224d*0x1+0x1*-0xed+0.5),-0x7af*-0x5+0x22b3+-0x31*0x17e),_0x3678a1['halfExtent'+'s']['set'](_0x2911ff,_0x4f977c*(0x23fa+0x8b8+-0x773*0x6+0.5),_0x2911ff),_0x3678a1['setFromTra'+'nsformedAa'+'bb'](_0x3678a1,_0x5d470f['getWorldTr'+'ansform'](),!(0x17*0x36+0x1692+-0x1b6c));}else this['_type']===Ke&&(_0x3678a1['center']['copy'](this['_node']['getPositio'+'n']()),_0x3678a1['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0xef0+-0x266f+0x7d5*0x3,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1dbb*-0x1+-0x2*0xc5b+0x3671;else{const _0x51fbdf=this['shadowBias']*-(-0xa77*0x1+0xc7*-0x23+0x2994);this['shadowDept'+'hState']['depthBias']=_0x51fbdf,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x51fbdf;}}['_updateLin'+'earColor'](){let _0x18305a=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x18305a=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x28bc2e=this['_color'],_0x6b0a54=this['_colorLine'+'ar'];_0x18305a>=-0x2293+0x249b+-0x207?ho['linear'](_0x28bc2e)['mulScalar'](_0x18305a):ho['copy'](_0x28bc2e)['mulScalar'](_0x18305a)['linear'](),_0x6b0a54[0x1c02+-0x1*0x12fa+0x484*-0x2]=ho['r'],_0x6b0a54[0x2*-0x46d+-0x1bb6+-0x25*-0xfd]=ho['g'],_0x6b0a54[-0x1768+-0x1546+0x2cb0]=ho['b'],this['updateClus'+'terData'](!(0x1116+-0x2*-0xf2f+-0x2f74));}['setColor'](){arguments['length']===0x1856+0x1931+-0x3186?this['_color']['set'](arguments[0x53f*0x2+0x1862+0x3*-0xba0]['r'],arguments[0x1*0x137+-0x1*0x55f+-0x13*-0x38]['g'],arguments[0x572+-0xfe*-0x17+-0x36*0x86]['b']):arguments['length']===-0x1c37+0x1c09+-0x7*-0x7&&this['_color']['set'](arguments[0x2*0x218+0x1*-0x2069+0x1c39],arguments[0x1*-0x133+0x8ed+-0x1*0x7b9],arguments[-0x6*-0x398+-0x1911*0x1+0x383*0x1]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x56e331=>{_0x56e331['hasLight'](this)&&_0x56e331['markLights'+'Dirty']();});}['updateKey'](){let _0x4ea665=this['_type']<<-0x222b+0x1*0xab2+0x1796*0x1|this['_shadowTyp'+'e']<<0xf7f*-0x2+-0xe26*0x1+0x25*0x139|this['_falloffMo'+'de']<<0xd77+0x1*-0x565+-0x2a9*0x3|(this['_normalOff'+'setBias']!==0x20de+0x53*-0x45+-0x1*0xa7f?0x13bc+-0x1490+0xd5:-0x1*-0xf31+-0xfe1*0x1+0xb0)<<0x15*-0x46+0x967*0x3+-0x1661|(this['_cookie']?-0x154+-0x665+-0x17*-0x56:0x215a+-0x17ad+-0x9ad*0x1)<<-0x10af+-0x1*0x1b0b+0x2bcf|(this['_cookieFal'+'loff']?0x2*0x4de+-0x13d9+0xa1e:-0x24ce+-0x6d*0x1a+0x2fe0)<<-0x2141+0x1759*0x1+0x9fc|pf[this['_cookieCha'+'nnel']['charAt'](-0x221*0x5+-0x1a72+0x2517)]<<-0x5*-0x45a+0x28*-0x25+0xfe8*-0x1|(this['_cookieTra'+'nsform']?-0x7ac*0x1+0x92c+0x17f*-0x1:0x1*0xc5c+-0x689+-0x7*0xd5)<<0xad+-0x1*0x21f1+0x290*0xd|this['_shape']<<0x182*0x2+0x2669*-0x1+0x236f|(this['numCascade'+'s']>0x22f+-0x16e5+0x14b6?-0x10df+-0x1c3*0x1+0x16f*0xd:0x80e*0x3+0x10b8+-0x28e2)<<0x2f0*-0x6+0xc36+0x1d1*0x3|(this['_cascadeBl'+'end']>-0x3df*0x5+-0x1f52+-0x32ad*-0x1?-0xbbe+0x239e+0x123*-0x15:0x921+0x4e7+-0xe08)<<0x2027+0xa74+-0x2a93|(this['affectSpec'+'ularity']?-0x3*-0xa1f+0xdf2+0x35*-0xd6:0x1e59+-0xfd6+-0xe83*0x1)<<-0xe57*-0x1+0x1c56+0x35*-0xce|this['mask']<<0x23b*-0x3+-0x1*0x22c7+-0x2*-0x14bf|(this['_castShado'+'ws']?-0x10bb*0x2+-0x1af+0x2326:0x64b+0xeae*-0x1+-0x13*-0x71)<<-0xe8*0x5+-0x144e+-0x1*-0x18d9;this['_cookieCha'+'nnel']['length']===0x1*-0x11a4+0x1f9+0xfae&&(_0x4ea665|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1*0xc41+0x18*-0x178+0x2f82)]<<0xb7b+0x119*-0xb+0xa8,_0x4ea665|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1577+0x1*0x767+-0xe12*-0x1)]<<0x16c9+-0xd76+-0x945),_0x4ea665!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x4ea665;}['updateClus'+'teredFlags'](){const _0x2345a4=!!(this['mask']&Ss),_0x29c3bd=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x1250*0x2+0x1255+0x1b7a*-0x2:-0x95*-0x4+-0x1ae4+0x1890)<<-0x13a+0xa2b*-0x3+0x1fd9|(this['_shape']&0x124a+0x725+-0x2*0xcb6)<<0x529*0x7+0x1*-0x1010+-0x13f3|(this['_falloffMo'+'de']&0x17c6+-0x129a*-0x1+-0x1*0x2a5f)<<-0x18c1+-0x93a+0x110b*0x2|(cA[this['_cookieCha'+'nnel']]??0xcb8+0x4db+-0x1193)<<0x4c9+0x2116+-0x25c8|(_0x2345a4?0x1*-0xabb+-0xbe8+-0x1e3*-0xc:0x9be+0x1*-0x95+-0x929)<<0x2009*-0x1+-0x15f6+0x3615|(_0x29c3bd?0x164f*0x1+-0x1f97*-0x1+-0x35e5:0x2*0xf27+-0x293+0x1*-0x1bbb)<<-0x1934+-0xb54+0x249d;}['getCluster'+'edFlags'](_0x5ceeb2,_0x28ae91){return this['clusteredF'+'lags']|((_0x5ceeb2?Math['floor'](this['shadowInte'+'nsity']*(0xb6d*0x1+0x4de+-0xf4c)):-0x3e7*-0x9+-0x2110+-0x11*0x1f)&0x2*-0x748+0x158*-0x10+0x250f)<<-0x37*0x1e+0x1ba5*0x1+-0x1533|((_0x28ae91?Math['floor'](this['cookieInte'+'nsity']*(-0x9*0xd1+0x40c+-0x32*-0x16)):-0x100*0x18+-0x4f*-0x12+0x3*0x626)&-0x11f0+0x4*0x8ae+0x9*-0x1c1)<<0x20a0+0x64*0x51+-0x403c;}['updateClus'+'terData'](_0x4c6ba3,_0x5ed387){const {clusteredData16:_0x4ef3da}=this,_0x7a5a75=Mn['float2Half'];_0x4c6ba3&&(_0x4ef3da[0x5*0x6ed+0x623+-0x28c4]=_0x7a5a75(Y['clamp'](this['_colorLine'+'ar'][-0x6c*-0x27+-0x1*-0x709+-0x177d]/$c,-0x1347+-0x26cf+0x3a16,0x1*0x11cce+-0x1abb2+0x6*0x4276)),_0x4ef3da[0x1444+0x289*0xb+-0x3026]=_0x7a5a75(Y['clamp'](this['_colorLine'+'ar'][-0x1f*-0xe+0xff7+0x8d4*-0x2]/$c,0x3*0x406+0xa1f*0x3+0x2a6f*-0x1,0x1*-0x3413+0x9e9b*0x3+-0x2*0x53ef)),_0x4ef3da[0x4cd*0x5+0x7*0x21e+-0x26d1*0x1]=_0x7a5a75(Y['clamp'](this['_colorLine'+'ar'][-0x1e*-0x9b+0x1b*-0x19+-0x1d*0x89]/$c,-0x21*0x3+-0x98*0x7+0x48b,0x14263*0x1+-0x1016e+-0xb3b*-0x11))),_0x5ed387&&(_0x4ef3da[0x1*0x15ed+-0x7bb*0x3+0x148]=_0x7a5a75(this['_innerCone'+'AngleCos']),_0x4ef3da[-0x232*0x1+-0x81b+0xa52]=_0x7a5a75(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x531c23,_0x4c799d,_0x12fd25){h(this,'_areaLight'+'sEnabled',!(0x14bc+0xb75*-0x1+-0x4a3*0x2)),h(this,'_cells',new D(0x4*-0x5d9+0x4*0xa1+-0xa75*-0x2,0x1fc0+-0x391+-0x1c2c,0x3d1*0x7+0x117e*0x1+-0x1*0x2c2b)),h(this,'_maxLights'+'PerCell',0x191*0x8+0x229b+-0x2e24),h(this,'_shadowsEn'+'abled',!(0x4fe+-0x3fa*-0x6+-0x4cf*0x6)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x52*-0x42+0x819+0x150b*0x1),h(this,'_cookiesEn'+'abled',!(0x1af7+0x285*-0x6+0x2f6*-0x4)),h(this,'_cookieAtl'+'asResoluti'+'on',0x26e6*0x1+0x17*-0x19f+0x663),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x531c23,this['_maxTextur'+'eSize']=_0x4c799d,this['_dirtyLigh'+'tsFnc']=_0x12fd25);}['applySetti'+'ngs'](_0xaf6553){this['shadowsEna'+'bled']=_0xaf6553['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0xaf6553['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0xaf6553['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0xaf6553['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xaf6553['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0xaf6553['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0xaf6553['lightingSh'+'adowType']??this['shadowType'],_0xaf6553['lightingCe'+'lls']&&(this['cells']=new D(_0xaf6553['lightingCe'+'lls']));}set['cells'](_0x2ae748){this['_cells']['copy'](_0x2ae748);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x3bb316){this['_maxLights'+'PerCell']=Y['clamp'](_0x3bb316,0xb7*-0x11+-0x1cc1+0x28e9,0xb*-0xef+0x3*-0x6f+0xc91);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x5686e7){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x5686e7,-0x2047+-0x2115+0x417c,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x1e87b6){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x1e87b6,-0x218d+0x24ce+-0x321*0x1,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x16bd1b){this['_shadowTyp'+'e']!==_0x16bd1b&&(this['_shadowTyp'+'e']=_0x16bd1b,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x9fdd68){this['_cookiesEn'+'abled']!==_0x9fdd68&&(this['_cookiesEn'+'abled']=_0x9fdd68,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x3d4467){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x3d4467&&(this['_areaLight'+'sEnabled']=_0x3d4467,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x9ff717){this['_shadowsEn'+'abled']!==_0x9ff717&&(this['_shadowsEn'+'abled']=_0x9ff717,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x4bf325){this['morph']=_0x4bf325,_0x4bf325['incRefCoun'+'t'](),this['device']=_0x4bf325['device'];const _0x3b58cc=_0x4bf325['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x3b58cc),this['_weights']=[],this['_weightMap']=new Map();for(let _0x3301e4=-0x15ea+0x47*-0x40+-0x27aa*-0x1;_0x3301e4<_0x4bf325['_targets']['length'];_0x3301e4++){const _0x37581d=_0x4bf325['_targets'][_0x3301e4];_0x37581d['name']&&this['_weightMap']['set'](_0x37581d['name'],_0x3301e4),this['setWeight'](_0x3301e4,_0x37581d['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x3b58cc),this['_shaderMor'+'phIndex']=new Uint32Array(_0x3b58cc);const _0xbf1f15=(_0x1b2fec,_0x5c9a32)=>(this[_0x5c9a32]=_0x4bf325['_createTex'+'ture'](_0x1b2fec,_0x4bf325['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x5c9a32],'depth':!(0x3*0x7a9+0x1f62+0x8e*-0x62)}));_0x4bf325['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0xbf1f15('MorphRTPos','texturePos'+'itions')),_0x4bf325['morphNorma'+'ls']&&(this['rtNormals']=_0xbf1f15('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x4bf325['morphTextu'+'reWidth'],_0x4bf325['morphTextu'+'reHeight']]);const _0x56b796=_0x4bf325['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x56b796['x']*(0x13*0x1b7+0x13ac+-0x343d),_0x56b796['y']*(-0x4*0x622+-0x1*-0x1d69+0x5*-0xf9),_0x56b796['z']*(-0x1b1*-0x7+0xd35+-0x1908)]);const _0x1316b9=_0x4bf325['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x1316b9['x']*(0x1a87+-0x39e+-0x16e7),_0x1316b9['y']*(0x23d9+0x1239*0x1+-0x50*0xad),_0x1316b9['z']*(-0x170*0xb+0x1530+-0x55e)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x1a20+0x3*0xc1f+-0xa3b,0x5*0x794+-0x1a58+-0xb8a,0x262*0x6+-0x1d43+-0x1*-0xef9]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1*0x2231+0x1f50+0x4180*-0x1),-(-0x1c9d*-0x1+-0x1016+-0xc86),-(0x3ad*-0x8+0x19f+0x1*0x1bca)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x646+-0x2d0+0x3*-0x127);}['destroy'](){var _0x1c3ad5,_0x33953f,_0x38ad89,_0x2a188c;this['shader']=null;const _0x9a297e=this['morph'];_0x9a297e&&(this['morph']=null,_0x9a297e['decRefCoun'+'t'](),_0x9a297e['refCount']<-0xad*0x33+0xbb7+0x16c1&&_0x9a297e['destroy']()),(_0x1c3ad5=this['rtPosition'+'s'])==null||_0x1c3ad5['destroy'](),this['rtPosition'+'s']=null,(_0x33953f=this['texturePos'+'itions'])==null||_0x33953f['destroy'](),this['texturePos'+'itions']=null,(_0x38ad89=this['rtNormals'])==null||_0x38ad89['destroy'](),this['rtNormals']=null,(_0x2a188c=this['textureNor'+'mals'])==null||_0x2a188c['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x3f457b){if(typeof _0x3f457b=='string'){const _0x5065db=this['_weightMap']['get'](_0x3f457b);return _0x5065db===void(-0x235b+-0x1bc0+-0x3*-0x1509)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x3f457b+'.'),_0x5065db;}return _0x3f457b;}['getWeight'](_0x39341c){const _0x26e824=this['_getWeight'+'Index'](_0x39341c);return this['_weights'][_0x26e824];}['setWeight'](_0x5513df,_0x5b2054){const _0x5ac836=this['_getWeight'+'Index'](_0x5513df);w['assert'](_0x5ac836>=0x184b+-0xb02*0x2+-0x247*0x1&&_0x5ac836<this['morph']['_targets']['length']),this['_weights'][_0x5ac836]=_0x5b2054,this['_dirty']=!(-0x10db+-0x1c5a+0x2d35);}['_createSha'+'der'](_0x1358b4){const _0x575ef1=new Map();_0x575ef1['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x1358b4),this['morph']['intRenderF'+'ormat']&&_0x575ef1['set']('MORPH_INT','');const _0x21b32e=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x1358b4+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x575ef1,'fragmentOutputTypes':[_0x21b32e]});}['_updateTex'+'tureRender'+'Target'](_0x1fb592,_0xe3a4ad,_0xc604e9){const {morph:_0x564bad,device:_0x3c1686}=this;this['setAabbUni'+'forms'](_0xc604e9),this['morphTextu'+'reId']['setValue'](_0xc604e9?_0x564bad['targetsTex'+'turePositi'+'ons']:_0x564bad['targetsTex'+'tureNormal'+'s']),_0x3c1686['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0xe3a4ad),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x3c1686,_0x1fb592,this['shader']);}['_updateTex'+'tureMorph'](_0x5ee672){const _0x5f2a29=this['device'];Q['pushGpuMar'+'ker'](_0x5f2a29,'MorphUpdat'+'e'),(_0x5ee672>0x93*0x1e+0x2553+0x3a3*-0xf||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x5ee672,!(-0x2398+-0xb*0xa0+-0x714*-0x6)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x5ee672,!(-0x23d4+-0x2484+0x1*0x4859)),this['zeroTextur'+'es']=_0x5ee672===0x1*-0x317+-0x19*-0x3+-0x2cc*-0x1),Q['popGpuMark'+'er'](_0x5f2a29);}['setAabbUni'+'forms'](_0x21d3a1=!(-0x1*-0x105d+0x1691+-0x26ee)){this['aabbSizeId']['setValue'](_0x21d3a1?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x21d3a1?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x235fe9){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x3*-0x720+0x1c25+-0x3184);const _0x3a2c05=this['morph']['_targets'],_0x5e47bd=-0xc*0x2ea+-0x29*0x3d+0x371*0xd+0.00001,_0xb6a163=this['_shaderMor'+'phWeights'],_0x1ce2e1=this['_shaderMor'+'phIndex'];let _0x20af5d=0x1*-0xdc4+0x2515+-0x1751;for(let _0x427634=-0x3*0x725+0x1f*-0x39+0x1c56;_0x427634<_0x3a2c05['length'];_0x427634++)Math['abs'](this['getWeight'](_0x427634))>_0x5e47bd&&(_0xb6a163[_0x20af5d]=this['getWeight'](_0x427634),_0x1ce2e1[_0x20af5d]=_0x427634,_0x20af5d++);this['_updateTex'+'tureMorph'](_0x20af5d);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x9ff*0x1+0x1b3e+0x253d*-0x1,this['_immutable']=!(0x2077+-0x114d+-0xf29));}['getGraph'](){return this['graph'];}['setGraph'](_0x7644b8){this['graph']=_0x7644b8;}['getCameras'](){return this['cameras'];}['setCameras'](_0x19f825){this['cameras']=_0x19f825;}['getLights'](){return this['lights'];}['setLights'](_0x3f5f6a){this['lights']=_0x3f5f6a;}['getMateria'+'ls'](){const _0x1507eb=[];for(let _0x1102a4=-0xf8e+0x1a11+-0xa83;_0x1102a4<this['meshInstan'+'ces']['length'];_0x1102a4++){const _0x1c0aa6=this['meshInstan'+'ces'][_0x1102a4];_0x1507eb['indexOf'](_0x1c0aa6['material'])===-(-0x1*-0x1b9d+0xb3*-0x3+-0x1983)&&_0x1507eb['push'](_0x1c0aa6['material']);}return _0x1507eb;}['clone'](){const _0x1e332e=[],_0x5ab4d5=[],_0x55194e=function(_0x42e62d){const _0x5c309=_0x42e62d['clone']();_0x1e332e['push'](_0x42e62d),_0x5ab4d5['push'](_0x5c309);for(let _0x1809d7=-0xf2c+0x820+0x70c;_0x1809d7<_0x42e62d['_children']['length'];_0x1809d7++)_0x5c309['addChild'](_0x55194e(_0x42e62d['_children'][_0x1809d7]));return _0x5c309;},_0x4ea15b=_0x55194e(this['graph']),_0x1669cb=[],_0x31fe62=[],_0x4fa12c=[];for(let _0xd35ccd=0xf58+-0x1*-0x21e6+0x47a*-0xb;_0xd35ccd<this['skinInstan'+'ces']['length'];_0xd35ccd++){const _0xb586ef=this['skinInstan'+'ces'][_0xd35ccd]['skin'],_0x149716=new Ol(_0xb586ef),_0x255f9f=[];for(let _0x3f348f=0x24ef+0x1a1a+-0x3f09;_0x3f348f<_0xb586ef['boneNames']['length'];_0x3f348f++){const _0x282f08=_0xb586ef['boneNames'][_0x3f348f],_0x42d664=_0x4ea15b['findByName'](_0x282f08);_0x255f9f['push'](_0x42d664);}_0x149716['bones']=_0x255f9f,_0x31fe62['push'](_0x149716);}for(let _0x5aa48f=0x1172+0x323+-0x1495;_0x5aa48f<this['morphInsta'+'nces']['length'];_0x5aa48f++){const _0x43a5b4=this['morphInsta'+'nces'][_0x5aa48f]['morph'],_0x41c3fd=new xa(_0x43a5b4);_0x4fa12c['push'](_0x41c3fd);}for(let _0x4f6407=0x51e+0x2160+-0x2f6*0xd;_0x4f6407<this['meshInstan'+'ces']['length'];_0x4f6407++){const _0x495817=this['meshInstan'+'ces'][_0x4f6407],_0x316fd8=_0x1e332e['indexOf'](_0x495817['node']),_0xf312cb=new He(_0x495817['mesh'],_0x495817['material'],_0x5ab4d5[_0x316fd8]);if(_0x495817['skinInstan'+'ce']){const _0x5267ee=this['skinInstan'+'ces']['indexOf'](_0x495817['skinInstan'+'ce']);_0xf312cb['skinInstan'+'ce']=_0x31fe62[_0x5267ee];}if(_0x495817['morphInsta'+'nce']){const _0x194cc1=this['morphInsta'+'nces']['indexOf'](_0x495817['morphInsta'+'nce']);_0xf312cb['morphInsta'+'nce']=_0x4fa12c[_0x194cc1];}_0x1669cb['push'](_0xf312cb);}const _0x117e13=new sr();return _0x117e13['graph']=_0x4ea15b,_0x117e13['meshInstan'+'ces']=_0x1669cb,_0x117e13['skinInstan'+'ces']=_0x31fe62,_0x117e13['morphInsta'+'nces']=_0x4fa12c,_0x117e13['getGraph']()['syncHierar'+'chy'](),_0x117e13;}['destroy'](){const _0x45ff9a=this['meshInstan'+'ces'];for(let _0x295a17=-0x103*-0x5+-0x3b*0x1d+-0x8*-0x34;_0x295a17<_0x45ff9a['length'];_0x295a17++)_0x45ff9a[_0x295a17]['destroy']();this['meshInstan'+'ces']['length']=0x23ac+-0x1da5+-0x607;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x234cca,_0x409bd4,{preferHighPrecision:_0x569728=!(-0x37f+-0x2*-0x83f+-0xcfe)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x409bd4,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x409bd4);const _0x4af50f=_0x409bd4;this['preferHigh'+'Precision']=_0x569728,w['assert'](_0x234cca['every'](_0xf9872f=>!_0xf9872f['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x234cca['slice']();const _0x1d59f2=_0x4af50f['textureHal'+'fFloatRend'+'erable']?nt:void(-0x13*0x83+-0x888+0x1241),_0x47e1a8=_0x4af50f['textureFlo'+'atRenderab'+'le']?Xt:void(0x115b+0x120f+0x3*-0xbce);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x47e1a8??_0x1d59f2:_0x1d59f2??_0x47e1a8,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x429f88,_0xc5e9ff,_0x30fddf;(_0x429f88=this['vertexBuff'+'erIds'])==null||_0x429f88['destroy'](),this['vertexBuff'+'erIds']=null,(_0xc5e9ff=this['targetsTex'+'turePositi'+'ons'])==null||_0xc5e9ff['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x30fddf=this['targetsTex'+'tureNormal'+'s'])==null||_0x30fddf['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x3aeab2=new D(),_0x9407ff=new D();for(let _0x2d71e4=-0x5b4*0x1+-0x697*0x3+0x1979;_0x2d71e4<this['_targets']['length'];_0x2d71e4++){const _0x29d7dc=this['_targets'][_0x2d71e4]['aabb'];_0x3aeab2['min'](_0x29d7dc['getMin']()),_0x9407ff['max'](_0x29d7dc['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x3aeab2,_0x9407ff);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x3f96f3=-0x4e*-0x4+0x1215+-0x1b*0xb7;_0x3f96f3<this['_targets']['length'];_0x3f96f3++)this['_targets'][_0x3f96f3]['_postInit']();}['_findSpars'+'eSet'](_0x33a931,_0x45c1ca,_0x3c123e){let _0x55ca8f=0x2*-0x9f7+-0x1*-0x16ff+-0x62*0x8;const _0x5b8aab=_0x33a931[-0xb*-0xb3+0x9*-0x1f1+0x9c8]['length'];for(let _0x146e5f=0x1505+-0xca0+0x7*-0x133;_0x146e5f<_0x5b8aab;_0x146e5f+=0x1182+0xbec*-0x3+-0x1*-0x1245){let _0x1cc903=!(0x3d4*0x7+-0x25bc+0xaf1);for(let _0x56c44d=0x545*0x2+-0x3cb*0x5+0x86d;_0x56c44d<_0x33a931['length'];_0x56c44d++){const _0x2c81b8=_0x33a931[_0x56c44d];if(_0x2c81b8[_0x146e5f]!==-0x1e4f+-0x5*-0x298+-0x1157*-0x1||_0x2c81b8[_0x146e5f+(0x22*0xb8+-0x81d+0x1*-0x1052)]!==0x35*0x45+-0x687+-0x7c2||_0x2c81b8[_0x146e5f+(0x317*0xc+0x17*-0x17+-0x1*0x2301)]!==-0x213*0x5+0x2*0x544+-0x29){_0x1cc903=!(0x1cd*-0xa+-0x1969+0x2b6b);break;}}_0x1cc903?(_0x45c1ca['push'](_0x55ca8f),_0x3c123e['push'](_0x146e5f/(-0x697+0x1880+0x9e*-0x1d)),_0x55ca8f++):_0x45c1ca['push'](-0x591+-0xa*0x89+0xaeb);}return _0x55ca8f;}['_initTextu'+'reBased'](){const _0x59ddeb=[],_0x343139=[],_0x5b93fb=this['_targets'];for(let _0x41c17f=-0x1308+-0x6b2+0x19ba;_0x41c17f<_0x5b93fb['length'];_0x41c17f++){const _0x577606=_0x5b93fb[_0x41c17f];_0x577606['options']['deltaPosit'+'ions']&&(_0x59ddeb['push'](_0x577606['options']['deltaPosit'+'ions']),_0x343139['push'](!(0x61+0x17ea*-0x1+0x1789))),_0x577606['options']['deltaNorma'+'ls']&&(_0x59ddeb['push'](_0x577606['options']['deltaNorma'+'ls']),_0x343139['push'](!(-0xe7b+-0xf9e+0x1e1a)));}const _0x1813cd=[],_0x487855=[],_0x1aee6d=this['_findSpars'+'eSet'](_0x59ddeb,_0x1813cd,_0x487855),_0x17190e=this['device']['maxTexture'+'Size'];let _0x1bcd34=Math['ceil'](Math['sqrt'](_0x1aee6d));_0x1bcd34=Math['min'](_0x1bcd34,_0x17190e);const _0x422fcf=Math['ceil'](_0x1aee6d/_0x1bcd34);if(_0x422fcf>_0x17190e){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x1bcd34+'x'+_0x422fcf+(',\x20max\x20text'+'ure\x20size:\x20')+_0x17190e+'x'+_0x17190e+'.');return;}this['morphTextu'+'reWidth']=_0x1bcd34,this['morphTextu'+'reHeight']=_0x422fcf;let _0x4a9a09=!(-0x12a2+0x77*-0x26+0x244d);const _0x597612=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x4a9a09=!(-0x2091+-0x1*0x2a7+0xc4*0x2e));const _0x225649=[],_0x347923=[],_0xdd00c0=_0x1bcd34*_0x422fcf*(0x1fa2*0x1+0x1644+-0x35e2);for(let _0x4f4ed3=0x2*0x52a+-0xbde+0x18a;_0x4f4ed3<_0x59ddeb['length'];_0x4f4ed3++){const _0x1a986a=_0x59ddeb[_0x4f4ed3],_0x1986c8=this['_textureFo'+'rmat']===nt?new Uint16Array(_0xdd00c0):new Float32Array(_0xdd00c0);if((_0x343139[_0x4f4ed3]?_0x225649:_0x347923)['push'](_0x1986c8),_0x4a9a09)for(let _0x490b07=-0xfb*0x1d+0x1ecf+0x1*-0x260;_0x490b07<_0x487855['length'];_0x490b07++){const _0x1bb97e=_0x487855[_0x490b07]*(-0x1*-0x21b5+0x1233+-0x33e5),_0x392ae8=_0x490b07*(0xfc9*0x2+0x1*0x1e63+0x1*-0x3df1)+(-0x135*0x1+-0x7+0x140);_0x1986c8[_0x392ae8]=_0x597612(_0x1a986a[_0x1bb97e]),_0x1986c8[_0x392ae8+(0x16cb+0x20d4+-0x379e)]=_0x597612(_0x1a986a[_0x1bb97e+(0x1831+-0x25e*-0x2+0x1cec*-0x1)]),_0x1986c8[_0x392ae8+(0xfeb*-0x2+-0xeb*0x1b+0x38a1)]=_0x597612(_0x1a986a[_0x1bb97e+(-0x1*-0x89f+-0x2d3*-0x5+-0x2*0xb5e)]);}else for(let _0x57fa5c=0x25a1+-0x1067*-0x2+-0x466f;_0x57fa5c<_0x487855['length'];_0x57fa5c++){const _0x5783a1=_0x487855[_0x57fa5c]*(0x1a5d+-0x53c+-0x151e),_0xb9092d=_0x57fa5c*(-0x1f69+-0x1670+0x35dd*0x1)+(-0x1d60+-0x10*-0x59+-0x1*-0x17d4);_0x1986c8[_0xb9092d]=_0x1a986a[_0x5783a1],_0x1986c8[_0xb9092d+(-0x209*0x9+-0x155f+0x27b1)]=_0x1a986a[_0x5783a1+(0xdb0*0x1+-0x4*-0xd9+0x5b1*-0x3)],_0x1986c8[_0xb9092d+(-0x482*-0x8+-0x1f89+0x1*-0x485)]=_0x1a986a[_0x5783a1+(0x29*0x6+-0x18d5+-0x1*-0x17e1)];}}_0x225649['length']>0x3*0x9f5+-0x89*-0x33+-0x6*0x987&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x5b93fb['length'],[_0x225649]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x347923['length']>0x1d8+0x1d4+0x5*-0xbc&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x5b93fb['length'],[_0x347923]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x591de4=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x67*0x51+0x1*-0x607+0x269e)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x591de4,_0x1813cd['length']),_0x1813cd['length'],{'data':new Uint32Array(_0x1813cd)}),!(0x186d+-0xea1+0x273*-0x4);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x14ee+0x3af*0x9+-0x3614),this['_morphNorm'+'als']=!(0x33*0x8b+0x8e0*-0x2+0x35*-0x30);for(let _0x58d982=0x1c*0x8e+0x137*0x1+-0x10bf;_0x58d982<this['_targets']['length'];_0x58d982++){const _0x4a1f7f=this['_targets'][_0x58d982];_0x4a1f7f['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0xa14+0x5*0x608+-0x1414)),_0x4a1f7f['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x26*-0x32+-0x2672+-0x13*-0x1a2));}}['_createTex'+'ture'](_0x36f997,_0xfb6c92,_0x5b474f,_0x16971f){return new _e(this['device'],{'levels':_0x16971f,'arrayLength':_0x5b474f,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0xfb6c92,'cubemap':!(0x19*0x29+0x2477+0x47f*-0x9),'mipmaps':!(-0x1*-0x1c7b+0x5de+0x2*-0x112c),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x36f997});}}class Md{constructor(_0x5596ca){h(this,'used',!(0x2*0x136f+0x1ff7+0x5e7*-0xc)),(w['assert'](arguments['length']===-0x8be+0xa5d+-0x19e),this['options']=_0x5596ca,this['_name']=_0x5596ca['name'],this['_defaultWe'+'ight']=_0x5596ca['defaultWei'+'ght']||0x1354*-0x1+-0xd34+-0x2088*-0x1,this['_aabb']=_0x5596ca['aabb'],this['deltaPosit'+'ions']=_0x5596ca['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x5596ca['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x5596ca['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x14c7+-0x1632+0x1*0x2af9);}}let Ei,Z_=0x1241*0x2+0xdd0+-0x3251;const ce=-0x3*-0x116+0x6fd*-0x1+0x3bf,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x788d8b){return _0x788d8b-Math['floor'](_0x788d8b);}function fA(_0x597f2b){return Math['max'](Math['min'](_0x597f2b,-0x2330+0x3*-0x25f+0x2a4e),0x1f48+-0x2507+-0x1*-0x5bf);}function gf(_0x4f298b,_0x332396){return _0x4f298b-_0x332396*Math['floor'](_0x4f298b/_0x332396);}function uA(_0x95a879){let _0x2c384f=pn(_0x95a879),_0x2263b9=pn((0x17d0+-0x22c*0x7+0x1*-0x79d)*_0x95a879),_0x30a62e=pn((0x1747d+0x643c+-0xdab8)*_0x95a879),_0xa8479b=pn((0x5cbb5*-0x15+0x10ac7662*0x1+-0x11*0x63caea)*_0x95a879);return _0x2c384f-=_0x2263b9/(-0xb79*0x2+-0x7a1+0x1f92),_0x2263b9-=_0x30a62e/(0x1820+-0xf25*0x1+-0x92*0xe),_0x30a62e-=_0xa8479b/(0x11*-0x161+0x567*-0x1+0x1dd7),_0xa8479b-=_0xa8479b/(0x73a+-0x66*-0x2c+-0x17c3),[_0x2c384f,_0x2263b9,_0x30a62e,_0xa8479b];}function uc(_0x6ac9ad){let _0x13752f=pn(_0x6ac9ad),_0x8929bf=pn((-0x9b7+-0x592*-0x6+-0x39*0x66)*_0x6ac9ad);return _0x13752f-=_0x8929bf/(0xa8b+0x1*0x18b9+0x2245*-0x1),_0x8929bf-=_0x8929bf/(0x1*-0x134f+-0xf98+0x23e6),[_0x13752f,_0x8929bf];}class pA{constructor(_0x484be7){this['_emitter']=_0x484be7;}['calcSpawnP'+'osition'](_0x25d352,_0x19daab,_0x261455,_0xf98336,_0x5c0a23){const _0x5860a9=this['_emitter'],_0x4f8964=Math['random'](),_0x980f5d=Math['random'](),_0x4c9719=Math['random'](),_0x5ebe50=Math['random']();if(_0x5860a9['useCpu']&&(_0x25d352[_0x5c0a23*ce+(-0x2d4+-0x65*-0x52+-0x1d86)+_0x5860a9['numParticl'+'esPot']*(0xd89+-0x1de*-0x3+-0x1321)*ce]=_0x4f8964,_0x25d352[_0x5c0a23*ce+(0x4*-0x62+-0x73d*-0x5+-0x455*0x8)+_0x5860a9['numParticl'+'esPot']*(0x176e+0x15d3+0x51*-0x8f)*ce]=_0x980f5d,_0x25d352[_0x5c0a23*ce+(0x723+-0xb63+0x442)+_0x5860a9['numParticl'+'esPot']*(-0xb*0x29f+-0x1*-0x305+0x19d2)*ce]=_0x4c9719),tt['x']=_0x4f8964-(0x1e77+0x1*0x1770+0x1*-0x35e7+0.5),tt['y']=_0x980f5d-(0x1bbc+-0xbbb+-0x1001+0.5),tt['z']=_0x4c9719-(0x21b5+0x1522+-0x36d7+0.5),_0x5860a9['emitterSha'+'pe']===ai){const _0x34111a=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x29ddc3=_0x34111a+(-0x4*0x55+0x3*-0xaf1+-0x7*-0x4e1+0.5-_0x34111a)*_0x261455[-0x1*-0xb45+0x1*0x40a+0xf4f*-0x1],_0x43c3d7=_0x34111a+(-0x2*0x799+0x3*-0xa01+0x2d35+0.5-_0x34111a)*_0x261455[-0x1e95+-0x4eb*-0x6+-0xc*-0x17],_0x94305f=_0x34111a+(-0x2334+-0x1b47*-0x1+0x7ed+0.5-_0x34111a)*_0x261455[-0x1e*-0xad+0x251*-0x7+0x40d*-0x1];tt['x']=_0x29ddc3*(_0x34111a===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0xef4+-0x1e62*-0x1+-0x3*0x524)*tt['x']),tt['y']=_0x43c3d7*(_0x34111a===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x20d0+-0x24dd+0x45af)*tt['y']),tt['z']=_0x94305f*(_0x34111a===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x84+-0x3c7*-0x1+-0x341)*tt['z']),_0x5860a9['localSpace']?ti['copy'](_0x19daab['transformP'+'oint'](tt)):ti['copy'](_0xf98336)['add'](_0x19daab['transformP'+'oint'](tt));}else{tt['normalize']();const _0x5d4e70=_0x5860a9['emitterRad'+'ius']===0x1f1c+-0x1045+-0xed7?-0x2694+0x241+-0x11*-0x223:_0x5860a9['emitterRad'+'iusInner']/_0x5860a9['emitterRad'+'ius'],_0x3376cc=_0x5ebe50*(-0x2555+-0x4ae+-0xa81*-0x4-_0x5d4e70)+_0x5d4e70;_0x5860a9['localSpace']?ti['copy'](tt['mulScalar'](_0x3376cc*_0x5860a9['emitterRad'+'ius'])):ti['copy'](_0xf98336)['add'](tt['mulScalar'](_0x3376cc*_0x5860a9['emitterRad'+'ius']));}let _0x417386=-Y['lerp'](_0x5860a9['rate'],_0x5860a9['rate2'],_0x4f8964)*_0x5c0a23;if(_0x5860a9['pack8']){const _0x1f0ce9=(ti['x']-_0x5860a9['worldBound'+'s']['center']['x'])/_0x5860a9['worldBound'+'sSize']['x']+(0x922+0x2*-0xf4+0x39d*-0x2+0.5),_0x252f09=(ti['y']-_0x5860a9['worldBound'+'s']['center']['y'])/_0x5860a9['worldBound'+'sSize']['y']+(-0xc79+0xbb*0x27+-0x1004+0.5),_0x3bae61=(ti['z']-_0x5860a9['worldBound'+'s']['center']['z'])/_0x5860a9['worldBound'+'sSize']['z']+(-0x83a+-0x5c0*0x1+0x2*0x6fd+0.5);let _0xd7e1f9=Y['lerp'](_0x5860a9['startAngle']*Y['DEG_TO_RAD'],_0x5860a9['startAngle'+'2']*Y['DEG_TO_RAD'],_0x4f8964);_0xd7e1f9=_0xd7e1f9%(Math['PI']*(-0x3*0x76e+-0x2121+0x376d))/(Math['PI']*(-0x3c4*0x4+-0xda*-0x1+0x4*0x38e));const _0x5938b5=uc(_0x1f0ce9);_0x25d352[_0x5c0a23*ce]=_0x5938b5[0x221f+-0xef5*0x1+-0x132a],_0x25d352[_0x5c0a23*ce+(0x9a6+0xf66+0x3*-0x859)]=_0x5938b5[0x20cf+0x577*0x1+0x1*-0x2645];const _0x1978af=uc(_0x252f09);_0x25d352[_0x5c0a23*ce+(0xbaa*0x3+-0x30c+-0x1ff0)]=_0x1978af[0x268a+0x1b*-0x10d+-0x89*0x13],_0x25d352[_0x5c0a23*ce+(0xf88+-0xf4c+0x13*-0x3)]=_0x1978af[-0x6*0x95+-0x11*-0x131+-0x10c2];const _0x502989=uc(_0x3bae61);_0x25d352[_0x5c0a23*ce+(-0x1457+-0x1bd+0x1614)+_0x5860a9['numParticl'+'esPot']*ce]=_0x502989[0x1209+-0xc74+-0x595],_0x25d352[_0x5c0a23*ce+(0x35*-0x72+-0x232d+0x156*0x2c)+_0x5860a9['numParticl'+'esPot']*ce]=_0x502989[-0x823+0x30f+0x515];const _0x2b1854=uc(_0xd7e1f9);_0x25d352[_0x5c0a23*ce+(-0x1*-0x5ea+-0x15b*-0x3+-0x9f9)+_0x5860a9['numParticl'+'esPot']*ce]=_0x2b1854[-0x134e+0xe83+0x1*0x4cb],_0x25d352[_0x5c0a23*ce+(-0x1849+-0x753+0x1f9f)+_0x5860a9['numParticl'+'esPot']*ce]=_0x2b1854[-0x1*-0x33d+0x2216*-0x1+-0x1*-0x1eda];const _0x510a3c=-0x14bb+-0x265d+0x171*0x29;_0x25d352[_0x5c0a23*ce+(0x12f9+0xc7*0x21+-0x2c9d)+_0x5860a9['numParticl'+'esPot']*ce*(-0x2e1*0xd+-0x1f6*0x4+0x2d47)]=_0x510a3c;const _0x4dd1c0=Math['max'](_0x5860a9['lifetime'],(_0x5860a9['numParticl'+'es']-(-0x2dd+-0x1fcc+0x22aa))*Math['max'](_0x5860a9['rate'],_0x5860a9['rate2'])),_0x2f4b9c=_0x5860a9['lifetime']+(0x812+-0x2032+-0x1d*-0xd5);_0x417386=(_0x417386+_0x4dd1c0)/(_0x4dd1c0+_0x2f4b9c);const _0x1b1780=uA(_0x417386);_0x25d352[_0x5c0a23*ce+(-0x1*-0x1122+0x6d9+-0x17fb*0x1)+_0x5860a9['numParticl'+'esPot']*ce*(0x1443+0x2115+0x25*-0x171)]=_0x1b1780[0xd9+0x25*0xa6+-0x18d7],_0x25d352[_0x5c0a23*ce+(0x8b6+-0x1c2a+-0x11*-0x125)+_0x5860a9['numParticl'+'esPot']*ce*(0x8*-0x4e2+-0x1fa+0x290d)]=_0x1b1780[-0x15c7*0x1+-0x70b*0x3+0x2ae9],_0x25d352[_0x5c0a23*ce+(0x5*0x49a+-0x379*0x3+-0x1*0xc95)+_0x5860a9['numParticl'+'esPot']*ce*(-0x1178+-0x95a+0x1ad5)]=_0x1b1780[0x1a6c+-0xdc*-0x6+-0x1f92],_0x25d352[_0x5c0a23*ce+(-0x1*-0x1685+-0x1f3*-0x9+0x280d*-0x1)+_0x5860a9['numParticl'+'esPot']*ce*(-0x25ba+-0x883+0x2e40)]=_0x1b1780[0x6e*-0x1c+0xa38+0x1d3];}else _0x25d352[_0x5c0a23*ce]=ti['x'],_0x25d352[_0x5c0a23*ce+(0x1303+-0x1*-0x1ea1+0x31a3*-0x1)]=ti['y'],_0x25d352[_0x5c0a23*ce+(-0xd*-0xf1+0x1c6e+-0x28a9)]=ti['z'],_0x25d352[_0x5c0a23*ce+(0x37e*0x7+-0x469*0x7+0x4*0x19c)]=Y['lerp'](_0x5860a9['startAngle']*Y['DEG_TO_RAD'],_0x5860a9['startAngle'+'2']*Y['DEG_TO_RAD'],_0x4f8964),_0x25d352[_0x5c0a23*ce+(0x3e*-0x36+0x5*0x1e5+-0x1cf*-0x2)+_0x5860a9['numParticl'+'esPot']*ce]=_0x417386;}['update'](_0x4f2a22,_0x50c04f,_0xad170c,_0x52da88,_0xd8976c,_0x2d3b90,_0x4ff971,_0x1eed93){let _0x290b12,_0x4cbd3b,_0x6e00f1;const _0x7a516c=this['_emitter'];if(_0x7a516c['meshInstan'+'ce']['node']){const _0x512a35=_0x7a516c['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x732e23=-0x1050+0x1516+-0x4c6;_0x732e23<-0x14e6+0x49*0x3+-0x1*-0x1417;_0x732e23++)mf['data'][_0x732e23]=_0x512a35['data'][_0x732e23];_f['copy'](mf),_f['invert'](),Ei=_0x7a516c['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x2d3b90=_0x7a516c['meshInstan'+'ce']['node']===null||_0x7a516c['localSpace']?D['ZERO']:_0x7a516c['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x1f7226=_0x7a516c['camera']?_0x7a516c['camera']['_node']['getPositio'+'n']():D['ZERO'],_0xcd6e56=_0x7a516c['useMesh']?-0x157c+0x12c3+0x2ca:-0x1a39+-0x1c99+0x3f*0xdf;let _0x1688b6,_0x18c4ec,_0x9f8fcb,_0x11bec9,_0x562c61,_0x5f232a,_0x56d91a,_0x670a1d,_0x409011;const _0x82a7a9=_0x7a516c['precision']-(-0x1c25+-0x266+0x1e8c);for(let _0x2a17f1=-0x10*0x5+0x5*-0x4bb+0x17f7*0x1;_0x2a17f1<_0x7a516c['numParticl'+'es'];_0x2a17f1++){const _0x3ea0da=Math['floor'](_0x7a516c['vbCPU'][_0x2a17f1*_0x7a516c['numParticl'+'eVerts']*(_0x7a516c['useMesh']?0x2fa+0x25*-0xbf+0x18a7*0x1:0x1*-0x2447+-0x1eb*0xb+-0x3964*-0x1)+(-0x1*0xf46+-0xe33*-0x1+-0x2*-0x8b)]),_0xe0647b=_0xad170c[_0x3ea0da*ce+(0x326+0x1d9a+0x8*-0x418)+_0x7a516c['numParticl'+'esPot']*(0xb*0x1bd+0xd*0x21+0xa65*-0x2)*ce];Ns['x']=_0xe0647b,Ns['y']=_0xad170c[_0x3ea0da*ce+(-0x2341+-0x1*0x2481+-0x47c3*-0x1)+_0x7a516c['numParticl'+'esPot']*(-0xc8b+0x1*0xce5+-0x58)*ce],Ns['z']=_0xad170c[_0x3ea0da*ce+(0x2*0xee6+0x59*-0x1f+0x1*-0x1303)+_0x7a516c['numParticl'+'esPot']*(0x3*0xa8d+0xee9*0x1+-0x3b*0xca)*ce];const _0x118cec=_0x7a516c['rate']+(_0x7a516c['rate2']-_0x7a516c['rate'])*_0xe0647b,_0x4a41c9=_0x7a516c['lifetime'];let _0x548324=_0xad170c[_0x3ea0da*ce+(-0x1*-0x1279+-0x101b+-0x25b)+_0x7a516c['numParticl'+'esPot']*ce]+_0x4ff971;const _0x5148d9=fA(_0x548324/_0x4a41c9);let _0x374ce5=-0x1a7*0x9+0x1883*-0x1+0x2762,_0x4df541=-0xb*0x1cd+0x1b6a+-0x79b;const _0x114e47=0xd94+-0x16cb+0x937;(_0x548324-_0x4ff971<=-0x1e97+-0x67*-0x15+0xda*0x1a||_0x548324>=_0x4a41c9)&&this['calcSpawnP'+'osition'](_0xad170c,_0x52da88,_0xd8976c,_0x2d3b90,_0x3ea0da);let _0x54cd1b=_0x548324>0xf57+0x1b94+-0x1*0x2aeb&&_0x548324<_0x4a41c9;_0x54cd1b&&(_0x6e00f1=_0x5148d9*_0x82a7a9,_0x1688b6=Math['floor'](_0x6e00f1),_0x18c4ec=Math['ceil'](_0x6e00f1),_0x6e00f1%=0xe06+-0x575*-0x4+0x1*-0x23d9,_0x290b12=_0x7a516c['qRotSpeed'][_0x1688b6],_0x4cbd3b=_0x7a516c['qRotSpeed'][_0x18c4ec],_0x9f8fcb=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qRotSpeed2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qRotSpeed2'][_0x18c4ec],_0x11bec9=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qScale'][_0x1688b6],_0x4cbd3b=_0x7a516c['qScale'][_0x18c4ec],_0x374ce5=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qScale2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qScale2'][_0x18c4ec],_0x562c61=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qAlpha'][_0x1688b6],_0x4cbd3b=_0x7a516c['qAlpha'][_0x18c4ec],_0x5f232a=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qAlpha2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qAlpha2'][_0x18c4ec],_0x56d91a=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qRadialSpe'+'ed'][_0x1688b6],_0x4cbd3b=_0x7a516c['qRadialSpe'+'ed'][_0x18c4ec],_0x670a1d=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qRadialSpe'+'ed2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qRadialSpe'+'ed2'][_0x18c4ec],_0x409011=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x670a1d+=(_0x409011-_0x670a1d)*(_0xe0647b*(0x650*0x5+-0xca6+-0x1286)%(0x2577+0x26ce+-0x4c44)),Na['x']=_0xad170c[_0x3ea0da*ce],Na['y']=_0xad170c[_0x3ea0da*ce+(-0x5cf*0x1+0x95d+-0x38d*0x1)],Na['z']=_0xad170c[_0x3ea0da*ce+(0x1635+0x1070*-0x2+0xaad*0x1)],_0x7a516c['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x2d3b90),fo['normalize']()['mulScalar'](_0x670a1d),_0x1688b6*=0x26c3+0x7*-0x18b+-0x1bf3,_0x18c4ec*=0x196+-0x1f01+0x1d6e,_0x290b12=_0x7a516c['qLocalVelo'+'city'][_0x1688b6],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city'][_0x18c4ec],_t['x']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qLocalVelo'+'city'][_0x1688b6+(0xc2b*0x1+0x558+-0x9*0x1f2)],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city'][_0x18c4ec+(0x148f+-0x352+-0x113c)],_t['y']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qLocalVelo'+'city'][_0x1688b6+(-0x1*-0x1334+0x1cf1+-0x3023)],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city'][_0x18c4ec+(0x12de+0x1*-0x1ce7+0xa0b)],_t['z']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qLocalVelo'+'city2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city2'][_0x18c4ec],Ua['x']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qLocalVelo'+'city2'][_0x1688b6+(-0x2*0x112d+0x444+0x1e17*0x1)],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city2'][_0x18c4ec+(-0x144e+0x67*0x26+-0x101*-0x5)],Ua['y']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qLocalVelo'+'city2'][_0x1688b6+(-0x2ef*0x1+0x225d*-0x1+-0x32*-0xbf)],_0x4cbd3b=_0x7a516c['qLocalVelo'+'city2'][_0x18c4ec+(0x25ef+-0x217f+-0xa2*0x7)],Ua['z']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity'][_0x1688b6],_0x4cbd3b=_0x7a516c['qVelocity'][_0x18c4ec],ns['x']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity'][_0x1688b6+(-0x885+0x18cd*-0x1+0x2153*0x1)],_0x4cbd3b=_0x7a516c['qVelocity'][_0x18c4ec+(0x2b2+-0x1233+0xf82)],ns['y']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity'][_0x1688b6+(-0x7b8+0xf8*0x20+-0x1746)],_0x4cbd3b=_0x7a516c['qVelocity'][_0x18c4ec+(0x99f*-0x4+0xf57+-0x1*-0x1727)],ns['z']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity2'][_0x1688b6],_0x4cbd3b=_0x7a516c['qVelocity2'][_0x18c4ec],ka['x']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity2'][_0x1688b6+(0xf74+-0x1af6+0xb83)],_0x4cbd3b=_0x7a516c['qVelocity2'][_0x18c4ec+(0x35+-0xb57+0xb23)],ka['y']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_0x290b12=_0x7a516c['qVelocity2'][_0x1688b6+(-0x1c65+-0x1c45+0x38ac)],_0x4cbd3b=_0x7a516c['qVelocity2'][_0x18c4ec+(-0x23b+0x1b8d+-0x1950)],ka['z']=_0x290b12+(_0x4cbd3b-_0x290b12)*_0x6e00f1,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x7a516c['initialVel'+'ocity']>-0x132d+0x42f+0xefe&&(_0x7a516c['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x1318+-0x2*-0x18+-0x9a3*0x2)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x7a516c['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x7a516c['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x9f8fcb+=(_0x11bec9-_0x9f8fcb)*Ns['y'],_0x374ce5=(_0x374ce5+(_0x562c61-_0x374ce5)*(_0xe0647b*(-0x3594+0x46c0+-0x4*-0x579)%(-0x1*-0x121f+-0x2b*0xb2+0xbc8)))*Z_,_0x4df541=(_0x56d91a-_0x5f232a)*(_0xe0647b*(-0x1dcb*0x1+0x68*-0x58+0x4573)%(0x33b*0x1+-0x4*-0x6fe+-0x3*0xa66)),_0x7a516c['meshInstan'+'ce']['node']&&(_0x7a516c['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x7a516c['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x4ff971)),zt['copy'](Q_),_0xad170c[_0x3ea0da*ce]=zt['x'],_0xad170c[_0x3ea0da*ce+(-0x1*0x162f+-0x26a4+0x3cd4*0x1)]=zt['y'],_0xad170c[_0x3ea0da*ce+(0x34e+0xa08+-0x1*0xd54)]=zt['z'],_0xad170c[_0x3ea0da*ce+(0xe3*-0x23+-0x17*-0x33+0x1*0x1a77)]+=_0x9f8fcb*_0x4ff971,_0x7a516c['wrap']&&_0x7a516c['wrapBounds']&&(_0x7a516c['localSpace']||zt['sub'](_0x2d3b90),zt['x']=gf(zt['x'],_0x7a516c['wrapBounds']['x'])-_0x7a516c['wrapBounds']['x']*(0x3f9*-0x7+0x517*0x3+-0x6*-0x217+0.5),zt['y']=gf(zt['y'],_0x7a516c['wrapBounds']['y'])-_0x7a516c['wrapBounds']['y']*(-0x246+0xc9*0x27+-0x1c59+0.5),zt['z']=gf(zt['z'],_0x7a516c['wrapBounds']['z'])-_0x7a516c['wrapBounds']['z']*(-0x1567*-0x1+-0x2*0xdc9+0x62b+0.5),_0x7a516c['localSpace']||zt['add'](_0x2d3b90)),_0x7a516c['sort']>-0x4*-0x6b6+-0x1b0d+-0x1*-0x35&&(_0x7a516c['sort']===0x1*0x1bc5+0x2*-0x696+-0xe98?(kr['copy'](zt)['sub'](_0x1f7226),_0x7a516c['particleDi'+'stance'][_0x3ea0da]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x7a516c['sort']===0x61f*0x4+-0x2ec+0x2*-0xac7?_0x7a516c['particleDi'+'stance'][_0x3ea0da]=_0x548324:_0x7a516c['sort']===-0x264e+0x29*0x95+-0x39d*-0x4&&(_0x7a516c['particleDi'+'stance'][_0x3ea0da]=-_0x548324))),_0x1eed93?_0x548324<-0x3ea*-0x2+-0x1122+-0x94e*-0x1&&(_0xad170c[_0x3ea0da*ce+(0xbfc+0x1065+-0x1c5e)+_0x7a516c['numParticl'+'esPot']*(-0xa2f*0x3+0xe8f+-0x100*-0x10)*ce]=-(-0x20ec+0x1*0x25d9+-0x4ec)):(_0x548324>=_0x4a41c9&&(_0x548324-=Math['max'](_0x4a41c9,(_0x7a516c['numParticl'+'es']-(-0x1d4e+0x25f8+-0x8a9))*_0x118cec),_0xad170c[_0x3ea0da*ce+(0x20ff*-0x1+0x2a4*0x1+-0xd*-0x256)+_0x7a516c['numParticl'+'esPot']*(0x107*0x1d+-0x146+0x1c83*-0x1)*ce]=_0x7a516c['loop']?-0x1c23+-0xac+-0x1cd*-0x10:-(0x9d*-0x1+0x223+0x185*-0x1)),_0x548324<0x2377+0x2564*0x1+-0x48db&&_0x7a516c['loop']&&(_0xad170c[_0x3ea0da*ce+(0x2*-0x1070+-0x3*-0xc91+-0x4d*0x10)+_0x7a516c['numParticl'+'esPot']*(-0x1f3c+0xe68*-0x2+0x3c0e)*ce]=-0x14f1+0xd*-0x286+0x35c0)),_0xad170c[_0x3ea0da*ce+(-0x162*0x15+0x2477+-0x76a)+_0x7a516c['numParticl'+'esPot']*(-0x9e0+-0x2ea*0x4+0x158a)*ce]<0x2f*0x4+0x2b3*0x5+0x1*-0xe3b&&(_0x54cd1b=!(-0x176b+0x4bd+0x12af*0x1)),_0xad170c[_0x3ea0da*ce+(-0x1eea+-0x76d*0x4+0x3ca1)+_0x7a516c['numParticl'+'esPot']*ce]=_0x548324;for(let _0x2d2853=-0x96+-0xc10+-0x1*-0xca6;_0x2d2853<_0x7a516c['numParticl'+'eVerts'];_0x2d2853++){const _0x15334c=(_0x2a17f1*_0x7a516c['numParticl'+'eVerts']+_0x2d2853)*(_0x7a516c['useMesh']?0x1d61+-0x1*0x13+-0x2*0xea4:0x30b+0x1871*0x1+-0x1b78);let _0x30f476=_0x7a516c['vbCPU'][_0x15334c],_0x2564b4=_0x7a516c['vbCPU'][_0x15334c+(0x2311+-0x1525+-0xdeb)],_0x555b87=_0x7a516c['vbCPU'][_0x15334c+(0xe99+-0x2ac*-0x2+-0x13ef)];_0x54cd1b||(_0x30f476=_0x2564b4=_0x555b87=0x1*-0xd2e+0xb31+0x1fd*0x1);const _0x50983a=_0x2a17f1*_0x7a516c['numParticl'+'eVerts']*_0xcd6e56+_0x2d2853*_0xcd6e56;_0x4f2a22[_0x50983a]=zt['x'],_0x4f2a22[_0x50983a+(-0x7a7*-0x3+-0x23ac+0xcb8)]=zt['y'],_0x4f2a22[_0x50983a+(0x25e*-0x2+-0x8*-0x47f+-0x2*0xf9d)]=zt['z'],_0x4f2a22[_0x50983a+(0x676*0x1+-0x1c46+0x1*0x15d3)]=_0x5148d9,_0x4f2a22[_0x50983a+(-0x24d*-0x4+0x1*0x822+-0x1152)]=_0x7a516c['alignToMot'+'ion']?_0x114e47:_0xad170c[_0x3ea0da*ce+(0xffd+0x74*0x36+-0x1439*0x2)],_0x4f2a22[_0x50983a+(0x5b3*0x1+0x119*-0x12+-0x4*-0x385)]=_0x374ce5,_0x4f2a22[_0x50983a+(0x2*0xcd1+0x1ec1+-0x385d)]=_0x4df541,_0x4f2a22[_0x50983a+(-0x971*-0x4+0xde2*0x2+-0x4181)]=fc['x'],_0x4f2a22[_0x50983a+(0x233+0x97d+-0x1*0xba8)]=_0x30f476,_0x4f2a22[_0x50983a+(-0x48*0x36+0x19*-0x36+0x147f)]=_0x2564b4,_0x4f2a22[_0x50983a+(0x2e2*-0x3+0x1a*0x7f+-0xb*0x62)]=_0x555b87,_0x4f2a22[_0x50983a+(-0x1f34+0x13bc*0x1+0xb83)]=fc['y'],_0x4f2a22[_0x50983a+(-0x2170+0x2482+-0x3*0x102)]=_0x3ea0da,_0x4f2a22[_0x50983a+(-0x1d0b*-0x1+-0x1*0x26b4+0x9b6)]=fc['z'],_0x4f2a22[_0x50983a+(0x17*-0xe3+-0x2229*-0x1+-0xdb6)]=_0x7a516c['vbCPU'][_0x15334c+(-0x112e+0x18e4+-0x9*0xdb)],_0x7a516c['useMesh']&&(_0x4f2a22[_0x50983a+(0xc02+-0xfbe+0x3cb)]=_0x7a516c['vbCPU'][_0x15334c+(-0xdf3+-0x1*0x232f+-0x9*-0x576)],_0x4f2a22[_0x50983a+(0x14af*-0x1+0x22*-0x70+0x1*0x239f)]=_0x7a516c['vbCPU'][_0x15334c+(0x6*-0x5ce+0x68*-0x2c+0x34b9)]);}}if(_0x7a516c['sort']>nu&&_0x7a516c['camera']){const _0x516100=_0x7a516c['useMesh']?-0x78d+0x4b5*0x4+0xb41*-0x1:-0x9ea+0xa*-0x2a0+0x242e,_0x4bc0d2=_0x7a516c['particleDi'+'stance'];for(let _0x270dfe=0x43c*-0x1+-0xb8a+0xfc6;_0x270dfe<_0x7a516c['numParticl'+'es'];_0x270dfe++)_0x50c04f[_0x270dfe][0x19*-0xb+-0x57b*0x4+0x1*0x16ff]=_0x270dfe,_0x50c04f[_0x270dfe][-0x959*0x1+0xad9*0x2+-0x5*0x278]=_0x4bc0d2[Math['floor'](_0x7a516c['vbCPU'][_0x270dfe*_0x7a516c['numParticl'+'eVerts']*_0x516100+(-0x14c2*0x1+-0x6*-0x611+-0xfa1)])];_0x7a516c['vbOld']['set'](_0x7a516c['vbCPU']),_0x50c04f['sort']((_0xced259,_0x5eaa7d)=>_0xced259[0xc2d+-0x1712*-0x1+-0x119f*0x2]-_0x5eaa7d[-0x3*0x307+-0x1*0x49e+0xdb4]);for(let _0x241c81=0xff*-0x11+0x3*0x54a+0x111;_0x241c81<_0x7a516c['numParticl'+'es'];_0x241c81++){const _0xebc9c6=_0x50c04f[_0x241c81][0x1edc+0xcb8+0x4*-0xae5]*_0x7a516c['numParticl'+'eVerts']*_0x516100,_0x520fc8=_0x241c81*_0x7a516c['numParticl'+'eVerts']*_0x516100;for(let _0x4d9819=-0x9be+-0x2*-0x523+-0x88;_0x4d9819<_0x7a516c['numParticl'+'eVerts']*_0x516100;_0x4d9819++)_0x7a516c['vbCPU'][_0x520fc8+_0x4d9819]=_0x7a516c['vbOld'][_0xebc9c6+_0x4d9819];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x44d3f6,_0x15925f){this['_emitter']=_0x44d3f6,this['frameRando'+'mUniform']=new Float32Array(-0x1*-0x13b7+0x7*0x51+-0x15eb),this['emitterPos'+'Uniform']=new Float32Array(-0x2179+-0x17*-0x1+0x2165),this['emitterSca'+'leUniform']=new Float32Array([-0x193+-0x10bd+0x61b*0x3,-0x1*-0x2bb+0x3eb+-0x6a5,-0x11eb+-0xafb*0x3+0x32dd]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x25f8+0x1a2d*0x1+0x2*0x5e7),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x1c81+-0x22e7*-0x1+0x1*-0x3f65),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x6a7*0x2+-0x1ebc+0x2c0d),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x14*-0x1ae+-0x14e7+-0xcae),this['constantPa'+'rticleTexI'+'N']=_0x15925f['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x15925f['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x15925f['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x15925f['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x15925f['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x15925f['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x15925f['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x15925f['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x15925f['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x15925f['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x15925f['scope']['resolve']('delta'),this['constantRa'+'te']=_0x15925f['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x15925f['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x15925f['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x15925f['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x15925f['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x15925f['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x15925f['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x15925f['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x15925f['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x15925f['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x15925f['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x15925f['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x15925f['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x15925f['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x15925f['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x15925f['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x15925f['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x15925f['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x15925f['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x15925f['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x15925f['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x15925f['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x15925f['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x15925f['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x15925f['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x15925f['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x25*-0xe3+0x1869+-0x2*-0x433]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0xd64+-0x1940+0x1*0xbdd]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x65b*-0x1+0x0+0x65d]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x1a89+0x1753+0x1*-0x31dc]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1255*0x2+0x3*-0x2b3+-0x3c*-0xbf]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x4*0x4ae+0x1d46*0x1+-0x14c*0x25]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x13*-0x182+0xbce+0x10d8]=Math['random'](),this['frameRando'+'mUniform'][-0x2196+-0x6e4+0x287b]=Math['random'](),this['frameRando'+'mUniform'][0x1938+0x1db*-0x13+-0x359*-0x3]=Math['random']();}['update'](_0x25b9c5,_0x5b0095,_0x207c1a,_0x2da59b,_0x3d4368){Q['pushGpuMar'+'ker'](_0x25b9c5,'ParticleGP'+'U');const _0x5a0d8c=this['_emitter'];_0x25b9c5['setBlendSt'+'ate'](pt['NOBLEND']),_0x25b9c5['setDepthSt'+'ate'](Yt['NODEPTH']),_0x25b9c5['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x1f2d+0x10*-0x20e+0xaad*0x6)/_0x5a0d8c['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x5a0d8c['precision']),this['constantNu'+'mParticles']['setValue'](_0x5a0d8c['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x5a0d8c['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x5a0d8c['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x5a0d8c['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x5a0d8c['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x5a0d8c['internalTe'+'x3']);const _0x14abf0=_0x5a0d8c['meshInstan'+'ce']['node'],_0x44adac=_0x14abf0===null?D['ONE']:_0x14abf0['localScale'];if(_0x5a0d8c['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x57b*0x3+-0x46f*-0x5+-0x5ba]=_0x5a0d8c['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0xd1a+-0x112e+0x415]=_0x5a0d8c['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x11bf+0x35*-0x35+-0x362*0x2]=_0x5a0d8c['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0xd19+0x5bf+-0x12d8]=_0x5a0d8c['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x915+-0x483+0xa7*-0x7]=_0x5a0d8c['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0xd6*-0x24+-0x26b3+0x93*0xf]=_0x5a0d8c['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x759ae=_0x5a0d8c['maxVel']*Math['max'](Math['max'](_0x44adac['x'],_0x44adac['y']),_0x44adac['z']);_0x759ae=Math['max'](_0x759ae,-0x133*-0x14+0x1*-0x1327+-0x4d4),this['constantMa'+'xVel']['setValue'](_0x759ae);}const _0x1b7a0a=_0x14abf0===null||_0x5a0d8c['localSpace']?D['ZERO']:_0x14abf0['getPositio'+'n'](),_0x1d5ff0=_0x14abf0===null?te['IDENTITY']:_0x14abf0['getWorldTr'+'ansform']();_0x5a0d8c['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x5b0095),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x207c1a)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x5a0d8c['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x5a0d8c['emitterRad'+'ius']===-0x1*0x177+0x6d*-0x4a+0x20f9?0x29*-0xb5+-0x1562+0x325f:_0x5a0d8c['emitterRad'+'iusInner']/_0x5a0d8c['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x5a0d8c['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x1d5ff0),tg['invertMat4'](_0x1d5ff0),this['emitterPos'+'Uniform'][-0x1309+0x13a5+0x3*-0x34]=_0x1b7a0a['x'],this['emitterPos'+'Uniform'][0x1*0x60d+0xaf4+-0x1100]=_0x1b7a0a['y'],this['emitterPos'+'Uniform'][0x1840+0x6c8+-0x1f06]=_0x1b7a0a['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x2da59b),this['constantRa'+'te']['setValue'](_0x5a0d8c['rate']),this['constantRa'+'teDiv']['setValue'](_0x5a0d8c['rate2']-_0x5a0d8c['rate']),this['constantSt'+'artAngle']['setValue'](_0x5a0d8c['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x5a0d8c['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x5a0d8c['seed']),this['constantLi'+'fetime']['setValue'](_0x5a0d8c['lifetime']),this['emitterSca'+'leUniform'][0x232*-0x4+0x2244*-0x1+0x2b0c]=_0x44adac['x'],this['emitterSca'+'leUniform'][-0x26a6+-0x1631+0x3cd8]=_0x44adac['y'],this['emitterSca'+'leUniform'][0x102d+-0x4c0*-0x1+0x55*-0x3f]=_0x44adac['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x5a0d8c['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x5a0d8c['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x5a0d8c['rotSpeedUM'+'ax'][0x1*0x1ffd+0x1ca3+-0x3ca0*0x1]);let _0x47984d=_0x5a0d8c['swapTex']?_0x5a0d8c['particleTe'+'xOUT']:_0x5a0d8c['particleTe'+'xIN'];_0x47984d=_0x5a0d8c['beenReset']?_0x5a0d8c['particleTe'+'xStart']:_0x47984d;const _0x3a2788=_0x5a0d8c['swapTex']?_0x5a0d8c['particleTe'+'xIN']:_0x5a0d8c['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x47984d),Ar(_0x25b9c5,_0x5a0d8c['swapTex']?_0x5a0d8c['rtParticle'+'TexIN']:_0x5a0d8c['rtParticle'+'TexOUT'],_0x3d4368?_0x5a0d8c['shaderPart'+'icleUpdate'+'OnStop']:_0x5a0d8c['loop']?_0x5a0d8c['shaderPart'+'icleUpdate'+'Respawn']:_0x5a0d8c['shaderPart'+'icleUpdate'+'NoRespawn']),_0x5a0d8c['material']['setParamet'+'er']('particleTe'+'xOUT',_0x47984d),_0x5a0d8c['material']['setParamet'+'er']('particleTe'+'xIN',_0x3a2788),_0x5a0d8c['beenReset']=!(0x54*0x6e+-0x249a+0x83),_0x5a0d8c['swapTex']=!_0x5a0d8c['swapTex'],_0x5a0d8c['prevWorldB'+'oundsSize']['copy'](_0x5a0d8c['worldBound'+'sSize']),_0x5a0d8c['prevWorldB'+'oundsCente'+'r']['copy'](_0x5a0d8c['worldBound'+'s']['center']),_0x5a0d8c['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x25b9c5);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x6ba2db){let _0x371c49='particle_'+ya['definesHas'+'h'](_0x6ba2db['defines'])+'_';for(const _0x3287f7 in _0x6ba2db)_0x6ba2db['hasOwnProp'+'erty'](_0x3287f7)&&(_0x371c49+=_0x6ba2db[_0x3287f7]);return _0x371c49;}['createVert'+'exDefines'](_0x1e7764,_0x3afe09){const _0x4126d9=new Map(_0x1e7764['defines']);return _0x1e7764['mesh']&&_0x4126d9['set']('USE_MESH',''),_0x1e7764['meshUv']&&_0x4126d9['set']('USE_MESH_U'+'V',''),_0x1e7764['localSpace']&&_0x4126d9['set']('LOCAL_SPAC'+'E',''),_0x1e7764['screenSpac'+'e']&&_0x4126d9['set']('SCREEN_SPA'+'CE',''),_0x1e7764['animTex']&&_0x4126d9['set']('ANIMTEX',''),_0x1e7764['soft']>0x1258+0x26*0x4c+0x13c*-0x18&&_0x4126d9['set']('SOFT',''),_0x1e7764['stretch']>-0x8*0x35c+0x31*-0xc1+0x3fd1&&_0x4126d9['set']('STRETCH',''),_0x1e7764['customFace']&&_0x4126d9['set']('CUSTOM_FAC'+'E',''),_0x1e7764['pack8']&&_0x4126d9['set']('PACK8',''),_0x1e7764['localSpace']&&_0x4126d9['set']('LOCAL_SPAC'+'E',''),_0x1e7764['animTexLoo'+'p']&&_0x4126d9['set']('ANIMTEX_LO'+'OP',''),_0x1e7764['wrap']&&_0x4126d9['set']('WRAP',''),_0x1e7764['alignToMot'+'ion']&&_0x4126d9['set']('ALIGN_TO_M'+'OTION',''),_0x4126d9['set']('NORMAL',sg[_0x1e7764['normal']]),_0x3afe09['particle_v'+'ertexData']=Me,_0x1e7764['mesh']&&_0x1e7764['meshUv']&&(_0x3afe09['particle_u'+'v']=is),_0x1e7764['useCpu']&&(_0x3afe09['particle_v'+'ertexData2']=uh,_0x3afe09['particle_v'+'ertexData3']=Ap,_0x3afe09['particle_v'+'ertexData4']=Cp,_0x3afe09['particle_v'+'ertexData5']=Pp),_0x4126d9;}['createFrag'+'mentDefine'+'s'](_0x252f50){const _0x2adfea=new Map(_0x252f50['defines']);return _0x252f50['soft']>0x2356+-0x12d3+-0x1083&&_0x2adfea['set']('SOFT',''),_0x252f50['halflamber'+'t']&&_0x2adfea['set']('HALF_LAMBE'+'RT',''),_0x2adfea['set']('NORMAL',sg[_0x252f50['normal']]),_0x2adfea['set']('BLEND',Yy[_0x252f50['blend']]),_0x2adfea;}['createShad'+'erDefiniti'+'on'](_0x5abcc3,_0x1aed2b){const _0x559065=_0x5abcc3['isWebGPU']?it:Fe,_0x217189=Pe['get'](_0x5abcc3,_0x559065),_0x5d0f49={},_0x112e94=this['createVert'+'exDefines'](_0x1aed2b,_0x5d0f49),_0x4f66cc=this['createFrag'+'mentDefine'+'s'](_0x1aed2b),_0x5c6b3d='PARTICLE_'+(_0x1aed2b['useCpu']?'CPU':'GPU')+'\x0a';_0x112e94['set'](_0x5c6b3d,''),_0x4f66cc['set'](_0x5c6b3d,'');const _0x3e3126=new Map(_0x217189);return Jt['createDefi'+'nition'](_0x5abcc3,{'name':'ParticleSh'+'ader','shaderLanguage':_0x559065,'attributes':_0x5d0f49,'vertexCode':_0x217189['get']('particle_s'+'haderVS'),'fragmentCode':_0x217189['get']('particle_s'+'haderPS'),'fragmentDefines':_0x4f66cc,'fragmentIncludes':_0x3e3126,'vertexIncludes':_0x3e3126,'vertexDefines':_0x112e94});}}const gA=new _A();class SA extends tr{constructor(_0x4cbf95){super(),h(this,'emitter',null),(this['emitter']=_0x4cbf95,w['assert'](_0x4cbf95));}['getShaderV'+'ariant'](_0x2309b7){const {device:_0x195c3f,scene:_0x4b8f60,cameraShaderParams:_0x164613,objDefs:_0x571372}=_0x2309b7,{emitter:_0x23ef41}=this,_0x5696cd={'defines':$t['getCoreDef'+'ines'](this,_0x2309b7),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x23ef41['lighting']?_0x23ef41['normalMap']!==null?-0x13a5+0x12c2+-0x1*-0xe5:0xd*-0x17f+0x155*-0x1+-0x14c9*-0x1:-0x107d+0x1f92+-0xf15,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x571372&nm,'gamma':(_0x164613==null?void(-0x23be+0xd8d+0x1631):_0x164613['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x164613==null?void(0x175*0xc+-0xefc+-0x50*0x8):_0x164613['toneMappin'+'g'])??sm,'fog':_0x4b8f60&&!this['emitter']['noFog']?_0x4b8f60['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x23ef41['inTools']?!(0x1cd*-0x11+-0x4*0x20b+0x26ca):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x9416d8=new Ad(_0x2309b7['viewUnifor'+'mFormat'],_0x2309b7['viewBindGr'+'oupFormat'],_0x2309b7['vertexForm'+'at']),_0x5ddbff=Hn(_0x195c3f);return _0x5ddbff['register']('particle',gA),_0x5ddbff['getProgram']('particle',_0x5696cd,_0x9416d8,this['userId']);}}const ig=[[-(-0x1617+-0x1*0x989+-0x3*-0xa8b),-(-0x404+-0x1aab+-0x1eb0*-0x1)],[-0x1d*-0x2b+0x2645+-0x2b23,-(-0xd6*-0x1a+-0x656+-0x7*0x233)],[0x552+-0x1c98+-0x1*-0x1747,-0x1*0x212e+0x1*-0x15f8+-0x3727*-0x1],[-(0x7*-0x36+0x2610+-0x2495),0x16*-0xc1+0x9db+0x6bc]];function xs(_0x541b3f,_0x4cf8f5,_0x43d148,_0x2ac1b8,_0x326eb3=Xt,_0x4676e2,_0x17b0d3){let _0x3f44c3=Te;_0x17b0d3&&(_0x326eb3===Ne||_0x326eb3===_s)&&(_0x3f44c3=vt);const _0x1b4b3c=new _e(_0x541b3f,{'width':_0x4cf8f5,'height':_0x43d148,'format':_0x326eb3,'cubemap':!(-0x1*0x1865+0x239*-0x3+0xb*0x2d3),'mipmaps':!(-0xc9e+0xab+0xbf4),'minFilter':_0x3f44c3,'magFilter':_0x3f44c3,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x4c606f=_0x1b4b3c['lock']();if(_0x326eb3===Ne||_0x326eb3===_s){const _0x9c0343=new Uint8Array(_0x2ac1b8['length']);for(let _0x4adcf6=0xb6e+-0xa6c+-0x102;_0x4adcf6<_0x2ac1b8['length'];_0x4adcf6++)_0x9c0343[_0x4adcf6]=_0x2ac1b8[_0x4adcf6]*_0x4676e2*(-0x24fb*0x1+-0xd65+0x1*0x335f);_0x2ac1b8=_0x9c0343;}return _0x4c606f['set'](_0x2ac1b8),_0x1b4b3c['unlock'](),_0x1b4b3c;}function rg(_0x54a487){return Math['max'](Math['min'](_0x54a487,-0x1c75+0x24c1+0xb*-0xc1),-0xcd8+0x8*-0x130+0x1658);}const ag=new qs([0x23fb+0x1*-0x2387+-0x74,0x5*-0x35+-0x1*0x1bf7+0x100*0x1d,-0x23b2+-0x16d5+0x3a88,-0x5bf*-0x5+-0x2433*0x1+0x4*0x1de]),ng=new qs([0x29*-0x57+0xe8a+0x5*-0x1f,-0x21c9+-0x2496+0x4660,-0x1*0x214f+0x410*-0x6+0xe6c*0x4,-0x20*0x58+0xa5e*0x1+0xa3*0x1]),og=new na([-0x1*0x9a3+0x8e7+0xbc,-0x556+0x95*-0x7+0x21*0x49,-0x29*-0x2c+0x9*0x430+-0x2cbb,0x11b*0x8+0x16f9*0x1+-0x1fd1],[0x1141+-0x3*-0x83d+0x2*-0x14fc,-0x1793+-0x4e*-0x6f+-0xa3f,-0x4bd+0x5*0x74b+0x3*-0xa93,0x1*0x9d6+-0x957+0x7f*-0x1],[0x1cee+-0xcb5*-0x3+0xd69*-0x5,0x1f*-0xed+0xab9+0x11fa,-0x190*0x7+-0x1cb9+-0x27aa*-0x1,0xec5+0x243c+-0x3301]),yA=new na([0x13*0x1cc+0x5*0x16b+-0x293b,0x3af+0x1bf*0xf+0x3*-0x9f5,0x15fe+0x2*0xeed+-0x33d7,0xed+0x24d+0xa5*-0x5],[0x19*-0x1+-0x18a3+-0x62f*-0x4,-0x386*0x2+0x1*-0x1cd6+0x23e3,0x17e3+-0x15cd*0x1+-0x215,0x57a+0x1b4b+0x24*-0xe9],[0x1*-0x301+-0x359*-0x2+-0x3b1,-0x1e7f*0x1+-0xd63+-0x15*-0x217,0x1*-0x2130+-0x1cf0+-0xc6d*-0x5,-0x1df2+-0x1*-0xe0b+0xfe8]);let bi=-0x115*-0x1+-0x11ce+-0x10bb*-0x1;const pc=0x7f7*0x1+-0x35*0x13+-0x404,Ai=new Float32Array(0x1*-0x4e1+0x1c57+-0x105*0x17),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x53ede8,_0x31e965){Zc[_0x53ede8]!==void(0x1d4b+0x22a*0x8+-0x2e9b)&&Zc[_0x53ede8]!==null?uu[_0x53ede8]=Zc[_0x53ede8]:uu[_0x53ede8]=_0x31e965;}function Dv(_0x2274e7,_0x46de1d,_0x246032){return(_0x2274e7*(-0x2*0x3ec+-0x1afa+0x23d1)<<0x751*-0x5+0x148a+0x101b|_0x46de1d*(-0x166d+-0x53*-0x17+0xff7)<<0x1120+-0x38*-0x39+-0x158*0x16|_0x246032*(0x9e0+0x253c*-0x1+-0x11*-0x1ab))/(-0x40b+-0x193a+0x3*0x9c2<<-0x17b*0x1+-0xcf2+-0x3*-0x4d7);}function cg(_0x5575d1,_0x3eefc2){const _0xcb8240=_0x5575d1['length']/(-0x16*0x17b+0x1dd8+-0x2bd*-0x1),_0x106a4f=new Array(_0xcb8240*(0x25*-0x58+-0x1a9*-0x9+-0x235));for(let _0x5accb2=-0x417+-0x1ef*-0x13+-0x18e*0x15;_0x5accb2<_0xcb8240;_0x5accb2++)_0x106a4f[_0x5accb2*(0x265*0x7+-0x32*-0xc2+0x47*-0xc5)]=_0x5575d1[_0x5accb2*(0x267b+-0x14d8+-0x11a0)],_0x106a4f[_0x5accb2*(0x37*-0x31+-0x248d*0x1+0x2f18)+(0x2364+-0xb*0x1d8+-0xf1b)]=_0x5575d1[_0x5accb2*(0x15*-0x11+0xa53+0x1*-0x8eb)+(0x26c6+0x170f+-0x1eea*0x2)],_0x106a4f[_0x5accb2*(0x4cd*0x1+-0x17*0xc7+0xd18)+(0x11*0x95+-0xb10+-0x12d*-0x1)]=_0x5575d1[_0x5accb2*(0xeed*-0x2+0x11f6+0xb*0x115)+(-0x1121+-0x71f*0x1+-0x5*-0x4da)],_0x106a4f[_0x5accb2*(0x14*0x199+-0x1a82+-0x56e)+(0x1c0a+-0x1e7c+0x275)]=Dv(_0x3eefc2[_0x5accb2*(0x49d*0x1+-0xf29+-0xa8f*-0x1)],_0x3eefc2[_0x5accb2*(0xa13+-0x21e4+0x2*0xbea)+(0x24*0x48+0x4b*0xf+-0x2*0x742)],_0x3eefc2[_0x5accb2*(0x3*-0xef+0x6ad*-0x1+0x97d)+(-0x22e8+0x7f*0x1a+0x1604)]);return _0x106a4f;}function vA(_0x22eebe,_0x5b60f0){const _0x4977fe=new Array(_0x5b60f0['length']*(0x1*-0x941+-0x19cf*-0x1+-0x108a));for(let _0x1d1091=-0x1038+-0x3*0x9fe+0x2e32;_0x1d1091<_0x5b60f0['length'];_0x1d1091++)_0x4977fe[_0x1d1091*(0x6af+-0x3*0xcf7+0x2ee*0xb)]=_0x22eebe[_0x1d1091*(0xfa5*0x1+-0x1c9*0x12+0x1080)],_0x4977fe[_0x1d1091*(0x19c9+-0x3d*0x89+0x6e0)+(-0x38*0x30+-0x119b+-0x101*-0x1c)]=_0x22eebe[_0x1d1091*(-0x3b*-0xb+0x1*-0x19c3+0x173d)+(-0x15*-0x19d+-0x1*-0xd3f+-0x2f1f)],_0x4977fe[_0x1d1091*(-0x4*0x11f+0x2fe*-0x5+0x2*0x9bb)+(-0x234a+0x2fa+0x18a*0x15)]=_0x22eebe[_0x1d1091*(-0x3*0xbab+-0x977+0x3b*0xc1)+(0x1*-0x2dd+-0x7*0x1bf+0x228*0x7)],_0x4977fe[_0x1d1091*(0x232d*-0x1+0x534*0x2+0x18c9)+(0x1a65+0x3ec*-0x5+-0x6c6)]=_0x5b60f0[_0x1d1091];return _0x4977fe;}function xA(_0x73bab9,_0x515227,_0x4aacbe,_0x4eab49,_0x52ebc3){const _0x5bba78=new Array(_0x73bab9['length']*(0x8c5*0x3+-0x1*0x1ba6+0x15b*0x1));for(let _0x52ad56=-0x1bac+-0x529+0x5*0x691;_0x52ad56<_0x73bab9['length'];_0x52ad56++)_0x5bba78[_0x52ad56*(-0x1*-0xeb3+-0xc3d+-0x1*0x272)]=_0x73bab9[_0x52ad56],_0x5bba78[_0x52ad56*(-0x154+-0x1a37+0x1b8f)+(0x1*0x49d+0x622+-0xabe)]=_0x515227[_0x52ad56],_0x5bba78[_0x52ad56*(-0x1d25*-0x1+-0x192f+-0x3f2)+(0x1*0xb7d+0x229f*-0x1+0x1*0x1724)]=-0x1152+-0x19bc+0x21*0x14e,_0x5bba78[_0x52ad56*(0x10b0*0x1+0x20*-0x6b+0xd3*-0x4)+(-0xaa2+-0x34b*0x7+-0x2*-0x10d9)]=Dv(_0x4aacbe[_0x52ad56],_0x4eab49[_0x52ad56],_0x52ebc3[_0x52ad56]);return _0x5bba78;}function TA(_0x1b8433,_0xe69b2c){const _0x481326=new Array(_0x1b8433['length']*(0x21f9+-0x2*0xa8b+-0x5*0x293));for(let _0x5555ac=-0xcc9*-0x2+-0x8a1+0x1*-0x10f1;_0x5555ac<_0x1b8433['length'];_0x5555ac++)_0x481326[_0x5555ac*(-0xcd+0x3*-0x883+0x1a5a)]=_0x1b8433[_0x5555ac],_0x481326[_0x5555ac*(-0xb5f+0x1*0xe4d+0x2*-0x175)+(0x1402+0xe*-0x3+-0x13d7)]=_0xe69b2c[_0x5555ac],_0x481326[_0x5555ac*(-0x1e1a+0xd*0x2f9+0x887*-0x1)+(0x2256*-0x1+0x124*-0x17+0x3c94)]=-0xd39+0x1297+-0x55e,_0x481326[_0x5555ac*(-0xa5*0x4+0x216+0x1a*0x5)+(0x35*-0x4f+0x535*-0x5+0x343*0xd)]=0x3d*-0x5d+0x10*-0x209+0x36b9;return _0x481326;}function wA(_0x34a1ae){const _0x5afa5d=Math['max'](_0x34a1ae['rate'],_0x34a1ae['rate2'])*_0x34a1ae['numParticl'+'es']+_0x34a1ae['lifetime'];return Date['now']()+_0x5afa5d*(0x540*-0x1+0x127+0x801*0x1);}function EA(_0x1a8f07,_0x1dd80a){const _0x1b08b7=new Float32Array(_0x1a8f07['length']);for(let _0x170778=0x4b5+-0x8*0x4bd+0xb11*0x3;_0x170778<_0x1a8f07['length'];_0x170778++)_0x1b08b7[_0x170778]=_0x1a8f07[_0x170778]-_0x1dd80a[_0x170778];return _0x1b08b7;}function Xr(_0x2b1d7f,_0x40eddd){const _0x44a793=_0x40eddd['length'],_0x2b4c76=_0x2b1d7f['length']/_0x44a793;for(let _0x5a6e9d=-0xfd9+-0x13e3*0x1+-0x23bc*-0x1;_0x5a6e9d<_0x2b4c76;_0x5a6e9d++)for(let _0x3ef8d2=0x1*-0xe11+-0xa29*-0x1+0x3e8;_0x3ef8d2<_0x44a793;_0x3ef8d2++){const _0x4df2f5=Math['abs'](_0x2b1d7f[_0x5a6e9d*_0x44a793+_0x3ef8d2]);_0x40eddd[_0x3ef8d2]=Math['max'](_0x40eddd[_0x3ef8d2],_0x4df2f5);}}function bA(_0x1f7604,_0x1587f9){const _0x486835=_0x1587f9['length'],_0x4f9551=_0x1f7604['length']/_0x486835;for(let _0x2fa9d=0x2090+0x5*0x172+-0x27ca;_0x2fa9d<_0x4f9551;_0x2fa9d++)for(let _0x2fde14=0x2557+0xa23+-0x2f7a;_0x2fde14<_0x486835;_0x2fde14++)_0x1f7604[_0x2fa9d*_0x486835+_0x2fde14]/=_0x1587f9[_0x2fde14]===-0x1*-0xb15+0xf23+-0x2*0xd1c?0x7fe+0x5*0x3e6+-0x7*0x3ed:_0x1587f9[_0x2fde14],_0x1f7604[_0x2fa9d*_0x486835+_0x2fde14]*=0x1157+-0x1bb8+0xa61+0.5,_0x1f7604[_0x2fa9d*_0x486835+_0x2fde14]+=-0x742*-0x4+0x1fdf*0x1+-0x3ce7+0.5;}function Br(_0x3fc4d2,_0x4df455,_0x431e85){const _0x34d0ea=EA(_0x4df455,_0x3fc4d2);return Xr(_0x34d0ea,_0x431e85),bA(_0x34d0ea,_0x431e85),_0x34d0ea;}const AA=new Kt();class CA{constructor(_0x547e9e,_0x1ccfbb){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x547e9e;const _0x338b54=_0x547e9e,_0xa535d1=-0x1a07+0x4*0x5b+-0xd*-0x1e7;this['precision']=_0xa535d1,this['_addTimeTi'+'me']=-0x670+0x9d*0xd+0x3*-0x83,uu=this,Zc=_0x1ccfbb,he('numParticl'+'es',-0x3*-0x271+-0x9e5+-0x293*-0x1),this['numParticl'+'es']>_0x547e9e['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x547e9e['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x547e9e['maxTexture'+'Size']),he('rate',-0x14a8+-0x2276+-0x1*-0x371f),he('rate2',this['rate']),he('lifetime',-0x1*0x1593+-0x183e+-0x2e03*-0x1),he('emitterExt'+'ents',new D(-0xafd+0x14e+0x25*0x43,-0x19*-0x159+0x1f0d+-0x1*0x40be,0x1d8e+0x2624+-0x5*0xd8a)),he('emitterExt'+'entsInner',new D(-0x5e0+-0x1786+-0x47*-0x6a,0x1*-0x71f+-0x453*0x9+0x2e0a,-0xd7f+0x1d21+-0xfa2)),he('emitterRad'+'ius',-0x419*0x3+0xd22+-0xd7),he('emitterRad'+'iusInner',-0x1133*-0x2+-0x5b*-0x6a+-0x4814),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0x2*-0x4f5+0x30+-0xa19),he('wrap',!(-0x1750+-0x6*0x5f+-0x1*-0x198b)),he('localSpace',!(-0x1885+0x2*-0xf09+0x3698)),he('screenSpac'+'e',!(0x1f*0x125+-0x18a*0x10+-0xada)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x1f4e*-0x1+-0x8ba+0x2808)),he('preWarm',!(-0x245a+-0x1*-0x1213+0x28*0x75)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x1*0x470+-0x12f1+0xe82)),he('halfLamber'+'t',!(-0x57*-0x71+-0x1781+0x5d*-0x29)),he('intensity',-0x5c8+-0x4b+0x1*0x614),he('stretch',0x1c50+0x9d3+-0x2623),he('alignToMot'+'ion',!(0x177a+-0x1*-0x1091+-0x1405*0x2)),he('depthSofte'+'ning',0x1a15+0x2281*0x1+-0x3c96),he('mesh',null),he('particleNo'+'rmal',new D(0xa9*0xd+0xfe7+-0x187c*0x1,-0x7*0x4a+-0x94*-0x3+-0x1*-0x4b,0x1039+0xe8+-0x1121)),he('orientatio'+'n',yh),he('depthWrite',!(-0x2515+0x1*0xf44+0x31*0x72)),he('noFog',!(-0x2*-0x70+0x2557+0x2636*-0x1)),he('blendType',Zs),he('node',null),he('startAngle',0x5*0x155+0xd1a+-0x13c3),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x248+-0x59*-0x11+-0x83*0x10),he('animTilesY',-0x1*-0x11e+-0x59e*-0x1+-0x6bb),he('animStartF'+'rame',0x1cc9+-0x14c4+0x1*-0x805),he('animNumFra'+'mes',-0x259*0xb+-0x25c1+0x3f95),he('animNumAni'+'mations',-0x6d*0x33+0x886+0x1*0xd32),he('animIndex',0xbed+0x1f26+-0x1*0x2b13),he('randomizeA'+'nimIndex',!(0x10b7+0x1*-0x1344+0x28e)),he('animSpeed',0x1686+0x201c+-0x36a1),he('animLoop',!(-0xf7e+-0x6*-0xf5+0x9c0)),this['_gpuUpdate'+'r']=new mA(this,_0x338b54),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x1*-0x17af+0x3*0x5f9+-0x111*0x27),this['wrapBounds'+'Uniform']=new Float32Array(-0x1*-0x103+-0x222d+0x1*0x212d),this['emitterSca'+'leUniform']=new Float32Array([0x5af+0x14f9+-0x1*0x1aa7,0x2227*0x1+-0x3*-0x5ff+-0x3423*0x1,-0x4e1+0x1*-0x22f1+0x27d3]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0xf49+0x1cd0*-0x1+-0x2c1b*-0x1),this['animParams']=new Float32Array(0x23b6+-0x281*0x8+-0xfaa),this['animIndexP'+'arams']=new Float32Array(0x2276*-0x1+-0x112*-0x11+0x1046),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x721+0xba9*0x3+-0x2a1b),this['useMesh']=!(-0x1080+0x2179*-0x1+0x31f9),this['useCpu']=!_0x547e9e['supportsGp'+'uParticles'],this['pack8']=!(0x249c+-0xe0+-0x23bc),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x1*0x1697+-0x228d+0x3924,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x109c+-0xf4b+0x1fe7,this['numParticl'+'eIndices']=-0x48f*-0x3+0x880+-0x7*0x32b,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1be9+0x8e5+-0x24ce,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x125*-0x1+-0x8f9*-0x1+-0x7d3)/(-0xe56+0x88a+0x608),this['maxSubStep'+'s']=-0xaed*-0x2+0x3b*-0x1d+-0x50b*0x3,this['simTime']=0xa*-0xc0+0x647+0x1*0x139,this['simTimeTot'+'al']=0xcf5*-0x1+0x1aa0+-0x1*0xdab,this['beenReset']=!(-0x1cfc*0x1+-0xed8+0x2bd5),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x1d45d1=new Float32Array(-0x13d4+-0xb7*-0x4+0x14f8);for(let _0x2080ca=-0x144b+-0x2248+0x1231*0x3;_0x2080ca<-0x30*-0xa8+0x2273*0x1+-0x41e3;_0x2080ca++)for(let _0x2223f3=0x10c6*0x2+-0x2359+-0x1*-0x1cd;_0x2223f3<-0xc0c+0x47*0xd+0x881;_0x2223f3++){const _0x59f283=_0x2223f3+(0x436+-0x27c+-0x1b9)-(-0x31*0x4+-0x1f*-0xd+0xc7*-0x1+0.5),_0x7218f7=_0x2080ca+(-0x88*-0x23+-0x1*0x3f1+-0xea6)-(-0x1f42+-0x647+0x2591+0.5),_0x5998ef=rg(-0x6a*0x3+0x3*-0xce1+0x13f1*0x2-rg(Math['sqrt'](_0x59f283*_0x59f283+_0x7218f7*_0x7218f7)/(-0x1*-0xf9f+-0x14*-0x1df+0x3*-0x11a9))-(-0x1b10+0x1535+0x5db+0.5)),_0x447754=_0x2080ca*(0x59*-0x29+0x1fae+-0x115d)+_0x2223f3;_0x1d45d1[_0x447754*(-0x1bdd+0x1b0c+-0x1*-0xd5)]=-0xf26+0x27a*0xb+-0xc17,_0x1d45d1[_0x447754*(0x193b+0x2646+-0x3f7d)+(-0x9*-0x6d+0x685*0x4+-0x1de8)]=-0x1*-0xfad+0x110+-0x10bc,_0x1d45d1[_0x447754*(-0xc5+0xa4d*-0x2+0x1*0x1563)+(-0x2559*-0x1+0x2131*-0x1+-0x426)]=-0x1ae5+-0x1c99*0x1+0x377f,_0x1d45d1[_0x447754*(-0x905*-0x1+0x1307+-0x1c08)+(-0x10c4+0x1a1f+-0x958)]=_0x5998ef;}const _0x2a3096=xs(this['graphicsDe'+'vice'],0x6*-0x235+-0x3*0xe1+0xff1,-0x15*-0xbf+0x964+-0x1*0x18ff,_0x1d45d1,_s,-0x1903+-0x46d*-0x6+-0x18a,!(-0x2*0xb6e+0x1471*0x1+0x26b));return _0x2a3096['minFilter']=vt,_0x2a3096['magFilter']=vt,_0x2a3096;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x136+0x19*0x9b+-0xdec)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x86a+-0x1525*0x1+-0xb0*-0x2b)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x11*-0x1ed+-0x55*0x4f+0x6f*-0xf)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x24bb+-0x2005+0x5*-0xf1)),this['worldBound'+'sAdd']['x']+=-0x197b+0x1859+-0x91*-0x2+0.5,this['worldBound'+'sAdd']['y']+=-0xbf*0x21+-0x55*0x4a+-0x1*-0x3131+0.5,this['worldBound'+'sAdd']['z']+=0x2*-0x99b+0x5*0xd7+0x9*0x1ab+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x36cbca=!(0x907*-0x1+0x1b8*-0xe+-0x1*-0x2118);this['emitterSha'+'pe']===ai?_0x36cbca=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x36cbca=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x36cbca&&this['calculateL'+'ocalBounds']();}const _0x182734=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x182734),this['worldBound'+'sTrail'][-0x1*-0x1483+0xb*0x1f2+0x29e9*-0x1]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x17a5+-0x15d2+-0xb5e*-0x4]['add'](this['worldBound'+'sNoTrail']);const _0xb70b7f=this['simTimeTot'+'al'];_0xb70b7f>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x3*-0x78a+-0x357+-0x1347]['copy'](this['worldBound'+'sTrail'][-0xe5*-0x5+-0x1*0x1d73+-0x4ff*-0x5]),this['worldBound'+'sTrail'][0xf17*0x1+-0x86f*0x3+0xa37]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0xb70b7f+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x506*-0x5+0x356+-0xc*0x25f]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x9f+-0x86c+0x90d),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x182734),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x182734)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x13bb+0x2106*0x1+-0xd4a-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1*0x21e9+-0x4e*0x22+0x2c45]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x17*0xa2+0x37*0x9d+-0x132c]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x2153+0x4bb+-0x260e]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2af+-0x5*0x3+0x2*-0x14f),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0xd*0x263+-0x29*0xb7+-0xa*0x2c,this['timeToSwit'+'chBounds']=0x43e*0x6+-0xf3c*-0x2+-0x37ec*0x1);}['calculateL'+'ocalBounds'](){let _0x429970=Number['MAX_VALUE'],_0xba8609=Number['MAX_VALUE'],_0x49b1b2=Number['MAX_VALUE'],_0x52d291=-Number['MAX_VALUE'],_0x5bbd65=-Number['MAX_VALUE'],_0x294fad=-Number['MAX_VALUE'],_0x3460fc=-0x21+0x1*0x22be+-0x1*0x229d,_0x1af942=-0x7*0x29a+0x1ae0+-0x8aa;const _0x59bd31=this['lifetime']/this['precision'],_0x31637d=[this['qVelocity'],this['qVelocity2']],_0x226899=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x861d93=[0x955*0x2+0x1917+-0x1e7*0x17,-0x286*-0x1+0xa0+-0x326],_0x1d36c8=[0x12f7+0x2229+-0x3520,-0x1*0x37a+-0x60e+0x988],_0x38fdfc=[0x148*-0x17+0x319+0x2b*0x9d,0x1f*0x106+0x1*-0x12bb+-0xcff],_0x13e448=[-0x18b+-0x2307+0x2492,0x1a3f+-0x1247*-0x1+-0x2c86],_0x29dd8f=[0x132f+0x3*-0x805+0x6*0xd0,-0x2300+-0x2*-0x704+0x14f8];let _0x1fbd77,_0x5971af,_0xf3631;for(let _0x4591b8=-0x98b+0x1af*-0xf+0x4*0x8b3;_0x4591b8<this['precision']+(0x10c3+-0x3*0xaf0+0x100e);_0x4591b8++){const _0x3a7008=Math['min'](_0x4591b8,this['precision']-(-0x1*0xc02+0xfaf+-0x3ac));for(let _0x24745e=-0xc69*-0x1+-0x6c8+-0x5a1;_0x24745e<-0x100f*-0x1+-0x1*-0x1eef+-0x2efc;_0x24745e++)_0x1fbd77=_0x226899[_0x24745e][_0x3a7008*(-0xc*-0x1a7+0x3*-0xc33+0x10c8)+(0x1*0x1b83+-0x177c+0x1*-0x407)]*_0x59bd31+_0x861d93[_0x24745e],_0x5971af=_0x226899[_0x24745e][_0x3a7008*(0x1acf+-0x3*-0x432+-0x2*0x13b1)+(-0x4*0x547+-0x1b87+0x30a4)]*_0x59bd31+_0x1d36c8[_0x24745e],_0xf3631=_0x226899[_0x24745e][_0x3a7008*(0x1b3c+0x2604+-0x413d)+(-0x1*0x1dc4+0xfab+0xe1b)]*_0x59bd31+_0x38fdfc[_0x24745e],_0x429970=Math['min'](_0x1fbd77,_0x429970),_0xba8609=Math['min'](_0x5971af,_0xba8609),_0x49b1b2=Math['min'](_0xf3631,_0x49b1b2),_0x52d291=Math['max'](_0x1fbd77,_0x52d291),_0x5bbd65=Math['max'](_0x5971af,_0x5bbd65),_0x294fad=Math['max'](_0xf3631,_0x294fad),_0x861d93[_0x24745e]=_0x1fbd77,_0x1d36c8[_0x24745e]=_0x5971af,_0x38fdfc[_0x24745e]=_0xf3631;for(let _0x2745b5=0xf8+0x23d5+0x1*-0x24cd;_0x2745b5<-0x1*0x1861+-0x5*-0x6de+-0x3*0x351;_0x2745b5++)_0x29dd8f[_0x2745b5]+=_0x59bd31*Math['sqrt'](_0x31637d[_0x2745b5][_0x3a7008*(-0x983*0x3+-0x1*-0x1385+0x1*0x907)+(-0x2*-0x99b+-0x59*-0x45+-0x2b33)]*_0x31637d[_0x2745b5][_0x3a7008*(-0x1*0x85d+0x22d+0x633)+(0x1340+0x6b7+0x19f7*-0x1)]+_0x31637d[_0x2745b5][_0x3a7008*(-0x1b1*-0x9+-0x2258+0x1322)+(0x1ecb*0x1+0xcfb*0x1+-0x2bc5)]*_0x31637d[_0x2745b5][_0x3a7008*(0x1113+0x1c42*0x1+-0x2d52)+(-0x1a7e+0x1435+0x64a)]+_0x31637d[_0x2745b5][_0x3a7008*(-0x1*-0x2494+0x475+-0x2906)+(0x1a3f+0xc*0x169+-0x2b29*0x1)]*_0x31637d[_0x2745b5][_0x3a7008*(0x258d+0x660+-0x2bea)+(0xad2+-0x179a+0xcca)]);_0x13e448[-0x1105+0xc10+-0x2f*-0x1b]+=this['qRadialSpe'+'ed'][_0x3a7008]*_0x59bd31,_0x13e448[0x2*-0xe2f+-0x8e*0x2e+0x35e3]+=this['qRadialSpe'+'ed2'][_0x3a7008]*_0x59bd31,_0x3460fc=Math['max'](_0x3460fc,Math['max'](Math['abs'](_0x13e448[0x2*0x60f+-0x1*0x1bbf+0xfa1*0x1]),Math['abs'](_0x13e448[-0x12ca+-0x3*0x16a+0x1709]))),_0x1af942=Math['max'](_0x1af942,this['qScale'][_0x3a7008]);}this['emitterSha'+'pe']===ai?(_0x1fbd77=this['emitterExt'+'ents']['x']*(-0x1*-0x1ef6+-0x191*-0x2+-0x2218+0.5),_0x5971af=this['emitterExt'+'ents']['y']*(0x1f5c+-0xa87*0x1+0x1*-0x14d5+0.5),_0xf3631=this['emitterExt'+'ents']['z']*(-0xa03*-0x1+0x1468+-0x1e6b+0.5)):(_0x1fbd77=this['emitterRad'+'ius'],_0x5971af=this['emitterRad'+'ius'],_0xf3631=this['emitterRad'+'ius']);const _0x2ebbeb=Math['max'](_0x29dd8f[0x84*0xc+-0x100c*0x1+0x9dc],_0x29dd8f[-0x1dde+0x1fd5+-0x1f6]);mc['x']=_0x429970-_0x1af942-_0x1fbd77-_0x3460fc-_0x2ebbeb,mc['y']=_0xba8609-_0x1af942-_0x5971af-_0x3460fc-_0x2ebbeb,mc['z']=_0x49b1b2-_0x1af942-_0xf3631-_0x3460fc-_0x2ebbeb,_c['x']=_0x52d291+_0x1af942+_0x1fbd77+_0x3460fc+_0x2ebbeb,_c['y']=_0x5bbd65+_0x1af942+_0x5971af+_0x3460fc+_0x2ebbeb,_c['z']=_0x294fad+_0x1af942+_0xf3631+_0x3460fc+_0x2ebbeb,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x36322d=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x36322d['maxVertexT'+'extures']<=-0x71d*0x1+-0x1*-0x2632+-0x1f14||_0x36322d['fragmentUn'+'iformsCoun'+'t']<0x3d5+0x158a+0x6d*-0x3b||_0x36322d['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x36322d['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x830*0x3+0xfa7*0x1+-0x2833*0x1:0x1ef1+0x2469+-0x4358,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0xd45*0x1+0x103*0x2+-0x519*0x3]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x95d+0x260*0xe+-0x1*0x2a9c]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x29c*0xb+-0x5*0x55c+-0xb1a*-0x5),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x38f830=0x4*0xe3+0x204e+0x11ed*-0x2;_0x38f830<this['numParticl'+'es'];_0x38f830++)this['vbToSort'][_0x38f830]=[-0x2015+-0x3*0xc6d+0x455c,0x1a8d+0x2249+-0x3cd6];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x520d03=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[0x1acd+0xb*0x33c+0x3*-0x14cb]=this['emitterExt'+'ents']['x']!==-0x1e8+0x824*0x4+0x9*-0x368?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1fc1+0x216*-0x3+-0x25*-0x107,Ai[-0x8cf+0x514+0x3bc]=this['emitterExt'+'ents']['y']!==0x7*0xf5+0xdf2+-0x14a5?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x54f+0x114b+-0x169a,Ai[0x8fd+-0x1220+-0x925*-0x1]=this['emitterExt'+'ents']['z']!==-0xcf*0x1a+0x68e+0xe78?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0xb19+0x1566+-0x125*0x9);for(let _0x433978=0xb4e*0x1+-0x76*-0x11+-0x1ea*0xa;_0x433978<this['numParticl'+'es'];_0x433978++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x520d03,_0x433978),this['useCpu']&&(this['particleTe'+'x'][_0x433978*pc+(-0x33c+-0x24a6+0x27e5)+this['numParticl'+'esPot']*(-0x2f4+-0x29*-0x17+-0xb9)*pc]=-0x13a6+0x179b+0x5c*-0xb);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x23bd08=0x1*-0x1dcd+-0xc17+0x1*0x29e4;_0x23bd08<this['particleTe'+'xStart']['length'];_0x23bd08++)this['particleTe'+'xStart'][_0x23bd08]=this['particleTe'+'x'][_0x23bd08];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0xf5d*-0x1+-0xa0f+-0x54d,!(-0xd16+0x15e*0x11+-0x17*0x71)),this['particleTe'+'xOUT']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x6c9+-0x305+0x9cf,!(0x984+-0x1*-0x1465+-0x1de8)),this['particleTe'+'xStart']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0x2418+-0x1ac6+0x3edf,!(-0x1*0x1157+-0x1360+-0x758*-0x5))):(this['particleTe'+'xIN']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x36322d,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0xff0+0x11bd*-0x1+0x1df*0x12)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x1f28*0x1+0x4d6*0x5+0x3755*-0x1)}),this['swapTex']=!(-0x7*0x142+-0x194a+0x2219));const _0x215bf0=new Map();this['localSpace']&&_0x215bf0['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x215bf0['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x215bf0['set']('EMITTERSHA'+'PE_BOX','');const _0x5ab487='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x579155=Pe['get'](_0x36322d,_0x36322d['isWebGPU']?it:Fe),_0x33fb21=new Map(_0x579155),_0x20dd74={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x215bf0,'fragmentIncludes':_0x33fb21};_0x20dd74['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x5ab487,_0x215bf0['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x36322d,_0x20dd74),_0x215bf0['delete']('RESPAWN'),_0x20dd74['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x5ab487,_0x215bf0['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x36322d,_0x20dd74),_0x215bf0['delete']('NO_RESPAWN'),_0x20dd74['uniqueName']='ParticleUp'+'dateStop-'+_0x5ab487,_0x215bf0['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x36322d,_0x20dd74),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x5*0xdd+0x22e6+0xd11*-0x3,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x75d+-0x76f+0x766*0x2]['numIndices']:0x5ab*-0x6+-0x2443+0x1*0x464b,this['_allocate'](this['numParticl'+'es']);const _0x5a45d4=new Ge(_0x36322d);_0x5a45d4['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5a45d4['indexBuffe'+'r'][-0xa9*0x29+0x455*0x1+0x16bc]=this['indexBuffe'+'r'],_0x5a45d4['primitive'][-0xf5b*0x2+0x6d6+0x17e0]['type']=js,_0x5a45d4['primitive'][0x189e+-0x1da2*0x1+0x6b*0xc]['base']=0x3*0x39+0xefe+-0xfa9*0x1,_0x5a45d4['primitive'][0x124*-0xb+-0x1b23+-0x1*-0x27af]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5a45d4['primitive'][0x1a7*-0xb+-0x631*0x2+0x1e8f]['indexed']=!(-0xd6a+0x1b1*-0x3+0x127d),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4bca3d=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x1*-0x426+-0x1ce*0x11+0x22d4);this['meshInstan'+'ce']=new He(_0x5a45d4,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x29a+-0x53*-0x4d+-0x1b90),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1a88+-0x1ea5+-0x15f*-0x3),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1036+0x13*-0x146+0x2869),this['meshInstan'+'ce']['visible']=_0x4bca3d,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1f*-0x118+-0x4a*-0x29+-0x2*0x16e1,!(-0x1dd0+0x7*0x286+-0x33*-0x3d)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x2503+-0x1*-0x457+-0x7*-0x4ab&&(this['animTilesX']>-0x1c81*-0x1+-0x15d9+0x83*-0xd||this['animTilesY']>-0x319*-0x1+0x339+-0x651)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x5d6842=this['precision'],_0x5f031d=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x5d6842),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x5d6842),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x5d6842,0x3da*0x4+-0x10be+-0x156*-0x1,-0x446*0x2+-0x6*-0x1a3+-0x145),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x5d6842),this['qScale']=this['scaleGraph']['quantize'](_0x5d6842),this['qAlpha']=this['alphaGraph']['quantize'](_0x5d6842),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x5d6842),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x5d6842),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x5d6842),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x5d6842,0x1d76+-0x1951+0x1*-0x425,-0x156+0x461+0x1*-0x30a),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x5d6842),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x5d6842),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x5d6842),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x5d6842);for(let _0x543d99=-0x16*-0x11d+-0xa86+0x95*-0x18;_0x543d99<_0x5d6842;_0x543d99++)this['qRotSpeed'][_0x543d99]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x543d99]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x2b*-0xb+0x23e+-0x414),this['velocityUM'+'ax']=new Float32Array(0xcfc+-0x1f80+0x1287),this['colorUMax']=new Float32Array(0x6c+0x1097+0x22*-0x80),this['rotSpeedUM'+'ax']=[-0x3e*-0x8c+0x21*-0x58+-0x1690],this['scaleUMax']=[-0xf5b+-0x4*-0xf2+0xb93],this['alphaUMax']=[0x1fbf+0x1d85+-0x146c*0x3],this['radialSpee'+'dUMax']=[0xa*-0x56+0x3ab*-0x9+-0x1*-0x245f],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x38a1b1=[0xe50+0x1*0x1091+0x33*-0x9b,-0x952*-0x1+-0x4*-0x92b+-0x2dfe,0x5eb+0x8*0xbf+-0xbe3];Xr(this['qVelocity'],_0x38a1b1);const _0x560e75=[0xab0+-0xa0b+-0x5*0x21,0x1095+0x1*-0x1b3b+-0x553*-0x2,-0x83+-0x84e*0x4+0x21bb];Xr(this['qVelocity2'],_0x560e75);const _0x2a19bf=[0x1f34+0x17c8+0x36fc*-0x1,-0x1*-0x1c1b+0x416+-0x2031,-0x234f+0x2ff*0x7+0xe56];Xr(this['qLocalVelo'+'city'],_0x2a19bf);const _0x26fa7b=[0x18cb+-0x4b2*-0x7+-0x1fd*0x1d,0x1*0x298+-0x1a74+0x17dc,0x213b*0x1+-0x1d3d+-0x3fe];Xr(this['qLocalVelo'+'city2'],_0x26fa7b);const _0xe9eb3c=[-0x53f*0x3+0xb*-0x274+-0x2ab9*-0x1];Xr(this['qRadialSpe'+'ed'],_0xe9eb3c);const _0x1da4bf=[0x4cc*0x2+0x89d*0x4+-0x2c0c];Xr(this['qRadialSpe'+'ed2'],_0x1da4bf);let _0x554fb6=Math['max'](_0x38a1b1[-0x22c1+0x5a6+0x1*0x1d1b],_0x560e75[-0xa33+0x19ba+-0xf87]);_0x554fb6=Math['max'](_0x554fb6,_0x38a1b1[0x154d+-0x28f*0xe+0xe86]),_0x554fb6=Math['max'](_0x554fb6,_0x560e75[0xd9a+0xd54+-0x3d*0x71]),_0x554fb6=Math['max'](_0x554fb6,_0x38a1b1[0x730+0x172f+-0x1*0x1e5d]),_0x554fb6=Math['max'](_0x554fb6,_0x560e75[0x2095+0x94e+-0x47*0x97]);let _0x575872=Math['max'](_0x2a19bf[-0xfd4+0x29*0x4d+0x37f],_0x26fa7b[-0x24f7*0x1+-0x11e5+-0x36dc*-0x1]);_0x575872=Math['max'](_0x575872,_0x2a19bf[-0xbd8+-0x1c5f+-0x8*-0x507]),_0x575872=Math['max'](_0x575872,_0x26fa7b[0x1887+0x1*0x1fcf+0x17*-0x273]),_0x575872=Math['max'](_0x575872,_0x2a19bf[-0x385*-0x2+0xea9*0x2+-0xc1e*0x3]),_0x575872=Math['max'](_0x575872,_0x26fa7b[-0x46*0x7d+0x21f3+0x3d]);const _0x28d38c=Math['max'](_0xe9eb3c[0xf95+0xded+0x6*-0x4eb],_0x1da4bf[-0x137d+-0x191e*0x1+0x2c9b]);this['maxVel']=_0x554fb6+_0x575872+_0x28d38c;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x5f031d,_0x5d6842,0x2a6+-0x1b5e+0x1*0x18b9,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x5f031d,_0x5d6842,-0x1*-0x10ba+0x4*0x14c+0x47*-0x4f,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x5f031d,_0x5d6842,-0x25dc+-0x347*-0xb+0x1d0,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x5f031d,_0x5d6842,0x1c*0x2d+0x1687+-0x926*0x3,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x5f031d,_0x5d6842,-0x18d2+-0x77f+0x2052,vA(this['qColor'],this['qAlpha']),_s,0x3a*0xa7+-0x1d7f+0x856*-0x1,!(0x54*0x70+0x21ec*0x1+-0x46ac));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x4db5bd=new SA(this);return _0x4db5bd['name']='EmitterMat'+'erial:'+this['node']['name'],_0x4db5bd['cull']=bt,_0x4db5bd['alphaWrite']=!(-0x1*-0x1ea4+0x4e5*0x5+0x1b8e*-0x2),_0x4db5bd['blendType']=this['blendType'],_0x4db5bd['depthWrite']=this['depthWrite'],_0x4db5bd;}['resetMater'+'ial'](){const _0x3a62e2=this['material'];_0x3a62e2['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x3a62e2['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x3a62e2['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x3a62e2['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x3a62e2['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x3a62e2['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x3a62e2['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x3a62e2['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x3a62e2['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x3a62e2['setParamet'+'er']('colorParam',this['colorParam']),_0x3a62e2['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x3a62e2['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x3a62e2['setParamet'+'er']('lifetime',this['lifetime']),_0x3a62e2['setParamet'+'er']('rate',this['rate']),_0x3a62e2['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x3a62e2['setParamet'+'er']('seed',this['seed']),_0x3a62e2['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0xa15+0x4*0x44+0x13d*-0x9]),_0x3a62e2['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x1142+-0xd*-0x19b+-0xe3*0x2b]),_0x3a62e2['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x3c1+-0x254+-0x16d]),_0x3a62e2['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x3a62e2['setParamet'+'er']('graphSampl'+'eSize',(0x11e4+-0x1062+0xb*-0x23)/this['precision']),_0x3a62e2['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1ccd+0x432*0x5+0x31c6*-0x1,0x6a*-0x35+0x476*0x6+-0x4d1,-0x1*-0x164f+-0x68f*-0x2+-0x236c])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x3a62e2['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x3a62e2['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x3a62e2['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x61*-0x3c+-0x16e7*0x1+0x2da3]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x553+0x2486+-0x1f32]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x8b4+0x1d47*0x1+-0x1491]=this['wrapBounds']['z'],_0x3a62e2['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x1603+-0x2*-0xee+-0x1427*-0x1&&_0x3a62e2['setParamet'+'er']('softening',(0x2a*0x7c+-0x10f5*-0x1+-0x254c)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x1*-0x1156+0x2ff*0x2+0xbbc))),this['stretch']>0xbcd+0x1*0xa53+-0x3b0*0x6&&(_0x3a62e2['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x446a18,_0x2a5f0e;if(this['orientatio'+'n']===yh)_0x446a18=new Float32Array([0x1b02+0x23e7+-0x3*0x14f8,-0x5d*-0x6a+0x7bd+0x1*-0x2e3f,-0x377*-0x5+0x6c*-0x4+-0xfa3]),_0x2a5f0e=new Float32Array([-0x29d*0x6+-0x946*0x2+0x223a,-0x1c04+0x4*0x71e+-0x74,0xcaa+-0x2151*0x1+0x2*0xa54]);else{let _0x14c77f;this['orientatio'+'n']===Vw?_0x14c77f=this['particleNo'+'rmal']['normalize']():_0x14c77f=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x2e8bea=new D(0x34c+-0x10b+-0x240,-0xe*-0x1ac+-0x1*0xd4d+0xd*-0xc7,-0x1*-0xfa7+0x1a82+-0x1*0x2a29);Math['abs'](_0x2e8bea['dot'](_0x14c77f))===0x11*-0x13a+-0x1d98+-0x15*-0x267&&_0x2e8bea['set'](-0x23ef+-0x47*-0x53+-0x6*-0x227,0xcaf+-0x1258+0x5a9,0x1*0x18ec+-0x17d9+-0x89*0x2);const _0x23e470=new D()['cross'](_0x14c77f,_0x2e8bea)['normalize']();_0x2e8bea['cross'](_0x23e470,_0x14c77f)['normalize'](),_0x446a18=new Float32Array([_0x2e8bea['x'],_0x2e8bea['y'],_0x2e8bea['z']]),_0x2a5f0e=new Float32Array([_0x23e470['x'],_0x23e470['y'],_0x23e470['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x446a18),this['material']['setParamet'+'er']('faceBinorm',_0x2a5f0e);}['getVertexI'+'nfo'](){const _0x370b37=[];return this['useCpu']?_0x370b37['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x575+0x652+-0x1*0xd9:0x1ff*0x5+-0x14dd+0xa4*0x11,'type':Ve}):(_0x370b37['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x370b37['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x370b37;}['_allocate'](_0x2c1610){const _0x44cbc5=_0x2c1610*this['numParticl'+'eVerts'],_0x477c24=_0x2c1610*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x1*0x12d2+0x6*0x53d+-0xc9c)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x44cbc5){const _0x4748c2=this['getVertexI'+'nfo'](),_0x37ab43=new kt(this['graphicsDe'+'vice'],_0x4748c2);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x37ab43,_0x44cbc5,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x477c24);const _0x37fb18=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x4af762,_0x4ef6bd,_0x1b757b;if(this['useMesh']){_0x4af762=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4ef6bd=_0x4af762['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2f177c=0x2013+0x1*0xd4c+-0x2d5f;_0x2f177c<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x2f177c++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2f177c]['name']===is){_0x1b757b=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2f177c]['offset']/(0x1b13+0x1ba2+-0x36b1);break;}}for(let _0x5e4a0e=0x278+-0x16d8+-0x146*-0x10;_0x5e4a0e<_0x44cbc5;_0x5e4a0e++){const _0x150626=Math['floor'](_0x5e4a0e/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x4b08ac=_0x5e4a0e%this['numParticl'+'eVerts'];_0x37fb18[_0x5e4a0e*(0x4e*0x9+0xdb*-0x7+0x345)]=_0x4af762[_0x4b08ac*_0x4ef6bd],_0x37fb18[_0x5e4a0e*(-0x53*-0x21+-0x1*0x1862+0xdb5)+(0x2*0x50+-0xcdf+0xc40)]=_0x4af762[_0x4b08ac*_0x4ef6bd+(-0xdc4*-0x1+0x4c8+0x65*-0x2f)],_0x37fb18[_0x5e4a0e*(-0x1af1+-0x4*-0x86+0x18df)+(-0x1*-0x16a1+0x5d9*-0x1+-0x10c6)]=_0x4af762[_0x4b08ac*_0x4ef6bd+(0x1*0x5d4+-0x2678+0x20a6)],_0x37fb18[_0x5e4a0e*(0x233*-0xe+0x2689+-0x7b9)+(0x4fa+0x16a*0x2+-0x7cb)]=_0x150626,_0x37fb18[_0x5e4a0e*(-0x2c8+0x201d*-0x1+0x7*0x4fd)+(0x5*-0x2af+-0xd*-0x2e7+0x14*-0x137)]=_0x4af762[_0x4b08ac*_0x4ef6bd+_0x1b757b+(0xf0*0xe+-0x2515+0x1*0x17f5)],_0x37fb18[_0x5e4a0e*(-0x2357+0x1b6a*0x1+-0x197*-0x5)+(0xb54+-0x15ff+0x130*0x9)]=0x1894+0xe0b*0x2+-0x3d*0xdd-_0x4af762[_0x4b08ac*_0x4ef6bd+_0x1b757b+(-0x78b+0x23c4+-0x56*0x54)];}else{const _0x14f8f7=_0x5e4a0e%(-0x183+0x11ac+-0x1025*0x1);_0x37fb18[_0x5e4a0e*(-0x1*0xcb5+0x25*-0xb7+0x272c)]=ig[_0x14f8f7][-0x226f+0x1387*-0x1+0x35f6*0x1],_0x37fb18[_0x5e4a0e*(0x2*0xa6a+0xa4*0x13+-0x83f*0x4)+(-0x133f+-0x871+0x1bb1)]=ig[_0x14f8f7][-0x19*-0x7d+0x246d*-0x1+0x9*0x2b1],_0x37fb18[_0x5e4a0e*(-0x7a9+-0x44a+0xbf7)+(-0x1568+0xd*0x1ab+0x1*-0x45)]=-0x16f7*-0x1+-0x1*0xec1+-0x836,_0x37fb18[_0x5e4a0e*(-0x4*0x87d+0xa5c*-0x3+0x1043*0x4)+(0x1bb9+0x210d*0x1+-0x3cc3)]=_0x150626;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x37fb18),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0xcec05f=-0x1beb+0x2d*-0x4f+0x29ce;const _0xbd5c59=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x101248=this['mesh']['indexBuffe'+'r'][0x689+0x11f3+-0x187c];_0x4af762=new Sh[_0x101248['format']](_0x101248['lock']());}for(let _0x2dc921=0x1124+0x232e+0x2*-0x1a29;_0x2dc921<_0x2c1610;_0x2dc921++)if(this['useMesh']){for(let _0x53ed27=0x10f3+-0x1f7c+0xe89;_0x53ed27<this['numParticl'+'eIndices'];_0x53ed27++)_0xbd5c59[_0x2dc921*this['numParticl'+'eIndices']+_0x53ed27]=_0x4af762[_0x53ed27]+_0x2dc921*this['numParticl'+'eVerts'];}else{const _0x268cee=_0x2dc921*(-0x1be1+0x4*0x499+-0x32b*-0x3);_0xbd5c59[_0xcec05f++]=_0x268cee,_0xbd5c59[_0xcec05f++]=_0x268cee+(-0xa7*0xe+-0x3c*0x97+0x2c87*0x1),_0xbd5c59[_0xcec05f++]=_0x268cee+(0x90c+-0x1b8+-0x752),_0xbd5c59[_0xcec05f++]=_0x268cee,_0xbd5c59[_0xcec05f++]=_0x268cee+(-0xbb7*0x1+0x31f*-0xc+0x312d),_0xbd5c59[_0xcec05f++]=_0x268cee+(-0x73b*-0x3+0x4*-0x64d+0x386);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0xaa3+0x2*-0xe71+0x123f]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x2579+-0xd01*0x3+0x4c7c),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x12d53c=0x7b1+-0x23a5+0x1bf4;_0x12d53c<this['particleTe'+'xStart']['length'];_0x12d53c++)this['particleTe'+'x'][_0x12d53c]=this['particleTe'+'xStart'][_0x12d53c];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x525da6=this['loop'];this['loop']=!(0x3bd*-0x9+-0x139e+-0x9*-0x5eb),this['addTime'](-0x8*-0x210+0xa*0x18e+-0x200c,!(-0x11e7*-0x2+0x18a5+-0x3c72)),this['loop']=_0x525da6,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x470138){const _0x4f1593=_0x470138/this['lifetime'],_0x286678=Math['min'](Math['floor'](_0x4f1593*this['precision']),this['precision']),_0x321c6c=_0x470138/_0x286678;for(let _0x1d42d9=-0x111+0x1945*-0x1+0x1a56;_0x1d42d9<_0x286678;_0x1d42d9++)this['addTime'](_0x321c6c,!(0x2f*-0x32+-0x1f9d*0x1+0x28cc));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2fd26e,_0x1dcf36){const _0x58f805=this['graphicsDe'+'vice'],_0x53225d=de();if(this['simTimeTot'+'al']+=_0x2fd26e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x9fe009=this['animTilesP'+'arams'];_0x9fe009[-0x1e74+-0x2*0xd8a+-0x107*-0x38]=(0x1f6b+0xc*0x19d+-0x32c6)/this['animTilesX'],_0x9fe009[0x36f*0x1+-0xa0*-0x37+-0x25ce]=(0x476+-0x2*0x1042+0x1c0f)/this['animTilesY'];const _0x53372a=this['animParams'];_0x53372a[0x4*-0x6a3+0x1*0x1b98+-0x10c]=this['animStartF'+'rame'],_0x53372a[-0x1*-0x1369+0x2285+0xfb*-0x37]=this['animNumFra'+'mes']*this['animSpeed'],_0x53372a[-0x215e+-0x33*-0x39+0x1605]=this['animNumFra'+'mes']-(-0x10f*0x18+0x1*-0x1e35+0x12*0x317),_0x53372a[-0x12ad*0x1+-0x1*0x51a+-0x366*-0x7]=this['animNumAni'+'mations']-(0x165c+-0x1ae0+0x485);const _0x4ebf25=this['animIndexP'+'arams'];_0x4ebf25[-0x236*0x2+-0x10*0x15a+0x1a0c]=this['animIndex'],_0x4ebf25[-0xa0c+0xe3+0x92a]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x2c*-0x41+0x1af9*-0x1+0xfcd]=this['emitterExt'+'ents']['x']!==0x109c+-0x98f*0x1+-0x70d?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x82a+-0x1*-0x32d+0x4fd,Ai[0x2489+0x2642+0x6*-0xc77]=this['emitterExt'+'ents']['y']!==-0xae*-0x16+0x1*-0xd8b+-0x169?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1c3b+-0xae1+0x8ad*-0x2,Ai[0x2*-0x47d+0x1271+-0x975]=this['emitterExt'+'ents']['z']!==-0x5*-0x6b+0x897+0xaae*-0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x16*0x147+-0x32+0x1c4c*0x1,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x420c8f;const _0x1cf452=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x26a8+0x3*-0x873+-0xd4f]=_0x1cf452['x'],this['emitterSca'+'leUniform'][-0x1a5+-0x83*-0x16+-0x99c]=_0x1cf452['y'],this['emitterSca'+'leUniform'][-0x15c+-0x19e8*-0x1+-0x188a]=_0x1cf452['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x420c8f=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x1*-0x1ee5+-0x1472+-0x3357*-0x1]=_0x420c8f['x'],this['emitterPos'+'Uniform'][0x13ca+-0x11ca+-0x7*0x49]=_0x420c8f['y'],this['emitterPos'+'Uniform'][-0x1*-0x1eb+-0xf82+0x3b*0x3b]=_0x420c8f['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x58f805,Ur,Ai,_0x2fd26e,_0x1dcf36);else{const _0x399be2=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x399be2,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x420c8f,_0x2fd26e,_0x1dcf36);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x15c8+-0x1bc0+0x5f9)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x53225d;}['_destroyRe'+'sources'](){var _0x3cf3b1,_0xff8644,_0x219c02,_0xec6b8e,_0x4fb9b8,_0x1e0c03,_0x583f7e,_0x10a815,_0x2d0855,_0x181934,_0x11ed61,_0x22dcca;(_0x3cf3b1=this['particleTe'+'xIN'])==null||_0x3cf3b1['destroy'](),this['particleTe'+'xIN']=null,(_0xff8644=this['particleTe'+'xOUT'])==null||_0xff8644['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x219c02=this['rtParticle'+'TexIN'])==null||_0x219c02['destroy'](),this['rtParticle'+'TexIN']=null,(_0xec6b8e=this['rtParticle'+'TexOUT'])==null||_0xec6b8e['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x4fb9b8=this['internalTe'+'x0'])==null||_0x4fb9b8['destroy'](),this['internalTe'+'x0']=null,(_0x1e0c03=this['internalTe'+'x1'])==null||_0x1e0c03['destroy'](),this['internalTe'+'x1']=null,(_0x583f7e=this['internalTe'+'x2'])==null||_0x583f7e['destroy'](),this['internalTe'+'x2']=null,(_0x10a815=this['internalTe'+'x3'])==null||_0x10a815['destroy'](),this['internalTe'+'x3']=null,(_0x2d0855=this['colorParam'])==null||_0x2d0855['destroy'](),this['colorParam']=null,(_0x181934=this['vertexBuff'+'er'])==null||_0x181934['destroy'](),this['vertexBuff'+'er']=void(-0xfcb+0x1970+-0x9a5),(_0x11ed61=this['indexBuffe'+'r'])==null||_0x11ed61['destroy'](),this['indexBuffe'+'r']=void(-0x47*-0x3f+-0x1a79+0x30*0x30),(_0x22dcca=this['material'])==null||_0x22dcca['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x5f14d5){var _0xb3abac;const _0x2e514d=_0x5f14d5['shaderDesc'],_0x28c4d7=_0x2e514d['vertexGLSL']?hi(_0x2e514d['vertexGLSL']):-0x1*0x1a05+0x2*0x1073+-0x6e1,_0x1e12c9=_0x2e514d['fragmentGL'+'SL']?hi(_0x2e514d['fragmentGL'+'SL']):-0x1f09+0x21*0x25+0x1a44,_0x447610=_0x2e514d['vertexWGSL']?hi(_0x2e514d['vertexWGSL']):0x1*-0xece+-0x1*0x63b+0x1509,_0x5e7213=_0x2e514d['fragmentWG'+'SL']?hi(_0x2e514d['fragmentWG'+'SL']):-0xcb1*0x2+-0x317*0x4+0x2*0x12df,_0x421274=ya['definesHas'+'h'](_0x5f14d5['defines']),_0x26e83d=((_0xb3abac=_0x5f14d5['shaderChun'+'ks'])==null?void(-0x6b*-0x5a+0x27a*-0x9+-0x7aa*0x2):_0xb3abac['key'])??'';let _0x2857c3=_0x2e514d['uniqueName']+'_'+_0x421274+'_'+_0x28c4d7+'_'+_0x1e12c9+'_'+_0x447610+'_'+_0x5e7213+'_'+_0x26e83d;return _0x5f14d5['skin']&&(_0x2857c3+='_skin'),_0x5f14d5['useInstanc'+'ing']&&(_0x2857c3+='_inst'),_0x5f14d5['useMorphPo'+'sition']&&(_0x2857c3+='_morphp'),_0x5f14d5['useMorphNo'+'rmal']&&(_0x2857c3+='_morphn'),_0x5f14d5['useMorphTe'+'xtureBased'+'Int']&&(_0x2857c3+='_morphi'),_0x2857c3;}['createAttr'+'ibutesDefi'+'nition'](_0x365b0a,_0x48fde9){const _0x226940=_0x48fde9['shaderDesc']['attributes'],_0x4ab1e2=_0x226940?{..._0x226940}:void(0x78d+-0x7a*0x1d+-0x141*-0x5);_0x48fde9['skin']&&(_0x4ab1e2['vertex_bon'+'eWeights']=gi,_0x4ab1e2['vertex_bon'+'eIndices']=us),(_0x48fde9['useMorphPo'+'sition']||_0x48fde9['useMorphNo'+'rmal'])&&(_0x4ab1e2['morph_vert'+'ex_id']=Ln),_0x365b0a['attributes']=_0x4ab1e2;}['createVert'+'exDefiniti'+'on'](_0x31ac68,_0x2d3472,_0x320f0c,_0x3adac9){const _0x4d6819=_0x2d3472['shaderDesc'],_0xd99d24=new Map(_0x320f0c);_0xd99d24['set']('transformI'+'nstancingV'+'S','');const _0x1cb1e6=new Map(_0x2d3472['defines']);_0x2d3472['skin']&&_0x1cb1e6['set']('SKIN',!(0x251+-0x1f*-0x17+-0x51a)),_0x2d3472['useInstanc'+'ing']&&_0x1cb1e6['set']('INSTANCING',!(0x1*-0x7b2+0x4eb*-0x1+0xc9d)),(_0x2d3472['useMorphPo'+'sition']||_0x2d3472['useMorphNo'+'rmal'])&&(_0x1cb1e6['set']('MORPHING',!(-0x1*0xfc4+0x91d*-0x3+-0x2b1b*-0x1)),_0x2d3472['useMorphTe'+'xtureBased'+'Int']&&_0x1cb1e6['set']('MORPHING_I'+'NT',!(-0x4a8*-0x1+0x516*-0x5+0xa63*0x2)),_0x2d3472['useMorphPo'+'sition']&&_0x1cb1e6['set']('MORPHING_P'+'OSITION',!(-0x688+0x1*-0x1c80+0x2308)),_0x2d3472['useMorphNo'+'rmal']&&_0x1cb1e6['set']('MORPHING_N'+'ORMAL',!(0x5c0*-0x4+-0x3*0x146+0x1ad2))),_0x31ac68['vertexCode']=_0x3adac9?_0x4d6819['vertexWGSL']:_0x4d6819['vertexGLSL'],_0x31ac68['vertexIncl'+'udes']=_0xd99d24,_0x31ac68['vertexDefi'+'nes']=_0x1cb1e6;}['createFrag'+'mentDefini'+'tion'](_0x4f81f3,_0x3f0387,_0x376785,_0x5b9655){const _0x1decf9=_0x3f0387['shaderDesc'],_0x57514c=new Map(_0x376785),_0x4d9e2a=new Map(_0x3f0387['defines']);_0x4f81f3['fragmentCo'+'de']=_0x5b9655?_0x1decf9['fragmentWG'+'SL']:_0x1decf9['fragmentGL'+'SL'],_0x4f81f3['fragmentIn'+'cludes']=_0x57514c,_0x4f81f3['fragmentDe'+'fines']=_0x4d9e2a;}['createShad'+'erDefiniti'+'on'](_0x14a410,_0x41be19){var _0x34ccfb;const _0x2eac2c=_0x41be19['shaderDesc'],_0x403a27=_0x14a410['isWebGPU']&&!!_0x2eac2c['vertexWGSL']&&!!_0x2eac2c['fragmentWG'+'SL']&&(((_0x34ccfb=_0x41be19['shaderChun'+'ks'])==null?void(-0x13*-0x15d+0x193a+-0x3321):_0x34ccfb['useWGSL'])??!(0x23ec+-0x10e4+0x1308*-0x1)),_0x18f30a={'name':'ShaderMate'+'rial-'+_0x2eac2c['uniqueName'],'shaderLanguage':_0x403a27?it:Fe,'fragmentOutputTypes':_0x2eac2c['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x2eac2c['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2eac2c['meshBindGr'+'oupFormat']},_0x28e89e=_0x403a27?it:Fe,_0x3947f1=bh['merge'](Pe['get'](_0x14a410,_0x28e89e),_0x41be19['shaderChun'+'ks'][_0x28e89e]);return this['createAttr'+'ibutesDefi'+'nition'](_0x18f30a,_0x41be19),this['createVert'+'exDefiniti'+'on'](_0x18f30a,_0x41be19,_0x3947f1,_0x403a27),this['createFrag'+'mentDefini'+'tion'](_0x18f30a,_0x41be19,_0x3947f1,_0x403a27),Jt['createDefi'+'nition'](_0x14a410,_0x18f30a);}}const MA=new PA();class Xn extends tr{constructor(_0x52ba1f){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x52ba1f;}set['shaderDesc'](_0x2d4e2f){if(this['_shaderDes'+'c']=void(0xd*0x2+0xcd0+-0x57*0x26),_0x2d4e2f&&(this['_shaderDes'+'c']={'uniqueName':_0x2d4e2f['uniqueName'],'attributes':_0x2d4e2f['attributes'],'fragmentOutputTypes':_0x2d4e2f['fragmentOu'+'tputTypes'],'vertexGLSL':_0x2d4e2f['vertexGLSL'],'fragmentGLSL':_0x2d4e2f['fragmentGL'+'SL'],'vertexWGSL':_0x2d4e2f['vertexWGSL'],'fragmentWGSL':_0x2d4e2f['fragmentWG'+'SL']},_0x2d4e2f['vertexCode']||_0x2d4e2f['fragmentCo'+'de']||_0x2d4e2f['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x2d4e2f['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x373b73=_0x2d4e2f['shaderLang'+'uage']??Fe;_0x373b73===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x2d4e2f['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x2d4e2f['fragmentCo'+'de']):_0x373b73===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x2d4e2f['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x2d4e2f['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x1f6dbd){return super['copy'](_0x1f6dbd),this['shaderDesc']=_0x1f6dbd['shaderDesc'],this;}['getShaderV'+'ariant'](_0x249166){const {objDefs:_0x5d9607}=_0x249166,_0x82c174={'defines':$t['getCoreDef'+'ines'](this,_0x249166),'skin':(_0x5d9607&nl)!==0x1277*-0x2+0x2f*-0xc6+-0x754*-0xa,'useInstancing':(_0x5d9607&ol)!==-0x17a9+-0x9*0x29f+0x40*0xbd,'useMorphPosition':(_0x5d9607&ll)!==0x1d*0x123+0xa99+-0x2b90,'useMorphNormal':(_0x5d9607&cl)!==0x2153+0x1c57*-0x1+-0x4fc,'useMorphTextureBasedInt':(_0x5d9607&hl)!==-0x75f+-0x5*-0x1c3+-0x17*0x10,'pass':_0x249166['pass'],'gamma':_0x249166['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x249166['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x249166['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x27b2c5=new Ad(_0x249166['viewUnifor'+'mFormat'],_0x249166['viewBindGr'+'oupFormat'],_0x249166['vertexForm'+'at']),_0xa50494=Hn(_0x249166['device']);return _0xa50494['register']('shader-mat'+'erial',MA),_0xa50494['getProgram']('shader-mat'+'erial',_0x82c174,_0x27b2c5,this['userId']);}}const Iv=(_0x197570,_0x2bd39a)=>{const _0x4797b9=_0x2bd39a['length']/(-0x2296+-0xf83+0x321c),_0x45359c=_0x197570['length']/(-0x1b91+0x1bd1*-0x1+0x3765),_0x49c610=new D(),_0x4b05dd=new D(),_0x4720ce=new D(),_0x1ff60a=new D(),_0x25917e=new D(),_0x1690fe=new D(),_0x2c8d06=[];for(let _0xd3fc45=0x1*0x1565+-0x1*0x10a5+-0x4c0;_0xd3fc45<_0x197570['length'];_0xd3fc45++)_0x2c8d06[_0xd3fc45]=0x1da5+0x2cf*0x1+0x7c*-0x43;for(let _0x147d29=-0x1*-0x16df+0x97d+0x13*-0x1b4;_0x147d29<_0x4797b9;_0x147d29++){const _0x4d91e2=_0x2bd39a[_0x147d29*(0x17a3+0x1a6a+-0x320a)],_0x441b65=_0x2bd39a[_0x147d29*(0x6ff+-0x1a*0x16e+0x284*0xc)+(-0x1550+0xb42+0xa0f)],_0x478be3=_0x2bd39a[_0x147d29*(0x2395*-0x1+-0x2091+0x4429)+(-0x21dd+-0x1*0x1e8b+0xa*0x671)];_0x49c610['set'](_0x197570[_0x4d91e2*(0xf3*0x11+0x1*0x419+0x1*-0x1439)],_0x197570[_0x4d91e2*(0x2305+0x2e9+0x23b*-0x11)+(0x741*-0x1+0x2555+-0x1*0x1e13)],_0x197570[_0x4d91e2*(-0x52*0x19+0x2436+0x7*-0x407)+(0x2615+0x29*-0x1+-0x2e*0xd3)]),_0x4b05dd['set'](_0x197570[_0x441b65*(0xe*0xc2+0x1*-0x264e+0x29*0xad)],_0x197570[_0x441b65*(0xdab*0x1+-0x262a+-0xc41*-0x2)+(-0x631*0x1+-0x567*-0x7+0x5*-0x653)],_0x197570[_0x441b65*(-0x29*-0xa6+-0x1e47+-0x1da*-0x2)+(0x122+-0x2*-0xbed+-0xc7d*0x2)]),_0x4720ce['set'](_0x197570[_0x478be3*(0x1*0x38f+0x7f*0x33+-0x23*0xd3)],_0x197570[_0x478be3*(-0x1f42+0x1*-0x3b9+0x3*0xbaa)+(0x1924+-0x1*-0x36+-0x1959)],_0x197570[_0x478be3*(0x10d6+-0x14c1*0x1+0x1*0x3ee)+(0x5*0xa6+0x215*0x1+-0x551*0x1)]),_0x1ff60a['sub2'](_0x4b05dd,_0x49c610),_0x25917e['sub2'](_0x4720ce,_0x49c610),_0x1690fe['cross'](_0x1ff60a,_0x25917e)['normalize'](),_0x2c8d06[_0x4d91e2*(0x131*0x5+0x12d3*0x2+-0x2b98)]+=_0x1690fe['x'],_0x2c8d06[_0x4d91e2*(-0x10fb+0xde7*-0x1+-0x1*-0x1ee5)+(-0x7fa+0x89f+0x2*-0x52)]+=_0x1690fe['y'],_0x2c8d06[_0x4d91e2*(-0x1a30+-0x29*-0x93+0x2a8)+(-0xed*0x15+0x3*-0x651+-0x5*-0x7ae)]+=_0x1690fe['z'],_0x2c8d06[_0x441b65*(0xf58+-0x7*0x85+0x6*-0x1f3)]+=_0x1690fe['x'],_0x2c8d06[_0x441b65*(-0x1*-0x1bb0+-0x115+0x4a*-0x5c)+(-0x2654+0x920+0x1d35)]+=_0x1690fe['y'],_0x2c8d06[_0x441b65*(0x3cb*0x6+-0xb08+-0xbb7)+(-0x247f+0x12*-0x143+-0x1*-0x3b37)]+=_0x1690fe['z'],_0x2c8d06[_0x478be3*(-0x21*-0xbb+0x101f*0x1+-0x1*0x2837)]+=_0x1690fe['x'],_0x2c8d06[_0x478be3*(-0x26a4+0xf1e+0x1789)+(0xdd5*-0x1+0x2042+-0x126c)]+=_0x1690fe['y'],_0x2c8d06[_0x478be3*(0x1f3a+-0xbd*-0x29+-0x2*0x1ebe)+(-0x1*-0x1511+0x3*-0x4a9+-0x714)]+=_0x1690fe['z'];}for(let _0x251465=-0x490+0xec8+0x18*-0x6d;_0x251465<_0x45359c;_0x251465++){const _0x44face=_0x2c8d06[_0x251465*(-0x550+-0x1114+0x1667)],_0x3929ec=_0x2c8d06[_0x251465*(0x4e1*0x7+-0x16a*0x1+-0x20ba)+(0xa45+0x16d7+-0x211b)],_0x3e5092=_0x2c8d06[_0x251465*(-0xa*-0x17+-0x5*0x5fb+0x1d04)+(0x1*0x3eb+0x1cd7+-0x20c0)],_0x530ad1=(0xecb+0x11b*-0x1+-0x1f*0x71)/Math['sqrt'](_0x44face*_0x44face+_0x3929ec*_0x3929ec+_0x3e5092*_0x3e5092);_0x2c8d06[_0x251465*(0x258f*-0x1+-0x23f*-0x7+-0x7*-0x31f)]*=_0x530ad1,_0x2c8d06[_0x251465*(-0x2007+-0x1*0x1817+0x3821)+(0x9ff+-0x18d7*0x1+-0xed9*-0x1)]*=_0x530ad1,_0x2c8d06[_0x251465*(0x2522+-0x1363+0xe3*-0x14)+(0x7fb+-0x1266+-0x9d*-0x11)]*=_0x530ad1;}return _0x2c8d06;},Mr=(_0x29a258,_0x4c5259,_0x297d63,_0x4febeb)=>{const _0x5e2ef7=_0x4febeb['length']/(-0x1*0x28f+0x206*-0xf+0x20ec),_0x2cdf7f=_0x29a258['length']/(0x1374+-0x3*0x143+-0xc*0x14e),_0x674306=new D(),_0xe06fba=new D(),_0x3f088e=new D(),_0x48ea72=new J(),_0x24ad69=new J(),_0x203506=new J(),_0x55a6a3=new D(),_0x42d1b9=new D(),_0x2e9d7a=new Float32Array(_0x2cdf7f*(-0x1a35+-0xcd1*-0x1+0xd67)),_0x199d36=new Float32Array(_0x2cdf7f*(0xb31+0x2344+-0x2e72)),_0x2ee3c4=[];for(let _0x1125b3=0x1*0x15ff+0xc5f*0x1+-0x225e;_0x1125b3<_0x5e2ef7;_0x1125b3++){const _0x550059=_0x4febeb[_0x1125b3*(0x1d*0xad+-0x1885+0x3*0x1a5)],_0x5eb469=_0x4febeb[_0x1125b3*(-0xb1f+-0xbcb*-0x3+0x3*-0x815)+(0xfd2+0xa57+-0x7c*0x36)],_0x11c740=_0x4febeb[_0x1125b3*(0x7f5+-0x27*-0x27+-0x2d*0x4f)+(-0x1bca+0x4*0x863+-0x5c0)];_0x674306['set'](_0x29a258[_0x550059*(-0x2*-0xe0f+0x8a4+-0x1*0x24bf)],_0x29a258[_0x550059*(0x1f41+0x21cd+-0x410b)+(0x1*-0xa0d+0x1536+0xe*-0xcc)],_0x29a258[_0x550059*(-0x153d+-0x2011+-0x3551*-0x1)+(0x2620+-0x3be*-0x1+-0x29dc)]),_0xe06fba['set'](_0x29a258[_0x5eb469*(0x13d1+0xc5*0x29+-0x335b)],_0x29a258[_0x5eb469*(0x2375+-0x4b0+-0x1ec2)+(0xb53+0xbdb*0x2+0x26*-0xec)],_0x29a258[_0x5eb469*(0x4e*-0xa+-0x128f+-0x159e*-0x1)+(0x1d5b+0x802+-0x255b)]),_0x3f088e['set'](_0x29a258[_0x11c740*(0xa0+-0xd99*0x1+0xcfc)],_0x29a258[_0x11c740*(-0x1f9*0xa+0x1867+0x6*-0xc7)+(-0x1424+0xd*-0xe3+0x1fac)],_0x29a258[_0x11c740*(-0x9e7+-0x5*-0x4cc+-0xe12*0x1)+(-0x1c90+-0x5a0+0x2232)]),_0x48ea72['set'](_0x297d63[_0x550059*(-0x1129+-0x8db*0x4+-0x3497*-0x1)],_0x297d63[_0x550059*(0x1*0x1171+-0x2*0x115b+-0x1*-0x1147)+(-0x7ba*-0x1+-0x1caa+-0x1*-0x14f1)]),_0x24ad69['set'](_0x297d63[_0x5eb469*(0xfc5+0x89*0x35+-0x2c20)],_0x297d63[_0x5eb469*(0xd5b+-0x2*0x10d+-0xb3f)+(-0x1*-0x1cc3+0x5+-0x1cc7)]),_0x203506['set'](_0x297d63[_0x11c740*(-0xcf*-0x1+-0xa*0x71+0x39d)],_0x297d63[_0x11c740*(0x25bb+0x1fe7*0x1+-0x45a0)+(-0xa*0x1d+0x11*0x101+-0xfee)]);const _0x3a3a59=_0xe06fba['x']-_0x674306['x'],_0x28a332=_0x3f088e['x']-_0x674306['x'],_0x10deb7=_0xe06fba['y']-_0x674306['y'],_0x58cce9=_0x3f088e['y']-_0x674306['y'],_0x53b88d=_0xe06fba['z']-_0x674306['z'],_0x1d4b5b=_0x3f088e['z']-_0x674306['z'],_0x2a38cc=_0x24ad69['x']-_0x48ea72['x'],_0x5502b9=_0x203506['x']-_0x48ea72['x'],_0x478100=_0x24ad69['y']-_0x48ea72['y'],_0x2b3234=_0x203506['y']-_0x48ea72['y'],_0x17383a=_0x2a38cc*_0x2b3234-_0x5502b9*_0x478100;if(_0x17383a===-0x23*0x29+0xa65*-0x1+0x80*0x20)_0x55a6a3['set'](0x16*-0x79+0x4*0x1f3+-0x4a*-0x9,0x73*-0xc+-0x1d*0x6e+0x11db,-0xc1c+0x1b7c+0x7b*-0x20),_0x42d1b9['set'](-0xd15+0x182*0x1+0x34*0x39,-0x1*0x25d1+-0x2564+0xd*0x5c9,0x2*-0x1259+0x10de+0xbc*0x1b);else{const _0x21a183=(-0x2*-0x101f+0x163b+-0x3678)/_0x17383a;_0x55a6a3['set']((_0x2b3234*_0x3a3a59-_0x478100*_0x28a332)*_0x21a183,(_0x2b3234*_0x10deb7-_0x478100*_0x58cce9)*_0x21a183,(_0x2b3234*_0x53b88d-_0x478100*_0x1d4b5b)*_0x21a183),_0x42d1b9['set']((_0x2a38cc*_0x28a332-_0x5502b9*_0x3a3a59)*_0x21a183,(_0x2a38cc*_0x58cce9-_0x5502b9*_0x10deb7)*_0x21a183,(_0x2a38cc*_0x1d4b5b-_0x5502b9*_0x53b88d)*_0x21a183);}_0x2e9d7a[_0x550059*(-0x2*-0xfaf+0x6d*-0xb+-0x1aac)+(-0xf7d+-0x366*0x3+0x5*0x523)]+=_0x55a6a3['x'],_0x2e9d7a[_0x550059*(0x12f8+-0x6*-0x26e+-0x11*0x1f9)+(-0x1*-0x79+0x23c*0x6+-0xde0)]+=_0x55a6a3['y'],_0x2e9d7a[_0x550059*(-0xd7e*-0x1+0x47f*-0x4+-0x481*-0x1)+(-0x1*0xd37+0x1*-0x23d+0xf76)]+=_0x55a6a3['z'],_0x2e9d7a[_0x5eb469*(0x542*0x2+0x50*0x34+-0x1ac1)+(0x97*-0x4+0x3b7*0x3+-0x8c9)]+=_0x55a6a3['x'],_0x2e9d7a[_0x5eb469*(-0x12*-0x133+-0x1fea+-0xa57*-0x1)+(-0x1d7d*-0x1+0xaa*0xd+-0x261e)]+=_0x55a6a3['y'],_0x2e9d7a[_0x5eb469*(-0x501*-0x7+-0x21c9+-0x5*0x3f)+(-0x52*0x5+0x3b*-0x55+0x1533)]+=_0x55a6a3['z'],_0x2e9d7a[_0x11c740*(-0x1c15+-0x1dec+-0x4f*-0xbc)+(-0x199d+-0x349*0xb+0x3dc0)]+=_0x55a6a3['x'],_0x2e9d7a[_0x11c740*(-0x616*0x4+-0x207*0xf+0x5*0xaf4)+(-0x365+0x123*-0x13+0x18ff)]+=_0x55a6a3['y'],_0x2e9d7a[_0x11c740*(0x18ff+-0x7a9+-0x1153*0x1)+(0x7*0x2f+0x13*0x10+-0x277)]+=_0x55a6a3['z'],_0x199d36[_0x550059*(-0x18c5+-0x6b8+0x1f80)+(0xec6*0x1+-0xf7*-0x17+-0x1*0x24f7)]+=_0x42d1b9['x'],_0x199d36[_0x550059*(0x7bb+-0xd*0x15b+-0x9e7*-0x1)+(0x42*0xa+-0x7*0x1fd+-0xb*-0x108)]+=_0x42d1b9['y'],_0x199d36[_0x550059*(-0x6e3*0x1+0x2658+-0x1f72*0x1)+(0x190+-0x183b+0x16ad)]+=_0x42d1b9['z'],_0x199d36[_0x5eb469*(-0x1*-0x1511+-0x55d*-0x7+-0x3a99)+(-0x9e*-0x1b+0x68+-0x1112)]+=_0x42d1b9['x'],_0x199d36[_0x5eb469*(-0xed*0x22+-0x1840+0x2ef*0x13)+(-0xbab+0x1892+-0xfe*0xd)]+=_0x42d1b9['y'],_0x199d36[_0x5eb469*(-0x33a*-0x2+-0x2607+-0x26e*-0xd)+(0x15d9+-0x256f+-0x3e6*-0x4)]+=_0x42d1b9['z'],_0x199d36[_0x11c740*(0xe*-0x1db+-0x53a+0x1f37)+(-0x2447+0x1fd1+0x476)]+=_0x42d1b9['x'],_0x199d36[_0x11c740*(-0x11a8+0xd1*0x3+0xf38)+(-0x8ba+-0x1832+0x20ed*0x1)]+=_0x42d1b9['y'],_0x199d36[_0x11c740*(-0x1da+-0x2589+-0xf6*-0x29)+(-0x1f66+-0x2462+0x43ca)]+=_0x42d1b9['z'];}const _0x182e30=new D(),_0x57552a=new D(),_0x51cd6b=new D(),_0x415945=new D();for(let _0x2d35ce=-0xd6*0x6+-0x151a+0x1a1e;_0x2d35ce<_0x2cdf7f;_0x2d35ce++){_0x51cd6b['set'](_0x4c5259[_0x2d35ce*(-0x75c+-0xe53+0x15b2)],_0x4c5259[_0x2d35ce*(-0x4ed*0x1+0x2*0x678+-0x2*0x400)+(-0x7*-0x245+0x194d+0x1*-0x292f)],_0x4c5259[_0x2d35ce*(0x867*-0x2+-0x3b9*0x3+0x1bfc)+(0x13c5*-0x1+0x18bc+-0x2f*0x1b)]),_0x182e30['set'](_0x2e9d7a[_0x2d35ce*(0x1e63+0x974*-0x1+-0x14ec)],_0x2e9d7a[_0x2d35ce*(-0x1fb*0xd+-0x2082+0x3a44)+(0x92*-0x3a+-0xda2+0x2eb7)],_0x2e9d7a[_0x2d35ce*(-0x1a73+0x149e+0x5d8)+(0x293*0x2+-0x757*0x3+0x1*0x10e1)]),_0x57552a['set'](_0x199d36[_0x2d35ce*(0x1*-0x25f7+0x23ae+0x24c)],_0x199d36[_0x2d35ce*(-0x256f*0x1+0x6e*0x14+0x1cda)+(0x6ad*-0x3+0xb41*-0x3+0x125*0x2f)],_0x199d36[_0x2d35ce*(0xad4+-0x162d+0x5ae*0x2)+(0xd1c+0x1*0x132c+-0x2046)]);const _0x107f6c=_0x51cd6b['dot'](_0x182e30);_0x415945['copy'](_0x51cd6b)['mulScalar'](_0x107f6c),_0x415945['sub2'](_0x182e30,_0x415945)['normalize'](),_0x2ee3c4[_0x2d35ce*(0x1a1*0xb+0x16f2+-0x28d9*0x1)]=_0x415945['x'],_0x2ee3c4[_0x2d35ce*(-0x482*0x3+-0x12ec+0x2076)+(-0x93e*0x1+0x363+0x5dc)]=_0x415945['y'],_0x2ee3c4[_0x2d35ce*(0xd*0x7f+0x1f94+-0x2603)+(0xa15+-0x2*0x1339+0x3*0x975)]=_0x415945['z'],_0x415945['cross'](_0x51cd6b,_0x182e30),_0x2ee3c4[_0x2d35ce*(-0xa1b+0xa5e+-0x3f)+(0x432+-0x1ab4+-0x481*-0x5)]=_0x415945['dot'](_0x57552a)<0x3*0x395+-0x11d8+0x1*0x719?-(0xdd*-0xc+0x5*-0x74d+-0x2ede*-0x1):0x1*0x61b+-0x1dec+-0x2*-0xbe9;}return _0x2ee3c4;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x31f+-0x19b7+0x169c)/(-0x23b3*-0x1+-0x3*0x646+-0x10a1*0x1),hg=0x1359+0x301*0x3+0x11*-0x1ab-pu*(-0x1*-0x112d+0x55*0x5+-0x12d4);class mu extends Ta{constructor(_0x177e4e={}){super();const _0x3d3ce9=_0x177e4e['halfExtent'+'s']??new D(0x1075+-0x1af6+0xa81*0x1+0.5,-0x1*0xc73+0x1de8+-0x1175+0.5,-0x33c+0x2052+0x22*-0xdb+0.5),_0x4c4f2d=_0x177e4e['widthSegme'+'nts']??0x244b+-0x1f97+0x4b3*-0x1,_0x107416=_0x177e4e['lengthSegm'+'ents']??0x2af+-0x1*-0x6ef+-0x99d,_0x46a3c4=_0x177e4e['heightSegm'+'ents']??0x44*0x1+0x26ce+-0x2711,_0x534573=_0x177e4e['yOffset']??-0x422+0x1*0x1147+0x1*-0xd25,_0x1d5cb3=-_0x3d3ce9['y']+_0x534573,_0x5d1ca0=_0x3d3ce9['y']+_0x534573,_0x4225f3=[new D(-_0x3d3ce9['x'],_0x1d5cb3,_0x3d3ce9['z']),new D(_0x3d3ce9['x'],_0x1d5cb3,_0x3d3ce9['z']),new D(_0x3d3ce9['x'],_0x5d1ca0,_0x3d3ce9['z']),new D(-_0x3d3ce9['x'],_0x5d1ca0,_0x3d3ce9['z']),new D(_0x3d3ce9['x'],_0x1d5cb3,-_0x3d3ce9['z']),new D(-_0x3d3ce9['x'],_0x1d5cb3,-_0x3d3ce9['z']),new D(-_0x3d3ce9['x'],_0x5d1ca0,-_0x3d3ce9['z']),new D(_0x3d3ce9['x'],_0x5d1ca0,-_0x3d3ce9['z'])],_0x22dda1=[[0x1*0x651+-0x1e81+0x1830,-0x1*-0xb5e+-0x5b1*0x1+0xb*-0x84,0x161e+0xece+-0x24e9],[-0x2463+-0x171+0x25d8,0x32*0xa9+-0x6*-0x39d+-0x36ab,0x1*0x18f4+-0x1320+-0x5cd],[0x1020+-0xa3b*-0x1+-0x1*0x1a58,0x1c83+-0x3*-0x5ab+0x1d2*-0x19,-0x8b*0x22+-0x5ca*-0x5+-0x1a*0x67],[-0x423*0x9+0xf1*0x27+0x85,0x229d+-0x1*-0x2162+-0x53b*0xd,-0xdfe+-0x61*0x4b+0x2a6d],[-0x1680+-0x193f+0x2fc0,-0x29c*-0x7+0x5*0x1f5+-0x1c09,0x7a*-0x1+0x1877+0x17fb*-0x1],[0xa09*0x1+-0x5ad+-0x457*0x1,-0x8*0x2bd+-0x25b7+0x3b9f,0xa*0x39e+-0x53*-0x55+-0x3fb5]],_0x3b0504=[[-0x49*-0x38+-0xa3*-0x27+-0x28cd*0x1,0xc04+0x4db+-0x10df,-0x67*-0x1b+0x331*-0x1+0x7ab*-0x1],[0xeb+-0x1*-0x2653+0x2*-0x139f,-0x1951*-0x1+-0x83*0xf+0x4*-0x469,-(0x863+0xe80+0x1d*-0xca)],[0x5*0x327+-0x1e48+0x7*0x213,0x97*-0x3e+0x57*0x21+0x195c,0x1e61+-0x4c*0x2b+-0x119d*0x1],[-0x49e+-0x2169+0x3*0xcad,-(-0x37c*-0x5+-0x7*0x3c1+0x3f*0x24),-0x2*0x81e+0xfcd*-0x2+-0x13a*-0x27],[0x2700+-0x1*0x2e5+-0x241a,-0x42c*-0x3+0x25*-0xb9+0xe39,-0x4e5+0xed0+-0x1*0x9eb],[-(-0x2*-0x12a+-0x188f+0x163c),0x356+0x20ad+-0x7*0x525,-0x116a+-0x1022+0x4*0x863]],_0x9efe94={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x1df54a=[],_0x377e9a=[],_0x2bd4e3=[],_0x2b587b=[];let _0xf1a653=0xeec+-0xc12+-0x2da*0x1;const _0x5eaf26=(_0x3f9b7f,_0x5512b3,_0x2e79b1)=>{const _0xc8c535=new D(),_0x5874b5=new D(),_0x26886a=new D(),_0x4990a6=new D();for(let _0x46d4f0=-0x9*0x202+0x3*0x1fa+0xc24;_0x46d4f0<=_0x5512b3;_0x46d4f0++)for(let _0x43e078=-0x1*0x122b+0x1d*-0x143+0x36c2*0x1;_0x43e078<=_0x2e79b1;_0x43e078++){_0xc8c535['lerp'](_0x4225f3[_0x22dda1[_0x3f9b7f][0x2*-0xc86+-0xc63+0x7*0x559]],_0x4225f3[_0x22dda1[_0x3f9b7f][-0x3c5*-0x4+-0xf9*-0x12+0x1*-0x2095]],_0x46d4f0/_0x5512b3),_0x5874b5['lerp'](_0x4225f3[_0x22dda1[_0x3f9b7f][0x151*-0x1+-0xf98+0x10e9]],_0x4225f3[_0x22dda1[_0x3f9b7f][0x1ce*-0x13+-0x2*0x6b5+0x2fb6]],_0x43e078/_0x2e79b1),_0x26886a['sub2'](_0x5874b5,_0x4225f3[_0x22dda1[_0x3f9b7f][0x1944+0x2609+-0x3f4d]]),_0x4990a6['add2'](_0xc8c535,_0x26886a);let _0x368841=_0x46d4f0/_0x5512b3,_0x40fcda=_0x43e078/_0x2e79b1;_0x1df54a['push'](_0x4990a6['x'],_0x4990a6['y'],_0x4990a6['z']),_0x377e9a['push'](_0x3b0504[_0x3f9b7f][0x3*0x7f0+-0x9e*0x1f+0x2*-0x257],_0x3b0504[_0x3f9b7f][0x118d*0x2+0x58a+-0x28a3*0x1],_0x3b0504[_0x3f9b7f][0x596+0x9f8+0x14*-0xc7]),_0x2bd4e3['push'](_0x368841,-0x19b9+0x1395+0x625-_0x40fcda),_0x368841=_0x368841*hg+pu,_0x40fcda=_0x40fcda*hg+pu,_0x368841/=0xf80+-0x19cf+0xa52,_0x40fcda/=-0x140e+-0xbcf+0x220*0xf,_0x368841+=_0x3f9b7f%(0x1*-0x165d+-0x20*-0xc+0x8*0x29c)/(0x25e5*0x1+0x1*0x13c7+-0x39a9*0x1),_0x40fcda+=Math['floor'](_0x3f9b7f/(-0x3cb*0x1+-0x1b*0x15c+-0x2*-0x1441))/(0x16db*-0x1+-0xcbd+0x5*0x71f),_0x46d4f0<_0x5512b3&&_0x43e078<_0x2e79b1&&(_0x2b587b['push'](_0xf1a653+_0x2e79b1+(0x1026+0x22b8+0x1d*-0x1c1),_0xf1a653+(0x196b+-0x1c19+-0xe5*-0x3),_0xf1a653),_0x2b587b['push'](_0xf1a653+_0x2e79b1+(-0x2184+-0x65f*-0x3+0xe68),_0xf1a653+_0x2e79b1+(-0x1b34+-0x3*-0xa6f+-0x1*0x417),_0xf1a653+(-0x1aee+-0x2*-0x1195+-0x83b))),_0xf1a653++;}};_0x5eaf26(_0x9efe94['FRONT'],_0x4c4f2d,_0x46a3c4),_0x5eaf26(_0x9efe94['BACK'],_0x4c4f2d,_0x46a3c4),_0x5eaf26(_0x9efe94['TOP'],_0x4c4f2d,_0x107416),_0x5eaf26(_0x9efe94['BOTTOM'],_0x4c4f2d,_0x107416),_0x5eaf26(_0x9efe94['RIGHT'],_0x107416,_0x46a3c4),_0x5eaf26(_0x9efe94['LEFT'],_0x107416,_0x46a3c4),this['positions']=_0x1df54a,this['normals']=_0x377e9a,this['uvs']=_0x2bd4e3,this['uvs1']=_0x2bd4e3,this['indices']=_0x2b587b,_0x177e4e['calculateT'+'angents']&&(this['tangents']=Mr(_0x1df54a,_0x377e9a,_0x2bd4e3,_0x2b587b));}}class _m extends Ta{constructor(_0x569ce7={}){super();const _0x450ff8=_0x569ce7['radius']??-0x9e8+0x90e+-0x1*-0xda+0.5,_0x1387b7=_0x569ce7['latitudeBa'+'nds']??0x2194+-0xbce+-0x15b6,_0x4a1ecf=_0x569ce7['longitudeB'+'ands']??0x1*-0x1c67+0x1e21+0x1*-0x1aa,_0x1066b9=[],_0x37bdeb=[],_0x1d4522=[],_0x260ca9=[];for(let _0x1b2988=-0x17b+0x1*-0x83f+-0x2*-0x4dd;_0x1b2988<=_0x1387b7;_0x1b2988++){const _0x547ce5=_0x1b2988*Math['PI']/_0x1387b7,_0x7032d9=Math['sin'](_0x547ce5),_0x3eb15f=Math['cos'](_0x547ce5);for(let _0x3eed46=0x20ca+0x1fac+0x1be*-0x25;_0x3eed46<=_0x4a1ecf;_0x3eed46++){const _0x449dfc=_0x3eed46*(0xbd+-0x6*0xbc+0x1*0x3ad)*Math['PI']/_0x4a1ecf-Math['PI']/(-0x234+0xa2b+-0x61*0x15),_0x40bc33=Math['sin'](_0x449dfc),_0xfadfaa=Math['cos'](_0x449dfc)*_0x7032d9,_0x4b292e=_0x3eb15f,_0x45112b=_0x40bc33*_0x7032d9,_0x45ff58=0x5f8+-0xef7+0x8*0x120-_0x3eed46/_0x4a1ecf,_0x405bd4=0x1*0x1767+0x2381+-0x3ae7-_0x1b2988/_0x1387b7;_0x1066b9['push'](_0xfadfaa*_0x450ff8,_0x4b292e*_0x450ff8,_0x45112b*_0x450ff8),_0x37bdeb['push'](_0xfadfaa,_0x4b292e,_0x45112b),_0x1d4522['push'](_0x45ff58,0x1c*-0x1d+0xa*0x15e+-0xa7f-_0x405bd4);}}for(let _0x21628f=0x2ed*0xb+0x1410+0x7d*-0x6b;_0x21628f<_0x1387b7;++_0x21628f)for(let _0x2a9ca6=0x1*-0xe5f+0x16a7+-0x848;_0x2a9ca6<_0x4a1ecf;++_0x2a9ca6){const _0x5b3681=_0x21628f*(_0x4a1ecf+(0x8cd+0x4eb*-0x1+-0x3e1*0x1))+_0x2a9ca6,_0x376559=_0x5b3681+_0x4a1ecf+(-0x25df+0xc*0x233+0xb7c);_0x260ca9['push'](_0x5b3681+(-0x16a2*-0x1+-0x540*-0x5+0x2b*-0x123),_0x376559,_0x5b3681),_0x260ca9['push'](_0x5b3681+(0x747+-0x7*-0x340+-0x2a*0xb7),_0x376559+(-0x2121+0x19d3*-0x1+0x3af5),_0x376559);}this['positions']=_0x1066b9,this['normals']=_0x37bdeb,this['uvs']=_0x1d4522,this['uvs1']=_0x1d4522,this['indices']=_0x260ca9,_0x569ce7['calculateT'+'angents']&&(this['tangents']=Mr(_0x1066b9,_0x37bdeb,_0x1d4522,_0x260ca9));}}class DA extends _m{constructor(_0x3dca16={}){const _0x41132b=_0x3dca16['latitudeBa'+'nds']??-0x3c8*-0xa+0x24c1+-0x4a81,_0xd0b41e=_0x3dca16['longitudeB'+'ands']??-0x184b+-0x5*0xca+0x9*0x325;super({'radius':0.5,'latitudeBands':_0x41132b,'longitudeBands':_0xd0b41e});const _0x85f167=-0x1256*0x1+0x17b5+-0x5*0x113+0.1,_0x4ba087=-0x2ed+-0x2098+0x2385+0.95,_0x13dec5=_0x4ba087*_0x4ba087,_0x26d4cd=this['positions'];for(let _0x1b2860=-0x1*0x1c3+-0xa*-0x2ce+-0x3*0x8c3;_0x1b2860<_0x26d4cd['length'];_0x1b2860+=0x7af+0xcb5*0x2+0x34f*-0xa){const _0x62740d=_0x26d4cd[_0x1b2860]/(0x1*-0x16b4+-0x714+-0xee4*-0x2+0.5);let _0x3eb0b4=_0x26d4cd[_0x1b2860+(-0x2542*0x1+0x1*-0x11c2+0x2d*0x139)]/(-0x2*0x5cf+-0xb4a*0x2+0x2232+0.5);const _0x1a2302=_0x26d4cd[_0x1b2860+(0x48f+-0x1429+0x1b*0x94)]/(-0x7c4+-0x1*-0x105b+0x3*-0x2dd+0.5);_0x3eb0b4<-0xde7*-0x2+0x222+0xef8*-0x2&&(_0x3eb0b4*=-0xb8*0x1b+0x1*-0x253a+0x526*0xb+0.3,_0x62740d*_0x62740d+_0x1a2302*_0x1a2302<_0x13dec5&&(_0x3eb0b4=-_0x85f167)),_0x3eb0b4+=_0x85f167,_0x3eb0b4*=0x1842+-0x252b*0x1+0x1*0xce9+0.5,_0x26d4cd[_0x1b2860+(-0x220e+0x77a+0x1a95)]=_0x3eb0b4;}}}class zo{static['create'](_0x1417c6,_0x42cb5a){switch(_0x42cb5a){case Qw:return zo['box'](_0x1417c6);case Jw:return zo['dome'](_0x1417c6);}return w['assert'](_0x42cb5a===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x42cb5a),zo['infinite'](_0x1417c6);}static['infinite'](_0x3a36f7){return Ge['fromGeomet'+'ry'](_0x3a36f7,new mu(_0x3a36f7));}static['box'](_0x189ce5){return Ge['fromGeomet'+'ry'](_0x189ce5,new mu({'yOffset':0.5}));}static['dome'](_0x1233e7){const _0x4837d3=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4837d3['normals']=void(0x409+0x985*-0x2+0xf01),_0x4837d3['uvs']=void(0x2204+-0x1629+-0xbdb),Ge['fromGeomet'+'ry'](_0x1233e7,_0x4837d3);}}class IA{constructor(_0x2d7bd2,_0x2935fc,_0x18c00a,_0x5d3adf,_0x621e37){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x7e7+0x1099+-0x187f));const _0x1781ae=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x2d7bd2,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x2d7bd2,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x2d7bd2,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x2d7bd2,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x1781ae['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x5d3adf['encoding'])),_0x621e37!==Bo&&_0x1781ae['setDefine']('SKYMESH',''),_0x5d3adf['cubemap']&&_0x1781ae['setDefine']('SKY_CUBEMA'+'P',''),_0x1781ae['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2935fc['skyboxHigh'+'lightMulti'+'plier']),_0x5d3adf['cubemap']?_0x1781ae['setParamet'+'er']('texture_cu'+'beMap',_0x5d3adf):(_0x1781ae['setParamet'+'er']('texture_en'+'vAtlas',_0x5d3adf),_0x1781ae['setParamet'+'er']('mipLevel',_0x2935fc['skyboxMip'])),_0x1781ae['cull']=Fo,_0x1781ae['depthWrite']=this['_depthWrit'+'e'];const _0xdd5cc4=_0x2935fc['layers']['getLayerBy'+'Id'](Kp);if(_0xdd5cc4){const _0x5540bc=zo['create'](_0x2d7bd2,_0x621e37),_0x92a5c9=new He(_0x5540bc,_0x1781ae,_0x18c00a);this['meshInstan'+'ce']=_0x92a5c9,_0x92a5c9['cull']=!(0x155c*-0x1+0x1*-0xf62+-0x1*-0x24bf),_0x92a5c9['pick']=!(-0xdb*-0x12+0x64b+0x1*-0x15b0),_0xdd5cc4['addMeshIns'+'tances']([_0x92a5c9]),this['skyLayer']=_0xdd5cc4;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x34afad){this['_depthWrit'+'e']=_0x34afad,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x34afad);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x24b5ff){h(this,'_type',Bo),h(this,'_center',new D(-0x9*0x1d+0xcfa+0x1*-0xbf5,-0x1fd*-0x1+-0x2002+0x3d*0x7e,0x65d+-0x22a8+0x1c4b)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x2362+0x1*0x19a5+0x1*0x9be)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x24b5ff['device'],this['scene']=_0x24b5ff,this['center']=new D(0xbc6+-0xd5a*0x1+0x194,-0x22b7+-0x2467+0x33*0x165,0x1977+-0x1b73*-0x1+-0x34ea),this['centerArra'+'y']=new Float32Array(-0x2f1+0x779+-0x485),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x3bd105){this['type']=_0x3bd105['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x3bd105['skyMeshPos'+'ition']??[0x89*-0x19+-0xe03*-0x2+0x17*-0xa3,0x11a8*0x1+-0x187f*-0x1+-0x2a27,0x1a54+-0x1f77+0x107*0x5])),this['node']['setLocalEu'+'lerAngles'](new D(_0x3bd105['skyMeshRot'+'ation']??[0x2266+0xb5e*0x1+-0x2dc4,0x59*0x35+0x18f7+-0x2b64,-0xd*-0x2f7+0x2f*-0x6+0xf*-0x27f])),this['node']['setLocalSc'+'ale'](new D(_0x3bd105['skyMeshSca'+'le']??[0x4*-0x959+-0x1685+-0x3bea*-0x1,0x106f+-0xc1e+-0x10*0x45,0x13c+-0x4*0x687+0x18e1])),_0x3bd105['skyCenter']&&(this['_center']=new D(_0x3bd105['skyCenter']));}set['type'](_0x573636){this['_type']!==_0x573636&&(this['_type']=_0x573636,this['scene']['updateShad'+'ers']=!(-0x741+0x1c62+-0x1521),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x299e91){this['_center']['copy'](_0x299e91);}get['center'](){return this['_center'];}set['depthWrite'](_0x1157a7){this['_depthWrit'+'e']!==_0x1157a7&&(this['_depthWrit'+'e']=_0x1157a7,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x1157a7));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x567dc2=this['scene']['_getSkybox'+'Tex']();_0x567dc2&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x567dc2,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x567dc2));}['resetSkyMe'+'sh'](){var _0x4039e8;(_0x4039e8=this['skyMesh'])==null||_0x4039e8['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x1fec95,centerArray:_0x51e43e}=this,_0x3dc3ab=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1fec95,_0x3dc3ab),_0x51e43e[-0x22d5+-0xf*0x2b+-0xe*-0x2ab]=_0x3dc3ab['x'],_0x51e43e[-0xbe*-0x1e+0x1a96+-0x30d9]=_0x3dc3ab['y'],_0x51e43e[-0x1bd5+-0xd*0xb0+0x10d*0x23]=_0x3dc3ab['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x51e43e);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x1cff+0xfd9*-0x1+-0x2cd9*-0x1);class RA{constructor(_0x464fb3,_0x1b5bbc,_0x43b0ef){this['material']=_0x1b5bbc,this['layer']=_0x43b0ef,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x464fb3),this['meshInstan'+'ce']=null;}['addLines'](_0x5d4acc,_0x2ac2f5){const _0x14b577=this['positions'],_0xb71f7=_0x5d4acc['length'];for(let _0x74066e=0x1262+-0x2086+0x2d4*0x5;_0x74066e<_0xb71f7;_0x74066e++){const _0x412b44=_0x5d4acc[_0x74066e];_0x14b577['push'](_0x412b44['x'],_0x412b44['y'],_0x412b44['z']);}const _0x10ac20=this['colors'];if(_0x2ac2f5['length'])for(let _0x3943f2=0x1211+-0x3*-0x2f0+-0x1ae1;_0x3943f2<_0xb71f7;_0x3943f2++){const _0x4b3e22=_0x2ac2f5[_0x3943f2];_0x10ac20['push'](_0x4b3e22['r'],_0x4b3e22['g'],_0x4b3e22['b'],_0x4b3e22['a']);}else{for(let _0x4c3afa=0x2*0xabb+-0x2527+0xd*0x135;_0x4c3afa<_0xb71f7;_0x4c3afa++)_0x10ac20['push'](_0x2ac2f5['r'],_0x2ac2f5['g'],_0x2ac2f5['b'],_0x2ac2f5['a']);}}['addLinesAr'+'rays'](_0x44df6e,_0x3166aa){const _0x1c665d=this['positions'];for(let _0x397366=-0x1003*-0x1+-0x2*-0x296+0x11*-0x13f;_0x397366<_0x44df6e['length'];_0x397366+=0x571+0x10eb+-0x1659)_0x1c665d['push'](_0x44df6e[_0x397366],_0x44df6e[_0x397366+(-0x558+-0x552+0xaab)],_0x44df6e[_0x397366+(0x2*-0x553+-0x3*0x892+0x245e)]);const _0x2f0c84=this['colors'];if(_0x3166aa['length']){for(let _0x136f1e=-0x10*0xa0+-0x4*-0x359+-0x364;_0x136f1e<_0x3166aa['length'];_0x136f1e+=-0x611*-0x2+-0x184d*-0x1+-0x246b*0x1)_0x2f0c84['push'](_0x3166aa[_0x136f1e],_0x3166aa[_0x136f1e+(0x3*0xa4e+0x413+-0x22fc)],_0x3166aa[_0x136f1e+(-0x1*-0xd55+-0x1bd3*0x1+0xe80)],_0x3166aa[_0x136f1e+(-0x883*-0x2+-0x1*-0x1093+-0x2196)]);}else{const _0x403c82=_0x44df6e['length']/(0x1b1d*0x1+0x2098+-0x3bb2);for(let _0x5960ee=-0x1f75+-0xa9*0x13+-0x160*-0x20;_0x5960ee<_0x403c82;_0x5960ee++)_0x2f0c84['push'](_0x3166aa['r'],_0x3166aa['g'],_0x3166aa['b'],_0x3166aa['a']);}}['onPreRende'+'r'](_0x454f19,_0x74dd74){this['positions']['length']>-0x137b+0x22*-0x27+0x18a9&&this['material']['transparen'+'t']===_0x74dd74&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x1*-0xca3+-0x487*0x1+0x1*0x112b)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x454f19['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x1932+-0x2b4*-0x1+-0x1be6,this['colors']['length']=0xa4c+0x2236+-0x2c82;}}class OA{constructor(_0x49c6a6){this['device']=_0x49c6a6,this['map']=new Map();}['getBatch'](_0x2207e8,_0x534a15){let _0x5bfe84=this['map']['get'](_0x2207e8);return _0x5bfe84||(_0x5bfe84=new RA(this['device'],_0x2207e8,_0x534a15),this['map']['set'](_0x2207e8,_0x5bfe84)),_0x5bfe84;}['onPreRende'+'r'](_0x5415dc,_0x1f4e5e){this['map']['forEach'](_0x1e1f26=>{_0x1e1f26['onPreRende'+'r'](_0x5415dc,_0x1f4e5e);});}['clear'](){this['map']['forEach'](_0x547262=>_0x547262['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x5b589c){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x5b589c,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x2e1194){const _0x14d090=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x14d090['blendType']=Zs,_0x14d090['depthTest']=_0x2e1194,_0x14d090['update'](),_0x14d090;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x3*-0x8eb+0x2297+0x68*-0x97))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x441*0x1+0x4a0+-0x8e0))),this['_materialN'+'oDepth'];}['getBatch'](_0x11ad0e,_0x154db4){let _0x3bb3d1=this['batchesMap']['get'](_0x11ad0e);_0x3bb3d1||(_0x3bb3d1=new OA(this['device']),this['batchesMap']['set'](_0x11ad0e,_0x3bb3d1)),this['allBatches']['add'](_0x3bb3d1);const _0x20c920=_0x154db4?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x3bb3d1['getBatch'](_0x20c920,_0x11ad0e);}['getShaderD'+'esc'](_0x5b5290,_0x3a3d08,_0x9aa1d9){return this['shaderDesc'+'s']['has'](_0x5b5290)||this['shaderDesc'+'s']['set'](_0x5b5290,{'uniqueName':'DebugShade'+'r:'+_0x5b5290,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x3a3d08,'fragmentWGSL':_0x9aa1d9,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x5b5290);}['getTexture'+'ShaderDesc'](_0x5d73aa){const _0x2e8d74=Tr['decodeFunc'](_0x5d73aa);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x5d73aa,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x2e8d74+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x2e8d74+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x28e+0xaa5*-0x1+0x13*0x6d+0.5),-(-0x1bd9+0x24a7+-0x8ce+0.5),0x50d+0x3*-0x7bb+0x1224,0x2190+0x236c+-0x44fc+0.5,-(0x4*-0x379+0x242a+-0x1646+0.5),0xde*-0x19+-0x845+-0xb*-0x2b9,-(0x197e+-0x2*-0xf3a+-0x37f2*0x1+0.5),0x5bf*0x3+0x2*-0x913+0xe9+0.5,-0x2699+0x1819+0xe80,0x310+0xe1*-0x10+0x160*0x8+0.5,-0x18fc+-0x1c77+0x3*0x11d1+0.5,-0x1e05+0xc29+-0xc*-0x17d]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x45254e,_0x46e57c,_0x32add6,_0x5b5b18,_0x54dbd8){if(!_0x5b5b18){const _0xbd437=this['getGraphNo'+'de'](_0x46e57c);_0x5b5b18=new He(_0x32add6,_0x45254e,_0xbd437);}let _0x262c04=this['layerMeshI'+'nstances']['get'](_0x54dbd8);_0x262c04||(_0x262c04=[],this['layerMeshI'+'nstances']['set'](_0x54dbd8,_0x262c04)),_0x262c04['push'](_0x5b5b18);}['drawWireAl'+'ignedBox'](_0x590394,_0x2a8ae8,_0x449b7a,_0x5a7f06,_0x3a800a,_0x13add6){if(_0x13add6){const _0x5c96ad=(_0x5543eb,_0x2ac56e,_0x463aef)=>{Ba['set'](_0x5543eb,_0x2ac56e,_0x463aef),_0x13add6['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x2a8ae8['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z']),_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x2a8ae8['z']),_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x590394['y'],_0x2a8ae8['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x590394['z']),_0x5c96ad(_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z']);}else Ts['push'](_0x590394['x'],_0x590394['y'],_0x590394['z'],_0x590394['x'],_0x2a8ae8['y'],_0x590394['z'],_0x590394['x'],_0x2a8ae8['y'],_0x590394['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z'],_0x2a8ae8['x'],_0x590394['y'],_0x590394['z'],_0x2a8ae8['x'],_0x590394['y'],_0x590394['z'],_0x590394['x'],_0x590394['y'],_0x590394['z'],_0x590394['x'],_0x590394['y'],_0x2a8ae8['z'],_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z'],_0x590394['x'],_0x590394['y'],_0x2a8ae8['z'],_0x590394['x'],_0x590394['y'],_0x590394['z'],_0x590394['x'],_0x590394['y'],_0x2a8ae8['z'],_0x590394['x'],_0x2a8ae8['y'],_0x590394['z'],_0x590394['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x590394['z'],_0x2a8ae8['x'],_0x2a8ae8['y'],_0x2a8ae8['z'],_0x2a8ae8['x'],_0x590394['y'],_0x590394['z'],_0x2a8ae8['x'],_0x590394['y'],_0x2a8ae8['z']);this['getBatch'](_0x3a800a,_0x5a7f06)['addLinesAr'+'rays'](Ts,_0x449b7a),Ts['length']=0x121*0x17+0x2182+-0x3b79;}['drawWireSp'+'here'](_0x3d1f6e,_0x5253a3,_0xbbdae0,_0x10000,_0x1c68d8,_0x2adda1){const _0x3b75d6=(-0x19*0x189+-0x1c18+-0x9*-0x763)*Math['PI']/_0x10000;let _0xd123e5=-0x17e7*0x1+-0x3*0x219+0x1e32;for(let _0x1c08e3=-0x51e*-0x2+-0x17b3*-0x1+-0x1*0x21ef;_0x1c08e3<_0x10000;_0x1c08e3++){const _0x66272d=Math['sin'](_0xd123e5),_0x528c95=Math['cos'](_0xd123e5);_0xd123e5+=_0x3b75d6;const _0x193817=Math['sin'](_0xd123e5),_0x19857f=Math['cos'](_0xd123e5);Ts['push'](_0x3d1f6e['x']+_0x5253a3*_0x66272d,_0x3d1f6e['y'],_0x3d1f6e['z']+_0x5253a3*_0x528c95),Ts['push'](_0x3d1f6e['x']+_0x5253a3*_0x193817,_0x3d1f6e['y'],_0x3d1f6e['z']+_0x5253a3*_0x19857f),Ts['push'](_0x3d1f6e['x']+_0x5253a3*_0x66272d,_0x3d1f6e['y']+_0x5253a3*_0x528c95,_0x3d1f6e['z']),Ts['push'](_0x3d1f6e['x']+_0x5253a3*_0x193817,_0x3d1f6e['y']+_0x5253a3*_0x19857f,_0x3d1f6e['z']),Ts['push'](_0x3d1f6e['x'],_0x3d1f6e['y']+_0x5253a3*_0x66272d,_0x3d1f6e['z']+_0x5253a3*_0x528c95),Ts['push'](_0x3d1f6e['x'],_0x3d1f6e['y']+_0x5253a3*_0x193817,_0x3d1f6e['z']+_0x5253a3*_0x19857f);}this['getBatch'](_0x2adda1,_0x1c68d8)['addLinesAr'+'rays'](Ts,_0xbbdae0),Ts['length']=-0x1d8c*0x1+-0x3bb+0x2147;}['getGraphNo'+'de'](_0x22679d){const _0x565ba2=new Ie('ImmediateD'+'ebug');return _0x565ba2['worldTrans'+'form']=_0x22679d,_0x565ba2['_dirtyWorl'+'d']=_0x565ba2['_dirtyNorm'+'al']=!(-0x13*0xb2+0x132a*-0x2+0xcb*0x41),_0x565ba2;}['onPreRende'+'rLayer'](_0xfbd64b,_0x41a152,_0x3cd3aa){if(this['batchesMap']['forEach']((_0x30e486,_0xcd12d3)=>{_0xcd12d3===_0xfbd64b&&_0x30e486['onPreRende'+'r'](_0x41a152,_0x3cd3aa);}),!this['updatedLay'+'ers']['has'](_0xfbd64b)){this['updatedLay'+'ers']['add'](_0xfbd64b);const _0x5b8cb0=this['layerMeshI'+'nstances']['get'](_0xfbd64b);if(_0x5b8cb0){for(let _0x124bd5=-0x18b9*0x1+0x2*-0x6ed+0x1*0x2693;_0x124bd5<_0x5b8cb0['length'];_0x124bd5++)_0x41a152['push'](_0x5b8cb0[_0x124bd5]);_0x5b8cb0['length']=-0x203b+0x14*0xda+-0xf33*-0x1;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0xc1e148=>_0xc1e148['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x29*-0xd4+-0x6cd*0x1+-0x1b27,0x617*-0x1+-0x9e+0x6b5*0x1,-0xf*0x283+0x2f*-0x4f+0x2*0x1a17)),h(this,'density',-0x92*-0x2+-0x1d81+-0x89*-0x35),h(this,'start',0x6bb*-0x5+-0x3*0xcd3+0x4821),h(this,'end',-0x222e+-0x3*-0x831+0x481*0x3);}}class Et extends me{constructor(_0x33d64f){super(),h(this,'ambientBak'+'e',!(-0x1a1+0x1da0+-0x1bfe)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0xb29+0x1d2c+-0x1203),h(this,'ambientBak'+'eOcclusion'+'Contrast',0x28a+0x103a+0x962*-0x2),h(this,'ambientLig'+'ht',new ie(-0x1*-0x26eb+0x220a+-0x48f5*0x1,-0x65f*0x3+0x12*0xb1+0x239*0x3,-0x1d*0xf7+0x8de+0x3*0x65f)),h(this,'ambientLum'+'inance',-0x474+-0x17e3+0x1c57),h(this,'exposure',-0x2*0xd8f+-0x2417+0x3f36),h(this,'lightmapSi'+'zeMultipli'+'er',-0x56+0xbb*0xa+-0x6f7),h(this,'lightmapMa'+'xResolutio'+'n',-0x2*0x9f+0x5ac+-0x392*-0x1),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x1b84+0x138e+0x7f7)),h(this,'lightmapHD'+'R',!(0x1494+0x3*0x2b+0x13*-0x11c)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0xac+-0xcfb*0x1+0xda8)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x192*0x1+-0x225b+-0x9*-0x3fe)),(w['assert'](_0x33d64f,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x33d64f,this['_gravity']=new D(-0x593*0x2+0xefe*-0x2+0x2922,-(-0x1*0x851+0x353*0x7+-0x43*0x39+0.8000000000000007),0xa01*-0x1+0x1*-0x847+0x1248),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0xe20+-0x1*-0xbd6+0x24b,this['_skyboxLum'+'inance']=-0x11*0x95+-0xfb2+0x1997,this['_skyboxMip']=0xa3a+-0x1c*-0x13b+-0x26*0x12d,this['_skyboxHig'+'hlightMult'+'iplier']=0x9d*-0x15+-0x1aca+-0x9eb*-0x4,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x18ec+-0x1*-0x1ecb+-0x5de),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x20a2+0xdc8+-0x2e69,this['_ambientBa'+'keSpherePa'+'rt']=0x1e5e+-0x20+0x7*-0x452+0.4,this['_lightmapF'+'ilterRange']=-0x2eb*0x5+-0xb93*-0x3+-0xa0c*0x2,this['_lightmapF'+'ilterSmoot'+'hness']=-0x242f+0x136f+-0x86*-0x20+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x25e5+0x2510+0x1f*-0x26b),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x186a+-0x1eba+-0xdc9*-0x4);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x238+0x881+-0x1*0x649),this['_shaderVer'+'sion']=0xd50+-0x177*0x6+-0x6*0xc1,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x4855a7){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x4855a7),-0x221a+0x2b*0x38+0x1*0x18b3,0xb5b*0x3+0x1936+-0x175*0x28);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x1e7a05){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x1e7a05,0x1*0x268d+0x1c2d*-0x1+-0xa60+0.001,-0x9*0x1df+0x152f+0xb*-0x65);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x258392){if(this['device']['isWebGPU']&&!_0x258392){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x258392){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x258392;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x1372e1){_0x1372e1!==this['_envAtlas']&&(this['_envAtlas']=_0x1372e1,_0x1372e1&&(_0x1372e1['addressU']=ue,_0x1372e1['addressV']=ue,_0x1372e1['minFilter']=vt,_0x1372e1['magFilter']=vt,_0x1372e1['mipmaps']=!(0xbb1+-0x2691+0x1ae1*0x1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0xa7361){const _0x11d20d=this['_layers'];this['_layers']=_0xa7361,this['fire']('set:layers',_0x11d20d,_0xa7361);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x1e25c9){this['_lightmapF'+'ilterRange']=Math['max'](_0x1e25c9,-0x1d67+-0x13a0+0x3107*0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x11a5f4){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x11a5f4,-0x8*-0x199+-0x21bf+0x14f7*0x1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3d0fa6){_0x3d0fa6=_0x3d0fa6||[];const _0x4fc5d2=this['_prefilter'+'edCubemaps'];(_0x4fc5d2['length']!==_0x3d0fa6['length']||_0x4fc5d2['some']((_0x18402e,_0x5835df)=>_0x18402e!==_0x3d0fa6[_0x5835df]))&&(_0x3d0fa6['length']===0xe3b*-0x1+-0x112+-0x1*-0xf53&&_0x3d0fa6['every'](_0x2fea03=>!!_0x2fea03)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3d0fa6,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3d0fa6['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x88d84f){_0x88d84f!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x88d84f,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x4ef795){_0x4ef795!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x4ef795,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x5eb9e8){_0x5eb9e8!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x5eb9e8,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x1fb34d){_0x1fb34d!==this['_skyboxMip']&&(this['_skyboxMip']=_0x1fb34d,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x1ccb67){_0x1ccb67!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x1ccb67,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x54f467){if(!this['_skyboxRot'+'ation']['equals'](_0x54f467)){const _0x550e96=_0x54f467['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x54f467),_0x550e96?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x54f467,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x550e96&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x4*-0x1fd+0x1606+0x3*-0x9fe),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x190ab8,_0x3dc910,_0x48be13=ie['WHITE'],_0x464854=!(-0x9*0x3ad+0x2*0xc41+0x1b7*0x5),_0x3abf10=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3abf10,_0x464854)['addLines']([_0x190ab8,_0x3dc910],[_0x48be13,_0x48be13]);}['drawLines'](_0x23085f,_0x475786,_0x35c94a=!(-0x13bd+-0x372+0x172f),_0x1d4855=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1d4855,_0x35c94a)['addLines'](_0x23085f,_0x475786);}['drawLineAr'+'rays'](_0x47da79,_0xc12c97,_0x32d30b=!(-0x720+0xb*0x217+-0xfdd),_0x46b679=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x46b679,_0x32d30b)['addLinesAr'+'rays'](_0x47da79,_0xc12c97);}['applySetti'+'ngs'](_0x3a89bf){const _0x2c0013=_0x3a89bf['physics'],_0x1cbe3d=_0x3a89bf['render'];this['_gravity']['set'](_0x2c0013['gravity'][-0x107c+0x26b6+-0x163a],_0x2c0013['gravity'][0x26+-0x4dc*-0x2+-0x9dd*0x1],_0x2c0013['gravity'][0x18+0x9fd*-0x1+0x9e7]),this['ambientLig'+'ht']['set'](_0x1cbe3d['global_amb'+'ient'][-0xb*0x159+0x308*-0x7+0x240b],_0x1cbe3d['global_amb'+'ient'][0x31*-0x9+0x1*-0x1f3f+0x1*0x20f9],_0x1cbe3d['global_amb'+'ient'][0x51a+-0x5cf*-0x6+-0x27f2]),this['ambientLum'+'inance']=_0x1cbe3d['ambientLum'+'inance'],this['fog']['type']=_0x1cbe3d['fog'],this['fog']['color']['set'](_0x1cbe3d['fog_color'][0x85d+-0x157+-0x706],_0x1cbe3d['fog_color'][0x113b+-0x1*-0x1e3d+-0x2f77],_0x1cbe3d['fog_color'][0x7f7+0x15fc+0x15*-0x16d]),this['fog']['start']=_0x1cbe3d['fog_start'],this['fog']['end']=_0x1cbe3d['fog_end'],this['fog']['density']=_0x1cbe3d['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x1cbe3d['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x1cbe3d['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x1cbe3d['lightmapMo'+'de'],this['exposure']=_0x1cbe3d['exposure'],this['_skyboxInt'+'ensity']=_0x1cbe3d['skyboxInte'+'nsity']??0x1696+-0x1*-0x2fd+-0x1992,this['_skyboxLum'+'inance']=_0x1cbe3d['skyboxLumi'+'nance']??0x3*0x12cd+-0x54b8+0x1*0x6a71,this['_skyboxMip']=_0x1cbe3d['skyboxMip']??-0x1569*0x1+0x733+0xe36,_0x1cbe3d['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x1cbe3d['skyboxRota'+'tion'][0x1f24+0xd*0x191+-0x3381],_0x1cbe3d['skyboxRota'+'tion'][-0x1*0x21c1+-0xf4*0x1f+0x3f4e],_0x1cbe3d['skyboxRota'+'tion'][-0xb*0x2c7+-0xdb*0x1+0x1f6a])),this['sky']['applySetti'+'ngs'](_0x1cbe3d),this['clusteredL'+'ightingEna'+'bled']=_0x1cbe3d['clusteredL'+'ightingEna'+'bled']??!(-0xd2+0x92*0x21+-0x11ff),this['lighting']['applySetti'+'ngs'](_0x1cbe3d),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0xfd38bb=>{_0x1cbe3d['hasOwnProp'+'erty'](_0xfd38bb)&&(this[_0xfd38bb]=_0x1cbe3d[_0xfd38bb]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x4bdcc0=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x4bdcc0[[-0x21b8+-0x1fc8+0x1060*0x4,-0x10b*0xf+0x9b8+0x5ee,0x15e1*0x1+0x1cd7+0x3*-0x10e7,0x2675+-0x3*0xc60+0x1*-0x151,0x3cc+-0x330+-0x1*0x97,-0x1c*0x148+-0x22be+0x46a4*0x1][this['_skyboxMip']]]||this['_envAtlas']||_0x4bdcc0[0xc5b*-0x2+0x13ed+0x4c9]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x4bdcc0[-0x2dc+0x28d*-0x5+0x1*0xf9d]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x4*0x8ef+0x31*-0xb1+-0x1db);}['setSkybox'](_0x375003){_0x375003?(this['skybox']=_0x375003[-0x1e8c+-0x27*-0xfb+-0x7b1]||null,_0x375003[0xa16+-0x5*0x729+0x19b8]&&!_0x375003[-0x815+0x17*-0xad+0x1*0x17a1]['cubemap']?this['envAtlas']=_0x375003[-0x240c+0x1*-0x26fb+0x4b08]:this['prefiltere'+'dCubemaps']=_0x375003['slice'](-0x22b+0x903+0x1*-0x6d7)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x3a36e6,_0x10fab1,_0x1eb58c){this['device']=_0x3a36e6,this['inverseBin'+'dPose']=_0x10fab1,this['boneNames']=_0x1eb58c;}}const kA=[-0x4b9+-0x1674+0x1b2d,0xca1+-0xc5*-0x2+-0x193*0x9,-0x1060+0xbfd+-0x464*-0x1,0xa*0x307+0x4*-0x2b0+-0x165*0xe,-0x9af*0x1+-0x224f+-0x2*-0x15ff,-0x1115+0x373+-0x1*-0xda3,-0x19a5+0x21a8*-0x1+0x3b4d,0x781+0x1*0x1aa7+-0x2228,-0xc03+0xc09+-0x5,-0x11a5+-0x7a7+0x194c,-0x1*-0x1495+-0x1*-0x279+-0x170e,0x1290+0x1525+-0x84*0x4d],UA=[-0xb*-0x5+0xdb2+0x3*-0x4a3,0x6a2+-0x4dc*-0x1+0xb7d*-0x1,-0x1f94+0x3*-0x88d+0x1c9f*0x2,-0xa*-0x29c+-0x5*-0x676+-0x3a64,0x11df+0xd3c+-0x638*0x5,-0x151f+-0x1353+0x2873];class BA extends me{constructor(_0x20e4fc,_0x2bfdc3){super(),this['_device']=_0x20e4fc,this['_pixelsPer'+'Unit']=_0x2bfdc3&&_0x2bfdc3['pixelsPerU'+'nit']!==void(-0x30*0x9+0xe7*-0x21+0x1f77)?_0x2bfdc3['pixelsPerU'+'nit']:-0x11*-0x10d+-0x96f+-0x86d,this['_renderMod'+'e']=_0x2bfdc3&&_0x2bfdc3['renderMode']!==void(-0x3*0x2b6+0xa58+-0x2*0x11b)?_0x2bfdc3['renderMode']:ci,this['_atlas']=_0x2bfdc3&&_0x2bfdc3['atlas']!==void(-0x19a3*0x1+-0x2ce+0x1c71)?_0x2bfdc3['atlas']:null,this['_frameKeys']=_0x2bfdc3&&_0x2bfdc3['frameKeys']!==void(0xbc8+-0x7ea+0x63*-0xa)?_0x2bfdc3['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x1792+0xca5+0xaee),this['_meshesDir'+'ty']=!(-0x2707+-0x5f4+0x2cfc),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4f53ce){this['_frameKeys']=_0x4f53ce,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x24ce+0xe03*-0x1+-0x5*0x48f):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4f53ce);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x4d549c){_0x4d549c!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x4d549c,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x196f*0x1+0x4d5*-0x3+0x10*-0xaf):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x4d549c));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x1218fc){this['_pixelsPer'+'Unit']!==_0x1218fc&&(this['_pixelsPer'+'Unit']=_0x1218fc,this['fire']('set:pixels'+'PerUnit',_0x1218fc),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1062*-0x2+0x10fd+0xfc7):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x5b5331){if(this['_renderMod'+'e']===_0x5b5331)return;const _0x1c79b7=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x5b5331,this['fire']('set:render'+'Mode',_0x5b5331),(_0x1c79b7===ci||_0x5b5331===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x22fa+-0x4*-0x1cd+-0x2a2e):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x11b909=this['_meshes']['length'];for(let _0x1657cd=0x48*-0x5+-0x1779+0x18e1;_0x1657cd<_0x11b909;_0x1657cd++){const _0x1d9d6f=this['_meshes'][_0x1657cd];_0x1d9d6f&&_0x1d9d6f['destroy']();}const _0x2223f6=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2223f6);const _0x1f123c=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x5baa0b=-0x2a0+-0x18e2+0x1b82;_0x5baa0b<_0x2223f6;_0x5baa0b++){const _0x312cf6=this['_atlas']['frames'][this['_frameKeys'][_0x5baa0b]];this['_meshes'][_0x5baa0b]=_0x312cf6?_0x1f123c['call'](this,_0x312cf6):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x1baec9){const _0x1c6df3=_0x1baec9['rect'],_0xc16733=this['_atlas']['texture']['width'],_0x1e789d=this['_atlas']['texture']['height'],_0x33a9fc=_0x1c6df3['z']/this['_pixelsPer'+'Unit'],_0x273ead=_0x1c6df3['w']/this['_pixelsPer'+'Unit'],_0x3ca658=_0x1baec9['pivot']['x'],_0x532354=_0x1baec9['pivot']['y'],_0x36d68d=[-_0x3ca658*_0x33a9fc,-_0x532354*_0x273ead,0x863+0xde2+-0x1645,(-0x22*0x12+-0x73c+0x9a1-_0x3ca658)*_0x33a9fc,-_0x532354*_0x273ead,-0x1b2c+-0x8f9*-0x3+0x41,(0x1246+-0x69d+-0xba8-_0x3ca658)*_0x33a9fc,(-0x399*0x2+0x55*0x39+-0xbba-_0x532354)*_0x273ead,0x1c4+-0x1e99+0x1cd5,-_0x3ca658*_0x33a9fc,(0xcd1+-0x1*-0x6db+-0x13ab-_0x532354)*_0x273ead,-0x1fcc+-0x1*-0x128f+0xd3d],_0x33ae17=_0x1c6df3['x']/_0xc16733,_0x3012b1=-0xe2d*0x2+0x155d+-0x37f*-0x2-_0x1c6df3['y']/_0x1e789d,_0x2bccef=(_0x1c6df3['x']+_0x1c6df3['z'])/_0xc16733,_0x3b0bf5=0x24b2+-0xd8b*-0x1+0x4*-0xc8f-(_0x1c6df3['y']+_0x1c6df3['w'])/_0x1e789d,_0x440516=[_0x33ae17,_0x3012b1,_0x2bccef,_0x3012b1,_0x2bccef,_0x3b0bf5,_0x33ae17,_0x3b0bf5],_0x3f6840=new Ta();return _0x3f6840['positions']=_0x36d68d,_0x3f6840['normals']=kA,_0x3f6840['uvs']=_0x440516,_0x3f6840['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x3f6840);}['_create9Sl'+'iceMesh'](){const _0x4c46ce=J['ONE'],_0x72ea96=-0x6bc*0x1+-0x2*-0x2f1+0xdd,_0x3d5ed6=-0x158a+-0x211*0x10+0x369d,_0x1f5fa1=[],_0x32baa7=[],_0x54338a=[],_0x58ad28=[];let _0x449db6=-0x1*-0x163d+0x1*-0x1de7+0x7aa;for(let _0x353927=0x1cdf+-0x1038*-0x1+-0x77*0x61;_0x353927<=_0x72ea96;_0x353927++){const _0x5e23cd=_0x353927===-0x25cd+0x7*0x2a2+-0x9*-0x227||_0x353927===_0x72ea96?-0x375*0x5+-0x152*-0x1b+-0x125d:-0x1b44+-0x33b*-0x4+0xe59;for(let _0x1710f3=0x1552+-0x14e7+0x1*-0x6b;_0x1710f3<=_0x3d5ed6;_0x1710f3++){const _0x352318=-_0x4c46ce['x']+(-0x20ac+0x13*-0xb9+0x2e69)*_0x4c46ce['x']*(_0x353927<=0x5*-0x480+-0x1231+0x28b2?0x2245+-0x17*-0x1d+-0x24e0:0x1ca0+0x508*-0x6+0x193)/_0x72ea96,_0x3d8a8a=-0x129b+-0xa04+-0x1c9f*-0x1,_0x2899c0=-(-_0x4c46ce['y']+(-0x7*-0x407+-0x1312+-0x91d)*_0x4c46ce['y']*(_0x1710f3<=0x92*0x38+-0x2350+0x361?0x2*0x11f5+-0x20c*0x1+-0x21de:0x5*0xd7+-0x41*-0x79+-0x22e9)/_0x3d5ed6),_0x3e4f3a=_0x1710f3===-0x60*0x38+0xce5+0x81b*0x1||_0x1710f3===_0x3d5ed6?-0x21dc+0x3*0x557+-0x11d7*-0x1:-0x2106+0x8*-0x172+0x2c97;_0x1f5fa1['push'](-_0x352318,_0x3d8a8a,_0x2899c0),_0x32baa7['push'](-0x71*0x35+0xa*-0x29c+0x317d,0x70b*0x4+0x2152+-0xb*0x597,-0x39b+-0xd3f+-0x2*-0x86d),_0x54338a['push'](_0x5e23cd,_0x3e4f3a),_0x353927<_0x72ea96&&_0x1710f3<_0x3d5ed6&&(_0x58ad28['push'](_0x449db6+_0x3d5ed6+(-0xadd+0x99f+-0x1*-0x13f),_0x449db6+(0x18a2+0x4d1+-0x1d72),_0x449db6),_0x58ad28['push'](_0x449db6+_0x3d5ed6+(0xd40+0xf68+-0x1e9*0xf),_0x449db6+_0x3d5ed6+(-0x2*-0x45+-0x5*0x2ab+0xccf),_0x449db6+(-0x2101*0x1+0x1ef5+0x20d))),_0x449db6++;}}const _0x1bf72f=new Ta();return _0x1bf72f['positions']=_0x1f5fa1,_0x1bf72f['normals']=_0x32baa7,_0x1bf72f['uvs']=_0x54338a,_0x1bf72f['indices']=_0x58ad28,Ge['fromGeomet'+'ry'](this['_device'],_0x1bf72f);}['_onSetFram'+'es'](_0x5000c3){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x40a+-0x15c8+0x2f5*0x6):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0xa413c0,_0x2553e2){const _0x6e804=this['_frameKeys']['indexOf'](_0xa413c0);_0x6e804<-0x1be*0x4+0x16c6+-0x7*0x242||(_0x2553e2?this['renderMode']===ci&&(this['_meshes'][_0x6e804]=this['_createSim'+'pleMesh'](_0x2553e2)):this['_meshes'][_0x6e804]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x2373a7){const _0x41e161=this['_frameKeys']['indexOf'](_0x2373a7);_0x41e161<0x2568+0x138e*0x1+-0x2*0x1c7b||(this['_meshes'][_0x41e161]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x13d+0x6*-0x1fd+0xd2b),this['_meshesDir'+'ty']=!(0xb7f+-0x1*0x1591+0xa13);}['endUpdate'](){this['_updatingP'+'roperties']=!(0xb8b+0x1cee+0x1c*-0x172),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x24e8+0x1925+0xbc4);}['destroy'](){for(const _0x27a49d of this['_meshes'])_0x27a49d&&_0x27a49d['destroy']();this['_meshes']['length']=0xa*0x376+0xe89+-0x223*0x17;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1074c4){this['_texture']=_0x1074c4,this['fire']('set:textur'+'e',_0x1074c4);}get['texture'](){return this['_texture'];}set['frames'](_0x1e7afe){this['_frames']=_0x1e7afe,this['fire']('set:frames',_0x1e7afe);}get['frames'](){return this['_frames'];}['setFrame'](_0x3e7f1d,_0x2d213b){let _0x8cffaf=this['_frames'][_0x3e7f1d];_0x8cffaf?(_0x8cffaf['rect']['copy'](_0x2d213b['rect']),_0x8cffaf['pivot']['copy'](_0x2d213b['pivot']),_0x8cffaf['border']['copy'](_0x2d213b['border'])):(_0x8cffaf={'rect':_0x2d213b['rect']['clone'](),'pivot':_0x2d213b['pivot']['clone'](),'border':_0x2d213b['border']['clone']()},this['_frames'][_0x3e7f1d]=_0x8cffaf),this['fire']('set:frame',_0x3e7f1d['toString'](),_0x8cffaf);}['removeFram'+'e'](_0x51006e){const _0x31ad6c=this['_frames'][_0x51006e];_0x31ad6c&&(delete this['_frames'][_0x51006e],this['fire']('remove:fra'+'me',_0x51006e['toString'](),_0x31ad6c));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x299fad,_0x4e7bbf,_0xe438c3,_0x4db550){this['time']=_0x299fad,this['position']=_0x4e7bbf,this['rotation']=_0xe438c3,this['scale']=_0x4db550;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0xede*0x1+-0x21*-0x97+-0x499),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x4e1997){return this['_nodeDict'][_0x4e1997];}['addNode'](_0x4ea657){this['_nodes']['push'](_0x4ea657),this['_nodeDict'][_0x4ea657['_name']]=_0x4ea657;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x1*-0x2014+0x2e*0x94+-0x3aab),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x3de4bd){this['_targetNod'+'e']=_0x3de4bd;}}class Sf{constructor(_0x46d787){h(this,'looping',!(-0x20*-0x5e+-0x1*0x1552+0x992)),(this['_animation']=null,this['_time']=-0x3*-0x93a+0x672+-0x2220,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x5528d4=_0xbf2ada=>{const _0x22d7ce=new VA();_0x22d7ce['_name']=_0xbf2ada['name'],this['_interpola'+'tedKeys']['push'](_0x22d7ce),this['_interpola'+'tedKeyDict'][_0xbf2ada['name']]=_0x22d7ce,this['_currKeyIn'+'dices'][_0xbf2ada['name']]=0x4de+-0x8dd*-0x1+-0xdbb;for(let _0x32311d=0x238*0x11+0x18d2+0xa*-0x641;_0x32311d<_0xbf2ada['_children']['length'];_0x32311d++)_0x5528d4(_0xbf2ada['_children'][_0x32311d]);};_0x5528d4(_0x46d787);}set['animation'](_0x15bcce){this['_animation']=_0x15bcce,this['currentTim'+'e']=0x26d6+0x312+-0x29e8;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x2ecade){this['_time']=_0x2ecade;const _0x4b9da3=this['_interpola'+'tedKeys']['length'];for(let _0x1010f4=0x1*0x973+-0xce*0x5+-0x56d;_0x1010f4<_0x4b9da3;_0x1010f4++){const _0x464520=this['_interpola'+'tedKeys'][_0x1010f4]['_name'];this['_currKeyIn'+'dices'][_0x464520]=-0x19a2+-0x2a2*0x8+-0x1*-0x2eb2;}this['addTime'](0xa3*-0x1+-0x15c1+0x1664),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x3fde7b){if(this['_animation']!==null){const _0x528f99=this['_animation']['_nodes'],_0x3ef836=this['_animation']['duration'];if(this['_time']===_0x3ef836&&!this['looping'])return;if(this['_time']+=_0x3fde7b,this['_time']>_0x3ef836){this['_time']=this['looping']?0x1*-0x137+0x2396+0x3*-0xb75:_0x3ef836;for(let _0x22ed1a=-0x3*0x5c1+-0x61*0x61+0x3604;_0x22ed1a<_0x528f99['length'];_0x22ed1a++){const _0x23ad7b=_0x528f99[_0x22ed1a]['_name'];this['_currKeyIn'+'dices'][_0x23ad7b]=-0x2023+-0x99c+-0x1*-0x29bf;}}else{if(this['_time']<-0x2683+0x14d0+0x11b3*0x1){this['_time']=this['looping']?_0x3ef836:0x9b7+0x1b1*0x3+-0xeca;for(let _0x2e13ab=-0x7*0x131+-0x14d*0x11+-0x79d*-0x4;_0x2e13ab<_0x528f99['length'];_0x2e13ab++){const _0x297e24=_0x528f99[_0x2e13ab],_0x52e8ce=_0x297e24['_name'];this['_currKeyIn'+'dices'][_0x52e8ce]=_0x297e24['_keys']['length']-(0x1a22+0x1c33+-0x3653);}}}const _0x221d44=_0x3fde7b>=-0x136b+0x1060+-0x30b*-0x1?0x3c6+-0x2*0x12b6+0x21a7*0x1:-(-0x658*0x1+-0x129c+-0x1*-0x18f5);for(let _0xdda018=-0x868*-0x4+-0x9*0x133+-0x16d5;_0xdda018<_0x528f99['length'];_0xdda018++){const _0x4a3435=_0x528f99[_0xdda018],_0x5bfc84=_0x4a3435['_name'],_0xeadeec=_0x4a3435['_keys'],_0x2cddf0=this['_interpola'+'tedKeyDict'][_0x5bfc84];if(_0x2cddf0===void(0x49*-0x1f+-0x457*0x7+0x2738)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x5bfc84);continue;}let _0x1cdd2d=!(-0x1*0x1ef5+0x3*-0xd1+-0x2169*-0x1);if(_0xeadeec['length']!==-0x1*0xf69+0x2*0x1c9+0xbd8)for(let _0x110d8a=this['_currKeyIn'+'dices'][_0x5bfc84];_0x110d8a<_0xeadeec['length']-(-0x71f+-0x188a+0x1faa)&&_0x110d8a>=0xff0+-0x185+-0xe6b*0x1;_0x110d8a+=_0x221d44){const _0x4e230c=_0xeadeec[_0x110d8a],_0x1bf858=_0xeadeec[_0x110d8a+(-0x1*-0xcaf+-0x2045+0x1397)];if(_0x4e230c['time']<=this['_time']&&_0x1bf858['time']>=this['_time']){const _0xcf1778=(this['_time']-_0x4e230c['time'])/(_0x1bf858['time']-_0x4e230c['time']);_0x2cddf0['_pos']['lerp'](_0x4e230c['position'],_0x1bf858['position'],_0xcf1778),_0x2cddf0['_quat']['slerp'](_0x4e230c['rotation'],_0x1bf858['rotation'],_0xcf1778),_0x2cddf0['_scale']['lerp'](_0x4e230c['scale'],_0x1bf858['scale'],_0xcf1778),_0x2cddf0['_written']=!(0xa56+-0x6*0x665+-0xd*-0x228),this['_currKeyIn'+'dices'][_0x5bfc84]=_0x110d8a,_0x1cdd2d=!(-0xd60+-0x1d0b+0x2a6b);break;}}(_0xeadeec['length']===-0x9*-0x3f5+-0xf4*0x21+-0x428||!_0x1cdd2d&&this['_time']===0x1d4*-0xa+-0x22c*-0xd+-0x9f4&&this['looping'])&&(_0x2cddf0['_pos']['copy'](_0xeadeec[0xc0c+0x1c43+-0x284f]['position']),_0x2cddf0['_quat']['copy'](_0xeadeec[0x7*-0x2f6+0x99b*0x1+0xb1f]['rotation']),_0x2cddf0['_scale']['copy'](_0xeadeec[-0x57*0x37+0x1355*-0x2+0x1*0x395b]['scale']),_0x2cddf0['_written']=!(-0x1*0x1d1b+0x2007+-0x2ec));}}}['blend'](_0xcdb27c,_0x5825aa,_0x57852f){const _0x22843d=this['_interpola'+'tedKeys']['length'];for(let _0x2d2e28=0x85b+0x2606*-0x1+0x1*0x1dab;_0x2d2e28<_0x22843d;_0x2d2e28++){const _0x29f996=_0xcdb27c['_interpola'+'tedKeys'][_0x2d2e28],_0x22b051=_0x5825aa['_interpola'+'tedKeys'][_0x2d2e28],_0x4f8cb6=this['_interpola'+'tedKeys'][_0x2d2e28];_0x29f996['_written']&&_0x22b051['_written']?(_0x4f8cb6['_quat']['slerp'](_0x29f996['_quat'],_0x5825aa['_interpola'+'tedKeys'][_0x2d2e28]['_quat'],_0x57852f),_0x4f8cb6['_pos']['lerp'](_0x29f996['_pos'],_0x5825aa['_interpola'+'tedKeys'][_0x2d2e28]['_pos'],_0x57852f),_0x4f8cb6['_scale']['lerp'](_0x29f996['_scale'],_0x22b051['_scale'],_0x57852f),_0x4f8cb6['_written']=!(0x269*-0xd+0xb07+-0xe2*-0x17)):_0x29f996['_written']?(_0x4f8cb6['_quat']['copy'](_0x29f996['_quat']),_0x4f8cb6['_pos']['copy'](_0x29f996['_pos']),_0x4f8cb6['_scale']['copy'](_0x29f996['_scale']),_0x4f8cb6['_written']=!(-0x1fb3+-0x56*-0x1e+-0x5*-0x453)):_0x22b051['_written']&&(_0x4f8cb6['_quat']['copy'](_0x22b051['_quat']),_0x4f8cb6['_pos']['copy'](_0x22b051['_pos']),_0x4f8cb6['_scale']['copy'](_0x22b051['_scale']),_0x4f8cb6['_written']=!(0x55a+-0x4*0x9c2+0x3be*0x9));}}['setGraph'](_0x580537){if(this['graph']=_0x580537,_0x580537)for(let _0x477e33=-0x237f+-0x1e9d+-0x2*-0x210e;_0x477e33<this['_interpola'+'tedKeys']['length'];_0x477e33++){const _0x2b7c93=this['_interpola'+'tedKeys'][_0x477e33],_0x44142d=_0x580537['findByName'](_0x2b7c93['_name']);this['_interpola'+'tedKeys'][_0x477e33]['setTarget'](_0x44142d);}else{for(let _0x1e1e99=0x143f+0x1d*0x133+-0x3706;_0x1e1e99<this['_interpola'+'tedKeys']['length'];_0x1e1e99++)this['_interpola'+'tedKeys'][_0x1e1e99]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x1c8e6f=-0x1d1b+0x94*0x2f+-0xa5*-0x3;_0x1c8e6f<this['_interpola'+'tedKeys']['length'];_0x1c8e6f++){const _0x3d3f3d=this['_interpola'+'tedKeys'][_0x1c8e6f];if(_0x3d3f3d['_written']){const _0x520857=_0x3d3f3d['getTarget']();_0x520857['localPosit'+'ion']['copy'](_0x3d3f3d['_pos']),_0x520857['localRotat'+'ion']['copy'](_0x3d3f3d['_quat']),_0x520857['localScale']['copy'](_0x3d3f3d['_scale']),_0x520857['_dirtyLoca'+'l']||_0x520857['_dirtifyLo'+'cal'](),_0x3d3f3d['_written']=!(-0x1*-0x2325+-0x7*0x55a+0x252);}}}}const zs=(0x1*-0x25bd+-0x21fb*-0x1+0x6*0xa1)/(0x6*0xfe+-0x419*0x1+-0x3*0x89),si=-0x62*-0x32+0x13e8*-0x1+0x1*0xc5-zs*(0x19fb+0x1d65+-0x26*0x175);class gm extends Ta{constructor(_0x1f2000,_0x38470a,_0x47b47e,_0xf43eba,_0x1f238d,_0x5cefea){super();const _0x172d7e=new D(),_0x51070b=new D(),_0x236d16=new D(),_0x2ee634=new D(),_0x4de23c=new D(),_0x1b60b9=new D(),_0x55e14a=[],_0x30fa2f=[],_0x3d7dab=[],_0xe68516=[],_0x39397b=[];let _0x5ab877;if(_0x47b47e>-0x5b*0x23+-0x2*0x16b+0xf47*0x1){for(let _0x44bb8c=-0x7f0+-0x36c*0x8+0x2350;_0x44bb8c<=_0xf43eba;_0x44bb8c++)for(let _0x1f44b8=0xa2c+0x11e6+-0xe09*0x2;_0x1f44b8<=_0x1f238d;_0x1f44b8++){const _0x5c565b=_0x1f44b8/_0x1f238d*(0x1*-0x997+-0x3*0x115+0x6*0x224)*Math['PI']-Math['PI'],_0x151463=Math['sin'](_0x5c565b),_0x447078=Math['cos'](_0x5c565b);_0x4de23c['set'](_0x151463*_0x1f2000,-_0x47b47e/(0x665+-0x1ee5+0x1882),_0x447078*_0x1f2000),_0x2ee634['set'](_0x151463*_0x38470a,_0x47b47e/(0x6da*0x2+0x78f*-0x2+-0x2*-0xb6),_0x447078*_0x38470a),_0x172d7e['lerp'](_0x4de23c,_0x2ee634,_0x44bb8c/_0xf43eba),_0x51070b['sub2'](_0x2ee634,_0x4de23c)['normalize'](),_0x1b60b9['set'](_0x447078,-0x109+0x5*0x1e3+-0x5*0x1ae,-_0x151463),_0x236d16['cross'](_0x1b60b9,_0x51070b)['normalize'](),_0x55e14a['push'](_0x172d7e['x'],_0x172d7e['y'],_0x172d7e['z']),_0x30fa2f['push'](_0x236d16['x'],_0x236d16['y'],_0x236d16['z']);let _0xe4df87=_0x1f44b8/_0x1f238d,_0x265ebb=_0x44bb8c/_0xf43eba;_0x3d7dab['push'](_0xe4df87,-0x1dc3+0x23d+-0x1*-0x1b87-_0x265ebb);const _0x3716b8=_0x265ebb;if(_0x265ebb=_0xe4df87,_0xe4df87=_0x3716b8,_0xe4df87=_0xe4df87*si+zs,_0x265ebb=_0x265ebb*si+zs,_0xe4df87/=-0x107*-0xe+0x14aa+0x2309*-0x1,_0xe68516['push'](_0xe4df87,-0x1eff+-0x55*0x62+0x3f8a-_0x265ebb),_0x44bb8c<_0xf43eba&&_0x1f44b8<_0x1f238d){const _0x4e9061=_0x44bb8c*(_0x1f238d+(-0x19*0x1+-0x2414+0x16*0x1a5))+_0x1f44b8,_0x47c0fa=_0x44bb8c*(_0x1f238d+(-0x246c+0x1dda+-0x693*-0x1))+(_0x1f44b8+(0x10d9+0x1933+-0x2a0b*0x1)),_0x231896=(_0x44bb8c+(-0x21aa+0x1e2b+0x1c*0x20))*(_0x1f238d+(0x2*0x40f+-0x9e+-0x77f))+_0x1f44b8,_0x3c2c42=(_0x44bb8c+(0x1237*-0x2+0xd0c+0x1763))*(_0x1f238d+(0x22ed+0x5d8+-0x28c4))+(_0x1f44b8+(0x1*-0x253+0x31*-0x7f+0x3*0x8e1));_0x39397b['push'](_0x4e9061,_0x47c0fa,_0x231896),_0x39397b['push'](_0x47c0fa,_0x3c2c42,_0x231896);}}}if(_0x5cefea){const _0x4b96da=Math['floor'](_0x1f238d/(-0x35*0x4c+0x2499+-0x14db)),_0x193e0a=_0x1f238d,_0x3af13d=_0x47b47e/(-0x43*-0xd+-0xfb2+0x43*0x2f);for(let _0x1b4fe6=-0x1dc*-0xa+-0x230c+0x83a*0x2;_0x1b4fe6<=_0x4b96da;_0x1b4fe6++){const _0x3960c7=_0x1b4fe6*Math['PI']*(0xecf+0x302+-0x1*0x11d1+0.5)/_0x4b96da,_0x56e028=Math['sin'](_0x3960c7),_0x36c7a7=Math['cos'](_0x3960c7);for(let _0x1ac175=-0x1f1b+0x3*-0x76f+0x6ad*0x8;_0x1ac175<=_0x193e0a;_0x1ac175++){const _0x4900f0=_0x1ac175*(-0x233a+-0xfb*-0x6+-0x242*-0xd)*Math['PI']/_0x193e0a-Math['PI']/(-0x28d*0x6+-0x174b*0x1+0x269b),_0x5d6f76=Math['sin'](_0x4900f0),_0x289ebb=Math['cos'](_0x4900f0)*_0x56e028,_0x5c37b0=_0x36c7a7,_0x5a93f6=_0x5d6f76*_0x56e028;let _0x24f7a9=-0x231f*-0x1+0x2*0x8c5+-0x34a8-_0x1ac175/_0x193e0a,_0x9eab5a=0x1637+-0x1cb3+0x67d-_0x1b4fe6/_0x4b96da;_0x55e14a['push'](_0x289ebb*_0x38470a,_0x5c37b0*_0x38470a+_0x3af13d,_0x5a93f6*_0x38470a),_0x30fa2f['push'](_0x289ebb,_0x5c37b0,_0x5a93f6),_0x3d7dab['push'](_0x24f7a9,-0x3*-0x407+-0xbd8+-0x4*0xf-_0x9eab5a),_0x24f7a9=_0x24f7a9*si+zs,_0x9eab5a=_0x9eab5a*si+zs,_0x24f7a9/=-0x5*-0x269+-0x11d+-0xaed,_0x9eab5a/=-0x2274+0x14d4+-0xda3*-0x1,_0x24f7a9+=(-0x4*0xe9+0x1394+0x1*-0xfef)/(-0x48*0x6f+0x18d*-0x11+0x2*0x1ccc),_0xe68516['push'](_0x24f7a9,0x1e25+-0x212*0x7+-0xfa6-_0x9eab5a);}}_0x5ab877=(_0xf43eba+(0x112c+0x7ab*-0x5+0x2*0xa96))*(_0x1f238d+(-0x21b8+-0x1266+0x1*0x341f));for(let _0x567493=-0x12ad+0x1e4d+-0xba0;_0x567493<_0x4b96da;++_0x567493)for(let _0x1622ed=-0x1e46+-0x2397+0x41dd;_0x1622ed<_0x193e0a;++_0x1622ed){const _0x20ed7d=_0x567493*(_0x193e0a+(-0x176+0x841*0x1+-0x6ca))+_0x1622ed,_0x15b7f1=_0x20ed7d+_0x193e0a+(0x1*0x269f+-0x2280+-0x11*0x3e);_0x39397b['push'](_0x5ab877+_0x20ed7d+(0x796+-0x77*-0x1f+-0x15fe),_0x5ab877+_0x15b7f1,_0x5ab877+_0x20ed7d),_0x39397b['push'](_0x5ab877+_0x20ed7d+(0x2679+-0x179e+0x76d*-0x2),_0x5ab877+_0x15b7f1+(0x45b+-0x10d*-0x8+0x17*-0x8e),_0x5ab877+_0x15b7f1);}for(let _0x39752c=0x17cb+-0x1*0x2389+-0x14e*-0x9;_0x39752c<=_0x4b96da;_0x39752c++){const _0x2ca038=Math['PI']*(-0x19cc+-0xb5*0xd+-0xd*-0x2b1+0.5)+_0x39752c*Math['PI']*(-0x563+0x4*-0x99e+0x2bdb+0.5)/_0x4b96da,_0x19b4e6=Math['sin'](_0x2ca038),_0xe9431e=Math['cos'](_0x2ca038);for(let _0x367f14=-0x15e0+-0x1115*0x1+-0x26f5*-0x1;_0x367f14<=_0x193e0a;_0x367f14++){const _0x54ec1a=_0x367f14*(0x2*-0xfb8+-0xde7+-0x13*-0x263)*Math['PI']/_0x193e0a-Math['PI']/(-0x3f4+0x1*0x17cc+-0x13d6),_0x55dbb9=Math['sin'](_0x54ec1a),_0x304c19=Math['cos'](_0x54ec1a)*_0x19b4e6,_0x2b5f4b=_0xe9431e,_0x5f56a5=_0x55dbb9*_0x19b4e6;let _0x1988ab=0x1d57+-0x1*0x2523+-0x7cd*-0x1-_0x367f14/_0x193e0a,_0x457a62=0x55e*-0x1+-0x5b3*0x2+-0x3*-0x597-_0x39752c/_0x4b96da;_0x55e14a['push'](_0x304c19*_0x38470a,_0x2b5f4b*_0x38470a-_0x3af13d,_0x5f56a5*_0x38470a),_0x30fa2f['push'](_0x304c19,_0x2b5f4b,_0x5f56a5),_0x3d7dab['push'](_0x1988ab,-0x2*-0x243+-0x1803*-0x1+0x14c*-0x16-_0x457a62),_0x1988ab=_0x1988ab*si+zs,_0x457a62=_0x457a62*si+zs,_0x1988ab/=0x20cd+-0x12*0x182+-0x5a6,_0x457a62/=-0x2544+0x1c*-0x52+0x2e3f,_0x1988ab+=(0x1027*-0x2+0x1c21+0x42f)/(0x137*-0x7+0x4*0x88d+-0x19b0),_0xe68516['push'](_0x1988ab,0x25ad*0x1+0x46*0x51+0x49a*-0xd-_0x457a62);}}_0x5ab877=(_0xf43eba+(-0xb94+0x144a+-0x3*0x2e7))*(_0x1f238d+(0x1929+0x1b66+-0x348e))+(_0x193e0a+(-0x1970+-0x6*0x607+-0x15*-0x2ef))*(_0x4b96da+(0xfb*0x9+-0x1*0x62b+-0x1*0x2a7));for(let _0x4329c9=0x26a6+-0x1b9d+0xb09*-0x1;_0x4329c9<_0x4b96da;++_0x4329c9)for(let _0x1b3a25=0x29*-0xc+-0x4c*-0x47+0x265*-0x8;_0x1b3a25<_0x193e0a;++_0x1b3a25){const _0x13f66a=_0x4329c9*(_0x193e0a+(-0xcc0+0xdee+-0x12d))+_0x1b3a25,_0x2c2892=_0x13f66a+_0x193e0a+(0x1d94+0xdc3+-0x2b56);_0x39397b['push'](_0x5ab877+_0x13f66a+(-0x6a*0x33+0x773+0xdac),_0x5ab877+_0x2c2892,_0x5ab877+_0x13f66a),_0x39397b['push'](_0x5ab877+_0x13f66a+(-0x1678+-0x2*-0x9a2+0x335),_0x5ab877+_0x2c2892+(0x1*0x161b+-0x1fbb*-0x1+-0x35d5),_0x5ab877+_0x2c2892);}}else{if(_0x5ab877=(_0xf43eba+(-0x4a*-0x2b+0x1381+0x1*-0x1fee))*(_0x1f238d+(-0x250e+0x5*-0xd+0x2550)),_0x1f2000>0x119a+0x1913*-0x1+0x779*0x1)for(let _0x49b130=-0xfd8+-0x2e3*0x1+0x12bb;_0x49b130<_0x1f238d;_0x49b130++){const _0x3883d8=_0x49b130/_0x1f238d*(0x13c7+0x49*-0x75+-0x78*-0x1d)*Math['PI'],_0x4cf5dc=Math['sin'](_0x3883d8),_0x3feb09=-_0x47b47e/(0x17a1+0xddb*-0x2+0x417),_0x13696e=Math['cos'](_0x3883d8);let _0x70de46=0x122b+-0x2084+0x1*0xe5a-(_0x4cf5dc+(0xbce+0x2b7+0x1*-0xe84))/(0x1*0x1135+-0x18da*-0x1+-0x2a0d),_0x2be6d0=(_0x13696e+(-0x1*0x1e79+-0x1fc0+0x3e3a))/(-0x121*-0x1a+0x1b19+-0x1*0x3871);_0x55e14a['push'](_0x4cf5dc*_0x1f2000,_0x3feb09,_0x13696e*_0x1f2000),_0x30fa2f['push'](0x572+-0x17a1+0x122f,-(0x1*0x11f3+0x846+0x68e*-0x4),-0x4*0x1e8+-0xeaa+0x164a),_0x3d7dab['push'](_0x70de46,-0x123f+0x22e*0x11+0x3a*-0x53-_0x2be6d0),_0x70de46=_0x70de46*si+zs,_0x2be6d0=_0x2be6d0*si+zs,_0x70de46/=-0x1e16+0x18a*0x2+0x1b05,_0x2be6d0/=-0x14e6+0x1c0d+-0x724,_0x70de46+=(0x553*0x1+0x209b+0x1ff*-0x13)/(0x33*0x44+-0xc4b+-0x13e),_0xe68516['push'](_0x70de46,0x3a5+0x23b5+-0x2759-_0x2be6d0),_0x49b130>-0x376+0x2cc*0x4+-0x7b9*0x1&&_0x39397b['push'](_0x5ab877,_0x5ab877+_0x49b130,_0x5ab877+_0x49b130-(0x1*-0x19ca+-0x1d7c*0x1+0x10b*0x35));}if(_0x5ab877+=_0x1f238d,_0x38470a>-0x5*-0x5de+0x8*-0x2f7+-0x1*0x59e)for(let _0x4cd3b1=0x188d+0x232e*0x1+-0x3*0x13e9;_0x4cd3b1<_0x1f238d;_0x4cd3b1++){const _0x50ff60=_0x4cd3b1/_0x1f238d*(-0x1861+-0x89*-0xe+0x10e5)*Math['PI'],_0xf4ca24=Math['sin'](_0x50ff60),_0x231aa2=_0x47b47e/(-0x5*-0x405+-0xd*0x20f+0x6ac*0x1),_0x12041f=Math['cos'](_0x50ff60);let _0x20a927=-0x8a7+0x5bb+-0x1*-0x2ed-(_0xf4ca24+(-0x119*0x19+0x8be+0x3f*0x4c))/(0x1d*0xa7+0x16*-0x15a+0xa3*0x11),_0x1b51c3=(_0x12041f+(-0x13*0xf2+0x93*0x37+0x7*-0x1f2))/(0x1*0x4d0+0xcb8+0x2*-0x8c3);_0x55e14a['push'](_0xf4ca24*_0x38470a,_0x231aa2,_0x12041f*_0x38470a),_0x30fa2f['push'](-0x1983+0x1313*-0x2+-0x2b*-0x17b,-0x17ea*-0x1+-0x4b*0x7+0xaee*-0x2,0x9b2+-0x5b4+0x1ff*-0x2),_0x3d7dab['push'](_0x20a927,-0x258c+0x1da2+-0x7eb*-0x1-_0x1b51c3),_0x20a927=_0x20a927*si+zs,_0x1b51c3=_0x1b51c3*si+zs,_0x20a927/=-0x7*0x3b+-0x55e+0xb3*0xa,_0x1b51c3/=-0x2*0x882+-0x1f10+-0x3b3*-0xd,_0x20a927+=(0x33+-0x2*-0xea3+0x13*-0x18d)/(-0x128c+-0xa12+0x1ca1),_0xe68516['push'](_0x20a927,0x622+-0x1883+0x2*0x931-_0x1b51c3),_0x4cd3b1>0x1*0x1ad5+-0x1b2f+-0x7*-0xd&&_0x39397b['push'](_0x5ab877,_0x5ab877+_0x4cd3b1-(0xf6d*0x1+0x5d9+-0x1545),_0x5ab877+_0x4cd3b1);}}this['positions']=_0x55e14a,this['normals']=_0x30fa2f,this['uvs']=_0x3d7dab,this['uvs1']=_0xe68516,this['indices']=_0x39397b;}}class GA extends gm{constructor(_0x49c9cd={}){const _0x35e3fe=_0x49c9cd['radius']??-0x267e+0x266b+0x13+0.3,_0x2a468e=_0x49c9cd['height']??-0x3e3*0x5+0x112c+0x74*0x5,_0x573517=_0x49c9cd['heightSegm'+'ents']??0x5*0x366+0x1e*-0x57+-0x6cb,_0x7b8423=_0x49c9cd['sides']??-0x277+0x1005+0x2b2*-0x5;super(_0x35e3fe,_0x35e3fe,_0x2a468e-(0x18ee+-0x139*-0x4+-0x6a*0x48)*_0x35e3fe,_0x573517,_0x7b8423,!(-0x58d*-0x5+0x1*-0x7b2+-0x140f)),_0x49c9cd['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x34903f={}){const _0x394900=_0x34903f['baseRadius']??0x1c27+-0xb68+-0x10bf+0.5,_0xec3921=_0x34903f['peakRadius']??0x546+0x274*0x7+0x1ba*-0xd,_0x3ecdce=_0x34903f['height']??0x256b+-0x22b9+-0x35*0xd,_0x4893dd=_0x34903f['heightSegm'+'ents']??0x5*0x355+0x24f9+-0x359d,_0x396364=_0x34903f['capSegment'+'s']??-0x9*-0x209+-0x17*0x3a+-0xd09;super(_0x394900,_0xec3921,_0x3ecdce,_0x4893dd,_0x396364,!(-0xe*-0x1d+0x8*-0x369+0x19b3)),_0x34903f['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x5214da={}){const _0x41c5ba=_0x5214da['radius']??0x207*-0x5+-0x1441*0x1+0x1e64*0x1+0.5,_0x2aa017=_0x5214da['height']??-0x19*0x16f+0x40c+-0xb9*-0x2c,_0x1a85f7=_0x5214da['heightSegm'+'ents']??0x409*-0x9+-0x541*0x1+0x2997,_0x388aef=_0x5214da['capSegment'+'s']??-0x4fb+-0x1759+0x25e*0xc;super(_0x41c5ba,_0x41c5ba,_0x2aa017,_0x1a85f7,_0x388aef,!(0x5d5*-0x4+-0x7*-0x43e+0x3*-0x21f)),_0x5214da['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x2f8b9a={}){super();const _0x4d8e5a=_0x2f8b9a['halfExtent'+'s']??new J(0x904*-0x4+0x72d*0x4+0x75c+0.5,-0x885*0x2+0xa04+0x706+0.5),_0x1a11b9=_0x2f8b9a['widthSegme'+'nts']??0xc26*0x3+-0x13eb*-0x1+-0x3858,_0x561706=_0x2f8b9a['lengthSegm'+'ents']??0x72a+-0x1*0x1f0f+0x17ea,_0x411dfa=[],_0x8d4533=[],_0x423f54=[],_0x55f59d=[];let _0x15666d=-0xbcb+0x184f+-0xc84;for(let _0xe1305a=-0x1dbc+0x4*0x44b+0xc90;_0xe1305a<=_0x1a11b9;_0xe1305a++)for(let _0x378a8e=-0x1857+0x4*0x33d+0xb63;_0x378a8e<=_0x561706;_0x378a8e++){const _0x59f1bb=-_0x4d8e5a['x']+(-0xc9a*0x2+-0xf7a+0x28b0)*_0x4d8e5a['x']*_0xe1305a/_0x1a11b9,_0x4e7857=-0x6*-0x2dd+0x2644+0x12e*-0x2f,_0x57e65a=-(-_0x4d8e5a['y']+(0x57d*0x5+-0x1bca+0x5b)*_0x4d8e5a['y']*_0x378a8e/_0x561706),_0x1f0718=_0xe1305a/_0x1a11b9,_0x1b5e8e=_0x378a8e/_0x561706;_0x411dfa['push'](_0x59f1bb,_0x4e7857,_0x57e65a),_0x8d4533['push'](0x1e0a+0x2c2*0x1+0x1066*-0x2,0x910+-0x9a*0x1+-0x875,-0x190a+0x214b+-0x841*0x1),_0x423f54['push'](_0x1f0718,-0x1695+0x24e0+0x1f*-0x76-_0x1b5e8e),_0xe1305a<_0x1a11b9&&_0x378a8e<_0x561706&&(_0x55f59d['push'](_0x15666d+_0x561706+(-0x1e45+-0xda9+0x2bef),_0x15666d+(0x4cd*0x5+-0x1718+-0xe8),_0x15666d),_0x55f59d['push'](_0x15666d+_0x561706+(-0x1*0xc53+0x1fd2+-0x9bf*0x2),_0x15666d+_0x561706+(-0x5b+-0x2623+0x2680),_0x15666d+(-0x2*0x2cc+0x2f*-0x8b+0x1f1e))),_0x15666d++;}this['positions']=_0x411dfa,this['normals']=_0x8d4533,this['uvs']=_0x423f54,this['uvs1']=_0x423f54,this['indices']=_0x55f59d,_0x2f8b9a['calculateT'+'angents']&&(this['tangents']=Mr(_0x411dfa,_0x8d4533,_0x423f54,_0x55f59d));}}class XA extends Ta{constructor(_0x2e9fbb={}){super();const _0x541706=_0x2e9fbb['tubeRadius']??0x242+-0x5*-0x1bf+-0xafd+0.2,_0x2c4f02=_0x2e9fbb['ringRadius']??-0x1*0x1409+0x3*-0x97d+-0x2*-0x1840+0.3,_0x5514ae=(_0x2e9fbb['sectorAngl'+'e']??0x1*-0x827+0x184c+0x1*-0xebd)*Y['DEG_TO_RAD'],_0x87bef6=_0x2e9fbb['segments']??-0x1*-0x1a14+-0x168b+0x36b*-0x1,_0x49dd5e=_0x2e9fbb['sides']??0x9a*-0x3b+0x11*-0x153+0x3a15,_0x92b658=[],_0x551d4d=[],_0x1d7c14=[],_0x544c3a=[];for(let _0x174219=-0x1*-0x263b+-0x1fbe+-0x67d;_0x174219<=_0x49dd5e;_0x174219++)for(let _0x18a0fe=0x12ce+-0x1b06+-0x8*-0x107;_0x18a0fe<=_0x87bef6;_0x18a0fe++){const _0x9e8d44=Math['cos'](_0x5514ae*_0x18a0fe/_0x87bef6)*(_0x2c4f02+_0x541706*Math['cos']((-0x1b8f+-0x2556+0x40e7)*Math['PI']*_0x174219/_0x49dd5e)),_0x957ea8=Math['sin']((-0x2484+-0x102f+-0x1*-0x34b5)*Math['PI']*_0x174219/_0x49dd5e)*_0x541706,_0x343815=Math['sin'](_0x5514ae*_0x18a0fe/_0x87bef6)*(_0x2c4f02+_0x541706*Math['cos']((-0x1339*0x1+0xf43+0x3f8)*Math['PI']*_0x174219/_0x49dd5e)),_0xea4e16=Math['cos'](_0x5514ae*_0x18a0fe/_0x87bef6)*Math['cos']((0x2680+-0x1c*-0xcb+-0x3cb2)*Math['PI']*_0x174219/_0x49dd5e),_0x57a62b=Math['sin']((-0xd*0xb4+-0x9c*0x3e+0x2eee)*Math['PI']*_0x174219/_0x49dd5e),_0x340edb=Math['sin'](_0x5514ae*_0x18a0fe/_0x87bef6)*Math['cos']((-0x2381*-0x1+-0x49*-0x59+-0x8*0x79c)*Math['PI']*_0x174219/_0x49dd5e),_0x5a8ade=_0x174219/_0x49dd5e,_0x51cac3=0x9c*0x25+-0x1de0+0x755-_0x18a0fe/_0x87bef6;if(_0x92b658['push'](_0x9e8d44,_0x957ea8,_0x343815),_0x551d4d['push'](_0xea4e16,_0x57a62b,_0x340edb),_0x1d7c14['push'](_0x5a8ade,-0x387*-0x6+-0xd81+0x7a8*-0x1-_0x51cac3),_0x174219<_0x49dd5e&&_0x18a0fe<_0x87bef6){const _0x488da8=_0x174219*(_0x87bef6+(0x615+0x88d+-0xea1))+_0x18a0fe,_0x396b7=(_0x174219+(-0x9e6+0x158d+0x7*-0x1aa))*(_0x87bef6+(0x2617+0xe08+-0x341e))+_0x18a0fe,_0xb6c47f=_0x174219*(_0x87bef6+(0x241+0x573*-0x7+-0x1*-0x23e5))+(_0x18a0fe+(-0x19fd+-0x1d2+-0x5*-0x590)),_0x435a41=(_0x174219+(0x7ea+-0x1*0x23d5+-0x6fb*-0x4))*(_0x87bef6+(0x1ccb+0x1e*-0x10f+0xbe*0x4))+(_0x18a0fe+(0x15cf+0x132b*-0x1+0xe1*-0x3));_0x544c3a['push'](_0x488da8,_0x396b7,_0xb6c47f),_0x544c3a['push'](_0x396b7,_0x435a41,_0xb6c47f);}}this['positions']=_0x92b658,this['normals']=_0x551d4d,this['uvs']=_0x1d7c14,this['uvs1']=_0x1d7c14,this['indices']=_0x544c3a,_0x2e9fbb['calculateT'+'angents']&&(this['tangents']=Mr(_0x92b658,_0x551d4d,_0x1d7c14,_0x544c3a));}}class qA{constructor(_0x3e6ccb,_0x2caea0){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x3e6ccb,this['_isClearin'+'gCache']=!(0x1*0x2515+0x2123+-0x4637),this['_precached']=!(0xa78+-0x269c+0x5*0x5a1),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x597f08=new vv();_0x2caea0['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x597f08,_0x2caea0,null,[],Aa,null),_0x2caea0['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x2caea0,null,cm,null),_0x3e6ccb['on']('destroy:sh'+'ader',_0x104469=>{this['removeFrom'+'Cache'](_0x104469);});}['destroy'](){this['clearCache']();}['register'](_0x4b52c3,_0x285728){this['_generator'+'s']['has'](_0x4b52c3)||this['_generator'+'s']['set'](_0x4b52c3,_0x285728);}['unregister'](_0x1409b0){this['_generator'+'s']['has'](_0x1409b0)&&this['_generator'+'s']['delete'](_0x1409b0);}['isRegister'+'ed'](_0xdbeaa9){return this['_generator'+'s']['has'](_0xdbeaa9);}['generateSh'+'aderDefini'+'tion'](_0x4e1cb9,_0x3982c8,_0x4df8b3,_0x378c6f){var _0x251ea6,_0x5ed503;let _0x41f1ac=this['definition'+'sCache']['get'](_0x4df8b3);if(!_0x41f1ac){let _0x3bbf6a;(_0x251ea6=_0x378c6f['litOptions'])!=null&&_0x251ea6['lights']&&(_0x3bbf6a=_0x378c6f['litOptions']['lights'],_0x378c6f['litOptions']['lights']=_0x3bbf6a['map'](_0x165c91=>{const _0xa35da4=_0x165c91['clone']?_0x165c91['clone']():_0x165c91;return _0xa35da4['key']=_0x165c91['key'],_0xa35da4;})),this['storeNewPr'+'ogram'](_0x3982c8,_0x378c6f),(_0x5ed503=_0x378c6f['litOptions'])!=null&&_0x5ed503['lights']&&(_0x378c6f['litOptions']['lights']=_0x3bbf6a),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x3982c8+'\x20key\x20'+_0x4df8b3+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x462ec6=this['_device'];_0x41f1ac=_0x4e1cb9['createShad'+'erDefiniti'+'on'](_0x462ec6,_0x378c6f),_0x41f1ac['name']=_0x41f1ac['name']??(_0x378c6f['pass']?_0x3982c8+'-pass:'+_0x378c6f['pass']:_0x3982c8),this['definition'+'sCache']['set'](_0x4df8b3,_0x41f1ac);}return _0x41f1ac;}['getCachedS'+'hader'](_0x29fddf){return this['processedC'+'ache']['get'](_0x29fddf);}['setCachedS'+'hader'](_0x256b28,_0x3a32c9){this['processedC'+'ache']['set'](_0x256b28,_0x3a32c9);}['getProgram'](_0x382879,_0x5babdf,_0x32af0b,_0x527414){const _0x2e4bad=this['_generator'+'s']['get'](_0x382879);if(!_0x2e4bad)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x382879),null;const _0x8480d0=_0x2e4bad['generateKe'+'y'](_0x5babdf),_0x1d20e5=hi(_0x8480d0),_0x57da93=_0x32af0b['generateKe'+'y'](this['_device']),_0x801c28=hi(_0x57da93),_0x148d08=_0x1d20e5+'#'+_0x801c28;let _0x4af864=this['getCachedS'+'hader'](_0x148d08);if(!_0x4af864){const _0x27de3b=this['generateSh'+'aderDefini'+'tion'](_0x2e4bad,_0x382879,_0x1d20e5,_0x5babdf);w['assert'](_0x27de3b);let _0x3cf2f5='',_0x3e99ad;_0x5babdf['pass']!==void(-0x14c6+-0x33*0x47+0x22eb)&&(_0x3e99ad=Si['get'](this['_device'])['getByIndex'](_0x5babdf['pass']),_0x3cf2f5='-'+_0x3e99ad['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x527414,'shaderPassInfo':_0x3e99ad,'definition':_0x27de3b});const _0x46f765={'name':''+_0x27de3b['name']+_0x3cf2f5+'-proc','attributes':_0x27de3b['attributes'],'vshader':_0x27de3b['vshader'],'vincludes':_0x27de3b['vincludes'],'fincludes':_0x27de3b['fincludes'],'fshader':_0x27de3b['fshader'],'processingOptions':_0x32af0b,'shaderLanguage':_0x27de3b['shaderLang'+'uage'],'meshUniformBufferFormat':_0x27de3b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x27de3b['meshBindGr'+'oupFormat']};_0x4af864=new qy(this['_device'],_0x46f765),w['call'](()=>{_0x4af864['_generatio'+'nKey']=_0x8480d0,_0x4af864['_processin'+'gKey']=_0x57da93;}),this['setCachedS'+'hader'](_0x148d08,_0x4af864);}return _0x4af864;}['storeNewPr'+'ogram'](_0x214cc1,_0xf61727){let _0x596bfb={};if(_0x214cc1==='standard'){const _0x2e068d=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xf61727['pass']);for(const _0x32a6c4 in _0xf61727)(_0xf61727['hasOwnProp'+'erty'](_0x32a6c4)&&_0x2e068d[_0x32a6c4]!==_0xf61727[_0x32a6c4]||_0x32a6c4==='pass')&&(_0x596bfb[_0x32a6c4]=_0xf61727[_0x32a6c4]);for(const _0x3cf7a0 in _0xf61727['litOptions'])_0x596bfb[_0x3cf7a0]=_0xf61727['litOptions'][_0x3cf7a0];}else _0x596bfb=_0xf61727;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x214cc1,'options':_0x596bfb}));}['dumpProgra'+'ms'](){let _0x3c50ee='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x3c50ee+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x2404+0x132c+-0x3730]&&(_0x3c50ee+='\x0a\x09'+this['_programsC'+'ollection'][-0x254b*0x1+-0x55*-0x3a+-0x51*-0x39]);for(let _0x2e06a8=0x233*-0x8+-0x920+0x1ab9;_0x2e06a8<this['_programsC'+'ollection']['length'];++_0x2e06a8)_0x3c50ee+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2e06a8];_0x3c50ee+='\x0a];\x0a',_0x3c50ee+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x3c50ee+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x3c50ee+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x3d21ad=document['createElem'+'ent']('a');_0x3d21ad['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x3c50ee)),_0x3d21ad['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x3d21ad['style']['display']='none',document['body']['appendChil'+'d'](_0x3d21ad),_0x3d21ad['click'](),document['body']['removeChil'+'d'](_0x3d21ad);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x10f*-0x20+-0xa*-0x359+-0x435a),this['processedC'+'ache']['forEach'](_0x3aa640=>{_0x3aa640['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x2*-0xc67+0x1d54+-0x5d*0x95);}['removeFrom'+'Cache'](_0x19f3e8){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x30012a,_0x162c49)=>{_0x19f3e8===_0x30012a&&this['processedC'+'ache']['delete'](_0x162c49);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x3bd506){const _0x252c79=Si['get'](this['_device'])['getByIndex'](_0x3bd506);return _0x3bd506===Zn||_0x3bd506===Rl||_0x252c79['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x2c7001){if(_0x2c7001){const _0x24fff3=new Array(_0x2c7001['length']);for(let _0x22a312=-0x19*0xa+0x5*0x772+0x10*-0x244;_0x22a312<_0x2c7001['length'];_0x22a312++){if(_0x2c7001[_0x22a312]['name']==='standard'){const _0x5f2fc1=_0x2c7001[_0x22a312]['options'],_0xe1d8a2=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5f2fc1['pass']);for(const _0x36d27b in _0xe1d8a2)_0xe1d8a2['hasOwnProp'+'erty'](_0x36d27b)&&_0x5f2fc1[_0x36d27b]===void(0x1bb9+-0x2527+0x96e)&&(_0x5f2fc1[_0x36d27b]=_0xe1d8a2[_0x36d27b]);}_0x24fff3[_0x22a312]=this['getProgram'](_0x2c7001[_0x22a312]['name'],_0x2c7001[_0x22a312]['options']);}}this['_precached']=!(-0x59*-0x53+0x232d+-0x4008);}}async function jA(){const _0x2e6580=new Float32Array(0x2113*-0x1+0x1558+0xbbc),_0x43bd91=new Int32Array(_0x2e6580['buffer']);let _0x5cbe77=-0x57f+-0x397*0x1+0x916,_0x4d92a3={};self['onmessage']=async _0x512a8d=>{const {data:_0x308b0f}=_0x512a8d;switch(_0x308b0f['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x57da71(_0x308b0f['properties'],_0x308b0f['timeIndex'],_0x308b0f['timeOption']);break;case'releaseSeq'+'Data':_0x4da7b0(_0x308b0f['index']);break;case'releaseAll'+'SeqData':_0x3af0ba();break;case'destroyWor'+'ker':_0x5a3f60();break;}};class _0x51ccbf{constructor(_0x23a96d=0x115e+-0x15*0x10+-0x100e,_0x32e234=0xd15+-0x17d3+0x19*0x6e,_0x4984da=0x124b+0x1a*0xaa+-0x1*0x238f,_0x151555=-0xf*-0x233+0x6d*0x1d+-0x2d55){this['x']=_0x23a96d,this['y']=_0x32e234,this['z']=_0x4984da,this['w']=_0x151555;}['set'](_0xd5b01b,_0x5264cf,_0x1f705a,_0x342069){return this['x']=_0xd5b01b,this['y']=_0x5264cf,this['z']=_0x1f705a,this['w']=_0x342069,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x53c83d=this){let _0x4507b6=_0x53c83d['length']();return _0x4507b6===0xa*-0x100+-0x1e51+-0x2851*-0x1?(this['x']=this['y']=this['z']=0xb*0x160+0x191c+-0x283c,this['w']=-0x9*0xe6+0x587+-0x1*-0x290):(_0x4507b6=(0x71b*0x2+0x14a5+-0x22da)/_0x4507b6,this['x']=_0x53c83d['x']*_0x4507b6,this['y']=_0x53c83d['y']*_0x4507b6,this['z']=_0x53c83d['z']*_0x4507b6,this['w']=_0x53c83d['w']*_0x4507b6),this;}['mulScalar'](_0x5d5e5,_0x44ee61=this){return this['x']=_0x44ee61['x']*_0x5d5e5,this['y']=_0x44ee61['y']*_0x5d5e5,this['z']=_0x44ee61['z']*_0x5d5e5,this['w']=_0x44ee61['w']*_0x5d5e5,this;}}const _0x33496f=_0x5dc466=>{_0x2e6580[0x95*-0x27+0x184e+0x89*-0x3]=_0x5dc466;const _0x7a5beb=_0x43bd91[-0x334*0x5+0x1105+-0x101];let _0x500392=_0x7a5beb>>0xa94+0x3*0x20b+-0x10a5&0x8692+-0x3f9f+0x390d,_0x2572d7=_0x7a5beb>>-0x1*0x973+0x541+0x43e&0x1778+-0x1ba8+0xc2f;const _0x16fbc8=_0x7a5beb>>-0x56f+-0x1724+0x1caa&0x1*-0x1777+0x1*-0xbd5+0x244b*0x1;return _0x16fbc8<-0x2*0x3b9+0x1af3+-0x131a?_0x500392:_0x16fbc8>0x15e4+0x4*-0xfb+0x6*-0x2e7?(_0x500392|=-0x5b38+0x4a*0x135+0x7de6,_0x500392|=(_0x16fbc8===0x8bd+-0xd*-0x1d2+-0x1f68?-0x192e+0x2540+-0xc12:0x312*0x1+-0x1560+0x6d*0x2b)&&_0x7a5beb&-0xf6e215+-0x4940ac+0x1c022c0,_0x500392):_0x16fbc8<-0x198e+0xb4a+0xeb5?(_0x2572d7|=0xe*-0x29+-0x19b*0x3+0x505*0x3,_0x500392|=(_0x2572d7>>-0x1ea4+-0x153*0x5+0x25b5-_0x16fbc8)+(_0x2572d7>>-0x9*-0x37f+-0xf4*0x1+0x3*-0xa06-_0x16fbc8&0xaec*0x3+-0x3aa*0x4+-0x121b),_0x500392):(_0x500392|=_0x16fbc8-(0x747+0x4e1*0x3+-0x157a)<<0x2*0x7a9+0x342+-0x2a6*0x7|_0x2572d7>>-0xee0+-0x2f*-0x1a+0xa1b,_0x500392+=_0x2572d7&0x1ec5+-0xd83+-0x1*0x1141,_0x500392);},_0x345a8d=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x57b2ab=0xcdb+-0x1*-0x163d+-0x2318;_0x57b2ab<0x203*-0x3+-0x1bd6+0x220c;++_0x57b2ab)if(!_0x4d92a3['f_rest_'+_0x57b2ab])return _0x57b2ab;return 0xf*-0x183+-0x2*-0x1b1+-0x2*-0x9bc;})())]??-0x15*-0x11b+0x20e*-0x2+-0x131b),_0x57da71=(_0x327a7a,_0x1561e5,_0x327664)=>{const _0x133481=!!_0x327a7a['time_index'];_0x133481||(_0x327a7a['time_index']=new Float32Array(-0x2*0x7c6+0x1292+0x183*-0x2)),_0x5cbe77+=_0x327a7a['x']['length']??-0x3f*0x1b+0x2*-0x3cb+0xe3b*0x1;const _0x359c2a=Object['keys'](_0x327a7a);for(let _0x5e41db=-0x1852+0x13*-0x11f+0x2d9f;_0x5e41db<_0x359c2a['length'];_0x5e41db++){const _0x32c312=_0x359c2a[_0x5e41db],_0x65a3a3=_0x327a7a[_0x32c312],_0x376238=_0x4d92a3[_0x32c312]??new Float32Array(-0x722+-0x423*0x1+0xb45*0x1);if(!_0x133481&&_0x32c312==='time_index'){const _0x3c1445=new Float32Array(_0x5cbe77);_0x3c1445['fill'](_0x1561e5),_0x3c1445['set'](_0x376238,0x199c+-0x29e*-0xb+-0x3666),_0x4d92a3[_0x32c312]=_0x3c1445;}else{if(!_0x133481&&_0x65a3a3&&_0x32c312==='t'){const _0xe74dca=new Float32Array(_0x5cbe77);if(_0xe74dca['set'](_0x376238,-0x2038*-0x1+-0x2*-0xbe7+-0x2*0x1c03),_0x327664){for(let _0x2ab289=_0x376238['length'];_0x2ab289<_0x5cbe77;_0x2ab289++)_0x65a3a3[_0x2ab289-_0x376238['length']]>-(0x2ea*-0x6+0x21db+-0xb6*0x17)?_0xe74dca[_0x2ab289]=_0x65a3a3[_0x2ab289-_0x376238['length']]+_0x327664[(0x1*-0x20f8+0x1*-0xfd6+0x30d0)*_0x1561e5]:_0xe74dca[_0x2ab289]=_0x65a3a3[_0x2ab289-_0x376238['length']];}_0x4d92a3[_0x32c312]=_0xe74dca;}else{if(_0x65a3a3){const _0x3e8a7e=new Float32Array(_0x5cbe77);_0x3e8a7e['set'](_0x376238,-0x136c*0x2+-0x2597+-0x4c6f*-0x1),_0x3e8a7e['set'](_0x65a3a3,_0x376238['length']),_0x4d92a3[_0x32c312]=_0x3e8a7e;}}}}const _0x36cbce={};Object['keys'](_0x4d92a3)['forEach'](_0x4d0f9f=>{_0x36cbce[_0x4d0f9f]=new Float32Array(_0x4d92a3[_0x4d0f9f]['buffer']['slice']());});const _0x477614=Object['keys'](_0x36cbce)['map'](_0x3e3c3d=>_0x36cbce[_0x3e3c3d]['buffer']),_0x25754d=_0x2b8f19(),_0x57bda9=Object['keys'](_0x25754d)['map'](_0x722998=>_0x25754d[_0x722998]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x36cbce,'transformData':_0x25754d},_0x477614['concat'](_0x57bda9));},_0x2b8f19=()=>{const _0x317c48=_0x4d92a3['x']['length'],_0x26c7c6=_0x4d92a3['x'],_0x401ccf=_0x4d92a3['y'],_0xc06a77=_0x4d92a3['z'],_0x248d7b=_0x4d92a3['scale_0'],_0x498e9d=_0x4d92a3['scale_1'],_0x3fa931=_0x4d92a3['scale_2'],_0x2f102d=_0x4d92a3['rot_1'],_0x46d0af=_0x4d92a3['rot_2'],_0x5b51e2=_0x4d92a3['rot_3'],_0x328792=_0x4d92a3['rot_0'],_0x255a0e=_0x4d92a3['motion_0'],_0x2cd03e=_0x4d92a3['motion_1'],_0x1ce7c0=_0x4d92a3['motion_2'],_0x554816=_0x4d92a3['t'],_0x2c6c11=_0x4d92a3['t_scale'],_0x110fa6=_0x4d92a3['time_index'],_0x4b5a1c=_0x4d92a3['f_dc_0'],_0x4b30c8=_0x4d92a3['f_dc_1'],_0x5e1552=_0x4d92a3['f_dc_2'],_0x38223a=_0x4d92a3['opacity'],_0x14e70c=(_0x554816==null?void(0x1*-0x1956+-0x2*0x6bf+0x5*0x7c4):_0x554816['length'])>-0x11c7+0x1356+-0x7*0x39,_0x22049f=new Float32Array(_0x317c48*(0x1*0x1bd7+0x1*-0xe4e+0x6c3*-0x2)),_0x345fc9=new Float32Array(_0x317c48*(0x13c5+0xd*0xe3+0x1*-0x1f49)),_0x152743=new Uint16Array(_0x317c48*(0x26c0+-0x4da+-0x21e3)),_0x1ef177=new Float32Array(_0x317c48*(-0x120b+-0x4*0x3fa+0x21f6));let _0x533605=null,_0x313bba=null,_0x3261b4=null,_0x65fa16=null;_0x14e70c&&(_0x533605=new Float32Array(_0x317c48*(-0x2499+-0x10d*0x2+0xa*0x3df)),_0x313bba=new Float32Array(_0x317c48*(-0x1028+-0xb7b+-0x2*-0xdd3)),_0x3261b4=new Float32Array(_0x317c48*(0x67*-0x3a+0x1d*0xca+0x11*0x7)),_0x65fa16=new Float32Array(_0x317c48));const _0x186080=new _0x51ccbf(0x130d+-0x2155+-0xe48*-0x1,0x59*0x3e+0x1*-0x789+0x25*-0x61,-0x21ae+0x321*-0xa+0x40f8,0x246*0x3+0x1d9d+-0x246f);let _0x3efc9d=-0x19c7+-0x6b+0x1a32,_0x3f71e7=0xc27+-0x9*-0xe9+0x1c*-0xba,_0x2df995=0x724+-0x11d*-0xb+-0x7*0x2c5,_0x2f02ff=-0x1941*0x1+-0x1f87+-0xe32*-0x4,_0x1b9777=0x23e3+-0x3fa+-0x1fe9,_0x3b22c9=-0x23*0x8c+-0xb7*-0x2f+0x1*-0xe75,_0x4591ff=!(0x1d78+-0x24f2+0x77a);const _0x360fb6=new Float32Array(0x1987+0x1999+-0x331d),_0x3419ae=new Float32Array(-0x2445+-0x2060+0x44a8),_0x5ce305=new Uint16Array(_0x317c48*(-0x2351*0x1+-0x125d+0x35b2)),_0x426df5=0x207*0x4+0x55d*0x6+-0x12*0x23d+0.28209479177387814;for(let _0x4b9109=0x39*-0x78+0x445*0x5+-0x55f*-0x1;_0x4b9109<_0x317c48;++_0x4b9109){const _0x2db289=_0x4b5a1c[_0x4b9109]*_0x426df5+(0xd46+-0xef6+-0x12*-0x18+0.5),_0x197a97=_0x4b30c8[_0x4b9109]*_0x426df5+(-0x2*0x53+-0x200e+0x20b4+0.5),_0x48332f=_0x5e1552[_0x4b9109]*_0x426df5+(0x1fb*-0x9+-0x221*-0xf+-0xe1c+0.5),_0x256c71=_0x38223a[_0x4b9109];_0x5ce305[_0x4b9109*(0x1755+0x25ae+-0x3cff)+(-0xed5+0x1*0x241a+-0xb*0x1ef)]=_0x33496f(_0x2db289),_0x5ce305[_0x4b9109*(0xf35*-0x1+-0x20f0+0x3029)+(0x1*-0x1508+-0x697*0x1+0x1ba0)]=_0x33496f(_0x197a97),_0x5ce305[_0x4b9109*(-0x1358+0xe6c+0x4f0)+(-0xa87+0x6*-0x3f3+0x223b)]=_0x33496f(_0x48332f),_0x5ce305[_0x4b9109*(0x191*0x3+-0x2681+0x1a*0x14d)+(-0x4b6+0x1557+-0x109e)]=_0x33496f(_0x256c71);const _0x209a0d=_0x26c7c6[_0x4b9109],_0x1e0002=_0x401ccf[_0x4b9109],_0x5cac83=_0xc06a77[_0x4b9109],_0xccc935=Math['max'](_0x248d7b[_0x4b9109],_0x498e9d[_0x4b9109],_0x3fa931[_0x4b9109]);if(isFinite(_0x209a0d)&&isFinite(_0x1e0002)&&isFinite(_0x5cac83)&&isFinite(_0xccc935)){const _0x597b20=(0x2386+0x771*-0x2+-0x14a2)*Math['exp'](_0xccc935);_0x4591ff?(_0x4591ff=!(-0x1d95+-0x5*-0x4fc+0x4aa),_0x3efc9d=_0x209a0d-_0x597b20,_0x3f71e7=_0x1e0002-_0x597b20,_0x2df995=_0x5cac83-_0x597b20,_0x2f02ff=_0x209a0d+_0x597b20,_0x1b9777=_0x1e0002+_0x597b20,_0x3b22c9=_0x5cac83+_0x597b20):(_0x3efc9d=Math['min'](_0x3efc9d,_0x209a0d-_0x597b20),_0x3f71e7=Math['min'](_0x3f71e7,_0x1e0002-_0x597b20),_0x2df995=Math['min'](_0x2df995,_0x5cac83-_0x597b20),_0x2f02ff=Math['max'](_0x2f02ff,_0x209a0d+_0x597b20),_0x1b9777=Math['max'](_0x1b9777,_0x1e0002+_0x597b20),_0x3b22c9=Math['max'](_0x3b22c9,_0x5cac83+_0x597b20));}_0x186080['set'](_0x2f102d[_0x4b9109],_0x46d0af[_0x4b9109],_0x5b51e2[_0x4b9109],_0x328792[_0x4b9109]),_0x186080['normalize'](),_0x186080['w']<-0xe08+0x1e2f*0x1+-0x1027&&_0x186080['mulScalar'](-(-0x1*0x3f5+0x1674+-0x62a*0x3)),_0x345fc9[_0x4b9109*(0x2ab*0x9+0x7*-0x117+0x575*-0x3)+(-0x13f5+-0x8*-0x34+0x1255)]=_0x26c7c6[_0x4b9109],_0x345fc9[_0x4b9109*(-0x1*0xec5+0xfb0*0x1+-0x3a*0x4)+(-0x2*0xb5d+-0x1246+-0x3*-0xdab)]=_0x401ccf[_0x4b9109],_0x345fc9[_0x4b9109*(-0x1cc*0x3+0x4c0+0xa7)+(0x18a1+0x1694+0x2f33*-0x1)]=_0xc06a77[_0x4b9109],_0x22049f[_0x4b9109*(-0x773+0x1306*-0x2+-0xa*-0x48d)+(0x1*0xe4e+-0x7bd+-0x691)]=_0x26c7c6[_0x4b9109],_0x22049f[_0x4b9109*(-0x17*0x1a+0xd*-0x139+0x123e)+(-0x1e+-0x83*0x21+0x26e*0x7)]=_0x401ccf[_0x4b9109],_0x22049f[_0x4b9109*(-0x14ad+-0x18fe+0xf3a*0x3)+(-0x85+0x621*-0x2+0xcc9)]=_0xc06a77[_0x4b9109],_0x152743[_0x4b9109*(-0xe20+0xa13*-0x2+-0x1*-0x2249)+(0x7bb+0x2490+-0x2c4b)]=_0x33496f(Math['exp'](_0x248d7b[_0x4b9109])),_0x152743[_0x4b9109*(-0x3*-0xb77+0x3a*-0x10+-0x1*0x1ec2)+(0x24ae+0x25d3*0x1+-0x4a80)]=_0x33496f(Math['exp'](_0x498e9d[_0x4b9109])),_0x152743[_0x4b9109*(0x1*0x67f+-0xb1c+-0x4a0*-0x1)+(-0xff*0x25+0x1*-0x22b8+0x4795)]=_0x33496f(Math['exp'](_0x3fa931[_0x4b9109])),_0x1ef177[_0x4b9109*(0x1*-0xd13+-0x11b7+-0x13*-0x19f)+(0xaa*0x37+0x1a*-0x1e+-0x10bd*0x2)]=_0x186080['x'],_0x1ef177[_0x4b9109*(-0xf40+0x25fe+-0x16bb)+(-0x71e*0x5+0xf66+0x1*0x1431)]=_0x186080['y'],_0x1ef177[_0x4b9109*(-0x1448+-0x1687*-0x1+-0x2c*0xd)+(-0x7*-0x409+-0xa4*0x16+0x11*-0xd5)]=_0x186080['z'],_0x14e70c&&_0x533605&&_0x313bba&&_0x3261b4&&_0x65fa16&&(_0x533605[_0x4b9109*(-0x27c*-0x9+-0x1e32+-0x31*-0x29)+(0xbb2+0x25a6+-0x3158)]=_0x255a0e[_0x4b9109],_0x533605[_0x4b9109*(-0xb28+0x280*0x1+0x1*0x8ab)+(0x138+0xe6b+-0xfa2)]=_0x2cd03e[_0x4b9109],_0x533605[_0x4b9109*(0x1698+-0x10f3*-0x1+-0x1b8*0x17)+(-0x1*0x14b7+0x1*0x20dd+0x206*-0x6)]=_0x1ce7c0[_0x4b9109],_0x3261b4[_0x4b9109*(0x2*-0x1097+0x2317+-0x1e6)+(0x1*0x19b5+-0x9de+-0xfd7)]=_0x255a0e[_0x4b9109],_0x3261b4[_0x4b9109*(0x183c+0x1c9*0x2+0x1bcb*-0x1)+(-0xa06*0x1+0x101*0x13+-0x90c)]=_0x2cd03e[_0x4b9109],_0x3261b4[_0x4b9109*(0x62f*0x1+-0x1a20+0x13f4)+(-0x378+0x15e6+0x20c*-0x9)]=_0x1ce7c0[_0x4b9109],_0x65fa16[_0x4b9109]=_0x2c6c11?Math['exp'](_0x2c6c11[_0x4b9109]):-0x1212+0x1384+-0x25*0xa,_0x313bba[_0x4b9109*(-0x6d*-0x1d+-0xf2*-0x1+-0xd48)+(0x188d+-0x857+-0x1036)]=_0x554816?_0x554816[_0x4b9109]:0x22b1+-0x16df+-0xbd2,_0x313bba[_0x4b9109*(-0x96e+-0xc5*-0x5+0x598)+(-0x18*-0x12a+0x19f6+-0x35e5)]=_0x65fa16[_0x4b9109]);}_0x4591ff||(_0x360fb6[0x24b5*-0x1+0xcbd+-0x76*-0x34]=(_0x3efc9d+_0x2f02ff)*(-0x1*-0x14c5+-0x1*0x18b6+0x1*0x3f1+0.5),_0x360fb6[0xad*0x1f+-0xa7+0x144b*-0x1]=(_0x3f71e7+_0x1b9777)*(-0x11*0x9d+-0x2bf*0x5+0x305*0x8+0.5),_0x360fb6[-0x91a+0x261f+-0x7*0x425]=(_0x2df995+_0x3b22c9)*(-0x105c+-0x1*0xb3e+0x2*0xdcd+0.5),_0x3419ae[0x1*-0x1744+0x1d*0x97+-0x53*-0x13]=(_0x2f02ff-_0x3efc9d)*(-0x999+0xbf*-0x3+0xbd6+0.5),_0x3419ae[0x1ac7+-0x664*-0x4+0x1a2b*-0x2]=(_0x1b9777-_0x3f71e7)*(0x1*-0x1df9+0xc36+-0x1*-0x11c3+0.5),_0x3419ae[-0x26d4+-0x1964+0x403a]=(_0x3b22c9-_0x2df995)*(0xa2a+0x43*-0xe+-0x1*0x680+0.5));const _0x2363d4=_0x12c8fe();let _0x3f22fe={'dataColor':_0x5ce305,'center':_0x360fb6,'halfExtents':_0x3419ae,'dataCenters':_0x22049f,'dataPosition':_0x345fc9,'dataScale':_0x152743,'dataRotation':_0x1ef177,..._0x2363d4};return _0x14e70c&&(_0x3f22fe={..._0x3f22fe,'dataMotion':_0x533605,'dataTime':_0x313bba,'motion':_0x3261b4,'tScaleArray':_0x65fa16,'muT':new Float32Array(_0x554816),'timeIndex':new Float32Array(_0x110fa6)}),_0x3f22fe;},_0x43591b=_0x3dda7d=>{const _0x1528f4=[];for(let _0x3725c6=0x6*-0x6d+-0x5*-0xe5+-0x1*0x1eb;_0x3725c6<_0x3dda7d;++_0x3725c6)_0x1528f4['push'](_0x4d92a3['f_rest_'+_0x3725c6]);return _0x1528f4;},_0x12c8fe=()=>{const _0x2d2a58=_0x345a8d();if(_0x2d2a58<=0x4b6*0x7+0x1d89*0x1+-0x4cf*0xd)return{};const _0x11421f=_0x4d92a3['x']['length'],_0x29a990=new Uint32Array(_0x11421f*(0x26*-0xb5+0x156f+0x573)),_0x171507=new Uint32Array(_0x11421f*(-0x2a1*-0xd+0x1c52+-0x3e7b)),_0x93fe71=new Uint32Array(_0x11421f*(0x20dc+0x266+-0x233e)),_0x194689=new Uint32Array(_0x11421f*(-0xbef+-0x17e1*0x1+-0x11ea*-0x2)),_0x1b2cb9={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2d2a58],_0x252657=_0x43591b(_0x1b2cb9*(0x154c+-0x5bd+-0xc7*0x14)),_0x5ba6d0=-0x212d+-0x2a3*-0x8+0x1414,_0x1ac4b0=-0x194+-0x109d*-0x1+-0xb0a,_0x3f233d=new Float32Array(-0x37f+-0x304*-0x8+-0xa5*0x20),_0x393550=new Uint32Array(_0x3f233d['buffer']),_0x4fa7cf=new Array(_0x1b2cb9*(0xe69+0xac2+-0x38*0x73))['fill'](-0x535*-0x6+0xc7c+-0xc1*0x3a);for(let _0x11b2fd=-0x4f3+-0x627+0xb1a;_0x11b2fd<_0x11421f;++_0x11b2fd){for(let _0x5153df=0x2*-0x34+-0x6d9+0x741;_0x5153df<_0x1b2cb9;++_0x5153df)_0x4fa7cf[_0x5153df*(-0x2a0+0x2*0xa19+-0x118f)]=_0x252657[_0x5153df][_0x11b2fd],_0x4fa7cf[_0x5153df*(0x1f58+0x3a*-0x1c+0x1*-0x18fd)+(0xc7e+-0x209*-0x11+0x7*-0x6ba)]=_0x252657[_0x5153df+_0x1b2cb9][_0x11b2fd],_0x4fa7cf[_0x5153df*(0x3*0xc8f+-0x559+-0x2051*0x1)+(0x1df0+-0x1d*-0x153+-0x405*0x11)]=_0x252657[_0x5153df+_0x1b2cb9*(0x989+-0xe6*-0x3+-0x1bf*0x7)][_0x11b2fd];let _0x3ac560=_0x4fa7cf[0x24*-0xad+0x1*-0x1efd+0x3751];for(let _0x17ee46=0x1*0x6f7+-0x4*-0x104+-0xb06;_0x17ee46<_0x1b2cb9*(0x235b+-0x1361+-0xff7);++_0x17ee46)_0x3ac560=Math['max'](_0x3ac560,Math['abs'](_0x4fa7cf[_0x17ee46]));if(_0x3ac560!==0x5*-0x1e9+-0x237b+-0xb42*-0x4){for(let _0x30ef84=-0x37c+-0x2b*0x15+0x703;_0x30ef84<_0x1b2cb9;++_0x30ef84)_0x4fa7cf[_0x30ef84*(0x1*0x15d1+-0x130*-0x6+-0x1cee)+(0x11af+0x48c+-0x7*0x32d)]=Math['max'](-0x24e6+-0x3db+0x28c1,Math['min'](_0x5ba6d0,Math['floor']((_0x4fa7cf[_0x30ef84*(0x85a+-0x149a+0x49*0x2b)+(0x17cb+0x1771+-0x2f3c)]/_0x3ac560*(-0x2551+0x115e+-0x13f3*-0x1+0.5)+(0x21e9*0x1+0x21c8+-0x43b1+0.5))*_0x5ba6d0+(0xfb8+-0x107c+0xc4+0.5)))),_0x4fa7cf[_0x30ef84*(-0x3*0x955+0x2*0xb85+0x4f8)+(-0xd45+-0x19e*0x1+0xee4)]=Math['max'](0x713+0xea*-0x1e+0x1459*0x1,Math['min'](_0x1ac4b0,Math['floor']((_0x4fa7cf[_0x30ef84*(-0x736+-0x22e5+-0xe0a*-0x3)+(0x40f*-0x7+-0x242b+0x4095)]/_0x3ac560*(0x8df+-0x1*-0x20e7+-0x29c6*0x1+0.5)+(0x6*0x66f+0x2f5+-0x298f+0.5))*_0x1ac4b0+(0x26d0+-0xad*-0xe+-0x3046+0.5)))),_0x4fa7cf[_0x30ef84*(0x1256+-0x11d*-0x3+-0x15aa)+(-0x4b7*-0x7+0x1e9e+-0x1*0x3f9d)]=Math['max'](-0x20c9*0x1+-0x26*0x2a+0x2705,Math['min'](_0x5ba6d0,Math['floor']((_0x4fa7cf[_0x30ef84*(-0x2104+-0x15a9+0x36b0)+(0x11*0x14d+-0x228e+-0xc73*-0x1)]/_0x3ac560*(-0x6*-0xd9+0x1*-0x18fd+0x13e7+0.5)+(-0xf3+0x28d*0x4+-0x941+0.5))*_0x5ba6d0+(-0x17e8+0xcac+-0x2*-0x59e+0.5))));_0x3f233d[0x435*-0x9+-0x10d4+0x36b1*0x1]=_0x3ac560,_0x29a990[_0x11b2fd*(-0x1*0x262d+-0x57f+0x2bb0)+(0x5*-0x67b+-0x24c1+0x8*0x8a5)]=_0x393550[0xdac*0x1+0x2211*0x1+-0x457*0xb],_0x29a990[_0x11b2fd*(0x3b0+0x287*-0x1+0x125*-0x1)+(-0x2a3*-0x5+0x423+-0x155*0xd)]=_0x4fa7cf[-0x2d8+-0x76*-0xa+-0x1c4]<<-0x2309+-0x16b1+0x3*0x1345|_0x4fa7cf[0x9bf*-0x1+0x2*-0x692+-0x24a*-0xa]<<0xfc7*0x1+-0xc5a+-0x362|_0x4fa7cf[0x2388*-0x1+-0x1*0x2165+0x44ef],_0x29a990[_0x11b2fd*(-0x18ab*-0x1+-0x1c43+0x39c*0x1)+(-0x2091+0x603+0x1a90)]=_0x4fa7cf[0x24c*-0x8+0xcd0+-0x1*-0x593]<<0x1c79+-0x38d+-0x1*0x18d7|_0x4fa7cf[0x1*-0x85a+-0x3dd+0xc3b]<<-0x160b+0x772*0x1+0xea4|_0x4fa7cf[-0x3*0x653+0x1f80+-0xc82],_0x29a990[_0x11b2fd*(0x110d+0x54*0x77+-0x3815)+(-0x3cc+-0x8b8+-0xc87*-0x1)]=_0x4fa7cf[-0x24c2+0x117*0x1d+0x52d]<<-0x2397+-0xf33+0x32df|_0x4fa7cf[0x1b7f+-0x38f+-0x17e9]<<0x2306+0x2*0xf6f+0x3*-0x15f3|_0x4fa7cf[-0x2507+-0xb2*0x33+0x4885*0x1],_0x2d2a58>0x1b5e+-0x1*0x173c+-0x421&&(_0x171507[_0x11b2fd*(0x1334+0xc37*0x1+0x1f67*-0x1)+(0xf*-0x199+0x18e0+-0x1*0xe9)]=_0x4fa7cf[0x1b12+-0x4*-0x635+-0x33dd]<<0x1*-0x17d5+0x1*0x1bc5+-0x3db|_0x4fa7cf[0x216a+-0xf2e+-0x1232]<<0x1e*-0x30+-0x12*0x1e6+0x27d7|_0x4fa7cf[0x1*-0xf77+0x1*0x2283+0x23*-0x8b],_0x171507[_0x11b2fd*(-0x146a+-0xb95+-0x2e9*-0xb)+(-0x505*0x1+0xa1+-0xe1*-0x5)]=_0x4fa7cf[-0x2296+0x264b+-0x3a9]<<0x903+-0xc4a+0xd7*0x4|_0x4fa7cf[0xd24+-0x23c+-0x7*0x18d]<<0x4*-0x539+-0x8ec*0x1+0x1ddb*0x1|_0x4fa7cf[-0xe85+-0x1*0x26fa+0x358d*0x1],_0x171507[_0x11b2fd*(0x22*-0xb3+-0x26*0x51+0x23d0)+(-0x2d*-0x77+0x8*0x84+-0x1909)]=_0x4fa7cf[-0x1*-0x246f+-0x113a+0x1*-0x1326]<<-0x119*0x2+0x2*-0x75b+0x10fd|_0x4fa7cf[-0x1f64+-0x74*-0x31+0x940]<<-0x8db*-0x1+0x703*-0x3+0x95*0x15|_0x4fa7cf[0x18*0x19f+-0x144e*-0x1+0x93*-0x67],_0x171507[_0x11b2fd*(-0x5fd+-0x61*0x31+0x1892)+(-0x17f1+-0x20bd*-0x1+-0x8c9)]=_0x4fa7cf[0x24c7+-0x25d*0x2+0x1ffb*-0x1]<<0x1*0x72a+0x10c+0x821*-0x1|_0x4fa7cf[-0xc6c+0x20*-0xe6+0x293f]<<0x1c2a+0x7f2*-0x1+-0x409*0x5|_0x4fa7cf[0x5*0x193+0x4cd*-0x8+0x1e9d],_0x2d2a58>-0x152c+0x165f+-0x131?(_0x93fe71[_0x11b2fd*(0x1b4d+0x8*-0x3f2+-0x49*-0xf)+(0xd8f*0x2+-0x513*-0x6+0x6*-0x998)]=_0x4fa7cf[0x1*-0x17ff+-0x2*0x49d+0x214e]<<-0x1f*0x76+-0xb*-0xdf+-0x2*-0x265|_0x4fa7cf[-0x255e+-0x1*-0x3b9+0x21bb]<<-0x1ea7*-0x1+-0x1ab9+0xc7*-0x5|_0x4fa7cf[-0x24ab+0x1ccb+-0x7f7*-0x1],_0x93fe71[_0x11b2fd*(0x3*-0x516+-0x26ef+0x1*0x3635)+(0x1*0x205b+0x1889+-0x1*0x38e3)]=_0x4fa7cf[0x3*0x5d1+0x78*-0x17+0x9*-0xbb]<<0x4a9*-0x2+0x15d7*0x1+-0xc70|_0x4fa7cf[0x83b+0x2620+-0x2e42]<<0x1*0x10ef+0xe*-0x281+0xa*0x1d1|_0x4fa7cf[-0x264f+-0x2b*0x60+0x3689],_0x93fe71[_0x11b2fd*(0x135b+0x1602+-0x2959)+(0x2*0xd48+-0x24a*-0xb+-0x33bc)]=_0x4fa7cf[-0x123f+-0x2*0xbe1+-0x16*-0x1ea]<<0x5e*-0x2+-0x1bca+-0x3*-0x989|_0x4fa7cf[0x12a9*-0x2+-0x4*-0x39b+0x1702]<<-0x4b7*-0x2+0xd5+-0x8*0x147|_0x4fa7cf[0x53a+0x37*0x40+-0x1b7*0xb],_0x93fe71[_0x11b2fd*(-0x1180+0x1e8b+-0xd07)+(0x35*-0xb2+-0x3*0x6b5+0x38fc)]=_0x4fa7cf[0x24c7+0x21ca+-0x4673]<<0xcfe+0x6d*0x3a+0x259b*-0x1|_0x4fa7cf[-0x1*-0x19d9+0x157*-0x11+0x1*-0x2f3]<<0x895+-0xc83+0x9*0x71|_0x4fa7cf[-0x125b*-0x1+-0x1*0x5c+-0x131*0xf],_0x194689[_0x11b2fd*(-0x9e2*-0x2+0x1*-0x1338+-0x88)+(-0x1*-0x247+-0x24a6+-0x15*-0x1a3)]=_0x4fa7cf[0x1*0x25ab+0xb*-0x1c6+0x1*-0x1208]<<0x5*-0x203+-0x643+0x1067|_0x4fa7cf[-0x9bc*-0x4+-0x3*0xe3+-0x2425]<<-0x3*-0x503+-0x416*-0x9+-0x4*0xcf1|_0x4fa7cf[-0xc7c+-0x2b8+-0x3*-0x51d],_0x194689[_0x11b2fd*(-0xb5*0xc+0x1*0x1405+-0xb85)+(0x261+-0x1d1d+-0x5*-0x559)]=_0x4fa7cf[-0x1dbb*0x1+-0x7*-0x554+-0x76d]<<0x7*0x4a3+0x1*0x1adf+0x20b*-0x1d|_0x4fa7cf[0x3e*0x25+0x240e+-0x2cdf]<<0x945+0x1*-0x1b33+-0x1*-0x11f9|_0x4fa7cf[-0x175*0x15+-0x341*0x1+0x2200],_0x194689[_0x11b2fd*(-0x7*0x2c7+-0x23bd*0x1+0x3732)+(-0x11d4+-0x14d3+0x26a9)]=_0x4fa7cf[-0x16a*-0xa+-0x577+-0x886]<<0x82b+-0x1acc+-0x1*-0x12b6|_0x4fa7cf[0x15cd+-0x20a1+0x25*0x4c]<<-0x1596+0x7*0x2b4+0x2b5|_0x4fa7cf[-0x19c3+0x947+0x10a5],_0x194689[_0x11b2fd*(0x1009*-0x2+0x1cf6+0xa*0x50)+(0x1*-0x185a+-0x1e13+-0x4*-0xd9c)]=_0x4fa7cf[0x1*-0x256d+0x1*0x2168+0x42f]<<0x446+-0x1695+0x1264|_0x4fa7cf[-0x175+-0x11*0x144+-0x4*-0x5c9]<<-0x88f*0x2+0x32b+0xdfe|_0x4fa7cf[-0x1a62*0x1+0xc06+0xe88*0x1]):_0x93fe71[_0x11b2fd]=_0x4fa7cf[0x2345+-0x225f+-0x1*0xd1]<<-0x143e+0x22b2+-0xe5f*0x1|_0x4fa7cf[-0x31*0x83+-0x412*0x5+-0x3d*-0xbf]<<0xd33+0x813*0x2+0x2*-0xea7|_0x4fa7cf[0x5*-0x607+0x1d06+0x134]);}}return{'sh1to3Data':_0x29a990,'sh4to7Data':_0x171507,'sh8to11Data':_0x93fe71,'sh12to15Data':_0x194689};},_0x4da7b0=_0x4b1f8d=>{if(!_0x4d92a3['time_index'])return;const _0x481ca3=_0x4d92a3['time_index']['findIndex'](_0x42a0f9=>_0x42a0f9===_0x4b1f8d);let _0x591e64=_0x4d92a3['time_index']['findIndex']((_0x5e0d48,_0x373525)=>_0x5e0d48!==_0x4b1f8d&&_0x373525>_0x481ca3);if(_0x591e64===-(0x1*0x2215+0x156d+0x3781*-0x1)&&_0x481ca3===-(0x2ef+-0x1*-0x23c2+-0x8*0x4d6))return;_0x591e64===-(0x1*0x1e7d+-0x1*-0x79d+-0x2619)&&_0x481ca3!==-(-0x25c0+-0x622+0x15*0x217)&&(_0x591e64=_0x4d92a3['time_index']['length']),_0x5cbe77-=_0x591e64-_0x481ca3;const _0x345ed=Object['keys'](_0x4d92a3);for(let _0x3c56df=0x2*0x12db+-0x210e+-0x4a8;_0x3c56df<_0x345ed['length'];_0x3c56df++){const _0x98e96d=_0x345ed[_0x3c56df],_0x38eb64=_0x4d92a3[_0x98e96d];if(_0x38eb64){const _0x56ff65=new Float32Array(_0x5cbe77);_0x481ca3>0x23ab+-0xa1+-0x230a?(_0x56ff65['set'](_0x38eb64['subarray'](0x1*0x191b+-0x216+-0x1705*0x1,_0x481ca3),-0xaf9*0x1+-0x19eb+-0xc4c*-0x3),_0x56ff65['set'](_0x38eb64['subarray'](_0x591e64),_0x481ca3)):_0x56ff65['set'](_0x38eb64['subarray'](_0x591e64),0x6d9*0x3+0x593*0x6+-0x3*0x11ff),_0x4d92a3[_0x98e96d]=_0x56ff65;}}},_0x3af0ba=()=>{const _0x55b3bb=Object['keys'](_0x4d92a3);for(let _0x4622ec=0x74d+0xf8*-0x22+0x19a3;_0x4622ec<_0x55b3bb['length'];_0x4622ec++){const _0x2116a2=_0x55b3bb[_0x4622ec];_0x4d92a3[_0x2116a2]&&(_0x4d92a3[_0x2116a2]=[]);}},_0x5a3f60=()=>{_0x4d92a3={},_0x5cbe77=-0x16da+-0xed5+0x36d*0xb;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0xe42da3,_0x14a3ed,_0x47760f,_0x769292=!(-0x8d5+0x1be4+-0x1*0x130e)){var _0x45f45c,_0x4f30cc;const _0x42c1d7={};return _0xe42da3['elements'][0x14a0+0x187d+-0x2d1d*0x1]['properties']['forEach'](_0x17d3e2=>{_0x42c1d7[_0x17d3e2['name']]=_0x17d3e2['storage'];}),_0x769292?(_0x45f45c=this['worker'])==null||_0x45f45c['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x42c1d7,'timeIndex':_0x14a3ed,'timeOption':_0x47760f},_0xe42da3['elements'][-0x1*0x214b+-0x5*0x48c+0x3807]['properties']['map'](_0x4dc4a8=>_0x4dc4a8['storage']['buffer'])):(_0x4f30cc=this['worker'])==null||_0x4f30cc['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x42c1d7,'timeIndex':_0x14a3ed,'timeOption':_0x47760f}),new Promise(_0xe4ffdf=>{this['worker']['onmessage']=_0x55961c=>{if(!this['worker'])return;const {data:_0x295ae3}=_0x55961c;_0x295ae3['type']==='newAppendD'+'ata'&&_0xe4ffdf(_0x295ae3);};});}async['releaseSeq'+'Data'](_0x49bc5c){var _0x28018b;(_0x28018b=this['worker'])==null||_0x28018b['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x49bc5c});}async['releaseAll'+'SeqData'](){var _0x432039;(_0x432039=this['worker'])==null||_0x432039['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x21b44f;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x21b44f=this['worker'])==null||_0x21b44f['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x21b1+0x53*-0x10+0x26e2,0xb*-0x49+0x1313+-0xfef,-0x68*0x2b+0x3b6+0xdc2,0x1*0x113e+0xaf9+-0x1*0x1c37+0.4),vf=0x2078+0x7a*-0x35+-0x736+0.28209479177387814,xf=-0x3*-0x12325+0xaafb+-0x1072a;let ZA=class{constructor(_0x2f27fa,_0x128255,_0x115ba0,_0xf2a482,_0x5a69b1,_0x239f63){const _0x447c84=_0x2f27fa['getProp']('x'),_0x5acdc9=_0x2f27fa['getProp']('y'),_0xd67a76=_0x2f27fa['getProp']('z'),_0x86f650=_0x2f27fa['getProp']('rot_1'),_0x4bad95=_0x2f27fa['getProp']('rot_2'),_0x37ab2d=_0x2f27fa['getProp']('rot_3'),_0x355511=_0x2f27fa['getProp']('rot_0'),_0x31c97a=_0x2f27fa['getProp']('motion_0'),_0x21b67d=_0x2f27fa['getProp']('motion_1'),_0x30182b=_0x2f27fa['getProp']('motion_2'),_0x4e8de0=_0x2f27fa['getProp']('scale_0'),_0x10f3d2=_0x2f27fa['getProp']('scale_1'),_0x92d1c8=_0x2f27fa['getProp']('scale_2'),_0x5e9c02=_0x2f27fa['getProp']('f_dc_0'),_0x18014e=_0x2f27fa['getProp']('f_dc_1'),_0x1855a9=_0x2f27fa['getProp']('f_dc_2'),_0x3deaac=_0x2f27fa['getProp']('opacity');this['read']=_0xcfd195=>{_0x128255&&(_0x128255['x']=_0x447c84[_0xcfd195],_0x128255['y']=_0x5acdc9[_0xcfd195],_0x128255['z']=_0xd67a76[_0xcfd195]),_0x115ba0&&_0x115ba0['set'](_0x86f650[_0xcfd195],_0x4bad95[_0xcfd195],_0x37ab2d[_0xcfd195],_0x355511[_0xcfd195]),_0xf2a482&&_0xf2a482['set'](Math['exp'](_0x4e8de0[_0xcfd195]),Math['exp'](_0x10f3d2[_0xcfd195]),Math['exp'](_0x92d1c8[_0xcfd195])),_0x239f63&&_0x31c97a&&_0x239f63['set'](_0x31c97a[_0xcfd195],_0x21b67d[_0xcfd195],_0x30182b[_0xcfd195]),_0x5a69b1&&_0x5a69b1['set'](0x1*0x265+0xbfc+0xe61*-0x1+0.5+_0x5e9c02[_0xcfd195]*vf,0x5ef*0x4+0x197*-0x1+0x1625*-0x1+0.5+_0x18014e[_0xcfd195]*vf,-0x16a4+-0x242a+0x6*0x9cd+0.5+_0x1855a9[_0xcfd195]*vf,_0x3deaac[_0xcfd195]);};}};const _g=(_0xf75500,_0x209e8b,_0x1a1c19)=>{pg['set'](_0x1a1c19['x'],_0x1a1c19['y'],_0x1a1c19['z'],_0x1a1c19['w'])['normalize'](),_0xf75500['setTRS'](_0x209e8b,pg,D['ONE']);};class qn{constructor(_0xe2db2b,_0x3f6c55=[]){h(this,'elements'),h(this,'numSplats',0x6a4+-0x17+0x81*-0xd),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4d987e;(_0x4d987e=this['dataWorker'])==null||_0x4d987e['destroy'](),this['dataWorker']=null;});var _0x59a695,_0x25bcc3,_0x524ff6;this['elements']=_0xe2db2b,this['numSplats']=((_0x59a695=this['getElement']('vertex'))==null?void(-0x1d64+-0x2b*-0xdb+0x3*-0x277):_0x59a695['count'])??-0x3b7+0x373+0x4*0x11,this['comments']=_0x3f6c55,this['is4D']=!!((_0x524ff6=(_0x25bcc3=this['getElement']('vertex'))==null?void(0x249e+-0x21b2+0x2*-0x176):_0x25bcc3['properties']['find'](_0x41b3ee=>_0x41b3ee['name']==='t'))!=null&&_0x524ff6['storage']);}async['appendGSpl'+'atData'](_0x599346,_0x3a6b33,_0x356438){var _0x93492c;let _0x441022=-0x2375+-0x1ebe+0x975*0x7;for(let _0x5aff8b=0x11f*0x11+-0x21a+0x5a7*-0x3;_0x5aff8b<_0x356438['length']&&_0x3a6b33>_0x356438[_0x5aff8b];_0x5aff8b+=0xd2b*0x1+0x6a3*0x1+-0x13cc)_0x441022=_0x5aff8b/(-0xf4e+0x1*-0x579+0x14c9);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x441022),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x25b3*0x1+-0x1144+-0x36f7*-0x1,_0x356438));const _0x4a9f0d=this['getElement']('vertex');_0x4a9f0d&&(_0x4a9f0d['count']=this['numSplats']);const _0x3e4f87=await this['dataWorker']['appendGSpl'+'atData'](_0x599346,_0x441022,_0x356438,!(-0x1756+-0x12d6*-0x2+-0xe56)),_0x4027e0=_0x3e4f87['properties'],_0x89dbd8=((_0x93492c=this['getElement']('vertex'))==null?void(0xa*0xbf+-0x1*0x213+-0x563):_0x93492c['properties'])??[];for(const _0x46def8 in _0x4027e0){const _0x151ef6=_0x89dbd8['find'](_0x2a6b5b=>_0x2a6b5b['name']===_0x46def8);_0x151ef6?_0x151ef6['storage']=_0x4027e0[_0x46def8]:_0x89dbd8['push']({'type':'float','name':_0x46def8,'storage':_0x4027e0[_0x46def8],'byteSize':0x4});}this['transformD'+'ata']=_0x3e4f87['transformD'+'ata'],this['numSplats']=_0x4027e0['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x4e9910){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x4e9910),this['dataWorker']['releaseSeq'+'Data'](_0x4e9910),this;}async['releaseAll'+'SeqData'](){var _0x5053f6;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x5053f6=this['dataWorker'])==null||_0x5053f6['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x39bf39,_0x37fef1,_0x236812,_0x1be485){_g(za,_0x37fef1,_0x236812),yf['center']['set'](0x133*-0xb+0x3c4+0x96d*0x1,-0xef7+-0x113+-0x1*-0x100a,-0x1*0x2519+0xb75+0x19a4),yf['halfExtent'+'s']['set'](_0x1be485['x']*(-0xa4*0xc+0x3*0x6f7+-0xd33),_0x1be485['y']*(-0x1519+0xf*0xb9+-0x92*-0x12),_0x1be485['z']*(-0x13c4+0x1c98+-0x469*0x2)),_0x39bf39['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x5d2fa8,_0x3cb1cf='vertex'){var _0x4173c1,_0x515df8;return(_0x515df8=(_0x4173c1=this['getElement'](_0x3cb1cf))==null?void(0x9*-0xbd+0x1742+-0x1*0x109d):_0x4173c1['properties']['find'](_0x50476e=>_0x50476e['name']===_0x5d2fa8))==null?void(0x1b9*0x12+0x17*-0x1f+0x11*-0x1a9):_0x515df8['storage'];}['getElement'](_0x31b79a){return this['elements']['find'](_0x49042a=>_0x49042a['name']===_0x31b79a);}['addProp'](_0x18a4e6,_0x27b068){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x18a4e6,'storage':_0x27b068,'byteSize':0x4});}['createIter'](_0x3ca117,_0x16c29e,_0x1b9104,_0x4a1655,_0x5586f0){return new ZA(this,_0x3ca117,_0x16c29e,_0x1b9104,_0x4a1655,_0x5586f0);}async['calcAabbAs'+'ync'](_0x1b22ee,_0xe5e57e){var _0x181679,_0x34dcfa;if((_0x181679=this['transformD'+'ata'])!=null&&_0x181679['center']&&((_0x34dcfa=this['transformD'+'ata'])!=null&&_0x34dcfa['halfExtent'+'s'])){_0x1b22ee['center']['set'](this['transformD'+'ata']['center'][-0xf8b+-0x1*-0x22df+-0x1354],this['transformD'+'ata']['center'][0xb2f+0x7d5+-0x1303],this['transformD'+'ata']['center'][-0x1b21+-0x1688+0x31ab]),_0x1b22ee['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x222d+0x2*-0xe8+-0x205d*0x1],this['transformD'+'ata']['halfExtent'+'s'][0x2*0xb99+0x61e*-0x6+-0x481*-0x3],this['transformD'+'ata']['halfExtent'+'s'][0x415+0xcd+-0x1*0x4e0]);return;}const _0x4ee935=this['getProp']('x'),_0x81cac3=this['getProp']('y'),_0x2bd67f=this['getProp']('z'),_0x3932f3=this['getProp']('scale_0'),_0x594e79=this['getProp']('scale_1'),_0x25a04e=this['getProp']('scale_2'),_0x22008b=await(_0xe5e57e==null?void(-0xb7f+0xc7+0xab8):_0xe5e57e['calcAabb'](this['numSplats'],_0x4ee935,_0x81cac3,_0x2bd67f,_0x3932f3,_0x594e79,_0x25a04e));_0x1b22ee['center']['set'](_0x22008b['center'][0x4*0x699+0x2409+-0x3e6d],_0x22008b['center'][-0x1809*-0x1+0x5*0x3d7+-0x2b3b],_0x22008b['center'][0x220f+-0x1337+-0x1*0xed6]),_0x1b22ee['halfExtent'+'s']['set'](_0x22008b['halfExtent'+'s'][0x12a9+0x14bc+-0x2765],_0x22008b['halfExtent'+'s'][-0x115a+0x546+0xc15],_0x22008b['halfExtent'+'s'][0x136b*0x2+-0x8d3+-0x1e01]);}['calcAabb'](_0x4c9e91,_0x21918b){let _0x2cd9b5,_0x53eb07,_0x464df8,_0x106f69,_0x14c941,_0x368dad,_0x531258=!(-0x2*-0x6cb+-0x289*-0xd+-0x2e8b);const _0x24b80b=this['getProp']('x'),_0x57b0ee=this['getProp']('y'),_0x532add=this['getProp']('z'),_0x5cdc1f=this['getProp']('scale_0'),_0x5e32ae=this['getProp']('scale_1'),_0x486d03=this['getProp']('scale_2');for(let _0x393576=0x669+0x520+-0x1*0xb89;_0x393576<this['numSplats'];++_0x393576){if(_0x21918b&&!_0x21918b(_0x393576))continue;const _0x403fc3=_0x24b80b[_0x393576],_0x5426b8=_0x57b0ee[_0x393576],_0x4dabc7=_0x532add[_0x393576],_0x24e957=Math['max'](_0x5cdc1f[_0x393576],_0x5e32ae[_0x393576],_0x486d03[_0x393576]);if(!isFinite(_0x403fc3)||!isFinite(_0x5426b8)||!isFinite(_0x4dabc7)||!isFinite(_0x24e957))continue;const _0x3ccd85=(0x2d7*-0x1+-0x744+0xa1d)*Math['exp'](_0x24e957);_0x531258?(_0x531258=!(0x2*0xad9+-0x2*-0x68+-0x1681*0x1),_0x2cd9b5=_0x403fc3-_0x3ccd85,_0x53eb07=_0x5426b8-_0x3ccd85,_0x464df8=_0x4dabc7-_0x3ccd85,_0x106f69=_0x403fc3+_0x3ccd85,_0x14c941=_0x5426b8+_0x3ccd85,_0x368dad=_0x4dabc7+_0x3ccd85):(_0x2cd9b5=Math['min'](_0x2cd9b5,_0x403fc3-_0x3ccd85),_0x53eb07=Math['min'](_0x53eb07,_0x5426b8-_0x3ccd85),_0x464df8=Math['min'](_0x464df8,_0x4dabc7-_0x3ccd85),_0x106f69=Math['max'](_0x106f69,_0x403fc3+_0x3ccd85),_0x14c941=Math['max'](_0x14c941,_0x5426b8+_0x3ccd85),_0x368dad=Math['max'](_0x368dad,_0x4dabc7+_0x3ccd85));}return _0x531258||(_0x4c9e91['center']['set']((_0x2cd9b5+_0x106f69)*(-0x1d0d+-0x10db+0x2*0x16f4+0.5),(_0x53eb07+_0x14c941)*(-0x14c*-0x9+0x1cc5+0x7*-0x5c7+0.5),(_0x464df8+_0x368dad)*(0x23f*0x7+-0x2407+-0xa27*-0x2+0.5)),_0x4c9e91['halfExtent'+'s']['set']((_0x106f69-_0x2cd9b5)*(-0x101*-0x22+0x262e+-0x4850+0.5),(_0x14c941-_0x53eb07)*(0x1d3*0x8+-0x1d*-0x115+-0x2df9+0.5),(_0x368dad-_0x464df8)*(0x8*0x427+0xf5f*-0x2+-0x27a+0.5))),!_0x531258;}['yieldToMai'+'n'](){var _0x3b2ffe;return(_0x3b2ffe=globalThis['scheduler'])!=null&&_0x3b2ffe['yield']?globalThis['scheduler']['yield']():new Promise(_0x8d083=>{setTimeout(_0x8d083,0x1319+-0x176*-0x6+-0x1*0x1bdd);});}['calcAabbEx'+'act'](_0x44379c,_0x13d8a5){const _0x36e33f=new D(),_0x568269=new le(),_0x2bf566=new D(),_0x129930=this['createIter'](_0x36e33f,_0x568269,_0x2bf566);let _0x4c227e=!(0x50e+-0x88e+0x380);for(let _0x338d38=-0x41a+-0x1eca+0x196*0x16;_0x338d38<this['numSplats'];++_0x338d38)_0x13d8a5&&!_0x13d8a5(_0x338d38)||(_0x129930['read'](_0x338d38),_0x4c227e?(_0x4c227e=!(-0x3*0xa88+0x1bc2+0x1*0x3d7),qn['calcSplatA'+'abb'](_0x44379c,_0x36e33f,_0x568269,_0x2bf566)):(qn['calcSplatA'+'abb'](mg,_0x36e33f,_0x568269,_0x2bf566),_0x44379c['add'](mg)));return!_0x4c227e;}async['getCenters'](_0x2cd6dc){const _0x4eeb35=this['getProp']('x'),_0x29eac2=this['getProp']('y'),_0x1d7543=this['getProp']('z');for(let _0x5b4ce7=-0x1630+0xa9*-0x7+-0x1*-0x1acf;_0x5b4ce7<this['numSplats'];++_0x5b4ce7)_0x2cd6dc[_0x5b4ce7*(-0x17f*0x3+-0x25e8+0x2a68)+(-0x2445*0x1+-0x1c4a+0x408f)]=_0x4eeb35[_0x5b4ce7],_0x2cd6dc[_0x5b4ce7*(-0x1c*-0x161+-0x8b0+-0xd*0x24d)+(-0x156f*-0x1+-0x1deb*0x1+0x87d)]=_0x29eac2[_0x5b4ce7],_0x2cd6dc[_0x5b4ce7*(0x5a7*0x1+0x781*-0x1+0x1dd)+(0x55a+0x370+0x8*-0x119)]=_0x1d7543[_0x5b4ce7],_0x5b4ce7%xf===-0x3*-0x971+-0x180d*0x1+-0x446*0x1&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x4a88f5;if((_0x4a88f5=this['transformD'+'ata'])!=null&&_0x4a88f5['muT'])return this['transformD'+'ata']['muT'];const _0x5b6fa0=this['getProp']('t');return _0x5b6fa0?new Float32Array(_0x5b6fa0):void(-0x9c2+0x1a*0x158+-0x192e*0x1);}async['getTScale'](){const _0x3667f0=this['getProp']('t_scale');if(!_0x3667f0)return;const _0x2de52c=new Float32Array(this['numSplats']);for(let _0x2ac42c=-0x1f2c+0x2*-0x955+0x31d6;_0x2ac42c<this['numSplats'];++_0x2ac42c)_0x2de52c[_0x2ac42c]=Math['exp'](_0x3667f0[_0x2ac42c]),_0x2ac42c%xf===-0x30*-0x6a+-0x1d50+0x10*0x97&&await this['yieldToMai'+'n']();return _0x2de52c;}async['getMotion'](_0x1459b6){const _0x3e5278=this['getProp']('motion_0'),_0x31a427=this['getProp']('motion_1'),_0x217dd1=this['getProp']('motion_2');if(!(!_0x3e5278||!_0x31a427||!_0x217dd1)){for(let _0x3a612c=-0x1db1+-0x2*-0x511+0x138f*0x1;_0x3a612c<this['numSplats'];++_0x3a612c)_0x1459b6[_0x3a612c*(0x104a+-0xf0b*0x1+-0x2*0x9e)+(-0x1229*-0x1+0x2ac+-0x14d5)]=_0x3e5278[_0x3a612c],_0x1459b6[_0x3a612c*(-0x11d6*-0x1+-0x556*0x1+-0xc7d)+(0x5ad*0x1+0x1*0x1258+0xc02*-0x2)]=_0x31a427[_0x3a612c],_0x1459b6[_0x3a612c*(-0x1cc1*0x1+0x16c+0x1f4*0xe)+(0x7cc+-0x16eb+-0x50b*-0x3)]=_0x217dd1[_0x3a612c],_0x3a612c%xf===-0x1cd8+-0x1f*0xe+0x1e8a&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x67e9d4;if((_0x67e9d4=this['transformD'+'ata'])!=null&&_0x67e9d4['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x4b94a7=this['getProp']('time_index');if(_0x4b94a7)return new Float32Array(_0x4b94a7);}['calcFocalP'+'oint'](_0x246b94,_0x52e181){const _0x3ab4b9=this['getProp']('x'),_0xecef69=this['getProp']('y'),_0x58014e=this['getProp']('z'),_0xfa38d8=this['getProp']('scale_0'),_0x5ea4f4=this['getProp']('scale_1'),_0x67568a=this['getProp']('scale_2');_0x246b94['x']=-0x3b6*0x5+-0x1893+0x3d*0xb5,_0x246b94['y']=0x202c+0x10fd+-0x3129,_0x246b94['z']=0x35*-0x6a+-0x22a7+-0x3899*-0x1;let _0x5dc072=-0x1663+0xc53+0xa10;for(let _0x1cab08=0x23c4+0x11f3+-0x35b7;_0x1cab08<this['numSplats'];++_0x1cab08){if(_0x52e181&&!_0x52e181(_0x1cab08))continue;const _0x4735ff=_0x3ab4b9[_0x1cab08],_0x16e41f=_0xecef69[_0x1cab08],_0x2d4112=_0x58014e[_0x1cab08];if(!isFinite(_0x4735ff)||!isFinite(_0x16e41f)||!isFinite(_0x2d4112))continue;const _0x343dd7=(0x1b1b+-0x2*-0x3f3+-0x2300)/(-0x2*0xeb1+0x499+0x14e*0x13+Math['exp'](Math['max'](_0xfa38d8[_0x1cab08],_0x5ea4f4[_0x1cab08],_0x67568a[_0x1cab08])));_0x246b94['x']+=_0x4735ff*_0x343dd7,_0x246b94['y']+=_0x16e41f*_0x343dd7,_0x246b94['z']+=_0x2d4112*_0x343dd7,_0x5dc072+=_0x343dd7;}_0x246b94['mulScalar']((-0x131a+-0xe78+0x2d*0xbf)/_0x5dc072);}['renderWire'+'frameBound'+'s'](_0x38b76e,_0x15f148){const _0x1f5ad5=new D(),_0x47f0e4=new le(),_0x3b94b3=new D(),_0x4e3de7=new D(),_0xceccc5=new D(),_0x1478f4=this['createIter'](_0x1f5ad5,_0x47f0e4,_0x3b94b3);for(let _0x48b0e2=-0x13a*0x19+0x3*-0x622+0x50*0x9d;_0x48b0e2<this['numSplats'];++_0x48b0e2)_0x1478f4['read'](_0x48b0e2),_g(za,_0x1f5ad5,_0x47f0e4),za['mul2'](_0x15f148,za),_0x4e3de7['set'](_0x3b94b3['x']*-(0x37b+0x25e1*0x1+-0x295a),_0x3b94b3['y']*-(-0x12de+-0x2167*0x1+0x3447),_0x3b94b3['z']*-(0x1fdd+-0x2424+0x449)),_0xceccc5['set'](_0x3b94b3['x']*(-0x1db1+-0x937+0x26ea*0x1),_0x3b94b3['y']*(-0xdd3+-0x2254+0x3029*0x1),_0x3b94b3['z']*(0x30*0xa6+0x11*-0x71+-0x5*0x4b9)),_0x38b76e['immediate']['drawWireAl'+'ignedBox'](_0x4e3de7,_0xceccc5,KA,!(-0x228c+-0x1388+0x1*0x3614),_0x38b76e['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x1*-0x55d+-0x6b*0x15+0x1*0xe25);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x25a802=-0x1731+-0x6fd*-0x5+-0xbc0*0x1;_0x25a802<-0x17*0x166+-0x2460+-0x31*-0x167;++_0x25a802)if(!this['getProp']('f_rest_'+_0x25a802))return _0x25a802;return 0x129a*0x2+-0x38c+0x3*-0xb29;})())]??-0x4f3*-0x2+-0x2257+0x1871;}['calcMorton'+'Order'](){const _0x1f65c0=_0x4dec9f=>{let _0xfcee31=_0x4dec9f[-0x17d5*0x1+0xa92+0xd43],_0x461b06=_0x4dec9f[-0x2*0x105a+-0x1e06+0x3eba];for(let _0x3e9960=0x13ea+0xe*-0x1dc+-0x1*-0x61f;_0x3e9960<_0x4dec9f['length'];_0x3e9960++)_0x4dec9f[_0x3e9960]<_0xfcee31&&(_0xfcee31=_0x4dec9f[_0x3e9960]),_0x4dec9f[_0x3e9960]>_0x461b06&&(_0x461b06=_0x4dec9f[_0x3e9960]);return{'min':_0xfcee31,'max':_0x461b06};},_0xf8c3c3=(_0x2f1ac8,_0x2615bb,_0x3c5b60)=>{const _0x5debd3=_0x3f9844=>(_0x3f9844&=-0x1c27*0x1+0xc5*-0x32+0x46a0,_0x3f9844=(_0x3f9844^_0x3f9844<<-0x58*-0x7+-0x575+0x31d*0x1)&-0x1223*-0x2fb82+-0xb54fa0f8+-0xa548b1d*-0x25,_0x3f9844=(_0x3f9844^_0x3f9844<<0x7*0x3c5+-0xba1*-0x1+-0x22*0x11e)&-0x5e4ba0*0x1+-0x3492f27+0x27c0d*0x2ae,_0x3f9844=(_0x3f9844^_0x3f9844<<-0x149+-0x8a5+0x26*0x43)&0x1c79*-0xdc7+-0x4d4bc63+0x3*0x3231167,_0x3f9844=(_0x3f9844^_0x3f9844<<-0x395*0x1+-0x150b*0x1+0x836*0x3)&-0x6c55a1c+-0x363276f+-0x9a689ea*-0x2,_0x3f9844);return(_0x5debd3(_0x3c5b60)<<-0x53*-0x5b+0x1b1e+-0x1*0x389d)+(_0x5debd3(_0x2615bb)<<-0x2100+0x12*-0x185+0x3c5b)+_0x5debd3(_0x2f1ac8);},_0x14eef4=this['getProp']('x'),_0xa6b233=this['getProp']('y'),_0x520cd7=this['getProp']('z'),{min:_0x2f7f24,max:_0x45b01c}=_0x1f65c0(_0x14eef4),{min:_0x5999c0,max:_0x5c7b09}=_0x1f65c0(_0xa6b233),{min:_0x120ffc,max:_0x16c603}=_0x1f65c0(_0x520cd7),_0x385b2f=_0x2f7f24===_0x45b01c?-0x1*-0x1487+0x375+-0x5ff*0x4:(0x1854+0x2*0x1191+-0x3776)/(_0x45b01c-_0x2f7f24),_0x465ebe=_0x5999c0===_0x5c7b09?0x16c1+0x1*0xfb+-0x17bc:(0xd65+0x78b*0x5+-0x2f1c)/(_0x5c7b09-_0x5999c0),_0x43d5ff=_0x120ffc===_0x16c603?0x154c+-0x1a8+-0x13a4:(-0x1333+-0x2554+0x3c87*0x1)/(_0x16c603-_0x120ffc),_0x289aeb=new Map();for(let _0xfc0f1c=-0xb*0x266+-0x1f8c+-0x5*-0xb96;_0xfc0f1c<this['numSplats'];_0xfc0f1c++){const _0x41f6a2=Math['min'](0x5*0x311+0x1*-0x1bd3+0x1*0x107d,Math['floor']((_0x14eef4[_0xfc0f1c]-_0x2f7f24)*_0x385b2f)),_0xa9c928=Math['min'](-0x17b6+0x110f+0xaa6*0x1,Math['floor']((_0xa6b233[_0xfc0f1c]-_0x5999c0)*_0x465ebe)),_0x1d2405=Math['min'](-0x22ca+0x10a4+0x1*0x1625,Math['floor']((_0x520cd7[_0xfc0f1c]-_0x120ffc)*_0x43d5ff)),_0x213374=_0xf8c3c3(_0x41f6a2,_0xa9c928,_0x1d2405),_0x3502a3=_0x289aeb['get'](_0x213374);_0x3502a3?_0x3502a3['push'](_0xfc0f1c):_0x289aeb['set'](_0x213374,[_0xfc0f1c]);}const _0x23fc1c=Array['from'](_0x289aeb['keys']())['sort']((_0x56545c,_0x3af92d)=>_0x56545c-_0x3af92d),_0x242d25=new Uint32Array(this['numSplats']);let _0x2f8215=-0x44b*-0x1+0x24c*0xb+-0x1d8f;for(let _0x49f533=0xc84+-0x47*0xe+-0x8a2;_0x49f533<_0x23fc1c['length'];++_0x49f533){const _0x2eac26=_0x289aeb['get'](_0x23fc1c[_0x49f533]);for(let _0x2db1fe=0x599*-0x5+0x33*0x3+-0x1b64*-0x1;_0x2db1fe<_0x2eac26['length'];++_0x2db1fe)_0x242d25[_0x2f8215++]=_0x2eac26[_0x2db1fe];}return _0x242d25;}['reorder'](_0x1bc9b3){const _0x1e0320=new Map(),_0xc67da8=_0x5ca51d=>{if(_0x1e0320['has'](_0x5ca51d)){const _0x321dac=_0x1e0320['get'](_0x5ca51d);return _0x1e0320['delete'](_0x5ca51d),_0x321dac;}return new ArrayBuffer(_0x5ca51d);},_0x47dede=_0x32890e=>{_0x1e0320['set'](_0x32890e['byteLength'],_0x32890e);},_0x2c7365=_0x38e6c4=>{const _0xe387e5=new _0x38e6c4['constructo'+'r'](_0xc67da8(_0x38e6c4['byteLength']));for(let _0x18f775=0x13f1+0x5*0x54a+0x7d*-0x5f;_0x18f775<_0x1bc9b3['length'];_0x18f775++)_0xe387e5[_0x18f775]=_0x38e6c4[_0x1bc9b3[_0x18f775]];return _0x47dede(_0x38e6c4['buffer']),_0xe387e5;};this['elements']['forEach'](_0x1dcbd3=>{_0x1dcbd3['properties']['forEach'](_0x2be9ae=>{_0x2be9ae['storage']&&(_0x2be9ae['storage']=_0x2c7365(_0x2be9ae['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0xaef519=new Float32Array(0x8d7+0x7e2+0x42e*-0x4);new Int32Array(_0xaef519['buffer']);let _0x2d19ba=0x18f1+-0x685+-0x49b*0x4,_0x49e756={};self['onmessage']=async _0x34ccf9=>{const {data:_0x1326be}=_0x34ccf9;switch(_0x1326be['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x2cba23(_0x1326be['properties'],_0x1326be['timeIndex'],_0x1326be['timeOption']);break;case'releaseSeq'+'Data':_0x4b5465(_0x1326be['index']);break;case'releaseAll'+'SeqData':_0x28145a();break;case'destroyWor'+'ker':_0x112a12();break;}};const _0x786de5=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x332e5c=0x1aca+0x23d3+-0x3e9d;_0x332e5c<-0x100a+0x1567+-0x530;++_0x332e5c)if(!_0x49e756['f_rest_'+_0x332e5c])return _0x332e5c;return-0xacb+-0x1f09*0x1+0x2a01*0x1;})())]??0x9a*-0x3b+0x1*0x1904+-0x95*-0x12),_0x2cba23=(_0x2327cd,_0x477287,_0x31bead)=>{var _0x36093b,_0x426f4b;_0x2d19ba+=(((_0x36093b=_0x2327cd['position'])==null?void(-0x1bca+0x1*0x13f3+0x7d7):_0x36093b['length'])??0x151*-0xd+0x1a09+-0x8ec*0x1)/(-0xe80+-0x20a2+-0xfb7*-0x3),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x2d19ba,(((_0x426f4b=_0x2327cd['position'])==null?void(-0x26*-0x14+-0x10bf+0xdc7):_0x426f4b['length'])??0x6b*-0x16+0x1c78+-0x1346*0x1)/(-0x2*0x523+-0xf20+0x1969));const _0x2f28a2=Object['keys'](_0x2327cd);for(let _0x53492c=0x4*-0x362+-0x114b*-0x1+-0x3*0x141;_0x53492c<_0x2f28a2['length'];_0x53492c++){const _0x4b22f3=_0x2f28a2[_0x53492c],_0x48619e=_0x2327cd[_0x4b22f3],_0x508fc9=_0x49e756[_0x4b22f3]??new Float32Array(0x11cc+0x134c*0x2+-0x24*0x191);if(_0x48619e){let _0x3f0d88=null;switch(_0x4b22f3){case'position':_0x3f0d88=new Float32Array(_0x2d19ba*(-0x1b11+0x2038+0x7*-0xbc));break;case'color_opac'+'ity':_0x3f0d88=new Uint16Array(_0x2d19ba*(0x1*-0x252e+-0x1278+0x37aa));break;case'scale':_0x3f0d88=new Uint16Array(_0x2d19ba*(0x1*-0x1237+0x67*-0x17+0x1b7b));break;case'motion':_0x3f0d88=new Float32Array(_0x2d19ba*(0xddb+-0x196a+0x5c9*0x2));break;case'rotation':_0x3f0d88=new Float32Array(_0x2d19ba*(-0x15*0x14f+0x168b+0x7*0xb5));break;default:_0x3f0d88=new Float32Array(_0x2d19ba);break;}_0x3f0d88['set'](_0x508fc9,-0x1*-0x20a4+-0xd7f+-0x1325),_0x3f0d88['set'](_0x48619e,_0x508fc9['length']),_0x49e756[_0x4b22f3]=_0x3f0d88;}}const _0x1f24ad={};Object['keys'](_0x49e756)['forEach'](_0x16cb51=>{_0x16cb51==='scale'||_0x16cb51==='color_opac'+'ity'?_0x1f24ad[_0x16cb51]=new Uint16Array(_0x49e756[_0x16cb51]['buffer']['slice']()):_0x1f24ad[_0x16cb51]=new Float32Array(_0x49e756[_0x16cb51]['buffer']['slice']());});const _0x3a6df5=Object['keys'](_0x1f24ad)['map'](_0x446247=>_0x1f24ad[_0x446247]['buffer']),_0x560748=_0x82319a(),_0x341af8=Object['keys'](_0x560748)['map'](_0x54ca2f=>_0x560748[_0x54ca2f]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x1f24ad,'transformData':_0x560748},_0x3a6df5['concat'](_0x341af8));},_0x82319a=()=>{const _0x391ff4=_0x49e756['position']['length']/(0x13e4+0x224c+-0x362d*0x1),_0x325c80=_0x49e756['position'],_0x460920=_0x49e756['scale'],_0x5a576c=_0x49e756['rotation'],_0xd4290f=_0x49e756['motion'],_0x1b1c37=_0x49e756['t'],_0x18c05e=_0x49e756['t_scale'],_0xa4ac10=_0x49e756['time_index'],_0x5076d7=_0x49e756['color_opac'+'ity'],_0x28ddde=(_0x1b1c37==null?void(-0x766+0x14*0x1ca+0x40e*-0x7):_0x1b1c37['length'])>0x484+-0x2435+0x1fb1;let _0x4e634a=null,_0x3c0416=null,_0x2495ee=null,_0x10ea38=null;_0x28ddde&&(_0x3c0416=new Float32Array(_0x391ff4*(-0x167f*-0x1+-0x2*0x131+-0x141a)),_0x10ea38=new Float32Array(_0x391ff4),_0x4e634a=new Float32Array(_0xd4290f['buffer']['slice']()),_0x2495ee=new Float32Array(_0xd4290f['buffer']['slice']()));const _0x1ac43b=new Float32Array(_0x325c80['buffer']['slice']()),_0x4a5f27=new Float32Array(_0x325c80['buffer']['slice']()),_0x422269=new Uint16Array(_0x5076d7['buffer']['slice']()),_0x203d64=new Uint16Array(_0x460920['buffer']['slice']()),_0x242b4e=new Float32Array(_0x5a576c['buffer']['slice']());for(let _0x2f9b5f=0x15b6+-0x893*0x1+0x39*-0x3b;_0x2f9b5f<_0x391ff4;++_0x2f9b5f)_0x28ddde&&_0x3c0416&&_0x10ea38&&(_0x10ea38[_0x2f9b5f]=_0x18c05e?Math['exp'](_0x18c05e[_0x2f9b5f]):0x1980+-0x2252+0x8d2,_0x3c0416[_0x2f9b5f*(-0x13aa+0x86*-0x14+0x1*0x1e25)+(0x7c5*-0x5+-0xd*-0x12f+0x1776)]=_0x1b1c37?_0x1b1c37[_0x2f9b5f]:-0x1*-0x1f01+-0x8b*-0x5+0x1a*-0x14c,_0x3c0416[_0x2f9b5f*(0x22d5*-0x1+0x8d*0x1c+0x136c)+(0x417+0x3a4*0x3+0x1*-0xf02)]=_0x10ea38[_0x2f9b5f]);const _0xf01cd6=_0x20c284();let _0x586ea0={'dataColor':_0x422269,'dataCenters':_0x4a5f27,'dataPosition':_0x1ac43b,'dataScale':_0x203d64,'dataRotation':_0x242b4e,..._0xf01cd6};return _0x28ddde&&(_0x586ea0={..._0x586ea0,'dataMotion':_0x4e634a,'dataTime':_0x3c0416,'motion':_0x2495ee,'tScaleArray':_0x10ea38,'muT':new Float32Array(_0x1b1c37),'timeIndex':new Float32Array(_0xa4ac10)}),_0x586ea0;},_0x3cf903=_0x2c7ccb=>{const _0x57f162=[];for(let _0x409baa=0xd1f+-0x22b7+0x1598;_0x409baa<_0x2c7ccb;++_0x409baa)_0x57f162['push'](_0x49e756['f_rest_'+_0x409baa]);return _0x57f162;},_0x20c284=()=>{const _0x5766ae=_0x786de5();if(_0x5766ae<=0x9dc+0xda9+-0x1785)return{};const _0x9cff31=_0x49e756['x']['length'],_0x442694=new Uint32Array(_0x9cff31*(0x1*-0x183e+-0x91d*0x1+-0x1*-0x215f)),_0x76ecd4=new Uint32Array(_0x9cff31*(-0x4c0*-0x8+-0x60c+-0x1ff0)),_0x37fa9e=new Uint32Array(_0x9cff31*(-0x77c+-0x1*0x193+0x913)),_0x5d6ab8=new Uint32Array(_0x9cff31*(-0x1*-0x1d4+-0x3d*0x8b+0x1f4f)),_0x5c367a={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5766ae],_0x4d36e6=_0x3cf903(_0x5c367a*(0xeac+-0x1*0x12bf+0x416)),_0x5c0a6c=0x1810+-0x1322+0x311,_0x570a1c=0x1*0x1a74+-0x1*0x8f0+-0xd85,_0x28f476=new Float32Array(0x1*0x12cb+-0x622*0x3+-0x64),_0x3fe49e=new Uint32Array(_0x28f476['buffer']),_0x2be95c=new Array(_0x5c367a*(-0x25f4+0x118c+-0x1*-0x146b))['fill'](0x7a1+-0x1d79+0xaec*0x2);for(let _0x3e39c2=0x19e1+0x1*-0x4f5+-0x2*0xa76;_0x3e39c2<_0x9cff31;++_0x3e39c2){for(let _0x122a01=-0x4*0x148+0x6*-0x39+0x676;_0x122a01<_0x5c367a;++_0x122a01)_0x2be95c[_0x122a01*(-0x124*-0x1b+-0x190e+0x1*-0x5bb)]=_0x4d36e6[_0x122a01][_0x3e39c2],_0x2be95c[_0x122a01*(-0x15cc+0x31*-0x6d+-0x1556*-0x2)+(-0x51*0x21+-0x1314+-0xec3*-0x2)]=_0x4d36e6[_0x122a01+_0x5c367a][_0x3e39c2],_0x2be95c[_0x122a01*(-0x26c1+-0x1cf+-0x263*-0x11)+(0x28b+0x262a+0x1c5*-0x17)]=_0x4d36e6[_0x122a01+_0x5c367a*(0xc36+0x1097+-0x1ccb)][_0x3e39c2];let _0x4c8d4c=_0x2be95c[-0x2258+-0xd1*-0x17+0xf91];for(let _0x238f36=-0x16af+0x2072+0x4e1*-0x2;_0x238f36<_0x5c367a*(0x1b2+-0x14c2+0x1313);++_0x238f36)_0x4c8d4c=Math['max'](_0x4c8d4c,Math['abs'](_0x2be95c[_0x238f36]));if(_0x4c8d4c!==-0xf55*0x1+0x12*0x1a6+-0xe57){for(let _0x411c85=-0x1798+-0x10b0+-0x8*-0x509;_0x411c85<_0x5c367a;++_0x411c85)_0x2be95c[_0x411c85*(0x1967+0x1bda+0x1*-0x353e)+(0x8b*0x5+-0x2326+-0x206f*-0x1)]=Math['max'](0xb4e+-0x22d2+-0x2*-0xbc2,Math['min'](_0x5c0a6c,Math['floor']((_0x2be95c[_0x411c85*(0x2a2*-0x5+-0xb33*0x3+0x2ec6)+(0x5a+-0x2456*0x1+-0x2f*-0xc4)]/_0x4c8d4c*(0x1*0x206e+0xbaf*0x1+-0x2c1d*0x1+0.5)+(0xb*0x1e4+-0x13*0x33+-0xd*0x14f+0.5))*_0x5c0a6c+(-0xa4*0x34+-0x2*0x207+0x12af*0x2+0.5)))),_0x2be95c[_0x411c85*(-0x1*-0x2133+0x1*-0x11e3+-0xf4d)+(0x131*-0x15+0x1c8b*-0x1+0x3591)]=Math['max'](0x1*-0x2476+0x156d+-0xf09*-0x1,Math['min'](_0x570a1c,Math['floor']((_0x2be95c[_0x411c85*(0x1079+-0x261d+-0x17*-0xf1)+(0x3f1*-0x1+0x47+-0x3ab*-0x1)]/_0x4c8d4c*(0x1*-0x2543+-0x242*-0x11+-0x11f+0.5)+(-0x258f+0x1d70+0x81f+0.5))*_0x570a1c+(-0x2*0x7ea+0x10a6+-0xd2+0.5)))),_0x2be95c[_0x411c85*(0x62*-0x4b+-0x254e+0x4207*0x1)+(0x1bdb+0x1ba1+-0x377a)]=Math['max'](-0x2a9+0x3c8+-0x11f,Math['min'](_0x5c0a6c,Math['floor']((_0x2be95c[_0x411c85*(-0x20d8+0x2e*-0x71+0x3529)+(0x1504+0x1*-0x1426+0x2*-0x6e)]/_0x4c8d4c*(0xfec+-0xb3+-0xf39+0.5)+(0x2*0x7cb+-0xb10+0x3*-0x182+0.5))*_0x5c0a6c+(0xe7*0xb+0x226+-0xc13+0.5))));_0x28f476[0x1efe+-0x3f5*0x8+0x22*0x5]=_0x4c8d4c,_0x442694[_0x3e39c2*(-0x1429+-0x67*-0x5d+-0x113e)+(0x8*0x2b0+-0xd0f+0x871*-0x1)]=_0x3fe49e[0x1db1+0x1091+-0x1*0x2e42],_0x442694[_0x3e39c2*(-0x1*-0x91f+0x33f*0x5+0x439*-0x6)+(0x132e+0x80*-0x30+0x1*0x4d3)]=_0x2be95c[0xf95*0x1+0x1df9*0x1+-0x31*0xee]<<0x20ce+0x7*0x235+-0x302c|_0x2be95c[-0x11ea+0xbc5+-0x1*-0x626]<<0x1*-0x2317+0x42*-0x5b+0x3a98|_0x2be95c[-0x11d2*-0x2+0x20ea+-0x6b*0xa4],_0x442694[_0x3e39c2*(-0x1289+0x83*-0x37+-0x1759*-0x2)+(-0x4d4+-0x19c4+0x2*0xf4d)]=_0x2be95c[0x3*-0xa6f+0x2333*0x1+-0x3e3]<<-0x2dd*0x8+0x24a0*0x1+-0xda3|_0x2be95c[-0x20f9*-0x1+-0x1e3*0x3+-0x1b4c]<<-0x1087+0x4cc+0x2*0x5e3|_0x2be95c[-0x151*0xb+0x1f*0x19+0xb79],_0x442694[_0x3e39c2*(0x50*0x65+-0x1ebb+0xd1*-0x1)+(-0x1*-0x5bc+-0x7a6+0x1*0x1ed)]=_0x2be95c[0x1e8*0x10+0x1b63+-0x1*0x39dd]<<0x1f6d+-0x1ca8+-0x2b*0x10|_0x2be95c[0x1*0x2267+-0xb7a+-0x16e6]<<0xd30*-0x1+-0x1c1f+0x295a|_0x2be95c[-0xcc*-0x29+0x3ce+-0x2472],_0x5766ae>-0x1077+-0x253*-0xf+-0x1265&&(_0x76ecd4[_0x3e39c2*(-0x4f6+-0xf1f+0x93*0x23)+(-0x97*-0x23+0x766+-0x1c0b)]=_0x2be95c[-0x11bf+-0x1f*-0x138+-0x1400]<<0x1*0x14ae+0x1*0x1101+-0x259a|_0x2be95c[0x1faf+0x2528+-0x44cd]<<0x109d*-0x2+-0xa5c+-0x49*-0x99|_0x2be95c[0x36*0x31+-0xcf9+0x2ae],_0x76ecd4[_0x3e39c2*(-0x19*0x9+0x1*0x26+0xbf*0x1)+(0x1b7d+0x2*0xecb+-0x1306*0x3)]=_0x2be95c[-0x21ff+-0x1e00*0x1+-0x5*-0xccf]<<-0x99d+-0x2595+0x7*0x6c1|_0x2be95c[0x20c7+-0x1fbc+-0xfe]<<0x3*-0x96d+0x2388+-0x2*0x39b|_0x2be95c[0x1*-0xd4f+0x15dd+-0x2*0x440],_0x76ecd4[_0x3e39c2*(0x195e+-0x373+-0x15e7)+(-0x2407+0x1*-0x197+0x25a0)]=_0x2be95c[0x388+-0x3*-0x39+-0x424]<<0x8fa+-0x20a+-0x9*0xc3|_0x2be95c[-0x9ee+0x163e+0xe0*-0xe]<<0x96b*0x3+-0x107e+-0xbb8|_0x2be95c[-0x4e*-0x5d+0x221f+-0x3e64],_0x76ecd4[_0x3e39c2*(0x779*-0x5+-0x16ce+0x3c2f)+(0x14ae+-0x591+0x2*-0x78d)]=_0x2be95c[-0x1*-0xfeb+0x8f5+-0x18ce]<<0x11a*-0x2+0x653*-0x4+0x1b95|_0x2be95c[0x47d*-0x3+0x201*0x11+-0x1487]<<-0xb4d*0x2+-0x12ea+0x298f|_0x2be95c[0x6d*-0x11+-0x735+0x2*0x743],_0x5766ae>-0x1*0x905+-0x2077+0x297e?(_0x37fa9e[_0x3e39c2*(-0x8be+0x1e98+0xaeb*-0x2)+(0xa25+0x187b+-0x454*0x8)]=_0x2be95c[0x15f1+0x8cf+-0x3*0xa39]<<0x19f0+-0x1*0x2619+0x1*0xc3e|_0x2be95c[0x83*-0x1c+0x5*0x2d5+0x41]<<-0x14*0x1d2+-0xadc+0x21*0x16f|_0x2be95c[-0xc57+-0x1b9a*0x1+0x2808],_0x37fa9e[_0x3e39c2*(-0x1*0x1b7+-0x2647+0x2802)+(-0x2510+-0x1c76+-0x29f*-0x19)]=_0x2be95c[0x2*0x3df+-0x103a+0x894]<<-0x11b5+0x4b4*-0x7+0x32b6|_0x2be95c[-0xdf8+0x661*0x1+-0x148*-0x6]<<-0x132a+0x204d+-0xd18|_0x2be95c[-0x3*0x695+0x1b86+-0x7ad],_0x37fa9e[_0x3e39c2*(-0x481*0x7+0x1*-0x1bc3+0x3b4e)+(0x14f6+0x2472+-0x3966)]=_0x2be95c[-0x25e0+0x180*0x1a+-0x105]<<-0x2*-0x379+-0x1*0xc5b+-0x25*-0x26|_0x2be95c[-0x2*0x73+0x4*-0x9af+0x2*0x13df]<<-0x2d2*-0x3+0x1295+-0x1b00|_0x2be95c[-0xf3a+0xa59*-0x1+-0x18*-0x112],_0x37fa9e[_0x3e39c2*(-0x2*0x4c7+0x1b77+-0x11e5)+(0x4*0x137+-0x78e*0x5+-0x20ed*-0x1)]=_0x2be95c[-0x1201+-0xc7*0x26+0x2fa9]<<0x1d1a+-0x3*0xb2e+-0xd*-0x59|_0x2be95c[0x1729+0x7*-0x2f+-0x15c1]<<0x2b3*0x6+-0x45*0x2c+-0x44b|_0x2be95c[0x1*-0x1e2f+-0xa*-0x181+0xf45],_0x5d6ab8[_0x3e39c2*(0x1149+0x7*0x309+-0x2*0x1342)+(-0x1ab3+0x503+0x15b0)]=_0x2be95c[-0x4a*-0x1c+-0x12a*-0x1+-0x921]<<0x1943+-0xae7*0x2+-0x360|_0x2be95c[0x10b7*0x2+-0x13d2+-0xd7a]<<0x259c+-0xccd+-0x18c4|_0x2be95c[-0x66*0xb+-0x2584+0x2a09],_0x5d6ab8[_0x3e39c2*(-0x66*0x5c+-0xc37*0x2+0x3d1a)+(0x1*0x1ba+0x1608+-0x17c1)]=_0x2be95c[-0x2d*0x4b+0x251c+0x17c9*-0x1]<<0x6*-0x4e1+-0x2*-0x11ed+-0x67f|_0x2be95c[-0xe0c+-0xad3*0x3+0xb*0x43e]<<0x10c0+-0xf4+-0xfc1|_0x2be95c[0x493+-0x462+0xb*-0x1],_0x5d6ab8[_0x3e39c2*(0xb4d+-0x2*0xf1d+0xd*0x175)+(-0x1cc+0x86e+0x6a0*-0x1)]=_0x2be95c[-0xcdb+-0x32f*0xb+-0x1*-0x3007]<<-0xf*0xef+-0xf4*-0x1+-0xd22*-0x1|_0x2be95c[-0x1174+-0x1e2f*0x1+0x2fcb*0x1]<<0x78d+-0x8ff+-0x17d*-0x1|_0x2be95c[-0xfae+-0x22ce+0x32a5],_0x5d6ab8[_0x3e39c2*(-0x933+-0x25*-0xc9+-0x13d6)+(-0x23f6+0x13f*0xd+0x13c6)]=_0x2be95c[-0x1*0xc26+-0x7bf*-0x1+0x491]<<0x234a+0xfb7+-0x32ec|_0x2be95c[0xaeb+-0x956+-0x16a]<<0x1c8c+0x5*0x5d2+-0x399b|_0x2be95c[0x2001*-0x1+0x1*0xc5f+-0x6*-0x34d]):_0x37fa9e[_0x3e39c2]=_0x2be95c[-0x1bb6+-0xd2+-0x5b9*-0x5]<<-0x2*-0x1bd+0x47*-0x2e+-0x2f*-0x33|_0x2be95c[-0x1*0x1f14+0x14ba+0xa70]<<-0x20d0+-0x1853+-0x1c97*-0x2|_0x2be95c[0x33f*0x6+0x1d54+0x1*-0x30b7]);}}return{'sh1to3Data':_0x442694,'sh4to7Data':_0x76ecd4,'sh8to11Data':_0x37fa9e,'sh12to15Data':_0x5d6ab8};},_0x4b5465=_0x50611d=>{if(!_0x49e756['time_index'])return;const _0x3f6653=_0x49e756['time_index']['findIndex'](_0x5de4a3=>_0x5de4a3===_0x50611d);let _0x583743=_0x49e756['time_index']['findIndex']((_0x2c3728,_0x5a2850)=>_0x2c3728!==_0x50611d&&_0x5a2850>_0x3f6653);if(_0x583743===-(0x188e+0x12f4*-0x1+-0x599*0x1)&&_0x3f6653===-(0x1*0x12c+0x2249+-0x2374))return;_0x583743===-(-0x1*0x10a8+-0xb1e+0x1bc7)&&_0x3f6653!==-(0x1165+0x626*-0x3+0x10e)&&(_0x583743=_0x49e756['time_index']['length']),_0x2d19ba-=_0x583743-_0x3f6653,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x2d19ba,_0x583743-_0x3f6653);const _0x1d8538=Object['keys'](_0x49e756);for(let _0x18caf5=0x46+-0x18c5+0x187f;_0x18caf5<_0x1d8538['length'];_0x18caf5++){const _0x52bd43=_0x1d8538[_0x18caf5],_0x22f488=_0x49e756[_0x52bd43];if(_0x22f488){let _0x50ec61=-0x2cc*0x1+-0x464+0x731;switch(_0x52bd43){case'position':_0x50ec61=0x13e9+0x607*-0x1+-0xddf;break;case'color_opac'+'ity':_0x50ec61=-0x1222+0xf*-0xe5+-0x1*-0x1f91;break;case'scale':_0x50ec61=-0x3fa*0x2+-0x1*-0x255a+-0x1d63;break;case'motion':_0x50ec61=-0x1e3d*0x1+-0x1c0c+0x3a4c;break;case'rotation':_0x50ec61=0x27*0xd4+0x1fe9*-0x1+-0x6*0x10;break;default:_0x50ec61=0x163d+-0xa50+-0xbec;break;}const _0x25693a=new Float32Array(_0x2d19ba*_0x50ec61);_0x3f6653>-0x3c1+-0xed2*-0x1+-0x1*0xb11?(_0x25693a['set'](_0x22f488['subarray'](-0x57c*0x5+-0x621*0x3+0x517*0x9,_0x3f6653*_0x50ec61),0x5d0+-0xe6e+-0x44f*-0x2),_0x25693a['set'](_0x22f488['subarray'](_0x583743*_0x50ec61),_0x3f6653*_0x50ec61)):_0x25693a['set'](_0x22f488['subarray'](_0x583743*_0x50ec61),-0x1*0x19bf+0x4*0x1d6+-0x7*-0x2a1),_0x49e756[_0x52bd43]=_0x25693a;}}},_0x28145a=()=>{const _0x1ec089=Object['keys'](_0x49e756);for(let _0x543d5a=0x95e+0x25c+-0x4f*0x26;_0x543d5a<_0x1ec089['length'];_0x543d5a++){const _0x34fb7d=_0x1ec089[_0x543d5a];_0x49e756[_0x34fb7d]&&(_0x49e756[_0x34fb7d]=[]);}},_0x112a12=()=>{_0x49e756={},_0x2d19ba=0x1971+0x1d61+-0x36d2;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x1ea6c6,_0x2e22e4,_0x2d59bc,_0x48b702=!(-0x1b41+-0x1*-0x88a+0x12b8)){var _0x26d6a5,_0x1fe507;const _0x4efda9={};return _0x1ea6c6['elements'][0x85e+0xccb+-0x1529]['properties']['forEach'](_0x520d49=>{_0x4efda9[_0x520d49['name']]=_0x520d49['storage'];}),_0x48b702?(_0x26d6a5=this['worker'])==null||_0x26d6a5['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4efda9,'timeIndex':_0x2e22e4,'timeOption':_0x2d59bc},_0x1ea6c6['elements'][0x6*0x4be+0x11b*-0x2+0xd1f*-0x2]['properties']['map'](_0x58988d=>_0x58988d['storage']['buffer'])):(_0x1fe507=this['worker'])==null||_0x1fe507['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4efda9,'timeIndex':_0x2e22e4,'timeOption':_0x2d59bc}),new Promise(_0x13c474=>{this['worker']['onmessage']=_0x502b8c=>{if(!this['worker'])return;const {data:_0x1817bb}=_0x502b8c;_0x1817bb['type']==='newAppendD'+'ata'&&_0x13c474(_0x1817bb);};});}async['releaseSeq'+'Data'](_0x151a2){var _0x461f9e;(_0x461f9e=this['worker'])==null||_0x461f9e['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x151a2});}async['releaseAll'+'SeqData'](){var _0x295e92;(_0x295e92=this['worker'])==null||_0x295e92['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x3508a7;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x3508a7=this['worker'])==null||_0x3508a7['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x14e*0x6+0x143e*-0x1+0x1c13,-0x1b5d+0x115*0x14+0x5ba,0x1309+0x1de7*-0x1+0xade,0x1*-0x13ff+0x1683*-0x1+0x2a82+0.4),Sg=-0x19686+-0x5a80b+0x36e9b*0x3;class tC{constructor(_0x382c19,_0x41fcab,_0x277186,_0x3e22dd,_0x432fe7,_0x588a07){const _0x45bd61=_0x382c19['getProp']('position'),_0x1687b7=_0x382c19['getProp']('color_opac'+'ity'),_0x588686=_0x382c19['getProp']('scale'),_0x249836=_0x382c19['getProp']('motion'),_0x3e34ac=_0x382c19['getProp']('rotation');this['read']=_0x10161f=>{_0x41fcab&&_0x41fcab['set'](_0x45bd61[_0x10161f*(-0xa16*-0x2+-0x553+-0xed6)+(0x1d09*-0x1+-0x229a+0xb*0x5c9)],_0x45bd61[_0x10161f*(0xa*-0x64+0x1753+-0x8*0x26d)+(-0x2233+-0x505*-0x6+0x416)],_0x45bd61[_0x10161f*(-0x19*0xaf+0x11e*0xe+0x176)+(0x136+0x1169+0x1*-0x129d)]),_0x277186&&_0x277186['set'](_0x3e34ac[_0x10161f*(0x258f+-0x2279+0x1*-0x313)+(0x153d*-0x1+0xd3e+-0x17*-0x59)],_0x3e34ac[_0x10161f*(-0x1eb*-0x11+-0x1*-0x1803+-0x389b)+(-0x262e+-0x132b+-0x98f*-0x6)],_0x3e34ac[_0x10161f*(-0x10d*0x19+0x39*-0xa5+0x3f05)+(0xb*0x6b+-0x439+0x2*-0x2f)]),_0x3e22dd&&_0x3e22dd['set'](_0x588686[_0x10161f*(-0x36f*-0x1+0x6f9+0xa65*-0x1)+(0x29b*-0x6+0x2255+-0x12b3)],_0x588686[_0x10161f*(-0x1439+-0x9e1+0x1e1d)+(0x232e+0x35*-0x15+-0x1ed4)],_0x588686[_0x10161f*(0x1af5*-0x1+0x67a*0x5+-0x56a)+(0x1*-0x2501+-0x2*-0x11e7+-0x1*-0x135)]),_0x588a07&&_0x249836&&_0x588a07['set'](_0x249836[_0x10161f*(-0x1*0x2302+-0x173e+0x5f*0x9d)+(0xe4a+-0x69c+0x3d7*-0x2)],_0x249836[_0x10161f*(0x1d*-0x4f+0x1dcc+-0x14d6)+(0x939*-0x3+-0x2*-0x2bd+0x2*0xb19)],_0x249836[_0x10161f*(0xea3*-0x2+0x10*0x20a+-0x39*0xf)+(0x2354+0x142a+-0x86*0x6a)]),_0x432fe7&&_0x432fe7['set'](_0x1687b7[_0x10161f*(0x1*-0x22d+-0x2490+0x26c1)+(-0x2529+0x853+0x1cd6)],_0x1687b7[_0x10161f*(0x87*0xf+-0x12a9*0x2+-0x3*-0x9cf)+(0x326+-0x1*-0x16bb+0x1*-0x19e0)],_0x1687b7[_0x10161f*(-0x1dc7+-0xc1*-0x26+0x125)+(-0x8fc*-0x4+-0xd*-0x17b+0x372d*-0x1)],_0x1687b7[_0x10161f*(-0x2202+0x4a7*-0x1+0x26ad*0x1)+(0x3*-0x39e+0x57b*0x1+0x2b1*0x2)]);};}}const sC=(_0x5121e2,_0x7514a3,_0x25f345)=>{gg['set'](_0x25f345['x'],_0x25f345['y'],_0x25f345['z'],_0x25f345['w'])['normalize'](),_0x5121e2['setTRS'](_0x7514a3,gg,D['ONE']);};class iC{constructor(_0x471aa9,_0x13dff9=[],_0x38e940=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0xef2+0x1*0x2311+-0x3203),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x36a9ab;(_0x36a9ab=this['dataWorker'])==null||_0x36a9ab['destroy'](),this['dataWorker']=null;});var _0x385918,_0x58b311,_0x2251f9;this['elements']=_0x471aa9,this['properties']=_0x38e940,this['numSplats']=((_0x385918=this['getElement']('vertex'))==null?void(0xdda+0xc43*-0x3+0x16ef):_0x385918['count'])??-0x68*0x3a+-0x1f62+0x36f2*0x1,this['comments']=_0x13dff9,this['is4D']=!!((_0x2251f9=(_0x58b311=this['getElement']('vertex'))==null?void(-0xeaa*-0x2+0x16c2+-0x2*0x1a0b):_0x58b311['properties']['find'](_0x3ee3e3=>_0x3ee3e3['name']==='t'))!=null&&_0x2251f9['storage']);}async['appendGSpl'+'atData'](_0x4ebacb,_0xd2207f,_0x13dee5){var _0x5f2306;let _0x476dfe=-0x1167+-0x167d+-0x2e*-0xde;for(let _0x52eaeb=-0x1c7b+-0x1bc0+0x383b;_0x52eaeb<_0x13dee5['length']&&_0xd2207f>_0x13dee5[_0x52eaeb];_0x52eaeb+=0x139*0x19+0x3*0x4b2+-0x40f*0xb)_0x476dfe=_0x52eaeb/(-0x2*-0x3df+0x329+0xae5*-0x1);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x12ce+0x2*0x9c9+-0x2660,_0x13dee5));const _0x248392=this['getElement']('vertex');_0x248392&&(_0x248392['count']=this['numSplats']);const _0x5f6d44=await this['dataWorker']['appendGSpl'+'atData'](_0x4ebacb,_0x476dfe,_0x13dee5,!(-0x10fe+-0x15*0x1b1+0x1181*0x3)),_0x4a1841=_0x5f6d44['properties'],_0x3ee9a9=((_0x5f2306=this['getElement']('vertex'))==null?void(0xd*0xb3+0x1765+-0x4*0x81f):_0x5f2306['properties'])??[];for(const _0x218301 in _0x4a1841){const _0x394371=_0x3ee9a9['find'](_0xbeca43=>_0xbeca43['name']===_0x218301);_0x394371?_0x394371['storage']=_0x4a1841[_0x218301]:_0x3ee9a9['push']({'type':'float','name':_0x218301,'storage':_0x4a1841[_0x218301],'byteSize':0x4});}this['transformD'+'ata']=_0x5f6d44['transformD'+'ata'],this['numSplats']=_0x4a1841['position']['length']/(-0x1*0xb53+-0x1e3a+0x2990);}async['releaseSeq'+'Data'](_0x13e03e){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x13e03e),this['dataWorker']['releaseSeq'+'Data'](_0x13e03e),this;}async['releaseAll'+'SeqData'](){var _0x3e27fe;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x3e27fe=this['dataWorker'])==null||_0x3e27fe['releaseAll'+'SeqData'](),this;}['getProp'](_0x42b835,_0x282d58='vertex'){var _0x8746d0,_0x568c8a;return(_0x568c8a=(_0x8746d0=this['getElement'](_0x282d58))==null?void(-0x111e+0x15db+-0x4bd):_0x8746d0['properties']['find'](_0x15623f=>_0x15623f['name']===_0x42b835))==null?void(-0x1*0x24c+0x3*-0x12e+0x5d6):_0x568c8a['storage'];}['getElement'](_0x42c707){return this['elements']['find'](_0x4f7a11=>_0x4f7a11['name']===_0x42c707);}['createIter'](_0x13513a,_0x49f1c0,_0x4741f1,_0xc185a2,_0x11bab0){return new tC(this,_0x13513a,_0x49f1c0,_0x4741f1,_0xc185a2,_0x11bab0);}['calcAabb'](_0x134d0b,_0x1efd6e){let _0x2f7257=-0xcb*-0x7+-0x1300+0xd73*0x1,_0x48b524=0x1553+0xfb*-0x1d+0x71c,_0x302798=0x3e*0x35+-0x1db1+0x35f*0x5,_0x5162d0=-0x1548+0x1835+0x6b*-0x7,_0xce18a7=0xe1e*0x1+0x21dc+-0x2ffa,_0xda4e8c=0xd*0xeb+0x22a3*-0x1+-0x4*-0x5ad,_0x4f6d15=!(-0x3b*-0xe+0x277*0x2+-0x48*0x1d);const _0x117f6d=this['getProp']('position'),_0x5a0210=this['getProp']('scale');for(let _0x2eefbb=0x826*-0x3+0x1*-0x132+0x19a4;_0x2eefbb<this['numSplats'];++_0x2eefbb){if(_0x1efd6e&&!_0x1efd6e(_0x2eefbb))continue;const _0x154b54=_0x117f6d[_0x2eefbb*(0x16c6+0x17f7+0x175d*-0x2)+(0x765*-0x1+-0xc1c*-0x2+0x1*-0x10d3)],_0xe65d4f=_0x117f6d[_0x2eefbb*(0x371*-0xb+-0x3*-0xb23+0x475)+(-0x1*-0xa5+0x1*0x82a+-0x8ce)],_0x20d55e=_0x117f6d[_0x2eefbb*(-0xb23*0x2+0xb5a+0xaef)+(-0x504+-0x1*-0x1424+-0xf1e)],_0x5df8af=Math['max'](_0x5a0210[_0x2eefbb*(-0x1f84+0xf10+0x5*0x34b)+(0x8e4*-0x3+0x71*0x4f+-0x833)],_0x5a0210[_0x2eefbb*(0x18*-0x68+-0x722*-0x2+0x1*-0x481)+(-0x2567+0x1877+0x1*0xcf1)],_0x5a0210[_0x2eefbb*(-0xe3*-0x1+-0x517+-0x53*-0xd)+(0x29c*0x2+0x1*0x867+-0xd9d)]);if(!isFinite(_0x154b54)||!isFinite(_0xe65d4f)||!isFinite(_0x20d55e)||!isFinite(_0x5df8af))continue;const _0x2b8efe=(0x1*-0x20c5+0x16*0x21+-0x3*-0x9fb)*Math['exp'](_0x5df8af);_0x4f6d15?(_0x4f6d15=!(0x3*0x96a+0x119*0x1e+-0x3d2b),_0x2f7257=_0x154b54-_0x2b8efe,_0x48b524=_0xe65d4f-_0x2b8efe,_0x302798=_0x20d55e-_0x2b8efe,_0x5162d0=_0x154b54+_0x2b8efe,_0xce18a7=_0xe65d4f+_0x2b8efe,_0xda4e8c=_0x20d55e+_0x2b8efe):(_0x2f7257=Math['min'](_0x2f7257,_0x154b54-_0x2b8efe),_0x48b524=Math['min'](_0x48b524,_0xe65d4f-_0x2b8efe),_0x302798=Math['min'](_0x302798,_0x20d55e-_0x2b8efe),_0x5162d0=Math['max'](_0x5162d0,_0x154b54+_0x2b8efe),_0xce18a7=Math['max'](_0xce18a7,_0xe65d4f+_0x2b8efe),_0xda4e8c=Math['max'](_0xda4e8c,_0x20d55e+_0x2b8efe));}return _0x4f6d15||(_0x134d0b['center']['set']((_0x2f7257+_0x5162d0)*(0x1*-0x19f9+0x47*-0x67+0x368a+0.5),(_0x48b524+_0xce18a7)*(-0x517+0x17*-0x14d+0x1181*0x2+0.5),(_0x302798+_0xda4e8c)*(0x745+-0x267a+0x1f35+0.5)),_0x134d0b['halfExtent'+'s']['set']((_0x5162d0-_0x2f7257)*(-0x90e*-0x2+0x1208+-0x202*0x12+0.5),(_0xce18a7-_0x48b524)*(-0x19b0*-0x1+-0x1862+-0x14e+0.5),(_0xda4e8c-_0x302798)*(0x1*-0x10fd+-0x1822+-0x1d*-0x16b+0.5))),!_0x4f6d15;}['yieldToMai'+'n'](){var _0x35c8c0;return(_0x35c8c0=globalThis['scheduler'])!=null&&_0x35c8c0['yield']?globalThis['scheduler']['yield']():new Promise(_0x49b645=>{setTimeout(_0x49b645,0x1f7d+-0x122d+-0xd50);});}async['getCenters'](_0x333c77){const _0x1abfab=this['getProp']('x'),_0x89ed14=this['getProp']('y'),_0x5e24cb=this['getProp']('z');for(let _0x6c16c7=0x97f+-0x2*0xfe3+0x1647;_0x6c16c7<this['numSplats'];++_0x6c16c7)_0x333c77[_0x6c16c7*(0x1b63+-0x2ab*-0x8+-0x30b8)+(-0x1*0x107+0xc18+-0xb11)]=_0x1abfab[_0x6c16c7],_0x333c77[_0x6c16c7*(0x6cc+0x787+0x10*-0xe5)+(0x1a*0x5d+0x26a6+-0x3b3*0xd)]=_0x89ed14[_0x6c16c7],_0x333c77[_0x6c16c7*(0xa04+-0xe2b+0x2*0x215)+(0xdee+0x146b*-0x1+0x1*0x67f)]=_0x5e24cb[_0x6c16c7],_0x6c16c7%Sg===-0x2356+-0x24f4+0x2*0x2425&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x2fa483;if((_0x2fa483=this['transformD'+'ata'])!=null&&_0x2fa483['muT'])return this['transformD'+'ata']['muT'];const _0x51cbd3=this['getProp']('t');return _0x51cbd3?new Float32Array(_0x51cbd3):void(-0xacf*-0x1+0x5b7+-0x1086);}async['getTScale'](){const _0x416840=this['getProp']('t_scale');if(!_0x416840)return;const _0x3ad51f=new Float32Array(this['numSplats']);for(let _0x4cf773=0x18b3*-0x1+-0x21cb+0x3a7e;_0x4cf773<this['numSplats'];++_0x4cf773)_0x3ad51f[_0x4cf773]=Math['exp'](_0x416840[_0x4cf773]),_0x4cf773%Sg===0x4d6*-0x2+-0x631+-0xfdd*-0x1&&await this['yieldToMai'+'n']();return _0x3ad51f;}['getMotion'](_0x1a4802){const _0x4ad52f=this['getProp']('motion');_0x4ad52f&&new Float32Array(_0x4ad52f['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x288d5e;if((_0x288d5e=this['transformD'+'ata'])!=null&&_0x288d5e['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x3d4063=this['getProp']('time_index');if(_0x3d4063)return new Float32Array(_0x3d4063);}['calcFocalP'+'oint'](_0xc365a1,_0x55cc8e){const _0x251b61=this['getProp']('position'),_0x14fc9f=this['getProp']('scale');_0xc365a1['x']=0x15*-0x116+-0xe3*0x22+0x2*0x1a7a,_0xc365a1['y']=0x394+-0xc23*-0x1+-0xfb7,_0xc365a1['z']=0x7*-0x20d+-0x2170+0x2fcb*0x1;let _0x2f4386=0x159b+-0x23a1+0xe06;for(let _0x556da2=0x1849+0x26b+-0x1ab4;_0x556da2<this['numSplats'];++_0x556da2){if(_0x55cc8e&&!_0x55cc8e(_0x556da2))continue;const _0x358cf8=_0x251b61[_0x556da2*(-0xebd+-0x1*0x705+0x15c5)+(-0x1770+-0xbbf*0x1+0x232f)],_0x5bd6bb=_0x251b61[_0x556da2*(-0x796*0x1+-0x2*0x12e5+0x2d63)+(-0xf84+-0x201a+-0xa7*-0x49)],_0x1e442d=_0x251b61[_0x556da2*(0xbc6+-0xc*0x24b+0xfc1)+(-0x2*-0x29c+0x2*-0x1247+0x4*0x7d6)];if(!isFinite(_0x358cf8)||!isFinite(_0x5bd6bb)||!isFinite(_0x1e442d))continue;const _0x5ec6ed=(0x2b9+0x7*-0x44f+0x1b71)/(-0x109b*0x2+-0x1*0x254f+0x4686+Math['max'](_0x14fc9f[_0x556da2*(-0x41e+-0x1c74+-0x1b7*-0x13)+(-0x90b*0x2+0x70f*-0x2+0x3*0xabc)],_0x14fc9f[_0x556da2*(-0x2127+0x2*-0x827+0x3178)+(-0x792+0x1*0x1b8d+0x9fd*-0x2)],_0x14fc9f[_0x556da2*(0x2*0x4df+-0x1*0xd1d+0x362)+(0xcdf*0x3+0xb5a+0x1b9*-0x1d)]));_0xc365a1['x']+=_0x358cf8*_0x5ec6ed,_0xc365a1['y']+=_0x5bd6bb*_0x5ec6ed,_0xc365a1['z']+=_0x1e442d*_0x5ec6ed,_0x2f4386+=_0x5ec6ed;}_0xc365a1['mulScalar']((-0xb51*0x3+0x1*0x1871+0x983)/_0x2f4386);}['renderWire'+'frameBound'+'s'](_0x384f16,_0x526b5b){const _0x3cb3e1=new D(),_0x2736f7=new le(),_0x420133=new D(),_0x50b8f6=new D(),_0x42f955=new D(),_0x1a96b3=this['createIter'](_0x3cb3e1,_0x2736f7,_0x420133);for(let _0x56265b=-0x1*0x1594+-0x29*0x7d+0x2999;_0x56265b<this['numSplats'];++_0x56265b)_0x1a96b3['read'](_0x56265b),sC(gc,_0x3cb3e1,_0x2736f7),gc['mul2'](_0x526b5b,gc),_0x50b8f6['set'](_0x420133['x']*-(0x19*0xba+0x1df*0x13+-0x11e7*0x3),_0x420133['y']*-(0x2*-0xe82+0x554+0x17b2),_0x420133['z']*-(0x8c4+0x23*0x108+0x1*-0x2cda)),_0x42f955['set'](_0x420133['x']*(-0x746+-0xcb8+-0x280*-0x8),_0x420133['y']*(-0x225d+-0x8e*-0x45+-0x3e7),_0x420133['z']*(0x251*-0xb+0x3*0xc43+-0xb4c)),_0x384f16['immediate']['drawWireAl'+'ignedBox'](_0x50b8f6,_0x42f955,eC,!(-0x1cb5+0x9*-0x1cb+0x2cd8),_0x384f16['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x2030+-0x6f4+0x2725);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x545714=-0xc02+0xbe9*0x1+0x19;_0x545714<0x10e3+0x11a3+-0x2259;++_0x545714)if(!this['getProp']('f_rest_'+_0x545714))return _0x545714;return-0x52*0x7+-0x2439+0x4*0x9a9;})())]??0x223d+0x16a*0x17+-0x42c3;}['calcMorton'+'Order'](){const _0x342466=_0x3da753=>{let _0x1a8371=_0x3da753[-0x233+0x1*-0x579+0x7ac],_0x55c443=_0x3da753[0x191+-0x16ee+0x155d*0x1];for(let _0x21cb1f=-0xabe+0x2397+-0x5*0x4f8;_0x21cb1f<_0x3da753['length'];_0x21cb1f++)_0x3da753[_0x21cb1f]<_0x1a8371&&(_0x1a8371=_0x3da753[_0x21cb1f]),_0x3da753[_0x21cb1f]>_0x55c443&&(_0x55c443=_0x3da753[_0x21cb1f]);return{'min':_0x1a8371,'max':_0x55c443};},_0x32b355=(_0x3298af,_0x35884e,_0x3a9d57)=>{const _0x10de54=_0x747c70=>(_0x747c70&=0x1ba8+0x4*-0x332+-0xae1,_0x747c70=(_0x747c70^_0x747c70<<0x8c5*-0x1+-0x39c+0xc71)&0x3*-0x40b2fa0b+-0x5c9*0x4a624c+-0x1b7b5cc66*-0x2,_0x747c70=(_0x747c70^_0x747c70<<0x1879+-0x19*0x96+-0x9cb)&-0x1618b*-0x1a7+-0x4f70654+0x78e2*0xc0b,_0x747c70=(_0x747c70^_0x747c70<<-0x1b5e+-0x19d6*-0x1+0x18c)&0x1ba5e39+0x13*-0x466fd3+-0x2ee9*-0x23bb,_0x747c70=(_0x747c70^_0x747c70<<-0x3d2+0x1c2b+-0x81d*0x3)&0x122e0010+-0x23d6c47+-0x6cc0180,_0x747c70);return(_0x10de54(_0x3a9d57)<<-0x1*0x82e+0x1*-0x6b2+0xfe*0xf)+(_0x10de54(_0x35884e)<<-0xa*-0x24e+-0x2512*0x1+0xe07)+_0x10de54(_0x3298af);},_0x28400c=this['getProp']('x'),_0x974a8c=this['getProp']('y'),_0x15f7f4=this['getProp']('z'),{min:_0x25781f,max:_0x1d376e}=_0x342466(_0x28400c),{min:_0x282fdc,max:_0x21a294}=_0x342466(_0x974a8c),{min:_0x581a4b,max:_0x34095c}=_0x342466(_0x15f7f4),_0x2b39ac=_0x25781f===_0x1d376e?0x20c2+0x411*0x5+-0x1*0x3517:(0x3*0x5cf+-0x20b3*-0x1+0x2*-0x1710)/(_0x1d376e-_0x25781f),_0x39123b=_0x282fdc===_0x21a294?-0x15a6+-0x70*0x18+-0xa*-0x337:(-0x5e0+0x8a4+0x1*0x13c)/(_0x21a294-_0x282fdc),_0x202ffd=_0x581a4b===_0x34095c?0xb7*0x3+-0x289*0xa+0x1735:(0xf86+-0xf*-0x234+-0x2c92)/(_0x34095c-_0x581a4b),_0x5a63f4=new Map();for(let _0x5b602b=0x52*0x76+0x25*0x101+-0x4af1;_0x5b602b<this['numSplats'];_0x5b602b++){const _0x137d57=Math['min'](-0x26*0xd7+-0xedb+-0x43b*-0xc,Math['floor']((_0x28400c[_0x5b602b]-_0x25781f)*_0x2b39ac)),_0x4b4a82=Math['min'](0x1184+0xc2b+-0x19b0,Math['floor']((_0x974a8c[_0x5b602b]-_0x282fdc)*_0x39123b)),_0x560894=Math['min'](-0x22fa+0x43*-0x59+0x3e44,Math['floor']((_0x15f7f4[_0x5b602b]-_0x581a4b)*_0x202ffd)),_0x1a6105=_0x32b355(_0x137d57,_0x4b4a82,_0x560894),_0x494caf=_0x5a63f4['get'](_0x1a6105);_0x494caf?_0x494caf['push'](_0x5b602b):_0x5a63f4['set'](_0x1a6105,[_0x5b602b]);}const _0x297f25=Array['from'](_0x5a63f4['keys']())['sort']((_0x5328fb,_0x407ddd)=>_0x5328fb-_0x407ddd),_0x47ffbe=new Uint32Array(this['numSplats']);let _0xb4d9dd=0x1d83+-0x2*0xef0+0x5d;for(let _0x6f74dd=0x4c2+-0x1a86+0x15c4;_0x6f74dd<_0x297f25['length'];++_0x6f74dd){const _0x56de7f=_0x5a63f4['get'](_0x297f25[_0x6f74dd]);for(let _0x56e5fc=-0x5*0x6a4+0xa91+0x16a3;_0x56e5fc<_0x56de7f['length'];++_0x56e5fc)_0x47ffbe[_0xb4d9dd++]=_0x56de7f[_0x56e5fc];}return _0x47ffbe;}['reorder'](_0x1142a9){const _0x14df5b=new Map(),_0x1160d4=_0x578fcb=>{if(_0x14df5b['has'](_0x578fcb)){const _0xa4470f=_0x14df5b['get'](_0x578fcb);return _0x14df5b['delete'](_0x578fcb),_0xa4470f;}return new ArrayBuffer(_0x578fcb);},_0x38ab11=_0x23e0d9=>{_0x14df5b['set'](_0x23e0d9['byteLength'],_0x23e0d9);},_0x3eb60a=_0x59886d=>{const _0x4d4e05=new _0x59886d['constructo'+'r'](_0x1160d4(_0x59886d['byteLength']));for(let _0x2c7fc0=-0x10ba*0x1+-0x1194+0x1127*0x2;_0x2c7fc0<_0x1142a9['length'];_0x2c7fc0++)_0x4d4e05[_0x2c7fc0]=_0x59886d[_0x1142a9[_0x2c7fc0]];return _0x38ab11(_0x59886d['buffer']),_0x4d4e05;};this['elements']['forEach'](_0x438f59=>{_0x438f59['properties']['forEach'](_0x130b46=>{_0x130b46['storage']&&(_0x130b46['storage']=_0x3eb60a(_0x130b46['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x32edeb,_0x40eef0)=>{for(const _0x416b4b in _0x40eef0)_0x32edeb['resolve'](_0x416b4b)['setValue'](_0x40eef0[_0x416b4b]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x9c946d;(_0x9c946d=this['executeCal'+'lback'])==null||_0x9c946d['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x541ce7,_0x5916b8){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x541ce7,this['gsplatInst'+'ance']=_0x5916b8);const {resource:_0x562a8e}=_0x5916b8,_0x297289=new Map(Pe['get'](_0x541ce7,_0x541ce7['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x541ce7,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x297289,'fragmentIncludes':_0x297289,'fragmentDefines':new Map([['SH_BANDS',_0x562a8e['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x562a8e['createText'+'ure']('centroids',Ne,new J(0x9b*0x13+0x1*-0x979+-0x1c8,-0x16b6+-0x2570+0x4026)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x539*0x1+0x3f1+0x149)}),this['renderPass']=new dC(_0x541ce7),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0xeb1*0x1+-0x1782+0x8d1),this['quadRender']=new Ah(this['shader']);const {material:_0x8b12b7}=_0x5916b8;_0x8b12b7['setDefine']('SH_BANDS','0');const {shaderChunks:_0x214b2a}=_0x8b12b7;_0x214b2a['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x214b2a['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x8b12b7['update'](),_0x541ce7['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x4a7b31}=this,{material:_0x17ea41}=_0x4a7b31;_0x17ea41['setDefine']('SH_BANDS',_0x4a7b31['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x20de1f}=_0x17ea41;_0x20de1f['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x20de1f['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x17ea41['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x4cdf85,_0x3931a1){const {prevDir:_0x480bb8,updateMode:_0x2aac21}=this;if(_0x2aac21==='disable'||(yg['invert'](_0x3931a1),yg['transformV'+'ector'](_0x4cdf85['forward'],uo),uo['normalize'](),_0x2aac21==='enable'&&uo['equalsAppr'+'ox'](_0x480bb8,0x7*-0x169+-0x3d4*-0x4+-0x571+0.001)))return;_0x480bb8['copy'](uo);const _0x28d787=()=>{const {device:_0x16f163}=this,{sh_centroids:_0x5101a5,meta:_0x4cb2fa}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x16f163['scope'],{'dir':uo['toArray'](),'centroids':_0x5101a5,'shN_mins':_0x4cb2fa['shN']['mins'],'shN_maxs':_0x4cb2fa['shN']['maxs']}),_0x16f163['setCullMod'+'e'](bt),_0x16f163['setDepthSt'+'ate'](Yt['NODEPTH']),_0x16f163['setStencil'+'State'](null,null),_0x16f163['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x28d787,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x2143+-0x18d3+-0x870+0.28209479177387814,Ci=_0x2899f0=>_0x2899f0['read'](-0x989+0x6d4+0x2b5,-0x1566+0x1*-0x11b7+-0x24d*-0x11,_0x2899f0['width'],_0x2899f0['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x1*0x542+0x1caf+-0x3*0x7cf)}),mC=(_0x367bc9,_0x1fc562)=>{for(const _0x49d06a in _0x1fc562)_0x367bc9['resolve'](_0x49d06a)['setValue'](_0x1fc562[_0x49d06a]);};class _C{constructor(_0x17666a,_0x5d42fe,_0xa323de,_0x52d927,_0x41b79d,_0x11536a){const _0x27b489=(_0x139b68,_0x19dcca,_0x4c02ea)=>_0x139b68*(-0x1400+0x2*-0xdec+0x2fd9-_0x4c02ea)+_0x19dcca*_0x4c02ea,{meta:_0x1b784c}=_0x17666a,{means:_0x5651a1,scales:_0xed36b8,sh0:_0x493ee,shN:_0x998143}=_0x1b784c,_0x584d6d=_0x5d42fe&&_0x17666a['means_l']['_levels'][0x7*-0x40b+-0x25a+0x19d*0x13],_0x2afcac=_0x5d42fe&&_0x17666a['means_u']['_levels'][0xa64+0xb6d+-0x15d1],_0x2b69c1=_0xa323de&&_0x17666a['quats']['_levels'][0x1*-0x37f+0x4*-0x505+-0x1793*-0x1],_0x3174b2=_0x52d927&&_0x17666a['scales']['_levels'][-0x1ec8+-0x1fa8+0x3e70],_0x5891f4=_0x41b79d&&_0x17666a['sh0']['_levels'][0x25*-0xdf+-0x183+-0x4d2*-0x7],_0x432ea4=_0x11536a&&_0x17666a['sh_labels']['_levels'][0x2*-0x12+0x2106+-0x20e2],_0xed6711=_0x11536a&&_0x17666a['sh_centroi'+'ds']['_levels'][-0x1283+-0x6c2+-0x1945*-0x1],_0x2028a5=(0x3*0x3df+0x129d*0x1+-0x8*0x3c7)/Math['sqrt'](0xf8d*0x1+0x1aa*0x6+-0x1987*0x1);this['read']=_0x3d0bf=>{if(_0x5d42fe){const _0x41159b=_0x27b489(_0x5651a1['mins'][0x26e8+0x6a7+-0x2d8f],_0x5651a1['maxs'][-0x1342+0x1793+-0x451],((_0x2afcac[_0x3d0bf*(-0x4f*0x27+-0x1*-0x139b+-0x78e)+(-0x436+-0x1*0x2329+0x275f*0x1)]<<-0x10b*-0xd+0xb*-0x4d+0x28e*-0x4)+_0x584d6d[_0x3d0bf*(-0x1dc4+0xa7*-0x1+-0x31*-0x9f)+(-0x1204+-0x2*0x7fa+0x21f8*0x1)])/(0x174a1+0x13251+0x10eb*-0x19)),_0x5408be=_0x27b489(_0x5651a1['mins'][-0x1d5*-0x4+0x1500+-0x1c53],_0x5651a1['maxs'][0x2a9+-0x1*0x6aa+0x402],((_0x2afcac[_0x3d0bf*(-0x122f+0x1c*0x68+0x6d3)+(-0x1171+-0x3d5+0x1*0x1547)]<<-0x1*-0x265a+0x26aa+-0x5ec*0xd)+_0x584d6d[_0x3d0bf*(0x10bc+-0x9b4+-0x704)+(-0xdc9*-0x1+0x451*-0x3+-0x1*0xd5)])/(-0x6d08+-0x1ade6+0x31aed)),_0x29f0ed=_0x27b489(_0x5651a1['mins'][0x1aa6+0x1666+-0x310a*0x1],_0x5651a1['maxs'][0x1*-0x87e+0x3c+-0x5c*-0x17],((_0x2afcac[_0x3d0bf*(-0x23de+0xa1a+0x1e*0xdc)+(0x1b5*0x1+0xa*-0x32b+0x5*0x5ff)]<<-0x14ca+0x30*0x16+-0x1*-0x10b2)+_0x584d6d[_0x3d0bf*(-0x1*-0x1da5+-0x1ee9+0x29*0x8)+(-0x5*-0x58+0x12cc+-0x1482)])/(-0xdf04+-0xcbb*0x11+0x124d*0x26));_0x5d42fe['x']=Math['sign'](_0x41159b)*(Math['exp'](Math['abs'](_0x41159b))-(0xc5*-0x1f+0x5*-0x5ad+0x137*0x2b)),_0x5d42fe['y']=Math['sign'](_0x5408be)*(Math['exp'](Math['abs'](_0x5408be))-(-0x12d5+-0x1e19+-0x1*-0x30ef)),_0x5d42fe['z']=Math['sign'](_0x29f0ed)*(Math['exp'](Math['abs'](_0x29f0ed))-(-0xd7*0x11+-0xf4f+0x1d97));}if(_0xa323de){const _0x1e300d=(_0x2b69c1[_0x3d0bf*(0xc42*0x1+-0x2*0x1b5+0xe2*-0xa)+(-0x125*0x13+-0xc10*-0x2+-0x261)]/(0x2*0xaa8+-0x4*-0x8ad+-0x3705)-(0x14f9+-0x1ed+-0xd4*0x17+0.5))*_0x2028a5,_0x40a97e=(_0x2b69c1[_0x3d0bf*(0xa30+-0x70e+0x2*-0x18f)+(0x7dd*-0x1+0x4db+-0x1*-0x303)]/(0x2170+-0x14a9+-0x1*0xbc8)-(-0x19ff+0x767*-0x3+0x3034+0.5))*_0x2028a5,_0x279660=(_0x2b69c1[_0x3d0bf*(-0x1838+-0x1841+0x1*0x307d)+(-0x209*0xd+-0x89+0x1b00)]/(-0x178a+0x1ca4+-0x1*0x41b)-(-0x1*0x283+-0x2*0xbbb+0x19f9+0.5))*_0x2028a5,_0x592c36=Math['sqrt'](Math['max'](-0x1739+-0x112*-0x1c+-0x6bf,0xa7b+-0x20c7+-0x207*-0xb-(_0x1e300d*_0x1e300d+_0x40a97e*_0x40a97e+_0x279660*_0x279660)));switch(_0x2b69c1[_0x3d0bf*(-0x54e*0x5+0x1b87+0xfd*-0x1)+(0x25e2+-0x1312*0x2+-0x17*-0x3)]-(-0xb3*-0x3+-0x5d*0x4c+0x15*0x143)){case-0x1908+-0x545*-0x2+0xe7e:_0xa323de['set'](_0x1e300d,_0x40a97e,_0x279660,_0x592c36);break;case-0x17b3+-0x1d26+0x6e*0x7b:_0xa323de['set'](_0x592c36,_0x40a97e,_0x279660,_0x1e300d);break;case 0x1a85+-0xa61*-0x2+-0x1*0x2f45:_0xa323de['set'](_0x40a97e,_0x592c36,_0x279660,_0x1e300d);break;case 0x3*0x951+-0x54e+-0x16a2:_0xa323de['set'](_0x40a97e,_0x279660,_0x592c36,_0x1e300d);break;}}if(_0x52d927){const _0x289fea=_0x27b489(_0xed36b8['mins'][-0xb35*0x2+-0x80d*0x2+0x2684],_0xed36b8['maxs'][-0x191f+0x1df*0x6+0x1*0xde5],_0x3174b2[_0x3d0bf*(-0x2377*0x1+0x1a05*-0x1+0x3d80)+(-0x1b2a+-0xca1+-0x1*-0x27cb)]/(0x2435+0x3*-0x321+-0x19d3)),_0x470e9e=_0x27b489(_0xed36b8['mins'][-0x11*-0x24b+0x1d2*-0x8+-0x186a*0x1],_0xed36b8['maxs'][-0xbb*0x13+0xb3b+0x2a7],_0x3174b2[_0x3d0bf*(0x2672+0x31d*0x5+-0x17*0x259)+(0xaf7*0x1+-0x221a+0x1724)]/(-0x11a6+-0x12a6+0x254b)),_0x16e9e5=_0x27b489(_0xed36b8['mins'][-0x62c*0x2+-0x339*-0x9+-0xcb*0x15],_0xed36b8['maxs'][-0x13fc*-0x1+-0x1*0x254b+0x1151],_0x3174b2[_0x3d0bf*(-0x34b+0x1454+0x1*-0x1105)+(0x2166+0x2518+0x233e*-0x2)]/(0xd*0x136+0x96*0x16+-0x1ba3));_0x52d927['set'](_0x289fea,_0x470e9e,_0x16e9e5);}if(_0x41b79d){const _0x27b32e=_0x27b489(_0x493ee['mins'][-0x1*0x13a+0x2*-0x5af+0xc98],_0x493ee['maxs'][-0x4*0x182+0xe2*-0xe+0x499*0x4],_0x5891f4[_0x3d0bf*(-0x1029+-0x1*0x1a3d+0xb2*0x3d)+(0xa6a*-0x1+0x25b6*-0x1+0x3020)]/(0x16f1+-0x1fcf+0x9dd)),_0x172bff=_0x27b489(_0x493ee['mins'][-0x1c6*0x4+0xd08+-0x5ef*0x1],_0x493ee['maxs'][-0x24cd*-0x1+-0x208d+0x1*-0x43f],_0x5891f4[_0x3d0bf*(-0x765*0x1+-0x15c1+0x1d2a)+(-0x17f*-0x3+-0x4e4+0x68)]/(-0x1345*-0x1+-0x1dc8+0xb82)),_0x5ac00d=_0x27b489(_0x493ee['mins'][-0x214b+0x1fc1+0x18c],_0x493ee['maxs'][-0x2481+-0xdd3+0x2*0x192b],_0x5891f4[_0x3d0bf*(-0x1a78+-0x2140+0x3bbc)+(0x168+-0xc32+0xacc)]/(0x1915+-0x4*-0x847+-0x3932)),_0x1bf0b1=_0x27b489(_0x493ee['mins'][0x1*0x16d9+-0x17cb*-0x1+-0x2ea1],_0x493ee['maxs'][-0x15b1+-0x2*-0x584+0xaac],_0x5891f4[_0x3d0bf*(0xb7d+-0x1a*-0x4f+0x17*-0xd9)+(0xc91+0x12*0x173+-0x26a4)]/(0x1*-0x12+-0x217d+-0x228e*-0x1));_0x41b79d['set'](0xcaf*-0x2+0x134b*-0x1+0x2ca9+0.5+_0x27b32e*An,-0x1236*-0x1+0x9eb+-0x17b*0x13+0.5+_0x172bff*An,0x2*-0x2b0+-0x4*0x576+0x1b38+0.5+_0x5ac00d*An,(0x81b*0x1+0x89*0x1d+-0x179f)/(-0x1a97+-0x1*-0x1f0c+0x72*-0xa+Math['exp'](-_0x1bf0b1)));}if(_0x11536a){const _0x231029=_0x432ea4[_0x3d0bf*(0xb4c+0x2046+-0x2b8e)+(-0x1c5*0x16+-0x6*0xd1+0x231*0x14)]+(_0x432ea4[_0x3d0bf*(-0x2*-0x1006+-0xe5*-0x4+-0x1*0x239c)+(-0x1*0xaba+-0xd89+0x1844)]<<0x11*-0x21d+0x158f*0x1+-0x61*-0x26),_0xff095b=_0x231029%(-0xb67*0x1+0x49*-0xb+-0x2*-0x765)*(0xa4e+-0xd*-0x21f+-0x67*0x5e),_0x52754=Math['floor'](_0x231029/(0x5*0x2dd+0x1876+-0x1*0x2687));for(let _0xa5a07d=-0xd83+0x8cd*0x3+-0x44c*0x3;_0xa5a07d<0x4*-0x17f+0x2468+-0x1e69;++_0xa5a07d)for(let _0x362538=0x25d4+0x25*-0xb3+-0x1*0xbf5;_0x362538<0x1056+-0x1*0x7d1+-0x6*0x169;++_0x362538)_0x11536a[_0xa5a07d*(0x1b0b+0x364+-0x1e60)+_0x362538]=_0x27b489(_0x998143['mins'],_0x998143['maxs'],_0xed6711[(_0xff095b+_0x362538)*(0x121b+0x23f5+-0x360c)+_0xa5a07d+_0x52754*_0x17666a['sh_centroi'+'ds']['width']*(-0x23ae+0x11a*-0x5+0x2934)]/(-0x12bd+-0x176b+-0x2b27*-0x1));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x1feec6,_0x5beead,_0x1b86aa,_0xe7e37a,_0x1708a1,_0x41389e,_0x3f4817,_0x1ae9b8;(_0x1feec6=this['means_l'])==null||_0x1feec6['destroy'](),(_0x5beead=this['means_u'])==null||_0x5beead['destroy'](),(_0x1b86aa=this['quats'])==null||_0x1b86aa['destroy'](),(_0xe7e37a=this['scales'])==null||_0xe7e37a['destroy'](),(_0x1708a1=this['sh0'])==null||_0x1708a1['destroy'](),(_0x41389e=this['sh_centroi'+'ds'])==null||_0x41389e['destroy'](),(_0x3f4817=this['sh_labels'])==null||_0x3f4817['destroy'](),(_0x1ae9b8=this['packedText'+'ure'])==null||_0x1ae9b8['destroy']();}['createIter'](_0x51ebb3,_0x3648c1,_0x32273c,_0x5bf90d,_0x1f4bc2){return new _C(this,_0x51ebb3,_0x3648c1,_0x32273c,_0x5bf90d,_0x1f4bc2);}['calcAabb'](_0x2d6174){const {mins:_0x415a68,maxs:_0x5f59ea}=this['meta']['means'],_0x38b9c1=_0x583f6d=>Math['sign'](_0x583f6d)*(Math['exp'](Math['abs'](_0x583f6d))-(0x2709+-0xc1f+-0x1*0x1ae9));_0x2d6174['center']['set']((_0x38b9c1(_0x415a68[0xb*-0x377+0x2*-0xc4b+-0x3eb3*-0x1])+_0x38b9c1(_0x5f59ea[-0x87b+-0x1*0x110b+0x36*0x79]))*(0xadf*-0x2+-0x403+0x19c1+0.5),(_0x38b9c1(_0x415a68[0x264d+0x13*-0x205+0x13])+_0x38b9c1(_0x5f59ea[-0x206+-0x1af2+0x1cf9]))*(0x120d+-0xf30+-0x2dd*0x1+0.5),(_0x38b9c1(_0x415a68[-0x2*0xb27+-0x107b+0x26cb*0x1])+_0x38b9c1(_0x5f59ea[-0x1*-0x1c05+-0xc74*0x2+0x31b*-0x1]))*(0x148f+0x1b93+0x1*-0x3022+0.5)),_0x2d6174['halfExtent'+'s']['set']((_0x38b9c1(_0x5f59ea[-0x2063+0x4c*0x75+-0x259])-_0x38b9c1(_0x415a68[-0x2*-0x709+0x1d0f+-0x2b21*0x1]))*(0x7fd+-0x2221*0x1+0x1de*0xe+0.5),(_0x38b9c1(_0x5f59ea[-0x9af+0xfae+-0x5fe])-_0x38b9c1(_0x415a68[0x1*0xc32+0x4e9*-0x2+-0x25f]))*(-0x2600+-0x1*0x127+0xd*0x303+0.5),(_0x38b9c1(_0x5f59ea[-0x1820+-0x1*0x1085+0x28a7])-_0x38b9c1(_0x415a68[0x10b0+-0x1d77+0x3*0x443]))*(0x25a0+-0xa75*-0x1+-0x3015+0.5));}['getCenters'](_0x4210b7){const {meta:_0x515760,means_l:_0x21e634,means_u:_0x24431a,numSplats:_0x235c8e}=this,{means:_0x409309}=_0x515760,_0x150dc4=new Uint32Array(_0x24431a['_levels'][-0x22b6*-0x1+-0x15c6+-0xcf0]['buffer']),_0x378bd3=new Uint32Array(_0x21e634['_levels'][-0x2ce*-0x9+0x1*0x21fb+-0x3b39]['buffer']),_0xee968b=_0x409309['mins'][-0xc7e*-0x3+0x1e89*0x1+-0x2f5*0x17]/(0x1bc61+-0x152df+-0x5*-0x1e19),_0x3830be=_0x409309['mins'][0x1c84+0x5ae+0x2231*-0x1]/(0x476*-0x36+-0x19616*-0x1+-0x5*-0x1229),_0x1b8934=_0x409309['mins'][0x1887+-0xa19+0x4*-0x39b]/(0xf556+0x1d874*0x1+-0x1cdcb),_0x4471e4=_0x409309['maxs'][0x26f3+0x374+-0x2a67]/(-0x17d7f*0x1+0x1*-0xa021+0x31d9f),_0xe35b32=_0x409309['maxs'][0xb16+0x7*-0x71+-0x7fe]/(-0x1eb8a+0x291c+0x2c26d),_0x2f0d72=_0x409309['maxs'][-0x8b*-0xb+-0x6dd+-0xa*-0x17]/(0xa25a+-0x181*0xb+0x6e30);for(let _0x3535cb=-0x1139*0x1+0x110f+0x2a;_0x3535cb<_0x235c8e;_0x3535cb++){const _0x2e4929=_0x3535cb,_0x34c486=_0x150dc4[_0x2e4929],_0x163fe9=_0x378bd3[_0x2e4929],_0x48d573=_0x34c486<<-0x2*0x163+0xb88+0x8ba*-0x1&-0x1e86c+0x11*-0xa57+0x1*0x39733|_0x163fe9&0x38a+0x2332+0x25bd*-0x1,_0x25d2b6=_0x34c486&0x39ba+-0x3676*-0x1+-0x1c9*-0x50|_0x163fe9>>>-0x1e75+0x17ed*-0x1+0x366a&0x167c+-0x2405*0x1+0x26c*0x6,_0x182293=_0x34c486>>>0x1*0x1639+0x1cb0+-0x32e1&-0x2bd*0x9d+0x4e75*-0x5+0x43532|_0x163fe9>>>-0x2*-0xe32+0x64+-0x1cb8&0x17*0xe5+0x4*-0x99d+0x12e*0x10,_0x162628=_0xee968b*(-0x1*0x7932+-0x1c1*0x6e+-0x67*-0x589-_0x48d573)+_0x4471e4*_0x48d573,_0x2e1bc8=_0x3830be*(-0x10728+0x3*-0x8a0a+0x3a545-_0x25d2b6)+_0xe35b32*_0x25d2b6,_0x44824d=_0x1b8934*(-0x1bb55+0x3f9*-0x51+0x3fd1d-_0x182293)+_0x2f0d72*_0x182293,_0x4120c8=_0x162628<-0x1bd9*0x1+-0x26*-0xf8+-0x1cb*0x5?-_0x162628:_0x162628,_0x4e5e8d=_0x2e1bc8<0xf*0x1cc+-0xd30+-0xdc4?-_0x2e1bc8:_0x2e1bc8,_0x4bc887=_0x44824d<0x17*-0x3b+0x18f1*-0x1+0x1e3e?-_0x44824d:_0x44824d;_0x4210b7[_0x3535cb*(-0x4ab*0x1+-0x1*-0xe1e+-0x970)]=(_0x162628<-0x255d*-0x1+0xb43+-0x30a0?-(-0xb3*-0x1+-0xf84+0xed2):-0x3*-0x8db+0x1c53*0x1+0x36e3*-0x1)*(Math['exp'](_0x4120c8)-(0xd1*-0x3+0x101*-0x8+0x16*0x7a)),_0x4210b7[_0x3535cb*(0xc92+0x26f4+0x3383*-0x1)+(0x18*-0x155+-0x1112+0x1059*0x3)]=(_0x2e1bc8<-0x1661+0x9ad+0xcb4?-(0xc4e*-0x2+-0x5d5+0x1e72):0x2079+-0x1268+0x2d0*-0x5)*(Math['exp'](_0x4e5e8d)-(0x79d*0x2+-0x9ea+-0x54f)),_0x4210b7[_0x3535cb*(-0x1*0x31d+0xca3+-0x983)+(0xb5*-0x23+-0x2299*-0x1+-0x23*0x48)]=(_0x44824d<-0xc06+-0x1769+0x1*0x236f?-(-0x2b*-0x3b+-0x201a+0x766*0x3):0x7eb+0x61+0x1*-0x84b)*(Math['exp'](_0x4bc887)-(-0x3*-0x4a9+0xf*-0xe+-0xd28));}}['calcFocalP'+'oint'](_0x2db279,_0x30c393){_0x2db279['set'](0x1e2*-0xb+-0x3a9*-0x2+0x359*0x4,-0x1*-0x6cf+0x1*0x17c2+0x19*-0x139,-0x83*0x4+0x16f4+-0x14e8);}get['isSogs'](){return!(-0x52+0x766*-0x2+0xf1e);}get['shBands'](){var _0x373dbb;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x373dbb=this['sh_centroi'+'ds'])==null?void(-0x166f+0x905+-0xca*-0x11):_0x373dbb['width']]??-0x1*0x1a5+-0x593+0x738;}async['decompress'](){const _0x43f9eb=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x4ac80d}=this,{means_l:_0xc34951,means_u:_0x4439e6,quats:_0x46373e,scales:_0x49a773,sh0:_0xf56ac,sh_labels:_0x28eb7d,sh_centroids:_0x49b649}=this;if(_0xc34951['_levels'][0x4*-0x3ab+0xee5+-0x39]=await Ci(_0xc34951),_0x4439e6['_levels'][-0x1d54+0x235b+-0x607]=await Ci(_0x4439e6),_0x46373e['_levels'][0x22b3+-0x1a9*-0x17+0x1eb*-0x26]=await Ci(_0x46373e),_0x49a773['_levels'][-0x1497+0x26de+0x1247*-0x1]=await Ci(_0x49a773),_0xf56ac['_levels'][0x242e+0x1*0x1711+0x1*-0x3b3f]=await Ci(_0xf56ac),_0x4ac80d>-0x106f*0x2+0x7f2+0xa*0x27e){_0x28eb7d['_levels'][0x5*-0x154+0x11d*0x16+-0x11da]=await Ci(_0x28eb7d),_0x49b649['_levels'][0x903+0x8da*-0x2+0x19*0x59]=await Ci(_0x49b649);const _0x5c8413=[];for(let _0x3fcd1b=0x1704+-0x26d2+0x2*0x7e7;_0x3fcd1b<0x1c57*0x1+-0x94+0x3*-0x932;++_0x3fcd1b)_0x5c8413['push']('f_rest_'+_0x3fcd1b);_0x43f9eb['splice'](_0x43f9eb['indexOf']('f_dc_0')+(0x1*0x139f+-0x1*0x22b7+-0xf19*-0x1),0x12d6+-0x90c*0x3+0x84e,..._0x5c8413);}const _0x544b62={};_0x43f9eb['forEach'](_0x55c3d3=>{_0x544b62[_0x55c3d3]=new Float32Array(this['numSplats']);});const _0x5ab9f9=new D(),_0x124087=new le(),_0x4f5f24=new D(),_0x38f78d=new re(),_0x1950a9=_0x4ac80d>-0x1cd*0xb+0x1697+-0x2c8?new Float32Array(0x1dcb+-0x4db+-0x18c3):null,_0x55d03c=this['createIter'](_0x5ab9f9,_0x124087,_0x4f5f24,_0x38f78d,_0x1950a9);for(let _0x227370=-0x3*0x2f9+0x3*-0x68+0xa23*0x1;_0x227370<this['numSplats'];++_0x227370)if(_0x55d03c['read'](_0x227370),_0x544b62['x'][_0x227370]=_0x5ab9f9['x'],_0x544b62['y'][_0x227370]=_0x5ab9f9['y'],_0x544b62['z'][_0x227370]=_0x5ab9f9['z'],_0x544b62['rot_1'][_0x227370]=_0x124087['x'],_0x544b62['rot_2'][_0x227370]=_0x124087['y'],_0x544b62['rot_3'][_0x227370]=_0x124087['z'],_0x544b62['rot_0'][_0x227370]=_0x124087['w'],_0x544b62['scale_0'][_0x227370]=_0x4f5f24['x'],_0x544b62['scale_1'][_0x227370]=_0x4f5f24['y'],_0x544b62['scale_2'][_0x227370]=_0x4f5f24['z'],_0x544b62['f_dc_0'][_0x227370]=(_0x38f78d['x']-(0x790*-0x1+0x1a*0x61+-0x1*0x24a+0.5))/An,_0x544b62['f_dc_1'][_0x227370]=(_0x38f78d['y']-(0x832*-0x4+0x1ae0+0x5e8+0.5))/An,_0x544b62['f_dc_2'][_0x227370]=(_0x38f78d['z']-(-0x25af+-0x2*0x1154+-0x1*-0x4857+0.5))/An,_0x544b62['opacity'][_0x227370]=_0x38f78d['w']<=-0x24a*0x2+-0xaa*-0xd+-0x207*0x2?-(-0xc4c+0xb*-0x15+0xd5b):_0x38f78d['w']>=0x1c62+0x19a0+-0x7b7*0x7?-0x23bb+0x22c6+0x5f*0x3:-Math['log']((0x809*-0x3+-0x1e2*0x8+-0x2e*-0xda)/_0x38f78d['w']-(0x1*0x1b41+0x1f4f+-0x3a8f)),_0x1950a9){for(let _0x364b24=0x2501+-0x234*0xc+-0xa91;_0x364b24<0x1*0xe3+0xea6+-0xf5c;++_0x364b24)_0x544b62['f_rest_'+_0x364b24][_0x227370]=_0x1950a9[_0x364b24];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x43f9eb['map'](_0x50060c=>({'name':_0x50060c,'type':'float','byteSize':0x4,'storage':_0x544b62[_0x50060c]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x325cf2,means_u:_0x5c40c5,quats:_0x2b27e5,scales:_0x454721,sh_labels:_0x37f238,numSplats:_0x157ff5}=this,{device:_0x399dc7}=_0x325cf2,{scope:_0x318efe}=_0x399dc7,_0x3dba96=$t['createShad'+'er'](_0x399dc7,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x3fa31e=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0xaf*-0x29+-0x1989+0x11db*0x3),'mipLevel':0x0});_0x399dc7['setCullMod'+'e'](bt),_0x399dc7['setBlendSt'+'ate'](pt['NOBLEND']),_0x399dc7['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x318efe,{'means_l':_0x325cf2,'means_u':_0x5c40c5,'quats':_0x2b27e5,'scales':_0x454721,'sh_labels':_0x37f238??_0x325cf2,'numSplats':_0x157ff5}),Ar(_0x399dc7,_0x3fa31e,_0x3dba96),_0x3fa31e['destroy'](),_0x3dba96['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x20d15d,height:_0x12c492,width:_0x5bfdc2}=this['means_l'];this['means_l']['_levels'][-0x1*-0x1ffa+0x755+0x15b*-0x1d]=await Ci(this['means_l']),this['means_u']['_levels'][-0x1f2a+0x2174+-0x24a]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x20d15d,{'name':'sogsPacked'+'Texture','width':_0x5bfdc2,'height':_0x12c492,'format':Ue,'mipmaps':!(-0x21*0xf7+-0x8dd+0x28b5*0x1)}),_0x20d15d['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x4c63b0=null,_0x316d04=null,_0x5e0b0f=null,_0x12fc78=null,_0x18a70c=null,_0x1f2654=null,_0xe4ee8d=null,_0x24fdba=null,_0x3771d3=null,_0x2796e3=null,_0xad94ac=null,_0x43f494=null,_0x31eb8f=null,_0x28724a=null,_0x19481e=null,_0x56be41=null,_0x14a76f=null,_0x101a54=null,_0x28e2f9=null,_0x51fadb=null,_0x336c30=null,_0x447620=null,_0x38eba9=null,_0x484261=null,_0x2cce52=Float32Array['BYTES_PER_'+'ELEMENT'],_0x3d1f2c=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x44dec7=0x105*-0x1f+0x143a+0xb61,_0x360ae7=!(-0x1966+-0x235b+0x3cc1),_0x3f99e5,_0x5f17c8,_0x2ed98a={'x':0x0,'y':0x0,'z':0x0},_0x97ec1d={'x':0x0,'y':0x0,'z':0x0},_0x377208=!(-0x1077*-0x1+0x1*-0x16db+0x4*0x199),_0x1067f9=!(0x1*0x1921+-0xe7+-0x183a),_0x547643=!(-0x1f7*-0x7+-0x11b*0x16+-0xb*-0xf6),_0x2009a7=!(0x16f*0x1+0x1*0x3e5+-0x553),_0x22db7d=-0x1ad2+0x1055+0x3*0x37f,_0x5774f6=0x8ee+0x2*0xdf6+-0x24da,_0x311060=!(-0x2*-0x5c4+0x11b1*0x1+-0x1d38),_0x343ad3=null,_0x4c149a=!(-0xf50+-0x9c5+0x1916),_0xa7862c=0x1*0xc5+-0x1*-0x24fb+-0x25c0,_0x287034=-0x147*-0x1b+-0x1d8b*-0x1+-0x2*0x2004,_0xc34d46={'x':0x0,'y':0x0,'z':0x0},_0x13469b={'x':0x0,'y':0x0,'z':0x0},_0x12f488,_0xf460c1;self['onmessage']=async _0x17175a=>{const {data:_0x5a9764}=_0x17175a;switch(_0x5a9764['type']){case'initWorker':await _0x47eeba(_0x5a9764['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x44dec7=_0x5a9764['centers']['length']/(0x1c7f+0x1f32+-0x3bae*0x1),_0x44dec7<=-0x233+-0x17*-0x11c+-0x1751*0x1||!_0x316d04)return;_0x2c098c(),_0x360ae7=_0x5a9764['is4d'],_0x12f488=_0x5a9764['id'];const _0x4ac392=_0x5d5319(_0x44dec7);if(_0x24e3b0(_0x4ac392),_0x5e0b0f[-0x160e+-0x1*0x176d+0x2d7b]=_0xc34d46['x'],_0x5e0b0f[0x18d9*0x1+0xf06+-0x27de]=_0xc34d46['y'],_0x5e0b0f[-0xbe3+-0xc57+0x183c]=_0xc34d46['z'],_0x12fc78[0x4*0x89e+0x1cb6+-0x3f2e]=_0x13469b['x'],_0x12fc78[-0x179*-0x17+0x7b0*-0x1+0x45d*-0x6]=_0x13469b['y'],_0x12fc78[-0x85b+-0x21e2+0x2a3f]=_0x13469b['z'],_0x1f2654&&_0x5a9764['centers']&&_0x1f2654['length']===_0x5a9764['centers']['length']){const _0x532d27=new Float32Array(_0x5a9764['centers']);_0x1f2654['set'](_0x532d27);}if(_0x24fdba&&_0x5a9764['timeIndex']&&_0x24fdba['length']===_0x5a9764['timeIndex']['length']){const _0x1d1689=new Uint32Array(_0x5a9764['timeIndex']);_0x24fdba['set'](_0x1d1689);}if(_0xad94ac&&_0x5a9764['motion']&&_0xad94ac['length']===_0x5a9764['motion']['length']){const _0x45ed96=new Float32Array(_0x5a9764['motion']);_0xad94ac['set'](_0x45ed96);}if(_0x360ae7&&_0x3771d3&&_0x2796e3&&_0x5a9764['muT']&&_0x5a9764['tScale']&&_0x3771d3['length']===_0x5a9764['muT']['length']&&_0x2796e3['length']===_0x5a9764['tScale']['length']&&(_0x3771d3['set'](_0x5a9764['muT']),_0x2796e3['set'](_0x5a9764['tScale'])),_0xe4ee8d){for(let _0x76285c=0x142*-0x12+0xbcf+-0xad5*-0x1;_0x76285c<_0xe4ee8d['length'];++_0x76285c)_0xe4ee8d[_0x76285c]=_0x76285c;}_0x18a70c&&_0x5a9764['timeOption']&&_0x18a70c['set'](_0x5a9764['timeOption']),_0x586237(),_0x4c149a=!(-0x9bd*0x1+0x5*-0x2af+-0x68*-0x39),_0x547643=!(0x7*0x59+-0x15c9+0x135a),_0x7d8227();break;case'setTime':_0x3f99e5=_0x5a9764['time'],_0x7d8227();break;case'setUseTemp'+'oralSort':_0x377208=_0x5a9764['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x1067f9=_0x5a9764['useDynamic'+'Sort'];break;case'sort':if(!_0x5e0b0f)return;_0x5e0b0f[0x13e7+-0x5c*0x35+-0x3*0x49]=_0x5a9764['cameraPosi'+'tion']['x'],_0x5e0b0f[0xc*-0x149+-0x723+-0x4c*-0x4c]=_0x5a9764['cameraPosi'+'tion']['y'],_0x5e0b0f[-0xa16*0x1+0x2*0x1021+0x162a*-0x1]=_0x5a9764['cameraPosi'+'tion']['z'],_0x12fc78[0xbd6+0x1a56*-0x1+0xe80]=_0x5a9764['cameraDire'+'ction']['x'],_0x12fc78[-0x148b*0x1+0x1*0x1f91+0xb05*-0x1]=_0x5a9764['cameraDire'+'ction']['y'],_0x12fc78[0x2*-0x487+0xd21*0x1+-0x3*0x15b]=_0x5a9764['cameraDire'+'ction']['z'],_0xc34d46['x']=_0x5a9764['cameraPosi'+'tion']['x'],_0xc34d46['y']=_0x5a9764['cameraPosi'+'tion']['y'],_0xc34d46['z']=_0x5a9764['cameraPosi'+'tion']['z'],_0x13469b['x']=_0x5a9764['cameraDire'+'ction']['x'],_0x13469b['y']=_0x5a9764['cameraDire'+'ction']['y'],_0x13469b['z']=_0x5a9764['cameraDire'+'ction']['z'],_0x7d8227();break;}};const _0x2c098c=()=>{_0x5774f6=Math['max'](0x17*0x99+-0x21b0+0x21*0x9b,Math['min'](0x2*-0x11b4+-0xf67+0x7*0x745,Math['round'](Math['log2'](_0x44dec7/(-0x1*0xdfb+0xd4f+-0x16*-0x8))))),_0x22db7d=(-0xd31+-0x1*-0x148d+-0x75a*0x1)**_0x5774f6+(0x20e3+-0x4*-0x746+-0x3dfa);},_0x24e3b0=_0x28eecc=>{_0x43f494=-0x3*0xbfb+0x1b2c+0x5*0x1c1,_0x31eb8f=_0x43f494+_0x44dec7*_0x2cce52*(0x221b+0x20fa+-0x2189*0x2),_0x101a54=_0x31eb8f+(-0x1dea+0x587*0x3+-0x1*-0xdb9)*_0x2cce52*(0x9dc*0x2+-0xabd+0x8f9*-0x1),_0x28e2f9=_0x101a54+_0x44dec7*_0x3d1f2c,_0x51fadb=_0x28e2f9+(0x2*0x3d6+0x313+-0xabc)*_0x2cce52,_0x336c30=_0x51fadb+(0x1974+-0x110b+-0x866)*_0x2cce52,_0x447620=_0x336c30+(0x24d6+-0x1801*-0x1+0x44*-0xe5)*_0x2cce52,_0x38eba9=_0x447620+(-0x3*0xc3d+0x2279+0x241)*_0x2cce52,_0x484261=_0x38eba9+_0x44dec7*_0x3d1f2c,_0x1f2654=new Float32Array(_0x28eecc,_0x43f494,_0x44dec7*(-0x1c9b*-0x1+0x2aa+0x2*-0xfa1)),_0x18a70c=new Float32Array(_0x28eecc,_0x31eb8f,-0x2*0x574+-0x141*-0xd+-0x49d),_0xe4ee8d=new Uint32Array(_0x28eecc,_0x101a54,_0x44dec7),_0x5e0b0f=new Float32Array(_0x28eecc,_0x28e2f9,-0xe2+-0x5*-0x35b+-0xfe2),_0x12fc78=new Float32Array(_0x28eecc,_0x51fadb,0x1ddb+-0x150+-0x1c88),_0x360ae7&&(_0x56be41=_0x484261+_0x22db7d*_0x3d1f2c,_0x14a76f=_0x56be41+_0x44dec7*_0x2cce52,_0x19481e=_0x14a76f+_0x44dec7*_0x2cce52,_0x28724a=_0x19481e+_0x44dec7*(-0x2*0x115+0x5*0x59+0x70)*_0x2cce52,_0x3771d3=new Float32Array(_0x28eecc,_0x56be41,_0x44dec7),_0x2796e3=new Float32Array(_0x28eecc,_0x14a76f,_0x44dec7),_0xad94ac=new Float32Array(_0x28eecc,_0x19481e,_0x44dec7*(0x254e+-0x1ed1*0x1+-0x67a*0x1)),_0x24fdba=new Uint32Array(_0x28eecc,_0x28724a,_0x44dec7));},_0x47eeba=async _0x225fc2=>{_0xa7862c=0x1*0x246+-0x41*0x9+0x1*0x4;const _0x3307f3={'env':{'memory':new WebAssembly['Memory']({'initial':_0xa7862c}),'pthread_self':function(){return-0x35*0xa+-0x10b3*-0x2+-0x2*0xfaa;},'emscripten_builtin_memalign':function(){return-0x179a+-0x1fd1+-0x1279*-0x3;},'loggerVec3':(_0x440bdb,_0x2d4ab0,_0xd9c770,_0x302997)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x440bdb+']\x200:'+_0x2d4ab0+'\x201:'+_0xd9c770+'\x202:'+_0x302997);},'loggerFloat':(_0x598f61,_0x500dbf)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x598f61+']\x20a:'+_0x500dbf);},'loggerValue':(_0x17baf4,_0x1ac48b,_0x54e9ea,_0x3fa962,_0x25dcf5)=>{console['log']('C++\x20logger'+'Value\x20['+_0x17baf4+']\x20minDist:'+_0x1ac48b+'\x20maxDist:'+_0x54e9ea+'\x20range:'+_0x3fa962+'\x20divider:'+_0x25dcf5);},'loggerCamera':(_0x47a5ec,_0xfcf77a,_0x4bcc70,_0x5cae34,_0x3284c5,_0x4064a8,_0x5a30e5)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x47a5ec+']\x20x:'+_0xfcf77a+'\x20y:'+_0x4bcc70+'\x20z:'+_0x5cae34+'\x20dx:'+_0x3284c5+'\x20dy:'+_0x4064a8+'\x20dz:'+_0x5a30e5);},'loggerBound':(_0x540721,_0x50f3b7,_0x2e162f,_0x652252,_0x2f49fd,_0x262a18)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x540721+'\x20minY:'+_0x50f3b7+'\x20minZ:'+_0x2e162f+'\x20maxX:'+_0x652252+'\x20maxY:'+_0x2f49fd+'\x20maxZ:'+_0x262a18);},'loggerDebug':_0x22b3d5=>{console['log']('C++\x20logger'+'Debug\x20['+_0x22b3d5+']');}}};try{const _0x2fec9d=await(await fetch(_0x225fc2))['arrayBuffe'+'r']();return _0x4c63b0=(await WebAssembly['instantiat'+'e'](_0x2fec9d,_0x3307f3))['instance'],_0x316d04=_0x3307f3['env']['memory'],_0x4c63b0;}catch(_0x3e453a){throw console['error']('WASM'+':',_0x3e453a),_0x3e453a;}},_0x485f50=_0x263efd=>{if(_0x263efd<=-0x1d37+0x1*0x1ca7+0x90)return 0x1*0x2677+0x74c+0x2dc2*-0x1;let _0x183818=_0x263efd*_0x2cce52*(0x1330+0x6b0+-0x89f*0x3);_0x183818+=_0x263efd*_0x3d1f2c,_0x183818+=(0x5f*0x7+0x20f9+0x238f*-0x1)*_0x2cce52,_0x183818+=(0x2605+0x2622+-0x4c24)*_0x2cce52,_0x183818+=(0x217e+-0x43*0x8e+0x3af)*_0x2cce52,_0x183818+=(0x409*0x8+-0x6b*-0x2+-0x211b)*_0x2cce52,_0x183818+=_0x263efd*_0x2cce52,_0x183818+=_0x22db7d*_0x3d1f2c,_0x183818+=(0x23f2+-0x2f6*-0x9+0xc*-0x52f)*_0x2cce52*(-0x87e+-0x99f+0x121f),_0x183818+=_0x263efd*_0x3d1f2c,_0x360ae7&&(_0x183818+=_0x263efd*_0x2cce52,_0x183818+=_0x263efd*_0x2cce52,_0x183818+=_0x263efd*_0x2cce52*(-0x966*-0x1+-0x1*-0x1b95+-0x24f8));const _0x46ab62=(-0x4*-0x751+0x3*-0x76e+-0x6ba)*(-0x12f4+0xc*0x29e+-0x43a*0x2);return Math['ceil'](_0x183818/_0x46ab62);},_0x5d5319=_0x511af3=>{const _0x4bb35e=_0x485f50(_0x511af3);return _0x4bb35e>_0xa7862c?(_0x316d04['grow'](_0x4bb35e-_0xa7862c),_0xa7862c=_0x4bb35e):_0x316d04['grow'](-0x680+-0xa47*0x3+0x2555),_0x316d04['buffer'];},_0x586237=()=>{if(!_0x4c63b0)return;const {calcAABB:_0x14a575}=_0x4c63b0['exports'];_0x14a575(_0x43f494,_0x336c30,_0x447620,_0x44dec7);},_0x7d8227=()=>{_0x343ad3&&clearTimeout(_0x343ad3),_0x343ad3=setTimeout(()=>{_0x343ad3=null,_0x29dedc();},-0x19bd+0x2648+0xc8b*-0x1);},_0x29dedc=()=>{if(!_0x4c63b0||!_0x4c149a||_0xe4ee8d['length']!==_0x44dec7||_0x101a54===null||_0x43f494===null||_0x28e2f9===null||_0x51fadb===null||_0x336c30===null||_0x447620===null)return;const _0x52b127=_0x5e0b0f[-0x14e+-0x404+-0x6*-0xe3],_0x34eb05=_0x5e0b0f[-0x15dd+0x1*0x8a5+0xd39],_0x3218da=_0x5e0b0f[-0x2*0xeff+-0x113*0x8+-0x68*-0x5f],_0x4d295c=_0x12fc78[-0x1e64*-0x1+-0x2*-0xdf+-0x3*0xab6],_0x31c4ef=_0x12fc78[-0x25ab*-0x1+-0x245*-0x5+0x3103*-0x1],_0x198723=_0x12fc78[0x1*0xeed+0x136f+-0x1*0x225a],_0x25a8a8=-0x1e35+0x1*-0x1046+0x2e7b+0.001;if(!_0x547643&&Math['abs'](_0x52b127-_0x2ed98a['x'])<_0x25a8a8&&Math['abs'](_0x34eb05-_0x2ed98a['y'])<_0x25a8a8&&Math['abs'](_0x3218da-_0x2ed98a['z'])<_0x25a8a8&&Math['abs'](_0x4d295c-_0x97ec1d['x'])<_0x25a8a8&&Math['abs'](_0x31c4ef-_0x97ec1d['y'])<_0x25a8a8&&Math['abs'](_0x198723-_0x97ec1d['z'])<_0x25a8a8&&Math['abs'](_0x3f99e5-_0x5f17c8)<0x14*-0x8e+0x5c*0x4c+-0x1038+0.01)return;if(_0x2009a7){_0x311060=!(0x1e22+-0x1*0xba+0x8*-0x3ad);return;}_0x2009a7=!(0x2a7*-0xa+-0x1d3*0x15+0x40d5),_0x547643=!(0x354*0x8+0x1603+0x81b*-0x6),_0x5f17c8=_0x3f99e5,_0x2ed98a['x']=_0x52b127,_0x2ed98a['y']=_0x34eb05,_0x2ed98a['z']=_0x3218da,_0x97ec1d['x']=_0x4d295c,_0x97ec1d['y']=_0x31c4ef,_0x97ec1d['z']=_0x198723,_0x311060=!(0x73*0x19+0x1ed*0x9+0x985*-0x3);const {sortIndexes:_0x3364f2}=_0x4c63b0['exports'];try{const _0x3a06f1=_0x3364f2(_0x101a54,_0x43f494,_0x19481e,_0x56be41,_0x14a76f,_0x28e2f9,_0x51fadb,_0x336c30,_0x447620,_0x38eba9,_0x484261,_0x3f99e5||0x1a*0x178+0xbf*0x2+-0x27ae,_0x377208,_0x1067f9,_0x360ae7,_0x44dec7,_0x22db7d,_0x5774f6,_0x31eb8f,_0x28724a),_0x2e2efa=new Uint32Array(_0xe4ee8d);if(_0x3a06f1===0x1a88+0xb6b+-0x25f3){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x3a06f1);}const _0x860582=_0x44dec7!==_0x287034||_0xf460c1!==_0x12f488;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x3a06f1,'order':_0x2e2efa,'isNewOrder':_0x860582},[_0x2e2efa['buffer']]),_0x287034=_0x44dec7,_0xf460c1=_0x12f488;}catch(_0x359924){console['error'](':',_0x359924),self['postMessag'+'e']({'type':'error','error':_0x359924['message']});}_0x2009a7=!(0xf4e+-0x1313+0x2a*0x17),_0x311060&&_0x7d8227();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x3*0x541+-0x23f4+0x3*0x113d),h(this,'is4d',!(-0x1b3a+-0xd*-0x169+-0x2f7*-0x3)),h(this,'sortStartT'+'ime',0x1f3d+-0x47b+-0x1ac2),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x125941=>{var _0x53d84c;if(!this['worker'])return;const {data:_0x311cea}=_0x125941;switch(_0x311cea['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x311cea['order']&&(_0x311cea['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x53d84c=this['orderTextu'+'re'])==null||_0x53d84c['write'](0x845*0x2+0x5d*-0x47+0x941,0x679+-0xf*-0x3d+-0x283*0x4,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x1264+-0x1c4f+-0x4*-0x27b),_0x311cea['order']));let _0x491361=0x1679+-0x1cac+0x633;this['sortStartT'+'ime']!==-0x1c6+-0x7ce+0x994&&(_0x491361=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x125941['data']['count'],_0x491361,_0x311cea['isNewOrder']),this['sortStartT'+'ime']=0x1faa+-0xb32+-0x1478;break;case'error':console['error']('Worker:',_0x311cea['error']),this['fire']('error',_0x311cea['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x1810ac,_0x30d438,_0x5cdd94,_0x5a9b2d,_0x23b529,_0x2999c2,_0x51b94b,_0x5dbabc){var _0x13f7ec;this['is4d']=_0x5dbabc,this['numSplats']=_0x30d438['length']/(0x3a3*0x4+-0x26f9+0x1870),(!_0x51b94b||_0x51b94b['length']===-0xd19+-0x45*-0x71+-0x115c)&&(_0x51b94b=[-0xb1+0x1*-0x1b4d+-0x2*-0xdff,0x2*0x1f0+0xa7f*-0x2+0x115a]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x1810ac),this['backOrderT'+'exture']=_0x1810ac;const _0x5f66cf=new Date()['getTime']();(_0x13f7ec=this['worker'])==null||_0x13f7ec['postMessag'+'e']({'type':'initData','centers':_0x30d438,'muT':_0x5cdd94,'tScale':_0x5a9b2d,'motion':_0x23b529,'timeIndex':_0x2999c2,'timeOption':_0x51b94b,'is4d':_0x5dbabc,'id':_0x5f66cf});}['setCamera'](_0x205a43,_0x2e5299){this['worker']&&(!_0x205a43||!_0x2e5299||(this['data']['cameraPosi'+'tion']={'x':_0x205a43['x'],'y':_0x205a43['y'],'z':_0x205a43['z']},this['data']['cameraDire'+'ction']={'x':_0x2e5299['x'],'y':_0x2e5299['y'],'z':_0x2e5299['z']},this['sortStartT'+'ime']===-0x10*-0x26a+-0x10f+-0x3b*0xa3&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x205a43['x'],'y':_0x205a43['y'],'z':_0x205a43['z']},'cameraDirection':{'x':_0x2e5299['x'],'y':_0x2e5299['y'],'z':_0x2e5299['z']}})));}['setCurrent'+'Time'](_0x43c356){this['worker']&&(this['data']['time']=_0x43c356,this['sortStartT'+'ime']===-0xd6*0x17+-0x1a5b+0x2d95&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x43c356}));}['setUseTemp'+'oralSort'](_0x55e412){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x55e412});}['setUseDyna'+'micSort'](_0x2e4300){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x2e4300});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x1*-0x19f9+0x2d7+-0x1cd0,0x137e+0x8e9*-0x1+-0x2b*0x3f];class xC{constructor(_0x1cc017,_0x5b1682={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x16bb+0x225e+-0x3e1*0x3),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0xf48e7c,_0x4fa29b=void(0x140e+-0x234+-0x2*0x8ed))=>{(_0x4fa29b||_0x4fa29b===-0x1492+0x255b+0x1*-0x10c9)&&(this['material']['setParamet'+'er']('uTime',_0x4fa29b),this['updateTime'](_0x4fa29b)),this['sort'](_0xf48e7c);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x1cc017['numSplats']),this['resource']=_0x1cc017,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5b1682['material']?(this['_material']=_0x5b1682['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x3*0xd5+-0xee8+0x423*0x3)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x13da+-0x3ad+-0x1*-0x1787,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x4b9a10,_0x1b9fa1,_0x595ab5,_0x5189b9,_0x56d43b,_0x7da4a9,_0x2b88a2,_0x158cf6,_0x563afa,_0x4bd0fd,_0x3e38aa;const _0x40d184=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x207202=new Float32Array(((_0x1b9fa1=(_0x4b9a10=this['resource']['muT'])==null?void(-0x4*0x732+-0x752+0x241a):_0x4b9a10['buffer'])==null?void(0x1d0d+-0x5f6+-0x17*0x101):_0x1b9fa1['slice']())??new Float32Array()),_0x1f9c5a=new Float32Array(((_0x5189b9=(_0x595ab5=this['resource']['tScale'])==null?void(0x2509+0x1*-0x268d+-0x4*-0x61):_0x595ab5['buffer'])==null?void(-0x415+0x1d62*0x1+0x86f*-0x3):_0x5189b9['slice']())??new Float32Array()),_0x43f134=new Float32Array(((_0x7da4a9=(_0x56d43b=this['resource']['motion'])==null?void(-0x260d+0xfc2+0x164b):_0x56d43b['buffer'])==null?void(0x155*0x1+-0x14a6+-0x73*-0x2b):_0x7da4a9['slice']())??new Float32Array()),_0x1ac8c7=new Float32Array(((_0x158cf6=(_0x2b88a2=this['resource']['timeIndex'])==null?void(-0x746+0x17da+-0x1094):_0x2b88a2['buffer'])==null?void(-0x2c*0xd1+0x27*0x9+0x228d):_0x158cf6['slice']())??new Float32Array(0x15c0+-0xc7a+-0x946)),_0x4eeed3=new Float32Array(((_0x4bd0fd=(_0x563afa=this['resource']['timeOption'])==null?void(0x1*-0x5fd+-0x10*0xc7+0x126d):_0x563afa['buffer'])==null?void(-0x1*-0x1eb8+-0xd81+-0x1137):_0x4bd0fd['slice']())??new Float32Array());(_0x3e38aa=this['sorter'])==null||_0x3e38aa['initData'](this['orderTextu'+'re'],_0x40d184,_0x207202,_0x1f9c5a,_0x43f134,_0x1ac8c7,_0x4eeed3,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0xfe2110,_0x2e32a8,_0x22fc14)=>{var _0x45e66e;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0xfe2110/this['resource']['instanceSi'+'ze']),_0x22fc14&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x22fc14&&((_0x45e66e=this['resource'])==null||_0x45e66e['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0xfe2110);}),this['setHighQua'+'litySH'](_0x5b1682['highQualit'+'ySH']??!(0x3fd*0x1+0xb71*-0x1+-0x775*-0x1)));}async['updateInst'+'anceData'](_0x1f590d){var _0x58e185,_0x263dd7;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x1f590d['numSplats']),this['resource']=_0x1f590d;const _0x579a4f=this['resource']['evalTextur'+'eSize'](_0x1f590d['centers']['length']/(0x3*0x4a3+-0x9ab+0x169*-0x3));return(_0x58e185=this['backOrderT'+'exture'])==null||_0x58e185['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x579a4f),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x1e2a+0x2598+-0x76e)),(_0x263dd7=this['sorter'])==null||_0x263dd7['initData'](this['backOrderT'+'exture'],_0x1f590d['centers'],_0x1f590d['muT'],_0x1f590d['tScale'],_0x1f590d['motion'],_0x1f590d['timeIndex'],_0x1f590d['timeOption'],_0x1f590d['is4D']),new Promise(_0x2cfd83=>{var _0x5f5395;const _0x3c3742=(_0xd3b13c,_0x447ea4,_0x526f82)=>{var _0x4932ee;_0x526f82&&((_0x4932ee=this['sorter'])==null||_0x4932ee['off']('updated',_0x3c3742),_0x2cfd83(!(0x1cb+-0xb49+0x1e*0x51)));};(_0x5f5395=this['sorter'])==null||_0x5f5395['on']('updated',_0x3c3742);});}['destroy'](){var _0x510c8a,_0x13feca,_0x2ecbbc,_0x4cbb43,_0x913a8a,_0x433261;(_0x510c8a=this['resolveSH'])==null||_0x510c8a['destroy'](),(_0x13feca=this['material'])==null||_0x13feca['destroy'](),(_0x2ecbbc=this['meshInstan'+'ce'])==null||_0x2ecbbc['destroy'](),(_0x4cbb43=this['sorter'])==null||_0x4cbb43['destroy'](),(_0x913a8a=this['orderTextu'+'re'])==null||_0x913a8a['destroy'](),(_0x433261=this['backOrderT'+'exture'])==null||_0x433261['destroy']();}set['material'](_0x1a44af){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x1a44af&&(this['_material']=_0x1a44af,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x1a44af));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x494c3e,_0x175dbc={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x494c3e),_0x494c3e['setParamet'+'er']('numSplats',-0x1a79+0x9c0*-0x1+-0x21*-0x119),_0x494c3e['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x494c3e['setParamet'+'er']('alphaClip',0xa26+-0x23*0x20+0x5c6*-0x1+0.3),_0x494c3e['setDefine']('DITHER_'+(_0x175dbc['dither']?'BLUENOISE':'NONE'),''),_0x494c3e['cull']=bt,_0x494c3e['blendType']=_0x175dbc['dither']?Cs:Zs,_0x494c3e['depthWrite']=!!_0x175dbc['dither'];}['updateView'+'port'](_0xf3ea59){var _0x43d7a7;const _0x1d4b3e=_0xf3ea59==null?void(0x1*0x1c19+-0x39f*-0x9+0x8*-0x796):_0xf3ea59['camera'],_0x4275a=_0x1d4b3e==null?void(-0x1720+-0x251*0x1+-0x87b*-0x3):_0x1d4b3e['renderTarg'+'et'],{width:_0x1c04dd,height:_0x4f7dad}=_0x4275a??this['resource']['device'];Sc[0x25fb+0x660*-0x4+-0xc7b]=_0x1c04dd,Sc[0x1a60+0xcf6+-0x2755]=_0x4f7dad;const _0x3a4fd6=(_0x43d7a7=_0x1d4b3e==null?void(0x174f+0x19bd+-0x310c):_0x1d4b3e['camera'])==null?void(-0x1d27+0x1*0x2114+-0x3ed):_0x43d7a7['xr'];_0x3a4fd6!=null&&_0x3a4fd6['active']&&_0x3a4fd6['views']['list']['length']===0x4b7*-0x3+-0xc5f*-0x2+0x1*-0xa97&&(Sc[0xe2*0x2c+-0xa18+-0xb8*0x28]*=-0xc82+-0x2d3*0xb+-0x73*-0x61+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x3b6fc9){if(this['sorter']){const _0x1e19ca=_0x3b6fc9['getWorldTr'+'ansform']();_0x1e19ca['getTransla'+'tion'](Va),_0x1e19ca['getZ'](Ga);const _0x225121=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x20b602=vC['invert'](_0x225121);_0x20b602['transformP'+'oint'](Va,Va),_0x20b602['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x3b6fc9);}['update'](){var _0x3addea;if(this['cameras']['length']>-0x5e*0x6a+-0x1c89+-0x9a3*-0x7){const _0x5750b1=this['cameras'][-0x50b*0x5+-0x8b*-0x44+0x1b*-0x6f];this['sort'](_0x5750b1['_node']),(_0x3addea=this['resolveSH'])==null||_0x3addea['render'](_0x5750b1['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0x23bf+-0x404*-0x5+0xfab;}}['setHighQua'+'litySH'](_0x2deec6){const {resource:_0x2c733e}=this,{gsplatData:_0x5d0d4a}=_0x2c733e;_0x5d0d4a instanceof gC&&_0x5d0d4a['shBands']>-0xa2*0xb+0x1*0x1349+-0xc53&&_0x2deec6===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x2c733e['device'],this));}['updateTime'](_0x3d5b97){this['time']=_0x3d5b97;}}class Rv{constructor(_0x5667c0,_0x423fd7){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x1*-0x245+0x462+0x1*-0x21d)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x5667c0,this['gsplatData']=_0x423fd7,this['isDestroye'+'d']=!(-0x1bc5*0x1+-0x3e*0x38+0x2956));const _0x103f71=0x1*-0x26a4+0xa*0x369+0x50a,_0x126d78=Math['ceil'](_0x423fd7['numSplats']/_0x103f71)*_0x103f71/_0x103f71,_0xac9e10=new Uint32Array(_0x126d78);for(let _0x44e024=-0xbdc+-0xf18*0x2+-0x17*-0x1d4;_0x44e024<_0x126d78;++_0x44e024)_0xac9e10[_0x44e024]=_0x44e024*_0x103f71;const _0x17ea97=new kt(_0x5667c0,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x149c*0x1+-0x23fa+0x3896)}]),_0x591079=new Float32Array((-0x1d64+0x8*-0x25+0x1*0x1e98)*_0x103f71),_0x3490ae=new Uint32Array((0x2380+0xee5+0x1*-0x325f)*_0x103f71);for(let _0x112358=-0x1a41+-0x29a*0xd+0x895*0x7;_0x112358<_0x103f71;++_0x112358){_0x591079['set']([-(-0x166*-0x7+0x1bd5+-0x259e),-(-0x165e+-0x19a5+0x3004),_0x112358,0x1*-0x234+-0x1c86+0x1ebb,-(0x1*0xbf2+0x847+0xa1c*-0x2),_0x112358,-0x1605+0x1b1*0x17+-0x10e1*0x1,0x6bb*0x3+-0x9d*0x30+0x128*0x8,_0x112358,-(-0x5*-0xb2+0x5*0x37+0x48c*-0x1),-0x2355+-0x5*0x4e7+-0x3*-0x13f3,_0x112358],_0x112358*(0x1*0x1ffb+0x1279*-0x1+-0xd76));const _0x328891=_0x112358*(-0xf0f+-0x1*0xf75+0x1e88);_0x3490ae['set']([-0xcfb+0x50+0x2f*0x45+_0x328891,0x141f+0x7*-0x576+0x121c+_0x328891,0x2e7*-0x1+0x107*0x7+-0x448+_0x328891,-0x313*0x4+-0x302+0xf4e+_0x328891,-0x1407*0x1+-0x1*-0x17d5+-0x3cc+_0x328891,-0x153+0x11ca+-0x1d4*0x9+_0x328891],_0x112358*(-0x2ec*0xa+-0x5*-0x7d+0x1acd*0x1));}this['mesh']=new Ge(_0x5667c0),this['mesh']['setPositio'+'ns'](_0x591079,0xcb*0xb+-0x2*0xcd1+0x10ec),this['mesh']['setIndices'](_0x3490ae),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x5667c0,_0x17ea97,_0x126d78,{'usage':ms,'data':_0xac9e10['buffer']});}['updateData'](){var _0x1fab33;const _0xb1cfc2=this['gsplatData'];if(!_0xb1cfc2)return;const _0x2e65a6=-0xc12+-0x257*0xa+-0x8fe*-0x4,_0x193187=Math['ceil'](_0xb1cfc2['numSplats']/_0x2e65a6)*_0x2e65a6/_0x2e65a6,_0x3eecda=new Uint32Array(_0x193187);for(let _0xff9919=-0x142d*0x1+-0xe44+0x2271;_0xff9919<_0x193187;++_0xff9919)_0x3eecda[_0xff9919]=_0xff9919*_0x2e65a6;const _0x254831=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x1*-0x47c+0x1ac1+-0x1f3d)}]),_0x1ec2d2=new Float32Array((-0x11*-0xec+0x1*0x1e41+-0x2de1)*_0x2e65a6),_0x23f619=new Uint32Array((-0x1403+0x515*-0x1+-0xc8f*-0x2)*_0x2e65a6);for(let _0xc107ea=-0x2bb*-0x8+-0xc*0x23b+-0x6*-0xd2;_0xc107ea<_0x2e65a6;++_0xc107ea){_0x1ec2d2['set']([-(0xc7*-0x25+-0xfb4+0x2c78),-(0x4a5+-0xbd*-0x2+-0x61e),_0xc107ea,-0x3cc+-0x1573+0x1940,-(-0x200b+0x13a+0x1ed2),_0xc107ea,0x8d9+0x9*0x1cd+-0x190d,0xd0+0xa76+-0x1*0xb45,_0xc107ea,-(0x1c97+-0x718*-0x1+-0x2*0x11d7),-0x18b6+0x1990+-0xd9,_0xc107ea],_0xc107ea*(0xb52+0x5*-0x2ad+0x21b*0x1));const _0x50ffef=_0xc107ea*(-0x1*0xc4f+-0x1add*0x1+0x2730);_0x23f619['set']([-0x2542+0xc7*0x3+0x22ed+_0x50ffef,-0x10b2+0x70a+0x1*0x9a9+_0x50ffef,-0x1151+-0x1d2+0xd*0x179+_0x50ffef,-0xa*-0x1df+-0x13d+-0x1179*0x1+_0x50ffef,-0x20d9+-0x65*-0x12+0x19c1+_0x50ffef,-0x10f*-0x6+0x2*-0x1216+0x1dd5+_0x50ffef],_0xc107ea*(0x1b3f+0x1c26+-0x375f));}this['mesh']['setPositio'+'ns'](_0x1ec2d2,0x5ef+-0x1b19+0x152d),this['mesh']['setIndices'](_0x23f619),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x1fab33=this['instanceIn'+'dices'])==null||_0x1fab33['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x254831,_0x193187,{'usage':ms,'data':_0x3eecda['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x16c3dc,_0x370a51,_0x28dc6d,_0x147552;(_0x16c3dc=this['mesh'])==null||_0x16c3dc['destroy'](),(_0x370a51=this['instanceIn'+'dices'])==null||_0x370a51['destroy'](),(_0x28dc6d=this['gsplatData'])==null||_0x28dc6d['destroy'](),this['gsplatData']=null,(_0x147552=this['gsplatInst'+'ance'])==null||_0x147552['destroy'](),this['gsplatInst'+'ance']=void(-0x10*-0x118+-0x1*0x1c2d+0xaad),this['isDestroye'+'d']=!(-0x1*0x26a5+-0x751*-0x5+0x210),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x220e+0x1925+0x1391*-0x3;}get['numSplats'](){var _0xfefad1;return(_0xfefad1=this['gsplatData'])==null?void(0x1d65+0x5d*0x15+-0x2506*0x1):_0xfefad1['numSplats'];}['setSceneIn'+'fo'](_0x4448bc){}['configureM'+'aterial'](_0x3f0479){}['evalTextur'+'eSize'](_0x1125e3){return J['ZERO'];}['appendGSpl'+'atResource'](_0x39baf9,_0x2f1b2b,_0xddfdc5,_0x31ee1,_0x1b9eee){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x334d97,_0x2f1fe6,_0x1ee853,_0x4d98cb){return new _e(this['device'],{'name':_0x334d97,'width':_0x1ee853['x'],'height':_0x1ee853['y'],'format':_0x2f1fe6,'cubemap':!(-0x1d3a*-0x1+-0x133*-0x20+-0xd85*0x5),'mipmaps':!(-0x16ed+-0xc7*0x2f+0x3b77),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x4d98cb?{'levels':[_0x4d98cb]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x235d7e,_0x17f1a8){return this['gsplatInst'+'ance']=new xC(_0x235d7e,_0x17f1a8),this['gsplatInst'+'ance'];}}async function TC(){const _0x26c0fc=new Float32Array(0x1d05+0x19a1+-0x1237*0x3),_0x32deb6=new Int32Array(_0x26c0fc['buffer']);let _0x58b87a=null,_0x4bcfcc=null,_0x3ce094=null,_0x384c2e=null,_0x194393=null,_0x272497=null,_0x4800d8=null,_0x40ed7a=null;self['onmessage']=async _0x1f7f02=>{const {data:_0x1a8cc6}=_0x1f7f02;switch(_0x1a8cc6['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x5afb2d(_0x1a8cc6['numSplats'],_0x1a8cc6['shBands'],_0x1a8cc6['SHData']);break;case'updateColo'+'rData':_0x5e421a(_0x1a8cc6['numSplats'],_0x1a8cc6['cr'],_0x1a8cc6['cg'],_0x1a8cc6['cb'],_0x1a8cc6['ca']);break;case'updateTran'+'sformData':_0x43bc2d(_0x1a8cc6['numSplats'],_0x1a8cc6['is4D'],_0x1a8cc6['x'],_0x1a8cc6['y'],_0x1a8cc6['z'],_0x1a8cc6['rx'],_0x1a8cc6['ry'],_0x1a8cc6['rz'],_0x1a8cc6['rw'],_0x1a8cc6['mx'],_0x1a8cc6['my'],_0x1a8cc6['mz'],_0x1a8cc6['sx'],_0x1a8cc6['sy'],_0x1a8cc6['sz'],_0x1a8cc6['muT'],_0x1a8cc6['tScale']);break;case'calcAabb':_0xa3b81c(_0x1a8cc6['numSplats'],_0x1a8cc6['x'],_0x1a8cc6['y'],_0x1a8cc6['z'],_0x1a8cc6['sx'],_0x1a8cc6['sy'],_0x1a8cc6['sz']);break;case'destroyWor'+'ker':_0x59e5ee();break;}};class _0x8b1445{constructor(_0x894ae0=-0x35*0x3b+0x1*0xea2+0x1*-0x26b,_0x37709c=0x2611+0x4*0x532+-0x3ad9,_0x304e66=0x7*-0x248+0x21c2+-0x11ca,_0x5ae5c5=0x762+-0x3d*-0x2f+-0x52*0x3a){this['x']=_0x894ae0,this['y']=_0x37709c,this['z']=_0x304e66,this['w']=_0x5ae5c5;}['set'](_0x2aab7a,_0x569fb5,_0x22f775,_0x3ada5f){return this['x']=_0x2aab7a,this['y']=_0x569fb5,this['z']=_0x22f775,this['w']=_0x3ada5f,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x3367ac=this){let _0x5603aa=_0x3367ac['length']();return _0x5603aa===0xfe+0x1aa+-0x2a8?(this['x']=this['y']=this['z']=-0x1b*0x131+0x2090+-0x65,this['w']=-0x10aa+-0xaac+0x1b57):(_0x5603aa=(0x69d+0x1*0x1d2c+-0x2*0x11e4)/_0x5603aa,this['x']=_0x3367ac['x']*_0x5603aa,this['y']=_0x3367ac['y']*_0x5603aa,this['z']=_0x3367ac['z']*_0x5603aa,this['w']=_0x3367ac['w']*_0x5603aa),this;}['mulScalar'](_0x3040a5,_0x1d95e3=this){return this['x']=_0x1d95e3['x']*_0x3040a5,this['y']=_0x1d95e3['y']*_0x3040a5,this['z']=_0x1d95e3['z']*_0x3040a5,this['w']=_0x1d95e3['w']*_0x3040a5,this;}}const _0x1cfd52=_0x163945=>{_0x26c0fc[0x33*0x90+0x1631+-0x32e1]=_0x163945;const _0x29175a=_0x32deb6[0x4d3+-0x460+-0x73];let _0x451f0d=_0x29175a>>-0x261e+0x3d*0x8+0x2446&0x1*-0x41d3+0x89a6+0x382d,_0x498ebb=_0x29175a>>0x1527+-0xcd6+-0x845&-0x1636+0x22ab+-0x476;const _0x4aee8f=_0x29175a>>0x136+-0x2709+0x25ea&-0x1d24+-0x2fd+0x28*0xd4;return _0x4aee8f<0x2026+0x21cb+0x1*-0x418a?_0x451f0d:_0x4aee8f>0x1*-0x4d1+-0x7de+0xd3d?(_0x451f0d|=-0x42cf+-0xfd5*-0x4+-0x131*-0x6b,_0x451f0d|=(_0x4aee8f===0x56c+0x4*0x6c4+-0xa7f*0x3?-0x5*0x45+0x2243+-0x20ea:-0x1*0x167f+-0x8d*-0x26+-0x2*-0xc9)&&_0x29175a&0x502e2*-0x17+-0x3bcd78+0x12f0fc5*0x1,_0x451f0d):_0x4aee8f<0x30b+-0x1*-0x189f+-0x1b39?(_0x498ebb|=0x1d24+-0x5*-0x2af+-0x228f*0x1,_0x451f0d|=(_0x498ebb>>-0x1*0x22db+0x4e9*-0x1+0x141b*0x2-_0x4aee8f)+(_0x498ebb>>0x482+0x283+0x4*-0x1a5-_0x4aee8f&0xb16+-0x11*-0xb9+0x1*-0x175e),_0x451f0d):(_0x451f0d|=_0x4aee8f-(0x99b*-0x2+-0x1e77+0x321d)<<0xf7a+0xdd*-0x2c+0x168c|_0x498ebb>>-0x447+0x332+0x2*0x8b,_0x451f0d+=_0x498ebb&-0x23a*0x6+-0x1fdd+0x2d3a,_0x451f0d);},_0xa3b81c=(_0x256291,_0x5a3124,_0x20f136,_0x4e0d6c,_0x2f28d5,_0x5eb775,_0x3f85ec)=>{let _0x1cd96a=0x1*0x1561+-0x500*-0x1+-0x1a61,_0x5c46ec=0x142a+0x2*-0x621+0x8*-0xfd,_0x5d626e=-0x4f*-0x4+0x887*0x3+0x5*-0x55d,_0x39596f=-0x1*-0xf43+-0x109f+-0x6*-0x3a,_0x590fe8=-0x1bfc+-0x6ea+0x1173*0x2,_0x59143b=-0x1*-0x195d+0x53*0x45+-0x2fbc,_0x128e7f=!(0x853*-0x3+0x16d7*0x1+-0xd*-0x2a);const _0xe4b953=new Float32Array(0x55*-0x35+0x120d+-0x71),_0x8b6383=new Float32Array(-0x407*-0x5+0x1682+0x22*-0x141);for(let _0x16d435=-0x255c+-0x258d+-0x1*-0x4ae9;_0x16d435<_0x256291;++_0x16d435){const _0x39daef=_0x5a3124[_0x16d435],_0xa0170a=_0x20f136[_0x16d435],_0x13abbc=_0x4e0d6c[_0x16d435],_0x3552ac=Math['max'](_0x2f28d5[_0x16d435],_0x5eb775[_0x16d435],_0x3f85ec[_0x16d435]);if(!isFinite(_0x39daef)||!isFinite(_0xa0170a)||!isFinite(_0x13abbc)||!isFinite(_0x3552ac))continue;const _0x57daf5=(0x527+-0x15b6+-0x1091*-0x1)*Math['exp'](_0x3552ac);_0x128e7f?(_0x128e7f=!(-0x677+0x11*0x10e+0x3*-0x3d2),_0x1cd96a=_0x39daef-_0x57daf5,_0x5c46ec=_0xa0170a-_0x57daf5,_0x5d626e=_0x13abbc-_0x57daf5,_0x39596f=_0x39daef+_0x57daf5,_0x590fe8=_0xa0170a+_0x57daf5,_0x59143b=_0x13abbc+_0x57daf5):(_0x1cd96a=Math['min'](_0x1cd96a,_0x39daef-_0x57daf5),_0x5c46ec=Math['min'](_0x5c46ec,_0xa0170a-_0x57daf5),_0x5d626e=Math['min'](_0x5d626e,_0x13abbc-_0x57daf5),_0x39596f=Math['max'](_0x39596f,_0x39daef+_0x57daf5),_0x590fe8=Math['max'](_0x590fe8,_0xa0170a+_0x57daf5),_0x59143b=Math['max'](_0x59143b,_0x13abbc+_0x57daf5));}_0x128e7f||(_0xe4b953[-0x43f+0x970+-0x531]=(_0x1cd96a+_0x39596f)*(0xb40+-0x1*0x3be+-0x3c1*0x2+0.5),_0xe4b953[-0xc9e+0xd2e+0xd*-0xb]=(_0x5c46ec+_0x590fe8)*(-0x14f7+0x1b18+-0x621+0.5),_0xe4b953[-0x1833+0xe04+0xa31]=(_0x5d626e+_0x59143b)*(-0x6a3*-0x1+0xc8*0x21+-0x206b+0.5),_0x8b6383[-0x1dc8+0x1b4f+0x1*0x279]=(_0x39596f-_0x1cd96a)*(-0x9f7*0x1+-0x13a+-0x3*-0x3bb+0.5),_0x8b6383[0x1705*-0x1+-0x1131+0x80b*0x5]=(_0x590fe8-_0x5c46ec)*(0x1080+-0x17*0x185+0x1273+0.5),_0x8b6383[0x712+0xcc7+0x3*-0x69d]=(_0x59143b-_0x5d626e)*(-0x1465+0x71*-0x45+0x2*0x196d+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0xe4b953,'halfExtents':_0x8b6383});},_0x43bc2d=(_0xb6d2dd,_0x581e96,_0x1793a4,_0x1c21ad,_0x471e7e,_0x5b4874,_0x50798d,_0x3c3125,_0x2851d2,_0x204e7d,_0x3f5c91,_0x459082,_0x10e091,_0x3e3e22,_0x40d428,_0x34fd7f,_0x43b5ca)=>{_0x59e5ee(),_0x58b87a=new Float32Array(_0xb6d2dd*(-0x1*0x31d+-0xcb6+0xfd6*0x1)),_0x384c2e=new Float32Array(_0xb6d2dd*(-0xa34*-0x1+0x3a6+-0xdd7)),_0x272497=new Uint16Array(_0xb6d2dd*(-0x18d9*0x1+-0x12ce+0x2baa*0x1)),_0x3ce094=new Float32Array(_0xb6d2dd*(0xeb1+0x239d+-0x67*0x7d)),_0x581e96&&(_0x194393=new Float32Array(_0xb6d2dd*(0xc7*0x13+0x1bfa+-0x2abc)),_0x4bcfcc=new Float32Array(_0xb6d2dd*(-0x3ff*-0x3+-0x32*0x98+0x11b6)),_0x4800d8=new Float32Array(_0xb6d2dd*(-0x1447+-0x3db*-0x2+0xa1*0x14)),_0x40ed7a=new Float32Array(_0xb6d2dd));const _0x1b0001=new _0x8b1445(-0xdf9+-0x1d*0x45+0x15ca,-0x12a4+0x131*-0x3+-0x79*-0x2f,-0x1fce+-0x18df+-0xb*-0x527,-0xdff+-0xd3b*-0x2+-0xc77);for(let _0x9770a3=-0x788+0x6*0x4cc+-0x1540;_0x9770a3<_0xb6d2dd;_0x9770a3++)_0x1b0001['set'](_0x5b4874[_0x9770a3],_0x50798d[_0x9770a3],_0x3c3125[_0x9770a3],_0x2851d2[_0x9770a3]),_0x1b0001['normalize'](),_0x1b0001['w']<0x220d+-0xd45+-0x299*0x8&&_0x1b0001['mulScalar'](-(0xd48*0x2+0x20fc*0x1+-0x3*0x13d9)),_0x384c2e[_0x9770a3*(0x21*0xe2+-0x52+-0x1*0x1ccd)+(-0x159*0xa+0x31*0x95+-0xf0b)]=_0x1793a4[_0x9770a3],_0x384c2e[_0x9770a3*(-0x1a2f+0x2ad+-0x1*-0x1785)+(-0x1a1e+-0x77*0x35+-0xb2*-0x49)]=_0x1c21ad[_0x9770a3],_0x384c2e[_0x9770a3*(0x2247+0x1f25+-0x4169)+(0x31b+0x2206+-0x251f)]=_0x471e7e[_0x9770a3],_0x58b87a[_0x9770a3*(-0xefd+-0x32b*-0x2+-0x1*-0x8aa)+(-0x2187*0x1+0x4a*-0x43+0x34e5)]=_0x1793a4[_0x9770a3],_0x58b87a[_0x9770a3*(0x1977+0xb54+-0x24c8)+(0x26a4+0x1ac*0xc+-0x3ab3*0x1)]=_0x1c21ad[_0x9770a3],_0x58b87a[_0x9770a3*(0xa13*0x1+0x22a*0x11+-0x1*0x2eda)+(-0x254f+0x269e+0x9*-0x25)]=_0x471e7e[_0x9770a3],_0x272497[_0x9770a3*(0x239d+0x4f*-0x38+-0x43*0x46)+(-0x213*-0x4+0xac+-0x2*0x47c)]=_0x1cfd52(Math['exp'](_0x10e091[_0x9770a3])),_0x272497[_0x9770a3*(0x22dd+-0x145a+-0xe80)+(-0x2db*-0x8+0x3*-0x423+0x59*-0x1e)]=_0x1cfd52(Math['exp'](_0x3e3e22[_0x9770a3])),_0x272497[_0x9770a3*(-0x1*0x1693+0xa54+-0x416*-0x3)+(-0x1e17*0x1+0x1*-0xd1f+0x2b38)]=_0x1cfd52(Math['exp'](_0x40d428[_0x9770a3])),_0x3ce094[_0x9770a3*(-0x535+0x5e*-0x13+0x619*0x2)+(-0x814+0xbe6+-0x3d2)]=_0x1b0001['x'],_0x3ce094[_0x9770a3*(0x95*0x30+-0x1ca2+-0x1*-0xb5)+(-0x8*-0xd+-0x2191+0x212a)]=_0x1b0001['y'],_0x3ce094[_0x9770a3*(0x2fb*-0x4+0xc3d*-0x1+0x182c)+(-0x1ebb*-0x1+-0x3d*-0x3+-0x1f70)]=_0x1b0001['z'],_0x581e96&&_0x194393&&_0x4bcfcc&&(_0x194393[_0x9770a3*(-0x14*-0x173+-0x6b*-0x47+0x1d53*-0x2)+(-0x1898+-0x613*-0x1+0x1*0x1285)]=_0x204e7d[_0x9770a3],_0x194393[_0x9770a3*(-0x1c51+-0x4*0x2db+0x27c0)+(0x34*0x80+0xc*-0xa2+0x1*-0x1267)]=_0x3f5c91[_0x9770a3],_0x194393[_0x9770a3*(0xc92*0x1+-0x1b37+0xea8)+(0x17c8+0xcec*-0x2+0x212*0x1)]=_0x459082[_0x9770a3],_0x4800d8[_0x9770a3*(-0x5*-0x31b+0x17b4+0x14*-0x1f6)+(-0x8e7+0x17e6+0x15d*-0xb)]=_0x204e7d[_0x9770a3],_0x4800d8[_0x9770a3*(0x7*-0x189+-0xcb5+0x1777)+(-0x1e9*-0x12+-0xa9*0x10+-0x17d1)]=_0x3f5c91[_0x9770a3],_0x4800d8[_0x9770a3*(0x1c50+-0x1140+-0xb0d)+(0x3*0x841+-0xa70+-0xe51)]=_0x459082[_0x9770a3],_0x40ed7a[_0x9770a3]=_0x43b5ca?Math['exp'](_0x43b5ca[_0x9770a3]):0x1c0b*0x1+-0x18f*-0x9+-0x2a12,_0x4bcfcc[_0x9770a3*(-0xb1f+-0x1429+0x1f4b)+(-0x17*-0xfa+-0x3*0x61d+0x41f*-0x1)]=_0x34fd7f?_0x34fd7f[_0x9770a3]:-0x516+-0xb*-0x27+0x369,_0x4bcfcc[_0x9770a3*(0x589*-0x5+0x1d17+-0x167)+(0x2*0x1197+-0x1626+0xd07*-0x1)]=_0x40ed7a[_0x9770a3]);const _0x55f61c=[_0x58b87a['buffer'],_0x384c2e['buffer'],_0x272497['buffer'],_0x3ce094['buffer']];_0x581e96&&_0x55f61c['push'](_0x194393['buffer'],_0x4bcfcc['buffer'],_0x4800d8['buffer'],_0x40ed7a['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x58b87a,'dataPosition':_0x384c2e,'dataScale':_0x272497,'dataRotation':_0x3ce094,'dataMotion':_0x194393,'dataTime':_0x4bcfcc,'motion':_0x4800d8,'tScaleArray':_0x40ed7a},_0x55f61c);},_0x5e421a=(_0x3f3d5d,_0x5809b4,_0x1a22cd,_0x34904f,_0x32d5b5)=>{const _0x2f02e6=new Uint16Array(_0x3f3d5d*(0x3d*0x29+0x2*-0xd49+0x10d1)),_0x2dddc0=-0x1c3b+0x739+-0x1502*-0x1+0.28209479177387814;for(let _0x2f25a9=0x3c7*-0x4+-0xd*-0x101+0x20f;_0x2f25a9<_0x3f3d5d;++_0x2f25a9){const _0x37921f=_0x5809b4[_0x2f25a9]*_0x2dddc0+(0x26c5+0x1*0x130b+-0x39d0+0.5),_0x1cbeca=_0x1a22cd[_0x2f25a9]*_0x2dddc0+(0x9cb+-0x1083*-0x1+0x2*-0xd27+0.5),_0x4514b6=_0x34904f[_0x2f25a9]*_0x2dddc0+(0x1e37+0x25b7*-0x1+0x40*0x1e+0.5),_0x264fbd=_0x32d5b5[_0x2f25a9];_0x2f02e6[_0x2f25a9*(0x55b+0x16bd*-0x1+0x8b3*0x2)+(-0x1918+-0x117+0x1a2f)]=_0x1cfd52(_0x37921f),_0x2f02e6[_0x2f25a9*(0x1*-0x1795+0x1619*0x1+0x180)+(0x16a*0x1a+-0x26*0x21+-0x1fdd)]=_0x1cfd52(_0x1cbeca),_0x2f02e6[_0x2f25a9*(0x1082*0x1+-0x5*0x667+0xf85)+(0x187d*-0x1+0x242f+-0xbb0)]=_0x1cfd52(_0x4514b6),_0x2f02e6[_0x2f25a9*(-0x1f3f*-0x1+0x17e*0x6+0x1*-0x282f)+(-0xf*0x16f+0x1*0x1a8e+-0x1ae*0x3)]=_0x1cfd52(_0x264fbd);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x2f02e6});},_0x5afb2d=(_0xfe7026,_0xfd01f,_0x2401c0)=>{const _0x2814c9=new Uint32Array(_0xfe7026*(-0x17e+-0x11f*-0x1e+0x101*-0x20)),_0x4f7b16=new Uint32Array(_0xfe7026*(-0x12a7+0x1fe0+0x93*-0x17)),_0x182f7e=new Uint32Array(_0xfe7026*(-0x1e01+-0x47*-0x47+0xa54)),_0x4c1e22=new Uint32Array(_0xfe7026*(0x1*-0x11a5+0x257f+-0x2*0x9eb)),_0x297b60={0x1:0x3,0x2:0x8,0x3:0xf}[_0xfd01f],_0x374c0e=_0x2401c0,_0x59b96d=0x1469+0x1*-0x1837+0xbcd,_0x3dec54=0x1576+-0x1*0x1eb+-0xf8c,_0x453259=new Float32Array(-0x16ed+0x79d*-0x3+0x2dc5),_0x5aa465=new Uint32Array(_0x453259['buffer']),_0x2e2ba5=new Array(_0x297b60*(-0x1b93*0x1+-0x1f09+0x3a9f*0x1))['fill'](0x2008+0x1451+0x3459*-0x1);for(let _0x278b4d=-0x269*0x1+-0xd55+0xfbe;_0x278b4d<_0xfe7026;++_0x278b4d){for(let _0x2e8279=-0x1790+0x74*0x38+-0x1d0;_0x2e8279<_0x297b60;++_0x2e8279)_0x2e2ba5[_0x2e8279*(-0x124d+0x851*0x4+-0xef4)]=_0x374c0e[_0x2e8279][_0x278b4d],_0x2e2ba5[_0x2e8279*(0xa4b*-0x1+0x14c3+-0xa75*0x1)+(-0x4*-0x10d+-0x1162+-0x1*-0xd2f)]=_0x374c0e[_0x2e8279+_0x297b60][_0x278b4d],_0x2e2ba5[_0x2e8279*(-0x3d6+-0x1f1f*0x1+0x3*0xba8)+(0x129a+-0x9da*-0x3+-0x3026)]=_0x374c0e[_0x2e8279+_0x297b60*(-0x2037+0x4f*0xa+0x1d23)][_0x278b4d];let _0x3ce958=_0x2e2ba5[-0xd1+-0x10ea+0x11bb*0x1];for(let _0x57d1e5=0x1121+0x2a5*0xc+-0x30dc;_0x57d1e5<_0x297b60*(-0x836*0x4+0x2*0x113b+-0x19b);++_0x57d1e5)_0x3ce958=Math['max'](_0x3ce958,Math['abs'](_0x2e2ba5[_0x57d1e5]));if(_0x3ce958!==-0x406*0x1+-0x2*0x8a7+0x1554){for(let _0x589d5d=-0x2e5*-0x6+-0x1d33+0xbd5;_0x589d5d<_0x297b60;++_0x589d5d)_0x2e2ba5[_0x589d5d*(0x1df*0x8+0x11a7+0x827*-0x4)+(-0xb*-0x255+-0x1*0x985+-0x1022)]=Math['max'](-0x211+-0xa3*0x1f+0x15ce,Math['min'](_0x59b96d,Math['floor']((_0x2e2ba5[_0x589d5d*(-0x1*0x5cb+0x18e9+-0x1*0x131b)+(-0x1a92+-0x17b6*-0x1+0x2dc)]/_0x3ce958*(-0x1a7c+0xa6*-0x3a+-0x24a*-0x1c+0.5)+(-0x3b8+0x15d7*0x1+-0x121f+0.5))*_0x59b96d+(0x484+0x28f*0x1+-0x713*0x1+0.5)))),_0x2e2ba5[_0x589d5d*(-0x27*0x45+0x2*0x1048+0xe*-0x193)+(0x1*0x24fb+0xe4e+-0x3348)]=Math['max'](-0x2aa+0x330+-0x86,Math['min'](_0x3dec54,Math['floor']((_0x2e2ba5[_0x589d5d*(0x1dbd+-0x339+-0x1a81)+(0xba*-0x2e+0x11*-0x1b4+-0x3e61*-0x1)]/_0x3ce958*(-0x50d+0x1*-0x2585+-0x1*-0x2a92+0.5)+(0x7*-0x1f1+0x2*-0x761+0x1c59+0.5))*_0x3dec54+(0x214c+-0x2*0x1231+0x316+0.5)))),_0x2e2ba5[_0x589d5d*(0x25b0+-0x1fc0+-0x5ed)+(0x2460+0x12*-0x186+-0x8f2)]=Math['max'](-0x1097+-0x26a7+-0x2*-0x1b9f,Math['min'](_0x59b96d,Math['floor']((_0x2e2ba5[_0x589d5d*(-0x1e3f+0x2*0x101e+-0x1fa)+(0x7e1*-0x3+0x15dc+0x1c9*0x1)]/_0x3ce958*(0x1f5b+0x126*-0x9+-0x1505+0.5)+(0x2*0x95+-0x6d*-0xb+-0x5d9+0.5))*_0x59b96d+(-0x20ae+0x1990+0x71e+0.5))));_0x453259[-0x579*-0x7+-0xfa7+-0x5*0x488]=_0x3ce958,_0x2814c9[_0x278b4d*(0x1*-0x10f3+-0xe8*0x2b+-0x1*-0x37ef)+(-0x1a4+-0x19*0x119+0x1d15)]=_0x5aa465[-0x1*0x23f7+0x23d8+0x1*0x1f],_0x2814c9[_0x278b4d*(0x102a+-0x8*-0x193+-0x1cbe)+(-0x6e*-0x53+0x1319*0x1+-0x36c2)]=_0x2e2ba5[-0x23d*0x9+-0x3*-0x716+-0x39*0x5]<<0x54f+-0x29e+0x29c*-0x1|_0x2e2ba5[0xe*-0x15e+0x47+-0x46*-0x45]<<0x5a2+0x1*0xd14+-0x1*0x12ab|_0x2e2ba5[0x1*-0x2581+0x1b13*-0x1+-0x2*-0x204b],_0x2814c9[_0x278b4d*(-0x1*0x23bf+-0x911+0x25c*0x13)+(-0x6fb+0x186e+-0x2f*0x5f)]=_0x2e2ba5[0x18d*0x13+-0x9d*0xb+-0x16b5]<<0x11*-0x2+0xc5f+-0xc28|_0x2e2ba5[-0x4d+0x1124+-0x10d3*0x1]<<-0x620+-0x20a7+0x1369*0x2|_0x2e2ba5[0x15f5+-0x7c*0x3b+0x352*0x2],_0x2814c9[_0x278b4d*(0x1682+-0x26db+-0x105d*-0x1)+(0x18af+-0x1ea6*0x1+0x5fa)]=_0x2e2ba5[0x2*0xb3d+-0x7af*0x5+0xff7]<<0x1ea2+-0x13c3+-0xaca|_0x2e2ba5[-0x10a5*0x1+0x4*-0x593+0x26f8]<<0x1f1e+0x1008+-0x2f1b|_0x2e2ba5[0x1e9e+-0x21+0xa27*-0x3],_0xfd01f>0x13e4+0x9a*0x37+-0x34f9&&(_0x4f7b16[_0x278b4d*(0x1*-0x2465+-0x46a+-0x28d3*-0x1)+(0x1ba*-0x16+0x1363+0x1299)]=_0x2e2ba5[0x2228*0x1+-0x13ff+-0xe20]<<-0x1f25+-0x28b+0x21c5|_0x2e2ba5[-0x998+0xab7*-0x2+0x1f10]<<-0x516+0xc1+0xa*0x70|_0x2e2ba5[-0xf4a+-0x275*-0xd+-0x84e*0x2],_0x4f7b16[_0x278b4d*(-0xb2b+0x1464+0x1*-0x935)+(-0x1*-0xce3+-0x1*0x1829+-0x1*-0xb47)]=_0x2e2ba5[0x2471+-0x1243+0x1a6*-0xb]<<0x1137+0x7*0x24+-0x121e|_0x2e2ba5[0x121*-0x1f+-0x349+-0x3*-0xcc7]<<-0x1f*0x6b+0x20b6+-0x57*0x3a|_0x2e2ba5[0x1*-0x7c7+0xcdc*0x2+-0xf1*0x13],_0x4f7b16[_0x278b4d*(0x2*0xac+0x5*0x84+-0x3e8)+(-0xb*0x361+-0x1*0x1823+0x3d50)]=_0x2e2ba5[0x3ce*-0x1+0xab*0x2a+-0x1831]<<0x2dd+0x209b+-0x2363|_0x2e2ba5[0x2541+0x251f+0x52*-0xe8]<<0x1645+-0x2*-0x1019+0x6c*-0x81|_0x2e2ba5[-0x1*-0xbf7+0x216d+0x1*-0x2d53],_0x4f7b16[_0x278b4d*(0x2b*-0x10+0x3b9*-0x7+0x1cc3)+(-0x105+-0xe5f+0xf67*0x1)]=_0x2e2ba5[-0x2*0x11d7+0x1dac+0x185*0x4]<<-0xd6e+0x2005+0x941*-0x2|_0x2e2ba5[0x1f33+0x1e7*-0x10+0x4*-0x2c]<<-0xae2+0x1*-0x2285+-0x2a*-0x115|_0x2e2ba5[-0x2209+-0xd5*0x1a+0x1295*0x3],_0xfd01f>0x173d+0x1*0x248c+-0x3bc7*0x1?(_0x182f7e[_0x278b4d*(0x2bb+0x4*0x947+-0x27d3)+(0x183c+0x15*0x19f+0x3*-0x136d)]=_0x2e2ba5[-0x5ac+-0x74e*-0x5+-0x1ec5]<<0x47a+0x3*0x5ba+-0x1593|_0x2e2ba5[-0x11bd+-0x22ff+0x34d2*0x1]<<-0x52*0x55+-0x1705+0x324a*0x1|_0x2e2ba5[0xef8+0x557+-0x1438],_0x182f7e[_0x278b4d*(0x2*-0x1be+-0x3*-0xbd3+0x1ff9*-0x1)+(0xfb4+-0x7a*0x5+-0xd51)]=_0x2e2ba5[0x347*0x6+-0x16a8*0x1+0x316]<<-0x2126+-0x5*0xf+-0x4ca*-0x7|_0x2e2ba5[-0x8*-0x2f9+-0x24e0+0xd31]<<-0x6*0x64e+-0x1af5+0x40d4|_0x2e2ba5[0x26ae*-0x1+-0xf1f+0x1*0x35e7],_0x182f7e[_0x278b4d*(0x1*0xab1+-0x1*0x136e+-0x1*-0x8c1)+(-0x404+0x216*-0x1+-0x44*-0x17)]=_0x2e2ba5[-0x9df+0x5a3+0x457]<<-0x1b8b+-0x1268+-0x1*-0x2e08|_0x2e2ba5[-0x14*0x9c+-0x236a+0x2fb6]<<0x44*0x41+0x523+-0x165c|_0x2e2ba5[0x8*-0x212+0x599*0x6+-0x9*0x1e1],_0x182f7e[_0x278b4d*(0x1ad3+-0x20e6+0x1*0x617)+(0x1a4f*0x1+0x1*0x22e5+-0x3d31)]=_0x2e2ba5[0x2378+0x382*-0x2+0x12*-0x193]<<-0x35*0xb6+0x35*0x50+0x1b*0xc9|_0x2e2ba5[0x1*0x52f+0x2*0x76f+0x9f7*-0x2]<<0x1850+0x549+0xd*-0x246|_0x2e2ba5[0x1d3b+-0xb23+-0x11f8],_0x4c1e22[_0x278b4d*(-0x5*-0x47+0x1d81+-0x1ee0)+(0x198f+-0x8*0x157+-0xed7)]=_0x2e2ba5[0x1302+-0x1a9e*0x1+0x7bd]<<-0x24b5*-0x1+-0xc6c+-0x1834|_0x2e2ba5[-0x1a15+-0x230+0x1c67]<<-0x7*-0x532+0x12e0+0x3733*-0x1|_0x2e2ba5[0x4c+0xee*-0xc+0xaff],_0x4c1e22[_0x278b4d*(-0x797+0x67*-0x2f+0x1a84)+(0x3d*-0x2f+-0x2f*-0xbf+0x17dd*-0x1)]=_0x2e2ba5[0xf9c+0x14e+-0x10c6]<<-0xefa+0x186e+-0x95f*0x1|_0x2e2ba5[-0x62*0x5b+-0xc3b*-0x1+0x16c0]<<0x807*0x1+0x1*-0x20b9+-0x1*-0x18bd|_0x2e2ba5[0x428*-0x1+-0x552+0x9a0],_0x4c1e22[_0x278b4d*(-0x24ef+-0x7a2+0x71*0x65)+(0x472*0x8+0x1746+-0x3ad4)]=_0x2e2ba5[0x1*-0x249e+0x28*-0x7b+0x37fd]<<0x15c1+-0x6*-0x536+-0x34f0|_0x2e2ba5[0x599+0x1f2a+-0x249b]<<0x113d+-0x146e+0x33c|_0x2e2ba5[-0xfca*0x2+0x2185+-0x1c8],_0x4c1e22[_0x278b4d*(0x1d69+-0x2509+-0x7a4*-0x1)+(-0x8cb+0x1*0x21d3+-0x1905)]=_0x2e2ba5[-0x1*-0x15e3+0xb87+-0x4*0x850]<<0x1*0x1003+-0x24e4+0x14f6|_0x2e2ba5[-0x236f+0x2185*0x1+0x215]<<-0x1*-0x2271+-0x1*-0x2eb+-0x2551|_0x2e2ba5[0x1e2*0x9+0xa52*0x1+0x8*-0x363]):_0x182f7e[_0x278b4d]=_0x2e2ba5[0xc*0x71+-0x3*0x93a+0x1677]<<-0x3*0x819+-0x1*-0x1147+0x1*0x719|_0x2e2ba5[0xaa+-0x150f+0x147b]<<0x56*0x49+-0xd05*0x1+0xb76*-0x1|_0x2e2ba5[0x2*-0x5c8+-0xec1+-0x2*-0xd34]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x2814c9,'sh4to7Data':_0x4f7b16,'sh8to11Data':_0x182f7e,'sh12to15Data':_0x4c1e22}},[_0x2814c9['buffer'],_0x4f7b16['buffer'],_0x182f7e['buffer'],_0x4c1e22['buffer']]);},_0x59e5ee=()=>{_0x58b87a=null,_0x4bcfcc=null,_0x3ce094=null,_0x384c2e=null,_0x194393=null,_0x272497=null,_0x4800d8=null,_0x40ed7a=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x293c5e,_0x1fc196,_0x4d0391){_0x293c5e['onmessage']=_0x47bca7=>{if(!this['worker'])return;const {data:_0x1ad477}=_0x47bca7;if(_0x1ad477['type']===_0x1fc196)switch(_0x1fc196){case'updatedSHD'+'ata1':_0x4d0391(_0x1ad477['data']);break;case'updatedCol'+'orData':_0x4d0391(_0x1ad477['data']);break;case'updatedTra'+'nsformData':_0x4d0391(_0x1ad477);break;case'updatedAab'+'bData':_0x4d0391(_0x1ad477);break;}};}['updateSHDa'+'ta1'](_0x3e2c45,_0x71942b,_0x19d84b){var _0x523e5e;return(_0x523e5e=this['worker'])==null||_0x523e5e['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x3e2c45,'shBands':_0x71942b,'SHData':_0x19d84b}),new Promise(_0x437751=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x6417eb=>{_0x437751(_0x6417eb);});});}async['updateColo'+'rData'](_0x33dfe7,_0x1835ae,_0x54a0ef,_0x413bc0,_0x2e414f){var _0x1106a8;return(_0x1106a8=this['worker'])==null||_0x1106a8['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x33dfe7,'cr':_0x1835ae,'cg':_0x54a0ef,'cb':_0x413bc0,'ca':_0x2e414f}),new Promise(_0x3684c7=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x58bae7=>{_0x3684c7(_0x58bae7);});});}async['calcAabb'](_0x416024,_0x135ebd,_0x50af00,_0x18128f,_0x3316ab,_0x4add50,_0x2b33b6){var _0x2f63cf;const _0x2be547=new Float32Array(_0x135ebd),_0x50b3e4=new Float32Array(_0x50af00),_0x1ba273=new Float32Array(_0x18128f),_0x10296e=new Float32Array(_0x3316ab),_0x363c8a=new Float32Array(_0x4add50),_0xb20447=new Float32Array(_0x2b33b6);return(_0x2f63cf=this['worker'])==null||_0x2f63cf['postMessag'+'e']({'type':'calcAabb','numSplats':_0x416024,'x':_0x2be547,'y':_0x50b3e4,'z':_0x1ba273,'sx':_0x10296e,'sy':_0x363c8a,'sz':_0xb20447},[_0x2be547['buffer'],_0x50b3e4['buffer'],_0x1ba273['buffer'],_0x10296e['buffer'],_0x363c8a['buffer'],_0xb20447['buffer']]),new Promise(_0x3d6cdf=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x147913=>{_0x3d6cdf(_0x147913);});});}async['updateTran'+'sData'](_0x5215d7,_0x1a0f64,_0x2fb857,_0x14614e,_0x214358,_0x462e03,_0x2ab320,_0x379213,_0x2f0619,_0x3c04ea,_0x16023d,_0x58d636,_0x3fb17f,_0x88fda7,_0x4e871f,_0x34e9b8,_0x1fc6d1){var _0xe89c14;return(_0xe89c14=this['worker'])==null||_0xe89c14['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5215d7,'is4D':_0x1a0f64,'x':_0x2fb857,'y':_0x14614e,'z':_0x214358,'rx':_0x462e03,'ry':_0x2ab320,'rz':_0x379213,'rw':_0x2f0619,'mx':_0x3c04ea,'my':_0x16023d,'mz':_0x58d636,'sx':_0x3fb17f,'sy':_0x88fda7,'sz':_0x4e871f,'muT':_0x34e9b8,'tScale':_0x1fc6d1}),new Promise(_0x1187c2=>{const _0x5d4f1f=_0x323273=>{_0x1187c2(_0x323273);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x5d4f1f);});}['destroy'](){var _0x55ffca;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x55ffca=this['worker'])==null||_0x55ffca['terminate'](),this['worker']=null);}};const vg=(_0x56771d,_0x1a4ff5)=>{const _0x1c70a3=[];for(let _0x1edcef=-0x6a+-0x11*0xe7+-0x25*-0x6d;_0x1edcef<_0x1a4ff5;++_0x1edcef)_0x1c70a3['push'](_0x56771d['getProp']('f_rest_'+_0x1edcef));return _0x1c70a3;};class EC extends Rv{constructor(_0x6faf63,_0xb23041){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x6faf63,_0xb23041),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x1ea2*-0x1+-0x1*0x1f4d+0x3df0)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x10ff+0x22f9+-0x11f5);}async['updateData'](){var _0x3aa0ba,_0x21e961,_0x25cc79,_0x15706a,_0x31b17a,_0x115499,_0x57be38,_0x3405e5,_0x307032,_0x30c32a,_0x26d6b8;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x2dfdf0=this['gsplatData'];if(!_0x2dfdf0)return;this['is4D']=_0x2dfdf0['is4D'];const _0x22d0ba=await this['getTransfo'+'rmDataByWo'+'rker'](_0x2dfdf0);this['aabb']=new De(),await _0x2dfdf0['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x22d0ba['centers'],this['motion']=_0x22d0ba['motion'],this['tScale']=_0x22d0ba['tScaleArra'+'y'],this['muT']=await _0x2dfdf0['getMuT'](),this['timeIndex']=await _0x2dfdf0['getTimeInd'+'ex']();const _0x48673d=this['evalTextur'+'eSize'](_0x2dfdf0['numSplats']);this['colorTextu'+'re']?((_0x3aa0ba=this['colorTextu'+'re2'])==null||_0x3aa0ba['destroy'](),(_0x21e961=this['transformA'+'Texture2'])==null||_0x21e961['destroy'](),(_0x25cc79=this['transformB'+'Texture2'])==null||_0x25cc79['destroy'](),(_0x15706a=this['transformR'+'Texture2'])==null||_0x15706a['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x48673d),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x48673d),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x48673d),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x48673d),this['is4D']&&((_0x31b17a=this['transformM'+'otionTextu'+'re2'])==null||_0x31b17a['destroy'](),(_0x115499=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x115499['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x48673d),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x48673d))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x48673d),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x48673d),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x48673d),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x48673d),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x48673d),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x48673d),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x48673d),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x48673d),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x48673d),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x48673d),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x48673d),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x48673d))),await this['updateColo'+'rData'](_0x2dfdf0),await this['updateTran'+'sformFromD'+'ata'](_0x22d0ba),this['shBands']=_0x2dfdf0['shBands'],this['shBands']>0x4cf+-0x5*-0x669+-0x24dc&&(this['sh1to3Text'+'ure']?((_0x57be38=this['sh1to3Text'+'ure2'])==null||_0x57be38['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x48673d),this['shBands']>0x7aa+-0x678+-0x131&&((_0x3405e5=this['sh4to7Text'+'ure2'])==null||_0x3405e5['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x48673d),this['shBands']>0x1*-0x1bcd+0x2*0xbf3+0x3e9?((_0x307032=this['sh8to11Tex'+'ture2'])==null||_0x307032['destroy'](),(_0x30c32a=this['sh12to15Te'+'xture2'])==null||_0x30c32a['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x48673d),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x48673d)):((_0x26d6b8=this['sh8to11Tex'+'ture2'])==null||_0x26d6b8['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x48673d)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x48673d),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x48673d),this['shBands']>-0x13b3+0x2151+-0xcd*0x11&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x48673d),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x48673d),this['shBands']>-0x2*-0x382+0x12*-0x3d+-0xae*0x4?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x48673d),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x48673d),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x48673d),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x48673d)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x48673d),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x48673d)))),await this['updateSHDa'+'taByWorker'](_0x2dfdf0));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x29d219){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x29d219}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x32ffea,_0x26a599,_0x4b2a8a,_0x28e157,_0x3a847e){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x32ffea,'timeOption':_0x26a599,'loadedTime':_0x4b2a8a,'asset':_0x28e157,'events':_0x3a847e}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1567+0x1532+-0x2a99);try{for(;this['appendQueu'+'e']['length']>-0x139f+-0x1750+0x2aef;){const _0x230ae2=this['appendQueu'+'e']['shift']();_0x230ae2['type']==='append'?await this['processApp'+'endTask'](_0x230ae2['data']):_0x230ae2['type']==='release'&&await this['processRel'+'easeTask'](_0x230ae2['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x125c+-0xcbc*0x3+0x13d9);}}}async['processRel'+'easeTask'](_0x59e4ff){const {index:_0x2c7230}=_0x59e4ff;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x2c7230),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x2c7230);}async['processApp'+'endTask'](_0x468cf1){var _0x44cd7a;const {gsplatData:_0x1e434b,timeOption:_0x1a1aa1,loadedTime:_0x3a2cdb,asset:_0x17176a,events:_0x4cbc09}=_0x468cf1;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1a1aa1,await this['gsplatData']['appendGSpl'+'atData'](_0x1e434b,_0x3a2cdb,_0x1a1aa1),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x220+0x23b*-0x1+-0x1*-0x45d),_0x1e434b['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x1e434b['numSplats'])['toFixed'](-0x1*-0x773+0xcf5+0x17*-0xe3)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x2a9+0x2135*-0x1+0x47c*0x8),_0x1e434b['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x44cd7a=this['gsplatInst'+'ance'])==null||_0x44cd7a['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x15*-0x5a+-0x1*0x2097+-0x1*-0x1937),_0x1e434b['numSplats']),this['asset']=_0x17176a,this['assetsMana'+'gerLoadedT'+'ime']=_0x3a2cdb,this['events']=_0x4cbc09);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0xe314f2;const _0x175b2c=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x175b2c),(_0xe314f2=this['asset'])==null||_0xe314f2['fire']('setAssetsL'+'oaded',_0x175b2c);}['destroy'](){var _0x242305,_0x36d7e2,_0x21c8b2,_0x34369d,_0x5ef8ea,_0x592e5c,_0x649c3,_0xe6ffd6,_0x542171,_0x462171,_0x54c027,_0x417aa4,_0x45802c,_0x5ef033,_0x526100,_0x53adc3,_0x3931bf,_0x8e40c8,_0x220946,_0x25d9e3,_0x36bbe8;(_0x242305=this['updateData'+'Worker'])==null||_0x242305['destroy'](),this['updateData'+'Worker']=void(-0x2*0xbc9+-0x828+0x1fba),(_0x36d7e2=this['colorTextu'+'re'])==null||_0x36d7e2['destroy'](),(_0x21c8b2=this['transformA'+'Texture'])==null||_0x21c8b2['destroy'](),(_0x34369d=this['transformB'+'Texture'])==null||_0x34369d['destroy'](),(_0x5ef8ea=this['transformR'+'Texture'])==null||_0x5ef8ea['destroy'](),(_0x592e5c=this['transformM'+'otionTextu'+'re'])==null||_0x592e5c['destroy'](),(_0x649c3=this['transformL'+'ifecycleTe'+'xture'])==null||_0x649c3['destroy'](),(_0xe6ffd6=this['sh1to3Text'+'ure'])==null||_0xe6ffd6['destroy'](),(_0x542171=this['sh4to7Text'+'ure'])==null||_0x542171['destroy'](),(_0x462171=this['sh8to11Tex'+'ture'])==null||_0x462171['destroy'](),(_0x54c027=this['sh12to15Te'+'xture'])==null||_0x54c027['destroy'](),(_0x417aa4=this['colorTextu'+'re2'])==null||_0x417aa4['destroy'](),(_0x45802c=this['transformA'+'Texture2'])==null||_0x45802c['destroy'](),(_0x5ef033=this['transformB'+'Texture2'])==null||_0x5ef033['destroy'](),(_0x526100=this['transformR'+'Texture2'])==null||_0x526100['destroy'](),(_0x53adc3=this['transformM'+'otionTextu'+'re2'])==null||_0x53adc3['destroy'](),(_0x3931bf=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3931bf['destroy'](),(_0x8e40c8=this['sh1to3Text'+'ure2'])==null||_0x8e40c8['destroy'](),(_0x220946=this['sh4to7Text'+'ure2'])==null||_0x220946['destroy'](),(_0x25d9e3=this['sh8to11Tex'+'ture2'])==null||_0x25d9e3['destroy'](),(_0x36bbe8=this['sh12to15Te'+'xture2'])==null||_0x36bbe8['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x3846fb){var _0x17e24b,_0x27c0d7,_0x4f49b2,_0x5061ee,_0x268a58,_0x55f959,_0x5de284,_0xa42c7,_0x2710a0,_0x17d9e4,_0x3029f7,_0x5e83cb,_0x2453c0;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x6fa588=((_0x17e24b=_0x3846fb['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1ba*-0x10+-0x1*0x2534+0x994):_0x17e24b['data'])??-0xcff*-0x3+0x1d3c+0xda5*-0x5,_0x3b9e99=((_0x27c0d7=_0x3846fb['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x3*0x19f+-0xf*-0x269+-0x1f4a):_0x27c0d7['data'])??-0x1*0x1355+-0x116e+-0x4*-0x931,_0x585fa3=((_0x4f49b2=_0x3846fb['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x11b*-0x21+-0x1340+-0x113b):_0x4f49b2['data'])??0x1b29*-0x1+-0x13a*0x8+0x24fa,_0xb956a1=((_0x5061ee=_0x3846fb['getParamet'+'er']('uHueOffset'))==null?void(-0x1*0x1973+-0x13*-0x3a+0x1525):_0x5061ee['data'])??0x3ca+-0x7*-0x12b+0xbf7*-0x1,_0x5a5376=((_0x268a58=_0x3846fb['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x5e9*-0x4+-0xd*-0x2a7+-0x3*0x39d):_0x268a58['data'])??-0x2618+0x229*-0x4+0x2ebc,_0x3c65f9=((_0x55f959=_0x3846fb['getParamet'+'er']('uOpacity'))==null?void(-0x11*-0x100+-0xb5b+0x5*-0x121):_0x55f959['data'])??0x40c+0x7b2*0x4+-0x22d3,_0x1d92ee=((_0x5de284=_0x3846fb['getParamet'+'er']('clrOffset'))==null?void(-0x2f*-0xd3+0x26dc+-0x4d99):_0x5de284['data'])??[-0x437*0x1+-0x21e5+0x261c,-0x1a*-0x6a+0xfc8+-0x1a8c,0x4eb*0x2+0x24b0+-0x2e86,0x38f*0x1+0x993+-0xd21],_0x111b16=((_0xa42c7=_0x3846fb['getParamet'+'er']('clrScale'))==null?void(-0x1c04+0x3a4*0x8+-0x11c):_0xa42c7['data'])??[0x847+-0x1176+0x930,-0xce8*0x2+-0x2698+0x5db*0xb,0xa7a+0x1b*0x113+-0x3e*0xa3,0x43*-0xc+-0x1db1*-0x1+-0x6a3*0x4],_0x5c2f4a=((_0x2710a0=_0x3846fb['getParamet'+'er']('uShapeN'))==null?void(-0x1764*-0x1+-0xfbe+0xb2*-0xb):_0x2710a0['data'])??-0xd93+-0x1883+0x2616,_0x1fdab0=((_0x17d9e4=_0x3846fb['getParamet'+'er']('mode'))==null?void(-0x46*0xa+-0x5*0x4df+0x1b17):_0x17d9e4['data'])??0x3d*-0x23+-0x183*0x5+-0xfe6*-0x1,_0x3c30e6=((_0x3029f7=_0x3846fb['getParamet'+'er']('ringSize'))==null?void(0x122f+0x1*0x1d09+0x1*-0x2f38):_0x3029f7['data'])??-0x2257+0xefa+-0x1*-0x135d,_0xcb6c78=((_0x5e83cb=_0x3846fb['defines'])==null?void(-0x52*0x20+0x55f*-0x1+0xf9f):_0x5e83cb['get']('uOpenAnim'))??'0',_0x4f2efb=((_0x2453c0=_0x3846fb['defines'])==null?void(-0x1*-0x239+-0x1e5d+0x1c24*0x1):_0x2453c0['get']('uControlCo'+'lorMode'))??'0';_0x3846fb['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x3846fb['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x3846fb['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x3846fb['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x3846fb['setParamet'+'er']('uSplatScal'+'e',_0x3b9e99),_0x3846fb['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x6fa588),_0x3846fb['setParamet'+'er']('uSaturatio'+'n',_0x585fa3),_0x3846fb['setParamet'+'er']('uHueOffset',_0xb956a1),_0x3846fb['setParamet'+'er']('uInvertOpa'+'city',_0x5a5376),_0x3846fb['setParamet'+'er']('uOpacity',_0x3c65f9),_0x3846fb['setParamet'+'er']('clrOffset',_0x1d92ee),_0x3846fb['setParamet'+'er']('clrScale',_0x111b16),_0x3846fb['setParamet'+'er']('uShapeN',_0x5c2f4a),_0x3846fb['setParamet'+'er']('mode',_0x1fdab0),_0x3846fb['setParamet'+'er']('ringSize',_0x3c30e6),_0x3846fb['setParamet'+'er']('prerenderC'+'Time',-0x26b*-0x1+0x2179+0x8f9*-0x4),_0x3846fb['setParamet'+'er']('renderSpac'+'e',0x4c3*0x1+-0xd6b+0xe*0x9f),_0x3846fb['setParamet'+'er']('endSpace',0x5*-0x62b+0x657*0x5+0x2*-0x69),_0x3846fb['setDefine']('uOpenAnim',_0xcb6c78),_0x3846fb['setDefine']('uControlCo'+'lorMode',_0x4f2efb),this['transformM'+'otionTextu'+'re']&&_0x3846fb['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x3846fb['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x3846fb['setDefine']('SH_BANDS',this['shBands']),_0x3846fb['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x3846fb['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x3846fb['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x3846fb['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x3846fb['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x125f27){const _0x2e47ed=Math['ceil'](Math['sqrt'](_0x125f27)),_0x3446ba=Math['ceil'](_0x125f27/_0x2e47ed);return new J(_0x2e47ed,_0x3446ba);}async['updateColo'+'rData'](_0x505236){var _0x5e5c6b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x380911=this['colorTextu'+'re2'];if(!_0x380911||this['isDestroye'+'d'])return;const _0x4a296d=_0x505236['getProp']('f_dc_0'),_0x28dab7=_0x505236['getProp']('f_dc_1'),_0x1c429e=_0x505236['getProp']('f_dc_2'),_0x2592ab=_0x505236['getProp']('opacity');let _0x51fda5=(_0x5e5c6b=_0x505236['transformD'+'ata'])==null?void(-0x2*0xa85+0x1744+0x26*-0xf):_0x5e5c6b['dataColor'];_0x51fda5||(_0x51fda5=await this['updateData'+'Worker']['updateColo'+'rData'](_0x505236['numSplats'],_0x4a296d,_0x28dab7,_0x1c429e,_0x2592ab)),await this['idleUpdate'+'TexturePro'+'mise'](_0x380911,_0x51fda5);}async['getTransfo'+'rmDataByWo'+'rker'](_0x3cd6fe){var _0x28f5cf;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x28f5cf=_0x3cd6fe['transformD'+'ata'])!=null&&_0x28f5cf['dataCenter'+'s'])return{'centers':_0x3cd6fe['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x3cd6fe['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x3cd6fe['transformD'+'ata']['dataScale'],'dataRotation':_0x3cd6fe['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x3cd6fe['transformD'+'ata']['dataMotion'],'dataTime':_0x3cd6fe['transformD'+'ata']['dataTime'],'motion':_0x3cd6fe['transformD'+'ata']['motion'],'tScaleArray':_0x3cd6fe['transformD'+'ata']['tScaleArra'+'y']};const _0x1b838f=_0x3cd6fe['getProp']('x'),_0x4d0fa2=_0x3cd6fe['getProp']('y'),_0x23d8a0=_0x3cd6fe['getProp']('z'),_0x57b3b1=_0x3cd6fe['getProp']('rot_1'),_0x449f95=_0x3cd6fe['getProp']('rot_2'),_0x4d0034=_0x3cd6fe['getProp']('rot_3'),_0x186ee5=_0x3cd6fe['getProp']('rot_0'),_0x361abc=_0x3cd6fe['getProp']('motion_0'),_0x3f5d83=_0x3cd6fe['getProp']('motion_1'),_0x2727f0=_0x3cd6fe['getProp']('motion_2'),_0x229de3=_0x3cd6fe['getProp']('scale_0'),_0x18f3dc=_0x3cd6fe['getProp']('scale_1'),_0xebc1bd=_0x3cd6fe['getProp']('scale_2'),_0x439099=_0x3cd6fe['getProp']('t'),_0x552774=_0x3cd6fe['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x3cd6fe['numSplats'],this['is4D'],_0x1b838f,_0x4d0fa2,_0x23d8a0,_0x57b3b1,_0x449f95,_0x4d0034,_0x186ee5,_0x361abc,_0x3f5d83,_0x2727f0,_0x229de3,_0x18f3dc,_0xebc1bd,_0x439099,_0x552774);}async['updateTran'+'sformFromD'+'ata'](_0x370741){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x370741['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x370741['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x370741['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x370741['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x370741['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x154360,_0x2cca16){if(!this['isDestroye'+'d'])return new Promise(_0x4e1454=>{requestIdleCallback(()=>{const _0xbda780=_0x154360['lock']();_0xbda780==null||_0xbda780['set'](_0x2cca16),_0x154360['unlock'](),_0x4e1454(!(0xa*-0x8a+0x2b*-0xb5+-0x11*-0x21b));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x35bb38){var _0x25fa71,_0x434aa9,_0x339b77,_0x342aaa;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x19ce12=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x17382f=this['transformA'+'Texture']['lock'](),_0x28efdb=this['transformR'+'Texture']['lock'](),_0x28de10=this['transformB'+'Texture']['lock'](),_0x25b44d=(_0x25fa71=this['transformM'+'otionTextu'+'re'])==null?void(-0xc93*0x1+0x22f5+-0x1662):_0x25fa71['lock'](),_0x4dba5c=(_0x434aa9=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0x125+-0x1959+-0xd3f*-0x2):_0x434aa9['lock'](),_0x10bcf5=new D(),_0x26eb77=new le(),_0x37e8b5=new D(),_0xc76c09=new D(),_0x1bb552=_0x35bb38['createIter'](_0x10bcf5,_0x26eb77,_0x37e8b5,null,_0xc76c09),_0x142e2f=_0x35bb38['getProp']('t'),_0x18c089=_0x35bb38['getProp']('t_scale');for(let _0x5ccd79=0x1721+-0x1d07+0x5e6;_0x5ccd79<_0x35bb38['numSplats'];_0x5ccd79++)_0x1bb552['read'](_0x5ccd79),_0x26eb77['normalize'](),_0x26eb77['w']<-0xec0+-0xcc3+0x1*0x1b83&&_0x26eb77['mulScalar'](-(0x9*0x19f+0x467+0x12fd*-0x1)),_0x17382f[_0x5ccd79*(0x68d*-0x1+-0x14fb+0x1b8b)+(-0x577+0x541+0x36)]=_0x10bcf5['x'],_0x17382f[_0x5ccd79*(0x1ea5+-0x7*0x5d+-0x1c17)+(-0xb7b*0x3+0x1980+-0xa*-0xe5)]=_0x10bcf5['y'],_0x17382f[_0x5ccd79*(-0x21b*-0x5+0x2de*0x2+-0x1040)+(0x8*-0x14e+-0x22f1+0x2d63)]=_0x10bcf5['z'],_0x28de10[_0x5ccd79*(-0x1*0xecd+-0x5e9+0x425*0x5)+(-0x1360+0x16e*0x17+-0xd82)]=_0x19ce12(_0x37e8b5['x']),_0x28de10[_0x5ccd79*(-0xf2+-0x6*0x247+-0xc5*-0x13)+(0x1f0c+-0xad*0x33+-0x4*-0xdb)]=_0x19ce12(_0x37e8b5['y']),_0x28de10[_0x5ccd79*(0x7bf*-0x3+0x3*0x8f5+-0x67*0x9)+(-0x182f*0x1+0x2088+-0x1ab*0x5)]=_0x19ce12(_0x37e8b5['z']),_0x28efdb[_0x5ccd79*(-0x26e6+0x1631+0x10b8)+(-0x1521+-0x1b85+0x1df*0x1a)]=_0x26eb77['x'],_0x28efdb[_0x5ccd79*(0x4e4+-0x1*0x198b+0x14aa)+(-0xff9+-0xaa1*0x3+0x2fdd*0x1)]=_0x26eb77['y'],_0x28efdb[_0x5ccd79*(0x754+-0xed5*0x1+-0x1*-0x784)+(-0x18fb+-0x1*0x149a+0x2d97)]=_0x26eb77['z'],this['is4D']&&_0x25b44d&&_0x4dba5c&&(_0x25b44d[_0x5ccd79*(-0x18b8+-0x18a9+0x18b2*0x2)+(-0x6f*0xb+0x1a3*0x17+-0x20e0)]=_0xc76c09['x'],_0x25b44d[_0x5ccd79*(0xe0+0x48+0x1*-0x125)+(-0x23f5+-0x2c8+-0x39*-0xae)]=_0xc76c09['y'],_0x25b44d[_0x5ccd79*(-0x1c0d*-0x1+-0x1*-0x232d+0x3f37*-0x1)+(0x8*0x118+-0x594+0x9*-0x5a)]=_0xc76c09['z'],_0x4dba5c[_0x5ccd79*(0x4*0x116+0x176d+0x143*-0x16)+(0x1d53*-0x1+0x1911+0x5*0xda)]=_0x142e2f?_0x142e2f[_0x5ccd79]:0x2*-0xdff+0x2621+0x3*-0x361,_0x4dba5c[_0x5ccd79*(-0x1587+-0x1be8+-0x3172*-0x1)+(0x224f+0x1982+-0x3bd0)]=_0x18c089?Math['exp'](_0x18c089[_0x5ccd79]):-0x2*-0x617+0x1*-0x2132+0x1504);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x339b77=this['transformM'+'otionTextu'+'re'])==null||_0x339b77['unlock'](),(_0x342aaa=this['transformL'+'ifecycleTe'+'xture'])==null||_0x342aaa['unlock']();}async['updateSHDa'+'ta'](_0x46f64f){var _0x2eb1bf,_0x4c6776,_0x581bbf,_0x3333d5,_0x3c0b36,_0x3f2aef,_0x4c9df9,_0x2fd093;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x20e83b=(_0x2eb1bf=this['sh1to3Text'+'ure2'])==null?void(-0x2555+-0x1*-0x9fc+-0x1b59*-0x1):_0x2eb1bf['lock'](),_0x2291fa=(_0x4c6776=this['sh4to7Text'+'ure2'])==null?void(-0x9*0x3d6+0xc1*-0x17+-0x33dd*-0x1):_0x4c6776['lock'](),_0x211e3b=(_0x581bbf=this['sh8to11Tex'+'ture2'])==null?void(-0x3*0x225+0x28a*0x8+-0xde1):_0x581bbf['lock'](),_0x34ec3c=(_0x3333d5=this['sh12to15Te'+'xture2'])==null?void(0x8b*0x3b+0x1*0xbc3+0x1*-0x2bcc):_0x3333d5['lock'](),_0x5d061b={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x28e1bc=vg(_0x46f64f,_0x5d061b*(-0x1d7*0x13+0x1724+0xbd4)),_0x56c5ab=0x1*-0x204c+0x62f+0x221c,_0x4d6e4b=-0xa7*0x39+-0x941*-0x1+0x1fed,_0x53a173=new Float32Array(0x7b*0x1e+0x22b1+0x5*-0x9d2),_0x292f0e=new Uint32Array(_0x53a173['buffer']),_0x22ce94=new Array(_0x5d061b*(0x1fc6+-0x2134+0x171))['fill'](-0x12a2+0x43*-0x2d+0x1*0x1e69);for(let _0x3eef2c=0x33*-0xe+-0x825+0x3a5*0x3;_0x3eef2c<_0x46f64f['numSplats'];++_0x3eef2c){for(let _0x3393f8=-0x1*0x160f+0x8c8+-0x135*-0xb;_0x3393f8<_0x5d061b;++_0x3393f8)_0x22ce94[_0x3393f8*(0x1a9f+-0x1317+-0x785)]=_0x28e1bc[_0x3393f8][_0x3eef2c],_0x22ce94[_0x3393f8*(-0xc73*0x2+0x5*-0x556+0x1*0x3397)+(-0x69b*0x3+0x114f+0x283*0x1)]=_0x28e1bc[_0x3393f8+_0x5d061b][_0x3eef2c],_0x22ce94[_0x3393f8*(0x17a8+-0x5+-0x17a0)+(0x3*-0x7db+0x21a5+-0xa12*0x1)]=_0x28e1bc[_0x3393f8+_0x5d061b*(0x1c7e+-0x2*-0x8f5+-0x1*0x2e66)][_0x3eef2c];let _0x39b063=_0x22ce94[0x24ba+-0x1a1c+-0x12*0x97];for(let _0x95ea93=-0x11bc+-0x713+0x18d0;_0x95ea93<_0x5d061b*(0xea8+-0x10a7+0x101*0x2);++_0x95ea93)_0x39b063=Math['max'](_0x39b063,Math['abs'](_0x22ce94[_0x95ea93]));if(_0x39b063!==-0x274*-0x7+-0x1*0x311+0x17*-0x9d){for(let _0x44dc3d=-0xd21*0x1+0x157*-0x4+0x1*0x127d;_0x44dc3d<_0x5d061b;++_0x44dc3d)_0x22ce94[_0x44dc3d*(-0xe96*0x1+-0x1c*-0x77+0x195)+(0x1*-0x11bf+-0x1ef3+-0x17*-0x21e)]=Math['max'](-0xc61+-0x19d8+0x2639,Math['min'](_0x56c5ab,Math['floor']((_0x22ce94[_0x44dc3d*(-0x166f+-0x1f5b+0x35cd)+(0x1e2c+0x18cd*-0x1+-0x1*0x55f)]/_0x39b063*(0x7ff+-0x1a3*-0xe+0xc1*-0x29+0.5)+(0xd5*-0x1+0x18c0+-0x1d7*0xd+0.5))*_0x56c5ab+(-0x22cf+0x1b*0xd5+0xc58+0.5)))),_0x22ce94[_0x44dc3d*(0x2366*0x1+-0x1840+-0xb23)+(-0x1755+0xaff+-0xf3*-0xd)]=Math['max'](-0xa92+-0x1*-0x103a+-0x4*0x16a,Math['min'](_0x4d6e4b,Math['floor']((_0x22ce94[_0x44dc3d*(0x484*-0x2+0x670+-0x1d*-0x17)+(0x1f79+0x4*-0x73+-0x1dac)]/_0x39b063*(0x13fd+-0x69c+-0xd61+0.5)+(0x2*0x69a+-0x8b*-0x10+0x2*-0xaf2+0.5))*_0x4d6e4b+(0x23bc+0x2207+-0x45c3+0.5)))),_0x22ce94[_0x44dc3d*(0x616+0x17b1+-0x1dc4)+(0x11ce*-0x2+0x2603+-0x265)]=Math['max'](-0x7f0+0x7*-0x98+0xc18,Math['min'](_0x56c5ab,Math['floor']((_0x22ce94[_0x44dc3d*(-0x12f1+0x958+0x99c)+(0xb*-0x7+-0x7a*0x2+-0x143*-0x1)]/_0x39b063*(0x3f5+0x2*0xcb8+0x23*-0xd7+0.5)+(0x79f*0x1+-0x7a*0x12+0xf5+0.5))*_0x56c5ab+(-0x248b+0x2*-0x12cd+0x4a25*0x1+0.5))));_0x53a173[-0x12d8+0x11*0xfe+-0x2*-0xfd]=_0x39b063,_0x20e83b[_0x3eef2c*(0x1*-0x305+-0x99b*-0x3+-0xc*0x226)+(-0xe13+0x2*-0xf9e+0x1*0x2d4f)]=_0x292f0e[0x2*0x351+0x7*-0xb1+-0x3*0x99],_0x20e83b[_0x3eef2c*(0x18f+-0x1c59+-0x5e*-0x49)+(0x1e6*0x6+-0x10b*-0x2+-0xd79)]=_0x22ce94[-0xb1d+0x1d86+-0x3*0x623]<<0x10*-0x24b+0x1633+0xe92|_0x22ce94[-0x1*0x9b+-0x15aa+-0x1*-0x1646]<<0x1037+0x135d+-0x2389|_0x22ce94[-0x5*-0x768+-0x1f71+-0x595],_0x20e83b[_0x3eef2c*(0x1dc8+0x21c1+-0x3f85)+(0x2415+0x1*-0x19ec+0xa27*-0x1)]=_0x22ce94[0x26d5+0xf*-0xef+-0x18d1]<<0x1fb7+0x2bd*-0x2+-0x1a28|_0x22ce94[-0x171*0x7+0x22*-0xb9+0x327*0xb]<<0x372+0x5*-0x7c5+0x2372|_0x22ce94[-0x2*-0x346+0x76d*0x1+0x4*-0x37d],_0x20e83b[_0x3eef2c*(-0x1*-0x12fb+0x166+-0x145d)+(0x359*-0xa+0x1b28*0x1+0x655)]=_0x22ce94[0x5e*0x41+0x57e*0x4+0x1*-0x2dd0]<<0x136+0x57*0x4f+-0x1bfa|_0x22ce94[0x1e8b+-0x1840+0x2*-0x322]<<0xb*0x22d+0x77*-0x41+0x653*0x1|_0x22ce94[-0x1dfb+0x1*-0x2707+0x450a],this['shBands']>0x203*0x1+-0xe41+0xc3f&&(_0x2291fa[_0x3eef2c*(0xe7c+0x1*-0x18b3+0x123*0x9)+(0xf7b+-0x994*0x2+0x3ad)]=_0x22ce94[0x19ab*0x1+0x1c5d+-0x35ff*0x1]<<0x3e*0x4+-0xb4d*-0x1+-0xc30|_0x22ce94[-0x1*-0x21b9+-0x8ef+-0x318*0x8]<<0x1*0x38+-0x1435+-0x281*-0x8|_0x22ce94[0x10a5+-0x1d7b+0xce1],_0x2291fa[_0x3eef2c*(-0x1f41+-0x12f8+0x323d)+(-0x990+0xc9*0x22+-0x36d*0x5)]=_0x22ce94[-0x265*0x3+-0x974+0x10af]<<-0x1262+-0x118b+0x2*0x1201|_0x22ce94[-0x1*0x836+-0x2609+0x4*0xb93]<<0x83*0x2+0x5*0x79f+-0x2716|_0x22ce94[-0x9cd*-0x1+-0xa8d+0xce],_0x2291fa[_0x3eef2c*(-0xf77+-0x7f7+-0x1772*-0x1)+(-0x30b*0x1+0x160f+-0x1302)]=_0x22ce94[0x807+0x8ae+-0x10a6]<<0x1*0x1196+-0xf9*0xa+0xb*-0xb5|_0x22ce94[0x264a+-0x12c1*0x1+-0x1379]<<-0x45b+0x1*-0x2cc+-0x3*-0x266|_0x22ce94[-0x1d05+0x2*0x4cf+0x1378],_0x2291fa[_0x3eef2c*(0x1adf+-0x1b77+-0x3*-0x34)+(-0x2*0x11+-0xc67*-0x3+-0x4*0x944)]=_0x22ce94[-0x59*0x2f+0x2*-0x947+-0x1*-0x22f7]<<0xa30*-0x1+0x192+0x8b3|_0x22ce94[-0x761+0x210f+-0x199b]<<-0x1d*-0x10c+-0x2*0x1df+0x1a93*-0x1|_0x22ce94[0x660+0x1*-0x939+-0x7*-0x6b],this['shBands']>-0x5af*0x2+0x11e5+0x1*-0x685?(_0x211e3b[_0x3eef2c*(-0xac1*0x3+0x1e7c+-0x1*-0x1cb)+(0x188+0x13d+0x2c5*-0x1)]=_0x22ce94[-0x1d1*-0x5+-0x206c+0xbb6*0x2]<<-0x21bd+-0x4*-0x955+-0x1*0x382|_0x22ce94[-0x563*-0x3+-0x1c8f+0x22*0x5e]<<0x8*0x1ed+0x1*0x198+-0x10f5|_0x22ce94[-0x1*0x1cb8+0x2e3*0x2+0x1709],_0x211e3b[_0x3eef2c*(0x1f03+-0x23bf*-0x1+0x215f*-0x2)+(-0x143+-0xd2b*0x1+0xe6f)]=_0x22ce94[0x67f*0x5+-0x1*-0x1cdc+-0x3d3f*0x1]<<0x755*0x4+0x14b2+-0x31f1*0x1|_0x22ce94[0x5*-0x419+0x1*-0x182d+-0x2cc3*-0x1]<<0x2070+-0x1fb7+-0xae|_0x22ce94[0xda9*-0x1+-0x125a+-0x201d*-0x1],_0x211e3b[_0x3eef2c*(0x1*-0x2466+-0x1*0x1faf+-0x4419*-0x1)+(-0x1ba0+-0x1485+0x3*0x100d)]=_0x22ce94[0x1d+0x1676+-0x1678]<<0x1*0x1139+0x1272*-0x1+0x14e|_0x22ce94[0x1*0x2ef+0x1069*0x1+-0x133c]<<0xc77+-0x605+-0x667|_0x22ce94[0x145*-0x11+-0x2231+0x37e3],_0x211e3b[_0x3eef2c*(0x4*0x11e+0x2094+-0xc*0x316)+(0x6b5+-0x18bf+0x120d)]=_0x22ce94[0x1a2a+0x10e5+-0x2af1]<<-0x2b5+0x195f+-0x1695|_0x22ce94[-0x29a+-0x145b*0x1+0x1714]<<0x3*-0xa2a+-0xa8b*-0x1+0x2*0x9ff|_0x22ce94[-0xb*0x139+0x1*-0x26aa+0x343d],_0x34ec3c[_0x3eef2c*(0x1f0d+0x3f*0x32+0x5*-0x8ab)+(0x405*0x2+0x7cf+0x1*-0xfd9)]=_0x22ce94[-0x95b*-0x1+-0x18a+-0x148*0x6]<<-0xd28+-0x25*0x95+-0x2*-0x1163|_0x22ce94[0x2272+-0x2202+0x27*-0x2]<<0x239a+0x29*-0x2f+-0x1c08|_0x22ce94[0x1d62+-0x723+-0x161c],_0x34ec3c[_0x3eef2c*(-0x57b*-0x5+-0x233*-0xa+0x1*-0x3161)+(0x1*-0xaa9+0xfb0+-0x506)]=_0x22ce94[0x2*-0xa89+0x1547+-0x11]<<-0x36*-0x1b+-0x3*-0x443+-0x1266|_0x22ce94[-0x123a*-0x2+0x3*-0x961+-0x82c]<<0x215c+-0x1900+-0x851|_0x22ce94[0x1743+-0x1*0xbca+0xdf*-0xd],_0x34ec3c[_0x3eef2c*(0x2079+-0x1*-0x115+-0x6*0x597)+(0x25a7+-0x53f+-0x2066*0x1)]=_0x22ce94[-0x1172+-0x2353+-0x6*-0x8d2]<<0x7*0x2f3+0x11aa*0x2+-0x37e4|_0x22ce94[-0x7*-0x15b+0x1*0xf25+0x1*-0x187a]<<0x3e5+-0x17a9+0x13cf*0x1|_0x22ce94[0x183f+0x1*0x745+-0x1f5b],_0x34ec3c[_0x3eef2c*(-0x1*-0x8d2+-0xb1*0x9+-0x1*0x295)+(-0x171d+-0xba8*0x1+-0xc*-0x2e6)]=_0x22ce94[0x1f63+0x44*-0x7+-0x1d5d]<<-0x1ee4+-0x1af9+0x39f2|_0x22ce94[-0xa8a*0x3+0x16c7+0x902]<<-0x8e*-0x3f+0x40*0x3+-0x23a7*0x1|_0x22ce94[0x1b*-0x34+-0x18bf+0x2b*0xb5]):_0x211e3b[_0x3eef2c]=_0x22ce94[0x2118+-0x1*0x1957+-0x7ac]<<-0x3b*-0x23+0x1c63+-0x245f|_0x22ce94[-0x3*0x3bb+0x2fc*0x1+0x1*0x84b]<<0x1f9a+-0x2*0x82f+-0xf31|_0x22ce94[-0xa*-0x151+0xb*0xcb+0x1e*-0xba]);}}(_0x3c0b36=this['sh1to3Text'+'ure2'])==null||_0x3c0b36['unlock'](),(_0x3f2aef=this['sh4to7Text'+'ure2'])==null||_0x3f2aef['unlock'](),(_0x4c9df9=this['sh8to11Tex'+'ture2'])==null||_0x4c9df9['unlock'](),(_0x2fd093=this['sh12to15Te'+'xture2'])==null||_0x2fd093['unlock']();}async['updateSHDa'+'taByWorker'](_0x311027){var _0x3addc3,_0x115d89,_0x2e7a4e,_0x449d5f,_0x5a9e1f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x50fdd1={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x5ae9c3,_0x158e6a,_0x59c96c,_0x4c33ac;if((_0x3addc3=_0x311027['transformD'+'ata'])!=null&&_0x3addc3['sh1to3Data'])_0x5ae9c3=(_0x115d89=_0x311027['transformD'+'ata'])==null?void(-0x484+-0x589+0xa0d):_0x115d89['sh1to3Data'],_0x158e6a=(_0x2e7a4e=_0x311027['transformD'+'ata'])==null?void(0x1b+0x7cc+-0x7e7):_0x2e7a4e['sh4to7Data'],_0x59c96c=(_0x449d5f=_0x311027['transformD'+'ata'])==null?void(0xb8f+-0x245b*0x1+0x5c*0x45):_0x449d5f['sh8to11Dat'+'a'],_0x4c33ac=(_0x5a9e1f=_0x311027['transformD'+'ata'])==null?void(0x1c4d+-0x153e+-0x70f):_0x5a9e1f['sh12to15Da'+'ta'];else{const _0x8e45de=vg(_0x311027,_0x50fdd1*(-0x105+0x78f+-0x687)),_0x46f1af=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x311027['numSplats'],this['shBands'],_0x8e45de);_0x5ae9c3=_0x46f1af['sh1to3Data'],_0x158e6a=_0x46f1af['sh4to7Data'],_0x59c96c=_0x46f1af['sh8to11Dat'+'a'],_0x4c33ac=_0x46f1af['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x5ae9c3),this['shBands']>0x271*0xc+0x3e5*-0x6+-0x29*0x25&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x158e6a),this['shBands']>0x1*-0x6bb+-0x1af3*0x1+0xe*0x268?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x59c96c),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x4c33ac)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x59c96c));}}async function bC(){const _0x36717b=new Float32Array(0x3*-0x53f+0x84e*0x1+0x770);new Int32Array(_0x36717b['buffer']);let _0x1528da=null,_0x447ead=null,_0x5f14a6=null,_0x2c12d0=null,_0x136c67=null,_0x53a8ed=null,_0x10d5c7=null,_0x1610b6=null;self['onmessage']=async _0x4abe91=>{const {data:_0x14d9ed}=_0x4abe91;switch(_0x14d9ed['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x498619(_0x14d9ed['numSplats'],_0x14d9ed['shBands'],_0x14d9ed['SHData']);break;case'updateTran'+'sformData':_0x227cdb(_0x14d9ed['numSplats'],_0x14d9ed['is4D'],_0x14d9ed['position'],_0x14d9ed['rotation'],_0x14d9ed['motion'],_0x14d9ed['scale'],_0x14d9ed['muT'],_0x14d9ed['tScale']);break;case'destroyWor'+'ker':_0x40d9d7();break;}};const _0x227cdb=(_0x53c54a,_0x5b6ab6,_0x2a4e12,_0x16458f,_0x32fecf,_0xdc5c15,_0x5c0fbe,_0x189391)=>{_0x40d9d7(),_0x5b6ab6&&(_0x447ead=new Float32Array(_0x53c54a*(-0x2*-0xa26+0x3*-0x832+0x44d)),_0x1610b6=new Float32Array(_0x53c54a),_0x136c67=new Float32Array(_0x32fecf['buffer']['slice']()),_0x10d5c7=new Float32Array(_0x32fecf['buffer']['slice']())),_0x2c12d0=new Float32Array(_0x2a4e12['buffer']['slice']()),_0x1528da=new Float32Array(_0x2a4e12['buffer']['slice']()),_0x53a8ed=new Uint16Array(_0xdc5c15['buffer']['slice']()),_0x5f14a6=new Float32Array(_0x16458f['buffer']['slice']());for(let _0x3dddf4=-0x1dbf*-0x1+-0x22ab+0x4ec;_0x3dddf4<_0x53c54a;_0x3dddf4++)_0x5b6ab6&&_0x447ead&&(_0x1610b6[_0x3dddf4]=_0x189391?Math['exp'](_0x189391[_0x3dddf4]):0x1edc+0x5*-0x759+-0x5e1*-0x1,_0x447ead[_0x3dddf4*(0x113*0xb+-0x21d8+0x160a)+(0x18b4+-0x9a5+-0xf0f)]=_0x5c0fbe?_0x5c0fbe[_0x3dddf4]:-0x1*-0x661+-0x2f*0x12+-0x313,_0x447ead[_0x3dddf4*(-0x18c6*-0x1+-0x15bf+-0x304)+(-0x18a4+-0x48b+0x1d30*0x1)]=_0x1610b6[_0x3dddf4]);const _0x22030b=[_0x1528da['buffer'],_0x2c12d0['buffer'],_0x53a8ed['buffer'],_0x5f14a6['buffer']];_0x5b6ab6&&_0x22030b['push'](_0x136c67['buffer'],_0x447ead['buffer'],_0x10d5c7['buffer'],_0x1610b6['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x1528da,'dataPosition':_0x2c12d0,'dataScale':_0x53a8ed,'dataRotation':_0x5f14a6,'dataMotion':_0x136c67,'dataTime':_0x447ead,'motion':_0x10d5c7,'tScaleArray':_0x1610b6},_0x22030b);},_0x498619=(_0x5a34b8,_0x2d4635,_0x111159)=>{const _0x2edf21=new Uint32Array(_0x5a34b8*(-0x112*0x21+-0x1804+0x47*0xd6)),_0xedd5e2=new Uint32Array(_0x5a34b8*(-0x2501+-0x205c+0x4561)),_0x504d84=new Uint32Array(_0x5a34b8*(0x3*0x687+0x22da+0x366b*-0x1)),_0x1410c3=new Uint32Array(_0x5a34b8*(-0x1270+-0x1b*0x3f+0x1919)),_0x4b9f57={0x1:0x3,0x2:0x8,0x3:0xf}[_0x2d4635],_0x3ade20=_0x111159,_0x45b559=0x47+-0x201b+0x27d3,_0xe1783c=0x6*-0x406+-0x5*0x41b+0x1*0x30aa,_0x485c42=new Float32Array(0x24d1+0x1*0xcbb+-0x318b),_0x98cb1a=new Uint32Array(_0x485c42['buffer']),_0x2ba9cb=new Array(_0x4b9f57*(0xea6*-0x1+0x1156+-0x2ad))['fill'](-0x261c+-0x4f*-0x3a+0x1436);for(let _0x4ba4d1=-0x88*-0x4+-0x5bc+-0x3*-0x134;_0x4ba4d1<_0x5a34b8;++_0x4ba4d1){for(let _0x5ee92b=0x6*-0x3cc+-0x141f+0x2ae7;_0x5ee92b<_0x4b9f57;++_0x5ee92b)_0x2ba9cb[_0x5ee92b*(-0x1*-0x26b0+-0x1c80+-0xa2d)]=_0x3ade20[_0x5ee92b][_0x4ba4d1],_0x2ba9cb[_0x5ee92b*(-0xe39+-0x246f*0x1+-0x77*-0x6d)+(-0x1fdb+0x3*-0x1b1+0x24ef)]=_0x3ade20[_0x5ee92b+_0x4b9f57][_0x4ba4d1],_0x2ba9cb[_0x5ee92b*(-0xf8c*0x2+-0x2*-0x37f+0x181d*0x1)+(0x1*0x1334+0x8cc+-0x1bfe)]=_0x3ade20[_0x5ee92b+_0x4b9f57*(-0xf25*-0x1+0x27*-0xc1+0xe44)][_0x4ba4d1];let _0x3fbc1d=_0x2ba9cb[-0xe*0x49+-0x1855+0x1c53];for(let _0xc7bf32=0x165b+0x26d*0x4+-0x200e;_0xc7bf32<_0x4b9f57*(0x1a72+-0xaa3*-0x1+-0x2512);++_0xc7bf32)_0x3fbc1d=Math['max'](_0x3fbc1d,Math['abs'](_0x2ba9cb[_0xc7bf32]));if(_0x3fbc1d!==0x1*-0x30f+-0x990+-0x3*-0x435){for(let _0x5ebbf6=0x1084+-0x13d*-0x1c+0x2d8*-0x12;_0x5ebbf6<_0x4b9f57;++_0x5ebbf6)_0x2ba9cb[_0x5ebbf6*(0x1ff6+-0x1*-0x1703+-0x36f6)+(0x4be+-0x11*0x199+0x166b)]=Math['max'](-0x156d+-0x7d7*0x1+-0x1*-0x1d44,Math['min'](_0x45b559,Math['floor']((_0x2ba9cb[_0x5ebbf6*(-0x1c33+-0x1*0x1337+0x27f*0x13)+(0x1*-0xe1c+0x2287+-0x146b)]/_0x3fbc1d*(0x3*-0x443+0xae2+-0x1e7*-0x1+0.5)+(0x75d+0x31*-0xb+-0x1*0x542+0.5))*_0x45b559+(0xa36+0x2*0x3cd+-0x1c8*0xa+0.5)))),_0x2ba9cb[_0x5ebbf6*(-0x44a*0x2+0x1*0x15dd+-0x2*0x6a3)+(-0x77*0x42+-0x30b*0x2+0x1*0x24c5)]=Math['max'](-0x29*0xea+0x2*0x114c+-0x2*-0x171,Math['min'](_0xe1783c,Math['floor']((_0x2ba9cb[_0x5ebbf6*(0x19d+0x1b55*0x1+-0x1cef)+(0xf9d*-0x1+-0x1581+0x2db*0xd)]/_0x3fbc1d*(0x5b1+-0x11*0x16f+0x2*0x957+0.5)+(0x1*-0x1f43+-0x8*0xcc+0x25a3+0.5))*_0xe1783c+(0x1*-0x2614+-0x7db+0x2def+0.5)))),_0x2ba9cb[_0x5ebbf6*(-0xe*-0x27d+0x459*-0x7+-0x464)+(-0x1*0x47f+0x1*-0x1454+0x18d5)]=Math['max'](0x1db4*-0x1+0x3b7*-0x1+0x216b,Math['min'](_0x45b559,Math['floor']((_0x2ba9cb[_0x5ebbf6*(-0x135e+0x2e7*-0xb+0x334e)+(0x1b6b+-0x1*0x1a66+-0x103)]/_0x3fbc1d*(-0x1253*0x2+-0x1b21+0x3fc7+0.5)+(-0x60d*-0x3+0x2*0x22+-0x126b+0.5))*_0x45b559+(-0x5ab+-0x62+0x60d*0x1+0.5))));_0x485c42[-0x1479*-0x1+-0xcd*-0x11+-0x2216*0x1]=_0x3fbc1d,_0x2edf21[_0x4ba4d1*(0xb49*0x3+0x1a96+-0x3c6d)+(-0x2508+-0x895*0x1+-0x2d9d*-0x1)]=_0x98cb1a[0x183+0x3ef+0x22*-0x29],_0x2edf21[_0x4ba4d1*(0x6a5+0x11e7+-0x14*0x13a)+(0x23d7+-0xf8+-0x22de)]=_0x2ba9cb[0x685*-0x1+-0x1864+0x1ee9]<<0x139a+0x8dd*-0x1+0x7c*-0x16|_0x2ba9cb[-0x12b7+-0x326*-0x5+0x2fa]<<-0x83*-0x28+-0x13*0x146+0xc1*0x5|_0x2ba9cb[0x527+-0x10*-0x21e+-0x2705],_0x2edf21[_0x4ba4d1*(0x100f+-0x21b+-0xdf0)+(0x49*0x2+-0x2*0x418+-0x7a*-0x10)]=_0x2ba9cb[0x1*0x1786+0x7f*0x4b+-0x3cb8]<<0xc*-0x182+0x69f+0xb8e|_0x2ba9cb[-0x341+0x227d+0x18*-0x14d]<<-0xd20*-0x1+0xa85*-0x2+0x15*0x61|_0x2ba9cb[0x3*0x479+0x14ac+0x31*-0xb2],_0x2edf21[_0x4ba4d1*(-0x1315*0x1+-0x79+0x1392)+(-0x4fe+-0x1*-0xa+0x29*0x1f)]=_0x2ba9cb[-0x3*-0xc7d+0x14da+-0x3a4b]<<-0x1876+0xec9+0x9c2|_0x2ba9cb[-0x107*0xf+-0x1ad+0xd*0x151]<<-0x9a0*0x4+-0x98d+0x3018|_0x2ba9cb[-0xd*-0x27d+-0x1*-0x120a+-0x325b],_0x2d4635>-0xf9*-0xa+-0x2419*0x1+-0xd30*-0x2&&(_0xedd5e2[_0x4ba4d1*(-0x1f41+-0xcfb*0x3+0x4636)+(0x1f*0x3e+-0x11eb+0xa69)]=_0x2ba9cb[0x66b+0x475+-0xad7]<<-0x2bf+-0x1*0x9dd+-0xab*-0x13|_0x2ba9cb[0x1*0x122e+0x2419+-0x363d]<<-0x1d57*-0x1+-0x36f+-0x19dd|_0x2ba9cb[0x2*-0x36d+0x17ed*-0x1+0x1ed2],_0xedd5e2[_0x4ba4d1*(0x2*0x12fb+-0x4f5+-0x3*0xaff)+(-0x45c+0x40c+0x51)]=_0x2ba9cb[0x1e2c+-0x779+-0x16a7]<<0x1c89+0x1aa7*0x1+-0x371b|_0x2ba9cb[-0x13ba+0x13de+-0x17*0x1]<<-0x126d+-0x3b1+0x1f*0xb7|_0x2ba9cb[0x2060+0xf29*-0x1+-0x17*0xbf],_0xedd5e2[_0x4ba4d1*(0x6b*-0x5d+-0x1*0x187d+-0x20*-0x1fb)+(0xcb*-0x27+-0x1910+0x37ff)]=_0x2ba9cb[-0x3d1+0x19*-0x43+0x15*0x7f]<<-0xfab+0x1632*0x1+0x14a*-0x5|_0x2ba9cb[-0x1df2+-0x187a+0x367c]<<0xd90+0x5*0x19+-0xa3*0x16|_0x2ba9cb[-0x751*0x1+0x2023+-0x18c1],_0xedd5e2[_0x4ba4d1*(0x20b2+0x35f+-0xb*0x347)+(-0x287*-0x1+0xf06+-0x118a)]=_0x2ba9cb[0x20c2+0xb1b+0x12f*-0x25]<<0x80b*-0x1+0xf2*0x19+-0xf82|_0x2ba9cb[0x22bd+-0xbcb+-0x16df]<<0x585+0x20ba+0x146*-0x1e|_0x2ba9cb[0x4*-0x74c+0x21d*0xb+0x605],_0x2d4635>0x985+0x4*0x918+-0x2de3*0x1?(_0x504d84[_0x4ba4d1*(0x3*0xa94+0x603+0x25bb*-0x1)+(0x225+-0xa7b*0x2+-0x1*-0x12d1)]=_0x2ba9cb[-0x143e+-0x59*-0x29+0x612]<<-0x40*0x2a+-0x235+0xcca|_0x2ba9cb[0x4dd*-0x7+-0x48a+0x26ab]<<-0x1*0x99a+0x2f*-0x9e+-0x26a7*-0x1|_0x2ba9cb[-0xa1*0x12+0x15c1+0x14b*-0x8],_0x504d84[_0x4ba4d1*(0x884+-0x1*0x17d5+0xf55)+(-0x7b*-0x5+-0xb83+0x91d*0x1)]=_0x2ba9cb[0xc8b*-0x1+-0x1*0x195b+0x6*0x655]<<0x6*-0x5ea+0x261c+-0x28b|_0x2ba9cb[0x1ca0+-0x1368+-0x91f]<<-0x997*-0x2+0x1809+0x266*-0x12|_0x2ba9cb[-0x2603+-0x25b9+0x4bd6],_0x504d84[_0x4ba4d1*(0x194d+0x20a0+-0x39e9)+(0x1aff+-0x1692+-0x46b)]=_0x2ba9cb[-0x2*-0x37+-0xfd9+0x1*0xf86]<<0x2ff+-0x1*0x25ee+0x2304|_0x2ba9cb[0xd76+-0x1f77+0x121d]<<0x18e5*-0x1+-0x1133+0x2a23|_0x2ba9cb[0x22a4+0x19af+-0x3c36],_0x504d84[_0x4ba4d1*(0x1*0x1b88+0x1a8b+-0x3*0x1205)+(-0x2*-0xb75+-0x13df+0x184*-0x2)]=_0x2ba9cb[-0x1aef+-0xdd3*0x1+-0x28e0*-0x1]<<0x3*0x69+0x1376*0x1+-0x149c|_0x2ba9cb[-0x1*-0xf30+-0x2291+0x1*0x1380]<<-0x1b83*-0x1+-0xf8e+-0xa*0x131|_0x2ba9cb[-0x22ea+0x5bf*-0x5+-0x1*-0x3fc5],_0x1410c3[_0x4ba4d1*(-0x291+0x1*0x1fac+-0x1d17)+(-0x1467+0x193c+-0x4d5)]=_0x2ba9cb[0xc46+-0x48b+-0x3cd*0x2]<<-0x9f*-0x10+0x1dad+-0x2788|_0x2ba9cb[-0x1*0xe21+-0x1*0x18c0+0x2703]<<0x1ae5+-0x1fff+0x525|_0x2ba9cb[0x1018*-0x1+-0x3cb*0x1+0x1406],_0x1410c3[_0x4ba4d1*(-0x3*0x737+-0x5*-0x653+-0x9f6)+(0x20ba+0x6*0x57b+-0x419b)]=_0x2ba9cb[0x3*-0x929+-0x593*-0x3+0xae6]<<-0xd4a+0x283*0xb+-0xe42|_0x2ba9cb[0x6*0x387+-0x1781+0x27c]<<0x24da*0x1+-0x1547*-0x1+-0x3a16|_0x2ba9cb[-0x2488+-0x1cd2+-0x1060*-0x4],_0x1410c3[_0x4ba4d1*(-0x37f*0x1+-0x3d*0x74+0x13f*0x19)+(0x1*-0xad2+-0x64d+-0x5*-0x36d)]=_0x2ba9cb[-0x668+-0xb56+0x11e5]<<0x1ed4*-0x1+-0xf57+0x2e40|_0x2ba9cb[0x102*-0xd+-0x5ff*0x4+-0x2a*-0xe3]<<-0x1*-0x18eb+0x17f5+-0x3*0x1047|_0x2ba9cb[-0x115*0x13+-0x1ef3+0x1139*0x3],_0x1410c3[_0x4ba4d1*(-0x1995+-0xf51+-0x28ea*-0x1)+(0x321+-0x2598+0x227a)]=_0x2ba9cb[0x1c80+0x1457+0x1*-0x30ad]<<-0x6af+0x18d5+-0x25*0x7d|_0x2ba9cb[-0x89f+0x55*0x7+-0x1*-0x677]<<-0x1*0x1e16+0x100a+0xe17|_0x2ba9cb[0x6*0x5b0+0x23fb+0x45ef*-0x1]):_0x504d84[_0x4ba4d1]=_0x2ba9cb[0x12f*-0x14+-0x2107+0x278*0x17]<<0xfb*0x4+0x123*0x12+-0x184d|_0x2ba9cb[0x31*0x45+0x6*-0x4a+-0xb63]<<-0x21d*0x9+0x2117+-0xe07|_0x2ba9cb[-0x8*0xa3+0x2*-0xde7+0x1*0x20fd]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x2edf21,'sh4to7Data':_0xedd5e2,'sh8to11Data':_0x504d84,'sh12to15Data':_0x1410c3}},[_0x2edf21['buffer'],_0xedd5e2['buffer'],_0x504d84['buffer'],_0x1410c3['buffer']]);},_0x40d9d7=()=>{_0x1528da=null,_0x447ead=null,_0x5f14a6=null,_0x2c12d0=null,_0x136c67=null,_0x53a8ed=null,_0x10d5c7=null,_0x1610b6=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x288f4e,_0x19442e,_0x55d0cb){_0x288f4e['onmessage']=_0x371d83=>{if(!this['worker'])return;const {data:_0x2a9fa4}=_0x371d83;if(_0x2a9fa4['type']===_0x19442e)switch(_0x19442e){case'updatedSHD'+'ata1':_0x55d0cb(_0x2a9fa4['data']);break;case'updatedCol'+'orData':_0x55d0cb(_0x2a9fa4['data']);break;case'updatedTra'+'nsformData':_0x55d0cb(_0x2a9fa4);break;}};}['updateSHDa'+'ta1'](_0x3767d4,_0x242cf4,_0x4d25d7){var _0x117725;return(_0x117725=this['worker'])==null||_0x117725['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x3767d4,'shBands':_0x242cf4,'SHData':_0x4d25d7}),new Promise(_0x50850c=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x199de3=>{_0x50850c(_0x199de3);});});}async['updateTran'+'sData'](_0x5813af,_0x321c14,_0x3c14ed,_0x5b49d7,_0xa7d936,_0x1fcc65,_0x3f9bf1,_0x50f765){var _0x2db7c0;return(_0x2db7c0=this['worker'])==null||_0x2db7c0['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5813af,'is4D':_0x321c14,'position':_0x3c14ed,'rotation':_0x5b49d7,'motion':_0xa7d936,'scale':_0x1fcc65,'muT':_0x3f9bf1,'tScale':_0x50f765}),new Promise(_0x4b0e3c=>{const _0x28c047=_0x4d862c=>{_0x4b0e3c(_0x4d862c);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x28c047);});}['destroy'](){var _0x1aa708;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1aa708=this['worker'])==null||_0x1aa708['terminate'](),this['worker']=null);}}const xg=(_0x1c32e2,_0xdc035f)=>{const _0xca1b06=[];for(let _0x259426=-0x737+0xd6d+-0x636;_0x259426<_0xdc035f;++_0x259426)_0xca1b06['push'](_0x1c32e2['getProp']('f_rest_'+_0x259426));return _0xca1b06;};class CC extends Rv{constructor(_0x4d117b,_0xeb3cce){super(_0x4d117b,_0xeb3cce),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x3*0x7e5+-0xd*-0x20+0x52*-0x4f)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x1f*-0x5f+-0x6*0x4c7+0x112e);}['setSceneIn'+'fo'](_0xfc9094){this['sceneInfo']['duration']=_0xfc9094['duration'],this['sceneInfo']['fps']=_0xfc9094['fps'],this['sceneInfo']['totalGauss'+'ians']=_0xfc9094['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0xfc9094['globalBoun'+'dingBox']['min'][0x6ad*-0x3+-0xab6+0x1ebd],_0xfc9094['globalBoun'+'dingBox']['min'][0x175b+0xb2d*-0x3+0xa2d],_0xfc9094['globalBoun'+'dingBox']['min'][-0x1315+-0x1756+0x2a6d]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0xfc9094['globalBoun'+'dingBox']['max'][0xe35*-0x2+-0x22+0x1c8c],_0xfc9094['globalBoun'+'dingBox']['max'][-0xf8f+-0x30*0x3+0x1020],_0xfc9094['globalBoun'+'dingBox']['max'][0x2574+-0x19c4+0x5*-0x256]);const _0x4afa2d=_0xfc9094['globalBoun'+'dingBox']['min'][0x47a+0x19*-0x103+0x1*0x14d1],_0x2dbc1c=_0xfc9094['globalBoun'+'dingBox']['min'][0xf*0x257+-0x1877+-0x3*0x38b],_0x5c20a4=_0xfc9094['globalBoun'+'dingBox']['min'][0x1*-0x4+0xae7+-0xae1],_0x3a080c=_0xfc9094['globalBoun'+'dingBox']['max'][-0xd*-0x92+-0xc8+-0x6a2],_0xb3714e=_0xfc9094['globalBoun'+'dingBox']['max'][0x75f*0x5+0x19fd*0x1+-0x3ed7],_0x229b7c=_0xfc9094['globalBoun'+'dingBox']['max'][-0x1a95+0x265e+-0x1*0xbc7],_0x2a30fa=new D((_0x4afa2d+_0x3a080c)*(-0x21e9+-0xe79+0x3062+0.5),(_0x2dbc1c+_0xb3714e)*(-0xb*-0x354+-0x15ee+0x757*-0x2+0.5),(_0x5c20a4+_0x229b7c)*(-0xd94*0x2+0x10e*0x13+0x71e+0.5)),_0x2c8520=new D((_0x3a080c-_0x4afa2d)*(0x2563+-0x75e+0x35*-0x91+0.5),(_0xb3714e-_0x2dbc1c)*(0x2215+0x1406+-0x361b+0.5),(_0x229b7c-_0x5c20a4)*(0xe14+-0xa94*0x1+0x38*-0x10+0.5)),_0x54b534=new De(_0x2a30fa,_0x2c8520);this['sceneInfo']['globalBoun'+'dingBox']=_0x54b534,this['aabb']=_0x54b534;}async['updateData'](){var _0x15d917,_0x38e92c,_0x42cbbf,_0x1c0701,_0x50a22b,_0x4fdc0e,_0x36f984,_0x3152c1,_0x3b7915,_0x502761,_0x508025;await super['updateData']();const _0x345fff=this['gsplatData'];if(!_0x345fff)return;this['is4D']=_0x345fff['is4D'];const _0x2e3706=await this['getTransfo'+'rmDataByWo'+'rker'](_0x345fff);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x2e3706['centers'],this['motion']=_0x2e3706['motion'],this['tScale']=_0x2e3706['tScaleArra'+'y'],this['muT']=await _0x345fff['getMuT'](),this['timeIndex']=await _0x345fff['getTimeInd'+'ex']();const _0x581025=this['evalTextur'+'eSize'](_0x345fff['numSplats']);this['colorTextu'+'re']?((_0x15d917=this['colorTextu'+'re2'])==null||_0x15d917['destroy'](),(_0x38e92c=this['transformA'+'Texture2'])==null||_0x38e92c['destroy'](),(_0x42cbbf=this['transformB'+'Texture2'])==null||_0x42cbbf['destroy'](),(_0x1c0701=this['transformR'+'Texture2'])==null||_0x1c0701['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x581025),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x581025),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x581025),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x581025),this['is4D']&&((_0x50a22b=this['transformM'+'otionTextu'+'re2'])==null||_0x50a22b['destroy'](),(_0x4fdc0e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4fdc0e['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x581025),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x581025))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x581025),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x581025),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x581025),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x581025),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x581025),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x581025),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x581025),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x581025),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x581025),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x581025),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x581025),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x581025))),await this['updateColo'+'rData'](_0x345fff),await this['updateTran'+'sformFromD'+'ata'](_0x2e3706),this['shBands']=_0x345fff['shBands'],this['shBands']>-0x2*-0x1c7+-0x5f1+0xd*0x2f&&(this['sh1to3Text'+'ure']?((_0x36f984=this['sh1to3Text'+'ure2'])==null||_0x36f984['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x581025),this['shBands']>-0x1585+0x52d+0x1059&&((_0x3152c1=this['sh4to7Text'+'ure2'])==null||_0x3152c1['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x581025),this['shBands']>0xb51+0x8e+-0xbdd*0x1?((_0x3b7915=this['sh8to11Tex'+'ture2'])==null||_0x3b7915['destroy'](),(_0x502761=this['sh12to15Te'+'xture2'])==null||_0x502761['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x581025),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x581025)):((_0x508025=this['sh8to11Tex'+'ture2'])==null||_0x508025['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x581025)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x581025),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x581025),this['shBands']>0xdd3*0x1+0xa4e+0x8*-0x304&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x581025),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x581025),this['shBands']>-0x6*0xfe+-0x1*0x1ff9+0x25ef?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x581025),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x581025),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x581025),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x581025)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x581025),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x581025)))),await this['updateSHDa'+'taByWorker'](_0x345fff));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x3925c3){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x3925c3}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x353c42,_0x1e3cbe,_0x38ea24,_0x8efb2c,_0x227df4,_0x4738c9){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x353c42,'timeOption':_0x1e3cbe,'loadedTime':_0x38ea24,'asset':_0x8efb2c,'events':_0x227df4,'seekCB':_0x4738c9}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0xc*-0x134+-0x1*-0x20b0+-0x2f20);try{for(;this['appendQueu'+'e']['length']>-0xa2+0x22b*0x7+-0xe8b;){const _0x3df065=this['appendQueu'+'e']['shift']();_0x3df065['type']==='append'?await this['processApp'+'endTask'](_0x3df065['data']):_0x3df065['type']==='release'&&await this['processRel'+'easeTask'](_0x3df065['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0xbfe+-0xb*0x349+0x3022);}}}async['processRel'+'easeTask'](_0x5c7b5d){const {index:_0x188273}=_0x5c7b5d;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x188273);}async['processApp'+'endTask'](_0x5d1c36){var _0x260bf2;const {gsplatData:_0x52679f,timeOption:_0x8a8fe6,loadedTime:_0x1ad329,asset:_0x200d98,events:_0x209e40,seekCB:_0x3a6a0a}=_0x5d1c36;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x8a8fe6,this['asset']=_0x200d98,this['assetsMana'+'gerLoadedT'+'ime']=_0x1ad329,this['events']=_0x209e40,await this['gsplatData']['appendGSpl'+'atData'](_0x52679f,_0x1ad329,_0x8a8fe6),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x24fb+0x1e22+-0x431b),_0x52679f['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x52679f['numSplats'])['toFixed'](0xe5*-0x1f+0x1*0x7bb+0x6d*0x2f)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x159c+-0x255*0x6+-0x239c*-0x1),_0x52679f['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x260bf2=this['gsplatInst'+'ance'])==null?void(-0x10*0x197+-0x13ad+0x2d1d):_0x260bf2['updateInst'+'anceData'](this,_0x1ad329,_0x3a6a0a)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x11f+0x1a3a+-0x91d*0x3),_0x52679f['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x42b59a,_0x298979){var _0x40b42c;const _0x3b4347=_0x42b59a||this['assetsMana'+'gerLoadedT'+'ime'];(_0x40b42c=this['asset'])==null||_0x40b42c['fire']('setAssetsL'+'oaded',_0x3b4347,_0x298979);}['destroy'](){var _0x81458f,_0x2dbf40,_0x198011,_0x57da1c,_0x13f764,_0x2170c8,_0x588688,_0x2c3e82,_0x38f5ce,_0x183f9a,_0x2c4a54,_0x48e160,_0xcd9998,_0x32ec71,_0x2bd8ea,_0x318964,_0x4a6f81,_0x23e443,_0x306589,_0x3926f3,_0x1fa9d2;(_0x81458f=this['updateData'+'Worker'])==null||_0x81458f['destroy'](),this['updateData'+'Worker']=void(0x2*-0x112+-0x8c3*0x1+0xae7*0x1),(_0x2dbf40=this['colorTextu'+'re'])==null||_0x2dbf40['destroy'](),(_0x198011=this['transformA'+'Texture'])==null||_0x198011['destroy'](),(_0x57da1c=this['transformB'+'Texture'])==null||_0x57da1c['destroy'](),(_0x13f764=this['transformR'+'Texture'])==null||_0x13f764['destroy'](),(_0x2170c8=this['transformM'+'otionTextu'+'re'])==null||_0x2170c8['destroy'](),(_0x588688=this['transformL'+'ifecycleTe'+'xture'])==null||_0x588688['destroy'](),(_0x2c3e82=this['sh1to3Text'+'ure'])==null||_0x2c3e82['destroy'](),(_0x38f5ce=this['sh4to7Text'+'ure'])==null||_0x38f5ce['destroy'](),(_0x183f9a=this['sh8to11Tex'+'ture'])==null||_0x183f9a['destroy'](),(_0x2c4a54=this['sh12to15Te'+'xture'])==null||_0x2c4a54['destroy'](),(_0x48e160=this['colorTextu'+'re2'])==null||_0x48e160['destroy'](),(_0xcd9998=this['transformA'+'Texture2'])==null||_0xcd9998['destroy'](),(_0x32ec71=this['transformB'+'Texture2'])==null||_0x32ec71['destroy'](),(_0x2bd8ea=this['transformR'+'Texture2'])==null||_0x2bd8ea['destroy'](),(_0x318964=this['transformM'+'otionTextu'+'re2'])==null||_0x318964['destroy'](),(_0x4a6f81=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x4a6f81['destroy'](),(_0x23e443=this['sh1to3Text'+'ure2'])==null||_0x23e443['destroy'](),(_0x306589=this['sh4to7Text'+'ure2'])==null||_0x306589['destroy'](),(_0x3926f3=this['sh8to11Tex'+'ture2'])==null||_0x3926f3['destroy'](),(_0x1fa9d2=this['sh12to15Te'+'xture2'])==null||_0x1fa9d2['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x24142d){var _0x13f1b7,_0x29c071,_0x30b488,_0x744490,_0x33acf7,_0x39f061,_0xe3de08,_0x325c59,_0x5a0b71,_0x1644ce,_0x53808a,_0x2d6c57,_0x215efe;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x1bd37c=((_0x13f1b7=_0x24142d['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x13f*0x16+-0xca+-0x1aa0):_0x13f1b7['data'])??-0x186f+-0xaa9*0x2+0xdd*0x35,_0x19923b=((_0x29c071=_0x24142d['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x156d+-0x339+-0x5*-0x4ee):_0x29c071['data'])??0x1*0x1eb6+0x1c6*-0x7+-0x124b,_0xdb16fb=((_0x30b488=_0x24142d['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x76d*-0x1+-0x409+-0x364):_0x30b488['data'])??-0x24e2+0x6*-0x10c+0x2b2b,_0x30006e=((_0x744490=_0x24142d['getParamet'+'er']('uHueOffset'))==null?void(0x1a0b+0x13*-0x153+-0x1*0xe2):_0x744490['data'])??0x86e+-0x598+-0x2d6,_0x1339e7=((_0x33acf7=_0x24142d['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0xb2a*0x2+-0x184a+0x1f6):_0x33acf7['data'])??-0x7a*0x9+-0xd3*-0x16+-0x2*0x6ec,_0x2b420f=((_0x39f061=_0x24142d['getParamet'+'er']('uOpacity'))==null?void(0x717*-0x2+-0x20ea+0x2f18):_0x39f061['data'])??-0x1*-0x25e0+0x200f+-0x2*0x22f7,_0x31de9c=((_0xe3de08=_0x24142d['getParamet'+'er']('clrOffset'))==null?void(0x18f*0x9+-0xb4d*-0x1+-0x1954):_0xe3de08['data'])??[-0xd*-0xf+-0xcb8+0xbf5,0x223*0x1+-0x1e9a+0x3*0x97d,-0x1083+0x1edd+0xe5a*-0x1,-0x18a8+-0xf82+0x282b],_0x2539c8=((_0x325c59=_0x24142d['getParamet'+'er']('clrScale'))==null?void(-0x2eb+-0xf0*-0x21+-0x1c05):_0x325c59['data'])??[-0x1cfd+0x1698+-0x6*-0x111,-0x1*0x66c+0x9*0x22d+-0xd28,-0x1a5c+0xd51+0xd0c,0x1d1b+0x18a9+-0x1*0x35c3],_0x3ecdc9=((_0x5a0b71=_0x24142d['getParamet'+'er']('uShapeN'))==null?void(-0x1bdd*0x1+0x2b6*0x3+0x13bb):_0x5a0b71['data'])??-0x16*-0xc1+0x2*-0x853+0x1*0x10,_0x32ed51=((_0x1644ce=_0x24142d['getParamet'+'er']('mode'))==null?void(0x21*-0x37+-0x14c4+-0x1bdb*-0x1):_0x1644ce['data'])??0x214f*-0x1+-0x41*0x8a+0x4459,_0xddb548=((_0x53808a=_0x24142d['getParamet'+'er']('ringSize'))==null?void(0x529+-0x1516*-0x1+-0x1a3f):_0x53808a['data'])??-0x3*0xa2c+-0x10e5+0x2f69,_0x46541b=((_0x2d6c57=_0x24142d['defines'])==null?void(0x91e*0x3+-0x191b*-0x1+-0x3475*0x1):_0x2d6c57['get']('uOpenAnim'))??'0',_0x3ed8c8=((_0x215efe=_0x24142d['defines'])==null?void(0x26a9+-0xda*0x7+-0x20b3):_0x215efe['get']('uControlCo'+'lorMode'))??'0';_0x24142d['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x24142d['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x24142d['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x24142d['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x24142d['setParamet'+'er']('uSplatScal'+'e',_0x19923b),_0x24142d['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x1bd37c),_0x24142d['setParamet'+'er']('uSaturatio'+'n',_0xdb16fb),_0x24142d['setParamet'+'er']('uHueOffset',_0x30006e),_0x24142d['setParamet'+'er']('uInvertOpa'+'city',_0x1339e7),_0x24142d['setParamet'+'er']('uOpacity',_0x2b420f),_0x24142d['setParamet'+'er']('clrOffset',_0x31de9c),_0x24142d['setParamet'+'er']('clrScale',_0x2539c8),_0x24142d['setParamet'+'er']('uShapeN',_0x3ecdc9),_0x24142d['setParamet'+'er']('mode',_0x32ed51),_0x24142d['setParamet'+'er']('ringSize',_0xddb548),_0x24142d['setParamet'+'er']('prerenderC'+'Time',0x7cd*0x2+-0x1db1+0xe17),_0x24142d['setParamet'+'er']('renderSpac'+'e',0x16ce+0x1*-0x3e5+0x1*-0x12df),_0x24142d['setParamet'+'er']('endSpace',0x1f2a*0x1+0x3*0x2a8+0x342*-0xc),_0x24142d['setDefine']('uOpenAnim',_0x46541b),_0x24142d['setDefine']('uControlCo'+'lorMode',_0x3ed8c8),this['transformM'+'otionTextu'+'re']&&_0x24142d['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x24142d['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x24142d['setDefine']('SH_BANDS',this['shBands']),_0x24142d['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x24142d['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x24142d['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x24142d['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x24142d['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x473764){const _0xfc34c5=Math['ceil'](Math['sqrt'](_0x473764)),_0x588729=Math['ceil'](_0x473764/_0xfc34c5);return new J(_0xfc34c5,_0x588729);}async['updateColo'+'rData'](_0x47c90b){var _0x41c20d;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x27423d=this['colorTextu'+'re2'];if(!_0x27423d||this['isDestroye'+'d'])return;let _0x2fcf75=(_0x41c20d=_0x47c90b['transformD'+'ata'])==null?void(-0x1aa2+-0xeda+0x297c):_0x41c20d['dataColor'];if(!_0x2fcf75){const _0x554bf2=_0x47c90b['getProp']('color_opac'+'ity');_0x2fcf75=new Uint16Array(_0x554bf2['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x27423d,_0x2fcf75);}async['getTransfo'+'rmDataByWo'+'rker'](_0x3610b5){var _0x24bd24;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x24bd24=_0x3610b5['transformD'+'ata'])!=null&&_0x24bd24['dataCenter'+'s'])return{'centers':_0x3610b5['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x3610b5['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x3610b5['transformD'+'ata']['dataScale'],'dataRotation':_0x3610b5['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x3610b5['transformD'+'ata']['dataMotion'],'dataTime':_0x3610b5['transformD'+'ata']['dataTime'],'motion':_0x3610b5['transformD'+'ata']['motion'],'tScaleArray':_0x3610b5['transformD'+'ata']['tScaleArra'+'y']};const _0x41b59a=_0x3610b5['getProp']('position'),_0x20da7b=_0x3610b5['getProp']('motion'),_0x3b344b=_0x3610b5['getProp']('rotation'),_0x4ea958=_0x3610b5['getProp']('scale'),_0x45258a=_0x3610b5['getProp']('t'),_0x221326=_0x3610b5['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x3610b5['numSplats'],this['is4D'],_0x41b59a,_0x3b344b,_0x20da7b,_0x4ea958,_0x45258a,_0x221326);}async['updateTran'+'sformFromD'+'ata'](_0x5ae208){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x5ae208['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x5ae208['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x5ae208['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x5ae208['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x5ae208['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x36b8a9,_0x5a4c63){if(!this['isDestroye'+'d'])return new Promise(_0x1b23e7=>{requestIdleCallback(()=>{const _0x5c5172=_0x36b8a9['lock']();_0x5c5172==null||_0x5c5172['set'](_0x5a4c63),_0x36b8a9['unlock'](),_0x1b23e7(!(0x19e7+0x2342*-0x1+0x95b*0x1));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x7ce1e8){var _0x5ada61,_0x2fb7bc,_0xc1d9e4,_0x232c1d,_0x20ea47,_0x49fad9,_0x23c28c,_0x3fa248;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x12ad31=(_0x5ada61=this['sh1to3Text'+'ure2'])==null?void(0x4*-0x17+0x1af6+-0x8de*0x3):_0x5ada61['lock'](),_0x2fb042=(_0x2fb7bc=this['sh4to7Text'+'ure2'])==null?void(-0x2283+-0x1*0x907+0x1*0x2b8a):_0x2fb7bc['lock'](),_0x57e7bd=(_0xc1d9e4=this['sh8to11Tex'+'ture2'])==null?void(-0x313*-0x1+0x125*0x5+-0x8cc):_0xc1d9e4['lock'](),_0xf6cffe=(_0x232c1d=this['sh12to15Te'+'xture2'])==null?void(0x1a67+-0x35*0x64+0x5b3*-0x1):_0x232c1d['lock'](),_0x3919ec={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x14ecfd=xg(_0x7ce1e8,_0x3919ec*(-0x124a*0x2+0x25f*0x9+0x4*0x3d0)),_0x37875d=0x16e7*-0x1+0x16e*0x5+0x17c0,_0x1234de=0x1394+0x12*0x14d+-0x43*0x95,_0x3692f6=new Float32Array(-0x1*0xb6c+-0xc85*-0x1+-0x8c*0x2),_0x596e74=new Uint32Array(_0x3692f6['buffer']),_0x1f3fab=new Array(_0x3919ec*(0x1c22+0x2*-0xb88+-0x50f))['fill'](0x1fd7+-0x147f+-0xb58);for(let _0x41844b=-0x28b+-0x1*-0x25c9+-0x233e;_0x41844b<_0x7ce1e8['numSplats'];++_0x41844b){for(let _0x1bec0a=0x1ee1+0x27*-0xa8+-0x29*0x21;_0x1bec0a<_0x3919ec;++_0x1bec0a)_0x1f3fab[_0x1bec0a*(0x2388+0x86d+-0x2bf2)]=_0x14ecfd[_0x1bec0a][_0x41844b],_0x1f3fab[_0x1bec0a*(-0xded+-0x3*0xc91+0x1*0x33a3)+(0x47*-0x7f+0x109+0x2231*0x1)]=_0x14ecfd[_0x1bec0a+_0x3919ec][_0x41844b],_0x1f3fab[_0x1bec0a*(-0x1*-0xe17+-0xc11*0x2+0xa0e)+(0x1805+0x1547+-0x2d4a)]=_0x14ecfd[_0x1bec0a+_0x3919ec*(0x914*0x4+0x1*-0x8bd+-0x1b91*0x1)][_0x41844b];let _0x2b58c0=_0x1f3fab[0x62f+-0x1*-0x1508+-0x1b37];for(let _0x78bf28=-0x1275+0x1f41+0x28f*-0x5;_0x78bf28<_0x3919ec*(-0x1eb*-0xd+0x1a0+-0x4*0x6a3);++_0x78bf28)_0x2b58c0=Math['max'](_0x2b58c0,Math['abs'](_0x1f3fab[_0x78bf28]));if(_0x2b58c0!==-0x1*-0x4df+0x1*-0xedb+0x9fc){for(let _0x7896bf=0xca5+0x1*0xc0d+-0x18b2;_0x7896bf<_0x3919ec;++_0x7896bf)_0x1f3fab[_0x7896bf*(0x2dc*-0x8+-0x557*-0x2+-0x271*-0x5)+(-0x11*0x61+-0x1621+-0x6a*-0x45)]=Math['max'](-0x543*0x4+0x1*-0xca3+-0x1*-0x21af,Math['min'](_0x37875d,Math['floor']((_0x1f3fab[_0x7896bf*(-0x1cf8+-0x871+0x256c)+(-0x1c1*0x3+-0x5*0x41c+0x1*0x19cf)]/_0x2b58c0*(0x215f+-0x3b*-0x1+0x10cd*-0x2+0.5)+(-0x9c0+-0x2683+0x3043+0.5))*_0x37875d+(0x11a5+-0x668+0xb3d*-0x1+0.5)))),_0x1f3fab[_0x7896bf*(0x10db+-0x2fd*-0xa+-0x2eba)+(-0x6fd*0x2+0x9*-0x28a+0x24d5)]=Math['max'](-0x7d6+0xd*0x301+-0x1f37,Math['min'](_0x1234de,Math['floor']((_0x1f3fab[_0x7896bf*(0x1*-0x1003+0x1efb+-0xef5)+(0x5*-0x3df+-0x157d+0x28d9)]/_0x2b58c0*(-0xf71*-0x1+0x13*-0xbc+-0x17d+0.5)+(0xd4c+0xe5*0x21+-0x2ad1*0x1+0.5))*_0x1234de+(0xc1*0x25+0x43*0x61+-0x3548+0.5)))),_0x1f3fab[_0x7896bf*(-0xad7+-0x1056+-0x1b3*-0x10)+(0xa95*0x3+-0x1*-0x389+0x5*-0x70e)]=Math['max'](-0x49*0x73+-0x12d7+0x6*0x89b,Math['min'](_0x37875d,Math['floor']((_0x1f3fab[_0x7896bf*(0x237c+0x26b2+0x4a2b*-0x1)+(0x88e+0x1e1c+-0x4*0x9aa)]/_0x2b58c0*(-0xd6*-0x3+-0xe8e+0x303*0x4+0.5)+(0x7be+0x38b*0x5+0x31*-0x85+0.5))*_0x37875d+(-0x184*0x5+0x1a36+0x3ba*-0x5+0.5))));_0x3692f6[-0x22fa+-0x1*-0x121e+0x10dc]=_0x2b58c0,_0x12ad31[_0x41844b*(0x1bfa+-0x17*0x183+-0xf9*-0x7)+(-0x6df+0x4*0x419+-0x985)]=_0x596e74[-0xb20+0xa3e+-0x2*-0x71],_0x12ad31[_0x41844b*(-0x5*0xf+-0x173d+0x178c)+(0x1d48+0xa06+-0x274d)]=_0x1f3fab[0x2443*0x1+0x22cf+-0x4712]<<0x1621+0x10fe+-0x1385*0x2|_0x1f3fab[-0x1572+-0x26f3+0x3c66]<<0xf6*-0x13+-0x25e+0x14ab|_0x1f3fab[0xb*-0x1c4+-0x867*-0x1+-0x3ad*-0x3],_0x12ad31[_0x41844b*(0x1*-0xc41+0x267b+-0xb*0x262)+(0xba7*0x1+0x26a0+-0x1*0x3245)]=_0x1f3fab[0x1e3a+0x2118+-0x3f4f]<<0x631*-0x4+-0x89*0x1f+0x2970|_0x1f3fab[0xd*-0xef+-0x8*0x375+-0x3*-0xd45]<<-0x2f*-0x47+-0x1fdd*0x1+0x12df|_0x1f3fab[0x7*0xd+-0x35e*0x7+0x173c],_0x12ad31[_0x41844b*(-0x1*0x17+-0x2435+0x2450)+(0x977+0x2*0x26e+0x1*-0xe50)]=_0x1f3fab[0x26dd+0x2186+-0x485d]<<0xfef+0x17*0x10a+-0x27c0|_0x1f3fab[-0x18d7*-0x1+-0x73d+-0x199*0xb]<<-0x8a7*0x1+0x2*-0x953+0x1b58|_0x1f3fab[-0x8*0xf9+0xdcb+-0x5fb*0x1],this['shBands']>0x1d25+-0x1fd9*0x1+0x2b5&&(_0x2fb042[_0x41844b*(-0x305*0x9+0x1f31*-0x1+0x3a62)+(-0xa75*-0x3+0x4a6+-0x2405)]=_0x1f3fab[0x4cf+0xd2+0x4*-0x166]<<0x2095+-0x43*-0x52+-0x35f6|_0x1f3fab[0x26*0x34+0x3*0xae8+0x1433*-0x2]<<-0x238+0x1*0x3ff+-0x94*0x3|_0x1f3fab[-0x1*0x10af+0x5f3+0xac7],_0x2fb042[_0x41844b*(-0xa6*-0x17+-0x1fbd+0x10d7)+(-0x164a+0x25c9*0x1+-0xf7e)]=_0x1f3fab[0x220e+-0x1*-0xf53+-0x3155]<<-0xce*0x26+0x1*-0x13c7+0x3270|_0x1f3fab[-0x1862+0x1*-0x7a1+0x804*0x4]<<0x1f*-0xc2+0x3*0x5d5+0x60a|_0x1f3fab[0x97d*0x1+-0x35b*0x3+-0x1b*-0x6],_0x2fb042[_0x41844b*(0x1462+0x222+-0xb40*0x2)+(-0x1fd*-0x5+-0x4cf*0x1+0xa4*-0x8)]=_0x1f3fab[0x18be+0x3cb+-0x1c7a]<<0x3b*0x5+0x1508+-0x161a|_0x1f3fab[0x94a*0x3+0xc8b+-0x2859*0x1]<<-0x1650+0x1*-0x2084+-0x1*-0x36df|_0x1f3fab[0xc*0x1bb+-0x81e+-0xc95*0x1],_0x2fb042[_0x41844b*(-0x690+-0x23d4+0x2a68)+(0xcce+-0x5*-0x3e3+-0x203a)]=_0x1f3fab[0x1c47+-0x1*-0x2de+-0x1f13]<<-0x1bb9+-0xcaa+0x2878|_0x1f3fab[-0x23c9+-0x1df6+0x41d2]<<0x1c54+-0x210a+-0x4c1*-0x1|_0x1f3fab[-0x2674+0x1e1e*0x1+0x86a],this['shBands']>-0x228*0x3+0x5*-0x359+0x7*0x351?(_0x57e7bd[_0x41844b*(-0x1*0x1bda+0x11*-0xc+0x4c7*0x6)+(0xc3f+0xa*-0x355+0x1513)]=_0x1f3fab[0x4e7+0x1*0x2533+-0x2a05]<<-0x9*0x2ec+0xaf8+0xf69|_0x1f3fab[-0xad4+0x7f7*0x4+-0xe*0x17f]<<-0x1dd8+0x6dd+0x1706|_0x1f3fab[0x255b+0x1*0x5ad+-0x2af1],_0x57e7bd[_0x41844b*(-0x2638+-0x1*0xa13+0x304f)+(0x162b+-0x8*-0xc2+-0x1c3a)]=_0x1f3fab[0x1e92+-0x160a+0xd8*-0xa]<<0x1c38+-0x8*0xf6+-0x1473|_0x1f3fab[-0x2a5*0x1+-0x3f0+0x6ae]<<-0x7*-0x54d+0xd9*0x17+-0x388f|_0x1f3fab[0x7*-0x4f+0x9e3*-0x2+0x1609],_0x57e7bd[_0x41844b*(-0x1*-0xe9+-0x3ac*-0x7+0x1*-0x1a99)+(-0x2*0x1345+0xd*0x9f+0x1e79)]=_0x1f3fab[0x2426+0x45*-0x88+0x9d]<<0x4*0x836+0xdb7*0x2+0x13*-0x32b|_0x1f3fab[-0xba7+0x8e1+0x2e2]<<0x2034+0x216d+0x2e*-0x16d|_0x1f3fab[0x1f09+-0x64d+-0x189f],_0x57e7bd[_0x41844b*(-0x5d3+0x1d*-0x13e+-0x1*-0x29dd)+(-0x7*-0x3b5+0x9*-0x1a7+0x1*-0xb11)]=_0x1f3fab[-0x2*-0x441+0x9ee+-0x1d5*0xa]<<-0x1427+0x1*-0x329+-0x1*-0x1765|_0x1f3fab[0x2bd*-0x3+0xd65+-0x50f]<<0x61d*0x1+-0x26b8+0xae2*0x3|_0x1f3fab[0x1a49*-0x1+-0x1b*0x101+0x3584],_0xf6cffe[_0x41844b*(-0x1*0x202a+-0x8*0x277+0x33e6)+(0x118b+0x5de*0x5+-0x2ee1)]=_0x1f3fab[-0x1f0a+0x119*0x22+0x69*-0xf]<<-0x16b4+0x1032+0x697|_0x1f3fab[-0x2*-0x881+0x731+-0x65*0x3d]<<0x22d1+0x2*-0x49+-0x2c*0xc7|_0x1f3fab[-0x2276+-0x28d*-0xd+0x17*0x10],_0xf6cffe[_0x41844b*(0x66+-0xb07*-0x1+-0xb69)+(-0x1e0f+-0xa15+0x2825)]=_0x1f3fab[0x13f*-0x5+0x8ce+-0x26f]<<0x174*-0x7+-0x1fde+0x107*0x29|_0x1f3fab[0xd17+-0xa30+-0x2c2]<<-0x1925+0x3a1*-0x7+-0x59f*-0x9|_0x1f3fab[0x1349*-0x2+-0x1507+0x3bbf],_0xf6cffe[_0x41844b*(0x2f*-0x22+-0x17*-0x119+-0x12fd)+(-0x92e+-0x25b8*-0x1+0x391*-0x8)]=_0x1f3fab[0x1e74+0xf*0x3d+0x878*-0x4]<<0x40f*0x7+-0x60+-0x1bf4|_0x1f3fab[-0x1227+-0x9b5+0x1c04]<<0x2a0+-0x537+-0x1*-0x2a2|_0x1f3fab[0x1326+0x1697+-0xa65*0x4],_0xf6cffe[_0x41844b*(0x11d2*-0x2+0x2*0x362+0x1ce4)+(0x1b43*0x1+0x1df*-0x1+-0x1961)]=_0x1f3fab[0x1*-0x1331+0x1d0d+0x4d9*-0x2]<<0x74a*-0x1+-0x1834*-0x1+-0x10d5|_0x1f3fab[-0xaec+0x12*0x13e+-0x1*0xb45]<<0x1ac3+0x1f*-0x3b+-0x1393|_0x1f3fab[0xf6d*-0x2+-0x212a+0xd*0x4f0]):_0x57e7bd[_0x41844b]=_0x1f3fab[-0x2089+-0x139d+0x343b]<<-0x1*0x27e+-0x10*-0xd6+-0x7*0x18b|_0x1f3fab[-0x7*0x4a9+0x19d*-0x3+0x258c]<<-0xa8e*0x1+0x1d1f+0x1*-0x1286|_0x1f3fab[0x157f+0x182f+0xb*-0x425]);}}(_0x20ea47=this['sh1to3Text'+'ure2'])==null||_0x20ea47['unlock'](),(_0x49fad9=this['sh4to7Text'+'ure2'])==null||_0x49fad9['unlock'](),(_0x23c28c=this['sh8to11Tex'+'ture2'])==null||_0x23c28c['unlock'](),(_0x3fa248=this['sh12to15Te'+'xture2'])==null||_0x3fa248['unlock']();}async['updateSHDa'+'taByWorker'](_0x372ddb){var _0x152f14,_0x775d0b,_0x47b021,_0x4635f1,_0x267e5a;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x2eebf3={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x59493e,_0x463bb0,_0x11312f,_0x6e2e96;if((_0x152f14=_0x372ddb['transformD'+'ata'])!=null&&_0x152f14['sh1to3Data'])_0x59493e=(_0x775d0b=_0x372ddb['transformD'+'ata'])==null?void(-0xe5*0x16+0x72f+-0x1*-0xc7f):_0x775d0b['sh1to3Data'],_0x463bb0=(_0x47b021=_0x372ddb['transformD'+'ata'])==null?void(0x8ad*0x2+-0x2551+-0x10d*-0x13):_0x47b021['sh4to7Data'],_0x11312f=(_0x4635f1=_0x372ddb['transformD'+'ata'])==null?void(-0x287+0x1409*0x1+0x6*-0x2eb):_0x4635f1['sh8to11Dat'+'a'],_0x6e2e96=(_0x267e5a=_0x372ddb['transformD'+'ata'])==null?void(0xb99*-0x3+0x32f*0x5+0x12e0*0x1):_0x267e5a['sh12to15Da'+'ta'];else{const _0x2e0ff4=xg(_0x372ddb,_0x2eebf3*(-0x1*-0x1813+0x44b*-0x7+-0x5fd*-0x1)),_0x4cd175=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x372ddb['numSplats'],this['shBands'],_0x2e0ff4);_0x59493e=_0x4cd175['sh1to3Data'],_0x463bb0=_0x4cd175['sh4to7Data'],_0x11312f=_0x4cd175['sh8to11Dat'+'a'],_0x6e2e96=_0x4cd175['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x59493e),this['shBands']>0x1123+0x2*-0xe49+0x16e*0x8&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x463bb0),this['shBands']>0x1d2b+0x241a+-0x4143?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x11312f),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x6e2e96)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x11312f));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x4abade){Ov=_0x4abade;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x40f6dd){w['assert'](_0x40f6dd),_0x40f6dd['frameUpdat'+'e']();const _0x53ca8d=_0x40f6dd['beforePass'+'es'];for(let _0x30ead9=-0x1*0x742+-0x1*-0x24fb+-0x1db9;_0x30ead9<_0x53ca8d['length'];_0x30ead9++){const _0x26219c=_0x53ca8d[_0x30ead9];_0x26219c['enabled']&&this['addRenderP'+'ass'](_0x26219c);}_0x40f6dd['enabled']&&this['renderPass'+'es']['push'](_0x40f6dd);const _0x5dad54=_0x40f6dd['afterPasse'+'s'];for(let _0x5bf615=-0x3bf+-0x12d3*0x1+-0x36*-0x6b;_0x5bf615<_0x5dad54['length'];_0x5bf615++){const _0x4e64f4=_0x5dad54[_0x5bf615];_0x4e64f4['enabled']&&this['addRenderP'+'ass'](_0x4e64f4);}}['reset'](){this['renderPass'+'es']['length']=-0x235f+-0x1148+0x34a7;}['compile'](){const _0x30bbae=this['renderTarg'+'etMap'],_0xb17bd6=this['renderPass'+'es'];for(let _0x28a9f3=0x7*-0x3d1+0xd54+-0x1*-0xd63;_0x28a9f3<_0xb17bd6['length'];_0x28a9f3++){const _0x5d1795=_0xb17bd6[_0x28a9f3],_0x1258fa=_0x5d1795['renderTarg'+'et'];if(_0x1258fa!==void(0x1*-0x24c0+-0x140d+-0x6f*-0x83)){const _0xaac720=_0x30bbae['get'](_0x1258fa);if(_0xaac720){const _0x5a693c=_0x5d1795['colorArray'+'Ops']['length'];for(let _0x20951e=-0x4a7*0x1+-0x1*-0x1525+-0x107e;_0x20951e<_0x5a693c;_0x20951e++)_0x5d1795['colorArray'+'Ops'][_0x20951e]['clear']||(_0xaac720['colorArray'+'Ops'][_0x20951e]['store']=!(-0xe1*-0x27+0x1*-0x1485+-0xdc2));_0x5d1795['depthStenc'+'ilOps']['clearDepth']||(_0xaac720['depthStenc'+'ilOps']['storeDepth']=!(-0x23bf*0x1+0x10b*-0x1a+-0x8fb*-0x7)),_0x5d1795['depthStenc'+'ilOps']['clearStenc'+'il']||(_0xaac720['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x6b*0x1c+-0x193*0xd+0x8c3));}_0x30bbae['set'](_0x1258fa,_0x5d1795);}}for(let _0x68dcc3=-0x2343*0x1+0x1292*0x2+0x1*-0x1e1;_0x68dcc3<_0xb17bd6['length']-(0xe17*0x1+-0x13d8+-0x1*-0x5c2);_0x68dcc3++){const _0x23ce56=_0xb17bd6[_0x68dcc3],_0x421a91=_0x23ce56['renderTarg'+'et'],_0x5b837e=_0xb17bd6[_0x68dcc3+(0x358+0x235*0xd+-0x2*0x1004)],_0x3d8c6f=_0x5b837e['renderTarg'+'et'];_0x421a91!==_0x3d8c6f||_0x421a91===void(-0x251e+-0x7b9+0x2cd7)||_0x5b837e['depthStenc'+'ilOps']['clearDepth']||_0x5b837e['depthStenc'+'ilOps']['clearStenc'+'il']||_0x5b837e['colorArray'+'Ops']['some'](_0x97f8f9=>_0x97f8f9['clear'])||_0x23ce56['afterPasse'+'s']['length']>0xbe4+-0x24ca+-0xc73*-0x2||_0x5b837e['beforePass'+'es']['length']>0x2*0xe7a+-0x10*-0x17e+0x2e*-0x126||(_0x23ce56['_skipEnd']=!(-0x262*0x1+-0x18bd+0x1b1f),_0x5b837e['_skipStart']=!(0x833*-0x1+0x8e2+-0xaf));}let _0xacfc49=null,_0x1867d2=null;for(let _0x255307=-0x1*-0xc22+0xa33+-0x1*0x1655;_0x255307<_0xb17bd6['length'];_0x255307++){const _0xe62f78=_0xb17bd6[_0x255307],_0x5a387a=_0xe62f78['renderTarg'+'et'],_0x2c6f29=_0x5a387a==null?void(0xbe2+0x1e1d+0x29ff*-0x1):_0x5a387a['colorBuffe'+'r'];if(_0x2c6f29!=null&&_0x2c6f29['cubemap']){if(_0xacfc49===_0x2c6f29){const _0x1f4d12=_0x1867d2['colorArray'+'Ops']['length'];for(let _0x5f200f=-0x16ac+-0x1094+-0x20*-0x13a;_0x5f200f<_0x1f4d12;_0x5f200f++)_0x1867d2['colorArray'+'Ops'][_0x5f200f]['mipmaps']=!(-0xe0e+-0x7*-0x139+0x40*0x16);}_0xacfc49=_0x5a387a['colorBuffe'+'r'],_0x1867d2=_0xe62f78;}else _0xe62f78['requiresCu'+'bemaps']&&(_0xacfc49=null,_0x1867d2=null);}_0x30bbae['clear']();}['render'](_0x3e6e8d){this['compile']();const _0x4d00e7=this['renderPass'+'es'];for(let _0x1b3810=-0x4ac+-0x17d5*-0x1+0x2d*-0x6d;_0x1b3810<_0x4d00e7['length'];_0x1b3810++)_0x4d00e7[_0x1b3810]['render']();}}class IC{constructor(_0x31de14,_0x287b1f){this['texture0']=_0x31de14,this['texture1']=_0x287b1f;}['destroy'](){var _0xefea8f,_0x1ff9b6;(_0xefea8f=this['texture0'])==null||_0xefea8f['destroy'](),(_0x1ff9b6=this['texture1'])==null||_0x1ff9b6['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x31e3c8,_0x348b70,_0x32af4e,_0x48f143=''){return new _e(_0x31e3c8,{'name':'AreaLightL'+'UT'+_0x48f143,'width':_0x32af4e,'height':_0x32af4e,'format':_0x348b70,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1*-0x1081+-0x1483+0x403)});}static['applyTextu'+'res'](_0x500099,_0x48bfee,_0x5dbc67){Eg['remove'](_0x500099),Eg['get'](_0x500099,()=>new IC(_0x48bfee,_0x48bfee===_0x5dbc67?null:_0x5dbc67)),_0x500099['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x48bfee),_0x500099['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x5dbc67);}static['createPlac'+'eholder'](_0x548acd){const _0x2202bb=ia['createText'+'ure'](_0x548acd,nt,-0x122+0x54b+-0x427,'placeholde'+'r');_0x2202bb['lock']()['fill'](-0x14e8+-0x7ad+0x1c95),_0x2202bb['unlock'](),ia['applyTextu'+'res'](_0x548acd,_0x2202bb,_0x2202bb);}static['set'](_0x49a84b,_0x5e0095,_0x3b86bd){function _0x2e56df(_0x3acdee,_0x3131d1,_0x4dbda6){const _0x38271b=ia['createText'+'ure'](_0x3acdee,_0x4dbda6,-0x2472+-0x1bc+0x266e);return _0x38271b['lock']()['set'](_0x3131d1),_0x38271b['unlock'](),_0x38271b;}function _0x424346(_0x35de9e){const _0x5bec9=_0x35de9e['length'],_0x45991a=new Uint16Array(_0x5bec9),_0x48e308=Mn['float2Half'];for(let _0x4223e6=0x561+0x1043+-0x15a4;_0x4223e6<_0x5bec9;_0x4223e6++)_0x45991a[_0x4223e6]=_0x48e308(_0x35de9e[_0x4223e6]);return _0x45991a;}const _0x565e55=_0x5e0095,_0x285a7a=_0x3b86bd,_0x46b8ca=_0x424346(_0x565e55),_0x951b64=_0x424346(_0x285a7a),_0x36991c=_0x2e56df(_0x49a84b,_0x46b8ca,nt),_0x3ba800=_0x2e56df(_0x49a84b,_0x951b64,nt);ia['applyTextu'+'res'](_0x49a84b,_0x36991c,_0x3ba800);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x5d4318,_0x51e81e){for(let _0x90fadc=-0xe*-0x107+0x2*0x5f0+-0x2*0xd21,_0x284b0c=_0x5d4318['length'];_0x90fadc<_0x284b0c;_0x90fadc++)Sm[_0x5d4318[_0x90fadc]]=_0x51e81e;}function Oi(_0x46323f){const _0x2f9014=_0x46323f['indexOf']('-');return _0x2f9014!==-(-0xa*-0x2df+-0x4*-0x5cc+0x5*-0xa61)?_0x46323f['substring'](0x1636+0x71*-0x2d+0x1*-0x259,_0x2f9014):_0x46323f;}function LC(_0x554c01,_0x498239){const _0x77163a=_0x554c01['indexOf']('-');return _0x77163a!==-(0x1*0xe39+-0x2*0x2b0+-0x8d8)?_0x498239+_0x554c01['substring'](_0x77163a):_0x498239;}function Fv(_0xde9759,_0xafa0b7){if(_0xafa0b7[_0xde9759])return _0xde9759;let _0x4eca09=Mh[_0xde9759];if(_0x4eca09&&_0xafa0b7[_0x4eca09])return _0x4eca09;const _0x46a3c2=Oi(_0xde9759);return _0x4eca09=Mh[_0x46a3c2],_0xafa0b7[_0x4eca09]?_0x4eca09:_0xafa0b7[_0x46a3c2]?_0x46a3c2:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x5e2965=>-0x503+0x22b6+-0x1db3),Dr(['fa','hi'],_0x385be7=>_0x385be7>=0x1cb2+-0x9f*-0x17+-0x2afb&&_0x385be7<=0x7db+0xfaa+-0xd7*0x1c?-0x3cf+0x1046*-0x1+-0x1*-0x1415:-0x25*-0x38+0x115c+-0x1973*0x1),Dr(['fr','pt'],_0x4a4e56=>_0x4a4e56>=-0x1545+-0x91+0x15d6&&_0x4a4e56<0x129b+0xdc1+-0x205a*0x1?-0x1*-0x1281+0x1*0xa5d+-0x5*0x5c6:0x2424+-0x1a2d+-0x9f6),Dr(['da'],_0x38b504=>_0x38b504===0xcb+0x3*-0x6fd+0x409*0x5||!Number['isInteger'](_0x38b504)&&_0x38b504>=-0x5e6*0x5+-0x139*0xa+0x29b8&&_0x38b504<=-0x7a3*0x1+-0x19*-0x189+0x3d*-0x81?0x15*-0x28+-0x2623+0x1*0x296b:0x37f+0xaf0+0xe6e*-0x1),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x102b63=>_0x102b63===0x24*0xcf+-0x337*0x9+-0x2c?0x502+-0x1937+0x1435:-0x1*0x1831+-0x13fb+0x2c2d),Dr(['ru','uk'],_0x590589=>{if(Number['isInteger'](_0x590589)){const _0x5aa05f=_0x590589%(0x1074+0x1c4+-0x122e),_0xb1adbe=_0x590589%(0x5bb*-0x2+0x1a01+-0xe27);if(_0x5aa05f===0x227*0xf+-0xdc3*0x2+-0x4c2&&_0xb1adbe!==0x1771+0x26a4+0xa57*-0x6)return 0xb4+-0x796*-0x1+-0x425*0x2;if(_0x5aa05f>=0x1de5+0x1*-0x232f+0x3*0x1c4&&_0x5aa05f<=0x1ec*0x6+0x15*-0xdf+0x6c7&&(_0xb1adbe<-0x1*-0x595+-0x7be*-0x2+-0x1505||_0xb1adbe>0x7d8+0xcdd+-0x14a7))return 0x26c6+-0x2531*0x1+-0x2*0xca;if(_0x5aa05f===0x1253+0x23ee+-0x3641*0x1||_0x5aa05f>=-0x1d87*-0x1+-0x43e*0x4+-0xc8a&&_0x5aa05f<=0x4bd*-0x1+0x43*0x47+0x7*-0x1f9||_0xb1adbe>=0x1cd6+-0x1173*0x2+0x3*0x209&&_0xb1adbe<=-0x739*0x3+0x1*-0x1f7+0x17b0)return 0x24c0+0x33*0xa2+-0x4504;}return 0x23a3+-0xd6*-0x2a+-0x46bc;}),Dr(['pl'],_0x5b19d9=>{if(Number['isInteger'](_0x5b19d9)){if(_0x5b19d9===-0x1146*-0x2+0x1df*0x3+-0x2828)return-0x1a58+0x265*0x4+-0x1d*-0x94;const _0x55c98b=_0x5b19d9%(0x3ed*-0x4+0x1*-0x177b+0x2739),_0x4c88fd=_0x5b19d9%(0x56d*0x3+0x117*-0xd+-0x8*0x37);if(_0x55c98b>=0xa7*0x28+-0x1b8e+0x178&&_0x55c98b<=-0x1*-0x8e9+0x1*-0xc50+0x36b&&(_0x4c88fd<0xd3*-0x2b+0x1a9b+0x3*0x2f6||_0x4c88fd>0x1e71+0xe2*0x1d+0xb*-0x517))return-0xa88+0x768+0x1*0x321;if(_0x55c98b>=0x1be*-0x2+-0x10fd*0x1+-0x1*-0x1479&&_0x55c98b<=-0x22d*0x5+-0xf*-0x24e+0x17b0*-0x1||_0x55c98b>=-0x1504+-0x3a5+0x18ae&&_0x55c98b<=0x1*0xc61+0x19*-0x19+-0x9e7||_0x4c88fd>=0xecc+-0x15*-0x3+0xeff*-0x1&&_0x4c88fd<=0x6*-0x350+-0xae+-0x527*-0x4)return-0x1fef+0x939+0x8*0x2d7;}return 0x68d+0x2*-0x1007+0x1984;}),Dr(['ar'],_0x5515e4=>{if(_0x5515e4===-0x2636+-0x20f0+0x4726)return-0x78a+0x13*-0x1+0x79d;if(_0x5515e4===0x21c7+0x763*-0x1+0x1*-0x1a63)return 0x19e6+0x2e6*-0x1+-0x16ff;if(_0x5515e4===-0xbf6*-0x3+-0x17b9+0xb7*-0x11)return 0x2258+0x10d5+-0x332b;if(Number['isInteger'](_0x5515e4)){const _0x198026=_0x5515e4%(0x189d*-0x1+0x166*-0xa+-0x1*-0x26fd);if(_0x198026>=0x1ccc+-0x52*0x6e+0x673&&_0x198026<=0x2*0x61c+0x1eb2+0x1*-0x2ae0)return-0x4b*-0x7d+0x757*-0x1+-0x1d45;if(_0x198026>=-0x1*0x261a+0x14d0+0x1155&&_0x198026<=0x267e+0x1d15+-0x4330)return 0x19d1+-0x136b+0x26*-0x2b;}return 0x1f85+-0x1*-0xec3+-0x2e43;});const RC=Sm[Oi(Ph)];function Tf(_0x6332d0){return Sm[_0x6332d0]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0xb2b7a6='',_0x491fe2='',_0x6da4fb=null,_0x447057=null,_0xa62475=null,_0x100bc3=null){this['url']=_0xb2b7a6,this['filename']=_0x491fe2,this['hash']=_0x6da4fb,this['size']=_0x447057,this['opt']=_0xa62475,this['contents']=_0x100bc3;}['equals'](_0x8d66f9){return this['url']===_0x8d66f9['url']&&this['filename']===_0x8d66f9['filename']&&this['hash']===_0x8d66f9['hash']&&this['size']===_0x8d66f9['size']&&this['opt']===_0x8d66f9['opt']&&this['contents']===_0x8d66f9['contents'];}}let FC=-(0x480+0x4*-0x15f+-0xfd*-0x1);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x329645,_0x30f71e,_0x1afe2b,_0x51d44f={},_0x4e676c={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x4f*-0x66+-0x31*0x61+-0x1c*0x76)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x1491+-0xe48+0x1*-0x648)),h(this,'loading',!(-0x3b*-0x27+-0x211a+0x3*0x80a)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x329645||'',this['type']=_0x30f71e,this['_data']=_0x51d44f||{},this['options']=_0x4e676c||{},_0x1afe2b&&(this['file']=_0x1afe2b));}set['name'](_0x7e7f90){if(this['_name']===_0x7e7f90)return;const _0x489117=this['_name'];this['_name']=_0x7e7f90,this['fire']('name',this,this['_name'],_0x489117);}get['name'](){return this['_name'];}set['file'](_0x12947d){var _0x2a78e9,_0x19fccd;if(_0x12947d&&_0x12947d['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x24f2+0x1bdf+-0x110*0x3d)){const _0x13d587=((_0x19fccd=(_0x2a78e9=this['registry'])==null?void(-0x12f0+0xb13*0x1+0x7dd):_0x2a78e9['_loader'])==null?void(-0x1*0x5eb+-0x15cc+-0xd7*-0x21):_0x19fccd['_app'])||Ms(),_0x400114=_0x13d587==null?void(0x19dc+-0x1bc+-0x1820):_0x13d587['graphicsDe'+'vice'];if(_0x400114)for(let _0x35a9e9=-0x3ad*-0x6+0x1d88+-0x3396,_0x19f8ed=bg['length'];_0x35a9e9<_0x19f8ed;_0x35a9e9++){const _0x9578f7=bg[_0x35a9e9];if(_0x12947d['variants'][_0x9578f7]&&_0x400114[NC[_0x9578f7]]){_0x12947d=_0x12947d['variants'][_0x9578f7];break;}if(_0x13d587['enableBund'+'les']){const _0x454266=_0x13d587['bundles']['listBundle'+'sForAsset'](this);if(_0x454266&&_0x454266['find'](_0x1f7779=>{var _0x28e543;return(_0x28e543=_0x1f7779==null?void(-0x9*0x143+-0x1e11+0x296c):_0x1f7779['file'])==null?void(-0xc57*-0x3+-0xc27+-0x6*0x425):_0x28e543['variants'][_0x9578f7];}))break;}}}const _0x8863c6=this['_file'],_0x47e4b7=_0x12947d?new OC(_0x12947d['url'],_0x12947d['filename'],_0x12947d['hash'],_0x12947d['size'],_0x12947d['opt'],_0x12947d['contents']):null;(!!_0x47e4b7!=!!_0x8863c6||_0x47e4b7&&!_0x47e4b7['equals'](_0x8863c6))&&(this['_file']=_0x47e4b7,this['fire']('change',this,'file',_0x47e4b7,_0x8863c6),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x35ac8e){const _0xaa6c4=this['_data'];this['_data']=_0x35ac8e,_0x35ac8e!==_0xaa6c4&&(this['fire']('change',this,'data',_0x35ac8e,_0xaa6c4),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x30520c){const _0x52a6c4=this['_resources'][0xa*0x5+-0x49d+-0xd*-0x57];this['_resources'][0x4*-0xa1+-0xc7a+-0x65*-0x26]=_0x30520c,this['fire']('change',this,'resource',_0x30520c,_0x52a6c4);}get['resource'](){return this['_resources'][0x454*0x1+-0xa20*0x3+0x1a0c*0x1];}set['resources'](_0x14062c){const _0x113ab2=this['_resources'];this['_resources']=_0x14062c,this['fire']('change',this,'resources',_0x14062c,_0x113ab2);}get['resources'](){return this['_resources'];}set['preload'](_0x22eef5){_0x22eef5=!!_0x22eef5,this['_preload']!==_0x22eef5&&(this['_preload']=_0x22eef5,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x150cc0){_0x150cc0=!!_0x150cc0,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x150cc0!==this['_loadFaces'])&&(this['_loadFaces']=_0x150cc0,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x4f6478=this['file'];if(!_0x4f6478||!_0x4f6478['url'])return null;let _0x41e11c=_0x4f6478['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x41e11c)&&(_0x41e11c=this['registry']['prefix']+_0x41e11c),this['type']!=='script'&&_0x4f6478['hash']){const _0xadc0cb=_0x41e11c['indexOf']('?')!==-(-0x10df+-0x1*-0x209+0xed7)?'&':'?';_0x41e11c+=_0xadc0cb+'t='+_0x4f6478['hash'];}return _0x41e11c;}['getAbsolut'+'eUrl'](_0x12ea46){if(_0x12ea46['startsWith']('blob:')||_0x12ea46['startsWith']('data:'))return _0x12ea46;const _0x5a57f2=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x5a57f2,_0x12ea46);}['getLocaliz'+'edAssetId'](_0x4fadb1){return _0x4fadb1=Fv(_0x4fadb1,this['_i18n']),this['_i18n'][_0x4fadb1]||null;}['addLocaliz'+'edAssetId'](_0x4daa42,_0x53d898){this['_i18n'][_0x4daa42]=_0x53d898,this['fire']('add:locali'+'zed',_0x4daa42,_0x53d898);}['removeLoca'+'lizedAsset'+'Id'](_0x56e5c8){const _0x439a17=this['_i18n'][_0x56e5c8];_0x439a17&&(delete this['_i18n'][_0x56e5c8],this['fire']('remove:loc'+'alized',_0x56e5c8,_0x439a17));}['ready'](_0x511805,_0xcec0af){_0xcec0af=_0xcec0af||this,this['loaded']?_0x511805['call'](_0xcec0af,this):this['once']('load',_0x297022=>{_0x511805['call'](_0xcec0af,_0x297022);});}['reload'](){this['loaded']&&(this['loaded']=!(0x12ca+0x1*0x1666+-0x292f),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x1aff+-0xb15+0x2614)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5baad7=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0xceb+-0xc2*-0x16+0xecb*-0x2),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x58fb9a=0x23e0+-0x1beb+-0x7f5;_0x58fb9a<_0x5baad7['length'];++_0x58fb9a){const _0x423b03=_0x5baad7[_0x58fb9a];_0x423b03&&_0x423b03['destroy']&&_0x423b03['destroy']();}}static['fetchArray'+'Buffer'](_0x2515cb,_0x38ff60,_0x430e1f,_0x196568=0x327+-0x6d*0x3b+0x15f8){var _0xf48795;(_0xf48795=_0x430e1f==null?void(-0x5a*0x5b+0x18df*0x1+0x71f):_0x430e1f['file'])!=null&&_0xf48795['contents']?setTimeout(()=>{_0x38ff60(null,_0x430e1f['file']['contents']);}):ot['get'](_0x2515cb,{'cache':!(-0x13c5+-0x37*-0x11+0x101e),'responseType':'arraybuffe'+'r','retry':_0x196568>0x223+0x2570+-0xb*0x399,'maxRetries':_0x196568},_0x38ff60);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x2e1703=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x2e1703;}['addItem'](_0x5662e6){const _0x1d6502=_0x5662e6['tags']['_list'];for(const _0x5b83e6 of _0x1d6502)this['add'](_0x5b83e6,_0x5662e6);}['removeItem'](_0x2c1657){const _0x3a0d53=_0x2c1657['tags']['_list'];for(const _0x1f34da of _0x3a0d53)this['remove'](_0x1f34da,_0x2c1657);}['add'](_0x58c5e2,_0xd98d1e){this['_index'][_0x58c5e2]&&this['_index'][_0x58c5e2]['list']['indexOf'](_0xd98d1e)!==-(0x15*0xff+0x1*0x11d4+0x12*-0x227)||(this['_index'][_0x58c5e2]||(this['_index'][_0x58c5e2]={'list':[]},this['_key']&&(this['_index'][_0x58c5e2]['keys']={})),this['_index'][_0x58c5e2]['list']['push'](_0xd98d1e),this['_key']&&(this['_index'][_0x58c5e2]['keys'][_0xd98d1e[this['_key']]]=_0xd98d1e));}['remove'](_0x259e7d,_0x3660f8){if(!this['_index'][_0x259e7d]||this['_key']&&!this['_index'][_0x259e7d]['keys'][_0x3660f8[this['_key']]])return;const _0x4e7bb1=this['_index'][_0x259e7d]['list']['indexOf'](_0x3660f8);_0x4e7bb1!==-(0x7*0x49b+-0xec*-0x3+0xa0*-0x38)&&(this['_index'][_0x259e7d]['list']['splice'](_0x4e7bb1,0x4*0x5b6+0x2293+-0x1*0x396a),this['_key']&&delete this['_index'][_0x259e7d]['keys'][_0x3660f8[this['_key']]],this['_index'][_0x259e7d]['list']['length']===0xa2a*0x2+0x1059+-0x24ad&&delete this['_index'][_0x259e7d]);}['find'](_0x18f997){const _0x5bf0d7={},_0x17552c=[];let _0x18b161,_0xb2b752,_0xdbde6,_0x190fa3,_0x1f3c0f;const _0x6b3068=(_0x263a9f,_0x3d05cb)=>this['_index'][_0x263a9f]['list']['length']-this['_index'][_0x3d05cb]['list']['length'];for(let _0x312995=-0x22cb*0x1+0xe6+0x1*0x21e5;_0x312995<_0x18f997['length'];_0x312995++){if(_0xb2b752=_0x18f997[_0x312995],_0xb2b752 instanceof Array){if(_0xb2b752['length']===-0x165c+-0x6*0x2dd+0x278a)continue;if(_0xb2b752['length']===-0x8ae+0x2636*0x1+-0x1d87)_0xb2b752=_0xb2b752[-0x1*-0x1891+0x223d*0x1+-0x3ace];else{_0x1f3c0f=!(0xc6c+0x8*-0x2d3+0xa2d);for(let _0x24da07=0x1*-0x17af+0x81*-0x3e+-0x147*-0x2b;_0x24da07<_0xb2b752['length'];_0x24da07++)if(!this['_index'][_0xb2b752[_0x24da07]]){_0x1f3c0f=!(-0x1dc8+-0x2158+-0x4*-0xfc8);break;}if(_0x1f3c0f)continue;_0xdbde6=_0xb2b752['slice'](0x33*-0xa3+0x13d2+0xca7)['sort'](_0x6b3068),_0x190fa3=_0xdbde6['slice'](-0x2322+0xa7*-0x4+-0xc95*-0x3),_0x190fa3['length']===-0xc5a+-0x7d*-0x2f+-0x388*0x3&&(_0x190fa3=_0x190fa3[0x219+0x199*-0xd+0x12ac]);for(let _0x58c589=0x2272+-0xd*0x1a0+-0xd52;_0x58c589<this['_index'][_0xdbde6[0x16*0x9e+0x15ac+0x468*-0x8]]['list']['length'];_0x58c589++)_0x18b161=this['_index'][_0xdbde6[-0x494+-0x2*-0x17f+-0x3a*-0x7]]['list'][_0x58c589],(this['_key']?!_0x5bf0d7[_0x18b161[this['_key']]]:_0x17552c['indexOf'](_0x18b161)===-(-0x1db*0x3+-0x1022+0x15b4))&&_0x18b161['tags']['has'](_0x190fa3)&&(this['_key']&&(_0x5bf0d7[_0x18b161[this['_key']]]=!(0x1*0x11d7+0x126+0x12fd*-0x1)),_0x17552c['push'](_0x18b161));continue;}}if(_0xb2b752&&typeof _0xb2b752=='string'&&this['_index'][_0xb2b752]){for(let _0x32d125=0x5*-0x307+-0xc0+0x7*0x245;_0x32d125<this['_index'][_0xb2b752]['list']['length'];_0x32d125++)_0x18b161=this['_index'][_0xb2b752]['list'][_0x32d125],this['_key']?_0x5bf0d7[_0x18b161[this['_key']]]||(_0x5bf0d7[_0x18b161[this['_key']]]=!(-0x11*-0x13a+0xa06+-0x1ee0),_0x17552c['push'](_0x18b161)):_0x17552c['indexOf'](_0x18b161)===-(0x2ce*0x1+0xd07+-0xfd4)&&_0x17552c['push'](_0x18b161);}}return _0x17552c;}}class mn extends me{constructor(_0x574819){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x574819;}['list'](_0x1b23a8={}){const _0x1258c1=Array['from'](this['_assets']);return _0x1b23a8['preload']!==void(-0x1*-0x45d+0x646*0x4+-0x1d75)?_0x1258c1['filter'](_0x86096f=>_0x86096f['preload']===_0x1b23a8['preload']):_0x1258c1;}['add'](_0x3a4df5){var _0x328315,_0x30f65a;this['_assets']['has'](_0x3a4df5)||(this['_assets']['add'](_0x3a4df5),this['_idToAsset']['set'](_0x3a4df5['id'],_0x3a4df5),(_0x328315=_0x3a4df5['file'])!=null&&_0x328315['url']&&this['_urlToAsse'+'t']['set'](_0x3a4df5['file']['url'],_0x3a4df5),this['_nameToAss'+'et']['has'](_0x3a4df5['name'])||this['_nameToAss'+'et']['set'](_0x3a4df5['name'],new Set()),this['_nameToAss'+'et']['get'](_0x3a4df5['name'])['add'](_0x3a4df5),_0x3a4df5['on']('name',this['_onNameCha'+'nge'],this),_0x3a4df5['registry']=this,this['_tags']['addItem'](_0x3a4df5),_0x3a4df5['tags']['on']('add',this['_onTagAdd'],this),_0x3a4df5['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x3a4df5),this['fire']('add:'+_0x3a4df5['id'],_0x3a4df5),(_0x30f65a=_0x3a4df5['file'])!=null&&_0x30f65a['url']&&this['fire']('add:url:'+_0x3a4df5['file']['url'],_0x3a4df5),_0x3a4df5['preload']&&this['load'](_0x3a4df5));}['remove'](_0x55f3a0){var _0x42680e,_0xdf2e2;if(!this['_assets']['has'](_0x55f3a0))return!(-0x2298+-0x12f4+0x358d*0x1);if(this['_assets']['delete'](_0x55f3a0),this['_idToAsset']['delete'](_0x55f3a0['id']),(_0x42680e=_0x55f3a0['file'])!=null&&_0x42680e['url']&&this['_urlToAsse'+'t']['delete'](_0x55f3a0['file']['url']),_0x55f3a0['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x55f3a0['name'])){const _0x57baae=this['_nameToAss'+'et']['get'](_0x55f3a0['name']);_0x57baae['delete'](_0x55f3a0),_0x57baae['size']===0x5bb+0x2*0x8dd+-0x1775&&this['_nameToAss'+'et']['delete'](_0x55f3a0['name']);}return this['_tags']['removeItem'](_0x55f3a0),_0x55f3a0['tags']['off']('add',this['_onTagAdd'],this),_0x55f3a0['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x55f3a0['fire']('remove',_0x55f3a0),this['fire']('remove',_0x55f3a0),this['fire']('remove:'+_0x55f3a0['id'],_0x55f3a0),(_0xdf2e2=_0x55f3a0['file'])!=null&&_0xdf2e2['url']&&this['fire']('remove:url'+':'+_0x55f3a0['file']['url'],_0x55f3a0),!(0x16de+-0x1*0x18fb+-0x21d*-0x1);}['get'](_0x481c8a){return this['_idToAsset']['get'](Number(_0x481c8a));}['getByUrl'](_0x4e72b9){return this['_urlToAsse'+'t']['get'](_0x4e72b9);}['load'](_0x3dcc0f,_0x491017){if((_0x3dcc0f['loading']||_0x3dcc0f['loaded'])&&!(_0x491017!=null&&_0x491017['force']))return;const _0x5c834d=_0x3dcc0f['file'],_0x5dcdee=()=>{this['fire']('load',_0x3dcc0f),this['fire']('load:'+_0x3dcc0f['id'],_0x3dcc0f),_0x5c834d&&_0x5c834d['url']&&this['fire']('load:url:'+_0x5c834d['url'],_0x3dcc0f),_0x3dcc0f['fire']('load',_0x3dcc0f);},_0x3f4036=_0x3b0955=>{if(_0x3b0955 instanceof Array?_0x3dcc0f['resources']=_0x3b0955:_0x3dcc0f['resource']=_0x3b0955,this['_loader']['patch'](_0x3dcc0f,this),_0x3dcc0f['type']==='bundle'){const _0x47af3b=_0x3dcc0f['data']['assets'];for(let _0xabee70=-0x1d*-0x53+0x89*-0xb+0x24*-0x19;_0xabee70<_0x47af3b['length'];_0xabee70++){const _0x3c6397=this['_idToAsset']['get'](_0x47af3b[_0xabee70]);_0x3c6397&&!_0x3c6397['loaded']&&this['load'](_0x3c6397,{'force':!(-0x1ebe+-0x2a1+0x215f)});}_0x3dcc0f['resource']['loaded']?_0x5dcdee():(this['fire']('load:start',_0x3dcc0f),this['fire']('load:start'+':'+_0x3dcc0f['id'],_0x3dcc0f),_0x5c834d&&_0x5c834d['url']&&this['fire']('load:start'+':url:'+_0x5c834d['url'],_0x3dcc0f),_0x3dcc0f['fire']('load:start',_0x3dcc0f),_0x3dcc0f['resource']['on']('load',_0x5dcdee));}else _0x5dcdee();},_0x5f3fd3=(_0x2ac7c2,_0x5ac743,_0x4e49a1)=>{if(_0x3dcc0f['loaded']=!(0x1*-0x5ec+0x2*0x50b+-0x42a),_0x3dcc0f['loading']=!(0xbf8+-0x83*0x2b+-0xa*-0x101),_0x2ac7c2)this['fire']('error',_0x2ac7c2,_0x3dcc0f),this['fire']('error:'+_0x3dcc0f['id'],_0x2ac7c2,_0x3dcc0f),_0x3dcc0f['fire']('error',_0x2ac7c2,_0x3dcc0f);else{if(_0x3dcc0f['type']==='script'){const _0xb8d69c=this['_loader']['getHandler']('script');_0xb8d69c['_cache'][_0x3dcc0f['id']]&&_0xb8d69c['_cache'][_0x3dcc0f['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0xb8d69c['_cache'][_0x3dcc0f['id']]),_0xb8d69c['_cache'][_0x3dcc0f['id']]=_0x4e49a1;}_0x3f4036(_0x5ac743);}};if(_0x5c834d||_0x3dcc0f['type']==='cubemap'){this['fire']('load:start',_0x3dcc0f),this['fire']('load:'+_0x3dcc0f['id']+':start',_0x3dcc0f),_0x3dcc0f['loading']=!(-0x1c17+0x26f8+-0xae1);const _0x4bae83=_0x3dcc0f['getFileUrl']();if(_0x3dcc0f['type']==='bundle'){const _0x58bd2f=_0x3dcc0f['data']['assets'];for(let _0x5a24f4=-0x119b+-0x19d7+0x2b72;_0x5a24f4<_0x58bd2f['length'];_0x5a24f4++){const _0x3413f2=this['_idToAsset']['get'](_0x58bd2f[_0x5a24f4]);_0x3413f2&&(_0x3413f2['loaded']||_0x3413f2['resource']||_0x3413f2['loading']||(_0x3413f2['loading']=!(0x1*-0x14bf+0xf3+0x13cc)));}}this['_loader']['load'](_0x4bae83,_0x3dcc0f['type'],_0x5f3fd3,_0x3dcc0f,_0x491017);}else{const _0x2ebc22=this['_loader']['open'](_0x3dcc0f['type'],_0x3dcc0f['data']);_0x3dcc0f['loaded']=!(-0x252f*-0x1+0x235e+0x1*-0x488d),_0x3f4036(_0x2ebc22);}}['reloadInde'+'x'](_0x2c8fb1,_0x201718,_0x160ac3){const _0x177881=(_0x11ad69,_0x4dbe7b,_0x236686)=>{_0x201718['loaded']=!(0x16d3*0x1+0xdc+0x2b*-0x8d),_0x201718['loading']=!(-0x1*-0xcee+-0x63d+-0x8*0xd6);};return this['_loader']['load'](_0x2c8fb1,_0x201718['type'],_0x177881,_0x201718,_0x160ac3),_0x201718;}['loadFromUr'+'l'](_0x4f3fcb,_0x5f9d4d,_0x4d897f){this['loadFromUr'+'lAndFilena'+'me'](_0x4f3fcb,null,_0x5f9d4d,_0x4d897f);}['loadFromUr'+'lAndFilena'+'me'](_0x1f7104,_0x1ce207,_0x5256ed,_0x364343){const _0x55ba2a=xe['getBasenam'+'e'](_0x1ce207||_0x1f7104),_0x479125={'filename':_0x1ce207||_0x55ba2a,'url':_0x1f7104};let _0x3b272c=this['getByUrl'](_0x1f7104);if(!_0x3b272c)_0x3b272c=new pe(_0x55ba2a,_0x5256ed,_0x479125),this['add'](_0x3b272c);else{if(_0x3b272c['loaded']){_0x364343(_0x3b272c['loadFromUr'+'lError']||null,_0x3b272c);return;}}const _0x495a72=_0x1a7a8d=>{_0x1a7a8d['once']('load',_0x58bcc4=>{_0x5256ed==='material'?this['_loadTextu'+'res'](_0x58bcc4,(_0x25fe6a,_0x120360)=>{_0x364343(_0x25fe6a,_0x58bcc4);}):_0x364343(null,_0x58bcc4);}),_0x1a7a8d['once']('error',_0x329f74=>{_0x329f74&&(this['loadFromUr'+'lError']=_0x329f74),_0x364343(_0x329f74,_0x1a7a8d);}),this['load'](_0x1a7a8d);};_0x3b272c['resource']?_0x364343(null,_0x3b272c):_0x5256ed==='model'?this['_loadModel'](_0x3b272c,_0x495a72):_0x495a72(_0x3b272c);}['_loadModel'](_0x46d25f,_0x1a678f){const _0xee66e1=_0x46d25f['getFileUrl'](),_0xe4b437=xe['getExtensi'+'on'](_0xee66e1);if(_0xe4b437==='.json'||_0xe4b437==='.glb'){const _0x42cb25=xe['getDirecto'+'ry'](_0xee66e1),_0x8c43d=xe['getBasenam'+'e'](_0xee66e1),_0x6ff434=xe['join'](_0x42cb25,_0x8c43d['replace'](_0xe4b437,'.mapping.j'+'son'));this['_loader']['load'](_0x6ff434,'json',(_0x443114,_0x421e7d)=>{_0x443114?(_0x46d25f['data']={'mapping':[]},_0x1a678f(_0x46d25f)):this['_loadMater'+'ials'](_0x46d25f,_0x421e7d,(_0x1c679b,_0x186138)=>{_0x46d25f['data']=_0x421e7d,_0x1a678f(_0x46d25f);});});}else _0x1a678f(_0x46d25f);}['_loadMater'+'ials'](_0x4bb493,_0x3aeb27,_0x5305c9){const _0xbb3a5c=[];let _0x3a7c9e=0x20d3+-0x89d+-0x1836;const _0x162f9b=(_0x2b0082,_0x197f1f)=>{this['_loadTextu'+'res'](_0x197f1f,(_0x4e2324,_0x470fd4)=>{_0xbb3a5c['push'](_0x197f1f),_0xbb3a5c['length']===_0x3a7c9e&&_0x5305c9(null,_0xbb3a5c);});};for(let _0x4a6398=-0xeb6+-0x821*0x2+0x1ef8;_0x4a6398<_0x3aeb27['mapping']['length'];_0x4a6398++){const _0x37b490=_0x3aeb27['mapping'][_0x4a6398]['path'];if(_0x37b490){_0x3a7c9e++;const _0x54af62=_0x4bb493['getAbsolut'+'eUrl'](_0x37b490);this['loadFromUr'+'l'](_0x54af62,'material',_0x162f9b);}}_0x3a7c9e===0x4aa+0x4e6+-0x9*0x110&&_0x5305c9(null,_0xbb3a5c);}['_loadTextu'+'res'](_0x2936a0,_0x249f0f){const _0x3d703e=[];let _0x748c11=-0x1f*0x52+0xd*-0xf+0xab1;const _0x5d8461=_0x2936a0['data'];if(_0x5d8461['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x2936a0['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x249f0f(null,_0x3d703e);return;}const _0x5afacd=(_0x54a58f,_0x1c54f0)=>{_0x54a58f&&console['error'](_0x54a58f),_0x3d703e['push'](_0x1c54f0),_0x3d703e['length']===_0x748c11&&_0x249f0f(null,_0x3d703e);},_0x1e4729=Cd;for(let _0x2451f2=0x1691*0x1+0x9c2*-0x4+0x1077;_0x2451f2<_0x1e4729['length'];_0x2451f2++){const _0x30aa43=_0x5d8461[_0x1e4729[_0x2451f2]];if(_0x30aa43&&typeof _0x30aa43=='string'){_0x748c11++;const _0x38c914=_0x2936a0['getAbsolut'+'eUrl'](_0x30aa43);this['loadFromUr'+'l'](_0x38c914,'texture',_0x5afacd);}}_0x748c11===-0xbc2+0x660+0x562&&_0x249f0f(null,_0x3d703e);}['_onTagAdd'](_0x1e5649,_0x49f11d){this['_tags']['add'](_0x1e5649,_0x49f11d);}['_onTagRemo'+'ve'](_0xf2ccc6,_0x32bcad){this['_tags']['remove'](_0xf2ccc6,_0x32bcad);}['_onNameCha'+'nge'](_0x13848e,_0x3b00e1,_0x3e4311){if(this['_nameToAss'+'et']['has'](_0x3e4311)){const _0x2365e1=this['_nameToAss'+'et']['get'](_0x3e4311);_0x2365e1['delete'](_0x13848e),_0x2365e1['size']===0x1a*-0x143+0x31*0x67+0x3*0x45d&&this['_nameToAss'+'et']['delete'](_0x3e4311);}this['_nameToAss'+'et']['has'](_0x13848e['name'])||this['_nameToAss'+'et']['set'](_0x13848e['name'],new Set()),this['_nameToAss'+'et']['get'](_0x13848e['name'])['add'](_0x13848e);}['findByTag'](..._0x5059c4){return this['_tags']['find'](_0x5059c4);}['filter'](_0x3ac6ed){return Array['from'](this['_assets'])['filter'](_0x927ae7=>_0x3ac6ed(_0x927ae7));}['find'](_0x40ef0e,_0x3d9fbc){const _0x1df470=this['_nameToAss'+'et']['get'](_0x40ef0e);if(!_0x1df470)return null;for(const _0x412c73 of _0x1df470)if(!_0x3d9fbc||_0x412c73['type']===_0x3d9fbc)return _0x412c73;return null;}['findAll'](_0x5ba62a,_0x50f108){const _0x16361d=this['_nameToAss'+'et']['get'](_0x5ba62a);if(!_0x16361d)return[];const _0x480e31=Array['from'](_0x16361d);return _0x50f108?_0x480e31['filter'](_0xdcd141=>_0xdcd141['type']===_0x50f108):_0x480e31;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x598e67){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x598e67,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x489c51){if(_0x489c51['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x489c51['id'],_0x489c51),this['_assets']['on']('load:start'+':'+_0x489c51['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x489c51['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x489c51['id'],this['_onBundleE'+'rror'],this);const _0x455c7b=_0x489c51['data']['assets'];for(let _0x5d9a36=0xe8*-0x22+-0xdb5*0x1+-0x83*-0x57;_0x5d9a36<_0x455c7b['length'];_0x5d9a36++)this['_indexAsse'+'tInBundle'](_0x455c7b[_0x5d9a36],_0x489c51);}else this['_assetToBu'+'ndles']['has'](_0x489c51['id'])&&this['_indexAsse'+'tFileUrls'](_0x489c51);}['_unbindAss'+'etEvents'](_0x29497b){this['_assets']['off']('load:start'+':'+_0x29497b,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x29497b,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x29497b,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x18cd78,_0x24a4dc){let _0x2bc37d=this['_assetToBu'+'ndles']['get'](_0x18cd78);_0x2bc37d||(_0x2bc37d=new Set(),this['_assetToBu'+'ndles']['set'](_0x18cd78,_0x2bc37d)),_0x2bc37d['add'](_0x24a4dc);const _0x52f104=this['_assets']['get'](_0x18cd78);_0x52f104&&this['_indexAsse'+'tFileUrls'](_0x52f104);}['_indexAsse'+'tFileUrls'](_0x574a12){const _0x2c789d=this['_getAssetF'+'ileUrls'](_0x574a12);if(_0x2c789d)for(let _0x38f772=-0x7a*-0x38+-0x1*-0x36e+-0x1e1e;_0x38f772<_0x2c789d['length'];_0x38f772++){const _0x3b5395=this['_assetToBu'+'ndles']['get'](_0x574a12['id']);_0x3b5395&&this['_urlsToBun'+'dles']['set'](_0x2c789d[_0x38f772],_0x3b5395);}}['_getAssetF'+'ileUrls'](_0x5d8bbd){let _0xa5b87e=_0x5d8bbd['getFileUrl']();if(!_0xa5b87e)return null;_0xa5b87e=_0xa5b87e['split']('?')[0x11ef+0xbdd*-0x1+-0x612];const _0x19ea3b=[_0xa5b87e];if(_0x5d8bbd['type']==='font'){const _0x5b6ee9=_0x5d8bbd['data']['info']['maps']['length'];for(let _0x196524=0x1*-0x13df+0x219*-0x11+0x3789;_0x196524<_0x5b6ee9;_0x196524++)_0x19ea3b['push'](_0xa5b87e['replace']('.png',_0x196524+'.png'));}return _0x19ea3b;}['_onAssetRe'+'move'](_0x1af817){if(_0x1af817['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x1af817['id']),this['_unbindAss'+'etEvents'](_0x1af817['id']);const _0x4bfea7=_0x1af817['data']['assets'];for(let _0x107590=0x63*0x3+-0x2*-0x266+-0x5f5;_0x107590<_0x4bfea7['length'];_0x107590++){const _0x4c9409=this['_assetToBu'+'ndles']['get'](_0x4bfea7[_0x107590]);if(_0x4c9409&&(_0x4c9409['delete'](_0x1af817),_0x4c9409['size']===-0x19*0x2b+0x2*0x2c7+-0x15b)){this['_assetToBu'+'ndles']['delete'](_0x4bfea7[_0x107590]);for(const [_0x4045f8,_0x50deca]of this['_urlsToBun'+'dles'])_0x50deca===_0x4c9409&&this['_urlsToBun'+'dles']['delete'](_0x4045f8);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x1af817['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x1af817['id']))return;this['_assetToBu'+'ndles']['delete'](_0x1af817['id']);const _0x2323f1=this['_getAssetF'+'ileUrls'](_0x1af817);if(!_0x2323f1)return;for(let _0x2e9d69=-0x2*-0xcc7+-0x2*0x2e4+-0x13c6;_0x2e9d69<_0x2323f1['length'];_0x2e9d69++)this['_urlsToBun'+'dles']['delete'](_0x2323f1[_0x2e9d69]);}}['_onBundleL'+'oadStart'](_0x43e495){_0x43e495['resource']['on']('add',(_0x2c1220,_0x145bb8)=>{const _0x2515dd=this['_fileReque'+'sts']['get'](_0x2c1220);if(_0x2515dd){for(let _0x5f5b56=-0x24c0+-0x1b86+0x2023*0x2;_0x5f5b56<_0x2515dd['length'];_0x5f5b56++)_0x2515dd[_0x5f5b56](null,_0x145bb8);this['_fileReque'+'sts']['delete'](_0x2c1220);}});}['_onBundleL'+'oad'](_0x5c057f){if(!_0x5c057f['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x5c057f['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x4606a1,_0xd9919a]of this['_fileReque'+'sts']){const _0x28bcc3=this['_urlsToBun'+'dles']['get'](_0x4606a1);if(!_0x28bcc3||!_0x28bcc3['has'](_0x5c057f))continue;const _0x30ceae=decodeURIComponent(_0x4606a1);let _0x8bf7c3,_0x27c3fe;if(_0x5c057f['resource']['has'](_0x30ceae))_0x27c3fe=_0x5c057f['resource']['get'](_0x30ceae);else{if(_0x5c057f['resource']['loaded'])_0x8bf7c3='Bundle\x20'+_0x5c057f['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x4606a1;else continue;}for(let _0x50bcb8=-0x175*-0x16+0x9c8+0x85e*-0x5;_0x50bcb8<_0xd9919a['length'];_0x50bcb8++)_0xd9919a[_0x50bcb8](_0x8bf7c3,_0x8bf7c3||_0x27c3fe);this['_fileReque'+'sts']['delete'](_0x4606a1);}}['_onBundleE'+'rror'](_0x1dc10c){for(const [_0x15400e,_0x19ff09]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x15400e)){for(let _0x34a61a=-0x1e2f+-0x10e5+-0x178a*-0x2;_0x34a61a<_0x19ff09['length'];_0x34a61a++)_0x19ff09[_0x34a61a](_0x1dc10c);this['_fileReque'+'sts']['delete'](_0x15400e);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x52bea9){const _0x1cc962=this['_urlsToBun'+'dles']['get'](_0x52bea9);if(!_0x1cc962)return null;let _0x58e732=null;for(const _0x12d56e of _0x1cc962){if(_0x12d56e['loaded']&&_0x12d56e['resource'])return _0x12d56e;_0x12d56e['loading']&&(_0x58e732=_0x12d56e);}return _0x58e732;}['listBundle'+'sForAsset'](_0x141fb5){const _0x32db7=this['_assetToBu'+'ndles']['get'](_0x141fb5['id']);return _0x32db7?Array['from'](_0x32db7):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x2b19fa){return this['_urlsToBun'+'dles']['has'](_0x2b19fa);}['urlIsLoade'+'dOrLoading'](_0x59e828){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x59e828);}['loadUrl'](_0x432949,_0x45700d){const _0x23aa48=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x432949);if(!_0x23aa48){_0x45700d('URL\x20'+_0x432949+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x23aa48['loaded']){const _0x105f9d=decodeURIComponent(_0x432949);if(_0x23aa48['resource']['has'](_0x105f9d)){_0x45700d(null,_0x23aa48['resource']['get'](_0x105f9d));return;}else{if(_0x23aa48['resource']['loaded']){_0x45700d('Bundle\x20'+_0x23aa48['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x432949);return;}}}let _0x4a5321=this['_fileReque'+'sts']['get'](_0x432949);_0x4a5321||(_0x4a5321=[],this['_fileReque'+'sts']['set'](_0x432949,_0x4a5321)),_0x4a5321['push'](_0x45700d);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x35606d of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x35606d);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x441e70){const _0x22d40a=_0x441e70['id'];if(this[_0x22d40a])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x22d40a+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x22d40a]=_0x441e70,this['list']['push'](_0x441e70);}['remove'](_0x542d5d){const _0x15ec88=_0x542d5d['id'];if(!this[_0x15ec88])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x15ec88+('\x27\x20register'+'ed'));delete this[_0x15ec88];const _0x547b2d=this['list']['indexOf'](this[_0x15ec88]);_0x547b2d!==-(0x2e3*-0x7+-0x9c2+-0xefc*-0x2)&&this['list']['splice'](_0x547b2d,0x1f3d+0x2170+-0x40ac);}['destroy'](){this['off']();for(let _0x57b303=-0x3*0x1f+0x259e+-0x231*0x11;_0x57b303<this['list']['length'];_0x57b303++)this['list'][_0x57b303]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0xe37+-0x3bd+0x1*-0xa79));}['addFile'](_0x3a4acb,_0x356705){this['_index']['has'](_0x3a4acb)||(this['_index']['set'](_0x3a4acb,_0x356705),this['fire']('add',_0x3a4acb,_0x356705));}['has'](_0x1c424f){return this['_index']['has'](_0x1c424f);}['get'](_0xca2874){return this['_index']['get'](_0xca2874)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x91adfc){!_0x91adfc||this['_loaded']||(this['_loaded']=!(0x1a1e*-0x1+0x2*-0x2c9+-0x6*-0x548),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x16ab6d,_0xa32995=''){super(),h(this,'headerSize',0x26b1+0x1a2f+-0x3ee0),h(this,'paddingSiz'+'e',0x37+0x92b+-0x762),h(this,'bytesRead',0x6ab*0x1+-0x40*-0x1d+-0xdeb),h(this,'bytesRecei'+'ved',-0x193*0x2+-0x2224+-0x6f*-0x56),h(this,'headerRead',!(-0x20cc+-0x2139+-0x1602*-0x3)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x19c2+-0x46*-0x29+-0x746*-0x2)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x222b+-0x1d5b+-0x4d0),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0xa32995||'',this['reader']=_0x16ab6d['body']['getReader'](),this['reader']['read']()['then'](_0x593f5d=>{this['pump'](_0x593f5d['done'],_0x593f5d['value']);})['catch'](_0x337515=>{this['fire']('error',_0x337515);}));}['pump'](_0x4bd15b,_0x7c61d2){if(_0x4bd15b)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x7c61d2['byteLength'];const _0x1f8355=new Uint8Array(this['data']['length']+_0x7c61d2['length']);for(_0x1f8355['set'](this['data']),_0x1f8355['set'](_0x7c61d2,this['data']['length']),this['data']=_0x1f8355;this['readFile'](););return this['reader']['read']()['then'](_0x322f94=>{this['pump'](_0x322f94['done'],_0x322f94['value']);})['catch'](_0x21b501=>{this['fire']('error',_0x21b501);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x588+-0x136b*-0x2+-0x2c5e);const _0x3ab49a=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x54ff34=this['decoder']['decode'](_0x3ab49a);if(this['fileName']=_0x54ff34['substring'](0x63*-0x37+0x5*-0x3b9+-0x7fa*-0x5,0x1075*0x1+0x17f3*0x1+-0x1402*0x2)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x54ff34['substring'](-0x1269+0x397*0x9+-0xd6a,-0x13c+0x2*0x7a1+-0xd7e),-0x2*-0x1345+-0x1*0x17e9+-0xe99),this['fileType']=_0x54ff34['substring'](-0x1815+0x7*0x257+-0x130*-0x7,-0x1e7+0x7f3+0x56f*-0x1),this['ustarForma'+'t']=_0x54ff34['substring'](0xbdf*-0x2+-0x623*0x1+0xf71*0x2,-0x1*-0x24df+0x2*0x439+-0x2c4a),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x8d*-0x16+0x24c5*-0x1+0x30e4)){const _0x4b5fe7=_0x54ff34['substring'](-0x16ca+-0x7ac*-0x1+0x1077,-0x2326+-0x9a0+0x175d*0x2)['replace'](/\0/g,'');_0x4b5fe7['length']>-0x176c+-0x367+0x7*0x3d5&&(this['fileName']=_0x4b5fe7['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x1*-0x21a1+0x24*-0x42+-0x3*0x773;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x242b+-0x42*-0x13+-0x2910);if(this['fileType']===''||this['fileType']==='0'){const _0x372580=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0xadf5cd={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x372580};this['fire']('file',_0xadf5cd);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x1d5*-0x1+-0x457*0x4+-0xbd*-0x1a);const _0x4092e0=this['bytesRead']%this['paddingSiz'+'e'];return _0x4092e0!==-0x9*0x26b+-0x598*0x3+0x268b&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x4092e0),!(0x111c+0xcfb*0x3+0x380d*-0x1);}return!(0x21*0xa4+0x2*0x355+-0x1*0x1bcd);}}class Qe{constructor(_0x12ae49,_0x586791){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x86f+0xa7*0x11+-0x1386),(this['_app']=_0x12ae49,this['handlerTyp'+'e']=_0x586791);}set['maxRetries'](_0x32c657){this['_maxRetrie'+'s']=_0x32c657;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x3c6588,_0x1f1645,_0x519701){}['open'](_0x2b0685,_0x427acc,_0x49c463){return _0x427acc;}['patch'](_0x3109ff,_0x14d6af){}}class VC extends Qe{constructor(_0x20ba50){super(_0x20ba50,'bundle'),this['_assets']=_0x20ba50['assets'];}['_fetchRetr'+'ies'](_0x2db54c,_0x1cc6b8,_0x462892=0x232e+-0x6ec*-0x2+0xfb*-0x32){return new Promise((_0x3c2619,_0x4071a1)=>{const _0x19e5e2=()=>{fetch(_0x2db54c,_0x1cc6b8)['then'](_0x3c2619)['catch'](_0x11b8b4=>{_0x462892++,_0x462892<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x462892),_0x19e5e2()):_0x4071a1(_0x11b8b4);});};_0x19e5e2();});}['load'](_0x3197b3,_0x1ab48f){typeof _0x3197b3=='string'&&(_0x3197b3={'load':_0x3197b3,'original':_0x3197b3}),this['_fetchRetr'+'ies'](_0x3197b3['load'],{'mode':'cors'},this['maxRetries'])['then'](_0xf5ff18=>{const _0x62f898=new gu();_0x1ab48f(null,_0x62f898);const _0x5e91bc=new zC(_0xf5ff18,this['_assets']['prefix']);_0x5e91bc['on']('file',_0x27975d=>{_0x62f898['addFile'](_0x27975d['name'],_0x27975d['data']);}),_0x5e91bc['on']('done',()=>{_0x62f898['loaded']=!(-0x1760+-0x5*-0x3e+0x162a);}),_0x5e91bc['on']('error',_0x17641a=>{w['error'](_0x17641a),_0x1ab48f(_0x17641a);});})['catch'](_0x2596d1=>{w['error'](_0x2596d1),_0x1ab48f(_0x2596d1);});}['open'](_0x1f6ba8,_0x5b6dac){return _0x5b6dac;}}class Cn{constructor(_0x186a56){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x186a56;}['addHandler'](_0x5ead22,_0x5b288f){this['_handlers'][_0x5ead22]=_0x5b288f,_0x5b288f['_loader']=this;}['removeHand'+'ler'](_0x4d624a){delete this['_handlers'][_0x4d624a];}['getHandler'](_0x12fbb1){return this['_handlers'][_0x12fbb1];}static['makeKey'](_0x595780,_0x151e1d){return _0x595780+'-'+_0x151e1d;}['load'](_0x33e460,_0x46618d,_0x3264d9,_0x3c6ab5,_0x94ed55){var _0x4a879b;const _0x37cb49=this['_handlers'][_0x46618d];if(!_0x37cb49){const _0x1d0f93='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x46618d+('\x27\x20when\x20loa'+'ding\x20[')+_0x33e460+']';w['errorOnce'](_0x1d0f93),_0x3264d9(_0x1d0f93);return;}if(!_0x33e460){this['_loadNull'](_0x37cb49,_0x3264d9,_0x3c6ab5);return;}const _0x493aca=Cn['makeKey'](_0x33e460,_0x46618d);if(this['_requests'][_0x493aca])this['_requests'][_0x493aca]['push'](_0x3264d9);else{this['_requests'][_0x493aca]=[_0x3264d9];const _0x33a546=this,_0x5a5a46=function(_0x1c1dd6,_0x1dccec){if(_0x1c1dd6){_0x33a546['_onFailure'](_0x493aca,_0x1c1dd6);return;}if(_0x1dccec['load']instanceof DataView){if(_0x37cb49['openBinary']){if(!_0x33a546['_requests'][_0x493aca])return;try{const _0x835b37=_0x37cb49['openBinary'](_0x1dccec['load']);_0x33a546['_onSuccess'](_0x493aca,_0x835b37);}catch(_0x4c90f4){_0x33a546['_onFailure'](_0x493aca,_0x4c90f4);}return;}_0x1dccec['load']=URL['createObje'+'ctURL'](new Blob([_0x1dccec['load']])),_0x3c6ab5&&(_0x3c6ab5['urlObject']&&URL['revokeObje'+'ctURL'](_0x3c6ab5['urlObject']),_0x3c6ab5['urlObject']=_0x1dccec['load']);}_0x37cb49['load'](_0x1dccec,(_0x42bf72,_0x4e7ba5,_0x2c208d)=>{if(_0x33a546['_requests'][_0x493aca]){if(_0x42bf72){_0x33a546['_onFailure'](_0x493aca,_0x42bf72);return;}try{_0x33a546['_onSuccess'](_0x493aca,_0x37cb49['open'](_0x1dccec['original'],_0x4e7ba5,_0x3c6ab5),_0x2c208d);}catch(_0x102be7){_0x33a546['_onFailure'](_0x493aca,_0x102be7);}}},_0x3c6ab5);},_0x4cafed=_0x33e460['split']('?')[0x7d*0x2e+0x1*0x1a61+-0x30d7*0x1];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x4cafed)&&!(_0x94ed55&&_0x94ed55['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x4cafed)){const _0x547f86=this['_app']['bundles']['listBundle'+'sForAsset'](_0x3c6ab5);let _0x471326;_0x94ed55&&_0x94ed55['bundlesFil'+'ter']&&(_0x471326=_0x94ed55['bundlesFil'+'ter'](_0x547f86)),_0x471326||(_0x547f86==null||_0x547f86['sort']((_0x2d99e6,_0x18b120)=>_0x2d99e6['file']['size']-_0x18b120['file']['size']),_0x471326=_0x547f86==null?void(0x1*-0x25e7+-0x9*-0x1b9+0x1666):_0x547f86[0x7c3*-0x3+-0x3e9+0x1b32]),_0x471326&&((_0x4a879b=this['_app']['assets'])==null||_0x4a879b['load'](_0x471326));}this['_app']['bundles']['loadUrl'](_0x4cafed,(_0x3e7a5e,_0x186ca5)=>{_0x5a5a46(_0x3e7a5e,{'load':_0x186ca5,'original':_0x4cafed});});}else _0x5a5a46(null,{'load':_0x33e460,'original':_0x3c6ab5&&_0x3c6ab5['file']['filename']||_0x33e460});}}['_loadNull'](_0x31a122,_0x57b1cc,_0x138661){const _0x5978a4=function(_0x39dbb3,_0x30b50c,_0x60586c){if(_0x39dbb3)_0x57b1cc(_0x39dbb3);else try{_0x57b1cc(null,_0x31a122['open'](null,_0x30b50c,_0x138661),_0x60586c);}catch(_0xc2fcf2){_0x57b1cc(_0xc2fcf2);}};_0x31a122['load'](null,_0x5978a4,_0x138661);}['_onSuccess'](_0x7d08cb,_0x1c4569,_0x1f3cc5){for(let _0x4b8504=0x18f8+-0x1*-0xfb5+0x9*-0x485;_0x4b8504<this['_requests'][_0x7d08cb]['length'];_0x4b8504++)this['_requests'][_0x7d08cb][_0x4b8504](null,_0x1c4569,_0x1f3cc5);delete this['_requests'][_0x7d08cb];}['_onFailure'](_0x1baf82,_0x4cb3aa){if(console['error'](_0x4cb3aa),this['_requests'][_0x1baf82]){for(let _0x1b41fa=-0x18a7+-0x1bb2+0x3459;_0x1b41fa<this['_requests'][_0x1baf82]['length'];_0x1b41fa++)this['_requests'][_0x1baf82][_0x1b41fa](_0x4cb3aa);delete this['_requests'][_0x1baf82];}}['open'](_0x2e2fa9,_0x67f32a){const _0x30e7f2=this['_handlers'][_0x2e2fa9];return _0x30e7f2?_0x30e7f2['open'](null,_0x67f32a):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2e2fa9),_0x67f32a);}['patch'](_0x1b1eac,_0x3290aa){const _0x42bcfc=this['_handlers'][_0x1b1eac['type']];if(!_0x42bcfc){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1b1eac['type']);return;}_0x42bcfc['patch']&&_0x42bcfc['patch'](_0x1b1eac,_0x3290aa);}['clearCache'](_0xad3e30,_0x46a1d9){const _0x2a1213=Cn['makeKey'](_0xad3e30,_0x46a1d9);delete this['_cache'][_0x2a1213];}['getFromCac'+'he'](_0x148e4c,_0xd380b7){const _0x59b10a=Cn['makeKey'](_0x148e4c,_0xd380b7);if(this['_cache'][_0x59b10a])return this['_cache'][_0x59b10a];}['enableRetr'+'y'](_0xebee34=-0x1*-0x5b5+-0x15fd+0x104d){_0xebee34=Math['max'](0xe7a+-0x1*0x22fd+0x1*0x1483,_0xebee34)||0x2*-0x1221+-0x64d*0x6+0x4a10;for(const _0x220e2b in this['_handlers'])this['_handlers'][_0x220e2b]['maxRetries']=_0xebee34;}['disableRet'+'ry'](){for(const _0x2ca69a in this['_handlers'])this['_handlers'][_0x2ca69a]['maxRetries']=0x2390+0xef9*-0x2+-0x1*0x59e;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x8f73e4){if(!_0x8f73e4['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x8f73e4['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x8f73e4['header']['version']!==-0x14bf+-0x523*0x5+0x2e6f*0x1)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x8f73e4['data']){if(!Array['isArray'](_0x8f73e4['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x483b64=0x1eba+-0x1cfc+-0x1be,_0x1de664=_0x8f73e4['data']['length'];_0x483b64<_0x1de664;_0x483b64++){const _0x5e1f9c=_0x8f73e4['data'][_0x483b64];if(!_0x5e1f9c['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x483b64+('].info\x22\x20fi'+'eld'));if(!_0x5e1f9c['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x483b64+('].info.loc'+'ale\x22\x20field'));if(typeof _0x5e1f9c['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x483b64+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x5e1f9c['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x483b64+('].messages'+'\x22\x20field'));}}['parse'](_0x242fb0){return this['_validate'](_0x242fb0),_0x242fb0['data'];}}const Gh=class Gh extends me{constructor(_0x400177){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x400177,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x3ea148){const _0x3203c0={};for(let _0x53f61f=0x190d+-0x2418+0xb0b,_0xc0b02f=_0x3ea148['length'];_0x53f61f<_0xc0b02f;_0x53f61f++){const _0x4053d4=_0x3ea148[_0x53f61f]instanceof pe?_0x3ea148[_0x53f61f]['id']:_0x3ea148[_0x53f61f];_0x3203c0[_0x4053d4]=!(-0x62*0x1c+0xd33+-0x1*0x27b);}let _0x1070f4=this['_assets']['length'];for(;_0x1070f4--;){const _0x225898=this['_assets'][_0x1070f4];if(!_0x3203c0[_0x225898]){this['_app']['assets']['off']('add:'+_0x225898,this['_onAssetAd'+'d'],this);const _0x4d175a=this['_app']['assets']['get'](_0x225898);_0x4d175a&&this['_onAssetRe'+'move'](_0x4d175a),this['_assets']['splice'](_0x1070f4,-0x1d*0xf1+0x1029+0xb25);}}for(const _0xf75667 in _0x3203c0){const _0x915f46=parseInt(_0xf75667,-0x9b*-0xd+0x503*0x6+-0x25e7);if(this['_assets']['indexOf'](_0x915f46)!==-(0x1*-0xa1a+0x4e3*-0x4+0x1*0x1da7))continue;this['_assets']['push'](_0x915f46);const _0x579ccb=this['_app']['assets']['get'](_0x915f46);_0x579ccb?this['_onAssetAd'+'d'](_0x579ccb):this['_app']['assets']['once']('add:'+_0x915f46,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x319da2){if(this['_locale']===_0x319da2)return;let _0x518a8f=Oi(_0x319da2);if(_0x518a8f==='in'&&(_0x518a8f='id',_0x319da2=LC(_0x319da2,_0x518a8f),this['_locale']===_0x319da2))return;const _0x197c3e=this['_locale'];this['_locale']=_0x319da2,this['_lang']=_0x518a8f,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x319da2,_0x197c3e);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x132a8e,_0xc05217){return Fv(_0x132a8e,_0xc05217);}['findAvaila'+'bleLocale'](_0x4a7f73){if(this['_translati'+'ons'][_0x4a7f73])return _0x4a7f73;const _0x395c63=Oi(_0x4a7f73);return this['_findFallb'+'ackLocale'](_0x4a7f73,_0x395c63);}['getText'](_0x389449,_0xcab5e9){let _0x1ccf1a=_0x389449,_0x55fde9;_0xcab5e9||(_0xcab5e9=this['_locale'],_0x55fde9=this['_lang']);let _0x384e51=this['_translati'+'ons'][_0xcab5e9];return _0x384e51||(_0x55fde9||(_0x55fde9=Oi(_0xcab5e9)),_0xcab5e9=this['_findFallb'+'ackLocale'](_0xcab5e9,_0x55fde9),_0x384e51=this['_translati'+'ons'][_0xcab5e9]),_0x384e51&&_0x384e51['hasOwnProp'+'erty'](_0x389449)&&(_0x1ccf1a=_0x384e51[_0x389449],Array['isArray'](_0x1ccf1a)&&(_0x1ccf1a=_0x1ccf1a[-0x3fd+-0x3c*-0x35+0x1*-0x86f]),_0x1ccf1a==null&&(_0x1ccf1a=_0x389449)),_0x1ccf1a;}['getPluralT'+'ext'](_0x59c4c4,_0x1fe07e,_0x5328f0){let _0xedbb4a=_0x59c4c4,_0x1f6a3e,_0x2adbb7;_0x5328f0?(_0x1f6a3e=Oi(_0x5328f0),_0x2adbb7=Tf(_0x1f6a3e)):(_0x5328f0=this['_locale'],_0x1f6a3e=this['_lang'],_0x2adbb7=this['_pluralFn']);let _0x59ad22=this['_translati'+'ons'][_0x5328f0];if(_0x59ad22||(_0x5328f0=this['_findFallb'+'ackLocale'](_0x5328f0,_0x1f6a3e),_0x1f6a3e=Oi(_0x5328f0),_0x2adbb7=Tf(_0x1f6a3e),_0x59ad22=this['_translati'+'ons'][_0x5328f0]),_0x59ad22&&_0x59ad22[_0x59c4c4]&&_0x2adbb7){const _0xdef79a=_0x2adbb7(_0x1fe07e);_0xedbb4a=_0x59ad22[_0x59c4c4][_0xdef79a],_0xedbb4a==null&&(_0xedbb4a=_0x59c4c4);}return _0xedbb4a;}['addData'](_0x49027e){let _0x3d4aad;try{_0x3d4aad=this['_parser']['parse'](_0x49027e);}catch(_0x3773f9){console['error'](_0x3773f9);return;}for(let _0x162790=-0x1592+-0x527+0x1ab9*0x1,_0x26b39d=_0x3d4aad['length'];_0x162790<_0x26b39d;_0x162790++){const _0x147aee=_0x3d4aad[_0x162790],_0x6240ba=_0x147aee['info']['locale'],_0x2b8e73=_0x147aee['messages'];if(!this['_translati'+'ons'][_0x6240ba]){this['_translati'+'ons'][_0x6240ba]={};const _0x4482ce=Oi(_0x6240ba);this['_available'+'Langs'][_0x4482ce]||(this['_available'+'Langs'][_0x4482ce]=_0x6240ba);}Object['assign'](this['_translati'+'ons'][_0x6240ba],_0x2b8e73),this['fire']('data:add',_0x6240ba,_0x2b8e73);}}['removeData'](_0x3fe545){let _0x2e7745;try{_0x2e7745=this['_parser']['parse'](_0x3fe545);}catch(_0x57878c){console['error'](_0x57878c);return;}for(let _0x1d8c8f=-0x4d5*0x5+0xd*0x21a+-0x329,_0x520dd1=_0x2e7745['length'];_0x1d8c8f<_0x520dd1;_0x1d8c8f++){const _0x285460=_0x2e7745[_0x1d8c8f],_0x46bcc8=_0x285460['info']['locale'],_0x394486=this['_translati'+'ons'][_0x46bcc8];if(!_0x394486)continue;const _0xeeafcf=_0x285460['messages'];for(const _0x5527e5 in _0xeeafcf)delete _0x394486[_0x5527e5];Object['keys'](_0x394486)['length']===-0x1d*0x3d+0x2660+-0x1f77&&(delete this['_translati'+'ons'][_0x46bcc8],delete this['_available'+'Langs'][Oi(_0x46bcc8)]),this['fire']('data:remov'+'e',_0x46bcc8,_0xeeafcf);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x536679,_0x5348a4){let _0x498235=Mh[_0x536679];return _0x498235&&this['_translati'+'ons'][_0x498235]||(_0x498235=Mh[_0x5348a4],_0x498235&&this['_translati'+'ons'][_0x498235])||(_0x498235=this['_available'+'Langs'][_0x5348a4],_0x498235&&this['_translati'+'ons'][_0x498235])?_0x498235:Ph;}['_onAssetAd'+'d'](_0x2c99f1){_0x2c99f1['on']('load',this['_onAssetLo'+'ad'],this),_0x2c99f1['on']('change',this['_onAssetCh'+'ange'],this),_0x2c99f1['on']('remove',this['_onAssetRe'+'move'],this),_0x2c99f1['on']('unload',this['_onAssetUn'+'load'],this),_0x2c99f1['resource']&&this['_onAssetLo'+'ad'](_0x2c99f1);}['_onAssetLo'+'ad'](_0x356df8){this['addData'](_0x356df8['resource']);}['_onAssetCh'+'ange'](_0x11d619){_0x11d619['resource']&&this['addData'](_0x11d619['resource']);}['_onAssetRe'+'move'](_0x3ed33a){_0x3ed33a['off']('load',this['_onAssetLo'+'ad'],this),_0x3ed33a['off']('change',this['_onAssetCh'+'ange'],this),_0x3ed33a['off']('remove',this['_onAssetRe'+'move'],this),_0x3ed33a['off']('unload',this['_onAssetUn'+'load'],this),_0x3ed33a['resource']&&this['removeData'](_0x3ed33a['resource']),this['_app']['assets']['once']('add:'+_0x3ed33a['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x32a144){_0x32a144['resource']&&this['removeData'](_0x32a144['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x3561fc){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x3561fc;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x55bb32,_0x2693ae){_0x2693ae&&this['_scriptSch'+'emas']['set'](_0x55bb32,_0x2693ae);}['getSchema'](_0x5513d5){return this['_scriptSch'+'emas']['get'](_0x5513d5);}['add'](_0x380b4c){const _0x37f357=_0x380b4c['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x37f357)?(setTimeout(()=>{if(_0x380b4c['prototype']['swap']){const _0x10c21e=this['_scripts'][_0x37f357],_0x3636c4=this['_list']['indexOf'](_0x10c21e);this['_list'][_0x3636c4]=_0x380b4c,this['_scripts'][_0x37f357]=_0x380b4c,this['fire']('swap',_0x37f357,_0x380b4c),this['fire']('swap:'+_0x37f357,_0x380b4c);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x37f357+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x257+-0x1f0f+0x11*0x1f7)):(this['_scripts'][_0x37f357]=_0x380b4c,this['_list']['push'](_0x380b4c),this['fire']('add',_0x37f357,_0x380b4c),this['fire']('add:'+_0x37f357,_0x380b4c),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x37f357)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x3dde45=this['app']['systems']['script']['_component'+'s'];let _0x2b715f;const _0x896702=[],_0x3c3866=[];for(_0x3dde45['loopIndex']=0x153e+-0xad*-0x25+-0x2e3f;_0x3dde45['loopIndex']<_0x3dde45['length'];_0x3dde45['loopIndex']++){const _0x439725=_0x3dde45['items'][_0x3dde45['loopIndex']];if(_0x439725['_scriptsIn'+'dex'][_0x37f357]&&_0x439725['_scriptsIn'+'dex'][_0x37f357]['awaiting']){_0x439725['_scriptsDa'+'ta']&&_0x439725['_scriptsDa'+'ta'][_0x37f357]&&(_0x2b715f=_0x439725['_scriptsDa'+'ta'][_0x37f357]['attributes']);const _0x3737c9=_0x439725['create'](_0x37f357,{'preloading':!(-0x154*0xd+0x139*0x7+0x2e7*0x3),'ind':_0x439725['_scriptsIn'+'dex'][_0x37f357]['ind'],'attributes':_0x2b715f});_0x3737c9&&_0x896702['push'](_0x3737c9);for(const _0xfe0b1d of _0x439725['scripts'])_0x439725['initialize'+'Attributes'](_0xfe0b1d);}}for(let _0x47543b=-0x87c+0x464+0x8*0x83;_0x47543b<_0x896702['length'];_0x47543b++)_0x896702[_0x47543b]['enabled']&&(_0x896702[_0x47543b]['_initializ'+'ed']=!(-0x72e+0x1d79+-0x164b),_0x3c3866['push'](_0x896702[_0x47543b]),_0x896702[_0x47543b]['initialize']&&_0x896702[_0x47543b]['initialize']());for(let _0x2a93d8=-0x13f1+-0x3af*-0x4+0x535;_0x2a93d8<_0x3c3866['length'];_0x2a93d8++)!_0x3c3866[_0x2a93d8]['enabled']||_0x3c3866[_0x2a93d8]['_postIniti'+'alized']||(_0x3c3866[_0x2a93d8]['_postIniti'+'alized']=!(-0xeb9+0x1f91+-0x10d8),_0x3c3866[_0x2a93d8]['postInitia'+'lize']&&_0x3c3866[_0x2a93d8]['postInitia'+'lize']());}),!(0x4c5*0x5+-0x7b0*-0x1+-0x1f89));}['remove'](_0x1081a7){let _0x4d12b=_0x1081a7,_0x1de7f8=_0x1081a7;if(typeof _0x1de7f8!='string'?_0x1de7f8=_0x4d12b['__name']:_0x4d12b=this['get'](_0x1de7f8),this['get'](_0x1de7f8)!==_0x4d12b)return!(0x1aa+0x1580+-0x1729);delete this['_scripts'][_0x1de7f8];const _0x27e362=this['_list']['indexOf'](_0x4d12b);return this['_list']['splice'](_0x27e362,-0x1*0xde7+0x20*-0x6a+0x1b28),this['fire']('remove',_0x1de7f8,_0x4d12b),this['fire']('remove:'+_0x1de7f8,_0x4d12b),!(-0x1*-0xb85+0x1585+0x2*-0x1085);}['get'](_0x2bfc80){return this['_scripts'][_0x2bfc80]||null;}['has'](_0xc08853){if(typeof _0xc08853=='string')return this['_scripts']['hasOwnProp'+'erty'](_0xc08853);if(!_0xc08853)return!(0xa*0x8+0x1*0xac5+-0xb14);const _0x58cddb=_0xc08853['__name'];return this['_scripts'][_0x58cddb]===_0xc08853;}['list'](){return this['_list'];}}const WC=(_0x2aba4f,_0x33669e)=>_0x2aba4f['constructo'+'r']['order']-_0x33669e['constructo'+'r']['order'],$C=_0x4fa986=>_0x4fa986['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x3bdabb=>{_0x3bdabb['length']=0x7e9+-0x197e+0x7*0x283,Nv['push'](_0x3bdabb);},Hh=class Hh extends Ie{constructor(_0x4449f0,_0x2a2a46=Ms()){super(_0x4449f0),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x167b*-0x1+-0x1*0x1c53+0x5d9)),h(this,'_guid',null),h(this,'_template',!(-0x2e6+-0x1cc9*0x1+-0xc*-0x2a4)),(w['assert'](_0x2a2a46,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x2a2a46);}['addCompone'+'nt'](_0xbf91ac,_0x3293b5){const _0x587183=this['_app']['systems'][_0xbf91ac];return _0x587183?this['c'][_0xbf91ac]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xbf91ac+('\x27\x20componen'+'t')),null):_0x587183['addCompone'+'nt'](this,_0x3293b5):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xbf91ac+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x16fb26){const _0x19c3fd=this['_app']['systems'][_0x16fb26];if(!_0x19c3fd){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x16fb26+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x16fb26]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x16fb26+('\x27\x20componen'+'t'));return;}_0x19c3fd['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x1de269){const _0x1d6bdb=this['findOne'](_0x4b8559=>{var _0x1a4e04;return(_0x1a4e04=_0x4b8559['c'])==null?void(0x47d+-0x1571*0x1+0x7c*0x23):_0x1a4e04[_0x1de269];});return _0x1d6bdb&&_0x1d6bdb['c'][_0x1de269];}['findCompon'+'ents'](_0x32a166){return this['find'](_0x3199c3=>{var _0xa9217f;return(_0xa9217f=_0x3199c3['c'])==null?void(-0xd8a+-0x1ba8+0x2932):_0xa9217f[_0x32a166];})['map'](_0x34419b=>_0x34419b['c'][_0x32a166]);}['findScript'](_0x2c2351){const _0x56b6cc=this['findOne'](_0x38a98c=>{var _0x2ef8df,_0x29faf4;return(_0x29faf4=(_0x2ef8df=_0x38a98c['c'])==null?void(0xb55+-0xdc5+0xc*0x34):_0x2ef8df['script'])==null?void(0x5aa+0x672+-0xc1c):_0x29faf4['has'](_0x2c2351);});return _0x56b6cc==null?void(-0x10d*-0x16+0x40*0x11+0x1b5e*-0x1):_0x56b6cc['c']['script']['get'](_0x2c2351);}['findScript'+'s'](_0x1cea04){return this['find'](_0x33737e=>{var _0x2931be,_0x5cde08;return(_0x5cde08=(_0x2931be=_0x33737e['c'])==null?void(0xb01+-0x1860+0xd5f):_0x2931be['script'])==null?void(0x257b+0xca0+0x7f*-0x65):_0x5cde08['has'](_0x1cea04);})['map'](_0x4cc0e8=>_0x4cc0e8['c']['script']['get'](_0x1cea04));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x2fbe55){const _0x18a052=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x18a052[this['_guid']],this['_guid']=_0x2fbe55,_0x18a052[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x5f3fbf,_0x11eb55){let _0x32d8a9=!(-0x67d*0x6+-0x19d*-0x2+0x23b5);_0x5f3fbf===this&&po['length']===-0xdf0+-0xd16+0x481*0x6&&(_0x32d8a9=!(-0x131b+0x947+0x9d4)),_0x5f3fbf['_beingEnab'+'led']=!(0xe83+0x175*-0x9+0x2*-0xb3),_0x5f3fbf['_onHierarc'+'hyStateCha'+'nged'](_0x11eb55),_0x5f3fbf['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x5f3fbf);const _0x338692=_0x5f3fbf['_children'];for(let _0x87b99b=0x1160+0x20f2+-0x3252,_0x37d209=_0x338692['length'];_0x87b99b<_0x37d209;_0x87b99b++)_0x338692[_0x87b99b]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x338692[_0x87b99b],_0x11eb55);if(_0x5f3fbf['_beingEnab'+'led']=!(0x1ff5+-0x2d*0x5+-0x1f13),_0x32d8a9){for(let _0x160b14=-0x169a+0x1*0xb99+-0x9*-0x139;_0x160b14<po['length'];_0x160b14++)po[_0x160b14]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x7b0+-0x11*-0x226+0x2*-0x161b;}}['_onHierarc'+'hyStateCha'+'nged'](_0x53adf4){super['_onHierarc'+'hyStateCha'+'nged'](_0x53adf4);const _0x3ced82=this['_getSorted'+'Components']();for(let _0x415eb8=-0x1*-0x907+0x1711+0x68*-0x4f;_0x415eb8<_0x3ced82['length'];_0x415eb8++){const _0x469cef=_0x3ced82[_0x415eb8];_0x469cef['enabled']&&(_0x53adf4?_0x469cef['onEnable']():_0x469cef['onDisable']());}Ag(_0x3ced82);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x48c470=this['_getSorted'+'Components']();for(let _0x268a1a=0xd78+0xc9*0x16+-0x1ebe;_0x268a1a<_0x48c470['length'];_0x268a1a++)_0x48c470[_0x268a1a]['onPostStat'+'eChange']();Ag(_0x48c470);}['findByGuid'](_0x37868f){if(this['_guid']===_0x37868f)return this;const _0x357595=this['_app']['_entityInd'+'ex'][_0x37868f];return _0x357595&&(_0x357595===this||_0x357595['isDescenda'+'ntOf'](this))?_0x357595:null;}['destroy'](){this['_destroyin'+'g']=!(0xb*0x12f+0x20b2+-0xf3d*0x3);for(const _0x373728 in this['c'])this['c'][_0x373728]['enabled']=!(-0x583*0x5+-0xa37+0x1*0x25c7);for(const _0x4f1c2b in this['c'])this['c'][_0x4f1c2b]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x11*0x118+0x2*-0x47b+0x1b8f*0x1);}['clone'](){const _0x3154be={},_0xe885f6=this['_cloneRecu'+'rsively'](_0x3154be);return _0x3154be[this['getGuid']()]=_0xe885f6,kv(this,this,_0xe885f6,_0x3154be),_0xe885f6;}['_getSorted'+'Components'](){const _0x30ee13=this['c'],_0x5d31cf=XC();let _0x2abcda=-0x5f6+0xb*0xd3+0x1*-0x31b;for(const _0x2317bb in _0x30ee13)if(_0x30ee13['hasOwnProp'+'erty'](_0x2317bb)){const _0x579343=_0x30ee13[_0x2317bb];_0x2abcda|=_0x579343['constructo'+'r']['order']!==0x1343*0x1+0x637*-0x3+-0x9e,_0x5d31cf['push'](_0x579343);}return _0x2abcda&&_0x5d31cf['length']>-0x16cd*0x1+-0x1*-0x1cce+-0x600&&$C(_0x5d31cf),_0x5d31cf;}['_cloneRecu'+'rsively'](_0x5ee138){const _0x3c7222=new this['constructo'+'r'](void(0x279+0x2*0x1f1+-0x65b),this['_app']);super['_cloneInte'+'rnal'](_0x3c7222);for(const _0x543b91 in this['c'])this['c'][_0x543b91]['system']['cloneCompo'+'nent'](this,_0x3c7222);for(let _0x30df6b=0x1*0x1631+-0xc4*0x1f+-0x18b*-0x1;_0x30df6b<this['_children']['length'];_0x30df6b++){const _0x2dce15=this['_children'][_0x30df6b];if(_0x2dce15 instanceof Hh){const _0x3499a5=_0x2dce15['_cloneRecu'+'rsively'](_0x5ee138);_0x3c7222['addChild'](_0x3499a5),_0x5ee138[_0x2dce15['getGuid']()]=_0x3499a5;}}return _0x3c7222;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0xb79353,_0x526abe,_0x2e8331,_0x44a191){if(_0x526abe instanceof lt){const _0x50a1b0=_0x526abe['c'];for(const _0x27c7a in _0x50a1b0){const _0x323bb2=_0x50a1b0[_0x27c7a],_0x36b300=_0x323bb2['system']['getPropert'+'iesOfType']('entity');for(let _0xd8c367=-0x69f+0x299*-0xb+-0x6a*-0x55,_0x662ee2=_0x36b300['length'];_0xd8c367<_0x662ee2;_0xd8c367++){const _0x2fde69=_0x36b300[_0xd8c367]['name'],_0x3be0ec=_0x323bb2[_0x2fde69];if(!!_0xb79353['findByGuid'](_0x3be0ec)){const _0xe94d6=_0x44a191[_0x3be0ec]['getGuid']();_0xe94d6?_0x2e8331['c'][_0x27c7a][_0x2fde69]=_0xe94d6:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x50a1b0['script']&&_0x2e8331['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['script'],_0x44a191),_0x50a1b0['render']&&_0x2e8331['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['render'],_0x44a191),_0x50a1b0['button']&&_0x2e8331['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['button'],_0x44a191),_0x50a1b0['scrollview']&&_0x2e8331['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['scrollview'],_0x44a191),_0x50a1b0['scrollbar']&&_0x2e8331['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['scrollbar'],_0x44a191),_0x50a1b0['anim']&&_0x2e8331['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50a1b0['anim'],_0x44a191);const _0x97676f=_0x526abe['children']['filter'](_0xe4ecff=>_0xe4ecff instanceof lt),_0x1340f8=_0x2e8331['children']['filter'](_0x1b8f94=>_0x1b8f94 instanceof lt);for(let _0x48679e=-0x1dae+0x3c9+0x19e5,_0x8bea89=_0x97676f['length'];_0x48679e<_0x8bea89;_0x48679e++)kv(_0xb79353,_0x97676f[_0x48679e],_0x1340f8[_0x48679e],_0x44a191);}}class Cg{constructor(_0x1db0e3,_0x286aba){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0xa9c*-0x2+-0x20*-0x11b+-0x3897)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x1db0e3,this['url']=_0x286aba);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x44b6df){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x44b6df;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0xc5bb8a,_0x40fffa){if(this['_index']['hasOwnProp'+'erty'](_0xc5bb8a))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0xc5bb8a),!(-0x11ca+0x167c+-0x4b1);const _0xddf678=new Cg(_0xc5bb8a,_0x40fffa),_0x156217=this['_list']['push'](_0xddf678);return this['_index'][_0xddf678['name']]=_0x156217-(0x182c+0x5*0x172+-0x1f65),this['_urlIndex'][_0xddf678['url']]=_0x156217-(-0x1*-0x20bd+0x2419+-0x107*0x43),!(-0xe20+0xd2*-0x3+0x1*0x1096);}['find'](_0x4a0f54){return this['_index']['hasOwnProp'+'erty'](_0x4a0f54)?this['_list'][this['_index'][_0x4a0f54]]:null;}['findByUrl'](_0x2218b6){return this['_urlIndex']['hasOwnProp'+'erty'](_0x2218b6)?this['_list'][this['_urlIndex'][_0x2218b6]]:null;}['remove'](_0x28bd94){if(this['_index']['hasOwnProp'+'erty'](_0x28bd94)){const _0x4ff340=this['_index'][_0x28bd94];let _0x3ba228=this['_list'][_0x4ff340];delete this['_urlIndex'][_0x3ba228['url']],delete this['_index'][_0x28bd94],this['_list']['splice'](_0x4ff340,-0xfde+0x2*0x552+-0x67*-0xd);for(let _0x2bb9e5=0x3*0xef+0x676*0x2+-0x1*0xfb9;_0x2bb9e5<this['_list']['length'];_0x2bb9e5++)_0x3ba228=this['_list'][_0x2bb9e5],this['_index'][_0x3ba228['name']]=_0x2bb9e5,this['_urlIndex'][_0x3ba228['url']]=_0x2bb9e5;}}['_loadScene'+'Data'](_0x4ccce7,_0x2c61d7,_0xaf6c68){const _0x5064d3=this['_app'];let _0x2de52f=_0x4ccce7;if(typeof _0x4ccce7=='string'&&(_0x4ccce7=this['findByUrl'](_0x2de52f)||this['find'](_0x2de52f)||new Cg('Untitled',_0x2de52f)),_0x2de52f=_0x4ccce7['url'],!_0x2de52f){_0xaf6c68('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x4ccce7['loaded']){_0xaf6c68(null,_0x4ccce7);return;}_0x5064d3['assets']&&_0x5064d3['assets']['prefix']&&!jn['test'](_0x2de52f)&&(_0x2de52f=xe['join'](_0x5064d3['assets']['prefix'],_0x2de52f)),_0x4ccce7['_onLoadedC'+'allbacks']['push'](_0xaf6c68),_0x4ccce7['_loading']||_0x5064d3['loader']['getHandler']('hierarchy')['load'](_0x2de52f,(_0x396e35,_0x782b85)=>{_0x4ccce7['data']=_0x782b85,_0x4ccce7['_loading']=!(-0x3*0xcf1+0x1686+0x104e*0x1);for(let _0x2a1474=-0x2108+0x21ab+0xa3*-0x1;_0x2a1474<_0x4ccce7['_onLoadedC'+'allbacks']['length'];_0x2a1474++)_0x4ccce7['_onLoadedC'+'allbacks'][_0x2a1474](_0x396e35,_0x4ccce7);_0x2c61d7||(_0x4ccce7['data']=null),_0x4ccce7['_onLoadedC'+'allbacks']['length']=0x469*-0x2+-0x1146+0x1a18;}),_0x4ccce7['_loading']=!(0x1a7f+0x22f3*0x1+-0x79*0x82);}['loadSceneD'+'ata'](_0x15fbf0,_0x305117){this['_loadScene'+'Data'](_0x15fbf0,!(0x2538+0xd94+-0x1*0x32cc),_0x305117);}['unloadScen'+'eData'](_0x8dc678){typeof _0x8dc678=='string'&&(_0x8dc678=this['findByUrl'](_0x8dc678)),_0x8dc678&&(_0x8dc678['data']=null);}['_loadScene'+'Hierarchy'](_0x423186,_0x58106e,_0x2ca673){this['_loadScene'+'Data'](_0x423186,!(0x2084+0xf9*-0xd+-0x13de),(_0x3b3ab4,_0x262713)=>{if(_0x3b3ab4){_0x2ca673&&_0x2ca673(_0x3b3ab4);return;}_0x58106e&&_0x58106e(_0x262713);const _0x3d9468=this['_app'],_0x576cf3=()=>{const _0xd0ddb5=_0x3d9468['loader']['getHandler']('hierarchy');_0x3d9468['systems']['script']['preloading']=!(0x2*-0x595+-0x22f5+-0x1*-0x2e1f);const _0x56eb4f=_0xd0ddb5['open'](_0x262713['url'],_0x262713['data']);_0x3d9468['systems']['script']['preloading']=!(0x1*-0xd04+-0x1e54+-0xe73*-0x3),_0x3d9468['loader']['clearCache'](_0x262713['url'],'hierarchy'),_0x3d9468['root']['addChild'](_0x56eb4f),_0x3d9468['systems']['fire']('initialize',_0x56eb4f),_0x3d9468['systems']['fire']('postInitia'+'lize',_0x56eb4f),_0x3d9468['systems']['fire']('postPostIn'+'itialize',_0x56eb4f),_0x2ca673&&_0x2ca673(null,_0x56eb4f);};_0x3d9468['_preloadSc'+'ripts'](_0x262713['data'],_0x576cf3);});}['loadSceneH'+'ierarchy'](_0x5af79c,_0x3d34f6){this['_loadScene'+'Hierarchy'](_0x5af79c,null,_0x3d34f6);}['loadSceneS'+'ettings'](_0x32b969,_0x44b92a){this['_loadScene'+'Data'](_0x32b969,!(0x1d42+0x56d*-0x1+-0x17d4),(_0x588b73,_0x332d2b)=>{_0x588b73?_0x44b92a&&_0x44b92a(_0x588b73):(this['_app']['applyScene'+'Settings'](_0x332d2b['data']['settings']),_0x44b92a&&_0x44b92a(null));});}['changeScen'+'e'](_0xa95c7,_0x614a86){const _0x5ee414=this['_app'],_0x5c47d0=_0x34100b=>{const {children:_0x3e0f81}=_0x5ee414['root'];for(;_0x3e0f81['length'];)_0x3e0f81[-0x1*0x232a+0x230a+-0x20*-0x1]['destroy']();_0x5ee414['applyScene'+'Settings'](_0x34100b['data']['settings']);};this['_loadScene'+'Hierarchy'](_0xa95c7,_0x5c47d0,_0x614a86);}['loadScene'](_0x1adea4,_0x340765){const _0x47929e=this['_app'],_0x2b75c6=_0x47929e['loader']['getHandler']('scene');_0x47929e['assets']&&_0x47929e['assets']['prefix']&&!jn['test'](_0x1adea4)&&(_0x1adea4=xe['join'](_0x47929e['assets']['prefix'],_0x1adea4)),_0x2b75c6['load'](_0x1adea4,(_0x2dd8f0,_0x13b179)=>{if(_0x2dd8f0)_0x340765&&_0x340765(_0x2dd8f0);else{const _0x269073=()=>{_0x47929e['systems']['script']['preloading']=!(0xcf1+-0x2115+0x1424);const _0x5c6ada=_0x2b75c6['open'](_0x1adea4,_0x13b179),_0x549a05=this['findByUrl'](_0x1adea4);_0x549a05&&!_0x549a05['loaded']&&(_0x549a05['data']=_0x13b179),_0x47929e['systems']['script']['preloading']=!(-0x162+0x4d1+0x1*-0x36e),_0x47929e['loader']['clearCache'](_0x1adea4,'scene'),_0x47929e['loader']['patch']({'resource':_0x5c6ada,'type':'scene'},_0x47929e['assets']),_0x47929e['root']['addChild'](_0x5c6ada['root']),_0x47929e['systems']['rigidbody']&&typeof Ammo<'u'&&_0x47929e['systems']['rigidbody']['gravity']['set'](_0x5c6ada['_gravity']['x'],_0x5c6ada['_gravity']['y'],_0x5c6ada['_gravity']['z']),_0x340765&&_0x340765(null,_0x5c6ada);};_0x47929e['_preloadSc'+'ripts'](_0x13b179,_0x269073);}});}}class jC{constructor(_0x4f140a){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x4f140a['_shaderSta'+'ts'],this['vram']=_0x4f140a['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x1f78cf;return(_0x1f78cf=Ms()['lightmappe'+'r'])==null?void(-0x36*0x6f+-0x1ec+-0x8a*-0x2f):_0x1f78cf['stats'];}get['batcher'](){const _0x4c6c09=Ms()['_batcher'];return _0x4c6c09?_0x4c6c09['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x5365af){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x14a1+0x1793+0x1*-0x2c33)),h(this,'_inFrameUp'+'date',!(-0x1*0x26ec+0x1f0+0x24fd)),h(this,'_libraries'+'Loaded',!(0x59*0x22+-0x1296+0x6c5*0x1)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(0x3e*0xb+-0x3e5*-0x8+0x1*-0x21d2)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x12a0+-0x15be+-0x27*-0x109)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x1*0x511+-0x3*0x3fb+0x6e0),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1b77+0x18eb*0x1+0x1*0x28d),h(this,'maxDeltaTi'+'me',-0x1f1f*-0x1+0x675+0x3c2*-0xa+0.1),h(this,'frame',0x619*-0x6+0x236c+0x2*0x95),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x1*0x74+0x139*0x5+-0x29*0x29)),h(this,'renderNext'+'Frame',!(0x537+-0x2639+0x2103)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x1b56*0x1+-0x3*0x902+0x28*-0x2):hn['indexOf']('$'))<-0x489*0x5+0x433*-0x1+-0xa*-0x2b0&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x5365af['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0xcdb+0x21ac+-0x2e87));}['init'](_0x4571ad){const {assetPrefix:_0x540ff0,batchManager:_0x4ea5f7,componentSystems:_0x5dcd57,elementInput:_0x3ac3de,gamepads:_0x2a0f15,graphicsDevice:_0x327069,keyboard:_0xab12f,lightmapper:_0x49e9a4,mouse:_0x13b276,resourceHandlers:_0x58bd28,scriptsOrder:_0x3f9419,scriptPrefix:_0x42f413,soundManager:_0x5f5c82,touch:_0x4def39,xr:_0x3d9fed}=_0x4571ad;w['assert'](_0x327069,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x327069,Pe['get'](_0x327069,Fe)['add'](Z2),Pe['get'](_0x327069,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x327069),this['_soundMana'+'ger']=_0x5f5c82,this['scene']=new Et(_0x327069),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x540ff0&&(this['assets']['prefix']=_0x540ff0),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x3f9419||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x112e+0x12af*0x1+-0x180),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x52aaa9=new du('default');_0x52aaa9['pushOpaque'](this['defaultLay'+'erWorld']),_0x52aaa9['pushOpaque'](this['defaultLay'+'erDepth']),_0x52aaa9['pushOpaque'](this['defaultLay'+'erSkybox']),_0x52aaa9['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x52aaa9['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x52aaa9['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x52aaa9['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x52aaa9,ia['createPlac'+'eholder'](_0x327069),this['renderer']=new fl(_0x327069),this['renderer']['scene']=this['scene'],_0x49e9a4&&(this['lightmappe'+'r']=new _0x49e9a4(_0x327069,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x4ea5f7&&(this['_batcher']=new _0x4ea5f7(_0x327069,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0xab12f||null,this['mouse']=_0x13b276||null,this['touch']=_0x4def39||null,this['gamepads']=_0x2a0f15||null,_0x3ac3de&&(this['elementInp'+'ut']=_0x3ac3de,this['elementInp'+'ut']['app']=this),this['xr']=_0x3d9fed?new _0x3d9fed(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x42f413||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x58bd28['forEach'](_0x3dd1b0=>{const _0x2040e7=new _0x3dd1b0(this);this['loader']['addHandler'](_0x2040e7['handlerTyp'+'e'],_0x2040e7);}),_0x5dcd57['forEach'](_0x334f82=>{this['systems']['add'](new _0x334f82(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x12b*-0x13+0x1*0x2237+-0xc06)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1d15+0x38a+0x3c*0x6d))):document['mozHidden']!==void(-0x4*0x220+-0x1a76+0x22f6)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x26e5+0x232b+0x1*0x3bb))):document['msHidden']!==void(0x1f9+0xb*-0x18d+0xf16)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xce2*-0x2+-0x1*0x1b84+0x3549))):document['webkitHidd'+'en']!==void(0x1954+0x1*-0x50e+-0x1*0x1446)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x76*-0x53+0x1de9+-0x442a)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x2e1e17){return _0x2e1e17?ea['_applicati'+'ons'][_0x2e1e17]:Ms();}['_initDefau'+'ltMaterial'](){const _0x32c8e8=new Ut();_0x32c8e8['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x32c8e8);}['_initProgr'+'amLibrary'](){const _0x1aa131=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x1aa131);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x62e332,_0x9fb05){ot['get'](_0x62e332,(_0x2a45ea,_0x28748e)=>{if(_0x2a45ea){_0x9fb05(_0x2a45ea);return;}const _0xe4d7ea=_0x28748e['applicatio'+'n_properti'+'es'],_0x43b57e=_0x28748e['scenes'],_0x2f8caa=_0x28748e['assets'];this['_parseAppl'+'icationPro'+'perties'](_0xe4d7ea,_0x1c9596=>{this['_parseScen'+'es'](_0x43b57e),this['_parseAsse'+'ts'](_0x2f8caa),_0x9fb05(_0x1c9596||null);});});}['preload'](_0x359342){this['fire']('preload:st'+'art');const _0x486a8e=this['assets']['list']({'preload':!(-0x1540+-0x29*0x7e+0x2*0x14b7)});if(_0x486a8e['length']===0xbd*0x7+0xb*-0x1a1+0xcc0){this['fire']('preload:en'+'d'),_0x359342();return;}let _0x2eed63=0xe77+-0xbac+-0x2cb;const _0x405f7c=()=>{_0x2eed63++,this['fire']('preload:pr'+'ogress',_0x2eed63/_0x486a8e['length']),_0x2eed63===_0x486a8e['length']&&(this['fire']('preload:en'+'d'),_0x359342());};_0x486a8e['forEach'](_0x277eb5=>{_0x277eb5['loaded']?_0x405f7c():(_0x277eb5['once']('load',_0x405f7c),_0x277eb5['once']('error',_0x405f7c),this['assets']['load'](_0x277eb5));});}['_preloadSc'+'ripts'](_0x184fe1,_0x37481e){_0x37481e();}['_parseAppl'+'icationPro'+'perties'](_0x3a112e,_0x441a96){if(typeof _0x3a112e['maxAssetRe'+'tries']=='number'&&_0x3a112e['maxAssetRe'+'tries']>0x23*0x25+-0xa9*0x1d+0xe16&&this['loader']['enableRetr'+'y'](_0x3a112e['maxAssetRe'+'tries']),_0x3a112e['useDeviceP'+'ixelRatio']||(_0x3a112e['useDeviceP'+'ixelRatio']=_0x3a112e['use_device'+'_pixel_rat'+'io']),_0x3a112e['resolution'+'Mode']||(_0x3a112e['resolution'+'Mode']=_0x3a112e['resolution'+'_mode']),_0x3a112e['fillMode']||(_0x3a112e['fillMode']=_0x3a112e['fill_mode']),this['_width']=_0x3a112e['width'],this['_height']=_0x3a112e['height'],_0x3a112e['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x3a112e['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x3a112e['fillMode'],this['_width'],this['_height']),_0x3a112e['layers']&&_0x3a112e['layerOrder']){const _0x52668a=new du('applicatio'+'n'),_0xe8a0d4={};for(const _0xca158b in _0x3a112e['layers']){const _0x3be2ff=_0x3a112e['layers'][_0xca158b];_0x3be2ff['id']=parseInt(_0xca158b,0x43a+-0x3*0x6be+0x100a),_0x3be2ff['enabled']=_0x3be2ff['id']!==ps,_0xe8a0d4[_0xca158b]=new Ot(_0x3be2ff);}for(let _0x412bd0=-0x1fe1+-0x5a1*-0x1+-0x46*-0x60,_0x3cd8ae=_0x3a112e['layerOrder']['length'];_0x412bd0<_0x3cd8ae;_0x412bd0++){const _0x3ff6be=_0x3a112e['layerOrder'][_0x412bd0],_0x2ebab2=_0xe8a0d4[_0x3ff6be['layer']];_0x2ebab2&&(_0x3ff6be['transparen'+'t']?_0x52668a['pushTransp'+'arent'](_0x2ebab2):_0x52668a['pushOpaque'](_0x2ebab2),_0x52668a['subLayerEn'+'abled'][_0x412bd0]=_0x3ff6be['enabled']);}this['scene']['layers']=_0x52668a;}if(_0x3a112e['batchGroup'+'s']){const _0x283067=this['batcher'];if(_0x283067)for(let _0x3d9186=0xe4e+-0x1e0f+-0x6d*-0x25,_0x50d190=_0x3a112e['batchGroup'+'s']['length'];_0x3d9186<_0x50d190;_0x3d9186++){const _0x5c7abe=_0x3a112e['batchGroup'+'s'][_0x3d9186];_0x283067['addGroup'](_0x5c7abe['name'],_0x5c7abe['dynamic'],_0x5c7abe['maxAabbSiz'+'e'],_0x5c7abe['id'],_0x5c7abe['layers']);}}_0x3a112e['i18nAssets']&&(this['i18n']['assets']=_0x3a112e['i18nAssets']),this['_loadLibra'+'ries'](_0x3a112e['libraries'],_0x441a96);}['_loadLibra'+'ries'](_0x540c5b,_0x57b02c){const _0x38e83a=_0x540c5b['length'];let _0x40288c=_0x38e83a;const _0x40e85a=/^https?:\/\//;if(_0x38e83a){const _0x137bbe=(_0x4c910f,_0xbbbdbf)=>{_0x40288c--,_0x4c910f?_0x57b02c(_0x4c910f):_0x40288c===0x81b+-0xe8a*-0x2+-0x252f*0x1&&(this['onLibrarie'+'sLoaded'](),_0x57b02c(null));};for(let _0xd53525=-0x234f+0x139*0xb+-0x577*-0x4;_0xd53525<_0x38e83a;++_0xd53525){let _0x3564b0=_0x540c5b[_0xd53525];!_0x40e85a['test'](_0x3564b0['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x3564b0=xe['join'](this['_scriptPre'+'fix'],_0x3564b0)),this['loader']['load'](_0x3564b0,'script',_0x137bbe);}}else this['onLibrarie'+'sLoaded'](),_0x57b02c(null);}['_parseScen'+'es'](_0x33be4e){if(_0x33be4e){for(let _0x4ce342=0x1951+-0x13e*0x1c+-0x977*-0x1;_0x4ce342<_0x33be4e['length'];_0x4ce342++)this['scenes']['add'](_0x33be4e[_0x4ce342]['name'],_0x33be4e[_0x4ce342]['url']);}}['_parseAsse'+'ts'](_0x1fa435){const _0xeb93fe=[],_0x1a5a54={},_0x17c690={};for(let _0x31de8d=-0x1a90+-0x7*-0xb3+-0x15ab*-0x1;_0x31de8d<this['scriptsOrd'+'er']['length'];_0x31de8d++){const _0x24c126=this['scriptsOrd'+'er'][_0x31de8d];_0x1fa435[_0x24c126]&&(_0x1a5a54[_0x24c126]=!(-0xe20+-0x5*-0x4f3+0x1*-0xa9f),_0xeb93fe['push'](_0x1fa435[_0x24c126]));}if(this['enableBund'+'les']){for(const _0x5ef13e in _0x1fa435)_0x1fa435[_0x5ef13e]['type']==='bundle'&&(_0x17c690[_0x5ef13e]=!(-0x2423+0x2602*0x1+0x1df*-0x1),_0xeb93fe['push'](_0x1fa435[_0x5ef13e]));}for(const _0x4f0224 in _0x1fa435)_0x1a5a54[_0x4f0224]||_0x17c690[_0x4f0224]||_0xeb93fe['push'](_0x1fa435[_0x4f0224]);for(let _0x1efc99=-0xe2c+0x2521+0x9*-0x28d;_0x1efc99<_0xeb93fe['length'];_0x1efc99++){const _0x4e5a8b=_0xeb93fe[_0x1efc99],_0x16b5ec=new pe(_0x4e5a8b['name'],_0x4e5a8b['type'],_0x4e5a8b['file'],_0x4e5a8b['data']);if(_0x16b5ec['id']=parseInt(_0x4e5a8b['id'],-0x11*-0x1d3+0x1e5f+-0x3d58),_0x16b5ec['preload']=_0x4e5a8b['preload']?_0x4e5a8b['preload']:!(-0x1154+-0xf*-0xae+-0x1d*-0x3f),_0x16b5ec['loaded']=_0x4e5a8b['type']==='script'&&_0x4e5a8b['data']&&_0x4e5a8b['data']['loadingTyp'+'e']>-0x95*-0x2+0x20b3+-0x21dd,_0x16b5ec['tags']['add'](_0x4e5a8b['tags']),_0x4e5a8b['i18n']){for(const _0x313139 in _0x4e5a8b['i18n'])_0x16b5ec['addLocaliz'+'edAssetId'](_0x313139,_0x4e5a8b['i18n'][_0x313139]);}this['assets']['add'](_0x16b5ec);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x20be+-0x73*0x11+-0x191b);}),this['frame']=-0x2*0xc8e+0xca3+0xc79,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x106fa1){this['controller']&&this['controller']['update'](_0x106fa1),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x4c978b){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x4c978b),this['systems']['fire']('animationU'+'pdate',_0x4c978b),this['systems']['fire']('postUpdate',_0x4c978b),this['fire']('update',_0x4c978b),this['inputUpdat'+'e'](_0x4c978b),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0xeae*-0x1+0xbfa+-0x1*-0x2b4,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x20e578){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x20e578),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x20e578),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x3287df,_0x627c54,_0x3f9bac){const _0x4186ce=this['stats']['frame'];_0x4186ce['dt']=_0x627c54,_0x4186ce['ms']=_0x3f9bac,_0x3287df>_0x4186ce['_timeToCou'+'ntFrames']?(_0x4186ce['fps']=_0x4186ce['_fpsAccum'],_0x4186ce['_fpsAccum']=-0x1*-0x15f5+0x1d1f+0x1d3*-0x1c,_0x4186ce['_timeToCou'+'ntFrames']=_0x3287df+(0x1482+-0xede*-0x1+-0x1f78)):_0x4186ce['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x1*0x619+-0x2683+0x206a;}['_fillFrame'+'Stats'](){let _0x270ae4=this['stats']['frame'];_0x270ae4['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x270ae4['materials']=this['renderer']['_materialS'+'witches'],_0x270ae4['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x270ae4['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x270ae4['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x270ae4['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x270ae4['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x4a5ea5=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x270ae4['triangles']=_0x4a5ea5[js]/(0xc03+0x16ef+0x3*-0xba5)+Math['max'](_0x4a5ea5[Er]-(-0xda*-0x8+-0x18*0x17e+0x1d02),0x4*-0x3b0+-0x1b1e+0x29de)+Math['max'](_0x4a5ea5[oa]-(0x66f+0x2*0x68c+-0x1385),-0x542*0x1+-0x7*-0x281+0x9*-0x15d),_0x270ae4['cullTime']=this['renderer']['_cullTime'],_0x270ae4['sortTime']=this['renderer']['_sortTime'],_0x270ae4['skinTime']=this['renderer']['_skinTime'],_0x270ae4['morphTime']=this['renderer']['_morphTime'],_0x270ae4['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x270ae4['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x270ae4['otherPrimi'+'tives']=0x14f4+0x1032+0xf*-0x27a;for(let _0x6e086f=-0xe*-0x213+0x25a8+-0x42b2;_0x6e086f<_0x4a5ea5['length'];_0x6e086f++)_0x6e086f<js&&(_0x270ae4['otherPrimi'+'tives']+=_0x4a5ea5[_0x6e086f]),_0x4a5ea5[_0x6e086f]=-0x9f5+0x17b6+-0x1*0xdc1;this['renderer']['_camerasRe'+'ndered']=0x29e*0x5+0x120a+-0x1f20,this['renderer']['_materialS'+'witches']=0x1*-0x2f8+0x261d+-0x2325,this['renderer']['_shadowMap'+'Updates']=-0x1183+-0x8ef*-0x1+0x894,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x212e+0x254e+-0x420,this['renderer']['_cullTime']=0x197*-0x5+-0xa6*0x11+-0x3*-0x653,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x1c6e*-0x1+0x5*0x583+-0x37fd,this['renderer']['_lightClus'+'tersTime']=0x2515+0x2*0x7e6+-0x1*0x34e1,this['renderer']['_sortTime']=-0x8*-0x42d+-0x3fa*0x4+-0x7*0x280,this['renderer']['_skinTime']=-0x3*0x93+-0x15f7+0x17b0,this['renderer']['_morphTime']=-0xb6c+-0x1*0xbf7+-0x1*-0x1763,this['renderer']['_shadowMap'+'Time']=0x2*-0x103d+-0x12ed+0x3367,this['renderer']['_depthMapT'+'ime']=-0x20d8+0x4ba+-0x1c1e*-0x1,this['renderer']['_forwardTi'+'me']=-0xca7*-0x1+-0x768*0x2+0x229,_0x270ae4=this['stats']['drawCalls'],_0x270ae4['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x270ae4['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x270ae4['depth']=0x16ae+0x9b6+-0x2064,_0x270ae4['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x270ae4['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x270ae4['immediate']=-0xd33+-0x2c*-0x44+0x183,_0x270ae4['instanced']=0x20f9+-0x246e+0xf*0x3b,_0x270ae4['removedByI'+'nstancing']=-0x14d5+0x1c9f+0x2*-0x3e5,_0x270ae4['misc']=_0x270ae4['total']-(_0x270ae4['forward']+_0x270ae4['shadow']),this['renderer']['_depthDraw'+'Calls']=0x2*0x1281+-0xa79+-0x1a89,this['renderer']['_shadowDra'+'wCalls']=-0x7b0+-0x814+0x3f1*0x4,this['renderer']['_forwardDr'+'awCalls']=0x18cc+-0x1f*0x10c+0x1c*0x46,this['renderer']['_numDrawCa'+'llsCulled']=-0x1*-0x1d98+-0x1*0x23cf+-0x637*-0x1,this['renderer']['_skinDrawC'+'alls']=0x197d+-0xa5+-0x1e*0xd4,this['renderer']['_immediate'+'Rendered']=-0x1409*0x1+0x154*0xa+-0xf7*-0x7,this['renderer']['_instanced'+'DrawCalls']=0xb0c+0x1359*-0x2+0x1ba6,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x270ae4=this['stats']['particles'],_0x270ae4['updatesPer'+'Frame']=_0x270ae4['_updatesPe'+'rFrame'],_0x270ae4['frameTime']=_0x270ae4['_frameTime'],_0x270ae4['_updatesPe'+'rFrame']=-0x1*0xa1f+-0x2*0x85d+0x1ad9,_0x270ae4['_frameTime']=0xb*0xf1+0x7c+-0x4b*0x25;}['setCanvasF'+'illMode'](_0x5ae582,_0x3fddee,_0x3f48e){this['_fillMode']=_0x5ae582,this['resizeCanv'+'as'](_0x3fddee,_0x3f48e);}['setCanvasR'+'esolution'](_0xfc9e35,_0x5309ec,_0x170696){this['_resolutio'+'nMode']=_0xfc9e35,_0xfc9e35===wg&&_0x5309ec===void(0x1bb5+0x15f5+0x108e*-0x3)&&(_0x5309ec=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x170696=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x5309ec,_0x170696);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x26443d,_0x32ff5c){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0xbd8392=window['innerWidth'],_0x28b462=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x120e6e=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x4fa2f0=_0xbd8392/_0x28b462;_0x120e6e>_0x4fa2f0?(_0x26443d=_0xbd8392,_0x32ff5c=_0x26443d/_0x120e6e):(_0x32ff5c=_0x28b462,_0x26443d=_0x32ff5c*_0x120e6e);}else this['_fillMode']===PC&&(_0x26443d=_0xbd8392,_0x32ff5c=_0x28b462);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x26443d+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x32ff5c+'px',this['updateCanv'+'asSize'](),{'width':_0x26443d,'height':_0x32ff5c};}['updateCanv'+'asSize'](){var _0x4d625d;if(!(!this['_allowResi'+'ze']||(_0x4d625d=this['xr'])!=null&&_0x4d625d['active'])&&this['_resolutio'+'nMode']===wg){const _0x41a3c8=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x41a3c8['clientWidt'+'h'],_0x41a3c8['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x1074+0xeb6+-0x1f2a),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x2e0686){let _0x316c8a;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x1a24b8,_0x155a1b,_0x2ff967]=_0x2e0686['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x1a24b8,_0x155a1b,_0x2ff967);}this['scene']['applySetti'+'ngs'](_0x2e0686),_0x2e0686['render']['hasOwnProp'+'erty']('skybox')&&(_0x2e0686['render']['skybox']?(_0x316c8a=this['assets']['get'](_0x2e0686['render']['skybox']),_0x316c8a?this['setSkybox'](_0x316c8a):this['assets']['once']('add:'+_0x2e0686['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x977629,_0x167a52){_0x977629&&_0x167a52?ia['set'](this['graphicsDe'+'vice'],_0x977629,_0x167a52):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x2656ad){if(_0x2656ad!==this['_skyboxAss'+'et']){const _0x1421e9=()=>{this['setSkybox'](null);},_0x443758=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x443758,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x1421e9,this),this['_skyboxAss'+'et']['off']('change',_0x443758,this)),this['_skyboxAss'+'et']=_0x2656ad,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x443758,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x1421e9,this),this['_skyboxAss'+'et']['on']('change',_0x443758,this),this['scene']['skyboxMip']===0x257+-0x4f*-0x1f+0x4*-0x2fa&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x2283+0x1a5*0x14+0x19f)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x443758();}}['_firstBake'](){var _0x5ca14f;(_0x5ca14f=this['lightmappe'+'r'])==null||_0x5ca14f['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x4aaee2;(_0x4aaee2=this['batcher'])==null||_0x4aaee2['generate']();}['_processTi'+'mestamp'](_0x3a0cef){return _0x3a0cef;}['drawLine'](_0x2dc8c2,_0x20b989,_0x2ddd52,_0x12f843,_0x2534d2){this['scene']['drawLine'](_0x2dc8c2,_0x20b989,_0x2ddd52,_0x12f843,_0x2534d2);}['drawLines'](_0x4985ca,_0x4fb5f1,_0x579c3d=!(0x1428+0x2*0x54a+0x1c*-0x119),_0x509b3f=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x4985ca,_0x4fb5f1,_0x579c3d,_0x509b3f);}['drawLineAr'+'rays'](_0x6286f5,_0x420a3a,_0x7284d4=!(0x8*0x34b+0x5b*0x1f+0x779*-0x5),_0x280f55=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x6286f5,_0x420a3a,_0x7284d4,_0x280f55);}['drawWireSp'+'here'](_0x33d35b,_0x4a4e10,_0x5e357e=ie['WHITE'],_0x28a087=-0x20e1+-0x9*-0x15a+0x14cb,_0x23004b=!(-0x8c9*-0x2+-0x1*0x1909+0x777),_0x5e6e65=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x33d35b,_0x4a4e10,_0x5e357e,_0x28a087,_0x23004b,_0x5e6e65);}['drawWireAl'+'ignedBox'](_0x456443,_0x1b43b3,_0xb37319=ie['WHITE'],_0x33fab2=!(-0xa6d+-0x1*0x32f+0xd9c),_0x450029=this['scene']['defaultDra'+'wLayer'],_0x211356){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x456443,_0x1b43b3,_0xb37319,_0x33fab2,_0x450029,_0x211356);}['drawMeshIn'+'stance'](_0x57fa13,_0x3e40a6=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x57fa13,_0x3e40a6);}['drawMesh'](_0x556045,_0x147ab2,_0x432888,_0x37fc1f=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x147ab2,_0x432888,_0x556045,null,_0x37fc1f);}['drawQuad'](_0x35dcef,_0x12575a,_0x1b664c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x12575a,_0x35dcef,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x1b664c);}['drawTextur'+'e'](_0x14c11f,_0x36c37f,_0x46add4,_0x3dcfca,_0x53e319,_0x3ef6f7,_0x1a87b6=this['scene']['defaultDra'+'wLayer'],_0x463252=!(-0x14fa+-0x96c*-0x3+0x74a*-0x1)){if(_0x463252===!(-0x2674+-0x1a71*-0x1+0xc04)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1de8f9=new te();_0x1de8f9['setTRS'](new D(_0x14c11f,_0x36c37f,-0x2*0xdb6+-0x104f+0x2bbb),le['IDENTITY'],new D(_0x46add4,-_0x3dcfca,0x1fb4*0x1+0x2215+-0x41c9*0x1)),_0x3ef6f7||(_0x3ef6f7=new Xn(),_0x3ef6f7['cull']=bt,_0x3ef6f7['setParamet'+'er']('colorMap',_0x53e319),_0x3ef6f7['shaderDesc']=_0x463252?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x53e319['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x3ef6f7['update']()),this['drawQuad'](_0x1de8f9,_0x3ef6f7,_0x1a87b6);}['drawDepthT'+'exture'](_0x22780b,_0x57130b,_0x2138e6,_0x1b00bb,_0x265103=this['scene']['defaultDra'+'wLayer']){const _0xd14303=new Xn();_0xd14303['cull']=bt,_0xd14303['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0xd14303['update'](),this['drawTextur'+'e'](_0x22780b,_0x57130b,_0x2138e6,_0x1b00bb,null,_0xd14303,_0x265103);}['destroy'](){var _0x5bee0b,_0x39940a,_0x49f137,_0x4eb0cf;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x4ee+0x1ea7+-0x19b9);return;}const _0x18c5fd=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x6f*-0x56+0x1*0x244d+-0x1*0x4996)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x22d*-0xa+0x171*0x4+-0x1b85)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x9d*0x7+-0x19bd+0x13*0x121)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x5bd+-0x990+0x1*0xf4e))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x4bcd74=this['assets']['list']();for(let _0x49756c=-0x1*-0x1e81+-0x1c54+-0x22d;_0x49756c<_0x4bcd74['length'];_0x49756c++)_0x4bcd74[_0x49756c]['unload'](),_0x4bcd74[_0x49756c]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x1eb857=this['loader']['getHandler']('script');_0x1eb857==null||_0x1eb857['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x5bee0b=this['lightmappe'+'r'])==null||_0x5bee0b['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x39940a=this['xr'])==null||_0x39940a['end'](),(_0x49f137=this['xr'])==null||_0x49f137['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x4eb0cf=this['_soundMana'+'ger'])==null||_0x4eb0cf['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x18c5fd]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x39978a){_0x39978a['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x39978a['frameReque'+'stId']),_0x39978a['frameReque'+'stId']=void(-0x4da+0xf83+-0x1*0xaa9));}['getEntityF'+'romIndex'](_0x1975b2){return this['_entityInd'+'ex'][_0x1975b2];}['_registerS'+'ceneImmedi'+'ate'](_0x3946e3){this['on']('postrender',_0x3946e3['immediate']['onPostRend'+'er'],_0x3946e3['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x257722){const _0xda2fee=_0x257722;return function(_0x50308b,_0x1258bb){var _0x4a4570,_0x58d202,_0x52ac8e,_0x53e5f8;if(!_0xda2fee['graphicsDe'+'vice'])return;_0xda2fee['frameReque'+'stId']&&((_0x58d202=(_0x4a4570=_0xda2fee['xr'])==null?void(-0x8*-0x3d1+0x1236*-0x2+0x5e4):_0x4a4570['session'])==null||_0x58d202['cancelAnim'+'ationFrame'](_0xda2fee['frameReque'+'stId']),cancelAnimationFrame(_0xda2fee['frameReque'+'stId']),_0xda2fee['frameReque'+'stId']=null),_0xda2fee['_inFrameUp'+'date']=!(0x2*-0xa62+-0x16*-0x3b+0xfb2),_u(_0xda2fee);const _0x296c5b=_0xda2fee['_processTi'+'mestamp'](_0x50308b)||de(),_0x367cc9=_0x296c5b-(_0xda2fee['_time']||_0x296c5b);let _0x16451d=_0x367cc9/(-0x829+0x1342+-0x731);if(_0x16451d=Y['clamp'](_0x16451d,-0x210d+0x17cd+0x940,_0xda2fee['maxDeltaTi'+'me']),_0x16451d*=_0xda2fee['timeScale'],_0xda2fee['_time']=_0x296c5b,(_0x52ac8e=_0xda2fee['xr'])!=null&&_0x52ac8e['session']?_0xda2fee['frameReque'+'stId']=_0xda2fee['xr']['session']['requestAni'+'mationFram'+'e'](_0xda2fee['tick']):_0xda2fee['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0xda2fee['tick']):null,_0xda2fee['graphicsDe'+'vice']['contextLos'+'t'])return;_0xda2fee['_fillFrame'+'StatsBasic'](_0x296c5b,_0x16451d,_0x367cc9),_0xda2fee['_fillFrame'+'Stats'](),_0xda2fee['fire']('frameupdat'+'e',_0x367cc9);let _0x417be8=!(-0x1*0xedb+0x2*-0x5e1+0x1a9e);_0x1258bb?(_0x417be8=!((_0x53e5f8=_0xda2fee['xr'])!=null&&_0x53e5f8['update'](_0x1258bb)),_0xda2fee['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x1258bb['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0xda2fee['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x417be8&&!_0xda2fee['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0xda2fee['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0xac5+-0x1167+0x4*0x1a9)+'ms'),_0xda2fee['update'](_0x16451d),_0xda2fee['fire']('framerende'+'r'),(_0xda2fee['autoRender']||_0xda2fee['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x99*0x36+-0x1f69+0x1*0x3fb1)+'ms'),_0xda2fee['render'](),_0xda2fee['renderNext'+'Frame']=!(-0x177f*0x1+-0x3*-0x3b5+0x1*0xc61),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0x3*-0x959+0x1473*0x1+-0x307c)+'ms')),_0xda2fee['fire']('frameend')),_0xda2fee['_inFrameUp'+'date']=!(-0xc*0x7d+-0x3c1+0x99e),_0xda2fee['_destroyRe'+'quested']&&_0xda2fee['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x51ebfc,_0x17951c,_0x16d696){this['scene']=_0x51ebfc,this['light']=_0x17951c,this['store'](),_0x17951c['numCascade'+'s']=-0x10cb+-0x24c1+0x358d,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x16d696['shadowsEna'+'bled']&&(_0x17951c['castShadow'+'s']=!(0x80*-0x1+-0x1896+0x1917)),_0x17951c['type']!==ve&&(_0x17951c['_node']['getWorldTr'+'ansform'](),_0x17951c['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x3264e0=this['light'];_0x3264e0['mask']=this['mask'],_0x3264e0['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x3264e0['enabled']=this['enabled'],_0x3264e0['intensity']=this['intensity'],_0x3264e0['_node']['setLocalRo'+'tation'](this['rotation']),_0x3264e0['numCascade'+'s']=this['numCascade'+'s'],_0x3264e0['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1*0x18da+0x1162+-0x151e*0x2),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x4749f0){const _0x40daa9=this['light'];_0x40daa9['enabled']=!(-0x1*0x7d3+0x22ab+-0x1ad7),_0x40daa9['shadowMap']&&(_0x40daa9['shadowMap']['cached']&&_0x4749f0['add'](_0x40daa9,_0x40daa9['shadowMap']),_0x40daa9['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x2223e5,_0x32bd05){super(_0x2223e5['scene'],_0x32bd05,_0x2223e5['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:0x1168+-0x8c4+-0x8a3*0x1;}['prepareVir'+'tualLight'](_0x28be3e,_0x286095){const _0x465d0d=this['light'];if(_0x465d0d['_node']['setLocalRo'+'tation'](this['rotation']),_0x28be3e>0xe35*0x1+-0x2b*0xc1+0x1236){const _0x3543e7=_0x465d0d['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x28be3e,_0x286095),yc['mulScalar'](_0x3543e7*(0x1*0x897+0x880*0x2+-0x1997*0x1+0.5)),_0x465d0d['_node']['rotateLoca'+'l'](yc['x'],0x1db3+-0x136e*-0x1+-0x3121,yc['y']);}_0x465d0d['_node']['getWorldTr'+'ansform']();const _0x438328=0x1077+-0x527*-0x1+-0x159c+0.20000000000000018,_0x234880=Math['pow'](this['intensity'],_0x438328);_0x465d0d['intensity']=Math['pow'](_0x234880/_0x286095,(-0x21*0x34+-0x1f1*-0xa+-0x1*0xcb5)/_0x438328);}}const Pg=new D();class Mg extends Uv{constructor(_0x3f6c89){const _0x467158=_0x3f6c89['scene'],_0x686a66=new lt('AmbientLig'+'ht');_0x686a66['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1*0x1e7b+0x103b+-0x2eb6),'affectLightmapped':!(-0x8a0+-0x1151*-0x1+0x4*-0x22c),'bake':!(-0x15d1+0x2129+0x8*-0x16b),'bakeNumSamples':_0x467158['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x1503+0x212d+-0xd8c*0x4),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0xaf+0x1*-0x142f+0x3*0x6f5)}),super(_0x467158,_0x686a66['light']['light'],_0x3f6c89['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x142c04,_0x53a2dd){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x142c04,_0x53a2dd,0x1a12+-0x197c*-0x1+-0x338e,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0xf2c+-0x107b*0x2+-0x1*-0x11cb))),this['light']['_node']['rotateLoca'+'l'](0x35*-0x71+-0x1584+0x1*0x2d43,-0x12*-0x47+-0x13*0x139+0x123d,0x15*-0xbc+-0x6c1+0x162d);const _0x4ed3a0=0x22f9+0x8*0x188+-0x2f37*0x1+0.20000000000000018,_0x1feb69=(0x1*-0x2432+0x141e+0x2*0x80b)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x17265f=Math['pow'](_0x1feb69,_0x4ed3a0);this['light']['intensity']=Math['pow'](_0x17265f/_0x53a2dd,(0x1*0x1f5+0xb4b+-0xd3f)/_0x4ed3a0);}}class vc{constructor(_0x196c76,_0x582a21=null){this['node']=_0x196c76,this['component']=_0x196c76['render']||_0x196c76['model'],_0x582a21=_0x582a21||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x582a21,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x4e0*-0x1+-0x150a+0x19f9*0x1,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x428859){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x428859,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x428859['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x428859['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x2*-0x87e+-0x1e1+0x12df),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x2da618){this['constantTe'+'xSource']['setValue'](_0x2da618);}['prepare'](_0x1e69af,_0x2c1917){this['pixelOffse'+'t'][0xdf1+0x2af*0xb+0x15bb*-0x2]=(0x2*0x5e7+0x207f+-0x2c4c)/_0x1e69af,this['pixelOffse'+'t'][0x4bc+0xc*0x2ec+-0x27cb]=(-0x7*-0xa9+-0x108a*-0x1+0xa94*-0x2)/_0x2c1917,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x4dcdcc,_0x269344,_0x38992e){const _0x29fd5b=_0x38992e?0x1889+-0x26cd+0xe44:0x1*0x92+-0xdd*0x26+-0x3*-0xabf;if(!this['shaderDeno'+'ise'][_0x29fd5b]){const _0x451946=new Map();_0x451946['set']('{MSIZE}',0x1dd9+-0x41e+-0x19ac),_0x38992e&&_0x451946['set']('HDR',''),this['shaderDeno'+'ise'][_0x29fd5b]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x38992e?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x451946}),this['sigmas']=new Float32Array(-0x145a*-0x1+0x1a32+0x103*-0x2e),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x10df*0x1+0x5*-0x283+0x1d6e]=_0x4dcdcc,this['sigmas'][0x100e+0x1ab5+-0x2ac2]=_0x269344,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x4dcdcc,_0x269344);}['getDenoise'](_0x561a4e){const _0x2722d5=_0x561a4e?-0x186e+0x7c3*0x1+0x1*0x10ab:-0xb*0xb7+-0x918+0x10f6;return this['shaderDeno'+'ise'][_0x2722d5];}['getDilate'](_0x396f7c,_0x385cc4){const _0x99a542=_0x385cc4?0x14c4+-0x13a3+-0x1*0x121:-0x21cf+0x22fc*-0x1+0x44cc;if(!this['shaderDila'+'te'][_0x99a542]){const _0x5cc41d=_0x385cc4?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x99a542]=$t['createShad'+'er'](_0x396f7c,{'uniqueName':'lmDilate-'+(_0x385cc4?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x5cc41d+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x5cc41d+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x99a542];}['evaluateDe'+'noiseUnifo'+'rms'](_0x3faf66,_0x40947b){function _0x4f4c03(_0x305047,_0x5a94f4){return(-0x1*0xab+-0x24a5*0x1+0x30*0xc7+0.39894)*Math['exp'](-(-0x8ae+-0x7*-0x2f+0x765+0.5)*_0x305047*_0x305047/(_0x5a94f4*_0x5a94f4))/_0x5a94f4;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x2dffb3=this['kernel'],_0x36500a=Math['floor']((Dg-(-0x772+0x5*-0xba+0xb15*0x1))/(0xf6d*0x2+0x1*-0x2622+0x74a));for(let _0x405c7c=0x1d4f+-0x20a1+0x352*0x1;_0x405c7c<=_0x36500a;++_0x405c7c){const _0x256378=_0x4f4c03(_0x405c7c,_0x3faf66);_0x2dffb3[_0x36500a+_0x405c7c]=_0x256378,_0x2dffb3[_0x36500a-_0x405c7c]=_0x256378;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x6f4b7c=(-0x2*0x26d+-0x2044+0xd*0x2db)/_0x4f4c03(0x43*0x2b+0x19a4+-0x24e5,_0x40947b);this['bZnorm']['setValue'](_0x6f4b7c);}}class hL extends ys{constructor(_0x456f43,_0x4287e7,_0x3489a4,_0x545d9e,_0x3d6ef7,_0x52d23c){super(_0x456f43),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x4287e7,this['camera']=_0x3489a4,this['worldClust'+'ers']=_0x545d9e,this['receivers']=_0x3d6ef7,this['lightArray']=_0x52d23c);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3747b6=>{_0x3747b6['defaultUni'+'formBuffer']['destroy'](),_0x3747b6['destroy']();}),this['viewBindGr'+'oups']['length']=0x12a+-0x1192*-0x1+-0x16*0xda;}['execute'](){const _0x6c07e9=this['device'];Q['pushGpuMar'+'ker'](_0x6c07e9,'Lightmappe'+'r');const {renderer:_0x540102,camera:_0x59ab7e,receivers:_0x25876b,renderTarget:_0x419051,worldClusters:_0x38ef74,lightArray:_0x12fb5f}=this;_0x540102['renderForw'+'ardLayer'](_0x59ab7e,_0x419051,null,void(0x17b+-0x26*-0xd3+-0xaef*0x3),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x25876b,'splitLights':_0x12fb5f,'lightClusters':_0x38ef74}),Q['popGpuMark'+'er'](_0x6c07e9);}}const dL=0x1caa+0x89c*0x1+0x1d46*-0x1,fL=-0x4e7+-0x2e3+-0x7ca*-0x1,uL=0x1*0x128e+-0x5*-0x727+-0x3650,xc=new D();class pL{constructor(_0x2ed598,_0x4bf1b0,_0xf32835,_0x2e435d,_0x4bb1f7){this['device']=_0x2ed598,this['root']=_0x4bf1b0,this['scene']=_0xf32835,this['renderer']=_0x2e435d,this['assets']=_0x4bb1f7,this['shadowMapC'+'ache']=_0x2e435d['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1*0x1ffb+0x161f+-0x3619*0x1),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3508b4;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3508b4=this['camera'])==null||_0x3508b4['destroy'](),this['camera']=null;}['initBake'](_0x58679e){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x11c7+0x150d+-0x163*0x1c),this['lightmapFi'+'lters']=new cL(_0x58679e),this['constantBa'+'keDir']=_0x58679e['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x3649d1=new Fl();_0x3649d1['clearColor']['set'](0xbab+0x79d*-0x4+-0x643*-0x3,0x1f5f+0x9*-0x41+0x4d9*-0x6,-0xd1*0x16+-0x11d4+0x23ca,-0x1*-0x42b+0x24ae+-0x28d9),_0x3649d1['clearColor'+'Buffer']=!(0xbd2+-0x11d8*0x2+0x17de),_0x3649d1['clearDepth'+'Buffer']=!(0x19*0x52+0x1867+0x11*-0x1e8),_0x3649d1['clearStenc'+'ilBuffer']=!(-0x6b2*0x4+0x1*0x10e8+0x9e1),_0x3649d1['frustumCul'+'ling']=!(-0x1*0x5a6+0x8a*0x1+0x51d),_0x3649d1['projection']=En,_0x3649d1['aspectRati'+'o']=0x6*-0x2bb+-0x82e*-0x2+0x7*0x1,_0x3649d1['node']=new Ie(),this['camera']=_0x3649d1,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x9d4a28=new Mv(_0x58679e['supportsAr'+'eaLights'],_0x58679e['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x9d4a28;const _0xddbeef=this['scene']['lighting'];_0x9d4a28['shadowsEna'+'bled']=_0xddbeef['shadowsEna'+'bled'],_0x9d4a28['shadowAtla'+'sResolutio'+'n']=_0xddbeef['shadowAtla'+'sResolutio'+'n'],_0x9d4a28['cookiesEna'+'bled']=_0xddbeef['cookiesEna'+'bled'],_0x9d4a28['cookieAtla'+'sResolutio'+'n']=_0xddbeef['cookieAtla'+'sResolutio'+'n'],_0x9d4a28['areaLights'+'Enabled']=_0xddbeef['areaLights'+'Enabled'],_0x9d4a28['cells']=new D(-0x8af+0xa99+-0x1e7,-0x115*-0x19+-0x2093+0x589,0x8a5+-0x8dd+-0x1*-0x3b),_0x9d4a28['maxLightsP'+'erCell']=0xcb5+-0x4b+-0x17*0x8a,this['worldClust'+'ers']=new cu(_0x58679e),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x5deed1){this['materials']=[];function _0x48d2ff(_0x3c4c46){zi['decRef'](_0x3c4c46['colorBuffe'+'r']),_0x3c4c46['destroy']();}this['renderTarg'+'ets']['forEach'](_0x233094=>{_0x48d2ff(_0x233094);}),this['renderTarg'+'ets']['clear'](),_0x5deed1['forEach'](_0x5ecd1f=>{_0x5ecd1f['renderTarg'+'ets']['forEach'](_0x664c14=>{_0x48d2ff(_0x664c14);}),_0x5ecd1f['renderTarg'+'ets']['length']=0x12a*-0x4+-0xabd+0xf65;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x327728,_0x5570fb,_0x5b7870){const _0x528bb0=new Ut();return _0x528bb0['name']='lmMaterial'+'-pass:'+_0x5570fb+'-ambient:'+_0x5b7870,_0x528bb0['setDefine']('UV1LAYOUT',''),_0x528bb0['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x5570fb===fL?(_0x528bb0['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x5b7870?_0x528bb0['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x528bb0['ambient']=new ie(-0x1be4+0x1aec*-0x1+-0x10*-0x36d,-0xbee+-0x191*-0x3+0x1*0x73b,0x185*-0x7+0xb34*-0x3+0x2c3f),this['bakeHDR']||_0x528bb0['setDefine']('LIGHTMAP_R'+'GBM',''),_0x528bb0['lightMap']=this['blackTex']):(_0x528bb0['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x528bb0['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x528bb0['cull']=bt,_0x528bb0['forceUv1']=!(-0x1e4f+0x2*0x69b+0x1119),_0x528bb0['update'](),_0x528bb0;}['createMate'+'rials'](_0x4d4e8d,_0x42b202,_0x20805c){for(let _0x1f22c1=0x1a06+-0x1*-0x1fc6+-0x3*0x1344;_0x1f22c1<_0x20805c;_0x1f22c1++)this['passMateri'+'als'][_0x1f22c1]||(this['passMateri'+'als'][_0x1f22c1]=this['createMate'+'rialForPas'+'s'](_0x42b202,_0x1f22c1,!(0x1012+-0x1*0x1085+0x1d*0x4)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x42b202,0x2121+-0x1*0x6c5+-0x1*0x1a5c,!(-0x153+0x20+-0x1*-0x133)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1e4ef8){return _0x1e4ef8['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3*-0x545+0x45*-0x3b+0x386*0x9),_0x1e4ef8['litOptions']['separateAm'+'bient']=!(0x828+0x2*-0x1361+0xf4d*0x2),_0x1e4ef8;});}['createText'+'ure'](_0x285d2b,_0x45ac91){return new _e(this['device'],{'profilerHint':vy,'width':_0x285d2b,'height':_0x285d2b,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x19*0x9d+0x4*-0x33+-0xe88),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x45ac91});}['collectMod'+'els'](_0x5c91c2,_0xdb0ee8,_0x31c07f){var _0x2d9b42,_0x51e5ed,_0x404648;if(!_0x5c91c2['enabled'])return;let _0x2781c6;if((_0x2d9b42=_0x5c91c2['model'])!=null&&_0x2d9b42['model']&&((_0x51e5ed=_0x5c91c2['model'])!=null&&_0x51e5ed['enabled'])&&(_0x31c07f&&_0x31c07f['push'](new vc(_0x5c91c2)),_0x5c91c2['model']['lightmappe'+'d']&&_0xdb0ee8&&(_0x2781c6=_0x5c91c2['model']['model']['meshInstan'+'ces'])),(_0x404648=_0x5c91c2['render'])!=null&&_0x404648['enabled']&&(_0x31c07f&&_0x31c07f['push'](new vc(_0x5c91c2)),_0x5c91c2['render']['lightmappe'+'d']&&_0xdb0ee8&&(_0x2781c6=_0x5c91c2['render']['meshInstan'+'ces'])),_0x2781c6){let _0xf52ac8=!(-0x1736+-0x9d*0x3b+0x3b65);for(let _0x5485ad=-0xfda+0x3b7+0xc23;_0x5485ad<_0x2781c6['length'];_0x5485ad++)if(!_0x2781c6[_0x5485ad]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x5c91c2['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0xf52ac8=!(0xc69+-0x793+-0x4d5);break;}if(_0xf52ac8){const _0x408847=[];for(let _0x34aea5=-0x2240+0xe*-0x43+0x25ea;_0x34aea5<_0x2781c6['length'];_0x34aea5++){const _0x41c241=_0x2781c6[_0x34aea5]['mesh'];this['_tempSet']['has'](_0x41c241)?_0xdb0ee8['push'](new vc(_0x5c91c2,[_0x2781c6[_0x34aea5]])):_0x408847['push'](_0x2781c6[_0x34aea5]),this['_tempSet']['add'](_0x41c241);}this['_tempSet']['clear'](),_0x408847['length']>-0x104b+0x25bc+-0x1571*0x1&&_0xdb0ee8['push'](new vc(_0x5c91c2,_0x408847));}}for(let _0x3f5d85=-0x27a*-0x5+0x1bdd+-0x283f;_0x3f5d85<_0x5c91c2['_children']['length'];_0x3f5d85++)this['collectMod'+'els'](_0x5c91c2['_children'][_0x3f5d85],_0xdb0ee8,_0x31c07f);}['prepareSha'+'dowCasters'](_0x355ef6){const _0x71f0c6=[];for(let _0x8ed515=-0x31*0x56+0x2*-0x50b+-0x4*-0x6a3;_0x8ed515<_0x355ef6['length'];_0x8ed515++){const _0x250155=_0x355ef6[_0x8ed515]['component'];if(_0x250155['castShadow'+'s']=_0x250155['castShadow'+'sLightmap'],_0x250155['castShadow'+'sLightmap']){const _0x49242a=_0x355ef6[_0x8ed515]['meshInstan'+'ces'];for(let _0x9f7ec7=0x2405*0x1+0xd64+-0x3169;_0x9f7ec7<_0x49242a['length'];_0x9f7ec7++)_0x49242a[_0x9f7ec7]['visibleThi'+'sFrame']=!(0x12eb+-0xf06*-0x1+-0x1*0x21f1),_0x71f0c6['push'](_0x49242a[_0x9f7ec7]);}}return _0x71f0c6;}['updateTran'+'sforms'](_0x2eac7e){for(let _0x571850=-0x125*0x1f+0x2624+0x3*-0xe3;_0x571850<_0x2eac7e['length'];_0x571850++){const _0x1903ad=_0x2eac7e[_0x571850]['meshInstan'+'ces'];for(let _0x4b660e=-0xbe3+-0x24fe+0x30e1;_0x4b660e<_0x1903ad['length'];_0x4b660e++)_0x1903ad[_0x4b660e]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x4d82db){let _0x57d6f8;const _0x2e5414=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x101d+-0x3c2+-0x1*0xc4b,_0x55e79f=xc;let _0x1d48e6,_0x443ddb;_0x4d82db['model']?(_0x443ddb=_0x4d82db['model']['lightmapSi'+'zeMultipli'+'er'],_0x4d82db['model']['asset']?(_0x57d6f8=this['assets']['get'](_0x4d82db['model']['asset'])['data'],_0x57d6f8['area']&&(_0x1d48e6=_0x57d6f8['area'])):_0x4d82db['model']['_area']&&(_0x57d6f8=_0x4d82db['model'],_0x57d6f8['_area']&&(_0x1d48e6=_0x57d6f8['_area']))):_0x4d82db['render']&&(_0x443ddb=_0x4d82db['render']['lightmapSi'+'zeMultipli'+'er'],_0x4d82db['render']['type']!=='asset'&&_0x4d82db['render']['_area']&&(_0x57d6f8=_0x4d82db['render'],_0x57d6f8['_area']&&(_0x1d48e6=_0x57d6f8['_area'])));const _0x5766c5={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x1d48e6&&(_0x5766c5['x']=_0x1d48e6['x'],_0x5766c5['y']=_0x1d48e6['y'],_0x5766c5['z']=_0x1d48e6['z'],_0x5766c5['uv']=_0x1d48e6['uv']);const _0x12ca0c=_0x443ddb||-0x1818+0x81e+0xffb;_0x5766c5['x']*=_0x12ca0c,_0x5766c5['y']*=_0x12ca0c,_0x5766c5['z']*=_0x12ca0c;const _0x16d0bb=_0x4d82db['render']||_0x4d82db['model'],_0x572d51=this['computeNod'+'eBounds'](_0x16d0bb['meshInstan'+'ces']);_0x55e79f['copy'](_0x572d51['halfExtent'+'s']);let _0x2ebb34=_0x5766c5['x']*_0x55e79f['y']*_0x55e79f['z']+_0x5766c5['y']*_0x55e79f['x']*_0x55e79f['z']+_0x5766c5['z']*_0x55e79f['x']*_0x55e79f['y'];return _0x2ebb34/=_0x5766c5['uv'],_0x2ebb34=Math['sqrt'](_0x2ebb34),Math['min'](Y['nextPowerO'+'fTwo'](_0x2ebb34*_0x2e5414),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x59cb49,_0x1c7eae,_0x5802c2,_0x5e99be){for(let _0x116c56=-0x1c9*-0x2+0xe77+-0x1209;_0x116c56<_0x59cb49['length'];_0x116c56++){const _0x5c2f9b=_0x59cb49[_0x116c56],_0x38f731=_0x5c2f9b['meshInstan'+'ces'];for(let _0x4aebe9=0x607+-0xe6f+0x868;_0x4aebe9<_0x38f731['length'];_0x4aebe9++){const _0x1ebf1e=_0x38f731[_0x4aebe9];if(_0x1ebf1e['setLightma'+'pped'](_0x1c7eae),_0x1c7eae){_0x5e99be&&(_0x1ebf1e['_shaderDef'+'s']|=_0x5e99be),_0x1ebf1e['mask']=di;for(let _0x3e6b21=0x24a1+0x2d3*-0xa+0x863*-0x1;_0x3e6b21<_0x5802c2;_0x3e6b21++){const _0x2c41ba=_0x5c2f9b['renderTarg'+'ets'][_0x3e6b21]['colorBuffe'+'r'];_0x2c41ba['minFilter']=vt,_0x2c41ba['magFilter']=vt,_0x1ebf1e['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x3e6b21],_0x2c41ba);}}}}}['bake'](_0x1e7769,_0x49f20b=jc){const _0x452dfe=this['device'],_0x1d131e=de();this['scene']['_updateSky'+'Mesh'](),_0x452dfe['fire']('lightmappe'+'r:start',{'timestamp':_0x1d131e,'target':this}),this['stats']['renderPass'+'es']=0x4ed*-0x6+0x281*-0x1+0x200f,this['stats']['shadowMapT'+'ime']=-0x506*-0x7+0x31+-0x235b,this['stats']['forwardTim'+'e']=0xee*-0xa+0x2d1*-0x5+0x1761;const _0x175406=_0x452dfe['_shaderSta'+'ts']['linked'],_0x566bcb=_0x452dfe['_renderTar'+'getCreatio'+'nTime'],_0x15bef2=_0x452dfe['_shaderSta'+'ts']['compileTim'+'e'],_0x1055f4=[],_0x53ae04=[];if(_0x1e7769){for(let _0x7352e4=0x1*-0x1951+-0x1391*0x1+0x2ce2;_0x7352e4<_0x1e7769['length'];_0x7352e4++)this['collectMod'+'els'](_0x1e7769[_0x7352e4],_0x1055f4,null);this['collectMod'+'els'](this['root'],null,_0x53ae04);}else this['collectMod'+'els'](this['root'],_0x1055f4,_0x53ae04);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x1055f4['length']>0x1e3*0x6+-0x1597+0xa45){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x56af42=_0x49f20b===jc?0xcc9*0x1+0x1*-0x119+0x73*-0x1a:-0x490+0xe87*0x1+-0x9f6;this['setLightma'+'pping'](_0x1055f4,!(0x1*-0x1e89+0x1085+0xe05*0x1),_0x56af42),this['initBake'](_0x452dfe),this['bakeIntern'+'al'](_0x56af42,_0x1055f4,_0x53ae04);let _0x547730=ou;_0x49f20b===jc&&(_0x547730|=uv),this['scene']['ambientBak'+'e']&&(_0x547730|=pv),this['setLightma'+'pping'](_0x1055f4,!(0x15fd+0x20d5+-0x1246*0x3),_0x56af42,_0x547730),this['finishBake'](_0x1055f4);}Q['popGpuMark'+'er'](this['device']);const _0x837825=de();this['stats']['totalRende'+'rTime']=_0x837825-_0x1d131e,this['stats']['shadersLin'+'ked']=_0x452dfe['_shaderSta'+'ts']['linked']-_0x175406,this['stats']['compileTim'+'e']=_0x452dfe['_shaderSta'+'ts']['compileTim'+'e']-_0x15bef2,this['stats']['fboTime']=_0x452dfe['_renderTar'+'getCreatio'+'nTime']-_0x566bcb,this['stats']['lightmapCo'+'unt']=_0x1055f4['length'],_0x452dfe['fire']('lightmappe'+'r:end',{'timestamp':_0x837825,'target':this});}['allocateTe'+'xtures'](_0x56b94a,_0x3fea5f){for(let _0x503dbd=-0x1*-0x23ba+0x3*0x281+-0x2b3d;_0x503dbd<_0x56b94a['length'];_0x503dbd++){const _0x13929b=_0x56b94a[_0x503dbd],_0x339c42=this['calculateL'+'ightmapSiz'+'e'](_0x13929b['node']);for(let _0x4992f8=-0x839*-0x3+-0x348*-0x8+-0x32eb;_0x4992f8<_0x3fea5f;_0x4992f8++){const _0x5c4a55=this['createText'+'ure'](_0x339c42,'lightmappe'+'r_lightmap'+'_'+_0x503dbd);zi['incRef'](_0x5c4a55),_0x13929b['renderTarg'+'ets'][_0x4992f8]=new gt({'colorBuffer':_0x5c4a55,'depth':!(0x177+0x270+-0x3e6)});}if(!this['renderTarg'+'ets']['has'](_0x339c42)){const _0x59e708=this['createText'+'ure'](_0x339c42,'lightmappe'+'r_temp_lig'+'htmap_'+_0x339c42);zi['incRef'](_0x59e708),this['renderTarg'+'ets']['set'](_0x339c42,new gt({'colorBuffer':_0x59e708,'depth':!(-0x7b1*0x1+-0xa8+0x1*0x85a)}));}}}['prepareLig'+'htsToBake'](_0x3e72d6,_0x1aeb74){if(this['scene']['ambientBak'+'e']){const _0x3aeda0=new Mg(this);_0x1aeb74['push'](_0x3aeda0);}const _0x295e84=this['renderer']['lights'];for(let _0x107f25=0x3*-0x821+-0x7*-0x54e+-0xcbf*0x1;_0x107f25<_0x295e84['length'];_0x107f25++){const _0x5423e8=_0x295e84[_0x107f25],_0x78f07c=new sL(this,_0x5423e8);_0x3e72d6['push'](_0x78f07c),_0x5423e8['enabled']&&(_0x5423e8['mask']&fi)!==0x1087*-0x2+0x1c06*-0x1+0xa2e*0x6&&(_0x5423e8['mask']=fi|di|Ss,_0x5423e8['shadowUpda'+'teMode']=_0x5423e8['type']===ve?lm:xr,_0x1aeb74['push'](_0x78f07c));}_0x1aeb74['sort']();}['restoreLig'+'hts'](_0x33ad2d){for(let _0x30e5e0=-0x2*0x277+-0x20f9+0x25e7;_0x30e5e0<_0x33ad2d['length'];_0x30e5e0++)_0x33ad2d[_0x30e5e0]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1a*0x7a+0x160*0x2+-0x269*-0x4,0x1312*-0x2+0x9ff+0x5a1*0x5,-0x1d81+-0x12e2+0x3063),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x5f5492){const _0x370d27=new De();if(_0x5f5492['length']>0xc3*-0x19+0x66*-0x47+0x2f55){_0x370d27['copy'](_0x5f5492[0x1a96+-0x11f1+0x8a5*-0x1]['aabb']);for(let _0x382f61=-0xca*-0x2c+0x10*-0x10a+-0x1217;_0x382f61<_0x5f5492['length'];_0x382f61++)_0x370d27['add'](_0x5f5492[_0x382f61]['aabb']);}return _0x370d27;}['computeNod'+'esBounds'](_0x8edf33){for(let _0x26f3db=-0x144+0x20c+-0xc8;_0x26f3db<_0x8edf33['length'];_0x26f3db++){const _0x757eab=_0x8edf33[_0x26f3db]['meshInstan'+'ces'];_0x8edf33[_0x26f3db]['bounds']=this['computeNod'+'eBounds'](_0x757eab);}}['computeBou'+'nds'](_0x3954d0){const _0x2d8bea=new De();for(let _0x28183d=-0xbfc+0x33d*-0x5+0x1*0x1c2d;_0x28183d<_0x3954d0['length'];_0x28183d++){_0x2d8bea['copy'](_0x3954d0[-0xc84*0x3+-0x21e5*-0x1+0x37*0x11]['aabb']);for(let _0x10fe95=-0x2356+0x2693*-0x1+0x49ea*0x1;_0x10fe95<_0x3954d0['length'];_0x10fe95++)_0x2d8bea['add'](_0x3954d0[_0x10fe95]['aabb']);}return _0x2d8bea;}['backupMate'+'rials'](_0x136aa7){for(let _0x3e8ce1=-0x6c7+0x185a+-0x199*0xb;_0x3e8ce1<_0x136aa7['length'];_0x3e8ce1++)this['materials'][_0x3e8ce1]=_0x136aa7[_0x3e8ce1]['material'];}['restoreMat'+'erials'](_0x1793e0){for(let _0x42fe9c=0x1*0x1127+-0x1a6+-0xf81;_0x42fe9c<_0x1793e0['length'];_0x42fe9c++)_0x1793e0[_0x42fe9c]['material']=this['materials'][_0x42fe9c];}['lightCamer'+'aPrepare'](_0x1d4bba,_0x5590ca){const _0x5a4100=_0x5590ca['light'];let _0x2d0c98;return _0x5a4100['type']===Ze&&(_0x2d0c98=_0x5a4100['getRenderD'+'ata'](null,-0x2221+0x4*0x22d+0x196d)['shadowCame'+'ra'],_0x2d0c98['_node']['setPositio'+'n'](_0x5a4100['_node']['getPositio'+'n']()),_0x2d0c98['_node']['setRotatio'+'n'](_0x5a4100['_node']['getRotatio'+'n']()),_0x2d0c98['_node']['rotateLoca'+'l'](-(0x2226+-0x22b0+0xe4),0x221a+0x17*0x175+0x13*-0x38f,-0x2655+-0x35*-0x3f+0xa6*0x27),_0x2d0c98['projection']=ni,_0x2d0c98['nearClip']=_0x5a4100['attenuatio'+'nEnd']/(0x17*0xd4+0x1*0x1db9+0x1*-0x2cdd),_0x2d0c98['farClip']=_0x5a4100['attenuatio'+'nEnd'],_0x2d0c98['aspectRati'+'o']=-0x26e5+-0x26*-0xe1+-0x58*-0x10,_0x2d0c98['fov']=_0x5a4100['_outerCone'+'Angle']*(0x602*0x6+0x76e*0x1+0x2b78*-0x1),this['renderer']['updateCame'+'raFrustum'](_0x2d0c98)),_0x2d0c98;}['lightCamer'+'aPrepareAn'+'dCull'](_0x2cae55,_0x1144dc,_0x152256,_0xa9504b){const _0x14b114=_0x2cae55['light'];let _0x5b1bdc=!(0x13f3*0x1+0x376+-0x1769);if(_0x14b114['type']===ve){xc['copy'](_0xa9504b['center']),xc['y']+=_0xa9504b['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x66f+0xc5b*0x2+-0x1ecb),0xa88+0x181*-0x9+-0x301*-0x1,-0x933+-0x181+0xab4),this['camera']['nearClip']=0x21f*-0xb+-0x1dca+-0x1*-0x351f,this['camera']['farClip']=_0xa9504b['halfExtent'+'s']['y']*(0x3c3*-0x1+-0x73*-0x4b+0x1*-0x1dec);const _0x52e7ac=Math['max'](_0xa9504b['halfExtent'+'s']['x'],_0xa9504b['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x52e7ac;}else _0x2cae55['lightBound'+'s']['intersects'](_0x1144dc['bounds'])||(_0x5b1bdc=!(-0x1152+0x165f+-0x50c));if(_0x14b114['type']===Ze){let _0x460233=!(0x126c+-0xe47+-0x424);const _0x38044d=_0x1144dc['meshInstan'+'ces'];for(let _0x4e9e29=0x17dc+0x1795+-0x2f71;_0x4e9e29<_0x38044d['length'];_0x4e9e29++)if(_0x38044d[_0x4e9e29]['_isVisible'](_0x152256)){_0x460233=!(0xe+-0x21*0xa3+0x14f5);break;}_0x460233||(_0x5b1bdc=!(-0x5*0x545+-0x187*0x1+0x1be1));}return _0x5b1bdc;}['setupLight'+'Array'](_0x390a92,_0xf7b405){_0x390a92[ve]['length']=-0x1e37+0x179b+-0x1a7*-0x4,_0x390a92[Ke]['length']=-0x1b59+-0x181+0x1cda,_0x390a92[Ze]['length']=-0x10f5+-0x7*-0xbf+0xbbc,_0x390a92[_0xf7b405['type']][-0x343*0x2+-0x117c*-0x2+-0xe39*0x2]=_0xf7b405,_0xf7b405['visibleThi'+'sFrame']=!(-0x17*0x63+0x11f7+0x56*-0x1b);}['renderShad'+'owMap'](_0x28c9a9,_0x42db43,_0x14852e,_0x51f849){const _0x317828=_0x51f849['light'],_0x50c30e=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x1e6345=_0x317828['castShadow'+'s']&&(!_0x50c30e||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x42db43&&_0x1e6345){if(!_0x317828['shadowMap']&&!_0x50c30e&&(_0x317828['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x317828)),_0x317828['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x317828,_0x28c9a9,this['camera'],_0x14852e);const _0x5bc832=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x317828,this['camera']);_0x5bc832==null||_0x5bc832['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x1*0x213b+-0x19be+-0x1*-0x3af9);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x317828,_0x28c9a9,_0x14852e),this['renderer']['shadowRend'+'erer']['render'](_0x317828,this['camera'],!(0x2*-0x4ac+0x2*-0x121f+0x2d97));}}return!(0x178f*0x1+-0xb*0x21b+-0x66);}['postproces'+'sTextures'](_0x4a4388,_0x4a0ce4,_0x1cb28f){const _0x5bca79=this['lightmapFi'+'lters']['getDilate'](_0x4a4388,this['bakeHDR']);let _0x5c3c9c;const _0x51b4c0=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x51b4c0&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x5c3c9c=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x4a4388['setBlendSt'+'ate'](pt['NOBLEND']),_0x4a4388['setDepthSt'+'ate'](Yt['NODEPTH']),_0x4a4388['setStencil'+'State'](null,null);for(let _0x4b572a=0x1a11+-0x2023+0x15*0x4a;_0x4b572a<_0x4a0ce4['length'];_0x4b572a++){const _0x2039ae=_0x4a0ce4[_0x4b572a];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x4b572a);for(let _0x490976=-0x72a*0x1+0x83a+-0x110;_0x490976<_0x1cb28f;_0x490976++){const _0x38d768=_0x2039ae['renderTarg'+'ets'][_0x490976],_0x2df5c2=_0x38d768['colorBuffe'+'r'],_0x3b5f3c=this['renderTarg'+'ets']['get'](_0x2df5c2['width']),_0x2dd37b=_0x3b5f3c['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x2df5c2['width'],_0x2df5c2['height']);for(let _0x32cd3e=0xcad+0x8d2+-0x157f;_0x32cd3e<-0x320*0x1+0x20d3+0xed9*-0x2;_0x32cd3e++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2df5c2),Ar(_0x4a4388,_0x3b5f3c,_0x51b4c0&&_0x490976===0x2058+-0x200a+-0x4e&&_0x32cd3e===0x17*-0x9+0x30c+-0xbf*0x3?_0x5c3c9c:_0x5bca79),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2dd37b),Ar(_0x4a4388,_0x38d768,_0x5bca79);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x65a318,_0x23c27a,_0x489a19){const _0x35355f=this['scene'],_0x514eec=_0x35355f['layers'],_0x311a3d=this['device'],_0xcbc028=_0x35355f['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x311a3d,_0x35355f,_0x65a318),this['setupScene'](),_0x514eec['_update'](),this['computeNod'+'esBounds'](_0x23c27a),this['allocateTe'+'xtures'](_0x23c27a,_0x65a318),this['renderer']['collectLig'+'hts'](_0x514eec);const _0xbcfb28=[],_0x33102a=[];this['prepareLig'+'htsToBake'](_0xbcfb28,_0x33102a),this['updateTran'+'sforms'](_0x489a19);const _0x2e3a68=this['prepareSha'+'dowCasters'](_0x489a19);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x2e3a68),this['renderer']['gpuUpdate'](_0x2e3a68);const _0x405d4f=this['computeBou'+'nds'](_0x2e3a68);let _0xc7e6d8,_0x18e19d,_0x3c0384,_0x362f61;for(_0xc7e6d8=-0x111*0x19+0xf*-0x1cf+0x10e*0x33;_0xc7e6d8<_0x23c27a['length'];_0xc7e6d8++)for(_0x3c0384=_0x23c27a[_0xc7e6d8]['meshInstan'+'ces'],_0x18e19d=0x75b+0x21d1+-0x11*0x26c;_0x18e19d<_0x3c0384['length'];_0x18e19d++)_0x362f61=_0x3c0384[_0x18e19d],_0x362f61['setLightma'+'pped'](!(0xa06+0xda*0x9+-0x3*0x5e5)),_0x362f61['mask']=fi,_0x362f61['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x18a+0x211f+-0x1d3*0x13],this['blackTex']),_0x362f61['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x14ae+-0x1*0x1584+0xd7],this['blackTex']);for(_0x18e19d=0x8f1+0x9*0x125+-0x133e;_0x18e19d<_0x33102a['length'];_0x18e19d++)_0x33102a[_0x18e19d]['light']['enabled']=!(-0x14a2+-0x5b0+0x1a53);const _0x38e2a4=[[],[],[]];let _0x393717,_0x55a8a7,_0x3feddb=!(-0x13d*0xb+0x1d72+0x2a3*-0x6);for(_0xc7e6d8=-0x1c*-0x93+0x257c*-0x1+0x1568;_0xc7e6d8<_0x33102a['length'];_0xc7e6d8++){const _0x52b983=_0x33102a[_0xc7e6d8],_0x5a2262=_0x52b983 instanceof Mg,_0x3ae3fe=_0x52b983['light']['type']===ve;let _0x103e15=_0x52b983['numVirtual'+'Lights'];_0x65a318>-0x158e+-0x19be+0x2f4d&&_0x103e15>0x131*-0xf+0xdd9+-0x407*-0x1&&_0x52b983['light']['bakeDir']&&(_0x103e15=-0x2647+0x1b4*0xb+0x138c,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0xb2e511=0x1*-0x114d+-0x1*-0xd49+0x404;_0xb2e511<_0x103e15;_0xb2e511++){Q['pushGpuMar'+'ker'](_0x311a3d,'Light:'+_0x52b983['light']['_node']['name']+':'+_0xb2e511),_0x103e15>-0x26d3+0x4*0x7ff+-0x6*-0x124&&_0x52b983['prepareVir'+'tualLight'](_0xb2e511,_0x103e15),_0x52b983['startBake']();let _0x3ef8fc=!(0x1*0x189b+-0x1e52*-0x1+0xafc*-0x5);const _0x3e7266=this['lightCamer'+'aPrepare'](_0x311a3d,_0x52b983);for(_0x55a8a7=0x17f+-0x14a7+0x1328;_0x55a8a7<_0x23c27a['length'];_0x55a8a7++){const _0x1e7cc1=_0x23c27a[_0x55a8a7];if(_0x3c0384=_0x1e7cc1['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x52b983,_0x1e7cc1,_0x3e7266,_0x405d4f))continue;this['setupLight'+'Array'](_0x38e2a4,_0x52b983['light']);const _0x28bf87=_0x3ae3fe?[]:[_0x52b983['light']];for(_0xcbc028&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x28bf87,this['lightingPa'+'rams']),_0x3ef8fc=this['renderShad'+'owMap'](_0x514eec,_0x3ef8fc,_0x2e3a68,_0x52b983),_0xcbc028&&this['worldClust'+'ers']['update'](_0x28bf87,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x3c0384),_0x393717=-0x1a5b+0x727*-0x2+0x5cf*0x7;_0x393717<_0x65a318&&!(_0x393717>-0x1*-0x51a+-0x1719+0x11ff&&_0xb2e511>0x1f*-0x123+-0xb3*0x1f+0xeb*0x3e||_0x5a2262&&_0x393717>0x4be+0x15e*-0xc+0xbaa);_0x393717++){Q['pushGpuMar'+'ker'](_0x311a3d,'LMPass:'+_0x393717);const _0xc29b08=_0x1e7cc1['renderTarg'+'ets'][_0x393717],_0x5954d6=_0x1e7cc1['renderTarg'+'ets'][_0x393717]['colorBuffe'+'r']['width'],_0x14bcf1=this['renderTarg'+'ets']['get'](_0x5954d6),_0x5c195b=_0x14bcf1['colorBuffe'+'r'];_0x393717===-0x1d*0xbe+0xd38+0x1*0x84e?_0x3feddb=_0x35355f['updateShad'+'ers']:_0x3feddb&&(_0x35355f['updateShad'+'ers']=!(0x213e+0x1be1+-0x3d1f));let _0x3d34b7=this['passMateri'+'als'][_0x393717];for(_0x5a2262&&_0xb2e511+(0x2d+-0x9dd*0x1+0x9b1)===_0x103e15&&_0x393717===-0x14a0+-0x33*-0x52+0x1*0x44a&&(_0x3d34b7=this['ambientAOM'+'aterial']),_0x18e19d=-0xd48+-0x13d6+0x585*0x6;_0x18e19d<_0x3c0384['length'];_0x18e19d++)_0x3c0384[_0x18e19d]['material']=_0x3d34b7;if(this['renderer']['updateShad'+'ers'](_0x3c0384),_0x393717===uL&&this['constantBa'+'keDir']['setValue'](_0x52b983['light']['bakeDir']?-0x20ca+-0x2276+-0x166b*-0x3:-0xc44+-0x1497+-0xd*-0x287),_0x311a3d['isWebGPU']){const _0x75af42=new hL(_0x311a3d,this['renderer'],this['camera'],_0xcbc028?this['worldClust'+'ers']:null,_0x3c0384,_0x38e2a4);_0x75af42['init'](_0x14bcf1),_0x75af42['render'](),_0x75af42['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x14bcf1,!(-0x1061*-0x1+0x191*-0xb+0xda)),_0xcbc028&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x1503+-0x1c*0x6d+-0x917,this['renderer']['_shadowMap'+'Time']=0x542+0x2cd*-0x1+-0x25*0x11,this['renderer']['renderForw'+'ard'](this['camera'],_0x14bcf1,_0x3c0384,_0x38e2a4,Aa),_0x311a3d['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x1e7cc1['renderTarg'+'ets'][_0x393717]=_0x14bcf1,this['renderTarg'+'ets']['set'](_0x5954d6,_0xc29b08),_0x18e19d=-0x1*0x48e+0x1*-0xa9c+0x795*0x2;_0x18e19d<_0x3c0384['length'];_0x18e19d++)_0x362f61=_0x3c0384[_0x18e19d],_0x362f61['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x393717],_0x5c195b),_0x362f61['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x311a3d);}this['restoreMat'+'erials'](_0x3c0384);}_0x52b983['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x311a3d);}}for(this['postproces'+'sTextures'](_0x311a3d,_0x23c27a,_0x65a318),_0x55a8a7=0x13a4+-0xa41*0x3+0xb1f*0x1;_0x55a8a7<_0x489a19['length'];_0x55a8a7++)_0x489a19[_0x55a8a7]['restore']();this['restoreLig'+'hts'](_0xbcfb28),this['restoreSce'+'ne'](),_0xcbc028||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x119582,_0x11033c){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x119582,this['entity']=_0x11033c,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x215669,_0x15b535,_0x3ef4a4){this['fire']('set_'+_0x215669,_0x215669,_0x15b535,_0x3ef4a4);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x3ab45c,_0x30f9c2){_0x30f9c2['forEach'](_0x36003d=>{const _0x32990d=typeof _0x36003d=='object'?_0x36003d['name']:_0x36003d;Object['defineProp'+'erty'](_0x3ab45c,_0x32990d,{'get':function(){return this['data'][_0x32990d];},'set':function(_0x22413d){const _0x4443c8=this['data'],_0x311ccc=_0x4443c8[_0x32990d];_0x4443c8[_0x32990d]=_0x22413d,this['fire']('set',_0x32990d,_0x311ccc,_0x22413d);},'configurable':!(-0x1*-0x19e5+-0x47*0x1f+-0x114c)});}),_0x3ab45c['_accessors'+'Built']=!(0x16fa+0x24ea+-0x3be4);}['buildAcces'+'sors'](_0x2e07c6){Wh['_buildAcce'+'ssors'](this,_0x2e07c6);}['onSetEnabl'+'ed'](_0xf16a51,_0x1af5ae,_0x3473e7){_0x1af5ae!==_0x3473e7&&this['entity']['enabled']&&(_0x3473e7?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x4745c2=this['system']['store'][this['entity']['getGuid']()];return _0x4745c2?_0x4745c2['data']:null;}set['enabled'](_0x18cc06){}get['enabled'](){return!(-0x129f+-0x1342+0x25e1);}};h(Wh,'order',0x48b+0x35*0x2b+0x2*-0x6b9);let we=Wh;class ct extends me{constructor(_0x12e07){super(),this['app']=_0x12e07,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x345221,_0xe7cc37={}){const _0x4695a1=new this['ComponentT'+'ype'](this,_0x345221),_0x2718d2=new this['DataType']();return this['store'][_0x345221['getGuid']()]={'entity':_0x345221,'data':_0x2718d2},_0x345221[this['id']]=_0x4695a1,_0x345221['c'][this['id']]=_0x4695a1,this['initialize'+'ComponentD'+'ata'](_0x4695a1,_0xe7cc37,[]),this['fire']('add',_0x345221,_0x4695a1),_0x4695a1;}['removeComp'+'onent'](_0x1dd4e1){const _0x10e503=this['id'],_0x4c6473=this['store'][_0x1dd4e1['getGuid']()],_0x11d75f=_0x1dd4e1['c'][_0x10e503];_0x11d75f['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x1dd4e1,_0x11d75f),delete this['store'][_0x1dd4e1['getGuid']()],_0x1dd4e1[_0x10e503]=void(0x15bd+-0x6*0x435+-0x27*-0x17),delete _0x1dd4e1['c'][_0x10e503],this['fire']('remove',_0x1dd4e1,_0x4c6473['data']);}['cloneCompo'+'nent'](_0x34866c,_0x31a899){const _0x279ed3=this['store'][_0x34866c['getGuid']()];return this['addCompone'+'nt'](_0x31a899,_0x279ed3['data']);}['initialize'+'ComponentD'+'ata'](_0x5b1ecc,_0x112d0f={},_0x52d5e0){for(let _0x221f2b=-0x1bd5+0x3*-0xcdc+0x1*0x4269,_0x2f54ff=_0x52d5e0['length'];_0x221f2b<_0x2f54ff;_0x221f2b++){const _0x178406=_0x52d5e0[_0x221f2b];let _0x552027,_0x390e4d;typeof _0x178406=='object'?(_0x552027=_0x178406['name'],_0x390e4d=_0x178406['type']):(_0x552027=_0x178406,_0x390e4d=void(0x21e*-0x11+0xc35+-0x1*-0x17c9));let _0x55bcc3=_0x112d0f[_0x552027];_0x55bcc3!==void(0x1b64+-0x2*-0x611+-0x2786)?(_0x390e4d!==void(0x14*-0x53+-0x17ab+0x1e27)&&(_0x55bcc3=mL(_0x55bcc3,_0x390e4d)),_0x5b1ecc[_0x552027]=_0x55bcc3):_0x5b1ecc[_0x552027]=_0x5b1ecc['data'][_0x552027];}_0x5b1ecc['enabled']&&_0x5b1ecc['entity']['enabled']&&_0x5b1ecc['onEnable']();}['getPropert'+'iesOfType'](_0x436d23){const _0x11b8be=[];return(this['schema']||[])['forEach'](_0x215098=>{_0x215098&&typeof _0x215098=='object'&&_0x215098['type']===_0x436d23&&_0x11b8be['push'](_0x215098);}),_0x11b8be;}['destroy'](){this['off']();}}function mL(_0x118d6c,_0x4636fd){if(!_0x118d6c)return _0x118d6c;switch(_0x4636fd){case'rgb':return _0x118d6c instanceof ie?_0x118d6c['clone']():new ie(_0x118d6c[-0x9fd*0x1+0x1*-0x1ef7+-0x2*-0x147a],_0x118d6c[-0x2*0x1361+0x1*-0xa09+0x30cc],_0x118d6c[0x1cc4+-0x17c1+-0x501]);case'rgba':return _0x118d6c instanceof ie?_0x118d6c['clone']():new ie(_0x118d6c[-0x31c*-0xb+0xee9+-0x311d],_0x118d6c[0x1*0x1c4c+0x115+-0x1d60],_0x118d6c[0x7b*-0x4a+-0x21bf*0x1+0xb*0x64d],_0x118d6c[0x1*-0x442+-0x199+-0x2*-0x2ef]);case'vec2':return _0x118d6c instanceof J?_0x118d6c['clone']():new J(_0x118d6c[0x1*0x1741+-0xed5*0x2+0x669],_0x118d6c[-0x933+0x17cf+-0x1*0xe9b]);case'vec3':return _0x118d6c instanceof D?_0x118d6c['clone']():new D(_0x118d6c[-0x1*0xef9+0x11*0x5+-0x3a9*-0x4],_0x118d6c[-0x7*0x58f+0xd47+0x19a3],_0x118d6c[-0x2097+0x14bd+0xbdc]);case'vec4':return _0x118d6c instanceof re?_0x118d6c['clone']():new re(_0x118d6c[-0x19ca+0x53c+0x148e],_0x118d6c[0x768+-0x118e+0xa27],_0x118d6c[-0xc2*-0x15+0xa9a+0x1*-0x1a82],_0x118d6c[0x9*-0xa6+0x23da+-0x1e01]);case'boolean':case'number':case'string':return _0x118d6c;case'entity':return _0x118d6c;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x4636fd);}}const Bv=0x345*-0x3+0x465+0x56a,Su=-0x5*0x623+-0x13*-0xb3+0x1167,yu=0x2539+0x1830*0x1+0x3d67*-0x1;class _L{constructor(){this['_left']=(0x1be+-0x1c9a+0x211*0xd)/(-0x2366+0x7*-0x82+0x26f4),this['_right']=-(0x23b6+0x35*-0x95+-0x4dc)/(-0xec8+0x13f0+0x16*-0x3c),this['_len']=0x11d5+-0x1*0x2626+-0x1*-0x1451,this['_recip']=-0x1*-0x22c+-0x20cc+0x1ea0,this['_p0']=0x43*-0x5+0x1*-0x1712+-0x1*-0x1861,this['_p1']=-0x48e+-0x9*-0x3b3+-0x1cbd,this['_t']=-0x3*0x995+-0x2f*-0x7a+0x659,this['_hermite']={'valid':!(0x1*0x17e9+-0x1019+-0x1*0x7cf),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x11b339,_0x296728){if(_0x11b339<this['_left']||_0x11b339>=this['_right']){const _0x35b740=_0x296728['length'];if(!_0x35b740)this['_left']=-(-0x19ab+0x8a3+-0x1109*-0x1)/(-0x3*0x331+-0x9f3+0x126*0x11),this['_right']=(-0x178c+-0x263c+0x3dc9)/(0x21de+-0x2138+-0xa6),this['_len']=0x857+0x2*-0xb93+0x1*0xecf,this['_recip']=0x7*-0x26b+0x9b7*-0x2+0x245b*0x1,this['_p0']=this['_p1']=-0x8ff*0x1+0x1*-0x2d7+0xbd6;else{if(_0x11b339<_0x296728[0x714+-0x624*-0x1+-0xd38])this['_left']=-(-0x18dc+0x116f*0x2+-0xa01)/(-0x1f2a+-0xa21+0x294b),this['_right']=_0x296728[0x26b1+0x7*0x8f+-0x85*0x52],this['_len']=0x627+-0xce+-0x1*0x559,this['_recip']=0x249d+0x925*0x4+-0x4931,this['_p0']=this['_p1']=-0x1453*0x1+-0x103d+0x2490;else{if(_0x11b339>=_0x296728[_0x35b740-(0x1d22+-0x30*-0x3e+-0x1*0x28c1)])this['_left']=_0x296728[_0x35b740-(-0x1d07*-0x1+-0x57*-0x5a+0xda*-0x46)],this['_right']=(-0x9b7+-0x103c+0x2*0xcfa)/(0x100*-0xf+0x1d90+-0xe90),this['_len']=0x5*-0x1ff+0x4*-0x1f+0xa77,this['_recip']=0x258c+-0x1ed8+-0x3*0x23c,this['_p0']=this['_p1']=_0x35b740-(-0x1bd2+-0x1f5*-0x9+0x1*0xa36);else{const _0x40cd98=this['_findKey'](_0x11b339,_0x296728);this['_left']=_0x296728[_0x40cd98],this['_right']=_0x296728[_0x40cd98+(0x1b*-0xee+-0x18d0+0x1*0x31eb)],this['_len']=this['_right']-this['_left'];const _0x4e2267=(0x2341+-0xe3e*-0x2+-0x3fbc)/this['_len'];this['_recip']=isFinite(_0x4e2267)?_0x4e2267:0x1*0x25d3+0x14ea+-0x3abd,this['_p0']=_0x40cd98,this['_p1']=_0x40cd98+(-0xf78+0x1070*0x2+0x51*-0x37);}}}}this['_t']=this['_recip']===0x10*-0x21e+-0x16f9*0x1+0x38d9?0x260f*-0x1+0x1*-0xbaf+0x31be*0x1:(_0x11b339-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x926*-0x1+0x2*-0x1375+-0x17*-0x217);}['_findKey'](_0x43e59b,_0x5c1390){let _0x18f80a=0x1600+-0x1e60+0x860;for(;_0x43e59b>=_0x5c1390[_0x18f80a+(0x1*0x268a+0x1c64+0x1*-0x42ed)];)_0x18f80a++;return _0x18f80a;}['eval'](_0x11603b,_0x1f184f,_0x4f09bc){const _0x1872b3=_0x4f09bc['_data'],_0x519096=_0x4f09bc['_component'+'s'],_0x54ca47=this['_p0']*_0x519096;if(_0x1f184f===Bv){for(let _0xbf81d0=-0x116e+0x3bf*0x1+0x71*0x1f;_0xbf81d0<_0x519096;++_0xbf81d0)_0x11603b[_0xbf81d0]=_0x1872b3[_0x54ca47+_0xbf81d0];}else{const _0x2ccbd4=this['_t'],_0x17e068=this['_p1']*_0x519096;switch(_0x1f184f){case Su:for(let _0x175fff=0x725+0x118*0x20+-0x2a25;_0x175fff<_0x519096;++_0x175fff)_0x11603b[_0x175fff]=Y['lerp'](_0x1872b3[_0x54ca47+_0x175fff],_0x1872b3[_0x17e068+_0x175fff],_0x2ccbd4);break;case yu:{const _0xbc8247=this['_hermite'];if(!_0xbc8247['valid']){const _0x3055da=_0x2ccbd4*_0x2ccbd4,_0x565ded=_0x2ccbd4+_0x2ccbd4,_0x5a7ab2=0xaa9*-0x1+-0x1b23*-0x1+-0x1079-_0x2ccbd4,_0x5a9427=_0x5a7ab2*_0x5a7ab2;_0xbc8247['valid']=!(-0x1*0x11bd+-0x4a*0x83+0x16d*0x27),_0xbc8247['p0']=(0x503*-0x3+-0x327+-0x1*-0x1231+_0x565ded)*_0x5a9427,_0xbc8247['m0']=_0x2ccbd4*_0x5a9427,_0xbc8247['p1']=_0x3055da*(0x17f*0xf+0x2579*-0x1+0x1*0xf0b-_0x565ded),_0xbc8247['m1']=_0x3055da*(_0x2ccbd4-(0x241*-0x4+0x2562+-0x1*0x1c5d));}const _0x3044c9=(this['_p0']*(0x11*-0x208+0x96b*-0x1+0x2bf6)+(-0x1*-0x1dd5+-0x8d7*0x1+-0xc7*0x1b))*_0x519096,_0x25912a=(this['_p0']*(-0x1051*-0x1+0xa*-0x1bb+0x10*0x10)+(0x1aa3+0x1*-0x116c+-0x935))*_0x519096,_0x5eb17d=(this['_p1']*(0x240b+-0x2477+-0x1*-0x6f)+(0x1*-0x20d1+0x1f9f+-0x1*-0x133))*_0x519096,_0x2b5cea=(this['_p1']*(-0x128b+0x55*-0x43+0x28cd)+(-0x16ae+0x1*-0xb5f+0x220d))*_0x519096;for(let _0x381a42=-0x22d3+0x1195*0x2+-0x3*0x1d;_0x381a42<_0x519096;++_0x381a42)_0x11603b[_0x381a42]=_0xbc8247['p0']*_0x1872b3[_0x3044c9+_0x381a42]+_0xbc8247['m0']*_0x1872b3[_0x25912a+_0x381a42]*this['_len']+_0xbc8247['p1']*_0x1872b3[_0x5eb17d+_0x381a42]+_0xbc8247['m1']*_0x1872b3[_0x2b5cea+_0x381a42]*this['_len'];break;}}}}}class Ig{constructor(_0x1d9756){this['_name']=_0x1d9756['name']+'Snapshot',this['_time']=-(-0x1*-0x783+-0x1c9f+-0x151d*-0x1),this['_cache']=[],this['_results']=[];for(let _0x352ace=0x1ec8+-0x1*-0x229d+-0x4165*0x1;_0x352ace<_0x1d9756['_inputs']['length'];++_0x352ace)this['_cache'][_0x352ace]=new _L();const _0x6b2b5c=_0x1d9756['_curves'],_0x584718=_0x1d9756['_outputs'];for(let _0x43f054=0x2241+-0x2*-0x4d5+-0x2beb;_0x43f054<_0x6b2b5c['length'];++_0x43f054){const _0x46335b=_0x6b2b5c[_0x43f054],_0x44fa7d=_0x584718[_0x46335b['_output']],_0x2b9fdd=[];for(let _0x47434a=0x24d8+0x8ee*0x4+0x12*-0x408;_0x47434a<_0x44fa7d['_component'+'s'];++_0x47434a)_0x2b9fdd[_0x47434a]=-0x6d7*0x3+0x1*-0x437+0x18bc;this['_results'][_0x43f054]=_0x2b9fdd;}}}const qo=class qo{constructor(_0x5ba59b,_0x1f7ddf,_0x42c1cc,_0x4aa614,_0x66df33,_0x412ad9){this['_name']=_0x5ba59b['name'],this['_track']=_0x5ba59b,this['_snapshot']=new Ig(_0x5ba59b),this['_playing']=_0x4aa614,this['_time']=_0x1f7ddf,this['_speed']=_0x42c1cc,this['_loop']=_0x66df33,this['_blendWeig'+'ht']=-0x1567+0xbe6+-0x982*-0x1,this['_blendOrde'+'r']=-0x2326+0x17*-0x161+0x42dd,this['_eventHand'+'ler']=_0x412ad9,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x358594){this['_name']=_0x358594;}get['name'](){return this['_name'];}set['track'](_0x2a03c7){this['_track']=_0x2a03c7,this['_snapshot']=new Ig(_0x2a03c7);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x345d27){this['_time']=_0x345d27,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x58ed56){const _0x5835ee=Math['sign'](_0x58ed56)!==Math['sign'](this['_speed']);this['_speed']=_0x58ed56,_0x5835ee&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1cc13c){this['_loop']=_0x1cc13c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x612bf1){this['_blendWeig'+'ht']=_0x612bf1;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x504cce){this['_blendOrde'+'r']=_0x504cce;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x4aa75b){this['_eventCurs'+'or']=_0x4aa75b;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0xdc4+-0x876+-0x2a7*0x2:this['_track']['events']['length']-(-0x1c20+0x55c+0x43*0x57);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x2*-0x35b+0x17b*0x7+0x8d*-0x1f;}['nextEventA'+'headOfTime'](_0x372503){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x372503:this['nextEvent']['time']>=_0x372503:!(-0x149a+-0xb85*0x1+0x404*0x8);}['nextEventB'+'ehindTime'](_0x406f71){return this['nextEvent']?_0x406f71===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x406f71:this['nextEvent']['time']<=_0x406f71:this['isReverse']?this['nextEvent']['time']>_0x406f71:this['nextEvent']['time']<_0x406f71:!(-0x2432+-0x1e29+0x425c*0x1);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x180b+-0x1*-0x107+0x1705):-0x885+0x1*-0x1921+0x76*0x49;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x2*-0x131e+0x135d*0x1+0x12e0):0x1e4c+0x25a*-0xe+0x2a1,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x19bb+-0xc2*-0xa+-0x1*0x214f:this['_eventCurs'+'or']<0x4c*-0x2b+0xefb+-0x237&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x1ec6+-0x11c0+-0xd05));}['clipFrameT'+'ime'](_0xc9a0de){const _0x498b39=qo['eventFrame'];_0x498b39['start']=-0x130f*0x2+0x3*0x36d+0x1bd7,_0x498b39['end']=_0xc9a0de,_0x498b39['residual']=-0x9e4+0xb0f*-0x1+0x14f3,this['isReverse']?_0xc9a0de<0xdf8+-0x26b7+-0x23*-0xb5&&(_0x498b39['start']=this['track']['duration'],_0x498b39['end']=-0x347*0x7+-0x137*-0x1+0x15ba,_0x498b39['residual']=_0xc9a0de+this['track']['duration']):_0xc9a0de>this['track']['duration']&&(_0x498b39['start']=0x53b*0x2+-0x687*0x5+0x162d,_0x498b39['end']=this['track']['duration'],_0x498b39['residual']=_0xc9a0de-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x418eba,_0x2294a0){return this['nextEventA'+'headOfTime'](_0x418eba)&&this['nextEventB'+'ehindTime'](_0x2294a0)?(this['fireNextEv'+'ent'](),!(0x259d+0x2514+-0x1*0x4ab1)):!(-0x9*0x399+-0x2687+0x7e1*0x9);}['activeEven'+'tsForFrame'](_0x5083b3,_0x5d5b0a){const _0x355a11=qo['eventFrame'];this['clipFrameT'+'ime'](_0x5d5b0a);const _0x550076=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x5083b3,_0x355a11['end'])&&_0x550076!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x355a11['residual'])>0xef2*-0x1+0xa2d+-0x197*-0x3&&this['activeEven'+'tsForFrame'](_0x355a11['start'],_0x355a11['residual']);}['progressFo'+'rTime'](_0x43aba4){return _0x43aba4*this['_speed']/this['_track']['duration'];}['_update'](_0x2cf7fd){if(this['_playing']){let _0x30c0a2=this['_time'];const _0x2cd30f=this['_track']['duration'],_0x56e810=this['_speed'],_0xbaad7b=this['_loop'];this['_track']['events']['length']>-0x72*0x4+-0x184*-0x7+0xe2*-0xa&&_0x2cd30f>-0x1d8b+-0x739+0x24c4&&this['activeEven'+'tsForFrame'](_0x30c0a2,_0x30c0a2+_0x56e810*_0x2cf7fd),_0x30c0a2+=_0x56e810*_0x2cf7fd,_0x56e810>=0x2137*-0x1+0x1694*-0x1+0x37cb?_0x30c0a2>_0x2cd30f&&(_0xbaad7b?_0x30c0a2=_0x30c0a2%_0x2cd30f||0x1ade+0x1553*0x1+-0x3b5*0xd:(_0x30c0a2=this['_track']['duration'],this['pause']())):_0x30c0a2<-0x3*-0xadf+-0xeff*0x1+-0x119e&&(_0xbaad7b?_0x30c0a2=_0x2cd30f+(_0x30c0a2%_0x2cd30f||-0xe75+0x1610+-0x79b):(_0x30c0a2=0x7e3*-0x3+-0x91b+0x20c4,this['pause']())),this['_time']=_0x30c0a2;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x1d90+-0x25*-0xb1+0x3fb),this['_time']=0x1500+0x18b6*-0x1+0x1db*0x2;}['stop'](){this['_playing']=!(-0x17fd+0x17*0x67+0x31*0x4d),this['_time']=-0x13f*-0x4+-0x247f*-0x1+-0x103*0x29;}['pause'](){this['_playing']=!(0x236e+-0x944+-0x1a29);}['resume'](){this['_playing']=!(0x47e*-0x3+0xc5*-0x1d+0x23cb);}['reset'](){this['_time']=-0x7*-0x1f5+0x2287+-0x303a;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x359344,_0xc2f584){const _0x175e9d=_0x359344['length'];let _0x2a6150=0x389+-0xdfa+0xa71;for(let _0x1f3f92=0x1176+0x56d*-0x3+-0x12f;_0x1f3f92<_0x175e9d;++_0x1f3f92)_0x2a6150+=_0x359344[_0x1f3f92]*_0xc2f584[_0x1f3f92];return _0x2a6150;}static['normalize'](_0x5b9d12){let _0x337c0c=Ht['dot'](_0x5b9d12,_0x5b9d12);if(_0x337c0c>0x1*0x124c+0x7*-0x179+-0x7fd){_0x337c0c=(-0x1ec2+0x832*-0x1+-0x1*-0x26f5)/Math['sqrt'](_0x337c0c);const _0x3b8874=_0x5b9d12['length'];for(let _0x50b8f7=0x2487+0x1375+-0x37fc;_0x50b8f7<_0x3b8874;++_0x50b8f7)_0x5b9d12[_0x50b8f7]*=_0x337c0c;}}static['set'](_0x3f929f,_0x31a01c,_0x3153ef){const _0x1373d5=_0x3f929f['length'];if(_0x3153ef==='quaternion'){let _0x5ceb93=Ht['dot'](_0x31a01c,_0x31a01c);_0x5ceb93>-0x33c*0x4+-0x206b+0x1*0x2d5b&&(_0x5ceb93=(-0x1*-0x1717+0x115f*0x2+-0x1cea*0x2)/Math['sqrt'](_0x5ceb93));for(let _0x3c519e=0x19eb+0x1f93+-0x2*0x1cbf;_0x3c519e<_0x1373d5;++_0x3c519e)_0x3f929f[_0x3c519e]=_0x31a01c[_0x3c519e]*_0x5ceb93;}else{for(let _0x324379=-0x1236+0x1f68+-0xd32*0x1;_0x324379<_0x1373d5;++_0x324379)_0x3f929f[_0x324379]=_0x31a01c[_0x324379];}}static['blendVec'](_0x5e2f17,_0x206b5a,_0x41dc7e,_0xf88962){const _0x232308=_0xf88962?-0x646+0x1*-0x1b67+0x21ae:-0x1*-0x227+0x57*-0x2e+0xd7c-_0x41dc7e,_0x7b252a=_0x5e2f17['length'];for(let _0x977b70=-0xaba+-0x1cd+-0x1*-0xc87;_0x977b70<_0x7b252a;++_0x977b70)_0x5e2f17[_0x977b70]=_0x5e2f17[_0x977b70]*_0x232308+_0x206b5a[_0x977b70]*_0x41dc7e;}static['blendQuat'](_0x4ea013,_0x5eae0c,_0x4b34e7,_0x2853a2){const _0x5d2115=_0x4ea013['length'],_0x45493f=_0x2853a2?-0xfac+0xa88+0x3*0x1b7:0x1948+0xb10+-0x2457-_0x4b34e7;Ht['dot'](_0x4ea013,_0x5eae0c)<-0x1*0x1e1d+0x2e8*0xd+-0xd*0x97&&(_0x4b34e7=-_0x4b34e7);for(let _0x4858d7=-0x1864+-0x1ac5+-0x3329*-0x1;_0x4858d7<_0x5d2115;++_0x4858d7)_0x4ea013[_0x4858d7]=_0x4ea013[_0x4858d7]*_0x45493f+_0x5eae0c[_0x4858d7]*_0x4b34e7;_0x2853a2||Ht['normalize'](_0x4ea013);}static['blend'](_0x5bf6e0,_0x23a1e0,_0x4ef67e,_0x3c1b60,_0x713f63){_0x3c1b60==='quaternion'?Ht['blendQuat'](_0x5bf6e0,_0x23a1e0,_0x4ef67e,_0x713f63):Ht['blendVec'](_0x5bf6e0,_0x23a1e0,_0x4ef67e,_0x713f63);}static['stableSort'](_0x8ecb32,_0x146175){const _0x52b627=_0x8ecb32['length'];for(let _0x26da23=0x2283+0xaef+-0x3*0xf26;_0x26da23<_0x52b627-(-0x1*0x50f+0x1dd4+0x18c4*-0x1);++_0x26da23)for(let _0x1f4d9d=_0x26da23+(0x18a2+-0x634+0x35*-0x59);_0x1f4d9d<_0x52b627;++_0x1f4d9d)if(_0x146175(_0x8ecb32[_0x1f4d9d],_0x8ecb32[_0x26da23])){const _0x22c404=_0x8ecb32[_0x26da23];_0x8ecb32[_0x26da23]=_0x8ecb32[_0x1f4d9d],_0x8ecb32[_0x1f4d9d]=_0x22c404;}}}const st=class st{constructor(_0x217dc9,_0x542a21){this['_component']=_0x217dc9,this['mask']=new Int8Array(_0x217dc9['layers']['length']),this['weights']=new Float32Array(_0x217dc9['layers']['length']),this['totalWeigh'+'t']=0x681*-0x5+-0x1*-0x2559+-0x19c*0x3,this['counter']=-0x1*0x1f99+-0x2c4+0x225d,this['layerCount'+'er']=-0x95c+0x95c+0x0,this['valueType']=_0x542a21,this['dirty']=!(0x11fb+0x138*-0x1d+-0x115d*-0x1),this['value']=_0x542a21===st['TYPE_QUAT']?[0xf58+0x16b1+-0x56f*0x7,-0xa61*0x2+-0x1584+0x2a46,0x1d51+-0xd7*-0x25+0xa*-0x60a,0x1a57+-0x47*-0xd+-0x1df1]:[0x24a9+-0x1*-0x2669+-0x4b12,-0x25d8+-0x2b6*0x3+0x2dfa,-0x123+-0x955*-0x1+-0x832],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0xc46c59){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1349*0x2+0x25ea+0xa8||!this['mask'][_0xc46c59]?0x1*-0x38f+0x10*0x112+-0x1*0xd91:this['_normalize'+'Weights']?this['weights'][_0xc46c59]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0xc46c59],-0x3a9+0x2f1*0xc+0x26f*-0xd,-0x112b+-0x121*0xe+0x20fa);}['_layerBlen'+'dType'](_0x1e18ba){return this['_component']['layers'][_0x1e18ba]['blendType'];}['setMask'](_0x34280d,_0x350246){this['mask'][_0x34280d]=_0x350246,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x34280d]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0xecb+-0x22ef+0xa12*0x2,0x79*0x14+0x84f+-0x11c3,_0x34280d)),this['dirty']=!(0xba5+-0x71e+0x1*-0x487));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x1*0x1b9f+0x128a+-0x2e29;for(let _0x471144=0x1b1*-0x15+-0x21dd*0x1+0x4562;_0x471144<this['weights']['length'];_0x471144++)this['weights'][_0x471144]=this['_component']['layers'][_0x471144]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x471144]*this['weights'][_0x471144];this['dirty']=!(0x9ca+-0xb61+0x198);}['updateValu'+'e'](_0x35cc9d,_0x430830){if(this['counter']===-0xde9+-0x29*-0xef+-0x185e&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x300*-0x3+-0x9a3+-0x1*-0xa4,this['valueType'])),!(!this['mask'][_0x35cc9d]||this['getWeight'](_0x35cc9d)===-0xdd+0x206+-0x129)){if(this['_layerBlen'+'dType'](_0x35cc9d)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x29e8d9=st['q1']['set'](this['value'][-0x39*-0x71+0x219f+-0x3ac8],this['value'][-0x21*-0xc+-0x1*-0x48d+-0x618],this['value'][-0x1*0x439+0x1*0x2353+-0x1f18],this['value'][-0x615+-0x140*0xe+0x2f3*0x8]),_0x1b68b9=st['q2']['set'](this['baseValue'][-0x3*0x14c+-0x1*-0x17b3+0x1cd*-0xb],this['baseValue'][0x4ee+0x15*0x137+-0x3ce*0x8],this['baseValue'][0x1*0x1d0b+0x16*-0x1a5+0x725],this['baseValue'][0x73b+0x1a71*-0x1+0x103*0x13]),_0x5b1c0c=st['q3']['set'](_0x430830[0x24cd+-0x1ea0+-0x1f*0x33],_0x430830[-0x246a*0x1+0x23f3+0x78],_0x430830[0x1cba+0xfa*-0x20+0x4*0xa2],_0x430830[-0xeed+0x39e*-0x2+0x162c]),_0x30c459=_0x1b68b9['invert']()['mul'](_0x5b1c0c);_0x30c459['slerp'](le['IDENTITY'],_0x30c459,this['getWeight'](_0x35cc9d)),_0x29e8d9['mul'](_0x30c459),st['quatArr'][-0x8d5+-0x231a+0x2bef]=_0x29e8d9['x'],st['quatArr'][-0x18c3+-0x19f8+0x32bc*0x1]=_0x29e8d9['y'],st['quatArr'][-0x1303*0x2+-0xb50+0x3158]=_0x29e8d9['z'],st['quatArr'][-0x13f0+0xb1f+0x4*0x235]=_0x29e8d9['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][-0xf41+-0x26e9+-0x1b15*-0x2]=_0x430830[0xe3a+0x39f*0xa+-0x3270]-this['baseValue'][-0x1cd6*-0x1+0x10ff+-0x2dd5],st['vecArr'][-0x1848+-0x16b4+-0x2efd*-0x1]=_0x430830[0x144d+-0x897+0x1*-0xbb5]-this['baseValue'][-0x3*0xcbd+0x1876+-0x2*-0x6e1],st['vecArr'][-0x232f+0x2*-0x2e9+0x2903]=_0x430830[0x5fc*-0x6+-0x20*-0x10f+0x20a]-this['baseValue'][0x5e*0x4a+0x565*0x1+-0x208f],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x35cc9d),this['valueType'],!(0x3*-0x92d+-0x1*0x1599+-0x8*-0x624));}else Ht['blend'](this['value'],_0x430830,this['getWeight'](_0x35cc9d),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x17da+0x1*-0x1039+0x2813*0x1,-0xd40+0xfa7+-0x267,0x428+-0x664+0x23c,0xb46+-0x1*0xc1f+-0xda*-0x1]),h(st,'vecArr',[0x2*0xecf+-0x1852+-0x2a6*0x2,-0x1777+0x56*0x62+0x10d*-0x9,-0xe0b+-0x2*-0xf53+-0x109b]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0x125f+-0xd*0x185+-0x2*-0x1310,0x2*0x4a+0x3d8+-0x46c*0x1,-0x1e74+-0x9d5+0x2849,0xbd8*0x2+0x6*-0xb7+0x3e1*-0x5]);let Vo=st;class Gv{constructor(_0x484afe){this['_binder']=_0x484afe,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x386ab8){const _0x134ec3=this['_targets'],_0xf40b9e=this['_binder'],_0x1c1ab7=_0x386ab8['track']['curves'],_0x31be1d=_0x386ab8['snapshot'],_0x112e5c=[],_0x393d5e=[];for(let _0x4ed84b=0x3e4+0xb*-0x34c+0xe0*0x25;_0x4ed84b<_0x1c1ab7['length'];++_0x4ed84b){const _0x479b8d=_0x1c1ab7[_0x4ed84b]['paths'];for(let _0x5bf2ea=-0x8*0x106+0x371*-0x1+0xe5*0xd;_0x5bf2ea<_0x479b8d['length'];++_0x5bf2ea){const _0x573f0a=_0x479b8d[_0x5bf2ea],_0x486d91=_0xf40b9e['resolve'](_0x573f0a);let _0x57c8d9=_0x134ec3[_0x486d91&&_0x486d91['targetPath']||null];if(!_0x57c8d9&&_0x486d91){_0x57c8d9={'target':_0x486d91,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x55ef12=-0x1f1+-0x106*0x10+0x9*0x209;_0x55ef12<_0x57c8d9['target']['components'];++_0x55ef12)_0x57c8d9['value']['push'](-0x25a+-0x987*0x1+-0xbe1*-0x1);if(_0x134ec3[_0x486d91['targetPath']]=_0x57c8d9,_0xf40b9e['animCompon'+'ent']){if(!_0xf40b9e['animCompon'+'ent']['targets'][_0x486d91['targetPath']]){let _0x4187dd;_0x486d91['targetPath']['substring'](_0x486d91['targetPath']['length']-(0x1461+0x11a8*-0x2+0x3bf*0x4))==='localRotat'+'ion'?_0x4187dd=Vo['TYPE_QUAT']:_0x4187dd=Vo['TYPE_VEC3'],_0xf40b9e['animCompon'+'ent']['targets'][_0x486d91['targetPath']]=new Vo(_0xf40b9e['animCompon'+'ent'],_0x4187dd);}_0xf40b9e['animCompon'+'ent']['targets'][_0x486d91['targetPath']]['layerCount'+'er']++,_0xf40b9e['animCompon'+'ent']['targets'][_0x486d91['targetPath']]['setMask'](_0xf40b9e['layerIndex'],0x2*-0x11aa+-0x1bf4+0x3f49);}}_0x57c8d9&&(_0x57c8d9['curves']++,_0x112e5c['push'](_0x31be1d['_results'][_0x4ed84b]),_0x393d5e['push'](_0x57c8d9));}}this['_clips']['push'](_0x386ab8),this['_inputs']['push'](_0x112e5c),this['_outputs']['push'](_0x393d5e);}['removeClip'](_0x264532){const _0x44b4fb=this['_targets'],_0x3a8a8a=this['_binder'],_0x523cc3=this['_clips'],_0x5d304a=_0x523cc3[_0x264532]['track']['curves'];for(let _0x1db01a=-0x3*0x783+0xe25+0x864;_0x1db01a<_0x5d304a['length'];++_0x1db01a){const _0xdc4de6=_0x5d304a[_0x1db01a]['paths'];for(let _0x30925f=0x18bc+-0x9*-0x1cf+-0x1*0x2903;_0x30925f<_0xdc4de6['length'];++_0x30925f){const _0x12ec9=_0xdc4de6[_0x30925f],_0x4645cf=this['_binder']['resolve'](_0x12ec9);_0x4645cf&&(_0x4645cf['curves']--,_0x4645cf['curves']===0x23ab+-0x26d5+-0xa*-0x51&&(_0x3a8a8a['unresolve'](_0x12ec9),delete _0x44b4fb[_0x4645cf['targetPath']],_0x3a8a8a['animCompon'+'ent']&&_0x3a8a8a['animCompon'+'ent']['targets'][_0x4645cf['targetPath']]['layerCount'+'er']--));}}_0x523cc3['splice'](_0x264532,0x12fb+0x1e0e+-0x3108),this['_inputs']['splice'](_0x264532,-0x2*0xd21+0x13*0x106+-0x5*-0x15d),this['_outputs']['splice'](_0x264532,0x2a1*0x3+0xd79+-0x155b);}['removeClip'+'s'](){for(;this['_clips']['length']>0x5*0x21+-0xa*-0x1d7+0x1*-0x130b;)this['removeClip'](0x24a9+-0xe7d+0x56*-0x42);}['updateClip'+'Track'](_0x423cd4,_0x58b7ef){this['_clips']['forEach'](_0x28adef=>{_0x28adef['name']['includes'](_0x423cd4)&&(_0x28adef['track']=_0x58b7ef);}),this['rebind']();}['findClip'](_0x1bc4b8){const _0x304a20=this['_clips'];for(let _0x11b30b=0x183+-0x193*-0x18+-0x59d*0x7;_0x11b30b<_0x304a20['length'];++_0x11b30b){const _0x28e918=_0x304a20[_0x11b30b];if(_0x28e918['name']===_0x1bc4b8)return _0x28e918;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x18828b=[...this['clips']];this['removeClip'+'s'](),_0x18828b['forEach'](_0x468dd0=>{this['addClip'](_0x468dd0);});}['assignMask'](_0x50fda1){return this['_binder']['assignMask'](_0x50fda1);}['update'](_0xeee3ab,_0x5b2aaf=!(-0x53*-0x5d+0x1d2+-0x5*0x665)){const _0x21ea5a=this['_clips'],_0xfdf710=_0x21ea5a['map']((_0x1beed5,_0xca522e)=>_0xca522e);Ht['stableSort'](_0xfdf710,(_0x55945d,_0x3e234c)=>_0x21ea5a[_0x55945d]['blendOrder']<_0x21ea5a[_0x3e234c]['blendOrder']);for(let _0x8028d0=0x23b5+0x1e06+-0x41bb;_0x8028d0<_0xfdf710['length'];++_0x8028d0){const _0x3b2e44=_0xfdf710[_0x8028d0],_0x22faab=_0x21ea5a[_0x3b2e44],_0x44f340=this['_inputs'][_0x3b2e44],_0x2b83fb=this['_outputs'][_0x3b2e44],_0x43dbb0=_0x22faab['blendWeigh'+'t'];if(_0x43dbb0>0x22a*-0x5+0x1c64+-0xd*0x15a&&_0x22faab['_update'](_0xeee3ab),!_0x5b2aaf)break;let _0x3dea4c,_0x12b5e4,_0x45f53d;if(_0x43dbb0>=-0x251+0x1*-0x1999+0x1*0x1beb){for(let _0x30f711=0x13e*0x19+0x2241+0x1*-0x414f;_0x30f711<_0x44f340['length'];++_0x30f711)_0x3dea4c=_0x44f340[_0x30f711],_0x12b5e4=_0x2b83fb[_0x30f711],_0x45f53d=_0x12b5e4['value'],Ht['set'](_0x45f53d,_0x3dea4c,_0x12b5e4['target']['type']),_0x12b5e4['blendCount'+'er']++;}else{if(_0x43dbb0>-0x8*0x479+-0xea5*0x1+0x3*0x10cf){for(let _0x589f6f=-0x7c3+0x1*0x2361+-0x23*0xca;_0x589f6f<_0x44f340['length'];++_0x589f6f)_0x3dea4c=_0x44f340[_0x589f6f],_0x12b5e4=_0x2b83fb[_0x589f6f],_0x45f53d=_0x12b5e4['value'],_0x12b5e4['blendCount'+'er']===0x21e*-0x4+0x2032*0x1+-0x17ba?Ht['set'](_0x45f53d,_0x3dea4c,_0x12b5e4['target']['type']):Ht['blend'](_0x45f53d,_0x3dea4c,_0x43dbb0,_0x12b5e4['target']['type']),_0x12b5e4['blendCount'+'er']++;}}}const _0x5b6e7a=this['_targets'],_0x6fd891=this['_binder'];for(const _0x171a21 in _0x5b6e7a)if(_0x5b6e7a['hasOwnProp'+'erty'](_0x171a21)){const _0x1ac375=_0x5b6e7a[_0x171a21];if(_0x6fd891['animCompon'+'ent']&&_0x1ac375['target']['isTransfor'+'m']){const _0x28913f=_0x6fd891['animCompon'+'ent']['targets'][_0x171a21];_0x28913f['counter']===_0x28913f['layerCount'+'er']&&(_0x28913f['counter']=-0x2280+-0x1f98+-0x1086*-0x4),_0x28913f['path']||(_0x28913f['path']=_0x171a21,_0x28913f['baseValue']=_0x1ac375['target']['get'](),_0x28913f['setter']=_0x1ac375['target']['set']),_0x28913f['updateValu'+'e'](_0x6fd891['layerIndex'],_0x1ac375['value']),_0x28913f['counter']++;}else _0x1ac375['target']['set'](_0x1ac375['value']);_0x1ac375['blendCount'+'er']=0x870+0x263*-0xd+0x1697*0x1;}this['_binder']['update'](_0xeee3ab);}}class Hv{constructor(_0x10ee00){this['_events']=[..._0x10ee00],this['_events']['sort']((_0x3b4c72,_0x239424)=>_0x3b4c72['time']-_0x239424['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x503ca6,_0x4cc028,_0x5583d7,_0x428528,_0x280d0b,_0xf32d2f=new Hv([])){this['_name']=_0x503ca6,this['_duration']=_0x4cc028,this['_inputs']=_0x5583d7,this['_outputs']=_0x428528,this['_curves']=_0x280d0b,this['_animEvent'+'s']=_0xf32d2f;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x726831){this['_animEvent'+'s']=_0x726831;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x54ec58,_0x4e7efa){_0x4e7efa['_time']=_0x54ec58;const _0x22565b=this['_inputs'],_0x53c59e=this['_outputs'],_0x26571b=this['_curves'],_0x167a55=_0x4e7efa['_cache'],_0x2d1311=_0x4e7efa['_results'];for(let _0x31f74d=0x1d*-0xfd+-0x1496*-0x1+0x9f*0xd;_0x31f74d<_0x22565b['length'];++_0x31f74d)_0x167a55[_0x31f74d]['update'](_0x54ec58,_0x22565b[_0x31f74d]['_data']);for(let _0x19cda7=-0x16f*0x5+-0x214+0x93f*0x1;_0x19cda7<_0x26571b['length'];++_0x19cda7){const _0x48df8a=_0x26571b[_0x19cda7],_0x34506b=_0x53c59e[_0x48df8a['_output']],_0x17901a=_0x2d1311[_0x19cda7];_0x167a55[_0x48df8a['_input']]['eval'](_0x17901a,_0x48df8a['_interpola'+'tion'],_0x34506b);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x44a484,_0x4623ca){_0x4623ca=_0x4623ca||'.';const _0x48c26f=function(_0x465eba){return _0x465eba['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x4623ca,'g'),'\x5c'+_0x4623ca);};return _0x44a484['map'](_0x48c26f)['join'](_0x4623ca);}static['splitPath'](_0x393f55,_0x21cb70){_0x21cb70=_0x21cb70||'.';const _0x1b717c=[];let _0x40cf82='',_0x681fd0=-0x6d*-0x53+0x4ab*0x6+0x1*-0x3f59;for(;_0x681fd0<_0x393f55['length'];){let _0x35d269=_0x393f55[_0x681fd0++];_0x35d269==='\x5c'&&_0x681fd0<_0x393f55['length']?(_0x35d269=_0x393f55[_0x681fd0++],_0x35d269==='\x5c'||_0x35d269===_0x21cb70?_0x40cf82+=_0x35d269:_0x40cf82+='\x5c'+_0x35d269):_0x35d269===_0x21cb70?(_0x1b717c['push'](_0x40cf82),_0x40cf82=''):_0x40cf82+=_0x35d269;}return _0x40cf82['length']>0xd9*-0x4+-0x5fb+0x95f&&_0x1b717c['push'](_0x40cf82),_0x1b717c;}static['encode'](_0x1ecef3,_0x3a2075,_0x4d70a2){return(Array['isArray'](_0x1ecef3)?_0x1ecef3['join']('/'):_0x1ecef3)+'/'+_0x3a2075+'/'+(Array['isArray'](_0x4d70a2)?_0x4d70a2['join']('/'):_0x4d70a2);}['resolve'](_0x9a4a50){return null;}['unresolve'](_0x1032c9){}['update'](_0x2081c2){}}class xu{constructor(_0x5620cb,_0x4d9b64,_0x380902,_0x37db34){_0x5620cb['set']?(this['_set']=_0x5620cb['set'],this['_get']=_0x5620cb['get']):this['_set']=_0x5620cb,this['_type']=_0x4d9b64,this['_component'+'s']=_0x380902,this['_targetPat'+'h']=_0x37db34,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x257*0x8+0xb7e+-0x1e29))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1d23+0xb*0x265+-0x376d))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x5*0x44d+0x14c0+-0x1*-0xcb))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x4d5d23){h(this,'_isPathInM'+'ask',(_0x1f85ed,_0x1674b0)=>{const _0x41997c=this['_mask'][_0x1f85ed];if(_0x41997c){if(_0x41997c['children']||_0x1674b0&&_0x41997c['value']!==!(-0x1a7a+-0xb7c+0x25f7*0x1))return!(-0xd*-0x5d+-0x13d+-0x37c);}else return!(0x12e1+0x11c*0x1b+-0x30d4);return!(0x23e8+-0x6ad+-0x1d3a);});if(this['graph']=_0x4d5d23,!_0x4d5d23)return;this['_mask']=null;const _0x2517a1={},_0x53cf4d=function(_0x2c1809){_0x2517a1[_0x2c1809['name']]=_0x2c1809;for(let _0x4e9524=0x52f+0x137f+-0x18ae;_0x4e9524<_0x2c1809['children']['length'];++_0x4e9524)_0x53cf4d(_0x2c1809['children'][_0x4e9524]);};_0x53cf4d(_0x4d5d23),this['nodes']=_0x2517a1,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x599862=function(_0x205eb0){let _0x1639c1=_0x205eb0;for(;_0x1639c1&&!(_0x1639c1 instanceof lt);)_0x1639c1=_0x1639c1['parent'];let _0x399e6d;return _0x1639c1&&(_0x1639c1['render']?_0x399e6d=_0x1639c1['render']['meshInstan'+'ces']:_0x1639c1['model']&&(_0x399e6d=_0x1639c1['model']['meshInstan'+'ces'])),_0x399e6d;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x43afbe){const _0x52ed48=_0x43afbe['localPosit'+'ion'],_0x5dd8eb=function(_0x44e567){_0x52ed48['set'](..._0x44e567);};return Sr['createAnim'+'Target'](_0x5dd8eb,'vector',-0x46*0xe+-0x2bd*0x1+0x2*0x34a,_0x43afbe,'localPosit'+'ion');},'localRotation':function(_0x25aeef){const _0x40500b=_0x25aeef['localRotat'+'ion'],_0x6f4d3c=function(_0x300067){_0x40500b['set'](..._0x300067);};return Sr['createAnim'+'Target'](_0x6f4d3c,'quaternion',0x233a+0x241c+-0x3*0x17c6,_0x25aeef,'localRotat'+'ion');},'localScale':function(_0x1b5350){const _0x3ba497=_0x1b5350['localScale'],_0x1bb15e=function(_0x940f7){_0x3ba497['set'](..._0x940f7);};return Sr['createAnim'+'Target'](_0x1bb15e,'vector',0xd50+-0x1*0x1563+0x40b*0x2,_0x1b5350,'localScale');},'weight':function(_0xbb3b3b,_0x1ebd03){_0x1ebd03['indexOf']('name.')===-0x1360+-0x86*0x24+0x2638?_0x1ebd03=_0x1ebd03['replace']('name.',''):_0x1ebd03=Number(_0x1ebd03);const _0x1b3cfb=_0x599862(_0xbb3b3b);let _0x5c38dd;if(_0x1b3cfb){for(let _0x21efe5=-0xa94+-0x2*0xc7a+0x1*0x2388;_0x21efe5<_0x1b3cfb['length'];++_0x21efe5)if(_0x1b3cfb[_0x21efe5]['node']['name']===_0xbb3b3b['name']&&_0x1b3cfb[_0x21efe5]['morphInsta'+'nce']){const _0x36df01=_0x1b3cfb[_0x21efe5]['morphInsta'+'nce'],_0x391a0b=_0x554b42=>{_0x36df01['setWeight'](_0x1ebd03,_0x554b42[0x1504+0x17af+-0x2cb3]);};_0x5c38dd||(_0x5c38dd=[]),_0x5c38dd['push'](_0x391a0b);}}if(_0x5c38dd){const _0x495dbd=_0x36ee0c=>{for(let _0x1e7ea0=0x63b+-0x67d+-0x6*-0xb;_0x1e7ea0<_0x5c38dd['length'];++_0x1e7ea0)_0x5c38dd[_0x1e7ea0](_0x36ee0c);};return Sr['createAnim'+'Target'](_0x495dbd,'number',0x1*-0x1573+0x169a+-0x126,_0xbb3b3b,'weight.'+_0x1ebd03);}return null;},'materialTexture':(_0x59fb4d,_0x1feb5c)=>{const _0x2e0a36=_0x599862(_0x59fb4d);if(_0x2e0a36){let _0x166aa0;for(let _0xd94ff2=0x1772+0x3*-0x853+0x187;_0xd94ff2<_0x2e0a36['length'];++_0xd94ff2)if(_0x2e0a36[_0xd94ff2]['node']['name']===_0x59fb4d['name']){_0x166aa0=_0x2e0a36[_0xd94ff2];break;}if(_0x166aa0){const _0x3ad19c=_0x5aebfe=>{const _0x30aa84=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x5aebfe[0x1d*-0x1f+-0xb01+0x4*0x3a1]);_0x30aa84&&_0x30aa84['resource']&&_0x30aa84['type']==='texture'&&(_0x166aa0['material'][_0x1feb5c]=_0x30aa84['resource'],_0x166aa0['material']['update']());};return Sr['createAnim'+'Target'](_0x3ad19c,'vector',0x1921+-0x1d16+-0x1*-0x3f6,_0x59fb4d,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x2d4625){if(!this['_mask'])return!(0x2130+-0x2161*0x1+0x1*0x31);const _0x834870=[_0x2d4625['entityPath'][0x2156+-0x4f*0x7+0x15b*-0x17],this['graph']['name']];for(let _0x22588c=-0x935+-0x1*-0x1fd8+-0x5*0x487;_0x22588c<_0x834870['length'];++_0x22588c){let _0x53a3d7=_0x834870[_0x22588c];if(this['_isPathInM'+'ask'](_0x53a3d7,_0x2d4625['entityPath']['length']===0x22a0+-0x1958+-0x947))return!(-0x7*0x511+0x4*-0x377+0x3153);for(let _0x977e58=0x1220*-0x1+0x1*-0x191a+0x3*0xe69;_0x977e58<_0x2d4625['entityPath']['length'];_0x977e58++)if(_0x53a3d7+='/'+_0x2d4625['entityPath'][_0x977e58],this['_isPathInM'+'ask'](_0x53a3d7,_0x977e58===_0x2d4625['entityPath']['length']-(-0x16a9+0x83*-0x18+-0x47*-0x7e)))return!(-0x10e7*0x1+0x869+0x1*0x87e);}return!(0x1211+0x1*-0x4b7+-0xc9*0x11);}['findNode'](_0x5e1300){if(!this['_isPathAct'+'ive'](_0x5e1300))return null;let _0x28843d;if(this['graph']&&(_0x28843d=this['graph']['findByPath'](_0x5e1300['entityPath']),_0x28843d||(_0x28843d=this['graph']['findByPath'](_0x5e1300['entityPath']['slice'](-0x2d9*0x5+-0x1fd*0x2+0x1238)))),!_0x28843d){_0x28843d=this['nodes'][_0x5e1300['entityPath'][_0x5e1300['entityPath']['length']-(0x1df*0x14+-0x16cb+-0x24*0x68)]||''];const _0x382a5d=ra['encode'](_0x5e1300['entityPath'][_0x5e1300['entityPath']['length']-(0xece+0xa23+-0x18f0)]||'','graph',_0x5e1300['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x382a5d]===0x743+-0x1f*0x8+-0x64a&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x382a5d+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x382a5d])?this['visitedFal'+'lbackGraph'+'Paths'][_0x382a5d]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x382a5d]=-0x1bc7+-0x99*0x40+0x1*0x4207;}return _0x28843d;}static['createAnim'+'Target'](_0x2be8ad,_0x1b5c2a,_0x295f27,_0x1336ab,_0x5a58ba,_0x49768f){const _0x194ee3=ra['encode'](_0x1336ab['path'],_0x49768f||'entity',_0x5a58ba);return new xu(_0x2be8ad,_0x1b5c2a,_0x295f27,_0x194ee3);}['resolve'](_0x2cb01b){const _0x389991=ra['encode'](_0x2cb01b['entityPath'],_0x2cb01b['component'],_0x2cb01b['propertyPa'+'th']);let _0x105010=this['targetCach'+'e'][_0x389991];if(_0x105010)return _0x105010;const _0x1d8b71=this['findNode'](_0x2cb01b);if(!_0x1d8b71)return null;const _0x1ca344=this['handlers'][_0x2cb01b['propertyPa'+'th']];return!_0x1ca344||(_0x105010=_0x1ca344(_0x1d8b71),!_0x105010)?null:(this['targetCach'+'e'][_0x389991]=_0x105010,this['nodeCounts'][_0x1d8b71['path']]?this['nodeCounts'][_0x1d8b71['path']]++:(this['activeNode'+'s']['push'](_0x1d8b71),this['nodeCounts'][_0x1d8b71['path']]=-0x5*0x739+0xe45+0x2f*0x77),_0x105010);}['unresolve'](_0x191e2d){if(_0x191e2d['component']!=='graph')return;const _0x5b1ab0=this['nodes'][_0x191e2d['entityPath'][_0x191e2d['entityPath']['length']-(-0x2a7*0xd+0x13f3*-0x1+0x366f*0x1)]||''];if(this['nodeCounts'][_0x5b1ab0['path']]--,this['nodeCounts'][_0x5b1ab0['path']]===-0x1789+-0x1963*-0x1+-0x1da){const _0x2e89f7=this['activeNode'+'s'],_0x5e004c=_0x2e89f7['indexOf'](_0x5b1ab0['node']),_0x5dd2cd=_0x2e89f7['length'];_0x5e004c<_0x5dd2cd-(-0x243c+0xe63+0x15da)&&(_0x2e89f7[_0x5e004c]=_0x2e89f7[_0x5dd2cd-(-0x130+-0x53*0x3d+0xf4*0x16)]),_0x2e89f7['pop']();}}['update'](_0x400f08){const _0x3d4133=this['activeNode'+'s'];for(let _0x2a2e24=-0xc82*0x1+0x1d05*0x1+0x3*-0x581;_0x2a2e24<_0x3d4133['length'];++_0x2a2e24)_0x3d4133[_0x2a2e24]['_dirtifyLo'+'cal']();}['assignMask'](_0x1538de){return _0x1538de!==this['_mask']?(this['_mask']=_0x1538de,!(0xe9*0x1a+0x1*0x151c+-0x2cc6)):!(0x1*0x7ca+-0x207b+0x18b2);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x24d2+-0x159*0xc+-0x34fe*-0x1)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',-0xb9*0x12+0xa43+0x2bf),h(this,'blending',!(0x1*0x2469+0x64d*0x4+0x3d9c*-0x1)),h(this,'blendSpeed',0xb*0x272+-0x8b*0xf+-0x1*0x12c1),h(this,'activate',!(-0x1*-0x1afa+0x212+-0x1d0c)),h(this,'speed',-0x137*0x16+0x4*-0x8ae+-0x3d73*-0x1);}set['animations'](_0x563b28){this['_animation'+'s']=_0x563b28,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x27c0c6){const _0x359a6d=this['_assets'];if(_0x359a6d&&_0x359a6d['length']){for(let _0x22ba06=0xcb7*-0x2+0x2f6*0x9+-0x68*0x3;_0x22ba06<_0x359a6d['length'];_0x22ba06++)if(_0x359a6d[_0x22ba06]){const _0x17fbfd=this['system']['app']['assets']['get'](_0x359a6d[_0x22ba06]);if(_0x17fbfd){_0x17fbfd['off']('change',this['onAssetCha'+'nged'],this),_0x17fbfd['off']('remove',this['onAssetRem'+'oved'],this);const _0x51a115=this['animations'+'Index'][_0x17fbfd['id']];this['currAnim']===_0x51a115&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x51a115],delete this['animations'+'Index'][_0x17fbfd['id']];}}}this['_assets']=_0x27c0c6;const _0x152ad7=_0x27c0c6['map'](_0x2675eb=>_0x2675eb instanceof pe?_0x2675eb['id']:_0x2675eb);this['loadAnimat'+'ionAssets'](_0x152ad7);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x27817c){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x27817c,this['skeleton']['addTime'](-0x1*0x1f4f+0x29*0x3+0x4*0x7b5),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x579e00=this['animEvalua'+'tor']['clips'];for(let _0x1160ae=-0x13b7+0x17*0x157+-0xb1a;_0x1160ae<_0x579e00['length'];++_0x1160ae)_0x579e00[_0x1160ae]['time']=_0x27817c;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x443176=this['animEvalua'+'tor']['clips'];if(_0x443176['length']>-0x6dd+0x1086+-0x9a9)return _0x443176[_0x443176['length']-(-0x1e2f+0x17c8+0x668)]['time'];}return-0x1*0x242b+-0x1c*-0x12e+-0xb*-0x49;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x21d5+0x1*-0x1cde+0x3eb3);}set['loop'](_0x5c8b53){if(this['_loop']=_0x5c8b53,this['skeleton']&&(this['skeleton']['looping']=_0x5c8b53),this['animEvalua'+'tor']){for(let _0x4d0d19=-0x236e+-0x8*0x4cf+0x3*0x18a2;_0x4d0d19<this['animEvalua'+'tor']['clips']['length'];++_0x4d0d19)this['animEvalua'+'tor']['clips'][_0x4d0d19]['loop']=_0x5c8b53;}}get['loop'](){return this['_loop'];}['play'](_0x3e0d3e,_0xbad206=0x16*-0x145+0x2*0xc5e+-0x1*-0x332){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x3e0d3e]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x3e0d3e+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x3e0d3e,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x447722=this['animations'][this['prevAnim']],_0x129d98=this['animations'][this['currAnim']];if(this['blending']=_0xbad206>0x957+0x31*-0x86+0x1*0x104f&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x12f6+-0x263+0x1*0x1559,this['blendSpeed']=(0x88*-0x40+-0x166*-0xd+0xfd3)/_0xbad206),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x447722,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x129d98):this['skeleton']['animation']=_0x129d98),this['animEvalua'+'tor']){const _0x141629=this['animEvalua'+'tor'];if(this['blending']){for(;_0x141629['clips']['length']>-0x236b+0x2414+0x4*-0x2a;)_0x141629['removeClip'](0x2d9*0xb+-0x3e*0x59+-0x3d*0x29);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x1fad79=new Dh(this['animations'][this['currAnim']],-0x169*-0x1+0x1*-0x25+0x1*-0x144,-0xce3+-0x1*-0x2113+0x1*-0x142f,!(-0x172d+0x3d*-0x82+0x3627),this['loop']);_0x1fad79['name']=this['currAnim'],_0x1fad79['blendWeigh'+'t']=this['blending']?-0xee2+-0x22*-0xb9+-0x9b0:-0x643*-0x2+0x19*-0x158+0x437*0x5,_0x1fad79['reset'](),this['animEvalua'+'tor']['addClip'](_0x1fad79);}}this['playing']=!(-0x1981*0x1+0x10*0x22b+0x1*-0x92f);}}['getAnimati'+'on'](_0x3346e3){return this['animations'][_0x3346e3];}['setModel'](_0x500acf){_0x500acf!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x500acf,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x5a611a=this['entity']['model'];if(_0x5a611a){const _0x391557=_0x5a611a['model'];_0x391557&&_0x391557!==this['model']&&this['setModel'](_0x391557);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x78fdd5=Object['keys'](this['_animation'+'s']);_0x78fdd5['length']>-0x527+0x2*0xe6d+0x17b3*-0x1&&this['play'](_0x78fdd5[0x16a9*-0x1+-0x3*-0x169+0xe*0x151]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x52bf0f=this['model'],_0x2be9cb=this['animations'];let _0x1588da=!(0x26eb+-0x143f*-0x1+-0x3b29*0x1),_0x4211df=!(-0x18df+-0x1*0xe3e+0x271e);for(const _0x1d9760 in _0x2be9cb)_0x2be9cb['hasOwnProp'+'erty'](_0x1d9760)&&(_0x2be9cb[_0x1d9760]['constructo'+'r']===Qi?_0x4211df=!(0x4*0x24+0x203f+-0x1*0x20cf):_0x1588da=!(-0x7d5*-0x1+-0x53*0x43+0xde4));const _0x5b0837=_0x52bf0f['getGraph']();_0x1588da?(this['fromSkel']=new Sf(_0x5b0837),this['toSkel']=new Sf(_0x5b0837),this['skeleton']=new Sf(_0x5b0837),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5b0837)):_0x4211df&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x1b80fc){if(!_0x1b80fc||!_0x1b80fc['length'])return;const _0x65089f=this['system']['app']['assets'],_0x29f161=_0xb24247=>{if(_0xb24247['resources']['length']>0xcca+0x14bd+-0x2186){for(let _0x57df07=-0x59*0x56+-0x174+0x1f5a;_0x57df07<_0xb24247['resources']['length'];_0x57df07++)this['animations'][_0xb24247['resources'][_0x57df07]['name']]=_0xb24247['resources'][_0x57df07],this['animations'+'Index'][_0xb24247['id']]=_0xb24247['resources'][_0x57df07]['name'];}else this['animations'][_0xb24247['name']]=_0xb24247['resource'],this['animations'+'Index'][_0xb24247['id']]=_0xb24247['name'];this['animations']=this['animations'];},_0x67fcce=_0xcae8d0=>{_0xcae8d0['off']('change',this['onAssetCha'+'nged'],this),_0xcae8d0['on']('change',this['onAssetCha'+'nged'],this),_0xcae8d0['off']('remove',this['onAssetRem'+'oved'],this),_0xcae8d0['on']('remove',this['onAssetRem'+'oved'],this),_0xcae8d0['resource']?_0x29f161(_0xcae8d0):(_0xcae8d0['once']('load',_0x29f161,this),this['enabled']&&this['entity']['enabled']&&_0x65089f['load'](_0xcae8d0));};for(let _0x184d15=-0x70a*0x5+-0x15d*-0x1+0x21d5,_0x117176=_0x1b80fc['length'];_0x184d15<_0x117176;_0x184d15++){const _0x519591=_0x65089f['get'](_0x1b80fc[_0x184d15]);_0x519591?_0x67fcce(_0x519591):_0x65089f['on']('add:'+_0x1b80fc[_0x184d15],_0x67fcce);}}['onAssetCha'+'nged'](_0x21c955,_0x21fbe1,_0xeea759,_0x3ebc0f){if(_0x21fbe1==='resource'||_0x21fbe1==='resources'){if(_0x21fbe1==='resources'&&_0xeea759&&_0xeea759['length']===0x11de+0x261a+0x8*-0x6ff&&(_0xeea759=null),_0xeea759){let _0x4d0869=!(-0x1a54+0x1*-0x11b7+0x2c0c);if(_0xeea759['length']>-0x21f9*-0x1+0x1df+-0x23d7){if(_0x3ebc0f&&_0x3ebc0f['length']>0x52*0x2b+0x1*-0x1304+-0x1*-0x53f){for(let _0x2c5ace=0x243+0x11e6+0xd*-0x18d;_0x2c5ace<_0x3ebc0f['length'];_0x2c5ace++)delete this['animations'][_0x3ebc0f[_0x2c5ace]['name']];}else delete this['animations'][_0x21c955['name']];_0x4d0869=!(0x2609+0x1ff+-0x2807);for(let _0x258eb5=-0x495*-0x6+-0x2139+0x1*0x5bb;_0x258eb5<_0xeea759['length'];_0x258eb5++)this['animations'][_0xeea759[_0x258eb5]['name']]=_0xeea759[_0x258eb5],!_0x4d0869&&this['currAnim']===_0xeea759[_0x258eb5]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4d0869=!(-0x16a1+-0x1e8c+0x352d),this['play'](_0xeea759[_0x258eb5]['name']));_0x4d0869||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x3ebc0f&&_0x3ebc0f['length']>-0x1*0x1dc5+0x47*0x37+0xe85){for(let _0x456700=-0x11c9+-0x9*0x80+-0x32f*-0x7;_0x456700<_0x3ebc0f['length'];_0x456700++)delete this['animations'][_0x3ebc0f[_0x456700]['name']];}this['animations'][_0x21c955['name']]=_0xeea759[0x15*-0x77+-0x91*0x17+0x16ca]||_0xeea759,_0x4d0869=!(-0x5*-0xf4+-0x26b*-0x2+-0x5b*0x1b),this['currAnim']===_0x21c955['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4d0869=!(-0x1b6a+-0xb2f*0x1+0x2699),this['play'](_0x21c955['name'])),_0x4d0869||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x21c955['id']]=_0x21c955['name'];}else{if(_0x3ebc0f['length']>0x120b+-0xd*-0xf9+-0x1eaf){for(let _0x76d79c=-0x1903+-0x2*-0x6e2+0x1*0xb3f;_0x76d79c<_0x3ebc0f['length'];_0x76d79c++)delete this['animations'][_0x3ebc0f[_0x76d79c]['name']],this['currAnim']===_0x3ebc0f[_0x76d79c]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x21c955['name']],this['currAnim']===_0x21c955['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x21c955['id']];}}}['onAssetRem'+'oved'](_0x2d5baf){if(_0x2d5baf['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x2d5baf['resources']['length']>0x1e11+0x133+0x97*-0x35){for(let _0x4c8f3d=-0x49d*-0x1+0x892*0x2+-0x15c1*0x1;_0x4c8f3d<_0x2d5baf['resources']['length'];_0x4c8f3d++)delete this['animations'][_0x2d5baf['resources'][_0x4c8f3d]['name']],this['currAnim']===_0x2d5baf['resources'][_0x4c8f3d]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2d5baf['name']],this['currAnim']===_0x2d5baf['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2d5baf['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x2b0+0x852+-0x1*0xb01),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1*-0x1877+0xfcf+0x115*0x8,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x468c6b=-0x6e+0x3*0x3d5+-0x1*0xb11;_0x468c6b<this['animEvalua'+'tor']['clips']['length'];++_0x468c6b)this['animEvalua'+'tor']['clips'][_0x468c6b]['stop']();this['animEvalua'+'tor']['update'](0xb*0x12e+0x1893+0x1*-0x258d),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0xce3387=this['assets'],_0x24ec82=this['system']['app']['assets'];if(_0xce3387)for(let _0x4f22f0=0x2491+-0xd*-0x12f+-0x33f4,_0x2c522d=_0xce3387['length'];_0x4f22f0<_0x2c522d;_0x4f22f0++){let _0x5fc3c8=_0xce3387[_0x4f22f0];_0x5fc3c8 instanceof pe||(_0x5fc3c8=_0x24ec82['get'](_0x5fc3c8)),_0x5fc3c8&&!_0x5fc3c8['resource']&&_0x24ec82['load'](_0x5fc3c8);}if(this['activate']&&!this['currAnim']){const _0x402c49=Object['keys'](this['animations']);_0x402c49['length']>0x1186+0x12e9*0x1+-0xc25*0x3&&this['play'](_0x402c49[0x5*0x6a0+-0x2cd*-0x1+-0x21d*0x11]);}}['onBeforeRe'+'move'](){for(let _0x12e1e2=-0x100e+-0x174+-0x53*-0x36;_0x12e1e2<this['assets']['length'];_0x12e1e2++){let _0x5419f7=this['assets'][_0x12e1e2];typeof _0x5419f7=='number'&&(_0x5419f7=this['system']['app']['assets']['get'](_0x5419f7)),_0x5419f7&&(_0x5419f7['off']('change',this['onAssetCha'+'nged'],this),_0x5419f7['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x2393bb){if(this['blending']&&(this['blend']+=_0x2393bb*this['blendSpeed'],this['blend']>=0x1871+-0x212e+0x45f*0x2&&(this['blend']=0x1f*0x36+0x228c+0x2915*-0x1)),this['playing']){const _0x25196b=this['skeleton'];if(_0x25196b!==null&&this['model']!==null){if(this['blending'])_0x25196b['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x2bd284=_0x2393bb*this['speed'];_0x25196b['addTime'](_0x2bd284),this['speed']>-0x1002+-0x73a+0x173c&&_0x25196b['_time']===_0x25196b['animation']['duration']&&!this['loop']?this['playing']=!(0x1ef1+0x1911+-0x3801):this['speed']<0x1f3c+-0x33a+-0x1c02&&_0x25196b['_time']===0x1*-0x1ba7+0x116b+0xa3c&&!this['loop']&&(this['playing']=!(0x991*-0x3+-0x18a5+0x3559));}this['blending']&&this['blend']===-0xe*0xc5+-0x43*0xa+0xd65&&(_0x25196b['animation']=this['toSkel']['animation']),_0x25196b['updateGrap'+'h']();}}const _0x39e25b=this['animEvalua'+'tor'];if(_0x39e25b){for(let _0x506c62=-0x26*-0x89+-0x15b6+0x16*0x10;_0x506c62<_0x39e25b['clips']['length'];++_0x506c62){const _0x4edc37=_0x39e25b['clips'][_0x506c62];_0x4edc37['speed']=this['speed'],this['playing']?_0x4edc37['resume']():_0x4edc37['pause']();}this['blending']&&_0x39e25b['clips']['length']>-0x425+-0x2ee+0x1*0x714&&(_0x39e25b['clips'][0x142a+0x10f+-0x308*0x7]['blendWeigh'+'t']=this['blend']),_0x39e25b['update'](_0x2393bb);}this['blending']&&this['blend']===0x3*-0x372+-0x1a82+0x24d9&&(this['blending']=!(-0x8*0x15a+0x1*-0x1587+-0x2b2*-0xc));}}class LL{constructor(){this['enabled']=!(0x11ac+-0x20d9+0xf2d);}}const Tu=['enabled'];class RL extends ct{constructor(_0x4e5879){super(_0x4e5879),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4b6a6f,_0x4c5593,_0x24fa57){_0x24fa57=['activate','enabled','loop','speed','assets'];for(const _0x463f35 of _0x24fa57)_0x4c5593['hasOwnProp'+'erty'](_0x463f35)&&(_0x4b6a6f[_0x463f35]=_0x4c5593[_0x463f35]);super['initialize'+'ComponentD'+'ata'](_0x4b6a6f,_0x4c5593,Tu);}['cloneCompo'+'nent'](_0x5bcd12,_0x478c1b){this['addCompone'+'nt'](_0x478c1b,{}),_0x478c1b['animation']['assets']=_0x5bcd12['animation']['assets']['slice'](),_0x478c1b['animation']['speed']=_0x5bcd12['animation']['speed'],_0x478c1b['animation']['loop']=_0x5bcd12['animation']['loop'],_0x478c1b['animation']['activate']=_0x5bcd12['animation']['activate'],_0x478c1b['animation']['enabled']=_0x5bcd12['animation']['enabled'];const _0x367950={},_0x4ab397=_0x5bcd12['animation']['animations'];for(const _0xeccc7 in _0x4ab397)_0x4ab397['hasOwnProp'+'erty'](_0xeccc7)&&(_0x367950[_0xeccc7]=_0x4ab397[_0xeccc7]);_0x478c1b['animation']['animations']=_0x367950;const _0x85daf1={},_0xf6ac9d=_0x5bcd12['animation']['animations'+'Index'];for(const _0x211901 in _0xf6ac9d)_0xf6ac9d['hasOwnProp'+'erty'](_0x211901)&&(_0x85daf1[_0x211901]=_0xf6ac9d[_0x211901]);return _0x478c1b['animation']['animations'+'Index']=_0x85daf1,_0x478c1b['animation'];}['onBeforeRe'+'move'](_0x6d0421,_0x3bec41){_0x3bec41['onBeforeRe'+'move']();}['onUpdate'](_0xad2ea3){const _0x26ce9c=this['store'];for(const _0x54d2c0 in _0x26ce9c)if(_0x26ce9c['hasOwnProp'+'erty'](_0x54d2c0)){const _0xee24ef=_0x26ce9c[_0x54d2c0];_0xee24ef['data']['enabled']&&_0xee24ef['entity']['enabled']&&_0xee24ef['entity']['animation']['update'](_0xad2ea3);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x190a90,_0x449d04,_0x32cc7a,_0x50151e,_0x4f6c47=0x253e+0x5*-0x7aa+0x115*0x1){this['_state']=_0x190a90,this['_parent']=_0x449d04,this['_name']=_0x32cc7a,Array['isArray'](_0x50151e)?(this['_point']=new J(_0x50151e[0x925*-0x2+0x260d+0x1*-0x13c3],_0x50151e[0x1*0x1a73+-0x19e7+-0x8b]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x50151e,this['_pointLeng'+'th']=_0x50151e),this['_speed']=_0x4f6c47,this['_weightedS'+'peed']=0x1*-0x139+-0xe2*-0x1+0x58,this['_weight']=-0x145d+-0x720+0x1b7e,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x489e1f){this['_weight']=_0x489e1f;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x42975b=this['_state']['totalWeigh'+'t'];return _0x42975b===-0x841*0x4+0x92b*0x2+0xeae?0x15d2+-0x713*0x1+-0xebf:this['weight']/_0x42975b;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x41207c){this['_weightedS'+'peed']=_0x41207c;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x10e6a4){this['_animTrack']=_0x10e6a4;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x3f5946,_0x1e4366,_0x3b3407,_0x552d36,_0x4b3ed6,_0xd7715a,_0x46aa4b,_0x223d29,_0x16234a){super(_0x3f5946,_0x1e4366,_0x3b3407,_0x552d36),this['_parameter'+'s']=_0x4b3ed6,this['_parameter'+'Values']=new Array(_0x4b3ed6['length']),this['_children']=[],this['_findParam'+'eter']=_0x16234a,this['_syncAnima'+'tions']=_0x46aa4b!==!(0x1672+-0x2564+0xef3),this['_pointCach'+'e']={};for(let _0x2029d2=-0x1*-0x957+0x10bb*0x1+-0x2*0xd09;_0x2029d2<_0xd7715a['length'];_0x2029d2++){const _0x15ef7e=_0xd7715a[_0x2029d2];_0x15ef7e['children']?this['_children']['push'](_0x223d29(_0x15ef7e['type'],_0x3f5946,this,_0x15ef7e['name'],0x739+0x1923+-0x205b,_0x15ef7e['parameter']?[_0x15ef7e['parameter']]:_0x15ef7e['parameters'],_0x15ef7e['children'],_0x15ef7e['syncAnimat'+'ions'],_0x223d29,_0x16234a)):this['_children']['push'](new ml(_0x3f5946,this,_0x15ef7e['name'],_0x15ef7e['point'],_0x15ef7e['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x37da0d){for(let _0x44db82=0x89*0x1e+0x249f+-0x34ad;_0x44db82<this['_children']['length'];_0x44db82++)if(this['_children'][_0x44db82]['name']===_0x37da0d)return this['_children'][_0x44db82];return null;}['updatePara'+'meterValue'+'s'](){let _0x4abfa8=!(-0x24dd+-0x41*-0x85+0x318);for(let _0x1e0ea8=-0x2*0xf0e+0x2*-0xf09+0x3c2e;_0x1e0ea8<this['_parameter'+'Values']['length'];_0x1e0ea8++){const _0xb1ca44=this['_findParam'+'eter'](this['_parameter'+'s'][_0x1e0ea8])['value'];this['_parameter'+'Values'][_0x1e0ea8]!==_0xb1ca44&&(this['_parameter'+'Values'][_0x1e0ea8]=_0xb1ca44,_0x4abfa8=!(0xd85+-0x2458*-0x1+-0x31dc));}return _0x4abfa8;}['getNodeWei'+'ghtedDurat'+'ion'](_0x13a881){return this['_children'][_0x13a881]['animTrack']['duration']/this['_children'][_0x13a881]['speedMulti'+'plier']*this['_children'][_0x13a881]['weight'];}['getNodeCou'+'nt'](){let _0x5f0be0=0x60d+0x1a97+0x2*-0x1052;for(let _0x74bb85=-0x16af+0x21*0x5e+-0xa91*-0x1;_0x74bb85<this['_children']['length'];_0x74bb85++)this['_children'][_0x74bb85]['constructo'+'r']===Jn?_0x5f0be0+=this['_children'][_0x74bb85]['getNodeCou'+'nt']():_0x5f0be0++;return _0x5f0be0;}}class OL extends Jn{constructor(_0x115e66,_0x548e07,_0x1fa796,_0x5da1f3,_0x18db3f,_0x2377d4,_0x55e330,_0x2d6586,_0x4ad9e7){_0x2377d4['sort']((_0x5ed8b7,_0x13d4d0)=>_0x5ed8b7['point']-_0x13d4d0['point']),super(_0x115e66,_0x548e07,_0x1fa796,_0x5da1f3,_0x18db3f,_0x2377d4,_0x55e330,_0x2d6586,_0x4ad9e7);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2bbd37=-0x7*0x347+-0x1f84+0x60d*0x9;this['_children'][0x256*0x7+0x196a*-0x1+0x910]['weight']=0x1*-0x1d99+-0x1*0xd8d+0x2b26;for(let _0x561c2b=-0x1*0x1771+-0x1fff*0x1+-0x377*-0x10;_0x561c2b<this['_children']['length'];_0x561c2b++){const _0x1da0ca=this['_children'][_0x561c2b];if(_0x561c2b!==this['_children']['length']-(0xb8f+0x18fb+-0x2489)){const _0x552f9c=this['_children'][_0x561c2b+(-0x11f*0x13+-0x13f+0x17*0xfb)];if(_0x1da0ca['point']===_0x552f9c['point'])_0x1da0ca['weight']=0x1*0x1918+-0xe23+-0xaf5+0.5,_0x552f9c['weight']=-0x3a6*-0x9+-0x9bc+-0x171a+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x883*-0x3+0x1ce8+-0x4d*0xb5],_0x1da0ca['point'],_0x552f9c['point'],!(-0x241a+0x14eb+0x12b*0xd))){const _0x3cd807=Math['abs'](_0x1da0ca['point']-_0x552f9c['point']),_0x3b9283=Math['abs'](_0x1da0ca['point']-this['_parameter'+'Values'][0x1771+-0x1399+-0x3d8]),_0x1d1870=(_0x3cd807-_0x3b9283)/_0x3cd807;_0x1da0ca['weight']=_0x1d1870,_0x552f9c['weight']=-0x882+0x52*0x1a+0x2f*0x1-_0x1d1870;}else _0x552f9c['weight']=0x67*-0x57+0x7f*0x5+0x2086*0x1;}}this['_syncAnima'+'tions']&&(_0x2bbd37+=_0x1da0ca['animTrack']['duration']/_0x1da0ca['absoluteSp'+'eed']*_0x1da0ca['weight']);}if(this['_syncAnima'+'tions'])for(let _0x4527ef=-0xdc7*0x1+0x260c+-0x1845;_0x4527ef<this['_children']['length'];_0x4527ef++){const _0x1c9aba=this['_children'][_0x4527ef];_0x1c9aba['weightedSp'+'eed']=_0x1c9aba['animTrack']['duration']/_0x1c9aba['absoluteSp'+'eed']/_0x2bbd37;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x10dfbe,_0x5eb0c4){const _0x26b1b4=''+_0x10dfbe+_0x5eb0c4;return this['_pointCach'+'e'][_0x26b1b4]||(this['_pointCach'+'e'][_0x26b1b4]=this['_children'][_0x5eb0c4]['point']['clone']()['sub'](this['_children'][_0x10dfbe]['point'])),this['_pointCach'+'e'][_0x26b1b4];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5678b8,_0x5a2088;ki['_p']['set'](...this['_parameter'+'Values']),_0x5678b8=-0x111b+0x6af+0xa6c,_0x5a2088=-0xe24+0x822+-0x301*-0x2;for(let _0x3d9098=0xae7+-0xb99*-0x1+0x20*-0xb4;_0x3d9098<this['_children']['length'];_0x3d9098++){const _0x44f649=this['_children'][_0x3d9098],_0x2bb95c=_0x44f649['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x2bb95c);let _0x334a47=Number['MAX_VALUE'];for(let _0x1f9b85=-0x1*-0x24af+-0x2455*-0x1+0x1241*-0x4;_0x1f9b85<this['_children']['length'];_0x1f9b85++){if(_0x3d9098===_0x1f9b85)continue;const _0x5ce1c2=this['pointDista'+'nceCache'](_0x3d9098,_0x1f9b85),_0x70eaa0=Y['clamp'](-0x1eba+0x2235+0x37a*-0x1-ki['_pip']['dot'](_0x5ce1c2)/_0x5ce1c2['lengthSq'](),-0x2043+0xb3d+0x1506,0xa2f*-0x3+-0x1*0x345+0x21d3);_0x70eaa0<_0x334a47&&(_0x334a47=_0x70eaa0);}_0x44f649['weight']=_0x334a47,_0x5678b8+=_0x334a47,this['_syncAnima'+'tions']&&(_0x5a2088+=_0x44f649['animTrack']['duration']/_0x44f649['absoluteSp'+'eed']*_0x44f649['weight']);}for(let _0x3b3c5a=-0x7c2+0xcc9+-0x507;_0x3b3c5a<this['_children']['length'];_0x3b3c5a++){const _0x4837ba=this['_children'][_0x3b3c5a];_0x4837ba['weight']=_0x4837ba['_weight']/_0x5678b8,this['_syncAnima'+'tions']&&(_0x4837ba['weightedSp'+'eed']=_0x4837ba['animTrack']['duration']/_0x4837ba['absoluteSp'+'eed']/_0x5a2088);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x420f05,_0x56908a){const _0x488c74=''+_0x420f05+_0x56908a;return this['_pointCach'+'e'][_0x488c74]||(this['_pointCach'+'e'][_0x488c74]=new J((this['_children'][_0x56908a]['pointLengt'+'h']-this['_children'][_0x420f05]['pointLengt'+'h'])/((this['_children'][_0x56908a]['pointLengt'+'h']+this['_children'][_0x420f05]['pointLengt'+'h'])/(-0x67*0x53+-0x16d+0x22d4)),J['angleRad'](this['_children'][_0x420f05]['point'],this['_children'][_0x56908a]['point'])*(0x72+0xf88+-0xff8*0x1))),this['_pointCach'+'e'][_0x488c74];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2c4690,_0xe6a34f;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x4f91c1=Ui['_p']['length']();_0x2c4690=0x6*0x89+0x171f+-0x141*0x15,_0xe6a34f=0x7c6+0x7a8+0xa*-0x18b;for(let _0x551238=0x2*-0x90c+0x7*-0x28d+0x23f3;_0x551238<this['_children']['length'];_0x551238++){const _0x1afe70=this['_children'][_0x551238],_0x84e310=_0x1afe70['point'],_0x4c768f=_0x1afe70['pointLengt'+'h'];let _0x1467ca=Number['MAX_VALUE'];for(let _0x266446=0x1f*-0x6d+0x2*0x1fc+0x93b;_0x266446<this['_children']['length'];_0x266446++){if(_0x551238===_0x266446)continue;const _0x33293c=this['pointCache'](_0x551238,_0x266446),_0x5bcb83=this['_children'][_0x266446]['pointLengt'+'h'];Ui['_pip']['set']((_0x4f91c1-_0x4c768f)/((_0x5bcb83+_0x4c768f)/(-0xc9b+0x134a*0x2+-0x19f7)),J['angleRad'](_0x84e310,Ui['_p'])*(0x1603+0xc2d+-0x222e));const _0x296e50=Y['clamp'](0x1d90+-0x1eb3+0x2*0x92-Math['abs'](Ui['_pip']['dot'](_0x33293c)/_0x33293c['lengthSq']()),0x26dd+0x26aa+-0x4d87,-0xe4c+-0x3*-0x4bd+-0xb*-0x2);_0x296e50<_0x1467ca&&(_0x1467ca=_0x296e50);}_0x1afe70['weight']=_0x1467ca,_0x2c4690+=_0x1467ca,this['_syncAnima'+'tions']&&(_0xe6a34f+=_0x1afe70['animTrack']['duration']/_0x1afe70['absoluteSp'+'eed']*_0x1afe70['weight']);}for(let _0x4b12bb=0x1b15*-0x1+0xdb*0x9+0x1362;_0x4b12bb<this['_children']['length'];_0x4b12bb++){const _0xd1b615=this['_children'][_0x4b12bb];if(_0xd1b615['weight']=_0xd1b615['_weight']/_0x2c4690,this['_syncAnima'+'tions']){const _0x14fa7e=_0xd1b615['animTrack']['duration']/_0xe6a34f*_0x2c4690;_0xd1b615['weightedSp'+'eed']=_0xd1b615['absoluteSp'+'eed']*_0x14fa7e;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x571b1c=0x1ac9+0x16*0xa7+-0x2923*0x1,_0xb3bcba=-0xf16+-0xa9e+0x3ac*0x7;for(let _0xcff602=-0x1da9+0x1d*0x57+0x3*0x69a;_0xcff602<this['_children']['length'];_0xcff602++)if(_0x571b1c+=Math['max'](this['_parameter'+'Values'][_0xcff602],-0x196c+0xb2b+0xe41),this['_syncAnima'+'tions']){const _0x4d4253=this['_children'][_0xcff602];_0xb3bcba+=_0x4d4253['animTrack']['duration']/_0x4d4253['absoluteSp'+'eed']*_0x4d4253['weight'];}for(let _0x262b16=0x22a3*0x1+-0x3*0x611+-0x1070;_0x262b16<this['_children']['length'];_0x262b16++){const _0x3d51f4=this['_children'][_0x262b16],_0x215d88=Math['max'](this['_parameter'+'Values'][_0x262b16],-0x52a+-0x1b*0x68+0x1022);_0x571b1c?(_0x3d51f4['weight']=_0x215d88/_0x571b1c,this['_syncAnima'+'tions']&&(_0x3d51f4['weightedSp'+'eed']=_0x3d51f4['animTrack']['duration']/_0x3d51f4['absoluteSp'+'eed']/_0xb3bcba)):(_0x3d51f4['weight']=0x1*-0x19ab+0x1f*0x117+0x2*-0x40f,this['_syncAnima'+'tions']&&(_0x3d51f4['weightedSp'+'eed']=-0x60*0x58+0x2352+0xb*-0x36));}}}class Fg{constructor(_0x10c5f1,_0x41c4e4,_0x1ef820=-0x21e9+0x2b8+-0xf2*-0x21,_0x3736c8=!(0x1*0x6bf+0xcd4+-0x1393*0x1),_0x197234){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x10c5f1,this['_name']=_0x41c4e4,this['_speed']=_0x1ef820,this['_loop']=_0x3736c8,this['_hasAnimat'+'ions']=!(-0x2320+-0x268d*0x1+0x24d7*0x2),_0x197234?this['_blendTree']=this['_createTre'+'e'](_0x197234['type'],this,null,_0x41c4e4,-0x76d*0x1+0x65*0x3b+0xfd9*-0x1,_0x197234['parameter']?[_0x197234['parameter']]:_0x197234['parameters'],_0x197234['children'],_0x197234['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x41c4e4,0x8*0x56+-0xb52+0x2e1*0x3,_0x1ef820));}['_createTre'+'e'](_0x423bd4,_0x3886e2,_0x2a9cb0,_0x29c848,_0x4acd1d,_0x1483be,_0x570508,_0x5f3873,_0xe41e35,_0x3d81e4){switch(_0x423bd4){case CL:return new OL(_0x3886e2,_0x2a9cb0,_0x29c848,_0x4acd1d,_0x1483be,_0x570508,_0x5f3873,_0xe41e35,_0x3d81e4);case ML:return new wu(_0x3886e2,_0x2a9cb0,_0x29c848,_0x4acd1d,_0x1483be,_0x570508,_0x5f3873,_0xe41e35,_0x3d81e4);case PL:return new Eu(_0x3886e2,_0x2a9cb0,_0x29c848,_0x4acd1d,_0x1483be,_0x570508,_0x5f3873,_0xe41e35,_0x3d81e4);case DL:return new FL(_0x3886e2,_0x2a9cb0,_0x29c848,_0x4acd1d,_0x1483be,_0x570508,_0x5f3873,_0xe41e35,_0x3d81e4);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x423bd4);}['_getNodeFr'+'omPath'](_0x29e748){let _0x2a71bb=this['_blendTree'];for(let _0x8c0a02=0xab*0x22+0x14*-0x55+-0x1011;_0x8c0a02<_0x29e748['length'];_0x8c0a02++)_0x2a71bb=_0x2a71bb['getChild'](_0x29e748[_0x8c0a02]);return _0x2a71bb;}['addAnimati'+'on'](_0x52067e,_0x4f4026){const _0x28ca7d=_0x52067e['join']('.'),_0x8291ac=this['_animation'+'List']['findIndex'](_0x4a902a=>_0x4a902a['path']===_0x28ca7d);if(_0x8291ac>=-0x1*0x1245+-0x14cf+-0xf4*-0x29)this['_animation'+'List'][_0x8291ac]['animTrack']=_0x4f4026;else{const _0x4122e0=this['_getNodeFr'+'omPath'](_0x52067e);_0x4122e0['animTrack']=_0x4f4026,this['_animation'+'List']['push'](_0x4122e0);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0xdf3+-0x1*0x1b3e+0x2931&&this['_animation'+'List']['every'](_0x5ce721=>_0x5ce721['animTrack']&&_0x5ce721['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x9fca96){this['_animation'+'List']=_0x9fca96,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x1cf9fc){this['_speed']=_0x1cf9fc;}get['speed'](){return this['_speed'];}set['loop'](_0x37da45){this['_loop']=_0x37da45;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x1*0x1aa2+0x1*-0x213b+0x3bde:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x208+0x1c+0x223*-0x1)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x31*-0x62+0x270+-0x1532){const _0x457f4a=this['name']+'.'+this['animations'][0x110+0x1b4d+0x35*-0x89]['animTrack']['name'],_0x516707=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x457f4a);if(_0x516707)return _0x516707['loop'];}return!(0x1c3a+0x2293+0x3ecc*-0x1);}get['totalWeigh'+'t'](){let _0x36d967=0x9ee+-0x2*0xe5+-0x4*0x209;for(let _0x2bf7a5=-0x2154+0x10f*-0x20+0x4334;_0x2bf7a5<this['animations']['length'];_0x2bf7a5++)_0x36d967+=this['animations'][_0x2bf7a5]['weight'];return _0x36d967;}get['timelineDu'+'ration'](){let _0xc23c4a=0x1c7b+-0x1*0x24e7+0x436*0x2;for(let _0xd45830=-0x20c3+0x14e4+0xbdf;_0xd45830<this['animations']['length'];_0xd45830++){const _0x12229f=this['animations'][_0xd45830];_0x12229f['animTrack']['duration']>_0xc23c4a&&(_0xc23c4a=_0x12229f['animTrack']['duration']);}return _0xc23c4a;}}class Lh{constructor({from:_0x226139,to:_0x14f44e,time:_0x46027d=-0x2*-0xaf7+0x24f3+0x3ae1*-0x1,priority:_0x413ddd=0x1d67+0x1a7c+-0x37e3,conditions:_0x349a10=[],exitTime:_0x2a0f94=null,transitionOffset:_0x421950=null,interruptionSource:_0x74165d=zv}){this['_from']=_0x226139,this['_to']=_0x14f44e,this['_time']=_0x46027d,this['_priority']=_0x413ddd,this['_condition'+'s']=_0x349a10,this['_exitTime']=_0x2a0f94,this['_transitio'+'nOffset']=_0x421950,this['_interrupt'+'ionSource']=_0x74165d;}get['from'](){return this['_from'];}set['to'](_0x3c2ba5){this['_to']=_0x3c2ba5;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x1fe0a5,_0x4eefb4,_0x5dee0c,_0x46fae2,_0xded017,_0x45dae1,_0x5dfa16){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',-0x23ba+0xdf*-0x1f+-0x65*-0x9f),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x13*0xd4+0x5c5*0x1+-0x1581)),h(this,'_playing',!(0x13f0+-0x2382+-0xf93*-0x1)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x1182+-0x1d01+0x2e84),h(this,'_totalTran'+'sitionTime',0x1bc6+-0x241b+-0x1*-0x856),h(this,'_isTransit'+'ioning',!(-0x8d8+-0x441+0xd1a)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x25d2+0x37f*0x7+-0x3e4b),h(this,'_timeInSta'+'teBefore',-0x1*-0x1431+-0x38b*0x7+0x3b*0x14),h(this,'findParame'+'ter',_0x2db242=>this['_findParam'+'eter'](_0x2db242)),(this['_animEvalu'+'ator']=_0x1fe0a5,this['_eventHand'+'ler']=_0xded017,this['_findParam'+'eter']=_0x45dae1,this['_consumeTr'+'igger']=_0x5dfa16);for(let _0x558e53=0x4ca*-0x2+-0x7*-0x1f+0x8bb;_0x558e53<_0x4eefb4['length'];_0x558e53++)this['_states'][_0x4eefb4[_0x558e53]['name']]=new Fg(this,_0x4eefb4[_0x558e53]['name'],_0x4eefb4[_0x558e53]['speed'],_0x4eefb4[_0x558e53]['loop'],_0x4eefb4[_0x558e53]['blendTree']),this['_stateName'+'s']['push'](_0x4eefb4[_0x558e53]['name']);this['_transitio'+'ns']=_0x5dee0c['map'](_0x443d9d=>new Lh({..._0x443d9d})),this['_activate']=_0x46fae2;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x1761bd){this['_activeSta'+'teName']=_0x1761bd;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x2ef1b6){this['_previousS'+'tateName']=_0x2ef1b6;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x559791=!(-0x558+0xf77+-0xa1f*0x1);for(let _0xf9a229=0xba6+0x1c*0x20+0x1*-0xf26;_0xf9a229<this['_stateName'+'s']['length'];_0xf9a229++)this['_states'][this['_stateName'+'s'][_0xf9a229]]['playable']||(_0x559791=!(0xbad+-0x1841+0xc95));return _0x559791;}set['playing'](_0x454369){this['_playing']=_0x454369;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x434cfb=-0x2647*-0x1+-0x75b+0x2*-0xf76;for(let _0xc6c26f=0x2626+-0x6*-0x2a0+-0x35e6;_0xc6c26f<this['activeStat'+'eAnimation'+'s']['length'];_0xc6c26f++){const _0x156914=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xc6c26f]['name']);_0x156914&&(_0x434cfb=Math['max'](_0x434cfb,_0x156914['track']['duration']));}this['_activeSta'+'teDuration']=_0x434cfb,this['_activeSta'+'teDuration'+'Dirty']=!(-0x2*-0x602+-0x7f*0x1a+0xe3);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x22eece){this['_timeInSta'+'teBefore']=_0x22eece,this['_timeInSta'+'te']=_0x22eece;for(let _0x5da4ed=-0x1*0x1d99+0x1c1*-0x11+0x5a*0xa9;_0x5da4ed<this['activeStat'+'eAnimation'+'s']['length'];_0x5da4ed++){const _0x53d718=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5da4ed]['name']);_0x53d718&&(_0x53d718['time']=_0x22eece);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x4770bf){return this['_animEvalu'+'ator']['assignMask'](_0x4770bf);}['_findState'](_0x51a1fc){return this['_states'][_0x51a1fc];}['_getActive'+'StateProgr'+'essForTime'](_0x39738e){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x2f5*0x3+-0x2018+0x173a;const _0x1fb57e=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x31b+-0x2143+0x1e28]['name']);return _0x1fb57e?_0x1fb57e['progressFo'+'rTime'](_0x39738e):null;}['_findTrans'+'itionsFrom'+'State'](_0x18ec9a){let _0x2b4a40=this['_findTrans'+'itionsFrom'+'StateCache'][_0x18ec9a];return _0x2b4a40||(_0x2b4a40=this['_transitio'+'ns']['filter'](_0x223e6e=>_0x223e6e['from']===_0x18ec9a),ul(_0x2b4a40),this['_findTrans'+'itionsFrom'+'StateCache'][_0x18ec9a]=_0x2b4a40),_0x2b4a40;}['_findTrans'+'itionsBetw'+'eenStates'](_0x3b1d20,_0x11c7b8){let _0x374bd8=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3b1d20+'->'+_0x11c7b8];return _0x374bd8||(_0x374bd8=this['_transitio'+'ns']['filter'](_0x126096=>_0x126096['from']===_0x3b1d20&&_0x126096['to']===_0x11c7b8),ul(_0x374bd8),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3b1d20+'->'+_0x11c7b8]=_0x374bd8),_0x374bd8;}['_transitio'+'nHasCondit'+'ionsMet'](_0x52f077){const _0x3de308=_0x52f077['conditions'];for(let _0x324970=0x26c4*0x1+0x13*0x57+-0x3*0xf13;_0x324970<_0x3de308['length'];_0x324970++){const _0x4f6ead=_0x3de308[_0x324970],_0x4095c8=this['_findParam'+'eter'](_0x4f6ead['parameterN'+'ame']);switch(_0x4f6ead['predicate']){case xL:if(!(_0x4095c8['value']>_0x4f6ead['value']))return!(-0x149*-0x2+-0x176a+0x14d9);break;case TL:if(!(_0x4095c8['value']<_0x4f6ead['value']))return!(-0x983*0x4+0x183e+0x7*0x1f9);break;case wL:if(!(_0x4095c8['value']>=_0x4f6ead['value']))return!(-0x11f9+0x1d*-0xb5+-0x1*-0x267b);break;case EL:if(!(_0x4095c8['value']<=_0x4f6ead['value']))return!(0x67*-0x1+-0xce4+0x4*0x353);break;case bL:if(_0x4095c8['value']!==_0x4f6ead['value'])return!(0x9*0x101+0x21f6+-0x1*0x2afe);break;case AL:if(_0x4095c8['value']===_0x4f6ead['value'])return!(0x1*0x1a35+0x1c0c*-0x1+0x1d8);break;}}return!(0x1a11*-0x1+0x1d*-0x81+-0x29*-0xfe);}['_findTrans'+'ition'](_0x2d6a6d,_0x55f5a5){let _0x1fd579=[];if(_0x2d6a6d&&_0x55f5a5)_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x2d6a6d,_0x55f5a5));else{if(!this['_isTransit'+'ioning'])_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1fd579=_0x1fd579['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x1fd579=_0x1fd579['filter'](_0xbcb5=>{if(_0xbcb5['to']===this['activeStat'+'eName'])return!(0xd25+0xd0b*-0x1+0x5*-0x5);if(_0xbcb5['hasExitTim'+'e']){let _0x404b0d=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x52bf32=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0xbcb5['exitTime']<0x139*0x14+-0xcb4+0x1*-0xbbf&&this['activeStat'+'e']['loop']&&(_0x404b0d-=Math['floor'](_0x404b0d),_0x52bf32-=Math['floor'](_0x52bf32)),_0x52bf32===_0x404b0d){if(_0x52bf32!==_0xbcb5['exitTime'])return null;}else{if(!(_0xbcb5['exitTime']>_0x404b0d&&_0xbcb5['exitTime']<=_0x52bf32))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0xbcb5);}),_0x1fd579['length']>-0xacc+0x938+0xca*0x2){const _0x743204=_0x1fd579[-0xddf+0x21b1+-0x1*0x13d2];if(_0x743204['to']===vu){const _0x17c586=this['_findTrans'+'itionsFrom'+'State'](Co)[0x164*-0x1+-0x1776*-0x1+-0x1612];_0x743204['to']=_0x17c586['to'];}return _0x743204;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x3f488a){let _0x527065,_0x55c1c,_0x3aa4ce;this['previousSt'+'ate']=_0x3f488a['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x3f488a['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x23b7+0x1*0x115f+0x8*0x24b);for(let _0x7963d8=-0xbb7*0x2+0x25*0x59+0xa91;_0x7963d8<_0x3f488a['conditions']['length'];_0x7963d8++){const _0x4fd514=_0x3f488a['conditions'][_0x7963d8];this['_findParam'+'eter'](_0x4fd514['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x4fd514['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x5d579a=Math['min'](this['_totalTran'+'sitionTime']!==-0x11ab*-0x1+-0x1*-0xc43+-0x1dee*0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x2b*-0x45+0x1c35+-0x109d,-0x2444*-0x1+-0x8de*0x3+-0x9a9);for(let _0x596b24=0x1*0x6fe+0x734*0x3+-0x1c9a;_0x596b24<this['_transitio'+'nPreviousS'+'tates']['length'];_0x596b24++){this['_isTransit'+'ioning']?_0x596b24!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x819*0x3+-0x28*0x6b+0x2904)?this['_transitio'+'nPreviousS'+'tates'][_0x596b24]['weight']*=0x1bf3+-0x8de+-0x94*0x21-_0x5d579a:this['_transitio'+'nPreviousS'+'tates'][_0x596b24]['weight']=_0x5d579a:this['_transitio'+'nPreviousS'+'tates'][_0x596b24]['weight']=-0x199*-0x11+-0x5*0xe3+-0x16b9,_0x527065=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x596b24]['name']);for(let _0x3fbb16=0x20d6+0x2*0x42+-0x215a;_0x3fbb16<_0x527065['animations']['length'];_0x3fbb16++)_0x55c1c=_0x527065['animations'][_0x3fbb16],_0x3aa4ce=this['_animEvalu'+'ator']['findClip'](_0x55c1c['name']+'.previous.'+_0x596b24),_0x3aa4ce||(_0x3aa4ce=this['_animEvalu'+'ator']['findClip'](_0x55c1c['name']),_0x3aa4ce['name']=_0x55c1c['name']+'.previous.'+_0x596b24),_0x596b24!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x201+-0x1847+-0x1*-0x1a49)&&_0x3aa4ce['pause']();}}this['_isTransit'+'ioning']=!(0x23f3+0x3d*-0x29+0x3*-0x8ba),this['_totalTran'+'sitionTime']=_0x3f488a['time'],this['_currTrans'+'itionTime']=0x5*-0x49d+0x8f0+0x1*0xe21,this['_transitio'+'nInterrupt'+'ionSource']=_0x3f488a['interrupti'+'onSource'];const _0x26de2b=this['activeStat'+'e'],_0x47bd45=_0x3f488a['transition'+'Offset']&&_0x3f488a['transition'+'Offset']>0xea2*0x1+0x15ef+0x353*-0xb&&_0x3f488a['transition'+'Offset']<0x16d+-0x23*0xb5+-0x7*-0x355;let _0x3dabc5=0xc58+-0x2631+0x19d9,_0x1cfa4f=0x1*-0x23b7+0x8d5*-0x1+0x2*0x1646;if(_0x47bd45){const _0x2766ef=_0x26de2b['timelineDu'+'ration']*_0x3f488a['transition'+'Offset'];_0x3dabc5=_0x2766ef,_0x1cfa4f=_0x2766ef;}this['_timeInSta'+'te']=_0x3dabc5,this['_timeInSta'+'teBefore']=_0x1cfa4f;for(let _0x3cef06=-0xb51*-0x1+-0x2133+0x15e2;_0x3cef06<_0x26de2b['animations']['length'];_0x3cef06++){if(_0x3aa4ce=this['_animEvalu'+'ator']['findClip'](_0x26de2b['animations'][_0x3cef06]['name']),_0x3aa4ce)_0x3aa4ce['reset']();else{const _0x4198ba=Number['isFinite'](_0x26de2b['animations'][_0x3cef06]['speed'])?_0x26de2b['animations'][_0x3cef06]['speed']:_0x26de2b['speed'];_0x3aa4ce=new Dh(_0x26de2b['animations'][_0x3cef06]['animTrack'],this['_timeInSta'+'te'],_0x4198ba,!(0x113*0x2+0x13b+-0xad*0x5),_0x26de2b['loop'],this['_eventHand'+'ler']),_0x3aa4ce['name']=_0x26de2b['animations'][_0x3cef06]['name'],this['_animEvalu'+'ator']['addClip'](_0x3aa4ce);}if(_0x3f488a['time']>0x3*-0x371+-0x8b1+0x4c1*0x4?_0x3aa4ce['blendWeigh'+'t']=-0x6a1*0x2+0xef*-0x12+0x34*0x94:_0x3aa4ce['blendWeigh'+'t']=_0x26de2b['animations'][_0x3cef06]['normalized'+'Weight'],_0x3aa4ce['play'](),_0x47bd45)_0x3aa4ce['time']=_0x26de2b['timelineDu'+'ration']*_0x3f488a['transition'+'Offset'];else{const _0x21a2f2=_0x26de2b['speed']>=0x1a*-0xc0+0x4f*0x44+0x17c*-0x1?0x201c+-0x21d2+0x6*0x49:this['activeStat'+'eDuration'];_0x3aa4ce['time']=_0x21a2f2;}}}['_transitio'+'nToState'](_0x24b4b3){if(!this['_findState'](_0x24b4b3))return;let _0x47406=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x24b4b3);_0x47406||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x47406=new Lh({'from':null,'to':_0x24b4b3})),this['updateStat'+'eFromTrans'+'ition'](_0x47406);}['assignAnim'+'ation'](_0x52403c,_0x423c05,_0x9d79e6,_0x208d43){const _0x459ebf=_0x52403c['split']('.');let _0x21eb45=this['_findState'](_0x459ebf[0x2c3+0x2358+-0x261b]);_0x21eb45||(_0x21eb45=new Fg(this,_0x459ebf[0xe84+-0xea+-0xd9a],_0x9d79e6),this['_states'][_0x459ebf[-0xfae+-0x31*0x4a+0x1dd8]]=_0x21eb45,this['_stateName'+'s']['push'](_0x459ebf[0x9f7*0x2+0x2*-0x76d+-0x82*0xa])),_0x21eb45['addAnimati'+'on'](_0x459ebf,_0x423c05),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x21eb45['name'],_0x423c05),_0x9d79e6!==void(0xeed+-0x2625+0x1738)&&(_0x21eb45['speed']=_0x9d79e6),_0x208d43!==void(0xd0b+0x1*-0x129d+-0x2e*-0x1f)&&(_0x21eb45['loop']=_0x208d43),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x8df*-0x4+-0x17a7+0x3b23);}['removeNode'+'Animations'](_0x41c43f){if(Ih['indexOf'](_0x41c43f)!==-(0x1*-0x1c3d+-0x1*0x179e+-0x1*-0x33dc))return!(0x6*-0x86+-0x20d6+0x3d*0x97);const _0x258dfb=this['_findState'](_0x41c43f);return _0x258dfb?(_0x258dfb['animations']=[],!(-0x7f*0x5+-0x339*0x2+0x1c9*0x5)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x41c43f),!(0x1d74+0x3*-0x9c3+-0x2a));}['play'](_0x23396f){_0x23396f&&this['_transitio'+'nToState'](_0x23396f),this['_playing']=!(0x1d*0xe+0x9*0x86+-0x64c);}['pause'](){this['_playing']=!(-0x9*0xec+-0x1*0x5c9+0xe16);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x10ba+-0x2681*0x1+0x373c),this['_currTrans'+'itionTime']=0x1733+-0x2013+0x8e1*0x1,this['_totalTran'+'sitionTime']=0x14ee+0x1358+0xa9*-0x3d,this['_isTransit'+'ioning']=!(-0x677+0x1181+-0xb09),this['_timeInSta'+'te']=0x1cf2+0x2616+-0x4308,this['_timeInSta'+'teBefore']=0x8b*0x8+0x1dcb+0x3cb*-0x9,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x51d6a9){if(!this['_playing'])return;let _0x597ece,_0x5ab7ab,_0x35b7a5;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x51d6a9*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x51d6a9=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x2185ca=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x2185ca&&this['updateStat'+'eFromTrans'+'ition'](_0x2185ca),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x51d6a9,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x3cd8df=this['_totalTran'+'sitionTime']!==0x12f3+0x1*0x1945+-0x2c38*0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x9bc+-0x116c+0x7b1;for(let _0x1f4239=-0x1cce+0x2266+0x4*-0x166;_0x1f4239<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1f4239++){_0x597ece=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1f4239]['name']);const _0x870bd=this['_transitio'+'nPreviousS'+'tates'][_0x1f4239]['weight'];for(let _0x58c2de=-0x1a44+-0x1fdf+0x1*0x3a23;_0x58c2de<_0x597ece['animations']['length'];_0x58c2de++)_0x5ab7ab=_0x597ece['animations'][_0x58c2de],_0x35b7a5=this['_animEvalu'+'ator']['findClip'](_0x5ab7ab['name']+'.previous.'+_0x1f4239),_0x35b7a5&&(_0x35b7a5['blendWeigh'+'t']=(0x9e*0x8+-0x2469+0x1f7a-_0x3cd8df)*_0x5ab7ab['normalized'+'Weight']*_0x870bd);}_0x597ece=this['activeStat'+'e'];for(let _0x106b08=-0x5*0x259+-0x15*-0xf3+-0x832;_0x106b08<_0x597ece['animations']['length'];_0x106b08++)_0x5ab7ab=_0x597ece['animations'][_0x106b08],this['_animEvalu'+'ator']['findClip'](_0x5ab7ab['name'])['blendWeigh'+'t']=_0x3cd8df*_0x5ab7ab['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x214b*0x1+0x1624+0xa*-0x58b);const _0x5a9c20=this['activeStat'+'eAnimation'+'s']['length'],_0x47f6ed=this['_animEvalu'+'ator']['clips']['length'];for(let _0x40570e=-0x14*-0x52+0x1505*0x1+-0x1b6d;_0x40570e<_0x47f6ed-_0x5a9c20;_0x40570e++)this['_animEvalu'+'ator']['removeClip'](0x40b+0x11bc+0x1*-0x15c7);this['_transitio'+'nPreviousS'+'tates']=[],_0x597ece=this['activeStat'+'e'];for(let _0x12fba9=0x2315+0x1a62+-0x3d77;_0x12fba9<_0x597ece['animations']['length'];_0x12fba9++)_0x5ab7ab=_0x597ece['animations'][_0x12fba9],_0x35b7a5=this['_animEvalu'+'ator']['findClip'](_0x5ab7ab['name']),_0x35b7a5&&(_0x35b7a5['blendWeigh'+'t']=_0x5ab7ab['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x597ece=this['activeStat'+'e'];for(let _0x51facb=0x5*-0x567+0x186d+0x296;_0x51facb<_0x597ece['animations']['length'];_0x51facb++)_0x5ab7ab=_0x597ece['animations'][_0x51facb],_0x35b7a5=this['_animEvalu'+'ator']['findClip'](_0x5ab7ab['name']),_0x35b7a5&&(_0x35b7a5['blendWeigh'+'t']=_0x5ab7ab['normalized'+'Weight'],_0x5ab7ab['parent']['syncAnimat'+'ions']&&(_0x35b7a5['speed']=_0x5ab7ab['speed']));}}this['_animEvalu'+'ator']['update'](_0x51d6a9,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x4296c1,_0x5e3595,_0x597463,_0x3896c5,_0x3dbb82){super(_0x5e3595),this['animCompon'+'ent']=_0x4296c1,this['_mask']=_0x3896c5,this['layerName']=_0x597463,this['layerIndex']=_0x3dbb82;}static['_packFloat'](_0xb0129b){return _0xb0129b[0x131a+0x1*-0xb84+-0x796];}static['_packBoole'+'an'](_0x2bf081){return!!_0x2bf081[-0x17*-0xc5+0x11d4+0x5*-0x71b];}static['_packVec2'](_0x4bfc8d){return wf['x']=_0x4bfc8d[-0x9*0x3b3+-0x106+-0x1*-0x2251],wf['y']=_0x4bfc8d[-0x2*-0x5f7+0x2694+-0x3281],wf;}static['_packVec3'](_0x58df19){return Tc['x']=_0x58df19[-0x41*0x53+-0x25*0x1f+0x198e],Tc['y']=_0x58df19[0x97*-0x3e+-0x2361+0x47f4],Tc['z']=_0x58df19[0x25f8+-0x2342+0x2*-0x15a],Tc;}static['_packVec4'](_0x340454){return _o['x']=_0x340454[0x2*0x2b3+0x3b1*0x4+-0x142a],_o['y']=_0x340454[-0xdd3*-0x1+-0x1f63+-0x5db*-0x3],_o['z']=_0x340454[0x210f+0x1b4a+-0x3c57],_o['w']=_0x340454[-0x1*-0x1399+0x18b1+-0x2c47],_o;}static['_packColor'](_0x25380e){return go['r']=_0x25380e[-0x1b34+-0xf5b*0x2+0x161*0x2a],go['g']=_0x25380e[0x216b+-0x1518+-0x1*0xc52],go['b']=_0x25380e[-0x1*-0xc11+-0x52a+0x161*-0x5],go['a']=_0x25380e[0x18*-0x164+0x52f+0x1c34],go;}static['_packQuat'](_0x3c6f43){return So['x']=_0x3c6f43[-0x2*0x7dc+0x25ae+-0x1*0x15f6],So['y']=_0x3c6f43[-0x1*-0x2483+0x542+-0x29c4],So['z']=_0x3c6f43[-0xe*-0x1a9+-0x1*0xc31+-0xb0b],So['w']=_0x3c6f43[0x97b*0x2+0x127*0x19+0x2*-0x17e1],So;}['resolve'](_0x44a52b){const _0x4b6627=ra['encode'](_0x44a52b['entityPath'],_0x44a52b['component'],_0x44a52b['propertyPa'+'th']);let _0x1cfad7=this['targetCach'+'e'][_0x4b6627];if(_0x1cfad7)return _0x1cfad7;let _0x2bd986,_0x214d1d,_0x574dc7;switch(_0x44a52b['component']){case'entity':_0x2bd986=this['_getEntity'+'FromHierar'+'chy'](_0x44a52b['entityPath']),_0x574dc7=ra['encode'](_0x2bd986['path'],'entity',_0x44a52b['propertyPa'+'th']),_0x214d1d=_0x2bd986;break;case'graph':if(_0x214d1d=this['findNode'](_0x44a52b),!_0x214d1d)return null;_0x574dc7=ra['encode'](_0x214d1d['path'],'graph',_0x44a52b['propertyPa'+'th']);break;default:if(_0x2bd986=this['_getEntity'+'FromHierar'+'chy'](_0x44a52b['entityPath']),_0x214d1d=_0x2bd986['findCompon'+'ent'](_0x44a52b['component']),!_0x214d1d)return null;_0x574dc7=ra['encode'](_0x2bd986['path'],_0x44a52b['component'],_0x44a52b['propertyPa'+'th']);break;}return _0x1cfad7=this['_createAni'+'mTargetFor'+'Property'](_0x214d1d,_0x44a52b['propertyPa'+'th'],_0x574dc7),this['targetCach'+'e'][_0x4b6627]=_0x1cfad7,_0x1cfad7;}['update'](_0x26be2d){const _0x37b15a=this['activeNode'+'s'];if(_0x37b15a){for(let _0x378639=-0x2468+0xc41*-0x1+0x30a9;_0x378639<_0x37b15a['length'];_0x378639++)_0x37b15a[_0x378639]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0xba426e){if(!this['animCompon'+'ent']['entity']['name']===_0xba426e[0x1*-0x20ef+0x15d*-0x16+0x3eed])return null;const _0x4b29f4=this['animCompon'+'ent']['entity'];return _0xba426e['length']===0x23fd+0xa96+-0x2e92?_0x4b29f4:_0x4b29f4['_parent']['findByPath'](_0xba426e);}['_resolvePa'+'th'](_0x2f53fe,_0x1a7de7,_0x5d64d4){const _0x502172=_0x1a7de7['length']-(_0x5d64d4?-0x1*0x122a+0x1d*-0x127+0x3395*0x1:-0x88+0x66d+-0x2*0x2f2);for(let _0x383fc2=-0x1d3f+-0x11b*-0xb+0x1116;_0x383fc2<_0x502172;_0x383fc2++)_0x2f53fe=_0x2f53fe[_0x1a7de7[_0x383fc2]];return _0x2f53fe;}['_setter'](_0x547fbc,_0x5cf063,_0x396304){const _0x577997=this['_resolvePa'+'th'](_0x547fbc,_0x5cf063),_0x4da6c8=_0x5cf063[_0x5cf063['length']-(0xd40+-0x12c7+0x588)],_0x289c71='set'+_0x4da6c8['substring'](0xad1+0x1b81+0x442*-0x9,-0x81*0x2f+0xdff+0x9b1)['toUpperCas'+'e']()+_0x4da6c8['substring'](-0x21cc+0x1e18+-0xd*-0x49);if(_0x577997[_0x289c71]){let _0x510bcc=_0x577997['get'+_0x4da6c8['substring'](-0xe*-0x10b+-0x2*-0x7bb+-0x1e10,0x188b+-0xe*-0x1f3+-0x1*0x33d4)['toUpperCas'+'e']()+_0x4da6c8['substring'](0x172e+-0xc14+-0xb19)]['bind'](_0x577997)();_0x510bcc=[_0x510bcc['x'],_0x510bcc['y'],_0x510bcc['z'],_0x510bcc['w']];const _0x5538d5=_0x577997[_0x289c71]['bind'](_0x577997);return{'set':_0x539896=>{_0x5538d5(_0x396304(_0x539896));},'get':()=>_0x510bcc};}const _0x4c508b=_0x577997[_0x4da6c8];if(typeof _0x4c508b=='object'&&_0x4c508b['hasOwnProp'+'erty']('copy'))return function(_0x21a0c0){_0x4c508b['copy'](_0x396304(_0x21a0c0));};if([J,D,re,ie,le]['indexOf'](_0x577997['constructo'+'r'])!==-(0x46*-0x15+-0x1b66+-0x5*-0x6a1)&&_0x5cf063['length']>-0x6*0x53f+-0x92d*-0x1+-0x1*-0x164e){const _0x1f7378=_0x5cf063['length']>0x2d*-0x7f+0x1da0+-0x74b*0x1?this['_resolvePa'+'th'](_0x547fbc,_0x5cf063['slice'](-0xe17+-0x1*0x2011+0x2e28,-(0x53c+-0x53*-0x56+-0x211d))):_0x547fbc,_0x2dabd1=_0x5cf063[_0x5cf063['length']-(0x25b8+-0x1e8f*0x1+-0x727)];return function(_0x1ef037){_0x577997[_0x4da6c8]=_0x396304(_0x1ef037),_0x1f7378[_0x2dabd1]=_0x577997;};}return function(_0x1867d5){_0x577997[_0x4da6c8]=_0x396304(_0x1867d5);};}['_createAni'+'mTargetFor'+'Property'](_0x5dcb1d,_0x364f24,_0x3b0c1d){if(this['handlers']&&_0x364f24[-0x657+0x1c65+-0x3ad*0x6]['startsWith']('weight.'))return this['handlers']['weight'](_0x5dcb1d,_0x364f24[-0x8e*-0x1f+-0x9d5*0x2+0x278]['replace']('weight.',''));if(this['handlers']&&_0x364f24[-0x2543+-0x16ac*-0x1+0xe97]==='material'&&_0x364f24['length']===0x2104+-0x879+-0x1889){const _0xc22462=_0x364f24[-0x1*-0x243a+-0x18c6+-0xb73];if(_0xc22462['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x5dcb1d,_0xc22462);}const _0x259bde=this['_resolvePa'+'th'](_0x5dcb1d,_0x364f24,!(-0x1f33+0x153a*0x1+0x9f9));if(typeof _0x259bde>'u')return null;let _0x4e3522,_0x3d7ef0,_0x3724b7;if(typeof _0x259bde=='number')_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packFloat']),_0x3d7ef0='vector',_0x3724b7=-0x1*-0x1c45+0x1ac0+-0x1b82*0x2;else{if(typeof _0x259bde=='boolean')_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packBoole'+'an']),_0x3d7ef0='vector',_0x3724b7=-0xd*0xd6+0x7e7+0x2f8*0x1;else{if(typeof _0x259bde=='object')switch(_0x259bde['constructo'+'r']){case J:_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packVec2']),_0x3d7ef0='vector',_0x3724b7=-0x1*-0x196f+-0x18be+0x7*-0x19;break;case D:_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packVec3']),_0x3d7ef0='vector',_0x3724b7=0x263*0x7+0x17*-0x61+-0x3*0x2a9;break;case re:_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packVec4']),_0x3d7ef0='vector',_0x3724b7=-0x76f*-0x2+-0xc0e+-0x2cc;break;case ie:_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packColor']),_0x3d7ef0='vector',_0x3724b7=0x86e+-0x1*-0x2272+0xd*-0x34c;break;case le:_0x4e3522=this['_setter'](_0x5dcb1d,_0x364f24,Fi['_packQuat']),_0x3d7ef0='quaternion',_0x3724b7=0xfd4*-0x1+0x1514+-0x1*0x53c;break;default:return null;}}}return _0x364f24['indexOf']('material')!==-(0xe9e+0x1b41*-0x1+0xca4*0x1)?new xu(_0x59fc7c=>{_0x4e3522(_0x59fc7c),_0x5dcb1d['material']['update']();},_0x3d7ef0,_0x3724b7,_0x3b0c1d):new xu(_0x4e3522,_0x3d7ef0,_0x3724b7,_0x3b0c1d);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x17b34d={},_0x38dc91=function(_0x3ddeff){_0x17b34d[_0x3ddeff['name']]=_0x3ddeff;for(let _0xe51a77=0x24b0+-0x1f*-0x33+-0x1*0x2add;_0xe51a77<_0x3ddeff['children']['length'];++_0xe51a77)_0x38dc91(_0x3ddeff['children'][_0xe51a77]);};_0x38dc91(this['graph']),this['nodes']=_0x17b34d;}}class kL{constructor(_0x41fd59,_0x260d6b,_0x4edbc3,_0x2a23d9=-0xec1+-0x1d8b+0x2c4d,_0x1161ff=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x1274+-0xdd5+0x2049),h(this,'_blendTime'+'Elapsed',-0x1c50*-0x1+-0x26d4+-0x2*-0x542),h(this,'_startingW'+'eight',0x348+-0x1e98+-0x36a*-0x8),h(this,'_targetWei'+'ght',0x316+-0xec*0x11+-0x9*-0x166),(this['_name']=_0x41fd59,this['_controlle'+'r']=_0x260d6b,this['_component']=_0x4edbc3,this['_weight']=_0x2a23d9,this['_blendType']=_0x1161ff);}get['name'](){return this['_name'];}set['playing'](_0x32a219){this['_controlle'+'r']['playing']=_0x32a219;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x3e804f){const _0x1067c9=this['_controlle'+'r'],_0x44a126=_0x1067c9['playing'];_0x1067c9['playing']=!(0x7e2*0x1+0x2*0x1f0+-0xbc2),_0x1067c9['activeStat'+'eCurrentTi'+'me']=_0x3e804f,_0x44a126||_0x1067c9['update'](0x1bd0+-0xf01*0x1+-0x3*0x445),_0x1067c9['playing']=_0x44a126;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x2025b1){this['_weight']=_0x2025b1,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x5d9135){_0x5d9135!==this['_blendType']&&(this['_blendType']=_0x5d9135,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x4c4961){this['_controlle'+'r']['assignMask'](_0x4c4961)&&this['_component']['rebind'](),this['_mask']=_0x4c4961;}get['mask'](){return this['_mask'];}['play'](_0x5e2e0e){this['_controlle'+'r']['play'](_0x5e2e0e);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x4e9ed7){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x4e9ed7):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x1d66+-0x86*-0xb+0x17a4,this['_blendTime'+'Elapsed']=-0x215b*0x1+-0x1f13+0x406e,this['_startingW'+'eight']=-0x32*0x5c+-0x2b6*0xa+0x2d14,this['_targetWei'+'ght']=-0x63*-0x47+0x8b1+-0x2426)),this['_controlle'+'r']['update'](_0x4e9ed7);}['blendToWei'+'ght'](_0x30e806,_0x20f209){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x30e806,this['_blendTime']=Math['max'](0x425+0xcc4+-0x10e9,_0x20f209),this['_blendTime'+'Elapsed']=0x1b09+0x92c+-0x2435;}['assignAnim'+'ation'](_0x435624,_0x4a41f9,_0x46a9e4,_0x42760b){if(!(_0x4a41f9 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x435624,_0x4a41f9,_0x46a9e4,_0x42760b),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x1df*0x1+0x1*0x1105+0x7*-0x22a&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x435624})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x7da+0x17d2+0x124*-0xe));}['removeNode'+'Animations'](_0x3f78a4){this['_controlle'+'r']['removeNode'+'Animations'](_0x3f78a4)&&(this['_component']['playing']=!(-0x2a9+0x21bc*0x1+-0x1f12));}['getAnimati'+'onAsset'](_0x119712){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x119712];}['transition'](_0x27c702,_0x107884=0x411*0x3+-0x2*-0x12e+-0xe8f,_0x11b333=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x27c702,'time':_0x107884,'transitionOffset':_0x11b333}));}}class Jc{constructor(_0x45ec56){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x45ec56['layers']))this['_layers']=_0x45ec56['layers'];else for(const _0x1edef9 in _0x45ec56['layers']){const _0x6c0775=_0x45ec56['layers'][_0x1edef9],_0x599c7d={'name':_0x6c0775['name'],'blendType':_0x6c0775['blendType'],'weight':_0x6c0775['weight'],'states':[],'transitions':[]};for(let _0x2c41e0=0x2a4+-0xa33+0x5*0x183;_0x2c41e0<_0x6c0775['states']['length'];_0x2c41e0++)_0x599c7d['states']['push'](_0x45ec56['states'][_0x6c0775['states'][_0x2c41e0]]);for(let _0x2b4112=0x11df+-0x207d+0x2*0x74f;_0x2b4112<_0x6c0775['transition'+'s']['length'];_0x2b4112++){const _0x2861bc=_0x45ec56['transition'+'s'][_0x6c0775['transition'+'s'][_0x2b4112]];if(_0x2861bc['conditions']&&!Array['isArray'](_0x2861bc['conditions'])){const _0x5de26b=Object['keys'](_0x2861bc['conditions']),_0x1635b3=[];for(let _0x3405c5=0x1*-0x53+0x2023+0x3fa*-0x8;_0x3405c5<_0x5de26b['length'];_0x3405c5++){const _0xa38955=_0x2861bc['conditions'][_0x5de26b[_0x3405c5]];_0xa38955['parameterN'+'ame']&&_0x1635b3['push'](_0xa38955);}_0x2861bc['conditions']=_0x1635b3;}Number['isInteger'](_0x2861bc['from'])&&(_0x2861bc['from']=_0x45ec56['states'][_0x2861bc['from']]['name']),Number['isInteger'](_0x2861bc['to'])&&(_0x2861bc['to']=_0x45ec56['states'][_0x2861bc['to']]['name']),_0x599c7d['transition'+'s']['push'](_0x2861bc);}this['_layers']['push'](_0x599c7d);}for(const _0x522f7d in _0x45ec56['parameters']){const _0x1ff028=_0x45ec56['parameters'][_0x522f7d];this['_parameter'+'s'][_0x1ff028['name']]={'type':_0x1ff028['type'],'value':_0x1ff028['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x1*-0x1df9+-0x14c1+-0x27*-0x14d),h(this,'_activate',!(-0x1a23+-0x3*-0x92b+-0x15e)),h(this,'_playing',!(-0x1353*0x1+0x2197+-0xe43)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0xab+0x3cd+-0x321)),h(this,'findParame'+'ter',_0x1f5d56=>this['_parameter'+'s'][_0x1f5d56]),h(this,'consumeTri'+'gger',_0x396509=>{this['_consumedT'+'riggers']['add'](_0x396509);});}set['stateGraph'+'Asset'](_0x2fbbd4){if(_0x2fbbd4===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x5829b8,_0xa498d6;_0x2fbbd4 instanceof pe?(_0x5829b8=_0x2fbbd4['id'],_0xa498d6=this['system']['app']['assets']['get'](_0x5829b8),_0xa498d6||(this['system']['app']['assets']['add'](_0x2fbbd4),_0xa498d6=this['system']['app']['assets']['get'](_0x5829b8))):(_0x5829b8=_0x2fbbd4,_0xa498d6=this['system']['app']['assets']['get'](_0x5829b8)),!(!_0xa498d6||this['_stateGrap'+'hAsset']===_0x5829b8)&&(_0xa498d6['resource']?(this['_stateGrap'+'h']=_0xa498d6['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0xa498d6['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0xa498d6['once']('load',_0x4a80fc=>{this['_stateGrap'+'h']=_0x4a80fc['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0xa498d6['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0xa498d6)),this['_stateGrap'+'hAsset']=_0x5829b8);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x5b1c01){this['_normalize'+'Weights']=_0x5b1c01,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2956a8){this['_animation'+'Assets']=_0x2956a8,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x509661){this['_speed']=_0x509661;}get['speed'](){return this['_speed'];}set['activate'](_0x2ddc42){this['_activate']=_0x2ddc42;}get['activate'](){return this['_activate'];}set['playing'](_0x133428){this['_playing']=_0x133428;}get['playing'](){return this['_playing'];}set['rootBone'](_0x576450){if(typeof _0x576450=='string'){const _0x292984=this['entity']['root']['findByGuid'](_0x576450);w['assert'](_0x292984,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x576450+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x292984;}else _0x576450 instanceof lt?this['_rootBone']=_0x576450:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x172f57){this['_stateGrap'+'h']=_0x172f57;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x48f45b){this['_layerIndi'+'ces']=_0x48f45b;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x6b9471){this['_parameter'+'s']=_0x6b9471;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x1cc337){this['_targets']=_0x1cc337;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x190e95=0x498+-0x5*0x40f+0xfb3*0x1;_0x190e95<this['_layers']['length'];_0x190e95++)if(!this['_layers'][_0x190e95]['playable'])return!(-0x1*0x74b+0x4*-0x742+-0x5*-0x744);return!(-0x543*0x1+0x2151+0x85*-0x36);}get['baseLayer'](){return this['_layers']['length']>-0x4c*-0x6e+0x178b+-0x3833?this['_layers'][0x1e3c+0x1233+-0x306f]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0xcff556){const _0x404ba4=this['animationA'+'ssets'],_0x51f1ed=this['layers']['map'](_0x224d9e=>_0x224d9e['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0xcff556['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x404ba4,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x42a5e8,_0x1b5605)=>{_0x42a5e8['mask']=_0x51f1ed[_0x1b5605];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x3d14a5=Object['values'](this['_targets']);for(let _0x25b259=-0x1*0xa97+-0x92e+0x2d3*0x7;_0x25b259<_0x3d14a5['length'];_0x25b259++)_0x3d14a5[_0x25b259]['dirty']=!(0x47c+0x10*-0xa+0x3dc*-0x1);}['_addLayer']({name:_0x5cfde8,states:_0x1edc95,transitions:_0x384aa4,weight:_0x3d955d,mask:_0x509dbc,blendType:_0x890004}){let _0x2a3273;this['rootBone']?_0x2a3273=this['rootBone']:_0x2a3273=this['entity'];const _0x48ebc6=this['_layers']['length'],_0x1bb097=new Fi(this,_0x2a3273,_0x5cfde8,_0x509dbc,_0x48ebc6),_0x10dd36=new Gv(_0x1bb097),_0x2397ef=new NL(_0x10dd36,_0x1edc95,_0x384aa4,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x5cfde8,_0x2397ef,this,_0x3d955d,_0x890004)),this['_layerIndi'+'ces'][_0x5cfde8]=_0x48ebc6,this['_layers'][_0x48ebc6];}['addLayer'](_0x36cfaa,_0xa4447d,_0x3ea86b,_0x127572){const _0x5e8c03=this['findAnimat'+'ionLayer'](_0x36cfaa);if(_0x5e8c03)return _0x5e8c03;const _0x423df3=[{'name':'START','speed':0x1}],_0x4ddf38=[];return this['_addLayer']({'name':_0x36cfaa,'states':_0x423df3,'transitions':_0x4ddf38,'weight':_0xa4447d,'mask':_0x3ea86b,'blendType':_0x127572});}['_assignPar'+'ameters'](_0x16e209){this['_parameter'+'s']={};const _0x4b2b54=Object['keys'](_0x16e209['parameters']);for(let _0xce2096=-0x737+0xf*-0x1e3+-0x11c2*-0x2;_0xce2096<_0x4b2b54['length'];_0xce2096++){const _0x3a4d27=_0x4b2b54[_0xce2096];this['_parameter'+'s'][_0x3a4d27]={'type':_0x16e209['parameters'][_0x3a4d27]['type'],'value':_0x16e209['parameters'][_0x3a4d27]['value']};}}['loadStateG'+'raph'](_0x37bd1a){this['_stateGrap'+'h']=_0x37bd1a,this['_assignPar'+'ameters'](_0x37bd1a),this['_layers']=[];let _0x1597f1=!(0x242d+0x635*0x1+0x2a61*-0x1);for(let _0x122432=0x1940+0x1a47*-0x1+0x107;_0x122432<_0x37bd1a['layers']['length'];_0x122432++){const _0x42849c=_0x37bd1a['layers'][_0x122432];this['_addLayer']({..._0x42849c}),_0x42849c['states']['some'](_0x2267a2=>_0x2267a2['blendTree'])&&(_0x1597f1=!(-0x1*-0x439+0x1764+-0x1b9d));}_0x1597f1||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x164066=-0xd3*0xc+0x3*0x36b+-0x5d;_0x164066<this['_layers']['length'];_0x164066++){const _0x2396cd=this['_layers'][_0x164066],_0x2ce76b=_0x2396cd['name'];for(let _0x40bfe7=-0x254e+-0x246e+-0x625*-0xc;_0x40bfe7<_0x2396cd['states']['length'];_0x40bfe7++){const _0x4c1bad=_0x2396cd['states'][_0x40bfe7];if(Ih['indexOf'](_0x4c1bad)===-(-0x9e2+0x5*0x442+-0x3*0x3cd)){const _0x2d2a6e=_0x2ce76b+':'+_0x4c1bad;this['_animation'+'Assets'][_0x2d2a6e]||(this['_animation'+'Assets'][_0x2d2a6e]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x12d5e4=0x5dd+0x1cee+0x3*-0xb99;_0x12d5e4<this['_layers']['length'];_0x12d5e4++){const _0x44ca0a=this['_layers'][_0x12d5e4];for(let _0x2e9cc8=0x1dd8+-0x664+0x13*-0x13c;_0x2e9cc8<_0x44ca0a['states']['length'];_0x2e9cc8++){const _0x504cda=_0x44ca0a['states'][_0x2e9cc8];if(Ih['indexOf'](_0x504cda)!==-(0x3ce*-0x6+-0x55d*0x5+-0x2*-0x18d3))continue;const _0x3d0de2=this['_animation'+'Assets'][_0x44ca0a['name']+':'+_0x504cda];if(!_0x3d0de2||!_0x3d0de2['asset']){this['findAnimat'+'ionLayer'](_0x44ca0a['name'])['assignAnim'+'ation'](_0x504cda,Qi['EMPTY']);continue;}const _0x4af13e=_0x3d0de2['asset'],_0x674f76=this['system']['app']['assets']['get'](_0x4af13e);_0x674f76&&(_0x674f76['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x44ca0a['name'],_0x504cda,_0x674f76):(_0x674f76['once']('load',function(_0x531718,_0x2b7fe7){return function(_0x37fd5b){this['onAnimatio'+'nAssetLoad'+'ed'](_0x531718,_0x2b7fe7,_0x37fd5b);}['bind'](this);}['bind'](this)(_0x44ca0a['name'],_0x504cda)),this['system']['app']['assets']['load'](_0x674f76)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5321e1,_0x1cefdc,_0xcc12a9){this['findAnimat'+'ionLayer'](_0x5321e1)['assignAnim'+'ation'](_0x1cefdc,_0xcc12a9['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1*-0x1313+-0xbfb+0x1f0f),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x4d07d0=0x16eb+0x92c+-0x2017;_0x4d07d0<this['_layers']['length'];_0x4d07d0++){const _0x1e6c2a=this['_layers'][_0x4d07d0]['playing'];this['_layers'][_0x4d07d0]['reset'](),this['_layers'][_0x4d07d0]['playing']=_0x1e6c2a;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x398de5=>{this['_targets'][_0x398de5]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x40e027=-0xe5*-0x29+0xb76+0x3023*-0x1;_0x40e027<this['_layers']['length'];_0x40e027++)this['_layers'][_0x40e027]['rebind']();}['findAnimat'+'ionLayer'](_0x413713){const _0x5126e8=this['_layerIndi'+'ces'][_0x413713];return this['_layers'][_0x5126e8]||null;}['addAnimati'+'onState'](_0x40e323,_0x3f896b,_0x158be4=0x197c+-0x1*0xe02+-0xb79,_0x2236f6=!(-0x65*0x61+-0x3*0x5dd+0x28a*0x16),_0x4191c9='Base'){var _0x320160;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x4191c9,'states':[{'name':'START','speed':0x1},{'name':_0x40e323,'speed':_0x158be4,'loop':_0x2236f6,'defaultState':!(-0x1acf+-0x1d12+0x37e1)}],'transitions':[{'from':'START','to':_0x40e323}]}],'parameters':{}}));const _0x274c25=this['findAnimat'+'ionLayer'](_0x4191c9);_0x274c25?_0x274c25['assignAnim'+'ation'](_0x40e323,_0x3f896b,_0x158be4,_0x2236f6):(_0x320160=this['addLayer'](_0x4191c9))==null||_0x320160['assignAnim'+'ation'](_0x40e323,_0x3f896b,_0x158be4,_0x2236f6);}['assignAnim'+'ation'](_0x8ed8eb,_0x4ff196,_0x1f1ba3,_0x21012b=0x3eb*0x5+0x7e8+0x132*-0x17,_0x327452=!(0x21*0xd3+-0x11dd+-0x956)){if(!this['_stateGrap'+'h']&&_0x8ed8eb['indexOf']('.')===-(-0x2f*0x86+0x1e*0x127+-0x9f7)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x8ed8eb,'speed':_0x21012b,'loop':_0x327452,'defaultState':!(-0x4d5+-0x82a+0xcff)}],'transitions':[{'from':'START','to':_0x8ed8eb}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x8ed8eb,_0x4ff196);return;}const _0x27080b=_0x1f1ba3?this['findAnimat'+'ionLayer'](_0x1f1ba3):this['baseLayer'];if(!_0x27080b){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x27080b['assignAnim'+'ation'](_0x8ed8eb,_0x4ff196,_0x21012b,_0x327452);}['removeNode'+'Animations'](_0x2ebcca,_0x2c393f){const _0xd9662b=_0x2c393f?this['findAnimat'+'ionLayer'](_0x2c393f):this['baseLayer'];if(!_0xd9662b){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0xd9662b['removeNode'+'Animations'](_0x2ebcca);}['getParamet'+'erValue'](_0x3919bb,_0x3e5393){const _0x3a9935=this['_parameter'+'s'][_0x3919bb];if(_0x3a9935&&_0x3a9935['type']===_0x3e5393)return _0x3a9935['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3919bb+('\x22\x20of\x20type\x20'+'\x22')+_0x3e5393+'\x22');}['setParamet'+'erValue'](_0x308a87,_0x185254,_0x49ca9a){const _0x3309f1=this['_parameter'+'s'][_0x308a87];if(_0x3309f1&&_0x3309f1['type']===_0x185254){_0x3309f1['value']=_0x49ca9a;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x308a87+('\x22\x20of\x20type\x20'+'\x22')+_0x185254+'\x22');}['getFloat'](_0x246fd9){return this['getParamet'+'erValue'](_0x246fd9,Rg);}['setFloat'](_0x5eefb8,_0x306d8e){this['setParamet'+'erValue'](_0x5eefb8,Rg,_0x306d8e);}['getInteger'](_0x50c30f){return this['getParamet'+'erValue'](_0x50c30f,Lg);}['setInteger'](_0x1f93bd,_0x6e79a5){typeof _0x6e79a5=='number'&&_0x6e79a5%(0x226a+-0x9e3*-0x3+-0x2009*0x2)===-0x1b24+-0x19ba+-0xca*-0x43?this['setParamet'+'erValue'](_0x1f93bd,Lg,_0x6e79a5):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x1f93bd,_0x6e79a5);}['getBoolean'](_0x519758){return this['getParamet'+'erValue'](_0x519758,Og);}['setBoolean'](_0x32964a,_0x3043db){this['setParamet'+'erValue'](_0x32964a,Og,!!_0x3043db);}['getTrigger'](_0x12b304){return this['getParamet'+'erValue'](_0x12b304,Qc);}['setTrigger'](_0xc6b9f8,_0x2d924e=!(0x7b*-0x3+0x300+0x1*-0x18e)){this['setParamet'+'erValue'](_0xc6b9f8,Qc,!(0x6*-0x77+0x1136+-0x736*0x2)),_0x2d924e&&this['_consumedT'+'riggers']['add'](_0xc6b9f8);}['resetTrigg'+'er'](_0x1e1dc5){this['setParamet'+'erValue'](_0x1e1dc5,Qc,!(-0x116f*-0x1+0x7e0+-0x29*0x9e));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x18ab8f){for(let _0x5314d0=-0x20d7+0x1a27+-0x8*-0xd6;_0x5314d0<this['layers']['length'];_0x5314d0++)this['layers'][_0x5314d0]['update'](_0x18ab8f*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x3c7a18=>{this['parameters'][_0x3c7a18]['value']=!(-0x13d*0x1+0x99a+-0x85c);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x210058,_0x2c7c1b){_0x210058['rootBone']&&_0x2c7c1b[_0x210058['rootBone']['getGuid']()]?this['rootBone']=_0x2c7c1b[_0x210058['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(-0x1*-0x5d1+-0x13db+0xe0a);}}const bu=['enabled'];class BL extends ct{constructor(_0x2c561b){super(_0x2c561b),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x52654c,_0x339da5,_0x3a9cb2){super['initialize'+'ComponentD'+'ata'](_0x52654c,_0x339da5,bu);const _0x54813d=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x339da5)['forEach'](_0x15f8c5=>{_0x54813d['includes'](_0x15f8c5)||(_0x52654c[_0x15f8c5]=_0x339da5[_0x15f8c5]);}),_0x339da5['stateGraph']&&(_0x52654c['stateGraph']=_0x339da5['stateGraph'],_0x52654c['loadStateG'+'raph'](_0x52654c['stateGraph'])),_0x339da5['layers']&&_0x339da5['layers']['forEach']((_0x211a11,_0x265400)=>{_0x211a11['_controlle'+'r']['states']['forEach'](_0x10124a=>{_0x211a11['_controlle'+'r']['_states'][_0x10124a]['_animation'+'List']['forEach'](_0xa5dda9=>{if(!_0xa5dda9['animTrack']||_0xa5dda9['animTrack']===Qi['EMPTY']){const _0x38b2c9=this['app']['assets']['get'](_0x211a11['_component']['_animation'+'Assets'][_0x211a11['name']+':'+_0xa5dda9['name']]['asset']);_0x38b2c9&&!_0x38b2c9['loaded']&&_0x38b2c9['once']('load',()=>{_0x52654c['layers'][_0x265400]['assignAnim'+'ation'](_0xa5dda9['name'],_0x38b2c9['resource']);});}else _0x52654c['layers'][_0x265400]['assignAnim'+'ation'](_0xa5dda9['name'],_0xa5dda9['animTrack']);});});}),_0x339da5['animationA'+'ssets']&&(_0x52654c['animationA'+'ssets']=Object['assign'](_0x52654c['animationA'+'ssets'],_0x339da5['animationA'+'ssets'])),_0x339da5['masks']&&Object['keys'](_0x339da5['masks'])['forEach'](_0x51498d=>{if(_0x52654c['layers'][_0x51498d]){const _0x79db92=_0x339da5['masks'][_0x51498d]['mask'],_0xb1d109={};Object['keys'](_0x79db92)['forEach'](_0x403259=>{_0xb1d109[decodeURI(_0x403259)]=_0x79db92[_0x403259];}),_0x52654c['layers'][_0x51498d]['mask']=_0xb1d109;}});}['onAnimatio'+'nUpdate'](_0x414961){const _0x7405ef=this['store'];for(const _0x1bcd46 in _0x7405ef)if(_0x7405ef['hasOwnProp'+'erty'](_0x1bcd46)){const _0x1e6c92=_0x7405ef[_0x1bcd46]['entity']['anim'];_0x1e6c92['data']['enabled']&&_0x1e6c92['entity']['enabled']&&_0x1e6c92['playing']&&_0x1e6c92['update'](_0x414961);}}['cloneCompo'+'nent'](_0x30d0a9,_0x51bb6d){let _0x244cd2;(!_0x30d0a9['anim']['rootBone']||_0x30d0a9['anim']['rootBone']===_0x30d0a9)&&(_0x244cd2={},_0x30d0a9['anim']['layers']['forEach']((_0x571c82,_0x205744)=>{if(_0x571c82['mask']){const _0x2a8f4c={};Object['keys'](_0x571c82['mask'])['forEach'](_0x2c8d45=>{const _0x58286e=_0x2c8d45['split']('/');_0x58286e['shift']();const _0x35d92f=[_0x51bb6d['name'],..._0x58286e]['join']('/');_0x2a8f4c[_0x35d92f]=_0x571c82['mask'][_0x2c8d45];}),_0x244cd2[_0x205744]={'mask':_0x2a8f4c};}}));const _0xb9c432={'enabled':_0x30d0a9['anim']['enabled'],'stateGraphAsset':_0x30d0a9['anim']['stateGraph'+'Asset'],'animationAssets':_0x30d0a9['anim']['animationA'+'ssets'],'speed':_0x30d0a9['anim']['speed'],'activate':_0x30d0a9['anim']['activate'],'playing':_0x30d0a9['anim']['playing'],'rootBone':_0x30d0a9['anim']['rootBone'],'stateGraph':_0x30d0a9['anim']['stateGraph'],'layers':_0x30d0a9['anim']['layers'],'layerIndices':_0x30d0a9['anim']['layerIndic'+'es'],'parameters':_0x30d0a9['anim']['parameters'],'normalizeWeights':_0x30d0a9['anim']['normalizeW'+'eights'],'masks':_0x244cd2};return this['addCompone'+'nt'](_0x51bb6d,_0xb9c432);}['onBeforeRe'+'move'](_0x5dc2fc,_0x1e93d1){_0x1e93d1['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x476040=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x476040);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x1534+0x1*0x21a4+0x31c*-0x4);}}const qv=['enabled'];class VL extends ct{constructor(_0x56d728){super(_0x56d728),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x56d728['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3ae238,_0x15776c,_0x296978){_0x296978=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x3ae238,_0x15776c,_0x296978);}['onUpdate'](_0x3b8c79){if(this['current']){const _0x604ce2=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x604ce2);const _0x1b342c=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x1b342c);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x1f3f+0x1*0x23a1+-0x462,Ng=-0x3ba+-0xea6+-0x3ad*-0x5,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x45b321,_0x2351d4){super(_0x45b321,_0x2351d4),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x3d5+-0x1aa8+0xf3f*0x2)),h(this,'_hoveringC'+'ounter',-0x9f2+0x1a68+0x83b*-0x2),h(this,'_isPressed',!(-0x107*-0x1a+-0x8dc+0x5f3*-0x3)),h(this,'_defaultTi'+'nt',new ie(0x1b6b*0x1+0x637*-0x1+-0x1533,-0x6f+-0x5*0x13d+0x6a1,0x1*-0x268f+-0x5*0x179+0x2ded,-0x2107+-0x1d7f+0x3e87)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x167+-0x212e+0x1*0x2295),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x211f+-0x2657+-0xbf*-0x7),this['_hoveringC'+'ounter']=0x419*-0x4+0x2007+0xfa3*-0x1,this['_isPressed']=!(0x24*0x9e+0x1*-0x2075+0x17*0x72),this['_defaultTi'+'nt']=new ie(0x1df7+0x7*0x2b+-0x1f23,0x1*0x1544+0x1131*0x1+0x1ac*-0x17,0x6*-0x2f0+-0x1868+0x2a09,-0x23d+-0xd6e+0x11*0xec),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x1*0x21f5+-0x1*0x18a7+-0x94e,this['_toggleLif'+'ecycleList'+'eners']('on',_0x45b321));}get['data'](){const _0x5c24f2=this['system']['store'][this['entity']['getGuid']()];return _0x5c24f2?_0x5c24f2['data']:null;}set['enabled'](_0x36fa8c){this['_setValue']('enabled',_0x36fa8c);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x197a2e){this['_setValue']('active',_0x197a2e);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x1a0b83){if(this['_imageEnti'+'ty']!==_0x1a0b83){const _0x5979ca=typeof _0x1a0b83=='string';if(this['_imageEnti'+'ty']&&_0x5979ca&&this['_imageEnti'+'ty']['getGuid']()===_0x1a0b83)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x1a0b83 instanceof Ie?this['_imageEnti'+'ty']=_0x1a0b83:_0x5979ca?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x1a0b83)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x5979ca&&_0x1a0b83&&(this['data']['imageEntit'+'y']=_0x1a0b83);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x400a6a){this['_setValue']('hitPadding',_0x400a6a);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x66c681){this['_setValue']('transition'+'Mode',_0x66c681);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x54abcb){this['_setValue']('hoverTint',_0x54abcb);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x1d9812){this['_setValue']('pressedTin'+'t',_0x1d9812);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x4fc32b){this['_setValue']('inactiveTi'+'nt',_0x4fc32b);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0xa1e68e){this['_setValue']('fadeDurati'+'on',_0xa1e68e);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x16a4fc){this['_setValue']('hoverSprit'+'eAsset',_0x16a4fc);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x3ffbcf){this['_setValue']('hoverSprit'+'eFrame',_0x3ffbcf);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x34c346){this['_setValue']('pressedSpr'+'iteAsset',_0x34c346);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x8ad854){this['_setValue']('pressedSpr'+'iteFrame',_0x8ad854);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x9ee15f){this['_setValue']('inactiveSp'+'riteAsset',_0x9ee15f);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x20021a){this['_setValue']('inactiveSp'+'riteFrame',_0x20021a);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x5b382c,_0x122f4a){const _0x45af02=this['data'],_0x28d2ef=_0x45af02[_0x5b382c];_0x45af02[_0x5b382c]=_0x122f4a,this['fire']('set',_0x5b382c,_0x28d2ef,_0x122f4a);}['_toggleLif'+'ecycleList'+'eners'](_0x1a1ed2,_0x3aeec3){var _0x2b409f;this[_0x1a1ed2]('set_active',this['_onSetActi'+'ve'],this),this[_0x1a1ed2]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x1a1ed2]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1a1ed2]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x1a1ed2==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x2b409f=this['_evtElemen'+'tAdd'])==null||_0x2b409f['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x158d56,_0x454ddc,_0x37c0e7){_0x454ddc!==_0x37c0e7&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0xfc05e0,_0x42c598,_0x527cf1){_0x42c598!==_0x527cf1&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x42c598),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x12e7da,_0x40c69d,_0x5f57e2){_0x40c69d!==_0x5f57e2&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x1f6605,_0x3b5952;(_0x1f6605=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x1f6605['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x3b5952=this['_imageEnti'+'ty'])!=null&&_0x3b5952['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x55304b=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x55304b['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x55304b['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x55304b['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x55304b['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x55304b['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x6f41f5,_0x2c3a8b,_0x5035dd,_0x30502e,_0x36a1c4;(_0x6f41f5=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x6f41f5['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x2c3a8b=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x2c3a8b['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x5035dd=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x5035dd['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x30502e=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x30502e['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x36a1c4=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x36a1c4['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x26337a){if(this['entity']['element']){const _0x56f17b=_0x26337a==='on';if(_0x56f17b&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x26337a]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x26337a]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x26337a]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x26337a]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x26337a]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x26337a]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x26337a]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x26337a]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x26337a]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x26337a]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x26337a]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x26337a]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x26337a]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x26337a]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x56f17b;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x5c57dc;const _0x3dd2bf=(_0x5c57dc=this['_imageEnti'+'ty'])==null?void(-0x263a+-0x34b+-0x3*-0xdd7):_0x5c57dc['element'];!_0x3dd2bf||_0x3dd2bf['type']===eh||(this['_storeDefa'+'ultColor'](_0x3dd2bf['color']),this['_storeDefa'+'ultOpacity'](_0x3dd2bf['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x3dd2bf['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x3dd2bf['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x15d304){this['_defaultTi'+'nt']['r']=_0x15d304['r'],this['_defaultTi'+'nt']['g']=_0x15d304['g'],this['_defaultTi'+'nt']['b']=_0x15d304['b'];}['_storeDefa'+'ultOpacity'](_0x3c144b){this['_defaultTi'+'nt']['a']=_0x3c144b;}['_storeDefa'+'ultSpriteA'+'sset'](_0x59b56c){this['_defaultSp'+'riteAsset']=_0x59b56c;}['_storeDefa'+'ultSpriteF'+'rame'](_0x59054b){this['_defaultSp'+'riteFrame']=_0x59054b;}['_onSetColo'+'r'](_0x27033c){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x27033c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x53e780){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x53e780),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4d1ce9){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4d1ce9),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x4f5d0e){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x4f5d0e),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x3e1661){this['_isHoverin'+'g']=!(0x2410+-0x6a*0x2e+0xc*-0x16b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x3e1661);}['_onMouseLe'+'ave'](_0x4cfbdf){this['_isHoverin'+'g']=!(-0x922+0x68c+0x297*0x1),this['_isPressed']=!(-0x1157*-0x1+-0x55d*0x2+0x69c*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x4cfbdf);}['_onMouseDo'+'wn'](_0x3e7707){this['_isPressed']=!(0x1f1b+-0x20e5+-0x1ca*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x3e7707);}['_onMouseUp'](_0x240715){this['_isPressed']=!(-0x662+0x1*0x1e2+0x481),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x240715);}['_onTouchSt'+'art'](_0x1b64f9){this['_isPressed']=!(0xa*0x167+-0x1757+0x951),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x1b64f9);}['_onTouchEn'+'d'](_0x3a1f77){_0x3a1f77['event']['preventDef'+'ault'](),this['_isPressed']=!(0x672+0x5e5*-0x1+-0xe*0xa),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x3a1f77);}['_onTouchLe'+'ave'](_0x524f9e){this['_isPressed']=!(-0x71*-0x2b+0x595*0x4+-0x294e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x524f9e);}['_onTouchCa'+'ncel'](_0x1bcffd){this['_isPressed']=!(0x36*-0x13+0x21ea+-0x1de7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x1bcffd);}['_onSelectS'+'tart'](_0x514195){this['_isPressed']=!(-0x1cea+-0x3*0x5a+0x224*0xe),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x514195);}['_onSelectE'+'nd'](_0x94b9d7){this['_isPressed']=!(0x853+0xd*0x142+-0x18ac),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x94b9d7);}['_onSelectE'+'nter'](_0x5379a7){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x38*0x30+-0x2249+-0x1d*-0xd2&&(this['_isHoverin'+'g']=!(0x59f*-0x4+-0xc4e+0x22ca),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x5379a7);}['_onSelectL'+'eave'](_0x55634f){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x2304+-0x4f8*0x2+0x14*-0x141&&(this['_isHoverin'+'g']=!(0x1d03*0x1+0x6d*-0x28+0x1ff*-0x6),this['_isPressed']=!(0x40f*-0x8+0x2094+-0x1b),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x55634f);}['_onClick'](_0x3eb31f){this['_fireIfAct'+'ive']('click',_0x3eb31f);}['_fireIfAct'+'ive'](_0xb7e875,_0xcb40b5){this['data']['active']&&this['fire'](_0xb7e875,_0xcb40b5);}['_updateVis'+'ualState'](_0x5d4433){const _0x486199=this['_visualSta'+'te'],_0x5a1dac=this['_determine'+'VisualStat'+'e']();if((_0x486199!==_0x5a1dac||_0x5d4433)&&this['enabled'])switch(this['_visualSta'+'te']=_0x5a1dac,_0x486199===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x486199===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x5a1dac===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x5a1dac===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x45b7b0=kl[this['_visualSta'+'te']],_0x420d71=this[_0x45b7b0];this['_applyTint'](_0x420d71);break;}case Ng:{const _0x473fc1=Ul[this['_visualSta'+'te']],_0x39cc2f=Bl[this['_visualSta'+'te']],_0x4cbdfb=this[_0x473fc1],_0x36fc1b=this[_0x39cc2f];this['_applySpri'+'te'](_0x4cbdfb,_0x36fc1b);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x1660+0xba+-0xad3*-0x2));}['_resetToDe'+'faultVisua'+'lState'](_0x3bc37e){var _0x472275;if((_0x472275=this['_imageEnti'+'ty'])!=null&&_0x472275['element'])switch(_0x3bc37e){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x4ac44b,_0x331088){var _0x14495d;const _0x59eb5d=(_0x14495d=this['_imageEnti'+'ty'])==null?void(-0xc38+0x10*0x97+0x2c8):_0x14495d['element'];_0x59eb5d&&(_0x331088=_0x331088||0x277+0x1a2*0x10+-0x1c97,this['_isApplyin'+'gSprite']=!(-0x174*-0x2+-0x1816+0x152e),_0x59eb5d['spriteAsse'+'t']!==_0x4ac44b&&(_0x59eb5d['spriteAsse'+'t']=_0x4ac44b),_0x59eb5d['spriteFram'+'e']!==_0x331088&&(_0x59eb5d['spriteFram'+'e']=_0x331088),this['_isApplyin'+'gSprite']=!(-0x9a2+0x471+-0x85*-0xa));}['_applyTint'](_0x2985d){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x428+-0x8*0x2e2+0x1b38?this['_applyTint'+'Immediatel'+'y'](_0x2985d):this['_applyTint'+'WithTween'](_0x2985d);}['_applyTint'+'Immediatel'+'y'](_0x5105cf){var _0x51d9b9;const _0x47e1a6=(_0x51d9b9=this['_imageEnti'+'ty'])==null?void(0x2e4+0x4a0+-0x1e1*0x4):_0x51d9b9['element'];if(!_0x5105cf||!_0x47e1a6||_0x47e1a6['type']===eh)return;const _0x49d0c6=kg(_0x5105cf);this['_isApplyin'+'gTint']=!(0x333+-0x2626+-0x22f3*-0x1),_0x49d0c6['equals'](_0x47e1a6['color'])||(_0x47e1a6['color']=_0x49d0c6),_0x47e1a6['opacity']!==_0x5105cf['a']&&(_0x47e1a6['opacity']=_0x5105cf['a']),this['_isApplyin'+'gTint']=!(0x6*0x239+0x18d8+0x1d*-0x151);}['_applyTint'+'WithTween'](_0x44f20b){var _0x46d92f;const _0x4aa761=(_0x46d92f=this['_imageEnti'+'ty'])==null?void(0x17*0x135+-0x2*0xd3a+-0x14f):_0x46d92f['element'];if(!_0x44f20b||!_0x4aa761||_0x4aa761['type']===eh)return;const _0x325084=kg(_0x44f20b),_0x4e63c1=_0x4aa761['color'],_0x21e46c=_0x4aa761['opacity'];_0x325084['equals'](_0x4e63c1)&&_0x44f20b['a']===_0x21e46c||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x4e63c1['r'],_0x4e63c1['g'],_0x4e63c1['b'],_0x21e46c),'to':_0x44f20b['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x17c741=de()-this['_tweenInfo']['startTime'];let _0x30b29b=this['fadeDurati'+'on']===0xb5*-0x3+-0x477*0x5+0x1872?-0x749+0x1*-0x14c6+-0x382*-0x8:_0x17c741/this['fadeDurati'+'on'];if(_0x30b29b=Y['clamp'](_0x30b29b,-0x2090+0xe85+0x120b,-0x180b+-0x9*0x329+0x347d),Math['abs'](_0x30b29b-(0x21b+-0x1277*0x1+0x105d))>-0x545+-0x2357+-0x1*-0x289c+0.00001){const _0x442466=this['_tweenInfo']['lerpColor'];_0x442466['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x30b29b),this['_applyTint'+'Immediatel'+'y'](new ie(_0x442466['r'],_0x442466['g'],_0x442466['b'],_0x442466['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x7f9*0x1+0x6d*0x2c+-0xac2),this['_hoveringC'+'ounter']=0x1a99+0xb5*0x36+-0x40c7,this['_isPressed']=!(-0x1*0x1ef7+0x547+0x19b1),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2416f5,_0x21d7a8){_0x2416f5['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x21d7a8[_0x2416f5['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x44e47a){return new ie(_0x44e47a['r'],_0x44e47a['g'],_0x44e47a['b']);}class WL{constructor(){this['enabled']=!(-0x1157+-0x1709+-0x2*-0x1430),this['active']=!(0x1135+0x1*-0x259+-0xedc),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x837*-0x3+0x10ad*0x1+0x66*0x14+0.75,0x3e*0x65+-0x1a*0x73+-0xcc8+0.75,-0x1bbf+0xd67+-0x4*-0x396+0.75),this['pressedTin'+'t']=new ie(0x1dc8*-0x1+-0x3ea*0x3+-0x2*-0x14c3+0.5,-0xead+0x1930+-0x1*0xa83+0.5,0x1*0x18af+-0x45*-0xb+0x1*-0x1ba6+0.5),this['inactiveTi'+'nt']=new ie(0x2515+0x2354+-0x4869+0.25,-0x445+-0x16ba+0x1aff+0.25,0xb90+0x603+0x1*-0x1193+0.25),this['fadeDurati'+'on']=0x1*-0x1182+0x108f+0xf3,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x170d+-0x187e+0x9*0x29,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x2ad*-0x5+0x9af+-0x1710,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1ba3*0x1+0x4*-0x2f7+0x1*0x277f;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x429a1d){super(_0x429a1d),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x378dc7,_0xd23901,_0xb06ec7){_0x378dc7['imageEntit'+'y']=_0xd23901['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x378dc7,_0xd23901,Ug);}['onUpdate'](_0x22948b){const _0x56e2a9=this['store'];for(const _0x152305 in _0x56e2a9){const _0x4620b1=_0x56e2a9[_0x152305]['entity'],_0x211477=_0x4620b1['button'];_0x211477['enabled']&&_0x4620b1['enabled']&&_0x211477['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2fce84,_0x2d773f){_0x2d773f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x4a99ff,_0x2109db){super(_0x4a99ff,_0x2109db),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x215c+0x812*-0x3+-0x925*0x1)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0xb2b9be=this['system']['store'][this['entity']['getGuid']()];return _0xb2b9be?_0xb2b9be['data']:null;}set['enabled'](_0x311230){this['_setValue']('enabled',_0x311230);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x577c17){this['_setValue']('type',_0x577c17);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x250fa){this['_setValue']('halfExtent'+'s',_0x250fa);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x1b018c){this['_setValue']('linearOffs'+'et',_0x1b018c);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x121707){this['_setValue']('angularOff'+'set',_0x121707);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x35bea0){this['_setValue']('radius',_0x35bea0);}get['radius'](){return this['data']['radius'];}set['axis'](_0x522f2b){this['_setValue']('axis',_0x522f2b);}get['axis'](){return this['data']['axis'];}set['height'](_0x50d927){this['_setValue']('height',_0x50d927);}get['height'](){return this['data']['height'];}set['asset'](_0x38e60c){this['_setValue']('asset',_0x38e60c);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x8a1601){this['_setValue']('renderAsse'+'t',_0x8a1601);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x4ba6df){this['_setValue']('convexHull',_0x4ba6df);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x3a5050){this['_setValue']('shape',_0x3a5050);}get['shape'](){return this['data']['shape'];}set['model'](_0x43c837){this['_setValue']('model',_0x43c837);}get['model'](){return this['data']['model'];}set['render'](_0x46318b){this['_setValue']('render',_0x46318b);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x238586){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x238586);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x46432f,_0x25f4c3){const _0x50ed59=this['data'],_0x535fe7=_0x50ed59[_0x46432f];_0x50ed59[_0x46432f]=_0x25f4c3,this['fire']('set',_0x46432f,_0x535fe7,_0x25f4c3);}['onSetType'](_0x41a1cd,_0x3f457f,_0xc482a){_0x3f457f!==_0xc482a&&this['system']['changeType'](this,_0x3f457f,_0xc482a);}['onSetHalfE'+'xtents'](_0x4b73d5,_0x15c6eb,_0x23fe4b){const _0x326195=this['data']['type'];this['data']['initialize'+'d']&&_0x326195==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x1e8455,_0x4b9867,_0x580698){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4538b2,_0x39babd,_0x5de55c){const _0x25a3d9=this['data']['type'];this['data']['initialize'+'d']&&(_0x25a3d9==='sphere'||_0x25a3d9==='capsule'||_0x25a3d9==='cylinder'||_0x25a3d9==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x56fb23,_0x4f1e80,_0x346837){const _0x3f4d70=this['data']['type'];this['data']['initialize'+'d']&&(_0x3f4d70==='capsule'||_0x3f4d70==='cylinder'||_0x3f4d70==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x105d0b,_0x5b52e1,_0x4a50a0){const _0x282074=this['data']['type'];this['data']['initialize'+'d']&&(_0x282074==='capsule'||_0x282074==='cylinder'||_0x282074==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x1bac8e,_0x3790cd,_0x33d95d){const _0x1d39ad=this['system']['app']['assets'];if(_0x3790cd){const _0x1dcf51=_0x1d39ad['get'](_0x3790cd);_0x1dcf51&&_0x1dcf51['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x33d95d){_0x33d95d instanceof pe&&(this['data']['asset']=_0x33d95d['id']);const _0x3612cc=_0x1d39ad['get'](this['data']['asset']);_0x3612cc&&(_0x3612cc['off']('remove',this['onAssetRem'+'oved'],this),_0x3612cc['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x33d95d||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x2a8857,_0x41a6b6,_0x5510d7){const _0x2201de=this['system']['app']['assets'];if(_0x41a6b6){const _0x5a1a45=_0x2201de['get'](_0x41a6b6);_0x5a1a45&&_0x5a1a45['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x5510d7){_0x5510d7 instanceof pe&&(this['data']['renderAsse'+'t']=_0x5510d7['id']);const _0x52b584=_0x2201de['get'](this['data']['renderAsse'+'t']);_0x52b584&&(_0x52b584['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x52b584['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5510d7||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x391df7,_0x42d4bf,_0x332d2c){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x33e63d,_0x208a62,_0x18295e){this['onSetModel'](_0x33e63d,_0x208a62,_0x18295e);}['onAssetRem'+'oved'](_0x23122a){_0x23122a['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x23122a['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x195595){_0x195595['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x195595['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x258bd7){const _0x57e480=this['data']['shape'],_0x34e64c=_0x57e480['getNumChil'+'dShapes']();for(let _0x1058d2=-0xb73+0x779+-0x1*-0x3fa;_0x1058d2<_0x34e64c;_0x1058d2++){const _0x47e3e6=_0x57e480['getChildSh'+'ape'](_0x1058d2);if(Ammo['getPointer'](_0x47e3e6)===Ammo['getPointer'](_0x258bd7))return _0x1058d2;}return null;}['_onInsert'](_0x3610ae){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x2f7642=this['entity']['parent'];for(;_0x2f7642;){if(_0x2f7642['collision']&&_0x2f7642['collision']['type']==='compound'){_0x2f7642['collision']['shape']['getNumChil'+'dShapes']()===0x5f8+0x2287*-0x1+0x1c8f*0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2f7642['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x2f7642=_0x2f7642['parent'];}}}}}['_updateCom'+'pound'](){const _0x47da93=this['entity'];if(_0x47da93['_dirtyWorl'+'d']){let _0x4932e5=_0x47da93['_dirtyLoca'+'l'],_0x576e07=_0x47da93;for(;_0x576e07&&!_0x4932e5&&!(_0x576e07['collision']&&_0x576e07['collision']===this['_compoundP'+'arent']);)_0x576e07['_dirtyLoca'+'l']&&(_0x4932e5=!(0xb*-0x363+0xe14+-0x172d*-0x1)),_0x576e07=_0x576e07['parent'];if(_0x4932e5){_0x47da93['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x47da93);const _0x3e68a2=this['_compoundP'+'arent']['entity']['rigidbody'];_0x3e68a2&&_0x3e68a2['activate']();}}}['getShapePo'+'sition'](){const _0x3863f9=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x308591=this['entity']['getRotatio'+'n'](),_0x37bfb8=this['data']['linearOffs'+'et'];return zg['copy'](_0x308591)['transformV'+'ector'](_0x37bfb8,Bg),Bg['add'](_0x3863f9);}return _0x3863f9;}['getShapeRo'+'tation'](){const _0x4c04cb=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x4c04cb)['mul'](this['data']['angularOff'+'set']):_0x4c04cb;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4246ec=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4246ec&&(!_0x4246ec['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x103f*0x1+-0xcb2+-0x3*0x12f)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x1ca63f=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x1ca63f,this['data']['shape']),Ammo['destroy'](_0x1ca63f),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x1fb0+-0x32*-0xa3+0x2*-0x13),this['type']='box',this['halfExtent'+'s']=new D(0x16f*-0x6+-0x26a5+-0xcd*-0x3b+0.5,-0x5*-0x389+0x10b3+-0x64*0x58+0.5,0x13*-0x5+0x17a7+0x4*-0x5d2+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x2603+0x5ca+0x2039+0.5,this['axis']=-0x6*0x556+-0x1d22*0x1+-0xc3b*-0x5,this['height']=-0x2*-0xfc9+0x42b+-0x23bb,this['convexHull']=!(-0x1a73+0x2659+-0x91*0x15),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0xe4a*0x1+-0x303+0x114d),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x5c4*-0x1+-0x1ada+0x209f);}}const yo='static',ks='dynamic',Ha='kinematic',qL=0x567+-0x56*0x43+0x111d,Po=-0x28f+0xe*0x139+-0xe8b,Pu=-0x1770+0x96+-0x16db*-0x1,Vg=0x1e*-0xb5+-0x1d20+-0x325a*-0x1,Yv=0x18e3+-0x1bc8+0x2ea,jL=0x14c4+0x20e5+-0x88*0x65,Gg=0x82f+-0x3be+-0x46f,YL=-0xf2f+0x1*0x13f4+-0x4c1,Hg=0x2460+-0x22ad+0x1*-0x1a3,Wg=-0x19694+0x14714*0x1+0x14f7f,Mu=-0x3*0x7f63+-0x7ce5*0x4+0x238dd*0x2;let Us,zr,Wa;class Kv{constructor(_0x127060,_0x45f3d9,_0x2c17ed){this['entity']=_0x45f3d9['entity'],this['component']=_0x45f3d9,this['app']=_0x127060,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2c17ed);}['initialize'](_0x942ea9){const _0xb5550f=this['entity'],_0x2aa92f=_0x942ea9['shape'];if(_0x2aa92f&&typeof Ammo<'u'){_0xb5550f['trigger']&&_0xb5550f['trigger']['destroy']();const _0x2e23e0=0x589+-0x6a8+-0x60*-0x3,_0x56a920=this['component'];if(_0x56a920){const _0x24229e=_0x56a920['getShapePo'+'sition'](),_0x38b300=_0x56a920['getShapeRo'+'tation']();Us['setValue'](_0x24229e['x'],_0x24229e['y'],_0x24229e['z']),zr['setValue'](_0x38b300['x'],_0x38b300['y'],_0x38b300['z'],_0x38b300['w']);}else{const _0x5c335b=_0xb5550f['getPositio'+'n'](),_0x196710=_0xb5550f['getRotatio'+'n']();Us['setValue'](_0x5c335b['x'],_0x5c335b['y'],_0x5c335b['z']),zr['setValue'](_0x196710['x'],_0x196710['y'],_0x196710['z'],_0x196710['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0xc0b240=this['app']['systems']['rigidbody']['createBody'](_0x2e23e0,_0x2aa92f,Wa);_0xc0b240['setRestitu'+'tion'](0x1d85+0x153b+0x70*-0x74),_0xc0b240['setFrictio'+'n'](0x1626+0x545*0x2+-0x20b0*0x1),_0xc0b240['setDamping'](-0x24bf+0xc36+0x1889,0x2*0x1263+0x445*0x5+0x1*-0x3a1f),Us['setValue'](-0x1*-0x535+0x2117*-0x1+0x1be2,-0x11f4+-0x35*-0x71+-0x571*0x1,0x18*0x193+0xb5d+0x17*-0x223),_0xc0b240['setLinearF'+'actor'](Us),_0xc0b240['setAngular'+'Factor'](Us),_0xc0b240['setCollisi'+'onFlags'](_0xc0b240['getCollisi'+'onFlags']()|Po),_0xc0b240['entity']=_0xb5550f,this['body']=_0xc0b240,this['component']['enabled']&&_0xb5550f['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x2ae0ed){const _0x1b9cda=this['component'];if(_0x1b9cda){const _0x59bf6c=_0x1b9cda['getShapePo'+'sition'](),_0x40dad3=_0x1b9cda['getShapeRo'+'tation']();Us['setValue'](_0x59bf6c['x'],_0x59bf6c['y'],_0x59bf6c['z']),zr['setValue'](_0x40dad3['x'],_0x40dad3['y'],_0x40dad3['z'],_0x40dad3['w']);}else{const _0x55d240=this['entity']['getPositio'+'n'](),_0xc315ad=this['entity']['getRotatio'+'n']();Us['setValue'](_0x55d240['x'],_0x55d240['y'],_0x55d240['z']),zr['setValue'](_0xc315ad['x'],_0xc315ad['y'],_0xc315ad['z'],_0xc315ad['w']);}_0x2ae0ed['setOrigin'](Us),_0x2ae0ed['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x21ae15=this['body'];_0x21ae15['setWorldTr'+'ansform'](Wa),_0x21ae15['activate']();}['enable'](){const _0x4c23ab=this['body'];if(!_0x4c23ab)return;const _0x220997=this['app']['systems']['rigidbody'];_0x220997['_triggers']['indexOf'](this)<-0x1f1b+-0x3ff*-0x5+0xb20&&(_0x220997['addBody'](_0x4c23ab,Hg,Mu^Hg),_0x220997['_triggers']['push'](this)),_0x4c23ab['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x13da96=this['body'];if(!_0x13da96)return;const _0x2610f2=this['app']['systems']['rigidbody'],_0x52de5e=_0x2610f2['_triggers']['indexOf'](this);_0x52de5e>-(-0xc9d+-0x35*0x19+-0x38f*-0x5)&&(_0x2610f2['removeBody'](_0x13da96),_0x2610f2['_triggers']['splice'](_0x52de5e,-0x533*-0x2+0xa*-0x1a9+0x635)),_0x13da96['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x1b352d){this['system']=_0x1b352d;}['beforeInit'+'ialize'](_0x3ec1df,_0x3f4aa9){_0x3f4aa9['shape']=null,_0x3f4aa9['model']=new sr(),_0x3f4aa9['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x2be96f,_0x573987){this['recreatePh'+'ysicalShap'+'es'](_0x2be96f),_0x2be96f['data']['initialize'+'d']=!(0x3*-0x37f+-0x2507+0x2f84);}['reset'](_0x54e628,_0x114ef0){this['beforeInit'+'ialize'](_0x54e628,_0x114ef0),this['afterIniti'+'alize'](_0x54e628,_0x114ef0);}['recreatePh'+'ysicalShap'+'es'](_0x117109){const _0x311a35=_0x117109['entity'],_0x17c665=_0x117109['data'];if(typeof Ammo<'u'){_0x311a35['trigger']&&(_0x311a35['trigger']['destroy'](),delete _0x311a35['trigger']),_0x17c665['shape']&&(_0x117109['_compoundP'+'arent']&&(_0x117109!==_0x117109['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x117109['_compoundP'+'arent'],_0x17c665['shape']),_0x117109['_compoundP'+'arent']['entity']['rigidbody']&&_0x117109['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x17c665)),_0x17c665['shape']=this['createPhys'+'icalShape'](_0x117109['entity'],_0x17c665);const _0x41dea5=!_0x117109['_compoundP'+'arent'];if(_0x17c665['type']==='compound'&&(!_0x117109['_compoundP'+'arent']||_0x117109===_0x117109['_compoundP'+'arent']))_0x117109['_compoundP'+'arent']=_0x117109,_0x311a35['forEach'](this['_addEachDe'+'scendant'],_0x117109);else{if(_0x17c665['type']!=='compound'&&!_0x117109['rigidbody']){_0x117109['_compoundP'+'arent']=null;let _0x96914d=_0x311a35['parent'];for(;_0x96914d;){if(_0x96914d['collision']&&_0x96914d['collision']['type']==='compound'){_0x117109['_compoundP'+'arent']=_0x96914d['collision'];break;}_0x96914d=_0x96914d['parent'];}}}_0x117109['_compoundP'+'arent']&&_0x117109!==_0x117109['_compoundP'+'arent']&&(_0x41dea5&&_0x117109['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x7*-0x388+0x4*0x664+0x3*-0x48?this['system']['recreatePh'+'ysicalShap'+'es'](_0x117109['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x311a35,!(-0x6ff+-0x24c7*-0x1+-0x1dc8)),_0x117109['_compoundP'+'arent']['entity']['rigidbody']&&_0x117109['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x311a35['rigidbody']?(_0x311a35['rigidbody']['disableSim'+'ulation'](),_0x311a35['rigidbody']['createBody'](),_0x311a35['enabled']&&_0x311a35['rigidbody']['enabled']&&_0x311a35['rigidbody']['enableSimu'+'lation']()):_0x117109['_compoundP'+'arent']||(_0x311a35['trigger']?_0x311a35['trigger']['initialize'](_0x17c665):_0x311a35['trigger']=new Kv(this['system']['app'],_0x117109,_0x17c665));}}['createPhys'+'icalShape'](_0x10d8ea,_0x4a671c){}['updateTran'+'sform'](_0x365127,_0x215900,_0x11d0b4,_0x4126f4){_0x365127['entity']['trigger']&&_0x365127['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x17471b){_0x17471b['shape']&&(Ammo['destroy'](_0x17471b['shape']),_0x17471b['shape']=null);}['beforeRemo'+'ve'](_0x1619bb,_0x15aab7){_0x15aab7['data']['shape']&&(_0x15aab7['_compoundP'+'arent']&&!_0x15aab7['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x15aab7['_compoundP'+'arent'],_0x15aab7['data']['shape']),_0x15aab7['_compoundP'+'arent']['entity']['rigidbody']&&_0x15aab7['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x15aab7['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x15aab7['data']));}['remove'](_0x22941a,_0x4f23a2){_0x22941a['rigidbody']&&_0x22941a['rigidbody']['body']&&_0x22941a['rigidbody']['disableSim'+'ulation'](),_0x22941a['trigger']&&(_0x22941a['trigger']['destroy'](),delete _0x22941a['trigger']);}['clone'](_0x5ed4d6,_0x4f0d7a){const _0x31f1be=this['system']['store'][_0x5ed4d6['getGuid']()],_0xddcfca={'enabled':_0x31f1be['data']['enabled'],'type':_0x31f1be['data']['type'],'halfExtents':[_0x31f1be['data']['halfExtent'+'s']['x'],_0x31f1be['data']['halfExtent'+'s']['y'],_0x31f1be['data']['halfExtent'+'s']['z']],'linearOffset':[_0x31f1be['data']['linearOffs'+'et']['x'],_0x31f1be['data']['linearOffs'+'et']['y'],_0x31f1be['data']['linearOffs'+'et']['z']],'angularOffset':[_0x31f1be['data']['angularOff'+'set']['x'],_0x31f1be['data']['angularOff'+'set']['y'],_0x31f1be['data']['angularOff'+'set']['z'],_0x31f1be['data']['angularOff'+'set']['w']],'radius':_0x31f1be['data']['radius'],'axis':_0x31f1be['data']['axis'],'height':_0x31f1be['data']['height'],'convexHull':_0x31f1be['data']['convexHull'],'asset':_0x31f1be['data']['asset'],'renderAsset':_0x31f1be['data']['renderAsse'+'t'],'model':_0x31f1be['data']['model'],'render':_0x31f1be['data']['render'],'checkVertexDuplicates':_0x31f1be['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x4f0d7a,_0xddcfca);}}class JL extends Ca{['createPhys'+'icalShape'](_0x3a9d9e,_0x569ed9){if(typeof Ammo<'u'){const _0x566ee9=_0x569ed9['halfExtent'+'s'],_0xe3bdd9=new Ammo['btVector3'](_0x566ee9?_0x566ee9['x']:-0x3*0xc10+-0x13*-0x115+0xfa1+0.5,_0x566ee9?_0x566ee9['y']:-0x1056+0x2c2*-0x4+0x1b5e+0.5,_0x566ee9?_0x566ee9['z']:0x102c+-0x223a+0x1*0x120e+0.5),_0x4bdb2b=new Ammo['btBoxShape'](_0xe3bdd9);return Ammo['destroy'](_0xe3bdd9),_0x4bdb2b;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x1909d4,_0xbf753e){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0xbf753e['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x16aa40,_0x26e0bb){const _0x5f4ac8=_0x26e0bb['axis']??-0x2*0x146+-0x2*-0x1241+0x21f5*-0x1,_0x1bd6a9=_0x26e0bb['radius']??0x189b+-0x233b+0xaa0+0.5,_0x489ba5=Math['max']((_0x26e0bb['height']??0x4*0x9e+-0x28*0x7+-0x15e)-(0x17*-0x93+0x7c9+-0xa*-0x8b)*_0x1bd6a9,-0x5c0+0x253*0x3+0x1*-0x139);let _0x3423f5=null;if(typeof Ammo<'u')switch(_0x5f4ac8){case-0x1661+0x1*-0xce2+-0x99*-0x3b:_0x3423f5=new Ammo['btCapsuleS'+'hapeX'](_0x1bd6a9,_0x489ba5);break;case 0x2079+0xb14+-0x2b8c:_0x3423f5=new Ammo['btCapsuleS'+'hape'](_0x1bd6a9,_0x489ba5);break;case 0x7*0x4d1+-0x5*-0x5ff+-0x3fb0:_0x3423f5=new Ammo['btCapsuleS'+'hapeZ'](_0x1bd6a9,_0x489ba5);break;}return _0x3423f5;}}class sR extends Ca{['createPhys'+'icalShape'](_0x43722f,_0x1e16d2){const _0x3fc883=_0x1e16d2['axis']??-0xb1b+0x59f+0x119*0x5,_0x176e2a=_0x1e16d2['radius']??-0x169*0xb+-0x215+0x1198+0.5,_0x3bf355=_0x1e16d2['height']??-0x2509+0x5f5*-0x3+0x36e9;let _0x241c3e=null,_0x5b01c7=null;if(typeof Ammo<'u')switch(_0x3fc883){case-0x53*-0xb+-0x132c+0xf9b:_0x241c3e=new Ammo['btVector3'](_0x3bf355*(0x2e*-0x6d+0x7*0x28a+0x74*0x4+0.5),_0x176e2a,_0x176e2a),_0x5b01c7=new Ammo['btCylinder'+'ShapeX'](_0x241c3e);break;case-0x3c1+-0x1ef8+-0x4f6*-0x7:_0x241c3e=new Ammo['btVector3'](_0x176e2a,_0x3bf355*(0x1272+-0x232+0x68*-0x28+0.5),_0x176e2a),_0x5b01c7=new Ammo['btCylinder'+'Shape'](_0x241c3e);break;case 0x1*-0x814+0x1d29+-0x1513:_0x241c3e=new Ammo['btVector3'](_0x176e2a,_0x176e2a,_0x3bf355*(-0x5ec*0x1+-0x17*-0xb4+-0xa40+0.5)),_0x5b01c7=new Ammo['btCylinder'+'ShapeZ'](_0x241c3e);break;}return _0x241c3e&&Ammo['destroy'](_0x241c3e),_0x5b01c7;}}class iR extends Ca{['createPhys'+'icalShape'](_0x1716a2,_0x1bf995){const _0x1d91fc=_0x1bf995['axis']??-0x17a8+-0x2549+-0x2*-0x1e79,_0x18242b=_0x1bf995['radius']??-0x6c5*0x5+-0x11*0x91+0x15*0x212+0.5,_0x4ec203=_0x1bf995['height']??-0x8*0xe6+0x1*-0x1196+0x18c7;let _0x74347=null;if(typeof Ammo<'u')switch(_0x1d91fc){case-0x1c59+-0x1*0x1cbc+-0x1307*-0x3:_0x74347=new Ammo['btConeShap'+'eX'](_0x18242b,_0x4ec203);break;case 0x3fe+-0x24b*0xd+0xce9*0x2:_0x74347=new Ammo['btConeShap'+'e'](_0x18242b,_0x4ec203);break;case-0x1454+0x4f*-0x4f+0x2cb7:_0x74347=new Ammo['btConeShap'+'eZ'](_0x18242b,_0x4ec203);break;}return _0x74347;}}class rR extends Ca{['beforeInit'+'ialize'](_0x556503,_0x39e24f){}['createAmmo'+'Hull'](_0x3bacdd,_0x399bc0,_0x50b96c,_0x4204a5){const _0x30249d=new Ammo['btConvexHu'+'llShape'](),_0x430d02=new Ammo['btVector3'](),_0x3e9032=[];_0x3bacdd['getPositio'+'ns'](_0x3e9032);for(let _0x2c3738=-0x2303+-0x85*-0x29+-0x5a*-0x27;_0x2c3738<_0x3e9032['length'];_0x2c3738+=-0x1*-0x182b+0x5a*0x5+-0x19ea)_0x430d02['setValue'](_0x3e9032[_0x2c3738]*_0x4204a5['x'],_0x3e9032[_0x2c3738+(-0x175b+-0x86b+-0x1fc7*-0x1)]*_0x4204a5['y'],_0x3e9032[_0x2c3738+(-0xec3*-0x1+-0x1fe3+0x1*0x1122)]*_0x4204a5['z']),_0x30249d['addPoint'](_0x430d02,!(-0x154c+0xf69+0x5e4*0x1));Ammo['destroy'](_0x430d02),_0x30249d['recalcLoca'+'lAabb'](),_0x30249d['setMargin'](0x1f*-0xbc+-0x2a6+0x196a+0.01);const _0x323768=this['system']['_getNodeTr'+'ansform'](_0x399bc0);_0x50b96c['addChildSh'+'ape'](_0x323768,_0x30249d),Ammo['destroy'](_0x323768);}['createAmmo'+'Mesh'](_0x5f2f10,_0x596877,_0x48140d,_0x54af60,_0x2b2ec5=!(-0x760+-0x1*-0x5b3+-0x27*-0xb)){const _0x1fd8ad=this['system'];let _0x25fcf5;if(_0x1fd8ad['_triMeshCa'+'che'][_0x5f2f10['id']])_0x25fcf5=_0x1fd8ad['_triMeshCa'+'che'][_0x5f2f10['id']];else{const _0x2a0301=_0x5f2f10['vertexBuff'+'er'],_0x2432ef=_0x2a0301['getFormat']();let _0x191a51,_0x56f5bf;for(let _0x5456e1=0x8cb*-0x1+0x1210+0x15*-0x71;_0x5456e1<_0x2432ef['elements']['length'];_0x5456e1++){const _0x396407=_0x2432ef['elements'][_0x5456e1];if(_0x396407['name']===Me){_0x56f5bf=new Float32Array(_0x2a0301['lock'](),_0x396407['offset']),_0x191a51=_0x396407['stride']/(-0x17f3+0x1c48+-0x11*0x41);break;}}const _0x4d022c=[];_0x5f2f10['getIndices'](_0x4d022c);const _0x12e5eb=_0x5f2f10['primitive'][-0x5f7+0x2251+-0x1*0x1c5a]['count']/(-0x1856+-0x1db1+0x360a),_0x5809a3=new Ammo['btVector3']();let _0x2c48d9,_0x2e0d29,_0x2497ec;const _0x5684ed=_0x5f2f10['primitive'][-0x1e42+-0x3*-0x224+0x17d6]['base'];_0x25fcf5=new Ammo['btTriangle'+'Mesh'](),_0x1fd8ad['_triMeshCa'+'che'][_0x5f2f10['id']]=_0x25fcf5;const _0x15c446=new Map();w['assert'](typeof _0x25fcf5['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x1b4886=_0x25fcf5['getIndexed'+'MeshArray']();_0x1b4886['at'](-0xd9+-0x91f+0x3a*0x2c)['m_numTrian'+'gles']=_0x12e5eb;const _0x1d9283=_0x54af60?_0x54af60['x']:-0x84+0x146f+-0x13ea*0x1,_0x45e107=_0x54af60?_0x54af60['y']:0x2*0xf91+0x1*0x2694+0x2b*-0x19f,_0x4b626c=_0x54af60?_0x54af60['z']:0x2514+0x21bc+0x1*-0x46cf,_0x755b70=_0x4dd94c=>{const _0x4bcba3=_0x56f5bf[_0x4dd94c*_0x191a51]*_0x1d9283,_0x2f2355=_0x56f5bf[_0x4dd94c*_0x191a51+(-0x51*0x49+0x20ef+-0x9d5*0x1)]*_0x45e107,_0x81a3b2=_0x56f5bf[_0x4dd94c*_0x191a51+(0x1d*0x8+-0x178+0x92)]*_0x4b626c;let _0x44c796;if(_0x2b2ec5){const _0x44adf2=_0x4bcba3+':'+_0x2f2355+':'+_0x81a3b2;if(_0x44c796=_0x15c446['get'](_0x44adf2),_0x44c796!==void(0x44+-0x1*-0x18f9+-0xd*0x1f1))return _0x44c796;_0x5809a3['setValue'](_0x4bcba3,_0x2f2355,_0x81a3b2),_0x44c796=_0x25fcf5['findOrAddV'+'ertex'](_0x5809a3,!(-0xf1+0x1*0x267d+0x258b*-0x1)),_0x15c446['set'](_0x44adf2,_0x44c796);}else _0x5809a3['setValue'](_0x4bcba3,_0x2f2355,_0x81a3b2),_0x44c796=_0x25fcf5['findOrAddV'+'ertex'](_0x5809a3,!(-0x1ddb+0x1*-0xb5f+-0x293b*-0x1));return _0x44c796;};for(let _0x481bca=-0x2029+0x575+0x1ab4;_0x481bca<_0x12e5eb;_0x481bca++)_0x2c48d9=_0x755b70(_0x4d022c[_0x5684ed+_0x481bca*(-0x24+-0x232f*-0x1+-0x2308)]),_0x2e0d29=_0x755b70(_0x4d022c[_0x5684ed+_0x481bca*(-0x1135+-0xdf3+0x1f2b)+(0xa8f+-0x1b5b+0x1*0x10cd)]),_0x2497ec=_0x755b70(_0x4d022c[_0x5684ed+_0x481bca*(-0x143f+-0x1d9*0x9+0x24e3)+(-0x2*-0xaa6+0x1589+-0x2ad3)]),_0x25fcf5['addIndex'](_0x2c48d9),_0x25fcf5['addIndex'](_0x2e0d29),_0x25fcf5['addIndex'](_0x2497ec);Ammo['destroy'](_0x5809a3);}const _0x450afa=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x25fcf5,!(-0x163*-0x16+0xb5*-0x15+0x13*-0xd3));if(!_0x54af60){const _0x1e2d1f=_0x1fd8ad['_getNodeSc'+'aling'](_0x596877);_0x450afa['setLocalSc'+'aling'](_0x1e2d1f),Ammo['destroy'](_0x1e2d1f);}const _0x2eabc0=_0x1fd8ad['_getNodeTr'+'ansform'](_0x596877);_0x48140d['addChildSh'+'ape'](_0x2eabc0,_0x450afa),Ammo['destroy'](_0x2eabc0);}['createPhys'+'icalShape'](_0x10469d,_0x2b401d){if(!(typeof Ammo>'u')&&(_0x2b401d['model']||_0x2b401d['render'])){const _0x22e9ac=new Ammo['btCompound'+'Shape'](),_0x21c19e=_0x10469d['getWorldTr'+'ansform']()['getScale']();if(_0x2b401d['render']){const _0x5ecce8=_0x2b401d['render']['meshes'];for(let _0x4629c9=0x1*-0x943+0x1*-0xcdd+0x1620;_0x4629c9<_0x5ecce8['length'];_0x4629c9++)_0x2b401d['convexHull']?this['createAmmo'+'Hull'](_0x5ecce8[_0x4629c9],$g,_0x22e9ac,_0x21c19e):this['createAmmo'+'Mesh'](_0x5ecce8[_0x4629c9],$g,_0x22e9ac,_0x21c19e,_0x2b401d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x2b401d['model']){const _0xa112e4=_0x2b401d['model']['meshInstan'+'ces'];for(let _0x3d5232=0x2*0xc14+0xc*0x11f+-0x4*0x967;_0x3d5232<_0xa112e4['length'];_0x3d5232++)this['createAmmo'+'Mesh'](_0xa112e4[_0x3d5232]['mesh'],_0xa112e4[_0x3d5232]['node'],_0x22e9ac,null,_0x2b401d['checkVerte'+'xDuplicate'+'s']);const _0x5af21d=new Ammo['btVector3'](_0x21c19e['x'],_0x21c19e['y'],_0x21c19e['z']);_0x22e9ac['setLocalSc'+'aling'](_0x5af21d),Ammo['destroy'](_0x5af21d);}}return _0x22e9ac;}}['recreatePh'+'ysicalShap'+'es'](_0x486eef){const _0x49fb8b=_0x486eef['data'];if((_0x49fb8b['renderAsse'+'t']||_0x49fb8b['asset'])&&_0x486eef['enabled']&&_0x486eef['entity']['enabled']){this['loadAsset'](_0x486eef,_0x49fb8b['renderAsse'+'t']||_0x49fb8b['asset'],_0x49fb8b['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x486eef);}['loadAsset'](_0x1afef6,_0x435895,_0x45870a){const _0x21e49a=_0x1afef6['data'],_0x5b5bd2=this['system']['app']['assets'],_0x2596fc=_0x21e49a[_0x45870a],_0x4deb67=_0x2ae975=>{_0x21e49a[_0x45870a]===_0x2596fc&&(_0x21e49a[_0x45870a]=_0x2ae975['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x1afef6));},_0x28a545=_0x5941e0=>{_0x5941e0['ready'](_0x41f558=>{if(_0x41f558['data']['containerA'+'sset']){const _0x2c2587=_0x5b5bd2['get'](_0x41f558['data']['containerA'+'sset']);_0x2c2587['loaded']?_0x4deb67(_0x41f558):(_0x2c2587['ready'](()=>{_0x4deb67(_0x41f558);}),_0x5b5bd2['load'](_0x2c2587));}else _0x4deb67(_0x41f558);}),_0x5b5bd2['load'](_0x5941e0);},_0x44e065=_0x5b5bd2['get'](_0x435895);_0x44e065?_0x28a545(_0x44e065):_0x5b5bd2['once']('add:'+_0x435895,_0x28a545);}['doRecreate'+'PhysicalSh'+'ape'](_0x1cfb3e){const _0x3e5d17=_0x1cfb3e['entity'],_0x47b4ce=_0x1cfb3e['data'];_0x47b4ce['model']||_0x47b4ce['render']?(this['destroySha'+'pe'](_0x47b4ce),_0x47b4ce['shape']=this['createPhys'+'icalShape'](_0x3e5d17,_0x47b4ce),_0x3e5d17['rigidbody']?(_0x3e5d17['rigidbody']['disableSim'+'ulation'](),_0x3e5d17['rigidbody']['createBody'](),_0x3e5d17['enabled']&&_0x3e5d17['rigidbody']['enabled']&&_0x3e5d17['rigidbody']['enableSimu'+'lation']()):_0x3e5d17['trigger']?_0x3e5d17['trigger']['initialize'](_0x47b4ce):_0x3e5d17['trigger']=new Kv(this['system']['app'],_0x1cfb3e,_0x47b4ce)):(this['beforeRemo'+'ve'](_0x3e5d17,_0x1cfb3e),this['remove'](_0x3e5d17,_0x47b4ce));}['updateTran'+'sform'](_0xba64b8,_0x3c4afd,_0x5de289,_0xe97708){if(_0xba64b8['shape']){const _0x57e37e=_0xba64b8['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1ab297=_0xba64b8['shape']['getLocalSc'+'aling']();(_0x57e37e['x']!==_0x1ab297['x']()||_0x57e37e['y']!==_0x1ab297['y']()||_0x57e37e['z']!==_0x1ab297['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0xba64b8);}super['updateTran'+'sform'](_0xba64b8,_0x3c4afd,_0x5de289,_0xe97708);}['destroySha'+'pe'](_0x182a27){if(!_0x182a27['shape'])return;const _0x5d979d=_0x182a27['shape']['getNumChil'+'dShapes']();for(let _0x18cc64=0x2*-0x73c+-0x79a*-0x1+0x6de;_0x18cc64<_0x5d979d;_0x18cc64++){const _0x4d0312=_0x182a27['shape']['getChildSh'+'ape'](_0x18cc64);Ammo['destroy'](_0x4d0312);}Ammo['destroy'](_0x182a27['shape']),_0x182a27['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x545261,_0x5c65d5){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x22232a){!_0x22232a['collision']||_0x22232a['rigidbody']||(_0x22232a['collision']['_compoundP'+'arent']=this,_0x22232a!==this['entity']&&_0x22232a['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x22232a['collision']));}['_updateEac'+'hDescendan'+'t'](_0x52ef7e){_0x52ef7e['collision']&&_0x52ef7e['collision']['_compoundP'+'arent']===this&&(_0x52ef7e['collision']['_compoundP'+'arent']=null,_0x52ef7e!==this['entity']&&!_0x52ef7e['rigidbody']&&_0x52ef7e['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x52ef7e['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2440ed){!_0x2440ed['collision']||_0x2440ed['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2440ed,!(0x4*0x57d+0x3*0xf+-0x1620));}}class nR extends ct{constructor(_0xca599e){super(_0xca599e),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xd2c6cd,_0x53871e,_0x4a0402){_0x4a0402=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x2b6f75={};for(let _0x52841b=0xd9b+0x1137+-0x1ed2,_0x3e0e73=_0x4a0402['length'];_0x52841b<_0x3e0e73;_0x52841b++){const _0x244b40=_0x4a0402[_0x52841b];_0x2b6f75[_0x244b40]=_0x53871e[_0x244b40];}let _0x144e7b;if(_0x53871e['hasOwnProp'+'erty']('asset')?(_0x144e7b=_0x4a0402['indexOf']('model'),_0x144e7b!==-(-0x14*0x1d7+-0xa4*0x27+0x3dc9)&&_0x4a0402['splice'](_0x144e7b,0x1bb*0x13+0x2*0x1cf+-0x247e),_0x144e7b=_0x4a0402['indexOf']('render'),_0x144e7b!==-(-0x1b39+-0x12d9+-0x1*-0x2e13)&&_0x4a0402['splice'](_0x144e7b,-0x1*0x238e+0x1913+0xa7c)):_0x53871e['hasOwnProp'+'erty']('model')&&(_0x144e7b=_0x4a0402['indexOf']('asset'),_0x144e7b!==-(-0x1*0x25c1+0x22c9+-0x2f9*-0x1)&&_0x4a0402['splice'](_0x144e7b,-0x1*0xe61+-0x107d*0x2+-0x2*-0x17ae)),_0x2b6f75['type']||(_0x2b6f75['type']=_0xd2c6cd['data']['type']),_0xd2c6cd['data']['type']=_0x2b6f75['type'],Array['isArray'](_0x2b6f75['halfExtent'+'s'])&&(_0x2b6f75['halfExtent'+'s']=new D(_0x2b6f75['halfExtent'+'s'])),Array['isArray'](_0x2b6f75['linearOffs'+'et'])&&(_0x2b6f75['linearOffs'+'et']=new D(_0x2b6f75['linearOffs'+'et'])),Array['isArray'](_0x2b6f75['angularOff'+'set'])){const _0x413d17=_0x2b6f75['angularOff'+'set'];_0x413d17['length']===-0x1e03*0x1+-0xe*-0x187+0x8a4*0x1?_0x2b6f75['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x413d17[-0x10fe+0xf55*0x1+0x5*0x55],_0x413d17[0x16f5+0x914+0x148*-0x19],_0x413d17[0x1cb*0xd+-0x1cc8*0x1+0x57b]):_0x2b6f75['angularOff'+'set']=new le(_0x2b6f75['angularOff'+'set']);}const _0x40f2ca=this['_createImp'+'lementatio'+'n'](_0x2b6f75['type']);_0x40f2ca['beforeInit'+'ialize'](_0xd2c6cd,_0x2b6f75),super['initialize'+'ComponentD'+'ata'](_0xd2c6cd,_0x2b6f75,_0x4a0402),_0x40f2ca['afterIniti'+'alize'](_0xd2c6cd,_0x2b6f75);}['_createImp'+'lementatio'+'n'](_0x186288){if(this['implementa'+'tions'][_0x186288]===void(-0x8d9+-0x26e4+0x2fbd)){let _0xb02988;switch(_0x186288){case'box':_0xb02988=new JL(this);break;case'sphere':_0xb02988=new eR(this);break;case'capsule':_0xb02988=new tR(this);break;case'cylinder':_0xb02988=new sR(this);break;case'cone':_0xb02988=new iR(this);break;case'mesh':_0xb02988=new rR(this);break;case'compound':_0xb02988=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x186288);}this['implementa'+'tions'][_0x186288]=_0xb02988;}return this['implementa'+'tions'][_0x186288];}['_getImplem'+'entation'](_0x56190a){return this['implementa'+'tions'][_0x56190a['collision']['data']['type']];}['cloneCompo'+'nent'](_0x567acc,_0x2cf234){return this['_getImplem'+'entation'](_0x567acc)['clone'](_0x567acc,_0x2cf234);}['onBeforeRe'+'move'](_0x39cf9e,_0x200610){this['implementa'+'tions'][_0x200610['data']['type']]['beforeRemo'+'ve'](_0x39cf9e,_0x200610),_0x200610['onBeforeRe'+'move']();}['onRemove'](_0x429269,_0x2ce076){this['implementa'+'tions'][_0x2ce076['type']]['remove'](_0x429269,_0x2ce076);}['updateComp'+'oundChildT'+'ransform'](_0x444670,_0x506eae){const _0x16ea58=_0x444670['collision']['_compoundP'+'arent'];if(_0x16ea58!==_0x444670['collision']&&_0x444670['enabled']&&_0x444670['collision']['enabled']&&(_0x444670['_dirtyLoca'+'l']||_0x506eae)){const _0x552274=this['_getNodeTr'+'ansform'](_0x444670,_0x16ea58['entity']),_0x158b07=_0x16ea58['getCompoun'+'dChildShap'+'eIndex'](_0x444670['collision']['shape']);_0x158b07===null?_0x16ea58['shape']['addChildSh'+'ape'](_0x552274,_0x444670['collision']['data']['shape']):_0x16ea58['shape']['updateChil'+'dTransform'](_0x158b07,_0x552274,!(-0x338+-0x9*0x40+-0x28*-0x23)),Ammo['destroy'](_0x552274);}}['_removeCom'+'poundChild'](_0xfe22ba,_0x8ab2fa){if(_0xfe22ba['shape']['getNumChil'+'dShapes']()!==0xc0d*-0x1+-0x19e+-0xdab*-0x1){if(_0xfe22ba['shape']['removeChil'+'dShape'])_0xfe22ba['shape']['removeChil'+'dShape'](_0x8ab2fa);else{const _0x22d074=_0xfe22ba['getCompoun'+'dChildShap'+'eIndex'](_0x8ab2fa);_0x22d074!==null&&_0xfe22ba['shape']['removeChil'+'dShapeByIn'+'dex'](_0x22d074);}}}['onTransfor'+'mChanged'](_0x4d3fb6,_0x2ad930,_0x37171a,_0x243f0c){this['implementa'+'tions'][_0x4d3fb6['data']['type']]['updateTran'+'sform'](_0x4d3fb6,_0x2ad930,_0x37171a,_0x243f0c);}['changeType'](_0x4f3bdb,_0x360cb0,_0x5c9fad){this['implementa'+'tions'][_0x360cb0]['beforeRemo'+'ve'](_0x4f3bdb['entity'],_0x4f3bdb),this['implementa'+'tions'][_0x360cb0]['remove'](_0x4f3bdb['entity'],_0x4f3bdb['data']),this['_createImp'+'lementatio'+'n'](_0x5c9fad)['reset'](_0x4f3bdb,_0x4f3bdb['data']);}['recreatePh'+'ysicalShap'+'es'](_0x578e66){this['implementa'+'tions'][_0x578e66['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x578e66);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5bdfee,_0x2c131a){if(_0x5bdfee===_0x2c131a){const _0x12f893=_0x5bdfee['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x12f893['x'],_0x12f893['y'],_0x12f893['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5bdfee['parent'],_0x2c131a),wc['mul'](_0x5bdfee['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x3e7e76){const _0x1fd9a5=_0x3e7e76['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x1fd9a5['x'],_0x1fd9a5['y'],_0x1fd9a5['z']);}['_getNodeTr'+'ansform'](_0x133264,_0x23f1fc){let _0x13ca7b,_0x319f81;_0x23f1fc?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x133264,_0x23f1fc),_0x13ca7b=KL,_0x319f81=Vr,wc['getTransla'+'tion'](_0x13ca7b),_0x319f81['setFromMat'+'4'](wc)):(_0x13ca7b=_0x133264['getPositio'+'n'](),_0x319f81=_0x133264['getRotatio'+'n']());const _0x114e43=new Ammo['btQuaterni'+'on'](),_0x26a2c8=new Ammo['btTransfor'+'m']();_0x26a2c8['setIdentit'+'y']();const _0x20123a=_0x26a2c8['getOrigin'](),_0x238a75=_0x133264['collision'];if(_0x238a75&&_0x238a75['_hasOffset']){const _0x4956b9=_0x238a75['data']['linearOffs'+'et'],_0x3dac4b=_0x238a75['data']['angularOff'+'set'],_0x146c9f=ZL;Vr['copy'](_0x319f81)['transformV'+'ector'](_0x4956b9,_0x146c9f),_0x146c9f['add'](_0x13ca7b),Vr['copy'](_0x319f81)['mul'](_0x3dac4b),_0x20123a['setValue'](_0x146c9f['x'],_0x146c9f['y'],_0x146c9f['z']),_0x114e43['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x20123a['setValue'](_0x13ca7b['x'],_0x13ca7b['y'],_0x13ca7b['z']),_0x114e43['setValue'](_0x319f81['x'],_0x319f81['y'],_0x319f81['z'],_0x319f81['w']);return _0x26a2c8['setRotatio'+'n'](_0x114e43),Ammo['destroy'](_0x114e43),_0x26a2c8;}['destroy'](){for(const _0x21e775 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x21e775]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x2c7201,_0x46c11f,_0x28d31d){this['_entity']=_0x2c7201,this['_element']=_0x2c7201['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x46c11f,this['meshInstan'+'ce']=new He(this['mesh'],_0x28d31d,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x2c7201['name'],this['meshInstan'+'ce']['castShadow']=!(-0x1*-0x1cd+0x22f4+0xa8*-0x38),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x3*-0x344+0x14b*0xd+0x46f*-0x6),this['_meshDirty']=!(0x1690+-0x1*0x3a1+-0x12ee),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x22b079,_0x48769b;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x22b079=this['meshInstan'+'ce'])==null||_0x22b079['destroy'](),this['meshInstan'+'ce']=null,(_0x48769b=this['unmaskMesh'+'Instance'])==null||_0x48769b['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x490e90){this['meshInstan'+'ce']&&(this['mesh']=_0x490e90,this['meshInstan'+'ce']['mesh']=_0x490e90,this['meshInstan'+'ce']['visible']=!!_0x490e90,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x490e90),this['forceUpdat'+'eAabb']());}['setMask'](_0x2c1ce7){var _0x488c75;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x2c1ce7){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x80d+0x18a+-0x996),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x25*-0xbd+0x7*0x191+-0x2647),this['unmaskMesh'+'Instance']['pick']=!(-0x89+0x6f7*0x2+0x359*-0x4),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x280470 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x280470,this['meshInstan'+'ce']['parameters'][_0x280470]['data']);}else{const _0x230b69=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x230b69>=0xf09*-0x2+0x5*0x442+0x4*0x232&&this['model']['meshInstan'+'ces']['splice'](_0x230b69,0x2d*0xc5+-0x210f+-0x191);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x2c1ce7||((_0x488c75=this['unmaskMesh'+'Instance'])==null||_0x488c75['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x556ab6){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x556ab6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x556ab6));}['setParamet'+'er'](_0x35851f,_0x3d6a65){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x35851f,_0x3d6a65),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x35851f,_0x3d6a65));}['deletePara'+'meter'](_0x3f4289){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x3f4289),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x3f4289));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x260350=function(_0x56e0c9){let _0x1ceb55;const _0x37769c=_0x56e0c9['children'],_0x3ffb54=_0x37769c['length'];if(_0x3ffb54){for(let _0x53f639=0x2*-0x10a5+0x1*-0x13d9+0x3523;_0x53f639<_0x3ffb54;_0x53f639++)_0x37769c[_0x53f639]['element']&&(_0x1ceb55=_0x37769c[_0x53f639]);if(!_0x1ceb55)return null;const _0x138495=_0x260350(_0x1ceb55);return _0x138495||_0x1ceb55;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1cb98c=_0x260350(this['_entity']);_0x1cb98c&&_0x1cb98c['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1cb98c['element']['drawOrder']+_0x1cb98c['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x541717){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x541717),this['meshInstan'+'ce']['drawOrder']=_0x541717);}['setCull'](_0x5d8100){if(!this['meshInstan'+'ce'])return;const _0xb9dc51=this['_element'];let _0x5106c0=null;_0x5d8100&&_0xb9dc51['_isScreenS'+'pace']()&&(_0x5106c0=function(_0x1afc21){return _0xb9dc51['isVisibleF'+'orCamera'](_0x1afc21);}),this['meshInstan'+'ce']['cull']=_0x5d8100,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x5106c0,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x5d8100,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x5106c0);}['setScreenS'+'pace'](_0xbe562a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0xbe562a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0xbe562a));}['setLayer'](_0x39c135){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x39c135,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x39c135));}['forceUpdat'+'eAabb'](_0x191002){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0xed*0x19+0x1*0x18d7+-0x47*0xad),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x2*0x8e9+-0x93f+-0x449*0x2)));}['setAabbFun'+'c'](_0x139a3b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x139a3b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x139a3b));}}class cR{constructor(_0x10cfac){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x10cfac,this['_entity']=_0x10cfac['entity'],this['_system']=_0x10cfac['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x178a+0xa*-0x38a+0x3aee,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xc33+-0x4f*-0x3d+0x1*-0x69f),this['_rect']=new re(-0x13b8+0x1*0x26ed+-0x667*0x3,0x1ea5+0x93c+-0x27e1,0x1164+0x1234+-0x2397,-0x1816+0x4d*0x1d+0xf5e),this['_mask']=!(0xca1*0x1+-0x40e*0x2+0x11*-0x44),this['_maskRef']=-0x6*-0x6c+-0x1206+0x295*0x6,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0xc*0x23c+-0x1*-0x90b+-0x7b*-0x25),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1844+-0x647*0x2+0x24d6),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x20*0xe+-0x2041+0x1e85),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x2b5+0x277*0xe+-0x2536*0x1,0x1e46+0x1a75+-0x38ba,0x414*-0x4+-0x243b+0x348c,0x1974+0x1*0x2282+0x1*-0x3bf5),this['_colorUnif'+'orm']=new Float32Array([0x1cd0*-0x1+0x26c+0xe9*0x1d,-0x60*0x25+-0xb61*-0x1+-0x5*-0x80,0xb2c+-0x7*0x512+0x1853]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0xd14+-0xefd*0x1+0x1*0x1ea),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x3209a7){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x257d83){this['_updateMat'+'erial'](_0x257d83);}['_onScreenC'+'hange'](_0x5f48ec,_0x35099b){_0x5f48ec?this['_updateMat'+'erial'](_0x5f48ec['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2*-0xc66+-0x2063+0x798));}['_onDrawOrd'+'erChange'](_0x415e9b){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x415e9b),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x22e1+-0x1c52+-0x68e);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x50e279){const _0x58d04c=!!this['_mask'],_0x4d7f91=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x385947=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x50e279,_0x58d04c,_0x4d7f91,_0x385947)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x50e279),this['_renderabl'+'e']['setLayer'](_0x50e279?Ow:Ky));}['_createMes'+'h'](){const _0x10b6c4=this['_element'],_0xf3862c=_0x10b6c4['calculated'+'Width'],_0x57f243=_0x10b6c4['calculated'+'Height'],_0x2254ad=this['_rect'],_0x55f9e7=this['_system']['app']['graphicsDe'+'vice'],_0x23f3d9=new Float32Array([_0xf3862c,0x24dd+-0x7*-0x32b+-0x3b0a,0x1*-0x25d7+0x5*-0x32d+0x35b8,0x69d+-0x79*0xb+-0x1*0x16a,0x1d3e+0x1*-0xb8f+-0x11af,0x1b42+-0x2582+0xa41,_0x2254ad['x']+_0x2254ad['z'],0x1c51+-0x1*-0x210a+-0x3d5a-_0x2254ad['y'],_0xf3862c,_0x57f243,-0x1*-0x110f+-0xb28+-0x5e7,0x1*-0x119f+-0xb*-0x2c8+-0xcf9,0x114b*-0x2+0x16fd+0xb99*0x1,-0x1d8a+-0x27*-0xac+0x13*0x2d,_0x2254ad['x']+_0x2254ad['z'],0x858+0x1c34+-0x248b*0x1-(_0x2254ad['y']+_0x2254ad['w']),0xfab+0x131b*-0x2+0x168b,0x2422*0x1+-0x158*-0x14+-0x2*0x1f81,-0x1661+-0xa7*-0xb+0x7*0x22c,-0xa98+-0x5e*0x13+0x1192,0xc9*0x3+-0x1cd3+-0xb*-0x268,0x10b*0x5+-0x1*-0xd01+-0x1237,_0x2254ad['x'],0x2*-0x31c+0x2576+-0x1f3d-_0x2254ad['y'],0x25ae+-0xa14+-0xdcd*0x2,_0x57f243,0x1*-0x1bab+0x1c00+-0x55,0x918+-0x5*0x24a+0x25a,-0x1e13+-0x466+0x2279,0x2562+0x2358+-0x48b9,_0x2254ad['x'],0x1*0x1ec1+0x1ad5+-0x3995-(_0x2254ad['y']+_0x2254ad['w'])]),_0x577a1d=oR['get'](_0x55f9e7,()=>new kt(_0x55f9e7,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x324040=new Is(_0x55f9e7,_0x577a1d,0x269+0xe5*-0xd+-0x4*-0x24f,{'data':_0x23f3d9['buffer']}),_0x577f30=new Ge(_0x55f9e7);return _0x577f30['vertexBuff'+'er']=_0x324040,_0x577f30['primitive'][-0x1f0d+-0x41*0xb+-0x876*-0x4]['type']=Er,_0x577f30['primitive'][-0x2478+0xa7f*-0x1+0x2ef7]['base']=0x1a77+0x6b*0x5c+-0x40eb,_0x577f30['primitive'][0xc14*-0x1+0x6*-0x362+-0x4*-0x818]['count']=0x3*-0xb99+-0xdc9+0x14*0x26e,_0x577f30['primitive'][-0x1d*-0x147+-0x69*-0x4a+-0x3*0x1677]['indexed']=!(0x1580+0x77d+-0x1cfc),_0x577f30['aabb']['setMinMax'](D['ZERO'],new D(_0xf3862c,_0x57f243,0x199c+-0x1746+-0x256)),this['_updateMes'+'h'](_0x577f30),_0x577f30;}['_updateMes'+'h'](_0x7cc1e3){const _0x13476c=this['_element'];let _0x2718b1=_0x13476c['calculated'+'Width'],_0x51ea02=_0x13476c['calculated'+'Height'];if(_0x13476c['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x2097+-0x815*-0x1+-0xc41*-0x2){const _0x5ddee8=_0x13476c['calculated'+'Width']/_0x13476c['calculated'+'Height'];_0x13476c['fitMode']===GL&&_0x5ddee8>this['_targetAsp'+'ectRatio']||_0x13476c['fitMode']===HL&&_0x5ddee8<this['_targetAsp'+'ectRatio']?_0x2718b1=_0x13476c['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x51ea02=_0x13476c['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x287e51=_0x13476c['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x287e51),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0xcddb41=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0xea534d=(-0x3c8+-0x1da7+0x2171*0x1)/_0xcddb41['rect']['z'],_0x3cf1e6=(-0x13*-0x76+-0x31*0xb3+-0x881*-0x3)/_0xcddb41['rect']['w'];this['_innerOffs'+'et']['set'](_0xcddb41['border']['x']*_0xea534d,_0xcddb41['border']['y']*_0x3cf1e6,_0xcddb41['border']['z']*_0xea534d,_0xcddb41['border']['w']*_0x3cf1e6);const _0x5d5bfd=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xcddb41['rect']['x']/_0x5d5bfd['width'],_0xcddb41['rect']['y']/_0x5d5bfd['height'],_0xcddb41['rect']['z']/_0x5d5bfd['width'],_0xcddb41['rect']['w']/_0x5d5bfd['height']);const _0x3e6013=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x15ebc6=_0xcddb41['rect']['z']/_0x3e6013,_0x2941ab=_0xcddb41['rect']['w']/_0x3e6013;this['_outerScal'+'e']['set'](Math['max'](_0x2718b1,this['_innerOffs'+'et']['x']*_0x15ebc6),Math['max'](_0x51ea02,this['_innerOffs'+'et']['y']*_0x2941ab));let _0x4904ca=_0x15ebc6,_0x144876=_0x2941ab;this['_outerScal'+'e']['x']/=_0x15ebc6,this['_outerScal'+'e']['y']/=_0x2941ab,_0x4904ca*=Y['clamp'](_0x2718b1/(this['_innerOffs'+'et']['x']*_0x15ebc6),0x256e+0x5c6*-0x1+-0x7ea*0x4+0.0001,-0x3*-0x24b+0x750+-0xe30),_0x144876*=Y['clamp'](_0x51ea02/(this['_innerOffs'+'et']['y']*_0x2941ab),0x2193+0x82a+-0x29bd+0.0001,-0x21d+-0x1d30+0x1*0x1f4e),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x34*0x6+-0x94+-0x17*-0x14]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1685+0x1300+0x386]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x730+-0x4e4*-0x2+0x2*-0x87b]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1fa7+0x192d+0x97*0xb]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2196+-0x1*0x243c+0x6*0xba3]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x5*0x33a+0x1dcc+-0xda9]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x22d1*-0x1+0x18e*-0x8+-0x17*0xf9]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1*0x1ab4+0x1ac5+-0xe]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x2568+-0xd72+0x32da*0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x342+0x3*0x745+-0x1910]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x4904ca,_0x144876,0x5*-0x77b+-0x2577+0x4adf),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x25b*0x3+-0x1*0x20c7+0x19b6+0.5-_0x13476c['pivot']['x'])*_0x2718b1,(-0xf2+-0x111d+0x605*0x3+0.5-_0x13476c['pivot']['y'])*_0x51ea02,-0x3c+-0x1220+-0x14*-0xeb));}else{const _0x4d5abf=_0x7cc1e3['vertexBuff'+'er'],_0xf8be40=new Float32Array(_0x4d5abf['lock']()),_0x524b79=_0x13476c['pivot']['x'],_0x5494bd=_0x13476c['pivot']['y'];_0xf8be40[-0x2436+-0x205a+0x4490]=_0x2718b1-_0x524b79*_0x2718b1,_0xf8be40[0x70f+-0x595+-0x179]=0x1d03*0x1+-0x13ba+-0x949*0x1-_0x5494bd*_0x51ea02,_0xf8be40[-0x1*-0x1408+0x35*0x50+-0x2490]=_0x2718b1-_0x524b79*_0x2718b1,_0xf8be40[0x166b+0x1ac2+-0x2e4*0x11]=_0x51ea02-_0x5494bd*_0x51ea02,_0xf8be40[-0xd*0x1e2+-0x4c5*-0x3+0xa3b]=-0x9bf+0x1*0x1ae1+-0x1122-_0x524b79*_0x2718b1,_0xf8be40[-0x78d*0x1+0x6f1+0xad*0x1]=-0x29d*0x7+0x249+-0x556*-0x3-_0x5494bd*_0x51ea02,_0xf8be40[0x4fa+0x5*-0x54+-0x5*0xa6]=0x236*-0xd+0x32*0x73+0x2*0x324-_0x524b79*_0x2718b1,_0xf8be40[0xb32*0x1+0x2c*-0x28+-0x439]=_0x51ea02-_0x5494bd*_0x51ea02;let _0x4636a9=0x1179+0x1*0x1b1a+0x65e*-0x7,_0x426a6f=0x1*-0x17ff+0x1891*0x1+-0x91*0x1,_0x3d868a=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x2d3be6=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x2d3be6&&(_0x3d868a=_0x2d3be6['rect'],_0x4636a9=this['_sprite']['atlas']['texture']['width'],_0x426a6f=this['_sprite']['atlas']['texture']['height']);}_0xf8be40[-0x1aa0+0x2*0x1160+-0x2*0x40d]=(_0x3d868a['x']+_0x3d868a['z'])/_0x4636a9,_0xf8be40[-0x270c+0x19fc+0xd17]=-0x1bc0+0xbc*0x2e+-0x607-_0x3d868a['y']/_0x426a6f,_0xf8be40[-0x119f*-0x1+0x1d*0x97+-0x22ac]=(_0x3d868a['x']+_0x3d868a['z'])/_0x4636a9,_0xf8be40[-0x8b6+-0x72*-0x1+0x853]=0x259c+0x2*-0x911+-0x1*0x1379-(_0x3d868a['y']+_0x3d868a['w'])/_0x426a6f,_0xf8be40[-0x224b+0xe*0x27a+-0x4b]=_0x3d868a['x']/_0x4636a9,_0xf8be40[-0x24a7+0x2e9*0x3+-0x1*-0x1c03]=0x4d1+-0x1898+0x13c8-_0x3d868a['y']/_0x426a6f,_0xf8be40[-0x19ef+-0x848+0x2255]=_0x3d868a['x']/_0x4636a9,_0xf8be40[-0x2*0x631+-0xd6*-0x1d+-0xbbd]=0x5aa+-0x289+0x50*-0xa-(_0x3d868a['y']+_0x3d868a['w'])/_0x426a6f,_0x4d5abf['unlock']();const _0x5f26e2=new D(0x443*-0x4+-0x1949+0x2a55-_0x524b79*_0x2718b1,-0x7d*0x1f+0x21ef+0x644*-0x3-_0x5494bd*_0x51ea02,-0x19c3*-0x1+0x2*-0xd7f+0x13b),_0x466b89=new D(_0x2718b1-_0x524b79*_0x2718b1,_0x51ea02-_0x5494bd*_0x51ea02,0x22*-0x45+-0xe6b+0x1795);_0x7cc1e3['aabb']['setMinMax'](_0x5f26e2,_0x466b89),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x2a1*0xb+0xa3*0x35+-0x4d3,0x1f0d+0x4a*0x2f+-0x2ca2,-0x2bc+0xa32+-0x775),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x7*0x3a4+-0x8*0x3f4+0x391c,0x7d*-0x4f+0x70*-0x35+-0xa3*-0x61,-0x3*0xb7f+0x17f+0xce*0x29),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x1*-0x20b+-0x502+0x70e*0x1);}['_updateSpr'+'ite'](){let _0x3f021e=!(-0x3*-0x6bf+-0x1*-0xc91+-0x20cd),_0x13e468=null;if(this['_targetAsp'+'ectRatio']=-(0x4*-0x137+0x181c+-0x133f),this['_sprite']&&this['_sprite']['atlas']){_0x13e468=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x3f021e=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0xb87615=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0xb87615==null?void(0x248b+0x188*-0x6+0x1b5b*-0x1):_0xb87615['rect']['w'])>0x1*0x3f8+-0xf5b*0x2+0x1abe&&(this['_targetAsp'+'ectRatio']=_0xb87615['rect']['z']/_0xb87615['rect']['w']);}this['mesh']=_0x3f021e?_0x13e468:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x13f3+-0x10a*-0x1+-0x1*-0x12e9):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x25b679){return _0x25b679['center']['set'](-0x230c+-0x870+-0x16*-0x1fa,-0x1f4a*0x1+-0x153*-0x1+0x1*0x1df7,-0x142*-0x2+-0x25d7+0x2353),_0x25b679['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1*0x75a+-0x1589*-0x1+-0x1ce3+0.5),this['_outerScal'+'e']['y']*(-0x255a+-0x1571+0x3acb+0.5),-0x1263+0x18e5+-0x682+0.001),_0x25b679['setFromTra'+'nsformedAa'+'bb'](_0x25b679,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x25b679;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x9c2fb5=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x9c2fb5),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x3cdcbe){this['material']=_0x3cdcbe['resource'];}['_onMateria'+'lAdded'](_0x7c218e){this['_system']['app']['assets']['off']('add:'+_0x7c218e['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x7c218e['id']&&this['_bindMater'+'ialAsset'](_0x7c218e);}['_bindMater'+'ialAsset'](_0x30b1d2){this['_entity']['enabled']&&(_0x30b1d2['on']('load',this['_onMateria'+'lLoad'],this),_0x30b1d2['on']('change',this['_onMateria'+'lChange'],this),_0x30b1d2['on']('remove',this['_onMateria'+'lRemove'],this),_0x30b1d2['resource']?this['_onMateria'+'lLoad'](_0x30b1d2):this['_system']['app']['assets']['load'](_0x30b1d2));}['_unbindMat'+'erialAsset'](_0x3cd098){_0x3cd098['off']('load',this['_onMateria'+'lLoad'],this),_0x3cd098['off']('change',this['_onMateria'+'lChange'],this),_0x3cd098['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x14766a){this['_system']['app']['assets']['off']('add:'+_0x14766a['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x14766a['id']&&this['_bindTextu'+'reAsset'](_0x14766a);}['_bindTextu'+'reAsset'](_0x2f2f65){this['_entity']['enabled']&&(_0x2f2f65['on']('load',this['_onTexture'+'Load'],this),_0x2f2f65['on']('change',this['_onTexture'+'Change'],this),_0x2f2f65['on']('remove',this['_onTexture'+'Remove'],this),_0x2f2f65['resource']?this['_onTexture'+'Load'](_0x2f2f65):this['_system']['app']['assets']['load'](_0x2f2f65));}['_unbindTex'+'tureAsset'](_0x486395){_0x486395['off']('load',this['_onTexture'+'Load'],this),_0x486395['off']('change',this['_onTexture'+'Change'],this),_0x486395['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x5a8d65){this['texture']=_0x5a8d65['resource'];}['_onTexture'+'Change'](_0x49947d){}['_onTexture'+'Remove'](_0x363af6){}['_onSpriteA'+'ssetAdded'](_0x482e2e){this['_system']['app']['assets']['off']('add:'+_0x482e2e['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x482e2e['id']&&this['_bindSprit'+'eAsset'](_0x482e2e);}['_bindSprit'+'eAsset'](_0x17e721){this['_entity']['enabled']&&(_0x17e721['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x17e721['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x17e721['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x17e721['resource']?this['_onSpriteA'+'ssetLoad'](_0x17e721):this['_system']['app']['assets']['load'](_0x17e721));}['_unbindSpr'+'iteAsset'](_0x47e028){_0x47e028['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x47e028['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x47e028['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x47e028['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x47e028['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x5f55b0){if(!_0x5f55b0||!_0x5f55b0['resource'])this['sprite']=null;else{if(_0x5f55b0['resource']['atlas'])this['sprite']=_0x5f55b0['resource'];else{const _0x128959=_0x5f55b0['data']['textureAtl'+'asAsset'];if(_0x128959){const _0x741f5=this['_system']['app']['assets'];_0x741f5['off']('load:'+_0x128959,this['_onTexture'+'AtlasLoad'],this),_0x741f5['once']('load:'+_0x128959,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x26a644){this['_onSpriteA'+'ssetLoad'](_0x26a644);}['_onSpriteA'+'ssetRemove'](_0xc3e7f1){}['_bindSprit'+'e'](_0x515c6e){this['_evtSetMes'+'hes']=_0x515c6e['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x515c6e['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x515c6e['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x515c6e['atlas']&&_0x515c6e['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x50dac7){var _0x1e2126;(_0x1e2126=this['_evtSetMes'+'hes'])==null||_0x1e2126['off'](),this['_evtSetMes'+'hes']=null,_0x50dac7['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x50dac7['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x50dac7['atlas']&&_0x50dac7['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x9*-0x2d1+-0x2068+0x70f,this['_sprite']['frameKeys']['length']-(-0x164e+-0x914+-0x1f63*-0x1))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x4996e2){const _0x468c57=this['_spriteAss'+'et'];_0x468c57 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x468c57):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x468c57));}['onEnable'](){if(this['_materialA'+'sset']){const _0x293cb6=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x293cb6&&_0x293cb6['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x293cb6);}if(this['_textureAs'+'set']){const _0x4904ea=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4904ea&&_0x4904ea['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x4904ea);}if(this['_spriteAss'+'et']){const _0x2a698c=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2a698c&&_0x2a698c['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x2a698c);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0xb48c5){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0xb48c5,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0xb48c5;let _0x41dd89=-0x1018+0xad*-0x1f+0x250b;if(this['_element']['maskedBy']&&(_0x41dd89=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x3ecc7b=new pi({'ref':_0x41dd89+(0x1278+-0x1609*-0x1+-0x2880),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x3ecc7b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x3ecc7b;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0x1f3*-0x5+0x770+-0x1*-0x24f]=Ec['r'],this['_colorUnif'+'orm'][0x3*-0x239+-0xf10+0x1ac*0xd]=Ec['g'],this['_colorUnif'+'orm'][0x1*-0x178d+-0x2180+0x390f]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x2915a6){this['_color']===_0x2915a6&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x4cb03a,g:_0x228361,b:_0x393cc3}=_0x2915a6;(this['_color']['r']!==_0x4cb03a||this['_color']['g']!==_0x228361||this['_color']['b']!==_0x393cc3)&&(this['_color']['r']=_0x4cb03a,this['_color']['g']=_0x228361,this['_color']['b']=_0x393cc3,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x345d97){_0x345d97!==this['_color']['a']&&(this['_color']['a']=_0x345d97,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x345d97)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x345d97);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4aec0a){this['_rect']===_0x4aec0a&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x240352,_0x285c4c,_0x206978,_0x3657d5;_0x4aec0a instanceof re?(_0x240352=_0x4aec0a['x'],_0x285c4c=_0x4aec0a['y'],_0x206978=_0x4aec0a['z'],_0x3657d5=_0x4aec0a['w']):(_0x240352=_0x4aec0a[-0x124a+0x1*0x210f+0xc7*-0x13],_0x285c4c=_0x4aec0a[-0x8f*-0x34+0x1394+-0x309f],_0x206978=_0x4aec0a[0x1*-0xe7+-0x46a*0x7+0x1fcf],_0x3657d5=_0x4aec0a[0x116a+-0x2*0x9c7+0x227]),!(_0x240352===this['_rect']['x']&&_0x285c4c===this['_rect']['y']&&_0x206978===this['_rect']['z']&&_0x3657d5===this['_rect']['w'])&&(this['_rect']['set'](_0x240352,_0x285c4c,_0x206978,_0x3657d5),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1c*-0x117+-0x2e*-0x53+-0x2d6e):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x56df65=this['_system']['app']['assets'];_0x56df65['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x4c6013=_0x56df65['get'](this['_materialA'+'sset']);_0x4c6013&&(_0x4c6013['off']('load',this['_onMateria'+'lLoad'],this),_0x4c6013['off']('change',this['_onMateria'+'lChange'],this),_0x4c6013['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x3b7ead){if(this['_material']!==_0x3b7ead){if(!_0x3b7ead){const _0x1eb4c4=this['_element']['_isScreenS'+'pace']();this['mask']?_0x3b7ead=_0x1eb4c4?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x3b7ead=_0x1eb4c4?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x3b7ead,this['_materialA'+'sset']){const _0x33a038=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x33a038||_0x33a038['resource']!==_0x3b7ead)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x3b7ead&&(this['_renderabl'+'e']['setMateria'+'l'](_0x3b7ead),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x58a291){const _0x20cf55=this['_system']['app']['assets'];let _0x3f0e92=_0x58a291;if(_0x58a291 instanceof pe&&(_0x3f0e92=_0x58a291['id']),this['_materialA'+'sset']!==_0x3f0e92){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x3f0e92,this['_materialA'+'sset']){const _0x267ff3=_0x20cf55['get'](this['_materialA'+'sset']);_0x267ff3?this['_bindMater'+'ialAsset'](_0x267ff3):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3f0e92,_0x20cf55['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3f0e92;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x1b8d61){if(this['_texture']!==_0x1b8d61){if(this['_textureAs'+'set']){const _0xa2ac6c=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xa2ac6c&&_0xa2ac6c['resource']!==_0x1b8d61&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x1b8d61,_0x1b8d61){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x274b3d=this['_texture']['width']/this['_texture']['height'];_0x274b3d!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x274b3d,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1c4b+-0x1279+-0x7*0x167),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x3ac68e){const _0x447f50=this['_system']['app']['assets'];let _0x4d2859=_0x3ac68e;if(_0x3ac68e instanceof pe&&(_0x4d2859=_0x3ac68e['id']),this['_textureAs'+'set']!==_0x4d2859){if(this['_textureAs'+'set']){_0x447f50['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x31ad1f=_0x447f50['get'](this['_textureAs'+'set']);_0x31ad1f&&(_0x31ad1f['off']('load',this['_onTexture'+'Load'],this),_0x31ad1f['off']('change',this['_onTexture'+'Change'],this),_0x31ad1f['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x4d2859,this['_textureAs'+'set']){const _0x5cf1f8=_0x447f50['get'](this['_textureAs'+'set']);_0x5cf1f8?this['_bindTextu'+'reAsset'](_0x5cf1f8):(this['texture']=null,_0x447f50['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x220fa9){const _0x1af1e6=this['_system']['app']['assets'];let _0x1050d3=_0x220fa9;if(_0x220fa9 instanceof pe&&(_0x1050d3=_0x220fa9['id']),this['_spriteAss'+'et']!==_0x1050d3){if(this['_spriteAss'+'et']){_0x1af1e6['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x50a475=_0x1af1e6['get'](this['_spriteAss'+'et']);_0x50a475&&this['_unbindSpr'+'iteAsset'](_0x50a475);}if(this['_spriteAss'+'et']=_0x1050d3,this['_spriteAss'+'et']){const _0xc93b69=_0x1af1e6['get'](this['_spriteAss'+'et']);_0xc93b69?this['_bindSprit'+'eAsset'](_0xc93b69):(this['sprite']=null,_0x1af1e6['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x1050d3);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x10b5dc){if(this['_sprite']!==_0x10b5dc){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x1a15a4=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1a15a4&&_0x1a15a4['resource']!==_0x10b5dc&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x10b5dc,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x2570+-0x246c+0x49dc,this['_sprite']['frameKeys']['length']-(-0xd01*0x1+0x3b7*0x7+0x455*-0x3))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x24f05e){const _0x2b7686=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x24f05e,0x1cbb+0x1*0x14c9+-0xc61*0x4,this['_sprite']['frameKeys']['length']-(0x83*0x4b+0x246c+-0x4acc)):this['_spriteFra'+'me']=_0x24f05e,this['_spriteFra'+'me']!==_0x2b7686&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x24f05e);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x269a7b){this['_renderabl'+'e']['setMesh'](_0x269a7b),this['_defaultMe'+'sh']===_0x269a7b?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x57c926){this['_mask']!==_0x57c926&&(this['_mask']=_0x57c926,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x2baf10){this['_pixelsPer'+'Unit']!==_0x2baf10&&(this['_pixelsPer'+'Unit']=_0x2baf10,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x53a03c){super(),this['_app']=_0x53a03c,_0x53a03c['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x14ba+-0x11d6+-0x2e3),this['_disableLo'+'calization']=!(-0xf3c+0x4e*-0x7a+0x3469),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1d0ba8){const _0x29d823=_0x1d0ba8 instanceof pe?_0x1d0ba8['id']:_0x1d0ba8;this['_defaultAs'+'set']!==_0x29d823&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x29d823,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x186a65){const _0x14244b=_0x186a65 instanceof pe?_0x186a65['id']:_0x186a65;this['_localized'+'Asset']!==_0x14244b&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x14244b,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x46b33a){this['_autoLoad']!==_0x46b33a&&(this['_autoLoad']=_0x46b33a,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0xb93dfb){this['_disableLo'+'calization']!==_0xb93dfb&&(this['_disableLo'+'calization']=_0xb93dfb,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x35cc2e=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x35cc2e?this['_onDefault'+'AssetAdd'](_0x35cc2e):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x359e6a=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x359e6a&&(_0x359e6a['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x359e6a['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x359e6a['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x4c61e5){this['_defaultAs'+'set']===_0x4c61e5['id']&&(_0x4c61e5['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4c61e5['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x4c61e5['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0xd5e256){this['_defaultAs'+'set']===_0xd5e256['id']&&(_0xd5e256['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0xd5e256['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x40a42b=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x40a42b&&(_0x40a42b['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x40a42b['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x40a42b['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x40a42b['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x40a42b):this['_app']['assets']['load'](_0x40a42b));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x1061ab=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1061ab&&(_0x1061ab['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1061ab['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1061ab['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x1dcdfe){this['_localized'+'Asset']===_0x1dcdfe['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0xb2442a){this['fire']('load',_0xb2442a);}['_onLocaliz'+'edAssetCha'+'nge'](_0x30e649,_0x5b0ff3,_0x2d1a8c,_0x2dc603){this['fire']('change',_0x30e649,_0x5b0ff3,_0x2d1a8c,_0x2dc603);}['_onLocaliz'+'edAssetRem'+'ove'](_0x24f50f){this['_localized'+'Asset']===_0x24f50f['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x24f50f);}['_onLocaleA'+'dd'](_0x53e958,_0x2a822a){this['_app']['i18n']['locale']===_0x53e958&&this['_onSetLoca'+'le'](_0x53e958);}['_onLocaleR'+'emove'](_0x54fd54,_0x343a39){this['_app']['i18n']['locale']===_0x54fd54&&this['_onSetLoca'+'le'](_0x54fd54);}['_onSetLoca'+'le'](_0x344c96){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x216b32=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x216b32||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x2a77e8=_0x216b32['getLocaliz'+'edAssetId'](_0x344c96);if(!_0x2a77e8){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x2a77e8;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0xa*0x1e1+0x2433+0x1169*-0x1,an=0x21e0*-0x1+-0x26b*-0xa+-0x9b3*-0x1,Du=-0x1f73+-0x233d+0x2159*0x2,Zv=0x937+0x4ee+-0xe22*0x1,Iu=-0x2159+-0x23*0x8e+0x34c7,Lu=-0xa81*-0x2+0x115a*0x1+-0x2657,Ru=-0x1427*-0x1+-0x4d2*0x3+-0x1*0x5ab,Ou=0x254a+-0x2*-0x12+-0x5*0x77b,Xg=-0xa*0x3b3+0x1647+0xebf,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x455abf){this['_symbols']=_0x455abf,this['_index']=0x1115*-0x1+0x24a*0x8+-0x13b,this['_last']=-0x1e46+0x250d+0x6c7*-0x1,this['_cur']=this['_symbols']['length']>0xd92+-0x1dc5+0x1033?this['_symbols'][0x899+-0x1569+0xcd0]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x1fd56c=this['_read']();for(;_0x1fd56c===Xg;)_0x1fd56c=this['_read']();return _0x1fd56c!==Mo&&_0x1fd56c!==an&&(this['_last']=this['_index']),_0x1fd56c;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x43d7b1=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x106cad=this['read'](),_0x5c1747='';for(;_0x5c1747+=(_0x5c1747['length']>-0x92b*-0x2+-0x173+-0x10e3?'\x0a':'')+_0x43d7b1[_0x106cad]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x106cad===Mo||_0x106cad===an);)_0x106cad=this['read']();return _0x5c1747;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x8a7+-0x21*0x101+0x187a?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x2383*0x1+0x1681+0x29a*0x5?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x1266+0x23ac+-0x1*0x3611);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x116a47){return _0x116a47['length']===0x1343+-0x2372+0x1030&&_0x116a47['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x53a039){this['_buf']['push'](_0x53a039);}}class mR{constructor(_0x3f1442){this['_scanner']=new pR(_0x3f1442),this['_error']=null;}['parse'](_0x11f590,_0x116c95){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x1*-0x15a8+0x1470+0x138);case an:return!(0x17d0+-0x20e5*-0x1+-0x38b4);case Du:Array['prototype']['push']['apply'](_0x11f590,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x11f590,_0x116c95))return!(-0x2536+-0x2b5*0x2+0x2aa1);break;default:return!(-0xdbd+-0x2*-0x945+-0x4cc);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x257c64,_0x376a0d){let _0xbfb676=this['_scanner']['read']();if(_0xbfb676!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x2*0x1305+-0xb50+-0x1ab9);const _0xdb1e1d=this['_scanner']['buf']()['join']('');if(_0xdb1e1d[0x1c1c+-0x6d1+-0x154b]==='/'){for(let _0x20f9bd=_0x376a0d['length']-(0x1*-0x1b55+0x1245*0x2+-0x934);_0x20f9bd>=-0x1ca1+-0x1f7*0xd+0x2*0x1b16;--_0x20f9bd)if(_0xdb1e1d==='/'+_0x376a0d[_0x20f9bd]['name']&&_0x376a0d[_0x20f9bd]['end']===null)return _0x376a0d[_0x20f9bd]['end']=_0x257c64['length'],_0xbfb676=this['_scanner']['read'](),_0xbfb676!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x68d*0x5+0xd0e+-0x2*-0x9da)):!(-0xcc9+0x1*0x2647+0x1*-0x197e);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x2041*-0x1+-0x2273+0x233*0x1);}const _0x5192c8={'name':_0xdb1e1d,'value':null,'attributes':{},'start':_0x257c64['length'],'end':null};if(_0xbfb676=this['_scanner']['read'](),_0xbfb676===Lu){if(_0xbfb676=this['_scanner']['read'](),_0xbfb676!==Ru)return this['_error']='expected\x20s'+'tring',!(-0xb44+-0x1*0x1da7+0x28ec);_0x5192c8['value']=this['_scanner']['buf']()['join'](''),_0xbfb676=this['_scanner']['read']();}for(;;){switch(_0xbfb676){case Iu:return _0x376a0d['push'](_0x5192c8),!(0x1fe*0xf+-0x5*0x46b+-0x7cb);case Ou:{const _0x20fc04=this['_scanner']['buf']()['join']('');if(_0xbfb676=this['_scanner']['read'](),_0xbfb676!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x1b1b+0x461+-0xb*-0x211);if(_0xbfb676=this['_scanner']['read'](),_0xbfb676!==Ru)return this['_error']='expected\x20s'+'tring',!(0x737*-0x4+-0x2512+-0x1*-0x41ef);const _0x410518=this['_scanner']['buf']()['join']('');_0x5192c8['attributes'][_0x20fc04]=_0x410518;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1832+-0x4a*0xd+-0x146f);}_0xbfb676=this['_scanner']['read']();}}}function Qv(_0x2c2309,_0x31c655){for(const _0x569419 in _0x31c655){if(!_0x31c655['hasOwnProp'+'erty'](_0x569419))continue;const _0x7510fa=_0x31c655[_0x569419];_0x7510fa instanceof Object?(_0x2c2309['hasOwnProp'+'erty'](_0x569419)||(_0x2c2309[_0x569419]={}),Qv(_0x2c2309[_0x569419],_0x31c655[_0x569419])):_0x2c2309[_0x569419]=_0x7510fa;}}function _R(_0x5f045d){if(_0x5f045d['length']===0xc86+0x471+-0x10f7)return null;const _0x1fd92f={};for(let _0x3a428a=-0xad8+-0x1d*-0x61+-0x25;_0x3a428a<_0x5f045d['length'];++_0x3a428a){const _0x519ef7=_0x5f045d[_0x3a428a],_0x44a24e={};_0x44a24e[_0x519ef7['name']]={'value':_0x519ef7['value'],'attributes':_0x519ef7['attributes']},Qv(_0x1fd92f,_0x44a24e);}return _0x1fd92f;}function gR(_0x37ba33,_0x370ec0){if(_0x37ba33['length']===-0x160e+0x2595+-0xf87)return null;const _0x4bfc56={};for(let _0xafc41=-0x1c8e+-0x2651+0x42df*0x1;_0xafc41<_0x37ba33['length'];++_0xafc41){const _0x525ff0=_0x37ba33[_0xafc41];_0x4bfc56['hasOwnProp'+'erty'](_0x525ff0['start'])?_0x4bfc56[_0x525ff0['start']]['open']===null?_0x4bfc56[_0x525ff0['start']]['open']=[_0x525ff0]:_0x4bfc56[_0x525ff0['start']]['open']['push'](_0x525ff0):_0x4bfc56[_0x525ff0['start']]={'open':[_0x525ff0],'close':null},_0x4bfc56['hasOwnProp'+'erty'](_0x525ff0['end'])?_0x4bfc56[_0x525ff0['end']]['close']===null?_0x4bfc56[_0x525ff0['end']]['close']=[_0x525ff0]:_0x4bfc56[_0x525ff0['end']]['close']['push'](_0x525ff0):_0x4bfc56[_0x525ff0['end']]={'open':null,'close':[_0x525ff0]};}let _0x448df9=[];function _0x7b3c4d(_0x457e4c){_0x448df9=_0x448df9['filter'](_0xb15b2e=>_0x457e4c['find'](_0x60b790=>_0x60b790===_0xb15b2e)===void(-0x1cd6+0x127d+0x1*0xa59));}function _0x70db63(_0x456b34){for(let _0x1e38bd=-0x7e1*-0x3+0x1*-0x7db+0x14*-0xca;_0x1e38bd<_0x456b34['length'];++_0x1e38bd)_0x448df9['push'](_0x456b34[_0x1e38bd]);}const _0x1af62e=Object['keys'](_0x4bfc56)['sort']((_0x7f0169,_0x2b2a1a)=>_0x7f0169-_0x2b2a1a),_0x50d1c5=[];for(let _0x23f002=0x12c6+0x1759+-0x29*0x107;_0x23f002<_0x1af62e['length'];++_0x23f002){const _0x449f92=_0x4bfc56[_0x1af62e[_0x23f002]];_0x449f92['close']!==null&&_0x7b3c4d(_0x449f92['close']),_0x449f92['open']!==null&&_0x70db63(_0x449f92['open']),_0x50d1c5['push']({'start':_0x1af62e[_0x23f002],'tags':_R(_0x448df9)});}const _0x2984e0=[];let _0x2a4e3b=null;for(let _0x6e4810=-0x24b1+-0x1be1+0x4092;_0x6e4810<_0x50d1c5['length'];++_0x6e4810){const _0x33270e=_0x50d1c5[_0x6e4810];for(;_0x2984e0['length']<_0x33270e['start'];)_0x2984e0['push'](_0x2a4e3b?_0x2a4e3b['tags']:null);_0x2a4e3b=_0x33270e;}for(;_0x2984e0['length']<_0x370ec0;)_0x2984e0['push'](null);return _0x2984e0;}function SR(_0x1b305f){const _0x1eb242=new mR(_0x1b305f),_0x12cda2=[],_0x570550=[];if(!_0x1eb242['parse'](_0x12cda2,_0x570550))return console['warn'](_0x1eb242['error']()),{'symbols':_0x1b305f,'tags':null};const _0x20f73c=_0x570550['find'](_0x1efded=>_0x1efded['end']===null);if(_0x20f73c)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x20f73c['name']+'\x27'),{'symbols':_0x1b305f,'tags':null};const _0x45a39a=gR(_0x570550,_0x12cda2['length']);return{'symbols':_0x12cda2,'tags':_0x45a39a};}class yR{static['evaluate'](_0x3cb09f){return SR(_0x3cb09f);}}class vR{constructor(){this['count']=-0x11*0x89+0x1*-0x130f+0x1c28,this['quad']=0x3c+-0x18ae+0x1872,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x558645,_0x4ba414){const _0x13d449=new Ge(_0x558645);return _0x13d449['setPositio'+'ns'](_0x4ba414['positions']),_0x13d449['setNormals'](_0x4ba414['normals']),_0x13d449['setColors3'+'2'](_0x4ba414['colors']),_0x13d449['setUvs'](-0xe43*-0x1+-0xc73*0x1+-0x1d0,_0x4ba414['uvs']),_0x13d449['setIndices'](_0x4ba414['indices']),_0x13d449['setVertexS'+'tream'](Ko,_0x4ba414['outlines'],0x24d4+0x3d6+-0x28a7,void(0x1db8+0x26*-0xcb+0x6a),Ve,!(0xc6a+-0xad*0x18+0x3cf)),_0x13d449['setVertexS'+'tream'](Zo,_0x4ba414['shadows'],-0x7*0x2ed+-0x258c+-0x11*-0x36a,void(-0x248a+0x1*0x1a89+0xa01),Ve,!(-0x43*0x2b+0x739+-0x409*-0x1)),_0x13d449['update'](),_0x13d449;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x7c89bb){this['_element']=_0x7c89bb,this['_system']=_0x7c89bb['system'],this['_entity']=_0x7c89bb['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x774+0x3*0x902+-0x5*0x3ea),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(-0x2*0xa75+-0x9b*0x13+0x206c,0x1e63+0x335*-0x4+-0x118e,0xafa+-0x1a6*-0xd+-0x2067,-0x1a*0x65+-0x376*0x6+0x1f07),this['_colorUnif'+'orm']=new Float32Array(0x258b*-0x1+0x1b*-0x2+0x25c4),this['_spacing']=-0x155*0xc+0x1c9e+0x3d*-0x35,this['_fontSize']=0x185+0x2373+-0x1*0x24d8,this['_fontMinY']=0x1*0x104f+-0x220+-0xe2f,this['_fontMaxY']=0x15f0+0x1ad2+0x1*-0x30c2,this['_originalF'+'ontSize']=0xa*-0x394+-0x9b1+0x511*0x9,this['_maxFontSi'+'ze']=0xe9*-0xa+0x1202+0x464*-0x2,this['_minFontSi'+'ze']=-0x20ad+-0x8b1+-0x14b3*-0x2,this['_autoFitWi'+'dth']=!(-0x2*-0x113d+0x7d*-0x20+-0xc1*0x19),this['_autoFitHe'+'ight']=!(0x1*-0x1a27+-0x1555+0x2f7d),this['_maxLines']=-(-0x36a+-0x4*0x956+0x28c3*0x1),this['_lineHeigh'+'t']=-0x19f*0x3+0x124c*0x1+-0xd4f,this['_scaledLin'+'eHeight']=-0x10bb*-0x2+-0x36*0x3a+-0x151a,this['_wrapLines']=!(0x5f0+0x2*0xcc4+-0xb3*0x2d),this['_drawOrder']=0x1864+-0x2*0x1000+0x2*0x3ce,this['_alignment']=new J(-0x19*-0x35+0x3e0*-0x8+0x19d3+0.5,-0x154b+0x57a*-0x1+0x1ac5+0.5),this['_autoWidth']=!(0x18*-0x184+0x14e7+0xf79),this['_autoHeigh'+'t']=!(0x34d*0x9+0x2247+-0x3ffc),this['width']=0x2582+0x1ddb+-0xd79*0x5,this['height']=-0x1*-0x44f+0x1397*-0x1+-0xf48*-0x1,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0xaa9*0x2+-0x1*-0x329+-0x187b),this['_aabb']=new De(),this['_noResize']=!(-0x1bb*-0x1+0xf88+-0x1142),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x18f*0x3+-0x1367+0x1*0x1815),this['_unicodeCo'+'nverter']=!(-0x1*-0x879+-0x811*0x1+-0x67),this['_rtl']=!(0x1d8d+-0xaf1*0x3+-0x1*-0x347),this['_outlineCo'+'lor']=new ie(-0x57c*-0x2+-0x2a1+-0x7*0x131,0x21c+-0x133*-0x11+0x1*-0x167f,0x24f8+-0x9cb+-0x90f*0x3,0x5*0x273+-0x136b*-0x1+-0x1*0x1fa9),this['_outlineCo'+'lorUniform']=new Float32Array(-0xc7c+0x4b1*-0x7+0x2d57),this['_outlineTh'+'icknessSca'+'le']=0x15e6+0x1f1a+-0x3500+0.2,this['_outlineTh'+'ickness']=-0x143*0xf+-0x553+0x1840,this['_shadowCol'+'or']=new ie(0xe87*-0x1+0x2dc+0x67*0x1d,0x75d+0x11*0x224+-0x17*0x1e7,0x14d*0x10+0x9b3*-0x1+-0xb1d,0x3*-0x9b7+-0x1*0x164f+0x3375),this['_shadowCol'+'orUniform']=new Float32Array(0xbd3+-0xfe6+-0x3*-0x15d),this['_shadowOff'+'setScale']=-0xa6*0x37+-0x985*-0x4+-0x26a+0.005,this['_shadowOff'+'set']=new J(-0xc6d*0x1+-0x801+0x146e,-0x1104+-0xbe4*0x1+-0x5c8*-0x5),this['_shadowOff'+'setUniform']=new Float32Array(0x1ab+0xd*-0x163+0x346*0x5),this['_enableMar'+'kup']=!(0x2*0xa63+0xe37+-0x22fc),this['_onScreenC'+'hange'](this['_element']['screen']),_0x7c89bb['on']('resize',this['_onParentR'+'esize'],this),_0x7c89bb['on']('set:screen',this['_onScreenC'+'hange'],this),_0x7c89bb['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x7c89bb['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x7c89bb['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0xf8a*-0x1+0x467*0x4+0x109*-0x2,this['_rangeEnd']=-0x5*0xa+-0x11*-0x17f+-0x193d;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x4f8402,_0x2bffa2){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x5c2077){_0x5c2077?this['_updateMat'+'erial'](_0x5c2077['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1*-0x753+-0x11*0x77+-0x1*-0xf3b));}['_onScreenS'+'paceChange'](_0x30b6fe){this['_updateMat'+'erial'](_0x30b6fe);}['_onDrawOrd'+'erChange'](_0x17bcf7){if(this['_drawOrder']=_0x17bcf7,this['_model']){for(let _0x372415=0x7f7+0xc8*0x19+0x1b7f*-0x1,_0x3d60b5=this['_model']['meshInstan'+'ces']['length'];_0x372415<_0x3d60b5;_0x372415++)this['_model']['meshInstan'+'ces'][_0x372415]['drawOrder']=_0x17bcf7;}}['_onPivotCh'+'ange'](_0x2ae708){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x5af4a9){if(this['_i18nKey']){if(this['fontAsset']){const _0x4c6419=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x4c6419||!_0x4c6419['resource']||_0x4c6419['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0xccde73,_0x3ef34f){this['_i18nKey']&&_0x3ef34f[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x21a5f5){if(this['unicodeCon'+'verter']){const _0x25d344=this['_system']['getUnicode'+'Converter']();_0x25d344?_0x21a5f5=_0x25d344(_0x21a5f5):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x21a5f5&&(this['_font']&&this['_updateTex'+'t'](_0x21a5f5),this['_text']=_0x21a5f5);}['_updateTex'+'t'](_0x2e9e27){let _0x321d79;if(_0x2e9e27===void(-0x1059+0x1*-0x972+0x19cb)&&(_0x2e9e27=this['_text']),this['_symbols']=Hc['getSymbols'](_0x2e9e27['normalize']?_0x2e9e27['normalize']('NFC'):_0x2e9e27),this['_symbols']['length']===-0x12d6+-0xf*-0x102+0x3b8&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x4a8c6d=yR['evaluate'](this['_symbols']);this['_symbols']=_0x4a8c6d['symbols'],_0x321d79=_0x4a8c6d['tags']||[];}if(this['_rtlReorde'+'r']){const _0x1e67e0=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x1e67e0){const _0x514b47=_0x1e67e0(this['_symbols']);this['_rtl']=_0x514b47['rtl'],this['_symbols']=_0x514b47['mapping']['map'](function(_0x59799e){return this['_symbols'][_0x59799e];},this),_0x321d79&&(_0x321d79=_0x514b47['mapping']['map'](_0x21e2da=>_0x321d79[_0x21e2da]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0xa*0x313+-0x11*0x56+-0x95*0x2b);const _0x136ec3=(_0x4cabd6,_0x3a79bf)=>_0x4cabd6['toString'](!(0x1ebb*0x1+-0x1310+-0x1d*0x67))['toLowerCas'+'e']()+':'+_0x3a79bf['toFixed'](0x402+-0xd16+0x916),_0x2afbb8=(_0x4207a9,_0x2bf3fc)=>_0x4207a9['toString'](!(0x1*-0x1ef6+0x6c*-0x35+0x3552))['toLowerCas'+'e']()+':'+_0x2bf3fc['x']['toFixed'](-0x3c6+-0x1*-0x56+-0x3*-0x126)+':'+_0x2bf3fc['y']['toFixed'](-0xa*-0x7f+-0x1ea*-0x8+-0x1444);if(_0x321d79){const _0x4ff94e={},_0x1908e5={},_0x14f6e8={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x2562+0xa*0x1df+0x9b*-0x5b)),Math['round'](this['_color']['g']*(0x1ae*0x14+-0xbc*-0x22+0x3991*-0x1)),Math['round'](this['_color']['b']*(0x44f*0x1+0x1*0x10b9+-0x1409))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x1*-0xcff+0x1*-0x21c1+0x2fbf*0x1)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x133+0x6ef*0x1+-0x4bd)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x347+0x2*0x98e+-0x279*0x6)),Math['round'](this['_outlineCo'+'lor']['a']*(0x981+0xda5+-0x1627)),Math['round'](this['_outlineTh'+'ickness']*(0x73a+-0x10bd+-0x5*-0x21a))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1924+0x57b+0x3*-0x9e0)),Math['round'](this['_shadowCol'+'or']['g']*(-0x237b+0xfbd+0x14bd)),Math['round'](this['_shadowCol'+'or']['b']*(0x151f*0x1+-0x1976+0x556)),Math['round'](this['_shadowCol'+'or']['a']*(-0x8de*0x3+0x70*0x4c+0x1*-0x5a7)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1424+0x1040+0x463)),Math['round'](this['_shadowOff'+'set']['y']*(-0x2599+0x2259+-0x3bf*-0x1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x4ff94e[this['_color']['toString'](!(-0x1b4+0x1*0xe75+-0xcc0))['toLowerCas'+'e']()]=0x4*0xd7+0x10db+-0x19*0xcf,_0x1908e5[_0x136ec3(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x6b*0xe+-0xb8*0xb+0x20e,_0x14f6e8[_0x2afbb8(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x1c26*-0x1+-0x5f3*-0x2+-0x2*0x1406;for(let _0x14988c=-0x1*0xcb6+0x3*-0x43+0xd7f,_0x26e9a3=this['_symbols']['length'];_0x14988c<_0x26e9a3;++_0x14988c){const _0x292241=_0x321d79[_0x14988c];let _0x37a238=-0x878+0x1*-0x1abb+0x2333;if(_0x292241&&_0x292241['color']&&_0x292241['color']['value']){const _0x38f97a=_0x292241['color']['value'];if(_0x38f97a['length']===-0x25b8+-0xe97+0x3456&&_0x38f97a[-0x404*-0x2+-0x2316+0x1b0e]==='#'){const _0x236739=_0x38f97a['substring'](0x12db+-0xc87+-0x653)['toLowerCas'+'e']();_0x4ff94e['hasOwnProp'+'erty'](_0x236739)?_0x37a238=_0x4ff94e[_0x236739]:/^[0-9a-f]{6}$/['test'](_0x236739)&&(_0x37a238=this['_colorPale'+'tte']['length']/(0x12b5*-0x1+0x5*-0x4a3+0x11*0x277),_0x4ff94e[_0x236739]=_0x37a238,this['_colorPale'+'tte']['push'](parseInt(_0x236739['substring'](0x9*-0x101+0x15*0x59+0x1*0x1bc,0x756*-0x4+-0x23a2*0x1+0x40fc),-0xc72*-0x1+-0x1d27+-0x10c5*-0x1)),this['_colorPale'+'tte']['push'](parseInt(_0x236739['substring'](-0x10*0x10b+-0x213+0x12c5,0x1883+-0x25*0x89+-0x4b2),0xa45+0x1*0x10af+-0x6b9*0x4)),this['_colorPale'+'tte']['push'](parseInt(_0x236739['substring'](-0x47*0x11+0x2311+0x1*-0x1e56,0xf25+-0x4*0x54b+0x1*0x60d),-0x21*-0x6f+-0x20f4+0x1*0x12b5)));}}this['_symbolCol'+'ors']['push'](_0x37a238);let _0x184cb2=0xb35*0x1+-0x1477+0x942;if(_0x292241&&_0x292241['outline']&&(_0x292241['outline']['attributes']['color']||_0x292241['outline']['attributes']['thickness'])){let _0x41362c=_0x292241['outline']['attributes']['color']?Kg['fromString'](_0x292241['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x263644=Number(_0x292241['outline']['attributes']['thickness']);(Number['isNaN'](_0x41362c['r'])||Number['isNaN'](_0x41362c['g'])||Number['isNaN'](_0x41362c['b'])||Number['isNaN'](_0x41362c['a']))&&(_0x41362c=this['_outlineCo'+'lor']),Number['isNaN'](_0x263644)&&(_0x263644=this['_outlineTh'+'ickness']);const _0x1be0b5=_0x136ec3(_0x41362c,_0x263644);_0x1908e5['hasOwnProp'+'erty'](_0x1be0b5)?_0x184cb2=_0x1908e5[_0x1be0b5]:(_0x184cb2=this['_outlinePa'+'lette']['length']/(-0x1*0x242+0x3d7*-0x5+0x157a),_0x1908e5[_0x1be0b5]=_0x184cb2,this['_outlinePa'+'lette']['push'](Math['round'](_0x41362c['r']*(0xf58+0x2*-0x950+0x1*0x447)),Math['round'](_0x41362c['g']*(0x1505*0x1+0x4a7+-0x18ad)),Math['round'](_0x41362c['b']*(0x1835+0x147+-0x187d)),Math['round'](_0x41362c['a']*(0x1721*0x1+-0x571+-0x10b1)),Math['round'](_0x263644*(0x159b*-0x1+-0x267e*-0x1+-0x6*0x2a6))));}this['_symbolOut'+'lineParams']['push'](_0x184cb2);let _0x2c5ee5=0x1326+0x3*-0xf6+-0x1044;if(_0x292241&&_0x292241['shadow']&&(_0x292241['shadow']['attributes']['color']||_0x292241['shadow']['attributes']['offset']||_0x292241['shadow']['attributes']['offsetX']||_0x292241['shadow']['attributes']['offsetY'])){let _0x4a3ab5=_0x292241['shadow']['attributes']['color']?Kg['fromString'](_0x292241['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x251d2a=Number(_0x292241['shadow']['attributes']['offset']),_0x592112=Number(_0x292241['shadow']['attributes']['offsetX']),_0x46b933=Number(_0x292241['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x4a3ab5['r'])||Number['isNaN'](_0x4a3ab5['g'])||Number['isNaN'](_0x4a3ab5['b'])||Number['isNaN'](_0x4a3ab5['a']))&&(_0x4a3ab5=this['_shadowCol'+'or']);const _0x1372c3=CR['set'](Number['isNaN'](_0x592112)?Number['isNaN'](_0x251d2a)?this['_shadowOff'+'set']['x']:_0x251d2a:_0x592112,Number['isNaN'](_0x46b933)?Number['isNaN'](_0x251d2a)?this['_shadowOff'+'set']['y']:_0x251d2a:_0x46b933),_0x37f943=_0x2afbb8(_0x4a3ab5,_0x1372c3);_0x14f6e8['hasOwnProp'+'erty'](_0x37f943)?_0x2c5ee5=_0x14f6e8[_0x37f943]:(_0x2c5ee5=this['_shadowPal'+'ette']['length']/(0x1187*-0x1+0x84e+-0x315*-0x3),_0x14f6e8[_0x37f943]=_0x2c5ee5,this['_shadowPal'+'ette']['push'](Math['round'](_0x4a3ab5['r']*(-0x1a24+-0x1*0xadc+0x25ff)),Math['round'](_0x4a3ab5['g']*(0x17b2+-0x197*0x12+0xf*0x65)),Math['round'](_0x4a3ab5['b']*(0x1ae*-0x2+0x32b+0x130*0x1)),Math['round'](_0x4a3ab5['a']*(-0x19ac+-0x743+0x21ee)),Math['round'](_0x1372c3['x']*(0x4*-0x5e3+-0x31a*-0xb+0xa13*-0x1)),Math['round'](_0x1372c3['y']*(-0x1ba5+-0x313*0x3+0x255d))));}this['_symbolSha'+'dowParams']['push'](_0x2c5ee5);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0xcabcad=this['_calculate'+'CharsPerTe'+'xture']();let _0x4188ff=!(0xcb3*0x1+-0xe3+-0x1*0xbcf);const _0x194f17=this['_element'],_0xfa8aa8=_0x194f17['_isScreenS'+'pace'](),_0x16e964=_0x194f17['_isScreenC'+'ulled'](),_0x1ccd24=function(_0x3b1486){return _0x194f17['isVisibleF'+'orCamera'](_0x3b1486);};for(let _0x59caa6=-0x2*0xa0e+-0x1df*-0x10+-0x9d4,_0x19424f=this['_meshInfo']['length'];_0x59caa6<_0x19424f;_0x59caa6++){const _0x17ea9d=_0xcabcad[_0x59caa6]||-0x9*-0xce+-0x845*0x3+0x1*0x1191,_0xa8013c=this['_meshInfo'][_0x59caa6];if(_0xa8013c['count']!==_0x17ea9d){if(_0x4188ff||(_0x194f17['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4188ff=!(-0x1365+-0xea2+0x2207)),_0xa8013c['count']=_0x17ea9d,_0xa8013c['positions']['length']=_0xa8013c['normals']['length']=_0x17ea9d*(-0x203b+0xb80+0x9*0x24e)*(-0x4c*0x73+-0x11d1*-0x1+0x1057),_0xa8013c['indices']['length']=_0x17ea9d*(0x2030+-0xd60+-0x1*0x12cd)*(0x99f+0x193e+-0x22db*0x1),_0xa8013c['uvs']['length']=_0x17ea9d*(-0x24b2+-0x1*0x23e9+0x1*0x489d)*(0xab5*-0x3+-0x1*-0xf59+-0x266*-0x7),_0xa8013c['colors']['length']=_0x17ea9d*(0x9*0x51+0x5cb*-0x2+0x8c1)*(-0x2053+-0xe0c+0x2e63),_0xa8013c['outlines']['length']=_0x17ea9d*(0x1*0x10fd+0x1c5+-0x12be)*(-0x449*-0x1+-0x14e6+-0x214*-0x8),_0xa8013c['shadows']['length']=_0x17ea9d*(0x14b*0x6+0x19*-0x13+-0x5e3)*(-0x1534+-0x1efb+0x3432),_0xa8013c['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0xa8013c['meshInstan'+'ce']),_0x17ea9d===-0x1874+-0x1337+0x2bab){_0xa8013c['meshInstan'+'ce']=null;continue;}for(let _0x12e297=0xdf*0x7+-0x1*0x1c16+0x15fd;_0x12e297<_0x17ea9d;_0x12e297++)_0xa8013c['indices'][_0x12e297*(0x24da+0x85*0x21+0x566*-0xa)*(-0x2589+0x68*0x1f+0x18f3)+(0x2539+0x7bd+-0x2cf6)]=_0x12e297*(0x226e+0x3c*-0x5+-0x213e),_0xa8013c['indices'][_0x12e297*(0x1*0x20b9+-0x1e20+-0x296)*(-0x9bc+0x18*0x10d+-0xf7a)+(-0x1396+-0x122*0x1a+0x310b)]=_0x12e297*(-0x1*-0x38f+-0x1698+-0x1*-0x130d)+(0x1108*-0x1+-0xe76+0x1f7f),_0xa8013c['indices'][_0x12e297*(0x2147+0x444+0x8*-0x4b1)*(0x2d*-0x7f+-0x1db7*-0x1+-0x762)+(-0x1ab6+0x610+0x14a8)]=_0x12e297*(-0xd*-0x28d+0x148f*-0x1+-0xc96)+(-0x1ccd+-0x151*-0x10+0x7c0),_0xa8013c['indices'][_0x12e297*(-0xeb2+0x1852+0x17*-0x6b)*(-0x1*-0x98a+-0x1d9*0x3+0x3fd*-0x1)+(0x172a*-0x1+-0x279*0x4+-0x2111*-0x1)]=_0x12e297*(-0x157f+-0xb87+-0x1085*-0x2)+(0x1b3c+0x3*-0x2b+-0x1ab9),_0xa8013c['indices'][_0x12e297*(-0xe4*-0x26+-0x8cc*0x3+-0x17d*0x5)*(-0x2a5*0x2+0x2*0x638+-0x1c9*0x4)+(-0xbb0+0x22*-0x5d+-0x1*-0x180e)]=_0x12e297*(-0x184b+-0x1*0x45d+0x1cac)+(0xc8f+0x1*-0x2446+-0x2*-0xbdd),_0xa8013c['indices'][_0x12e297*(0xaef+-0x110c+0xe0*0x7)*(-0x58b*-0x3+-0xfb*0x14+-0x55*-0x9)+(0xd*-0x27e+0x24+0x1*0x2047)]=_0x12e297*(-0xc2*-0x1d+-0x1*-0xb69+-0x215f)+(0x1*0x176e+-0x1*0x1523+0x125*-0x2),_0xa8013c['normals'][_0x12e297*(-0xd83+-0x15*0x123+0x2566)*(-0x2367+0x19f4+-0xe*-0xad)+(0xce6+-0x119*0x21+0x1753)]=0x13e+-0xfdb*0x1+0x81*0x1d,_0xa8013c['normals'][_0x12e297*(0x15*-0x1a3+0x17*-0xe5+-0x57f*-0xa)*(0xf9d+0x19d3+-0x15*0x1f9)+(-0x2268+-0x165a*-0x1+0xc0f)]=0x26f1*0x1+-0xf97+-0x1ab*0xe,_0xa8013c['normals'][_0x12e297*(-0x14d2+-0x1e0c+0x32e2)*(0xed8+0xd*-0x104+-0x1a1)+(0x3b5*0x3+-0x5e9+-0x14d*0x4)]=-(-0xb57+-0x8*0x92+0xfe8),_0xa8013c['normals'][_0x12e297*(0x25b8+0x1*0xf4d+0x3501*-0x1)*(-0x2b1*-0x9+-0x3*0x974+0x426)+(-0x3e1+0xedb+0x191*-0x7)]=0x1*0x435+-0x1e41*0x1+0x1a0c,_0xa8013c['normals'][_0x12e297*(0x1*0x266+0x1f00+0x2162*-0x1)*(-0x21e*-0x1+-0x1833+0x1618)+(-0x8a*0x13+-0x875+0x63d*0x3)]=0xe2*-0x8+0xb14+0x4*-0x101,_0xa8013c['normals'][_0x12e297*(-0x254c+0x285*-0xd+0x4611)*(0x761+-0x61a+-0x36*0x6)+(0xd45+-0x81d+0x523*-0x1)]=-(0x1533+0xd2f+-0x2261),_0xa8013c['normals'][_0x12e297*(0x1bff+0xed0+-0x2acb*0x1)*(-0x7b*-0x41+-0x13*0xc2+-0x10d2)+(-0xbb7+-0x2*-0x6fa+-0x237)]=-0x2*0x10c1+0xbcd+0x15b5,_0xa8013c['normals'][_0x12e297*(-0x153*0x1+-0x65f+0x7b6*0x1)*(0x1499*0x1+0x1ea7+-0x333d)+(0x50e+0x1a*-0x148+-0xd*-0x22d)]=-0x4*-0x263+0x202a*-0x1+0x169e,_0xa8013c['normals'][_0x12e297*(0xb8b+-0x2016+0x148f)*(-0x9ca+0x22d4+0x1907*-0x1)+(-0x2161+0x7f5+0xc*0x21f)]=-(0x8*0x3af+-0x227c*0x1+0x505),_0xa8013c['normals'][_0x12e297*(-0x1363+-0xa32+0x1d99*0x1)*(0x6b0+-0x189d*-0x1+0x37a*-0x9)+(0x2619+-0x610+-0x4*0x800)]=-0x37c*-0x1+-0x8c6+-0x1*-0x54a,_0xa8013c['normals'][_0x12e297*(0x771+-0xf95+-0x105*-0x8)*(0x1*-0x186c+0x2*-0x12df+0x3e2d)+(0xf9*-0x14+0x12b*0x11+0x1f*-0x3)]=-0x82f*0x3+-0x14d5+0x2d62,_0xa8013c['normals'][_0x12e297*(0x622*0x4+0x9d*-0x2b+0x1db*0x1)*(0x1e71+-0xd5f+-0xb*0x18d)+(-0x1a77+0x2*0x55b+0xfcc)]=-(0x3*0x78a+0x17c+-0x1f*0xc7);const _0xbccd39=xR(this['_system']['app']['graphicsDe'+'vice'],_0xa8013c),_0x3ee599=new He(_0xbccd39,this['_material'],this['_node']);if(_0x3ee599['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x3ee599['castShadow']=!(-0x1*-0xd08+-0x2e*0x2e+-0x4c3),_0x3ee599['receiveSha'+'dow']=!(0xa*0x18a+0x822+0x1785*-0x1),_0x3ee599['cull']=!_0xfa8aa8,_0x3ee599['screenSpac'+'e']=_0xfa8aa8,_0x3ee599['drawOrder']=this['_drawOrder'],_0x16e964&&(_0x3ee599['cull']=!(-0x1b5b+-0x4*-0x7cf+-0x3e1),_0x3ee599['isVisibleF'+'unc']=_0x1ccd24),this['_setTextur'+'eParams'](_0x3ee599,this['_font']['textures'][_0x59caa6]),_0x3ee599['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x3ee599['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x3ee599['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x3ee599['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x3ee599['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x59caa6]['width']),_0x3ee599['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x3ee599['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x3ee599['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1a98+0x18ad+0x1eb]=-0x1205+0x1*-0x1b63+-0xb5a*-0x4,this['_shadowOff'+'setUniform'][-0x1315+-0x6b*-0x52+0xd8*-0x12]=0x1ec5+0x2*-0x9ad+-0xb6b;else{const _0x2c6253=-this['_font']['data']['info']['maps'][_0x59caa6]['width']/this['_font']['data']['info']['maps'][_0x59caa6]['height'];this['_shadowOff'+'setUniform'][0x48a*0x2+-0x8*0x169+0x234]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x12e5+-0x7c*-0x1+0x126a]=_0x2c6253*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x3ee599['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0xa8013c['meshInstan'+'ce']=_0x3ee599,this['_model']['meshInstan'+'ces']['push'](_0x3ee599);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x4188ff&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x89*-0x14+0x1ce0+-0x13ca*0x2,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x13a300){_0x13a300['destroy']();const _0x32fef3=this['_model']['meshInstan'+'ces']['indexOf'](_0x13a300);_0x32fef3!==-(0x1*0x1bea+-0x1*0x1867+-0x1c1*0x2)&&this['_model']['meshInstan'+'ces']['splice'](_0x32fef3,-0xf3a+-0x1778+-0x26b3*-0x1);}['_setMateri'+'al'](_0x294d91){if(this['_material']=_0x294d91,this['_model'])for(let _0x987702=-0x26f9+0x243a+-0x1*-0x2bf,_0x131064=this['_model']['meshInstan'+'ces']['length'];_0x987702<_0x131064;_0x987702++){const _0x11e8b3=this['_model']['meshInstan'+'ces'][_0x987702];_0x11e8b3['material']=_0x294d91;}}['_updateMat'+'erial'](_0x5560d0){const _0x5a469b=this['_element'],_0x584598=_0x5a469b['_isScreenC'+'ulled'](),_0xc8ad05=function(_0x52a295){return _0x5a469b['isVisibleF'+'orCamera'](_0x52a295);},_0x1d9542=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x5560d0,_0x1d9542,this['_enableMar'+'kup']),this['_model'])for(let _0x188a1f=0x8*-0x408+-0x13*-0xcf+-0x10e3*-0x1,_0x391d66=this['_model']['meshInstan'+'ces']['length'];_0x188a1f<_0x391d66;_0x188a1f++){const _0x52eae0=this['_model']['meshInstan'+'ces'][_0x188a1f];_0x52eae0['cull']=!_0x5560d0,_0x52eae0['material']=this['_material'],_0x52eae0['screenSpac'+'e']=_0x5560d0,_0x584598?(_0x52eae0['cull']=!(0x1*-0x15fd+-0xec5+0x24c2*0x1),_0x52eae0['isVisibleF'+'unc']=_0xc8ad05):_0x52eae0['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x2239*0x1+0x349*0xb+-0x465c]=0x2205+0x1c+-0x2220,this['_colorUnif'+'orm'][0x1*-0xecc+0x1e33+-0xf66]=-0x8bf+-0x72*0x15+-0x7*-0x296,this['_colorUnif'+'orm'][0x84*-0x13+0x6a1+0x32d]=-0x22ca+0x444+0x1e87):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x6*0x577+0x3b9+-0x7*-0x427]=We['r'],this['_colorUnif'+'orm'][-0x74b+-0x4*0x677+0x1094*0x2]=We['g'],this['_colorUnif'+'orm'][-0x1311+0x2187+0x4a*-0x32]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x18d5+-0x13*0x98+0x2b*0xd7]=0x21*0x7c+-0x1c2f+0x1*0xc33,this['_outlineCo'+'lorUniform'][-0x113f+0x161c+0x137*-0x4]=0x64+-0xb02+0xa9e,this['_outlineCo'+'lorUniform'][0xd9f*0x2+0x1*0xd13+0x1*-0x284f]=-0x177c+-0xd*0xdb+0x1*0x229b,this['_outlineCo'+'lorUniform'][-0xa12+0x89*-0x1f+0x1*0x1aac]=-0x2567+0x2*0x8c6+0x13dc):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0xc2d+-0xdd2*0x1+0x19ff]=We['r'],this['_outlineCo'+'lorUniform'][-0x1efd*0x1+-0x1b2*-0x1+0x12c*0x19]=We['g'],this['_outlineCo'+'lorUniform'][-0x193b*-0x1+0x5*0x56f+0x3464*-0x1]=We['b'],this['_outlineCo'+'lorUniform'][0x6d*0x35+0x15d9+-0x2c67]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1131+0x259f*0x1+-0xdb4*0x4]=0x1360+0xf30+0x2*-0x1148,this['_shadowCol'+'orUniform'][-0xc63+0x335*-0xb+0x2fab]=0x1c9*-0x13+0x3b2+0x1e39,this['_shadowCol'+'orUniform'][0x36b+0x2329*0x1+-0x2692]=0x1129+0x261f+-0x3d*0xe8,this['_shadowCol'+'orUniform'][0x7a*-0x4+-0x491*0x5+0x18c0]=0xe84+0x1d4d+-0x2bd1):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x2144+0x6*0x40d+-0x3992]=We['r'],this['_shadowCol'+'orUniform'][0x142e+0x1bc3+-0x17f8*0x2]=We['g'],this['_shadowCol'+'orUniform'][-0x267d*-0x1+-0x1b4f+-0xb2c]=We['b'],this['_shadowCol'+'orUniform'][0x1*-0x114e+-0x1d4b*-0x1+-0x5fd*0x2]=We['a']);}['_isWordBou'+'ndary'](_0x39f0a1){return jg['test'](_0x39f0a1);}['_isValidNe'+'xtChar'](_0x115bbd){return _0x115bbd!==null&&!ER['test'](_0x115bbd);}['_isNextCJK'+'Boundary'](_0x143bb8,_0x1d8621){return Yg['test'](_0x143bb8)&&(jg['test'](_0x1d8621)||wR['test'](_0x1d8621));}['_isNextCJK'+'WholeWord'](_0x48105c){return Yg['test'](_0x48105c);}['_updateMes'+'hes'](){const _0x5c7cbc=this['_font']['data'],_0x470a53=this,_0x281c21=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x54a490=this['_maxFontSi'+'ze'],_0x364b37=this['_shouldAut'+'oFit']();_0x364b37&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0xe57d47=0xb3*0x1d+-0xd*-0x2f+-0x168a,_0xe997a4=this['_symbols']['length'];let _0x32b85b=0x7ed*0x1+-0x13eb+0xbfe,_0x501d5e=0x1427+-0x1*-0x2191+-0x35b8,_0x329b33=0x10b2+0x1*-0x264e+-0x2*-0xace,_0x49c22e=-0x405+0x1*-0x7bc+-0x1*-0xbc1,_0x5a9a69=0x85a*0x3+-0x4d*-0x15+0x16*-0x16d,_0x4d5edb=0x3*0x641+0x2e5*-0xd+0xe*0x159,_0x27739b=-0x1faa+0x7c*-0x1+0x2026,_0x48be4c=-0x19d1+-0xb91*-0x3+-0x3*0x2f6,_0xb18fc2=-0xbb2+0x113c+-0x58a,_0xe53a54=0x5*-0x78d+-0x2*0x1e7+-0x298f*-0x1,_0x8521a4=0x208e+0x18c5+-0x5*0xb77;const _0x247453=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1209*0x1+0x22d0+0x34d9*-0x1+0.0001;let _0x19f009=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x247453||!this['_wrapLines'])&&(_0x19f009=Number['POSITIVE_I'+'NFINITY']);let _0x3a0f9a=0x1b1f+-0xa06*-0x1+-0x2525,_0x4020c1=-0xcfc*0x1+-0x1659+0x2355,_0x52ae80,_0x739b55,_0x3985f8,_0x6e4ec6;function _0x4380e1(_0xe2cf75,_0xe954c6,_0x186698){_0x470a53['_lineWidth'+'s']['push'](Math['abs'](_0x186698));const _0xfce24d=_0x48be4c>_0xe954c6?_0xe954c6+(0x2268+-0x2*-0xa83+0x376d*-0x1):_0x48be4c,_0x13d1d5=_0x48be4c>_0xe954c6?_0x48be4c+(-0x2407+0x10f1*-0x1+0x34f9):_0xe954c6,_0xe27fd1=_0xe2cf75['slice'](_0xfce24d,_0x13d1d5);if(_0x8521a4){let _0x1434cc=_0xe27fd1['length'];for(;_0x1434cc--&&_0x8521a4>0x9*0x157+0x1*-0x2679+0x1a6a;)qg['test'](_0xe27fd1[_0x1434cc])&&(_0xe27fd1['splice'](_0x1434cc,0x1a97+0x19*-0xcd+-0x691),_0x8521a4--);}_0x470a53['_lineConte'+'nts']['push'](_0xe27fd1['join']('')),_0x32b85b=0x213b*-0x1+0x247a+-0x33f,_0x501d5e-=_0x470a53['_scaledLin'+'eHeight'],_0x5a9a69++,_0xb18fc2=0x8bf*0x2+-0x1037+-0x147,_0xe53a54=-0x112e+-0x4*0x55b+-0x3d*-0xa2,_0x8521a4=-0xfd8+-0x1a65*0x1+0x2a3d,_0x4d5edb=-0x17fa+-0x6ad*0x5+0x395b*0x1,_0x48be4c=_0xe954c6;}let _0x2c13bc=!(0x148*-0xf+-0x19c9+-0x29*-0x119);for(;_0x2c13bc;){_0x2c13bc=!(-0xa*-0x16f+0x86d*0x2+0x1f2f*-0x1),_0x364b37?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x117f+-0xa31+-0x1bb0*-0x1+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x1b08+-0xe54+0x295c,this['height']=-0xf2c+0x365+0xbc7,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x32b85b=-0x1*0x17d+0x7*-0x204+0xf99,_0x501d5e=0x1*-0x156a+-0x4bf+-0x1a29*-0x1,_0x329b33=0x13*0x53+0xa2c+-0x1055,_0x49c22e=-0x1274+-0x1*0x1873+0x2ae7,_0x5a9a69=0x353*-0x4+0xdf7+-0xaa,_0x4d5edb=-0x234*-0x2+-0x26*0xad+0x1546,_0x27739b=-0xca*-0x1f+0x7af*0x3+-0x2f83*0x1,_0x48be4c=0x19e2*0x1+-0x3a9*-0x9+0x1*-0x3ad3,_0xb18fc2=0x78d*-0x1+-0x2d1+0xa5e,_0xe53a54=-0x1e33+-0x533+0x2366,_0x8521a4=0x1ac8*0x1+-0x115*-0x22+-0x3f92;const _0x8dd6fd=this['_fontSize']/_0xe57d47;_0x3a0f9a=this['_fontMinY']*_0x8dd6fd,_0x4020c1=this['_fontMaxY']*_0x8dd6fd;for(let _0x33ac24=0x1ea8+-0x223*0x1+-0x31*0x95;_0x33ac24<this['_meshInfo']['length'];_0x33ac24++)this['_meshInfo'][_0x33ac24]['quad']=0x715+-0x101a+0x905,this['_meshInfo'][_0x33ac24]['lines']={};let _0xb84bfd=0x5*0x343+-0xbb9+-0x397,_0x1dd5e0=-0x2*-0x2e6+-0x59*0x2f+-0x5c5*-0x2,_0x6c41e8=0x49*0x14+0x343*-0x4+0x857,_0x520cde=0xfa9+0x1*-0x65d+-0x84d+(-0x1a6c+-0xbe2*0x2+0x332f)*(0x3e8+0x2065+-0x234d),_0x3f8e6c=-0xf09+-0x2*0xf7a+-0x177e*-0x2+(-0x7d*0xb+0x1*-0xa31+0x108f)*(-0x1b4a+0x26a8+-0x52f*0x2),_0x4ef92a=-0x1a4b+0x1bda*0x1+-0x18f,_0x2dfc56=0x26*-0xda+0x29*0xb9+0x3ba+(0x219a+0xf8b*-0x1+0x8*-0x222)*(0x30*0x92+-0x2421+0x9c1),_0x221307=0x2090+0x1129+-0x6f6*0x7+(-0x196d+-0x9de+0x742*0x5)*(-0x35*0xf+0x21e7+-0x2*0xee6),_0xff4d5d=0x2642+0x7*0x1a5+-0x3146+(-0x2*0x41+0x175d+-0x165c)*(-0x24f0+-0x2327+0x4917);for(let _0x28b0f5=0x1*-0x1754+0x25e7*-0x1+0x591*0xb;_0x28b0f5<_0xe997a4;_0x28b0f5++){if(_0x52ae80=this['_symbols'][_0x28b0f5],_0x6e4ec6=_0x28b0f5+(0x1457+0x3*-0x3d5+-0x8d7)>=_0xe997a4?null:this['_symbols'][_0x28b0f5+(-0xfc5*0x1+-0x10*-0x47+0xb56)],qg['test'](_0x52ae80)){_0x8521a4++,(!this['_wrapLines']||this['_maxLines']<-0x70*0x2b+0x6f*0x3d+-0x7a3*0x1||_0x5a9a69<this['_maxLines'])&&(_0x4380e1(this['_symbols'],_0x28b0f5,_0x49c22e),_0x27739b=_0x28b0f5+(-0x1*0x24fa+-0x179b*0x1+0x3c96),_0x48be4c=_0x28b0f5+(-0xd2f+0x1673+-0x943));continue;}let _0x5afc5b=-0xee1*-0x1+-0xb*0x17+-0xde4,_0x45541a=-0x70a*0x1+-0x1*-0x11cc+-0xac2,_0x9df006=0x1d94+0x2647+-0x257*0x1d,_0x561f77=0x35*-0x89+0x1eb*-0x2+0x2034,_0xa1d573,_0x354e71;if(_0x739b55=_0x5c7cbc['chars'][_0x52ae80],!_0x739b55){if(bR['indexOf'](_0x52ae80)!==-(0x22d9+-0x17*-0x108+-0x2*0x1d48))_0x739b55=AR;else{if(_0x5c7cbc['chars']['\x20'])_0x739b55=_0x5c7cbc['chars']['\x20'];else for(const _0x194039 in _0x5c7cbc['chars']){_0x739b55=_0x5c7cbc['chars'][_0x194039];break;}_0x5c7cbc['missingCha'+'rs']||(_0x5c7cbc['missingCha'+'rs']=new Set()),_0x5c7cbc['missingCha'+'rs']['has'](_0x52ae80)||(console['warn']('Character\x20'+'\x27'+_0x52ae80+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x5c7cbc['info']['face']),_0x5c7cbc['missingCha'+'rs']['add'](_0x52ae80));}}if(_0x739b55){let _0x400b66=-0x7*-0x4d5+0xcd6+-0x2ea9*0x1;if(_0xe53a54>-0xe5c+0x1811*-0x1+0x266d){const _0x56a252=this['_font']['data']['kerning'];if(_0x56a252){const _0xb7175b=_0x56a252[Hc['getCodePoi'+'nt'](this['_symbols'][_0x28b0f5-(-0x2137+0x1d7c+0x3bc)])||0x20*0x34+-0x469*0x1+0x217*-0x1];_0xb7175b&&(_0x400b66=_0xb7175b[Hc['getCodePoi'+'nt'](this['_symbols'][_0x28b0f5])||-0xaa1+-0x1908+0x1*0x23a9]||0xe06+-0xe*0x245+0x11c0);}}_0xa1d573=_0x739b55['scale']||-0x61b*-0x4+0x1*0x11fa+-0x2a65,_0x354e71=(_0x739b55['width']+_0x739b55['height'])/(0x6a4+0x230f+-0x29b1),_0x561f77=_0x8dd6fd*_0x354e71/_0xa1d573,_0x9df006=(_0x739b55['xadvance']+_0x400b66)*_0x8dd6fd,_0x5afc5b=(_0x739b55['xoffset']-_0x400b66)*_0x8dd6fd,_0x45541a=_0x739b55['yoffset']*_0x8dd6fd;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x52ae80+'\x27');const _0x53882c=TR['test'](_0x52ae80),_0x4ea214=_0x739b55&&_0x739b55['map']||-0x1718+0x2648+-0xf30,_0x4347c4=-this['_font']['data']['info']['maps'][_0x4ea214]['width']/this['_font']['data']['info']['maps'][_0x4ea214]['height'],_0x3419ea=this['_meshInfo'][_0x4ea214],_0x774335=_0x32b85b+this['_spacing']*_0x9df006;if(_0x774335>_0x19f009&&_0xe53a54>-0xc8d+0x143*0x1+0xb4a&&!_0x53882c&&(this['_maxLines']<0x1*-0xe3+-0x2489+-0x2*-0x12b6||_0x5a9a69<this['_maxLines'])){if(_0xb18fc2===0x1464+0x132f*-0x1+-0x135)_0x27739b=_0x28b0f5,_0x4380e1(this['_symbols'],_0x28b0f5,_0x49c22e);else{const _0x21231f=Math['max'](_0x28b0f5-_0x27739b,-0x21ab+0xbff*-0x1+0x2daa);if(this['_meshInfo']['length']<=0xa3d*0x1+0xc55+-0x6d*0x35)_0x3419ea['lines'][_0x5a9a69-(0x1251+0x2045+-0x3295)]-=_0x21231f,_0x3419ea['quad']-=_0x21231f;else{const _0x27ba5f=_0x27739b,_0x2cce58=_0x28b0f5;for(let _0x46b3b8=_0x27ba5f;_0x46b3b8<_0x2cce58;_0x46b3b8++){const _0x3dd695=this['_symbols'][_0x46b3b8],_0x476a4a=_0x5c7cbc['chars'][_0x3dd695],_0x3eb446=this['_meshInfo'][_0x476a4a&&_0x476a4a['map']||0x2*0x15b+-0x4fd+0xb*0x35];_0x3eb446['lines'][_0x5a9a69-(0x28*-0x65+0x1*-0x1df3+0xb6f*0x4)]-=-0x1*0x1866+-0x2*-0x40d+0x104d,_0x3eb446['quad']-=0x20fc+0x7*0x34f+-0x3824;}}_0x28b0f5-=_0x21231f+(-0xa*-0x1d+-0xc3+-0x5e),_0x4380e1(this['_symbols'],_0x27739b,_0x4d5edb);continue;}}_0x3985f8=_0x3419ea['quad'],_0x3419ea['lines'][_0x5a9a69-(-0x5*-0x5de+-0x1254+-0xb01)]=_0x3985f8;let _0x5cd296=_0x32b85b-_0x5afc5b,_0x4ace35=_0x5cd296+_0x561f77;const _0x44305e=_0x501d5e-_0x45541a,_0x27af8d=_0x44305e+_0x561f77;if(this['_rtl']){const _0x3b53ad=_0x561f77-_0x5afc5b-this['_spacing']*_0x9df006-_0x5afc5b;_0x5cd296-=_0x3b53ad,_0x4ace35-=_0x3b53ad;}_0x3419ea['positions'][_0x3985f8*(-0x20a1+0x18c8+0x7dd)*(-0x13b*-0xa+0x12e3*-0x2+0x197b*0x1)+(-0x16c7+-0x4d6*-0x2+0xd1b)]=_0x5cd296,_0x3419ea['positions'][_0x3985f8*(0xa83+-0x2*0xbe1+0xd43)*(0x2*0xb01+-0xf0e+-0x6f1)+(-0xcb8*-0x2+0x3*0x1bd+0xf53*-0x2)]=_0x44305e,_0x3419ea['positions'][_0x3985f8*(-0x2*-0x979+0xe5c*-0x1+-0x1a*0x2d)*(0x188e+0x26fb*0x1+-0x2*0x1fc3)+(-0x13*0x17+-0x228f+0x2*0x1223)]=_0x329b33,_0x3419ea['positions'][_0x3985f8*(-0x52d+-0x2*0xc62+0x1df5)*(0x5f9+0xf07*-0x1+0xd3*0xb)+(0x624+-0x16c1*-0x1+0x2*-0xe71)]=_0x4ace35,_0x3419ea['positions'][_0x3985f8*(0xc84+-0x1317*0x1+0x697)*(0x15f*-0x7+0xfc5*0x1+-0x629)+(-0x3*0x7e8+0x1*-0x110d+0x35*0xc5)]=_0x44305e,_0x3419ea['positions'][_0x3985f8*(0x7*0x266+0x5*0x305+0xc7*-0x29)*(-0x16ed*-0x1+-0x99*-0x21+-0x2aa3)+(0x160a+-0x13*-0x143+-0xe*0x349)]=_0x329b33,_0x3419ea['positions'][_0x3985f8*(0x14*-0x15e+-0x16b7+0x10b1*0x3)*(-0x21a2+-0x9*0x1ed+-0x87f*-0x6)+(0x1f6d+-0x19fd*0x1+-0x56a)]=_0x4ace35,_0x3419ea['positions'][_0x3985f8*(0x2311+-0xe*-0x11b+-0xa1b*0x5)*(-0x1c03+-0x1*-0x84b+-0x1*-0x13bb)+(0x1*0xdaa+-0x449*-0x4+0x1ec7*-0x1)]=_0x27af8d,_0x3419ea['positions'][_0x3985f8*(-0x1*0x18be+-0x1*-0x1772+0xe*0x18)*(0x4e7*0x1+-0xae6+0x2*0x301)+(0x142e+-0x684+-0xda2*0x1)]=_0x329b33,_0x3419ea['positions'][_0x3985f8*(-0x5*-0x3d9+0xba*-0x1a+-0x55)*(-0x4f*0x14+-0x1cd1+0x2300)+(0x1dbd+-0x1*-0x270f+-0x1d*0x25f)]=_0x5cd296,_0x3419ea['positions'][_0x3985f8*(0x1*0x43+0x4b*-0x8+-0x3*-0xb3)*(-0x1981+-0x1520+0x2ea4)+(-0x5ac*-0x3+0x2333*0x1+-0x1*0x342d)]=_0x27af8d,_0x3419ea['positions'][_0x3985f8*(-0x1297+0x1113+0x188)*(0x1*0x1a2d+-0x688+-0x13a2)+(0x1c3e+-0xe6f+-0x371*0x4)]=_0x329b33,this['width']=Math['max'](this['width'],_0x774335);let _0x39bf40;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x39bf40=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x1ce3+0x1ef5+-0x2*0x1dec+0.0001)),_0x39bf40=Y['clamp'](_0x39bf40,_0x281c21,_0x54a490),_0x39bf40!==this['_element']['fontSize'])){this['_fontSize']=_0x39bf40,_0x2c13bc=!(-0x81*-0x1b+-0x1*0x2593+0x5fe*0x4);break;}if(this['height']=Math['max'](this['height'],_0x4020c1-(_0x501d5e+_0x3a0f9a)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x39bf40=Y['clamp'](this['_fontSize']-(-0x1525+-0x577*-0x4+-0xb6),_0x281c21,_0x54a490),_0x39bf40!==this['_element']['fontSize'])){this['_fontSize']=_0x39bf40,_0x2c13bc=!(-0x24c9+-0x13da+0x38a3);break;}_0x32b85b+=this['_spacing']*_0x9df006,_0x53882c||(_0x49c22e=_0x32b85b),(this['_isWordBou'+'ndary'](_0x52ae80)||this['_isValidNe'+'xtChar'](_0x6e4ec6)&&(this['_isNextCJK'+'Boundary'](_0x52ae80,_0x6e4ec6)||this['_isNextCJK'+'WholeWord'](_0x6e4ec6)))&&(_0xb18fc2++,_0x4d5edb=_0x49c22e,_0x27739b=_0x28b0f5+(-0x1e53+-0x3d*0x5f+-0x413*-0xd)),_0xe53a54++;const _0x4b7d42=this['_getUv'](_0x52ae80);if(_0x3419ea['uvs'][_0x3985f8*(0x3*0x78d+-0x12ac+-0x3f7)*(-0x1*-0x287+0xd5b*0x2+0x7*-0x42d)+(0x3*0x30b+-0xb09+0x4*0x7a)]=_0x4b7d42[0x101d+0x5e7+-0x1604],_0x3419ea['uvs'][_0x3985f8*(-0x62c+0x1f*0xcd+-0x12a3)*(-0x20a3+-0x1*-0x112b+0x236*0x7)+(0x74c*-0x1+-0xad0+-0x1*-0x121d)]=0x1373*-0x1+-0x14d7+0x284b-_0x4b7d42[0x1b35+-0xb06*0x1+-0x102e],_0x3419ea['uvs'][_0x3985f8*(-0xb*0x11d+-0x2*-0xe8+-0x217*-0x5)*(-0x2*0xa2f+-0x7a4+0x701*0x4)+(0x61f*0x4+-0x1ab9+-0x19*-0x17)]=_0x4b7d42[0x29*0x16+0x3b8+-0x73c],_0x3419ea['uvs'][_0x3985f8*(0x8*-0x411+0x61*-0x2b+-0x1*-0x30d7)*(0x174+-0x39d*-0x1+0x5*-0x103)+(-0x1*-0x26c2+0x1f9d+-0x4f*0xe4)]=0x1cda+-0x1*0x2f9+0xcf*-0x20-_0x4b7d42[-0x2497+-0x2259+-0x575*-0xd],_0x3419ea['uvs'][_0x3985f8*(-0xf*-0x16d+-0x1269+-0x2f6)*(0x10f*0x22+-0x9fa*0x1+-0x1a02)+(0x1cde+-0x2687+0x9ad)]=_0x4b7d42[0x737*-0x1+-0x2*0x113c+0x29b1],_0x3419ea['uvs'][_0x3985f8*(0xbd+0x1d1c+-0x1dd5*0x1)*(-0x16*-0xfb+-0x1*0x58f+-0x1001)+(-0xfd1+-0x2b+-0x1001*-0x1)]=0x10*0xa9+-0x1ae3+0x1054-_0x4b7d42[0x107b+-0x3d*-0x5f+-0x271b],_0x3419ea['uvs'][_0x3985f8*(-0xc6d*0x1+0x7*0x45a+-0x1205)*(-0x1cc6+-0x3ee*-0x4+-0xb*-0x130)+(-0xf48+0x23b5+-0x1467)]=_0x4b7d42[0x20e+-0x426+0x218],_0x3419ea['uvs'][_0x3985f8*(0x46f*0x7+-0x2511+0x60c)*(-0x1d87*-0x1+-0x235b+0x5d6)+(-0x1850+-0x3*0x59c+0x292b)]=-0x1a80+-0x8b7*-0x1+0x11ca-_0x4b7d42[-0x36e+-0x264c+0x29bd],this['_symbolCol'+'ors']){const _0x1a078c=this['_symbolCol'+'ors'][_0x28b0f5]*(0x17*-0x64+-0x251*-0x1+0x6ae);_0xb84bfd=this['_colorPale'+'tte'][_0x1a078c],_0x1dd5e0=this['_colorPale'+'tte'][_0x1a078c+(-0x181a+0x10d5+0x62*0x13)],_0x6c41e8=this['_colorPale'+'tte'][_0x1a078c+(-0x26e*0xd+0x91*0x2b+0x11*0x6d)];}if(_0x3419ea['colors'][_0x3985f8*(0x65*0x43+-0xaa9*-0x2+-0x457*0xb)*(0x1036+0x1499*0x1+-0x24cb)+(-0xd0+-0x2*0x3df+0x88e)]=_0xb84bfd,_0x3419ea['colors'][_0x3985f8*(-0x2168+0x2450+-0x2e4)*(0x2ef*0x1+0x300+-0x3*0x1f9)+(-0x1667*0x1+0x204f+-0x9e7)]=_0x1dd5e0,_0x3419ea['colors'][_0x3985f8*(-0x423+0x2414+-0xb*0x2e7)*(-0x1645*-0x1+0x3b9*0x1+0x19fa*-0x1)+(0x9b*-0x14+0x17bc+-0xb9e*0x1)]=_0x6c41e8,_0x3419ea['colors'][_0x3985f8*(-0x6f*0x36+-0x128*0xb+-0x1213*-0x2)*(-0x5fc*-0x4+0x3a6*-0x2+-0x26*0x70)+(-0xa1a+0x1f47+-0x152a)]=0x1d03+-0xb32+-0x1*0x10d2,_0x3419ea['colors'][_0x3985f8*(0xbb9+-0x1f5b+0x13a6)*(0x9*0x329+-0x236f+0x702)+(0x23e7+-0x65*-0x2f+-0x1b37*0x2)]=_0xb84bfd,_0x3419ea['colors'][_0x3985f8*(-0x63*0x2b+0x50f+0xb96)*(-0x2590+-0x1ce9+0x1*0x427d)+(0x1*-0x9+0x30*-0x31+0x93e)]=_0x1dd5e0,_0x3419ea['colors'][_0x3985f8*(-0x23dd*0x1+-0x1c93+0x4074)*(-0x1*0xc1d+-0x1c8+0xde9)+(-0x2166+-0x173c+0x38a8)]=_0x6c41e8,_0x3419ea['colors'][_0x3985f8*(0xfe0+-0x82*-0x32+-0x2940)*(-0xe74+-0x2491+0x3309)+(0x1031*-0x2+-0x1049+0x30b2)]=-0x11ce+-0x12be+0x258b,_0x3419ea['colors'][_0x3985f8*(-0xd3+0xdab+-0xcd4*0x1)*(0x2233+0x170e+-0x393d)+(0x2484+-0x241d+0x5*-0x13)]=_0xb84bfd,_0x3419ea['colors'][_0x3985f8*(0x1512+0x1d*-0x97+0x3f3*-0x1)*(-0x5e7*-0x1+-0x9fb*0x1+-0x2*-0x20c)+(0x1*0x1f4c+-0xe56+-0x10ed)]=_0x1dd5e0,_0x3419ea['colors'][_0x3985f8*(-0x1*-0x10c1+0x1f45+-0x4cd*0xa)*(0xd*-0x2+-0x1*-0x1a51+0x13*-0x161)+(0x1*0x883+0x1a*0x174+-0x2e41*0x1)]=_0x6c41e8,_0x3419ea['colors'][_0x3985f8*(0x1331+0xf*-0x17+-0x1*0x11d4)*(-0x6b2*-0x4+0x9*0x37b+-0x3a17)+(0x13c2+0x1*0x417+-0x16*0x115)]=0x2*0xb1b+-0x1a*0xeb+0x2a7,_0x3419ea['colors'][_0x3985f8*(0x5*-0x5dd+-0x81*-0x39+0x9c)*(-0x2*0x37d+0x1ad7*-0x1+0x21d5)+(-0x1a91+0xe5b+0xc42)]=_0xb84bfd,_0x3419ea['colors'][_0x3985f8*(0x81e+0x47b+-0xc95)*(0x57*-0x2d+0x1*-0x251e+0x346d)+(-0x2207+0x59*0x65+-0x109)]=_0x1dd5e0,_0x3419ea['colors'][_0x3985f8*(0x15ca+-0xa07+0x61*-0x1f)*(-0x69b*-0x2+-0x1*0x174d+0xa1b)+(-0x1ad0+-0x2011+-0x8d*-0x6b)]=_0x6c41e8,_0x3419ea['colors'][_0x3985f8*(-0x11ef+-0x1237*0x2+-0x1*-0x3661)*(-0xfe*0x10+-0xe+0x1*0xff2)+(0x19bd+-0x130a+-0x6a4)]=0x1b6*0xb+-0x7*0x34f+0x556,this['_symbolOut'+'lineParams']){const _0x2119c4=this['_symbolOut'+'lineParams'][_0x28b0f5]*(-0x1f23*-0x1+0x1*-0x18d7+-0x647);_0x520cde=this['_outlinePa'+'lette'][_0x2119c4]+this['_outlinePa'+'lette'][_0x2119c4+(0x1a*0xe5+0x7be*-0x1+0x1*-0xf83)]*(0x1707+0x29b*0xd+-0x37e6),_0x3f8e6c=this['_outlinePa'+'lette'][_0x2119c4+(0xc7c+-0x3*0x47b+0xf7*0x1)]+this['_outlinePa'+'lette'][_0x2119c4+(0x437*0x7+-0x1181*-0x1+-0x2eff)]*(-0x13f*0xf+0x1543+0x6*-0x43),_0x4ef92a=this['_outlinePa'+'lette'][_0x2119c4+(0x2*0x6b5+0x1a3a+-0x27a0)];}if(_0x3419ea['outlines'][_0x3985f8*(-0x13c9+0xb7*-0x9+0x1a3c)*(-0x12d*-0x12+-0x552+0xfd5*-0x1)+(0x6c5+0x1*-0x9eb+0xd*0x3e)]=_0x520cde,_0x3419ea['outlines'][_0x3985f8*(0x3d*-0x1d+-0x168*0x3+-0xb25*-0x1)*(-0x11*0x1df+-0x1728+0x36fa)+(0xf4f+0x3*-0x95c+0x2*0x663)]=_0x3f8e6c,_0x3419ea['outlines'][_0x3985f8*(-0x3*-0x6af+0x2a5+-0x16ae)*(0x34c+-0x14fe+0x11b5*0x1)+(0x157d+0x1e6d+0x4b8*-0xb)]=_0x4ef92a,_0x3419ea['outlines'][_0x3985f8*(0x53*-0x2e+0x1057+-0x169)*(0x3fd*-0x1+0x2e*-0xad+-0x3*-0xbb2)+(0x1e9a+-0x18f1+-0x5a6)]=_0x520cde,_0x3419ea['outlines'][_0x3985f8*(-0x2*0x626+0x652+0x5fe)*(-0x70a*0x2+0x838+0x5df)+(-0x1*0xaa9+-0xe36+0x18e3)]=_0x3f8e6c,_0x3419ea['outlines'][_0x3985f8*(-0x1f42+-0x40f+-0x2d*-0xc9)*(0x4*0x351+-0x557*-0x6+-0x90f*0x5)+(0x11a5*0x2+0xcb7+-0x4*0xbff)]=_0x4ef92a,_0x3419ea['outlines'][_0x3985f8*(0x19*-0xad+-0xc*-0x20e+-0x7bf)*(0x16*0x5d+0x3b*0xf+-0xb70)+(-0x202d*0x1+-0x1a87+-0x2*-0x1d5d)]=_0x520cde,_0x3419ea['outlines'][_0x3985f8*(-0xa11+0x7*0x67+0x744)*(-0x835+-0x1d78+0x25b0)+(-0x1703+0x45a*0x1+0x12b0)]=_0x3f8e6c,_0x3419ea['outlines'][_0x3985f8*(-0x4*0x8a5+0x8f8+0x5*0x520)*(-0x3cb*0x8+0x2*0x1045+0x1*-0x22f)+(-0x25*0x5e+-0xb*0xb+0x1*0xe17)]=_0x4ef92a,_0x3419ea['outlines'][_0x3985f8*(-0x2e*-0x65+-0x2691+0x146f)*(0xb88+-0x3*0xc4d+0x1962)+(-0x53*0x13+-0x5*-0x431+0x1*-0xec3)]=_0x520cde,_0x3419ea['outlines'][_0x3985f8*(-0x27*-0xdf+0x2d1+-0x24c6)*(0xf89+0x1c97*-0x1+0xd11)+(-0x716*0x1+-0x23cf+-0x1*-0x2aef)]=_0x3f8e6c,_0x3419ea['outlines'][_0x3985f8*(0x2fc+0x1cc7*-0x1+0x19cf*0x1)*(0x1*0xbbd+0x4*0xb1+0x35*-0x46)+(-0xb*0x2af+-0x1dbe+-0x2*-0x1da7)]=_0x4ef92a,this['_symbolSha'+'dowParams']){const _0x52229b=this['_symbolSha'+'dowParams'][_0x28b0f5]*(0x3*0x15b+0xe76+-0x1281);_0x2dfc56=this['_shadowPal'+'ette'][_0x52229b]+this['_shadowPal'+'ette'][_0x52229b+(0x58f*0x3+0x209*0x8+-0x20f4)]*(0x1e43+-0x21e2+0xa9*0x7),_0x221307=this['_shadowPal'+'ette'][_0x52229b+(0xe1a+-0x66e+-0x7aa)]+this['_shadowPal'+'ette'][_0x52229b+(-0xc12+-0x298+-0x11*-0xdd)]*(0x17*0x1a6+-0x1*-0x2119+-0x4603*0x1),_0xff4d5d=this['_shadowPal'+'ette'][_0x52229b+(0x12aa+0x1ac*-0x3+0xa*-0x15d)]+(0x21ed+-0xbd0+-0x159e)+Math['round'](_0x4347c4*this['_shadowPal'+'ette'][_0x52229b+(-0x71f*0x5+-0x10f+0x24af)]+(-0xfd3+-0x61f*0x1+0x1671*0x1))*(0xf6*0xd+-0x1*-0x1826+-0x23a4*0x1);}_0x3419ea['shadows'][_0x3985f8*(0x2642+0x2113+0x1*-0x4751)*(-0x2*0xa3+0x109c+0x1*-0xf53)+(0x6f5+-0xab3*-0x2+-0x1c5b)]=_0x2dfc56,_0x3419ea['shadows'][_0x3985f8*(-0x90a+0x1055+0x45*-0x1b)*(0x933*-0x2+-0x2*0xb+0x1*0x127f)+(0x22ec+-0x220e+0xdd*-0x1)]=_0x221307,_0x3419ea['shadows'][_0x3985f8*(-0x1*-0x977+-0x21*0xc9+0x1076)*(0x2*0x778+-0x225b+0x136e)+(0x261e+-0x1386+0x632*-0x3)]=_0xff4d5d,_0x3419ea['shadows'][_0x3985f8*(0x1*-0x2a1+-0x16e4+-0x3*-0x883)*(0x4*0x288+-0x6*0x4a4+0x11bb)+(-0x1dc1+0x3b*-0x14+-0x160*-0x19)]=_0x2dfc56,_0x3419ea['shadows'][_0x3985f8*(-0x26ad*0x1+-0x12b5*0x1+0x1*0x3966)*(0xcdb*0x1+-0x2e0*-0xb+0x163c*-0x2)+(0x2700+0x117e+0x2*-0x1c3d)]=_0x221307,_0x3419ea['shadows'][_0x3985f8*(-0x421*-0x7+0xf73+-0x2c56)*(0x28f*-0xa+0x1036*-0x1+0x29cf)+(-0x2348+-0xdf7*-0x1+0x1556)]=_0xff4d5d,_0x3419ea['shadows'][_0x3985f8*(0x29c*0x8+-0x2246+0x11*0xca)*(0x7e*0x15+0x879+-0x2*0x966)+(-0x17f4+0x797*-0x2+-0x9ca*-0x4)]=_0x2dfc56,_0x3419ea['shadows'][_0x3985f8*(0x1f4b+-0xc0d+0x6b*-0x2e)*(-0x16cf+0x65b*0x3+0x3c1)+(-0x2245+0x1028+-0x24*-0x81)]=_0x221307,_0x3419ea['shadows'][_0x3985f8*(0x1fb0+-0x243+-0x1d69)*(-0x12fd+-0x1d9a+0x309a)+(-0x1*0x903+-0xbda+0x14e5)]=_0xff4d5d,_0x3419ea['shadows'][_0x3985f8*(-0x12d1+-0xbac+0x1*0x1e81)*(-0x154c+-0x2*0x248+0x25*0xb3)+(-0x2565+0x6*0x5f4+-0x49*-0x6)]=_0x2dfc56,_0x3419ea['shadows'][_0x3985f8*(0x26b+-0x27*-0x81+0x160e*-0x1)*(-0x1a80+0x179e+-0x2e5*-0x1)+(0x193d+-0x1722+-0x17*0x17)]=_0x221307,_0x3419ea['shadows'][_0x3985f8*(0xb50+0x2*-0x14c+-0x22d*0x4)*(-0x25bb+0x47*0x59+0xd0f)+(-0x1*-0x8b+-0x1b45+0x1ac5)]=_0xff4d5d,_0x3419ea['quad']++;}_0x2c13bc||_0x48be4c<_0xe997a4&&_0x4380e1(this['_symbols'],_0xe997a4,_0x32b85b);}this['_noResize']=!(0x1cd2+-0x13f5+-0x8dd),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0xfdd*0x1+-0x5*0x778+0x157c);const _0x3a04df=this['_element']['pivot']['x'],_0x5ab7ca=this['_element']['pivot']['y'],_0x51d602=this['_alignment']['x'],_0x5c4f36=this['_alignment']['y'];for(let _0x4454cb=-0xbe2+-0x8b3*-0x1+-0x32f*-0x1;_0x4454cb<this['_meshInfo']['length'];_0x4454cb++){if(this['_meshInfo'][_0x4454cb]['count']===0x5e+0x1d27+-0x1d85)continue;let _0x1c05e2=0xc4d*-0x2+-0x17ac+0x3046;for(const _0x3b2921 in this['_meshInfo'][_0x4454cb]['lines']){const _0x8c3c19=this['_meshInfo'][_0x4454cb]['lines'][_0x3b2921],_0x19a966=this['_lineWidth'+'s'][parseInt(_0x3b2921,0x26*0x7f+-0xf2*0x8+0x3c0*-0x3)],_0x5c61d7=-_0x3a04df*this['_element']['calculated'+'Width']+_0x51d602*(this['_element']['calculated'+'Width']-_0x19a966)*(this['_rtl']?-(0x1293+0x206b+-0x32fd):-0x37f*0xa+0x7da+0x1b1d),_0x3f2c73=(0x62b+0x258f+-0x2bb9-_0x5ab7ca)*this['_element']['calculated'+'Height']-_0x4020c1-(0x2b*-0xa3+0x1*0x1f7b+-0x419-_0x5c4f36)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x30d218=_0x1c05e2;_0x30d218<=_0x8c3c19;_0x30d218++)this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(0x1d1c+-0x1af*-0x2+-0x2076)*(0x6bb*-0x1+0x1c17+-0x1559)]+=_0x5c61d7,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(-0xcbc+-0x11df+0x1e9f)*(0x3a0*-0x1+0x2136+-0x1*0x1d93)+(-0x1*0x1471+0x708+0xd6c)]+=_0x5c61d7,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(0x2*0xaab+0x742*0x5+-0x399c)*(-0x1*-0x1557+-0x246f+0xf1b)+(-0x3b9+-0x1bb0+-0x1*-0x1f6f)]+=_0x5c61d7,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(-0x26e0+-0x99d+-0x3*-0x102b)*(0x23ea+-0x255f+0x178)+(0xb*-0x2bc+-0x3a*-0x43+0xeef)]+=_0x5c61d7,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(0x79a+0x1*-0x1fa5+-0x1*-0x180f)*(0xdc7*0x1+-0x970+0x1*-0x454)+(-0x1*0x2675+-0x167*0x9+0x3315)]+=_0x3f2c73,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(0x2*0x7cc+-0x1*0x205e+0x10ca)*(0x3ca+-0x25ab+0x9*0x3c4)+(0x16*-0x7a+-0x2372+0x16f9*0x2)]+=_0x3f2c73,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(0x6a3*0x1+-0x74*0x43+-0x3b*-0x67)*(0x1b30+-0xfb9+-0xb74)+(-0x1*0x134f+0x102b*0x1+-0x32b*-0x1)]+=_0x3f2c73,this['_meshInfo'][_0x4454cb]['positions'][_0x30d218*(-0x1271*-0x1+0xae2+-0x1d4f)*(0x1*-0x120d+0x2*-0x76+0x12fc)+(-0x855*0x2+-0xb2c+-0x10*-0x1be)]+=_0x3f2c73;if(this['_rtl'])for(let _0x573fed=_0x1c05e2;_0x573fed<=_0x8c3c19;_0x573fed++){const _0x3900a9=_0x573fed*(0xd1*0x19+-0x1*-0xba6+0x200b*-0x1)*(0x26a6+-0x1f*0x7b+0x6*-0x3f5);for(let _0x34d79b=-0xacb+-0x17ea+0x22b5;_0x34d79b<-0x4*0x4f6+-0x17*-0xe6+-0xce*0x1;++_0x34d79b)this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+_0x34d79b*(0x2*0x1bb+-0x13e5+-0x34a*-0x5)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+_0x34d79b*(0x1*0x1cf3+0x1*-0x1828+-0x4c8)]+_0x5c61d7*(-0x9d*0x1d+-0x1*-0x21db+-0x1010);const _0x172847=this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0x1357+-0x4eb+0x20f*-0x7)],_0x3c12c0=this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0x114d*0x1+0x21c0+-0x3307)];this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0x352+0x69*-0x21+-0xee*-0xb)]=this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(-0x18e6+-0xeed*0x2+0xc*0x490)],this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0x80e+0xf*0x1a3+-0x2095)]=this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0xabd+0x1a36+-0x24ea)],this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(-0x1*-0x1b53+0x17dc+-0x332f)]=_0x172847,this['_meshInfo'][_0x4454cb]['positions'][_0x3900a9+(0xd09+0x5eb+-0x12eb)]=_0x3c12c0;}_0x1c05e2=_0x8c3c19+(-0x216*0x11+-0x5*0x7c6+-0x1*-0x4a55);}const _0x3ee077=this['_meshInfo'][_0x4454cb]['count']*(0x4d5*0x3+-0xd3*-0x13+0x2*-0xf12),_0x514a11=this['_meshInfo'][_0x4454cb]['quad']*(-0x1c33*-0x1+0x2525+-0x4154),_0xcc986e=new Uo(this['_meshInfo'][_0x4454cb]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x4b2bbc=0x79*0x7+-0x481*-0x7+-0x22d6;_0x4b2bbc<_0x3ee077;_0x4b2bbc++)_0x4b2bbc>=_0x514a11?(_0xcc986e['element'][Me]['set'](0x196*0x10+-0x2*-0x24d+0xefd*-0x2,0x739+0xa68+-0x11a1*0x1,-0xcf7+-0x23c0+-0x30b7*-0x1),_0xcc986e['element'][is]['set'](-0x1680+0xa*0x22d+-0xa*-0x13,-0x1a38+0x1ece+-0x496),_0xcc986e['element'][Wt]['set'](0x14cf*-0x1+-0x1bb*-0x12+-0xa57*0x1,-0x1*0x225c+0x2067+0x1f5,0x20a2+0x1*-0xe25+0x1*-0x127d,0x16d8+-0x4fa+0x1*-0x11de),_0xcc986e['element'][Ko]['set'](-0x71*-0x4a+-0x1d79+-0x331,-0x1c65+0x2*-0xb45+0x32ef,0x2*0x1091+0x20d9*-0x1+-0x49*0x1,0x96f+-0x170+-0x7ff*0x1),_0xcc986e['element'][Zo]['set'](-0x8ec*-0x4+-0x1*0xf8c+0x2*-0xa12,0x1d3f+-0x41b*0x7+-0x82,0xfe7+-0x2*-0xaf4+-0x25cf,-0x25d7+-0xa4+-0x267b*-0x1)):(_0xcc986e['element'][Me]['set'](this['_meshInfo'][_0x4454cb]['positions'][_0x4b2bbc*(0x55f*-0x2+-0x5*0x10+0xb11)+(0x1+0x6a*-0x47+0x1d65)],this['_meshInfo'][_0x4454cb]['positions'][_0x4b2bbc*(-0x25fe+0xf*0x14d+0x93f*0x2)+(0x23bb+-0x89b*-0x2+0x2*-0x1a78)],this['_meshInfo'][_0x4454cb]['positions'][_0x4b2bbc*(-0x255c+-0x1e47*-0x1+0x718)+(0x1*0x1723+-0x12de+-0x443)]),_0xcc986e['element'][is]['set'](this['_meshInfo'][_0x4454cb]['uvs'][_0x4b2bbc*(0x1eb6+0x1*-0xc5+-0x1def)+(0x26*0xcb+-0x541*0x5+-0x3dd)],this['_meshInfo'][_0x4454cb]['uvs'][_0x4b2bbc*(-0x1f1a+0x2209+-0x6b*0x7)+(-0x20ea+0x2*-0xfcf+-0x1583*-0x3)]),_0xcc986e['element'][Wt]['set'](this['_meshInfo'][_0x4454cb]['colors'][_0x4b2bbc*(-0x69f*0x1+-0x53*-0x54+-0x1499)+(-0x3*-0x84a+-0x334+0x76*-0x2f)],this['_meshInfo'][_0x4454cb]['colors'][_0x4b2bbc*(0x1439+0x1d41*0x1+0x3ce*-0xd)+(-0xe61*-0x1+0xec+-0xb2*0x16)],this['_meshInfo'][_0x4454cb]['colors'][_0x4b2bbc*(0x3*0x6e1+-0xb5*0xe+-0xab9)+(-0x52*-0x70+0xf4*0xe+-0x3136)],this['_meshInfo'][_0x4454cb]['colors'][_0x4b2bbc*(0x15d*-0x1b+0x2c*-0x1d+-0x3cd*-0xb)+(0x10d*0x25+0x1d89*0x1+-0x4467)]),_0xcc986e['element'][Ko]['set'](this['_meshInfo'][_0x4454cb]['outlines'][_0x4b2bbc*(-0x10a6+-0xf2a+0x1*0x1fd3)+(0x1ec*-0x3+0x1*0x12ed+-0xd29)],this['_meshInfo'][_0x4454cb]['outlines'][_0x4b2bbc*(-0x1*-0x24a4+0x1f*0xfe+-0x1*0x4363)+(-0x16*0xad+-0x1bd3+0x2ab2)],this['_meshInfo'][_0x4454cb]['outlines'][_0x4b2bbc*(0x1eea+0x1e2f+0x1e8b*-0x2)+(-0x1*-0x25c1+-0x5c*-0xf+-0x1b*0x199)]),_0xcc986e['element'][Zo]['set'](this['_meshInfo'][_0x4454cb]['shadows'][_0x4b2bbc*(-0x16*0x106+-0x1871+0xc*0x3ea)+(0x5*0x1df+0x2*-0x4eb+0x1*0x7b)],this['_meshInfo'][_0x4454cb]['shadows'][_0x4b2bbc*(0x91*-0x3+0x1*0xd22+-0x22*0x56)+(0x7*-0x96+-0x1be6+0xaab*0x3)],this['_meshInfo'][_0x4454cb]['shadows'][_0x4b2bbc*(0x29*0x79+-0x1142+-0x21c)+(-0x977+0x2b3*-0x5+-0x7*-0x348)])),_0xcc986e['next']();_0xcc986e['end'](),this['_meshInfo'][_0x4454cb]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x4454cb]['positions']),this['_meshInfo'][_0x4454cb]['meshInstan'+'ce']['_aabbVer']=-(0x768+-0x8*0x25c+0x3d3*0x3);}this['_aabbDirty']=!(0x9d8+0xa2*-0x34+0x1710);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1e63c6){this['font']!==_0x1e63c6['resource']&&(this['font']=_0x1e63c6['resource']);}['_onFontCha'+'nge'](_0x5c8de9,_0x265b03,_0x1a59ac,_0x3d33b6){if(_0x265b03==='data'){this['_font']['data']=_0x1a59ac;const _0x1b47d6=this['_font']['data']['info']['maps']['length'];for(let _0x2e3f3f=-0x1d83+-0x162a+-0x33ad*-0x1;_0x2e3f3f<_0x1b47d6;_0x2e3f3f++){if(!this['_meshInfo'][_0x2e3f3f])continue;const _0x350d73=this['_meshInfo'][_0x2e3f3f]['meshInstan'+'ce'];_0x350d73&&(_0x350d73['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x350d73['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x350d73['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2e3f3f]['width']));}}}['_onFontRem'+'ove'](_0x48b2c4){}['_setTextur'+'eParams'](_0x5c9ae3,_0x19cf63){this['_font']&&(this['_font']['type']===Rh?(_0x5c9ae3['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5c9ae3['deletePara'+'meter']('texture_op'+'acityMap'),_0x5c9ae3['setParamet'+'er']('texture_ms'+'dfMap',_0x19cf63)):this['_font']['type']===dR&&(_0x5c9ae3['deletePara'+'meter']('texture_ms'+'dfMap'),_0x5c9ae3['setParamet'+'er']('texture_em'+'issiveMap',_0x19cf63),_0x5c9ae3['setParamet'+'er']('texture_op'+'acityMap',_0x19cf63)));}['_getPxRang'+'e'](_0x18abcb){const _0x5cf4c1=Object['keys'](this['_font']['data']['chars']);for(let _0x3249ee=-0x1ca4+0x1ff1+0x5*-0xa9;_0x3249ee<_0x5cf4c1['length'];_0x3249ee++){const _0x31124f=this['_font']['data']['chars'][_0x5cf4c1[_0x3249ee]];if(_0x31124f['range'])return(_0x31124f['scale']||-0x464+-0x2ab*0x9+0x1c68)*_0x31124f['range'];}return 0x28*-0xb3+0xe*-0x2b+-0x4*-0x795;}['_getUv'](_0x38c27c){const _0x2eec5d=this['_font']['data'];if(!_0x2eec5d['chars'][_0x38c27c])return _0x2eec5d['chars']['\x20']?this['_getUv']('\x20'):[0x12bb+-0x526+0xd95*-0x1,-0x21*0x95+0x65*-0x1c+0x1e41,0x1*0x1366+0x1a73+0x42b*-0xb,0x1054+-0x1*0xd09+0x3*-0x119];const _0x441090=_0x2eec5d['chars'][_0x38c27c]['map'],_0x2f1ace=_0x2eec5d['info']['maps'][_0x441090]['width'],_0x618052=_0x2eec5d['info']['maps'][_0x441090]['height'],_0x15473e=_0x2eec5d['chars'][_0x38c27c]['x'],_0x137ef8=_0x2eec5d['chars'][_0x38c27c]['y'],_0x105089=_0x15473e,_0x264292=_0x137ef8,_0x5aab8a=_0x15473e+_0x2eec5d['chars'][_0x38c27c]['width'],_0x3c2f65=_0x137ef8-_0x2eec5d['chars'][_0x38c27c]['height'],_0x126d09=0x1537+-0x691+0x17*-0xa3-_0x2eec5d['chars'][_0x38c27c]['height']/_0x618052;return[_0x105089/_0x2f1ace,_0x126d09-_0x264292/_0x618052,_0x5aab8a/_0x2f1ace,_0x126d09-_0x3c2f65/_0x618052];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x229b*-0x1+-0x1ded+0x4088),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x216+-0xdfa*-0x2+-0x1*0x19dd),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x4edd5e){if(this['_model']){const _0x1d3364=this['_model']['meshInstan'+'ces'];for(let _0x9285e3=0x13f8+0xf*0xdd+0x35*-0x9f;_0x9285e3<_0x1d3364['length'];_0x9285e3++)_0x1d3364[_0x9285e3]['stencilFro'+'nt']=_0x4edd5e,_0x1d3364[_0x9285e3]['stencilBac'+'k']=_0x4edd5e;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x24f966){const _0x1cc537={};_0x24f966===void(0xdfe+-0x21e8+0x13ea)&&(_0x24f966=this['_symbols']['length']);for(let _0x4969dd=-0x1d*0x1f+0x29d*-0xe+0x2819,_0x670f8c=_0x24f966;_0x4969dd<_0x670f8c;_0x4969dd++){const _0x335ed0=this['_symbols'][_0x4969dd];let _0x409ebe=this['_font']['data']['chars'][_0x335ed0];_0x409ebe||(_0x409ebe=this['_font']['data']['chars']['\x20'],_0x409ebe||(_0x409ebe=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x26d6+0x617+0x53*0x65]]));const _0x159c4c=_0x409ebe['map'];_0x1cc537[_0x159c4c]?_0x1cc537[_0x159c4c]++:_0x1cc537[_0x159c4c]=0x5fc+-0x231e+0x1d23*0x1;}return _0x1cc537;}['_updateRen'+'derRange'](){const _0x21bce3=this['_rangeStar'+'t']===-0x25*-0xc3+0x21e2+0x3e11*-0x1?-0x17a1+0xeab+0x8f6:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x34a043=this['_rangeEnd']===0x1271+0x1be2+-0x2e53?0x1933+-0x1e01+0x4ce:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x4ddd0e=-0x10c9+-0x1e04+0x2ecd,_0x1fe5c3=this['_meshInfo']['length'];_0x4ddd0e<_0x1fe5c3;_0x4ddd0e++){const _0x27941b=_0x21bce3[_0x4ddd0e]||0x6fe+0x19eb+-0x20e9*0x1,_0x6106ea=_0x34a043[_0x4ddd0e]||-0x83d+-0xeff*-0x2+0x15c1*-0x1,_0x2a12b9=this['_meshInfo'][_0x4ddd0e]['meshInstan'+'ce'];if(_0x2a12b9){const _0x20fabf=_0x2a12b9['mesh'];_0x20fabf&&(_0x20fabf['primitive'][0x2*-0xcd3+-0x2*0xfbb+0x391c]['base']=_0x27941b*(0x9*-0xaf+0x2221*-0x1+0x284b)*(-0x1*0x1c27+0x152c+0x6fd),_0x20fabf['primitive'][0x1*-0x7c6+-0x147*-0x17+-0x159b]['count']=(_0x6106ea-_0x27941b)*(-0x321*-0x4+0x2493+0xc45*-0x4)*(0x268e+0xa0+-0x272c));}}}set['text'](_0x57ef8f){this['_i18nKey']=null;const _0x10f611=_0x57ef8f!=null&&_0x57ef8f['toString']()||'';this['_setText'](_0x10f611);}get['text'](){return this['_text'];}set['key'](_0x5ead30){const _0x12051a=_0x5ead30!==null?_0x5ead30['toString']():null;this['_i18nKey']!==_0x12051a&&(this['_i18nKey']=_0x12051a,_0x12051a?(this['_fontAsset']['disableLoc'+'alization']=!(-0x2060+-0x1643+0x1*0x36a4),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x153b+-0x1*0x1daf+0x32ea));}get['key'](){return this['_i18nKey'];}set['color'](_0x45e1da){const _0x12432a=_0x45e1da['r'],_0x59be03=_0x45e1da['g'],_0x347d67=_0x45e1da['b'];if(this['_color']===_0x45e1da&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x12432a&&this['_color']['g']===_0x59be03&&this['_color']['b']===_0x347d67)&&(this['_color']['r']=_0x12432a,this['_color']['g']=_0x59be03,this['_color']['b']=_0x347d67,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x1*0x623+0xdd+-0x20*0x38]=We['r'],this['_colorUnif'+'orm'][-0x1c01+-0x49*0x7+-0x1e01*-0x1]=We['g'],this['_colorUnif'+'orm'][0x1*-0x1747+-0x11c+0x1865]=We['b'];for(let _0x2650bb=-0x2*0x98+0x18f7*-0x1+0xd*0x203,_0xedd08c=this['_model']['meshInstan'+'ces']['length'];_0x2650bb<_0xedd08c;_0x2650bb++)this['_model']['meshInstan'+'ces'][_0x2650bb]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x3a00b5){if(this['_color']['a']!==_0x3a00b5&&(this['_color']['a']=_0x3a00b5,this['_model'])){for(let _0x50785a=0x2e5+0x9ce+-0x1*0xcb3,_0x219ec9=this['_model']['meshInstan'+'ces']['length'];_0x50785a<_0x219ec9;_0x50785a++)this['_model']['meshInstan'+'ces'][_0x50785a]['setParamet'+'er']('material_o'+'pacity',_0x3a00b5);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3a00b5);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x257a49){const _0x90cb0c=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x257a49,this['_scaledLin'+'eHeight']=_0x257a49,_0x90cb0c!==_0x257a49&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x517978){const _0x29d837=this['_wrapLines'];this['_wrapLines']=_0x517978,_0x29d837!==_0x517978&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x5a1d89){const _0xb22e8e=this['_spacing'];this['_spacing']=_0x5a1d89,_0xb22e8e!==_0x5a1d89&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x30df39){const _0x214158=this['_fontSize'];this['_fontSize']=_0x30df39,this['_originalF'+'ontSize']=_0x30df39,_0x214158!==_0x30df39&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x49532b){this['_fontAsset']['defaultAss'+'et']=_0x49532b;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x42977a){let _0x34db29;if(this['_font']&&(_0x34db29=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x42977a,this['_fontMinY']=-0x2061+-0x1bf*-0xf+0x630,this['_fontMaxY']=-0x26b3+-0xb1e+0x31d1,!_0x42977a)return;const _0x31a336=this['_font']['data'];for(const _0x40aa06 in _0x31a336['chars']){const _0x3ff571=_0x31a336['chars'][_0x40aa06];_0x3ff571['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x3ff571['bounds'][-0x1bb4+-0x14b*0x16+-0x5*-0xb3b]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x3ff571['bounds'][0x5ea+0x18aa+-0x19*0x139]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x42977a['type']!==_0x34db29){const _0x54fc2a=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x54fc2a);}for(let _0x150bb1=-0x4f2+-0x1*-0x1f0e+-0x1a1c,_0x94787c=this['_font']['textures']['length'];_0x150bb1<_0x94787c;_0x150bb1++)if(!this['_meshInfo'][_0x150bb1])this['_meshInfo'][_0x150bb1]=new vR();else{const _0x246855=this['_meshInfo'][_0x150bb1]['meshInstan'+'ce'];_0x246855&&(_0x246855['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x246855['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x246855['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x150bb1]['width']),this['_setTextur'+'eParams'](_0x246855,this['_font']['textures'][_0x150bb1]));}let _0x19e787=!(0x208+-0x3e*-0xa+0x473*-0x1);for(let _0x24ae41=this['_font']['textures']['length'];_0x24ae41<this['_meshInfo']['length'];_0x24ae41++)this['_meshInfo'][_0x24ae41]['meshInstan'+'ce']&&(_0x19e787||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x19e787=!(0x94f*-0x1+-0x7*0xd3+0x3c5*0x4)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x24ae41]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x4f5f48){_0x4f5f48 instanceof J?this['_alignment']['set'](_0x4f5f48['x'],_0x4f5f48['y']):this['_alignment']['set'](_0x4f5f48[-0x1238+0x29f+0x1*0xf99],_0x4f5f48[0x1b5d+0x1aba+0x17*-0x25a]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x5505ad){const _0x3c7784=this['_autoWidth'];if(this['_autoWidth']=_0x5505ad,_0x5505ad&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x4f4+-0x1046+0xb52+0.0001&&(this['_element']['width']=this['width']),_0x3c7784!==_0x5505ad){const _0x21bdb0=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x21bdb0!==this['_fontSize']&&(this['_fontSize']=_0x21bdb0,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x1b1f06){const _0x1fb434=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x1b1f06,_0x1b1f06&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1667+0x13fb+-0x43d*0xa+0.0001&&(this['_element']['height']=this['height']),_0x1fb434!==_0x1b1f06){const _0x10d65f=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x10d65f!==this['_fontSize']&&(this['_fontSize']=_0x10d65f,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x505847){this['_rtlReorde'+'r']!==_0x505847&&(this['_rtlReorde'+'r']=_0x505847,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x5c251e){this['_unicodeCo'+'nverter']!==_0x5c251e&&(this['_unicodeCo'+'nverter']=_0x5c251e,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x1cbca8=!(0x1423+0x62f+-0x1a51);for(let _0x1095ba=0x1465+0x2*-0xc+-0x1*0x144d;_0x1095ba<this['_meshInfo']['length'];_0x1095ba++)this['_meshInfo'][_0x1095ba]['meshInstan'+'ce']&&(_0x1cbca8?this['_aabb']['add'](this['_meshInfo'][_0x1095ba]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x1095ba]['meshInstan'+'ce']['aabb']),_0x1cbca8=!(0x1*-0x1bf+0x7c6+-0x607)));this['_aabbDirty']=!(-0x2*-0x509+0x1dfc+0x280d*-0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0xbe36a6){const _0x43c2fe=_0xbe36a6 instanceof ie?_0xbe36a6['r']:_0xbe36a6[0x203e+0x1527+-0x3565],_0x53151a=_0xbe36a6 instanceof ie?_0xbe36a6['g']:_0xbe36a6[-0x2480+-0xccc+0x314d],_0x30fe91=_0xbe36a6 instanceof ie?_0xbe36a6['b']:_0xbe36a6[0x3*-0x1dc+0x6cc+0x2*-0x9b],_0x140e97=_0xbe36a6 instanceof ie?_0xbe36a6['a']:_0xbe36a6[-0x4dc+-0x2*0x132a+0x2b33];if(this['_outlineCo'+'lor']===_0xbe36a6&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x43c2fe&&this['_outlineCo'+'lor']['g']===_0x53151a&&this['_outlineCo'+'lor']['b']===_0x30fe91&&this['_outlineCo'+'lor']['a']===_0x140e97)&&(this['_outlineCo'+'lor']['r']=_0x43c2fe,this['_outlineCo'+'lor']['g']=_0x53151a,this['_outlineCo'+'lor']['b']=_0x30fe91,this['_outlineCo'+'lor']['a']=_0x140e97,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x114e*0x1+-0x7ec+0x1*0x193a]=We['r'],this['_outlineCo'+'lorUniform'][-0x383+-0x1*-0x868+0x2*-0x272]=We['g'],this['_outlineCo'+'lorUniform'][-0xf36+0x46f*-0x7+0x2e41]=We['b'],this['_outlineCo'+'lorUniform'][0x22a+0x109b+-0xe*0x157]=We['a'];for(let _0x512617=-0x24*0xd7+0x103a+0xe02,_0xb5def7=this['_model']['meshInstan'+'ces']['length'];_0x512617<_0xb5def7;_0x512617++)this['_model']['meshInstan'+'ces'][_0x512617]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x51871b){const _0x44ae5c=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x51871b,_0x44ae5c!==_0x51871b&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x495523=-0x7fc*-0x4+-0x1fae+0x6*-0xb,_0x4cf375=this['_model']['meshInstan'+'ces']['length'];_0x495523<_0x4cf375;_0x495523++)this['_model']['meshInstan'+'ces'][_0x495523]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x581533){const _0x4d01bc=_0x581533 instanceof ie?_0x581533['r']:_0x581533[-0x9f+0x136d*0x1+-0x12ce],_0x116c53=_0x581533 instanceof ie?_0x581533['g']:_0x581533[-0x1905+-0x7fe+0x2104*0x1],_0x2b892d=_0x581533 instanceof ie?_0x581533['b']:_0x581533[0x254+-0x17b+-0xd7*0x1],_0x557e9c=_0x581533 instanceof ie?_0x581533['a']:_0x581533[-0x1428+-0x18c3+0x2cee];if(this['_shadowCol'+'or']===_0x581533&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x4d01bc&&this['_shadowCol'+'or']['g']===_0x116c53&&this['_shadowCol'+'or']['b']===_0x2b892d&&this['_shadowCol'+'or']['a']===_0x557e9c)&&(this['_shadowCol'+'or']['r']=_0x4d01bc,this['_shadowCol'+'or']['g']=_0x116c53,this['_shadowCol'+'or']['b']=_0x2b892d,this['_shadowCol'+'or']['a']=_0x557e9c,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x2*-0x7c1+-0x142d+-0x69*-0x57]=We['r'],this['_shadowCol'+'orUniform'][0x254a+-0x2089+-0x4c0]=We['g'],this['_shadowCol'+'orUniform'][-0x19da+-0x645+0x5*0x66d]=We['b'],this['_shadowCol'+'orUniform'][0x27f*0x4+-0x1*0xf37+0x1*0x53e]=We['a'];for(let _0x3024dd=-0x875*-0x2+-0x3*-0x3e4+0x2*-0xe4b,_0x5f9b93=this['_model']['meshInstan'+'ces']['length'];_0x3024dd<_0x5f9b93;_0x3024dd++)this['_model']['meshInstan'+'ces'][_0x3024dd]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x2b9425){const _0x234ade=_0x2b9425 instanceof J?_0x2b9425['x']:_0x2b9425[-0x379*0x7+0x180+-0x1*-0x16cf],_0x273d4c=_0x2b9425 instanceof J?_0x2b9425['y']:_0x2b9425[0xcab+0xa*0x274+-0x2532];if(!(this['_shadowOff'+'set']['x']===_0x234ade&&this['_shadowOff'+'set']['y']===_0x273d4c)&&(this['_shadowOff'+'set']['set'](_0x234ade,_0x273d4c),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x8d40a4=0x1*-0x55d+-0xe67+-0x2e*-0x6e,_0xdac6ec=this['_model']['meshInstan'+'ces']['length'];_0x8d40a4<_0xdac6ec;_0x8d40a4++){const _0x9e5b5b=-this['_font']['data']['info']['maps'][_0x8d40a4]['width']/this['_font']['data']['info']['maps'][_0x8d40a4]['height'];this['_shadowOff'+'setUniform'][0x15e1+0x254*0x1+-0x1835]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x31d+0x817*0x3+0x2b*-0xa3]=_0x9e5b5b*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x8d40a4]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x6cee5f){this['_minFontSi'+'ze']!==_0x6cee5f&&(this['_minFontSi'+'ze']=_0x6cee5f,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0xe8524e){this['_maxFontSi'+'ze']!==_0xe8524e&&(this['_maxFontSi'+'ze']=_0xe8524e,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x50fc1e){this['_autoFitWi'+'dth']!==_0x50fc1e&&(this['_autoFitWi'+'dth']=_0x50fc1e,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3a999a){this['_autoFitHe'+'ight']!==_0x3a999a&&(this['_autoFitHe'+'ight']=_0x3a999a,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x385b49){this['_maxLines']!==_0x385b49&&(_0x385b49===null&&this['_maxLines']===-(-0x1149*-0x2+0x11af+-0x20*0x1a2)||(this['_maxLines']=_0x385b49===null?-(0x90d*0x4+-0x1a08+-0xa2b*0x1):_0x385b49,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x3c4e46){if(_0x3c4e46=!!_0x3c4e46,this['_enableMar'+'kup']===_0x3c4e46)return;this['_enableMar'+'kup']=_0x3c4e46,this['font']&&this['_updateTex'+'t']();const _0x3d54d7=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3d54d7);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0xfb426e){return this['_colorPale'+'tte']['slice'](_0xfb426e*(-0x1ec7*0x1+-0x1c5*-0x1+-0x13*-0x187),_0xfb426e*(0x5b*-0x65+-0x1a77*-0x1+0x973)+(0x1*-0x742+0x5c*0x3b+0x3*-0x4a5));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x15d9b5){return this['_outlinePa'+'lette']['slice'](_0x15d9b5*(0x1aff*-0x1+-0x18bb+0x33bf),_0x15d9b5*(-0x55d+-0x9e*-0x29+-0x13ec)+(0x14*-0x23+-0x1*0x20+-0x1*-0x2e1));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x10eadb){return this['_shadowPal'+'ette']['slice'](_0x10eadb*(-0xd*-0x2bb+0x23c7+-0x4740),_0x10eadb*(-0x181a+-0x1c59+-0x85*-0x65)+(-0x5*0x1af+-0x1*-0x135b+0x575*-0x2));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x1f6ac9){_0x1f6ac9=Math['max'](-0x1f69+-0xb6d+0x2ad6,Math['min'](_0x1f6ac9,this['_symbols']['length'])),_0x1f6ac9!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x1f6ac9,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x29ed13){_0x29ed13=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x29ed13,this['_symbols']['length'])),_0x29ed13!==this['_rangeEnd']&&(this['_rangeEnd']=_0x29ed13,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x304428,_0x105750){super(_0x304428,_0x105750),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x16c8+0xda3*-0x2+0x47f),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x8be*-0x3+-0xad2+-0x34*-0xb7,this['_height']=this['_calculate'+'dHeight']=0x1f30+-0x2cc+-0x1c44,this['_margin']=new re(0x1dda+-0xc68+-0x1172,-0x1e1+-0x12aa+0x6d9*0x3,-(0x1395+0x18db+0x8*-0x58a),-(0x3de+0x1d3*-0x11+0x1b45)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x2*-0xf6a+0x1*0x6bb+0x1819*0x1),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x1d1f+-0x1d47+0x3a66),this['_canvasCor'+'nersDirty']=!(-0x2490+-0x1dd5+0x4265),this['_worldCorn'+'ersDirty']=!(-0x1cb2+-0x1*0x2249+-0x3efb*-0x1),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x2c*-0xe3+0x972+0xec9*0x2,this['_fitMode']=th,this['_useInput']=!(0x17da*0x1+-0x2d4+0x1505*-0x1),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x1e19*0x1+-0x938+0x10*-0x14e),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0xb3a+0x1085*-0x1+0x1*0x1bbf,this['_maskOffse'+'t']=-0x22db+0x1bbf+0x71c+0.5,this['_maskedBy']=null);}get['data'](){const _0x1f9de8=this['system']['store'][this['entity']['getGuid']()];return _0x1f9de8?_0x1f9de8['data']:null;}set['enabled'](_0x1e9a36){const _0x14d2fe=this['data'],_0xab3303=_0x14d2fe['enabled'];_0x14d2fe['enabled']=_0x1e9a36,this['fire']('set','enabled',_0xab3303,_0x1e9a36);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0xaa+0x1ee0*0x1+-0xa12*0x3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x9c5*0x2+-0xb6b+-0x81f+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0xe6a459){_0xe6a459 instanceof re?this['_anchor']['copy'](_0xe6a459):this['_anchor']['set'](..._0xe6a459),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x258d*0x1+-0x253e+0x4acb),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x4115a8){var _0x86ded6,_0xc1973d;this['_batchGrou'+'pId']!==_0x4115a8&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x7cd+0xcb9*-0x2+0x11a5&&((_0x86ded6=this['system']['app']['batcher'])==null||_0x86ded6['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4115a8>=0xedd+-0x1c0f+0x699*0x2&&((_0xc1973d=this['system']['app']['batcher'])==null||_0xc1973d['insert'](St['ELEMENT'],_0x4115a8,this['entity'])),_0x4115a8<0x17d0+0x25f1+-0x3dc1&&this['_batchGrou'+'pId']>=0x1195+-0x136c+0x1d7&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x4115a8);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x291213){this['_margin']['y']=_0x291213;const _0x3278aa=this['entity']['getLocalPo'+'sition'](),_0x4a3a04=this['_absTop'],_0x41f57=this['_localAnch'+'or']['y']+_0x291213;this['_setHeight'](_0x4a3a04-_0x41f57),_0x3278aa['y']=_0x291213+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x3278aa);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x1eb5fd){this['_setCalcul'+'atedWidth'](_0x1eb5fd,!(-0x265e+0x10b9+0x15a5));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x385801){this['_setCalcul'+'atedHeight'](_0x385801,!(-0x20b*0x5+-0xc3f+0x1676));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x33a928=this['system']['app']['graphicsDe'+'vice'],_0xd22d17=this['screenCorn'+'ers'],_0x26a883=_0x33a928['canvas']['clientWidt'+'h']/_0x33a928['width'],_0x6bc109=_0x33a928['canvas']['clientHeig'+'ht']/_0x33a928['height'];for(let _0xeb2b0e=0x107*-0x6+-0x7*0x3fe+0x25*0xec;_0xeb2b0e<0x34*-0x7c+0x3*-0x923+0x349d*0x1;_0xeb2b0e++)this['_canvasCor'+'ners'][_0xeb2b0e]['set'](_0xd22d17[_0xeb2b0e]['x']*_0x26a883,(_0x33a928['height']-_0xd22d17[_0xeb2b0e]['y'])*_0x6bc109);return this['_canvasCor'+'nersDirty']=!(0x1ee9+-0x1ed6+-0x12),this['_canvasCor'+'ners'];}set['drawOrder'](_0x374fd1){let _0x3d69d7=-0x1bd2+-0x16db+-0x32ad*-0x1;this['screen']&&(_0x3d69d7=this['screen']['screen']['priority']),_0x374fd1>-0xa0f246+0x817e*-0x22d+-0x2bab16b*-0x1&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x374fd1=0x1d83a1e+-0x1e70efd+0x7*0x26b0b2),this['_drawOrder']=(_0x3d69d7<<0x422*0x1+-0xb42+0x738)+_0x374fd1,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x6aea46){this['_height']=_0x6aea46,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x6aea46,!(-0x1*-0xc93+-0x1b78+0xee5)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x147df3){if(this['_addedMode'+'ls']['length'])for(let _0x4996f2=0x1*-0x25e5+0x1d*0x116+0x667;_0x4996f2<this['_layers']['length'];_0x4996f2++){const _0x3e1eaa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4996f2]);if(_0x3e1eaa){for(let _0x7ef033=0x90*-0xc+-0x19*0x187+0x2cef;_0x7ef033<this['_addedMode'+'ls']['length'];_0x7ef033++)_0x3e1eaa['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x7ef033]['meshInstan'+'ces']);}}if(this['_layers']=_0x147df3,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x368ee5=0x1387+0x328+-0x1*0x16af;_0x368ee5<this['_layers']['length'];_0x368ee5++){const _0x2af603=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x368ee5]);if(_0x2af603){for(let _0x3a0f81=-0x1944+-0xf41+-0xb*-0x3af;_0x3a0f81<this['_addedMode'+'ls']['length'];_0x3a0f81++)_0x2af603['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x3a0f81]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x40d43b){this['_margin']['x']=_0x40d43b;const _0x3ded22=this['entity']['getLocalPo'+'sition'](),_0x221971=this['_absRight'],_0x199f84=this['_localAnch'+'or']['x']+_0x40d43b;this['_setWidth'](_0x221971-_0x199f84),_0x3ded22['x']=_0x40d43b+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x3ded22);}get['left'](){return this['_margin']['x'];}set['margin'](_0xa6f77b){this['_margin']['copy'](_0xa6f77b),this['_calculate'+'Size'](!(0x83c+0x380+-0x2*0x5de),!(0xf35*-0x1+0x2515+0x23*-0xa0)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x3ac080){const {pivot:_0x7923da,margin:_0x81f1fa}=this,_0x5597e5=_0x7923da['x'],_0x45a975=_0x7923da['y'];_0x3ac080 instanceof J?_0x7923da['copy'](_0x3ac080):_0x7923da['set'](..._0x3ac080);const _0x1425c0=_0x81f1fa['x']+_0x81f1fa['z'],_0x527888=_0x7923da['x']-_0x5597e5;_0x81f1fa['x']+=_0x1425c0*_0x527888,_0x81f1fa['z']-=_0x1425c0*_0x527888;const _0x29fdab=_0x81f1fa['y']+_0x81f1fa['w'],_0x5352cf=_0x7923da['y']-_0x45a975;_0x81f1fa['y']+=_0x29fdab*_0x5352cf,_0x81f1fa['w']-=_0x29fdab*_0x5352cf,this['_anchorDir'+'ty']=!(-0x15b9+-0x1e3c+0x2f*0x11b),this['_cornersDi'+'rty']=!(0x209+0x3ec+0x3d*-0x19),this['_worldCorn'+'ersDirty']=!(0x9c1*-0x1+0x2a*0x3+0x943),this['_calculate'+'Size'](!(0x2*0xe43+0xfaf+0x5c*-0x7b),!(0xec5*-0x1+0x244+-0x2*-0x641)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x7923da);}get['pivot'](){return this['_pivot'];}set['right'](_0x2ac410){this['_margin']['z']=_0x2ac410;const _0x55848d=this['entity']['getLocalPo'+'sition'](),_0x28716d=this['_absLeft'],_0x4a5693=this['_localAnch'+'or']['z']-_0x2ac410;this['_setWidth'](_0x4a5693-_0x28716d),_0x55848d['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x2ac410-this['_calculate'+'dWidth']*(-0x192c+-0x21a4*-0x1+-0x877-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x55848d);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x5dde8d=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x1a9d*0x1+0x14*0x33+-0x78b*-0x3];this['_screenCor'+'ners'][-0x3*-0x9d+0x46f*-0x5+0x1454]['set'](this['_absLeft'],this['_absBottom'],0x1dd3+-0x812+-0x15c1*0x1),this['_screenCor'+'ners'][0x71*0x19+0x244*0x2+-0xf90]['set'](this['_absRight'],this['_absBottom'],0xd86*0x1+-0x18df*-0x1+0x2665*-0x1),this['_screenCor'+'ners'][0x1ae6*0x1+-0x14dc+-0x608]['set'](this['_absRight'],this['_absTop'],-0x1128+-0x800+0x7*0x398),this['_screenCor'+'ners'][-0x27b+0x1*-0x11ea+0x1468]['set'](this['_absLeft'],this['_absTop'],0x1*0xdc3+-0x11c4+0x401*0x1);const _0x5ecc83=this['screen']['screen']['screenSpac'+'e'];for(let _0x3ff4d7=0x13*-0x1f3+-0x2b*0x3e+-0xfd1*-0x3;_0x3ff4d7<-0xb38+-0x85*-0x44+-0x1818;_0x3ff4d7++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x3ff4d7],this['_screenCor'+'ners'][_0x3ff4d7]),_0x5ecc83&&this['_screenCor'+'ners'][_0x3ff4d7]['mulScalar'](this['screen']['screen']['scale']),_0x5dde8d&&this['_screenCor'+'ners'][_0x3ff4d7]['add'](_0x5dde8d);return this['_cornersDi'+'rty']=!(0x350+-0x6d3+0x384),this['_canvasCor'+'nersDirty']=!(0x194c+0x25c*0x3+-0x94*0x38),this['_worldCorn'+'ersDirty']=!(0xb3a+-0x1*-0x270d+0x3247*-0x1),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x7b2+-0x2e2+-0x4d0;}get['textHeight'](){return this['_text']?this['_text']['height']:-0xb96*-0x3+-0xea7*0x1+-0x1*0x141b;}set['top'](_0x5eb0e3){this['_margin']['w']=_0x5eb0e3;const _0x13934e=this['entity']['getLocalPo'+'sition'](),_0xd73af1=this['_absBottom'],_0x1fa50a=this['_localAnch'+'or']['w']-_0x5eb0e3;this['_setHeight'](_0x1fa50a-_0xd73af1),_0x13934e['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x5eb0e3-this['_calculate'+'dHeight']*(-0x58f*-0x4+-0x817+0x712*-0x2-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x13934e);}get['top'](){return this['_margin']['w'];}set['type'](_0x17127d){_0x17127d!==this['_type']&&(this['_type']=_0x17127d,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x17127d===Cu?this['_image']=new cR(this):_0x17127d===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x19c31b){this['_useInput']!==_0x19c31b&&(this['_useInput']=_0x19c31b,this['system']['app']['elementInp'+'ut']?_0x19c31b?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x24d1+-0x1272+0x3743)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x19c31b));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0xf2c72b){this['_fitMode']=_0xf2c72b,this['_calculate'+'Size'](!(0x2f5*0x3+-0xd*-0x25f+0x1*-0x27b2),!(-0x1217+-0x25eb+0x3802)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x2b567f){this['_width']=_0x2b567f,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x2b567f,!(-0xecf+-0x51f*0x1+0x1*0x13ee)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x1152de=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x2259*0x1+-0x228a+0x3e]=-ws['data'][-0x79d*0x3+0x177a+-0x6*0x19],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x2b8c01=-0x385*0x7+-0xc*-0xc+0x1813;_0x2b8c01<0x1*0x2324+0x2*0x9e0+0x1*-0x36e0;_0x2b8c01++)ws['transformP'+'oint'](_0x1152de[_0x2b8c01],this['_worldCorn'+'ers'][_0x2b8c01]);}}else{const _0x176acd=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x176acd['x'],-_0x176acd['y'],-_0x176acd['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x176acd['x'],_0x176acd['y'],_0x176acd['z']);const _0x5396b5=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x5396b5['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x176acd['x']-this['pivot']['x']*this['calculated'+'Width'],_0x176acd['y']-this['pivot']['y']*this['calculated'+'Height'],_0x176acd['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x72f*-0x2+-0x599*-0x1+0x8c5]),Pi['set'](_0x176acd['x']+(-0x1c3c+-0x3*-0x860+-0x1*-0x31d-this['pivot']['x'])*this['calculated'+'Width'],_0x176acd['y']-this['pivot']['y']*this['calculated'+'Height'],_0x176acd['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0xebb+-0x574+-0x946]),Pi['set'](_0x176acd['x']+(-0x427*0x2+0x23fa+-0x3*0x939-this['pivot']['x'])*this['calculated'+'Width'],_0x176acd['y']+(0x2033+0xd*0x21f+-0x3bc5-this['pivot']['y'])*this['calculated'+'Height'],_0x176acd['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x26f2+-0x1c40+-0x30e*-0x16]),Pi['set'](_0x176acd['x']-this['pivot']['x']*this['calculated'+'Width'],_0x176acd['y']+(-0x7*0xc1+-0xf*-0x24+0x4*0xcb-this['pivot']['y'])*this['calculated'+'Height'],_0x176acd['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x65*-0x43+0x145e+-0x2eca]);}return this['_worldCorn'+'ersDirty']=!(0x1a5*-0xb+-0xde9*0x1+0x2001),this['_worldCorn'+'ers'];}set['fontSize'](_0x613122){this['_setValue']('fontSize',_0x613122);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x2b8e5a){this['_setValue']('minFontSiz'+'e',_0x2b8e5a);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x4048ac){this['_setValue']('maxFontSiz'+'e',_0x4048ac);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x548914){this['_setValue']('maxLines',_0x548914);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x492363){this['_setValue']('autoFitWid'+'th',_0x492363);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x53e184){this['_setValue']('autoFitHei'+'ght',_0x53e184);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x297843){this['_setValue']('color',_0x297843);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x11dffe){this['_setValue']('font',_0x11dffe);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x787556){this['_setValue']('fontAsset',_0x787556);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x1837b5){this['_setValue']('spacing',_0x1837b5);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x334668){this['_setValue']('lineHeight',_0x334668);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x3ab776){this['_setValue']('wrapLines',_0x3ab776);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x277747){this['_setValue']('lines',_0x277747);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x2dd4e9){this['_setValue']('alignment',_0x2dd4e9);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x3d731c){this['_setValue']('autoWidth',_0x3d731c);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x6330f){this['_setValue']('autoHeight',_0x6330f);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x5aaa66){this['_setValue']('rtlReorder',_0x5aaa66);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0xfe4a89){this['_setValue']('unicodeCon'+'verter',_0xfe4a89);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x27ef54){this['_setValue']('text',_0x27ef54);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x991492){this['_setValue']('key',_0x991492);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x15e35c){this['_setValue']('texture',_0x15e35c);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x2489a2){this['_setValue']('textureAss'+'et',_0x2489a2);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5ac711){this['_setValue']('material',_0x5ac711);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x3e46ba){this['_setValue']('materialAs'+'set',_0x3e46ba);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x50c930){this['_setValue']('sprite',_0x50c930);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x4abfcd){this['_setValue']('spriteAsse'+'t',_0x4abfcd);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2efb7d){this['_setValue']('spriteFram'+'e',_0x2efb7d);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x51208e){this['_setValue']('pixelsPerU'+'nit',_0x51208e);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3017ad){this['_setValue']('opacity',_0x3017ad);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x1caf51){this['_setValue']('rect',_0x1caf51);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x510251){this['_setValue']('mask',_0x510251);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x1cd935){this['_setValue']('outlineCol'+'or',_0x1cd935);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x5b135f){this['_setValue']('outlineThi'+'ckness',_0x5b135f);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0xcd11a8){this['_setValue']('shadowColo'+'r',_0xcd11a8);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x53304b){this['_setValue']('shadowOffs'+'et',_0x53304b);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x20a384){this['_setValue']('enableMark'+'up',_0x20a384);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x4452fd){this['_setValue']('rangeStart',_0x4452fd);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1d37f9){this['_setValue']('rangeEnd',_0x1d37f9);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x1e5c04,_0x47686e){this['_text']?(this['_text'][_0x1e5c04]!==_0x47686e&&this['_dirtyBatc'+'h'](),this['_text'][_0x1e5c04]=_0x47686e):this['_image']&&(this['_image'][_0x1e5c04]!==_0x47686e&&this['_dirtyBatc'+'h'](),this['_image'][_0x1e5c04]=_0x47686e);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0xbccd1a,_0x30d9f1,_0x3bacfa){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0xbccd1a,_0x30d9f1,_0x3bacfa);return;}_0xbccd1a instanceof D?Ef['copy'](_0xbccd1a):Ef['set'](_0xbccd1a,_0x30d9f1,_0x3bacfa),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x3bbc51,_0x5a7243,_0x42cbdb){_0x3bbc51 instanceof D?this['localPosit'+'ion']['copy'](_0x3bbc51):this['localPosit'+'ion']['set'](_0x3bbc51,_0x5a7243,_0x42cbdb);const _0xbb5ae9=this['element'],_0x592a9b=this['localPosit'+'ion'],_0x39c301=_0xbb5ae9['_pivot'];_0xbb5ae9['_margin']['x']=_0x592a9b['x']-_0xbb5ae9['_calculate'+'dWidth']*_0x39c301['x'],_0xbb5ae9['_margin']['z']=_0xbb5ae9['_localAnch'+'or']['z']-_0xbb5ae9['_localAnch'+'or']['x']-_0xbb5ae9['_calculate'+'dWidth']-_0xbb5ae9['_margin']['x'],_0xbb5ae9['_margin']['y']=_0x592a9b['y']-_0xbb5ae9['_calculate'+'dHeight']*_0x39c301['y'],_0xbb5ae9['_margin']['w']=_0xbb5ae9['_localAnch'+'or']['w']-_0xbb5ae9['_localAnch'+'or']['y']-_0xbb5ae9['_calculate'+'dHeight']-_0xbb5ae9['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x7b197=this['element'],_0x2cfa15=_0x7b197['screen'];if(_0x2cfa15){if(_0x7b197['_anchorDir'+'ty']){let _0x26a299=0x199d+-0x9c*-0x9+0x13*-0x1a3,_0x16ce86=-0x17fe+-0x1d3+-0x89b*-0x3,_0x35122d=-0x4e8+0x2529*0x1+-0x167*0x17,_0x458a4e=-0x607*0x1+0x23*0xee+-0x1a82;if(this['_parent']&&this['_parent']['element'])_0x26a299=this['_parent']['element']['calculated'+'Width'],_0x16ce86=this['_parent']['element']['calculated'+'Height'],_0x35122d=this['_parent']['element']['pivot']['x'],_0x458a4e=this['_parent']['element']['pivot']['y'];else{const _0x5959ad=_0x2cfa15['screen']['resolution'];_0x26a299=_0x5959ad['x']/_0x2cfa15['screen']['scale'],_0x16ce86=_0x5959ad['y']/_0x2cfa15['screen']['scale'];}_0x7b197['_anchorTra'+'nsform']['setTransla'+'te'](_0x26a299*(_0x7b197['anchor']['x']-_0x35122d),-(_0x16ce86*(_0x458a4e-_0x7b197['anchor']['y'])),-0x1*0x2384+-0x103*0x5+0xdd*0x2f),_0x7b197['_anchorDir'+'ty']=!(0xea7+-0x1bca+0xd24),_0x7b197['_calculate'+'LocalAncho'+'rs']();}_0x7b197['_sizeDirty']&&_0x7b197['_calculate'+'Size'](!(-0x1e1*-0x13+-0x515*0x3+-0x1473*0x1),!(0x7b*-0x29+0x221*0x7+0x4cd));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x112c0f=this['localPosit'+'ion'],_0x57c58f=_0x7b197['_pivot'];_0x7b197['_margin']['x']=_0x112c0f['x']-_0x7b197['_calculate'+'dWidth']*_0x57c58f['x'],_0x7b197['_margin']['z']=_0x7b197['_localAnch'+'or']['z']-_0x7b197['_localAnch'+'or']['x']-_0x7b197['_calculate'+'dWidth']-_0x7b197['_margin']['x'],_0x7b197['_margin']['y']=_0x112c0f['y']-_0x7b197['_calculate'+'dHeight']*_0x57c58f['y'],_0x7b197['_margin']['w']=_0x7b197['_localAnch'+'or']['w']-_0x7b197['_localAnch'+'or']['y']-_0x7b197['_calculate'+'dHeight']-_0x7b197['_margin']['y'],this['_dirtyLoca'+'l']=!(0x314*-0x6+0x252c+-0x12b3*0x1);}if(!_0x2cfa15){this['_dirtyWorl'+'d']&&(_0x7b197['_cornersDi'+'rty']=!(0x160a+-0xb70+-0x1*0xa9a),_0x7b197['_canvasCor'+'nersDirty']=!(0xb*0xbb+0x9b1+-0x11ba),_0x7b197['_worldCorn'+'ersDirty']=!(-0x4ba+0x1e8a+-0x19d0)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x7b197['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x7b197['_anchorTra'+'nsform']):_0x7b197['_screenToW'+'orld']['copy'](_0x7b197['_anchorTra'+'nsform']),_0x7b197['_modelTran'+'sform']['mul2'](_0x7b197['_screenToW'+'orld'],this['localTrans'+'form']),_0x2cfa15){_0x7b197['_screenToW'+'orld']['mul2'](_0x2cfa15['screen']['_screenMat'+'rix'],_0x7b197['_screenToW'+'orld']),_0x2cfa15['screen']['screenSpac'+'e']||_0x7b197['_screenToW'+'orld']['mul2'](_0x2cfa15['worldTrans'+'form'],_0x7b197['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x7b197['_screenToW'+'orld'],this['localTrans'+'form']);const _0x1ce173=_0x7b197['_parentWor'+'ldTransfor'+'m'];_0x1ce173['setIdentit'+'y']();const _0x27e632=this['_parent'];_0x27e632&&_0x27e632['element']&&_0x27e632!==_0x2cfa15&&(ws['setTRS'](D['ZERO'],_0x27e632['getLocalRo'+'tation'](),_0x27e632['getLocalSc'+'ale']()),_0x1ce173['mul2'](_0x27e632['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x994f1d=Pi;_0x994f1d['set'](-0x2*0xd83+0x9*-0x355+0x3903,-0x2483*-0x1+0x94*0x1a+-0x338b,this['localPosit'+'ion']['z']);const _0xd0b7db=MR;_0xd0b7db['set'](_0x7b197['_absLeft']+_0x7b197['_pivot']['x']*_0x7b197['calculated'+'Width'],_0x7b197['_absBottom']+_0x7b197['_pivot']['y']*_0x7b197['calculated'+'Height'],-0x1*-0x1fa3+0x172d+-0x36d0),ws['setTransla'+'te'](-_0xd0b7db['x'],-_0xd0b7db['y'],-_0xd0b7db['z']),bc['setTRS'](_0x994f1d,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0xd0b7db['x'],_0xd0b7db['y'],_0xd0b7db['z']),_0x7b197['_screenTra'+'nsform']['mul2'](_0x7b197['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x7b197['_cornersDi'+'rty']=!(0x117*0x2+-0xffd+0x7*0x1f9),_0x7b197['_canvasCor'+'nersDirty']=!(-0xb2d*0x2+-0x2ab*-0x5+0x903),_0x7b197['_worldCorn'+'ersDirty']=!(-0x26e0+0x1d3d+0x9a3);}else this['worldTrans'+'form']['copy'](_0x7b197['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0xa41+-0x2501+0x2f43);}}['_onInsert'](_0x2cbe7f){const _0x5cc4bd=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x5cc4bd['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x3ea0af=this['entity'];for(;_0x3ea0af;){const _0x4a83fc=_0x3ea0af['parent'];if((_0x4a83fc===null||_0x4a83fc['screen'])&&_0x3ea0af['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x52fdd3=this['system']['_prerender']['indexOf'](this['entity']);_0x52fdd3>=0x489+0x61f*0x5+-0x2b4*0xd&&this['system']['_prerender']['splice'](_0x52fdd3,-0x106c*0x1+0x483+0xbea),this['system']['_prerender']['indexOf'](_0x3ea0af)<0x1c79+-0x5*-0x11d+-0x220a&&this['system']['_prerender']['push'](_0x3ea0af),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x3ea0af['name']);}_0x3ea0af=_0x4a83fc;}}['_onPrerend'+'er'](){for(let _0xb4723e=-0x3*0x269+0x1*0xca5+0x63*-0xe;_0xb4723e<this['system']['_prerender']['length'];_0xb4723e++){const _0x2b1c7c=this['system']['_prerender'][_0xb4723e];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x2b1c7c['name']),_0x2b1c7c['element']&&_0x2b1c7c['element']['syncMask'](0x7*0x277+-0x1*0x22e5+0x11a5*0x1);}this['system']['_prerender']['length']=0x2240+-0xe5*0xb+-0x1869;}['_bindScree'+'n'](_0x3cc1f3){_0x3cc1f3['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x4ab6c5){_0x4ab6c5['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x174d67){this['screen']&&this['screen']!==_0x174d67&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x512c3e=this['screen'];this['screen']=_0x174d67,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x512c3e),this['_anchorDir'+'ty']=!(0x866+0x74*0x4a+-0x29ee);const _0x22190a=this['entity']['children'];for(let _0x5b10ad=0x39*0x3b+-0x215*-0x4+-0x1577,_0x35eeaa=_0x22190a['length'];_0x5b10ad<_0x35eeaa;_0x5b10ad++)_0x22190a[_0x5b10ad]['element']&&_0x22190a[_0x5b10ad]['element']['_updateScr'+'een'](_0x174d67);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x1a1d5e){const _0x381074=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x381074['mask'],_0x1a1d5e);}['_setMasked'+'By'](_0x278deb){const _0x6da5ec=this['_image']||this['_text'];if(_0x278deb){const _0x1404e9=_0x278deb['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x1404e9),_0x6da5ec==null||_0x6da5ec['_setStenci'+'l'](new pi({'ref':_0x1404e9,'func':dh})),this['_maskedBy']=_0x278deb;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x6da5ec==null||_0x6da5ec['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x2e6ee2,_0x2de912){var _0x214c50,_0x29d373;if(_0x2e6ee2){if(this['_setMasked'+'By'](_0x2e6ee2),this['mask']){const _0x51ee2c=_0x2e6ee2['element']['_image']['_maskRef'],_0x5710be=new pi({'ref':_0x51ee2c,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x5710be),this['_image']['_maskRef']=_0x2de912,_0x2de912++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x5710be['ref']+(-0x15cf+0x1e17*-0x1+0x33e7))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x2de912),_0x2e6ee2=this['entity'];}const _0x288321=this['entity']['children'];for(let _0x583289=0x1b9e+-0xd72*0x2+-0xba,_0x357329=_0x288321['length'];_0x583289<_0x357329;_0x583289++)(_0x214c50=_0x288321[_0x583289]['element'])==null||_0x214c50['_updateMas'+'k'](_0x2e6ee2,_0x2de912);this['mask']&&_0x2de912--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x52fbff=new pi({'ref':_0x2de912,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x52fbff),this['_image']['_maskRef']=_0x2de912,_0x2de912++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x52fbff['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x2de912),_0x2e6ee2=this['entity'];}const _0x46542e=this['entity']['children'];for(let _0xedbc19=0x1767+-0x10b8+-0x6af,_0x41d113=_0x46542e['length'];_0xedbc19<_0x41d113;_0xedbc19++)(_0x29d373=_0x46542e[_0xedbc19]['element'])==null||_0x29d373['_updateMas'+'k'](_0x2e6ee2,_0x2de912);this['mask']&&_0x2de912--;}}['_parseUpTo'+'Screen'](){const _0x597f9a={'screen':null,'mask':null};let _0x32a50b=this['entity']['_parent'];for(;_0x32a50b&&!_0x32a50b['screen'];)_0x32a50b['element']&&_0x32a50b['element']['mask']&&(_0x597f9a['mask']||(_0x597f9a['mask']=_0x32a50b)),_0x32a50b=_0x32a50b['parent'];return _0x32a50b&&_0x32a50b['screen']&&(_0x597f9a['screen']=_0x32a50b),_0x597f9a;}['_onScreenR'+'esize'](_0x1b4a98){this['_anchorDir'+'ty']=!(-0x1*0x18a9+0xeca+0x9df*0x1),this['_cornersDi'+'rty']=!(-0xbec+-0xfcd*0x1+0x1bb9),this['_worldCorn'+'ersDirty']=!(-0x1*-0x12e+0xe75+0x1*-0xfa3),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x1b4a98);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x7c0cf2=0x1*0x10e7+-0x1*0x647+-0x1*0x6b8,_0x364454=-0xf59+-0xd53+0xadc*0x3;const _0x1fc4fb=this['entity']['_parent'];if(_0x1fc4fb&&_0x1fc4fb['element'])_0x7c0cf2=_0x1fc4fb['element']['calculated'+'Width'],_0x364454=_0x1fc4fb['element']['calculated'+'Height'];else{if(this['screen']){const _0x3434f7=this['screen']['screen']['resolution'],_0x3b0678=this['screen']['screen']['scale'];_0x7c0cf2=_0x3434f7['x']/_0x3b0678,_0x364454=_0x3434f7['y']/_0x3b0678;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x7c0cf2,this['_anchor']['y']*_0x364454,this['_anchor']['z']*_0x7c0cf2,this['_anchor']['w']*_0x364454);}['getOffsetP'+'osition'](_0x4bd26f,_0x30db42){const _0x2e9ac7=this['entity']['getLocalPo'+'sition']()['clone']();return _0x2e9ac7['x']+=_0x4bd26f,_0x2e9ac7['y']+=_0x30db42,this['_screenToW'+'orld']['transformP'+'oint'](_0x2e9ac7,_0x2e9ac7),_0x2e9ac7;}['onLayersCh'+'anged'](_0xce21b,_0x53cb33){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0xce21b['off']('add',this['onLayerAdd'+'ed'],this),_0xce21b['off']('remove',this['onLayerRem'+'oved'],this),_0x53cb33['on']('add',this['onLayerAdd'+'ed'],this),_0x53cb33['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2bc53a){this['layers']['indexOf'](_0x2bc53a['id'])<-0x2*0x11e0+0x23a7*0x1+0x19||(this['_image']?_0x2bc53a['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2bc53a['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x5a8d03){this['layers']['indexOf'](_0x5a8d03['id'])<0x4a*0x85+-0x175b*-0x1+-0x3dcd||(this['_image']?_0x5a8d03['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5a8d03['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x1ca01d;const _0x379a5b=this['system']['app']['scene'],_0x5e8953=_0x379a5b['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x379a5b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5e8953&&(this['_evtLayerA'+'dded']=_0x5e8953['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5e8953['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x259*0x2+0xc0*0x1+-0x22*0x29&&((_0x1ca01d=this['system']['app']['batcher'])==null||_0x1ca01d['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x5577e2,_0x288eb9,_0x35a2b1,_0x38dc1d;const _0xfdf44b=this['system']['app']['scene']['layers'];(_0x5577e2=this['_evtLayers'+'Changed'])==null||_0x5577e2['off'](),this['_evtLayers'+'Changed']=null,_0xfdf44b&&((_0x288eb9=this['_evtLayerA'+'dded'])==null||_0x288eb9['off'](),this['_evtLayerA'+'dded']=null,(_0x35a2b1=this['_evtLayerR'+'emoved'])==null||_0x35a2b1['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x887+-0x145b+0x1ce2*0x1&&((_0x38dc1d=this['system']['app']['batcher'])==null||_0x38dc1d['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x520812,_0x4c46bf){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x235b59=this['_absRight']-this['_absLeft'],_0x13b5df=this['_absTop']-this['_absBottom'];_0x520812?this['_setWidth'](_0x235b59):this['_setCalcul'+'atedWidth'](_0x235b59,!(0x2661+0x1e25*-0x1+-0x83b)),_0x4c46bf?this['_setHeight'](_0x13b5df):this['_setCalcul'+'atedHeight'](_0x13b5df,!(-0x40*0x6+-0x2581+0x2702));const _0x54c924=this['entity']['getLocalPo'+'sition']();_0x54c924['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x54c924['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x54c924),this['_sizeDirty']=!(0x1ee+-0x43f*-0x5+0x1c8*-0xd);}['_setWidth'](_0x1e87c9){this['_width']=_0x1e87c9,this['_setCalcul'+'atedWidth'](_0x1e87c9,!(-0x1f93+0x1ea0+-0x7a*-0x2)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x38e2f5){this['_height']=_0x38e2f5,this['_setCalcul'+'atedHeight'](_0x38e2f5,!(0x3*-0x25+0x1b9+-0x149)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x3f428f,_0x219377){if(!(Math['abs'](_0x3f428f-this['_calculate'+'dWidth'])<=0x202*-0x10+-0x1e6+0x2206+0.0001)){if(this['_calculate'+'dWidth']=_0x3f428f,this['entity']['_dirtifyLo'+'cal'](),_0x219377){const _0xa9606e=this['entity']['getLocalPo'+'sition'](),_0x17728d=this['_pivot'];this['_margin']['x']=_0xa9606e['x']-this['_calculate'+'dWidth']*_0x17728d['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x4c981e,_0x4c88cf){if(!(Math['abs'](_0x4c981e-this['_calculate'+'dHeight'])<=0x265f+-0x1c33+-0xa2c+0.0001)){if(this['_calculate'+'dHeight']=_0x4c981e,this['entity']['_dirtifyLo'+'cal'](),_0x4c88cf){const _0x5d6b97=this['entity']['getLocalPo'+'sition'](),_0x4196c8=this['_pivot'];this['_margin']['y']=_0x5d6b97['y']-this['_calculate'+'dHeight']*_0x4196c8['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5bd924=this['entity']['_children'];for(let _0x1272f1=0xf31*-0x2+0x6d0+-0xbc9*-0x2,_0xfe3787=_0x5bd924['length'];_0x1272f1<_0xfe3787;_0x1272f1++)_0x5bd924[_0x1272f1]['element']&&(_0x5bd924[_0x1272f1]['element']['_anchorDir'+'ty']=!(-0x13b5+-0x219a+0x354f),_0x5bd924[_0x1272f1]['element']['_sizeDirty']=!(0x1527+-0x1f*-0xfb+0x1*-0x338c));}['addModelTo'+'Layers'](_0x5318af){this['_addedMode'+'ls']['push'](_0x5318af);for(let _0xa301f=0x21e0+-0x1*0x1201+-0x1*0xfdf;_0xa301f<this['layers']['length'];_0xa301f++){const _0x1b7a4f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xa301f]);_0x1b7a4f&&_0x1b7a4f['addMeshIns'+'tances'](_0x5318af['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x2440ca){const _0x4b049e=this['_addedMode'+'ls']['indexOf'](_0x2440ca);_0x4b049e>=-0x17e8+0x43e+0x9d5*0x2&&this['_addedMode'+'ls']['splice'](_0x4b049e,0x1*-0x1463+0x23c+0x1228);for(let _0x505832=0x9*-0x29d+-0x238f*0x1+0x3b14;_0x505832<this['layers']['length'];_0x505832++){const _0x12ba8d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x505832]);_0x12ba8d&&_0x12ba8d['removeMesh'+'Instances'](_0x2440ca['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x447467=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x447467&&(this['_maskOffse'+'t']=-0x5*-0xa+0x1ce7+-0x1d19+0.5,this['_offsetRea'+'dAt']=_0x447467);const _0xc30fa3=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x1*-0x362+0xa1*-0x1d+0x159f+0.001,_0xc30fa3;}['isVisibleF'+'orCamera'](_0x3e6999){let _0x5e2007,_0x279b2d,_0x1690ca,_0xa4d556;if(this['maskedBy']){const _0x58e213=this['maskedBy']['element']['screenCorn'+'ers'];_0x5e2007=Math['min'](Math['min'](_0x58e213[0x90+0x3fd+-0x1*0x48d]['x'],_0x58e213[-0x2405*-0x1+-0x20*0x1+-0x23e4]['x']),Math['min'](_0x58e213[-0x3*-0x327+-0xb33+0x1c0]['x'],_0x58e213[-0x1616+-0x113e+-0x1*-0x2757]['x'])),_0x279b2d=Math['max'](Math['max'](_0x58e213[0x148b+-0x12c3*-0x1+0x6*-0x68d]['x'],_0x58e213[0x11*0x1d1+0x849+-0x191*0x19]['x']),Math['max'](_0x58e213[-0x3*0x5e5+0x97b+0x836]['x'],_0x58e213[-0x7*0x301+-0x4e3+0x19ed]['x'])),_0xa4d556=Math['min'](Math['min'](_0x58e213[0xeeb*0x1+0x2367*0x1+-0x3252]['y'],_0x58e213[0x148f+-0x261d+0x91*0x1f]['y']),Math['min'](_0x58e213[-0xf34+-0x12aa+0x21e0]['y'],_0x58e213[0x1eac+0x26d0+-0x4579*0x1]['y'])),_0x1690ca=Math['max'](Math['max'](_0x58e213[0x1*-0xd09+0x1fc8+-0x12bf]['y'],_0x58e213[-0x1f*-0x6d+0x15df+0x2311*-0x1]['y']),Math['max'](_0x58e213[0x1a6a+-0x1e3f+-0x3d7*-0x1]['y'],_0x58e213[-0xf7e+-0x18*0x181+-0x3*-0x1133]['y']));}else{const _0x2dbf98=this['system']['app']['graphicsDe'+'vice']['width'],_0x5d40aa=this['system']['app']['graphicsDe'+'vice']['height'],_0x44ae1a=_0x3e6999['_rect']['z']*_0x2dbf98,_0x420bf5=_0x3e6999['_rect']['w']*_0x5d40aa;_0x5e2007=_0x3e6999['_rect']['x']*_0x2dbf98,_0x279b2d=_0x5e2007+_0x44ae1a,_0x1690ca=(0x2226+-0x5*0x502+-0x91b-_0x3e6999['_rect']['y'])*_0x5d40aa,_0xa4d556=_0x1690ca-_0x420bf5;}const _0x32b3fe=this['screenCorn'+'ers'],_0x5e51fb=Math['min'](Math['min'](_0x32b3fe[-0x1b40+-0x2*0x4b1+0x24a2]['x'],_0x32b3fe[-0x11*-0x79+-0x227a+-0x54a*-0x5]['x']),Math['min'](_0x32b3fe[0x1208+0x549+-0x15f*0x11]['x'],_0x32b3fe[0xb4b+0x2075+-0x2bbd]['x'])),_0x20f078=Math['max'](Math['max'](_0x32b3fe[0x4e4+-0x9*-0x31e+-0x20f2]['x'],_0x32b3fe[0x25*-0xaa+-0xb98+0x242b]['x']),Math['max'](_0x32b3fe[0xeb4+0x7*-0x40f+-0xdb7*-0x1]['x'],_0x32b3fe[-0x1*0xcc5+-0x13a+0xe02]['x'])),_0x1e19c6=Math['min'](Math['min'](_0x32b3fe[0x22a3+-0x237f*0x1+0xdc]['y'],_0x32b3fe[0x3*0x2d3+-0xd52+-0x8a*-0x9]['y']),Math['min'](_0x32b3fe[-0x1bc5+-0xa*0x2d1+0x1*0x37f1]['y'],_0x32b3fe[-0x41+-0xc51+0xc95*0x1]['y'])),_0x21f004=Math['max'](Math['max'](_0x32b3fe[-0x306+-0x237b+0x1*0x2681]['y'],_0x32b3fe[0x24f0+-0x168e+-0xe61]['y']),Math['max'](_0x32b3fe[-0x1da6+-0x1ae9*0x1+-0x3*-0x12db]['y'],_0x32b3fe[-0x2f6+-0x4ce+-0x7c7*-0x1]['y']));return!(_0x20f078<_0x5e2007||_0x5e51fb>_0x279b2d||_0x1e19c6>_0x1690ca||_0x21f004<_0xa4d556);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x881+0x1*0x1982+0x1*-0x2202);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xaf+-0x804+0x22d*0x4);}['_dirtyBatc'+'h'](){var _0x3036fb;this['batchGroup'+'Id']!==-(0x250c+-0x81c+-0x1cef)&&((_0x3036fb=this['system']['app']['batcher'])==null||_0x3036fb['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x2402*-0x1+-0x2*-0x85+0x22f8);}}const IR=['enabled'];class LR extends ct{constructor(_0x147673){super(_0x147673),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x147673['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x2dcfd0=this['_defaultTe'+'xture']['lock'](),_0x1d0d51=new Uint8Array(-0xd*-0x18e+-0x19a*0x9+-0x5c8);_0x1d0d51[0x1c1c+-0x208+-0x2*0xd0a]=-0x6c4*0x4+-0x1780+0x338f,_0x1d0d51[0xb*0x21d+0x86a+-0x1fa8]=-0xabf+-0x592+0x1*0x1150,_0x1d0d51[0x495*0x1+0x272*-0x7+0xc8b]=0x270b+0x382*-0x8+-0x354*0x3,_0x1d0d51[0xd*0x5+0x37e+-0x2*0x1de]=0xb6e+-0x12a1+0x832,_0x2dcfd0['set'](_0x1d0d51),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x2ede75,_0xcdc02d,_0x1fd71d){_0x2ede75['_beingInit'+'ialized']=!(-0x1*-0x1e41+0x1f92+0x3dd3*-0x1),_0xcdc02d['anchor']!==void(0x4a5+0x1614+0x1*-0x1ab9)&&(_0xcdc02d['anchor']instanceof re?_0x2ede75['anchor']['copy'](_0xcdc02d['anchor']):_0x2ede75['anchor']['set'](_0xcdc02d['anchor'][0xb3*-0x6+0xb38*-0x3+0x5*0x792],_0xcdc02d['anchor'][0x1*0x130d+0x1a7*-0x11+0x90b],_0xcdc02d['anchor'][-0x9ae*-0x1+-0x1*0x628+-0x384],_0xcdc02d['anchor'][-0x7a*0xa+-0x1e3f+0x2306])),_0xcdc02d['pivot']!==void(0x617+-0x1024+-0x53*-0x1f)&&(_0xcdc02d['pivot']instanceof J?_0x2ede75['pivot']['copy'](_0xcdc02d['pivot']):_0x2ede75['pivot']['set'](_0xcdc02d['pivot'][0x1594+0x178a+-0x42*0xaf],_0xcdc02d['pivot'][0x83+-0x1a5f+-0x3*-0x89f]));const _0x4e113c=Math['abs'](_0x2ede75['anchor']['x']-_0x2ede75['anchor']['z'])>0x20*-0x8d+-0x1fbb+0x315b+0.001,_0x4cc1e6=Math['abs'](_0x2ede75['anchor']['y']-_0x2ede75['anchor']['w'])>0x19de+0x1b8e+-0x1a*0x20e+0.001;let _0x41b406=!(-0x2379+0x9*0x25f+0xe23),_0x38d560;_0xcdc02d['margin']!==void(-0x1375*-0x1+-0x12fa+-0x7b)&&(_0xcdc02d['margin']instanceof re?_0x2ede75['margin']['copy'](_0xcdc02d['margin']):_0x2ede75['_margin']['set'](_0xcdc02d['margin'][0x25e2*0x1+0x10d*0xf+-0x1bb*0x1f],_0xcdc02d['margin'][0x439+0x779*-0x1+0x341],_0xcdc02d['margin'][-0x220a+-0x1*0x98f+0x2b9b],_0xcdc02d['margin'][0x11d5+-0x9*0x15d+-0x58d]),_0x41b406=!(0x3*-0x17+0xeed*0x1+-0xea8)),_0xcdc02d['left']!==void(0x1*-0x248d+0x10d6+-0x7*-0x2d1)&&(_0x2ede75['_margin']['x']=_0xcdc02d['left'],_0x41b406=!(0xc19+-0x3*-0x3b2+-0x172f)),_0xcdc02d['bottom']!==void(-0x4dd+-0x2*0x120e+-0x269*-0x11)&&(_0x2ede75['_margin']['y']=_0xcdc02d['bottom'],_0x41b406=!(0x1*0x207d+0x3*0x3d+-0x2134)),_0xcdc02d['right']!==void(-0x1eb5*0x1+0x1*0x12ad+0x37*0x38)&&(_0x2ede75['_margin']['z']=_0xcdc02d['right'],_0x41b406=!(-0x1218+-0x398+-0x2*-0xad8)),_0xcdc02d['top']!==void(0x2272+0x5*0x439+-0x378f)&&(_0x2ede75['_margin']['w']=_0xcdc02d['top'],_0x41b406=!(-0xda2+0x112+0xc90)),_0x41b406&&(_0x2ede75['margin']=_0x2ede75['_margin']);let _0x459061=!(0x11e7+0x1bf7*0x1+0xc7*-0x3b);_0xcdc02d['width']!==void(-0x1*-0xbc1+-0x2aa+-0x917*0x1)&&!_0x4e113c?_0x2ede75['width']=_0xcdc02d['width']:_0x4e113c&&(_0x459061=!(0xd06+-0x2050+-0x9a5*-0x2)),_0xcdc02d['height']!==void(0x1c81+-0x1a17+-0x67*0x6)&&!_0x4cc1e6?_0x2ede75['height']=_0xcdc02d['height']:_0x4cc1e6&&(_0x459061=!(-0x354+0x2554+-0x2*0x1100)),_0x459061&&(_0x2ede75['anchor']=_0x2ede75['anchor']),_0xcdc02d['enabled']!==void(-0x10cb+-0x2cb*0xb+0x4*0xbe1)&&(_0x2ede75['enabled']=_0xcdc02d['enabled']),_0xcdc02d['useInput']!==void(0x17ed+-0x1b1f+-0x199*-0x2)&&(_0x2ede75['useInput']=_0xcdc02d['useInput']),_0xcdc02d['fitMode']!==void(0x11*-0x6+0xe3b*0x2+-0xe08*0x2)&&(_0x2ede75['fitMode']=_0xcdc02d['fitMode']),_0x2ede75['batchGroup'+'Id']=_0xcdc02d['batchGroup'+'Id']===void(-0x46*-0x52+0xe4d+-0x11*0x229)||_0xcdc02d['batchGroup'+'Id']===null?-(0xe*0x1b5+0xf*0x4c+-0x973*0x3):_0xcdc02d['batchGroup'+'Id'],_0xcdc02d['layers']&&Array['isArray'](_0xcdc02d['layers'])&&(_0x2ede75['layers']=_0xcdc02d['layers']['slice'](0x1291+-0x1*0x17f+-0xe6*0x13)),_0xcdc02d['type']!==void(0x27*-0x3b+-0x136d*0x2+0x2fd7)&&(_0x2ede75['type']=_0xcdc02d['type']),_0x2ede75['type']===Cu?(_0xcdc02d['rect']!==void(0x25e+-0x5e*0x4c+-0x1*-0x198a)&&(_0x2ede75['rect']=_0xcdc02d['rect']),_0xcdc02d['color']!==void(-0x1*0x92f+-0x2*-0x6c2+-0x455)&&(_0x38d560=_0xcdc02d['color'],_0x38d560 instanceof ie||(_0x38d560=new ie(_0xcdc02d['color'][-0x8ce*0x2+-0x2*-0x5a9+0x325*0x2],_0xcdc02d['color'][-0x119+-0x242a+0x2544],_0xcdc02d['color'][0x986*0x1+0x948+-0x12cc])),_0x2ede75['color']=_0x38d560),_0xcdc02d['opacity']!==void(0x1*0x1a37+-0x26b4+0xc7d)&&(_0x2ede75['opacity']=_0xcdc02d['opacity']),_0xcdc02d['textureAss'+'et']!==void(0xea*0x24+0x1*0x10e2+-0x31ca)&&(_0x2ede75['textureAss'+'et']=_0xcdc02d['textureAss'+'et']),_0xcdc02d['texture']&&(_0x2ede75['texture']=_0xcdc02d['texture']),_0xcdc02d['spriteAsse'+'t']!==void(0x16b3+0x52a+-0x1bdd)&&(_0x2ede75['spriteAsse'+'t']=_0xcdc02d['spriteAsse'+'t']),_0xcdc02d['sprite']&&(_0x2ede75['sprite']=_0xcdc02d['sprite']),_0xcdc02d['spriteFram'+'e']!==void(-0x228d+-0x3b3*0xa+0x1*0x478b)&&(_0x2ede75['spriteFram'+'e']=_0xcdc02d['spriteFram'+'e']),_0xcdc02d['pixelsPerU'+'nit']!==void(-0x29*-0x3a+0x2507*0x1+-0x2e51)&&_0xcdc02d['pixelsPerU'+'nit']!==null&&(_0x2ede75['pixelsPerU'+'nit']=_0xcdc02d['pixelsPerU'+'nit']),_0xcdc02d['materialAs'+'set']!==void(-0xc3+-0x45*0x8f+-0xea*-0x2b)&&(_0x2ede75['materialAs'+'set']=_0xcdc02d['materialAs'+'set']),_0xcdc02d['material']&&(_0x2ede75['material']=_0xcdc02d['material']),_0xcdc02d['mask']!==void(0x2147+0xc1*0x5+-0x250c)&&(_0x2ede75['mask']=_0xcdc02d['mask'])):_0x2ede75['type']===jv&&(_0xcdc02d['autoWidth']!==void(0x1eae+-0x107*-0x7+-0x25df*0x1)&&(_0x2ede75['autoWidth']=_0xcdc02d['autoWidth']),_0xcdc02d['autoHeight']!==void(0x3d9*0x7+-0x2a4*-0x6+-0x2ac7)&&(_0x2ede75['autoHeight']=_0xcdc02d['autoHeight']),_0xcdc02d['rtlReorder']!==void(0xc*0x116+0x2011+0x1*-0x2d19)&&(_0x2ede75['rtlReorder']=_0xcdc02d['rtlReorder']),_0xcdc02d['unicodeCon'+'verter']!==void(-0x1*0x1d20+0x1*0xc89+-0x89*-0x1f)&&(_0x2ede75['unicodeCon'+'verter']=_0xcdc02d['unicodeCon'+'verter']),_0xcdc02d['text']!==null&&_0xcdc02d['text']!==void(-0x17*0x17f+0x22e5+-0x7c)?_0x2ede75['text']=_0xcdc02d['text']:_0xcdc02d['key']!==null&&_0xcdc02d['key']!==void(0x15ba+0x1f40+-0x1*0x34fa)&&(_0x2ede75['key']=_0xcdc02d['key']),_0xcdc02d['color']!==void(-0xd*-0x17+0x234b+-0x2476)&&(_0x38d560=_0xcdc02d['color'],_0x38d560 instanceof ie||(_0x38d560=new ie(_0x38d560[0x1*0x3d9+-0x128e+0xeb5],_0x38d560[0xfea*-0x2+0x1334+0xca1],_0x38d560[-0x27*0xfb+0x163e+0x1001])),_0x2ede75['color']=_0x38d560),_0xcdc02d['opacity']!==void(-0xe0a+-0x1*-0x464+0x9a6)&&(_0x2ede75['opacity']=_0xcdc02d['opacity']),_0xcdc02d['spacing']!==void(0xabd*0x1+-0x14*-0x49+-0x1071)&&(_0x2ede75['spacing']=_0xcdc02d['spacing']),_0xcdc02d['fontSize']!==void(-0x1c*-0x41+-0x103+-0x619)&&(_0x2ede75['fontSize']=_0xcdc02d['fontSize'],_0xcdc02d['lineHeight']||(_0x2ede75['lineHeight']=_0xcdc02d['fontSize'])),_0xcdc02d['lineHeight']!==void(-0x2413+-0x1*0x16cf+0x3ae2)&&(_0x2ede75['lineHeight']=_0xcdc02d['lineHeight']),_0xcdc02d['maxLines']!==void(-0x20f5+0x152+0x26f*0xd)&&(_0x2ede75['maxLines']=_0xcdc02d['maxLines']),_0xcdc02d['wrapLines']!==void(0x1cb2+-0xe45+-0xe6d*0x1)&&(_0x2ede75['wrapLines']=_0xcdc02d['wrapLines']),_0xcdc02d['minFontSiz'+'e']!==void(0x20e5+-0x180b+-0x8da)&&(_0x2ede75['minFontSiz'+'e']=_0xcdc02d['minFontSiz'+'e']),_0xcdc02d['maxFontSiz'+'e']!==void(-0x1c6f+-0x1*0xd22+0x2991)&&(_0x2ede75['maxFontSiz'+'e']=_0xcdc02d['maxFontSiz'+'e']),_0xcdc02d['autoFitWid'+'th']&&(_0x2ede75['autoFitWid'+'th']=_0xcdc02d['autoFitWid'+'th']),_0xcdc02d['autoFitHei'+'ght']&&(_0x2ede75['autoFitHei'+'ght']=_0xcdc02d['autoFitHei'+'ght']),_0xcdc02d['fontAsset']!==void(0x931+0x921+-0x1252)&&(_0x2ede75['fontAsset']=_0xcdc02d['fontAsset']),_0xcdc02d['font']!==void(-0x244b+-0x337*-0x1+0x2114)&&(_0x2ede75['font']=_0xcdc02d['font']),_0xcdc02d['alignment']!==void(0x17a6+0x1466+0x4*-0xb03)&&(_0x2ede75['alignment']=_0xcdc02d['alignment']),_0xcdc02d['outlineCol'+'or']!==void(0x233d+-0x59a+-0x1da3)&&(_0x2ede75['outlineCol'+'or']=_0xcdc02d['outlineCol'+'or']),_0xcdc02d['outlineThi'+'ckness']!==void(0x2cd*-0xa+-0xe50+-0x2a52*-0x1)&&(_0x2ede75['outlineThi'+'ckness']=_0xcdc02d['outlineThi'+'ckness']),_0xcdc02d['shadowColo'+'r']!==void(-0x15c0+0x63c*0x5+0xc9*-0xc)&&(_0x2ede75['shadowColo'+'r']=_0xcdc02d['shadowColo'+'r']),_0xcdc02d['shadowOffs'+'et']!==void(-0x1306+0xb44+0x6*0x14b)&&(_0x2ede75['shadowOffs'+'et']=_0xcdc02d['shadowOffs'+'et']),_0xcdc02d['enableMark'+'up']!==void(0x1*-0x1cb9+-0x3bd*0x5+0x2f6a)&&(_0x2ede75['enableMark'+'up']=_0xcdc02d['enableMark'+'up']));const _0x426ee7=_0x2ede75['_parseUpTo'+'Screen']();_0x426ee7['screen']&&_0x2ede75['_updateScr'+'een'](_0x426ee7['screen']),super['initialize'+'ComponentD'+'ata'](_0x2ede75,_0xcdc02d,_0x1fd71d),_0x2ede75['_beingInit'+'ialized']=!(0x107*-0xe+-0x5*-0x64c+-0x1119),_0x2ede75['type']===Cu&&_0x2ede75['_image']['_meshDirty']&&_0x2ede75['_image']['_updateMes'+'h'](_0x2ede75['_image']['mesh']);}['onAddCompo'+'nent'](_0x30101a,_0x253ca4){_0x30101a['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x5aad2c,_0x37aa2c){_0x37aa2c['onRemove']();}['cloneCompo'+'nent'](_0x4e3eb9,_0x1ad5d6){const _0x33163d=_0x4e3eb9['element'],_0x1a2062={'enabled':_0x33163d['enabled'],'width':_0x33163d['width'],'height':_0x33163d['height'],'anchor':_0x33163d['anchor']['clone'](),'pivot':_0x33163d['pivot']['clone'](),'margin':_0x33163d['margin']['clone'](),'alignment':_0x33163d['alignment']&&_0x33163d['alignment']['clone']()||_0x33163d['alignment'],'autoWidth':_0x33163d['autoWidth'],'autoHeight':_0x33163d['autoHeight'],'type':_0x33163d['type'],'rect':_0x33163d['rect']&&_0x33163d['rect']['clone']()||_0x33163d['rect'],'rtlReorder':_0x33163d['rtlReorder'],'unicodeConverter':_0x33163d['unicodeCon'+'verter'],'materialAsset':_0x33163d['materialAs'+'set'],'material':_0x33163d['material'],'color':_0x33163d['color']&&_0x33163d['color']['clone']()||_0x33163d['color'],'opacity':_0x33163d['opacity'],'textureAsset':_0x33163d['textureAss'+'et'],'texture':_0x33163d['texture'],'spriteAsset':_0x33163d['spriteAsse'+'t'],'sprite':_0x33163d['sprite'],'spriteFrame':_0x33163d['spriteFram'+'e'],'pixelsPerUnit':_0x33163d['pixelsPerU'+'nit'],'spacing':_0x33163d['spacing'],'lineHeight':_0x33163d['lineHeight'],'wrapLines':_0x33163d['wrapLines'],'layers':_0x33163d['layers'],'fontSize':_0x33163d['fontSize'],'minFontSize':_0x33163d['minFontSiz'+'e'],'maxFontSize':_0x33163d['maxFontSiz'+'e'],'autoFitWidth':_0x33163d['autoFitWid'+'th'],'autoFitHeight':_0x33163d['autoFitHei'+'ght'],'maxLines':_0x33163d['maxLines'],'fontAsset':_0x33163d['fontAsset'],'font':_0x33163d['font'],'useInput':_0x33163d['useInput'],'fitMode':_0x33163d['fitMode'],'batchGroupId':_0x33163d['batchGroup'+'Id'],'mask':_0x33163d['mask'],'outlineColor':_0x33163d['outlineCol'+'or']&&_0x33163d['outlineCol'+'or']['clone']()||_0x33163d['outlineCol'+'or'],'outlineThickness':_0x33163d['outlineThi'+'ckness'],'shadowColor':_0x33163d['shadowColo'+'r']&&_0x33163d['shadowColo'+'r']['clone']()||_0x33163d['shadowColo'+'r'],'shadowOffset':_0x33163d['shadowOffs'+'et']&&_0x33163d['shadowOffs'+'et']['clone']()||_0x33163d['shadowOffs'+'et'],'enableMarkup':_0x33163d['enableMark'+'up']};return _0x33163d['key']!==void(0x14*-0xef+-0x21cc+-0x124*-0x2e)&&_0x33163d['key']!==null?_0x1a2062['key']=_0x33163d['key']:_0x1a2062['text']=_0x33163d['text'],this['addCompone'+'nt'](_0x1ad5d6,_0x1a2062);}['getTextEle'+'mentMateri'+'al'](_0xb6ec5f,_0x5bf8e0,_0x473e5c){const _0x3c82f3=(_0xb6ec5f&&0x2465+0x18fb+-0x3d5f)|(_0x5bf8e0&&-0x1447+0x1526+0x1*-0xdd)|(_0x473e5c&&0x1e57*-0x1+0x329*0x7+-0x1*-0x83c);let _0x4a104a=this['_defaultTe'+'xtMaterial'+'s'][_0x3c82f3];if(_0x4a104a)return _0x4a104a;let _0x26b277='TextMateri'+'al';return _0x4a104a=new Ut(),_0x5bf8e0?(_0x4a104a['msdfMap']=this['_defaultTe'+'xture'],_0x4a104a['msdfTextAt'+'tribute']=_0x473e5c,_0x4a104a['emissive']['set'](0x19f6+0x3*0x687+0x797*-0x6,-0x2527+0x1*-0x84+0x25ac,0x1b14+-0xcef+-0xe24)):(_0x26b277='Bitmap'+_0x26b277,_0x4a104a['emissive']['set'](0x1d6a+0x2*-0xdd0+0x1c9*-0x1,-0x29f+0x2345+-0x20a5,-0x6b7*-0x1+0x258d*0x1+0x4eb*-0x9),_0x4a104a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x4a104a['opacityMap']=this['_defaultTe'+'xture'],_0x4a104a['opacityMap'+'Channel']='a'),_0xb6ec5f&&(_0x26b277='ScreenSpac'+'e'+_0x26b277,_0x4a104a['depthTest']=!(0x10e*-0x25+-0x11b*-0x4+0x229b)),_0x4a104a['name']='default'+_0x26b277,_0x4a104a['useLightin'+'g']=!(-0x2b*0x76+-0xa64+0x1e37),_0x4a104a['useTonemap']=!(-0x2d*-0xe+-0xd3*-0x3+0x1*-0x4ee),_0x4a104a['useFog']=!(-0xa5a+0x40e+0x1*0x64d),_0x4a104a['useSkybox']=!(-0x2*-0x935+0x1f2f+-0x3198),_0x4a104a['diffuse']['set'](-0x2680+0xe0f*0x2+0xa62,-0x2*0x63a+-0x22c0+0x6a*0x72,-0x16bb*0x1+-0x1b31+0x31ec),_0x4a104a['opacity']=0x1*0x1567+-0x1bd5*0x1+-0x2*-0x337+0.5,_0x4a104a['blendType']=Gn,_0x4a104a['depthWrite']=!(0x5*-0x41d+0x2*0x6b1+-0xa*-0xb8),_0x4a104a['emissiveVe'+'rtexColor']=!(-0x9ed+-0x2701*0x1+0x30ee),_0x4a104a['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x3c82f3]=_0x4a104a,_0x4a104a;}['_createBas'+'eImageMate'+'rial'](){const _0x23bf73=new Ut();return _0x23bf73['diffuse']['set'](-0x2348+0xb9*-0x2e+0x4486,-0xcac*0x2+0x1a2e+-0xd6*0x1,-0x46b*0x4+0x1*0x1303+-0x157*0x1),_0x23bf73['emissive']['set'](0x74*0x3a+-0x45c+-0x1*0x15eb,-0x1e42+-0x1174+-0x5*-0x98b,-0x1b9c+0x65*-0x25+-0x3*-0xe12),_0x23bf73['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x23bf73['opacityMap']=this['_defaultTe'+'xture'],_0x23bf73['opacityMap'+'Channel']='a',_0x23bf73['useLightin'+'g']=!(0x39*0x3+0x3*0x221+-0x13*0x5f),_0x23bf73['useTonemap']=!(0x17ce+-0x5*-0x2b3+0x1c*-0x155),_0x23bf73['useFog']=!(0x1*-0x217b+0x2020+0x1*0x15c),_0x23bf73['useSkybox']=!(-0x139f*0x1+-0x201*0x3+0x19a3),_0x23bf73['blendType']=Gn,_0x23bf73['depthWrite']=!(-0x5ad*0x6+0x1dec*-0x1+-0xb*-0x5d1),_0x23bf73;}['getImageEl'+'ementMater'+'ial'](_0x5af625,_0x5962dc,_0x27517f,_0x502836){return _0x5af625?_0x5962dc?_0x27517f?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x5c*-0x1e+0x263a+0xc1*-0x41),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0xe1d+0x3*0xca9+-0x17dd,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0xfdf*0x1+0xd83+0x25d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x1*0xc32+-0x1d23+0x2956),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x2d*0x3d+-0x74a+0x1204*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x293+-0x2112+0x1e80),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x502836?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0xf3+0x2e*0x78+-0x149c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0xbc7+0xdf4+-0x22c,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x30f+0x116f+-0xe5f*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x1dca+0x1*0x114f+-0x2f18),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x1615+0x2551+-0xf3b),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x7c3*-0x5+-0x22d2+-0x145*-0x3a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0xb70+0x3b*0xa4+-0x1a5b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1*0x317+-0xfcc+-0x1*-0xcb6,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0xc63+-0x194f+-0x3*-0xc91),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0xeda+-0x3*0xbe+0x1115),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x2c0+0x1b*0xd5+-0x13b6),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x2651+0x1fc1+0x691),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x27517f?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x20+-0x169*-0x4+-0x583),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x502836?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x51*-0x2f+-0x183*0x11+0x2893),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x1ffb+-0x65*-0x4f+0xd1*0x1),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x5962dc?_0x27517f?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x12f3+0x9e8+0xe6d*-0x2,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x12d*0x7+0x6bf*-0x1+0x41*0x3b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x2f5*-0x8+-0x1cf6+0x9*0x97),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1b55+0x1*-0x22db+-0x787*-0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x7*0xc1+-0x35d+0x8a5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x502836?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x3b5*0x3+0x1df5*-0x1+0x7*0x2b1,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x9d3+-0xb6*0x29+0x1354),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x6cf+-0xd4c*0x1+-0x2*-0x33f),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x14*0x22+-0x19*-0x16d+-0x264c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1ff+-0x10e1+-0x12e1*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x238c+0x1*-0x997+-0x19f4,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x708+-0x9e7+0x2e0),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x260f+-0x1*-0x977+0xf*-0x32b),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0xe8a*-0x2+-0xcd3+0x29e8),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x87f*-0x3+-0x3d*-0x65+0x16d),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x27517f?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x502836?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x147080){this['_unicodeCo'+'nverter']=_0x147080;}['registerRt'+'lReorder'](_0x3b5b64){this['_rtlReorde'+'r']=_0x3b5b64;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x659c7,_0x2b875f){super(_0x659c7,_0x2b875f),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x4*0x95d+-0x3e*-0x15+0x205e),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x17*0x133+0xcd5+-0xec*-0x10,0x6a*0x51+0xe90+-0x301a),this['_linearSpr'+'ingX']=!(0x47*0x15+-0x1a63+0xd*0x195),this['_linearSti'+'ffnessX']=0x1ac9*0x1+0x3f1+0x2e*-0xab,this['_linearDam'+'pingX']=-0x36+0x1c69*-0x1+-0x20*-0xe5,this['_linearEqu'+'ilibriumX']=0x12fe+0xb72*-0x2+0x3e6*0x1,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x3ea+0xb0a+-0x720,-0x1*0x4cd+0x1*-0x529+-0xa*-0xff),this['_linearSpr'+'ingY']=!(-0x250d+-0x1b8+0x26c6),this['_linearSti'+'ffnessY']=-0x17*0x45+0x1c19*-0x1+0x4*0x893,this['_linearDam'+'pingY']=0xa1*0x19+0x3*-0x9d2+0x6df*0x2,this['_linearEqu'+'ilibriumY']=-0x24a4+0x4*-0x5ee+-0x1*-0x3c5c,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(0x5a1+0x11*-0x1f4+0x1b93,-0x471*-0x1+-0x1a6+-0x2cb),this['_linearSpr'+'ingZ']=!(0xb*0xb7+0xd6b+-0xd*0x1a3),this['_linearSti'+'ffnessZ']=0x15ef+-0x17*0x5c+0xdab*-0x1,this['_linearDam'+'pingZ']=0x3*0x683+0x135c+-0x26e4,this['_linearEqu'+'ilibriumZ']=-0x1949+-0x1*0x12b6+-0x1*-0x2bff,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x147a*0x1+-0x115*-0xb+-0x2061,0x11d7*-0x1+0x1*-0x91d+-0x64*-0x45),this['_angularSp'+'ringX']=!(0x15cf+0x8f4+-0xf61*0x2),this['_angularSt'+'iffnessX']=-0xf*-0x54+0x1f0d+-0x23f9,this['_angularDa'+'mpingX']=-0x1003+0x1856+-0x429*0x2,this['_angularEq'+'uilibriumX']=0x20b1*0x1+0x334+-0x9*0x3fd,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0xe45*0x1+-0xb36+-0x251*-0xb,0xdbf+-0x961+-0x45e),this['_angularSp'+'ringY']=!(-0x2375+0x4f+0x2327*0x1),this['_angularSt'+'iffnessY']=0x2697+-0xd*0x1f6+-0xd19,this['_angularDa'+'mpingY']=0x13b2+-0x1e18+-0x1*-0xa67,this['_angularEq'+'uilibriumY']=-0x2*-0x3fe+0x1*0x23b1+0x2bad*-0x1,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x133*-0x20+-0xb4f*-0x1+0x1b11,-0x234*0x3+0x298+0x404),this['_angularSp'+'ringZ']=!(-0x71*0x33+0xa*0x366+-0xb78),this['_angularEq'+'uilibriumZ']=-0x9*0x216+0x3b*-0x8d+0x23*0x177,this['_angularDa'+'mpingZ']=-0x21df+-0x1b06*-0x1+-0x2*-0x36d,this['_angularSt'+'iffnessZ']=0x2088+-0x2349+0x2c1,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x1569ba){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x1569ba,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3e0a21){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3e0a21,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x156caa){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x156caa&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x156caa),this['_breakForc'+'e']=_0x156caa);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x489504){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x489504,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x570af0){this['_angularLi'+'mitsX']['equals'](_0x570af0)||(this['_angularLi'+'mitsX']['copy'](_0x570af0),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x3c2c99){this['_angularMo'+'tionX']!==_0x3c2c99&&(this['_angularMo'+'tionX']=_0x3c2c99,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x42d9e6){this['_angularLi'+'mitsY']['equals'](_0x42d9e6)||(this['_angularLi'+'mitsY']['copy'](_0x42d9e6),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x3f1c26){this['_angularMo'+'tionY']!==_0x3f1c26&&(this['_angularMo'+'tionY']=_0x3f1c26,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x277c63){this['_angularLi'+'mitsZ']['equals'](_0x277c63)||(this['_angularLi'+'mitsZ']['copy'](_0x277c63),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x335f4b){this['_angularMo'+'tionZ']!==_0x335f4b&&(this['_angularMo'+'tionZ']=_0x335f4b,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x3e1d59){this['_linearLim'+'itsX']['equals'](_0x3e1d59)||(this['_linearLim'+'itsX']['copy'](_0x3e1d59),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x27944d){this['_linearMot'+'ionX']!==_0x27944d&&(this['_linearMot'+'ionX']=_0x27944d,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x438927){this['_linearLim'+'itsY']['equals'](_0x438927)||(this['_linearLim'+'itsY']['copy'](_0x438927),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x14e11e){this['_linearMot'+'ionY']!==_0x14e11e&&(this['_linearMot'+'ionY']=_0x14e11e,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x2ce03f){this['_linearLim'+'itsZ']['equals'](_0x2ce03f)||(this['_linearLim'+'itsZ']['copy'](_0x2ce03f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x138987){this['_linearMot'+'ionZ']!==_0x138987&&(this['_linearMot'+'ionZ']=_0x138987,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x2f1b6e,_0x43af28){const _0xf7de55=_0x2f1b6e['getTransla'+'tion'](),_0x11c4e3=new le();_0x11c4e3['setFromMat'+'4'](_0x2f1b6e);const _0x158cb3=new Ammo['btVector3'](_0xf7de55['x'],_0xf7de55['y'],_0xf7de55['z']),_0x1b6274=new Ammo['btQuaterni'+'on'](_0x11c4e3['x'],_0x11c4e3['y'],_0x11c4e3['z'],_0x11c4e3['w']);_0x43af28['setOrigin'](_0x158cb3),_0x43af28['setRotatio'+'n'](_0x1b6274),Ammo['destroy'](_0x158cb3),Ammo['destroy'](_0x1b6274);}['_updateAng'+'ularLimits'](){const _0x17e4d7=this['_constrain'+'t'];if(_0x17e4d7){let _0x53213c,_0x322750,_0x1f7280,_0x516883,_0x880c7b,_0x2dbcd7;this['_angularMo'+'tionX']===qa?(_0x53213c=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x516883=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x53213c=0xe1*0xa+-0x336*-0x5+-0x18d7*0x1,_0x516883=0x1*-0xcb9+0x2353+0x1*-0x169a):_0x53213c=_0x516883=-0x2*-0x809+-0xa*-0x3c1+-0x359c,this['_angularMo'+'tionY']===qa?(_0x322750=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x880c7b=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x322750=0x252d+-0x1c5e+0x2e*-0x31,_0x880c7b=-0x1747*0x1+-0x260f+0x3d56*0x1):_0x322750=_0x880c7b=-0x44*0x6+0xade+-0x946*0x1,this['_angularMo'+'tionZ']===qa?(_0x1f7280=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x2dbcd7=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x1f7280=-0x60c+0x1*-0x392+0x3*0x335,_0x2dbcd7=0x29c*0xc+0x229d+0x7*-0x96b):_0x1f7280=_0x2dbcd7=-0x2073+0x1*0xb7e+0x14f5;const _0x48459b=new Ammo['btVector3'](_0x53213c,_0x322750,_0x1f7280);_0x17e4d7['setAngular'+'LowerLimit'](_0x48459b),_0x48459b['setValue'](_0x516883,_0x880c7b,_0x2dbcd7),_0x17e4d7['setAngular'+'UpperLimit'](_0x48459b),Ammo['destroy'](_0x48459b);}}['_updateLin'+'earLimits'](){const _0x5242d5=this['_constrain'+'t'];if(_0x5242d5){let _0x3d2ebd,_0x2ff798,_0x4b43bb,_0x122d06,_0x55e59f,_0x4906da;this['_linearMot'+'ionX']===qa?(_0x3d2ebd=this['_linearLim'+'itsX']['x'],_0x122d06=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x3d2ebd=0x20d5+0x2281*0x1+-0x4355,_0x122d06=0x4df+0x5*-0x535+0x152a):_0x3d2ebd=_0x122d06=-0xcde+0x209e+-0x13c0,this['_linearMot'+'ionY']===qa?(_0x2ff798=this['_linearLim'+'itsY']['x'],_0x55e59f=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x2ff798=-0x21*0x1d+0x1bff+-0x1841,_0x55e59f=-0x1c67+-0x18*0x15+0x1e5f):_0x2ff798=_0x55e59f=0x241*0xd+0xff*-0x2+0x1b4f*-0x1,this['_linearMot'+'ionZ']===qa?(_0x4b43bb=this['_linearLim'+'itsZ']['x'],_0x4906da=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x4b43bb=0x6f*0x27+0x269*-0x1+0x3*-0x4d5,_0x4906da=-0x87e+-0x7c8+0x1046):_0x4b43bb=_0x4906da=0xb*0x1a5+-0x21bd+0xfa6;const _0x106e6e=new Ammo['btVector3'](_0x3d2ebd,_0x2ff798,_0x4b43bb);_0x5242d5['setLinearL'+'owerLimit'](_0x106e6e),_0x106e6e['setValue'](_0x122d06,_0x55e59f,_0x4906da),_0x5242d5['setLinearU'+'pperLimit'](_0x106e6e),Ammo['destroy'](_0x106e6e);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x5e11a6=new te(),_0x5a46a5=this['_entityA']['rigidbody']['body'];_0x5a46a5['activate']();const _0x41ef52=this['entity']['getWorldTr'+'ansform'](),_0x2ac266=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5e11a6['mul2'](_0x2ac266,_0x41ef52);const _0x2c0036=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x5e11a6,_0x2c0036),this['_entityB']&&this['_entityB']['rigidbody']){const _0xc23a63=this['_entityB']['rigidbody']['body'];_0xc23a63['activate']();const _0x58b735=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5e11a6['mul2'](_0x58b735,_0x41ef52);const _0x298b4d=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x5e11a6,_0x298b4d),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5a46a5,_0xc23a63,_0x2c0036,_0x298b4d,!this['_enableCol'+'lision']),Ammo['destroy'](_0x298b4d);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5a46a5,_0x2c0036,!this['_enableCol'+'lision']);Ammo['destroy'](_0x2c0036);const _0x1f2773=['X','Y','Z','X','Y','Z'];for(let _0x21c06d=0x5e6+-0x5a*-0x21+0x70*-0x28;_0x21c06d<0x2*0x728+-0x1a*0xce+0x3*0x236;_0x21c06d++){const _0x5a6a56=_0x21c06d<0x21d9+0x3c*-0xd+-0x1eca?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x21c06d,this[_0x5a6a56+'Spring'+_0x1f2773[_0x21c06d]]),this['_constrain'+'t']['setDamping'](_0x21c06d,this[_0x5a6a56+'Damping'+_0x1f2773[_0x21c06d]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x21c06d,this[_0x5a6a56+('Equilibriu'+'m')+_0x1f2773[_0x21c06d]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x21c06d,this[_0x5a6a56+'Stiffness'+_0x1f2773[_0x21c06d]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x478410){for(const _0x1333e7 of RR)_0x478410['hasOwnProp'+'erty'](_0x1333e7)&&(_0x478410[_0x1333e7]instanceof J?this['_'+_0x1333e7]['copy'](_0x478410[_0x1333e7]):this['_'+_0x1333e7]=_0x478410[_0x1333e7]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x5e1856,_0x5953af,_0x3bd56c){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x6ebc3a=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0xf2b078=>{['X','Y','Z']['forEach'](_0x3fce7c=>{const _0x3d854f=_0x6ebc3a+_0xf2b078+_0x3fce7c,_0x27f1df='_'+_0x3d854f;let _0x4aba7b=_0x6ebc3a==='linear'?0x202f+0x1963+-0x3992:0x811+-0x1*-0x20c0+-0x28ce;_0x3fce7c==='Y'&&(_0x4aba7b+=0x439*-0x1+0x19b*0x12+-0x18ac*0x1),_0x3fce7c==='Z'&&(_0x4aba7b+=0xd*-0x182+0xab7+0x8e5),Object['defineProp'+'erty'](ym['prototype'],_0x3d854f,{'get':function(){return this[_0x27f1df];},'set':function(_0x4650c0){this[_0x27f1df]!==_0x4650c0&&(this[_0x27f1df]=_0x4650c0,this['_constrain'+'t'][OR[_0xf2b078]](_0x4aba7b,_0x4650c0));}});});});});class FR{constructor(){this['enabled']=!(-0x178f+-0xdc5+-0x955*-0x4);}}const Fu=['enabled'];class NR extends ct{constructor(_0x523328){super(_0x523328),this['id']='joint',this['app']=_0x523328,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x10549d,_0xfa9e,_0x32a4e0){_0x10549d['initFromDa'+'ta'](_0xfa9e),super['initialize'+'ComponentD'+'ata'](_0x10549d,_0xfa9e,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x25ff+-0x1a20+0x401f),h(this,'_minHeight',0x5d1*-0x3+0x1ba0+-0xa2d),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0xe*0xe5+-0x475+-0x19d*0x5),h(this,'_fitHeight'+'Proportion',0x1*0x2115+-0x6*-0x598+0x42a5*-0x1),h(this,'_excludeFr'+'omLayout',!(-0x1d04+-0x2*0xbc3+0x348b));}set['minWidth'](_0x33323e){_0x33323e!==this['_minWidth']&&(this['_minWidth']=_0x33323e,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x5da15a){_0x5da15a!==this['_minHeight']&&(this['_minHeight']=_0x5da15a,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x72ee4b){_0x72ee4b!==this['_maxWidth']&&(this['_maxWidth']=_0x72ee4b,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x21b13b){_0x21b13b!==this['_maxHeight']&&(this['_maxHeight']=_0x21b13b,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x21b384){_0x21b384!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x21b384,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x15173a){_0x15173a!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x15173a,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x1d16ba){_0x1d16ba!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x1d16ba,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0xce8+-0x5bc+-0x72c);}}const e0=['enabled'];class UR extends ct{constructor(_0x1e9b27){super(_0x1e9b27),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x1fe590,_0x49ee46,_0x4dd5c){_0x49ee46['enabled']!==void(0x15ba+0xb4e+-0x1c*0x12e)&&(_0x1fe590['enabled']=_0x49ee46['enabled']),_0x49ee46['minWidth']!==void(0x251d+0x1d63+0x10a*-0x40)&&(_0x1fe590['minWidth']=_0x49ee46['minWidth']),_0x49ee46['minHeight']!==void(-0x1ff8+-0x1*0xa5b+0xc5*0x37)&&(_0x1fe590['minHeight']=_0x49ee46['minHeight']),_0x49ee46['maxWidth']!==void(-0x121a+0x16a3+0x1b*-0x2b)&&(_0x1fe590['maxWidth']=_0x49ee46['maxWidth']),_0x49ee46['maxHeight']!==void(-0x14d*0x1e+-0x10b9*-0x1+0x164d)&&(_0x1fe590['maxHeight']=_0x49ee46['maxHeight']),_0x49ee46['fitWidthPr'+'oportion']!==void(0x3*0x59a+-0x1*0x1cc7+-0x5*-0x265)&&(_0x1fe590['fitWidthPr'+'oportion']=_0x49ee46['fitWidthPr'+'oportion']),_0x49ee46['fitHeightP'+'roportion']!==void(-0x963*0x1+0x18ab*-0x1+-0x5ad*-0x6)&&(_0x1fe590['fitHeightP'+'roportion']=_0x49ee46['fitHeightP'+'roportion']),_0x49ee46['excludeFro'+'mLayout']!==void(0x2*0xeb0+0x141*0x1b+-0x3f3b*0x1)&&(_0x1fe590['excludeFro'+'mLayout']=_0x49ee46['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1fe590,_0x49ee46,_0x4dd5c);}['cloneCompo'+'nent'](_0x72e639,_0x4838dc){const _0x59095f=_0x72e639['layoutchil'+'d'];return this['addCompone'+'nt'](_0x4838dc,{'enabled':_0x59095f['enabled'],'minWidth':_0x59095f['minWidth'],'minHeight':_0x59095f['minHeight'],'maxWidth':_0x59095f['maxWidth'],'maxHeight':_0x59095f['maxHeight'],'fitWidthProportion':_0x59095f['fitWidthPr'+'oportion'],'fitHeightProportion':_0x59095f['fitHeightP'+'roportion'],'excludeFromLayout':_0x59095f['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0xa47*0x3+0x1*0x168b+0x84a,BR=0x1000+0x128*0x9+0x2ef*-0x9,Qg=-0x31c+0x53+0x37*0xd,zR=0x1f53+0x1256*-0x1+0x97*-0x16,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x54a63d){let _0x5cec17;const _0x258929=Oh[_0x54a63d],_0x3ac1e0=Oh[vm[_0x54a63d]];function _0x1b2171(_0x1905ed,_0x2b2fd2){return-_0x2b2fd2[_0x258929['size']]*_0x1905ed['pivot'][_0x258929['axis']];}function _0x1c780a(_0x2e29bf,_0x5e65b8){return-_0x5e65b8[_0x3ac1e0['size']]*_0x2e29bf['pivot'][_0x3ac1e0['axis']];}function _0x95334b(_0x525645,_0x5cfab9){return _0x5cfab9[_0x258929['size']]*(0x24f6+-0x1*0x301+-0x6a*0x52-_0x525645['pivot'][_0x258929['axis']]);}function _0x27e147(_0x2a4b31,_0x31e82e){_0x2a4b31=_0x2a4b31['filter'](_0x37d0f9),_0x5cec17=_0x31e82e,ls['x']=_0x5cec17['containerS'+'ize']['x']-_0x5cec17['padding']['x']-_0x5cec17['padding']['z'],ls['y']=_0x5cec17['containerS'+'ize']['y']-_0x5cec17['padding']['y']-_0x5cec17['padding']['w'],_0x357b59(_0x2a4b31);const _0x2ff136=_0x19703(_0x38fb68(_0x2a4b31)),_0x2aca2b=_0x7ed5d7(_0x2ff136,_0x5c3c12(_0x2ff136)),_0x3cc480=_0x4e67f8(_0x2ff136,_0x2aca2b);return _0x4223e7(_0x2ff136,_0x2aca2b,_0x3cc480),_0x2eda70(_0x2ff136,_0x2aca2b,_0x3cc480),_0x51ddd7(_0x2ff136);}function _0x37d0f9(_0x6a816f){const _0x321ede=_0x6a816f['entity']['layoutchil'+'d'];return!_0x321ede||!_0x321ede['enabled']||!_0x321ede['excludeFro'+'mLayout'];}function _0x357b59(_0x31fbbc){for(let _0x470809=-0x160*0xb+0x14*-0x17b+0x2cbc;_0x470809<_0x31fbbc['length'];++_0x470809){const _0x1ed46e=_0x31fbbc[_0x470809],_0x2f97b5=_0x1ed46e['anchor'];(_0x2f97b5['x']!==0x2106+-0x6df+-0x67*0x41||_0x2f97b5['y']!==-0x1530+0x10e+-0xa11*-0x2||_0x2f97b5['z']!==-0x15e8+-0x225c*-0x1+0xc74*-0x1||_0x2f97b5['w']!==-0xbaf+-0x1*0x196f+0x1*0x251e)&&(_0x1ed46e['anchor']=re['ZERO']);}}function _0x38fb68(_0x5a144a){if(!_0x5cec17['wrap'])return[_0x5a144a];const _0x20ff9d=[[]],_0x4ac02e=_0x4ccde5(_0x5a144a);let _0x53318b=0xee0+0x1b2*0x2+-0x1244;const _0x318409=_0x5cec17[_0x258929['fitting']]===Qg;for(let _0x18b338=-0x427+-0x2266+0x268d;_0x18b338<_0x5a144a['length'];++_0x18b338){_0x20ff9d[_0x20ff9d['length']-(-0x899+0x1980+-0x10e6)]['length']>0x166*-0x4+0x653*-0x5+0x2537*0x1&&(_0x53318b+=_0x5cec17['spacing'][_0x258929['axis']]);const _0x5c844e=_0x4ac02e[_0x18b338][_0x258929['size']];_0x53318b+=_0x5c844e,!_0x318409&&_0x53318b>ls[_0x258929['axis']]&&_0x20ff9d[_0x20ff9d['length']-(-0xae7*-0x3+-0x1532+-0xb82)]['length']!==0x127d+-0x1f60+0xce3*0x1&&(_0x53318b=_0x5c844e,_0x20ff9d['push']([])),_0x20ff9d[_0x20ff9d['length']-(-0xada+0x128a+-0x119*0x7)]['push'](_0x5a144a[_0x18b338]),_0x318409&&_0x53318b>ls[_0x258929['axis']]&&_0x18b338!==_0x5a144a['length']-(0x2*0xf25+-0x103c+-0xe0d*0x1)&&(_0x53318b=0x127*-0xa+0x55d+-0x13*-0x53,_0x20ff9d['push']([]));}return _0x20ff9d;}function _0x19703(_0x51d0b7){const _0x5403ce=_0x5cec17['orientatio'+'n']===Ce&&_0x5cec17['reverseX']||_0x5cec17['orientatio'+'n']===je&&_0x5cec17['reverseY'],_0x5b5a79=_0x5cec17['orientatio'+'n']===Ce&&_0x5cec17['reverseY']||_0x5cec17['orientatio'+'n']===je&&_0x5cec17['reverseX'];if(_0x5403ce){for(let _0x4b691d=-0x2d*-0x12+-0xfd*0x4+0xca*0x1;_0x4b691d<_0x51d0b7['length'];++_0x4b691d)_0x5403ce&&_0x51d0b7[_0x4b691d]['reverse']();}return _0x5b5a79&&_0x51d0b7['reverse'](),_0x51d0b7;}function _0x5c3c12(_0x4bc9e8){const _0x2235c3=[];for(let _0x23c182=0x128a+-0xc47+-0x643;_0x23c182<_0x4bc9e8['length'];++_0x23c182){const _0x4c05c1=_0x4bc9e8[_0x23c182],_0x5d15d7=_0x4ccde5(_0x4c05c1),_0x6fdb80=_0x577747(_0x5d15d7,_0x258929),_0x1e44b7=_0x32c731(_0x5cec17[_0x258929['fitting']],_0x6fdb80,ls[_0x258929['axis']]);_0x1e44b7===os['APPLY_STRE'+'TCHING']?_0x2d6e19(_0x5d15d7,_0x6fdb80,_0x258929):_0x1e44b7===os['APPLY_SHRI'+'NKING']&&_0x41a65f(_0x5d15d7,_0x6fdb80,_0x258929),_0x2235c3['push'](_0x5d15d7);}return _0x2235c3;}function _0x7ed5d7(_0x3d15eb,_0x484de5){const _0x291156=[],_0x2c5fd5=[];for(let _0x34ab4f=-0x3*0x19b+0x1849+-0x1378;_0x34ab4f<_0x3d15eb['length'];++_0x34ab4f){const _0x373ac7=_0x3d15eb[_0x34ab4f];_0x373ac7['largestEle'+'ment']=null,_0x373ac7['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x300f3f=0x18d*0xc+-0xe22+-0x6*0xbf;_0x300f3f<_0x373ac7['length'];++_0x300f3f){const _0x183970=_0x484de5[_0x34ab4f][_0x300f3f];_0x183970[_0x3ac1e0['size']]>_0x373ac7['largestSiz'+'e'][_0x3ac1e0['size']]&&(_0x373ac7['largestEle'+'ment']=_0x373ac7[_0x300f3f],_0x373ac7['largestSiz'+'e']=_0x183970);}_0x291156['push'](_0x373ac7['largestEle'+'ment']),_0x2c5fd5['push'](_0x373ac7['largestSiz'+'e']);}const _0x882f52=_0x577747(_0x2c5fd5,_0x3ac1e0),_0xb26c2e=_0x32c731(_0x5cec17[_0x3ac1e0['fitting']],_0x882f52,ls[_0x3ac1e0['axis']]);_0xb26c2e===os['APPLY_STRE'+'TCHING']?_0x2d6e19(_0x2c5fd5,_0x882f52,_0x3ac1e0):_0xb26c2e===os['APPLY_SHRI'+'NKING']&&_0x41a65f(_0x2c5fd5,_0x882f52,_0x3ac1e0);for(let _0x441633=-0xae3+0x614+0x4cf;_0x441633<_0x3d15eb['length'];++_0x441633){const _0x24c84e=_0x3d15eb[_0x441633];for(let _0x9882a=0x21ce+0x1fad+-0x417b;_0x9882a<_0x24c84e['length'];++_0x9882a){const _0xc16e4c=_0x484de5[_0x441633][_0x9882a],_0x5c9d73=_0xc16e4c[_0x3ac1e0['size']],_0x6ff633=_0x3d15eb['length']===-0x96b+-0x1436+0x1da2?ls[_0x3ac1e0['axis']]:_0x24c84e['largestSiz'+'e'][_0x3ac1e0['size']],_0x32c0f9=_0x32c731(_0x5cec17[_0x3ac1e0['fitting']],_0x5c9d73,_0x6ff633);_0x32c0f9===os['APPLY_STRE'+'TCHING']?_0xc16e4c[_0x3ac1e0['size']]=Math['min'](_0x6ff633,_0xc16e4c[_0x3ac1e0['maxSize']]):_0x32c0f9===os['APPLY_SHRI'+'NKING']&&(_0xc16e4c[_0x3ac1e0['size']]=Math['max'](_0x6ff633,_0xc16e4c[_0x3ac1e0['minSize']]));}}return _0x484de5;}function _0x32c731(_0x494106,_0x1eddb0,_0x584562){switch(_0x494106){case Nu:return os['NONE'];case BR:return _0x1eddb0<_0x584562?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x1eddb0>=_0x584562?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x1eddb0<_0x584562?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x494106);}}function _0x577747(_0x22356d,_0x278596){const _0x413b45=_0x15022d(_0x22356d,_0x278596['size']),_0x47b690=(_0x22356d['length']-(0x83*-0x3d+-0x61*-0x12+0x1*0x1866))*_0x5cec17['spacing'][_0x278596['axis']];return _0x413b45+_0x47b690;}function _0x2d6e19(_0x43880b,_0xfcd9a1,_0x55692f){const _0x3385af=_0x4b556c(_0x43880b,_0x55692f['maxSize']),_0x4b0cb5=_0x17395e(_0x43880b,_0x55692f['fittingPro'+'portion']),_0x2f4df7=_0x553371(_0x4b0cb5,_0x3385af);let _0x1c4403=ls[_0x55692f['axis']]-_0xfcd9a1;for(let _0x3640b1=0xda5+-0xf1+-0xcb4;_0x3640b1<_0x43880b['length'];++_0x3640b1){const _0x4c837d=_0x3385af[_0x3640b1],_0x5b7525=_0xc7c67e(_0x4c837d,_0x1c4403,_0x4b0cb5,_0x2f4df7),_0xa9b8fa=_0x43880b[_0x4c837d][_0x55692f['size']]+_0x5b7525,_0x109e44=_0x43880b[_0x4c837d][_0x55692f['maxSize']],_0x466e6d=Math['min'](_0xa9b8fa,_0x109e44);_0x43880b[_0x4c837d][_0x55692f['size']]=_0x466e6d;const _0x599506=Math['max'](_0xa9b8fa-_0x466e6d,-0x1*-0x20b1+-0x16c7+-0x9ea),_0x2cc88b=_0x5b7525-_0x599506;_0x1c4403-=_0x2cc88b;}}function _0x41a65f(_0x5bad45,_0x3068e3,_0x23f46b){const _0x288d4a=_0x4b556c(_0x5bad45,_0x23f46b['minSize'],!(0x212f+-0x711*-0x2+0x1*-0x2f51)),_0x1e3d0b=_0x17395e(_0x5bad45,_0x23f46b['fittingPro'+'portion']),_0x240f7d=_0x56fa29(_0x1e3d0b),_0x502930=_0x553371(_0x240f7d,_0x288d4a);let _0x2b9ec4=_0x3068e3-ls[_0x23f46b['axis']];for(let _0x1ca041=-0xd59+0x1*0xcab+0xae;_0x1ca041<_0x5bad45['length'];++_0x1ca041){const _0x3adf25=_0x288d4a[_0x1ca041],_0x388835=_0xc7c67e(_0x3adf25,_0x2b9ec4,_0x240f7d,_0x502930),_0x506142=_0x5bad45[_0x3adf25][_0x23f46b['size']]-_0x388835,_0x591d12=_0x5bad45[_0x3adf25][_0x23f46b['minSize']],_0x480cfd=Math['max'](_0x506142,_0x591d12);_0x5bad45[_0x3adf25][_0x23f46b['size']]=_0x480cfd;const _0x2ab4fc=Math['max'](_0x480cfd-_0x506142,-0x233e+0x11ba+0x1184),_0x16bcfe=_0x388835-_0x2ab4fc;_0x2b9ec4-=_0x16bcfe;}}function _0xc7c67e(_0x43f56b,_0x5efa63,_0x41f74b,_0x5836af){const _0x3b5386=_0x41f74b[_0x43f56b],_0x146b77=_0x5836af[_0x43f56b];return Math['abs'](_0x3b5386)<0xda6+0x1*0x19b2+-0x2758+0.00001&&Math['abs'](_0x146b77)<-0xe0b*0x1+0x19ae+0xba3*-0x1+0.00001?_0x5efa63:_0x5efa63*_0x3b5386/_0x146b77;}function _0x4e67f8(_0x2affb5,_0x4cbdf7){const _0x2c0094={};_0x2c0094[_0x258929['axis']]=-0x580+-0x1ac2+-0x1021*-0x2,_0x2c0094[_0x3ac1e0['axis']]=0x13*-0x104+-0x6fd*0x1+-0x8c3*-0x3,_0x2affb5[_0x258929['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x1c24e1=[];for(let _0x3bf0ae=-0xa9d+0x2210+-0x7d1*0x3;_0x3bf0ae<_0x2affb5['length'];++_0x3bf0ae){const _0x5072cc=_0x2affb5[_0x3bf0ae];if(_0x5072cc['length']===0x270e+0x5*0x72f+-0x4af9){_0x1c24e1['push']([]);continue;}const _0x5b3c30=[],_0x3e06d1=_0x4cbdf7[_0x3bf0ae];for(let _0x4af99e=-0x1*-0x26e+0x1304+-0x1572;_0x4af99e<_0x5072cc['length'];++_0x4af99e){const _0xbe0021=_0x5072cc[_0x4af99e],_0x15e48b=_0x3e06d1[_0x4af99e];_0x2c0094[_0x3ac1e0['axis']]-=_0x1c780a(_0xbe0021,_0x15e48b),_0x2c0094[_0x258929['axis']]-=_0x1b2171(_0xbe0021,_0x15e48b),_0x5b3c30[_0x4af99e]={},_0x5b3c30[_0x4af99e][_0x258929['axis']]=_0x2c0094[_0x258929['axis']],_0x5b3c30[_0x4af99e][_0x3ac1e0['axis']]=_0x2c0094[_0x3ac1e0['axis']],_0x2c0094[_0x3ac1e0['axis']]+=_0x1c780a(_0xbe0021,_0x15e48b),_0x2c0094[_0x258929['axis']]+=_0x95334b(_0xbe0021,_0x15e48b)+_0x5cec17['spacing'][_0x258929['axis']];}_0x5072cc[_0x258929['size']]=_0x2c0094[_0x258929['axis']]-_0x5cec17['spacing'][_0x258929['axis']],_0x5072cc[_0x3ac1e0['size']]=_0x5072cc['largestSiz'+'e'][_0x3ac1e0['size']],_0x2affb5[_0x258929['size']]=Math['max'](_0x2affb5[_0x258929['size']],_0x5072cc[_0x258929['size']]),_0x2c0094[_0x258929['axis']]=0x24c9+0x1422+0x12f9*-0x3,_0x2c0094[_0x3ac1e0['axis']]+=_0x5072cc[_0x3ac1e0['size']]+_0x5cec17['spacing'][_0x3ac1e0['axis']],_0x1c24e1['push'](_0x5b3c30);}return _0x2affb5[_0x3ac1e0['size']]=_0x2c0094[_0x3ac1e0['axis']]-_0x5cec17['spacing'][_0x3ac1e0['axis']],_0x1c24e1;}function _0x4223e7(_0x30e8d9,_0x163297,_0xa5e608){const _0x2c956a=_0x5cec17['alignment'][_0x258929['axis']],_0x19acbe=_0x5cec17['alignment'][_0x3ac1e0['axis']],_0xd6faf1=_0x5cec17['padding'][_0x258929['axis']],_0x1f2c32=_0x5cec17['padding'][_0x3ac1e0['axis']];for(let _0x1d27b9=-0x23ea+0x3b2+-0x407*-0x8;_0x1d27b9<_0x30e8d9['length'];++_0x1d27b9){const _0x5d6634=_0x30e8d9[_0x1d27b9],_0x2947ca=_0x163297[_0x1d27b9],_0x5bc3fb=_0xa5e608[_0x1d27b9],_0x43be64=(ls[_0x258929['axis']]-_0x5d6634[_0x258929['size']])*_0x2c956a+_0xd6faf1,_0x1a40b6=(ls[_0x3ac1e0['axis']]-_0x30e8d9[_0x3ac1e0['size']])*_0x19acbe+_0x1f2c32;for(let _0x313bab=-0x2551+0x10db+0x369*0x6;_0x313bab<_0x5d6634['length'];++_0x313bab){const _0x2fa77a=(_0x5d6634[_0x3ac1e0['size']]-_0x2947ca[_0x313bab][_0x3ac1e0['size']])*_0x5cec17['alignment'][_0x3ac1e0['axis']];_0x5bc3fb[_0x313bab][_0x258929['axis']]+=_0x43be64,_0x5bc3fb[_0x313bab][_0x3ac1e0['axis']]+=_0x1a40b6+_0x2fa77a;}}}function _0x2eda70(_0x5aaba3,_0x32c695,_0xf20ae3){for(let _0x52bbe0=0x18b*-0x12+0xbe*-0x1+0x4*0x721;_0x52bbe0<_0x5aaba3['length'];++_0x52bbe0){const _0x5a12b9=_0x5aaba3[_0x52bbe0],_0x26de65=_0x32c695[_0x52bbe0],_0x216d54=_0xf20ae3[_0x52bbe0];for(let _0x4caa84=-0x481*-0x7+0x1a*0xc1+0x3*-0x110b;_0x4caa84<_0x5a12b9['length'];++_0x4caa84){const _0x309609=_0x5a12b9[_0x4caa84];_0x309609[_0x258929['calculated'+'Size']]=_0x26de65[_0x4caa84][_0x258929['size']],_0x309609[_0x3ac1e0['calculated'+'Size']]=_0x26de65[_0x4caa84][_0x3ac1e0['size']],_0x5cec17['orientatio'+'n']===Ce?_0x309609['entity']['setLocalPo'+'sition'](_0x216d54[_0x4caa84][_0x258929['axis']],_0x216d54[_0x4caa84][_0x3ac1e0['axis']],_0x309609['entity']['getLocalPo'+'sition']()['z']):_0x309609['entity']['setLocalPo'+'sition'](_0x216d54[_0x4caa84][_0x3ac1e0['axis']],_0x216d54[_0x4caa84][_0x258929['axis']],_0x309609['entity']['getLocalPo'+'sition']()['z']);}}}function _0x51ddd7(_0x1d93ff){const _0x576564=_0x1d93ff['width'],_0x5b351d=_0x1d93ff['height'],_0x4debce=(ls['x']-_0x576564)*_0x5cec17['alignment']['x']+_0x5cec17['padding']['x'],_0xa13dfe=(ls['y']-_0x5b351d)*_0x5cec17['alignment']['y']+_0x5cec17['padding']['y'];return{'bounds':new re(_0x4debce,_0xa13dfe,_0x576564,_0x5b351d)};}function _0x4ccde5(_0x44b586){const _0x292fb8=[];for(let _0x265847=0x22a5+-0x3*0x3a1+-0x17c2;_0x265847<_0x44b586['length'];++_0x265847){const _0x5b2cbe=_0x44b586[_0x265847],_0x2d1788=Math['max'](_0x4ac130(_0x5b2cbe,'minWidth'),-0xe9e+0x1ec5+-0x5*0x33b),_0x5c25ab=Math['max'](_0x4ac130(_0x5b2cbe,'minHeight'),0x825+0x1e00+-0x2625),_0x599f18=Math['max'](_0x4ac130(_0x5b2cbe,'maxWidth'),_0x2d1788),_0x50e67c=Math['max'](_0x4ac130(_0x5b2cbe,'maxHeight'),_0x5c25ab),_0x350606=_0x5d70ea(_0x4ac130(_0x5b2cbe,'width'),_0x2d1788,_0x599f18),_0x3e71da=_0x5d70ea(_0x4ac130(_0x5b2cbe,'height'),_0x5c25ab,_0x50e67c),_0x29ec5d=_0x4ac130(_0x5b2cbe,'fitWidthPr'+'oportion'),_0x21d7e8=_0x4ac130(_0x5b2cbe,'fitHeightP'+'roportion');_0x292fb8['push']({'minWidth':_0x2d1788,'minHeight':_0x5c25ab,'maxWidth':_0x599f18,'maxHeight':_0x50e67c,'width':_0x350606,'height':_0x3e71da,'fitWidthProportion':_0x29ec5d,'fitHeightProportion':_0x21d7e8});}return _0x292fb8;}function _0x4ac130(_0xcd94b8,_0x14e114){const _0x1a09fb=_0xcd94b8['entity']['layoutchil'+'d'];return _0x1a09fb&&_0x1a09fb['enabled']&&_0x1a09fb[_0x14e114]!==void(-0xd*-0x197+0x1e5f+-0x330a)&&_0x1a09fb[_0x14e114]!==null?_0x1a09fb[_0x14e114]:_0xcd94b8[_0x14e114]!==void(0x1eb3+0x17ab+-0x365e*0x1)?_0xcd94b8[_0x14e114]:VR[_0x14e114];}function _0x5d70ea(_0x52d963,_0x4e14b1,_0xc0fcec){return Math['min'](Math['max'](_0x52d963,_0x4e14b1),_0xc0fcec);}function _0x15022d(_0x3b2b03,_0x10f5d5){return _0x3b2b03['reduce']((_0x3c419c,_0x4dc885)=>_0x3c419c+_0x4dc885[_0x10f5d5],0x1*-0x1a89+-0xa9e*0x2+0x2fc5);}function _0x17395e(_0x8767d2,_0x373315){const _0x3e7c01=_0x15022d(_0x8767d2,_0x373315),_0x2811b6=[],_0x34354c=_0x8767d2['length'];if(_0x3e7c01===-0x1*0x1eda+-0x7*-0x1f9+0x110b){for(let _0x5802a9=-0x8*-0x233+0x10bc+-0xa9*0x34;_0x5802a9<_0x34354c;++_0x5802a9)_0x2811b6['push']((-0x317+-0xbb2*0x2+0x46a*0x6)/_0x34354c);}else{for(let _0x37976e=-0x35*0x72+0x21a8+0x507*-0x2;_0x37976e<_0x34354c;++_0x37976e)_0x2811b6['push'](_0x8767d2[_0x37976e][_0x373315]/_0x3e7c01);}return _0x2811b6;}function _0x56fa29(_0x56b6a7){if(_0x56b6a7['length']===0x1e55+-0x1b05+-0x34f)return[0x4*-0x408+-0xbaf*-0x2+-0x1*0x73d];const _0x1f3c88=[],_0x141818=_0x56b6a7['length'];for(let _0x5bc43a=-0x15c3*0x1+0x1dda+-0x817;_0x5bc43a<_0x141818;++_0x5bc43a)_0x1f3c88['push']((-0x11*-0xef+0x238b+-0x1123*0x3-_0x56b6a7[_0x5bc43a])/(_0x141818-(0x1e1a+0x5*-0x469+-0x80c)));return _0x1f3c88;}function _0x4b556c(_0x34373f,_0x4c689c,_0x22874d){return _0x34373f['forEach'](_0x27781a),_0x34373f['slice']()['sort']((_0x5374d2,_0x131076)=>_0x22874d?_0x131076[_0x4c689c]-_0x5374d2[_0x4c689c]:_0x5374d2[_0x4c689c]-_0x131076[_0x4c689c])['map'](_0x226cc4);}function _0x27781a(_0x300118,_0x4a054f){_0x300118['index']=_0x4a054f;}function _0x226cc4(_0x465a55){return _0x465a55['index'];}function _0x553371(_0x299e33,_0x370d5f){const _0x8e1ca5=[];_0x8e1ca5[_0x370d5f[_0x299e33['length']-(-0x2660+-0x1*-0xe6b+0x17f6)]]=_0x299e33[_0x370d5f[_0x299e33['length']-(0x755+-0x1*-0x177e+-0x6*0x523)]];for(let _0x197b21=_0x299e33['length']-(0x12aa+0x1*-0x1d95+0xaed);_0x197b21>=0x4bc+0x3df*-0x7+0x1*0x165d;--_0x197b21)_0x8e1ca5[_0x370d5f[_0x197b21]]=_0x8e1ca5[_0x370d5f[_0x197b21+(-0x8a7*-0x2+-0x8a8+-0x8a5)]]+_0x299e33[_0x370d5f[_0x197b21]];return _0x8e1ca5;}return _0x27e147;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x2d2522,_0x3f766a){const _0x16f869=xm[_0x3f766a['orientatio'+'n']];if(_0x16f869)return _0x16f869(_0x2d2522,_0x3f766a);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x3f766a['orientatio'+'n']);}}function Jg(_0x246857){return _0x246857['element'];}function HR(_0x49b620){return _0x49b620['enabled']&&_0x49b620['element']&&_0x49b620['element']['enabled'];}class s0 extends we{constructor(_0x54c29f,_0x259fa8){super(_0x54c29f,_0x259fa8),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x105a+0x3f0+-0x1*0x1449)),h(this,'_reverseY',!(-0x47f*-0x4+0x16d+-0x1369*0x1)),h(this,'_alignment',new J(0xc6e+0x2e6*-0xb+0x1374,-0x1*-0xfba+0x2*0xe1d+-0x1*0x2bf3)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x1*-0x1d0f+-0x15b*-0x2+0x1a5a)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x472c82=>{this['_listenFor'+'ReflowEven'+'ts'](_0x472c82,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x54c29f['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x54c29f['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x54c29f['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x54c29f['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x54c29f['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x54c29f['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x6b1050){_0x6b1050!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x6b1050,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x5ea918){_0x5ea918!==this['_reverseX']&&(this['_reverseX']=_0x5ea918,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x55f2ea){_0x55f2ea!==this['_reverseY']&&(this['_reverseY']=_0x55f2ea,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x57bdba){_0x57bdba['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x57bdba),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x5f31ed){_0x5f31ed['equals'](this['_padding'])||(this['_padding']['copy'](_0x5f31ed),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x38a915){_0x38a915['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x38a915),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x13a8ee){_0x13a8ee!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x13a8ee,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x37ade4){_0x37ade4!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x37ade4,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x5d2a75){_0x5d2a75!==this['_wrap']&&(this['_wrap']=_0x5d2a75,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x1403d0){return _0x1403d0===this['entity']||this['entity']['children']['indexOf'](_0x1403d0)!==-(-0x7*-0x457+0x2f*0x22+-0x249e);}['_listenFor'+'ReflowEven'+'ts'](_0x21e390,_0x13c08a){_0x21e390['element']&&(_0x21e390['element'][_0x13c08a]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x21e390['element'][_0x13c08a]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x21e390['element'][_0x13c08a]('resize',this['_scheduleR'+'eflow'],this),_0x21e390['element'][_0x13c08a]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x21e390['layoutchil'+'d']&&(_0x21e390['layoutchil'+'d'][_0x13c08a]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x21e390['layoutchil'+'d'][_0x13c08a]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x46a5f6){this['_isSelfOrC'+'hild'](_0x46a5f6)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x46a5f6,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x3aedff){this['_isSelfOrC'+'hild'](_0x3aedff)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3aedff,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x206154){this['_listenFor'+'ReflowEven'+'ts'](_0x206154,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x45a5c7){this['_listenFor'+'ReflowEven'+'ts'](_0x45a5c7,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x1cf0b5=Jg(this['entity']),_0x4435f2=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x1cf0b5||_0x4435f2['length']===-0xa*0x8+-0x17d5+0x1825)return;const _0x4700ef=Math['max'](_0x1cf0b5['calculated'+'Width'],-0x62e*-0x6+0xd*0x10d+0x1f*-0x1a3),_0x4be481=Math['max'](_0x1cf0b5['calculated'+'Height'],0x1*0x1c12+-0x1347+-0x8cb),_0xab4d85={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x4700ef,_0x4be481)};this['_isPerform'+'ingReflow']=!(-0x5d4*-0x2+0x1*-0x225a+0x33e*0x7);const _0x180ced=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x4435f2,_0xab4d85);this['_isPerform'+'ingReflow']=!(-0x133*-0x2+-0x1*-0x333+0x2*-0x2cc),this['fire']('reflow',_0x180ced);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x5abaad=>{this['_listenFor'+'ReflowEven'+'ts'](_0x5abaad,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x1*-0xe21+-0x1994+-0x6b*-0x5f);}}const i0=['enabled'],$R=-0x13a8+0x1d1c+-0x910;class XR extends ct{constructor(_0x1a6617){super(_0x1a6617),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x470b39,_0x3d318a,_0x1c95ac){_0x3d318a['enabled']!==void(-0xa27+-0x11a5+-0x1bcc*-0x1)&&(_0x470b39['enabled']=_0x3d318a['enabled']),_0x3d318a['orientatio'+'n']!==void(-0x1fc5+0xf06+0x1*0x10bf)&&(_0x470b39['orientatio'+'n']=_0x3d318a['orientatio'+'n']),_0x3d318a['reverseX']!==void(0x165a*-0x1+-0x1*0x1c0b+0x3265)&&(_0x470b39['reverseX']=_0x3d318a['reverseX']),_0x3d318a['reverseY']!==void(-0x2*0x1287+-0x14a4+0x39b2)&&(_0x470b39['reverseY']=_0x3d318a['reverseY']),_0x3d318a['alignment']!==void(0x6e7+-0x1294*-0x2+-0x2c0f)&&(_0x470b39['alignment']=Array['isArray'](_0x3d318a['alignment'])?new J(_0x3d318a['alignment']):_0x3d318a['alignment']),_0x3d318a['padding']!==void(-0x79c+-0x18e6+-0x92*-0x39)&&(_0x470b39['padding']=Array['isArray'](_0x3d318a['padding'])?new re(_0x3d318a['padding']):_0x3d318a['padding']),_0x3d318a['spacing']!==void(0x3ef+-0x108a+0xc9b)&&(_0x470b39['spacing']=Array['isArray'](_0x3d318a['spacing'])?new J(_0x3d318a['spacing']):_0x3d318a['spacing']),_0x3d318a['widthFitti'+'ng']!==void(0xdf5*0x1+-0x5*0x223+-0x346)&&(_0x470b39['widthFitti'+'ng']=_0x3d318a['widthFitti'+'ng']),_0x3d318a['heightFitt'+'ing']!==void(0x773+0xfe8*0x1+-0x7c9*0x3)&&(_0x470b39['heightFitt'+'ing']=_0x3d318a['heightFitt'+'ing']),_0x3d318a['wrap']!==void(0x25ec+0x18a7*-0x1+-0xd45)&&(_0x470b39['wrap']=_0x3d318a['wrap']),super['initialize'+'ComponentD'+'ata'](_0x470b39,_0x3d318a,_0x1c95ac);}['cloneCompo'+'nent'](_0x18d948,_0x19d08d){const _0x3ed24c=_0x18d948['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x19d08d,{'enabled':_0x3ed24c['enabled'],'orientation':_0x3ed24c['orientatio'+'n'],'reverseX':_0x3ed24c['reverseX'],'reverseY':_0x3ed24c['reverseY'],'alignment':_0x3ed24c['alignment'],'padding':_0x3ed24c['padding'],'spacing':_0x3ed24c['spacing'],'widthFitting':_0x3ed24c['widthFitti'+'ng'],'heightFitting':_0x3ed24c['heightFitt'+'ing'],'wrap':_0x3ed24c['wrap']});}['scheduleRe'+'flow'](_0x623edc){this['_reflowQue'+'ue']['indexOf'](_0x623edc)===-(0xcd2+-0x262c+0x195b)&&this['_reflowQue'+'ue']['push'](_0x623edc);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0xd6b+-0x5*-0x52f+-0x20*0x64)return;let _0x508b1f=0x137*-0x7+0x6e4+-0x19d*-0x1;for(;this['_reflowQue'+'ue']['length']>-0x412+-0xe8d+0x129f;){const _0x4e6f89=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x84a+0x6ce*-0x4+0x2382,_0x4e6f89['sort']((_0x112a72,_0x54922a)=>_0x112a72['entity']['graphDepth']-_0x54922a['entity']['graphDepth']);for(let _0x4b14f8=-0x8*-0x21a+0xc05+-0x1cd5;_0x4b14f8<_0x4e6f89['length'];++_0x4b14f8)_0x4e6f89[_0x4b14f8]['reflow']();if(++_0x508b1f>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x132f6d,_0xf483cf){_0xf483cf['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0xc2a972){this['map']['forEach'](_0x307255=>_0x307255['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x3164af,_0x7e207)=>{const _0x1f7efc=jR['get'](_0x3164af,()=>new qR());let _0x3ec9cd=_0x1f7efc['map']['get'](_0x7e207);if(!_0x3ec9cd){let _0x2abb89,_0x125db7;switch(_0x7e207){case'box':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new mu()),_0x125db7={'x':0x2,'y':0x2,'z':0x2,'uv':(0x23ca+-0x563*-0x3+-0x33f1*0x1)/(-0x282+-0x1180+0x1405)};break;case'capsule':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new GA({'radius':0.5,'height':0x2})),_0x125db7={'x':Math['PI']*(0xcbb*-0x1+-0x979+-0x2*-0xb1b),'y':Math['PI'],'z':Math['PI']*(-0x477+-0x1986+0x1*0x1dff),'uv':(-0x510+-0x17fd+0x1d0e)/(0x1*0x49+-0x1a3+0x15d)+(-0x1a0f+0x55*-0x52+-0x13*-0x2ce)/(0x1*0x143a+0x2416+-0x384d)/(-0x1c95+-0x6cd+0x2365)*(-0x153d+-0x163*-0x5+0xe50)};break;case'cone':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x125db7={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x6df*-0x5+-0xbf8*-0x2+-0x3a4a)/(0x26f7+0x2f*-0xa+-0x251e)+(0x60d+-0x1aca+0x14be)/(0x64+0x1797+0x34*-0x76)/(-0x1bf*0x4+-0x1825*0x1+0xf92*0x2)};break;case'cylinder':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new WA({'radius':0.5,'height':0x1})),_0x125db7={'x':Math['PI'],'y':(-0x39d+0x1f1a+-0x1b7d+0.79)*(-0x12e0+-0x67*0x12+0x1a20),'z':Math['PI'],'uv':(-0x11*0x23+0x9*-0x1e1+0xc5*0x19)/(0x19ee*-0x1+0x2*-0xe80+0x36f1)+(0x1ac+0x1*-0x1619+0x146e*0x1)/(0x1112+0xa65+0xfb*-0x1c)/(0xd1*0x2f+-0x344+-0x2318)*(0x161c*0x1+-0x18bd+0x2a3)};break;case'plane':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new $A({'halfExtents':new J(0x1*-0x24e8+-0x1279*-0x1+0x126f+0.5,0x11aa+0x1f7a+-0x3124+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x125db7={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new _m({'radius':0.5})),_0x125db7={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x2abb89=Ge['fromGeomet'+'ry'](_0x3164af,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x125db7={'x':Math['PI']*(-0x1cb0+-0x24e2*0x1+-0x4d*-0xda+0.5)*(0x1*-0x11e9+-0x2*0x9c6+-0x2575*-0x1+0.5)-Math['PI']*(0x1236*-0x2+-0x5c*-0x14+0x1d3c+0.1)*(-0x584+-0x7*0x537+0x2a05+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x7e207);}_0x2abb89['incRefCoun'+'t'](),_0x3ec9cd={'mesh':_0x2abb89,'area':_0x125db7},_0x1f7efc['map']['set'](_0x7e207,_0x3ec9cd);}return _0x3ec9cd;};class Tm extends we{constructor(_0x13610e,_0x496a09){super(_0x13610e,_0x496a09),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x23fe+0xbf+0x3*-0xc3f)),h(this,'_receiveSh'+'adows',!(0x37+0x1319*0x1+-0x1350)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x1*0x21ea+0x4*-0x455+0x333e)),h(this,'_lightmapp'+'ed',!(0x2100+0x956*0x4+0xb*-0x665)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x25c3+-0xa10+0x58a*-0x5),h(this,'isStatic',!(0xbce+-0x1a00+0xe33)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x5e*-0x63+-0x101*-0x1b+-0x20*-0x4a)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x2352+0xb9b+0x17b8)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x13610e['defaultMat'+'erial'],_0x496a09['on']('remove',this['onRemoveCh'+'ild'],this),_0x496a09['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x496a09['on']('insert',this['onInsertCh'+'ild'],this),_0x496a09['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x5e8eb5){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x5e8eb5);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x2d43e3){if(this['_customAab'+'b']=_0x2d43e3,this['_model']){const _0x2f4dc7=this['_model']['meshInstan'+'ces'];if(_0x2f4dc7){for(let _0x289112=0x2293+0x1f*-0x8d+-0x1180;_0x289112<_0x2f4dc7['length'];_0x289112++)_0x2f4dc7[_0x289112]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x29d8a1){if(this['_type']!==_0x29d8a1){if(this['_area']=null,this['_type']=_0x29d8a1,_0x29d8a1==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x45cb6a=r0(this['system']['app']['graphicsDe'+'vice'],_0x29d8a1);this['_area']=_0x45cb6a['area'];const _0xb5ec4b=_0x45cb6a['mesh'],_0xa2864f=new Ie(),_0x352c4c=new sr();_0x352c4c['graph']=_0xa2864f,_0x352c4c['meshInstan'+'ces']=[new He(_0xb5ec4b,this['_material'],_0xa2864f)],this['model']=_0x352c4c,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x37709d){const _0x1b933e=this['system']['app']['assets'];let _0x4f5749=_0x37709d;if(_0x37709d instanceof pe&&(_0x4f5749=_0x37709d['id']),this['_asset']!==_0x4f5749){if(this['_asset']){_0x1b933e['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x2ec561=_0x1b933e['get'](this['_asset']);_0x2ec561&&this['_unbindMod'+'elAsset'](_0x2ec561);}if(this['_asset']=_0x4f5749,this['_asset']){const _0xefe50d=_0x1b933e['get'](this['_asset']);_0xefe50d?this['_bindModel'+'Asset'](_0xefe50d):(this['model']=null,_0x1b933e['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x17934b){if(this['_model']!==_0x17934b){if(_0x17934b&&_0x17934b['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x842+0x2*-0x1087+0x18cd),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x123b*0x1+0x2319+0x1*-0x3553))),this['_model']=_0x17934b,this['_model']){this['_model']['_immutable']=!(0x462+0x1*-0x15cd+-0x27d*-0x7);const _0x326e46=this['_model']['meshInstan'+'ces'];for(let _0x4c22bc=0x1979+-0xa10+-0xf69;_0x4c22bc<_0x326e46['length'];_0x4c22bc++)_0x326e46[_0x4c22bc]['castShadow']=this['_castShado'+'ws'],_0x326e46[_0x4c22bc]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x326e46[_0x4c22bc]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x488ecf){if(_0x488ecf!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x488ecf,this['_model'])){const _0x573bdc=this['_model']['meshInstan'+'ces'];for(let _0x347619=0x21*-0x4+-0x13d*-0x6+0x3b*-0x1e;_0x347619<_0x573bdc['length'];_0x347619++)_0x573bdc[_0x347619]['setLightma'+'pped'](_0x488ecf);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x539cb0){if(this['_castShado'+'ws']===_0x539cb0)return;const _0x271878=this['_model'];if(_0x271878){const _0x558cab=this['layers'],_0x1c205a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x539cb0)for(let _0x5b1ea4=-0xad2+-0x5c3+0x1095;_0x5b1ea4<_0x558cab['length'];_0x5b1ea4++){const _0x28d9af=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5b1ea4]);_0x28d9af&&_0x28d9af['removeShad'+'owCasters'](_0x271878['meshInstan'+'ces']);}const _0x273bb2=_0x271878['meshInstan'+'ces'];for(let _0x932da0=0x5a9+-0x1*-0x2029+-0x25d2;_0x932da0<_0x273bb2['length'];_0x932da0++)_0x273bb2[_0x932da0]['castShadow']=_0x539cb0;if(!this['_castShado'+'ws']&&_0x539cb0)for(let _0xe9b99b=0x185+-0x260a+-0x2485*-0x1;_0xe9b99b<_0x558cab['length'];_0xe9b99b++){const _0x10a811=_0x1c205a['layers']['getLayerBy'+'Id'](_0x558cab[_0xe9b99b]);_0x10a811&&_0x10a811['addShadowC'+'asters'](_0x271878['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x539cb0;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2a0bed){if(this['_receiveSh'+'adows']!==_0x2a0bed&&(this['_receiveSh'+'adows']=_0x2a0bed,this['_model'])){const _0x94ff7d=this['_model']['meshInstan'+'ces'];for(let _0x2e4586=-0x49*0x1e+0x1bce+-0x1340,_0xa04c83=_0x94ff7d['length'];_0x2e4586<_0xa04c83;_0x2e4586++)_0x94ff7d[_0x2e4586]['receiveSha'+'dow']=_0x2a0bed;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x76fa60){this['_castShado'+'wsLightmap']=_0x76fa60;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x147981){this['_lightmapS'+'izeMultipl'+'ier']=_0x147981;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x418ab3){const _0x1babf8=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x12f261=-0xa9c+0x1507*-0x1+0x1fa3;_0x12f261<this['_layers']['length'];_0x12f261++){const _0x5236f1=_0x1babf8['getLayerBy'+'Id'](this['_layers'][_0x12f261]);_0x5236f1&&_0x5236f1['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x10da+-0x2644+0x156a;for(let _0x1fe3c8=0x8b*0x39+0x203e+-0x3f31*0x1;_0x1fe3c8<_0x418ab3['length'];_0x1fe3c8++)this['_layers'][_0x1fe3c8]=_0x418ab3[_0x1fe3c8];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x5d1077=-0x21bd+-0x9e*-0x1d+0xfd7;_0x5d1077<this['_layers']['length'];_0x5d1077++){const _0x4bc62e=_0x1babf8['getLayerBy'+'Id'](this['_layers'][_0x5d1077]);_0x4bc62e&&_0x4bc62e['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x2a65b1){var _0x148ce6,_0x5ea582;this['_batchGrou'+'pId']!==_0x2a65b1&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x2127+-0xcb+-0x817*0x4&&((_0x148ce6=this['system']['app']['batcher'])==null||_0x148ce6['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2a65b1>=-0x94*-0x30+0x49*0x31+-0xb*0x3cb&&((_0x5ea582=this['system']['app']['batcher'])==null||_0x5ea582['insert'](St['MODEL'],_0x2a65b1,this['entity'])),_0x2a65b1<0x26f1+0xa70+0x1*-0x3161&&this['_batchGrou'+'pId']>=-0x1b8d+0x71c+0x1471&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x2a65b1);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x489603){let _0x3d38d4=_0x489603;_0x489603 instanceof pe&&(_0x3d38d4=_0x489603['id']);const _0x6c1b5b=this['system']['app']['assets'];if(_0x3d38d4!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x6c1b5b['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x3fa3d0=_0x6c1b5b['get'](this['_materialA'+'sset']);_0x3fa3d0&&this['_unbindMat'+'erialAsset'](_0x3fa3d0);}if(this['_materialA'+'sset']=_0x3d38d4,this['_materialA'+'sset']){const _0x579460=_0x6c1b5b['get'](this['_materialA'+'sset']);_0x579460?this['_bindMater'+'ialAsset'](_0x579460):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x6c1b5b['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x128dd8){this['_material']!==_0x128dd8&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x128dd8));}get['material'](){return this['_material'];}set['mapping'](_0x19d065){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x19d065||(_0x19d065={}),this['_mapping']=_0x19d065,!this['_model']))return;const _0x33d7ec=this['_model']['meshInstan'+'ces'],_0x4de3b6=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x414683=_0x4de3b6?_0x4de3b6['data']['mapping']:null;let _0x3071e1=null;for(let _0x5d4573=-0x33*0x92+-0x26af+0x43c5,_0x454b3c=_0x33d7ec['length'];_0x5d4573<_0x454b3c;_0x5d4573++)if(_0x19d065[_0x5d4573]!==void(0x1d1f+0x1e12+0x3*-0x13bb))_0x19d065[_0x5d4573]?(_0x3071e1=this['system']['app']['assets']['get'](_0x19d065[_0x5d4573]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3071e1,_0x33d7ec[_0x5d4573],_0x5d4573)):_0x33d7ec[_0x5d4573]['material']=this['system']['defaultMat'+'erial'];else{if(_0x414683){if(_0x414683[_0x5d4573]&&(_0x414683[_0x5d4573]['material']||_0x414683[_0x5d4573]['path'])){if(_0x414683[_0x5d4573]['material']!==void(0x891*-0x1+0x1*0x8c7+-0x36))_0x3071e1=this['system']['app']['assets']['get'](_0x414683[_0x5d4573]['material']);else{if(_0x414683[_0x5d4573]['path']!==void(0x1*-0x13fb+-0x22cf+0x36ca)){const _0x29360c=this['_getMateri'+'alAssetUrl'](_0x414683[_0x5d4573]['path']);_0x29360c&&(_0x3071e1=this['system']['app']['assets']['getByUrl'](_0x29360c));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3071e1,_0x33d7ec[_0x5d4573],_0x5d4573);}else _0x33d7ec[_0x5d4573]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x2876e3=this['system']['app']['scene']['layers'];for(let _0x3d8dca=0x35*0x51+-0xf56+-0x16f;_0x3d8dca<this['_layers']['length'];_0x3d8dca++){const _0x3e26a3=_0x2876e3['getLayerBy'+'Id'](this['_layers'][_0x3d8dca]);_0x3e26a3&&_0x3e26a3['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x465478=this['system']['app']['scene']['layers'];for(let _0x4894ac=0x49*-0x41+0x2e7*0xa+-0x1*0xa7d;_0x4894ac<this['_layers']['length'];_0x4894ac++){const _0x4fb0e8=_0x465478['getLayerBy'+'Id'](this['_layers'][_0x4894ac]);_0x4fb0e8&&_0x4fb0e8['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x15be2f,_0x218bd0){this['addModelTo'+'Layers'](),_0x15be2f['off']('add',this['onLayerAdd'+'ed'],this),_0x15be2f['off']('remove',this['onLayerRem'+'oved'],this),_0x218bd0['on']('add',this['onLayerAdd'+'ed'],this),_0x218bd0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5c5b23){this['layers']['indexOf'](_0x5c5b23['id'])<-0x132f*0x2+0x809+0x1e55||_0x5c5b23['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2836d2){this['layers']['indexOf'](_0x2836d2['id'])<-0x5+0x8a3*-0x3+0x19ee||_0x2836d2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x44eadd,_0x397dd5,_0x55f807,_0x2fb534){const _0x3b7423=_0x397dd5+':'+_0x55f807;this['system']['app']['assets']['on'](_0x3b7423,_0x2fb534,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x44eadd]||(this['_materialE'+'vents'][_0x44eadd]={}),this['_materialE'+'vents'][_0x44eadd][_0x3b7423]={'id':_0x55f807,'handler':_0x2fb534};}['_unsetMate'+'rialEvents'](){const _0xdec8c3=this['system']['app']['assets'],_0xa01a87=this['_materialE'+'vents'];if(_0xa01a87){for(let _0xae590f=-0x761*0x1+-0x5de+0xd3f*0x1,_0xf71072=_0xa01a87['length'];_0xae590f<_0xf71072;_0xae590f++){if(!_0xa01a87[_0xae590f])continue;const _0x391a96=_0xa01a87[_0xae590f];for(const _0x1cada5 in _0x391a96)_0xdec8c3['off'](_0x1cada5,_0x391a96[_0x1cada5]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x451cf1){let _0x1d1195=null;if(!isNaN(parseInt(_0x451cf1,0x4c1+-0x1*0x14ba+0x1*0x1003)))_0x1d1195=this['system']['app']['assets']['get'](_0x451cf1);else{if(this['asset']){const _0x247f92=this['_getMateri'+'alAssetUrl'](_0x451cf1);_0x247f92&&(_0x1d1195=this['system']['app']['assets']['getByUrl'](_0x247f92));}}return _0x1d1195;}['_getMateri'+'alAssetUrl'](_0x5857ac){if(!this['asset'])return null;const _0x59ed81=this['system']['app']['assets']['get'](this['asset']);return _0x59ed81?_0x59ed81['getAbsolut'+'eUrl'](_0x5857ac):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0xb76cf0,_0x2514b2,_0x168b36){const _0x583092=this['system']['app']['assets'];_0xb76cf0&&(_0xb76cf0['resource']?(_0x2514b2['material']=_0xb76cf0['resource'],this['_setMateri'+'alEvent'](_0x168b36,'remove',_0xb76cf0['id'],function(){_0x2514b2['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x168b36,'load',_0xb76cf0['id'],function(_0x5488c0){_0x2514b2['material']=_0x5488c0['resource'],this['_setMateri'+'alEvent'](_0x168b36,'remove',_0xb76cf0['id'],function(){_0x2514b2['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x583092['load'](_0xb76cf0)));}['onEnable'](){var _0x597ba1;const _0x9f1e05=this['system']['app'],_0x4bb9a1=_0x9f1e05['scene'],_0xf1bebd=_0x4bb9a1==null?void(0x2348+0x1*0x127f+-0x161*0x27):_0x4bb9a1['layers'];this['_evtLayers'+'Changed']=_0x4bb9a1['on']('set:layers',this['onLayersCh'+'anged'],this),_0xf1bebd&&(this['_evtLayerA'+'dded']=_0xf1bebd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xf1bebd['on']('remove',this['onLayerRem'+'oved'],this));const _0xd83a5e=this['_type']==='asset';let _0x3ec26f;if(this['_model']?this['addModelTo'+'Layers']():_0xd83a5e&&this['_asset']&&(_0x3ec26f=_0x9f1e05['assets']['get'](this['_asset']),_0x3ec26f&&_0x3ec26f['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x3ec26f)),this['_materialA'+'sset']&&(_0x3ec26f=_0x9f1e05['assets']['get'](this['_materialA'+'sset']),_0x3ec26f&&_0x3ec26f['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x3ec26f)),_0xd83a5e&&this['_mapping']){for(const _0x47c173 in this['_mapping'])this['_mapping'][_0x47c173]&&(_0x3ec26f=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x47c173]),_0x3ec26f&&!_0x3ec26f['resource']&&_0x9f1e05['assets']['load'](_0x3ec26f));}this['_batchGrou'+'pId']>=0x31f*0x4+0x2f*0x9a+-0x28c2&&((_0x597ba1=_0x9f1e05['batcher'])==null||_0x597ba1['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x4f8897,_0x18baf8,_0x26feab,_0x892d2c;const _0x341053=this['system']['app'],_0x34401b=_0x341053['scene']['layers'];(_0x4f8897=this['_evtLayers'+'Changed'])==null||_0x4f8897['off'](),this['_evtLayers'+'Changed']=null,_0x34401b&&((_0x18baf8=this['_evtLayerA'+'dded'])==null||_0x18baf8['off'](),this['_evtLayerA'+'dded']=null,(_0x26feab=this['_evtLayerR'+'emoved'])==null||_0x26feab['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x2a2*0x5+-0x1*0x24b7+0x71*0x71&&((_0x892d2c=_0x341053['batcher'])==null||_0x892d2c['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x59bbb5=this['_model']['meshInstan'+'ces'];for(let _0x1787fc=0x46c+-0x1*0xa56+0x2*0x2f5,_0x67b096=_0x59bbb5['length'];_0x1787fc<_0x67b096;_0x1787fc++)_0x59bbb5[_0x1787fc]['visible']=!(-0xafe+0x1ffe+-0x7d*0x2b);}}['show'](){if(this['_model']){const _0x3fab46=this['_model']['meshInstan'+'ces'];for(let _0x254c0a=-0xb5*-0x1f+0x4df*-0x1+0x4*-0x443,_0x3f6364=_0x3fab46['length'];_0x254c0a<_0x3f6364;_0x254c0a++)_0x3fab46[_0x254c0a]['visible']=!(-0x18a9+0x5de*0x2+0x3*0x44f);}}['_bindMater'+'ialAsset'](_0x1c38ad){if(_0x1c38ad['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x1c38ad['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x1c38ad['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x1c38ad['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x1c38ad['resource'])this['_onMateria'+'lAssetLoad'](_0x1c38ad);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1c38ad);}}['_unbindMat'+'erialAsset'](_0x5904bb){_0x5904bb['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x5904bb['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x5904bb['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x5904bb['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x2048b2){this['system']['app']['assets']['off']('add:'+_0x2048b2['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x2048b2['id']&&this['_bindMater'+'ialAsset'](_0x2048b2);}['_onMateria'+'lAssetLoad'](_0x2fa2ec){this['_setMateri'+'al'](_0x2fa2ec['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x22d5fd){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x452f92){this['_onMateria'+'lAssetUnlo'+'ad'](_0x452f92);}['_onMateria'+'lAssetChan'+'ge'](_0x935151){}['_bindModel'+'Asset'](_0x29c53d){if(this['_unbindMod'+'elAsset'](_0x29c53d),_0x29c53d['on']('load',this['_onModelAs'+'setLoad'],this),_0x29c53d['on']('unload',this['_onModelAs'+'setUnload'],this),_0x29c53d['on']('change',this['_onModelAs'+'setChange'],this),_0x29c53d['on']('remove',this['_onModelAs'+'setRemove'],this),_0x29c53d['resource'])this['_onModelAs'+'setLoad'](_0x29c53d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x29c53d);}}['_unbindMod'+'elAsset'](_0x17e693){_0x17e693['off']('load',this['_onModelAs'+'setLoad'],this),_0x17e693['off']('unload',this['_onModelAs'+'setUnload'],this),_0x17e693['off']('change',this['_onModelAs'+'setChange'],this),_0x17e693['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x38a74d){this['system']['app']['assets']['off']('add:'+_0x38a74d['id'],this['_onModelAs'+'setAdded'],this),_0x38a74d['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x38a74d);}['_onModelAs'+'setLoad'](_0x1d5214){this['model']=_0x1d5214['resource']['clone'](),this['_clonedMod'+'el']=!(-0x23e7+-0x4*0x82+0x25ef);}['_onModelAs'+'setUnload'](_0x55360e){this['model']=null;}['_onModelAs'+'setChange'](_0x12d806,_0x436bca,_0x5d3f2b,_0x3c88c9){_0x436bca==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x2723cd){this['model']=null;}['_setMateri'+'al'](_0x101e4e){if(this['_material']===_0x101e4e)return;this['_material']=_0x101e4e;const _0x3fb656=this['_model'];if(_0x3fb656&&this['_type']!=='asset'){const _0xce6fee=_0x3fb656['meshInstan'+'ces'];for(let _0x45eb98=0x1625+-0xb55+-0xad0,_0x2ac4ff=_0xce6fee['length'];_0x45eb98<_0x2ac4ff;_0x45eb98++)_0xce6fee[_0x45eb98]['material']=_0x101e4e;}}}class YR{constructor(){this['enabled']=!(0xb2b*-0x1+-0x102d+0x1b58);}}const a0=['enabled'];class KR extends ct{constructor(_0x50d51f){super(_0x50d51f),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x50d51f['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2671b1,_0x5e61d8,_0x184ce6){_0x184ce6=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x5e61d8['batchGroup'+'Id']===null||_0x5e61d8['batchGroup'+'Id']===void(0x2705*0x1+-0x1*-0x7d0+-0x277*0x13))&&(_0x5e61d8['batchGroup'+'Id']=-(-0xa23+0x1*-0x4c1+0xee5)),_0x5e61d8['layers']&&_0x5e61d8['layers']['length']&&(_0x5e61d8['layers']=_0x5e61d8['layers']['slice'](0xbf3+-0x44*0xd+-0xf*0x91));for(let _0x3bda8e=-0x18e5+0x1350+-0x595*-0x1;_0x3bda8e<_0x184ce6['length'];_0x3bda8e++)_0x5e61d8['hasOwnProp'+'erty'](_0x184ce6[_0x3bda8e])&&(_0x2671b1[_0x184ce6[_0x3bda8e]]=_0x5e61d8[_0x184ce6[_0x3bda8e]]);_0x5e61d8['aabbCenter']&&_0x5e61d8['aabbHalfEx'+'tents']&&(_0x2671b1['customAabb']=new De(new D(_0x5e61d8['aabbCenter']),new D(_0x5e61d8['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x2671b1,_0x5e61d8,['enabled']);}['cloneCompo'+'nent'](_0x1a0e6a,_0x49e2f5){const _0x576b01={'type':_0x1a0e6a['model']['type'],'asset':_0x1a0e6a['model']['asset'],'castShadows':_0x1a0e6a['model']['castShadow'+'s'],'receiveShadows':_0x1a0e6a['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x1a0e6a['model']['castShadow'+'sLightmap'],'lightmapped':_0x1a0e6a['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x1a0e6a['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x1a0e6a['model']['isStatic'],'enabled':_0x1a0e6a['model']['enabled'],'layers':_0x1a0e6a['model']['layers'],'batchGroupId':_0x1a0e6a['model']['batchGroup'+'Id'],'mapping':ah({},_0x1a0e6a['model']['mapping'])};let _0x4c3d75=_0x1a0e6a['model']['materialAs'+'set'];!(_0x4c3d75 instanceof pe)&&_0x4c3d75!=null&&(_0x4c3d75=this['app']['assets']['get'](_0x4c3d75));const _0x35a422=_0x1a0e6a['model']['material'];(!_0x35a422||_0x35a422===this['defaultMat'+'erial']||!_0x4c3d75||_0x35a422===_0x4c3d75['resource'])&&(_0x576b01['materialAs'+'set']=_0x4c3d75);const _0x58a91c=this['addCompone'+'nt'](_0x49e2f5,_0x576b01);if(_0x1a0e6a['model']['model']&&_0x1a0e6a['model']['type']==='asset'&&!_0x1a0e6a['model']['asset']&&(_0x58a91c['model']=_0x1a0e6a['model']['model']['clone'](),_0x58a91c['_clonedMod'+'el']=!(0xe*0x159+0x12d+0x1*-0x140b)),_0x576b01['materialAs'+'set']||(_0x58a91c['material']=_0x35a422),_0x1a0e6a['model']['model']){const _0x1a8581=_0x1a0e6a['model']['model']['meshInstan'+'ces'],_0x2cddcc=_0x58a91c['model']['meshInstan'+'ces'];for(let _0x3b8903=-0xc86*-0x1+0xeae+-0x1b34;_0x3b8903<_0x1a8581['length'];_0x3b8903++)_0x2cddcc[_0x3b8903]['mask']=_0x1a8581[_0x3b8903]['mask'],_0x2cddcc[_0x3b8903]['material']=_0x1a8581[_0x3b8903]['material'],_0x2cddcc[_0x3b8903]['layer']=_0x1a8581[_0x3b8903]['layer'],_0x2cddcc[_0x3b8903]['receiveSha'+'dow']=_0x1a8581[_0x3b8903]['receiveSha'+'dow'];}return _0x1a0e6a['model']['customAabb']&&(_0x58a91c['customAabb']=_0x1a0e6a['model']['customAabb']['clone']()),_0x58a91c;}['onRemove'](_0x1e7a87,_0x384ff6){_0x384ff6['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x3ba014,_0x5906ac){super(_0x3ba014,_0x5906ac),h(this,'_requested'+'Depth',!(-0xf61+-0x9ba+0x191c)),h(this,'_drawOrder',0x5ce*0x1+0x92*-0x3d+-0x1cfc*-0x1),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x21bfe0=>{this['on']('set_'+_0x21bfe0,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x3aca81=>{this['on']('set_'+_0x3aca81,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x593852=>{this['on']('set_'+_0x593852,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x3869f0=this['system']['store'][this['entity']['getGuid']()];return _0x3869f0?_0x3869f0['data']:null;}set['enabled'](_0x29b758){this['_setValue']('enabled',_0x29b758);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0xf9eb3a){this['_setValue']('autoPlay',_0xf9eb3a);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1c6ebf){this['_setValue']('numParticl'+'es',_0x1c6ebf);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x59e32b){this['_setValue']('lifetime',_0x59e32b);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x209303){this['_setValue']('rate',_0x209303);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x49925f){this['_setValue']('rate2',_0x49925f);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x4ad54a){this['_setValue']('startAngle',_0x4ad54a);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x40fd8f){this['_setValue']('startAngle'+'2',_0x40fd8f);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x150802){this['_setValue']('loop',_0x150802);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0xfb5f24){this['_setValue']('preWarm',_0xfb5f24);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x4ff0a5){this['_setValue']('lighting',_0x4ff0a5);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x3dd92d){this['_setValue']('halfLamber'+'t',_0x3dd92d);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x50d93b){this['_setValue']('intensity',_0x50d93b);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x50736f){this['_setValue']('depthWrite',_0x50736f);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x1a7166){this['_setValue']('noFog',_0x1a7166);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x39ff0f){this['_setValue']('depthSofte'+'ning',_0x39ff0f);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x2653d0){this['_setValue']('sort',_0x2653d0);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x5bb06d){this['_setValue']('blendType',_0x5bb06d);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x2ad1b8){this['_setValue']('stretch',_0x2ad1b8);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x2aacf1){this['_setValue']('alignToMot'+'ion',_0x2aacf1);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x347867){this['_setValue']('emitterSha'+'pe',_0x347867);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x46bdb1){this['_setValue']('emitterExt'+'ents',_0x46bdb1);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x39ccab){this['_setValue']('emitterExt'+'entsInner',_0x39ccab);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x5c5aa1){this['_setValue']('emitterRad'+'ius',_0x5c5aa1);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x3360db){this['_setValue']('emitterRad'+'iusInner',_0x3360db);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x4296ff){this['_setValue']('initialVel'+'ocity',_0x4296ff);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x53a2bf){this['_setValue']('wrap',_0x53a2bf);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x419a0c){this['_setValue']('wrapBounds',_0x419a0c);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x3716c0){this['_setValue']('localSpace',_0x3716c0);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x39b428){this['_setValue']('screenSpac'+'e',_0x39b428);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0xdec7eb){this['_setValue']('colorMapAs'+'set',_0xdec7eb);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x48230b){this['_setValue']('normalMapA'+'sset',_0x48230b);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x3d7b1){this['_setValue']('mesh',_0x3d7b1);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x2ed807){this['_setValue']('meshAsset',_0x2ed807);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x51c019){this['_setValue']('renderAsse'+'t',_0x51c019);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x8777f){this['_setValue']('orientatio'+'n',_0x8777f);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x1d5020){this['_setValue']('particleNo'+'rmal',_0x1d5020);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x40a845){this['_setValue']('localVeloc'+'ityGraph',_0x40a845);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x195349){this['_setValue']('localVeloc'+'ityGraph2',_0x195349);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x59773e){this['_setValue']('velocityGr'+'aph',_0x59773e);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x7267ac){this['_setValue']('velocityGr'+'aph2',_0x7267ac);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x1bdeed){this['_setValue']('rotationSp'+'eedGraph',_0x1bdeed);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x234ba1){this['_setValue']('rotationSp'+'eedGraph2',_0x234ba1);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4b2754){this['_setValue']('radialSpee'+'dGraph',_0x4b2754);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5820e9){this['_setValue']('radialSpee'+'dGraph2',_0x5820e9);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x547b94){this['_setValue']('scaleGraph',_0x547b94);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x451b8d){this['_setValue']('scaleGraph'+'2',_0x451b8d);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x5e0315){this['_setValue']('colorGraph',_0x5e0315);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x457dd7){this['_setValue']('colorGraph'+'2',_0x457dd7);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x1b50cd){this['_setValue']('alphaGraph',_0x1b50cd);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x406849){this['_setValue']('alphaGraph'+'2',_0x406849);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x1a29a7){this['_setValue']('colorMap',_0x1a29a7);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x32e2e4){this['_setValue']('normalMap',_0x32e2e4);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x44aa83){this['_setValue']('animTilesX',_0x44aa83);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x17370c){this['_setValue']('animTilesY',_0x17370c);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x54b8e0){this['_setValue']('animStartF'+'rame',_0x54b8e0);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x665ff6){this['_setValue']('animNumFra'+'mes',_0x665ff6);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x528590){this['_setValue']('animNumAni'+'mations',_0x528590);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x37dba2){this['_setValue']('animIndex',_0x37dba2);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x34bccf){this['_setValue']('randomizeA'+'nimIndex',_0x34bccf);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0xf91fda){this['_setValue']('animSpeed',_0xf91fda);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x4764b2){this['_setValue']('animLoop',_0x4764b2);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5d91f2){this['_setValue']('layers',_0x5d91f2);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x22a0a7){this['_drawOrder']=_0x22a0a7,this['emitter']&&(this['emitter']['drawOrder']=_0x22a0a7);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x3401f3,_0x42c932){const _0x59520f=this['data'],_0x203079=_0x59520f[_0x3401f3];_0x59520f[_0x3401f3]=_0x42c932,this['fire']('set',_0x3401f3,_0x203079,_0x42c932);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x25c945=0xa3b+-0xe9*0xe+0x283;_0x25c945<this['layers']['length'];_0x25c945++){const _0x58619e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x25c945]);_0x58619e&&(_0x58619e['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x58619e);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x2a767a=0x1ea+0xf56*-0x1+0xd6c;_0x2a767a<this['layers']['length'];_0x2a767a++){const _0x5d4608=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2a767a]);_0x5d4608&&_0x5d4608['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x2f9927,_0x42b43b,_0x5ce0e8){if(this['emitter']){for(let _0x149a21=0x1*0x1b62+-0x1*-0x793+-0x22f5*0x1;_0x149a21<_0x42b43b['length'];_0x149a21++){const _0x53a803=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x42b43b[_0x149a21]);_0x53a803&&_0x53a803['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x84039a=-0x229*-0x4+-0x15c0+0xd1c;_0x84039a<_0x5ce0e8['length'];_0x84039a++){const _0x1e1f4b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5ce0e8[_0x84039a]);_0x1e1f4b&&_0x1e1f4b['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x1c27e0,_0x555cf9){this['addMeshIns'+'tanceToLay'+'ers'](),_0x1c27e0['off']('add',this['onLayerAdd'+'ed'],this),_0x1c27e0['off']('remove',this['onLayerRem'+'oved'],this),_0x555cf9['on']('add',this['onLayerAdd'+'ed'],this),_0x555cf9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x49dc51){!this['emitter']||this['layers']['indexOf'](_0x49dc51['id'])<0x22fa+-0x49*-0x1f+-0x2bd1||_0x49dc51['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x427b87){!this['emitter']||this['layers']['indexOf'](_0x427b87['id'])<-0x1a43*0x1+0x1c2+0x99*0x29||_0x427b87['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x51df3c){if(_0x51df3c['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x51df3c['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x51df3c['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x51df3c['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x51df3c['resource'])this['_onColorMa'+'pAssetLoad'](_0x51df3c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x51df3c);}}['_unbindCol'+'orMapAsset'](_0x214dc3){_0x214dc3['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x214dc3['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x214dc3['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x214dc3['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x18ba83){this['colorMap']=_0x18ba83['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x4a8f16){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x424661){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x424661);}['_onColorMa'+'pAssetChan'+'ge'](_0x3923d8){}['onSetColor'+'MapAsset'](_0x359236,_0xbf937f,_0x263dd3){const _0x5d97da=this['system']['app']['assets'];if(_0xbf937f){const _0x266c5e=_0x5d97da['get'](_0xbf937f);_0x266c5e&&this['_unbindCol'+'orMapAsset'](_0x266c5e);}if(_0x263dd3){_0x263dd3 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x263dd3['id'],_0x263dd3=_0x263dd3['id']);const _0x358ce7=_0x5d97da['get'](_0x263dd3);_0x358ce7?this['_bindColor'+'MapAsset'](_0x358ce7):_0x5d97da['once']('add:'+_0x263dd3,_0x2dcb29=>{this['_bindColor'+'MapAsset'](_0x2dcb29);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x25b2b3){if(_0x25b2b3['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x25b2b3['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x25b2b3['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x25b2b3['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x25b2b3['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x25b2b3);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x25b2b3);}}['_unbindNor'+'malMapAsse'+'t'](_0x33098d){_0x33098d['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x33098d['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x33098d['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x33098d['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x4ade16){this['normalMap']=_0x4ade16['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x4ddd53){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x61826){this['_onNormalM'+'apAssetUnl'+'oad'](_0x61826);}['_onNormalM'+'apAssetCha'+'nge'](_0x5a1a67){}['onSetNorma'+'lMapAsset'](_0x117682,_0x1f1595,_0x4a5878){const _0x3f0983=this['system']['app']['assets'];if(_0x1f1595){const _0x2985e9=_0x3f0983['get'](_0x1f1595);_0x2985e9&&this['_unbindNor'+'malMapAsse'+'t'](_0x2985e9);}if(_0x4a5878){_0x4a5878 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x4a5878['id'],_0x4a5878=_0x4a5878['id']);const _0x3ab017=_0x3f0983['get'](_0x4a5878);_0x3ab017?this['_bindNorma'+'lMapAsset'](_0x3ab017):_0x3f0983['once']('add:'+_0x4a5878,_0x5b4d42=>{this['_bindNorma'+'lMapAsset'](_0x5b4d42);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x5cb29f){if(_0x5cb29f['on']('load',this['_onMeshAss'+'etLoad'],this),_0x5cb29f['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x5cb29f['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x5cb29f['on']('change',this['_onMeshAss'+'etChange'],this),_0x5cb29f['resource'])this['_onMeshAss'+'etLoad'](_0x5cb29f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5cb29f);}}['_unbindMes'+'hAsset'](_0x5d5429){_0x5d5429['off']('load',this['_onMeshAss'+'etLoad'],this),_0x5d5429['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x5d5429['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x5d5429['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x4b3afe){this['_onMeshCha'+'nged'](_0x4b3afe['resource']);}['_onMeshAss'+'etUnload'](_0x1043c2){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x5db37b){this['_onMeshAss'+'etUnload'](_0x5db37b);}['_onMeshAss'+'etChange'](_0x4a339f){}['onSetMeshA'+'sset'](_0x36beaf,_0x1ae8fd,_0x48b105){const _0x213d3d=this['system']['app']['assets'];if(_0x1ae8fd){const _0x2a00f6=_0x213d3d['get'](_0x1ae8fd);_0x2a00f6&&this['_unbindMes'+'hAsset'](_0x2a00f6);}if(_0x48b105){_0x48b105 instanceof pe&&(this['data']['meshAsset']=_0x48b105['id'],_0x48b105=_0x48b105['id']);const _0x170580=_0x213d3d['get'](_0x48b105);_0x170580&&this['_bindMeshA'+'sset'](_0x170580);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xea6e40,_0x20d8fa,_0x554fa1){!_0x554fa1||_0x554fa1 instanceof pe||typeof _0x554fa1=='number'?this['meshAsset']=_0x554fa1:this['_onMeshCha'+'nged'](_0x554fa1);}['_onMeshCha'+'nged'](_0x1be552){_0x1be552&&!(_0x1be552 instanceof Ge)&&(_0x1be552['meshInstan'+'ces'][0x1232+-0x3*-0xcd6+0x4*-0xe2d]?_0x1be552=_0x1be552['meshInstan'+'ces'][0x1aad+-0xac8+-0xfe5]['mesh']:_0x1be552=null),this['data']['mesh']=_0x1be552,this['emitter']&&(this['emitter']['mesh']=_0x1be552,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x2bbd74,_0x4d4e11,_0x3a881e){const _0x4e19e5=this['system']['app']['assets'];if(_0x4d4e11){const _0x5c4705=_0x4e19e5['get'](_0x4d4e11);_0x5c4705&&this['_unbindRen'+'derAsset'](_0x5c4705);}if(_0x3a881e){_0x3a881e instanceof pe&&(this['data']['renderAsse'+'t']=_0x3a881e['id'],_0x3a881e=_0x3a881e['id']);const _0x333476=_0x4e19e5['get'](_0x3a881e);_0x333476&&this['_bindRende'+'rAsset'](_0x333476);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x440074){if(_0x440074['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x440074['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x440074['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x440074['resource'])this['_onRenderA'+'ssetLoad'](_0x440074);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x440074);}}['_unbindRen'+'derAsset'](_0x2b2d47){var _0x2d881a;_0x2b2d47['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x2b2d47['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2b2d47['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x2d881a=this['_evtSetMes'+'hes'])==null||_0x2d881a['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x53c366){this['_onRenderC'+'hanged'](_0x53c366['resource']);}['_onRenderA'+'ssetUnload'](_0x143937){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x277a7a){this['_onRenderA'+'ssetUnload'](_0x277a7a);}['_onRenderC'+'hanged'](_0x14a933){var _0x30ab0c;if(!_0x14a933){this['_onMeshCha'+'nged'](null);return;}(_0x30ab0c=this['_evtSetMes'+'hes'])==null||_0x30ab0c['off'](),this['_evtSetMes'+'hes']=_0x14a933['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x14a933['meshes']&&this['_onRenderS'+'etMeshes'](_0x14a933['meshes']);}['_onRenderS'+'etMeshes'](_0x5d43f6){this['_onMeshCha'+'nged'](_0x5d43f6&&_0x5d43f6[-0x281*0x2+-0x1b*-0x1a+0x3a*0xa]);}['onSetLoop'](_0x243ea9,_0x3e2d1c,_0x546feb){this['emitter']&&(this['emitter'][_0x243ea9]=_0x546feb,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x38d2ce,_0x72bbaa,_0x19c242){this['emitter']&&(this['emitter'][_0x38d2ce]=_0x19c242,this['emitter']['material']['blendType']=_0x19c242,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x200d+0x2557+0x22b2*-0x2)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1*-0x14e7+-0x58e*-0x7+-0x11fa));}['onSetDepth'+'Softening'](_0x3c9652,_0x22a7da,_0x37671f){_0x22a7da!==_0x37671f&&(_0x37671f?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x3c9652]=_0x37671f)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x3c9652]=_0x37671f)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x6cb2aa,_0x9b0adc,_0x206f00){this['emitter']&&(this['emitter'][_0x6cb2aa]=_0x206f00,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0xe620e1,_0x3597f5,_0x115316){this['emitter']&&(this['emitter'][_0xe620e1]=_0x115316,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x540507,_0x51806d,_0x288ee9){this['emitter']&&(this['emitter'][_0x540507]=_0x288ee9,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x5c0d69=this['system']['app']['scene'],_0x3ccf91=_0x5c0d69['layers'],_0x2a602f=this['data'];for(let _0xc93f4b=-0x5ee+0x10*0x72+0x1*-0x132,_0x3015b2=Cc['length'];_0xc93f4b<_0x3015b2;_0xc93f4b++){let _0x3d106e=_0x2a602f[Cc[_0xc93f4b]];if(_0x3d106e){if(!(_0x3d106e instanceof pe)){if(parseInt(_0x3d106e,0x136a+0x974+0x2e2*-0xa)>=-0x2*0x28b+0x1b57+0x3*-0x76b)_0x3d106e=this['system']['app']['assets']['get'](_0x3d106e);else continue;}_0x3d106e&&!_0x3d106e['resource']&&this['system']['app']['assets']['load'](_0x3d106e);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x3e1d2b=_0x2a602f['mesh'];_0x3e1d2b instanceof Ge||(_0x3e1d2b=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2a602f['numParticl'+'es'],'emitterExtents':_0x2a602f['emitterExt'+'ents'],'emitterExtentsInner':_0x2a602f['emitterExt'+'entsInner'],'emitterRadius':_0x2a602f['emitterRad'+'ius'],'emitterRadiusInner':_0x2a602f['emitterRad'+'iusInner'],'emitterShape':_0x2a602f['emitterSha'+'pe'],'initialVelocity':_0x2a602f['initialVel'+'ocity'],'wrap':_0x2a602f['wrap'],'localSpace':_0x2a602f['localSpace'],'screenSpace':_0x2a602f['screenSpac'+'e'],'wrapBounds':_0x2a602f['wrapBounds'],'lifetime':_0x2a602f['lifetime'],'rate':_0x2a602f['rate'],'rate2':_0x2a602f['rate2'],'orientation':_0x2a602f['orientatio'+'n'],'particleNormal':_0x2a602f['particleNo'+'rmal'],'animTilesX':_0x2a602f['animTilesX'],'animTilesY':_0x2a602f['animTilesY'],'animStartFrame':_0x2a602f['animStartF'+'rame'],'animNumFrames':_0x2a602f['animNumFra'+'mes'],'animNumAnimations':_0x2a602f['animNumAni'+'mations'],'animIndex':_0x2a602f['animIndex'],'randomizeAnimIndex':_0x2a602f['randomizeA'+'nimIndex'],'animSpeed':_0x2a602f['animSpeed'],'animLoop':_0x2a602f['animLoop'],'startAngle':_0x2a602f['startAngle'],'startAngle2':_0x2a602f['startAngle'+'2'],'scaleGraph':_0x2a602f['scaleGraph'],'scaleGraph2':_0x2a602f['scaleGraph'+'2'],'colorGraph':_0x2a602f['colorGraph'],'colorGraph2':_0x2a602f['colorGraph'+'2'],'alphaGraph':_0x2a602f['alphaGraph'],'alphaGraph2':_0x2a602f['alphaGraph'+'2'],'localVelocityGraph':_0x2a602f['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2a602f['localVeloc'+'ityGraph2'],'velocityGraph':_0x2a602f['velocityGr'+'aph'],'velocityGraph2':_0x2a602f['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2a602f['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2a602f['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2a602f['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2a602f['radialSpee'+'dGraph2'],'colorMap':_0x2a602f['colorMap'],'normalMap':_0x2a602f['normalMap'],'loop':_0x2a602f['loop'],'preWarm':_0x2a602f['preWarm'],'sort':_0x2a602f['sort'],'stretch':_0x2a602f['stretch'],'alignToMotion':_0x2a602f['alignToMot'+'ion'],'lighting':_0x2a602f['lighting'],'halfLambert':_0x2a602f['halfLamber'+'t'],'intensity':_0x2a602f['intensity'],'depthSoftening':_0x2a602f['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x3e1d2b,'depthWrite':_0x2a602f['depthWrite'],'noFog':_0x2a602f['noFog'],'node':this['entity'],'blendType':_0x2a602f['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2a602f['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1b34+-0x1af1+-0x3*0x16));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x5c0d69['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3ccf91&&(this['_evtLayerA'+'dded']=_0x3ccf91['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3ccf91['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2a602f['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0xb2fe5a,_0x34c06a,_0x532c1a;const _0x260a76=this['system']['app']['scene']['layers'];(_0xb2fe5a=this['_evtLayers'+'Changed'])==null||_0xb2fe5a['off'](),this['_evtLayers'+'Changed']=null,_0x260a76&&((_0x34c06a=this['_evtLayerA'+'dded'])==null||_0x34c06a['off'](),this['_evtLayerA'+'dded']=null,(_0x532c1a=this['_evtLayerR'+'emoved'])==null||_0x532c1a['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x962*-0x1+-0x11fc+0x27d*0xb)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x11f3d8=-0x2*0xdd3+0x2a2*-0x2+0x20ea;_0x11f3d8<Cc['length'];_0x11f3d8++){const _0x5a6e0f=Cc[_0x11f3d8];this['data'][_0x5a6e0f]&&(this[_0x5a6e0f]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x6*-0x5cb+-0x4*-0x10d+0x1*0x1e8f),this['emitter']['resetTime'](),this['emitter']['addTime'](0x267c+0x5b*-0x33+-0xc1*0x1b,!(-0x489+0x4*0x10+0x449)));}['pause'](){this['data']['paused']=!(-0x1*-0x19f5+-0x1*0x9da+-0x101b);}['unpause'](){this['data']['paused']=!(0x1200+-0x11b5+0x2*-0x25);}['play'](){this['data']['paused']=!(-0x11*0x193+-0x6*-0xbe+0x1650),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x2*-0xc37+0x3*0xe4+0x1*-0x1b1a),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x3*0x54a+0x287+0xd58):this['emitter']&&this['emitter']['loop']?!(0x248b*0x1+0x1e*-0x16+-0x2f*0xb9):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1b5ca7}=this;_0x1b5ca7&&!_0x1b5ca7['inTools']&&(_0x1b5ca7['inTools']=!(-0x1179+-0x1ef+0x114*0x12),this['rebuild']());}['rebuild'](){const _0x60effd=this['enabled'];this['enabled']=!(-0x14e7*-0x1+-0x13*-0x121+0x2a59*-0x1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x60effd;}}class t3{constructor(){this['numParticl'+'es']=-0x139d*0x1+-0xd*-0x20e+-0x8*0xe3,this['rate']=0x24fb*-0x1+0x234f+0x1ad,this['rate2']=null,this['startAngle']=-0xa2a+-0x7*0x1f3+0x17cf,this['startAngle'+'2']=null,this['lifetime']=-0x19*-0x59+-0x90f+0x90,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0x3d*-0x13+0xc9d+-0x1124,this['emitterRad'+'iusInner']=0xdf1*0x1+-0x2b*0x3e+-0x2b*0x15,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x29*-0xd3+0xce*-0xd+0x1*0x2c41,this['wrap']=!(-0x2263*-0x1+0x1a14+-0xda*0x47),this['wrapBounds']=new D(),this['localSpace']=!(-0x1020+0x2675+-0x4*0x595),this['screenSpac'+'e']=!(0x2*0x4fd+-0x1d8a+0x1391),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x16e*-0x13+0xf7*-0x19+0x29*-0x13),this['preWarm']=!(-0x634*0x3+0x1ad5+0x1*-0x838),this['sort']=-0x1*0xd0d+-0x28*-0x35+0x4c5*0x1,this['mode']=rv,this['scene']=null,this['lighting']=!(0x1*0x2575+-0xb*0x16f+-0x15af),this['halfLamber'+'t']=!(0x1775*0x1+0xb2d*-0x1+-0xc47),this['intensity']=0xfa7+-0x4f*-0x2+-0x2b6*0x6,this['stretch']=0x190f+-0x2133+-0x412*-0x2,this['alignToMot'+'ion']=!(0x1d18+-0x1811*-0x1+-0x3528),this['depthSofte'+'ning']=0xa*0x173+-0x3*-0x173+-0x173*0xd,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x47a+0xef9+-0xa7e),this['noFog']=!(-0x1413+-0xa*0x3a7+-0x1*-0x389a),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0xe9*0x25+0xf3f+0x3e*-0xca,-0x45*0x33+0x11a7+-0x3e7,0x254e+-0x1b9a+0x6*-0x19e),this['animTilesX']=0x1*0x769+-0x3*0xba1+-0x1b7b*-0x1,this['animTilesY']=0x38e+-0x474+0xe7,this['animStartF'+'rame']=-0x16cd+0x24de+-0xe11,this['animNumFra'+'mes']=-0x1ef+-0x5*-0x7cf+0x19d*-0x17,this['animNumAni'+'mations']=-0x7ed+-0x2656+0x2e44,this['animIndex']=-0x45*-0x67+-0xa33+0x232*-0x8,this['randomizeA'+'nimIndex']=!(0x1806+0x172+0x29*-0x9f),this['animSpeed']=0x6db*0x1+0xdad+-0x1487,this['animLoop']=!(-0x1340+0x1a9e*0x1+-0x75e),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x193+0x2ad*-0xb+0x1bdc),this['paused']=!(0x25*-0x5+0x1*-0x1843+0x18fd*0x1),this['autoPlay']=!(0x161b*0x1+-0x1+-0x45*0x52),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x138deb){super(_0x138deb),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x138deb['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x138deb['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x114888,_0x375fba,_0x46629e){const _0x2eac42={};_0x46629e=[];const _0x4f0b04=this['propertyTy'+'pes'];(_0x375fba['mesh']instanceof pe||typeof _0x375fba['mesh']=='number')&&(_0x375fba['meshAsset']=_0x375fba['mesh'],delete _0x375fba['mesh']);for(const _0x3d0d5b in _0x375fba){if(_0x375fba['hasOwnProp'+'erty'](_0x3d0d5b)&&(_0x46629e['push'](_0x3d0d5b),_0x2eac42[_0x3d0d5b]=_0x375fba[_0x3d0d5b]),_0x4f0b04[_0x3d0d5b]==='vec3')Array['isArray'](_0x2eac42[_0x3d0d5b])&&(_0x2eac42[_0x3d0d5b]=new D(_0x2eac42[_0x3d0d5b][0x8e9*0x1+-0x4d+-0x89c],_0x2eac42[_0x3d0d5b][-0x817+-0x22a5+0x2abd*0x1],_0x2eac42[_0x3d0d5b][-0xb32*0x3+0xa*0x4a+0x1eb4]));else{if(_0x4f0b04[_0x3d0d5b]==='curve'){if(!(_0x2eac42[_0x3d0d5b]instanceof qs)){const _0x166ce2=_0x2eac42[_0x3d0d5b]['type'];_0x2eac42[_0x3d0d5b]=new qs(_0x2eac42[_0x3d0d5b]['keys']),_0x2eac42[_0x3d0d5b]['type']=_0x166ce2;}}else{if(_0x4f0b04[_0x3d0d5b]==='curveset'&&!(_0x2eac42[_0x3d0d5b]instanceof na)){const _0x16152d=_0x2eac42[_0x3d0d5b]['type'];_0x2eac42[_0x3d0d5b]=new na(_0x2eac42[_0x3d0d5b]['keys']),_0x2eac42[_0x3d0d5b]['type']=_0x16152d;}}}_0x2eac42['layers']&&Array['isArray'](_0x2eac42['layers'])&&(_0x2eac42['layers']=_0x2eac42['layers']['slice'](-0x10f6*-0x2+0x1e+-0x220a));}super['initialize'+'ComponentD'+'ata'](_0x114888,_0x2eac42,_0x46629e);}['cloneCompo'+'nent'](_0x6fb164,_0x363703){const _0x40cbed=_0x6fb164['particlesy'+'stem']['data'],_0x5a3994=this['schema'],_0x4a40d5={};for(let _0x504dcf=0x134+0x1*0x2681+-0x13*0x217,_0x1f0487=_0x5a3994['length'];_0x504dcf<_0x1f0487;_0x504dcf++){const _0x3e114a=_0x5a3994[_0x504dcf];let _0xe634d=_0x40cbed[_0x3e114a];_0xe634d instanceof D||_0xe634d instanceof qs||_0xe634d instanceof na?(_0xe634d=_0xe634d['clone'](),_0x4a40d5[_0x3e114a]=_0xe634d):_0x3e114a==='layers'?_0x4a40d5['layers']=_0x40cbed['layers']['slice'](0x1e3a+0x1*-0x1bfa+-0x240):_0xe634d!=null&&(_0x4a40d5[_0x3e114a]=_0xe634d);}return this['addCompone'+'nt'](_0x363703,_0x4a40d5);}['onUpdate'](_0x52652d){const _0x33350b=this['store'],_0x112dc3=this['app']['stats']['particles'],_0x15ecb5=this['app']['scene']['layers'];for(let _0xa189c3=-0x14b9+0x2f4+0x11c5;_0xa189c3<_0x15ecb5['layerList']['length'];_0xa189c3++)_0x15ecb5['layerList'][_0xa189c3]['requiresLi'+'ghtCube']=!(-0x1fab+0x114c+-0x73*-0x20);for(const _0x2c080e in _0x33350b)if(_0x33350b['hasOwnProp'+'erty'](_0x2c080e)){const _0x2af41d=_0x33350b[_0x2c080e],_0x5a903d=_0x2af41d['entity'],_0x4408b9=_0x2af41d['data'];if(_0x4408b9['enabled']&&_0x5a903d['enabled']){const _0x4d901d=_0x5a903d['particlesy'+'stem']['emitter'];if(!(_0x4d901d!=null&&_0x4d901d['meshInstan'+'ce']['visible']))continue;if(_0x4d901d['lighting']){const _0x10e60a=_0x4408b9['layers'];for(let _0x279486=0x3*-0x293+0x1244+-0xa8b*0x1;_0x279486<_0x10e60a['length'];_0x279486++){const _0x346668=_0x15ecb5['getLayerBy'+'Id'](_0x10e60a[_0x279486]);_0x346668&&(_0x346668['requiresLi'+'ghtCube']=!(0x224b+0x5c9*0x1+0xb4*-0x39));}}if(!_0x4408b9['paused']){let _0x52e5b0=0x202b+-0xd*0x1fb+-0x1*0x66c;if(_0x4d901d['simTime']+=_0x52652d,_0x4d901d['simTime']>=_0x4d901d['fixedTimeS'+'tep']&&(_0x52e5b0=Math['floor'](_0x4d901d['simTime']/_0x4d901d['fixedTimeS'+'tep']),_0x4d901d['simTime']-=_0x52e5b0*_0x4d901d['fixedTimeS'+'tep']),_0x52e5b0){_0x52e5b0=Math['min'](_0x52e5b0,_0x4d901d['maxSubStep'+'s']);for(let _0x17af2f=0x6b7+0x6c9+-0xd80;_0x17af2f<_0x52e5b0;_0x17af2f++)_0x4d901d['addTime'](_0x4d901d['fixedTimeS'+'tep'],!(0x19*-0x187+-0x3*0x1d1+-0x1*-0x2ba3));_0x112dc3['_updatesPe'+'rFrame']+=_0x52e5b0,_0x112dc3['_frameTime']+=_0x4d901d['_addTimeTi'+'me'],_0x4d901d['_addTimeTi'+'me']=0x529*-0x3+0x1b75+-0xbfa;}_0x4d901d['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x1e9dac,_0x52565f){_0x52565f['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x1f79a0,_0x29f648){super(),this['skin']=_0x1f79a0,this['skinInstan'+'ce']=_0x29f648;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x94a290,_0x3e8f40)=>{console['log'](_0x3e8f40['name']+':\x20Array('+_0x94a290['length']+')');for(let _0x25be4b=-0x138d+0x2233+-0x3*0x4e2;_0x25be4b<_0x94a290['length'];_0x25be4b++)console['log']('\x20\x20'+_0x25be4b+(':\x20RefCount'+'\x20')+_0x94a290[_0x25be4b]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x4cfa1d,_0x4e1ecd,_0x37863f){let _0x1032b0=Gs['getCachedS'+'kinInstanc'+'e'](_0x4cfa1d,_0x4e1ecd);return _0x1032b0||(_0x1032b0=new Ol(_0x4cfa1d),_0x1032b0['resolve'](_0x4e1ecd,_0x37863f),Gs['addCachedS'+'kinInstanc'+'e'](_0x4cfa1d,_0x4e1ecd,_0x1032b0)),_0x1032b0;}static['getCachedS'+'kinInstanc'+'e'](_0x570724,_0x50ad03){let _0x260427=null;const _0xd2e33e=Gs['_skinInsta'+'nceCache']['get'](_0x50ad03);if(_0xd2e33e){const _0x39557e=_0xd2e33e['find'](_0x3d86ff=>_0x3d86ff['skin']===_0x570724);_0x39557e&&(_0x39557e['incRefCoun'+'t'](),_0x260427=_0x39557e['skinInstan'+'ce']);}return _0x260427;}static['addCachedS'+'kinInstanc'+'e'](_0x3fa2e8,_0x4fac39,_0x5e5471){let _0x538651=Gs['_skinInsta'+'nceCache']['get'](_0x4fac39);_0x538651||(_0x538651=[],Gs['_skinInsta'+'nceCache']['set'](_0x4fac39,_0x538651));let _0x2a2fc4=_0x538651['find'](_0x3cd0ed=>_0x3cd0ed['skin']===_0x3fa2e8);_0x2a2fc4||(_0x2a2fc4=new UO(_0x3fa2e8,_0x5e5471),_0x538651['push'](_0x2a2fc4)),_0x2a2fc4['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x10946e){if(_0x10946e){const _0x2e615c=_0x10946e['rootBone'];if(_0x2e615c){const _0x5cf6e4=Gs['_skinInsta'+'nceCache']['get'](_0x2e615c);if(_0x5cf6e4){const _0x3ebee5=_0x5cf6e4['findIndex'](_0x15f9c1=>_0x15f9c1['skinInstan'+'ce']===_0x10946e);if(_0x3ebee5>=-0x1c5c+0x31*-0x65+0x2fb1){const _0x324008=_0x5cf6e4[_0x3ebee5];_0x324008['decRefCoun'+'t'](),_0x324008['refCount']===0x26c7+0x1643+-0x4b2*0xd&&(_0x5cf6e4['splice'](_0x3ebee5,0x183a*-0x1+-0x43*0x76+-0x1*-0x371d),_0x5cf6e4['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x2e615c),_0x10946e&&(_0x10946e['destroy'](),_0x324008['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x145940,_0x512860,_0x15148e,_0x30ed02,_0x3d6631){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x145940,this['parent']=_0x512860,this['_scope']=_0x3d6631,this['_registry']=_0x15148e,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x30ed02['load'],this['_onAssetAd'+'d']=_0x30ed02['add'],this['_onAssetRe'+'move']=_0x30ed02['remove'],this['_onAssetUn'+'load']=_0x30ed02['unload']);}set['id'](_0x42489b){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x42489b,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x5ed8a2){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x5ed8a2,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5e2762,_0x196ca5,_0x4e0417,_0x4fe77f,_0x280be4,_0x347c6e,_0x330b94;this['id']&&((_0x5e2762=this['_evtLoadBy'+'Id'])==null||_0x5e2762['off'](),this['_evtLoadBy'+'Id']=null,(_0x196ca5=this['_evtAddByI'+'d'])==null||_0x196ca5['off'](),this['_evtAddByI'+'d']=null,(_0x4e0417=this['_evtRemove'+'ById'])==null||_0x4e0417['off'](),this['_evtRemove'+'ById']=null,(_0x4fe77f=this['_evtUnload'+'ById'])==null||_0x4fe77f['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x280be4=this['_evtLoadBy'+'Url'])==null||_0x280be4['off'](),this['_evtLoadBy'+'Url']=null,(_0x347c6e=this['_evtAddByU'+'rl'])==null||_0x347c6e['off'](),this['_evtAddByU'+'rl']=null,(_0x330b94=this['_evtRemove'+'ByUrl'])==null||_0x330b94['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x9ebe4d){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x9ebe4d);}['_onAdd'](_0x9dad2c){this['asset']=_0x9dad2c,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x9dad2c);}['_onRemove'](_0x27bc2b){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x27bc2b),this['asset']=null;}['_onUnload'](_0xadee87){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xadee87);}}class n0 extends we{constructor(_0x378d8a,_0x24c06b){super(_0x378d8a,_0x24c06b),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x1909+-0x144*-0x9+-0x246d)),h(this,'_receiveSh'+'adows',!(-0x3d*-0x9e+0xcd8+-0x232*0x17)),h(this,'_castShado'+'wsLightmap',!(0x17*-0xf5+0xda2+-0xb*-0xc3)),h(this,'_lightmapp'+'ed',!(-0x1f4*-0xb+0x443*0x5+0x1565*-0x2)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x41*-0xe+0x510*-0x4+0x9*0x1db),h(this,'isStatic',!(0x13d2+0x229e+-0x366f)),h(this,'_batchGrou'+'pId',-(0x1*0x8a3+0xf60*-0x1+0x6be)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x378d8a['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x378d8a['defaultMat'+'erial'],_0x24c06b['on']('remove',this['onRemoveCh'+'ild'],this),_0x24c06b['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x24c06b['on']('insert',this['onInsertCh'+'ild'],this),_0x24c06b['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x5db3a6){this['_renderSty'+'le']!==_0x5db3a6&&(this['_renderSty'+'le']=_0x5db3a6,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x5db3a6));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x3bd232){this['_customAab'+'b']=_0x3bd232;const _0x2b5a69=this['_meshInsta'+'nces'];if(_0x2b5a69){for(let _0x3d506c=0xc6b+0x2645*0x1+-0x32b0;_0x3d506c<_0x2b5a69['length'];_0x3d506c++)_0x2b5a69[_0x3d506c]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x129a18){if(this['_type']!==_0x129a18&&(this['_area']=null,this['_type']=_0x129a18,this['destroyMes'+'hInstances'](),_0x129a18!=='asset')){let _0x738a58=this['_material'];(!_0x738a58||_0x738a58===this['system']['defaultMat'+'erial'])&&(_0x738a58=this['_materialR'+'eferences'][-0x2*0x51b+-0x1e97+0x28cd]&&this['_materialR'+'eferences'][0x4e4*-0x2+0x84d+0x17b*0x1]['asset']&&this['_materialR'+'eferences'][0xb95+0x2187*0x1+-0x2d1c]['asset']['resource']);const _0x27d325=r0(this['system']['app']['graphicsDe'+'vice'],_0x129a18);this['_area']=_0x27d325['area'],this['meshInstan'+'ces']=[new He(_0x27d325['mesh'],_0x738a58||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x155814){if(w['assert'](Array['isArray'](_0x155814),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x155814,this['_meshInsta'+'nces']){const _0x178966=this['_meshInsta'+'nces'];for(let _0x353b02=-0x133e+-0x1d*-0x146+-0x8*0x236;_0x353b02<_0x178966['length'];_0x353b02++)_0x178966[_0x353b02]['node']||(_0x178966[_0x353b02]['node']=this['entity']),_0x178966[_0x353b02]['castShadow']=this['_castShado'+'ws'],_0x178966[_0x353b02]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x178966[_0x353b02]['renderStyl'+'e']=this['_renderSty'+'le'],_0x178966[_0x353b02]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x178966[_0x353b02]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x3dd329){if(_0x3dd329!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x3dd329;const _0x15d7af=this['_meshInsta'+'nces'];if(_0x15d7af){for(let _0x15a40e=0x743+0xc1d+0x9b*-0x20;_0x15a40e<_0x15d7af['length'];_0x15a40e++)_0x15d7af[_0x15a40e]['setLightma'+'pped'](_0x3dd329);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x55816d){if(this['_castShado'+'ws']!==_0x55816d){const _0x2c01e2=this['_meshInsta'+'nces'];if(_0x2c01e2){const _0x3f0308=this['layers'],_0x213d9a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x55816d)for(let _0x50d196=0x167a+-0x1*-0x243d+-0x1*0x3ab7;_0x50d196<_0x3f0308['length'];_0x50d196++){const _0x26183d=_0x213d9a['layers']['getLayerBy'+'Id'](this['layers'][_0x50d196]);_0x26183d&&_0x26183d['removeShad'+'owCasters'](_0x2c01e2);}for(let _0x3eba14=-0xdf+0x803+-0x2*0x392;_0x3eba14<_0x2c01e2['length'];_0x3eba14++)_0x2c01e2[_0x3eba14]['castShadow']=_0x55816d;if(!this['_castShado'+'ws']&&_0x55816d)for(let _0x47ba45=-0x286*-0x9+0xd7f*-0x1+0x937*-0x1;_0x47ba45<_0x3f0308['length'];_0x47ba45++){const _0x332927=_0x213d9a['layers']['getLayerBy'+'Id'](_0x3f0308[_0x47ba45]);_0x332927&&_0x332927['addShadowC'+'asters'](_0x2c01e2);}}this['_castShado'+'ws']=_0x55816d;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4b4736){if(this['_receiveSh'+'adows']!==_0x4b4736){this['_receiveSh'+'adows']=_0x4b4736;const _0x48a6d7=this['_meshInsta'+'nces'];if(_0x48a6d7){for(let _0x5f07d6=-0x1*0x1a58+-0x5*0x3f2+0x2e12;_0x5f07d6<_0x48a6d7['length'];_0x5f07d6++)_0x48a6d7[_0x5f07d6]['receiveSha'+'dow']=_0x4b4736;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1305b0){this['_castShado'+'wsLightmap']=_0x1305b0;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x27b263){this['_lightmapS'+'izeMultipl'+'ier']=_0x27b263;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2af84e){const _0x2f2371=this['system']['app']['scene']['layers'];let _0x4c026e;if(this['_meshInsta'+'nces']){for(let _0x5506c2=0x1219+-0x333+-0xee6;_0x5506c2<this['_layers']['length'];_0x5506c2++)_0x4c026e=_0x2f2371['getLayerBy'+'Id'](this['_layers'][_0x5506c2]),_0x4c026e&&_0x4c026e['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x246+-0x1b24+-0x2f1*-0xa;for(let _0x315831=-0x1*0x2529+0x18b+0x239e*0x1;_0x315831<_0x2af84e['length'];_0x315831++)this['_layers'][_0x315831]=_0x2af84e[_0x315831];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0xa8977b=-0xf7*-0x1c+0x1701+-0x1*0x3205;_0xa8977b<this['_layers']['length'];_0xa8977b++)_0x4c026e=_0x2f2371['getLayerBy'+'Id'](this['_layers'][_0xa8977b]),_0x4c026e&&_0x4c026e['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x44c383){var _0x1cc600,_0x494024;this['_batchGrou'+'pId']!==_0x44c383&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1a*-0xd+-0x241a+0x22c8&&((_0x1cc600=this['system']['app']['batcher'])==null||_0x1cc600['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x44c383>=-0x1d91+0x2*-0xddb+0x3947&&((_0x494024=this['system']['app']['batcher'])==null||_0x494024['insert'](St['RENDER'],_0x44c383,this['entity'])),_0x44c383<0x931*-0x1+-0x3*0x1f5+-0x1e2*-0x8&&this['_batchGrou'+'pId']>=0x1f10+-0x1827+-0x3d*0x1d&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x44c383);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x1eb248){if(this['_material']!==_0x1eb248&&(this['_material']=_0x1eb248,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x50ea82=-0x1*-0x1f9a+0x4*-0x243+-0x168e;_0x50ea82<this['_meshInsta'+'nces']['length'];_0x50ea82++)this['_meshInsta'+'nces'][_0x50ea82]['material']=_0x1eb248;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x384cdf=[]){if(this['_materialR'+'eferences']['length']>_0x384cdf['length']){for(let _0x5120a8=_0x384cdf['length'];_0x5120a8<this['_materialR'+'eferences']['length'];_0x5120a8++)this['_materialR'+'eferences'][_0x5120a8]['id']=null;this['_materialR'+'eferences']['length']=_0x384cdf['length'];}for(let _0x5c42fb=0x21b6+0x2d*0x87+-0x5*0xb7d;_0x5c42fb<_0x384cdf['length'];_0x5c42fb++)if(this['_materialR'+'eferences'][_0x5c42fb]||this['_materialR'+'eferences']['push'](new gl(_0x5c42fb,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x384cdf[_0x5c42fb]){const _0x394a5b=_0x384cdf[_0x5c42fb]instanceof pe?_0x384cdf[_0x5c42fb]['id']:_0x384cdf[_0x5c42fb];this['_materialR'+'eferences'][_0x5c42fb]['id']!==_0x394a5b&&(this['_materialR'+'eferences'][_0x5c42fb]['id']=_0x394a5b),this['_materialR'+'eferences'][_0x5c42fb]['asset']&&this['_onMateria'+'lAdded'](_0x5c42fb,this,this['_materialR'+'eferences'][_0x5c42fb]['asset']);}else this['_materialR'+'eferences'][_0x5c42fb]['id']=null,this['_meshInsta'+'nces'][_0x5c42fb]&&(this['_meshInsta'+'nces'][_0x5c42fb]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x25facc=>_0x25facc['id']);}set['asset'](_0x2bfb45){const _0x2ee870=_0x2bfb45 instanceof pe?_0x2bfb45['id']:_0x2bfb45;this['_assetRefe'+'rence']['id']!==_0x2ee870&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x2ee870,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x3dd01d){const _0x2b4031=_0x3dd01d instanceof pe?_0x3dd01d['id']:_0x3dd01d;this['_assetRefe'+'rence']['id']=_0x2b4031;}set['rootBone'](_0xe3baca){if(this['_rootBone']!==_0xe3baca){const _0x29366c=typeof _0xe3baca=='string';if(this['_rootBone']&&_0x29366c&&this['_rootBone']['getGuid']()===_0xe3baca)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xe3baca instanceof Ie?this['_rootBone']=_0xe3baca:_0x29366c?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0xe3baca)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x26d100=this['_meshInsta'+'nces'];if(_0x26d100){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x13e427=0x218f+-0x10+-0x217f;_0x13e427<_0x26d100['length'];_0x13e427++)_0x26d100[_0x13e427]['destroy']();this['_meshInsta'+'nces']['length']=-0x62f+-0xd*0xca+0x1071;}}['addToLayer'+'s'](){const _0x27e5f6=this['system']['app']['scene']['layers'];for(let _0x3d808d=-0xb96+-0xc9f+-0x1*-0x1835;_0x3d808d<this['_layers']['length'];_0x3d808d++){const _0x57a68c=_0x27e5f6['getLayerBy'+'Id'](this['_layers'][_0x3d808d]);_0x57a68c&&_0x57a68c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x37eb91=this['system']['app']['scene']['layers'];for(let _0x116298=0xb*-0x64+0x22*-0xe3+0x2272;_0x116298<this['_layers']['length'];_0x116298++){const _0x14226a=_0x37eb91['getLayerBy'+'Id'](this['_layers'][_0x116298]);_0x14226a&&_0x14226a['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x42f1c9=-0x3*-0x7a3+0x7d3+0x1ebc*-0x1;_0x42f1c9<this['_materialR'+'eferences']['length'];_0x42f1c9++)this['_materialR'+'eferences'][_0x42f1c9]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x430f78,_0x3cf8fa){this['addToLayer'+'s'](),_0x430f78['off']('add',this['onLayerAdd'+'ed'],this),_0x430f78['off']('remove',this['onLayerRem'+'oved'],this),_0x3cf8fa['on']('add',this['onLayerAdd'+'ed'],this),_0x3cf8fa['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x24f9fb){this['layers']['indexOf'](_0x24f9fb['id'])<0x7ee+-0x849+-0x1*-0x5b||_0x24f9fb['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x240b29){this['layers']['indexOf'](_0x240b29['id'])<-0x1fd1+0x9e5*-0x1+0x232*0x13||_0x240b29['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0xc17309;const _0x5afd85=this['system']['app'],_0x40dd85=_0x5afd85['scene'],_0x4e456a=_0x40dd85['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x40dd85['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4e456a&&(this['_evtLayerA'+'dded']=_0x4e456a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4e456a['on']('remove',this['onLayerRem'+'oved'],this));const _0x42b48d=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x42b48d&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0xf5519d=0x243d+0x1*0x1fe9+0x1a*-0x29f;_0xf5519d<this['_materialR'+'eferences']['length'];_0xf5519d++)this['_materialR'+'eferences'][_0xf5519d]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0xf5519d]['asset']);this['_batchGrou'+'pId']>=-0x380*0x2+0x1908+-0x4*0x482&&((_0xc17309=_0x5afd85['batcher'])==null||_0xc17309['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x4cbadd,_0x468f19,_0x38e232,_0x20f61a;const _0x188c99=this['system']['app'],_0x407481=_0x188c99['scene']['layers'];(_0x4cbadd=this['_evtLayers'+'Changed'])==null||_0x4cbadd['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x407481&&((_0x468f19=this['_evtLayerA'+'dded'])==null||_0x468f19['off'](),this['_evtLayerA'+'dded']=null,(_0x38e232=this['_evtLayerR'+'emoved'])==null||_0x38e232['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x2a*-0x9+0x216e+0x8*-0x45d&&((_0x20f61a=_0x188c99['batcher'])==null||_0x20f61a['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x14b38e=0x46*0x4e+-0x1145+0x1*-0x40f;_0x14b38e<this['_meshInsta'+'nces']['length'];_0x14b38e++)this['_meshInsta'+'nces'][_0x14b38e]['visible']=!(-0x35*0x4a+-0x1*-0x191c+-0x343*0x3);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x19e606=-0x14a7+0x5*-0x4c6+0x2c85*0x1;_0x19e606<this['_meshInsta'+'nces']['length'];_0x19e606++)this['_meshInsta'+'nces'][_0x19e606]['visible']=!(-0xbb2+0x17b7+0x1*-0xc05);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x1d8095;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x5866c2=this['_assetRefe'+'rence']['asset']['resource'];(_0x1d8095=this['_evtSetMes'+'hes'])==null||_0x1d8095['off'](),this['_evtSetMes'+'hes']=_0x5866c2['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x5866c2['meshes']&&this['_onSetMesh'+'es'](_0x5866c2['meshes']);}}['_onSetMesh'+'es'](_0x2723ce){this['_cloneMesh'+'es'](_0x2723ce);}['_clearSkin'+'Instances'](){for(let _0x22b10a=0x1*0x20d5+0x4ed*0x7+0x1670*-0x3;_0x22b10a<this['_meshInsta'+'nces']['length'];_0x22b10a++){const _0x3ce344=this['_meshInsta'+'nces'][_0x22b10a];_l['removeCach'+'edSkinInst'+'ance'](_0x3ce344['skinInstan'+'ce']),_0x3ce344['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x1edd48=-0x1b95+0x1a0c+-0x3*-0x83;_0x1edd48<this['_meshInsta'+'nces']['length'];_0x1edd48++){const _0x1c9e51=this['_meshInsta'+'nces'][_0x1edd48],_0x389b92=_0x1c9e51['mesh'];_0x389b92['skin']&&!_0x1c9e51['skinInstan'+'ce']&&(_0x1c9e51['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x389b92['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x1b3de8){if(_0x1b3de8&&_0x1b3de8['length']){const _0x26562c=[];for(let _0x4fe0ec=0x81*-0x4b+0x22a5+0x326;_0x4fe0ec<_0x1b3de8['length'];_0x4fe0ec++){const _0x447503=_0x1b3de8[_0x4fe0ec],_0x57f759=this['_materialR'+'eferences'][_0x4fe0ec]&&this['_materialR'+'eferences'][_0x4fe0ec]['asset']&&this['_materialR'+'eferences'][_0x4fe0ec]['asset']['resource'],_0x569596=new He(_0x447503,_0x57f759||this['system']['defaultMat'+'erial'],this['entity']);_0x26562c['push'](_0x569596),_0x447503['morph']&&(_0x569596['morphInsta'+'nce']=new xa(_0x447503['morph']));}this['meshInstan'+'ces']=_0x26562c,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x5ef1b4;(_0x5ef1b4=this['_evtSetMes'+'hes'])==null||_0x5ef1b4['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x389d76,_0x3086c6,_0x3027fa){_0x3027fa['resource']?this['_onMateria'+'lLoad'](_0x389d76,_0x3086c6,_0x3027fa):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x3027fa);}['_updateMai'+'nMaterial'](_0x1c534d,_0x3a63e5){_0x1c534d===0x233+0x1beb+-0x606*0x5&&(this['material']=_0x3a63e5);}['_onMateria'+'lLoad'](_0x36c1fc,_0x4875a6,_0x42bb92){this['_meshInsta'+'nces'][_0x36c1fc]&&(this['_meshInsta'+'nces'][_0x36c1fc]['material']=_0x42bb92['resource']),this['_updateMai'+'nMaterial'](_0x36c1fc,_0x42bb92['resource']);}['_onMateria'+'lRemove'](_0x405737,_0x321895,_0x1e8639){this['_meshInsta'+'nces'][_0x405737]&&(this['_meshInsta'+'nces'][_0x405737]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x405737,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x1c728b,_0x123b72,_0x4cf8ef){this['_meshInsta'+'nces'][_0x1c728b]&&(this['_meshInsta'+'nces'][_0x1c728b]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1c728b,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4dc52e,_0x11e105){_0x4dc52e['rootBone']&&(this['rootBone']=_0x11e105[_0x4dc52e['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0xed*-0xc+0x1d4f+-0x1233);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x428974){super(_0x428974),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x428974['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1e9a1e,_0x4ae3b4,_0x30f640){(_0x4ae3b4['batchGroup'+'Id']===null||_0x4ae3b4['batchGroup'+'Id']===void(0xd34*-0x2+-0x1*-0x210b+-0x1*0x6a3))&&(_0x4ae3b4['batchGroup'+'Id']=-(-0x1*0x1089+0x1d7d+-0xcf3)),_0x4ae3b4['layers']&&_0x4ae3b4['layers']['length']&&(_0x4ae3b4['layers']=_0x4ae3b4['layers']['slice'](-0x1*0x8ed+-0x12d7+0x1bc4));for(let _0x32c531=0xe*0x1c3+-0x4*-0x8d2+-0x1*0x3bf2;_0x32c531<Gr['length'];_0x32c531++)_0x4ae3b4['hasOwnProp'+'erty'](Gr[_0x32c531])&&(_0x1e9a1e[Gr[_0x32c531]]=_0x4ae3b4[Gr[_0x32c531]]);_0x4ae3b4['aabbCenter']&&_0x4ae3b4['aabbHalfEx'+'tents']&&(_0x1e9a1e['customAabb']=new De(new D(_0x4ae3b4['aabbCenter']),new D(_0x4ae3b4['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1e9a1e,_0x4ae3b4,ku);}['cloneCompo'+'nent'](_0x11cbcf,_0x5c450c){const _0x46d337={};for(let _0x53f3fa=0x5e5+0x324+-0x909;_0x53f3fa<Gr['length'];_0x53f3fa++)_0x46d337[Gr[_0x53f3fa]]=_0x11cbcf['render'][Gr[_0x53f3fa]];_0x46d337['enabled']=_0x11cbcf['render']['enabled'],delete _0x46d337['meshInstan'+'ces'];const _0x252ead=this['addCompone'+'nt'](_0x5c450c,_0x46d337),_0x4d7ecd=_0x11cbcf['render']['meshInstan'+'ces'],_0x51b475=_0x4d7ecd['map'](_0x142801=>_0x142801['mesh']);_0x252ead['_onSetMesh'+'es'](_0x51b475);for(let _0x50118b=-0x10d1+0xecc*-0x1+0x1f9d*0x1;_0x50118b<_0x4d7ecd['length'];_0x50118b++)_0x252ead['meshInstan'+'ces'][_0x50118b]['material']=_0x4d7ecd[_0x50118b]['material'];return _0x11cbcf['render']['customAabb']&&(_0x252ead['customAabb']=_0x11cbcf['render']['customAabb']['clone']()),_0x252ead;}['onRemove'](_0x13e605,_0x2d5e4c){_0x2d5e4c['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x471a42,_0x17237d){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0xd*0x137+-0x16e6+0x71b),(this['_construct'+'or']=_0x471a42,this['_resize'](_0x17237d));}['_resize'](_0x141eca){if(_0x141eca>this['_pool']['length']){for(let _0x58bd10=this['_pool']['length'];_0x58bd10<_0x141eca;_0x58bd10++)this['_pool'][_0x58bd10]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0xf1b+0x119b*-0x2+0x1*0x141d)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0xb3f+0x6f3+-0x1232;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0x1c*-0x5e+0x2223+0x1*-0x17db),h(this,'_angularFa'+'ctor',new D(-0x4*-0x3f6+-0x24a1*0x1+0x14ca,0x244c+0xfd*-0x16+0x2e9*-0x5,-0x1*0x41d+-0x1cf2+0x2110)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x2f*0x6f+0x16c2+-0x2b23+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0xb84+0xc4d+-0x5b*0x43),h(this,'_linearFac'+'tor',new D(0x2490+-0x1*0x1119+-0x1376,-0x1*-0x1619+-0x9d7*0x1+-0xc41,-0x76f*0x3+0x1*-0x98e+0x1fdc)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0xad9+0x1903*-0x1+0x1*0x23dd),h(this,'_restituti'+'on',0x21ab+-0x5af*0x1+0x6ff*-0x4),h(this,'_rollingFr'+'iction',0x1*-0x6b8+0x13a4+0x1*-0xcec),h(this,'_simulatio'+'nEnabled',!(0x6*-0x15e+-0x24fd*0x1+0x2d32)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x4b24de){this['_angularDa'+'mping']!==_0x4b24de&&(this['_angularDa'+'mping']=_0x4b24de,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x4b24de));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3dad5b){this['_angularFa'+'ctor']['equals'](_0x3dad5b)||(this['_angularFa'+'ctor']['copy'](_0x3dad5b),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3dad5b['x'],_0x3dad5b['y'],_0x3dad5b['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0xfe5b76){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0xfe5b76['x'],_0xfe5b76['y'],_0xfe5b76['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0xfe5b76));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x2fe065=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x2fe065['x'](),_0x2fe065['y'](),_0x2fe065['z']());}return this['_angularVe'+'locity'];}set['body'](_0x52c476){this['_body']!==_0x52c476&&(this['_body']=_0x52c476,_0x52c476&&this['_simulatio'+'nEnabled']&&_0x52c476['activate']());}get['body'](){return this['_body'];}set['friction'](_0x213777){this['_friction']!==_0x213777&&(this['_friction']=_0x213777,this['_body']&&this['_body']['setFrictio'+'n'](_0x213777));}get['friction'](){return this['_friction'];}set['group'](_0x180e7d){this['_group']!==_0x180e7d&&(this['_group']=_0x180e7d,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x119821){this['_linearDam'+'ping']!==_0x119821&&(this['_linearDam'+'ping']=_0x119821,this['_body']&&this['_body']['setDamping'](_0x119821,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x353824){this['_linearFac'+'tor']['equals'](_0x353824)||(this['_linearFac'+'tor']['copy'](_0x353824),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x353824['x'],_0x353824['y'],_0x353824['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4b05fc){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x4b05fc['x'],_0x4b05fc['y'],_0x4b05fc['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x4b05fc));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x13cdfe=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x13cdfe['x'](),_0x13cdfe['y'](),_0x13cdfe['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x583c41){this['_mask']!==_0x583c41&&(this['_mask']=_0x583c41,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x231326){if(this['_mass']!==_0x231326&&(this['_mass']=_0x231326,this['_body']&&this['_type']===ks)){const _0x2fa40b=this['enabled']&&this['entity']['enabled'];_0x2fa40b&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x231326,Re),this['_body']['setMassPro'+'ps'](_0x231326,Re),this['_body']['updateIner'+'tiaTensor'](),_0x2fa40b&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x5efc52){this['_restituti'+'on']!==_0x5efc52&&(this['_restituti'+'on']=_0x5efc52,this['_body']&&this['_body']['setRestitu'+'tion'](_0x5efc52));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x3ea481){this['_rollingFr'+'iction']!==_0x3ea481&&(this['_rollingFr'+'iction']=_0x3ea481,this['_body']&&this['_body']['setRolling'+'Friction'](_0x3ea481));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x48e1d4){if(this['_type']!==_0x48e1d4){switch(this['_type']=_0x48e1d4,this['disableSim'+'ulation'](),_0x48e1d4){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x60b897=this['entity'];let _0x42b25c;if(_0x60b897['collision']&&(_0x42b25c=_0x60b897['collision']['shape'],_0x60b897['trigger']&&(_0x60b897['trigger']['destroy'](),delete _0x60b897['trigger'])),_0x42b25c){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x341d7c=this['_type']===ks?this['_mass']:-0x64*0x27+-0xd6*0x17+0x2276;this['_getEntity'+'Transform'](cs);const _0x1dfe0d=this['system']['createBody'](_0x341d7c,_0x42b25c,cs);if(_0x1dfe0d['setRestitu'+'tion'](this['_restituti'+'on']),_0x1dfe0d['setFrictio'+'n'](this['_friction']),_0x1dfe0d['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x1dfe0d['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x2c9cb1=this['_linearFac'+'tor'];Re['setValue'](_0x2c9cb1['x'],_0x2c9cb1['y'],_0x2c9cb1['z']),_0x1dfe0d['setLinearF'+'actor'](Re);const _0x407e00=this['_angularFa'+'ctor'];Re['setValue'](_0x407e00['x'],_0x407e00['y'],_0x407e00['z']),_0x1dfe0d['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x1dfe0d['setCollisi'+'onFlags'](_0x1dfe0d['getCollisi'+'onFlags']()|qL),_0x1dfe0d['setActivat'+'ionState'](Vg));_0x1dfe0d['entity']=_0x60b897,this['body']=_0x1dfe0d,this['enabled']&&_0x60b897['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x16ef+-0x11ab*-0x1+-0x13*-0x47);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x3d5629=this['entity'];if(_0x3d5629['collision']&&_0x3d5629['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x49db2e=this['_body'];if(_0x49db2e){switch(this['system']['addBody'](_0x49db2e,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x49db2e['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x49db2e['forceActiv'+'ationState'](Vg);break;case yo:_0x49db2e['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x3d5629['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x3d5629['collision']),_0x49db2e['activate'](),this['_simulatio'+'nEnabled']=!(-0x1f1f+-0x1133+-0x4d5*-0xa);}}}['disableSim'+'ulation'](){const _0xccf025=this['_body'];if(_0xccf025&&this['_simulatio'+'nEnabled']){const _0x19d31f=this['system'];let _0x118705=_0x19d31f['_compounds']['indexOf'](this['entity']['collision']);_0x118705>-(-0x9*-0x311+-0x19ed+0x3d*-0x7)&&_0x19d31f['_compounds']['splice'](_0x118705,0x4*-0x773+-0x814+0x25e1),_0x118705=_0x19d31f['_dynamic']['indexOf'](this),_0x118705>-(0x2*0x2b1+-0x36a+-0x1f7)&&_0x19d31f['_dynamic']['splice'](_0x118705,-0xd92+-0x1*0x157d+0x2310),_0x118705=_0x19d31f['_kinematic']['indexOf'](this),_0x118705>-(0xe0e+0x5f4+-0x3*0x6ab)&&_0x19d31f['_kinematic']['splice'](_0x118705,-0x712+-0x23b1+0x2ac4),_0x19d31f['removeBody'](_0xccf025),_0xccf025['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x33*0x4f+-0x716+-0x8a6);}}['applyForce'](_0x34518e,_0x250114,_0x1cc65f,_0x5e8291,_0x469476,_0x76826e){const _0x4394b6=this['_body'];_0x4394b6&&(_0x4394b6['activate'](),_0x34518e instanceof D?Re['setValue'](_0x34518e['x'],_0x34518e['y'],_0x34518e['z']):Re['setValue'](_0x34518e,_0x250114,_0x1cc65f),_0x250114 instanceof D?Bs['setValue'](_0x250114['x'],_0x250114['y'],_0x250114['z']):_0x5e8291!==void(0x2cf+0x31*0x4+0xf*-0x3d)?Bs['setValue'](_0x5e8291,_0x469476,_0x76826e):Bs['setValue'](0x1a42+0x1*-0x51b+-0x13*0x11d,0x19a0+-0x7ca*0x5+-0x16*-0x9b,-0x95b+0x1a84+-0x1129*0x1),_0x4394b6['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x171101,_0x5bc2e0,_0x18c7b4){const _0x30ff69=this['_body'];_0x30ff69&&(_0x30ff69['activate'](),_0x171101 instanceof D?Re['setValue'](_0x171101['x'],_0x171101['y'],_0x171101['z']):Re['setValue'](_0x171101,_0x5bc2e0,_0x18c7b4),_0x30ff69['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x2d5d51,_0x38045c,_0x4c5fae,_0x46d1b2,_0x270014,_0x5e2b9c){const _0x4606c8=this['_body'];_0x4606c8&&(_0x4606c8['activate'](),_0x2d5d51 instanceof D?Re['setValue'](_0x2d5d51['x'],_0x2d5d51['y'],_0x2d5d51['z']):Re['setValue'](_0x2d5d51,_0x38045c,_0x4c5fae),_0x38045c instanceof D?Bs['setValue'](_0x38045c['x'],_0x38045c['y'],_0x38045c['z']):_0x46d1b2!==void(-0x7d+-0x22*-0x114+-0x242b)?Bs['setValue'](_0x46d1b2,_0x270014,_0x5e2b9c):Bs['setValue'](-0x4*0x4ca+0x153c+0x2*-0x10a,0x1*0x21dd+-0x1*-0x2bb+-0x2498,0x101c*-0x2+-0x1c52+-0x2a*-0x171),_0x4606c8['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x3dcf17,_0x57a23d,_0x590527){const _0x2e5a93=this['_body'];_0x2e5a93&&(_0x2e5a93['activate'](),_0x3dcf17 instanceof D?Re['setValue'](_0x3dcf17['x'],_0x3dcf17['y'],_0x3dcf17['z']):Re['setValue'](_0x3dcf17,_0x57a23d,_0x590527),_0x2e5a93['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x4613b6){const _0x3aee92=this['entity'],_0x16e10e=_0x3aee92['collision'];if(_0x16e10e){const _0x125535=_0x16e10e['getShapePo'+'sition'](),_0x51a511=_0x16e10e['getShapeRo'+'tation']();Re['setValue'](_0x125535['x'],_0x125535['y'],_0x125535['z']),Ka['setValue'](_0x51a511['x'],_0x51a511['y'],_0x51a511['z'],_0x51a511['w']);}else{const _0x2f5498=_0x3aee92['getPositio'+'n'](),_0x59dd76=_0x3aee92['getRotatio'+'n']();Re['setValue'](_0x2f5498['x'],_0x2f5498['y'],_0x2f5498['z']),Ka['setValue'](_0x59dd76['x'],_0x59dd76['y'],_0x59dd76['z'],_0x59dd76['w']);}_0x4613b6['setOrigin'](Re),_0x4613b6['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x5d220b=this['_body'];if(_0x5d220b){if(this['_getEntity'+'Transform'](cs),_0x5d220b['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x1c7972=_0x5d220b['getMotionS'+'tate']();_0x1c7972&&_0x1c7972['setWorldTr'+'ansform'](cs);}_0x5d220b['activate']();}}['_updateDyn'+'amic'](){const _0x535169=this['_body'];if(_0x535169['isActive']()){const _0x50581b=_0x535169['getMotionS'+'tate']();if(_0x50581b){const _0xbd559=this['entity'];_0x50581b['getWorldTr'+'ansform'](cs);const _0x533a01=cs['getOrigin'](),_0x20c1ac=cs['getRotatio'+'n'](),_0x5b18c0=_0xbd559['collision'];if(_0x5b18c0&&_0x5b18c0['_hasOffset']){const _0x39cd83=_0x5b18c0['data']['linearOffs'+'et'],_0x2ff1b0=_0x5b18c0['data']['angularOff'+'set'],_0x452e78=GO['copy'](_0x2ff1b0)['invert'](),_0xdbc57a=VO['set'](_0x20c1ac['x'](),_0x20c1ac['y'](),_0x20c1ac['z'](),_0x20c1ac['w']())['mul'](_0x452e78);_0xdbc57a['transformV'+'ector'](_0x39cd83,Pc),_0xbd559['setPositio'+'n'](_0x533a01['x']()-Pc['x'],_0x533a01['y']()-Pc['y'],_0x533a01['z']()-Pc['z']),_0xbd559['setRotatio'+'n'](_0xdbc57a);}else _0xbd559['setPositio'+'n'](_0x533a01['x'](),_0x533a01['y'](),_0x533a01['z']()),_0xbd559['setRotatio'+'n'](_0x20c1ac['x'](),_0x20c1ac['y'](),_0x20c1ac['z'](),_0x20c1ac['w']());}}}['_updateKin'+'ematic'](){const _0x53e69b=this['_body']['getMotionS'+'tate']();_0x53e69b&&(this['_getEntity'+'Transform'](cs),_0x53e69b['setWorldTr'+'ansform'](cs));}['teleport'](_0x29e354,_0x143d62,_0x60d902,_0x1504bf,_0x8bd927,_0x463c75){_0x29e354 instanceof D?this['entity']['setPositio'+'n'](_0x29e354):this['entity']['setPositio'+'n'](_0x29e354,_0x143d62,_0x60d902),_0x143d62 instanceof le?this['entity']['setRotatio'+'n'](_0x143d62):_0x143d62 instanceof D?this['entity']['setEulerAn'+'gles'](_0x143d62):_0x1504bf!==void(-0x5e2*0x5+-0x1*0x19df+0x3749*0x1)&&this['entity']['setEulerAn'+'gles'](_0x1504bf,_0x8bd927,_0x463c75),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x12dc+-0x1*0xb65+0x1e42));class HO{constructor(){this['enabled']=!(0x1*-0x1801+0x1d0e*0x1+-0x3*0x1af);}}let Mi,Di;class eS{constructor(_0x25c92b,_0x11d2e9,_0x3ae181,_0xddfa4e){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x25c92b,this['point']=_0x11d2e9,this['normal']=_0x3ae181,this['hitFractio'+'n']=_0xddfa4e);}}class WO{constructor(_0x4838a9,_0x3d3745,_0x3ace48){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x60*0x11+0x29*0x25+0x73?(this['a']=_0x4838a9,this['b']=_0x3d3745,this['impulse']=_0x3ace48['impulse'],this['localPoint'+'A']=_0x3ace48['localPoint'],this['localPoint'+'B']=_0x3ace48['localPoint'+'Other'],this['pointA']=_0x3ace48['point'],this['pointB']=_0x3ace48['pointOther'],this['normal']=_0x3ace48['normal']):(this['a']=null,this['b']=null,this['impulse']=0x7*0x41b+0x9f8+-0x26b5,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x5ca94f=new D(),_0x36d466=new D(),_0x25c4c0=new D(),_0x1ace18=new D(),_0x58f3bf=new D(),_0x7b97a0=0x23d*0xc+0x831*0x2+-0x2b3e){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x5ca94f,this['localPoint'+'Other']=_0x36d466,this['point']=_0x25c4c0,this['pointOther']=_0x1ace18,this['normal']=_0x58f3bf,this['impulse']=_0x7b97a0);}}class XO{constructor(_0x41d3d2,_0x3fb1ea){h(this,'other'),h(this,'contacts'),(this['other']=_0x41d3d2,this['contacts']=_0x3fb1ea);}}const o0=['enabled'];class wm extends ct{constructor(_0x266395){super(_0x266395),h(this,'maxSubStep'+'s',0x1966+0xc27+-0x2583),h(this,'fixedTimeS'+'tep',(0x2*-0x27+0x16b1*-0x1+0x1700)/(-0x64e*-0x2+0x6b*-0x7+-0x973)),h(this,'gravity',new D(-0x1778*0x1+-0x118b+-0x1*-0x2903,-(-0x17aa+0x34*0x6d+0x3*0x85+0.8100000000000005),-0x32b+0x112e+-0xe03)),h(this,'_gravityFl'+'oat32',new Float32Array(0x1e7d+0x25d9+-0x4453)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x266395['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0xb74c12=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0xb74c12);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0x14a0+-0x566+0x1a07),this['contactRes'+'ultPool']=new bf(XO,-0xc2f+0x1b37*0x1+-0xf07),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x186e*0x1+-0x291*0x3+-0x10ba),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x115c83,_0x21029b,_0x567f35){const _0x2c4059=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x5af2c7 of _0x2c4059)if(_0x21029b['hasOwnProp'+'erty'](_0x5af2c7)){const _0x53eaf9=_0x21029b[_0x5af2c7];Array['isArray'](_0x53eaf9)?_0x115c83[_0x5af2c7]=new D(_0x53eaf9[-0x252c+0x1a7+-0x513*-0x7],_0x53eaf9[-0x498+-0x8+0x5*0xed],_0x53eaf9[-0x5f1*-0x1+-0x18cc+0x12dd*0x1]):_0x115c83[_0x5af2c7]=_0x53eaf9;}super['initialize'+'ComponentD'+'ata'](_0x115c83,_0x21029b,['enabled']);}['cloneCompo'+'nent'](_0x4367cf,_0x90d14){const _0x5e179a=_0x4367cf['rigidbody'],_0x544769={'enabled':_0x5e179a['enabled'],'mass':_0x5e179a['mass'],'linearDamping':_0x5e179a['linearDamp'+'ing'],'angularDamping':_0x5e179a['angularDam'+'ping'],'linearFactor':[_0x5e179a['linearFact'+'or']['x'],_0x5e179a['linearFact'+'or']['y'],_0x5e179a['linearFact'+'or']['z']],'angularFactor':[_0x5e179a['angularFac'+'tor']['x'],_0x5e179a['angularFac'+'tor']['y'],_0x5e179a['angularFac'+'tor']['z']],'friction':_0x5e179a['friction'],'rollingFriction':_0x5e179a['rollingFri'+'ction'],'restitution':_0x5e179a['restitutio'+'n'],'type':_0x5e179a['type'],'group':_0x5e179a['group'],'mask':_0x5e179a['mask']};return this['addCompone'+'nt'](_0x90d14,_0x544769);}['onBeforeRe'+'move'](_0x370735,_0x118cfc){_0x118cfc['enabled']&&(_0x118cfc['enabled']=!(0x83+0x38+-0xba)),_0x118cfc['body']&&(this['destroyBod'+'y'](_0x118cfc['body']),_0x118cfc['body']=null);}['addBody'](_0x327a37,_0x4db68c,_0x205be9){_0x4db68c!==void(-0x1b2+-0x41*-0x19+-0x4a7)&&_0x205be9!==void(-0x10*0x176+0x1922+0x2*-0xe1)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x327a37,_0x4db68c,_0x205be9):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x327a37);}['removeBody'](_0x28d48e){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x28d48e);}['createBody'](_0x3c8e85,_0x2003fe,_0x2c22a3){const _0x2e3b28=new Ammo['btVector3'](0xcf9+0x12e*0x1+-0x1*0xe27,-0x1010+0xe3f+0x1d1,0x1b4+0x221b+-0x1*0x23cf);_0x3c8e85!==0x5*-0x577+0x58f*-0x1+0x20e2&&_0x2003fe['calculateL'+'ocalInerti'+'a'](_0x3c8e85,_0x2e3b28);const _0x2966cb=new Ammo['btDefaultM'+'otionState'](_0x2c22a3),_0x57ba31=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x3c8e85,_0x2966cb,_0x2003fe,_0x2e3b28),_0x2c0ecf=new Ammo['btRigidBod'+'y'](_0x57ba31);return Ammo['destroy'](_0x57ba31),Ammo['destroy'](_0x2e3b28),_0x2c0ecf;}['destroyBod'+'y'](_0x35b051){const _0xe89e9f=_0x35b051['getMotionS'+'tate']();_0xe89e9f&&Ammo['destroy'](_0xe89e9f),Ammo['destroy'](_0x35b051);}['raycastFir'+'st'](_0x42db90,_0x4061c2,_0x13ed30={}){if(_0x13ed30['filterTags']||_0x13ed30['filterCall'+'back'])return _0x13ed30['sort']=!(0xbfd+0x8fe+-0x14fb),this['raycastAll'](_0x42db90,_0x4061c2,_0x13ed30)[-0x403+-0x1*0x563+-0x1*-0x966]||null;let _0x42582f=null;Mi['setValue'](_0x42db90['x'],_0x42db90['y'],_0x42db90['z']),Di['setValue'](_0x4061c2['x'],_0x4061c2['y'],_0x4061c2['z']);const _0xf9232e=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x13ed30['filterColl'+'isionGroup']=='number'&&_0xf9232e['set_m_coll'+'isionFilte'+'rGroup'](_0x13ed30['filterColl'+'isionGroup']),typeof _0x13ed30['filterColl'+'isionMask']=='number'&&_0xf9232e['set_m_coll'+'isionFilte'+'rMask'](_0x13ed30['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0xf9232e),_0xf9232e['hasHit']()){const _0x179b87=_0xf9232e['get_m_coll'+'isionObjec'+'t'](),_0x47f138=Ammo['castObject'](_0x179b87,Ammo['btRigidBod'+'y']);if(_0x47f138){const _0x3e0507=_0xf9232e['get_m_hitP'+'ointWorld'](),_0x21f6b7=_0xf9232e['get_m_hitN'+'ormalWorld']();_0x42582f=new eS(_0x47f138['entity'],new D(_0x3e0507['x'](),_0x3e0507['y'](),_0x3e0507['z']()),new D(_0x21f6b7['x'](),_0x21f6b7['y'](),_0x21f6b7['z']()),_0xf9232e['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0xf9232e),_0x42582f;}['raycastAll'](_0x3ee223,_0x1bda08,_0x63f65c={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x44af76=[];Mi['setValue'](_0x3ee223['x'],_0x3ee223['y'],_0x3ee223['z']),Di['setValue'](_0x1bda08['x'],_0x1bda08['y'],_0x1bda08['z']);const _0x251273=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x63f65c['filterColl'+'isionGroup']=='number'&&_0x251273['set_m_coll'+'isionFilte'+'rGroup'](_0x63f65c['filterColl'+'isionGroup']),typeof _0x63f65c['filterColl'+'isionMask']=='number'&&_0x251273['set_m_coll'+'isionFilte'+'rMask'](_0x63f65c['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x251273),_0x251273['hasHit']()){const _0x563e6a=_0x251273['get_m_coll'+'isionObjec'+'ts'](),_0x13a019=_0x251273['get_m_hitP'+'ointWorld'](),_0x199997=_0x251273['get_m_hitN'+'ormalWorld'](),_0x1261c3=_0x251273['get_m_hitF'+'ractions'](),_0xa4c2c2=_0x563e6a['size']();for(let _0x1ed976=-0x654+0x2*0x1075+-0x2*0xd4b;_0x1ed976<_0xa4c2c2;_0x1ed976++){const _0xe61084=Ammo['castObject'](_0x563e6a['at'](_0x1ed976),Ammo['btRigidBod'+'y']);if(_0xe61084&&_0xe61084['entity']){if(_0x63f65c['filterTags']&&!_0xe61084['entity']['tags']['has'](..._0x63f65c['filterTags'])||_0x63f65c['filterCall'+'back']&&!_0x63f65c['filterCall'+'back'](_0xe61084['entity']))continue;const _0x33df0a=_0x13a019['at'](_0x1ed976),_0x2d263b=_0x199997['at'](_0x1ed976),_0x3c3444=new eS(_0xe61084['entity'],new D(_0x33df0a['x'](),_0x33df0a['y'](),_0x33df0a['z']()),new D(_0x2d263b['x'](),_0x2d263b['y'](),_0x2d263b['z']()),_0x1261c3['at'](_0x1ed976));_0x44af76['push'](_0x3c3444);}}_0x63f65c['sort']&&_0x44af76['sort']((_0x76c1cf,_0x21a3ba)=>_0x76c1cf['hitFractio'+'n']-_0x21a3ba['hitFractio'+'n']);}return Ammo['destroy'](_0x251273),_0x44af76;}['_storeColl'+'ision'](_0x14f443,_0x1cf4f2){let _0x579790=!(0xe32+0x187*-0x11+0xbc6);const _0xb0cd13=_0x14f443['getGuid']();return this['collisions'][_0xb0cd13]=this['collisions'][_0xb0cd13]||{'others':[],'entity':_0x14f443},this['collisions'][_0xb0cd13]['others']['indexOf'](_0x1cf4f2)<-0xe35*0x1+-0x487*0x6+0x26f*0x11&&(this['collisions'][_0xb0cd13]['others']['push'](_0x1cf4f2),_0x579790=!(0x1db4+-0x93e+0x1*-0x1476)),this['frameColli'+'sions'][_0xb0cd13]=this['frameColli'+'sions'][_0xb0cd13]||{'others':[],'entity':_0x14f443},this['frameColli'+'sions'][_0xb0cd13]['others']['push'](_0x1cf4f2),_0x579790;}['_createCon'+'tactPointF'+'romAmmo'](_0x276a6d){const _0xa393b4=_0x276a6d['get_m_loca'+'lPointA'](),_0x59e269=_0x276a6d['get_m_loca'+'lPointB'](),_0x20e134=_0x276a6d['getPositio'+'nWorldOnA'](),_0x1279db=_0x276a6d['getPositio'+'nWorldOnB'](),_0x5a0035=_0x276a6d['get_m_norm'+'alWorldOnB'](),_0x2ccb85=this['contactPoi'+'ntPool']['allocate']();return _0x2ccb85['localPoint']['set'](_0xa393b4['x'](),_0xa393b4['y'](),_0xa393b4['z']()),_0x2ccb85['localPoint'+'Other']['set'](_0x59e269['x'](),_0x59e269['y'](),_0x59e269['z']()),_0x2ccb85['point']['set'](_0x20e134['x'](),_0x20e134['y'](),_0x20e134['z']()),_0x2ccb85['pointOther']['set'](_0x1279db['x'](),_0x1279db['y'](),_0x1279db['z']()),_0x2ccb85['normal']['set'](_0x5a0035['x'](),_0x5a0035['y'](),_0x5a0035['z']()),_0x2ccb85['impulse']=_0x276a6d['getApplied'+'Impulse'](),_0x2ccb85;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5d9583){const _0x259684=_0x5d9583['get_m_loca'+'lPointA'](),_0x5c9a55=_0x5d9583['get_m_loca'+'lPointB'](),_0x199adb=_0x5d9583['getPositio'+'nWorldOnA'](),_0x9e6355=_0x5d9583['getPositio'+'nWorldOnB'](),_0x4f4c60=_0x5d9583['get_m_norm'+'alWorldOnB'](),_0x25c7ff=this['contactPoi'+'ntPool']['allocate']();return _0x25c7ff['localPoint'+'Other']['set'](_0x259684['x'](),_0x259684['y'](),_0x259684['z']()),_0x25c7ff['localPoint']['set'](_0x5c9a55['x'](),_0x5c9a55['y'](),_0x5c9a55['z']()),_0x25c7ff['pointOther']['set'](_0x199adb['x'](),_0x199adb['y'](),_0x199adb['z']()),_0x25c7ff['point']['set'](_0x9e6355['x'](),_0x9e6355['y'](),_0x9e6355['z']()),_0x25c7ff['normal']['set'](_0x4f4c60['x'](),_0x4f4c60['y'](),_0x4f4c60['z']()),_0x25c7ff['impulse']=_0x5d9583['getApplied'+'Impulse'](),_0x25c7ff;}['_createSin'+'gleContact'+'Result'](_0x3d962d,_0x2daaba,_0x35f949){const _0x4b0cfa=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x4b0cfa['a']=_0x3d962d,_0x4b0cfa['b']=_0x2daaba,_0x4b0cfa['localPoint'+'A']=_0x35f949['localPoint'],_0x4b0cfa['localPoint'+'B']=_0x35f949['localPoint'+'Other'],_0x4b0cfa['pointA']=_0x35f949['point'],_0x4b0cfa['pointB']=_0x35f949['pointOther'],_0x4b0cfa['normal']=_0x35f949['normal'],_0x4b0cfa['impulse']=_0x35f949['impulse'],_0x4b0cfa;}['_createCon'+'tactResult'](_0x4b50fb,_0x2f769d){const _0x3ddfba=this['contactRes'+'ultPool']['allocate']();return _0x3ddfba['other']=_0x4b50fb,_0x3ddfba['contacts']=_0x2f769d,_0x3ddfba;}['_cleanOldC'+'ollisions'](){for(const _0x29f1ad in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x29f1ad)){const _0x3d5d69=this['frameColli'+'sions'][_0x29f1ad],_0x11d1ae=this['collisions'][_0x29f1ad],_0x5ea5ff=_0x11d1ae['entity'],_0x12642c=_0x5ea5ff['collision'],_0xde2ff3=_0x5ea5ff['rigidbody'],_0x38fd53=_0x11d1ae['others'];let _0x339108=_0x38fd53['length'];for(;_0x339108--;){const _0x54003b=_0x38fd53[_0x339108];(!_0x3d5d69||_0x3d5d69['others']['indexOf'](_0x54003b)<-0x1717*0x1+-0x108b+0x27a2)&&(_0x38fd53['splice'](_0x339108,0x4d4+-0xb67*0x1+-0x34a*-0x2),_0x5ea5ff['trigger']?(_0x12642c&&_0x12642c['fire']('triggerlea'+'ve',_0x54003b),_0x54003b['rigidbody']&&_0x54003b['rigidbody']['fire']('triggerlea'+'ve',_0x5ea5ff)):_0x54003b['trigger']||(_0xde2ff3&&_0xde2ff3['fire']('collisione'+'nd',_0x54003b),_0x12642c&&_0x12642c['fire']('collisione'+'nd',_0x54003b)));}_0x38fd53['length']===-0x2*0x1168+0x1b18+0x26*0x34&&delete this['collisions'][_0x29f1ad];}}['_hasContac'+'tEvent'](_0x5121fd){const _0x5c487f=_0x5121fd['collision'];if(_0x5c487f&&(_0x5c487f['hasEvent']('collisions'+'tart')||_0x5c487f['hasEvent']('collisione'+'nd')||_0x5c487f['hasEvent']('contact')))return!(0x1447+0x1109+-0x2550);const _0x447aef=_0x5121fd['rigidbody'];return _0x447aef&&(_0x447aef['hasEvent']('collisions'+'tart')||_0x447aef['hasEvent']('collisione'+'nd')||_0x447aef['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x43b781,_0x4eec0){const _0xcb58c8=Ammo['wrapPointe'+'r'](_0x43b781,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0xc252c4=_0xcb58c8['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x29959b=-0x2*0xa27+-0x21d9+0x1*0x3627;_0x29959b<_0xc252c4;_0x29959b++){const _0x54c90c=_0xcb58c8['getManifol'+'dByIndexIn'+'ternal'](_0x29959b),_0x3e811e=_0x54c90c['getBody0'](),_0x286e11=_0x54c90c['getBody1'](),_0x5adfec=Ammo['castObject'](_0x3e811e,Ammo['btRigidBod'+'y']),_0x151726=Ammo['castObject'](_0x286e11,Ammo['btRigidBod'+'y']),_0xcd1932=_0x5adfec['entity'],_0x1fbe4f=_0x151726['entity'];if(!_0xcd1932||!_0x1fbe4f)continue;const _0x5a2b66=_0x5adfec['getCollisi'+'onFlags'](),_0x43e447=_0x151726['getCollisi'+'onFlags'](),_0x55d3c7=_0x54c90c['getNumCont'+'acts'](),_0x53ca79=[],_0x19bf3b=[];let _0x3d5869;if(_0x55d3c7>0x260e+-0x1d8e+0x22*-0x40){if(_0x5a2b66&Po||_0x43e447&Po){const _0x289a19=_0xcd1932['collision']&&(_0xcd1932['collision']['hasEvent']('triggerent'+'er')||_0xcd1932['collision']['hasEvent']('triggerlea'+'ve')),_0x1abe89=_0x1fbe4f['collision']&&(_0x1fbe4f['collision']['hasEvent']('triggerent'+'er')||_0x1fbe4f['collision']['hasEvent']('triggerlea'+'ve')),_0x347934=_0xcd1932['rigidbody']&&(_0xcd1932['rigidbody']['hasEvent']('triggerent'+'er')||_0xcd1932['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x148b0e=_0x1fbe4f['rigidbody']&&(_0x1fbe4f['rigidbody']['hasEvent']('triggerent'+'er')||_0x1fbe4f['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x289a19&&(_0x3d5869=this['_storeColl'+'ision'](_0xcd1932,_0x1fbe4f),_0x3d5869&&!(_0x43e447&Po)&&_0xcd1932['collision']['fire']('triggerent'+'er',_0x1fbe4f)),_0x1abe89&&(_0x3d5869=this['_storeColl'+'ision'](_0x1fbe4f,_0xcd1932),_0x3d5869&&!(_0x5a2b66&Po)&&_0x1fbe4f['collision']['fire']('triggerent'+'er',_0xcd1932)),_0x347934&&(_0x3d5869||(_0x3d5869=this['_storeColl'+'ision'](_0x1fbe4f,_0xcd1932)),_0x3d5869&&_0xcd1932['rigidbody']['fire']('triggerent'+'er',_0x1fbe4f)),_0x148b0e&&(_0x3d5869||(_0x3d5869=this['_storeColl'+'ision'](_0xcd1932,_0x1fbe4f)),_0x3d5869&&_0x1fbe4f['rigidbody']['fire']('triggerent'+'er',_0xcd1932));}else{const _0x2b2283=this['_hasContac'+'tEvent'](_0xcd1932),_0xb6ebfb=this['_hasContac'+'tEvent'](_0x1fbe4f),_0xc57467=this['hasEvent']('contact');if(_0xc57467||_0x2b2283||_0xb6ebfb){for(let _0x56d98f=0x6*0xde+-0x110b*0x2+-0x1ce2*-0x1;_0x56d98f<_0x55d3c7;_0x56d98f++){const _0x22ee2e=_0x54c90c['getContact'+'Point'](_0x56d98f),_0x421afa=this['_createCon'+'tactPointF'+'romAmmo'](_0x22ee2e);if(_0x2b2283||_0xb6ebfb){_0x53ca79['push'](_0x421afa);const _0x3460b0=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x22ee2e);_0x19bf3b['push'](_0x3460b0);}if(_0xc57467){const _0x1d3e60=this['_createSin'+'gleContact'+'Result'](_0xcd1932,_0x1fbe4f,_0x421afa);this['fire']('contact',_0x1d3e60);}}if(_0x2b2283){const _0x282d2d=this['_createCon'+'tactResult'](_0x1fbe4f,_0x53ca79);_0x3d5869=this['_storeColl'+'ision'](_0xcd1932,_0x1fbe4f),_0xcd1932['collision']&&(_0xcd1932['collision']['fire']('contact',_0x282d2d),_0x3d5869&&_0xcd1932['collision']['fire']('collisions'+'tart',_0x282d2d)),_0xcd1932['rigidbody']&&(_0xcd1932['rigidbody']['fire']('contact',_0x282d2d),_0x3d5869&&_0xcd1932['rigidbody']['fire']('collisions'+'tart',_0x282d2d));}if(_0xb6ebfb){const _0x2a3b50=this['_createCon'+'tactResult'](_0xcd1932,_0x19bf3b);_0x3d5869=this['_storeColl'+'ision'](_0x1fbe4f,_0xcd1932),_0x1fbe4f['collision']&&(_0x1fbe4f['collision']['fire']('contact',_0x2a3b50),_0x3d5869&&_0x1fbe4f['collision']['fire']('collisions'+'tart',_0x2a3b50)),_0x1fbe4f['rigidbody']&&(_0x1fbe4f['rigidbody']['fire']('contact',_0x2a3b50),_0x3d5869&&_0x1fbe4f['rigidbody']['fire']('collisions'+'tart',_0x2a3b50));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x296fba){let _0x158fb5,_0xc33ce;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0x745+-0x2*-0xd3+0x59f]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x8e9*-0x4+-0x447*-0x6+0x9fb]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x11f+-0x1fb2+0x1e95]=this['gravity']['z'];const _0x851804=this['dynamicsWo'+'rld']['getGravity']();(_0x851804['x']()!==this['_gravityFl'+'oat32'][-0x169b+-0xbe2+0x227d]||_0x851804['y']()!==this['_gravityFl'+'oat32'][-0x10a3*0x1+-0xd54+0x1df8]||_0x851804['z']()!==this['_gravityFl'+'oat32'][-0x6d4+0x383*-0x4+0x14e2])&&(_0x851804['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x851804));const _0x3eaef7=this['_triggers'];for(_0x158fb5=0x1*-0x56b+-0x1837+-0xed1*-0x2,_0xc33ce=_0x3eaef7['length'];_0x158fb5<_0xc33ce;_0x158fb5++)_0x3eaef7[_0x158fb5]['updateTran'+'sform']();const _0x30a240=this['_compounds'];for(_0x158fb5=-0x640+0x827+-0x1e7*0x1,_0xc33ce=_0x30a240['length'];_0x158fb5<_0xc33ce;_0x158fb5++)_0x30a240[_0x158fb5]['_updateCom'+'pound']();const _0xea767=this['_kinematic'];for(_0x158fb5=0x1b0+0x53*0x61+0x1f3*-0x11,_0xc33ce=_0xea767['length'];_0x158fb5<_0xc33ce;_0x158fb5++)_0xea767[_0x158fb5]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x296fba,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x3a01eb=this['_dynamic'];for(_0x158fb5=0x3d7*-0x7+-0x17e2+0x32c3,_0xc33ce=_0x3a01eb['length'];_0x158fb5<_0xc33ce;_0x158fb5++)_0x3a01eb[_0x158fb5]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x296fba),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x25dc3e,_0x4b9459){super(_0x25dc3e,_0x4b9459),this['_resolutio'+'n']=new J(-0x1*0x55d+0x1*0x1a79+0x6*-0x31a,0x23da+-0xa19+-0x1881),this['_reference'+'Resolution']=new J(0x788*-0x1+0x8*0x3d+0x820,-0x118+-0x12*0x93+-0x2*-0x657),this['_scaleMode']=Za,this['scale']=-0x17de+-0x260c+-0x3deb*-0x1,this['_scaleBlen'+'d']=-0x1e6b+-0x1155+-0x2fc0*-0x1+0.5,this['_priority']=0x5*-0x17+-0x1*0x19e1+0x1a54,this['_screenSpa'+'ce']=!(0x1*-0x15dc+0x35*-0x11+-0x1962*-0x1),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x25dc3e['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x8c4518,_0x9dcf64){var _0x3c4498;if(!(_0x8c4518 instanceof lt))return _0x9dcf64;if(_0x8c4518['element']){const _0x209891=_0x8c4518['element']['drawOrder'];_0x8c4518['element']['drawOrder']=_0x9dcf64++,_0x8c4518['element']['_batchGrou'+'pId']>=-0x47*0x7f+0x1dde+0x55b&&_0x209891!==_0x8c4518['element']['drawOrder']&&((_0x3c4498=this['system']['app']['batcher'])==null||_0x3c4498['markGroupD'+'irty'](_0x8c4518['element']['_batchGrou'+'pId']));}_0x8c4518['particlesy'+'stem']&&(_0x8c4518['particlesy'+'stem']['drawOrder']=_0x9dcf64++);const _0xc3b966=_0x8c4518['children'];for(let _0x335aa5=0x638+0xf*-0x223+0x19d5;_0x335aa5<_0xc3b966['length'];_0x335aa5++)_0x9dcf64=this['_recurseDr'+'awOrderSyn'+'c'](_0xc3b966[_0x335aa5],_0x9dcf64);return _0x9dcf64;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x11cd+-0x1*0x20c5+0x3293),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x48509f=this['_resolutio'+'n']['x']/this['scale'],_0x501622=this['_resolutio'+'n']['y']/this['scale'],_0x1353f8=0x3ae*0x1+0x3*-0x6f1+0x7*0x273,_0x15431e=_0x48509f,_0x44f47b=-_0x501622;this['_screenMat'+'rix']['setOrtho'](_0x1353f8,_0x15431e,_0x44f47b,0x9fb+0x1f31+0x41e*-0xa,-0x1*0x12cb+0x2553+-0x20f*0x9,-(0x727*-0x3+-0x11b*0x7+0x5d7*0x5)),this['_screenSpa'+'ce']||(tS['setScale']((0x1062+0xe6+-0x2*0x8a4+0.5)*_0x48509f,(0x2*-0xa2+-0x2137*-0x1+-0x1ff3+0.5)*_0x501622,0x1342+-0x147a+0x139*0x1),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3d26fd,_0x2dd20b){const _0x463468=Math['log2']((_0x3d26fd['x']||-0x3b*0x77+-0x25f*0x6+0x29a8)/_0x2dd20b['x']),_0xeb55cc=Math['log2']((_0x3d26fd['y']||-0x1e51+-0x7ac+0x25fe)/_0x2dd20b['y']);return Math['pow'](-0x209c+-0x195c+0x39fa,_0x463468*(-0x15ab+0x1b*0x107+-0x611-this['_scaleBlen'+'d'])+_0xeb55cc*this['_scaleBlen'+'d']);}['_onResize'](_0x4c0b3b,_0x696f83){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x4c0b3b,_0x696f83),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x350f83){this['_elements']['add'](_0x350f83);}['_unbindEle'+'ment'](_0x50fbc2){this['_elements']['delete'](_0x50fbc2);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x16cbf6=>_0x16cbf6['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x34fb4e){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x34fb4e['x'],_0x34fb4e['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x221949=>_0x221949['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x1dbe9d){this['_reference'+'Resolution']['set'](_0x1dbe9d['x'],_0x1dbe9d['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x417078=>_0x417078['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x86fbc4){this['_screenSpa'+'ce']=_0x86fbc4,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x2ece5a=>_0x2ece5a['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x365e7e){_0x365e7e!==Za&&_0x365e7e!==qO&&(_0x365e7e=Za),!this['_screenSpa'+'ce']&&_0x365e7e!==Za&&(_0x365e7e=Za),this['_scaleMode']=_0x365e7e,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x2718c7){this['_scaleBlen'+'d']=_0x2718c7,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x2143e3=>_0x2143e3['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x1ca3e4){_0x1ca3e4>0x745+0x4a4+-0xfe*0xb&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x1ca3e4+'\x20to\x20255'),_0x1ca3e4=0x51+0x9dd+-0x92f*0x1),this['_priority']!==_0x1ca3e4&&(this['_priority']=_0x1ca3e4,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0x25be+0x6+-0x4b7*-0x8);}}const Uu=['enabled'];class YO extends ct{constructor(_0x2a07a6){super(_0x2a07a6),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x15a964,_0x597026,_0x33f9c2){_0x597026['priority']!==void(0x1d4+-0x1732*0x1+-0x223*-0xa)&&(_0x15a964['priority']=_0x597026['priority']),_0x597026['screenSpac'+'e']!==void(-0x1da4+0x238a+-0xa*0x97)&&(_0x15a964['screenSpac'+'e']=_0x597026['screenSpac'+'e']),_0x15a964['cull']=_0x15a964['screenSpac'+'e'],_0x597026['scaleMode']!==void(0x226f+-0xa54+-0x181b)&&(_0x15a964['scaleMode']=_0x597026['scaleMode']),_0x597026['scaleBlend']!==void(0x563+-0xafb+-0x1*-0x598)&&(_0x15a964['scaleBlend']=_0x597026['scaleBlend']),_0x597026['resolution']!==void(-0x589*-0x7+-0x1e9*0x7+-0x1960)&&(_0x597026['resolution']instanceof J?_0x15a964['_resolutio'+'n']['copy'](_0x597026['resolution']):_0x15a964['_resolutio'+'n']['set'](_0x597026['resolution'][0x12d9+0x26de+-0x39b7],_0x597026['resolution'][-0x1d8c+-0x554+-0x22e1*-0x1]),_0x15a964['resolution']=_0x15a964['_resolutio'+'n']),_0x597026['referenceR'+'esolution']!==void(-0x3*0xbdf+0x1*-0x159b+-0x3938*-0x1)&&(_0x597026['referenceR'+'esolution']instanceof J?_0x15a964['_reference'+'Resolution']['copy'](_0x597026['referenceR'+'esolution']):_0x15a964['_reference'+'Resolution']['set'](_0x597026['referenceR'+'esolution'][-0xc1*-0x2c+0x26e0+-0x480c],_0x597026['referenceR'+'esolution'][-0x81*-0x29+-0x6a7*-0x3+0x1*-0x289d]),_0x15a964['referenceR'+'esolution']=_0x15a964['_reference'+'Resolution']),_0x15a964['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x15a964,_0x597026,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x36368e){const _0x2704e9=this['store'];for(const _0x2bf51e in _0x2704e9)_0x2704e9[_0x2bf51e]['entity']['screen']['update']&&_0x2704e9[_0x2bf51e]['entity']['screen']['update'](_0x36368e);}['_onResize'](_0x10bb8d,_0x3347ef){this['windowReso'+'lution']['x']=_0x10bb8d,this['windowReso'+'lution']['y']=_0x3347ef;}['cloneCompo'+'nent'](_0x2728b5,_0x3d677f){const _0x383592=_0x2728b5['screen'];return this['addCompone'+'nt'](_0x3d677f,{'enabled':_0x383592['enabled'],'screenSpace':_0x383592['screenSpac'+'e'],'scaleMode':_0x383592['scaleMode'],'resolution':_0x383592['resolution']['clone'](),'referenceResolution':_0x383592['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x188578,_0x13b376){_0x13b376['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x117eaa=this['_drawOrder'+'SyncQueue']['list']();for(let _0x56b064=0x18e7+0x226e+-0x3b55;_0x56b064<_0x117eaa['length'];_0x56b064++){const _0x3f62a9=_0x117eaa[_0x56b064];_0x3f62a9['callback']['call'](_0x3f62a9['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x24f607,_0x4184d8,_0x261c14){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x24f607)||this['_drawOrder'+'SyncQueue']['push'](_0x24f607,{'callback':_0x4184d8,'scope':_0x261c14});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x492943,_0x8aec85){if(super(),!_0x492943||!(_0x492943 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x8aec85&&_0x8aec85!=='x'&&_0x8aec85!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x8aec85);this['_element']=_0x492943,this['_app']=_0x492943['system']['app'],this['_axis']=_0x8aec85||null,this['_enabled']=!(0x11ab*-0x1+0x1588+-0x3dd),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x2443*-0x1+0x1408+-0x4*-0x40f),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x66c884){this['_element'][_0x66c884]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x66c884]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x66c884]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2a10f5){const _0x504ac9=_0x2a10f5==='on';this['_hasDragLi'+'steners']&&_0x504ac9||(this['_app']['mouse']&&(this['_element'][_0x2a10f5]('mousemove',this['_onMove'],this),this['_element'][_0x2a10f5]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x2a10f5]('touchmove',this['_onMove'],this),this['_element'][_0x2a10f5]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2a10f5]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2a10f5]('selectmove',this['_onMove'],this),this['_element'][_0x2a10f5]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x504ac9);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x5719db){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x5719db['camera'],this['_calculate'+'DragScale']();const _0x5c65fd=this['_screenToL'+'ocal'](_0x5719db);_0x5c65fd&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0xbf5+-0x43f*0x2+0x1473),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x5c65fd),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x1f5a*-0x1+0x32c*0x4+0x2c09*-0x1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x3dc659){return _0x3dc659['inputSourc'+'e']?Hr['set'](_0x3dc659['inputSourc'+'e']['getOrigin'](),_0x3dc659['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x3dc659),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x23ed+0x2*0x119+0x29*-0xee)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x4319d5){const _0x58dc8c=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x4319d5['x']<'u'&&typeof _0x4319d5['y']<'u'?(lr['x']=_0x4319d5['x']*_0x58dc8c,lr['y']=_0x4319d5['y']*_0x58dc8c):_0x4319d5['changedTou'+'ches']?(lr['x']=_0x4319d5['changedTou'+'ches'][-0x1*0x1f0f+0x2665+-0x756]['x']*_0x58dc8c,lr['y']=_0x4319d5['changedTou'+'ches'][0xe3*0x13+-0x1963*0x1+0x88a*0x1]['y']*_0x58dc8c):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x2*-0x235+-0x24d2+0x293c),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x239+-0xb03+0x1*0x8cb)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x13e784=this['_element']['entity']['parent'];const _0x388da4=this['_element']['screen']&&this['_element']['screen']['screen'],_0x271cc6=_0x388da4&&_0x388da4['screenSpac'+'e'],_0x106567=_0x271cc6?_0x388da4['scale']:-0xca8+0x1*-0xc8d+0x1936,_0x225bcc=this['_dragScale'];for(_0x225bcc['set'](_0x106567,_0x106567,_0x106567);_0x13e784&&(_0x225bcc['mul'](_0x13e784['getLocalSc'+'ale']()),_0x13e784=_0x13e784['parent'],!(_0x271cc6&&_0x13e784['screen'])););_0x225bcc['x']=(-0x1f70*-0x1+-0x1d1+0x1d9e*-0x1)/_0x225bcc['x'],_0x225bcc['y']=(0x1394+0xdcc*-0x2+0x805)/_0x225bcc['y'],_0x225bcc['z']=-0x1e8e*-0x1+-0xa9e+-0x1d*0xb0;}['_onMove'](_0x11e381){const {_element:_0x4126db,_deltaMousePosition:_0x1834a7,_deltaHandlePosition:_0x5332bd,_axis:_0x274d12}=this;if(_0x4126db&&this['_isDraggin'+'g']&&this['enabled']&&_0x4126db['enabled']&&_0x4126db['entity']['enabled']){const _0x26f483=this['_screenToL'+'ocal'](_0x11e381);if(_0x26f483){if(_0x1834a7['sub2'](_0x26f483,this['_dragStart'+'MousePosit'+'ion']),_0x5332bd['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x1834a7),_0x274d12){const _0x16cd50=_0x4126db['entity']['getLocalPo'+'sition'](),_0x4fb6d6=ZO[_0x274d12];_0x5332bd[_0x4fb6d6]=_0x16cd50[_0x4fb6d6];}_0x4126db['entity']['setLocalPo'+'sition'](_0x5332bd),this['fire']('drag:move',_0x5332bd);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x3b8c7f){this['_enabled']=_0x3b8c7f;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0xe0c+-0x14*0x10b+-0xda*-0x8,aS=-0xadb+-0x8ec*0x2+0x16*0x14e,JO=-0x3d5*0x9+-0x17d8+-0x1d*-0x203,eF=0x106b+-0x3*-0x9bf+-0x2da8,tF=-0x3df*-0x6+0x12c5+0x29fe*-0x1,xo=new J();class c0 extends we{constructor(_0xc567a3,_0x3da59a){super(_0xc567a3,_0x3da59a),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x3*0x9a7+-0x21cc*-0x1+-0x3ec0),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x213478=this['system']['store'][this['entity']['getGuid']()];return _0x213478?_0x213478['data']:null;}set['enabled'](_0x547349){this['_setValue']('enabled',_0x547349);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x1453ce){this['_setValue']('horizontal',_0x1453ce);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x125c5a){this['_setValue']('vertical',_0x125c5a);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x5c7473){this['_setValue']('scrollMode',_0x5c7473);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0xc194eb){this['_setValue']('bounceAmou'+'nt',_0xc194eb);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x5d4122){this['_setValue']('friction',_0x5d4122);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x53e8e4){this['_setValue']('dragThresh'+'old',_0x53e8e4);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x4b6ca4){this['_setValue']('useMouseWh'+'eel',_0x4b6ca4);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x5edf01){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x5edf01);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x157313){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x157313);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x14e5c4){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x14e5c4);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x20168c){if(this['_viewportE'+'ntity']===_0x20168c)return;const _0x3c24f0=typeof _0x20168c=='string';this['_viewportE'+'ntity']&&_0x3c24f0&&this['_viewportE'+'ntity']['getGuid']()===_0x20168c||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x20168c instanceof Ie?this['_viewportE'+'ntity']=_0x20168c:_0x3c24f0?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x20168c)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x3c24f0&&_0x20168c&&(this['data']['viewportEn'+'tity']=_0x20168c));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x3fd237){if(this['_contentEn'+'tity']===_0x3fd237)return;const _0x2fa1b7=typeof _0x3fd237=='string';this['_contentEn'+'tity']&&_0x2fa1b7&&this['_contentEn'+'tity']['getGuid']()===_0x3fd237||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x3fd237 instanceof Ie?this['_contentEn'+'tity']=_0x3fd237:_0x2fa1b7?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3fd237)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x2fa1b7&&_0x3fd237&&(this['data']['contentEnt'+'ity']=_0x3fd237));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x4b4937){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x4b4937)return;const _0x5eb563=typeof _0x4b4937=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x5eb563&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x4b4937||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x4b4937 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x4b4937:_0x5eb563?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x4b4937)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x5eb563&&_0x4b4937&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x4b4937));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x3451ee){if(this['_verticalS'+'crollbarEn'+'tity']===_0x3451ee)return;const _0x1f686b=typeof _0x3451ee=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x1f686b&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x3451ee||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x3451ee instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x3451ee:_0x1f686b?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3451ee)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x1f686b&&_0x3451ee&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x3451ee));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x18a7cb){this['_onSetScro'+'ll'](_0x18a7cb['x'],_0x18a7cb['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0xf3559,_0x1f873b){const _0x392bfb=this['data'],_0x324cf1=_0x392bfb[_0xf3559];_0x392bfb[_0xf3559]=_0x1f873b,this['fire']('set',_0xf3559,_0x324cf1,_0x1f873b);}['_toggleLif'+'ecycleList'+'eners'](_0x499a14){this[_0x499a14]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x499a14]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x499a14]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x488357){if(this['entity']['element']){if(_0x488357==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x488357]('resize',this['_syncAll'],this),this['entity']['element'][_0x488357]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x488357==='on';}}['_onElement'+'ComponentA'+'dd'](_0x2bea3a){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0xabc094){var _0x5b7624;(_0x5b7624=this['_evtElemen'+'tRemove'])==null||_0x5b7624['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x1e3c86,_0x55d8ef;(_0x1e3c86=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x1e3c86['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x55d8ef=this['_viewportE'+'ntity'])!=null&&_0x55d8ef['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x474ac9=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x474ac9['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x474ac9['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x66ad4a,_0x5980c2;(_0x66ad4a=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x66ad4a['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x5980c2=this['_evtViewpo'+'rtResize'])==null||_0x5980c2['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x2946bf,_0x2e7686;(_0x2946bf=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x2946bf['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2e7686=this['_contentEn'+'tity'])!=null&&_0x2e7686['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x20aad6=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x20aad6['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x20aad6['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x196d29,_0x196d5;(_0x196d29=this['_evtConten'+'tElementRe'+'move'])==null||_0x196d29['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x196d5=this['_evtConten'+'tResize'])==null||_0x196d5['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x2da940){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x1992+0x1*0x2b0+0x3a*0x65),this['_setScroll'+'FromConten'+'tPosition'](_0x2da940),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2da940),!this['_disabledC'+'ontentInpu'+'t'])){const _0x5eee2f=_0x2da940['x']-this['_dragStart'+'Position']['x'],_0x10a4f9=_0x2da940['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x5eee2f)>this['dragThresh'+'old']||Math['abs'](_0x10a4f9)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x369bf9;(_0x369bf9=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x369bf9['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x1b0cfd;(_0x1b0cfd=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x1b0cfd['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3f152f){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3f152f,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x40edc2){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x40edc2);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x300f5b;const _0x4ef91e=(_0x300f5b=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x22d*-0x6+-0xfa3+0x1cb1):_0x300f5b['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x4ef91e['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x4ef91e['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x100c15;const _0x2bb191=(_0x100c15=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0xaa8+0x1038+-0x8*0xb2):_0x100c15['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x2bb191['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x2bb191['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0xe74918,_0x16f42e;(_0xe74918=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0xe74918['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x16f42e=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x16f42e['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x1e110c,_0x2b0da3;(_0x1e110c=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x1e110c['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x2b0da3=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x2b0da3['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x2b2b2e,_0x2214df,_0xf3f197){_0xf3f197!==!(-0x3*0xa0a+-0x2*0x1277+0x430d)&&this['_velocity']['set'](-0x3a8+0x1777+-0xb*0x1cd,0xd28+-0x7b*0x2+-0xe*0xdf,-0x4*0x995+-0x13cb+0x3a1f);const _0x25059b=this['_updateAxi'+'s'](_0x2b2b2e,'x',Ce),_0x2fbe21=this['_updateAxi'+'s'](_0x2214df,'y',je);(_0x25059b||_0x2fbe21)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x4711a5,_0x5bdc3c,_0x5b8dfc){const _0x10b804=_0x4711a5!==null&&Math['abs'](_0x4711a5-this['_scroll'][_0x5bdc3c])>-0x373*-0x1+-0x1f3d+0x1bca+0.00001;return(_0x10b804||this['_isDraggin'+'g']()||_0x4711a5===-0xd0f+-0x1fb4+0x2cc3)&&(this['_scroll'][_0x5bdc3c]=this['_determine'+'NewScrollV'+'alue'](_0x4711a5,_0x5bdc3c,_0x5b8dfc),this['_syncConte'+'ntPosition'](_0x5b8dfc),this['_syncScrol'+'lbarPositi'+'on'](_0x5b8dfc)),_0x10b804;}['_determine'+'NewScrollV'+'alue'](_0x14ba9,_0x4a27c3,_0x5ccaf5){if(!this['_getScroll'+'ingEnabled'](_0x5ccaf5))return this['_scroll'][_0x4a27c3];switch(this['scrollMode']){case QO:return Y['clamp'](_0x14ba9,0x1*0x203b+0x1ae3*-0x1+-0x18*0x39,this['_getMaxScr'+'ollValue'](_0x5ccaf5));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x14ba9,_0x4a27c3,_0x5ccaf5),_0x14ba9;case JO:return _0x14ba9;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x14ba9;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0xd8f23){if(!this['_contentEn'+'tity'])return;const _0x31ecbd=this['_getAxis'](_0xd8f23),_0x296d2e=this['_getSign'](_0xd8f23),_0x1b33be=this['_prevConte'+'ntSizes'][_0xd8f23],_0x21df3f=this['_getConten'+'tSize'](_0xd8f23);if(_0x1b33be!==null&&Math['abs'](_0x1b33be-_0x21df3f)>0x1*-0x1a5f+-0x6b*0x7+0x1d4c+0.0001){const _0x295e8f=this['_getMaxOff'+'set'](_0xd8f23,_0x1b33be),_0x4867f6=this['_getMaxOff'+'set'](_0xd8f23,_0x21df3f);_0x4867f6===-0xaaf+-0xc87*0x2+0x23bd?this['_scroll'][_0x31ecbd]=-0x60c+-0x22a*-0x1+-0xc7*-0x5:this['_scroll'][_0x31ecbd]=Y['clamp'](this['_scroll'][_0x31ecbd]*_0x295e8f/_0x4867f6,0x83f+0x416*-0x5+0xc2f,0x1d22+-0x1*0x18d5+-0x44c);}const _0x151023=this['_scroll'][_0x31ecbd]*this['_getMaxOff'+'set'](_0xd8f23),_0xd30aff=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xd30aff[_0x31ecbd]=_0x151023*_0x296d2e,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xd30aff),this['_prevConte'+'ntSizes'][_0xd8f23]=_0x21df3f;}['_syncScrol'+'lbarPositi'+'on'](_0x3de1bd){const _0x5a800=this['_scrollbar'+'Entities'][_0x3de1bd];if(!(_0x5a800!=null&&_0x5a800['scrollbar']))return;const _0x59fd83=this['_getAxis'](_0x3de1bd);this['_scrollbar'+'UpdateFlag'+'s'][_0x3de1bd]=!(0x161*-0xb+-0x1*-0x1ae4+-0xbb9),_0x5a800['scrollbar']['value']=this['_scroll'][_0x59fd83],_0x5a800['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x59fd83,_0x3de1bd),this['_scrollbar'+'UpdateFlag'+'s'][_0x3de1bd]=!(-0x1*-0x1b73+0x21cf+-0x3d41);}['_syncScrol'+'lbarEnable'+'dState'](_0x1c1a37){const _0x10591b=this['_scrollbar'+'Entities'][_0x1c1a37];if(!_0x10591b)return;const _0x639d43=this['_getScroll'+'ingEnabled'](_0x1c1a37),_0x47c1f0=this['_getScroll'+'barVisibil'+'ity'](_0x1c1a37);switch(_0x47c1f0){case eF:_0x10591b['enabled']=_0x639d43;return;case tF:_0x10591b['enabled']=_0x639d43&&this['_contentIs'+'LargerThan'+'Viewport'](_0x1c1a37);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x47c1f0),_0x10591b['enabled']=_0x639d43;}}['_contentIs'+'LargerThan'+'Viewport'](_0x38a715){return this['_getConten'+'tSize'](_0x38a715)>this['_getViewpo'+'rtSize'](_0x38a715);}['_contentPo'+'sitionToSc'+'rollValue'](_0x1f4b4d){const _0x401d10=this['_getMaxOff'+'set'](Ce),_0x42815e=this['_getMaxOff'+'set'](je);return _0x401d10===0xf13+0x12da+-0x21ed?xo['x']=0x164f+0xb*0x205+-0x2c86:xo['x']=_0x1f4b4d['x']/_0x401d10,_0x42815e===0x5c*-0xa+-0x1412+0xd*0x1d2?xo['y']=0x1e3b+0x1af8*0x1+-0x1311*0x3:xo['y']=_0x1f4b4d['y']/-_0x42815e,xo;}['_getMaxOff'+'set'](_0x3bb0ef,_0x3c2f56){_0x3c2f56=_0x3c2f56===void(0x2e7*-0xc+-0x2c4+0x2598)?this['_getConten'+'tSize'](_0x3bb0ef):_0x3c2f56;const _0x5ec9f8=this['_getViewpo'+'rtSize'](_0x3bb0ef);return _0x3c2f56<_0x5ec9f8?-this['_getViewpo'+'rtSize'](_0x3bb0ef):_0x5ec9f8-_0x3c2f56;}['_getMaxScr'+'ollValue'](_0x2bc11f){return this['_contentIs'+'LargerThan'+'Viewport'](_0x2bc11f)?-0x185a+0x1*0x18a7+-0x26*0x2:-0x187*0x10+0x157*0x17+-0x661;}['_getScroll'+'barHandleS'+'ize'](_0x2b1e8d,_0x63d1d9){const _0x599a8b=this['_getViewpo'+'rtSize'](_0x63d1d9),_0x210f0a=this['_getConten'+'tSize'](_0x63d1d9);if(Math['abs'](_0x210f0a)<0x9bb+0x1be0+-0x259b+0.001)return 0x27*-0xf1+0x222b+0x28d*0x1;const _0x49ff8d=Math['min'](_0x599a8b/_0x210f0a,-0x19b2+0x10*0x1e5+-0x49d),_0x20bb61=this['_toOversho'+'ot'](this['_scroll'][_0x2b1e8d],_0x63d1d9);return _0x20bb61===0x254a+0x7db+-0x2d25?_0x49ff8d:_0x49ff8d/(-0x3fd+0x139*-0x8+-0x29*-0x56+Math['abs'](_0x20bb61));}['_getViewpo'+'rtSize'](_0x13b5d9){return this['_getSize'](_0x13b5d9,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x4f6a85){return this['_getSize'](_0x4f6a85,this['_contentEn'+'tity']);}['_getSize'](_0xb7bf15,_0x46d299){return _0x46d299!=null&&_0x46d299['element']?_0x46d299['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xb7bf15)]:0xd75+-0x1a7*-0x7+-0x1906;}['_getScroll'+'ingEnabled'](_0x3d088d){if(_0x3d088d===Ce)return this['horizontal'];if(_0x3d088d===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3d088d);}['_getScroll'+'barVisibil'+'ity'](_0x526c99){if(_0x526c99===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x526c99===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x526c99);}['_getSign'](_0x5de2c7){return _0x5de2c7===Ce?0x26cf*0x1+0x16*-0x15b+-0x8fc:-(0xe*-0x11b+0x78+0x9*0x1ab);}['_getAxis'](_0x503fb9){return _0x503fb9===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1cadda){return _0x1cadda===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x1d3e*-0x1+-0x40*-0x55+0x2*0x3ff+0.0001||Math['abs'](this['_velocity']['y'])>-0xf5a+0xa1*-0x7+0x13c1+0.0001){const _0x364855=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x364855['x']+=this['_velocity']['x'],_0x364855['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x364855),this['_setScroll'+'FromConten'+'tPosition'](_0x364855);}this['_velocity']['x']*=0x1*0x1587+0x7*0x419+-0x3235-this['friction'],this['_velocity']['y']*=0x128f+0x4*-0x184+-0x52*0x27-this['friction'];}}['_hasOversh'+'oot'](_0x46738c,_0x434e71){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x46738c],_0x434e71))>-0x6a*-0x38+-0x1043*0x2+0x956+0.001;}['_toOversho'+'ot'](_0x1ef166,_0x425062){const _0x59a3d7=this['_getMaxScr'+'ollValue'](_0x425062);return _0x1ef166<0x1d5c+-0x1dc8+0x3*0x24?_0x1ef166:_0x1ef166>_0x59a3d7?_0x1ef166-_0x59a3d7:-0x118d+0xfcd+0x1c0;}['_setVeloci'+'tyFromOver'+'shoot'](_0x35d209,_0x3f0de9,_0x5ae9d2){const _0x151304=this['_toOversho'+'ot'](_0x35d209,_0x5ae9d2)*this['_getMaxOff'+'set'](_0x5ae9d2)*this['_getSign'](_0x5ae9d2);Math['abs'](_0x151304)>-0xf*-0x1d7+0x5d6+-0x13d*0x1b&&(this['_velocity'][_0x3f0de9]=-_0x151304/(this['bounceAmou'+'nt']*(-0x1*-0x1d+0x1*-0x307+0x31c)+(0x16*0x1b+-0x85*-0x11+-0xb26)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5031e4){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x5031e4,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x5031e4)):(this['_velocity']['set'](-0x1*0x142b+-0x7db+0x1c06,0x27*0xbb+0x37+-0x1cb4,0x27*0xfd+0x9*-0x3c7+-0x48c),this['_prevConte'+'ntDragPosi'+'tion']=_0x5031e4['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x10ee50){let _0x5b8d02=this['_contentPo'+'sitionToSc'+'rollValue'](_0x10ee50);this['_isDraggin'+'g']()&&(_0x5b8d02=this['_applyScro'+'llValueTen'+'sion'](_0x5b8d02)),this['_onSetScro'+'ll'](_0x5b8d02['x'],_0x5b8d02['y'],!(-0x2515+-0xfd5+-0x17*-0x24d));}['_applyScro'+'llValueTen'+'sion'](_0x4f2501){let _0x9236cd=this['_getMaxScr'+'ollValue'](Ce),_0x45f695=this['_toOversho'+'ot'](_0x4f2501['x'],Ce);return _0x45f695>0x7*-0x315+-0x8*-0x3e1+-0x3*0x327?_0x4f2501['x']=_0x9236cd+(-0x1*-0x2042+-0xfcf*0x2+-0xa3)*Math['log10'](0x129b*0x1+0x9e*0x4+-0x1512+_0x45f695):_0x45f695<0xd37+-0x740+-0x5f7*0x1&&(_0x4f2501['x']=-(0x193*0x1+-0x310+0x1*0x17e)*Math['log10'](-0x2*-0xc37+-0x2239+0x84*0x13-_0x45f695)),_0x9236cd=this['_getMaxScr'+'ollValue'](je),_0x45f695=this['_toOversho'+'ot'](_0x4f2501['y'],je),_0x45f695>-0xb2+0x2*0xdc7+-0x1adc?_0x4f2501['y']=_0x9236cd+(-0xe12+-0x16*-0x3a+0x917)*Math['log10'](-0x8c*-0x15+-0x1117+0x59c+_0x45f695):_0x45f695<-0xd19*-0x1+0x1e43+-0xc*0x39d&&(_0x4f2501['y']=-(-0xd85*-0x1+0x3*-0x42b+-0x103)*Math['log10'](-0x1*-0x201b+-0x1*0xb95+0x11*-0x135-_0x45f695)),_0x4f2501;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x5afbe1){var _0x4660de,_0x3998da;(_0x4660de=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x4660de['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x5afbe1),(_0x3998da=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x3998da['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x5afbe1);}['_setConten'+'tDraggingE'+'nabled'](_0x42608d){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x42608d);}['_onMouseWh'+'eel'](_0x5da7df){var _0x48b0ba;if(!this['useMouseWh'+'eel']||!((_0x48b0ba=this['_contentEn'+'tity'])!=null&&_0x48b0ba['element']))return;const _0x32b527=_0x5da7df['event'],_0x489e1c=_0x32b527['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x5b5c01=_0x32b527['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x1f5341=Y['clamp'](this['_scroll']['x']+_0x489e1c,0x1f7c+-0x119b+0x143*-0xb,this['_getMaxScr'+'ollValue'](Ce)),_0x452738=Y['clamp'](this['_scroll']['y']+_0x5b5c01,0x8fa+-0x9d2+0xd8,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x1f5341,_0x452738);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x20905e=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x20905e['element']&&(_0x20905e['element']['useInput']=!(0xea1+0xe77+-0x2*0xe8c));}this['_disabledC'+'ontentInpu'+'t']=!(0xf9+-0x1*0x851+0x759);}['_disableCo'+'ntentInput'](){const _0x2861c5=_0x2fb0e4=>{_0x2fb0e4['element']&&_0x2fb0e4['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x2fb0e4),_0x2fb0e4['element']['useInput']=!(-0x1794+-0xf*-0x268+-0xc83));const _0xc4cac6=_0x2fb0e4['children'];for(let _0x1ff6f0=-0x503*0x6+0x2284+0x472*-0x1,_0x34d111=_0xc4cac6['length'];_0x1ff6f0<_0x34d111;_0x1ff6f0++)_0x2861c5(_0xc4cac6[_0x1ff6f0]);};if(this['_contentEn'+'tity']){const _0xa18100=this['_contentEn'+'tity']['children'];for(let _0x4a9061=0x1e1b+-0x12b*-0x6+-0x251d,_0x39d080=_0xa18100['length'];_0x4a9061<_0x39d080;_0x4a9061++)_0x2861c5(_0xa18100[_0x4a9061]);}this['_disabledC'+'ontentInpu'+'t']=!(-0xdf1+-0xb2e*-0x1+0x7*0x65);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x11b8+-0x1d0b+0xb53)),this['_setConten'+'tDraggingE'+'nabled'](!(0x164c+0x4*0x846+-0x3764)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1f7d*-0x1+-0x1904+-0x678)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x21*-0xde+0x17c4+-0x4c3*0xb));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4cb64d,_0x3faf65){_0x4cb64d['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x3faf65[_0x4cb64d['viewportEn'+'tity']['getGuid']()]),_0x4cb64d['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x3faf65[_0x4cb64d['contentEnt'+'ity']['getGuid']()]),_0x4cb64d['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x3faf65[_0x4cb64d['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x4cb64d['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x3faf65[_0x4cb64d['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x1a4d+0x16e2+0x5*0xb1;class iF{constructor(){h(this,'enabled',!(0x15*-0x69+-0x1f08+0x3*0xd37)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0x32c+0x1*0x223a+-0x1f0e)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0xd97+-0x4*-0x5fc+-0x2586,-0x1b44+0x1*0x1f2d+-0x3e8)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0x2*0x52f+-0x293*0x3+-0x1a5*-0xb),h(this,'verticalSc'+'rollbarVis'+'ibility',0x8d9+-0xa1+-0x838),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x3*0xc2f+-0x1b73*0x1+-0x910;class aF extends ct{constructor(_0x93a24c){super(_0x93a24c),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5f53d4,_0x2a9f91,_0x1ecb6d){_0x2a9f91['dragThresh'+'old']===void(-0x136b+0x3c2+0xfa9)&&(_0x2a9f91['dragThresh'+'old']=rF),_0x2a9f91['useMouseWh'+'eel']===void(0x26c+0x33*0x53+-0x12f5)&&(_0x2a9f91['useMouseWh'+'eel']=!(-0x1176+-0x18a1+0x2a17)),_0x2a9f91['mouseWheel'+'Sensitivit'+'y']===void(0x9b+-0x1535+0x149a)&&(_0x2a9f91['mouseWheel'+'Sensitivit'+'y']=new J(0x13*-0x31+0x4cd+0x1*-0x129,0x7*-0x29d+0x13fe+-0x1b2)),super['initialize'+'ComponentD'+'ata'](_0x5f53d4,_0x2a9f91,nS),_0x5f53d4['viewportEn'+'tity']=_0x2a9f91['viewportEn'+'tity'],_0x5f53d4['contentEnt'+'ity']=_0x2a9f91['contentEnt'+'ity'],_0x5f53d4['horizontal'+'ScrollbarE'+'ntity']=_0x2a9f91['horizontal'+'ScrollbarE'+'ntity'],_0x5f53d4['verticalSc'+'rollbarEnt'+'ity']=_0x2a9f91['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x5ed912){const _0x5c950a=this['store'];for(const _0x49bbca in _0x5c950a){const _0x31f366=_0x5c950a[_0x49bbca]['entity'],_0x41a8aa=_0x31f366['scrollview'];_0x41a8aa['enabled']&&_0x31f366['enabled']&&_0x41a8aa['onUpdate']();}}['_onRemoveC'+'omponent'](_0x21a67e,_0x422702){_0x422702['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x38ae74,_0x701e48){super(_0x38ae74,_0x701e48),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x328ded=this['system']['store'][this['entity']['getGuid']()];return _0x328ded?_0x328ded['data']:null;}set['enabled'](_0x1f8f95){this['_setValue']('enabled',_0x1f8f95);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x7834a5){this['_setValue']('orientatio'+'n',_0x7834a5);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x38015f){this['_setValue']('value',_0x38015f);}get['value'](){return this['data']['value'];}set['handleSize'](_0x2b4605){this['_setValue']('handleSize',_0x2b4605);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x4d2685){if(this['_handleEnt'+'ity']===_0x4d2685)return;const _0x1489d9=typeof _0x4d2685=='string';this['_handleEnt'+'ity']&&_0x1489d9&&this['_handleEnt'+'ity']['getGuid']()===_0x4d2685||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x4d2685 instanceof Ie?this['_handleEnt'+'ity']=_0x4d2685:_0x1489d9?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x4d2685)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x1489d9&&_0x4d2685&&(this['data']['handleEnti'+'ty']=_0x4d2685));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x507b35,_0x393fd2){const _0x49b785=this['data'],_0x3f6637=_0x49b785[_0x507b35];_0x49b785[_0x507b35]=_0x393fd2,this['fire']('set',_0x507b35,_0x3f6637,_0x393fd2);}['_toggleLif'+'ecycleList'+'eners'](_0x4a6211){this[_0x4a6211]('set_value',this['_onSetValu'+'e'],this),this[_0x4a6211]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x4a6211]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x289ddb,_0x18d65e;(_0x289ddb=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x289ddb['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x18d65e=this['_handleEnt'+'ity'])!=null&&_0x18d65e['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0xd94e41=this['_handleEnt'+'ity']['element'],_0x2b9620=this['_evtHandle'+'EntityChan'+'ges'];_0x2b9620['push'](_0xd94e41['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x2b9620['push'](_0xd94e41['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2b9620['push'](_0xd94e41['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2b9620['push'](_0xd94e41['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x271f77=-0x167d+-0x2479+-0x1d7b*-0x2;_0x271f77<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x271f77++)this['_evtHandle'+'EntityChan'+'ges'][_0x271f77]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x919+-0x25f6+-0x1*-0x2f0f;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4d7671){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4d7671[this['_getAxis']()]));}['_onSetValu'+'e'](_0x440089,_0x31cd13,_0x1f3ce6){Math['abs'](_0x1f3ce6-_0x31cd13)>0x2402+-0x469+0x1f99*-0x1+0.00001&&(this['data']['value']=Y['clamp'](_0x1f3ce6,-0xeec+0x57d*0x6+-0x1202,0x16*0x1b7+-0x1fe7+-0x2*0x2e9),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x78682f,_0x2c90b5,_0xd6b759){Math['abs'](_0xd6b759-_0x2c90b5)>-0xc2e*0x1+-0x2*-0xde9+-0x23c*0x7+0.00001&&(this['data']['handleSize']=Y['clamp'](_0xd6b759,0x135a+0x19*-0xe4+0x2*0x175,-0xf+-0x241b+0x242b),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x541b46,_0x43373c,_0x59bbaa){var _0x5f3740;_0x59bbaa!==_0x43373c&&((_0x5f3740=this['_handleEnt'+'ity'])!=null&&_0x5f3740['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x8c*0x2+0x1f9*0xb+-0x16cb);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x28e38a=this['_handleEnt'+'ity'],_0x22da57=_0x28e38a==null?void(-0x98+0x1a4c+-0x19b4):_0x28e38a['element'];if(_0x28e38a){const _0x17ed8f=_0x28e38a['getLocalPo'+'sition']();_0x17ed8f[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x28e38a['setLocalPo'+'sition'](_0x17ed8f);}_0x22da57&&(_0x22da57[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x5d46e9){return _0x5d46e9*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x3b08a9){return _0x3b08a9*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x2050+-0x3*0xaae+0x405a*0x1+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0xacf*-0x1+0x242b+-0x1*0x2efa;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x162f+-0x33*-0x13+-0x19f7:-(-0xa3*-0x3+0xf7*0x8+0x2*-0x4d0);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x314c3c){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x314c3c);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x159*-0x1+0xafa+0x1d*-0x55));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*-0x10f7+-0x5b0+-0xb46));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3cf322,_0x2e5e8f){_0x3cf322['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x2e5e8f[_0x3cf322['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x189e+-0x1dd0+0x366e)),h(this,'orientatio'+'n',Ce),h(this,'value',0x117e+0x153d+-0x26bb),h(this,'handleSize',0xd5a+-0x161c+-0x13*-0x76),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x306a6f){super(_0x306a6f),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x136aa3,_0x5dc6cf,_0x49a09a){super['initialize'+'ComponentD'+'ata'](_0x136aa3,_0x5dc6cf,oS),_0x136aa3['handleEnti'+'ty']=_0x5dc6cf['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x1c1156){_0x1c1156['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x22b005,_0x162c39){_0x162c39['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1631+-0x15d3+0x3b*0xbf),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x56c77f,_0x410b88='Untitled',_0x19c28d={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x56c77f,this['_assets']=_0x56c77f['system']['app']['assets'],this['_manager']=_0x56c77f['system']['manager'],this['name']=_0x410b88,this['_volume']=_0x19c28d['volume']!==void(0x20df+0x5*-0x6c5+-0xfa*-0x1)?Y['clamp'](Number(_0x19c28d['volume'])||0x17e5+-0x17bc+-0x29,0x1*-0xdaa+0x4*-0x58b+0x23d6,0x1*-0x22fd+-0x2034*-0x1+-0x7*-0x66):-0x1*-0x2201+-0x2f*0x7e+0x1a*-0x6b,this['_pitch']=_0x19c28d['pitch']!==void(-0x1*-0x665+0x7a2*0x2+-0x15a9)?Math['max'](0x7fa*-0x2+-0x232d+0x3*0x110b+0.01,Number(_0x19c28d['pitch'])||-0x1*0xa8b+-0x20ee+0x2b79):-0xa*-0x2b1+0x1*-0xa31+-0x10b8,this['_loop']=!!(_0x19c28d['loop']!==void(0x1*-0x148d+0x10c7+0x3c6)&&_0x19c28d['loop']),this['_duration']=_0x19c28d['duration']>-0x2637+-0x1f2a*-0x1+-0x5*-0x169?_0x19c28d['duration']:null,this['_startTime']=Math['max'](0x7*-0x449+0x6fc*0x4+-0x11*-0x1f,Number(_0x19c28d['startTime'])||-0x349*0x7+-0x946+0x2ef*0xb),this['_overlap']=!!_0x19c28d['overlap'],this['_autoPlay']=!!_0x19c28d['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x19c28d['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x2b2b98){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x3a998d=_0x2b2b98;if(_0x3a998d||(_0x3a998d=this['_createIns'+'tance'](),this['instances']['push'](_0x3a998d)),this['isLoaded'])_0x3a998d['play']();else{const _0x17ee55=function(_0x386227){const _0x201c84=_0x3a998d['_playWhenL'+'oaded'];_0x3a998d['sound']=_0x386227,_0x201c84&&_0x3a998d['play']();};this['off']('load',_0x17ee55),this['once']('load',_0x17ee55),this['load']();}return _0x3a998d;}['pause'](){let _0x2170dc=!(-0x861+0xd*-0x1bf+0x49*0x6d);const _0xf5b962=this['instances'];for(let _0x203214=-0x4*-0x43b+0x1694+-0x2780,_0x16cb6e=_0xf5b962['length'];_0x203214<_0x16cb6e;_0x203214++)_0xf5b962[_0x203214]['pause']()&&(_0x2170dc=!(-0x1a6c+0x1*-0x24cd+-0x27*-0x19f));return _0x2170dc;}['resume'](){let _0x1f003f=!(0x263d+-0xa8c+0x4*-0x6ec);const _0x4926cd=this['instances'];for(let _0x3ba866=0x1564+0x14f6+0x6*-0x70f,_0x4c9156=_0x4926cd['length'];_0x3ba866<_0x4c9156;_0x3ba866++)_0x4926cd[_0x3ba866]['resume']()&&(_0x1f003f=!(0x2*0x1008+0x1b81+-0x187*0x27));return _0x1f003f;}['stop'](){let _0x1c5799=!(0x912+0x13d9*-0x1+-0x78*-0x17);const _0x4dbb21=this['instances'];let _0xf64d78=_0x4dbb21['length'];for(;_0xf64d78--;)_0x4dbb21[_0xf64d78]['stop'](),_0x1c5799=!(0x250e+0x737+-0x2c45);return _0x4dbb21['length']=-0x13*0x8c+-0x662+0x10c6,_0x1c5799;}['load'](){if(!this['_hasAsset']())return;const _0x19377c=this['_assets']['get'](this['_asset']);if(!_0x19377c){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x19377c['off']('remove',this['_onAssetRe'+'moved'],this),_0x19377c['on']('remove',this['_onAssetRe'+'moved'],this),!_0x19377c['resource']){_0x19377c['off']('load',this['_onAssetLo'+'ad'],this),_0x19377c['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x19377c);return;}this['fire']('load',_0x19377c['resource']);}['setExterna'+'lNodes'](_0x294262,_0x383110){if(!_0x294262){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x383110||(_0x383110=_0x294262),this['_firstNode']=_0x294262,this['_lastNode']=_0x383110,!this['_overlap']){const _0x4e6deb=this['instances'];for(let _0x572f5f=-0x9ef+-0x1e42+-0x2831*-0x1,_0x1fafa3=_0x4e6deb['length'];_0x572f5f<_0x1fafa3;_0x572f5f++)_0x4e6deb[_0x572f5f]['setExterna'+'lNodes'](_0x294262,_0x383110);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x5e011f=this['instances'];for(let _0x59a20f=-0x1d0d+0xca7+0x1066,_0x123c1b=_0x5e011f['length'];_0x59a20f<_0x123c1b;_0x59a20f++)_0x5e011f[_0x59a20f]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0xeb3e13=null;const _0x23ca0d=this['_component'];let _0x5ff035=null;if(this['_hasAsset']()){const _0x3a01c7=this['_assets']['get'](this['_asset']);_0x3a01c7&&(_0x5ff035=_0x3a01c7['resource']);}const _0x2b81c9=lF;return _0x2b81c9['volume']=this['_volume']*_0x23ca0d['volume'],_0x2b81c9['pitch']=this['_pitch']*_0x23ca0d['pitch'],_0x2b81c9['loop']=this['_loop'],_0x2b81c9['startTime']=this['_startTime'],_0x2b81c9['duration']=this['_duration'],_0x2b81c9['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x2b81c9['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x2b81c9['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x2b81c9['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x2b81c9['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x23ca0d['positional']?(_0x2b81c9['position']['copy'](_0x23ca0d['entity']['getPositio'+'n']()),_0x2b81c9['maxDistanc'+'e']=_0x23ca0d['maxDistanc'+'e'],_0x2b81c9['refDistanc'+'e']=_0x23ca0d['refDistanc'+'e'],_0x2b81c9['rollOffFac'+'tor']=_0x23ca0d['rollOffFac'+'tor'],_0x2b81c9['distanceMo'+'del']=_0x23ca0d['distanceMo'+'del'],_0xeb3e13=new sn(this['_manager'],_0x5ff035,_0x2b81c9)):_0xeb3e13=new As(this['_manager'],_0x5ff035,_0x2b81c9),this['_firstNode']&&_0xeb3e13['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0xeb3e13;}['_onInstanc'+'ePlay'](_0x2d4c8a){this['fire']('play',_0x2d4c8a),this['_component']['fire']('play',this,_0x2d4c8a);}['_onInstanc'+'ePause'](_0x461e27){this['fire']('pause',_0x461e27),this['_component']['fire']('pause',this,_0x461e27);}['_onInstanc'+'eResume'](_0x40449f){this['fire']('resume',_0x40449f),this['_component']['fire']('resume',this,_0x40449f);}['_onInstanc'+'eStop'](_0xe5f484){const _0x4c4b05=this['instances']['indexOf'](_0xe5f484);_0x4c4b05!==-(0x1b83+0x1170+-0x2cf2)&&this['instances']['splice'](_0x4c4b05,-0x1225*-0x2+0x1528+-0x3971),this['fire']('stop',_0xe5f484),this['_component']['fire']('stop',this,_0xe5f484);}['_onInstanc'+'eEnd'](_0x30fed7){const _0x5f0278=this['instances']['indexOf'](_0x30fed7);_0x5f0278!==-(0x1e85+0x255f+-0x43e3)&&this['instances']['splice'](_0x5f0278,-0x1*-0x2601+0xbfb+-0x31fb),this['fire']('end',_0x30fed7),this['_component']['fire']('end',this,_0x30fed7);}['_onAssetAd'+'d'](_0x5851af){this['load']();}['_onAssetLo'+'ad'](_0x1e955a){this['load']();}['_onAssetRe'+'moved'](_0x1a35ec){_0x1a35ec['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x1a35ec['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x3ad706){const _0x5503af=this['instances'];for(let _0x5667b9=0x17b*0x8+0x1b5b+0x3*-0xd11,_0x485042=_0x5503af['length'];_0x5667b9<_0x485042;_0x5667b9++)_0x5503af[_0x5667b9]['position']=_0x3ad706;}set['asset'](_0x42d9a0){const _0x25763e=this['_asset'];if(_0x25763e){this['_assets']['off']('add:'+_0x25763e,this['_onAssetAd'+'d'],this);const _0x39ddfb=this['_assets']['get'](_0x25763e);_0x39ddfb&&_0x39ddfb['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x42d9a0,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x460d68){this['_autoPlay']=!!_0x460d68;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x2c101e){if(this['_duration']=Math['max'](0x2*-0x4e7+0x2612+-0x1c44,Number(_0x2c101e)||-0x125e+0x5d*0x55+-0xc83)||null,!this['_overlap']){const _0x46ed45=this['instances'];for(let _0x5065b3=-0xa42+-0x223*-0x1+0x81f,_0x47ba60=_0x46ed45['length'];_0x5065b3<_0x47ba60;_0x5065b3++)_0x46ed45[_0x5065b3]['duration']=this['_duration'];}}get['duration'](){let _0x26104d=-0x19+0x208d+-0x2074;if(this['_hasAsset']()){const _0x25cc5b=this['_assets']['get'](this['_asset']);_0x26104d=_0x25cc5b!=null&&_0x25cc5b['resource']?_0x25cc5b['resource']['duration']:-0x8bf*-0x1+0x1*-0x211+0x9*-0xbe;}return this['_duration']!=null?this['_duration']%(_0x26104d||-0x1991+-0x778+0x210a):_0x26104d;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2b83d5=this['_assets']['get'](this['_asset']);if(_0x2b83d5)return!!_0x2b83d5['resource'];}return!(-0x3*-0xa0c+0x190d+-0x3730);}get['isPaused'](){const _0x123b62=this['instances'],_0x384f90=_0x123b62['length'];if(_0x384f90===-0x21bf+-0x232c*-0x1+-0x16d)return!(-0x1cff*-0x1+0x234+-0xf2*0x21);for(let _0x3aba03=0x47f*-0x4+0x3e*0x19+0x1*0xbee;_0x3aba03<_0x384f90;_0x3aba03++)if(!_0x123b62[_0x3aba03]['isPaused'])return!(-0xa6f*-0x1+-0x529*-0x6+0xa59*-0x4);return!(-0x155b+-0x1*0x3be+0x1919);}get['isPlaying'](){const _0x36bb5e=this['instances'];for(let _0x4cba64=0x1053+-0x1713+0x6c0,_0x5b15f=_0x36bb5e['length'];_0x4cba64<_0x5b15f;_0x4cba64++)if(_0x36bb5e[_0x4cba64]['isPlaying'])return!(0xb17*-0x1+-0x89b*-0x1+0x27c);return!(-0x241*-0x3+-0x2*0xe8a+-0x1652*-0x1);}get['isStopped'](){const _0x4770fc=this['instances'];for(let _0x371487=-0x5*-0x598+-0x1c18+0x20,_0x287caf=_0x4770fc['length'];_0x371487<_0x287caf;_0x371487++)if(!_0x4770fc[_0x371487]['isStopped'])return!(-0x1*0xf0d+-0x2b*-0x3+0xe8d);return!(-0x14f*-0x15+-0x1*-0x1306+-0x2e81*0x1);}set['loop'](_0x301371){this['_loop']=!!_0x301371;const _0x26a926=this['instances'];for(let _0x16b1da=0x1515+0x1*-0x9de+-0xb37,_0x184aa4=_0x26a926['length'];_0x16b1da<_0x184aa4;_0x16b1da++)_0x26a926[_0x16b1da]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x55f341){this['_overlap']=!!_0x55f341;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x17f99c){if(this['_pitch']=Math['max'](Number(_0x17f99c)||-0x2536+0xb06+0x1a30*0x1,-0x4c6+-0x14ac+0x1972+0.01),!this['_overlap']){const _0x32175e=this['instances'];for(let _0x5858b0=-0x1eaf+-0x4d*0x4f+0x6*0x913,_0x25d4ab=_0x32175e['length'];_0x5858b0<_0x25d4ab;_0x5858b0++)_0x32175e[_0x5858b0]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0xe12b74){if(this['_startTime']=Math['max'](-0x3d*0x5d+0x15c+0x4b*0x47,Number(_0xe12b74)||-0x1227+-0x1*-0xda+-0x67*-0x2b),!this['_overlap']){const _0x1cb7b7=this['instances'];for(let _0x5e71aa=-0x7b1+-0xa12+0x1*0x11c3,_0x3bf6a9=_0x1cb7b7['length'];_0x5e71aa<_0x3bf6a9;_0x5e71aa++)_0x1cb7b7[_0x5e71aa]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x386e94){if(this['_volume']=Y['clamp'](Number(_0x386e94)||0x2b9*0x6+-0x22fb+0x637*0x3,0x1a1*-0x14+-0x2*0x74a+0xc*0x3ee,-0x15ec+-0x222f*0x1+0x381c),!this['_overlap']){const _0x37e3aa=this['instances'];for(let _0x16b7e1=-0x1*0x19a1+0x890*-0x4+0x3be1*0x1,_0x1d5ed7=_0x37e3aa['length'];_0x16b7e1<_0x1d5ed7;_0x16b7e1++)_0x37e3aa[_0x16b7e1]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x88c*-0x2+0xc4c*0x3+-0x35fb),h(this,'_pitch',0x86c+-0xb*-0x28f+-0x2490),h(this,'_positiona'+'l',!(-0x224c+0x1374+0xed8)),h(this,'_refDistan'+'ce',0x19ac+-0x94b*0x2+-0x715),h(this,'_maxDistan'+'ce',0x4d6+0x18da+0x14*0x78),h(this,'_rollOffFa'+'ctor',-0x109b+0x88c+0x810),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x11fc4a,_0x2fd722,_0x40f378){const _0x380706=this['_slots'];for(const _0xbfa520 in _0x380706){const _0x26df55=_0x380706[_0xbfa520];if(!_0x26df55['overlap']){const _0x160adc=_0x26df55['instances'];for(let _0x3d1cb1=0x1c71+0x1d7b+-0x39ec,_0x5bff4a=_0x160adc['length'];_0x3d1cb1<_0x5bff4a;_0x3d1cb1++)_0x160adc[_0x3d1cb1][_0x11fc4a]=_0x40f378?_0x26df55[_0x11fc4a]*_0x2fd722:_0x2fd722;}}}set['distanceMo'+'del'](_0x540e10){this['_distanceM'+'odel']=_0x540e10,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x540e10,!(-0x623*-0x1+0x1*-0x1c0d+0x15eb));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x1855ec){this['_maxDistan'+'ce']=_0x1855ec,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x1855ec,!(0x1c9*0x4+0x40a+-0x1*0xb2d));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x469491){this['_refDistan'+'ce']=_0x469491,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x469491,!(0x1*-0x1424+0x5*-0x128+0x19ed));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x428db3){this['_rollOffFa'+'ctor']=_0x428db3,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x428db3,!(-0x20b7+-0xcda+0x2d92));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2d35d6){this['_pitch']=_0x2d35d6,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2d35d6,!(0xbb1+0x24d6+0x65*-0x7b));}get['pitch'](){return this['_pitch'];}set['volume'](_0x4e195c){this['_volume']=_0x4e195c,this['_updateSou'+'ndInstance'+'s']('volume',_0x4e195c,!(-0x1*0x7cd+-0x391*0x1+-0x3ca*-0x3));}get['volume'](){return this['_volume'];}set['positional'](_0x2c2d25){this['_positiona'+'l']=_0x2c2d25;const _0x1849a8=this['_slots'];for(const _0x41d317 in _0x1849a8){const _0x1b8a0f=_0x1849a8[_0x41d317];if(!_0x1b8a0f['overlap']){const _0x4c0c3a=_0x1b8a0f['instances'],_0x3cf855=_0x4c0c3a['length'];for(let _0x9c1b50=_0x3cf855-(-0x11f9+-0x15*0x18+0x13f2);_0x9c1b50>=0xd51+-0x2273+-0xa*-0x21d;_0x9c1b50--){const _0x1963a5=_0x4c0c3a[_0x9c1b50]['isPlaying']||_0x4c0c3a[_0x9c1b50]['isSuspende'+'d'],_0x28d9b7=_0x4c0c3a[_0x9c1b50]['currentTim'+'e'];_0x1963a5&&_0x4c0c3a[_0x9c1b50]['stop']();const _0x4d53d3=_0x1b8a0f['_createIns'+'tance']();_0x1963a5&&(_0x4d53d3['play'](),_0x4d53d3['currentTim'+'e']=_0x28d9b7),_0x4c0c3a['push'](_0x4d53d3);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x49cb00){const _0xf62837=this['_slots'];if(_0xf62837){for(const _0x45bd31 in _0xf62837)_0xf62837[_0x45bd31]['stop']();}const _0x20e278={};for(const _0x10a943 in _0x49cb00)_0x49cb00[_0x10a943]instanceof Gi?_0x20e278[_0x49cb00[_0x10a943]['name']]=_0x49cb00[_0x10a943]:_0x49cb00[_0x10a943]['name']&&(_0x20e278[_0x49cb00[_0x10a943]['name']]=new Gi(this,_0x49cb00[_0x10a943]['name'],_0x49cb00[_0x10a943]));this['_slots']=_0x20e278,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x2bfca4=this['_slots'],_0x4704c8=this['_playingBe'+'foreDisabl'+'e'];for(const _0x4b5faa in _0x2bfca4){const _0xd4d6f3=_0x2bfca4[_0x4b5faa];_0xd4d6f3['autoPlay']&&_0xd4d6f3['isStopped']?_0xd4d6f3['play']():_0x4704c8[_0x4b5faa]?_0xd4d6f3['resume']():_0xd4d6f3['isLoaded']||_0xd4d6f3['load']();}}['onDisable'](){const _0x1a5345=this['_slots'],_0x2c8531={};for(const _0x4ce7c3 in _0x1a5345)_0x1a5345[_0x4ce7c3]['overlap']||_0x1a5345[_0x4ce7c3]['isPlaying']&&(_0x1a5345[_0x4ce7c3]['pause'](),_0x2c8531[_0x4ce7c3]=!(0x4*0x8ea+0x7*0x4a9+-0x7*0x9c1));this['_playingBe'+'foreDisabl'+'e']=_0x2c8531;}['onRemove'](){this['off']();}['addSlot'](_0x15b0b6,_0xaca2b){const _0x51b530=this['_slots'];if(_0x51b530[_0x15b0b6])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x15b0b6+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x4e061c=new Gi(this,_0x15b0b6,_0xaca2b);return _0x51b530[_0x15b0b6]=_0x4e061c,_0x4e061c['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x4e061c['play'](),_0x4e061c;}['removeSlot'](_0xecf56b){const _0x19ecc9=this['_slots'];_0x19ecc9[_0xecf56b]&&(_0x19ecc9[_0xecf56b]['stop'](),delete _0x19ecc9[_0xecf56b]);}['slot'](_0x4bf6d7){return this['_slots'][_0x4bf6d7];}['_getSlotPr'+'operty'](_0x36a777,_0x7f5716){if(!this['enabled']||!this['entity']['enabled'])return;const _0x14342b=this['_slots'][_0x36a777];if(!_0x14342b){w['warn']('Trying\x20to\x20'+'get\x20'+_0x7f5716+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x36a777+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x14342b[_0x7f5716];}['isPlaying'](_0x5bde2b){return this['_getSlotPr'+'operty'](_0x5bde2b,'isPlaying')||!(-0x3*0x337+-0x4*-0x2bf+-0x156);}['isLoaded'](_0x1b5777){return this['_getSlotPr'+'operty'](_0x1b5777,'isLoaded')||!(-0x1*-0x14ef+-0x939+-0x3e7*0x3);}['isPaused'](_0xa83067){return this['_getSlotPr'+'operty'](_0xa83067,'isPaused')||!(-0x6d1+-0x1c7f+0x2351);}['isStopped'](_0x302c7e){return this['_getSlotPr'+'operty'](_0x302c7e,'isStopped')||!(-0x13c9+-0x1*-0x1381+0x49);}['play'](_0x29071b){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x4e2d7b=this['_slots'][_0x29071b];return _0x4e2d7b?_0x4e2d7b['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x29071b+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x1c1b12){const _0x40f667=this['_slots'];if(_0x1c1b12){const _0xacb590=_0x40f667[_0x1c1b12];if(!_0xacb590){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x1c1b12+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xacb590['pause']();}else{for(const _0x2d9552 in _0x40f667)_0x40f667[_0x2d9552]['pause']();}}['resume'](_0x177a66){const _0x270cda=this['_slots'];if(_0x177a66){const _0xe4ad05=_0x270cda[_0x177a66];if(!_0xe4ad05){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x177a66+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xe4ad05['isPaused']&&_0xe4ad05['resume']();}else{for(const _0xe82412 in _0x270cda)_0x270cda[_0xe82412]['resume']();}}['stop'](_0x2c5435){const _0x1bef80=this['_slots'];if(_0x2c5435){const _0x2c638c=_0x1bef80[_0x2c5435];if(!_0x2c638c){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2c5435+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x2c638c['stop']();}else{for(const _0x3f12af in _0x1bef80)_0x1bef80[_0x3f12af]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x106c*0x2+0x737+0x88b*0x3);}}const d0=['enabled'];class hF extends ct{constructor(_0x533238){super(_0x533238),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x533238['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x758fa1){this['manager']['volume']=_0x758fa1;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x476618,_0x50a592,_0x19cfb0){_0x19cfb0=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x5df081=0x2*0x66+-0x1968*0x1+0xb4*0x23;_0x5df081<_0x19cfb0['length'];_0x5df081++)_0x50a592['hasOwnProp'+'erty'](_0x19cfb0[_0x5df081])&&(_0x476618[_0x19cfb0[_0x5df081]]=_0x50a592[_0x19cfb0[_0x5df081]]);super['initialize'+'ComponentD'+'ata'](_0x476618,_0x50a592,['enabled']);}['cloneCompo'+'nent'](_0x5c7d23,_0x39f381){const _0x121223=_0x5c7d23['sound'],_0x2e0371=_0x121223['slots'],_0x15b387={};for(const _0x152311 in _0x2e0371){const _0x5bc6b2=_0x2e0371[_0x152311];_0x15b387[_0x152311]={'name':_0x5bc6b2['name'],'volume':_0x5bc6b2['volume'],'pitch':_0x5bc6b2['pitch'],'loop':_0x5bc6b2['loop'],'duration':_0x5bc6b2['duration'],'startTime':_0x5bc6b2['startTime'],'overlap':_0x5bc6b2['overlap'],'autoPlay':_0x5bc6b2['autoPlay'],'asset':_0x5bc6b2['asset']};}const _0x39bcff={'distanceModel':_0x121223['distanceMo'+'del'],'enabled':_0x121223['enabled'],'maxDistance':_0x121223['maxDistanc'+'e'],'pitch':_0x121223['pitch'],'positional':_0x121223['positional'],'refDistance':_0x121223['refDistanc'+'e'],'rollOffFactor':_0x121223['rollOffFac'+'tor'],'slots':_0x15b387,'volume':_0x121223['volume']};return this['addCompone'+'nt'](_0x39f381,_0x39bcff);}['onUpdate'](_0x8334b5){const _0x2f0e4f=this['store'];for(const _0x4c7bcb in _0x2f0e4f)if(_0x2f0e4f['hasOwnProp'+'erty'](_0x4c7bcb)){const _0x219e1b=_0x2f0e4f[_0x4c7bcb]['entity'];if(_0x219e1b['enabled']){const _0x4f5efc=_0x219e1b['sound'];if(_0x4f5efc['enabled']&&_0x4f5efc['positional']){const _0x5c971c=_0x219e1b['getPositio'+'n'](),_0x1bc4be=_0x4f5efc['slots'];for(const _0x444040 in _0x1bc4be)_0x1bc4be[_0x444040]['updatePosi'+'tion'](_0x5c971c);}}}}['onBeforeRe'+'move'](_0x5e7e4a,_0x50aa29){const _0x787a06=_0x50aa29['slots'];for(const _0x25e684 in _0x787a06)_0x787a06[_0x25e684]['overlap']||_0x787a06[_0x25e684]['stop']();_0x50aa29['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x2eabfb,_0x2b8a4a){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x2eabfb,this['_frame']=-0x19ed+-0x155*-0xa+0xc9b,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x2b8a4a['spriteAsse'+'t'],this['name']=_0x2b8a4a['name'],this['fps']=_0x2b8a4a['fps']||0xa6*-0x3b+0x17f9+-0x1*-0xe49,this['loop']=_0x2b8a4a['loop']||!(0x166c+-0x261d*0x1+0xfb2),this['_playing']=!(-0x1*-0x1544+-0xa97*-0x1+-0x1fda),this['_paused']=!(0x1ed2+0x249e+-0x436f),this['_time']=0x3*0x24d+-0x20ef+0x1*0x1a08);}get['duration'](){if(this['_sprite']){const _0x4a34d7=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4a34d7);}return-0x105a+-0x1136+0xb3*0x30;}set['frame'](_0x2f0938){this['_setFrame'](_0x2f0938);const _0x1b9785=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x1b9785);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x5ae62e){var _0x4f63b9;if(this['_sprite']&&((_0x4f63b9=this['_evtSetMes'+'hes'])==null||_0x4f63b9['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x5ae62e,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x415091;!_0x5ae62e||!_0x5ae62e['atlas']?(_0x415091=this['_component']['_meshInsta'+'nce'],_0x415091&&(_0x415091['deletePara'+'meter']('texture_em'+'issiveMap'),_0x415091['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x5ae62e['atlas']['texture']&&(_0x415091=this['_component']['_meshInsta'+'nce'],_0x415091&&(_0x415091['setParamet'+'er']('texture_em'+'issiveMap',_0x5ae62e['atlas']['texture']),_0x415091['setParamet'+'er']('texture_op'+'acityMap',_0x5ae62e['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0xa41ca9){const _0x6542d=this['_component']['system']['app']['assets'];let _0x3540e3=_0xa41ca9;if(_0xa41ca9 instanceof pe&&(_0x3540e3=_0xa41ca9['id']),this['_spriteAss'+'et']!==_0x3540e3){if(this['_spriteAss'+'et']){const _0x468b2e=_0x6542d['get'](this['_spriteAss'+'et']);_0x468b2e&&this['_unbindSpr'+'iteAsset'](_0x468b2e);}if(this['_spriteAss'+'et']=_0x3540e3,this['_spriteAss'+'et']){const _0x2cc6ca=_0x6542d['get'](this['_spriteAss'+'et']);_0x2cc6ca?this['_bindSprit'+'eAsset'](_0x2cc6ca):(this['sprite']=null,_0x6542d['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x9e8082){this['_setTime'](_0x9e8082),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x4fc+-0x60*0x48+0x1605),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1591*0x1+-0x68a+-0xf07;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x5f37e5){this['_component']['system']['app']['assets']['off']('add:'+_0x5f37e5['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5f37e5['id']&&this['_bindSprit'+'eAsset'](_0x5f37e5);}['_bindSprit'+'eAsset'](_0x5391fe){_0x5391fe['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5391fe['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5391fe['resource']?this['_onSpriteA'+'ssetLoad'](_0x5391fe):this['_component']['system']['app']['assets']['load'](_0x5391fe);}['_unbindSpr'+'iteAsset'](_0x251534){_0x251534&&(_0x251534['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x251534['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x251534['resource']&&!_0x251534['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x251534['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x200c94){if(!_0x200c94['resource'])this['sprite']=null;else{if(_0x200c94['resource']['atlas'])this['sprite']=_0x200c94['resource'];else{const _0x4e2539=_0x200c94['data']['textureAtl'+'asAsset'],_0x39f0c8=this['_component']['system']['app']['assets'];_0x39f0c8['off']('load:'+_0x4e2539,this['_onTexture'+'AtlasLoad'],this),_0x39f0c8['once']('load:'+_0x4e2539,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x3b9590){const _0x8b7f1e=this['_spriteAss'+'et'];_0x8b7f1e instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x8b7f1e):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x8b7f1e));}['_onSpriteA'+'ssetRemove'](_0x41db6f){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x45d8c3){if(this['fps']===-0x1f*-0x5f+-0x23f0+0x186f||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0xeed151=this['fps']<0x5d*0x27+0x2434+-0x325f?-(0x644*-0x4+-0x16b1*0x1+-0x1*-0x2fc2):0x1213+0x3b2+-0x1*0x15c4,_0x489201=this['_time']+_0x45d8c3*this['_component']['speed']*_0xeed151,_0x254ccc=this['duration'],_0x4f9ea9=_0x489201>_0x254ccc||_0x489201<-0xedd+-0x1d3b+-0x53*-0x88;this['_setTime'](_0x489201);let _0x422553=this['frame'];this['_sprite']?_0x422553=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x254ccc):_0x422553=0x71*-0x53+-0x255b+-0x3*-0x18aa,_0x422553!==this['_frame']&&this['_setFrame'](_0x422553),_0x4f9ea9&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x1d79+-0x29b*-0x9+0x607),this['_paused']=!(0x16a*0x11+0x2700+-0x1503*0x3),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x1d965e){this['_time']=_0x1d965e;const _0x2aa765=this['duration'];this['_time']<-0xf29*-0x1+-0x22fe+0x13d5*0x1?this['loop']?this['_time']=this['_time']%_0x2aa765+_0x2aa765:this['_time']=0x2493+-0x30*0x95+-0x3*0x2e1:this['_time']>_0x2aa765&&(this['loop']?this['_time']%=_0x2aa765:this['_time']=_0x2aa765);}['_setFrame'](_0x96bcb2){this['_sprite']?this['_frame']=Y['clamp'](_0x96bcb2,-0x9e7+0x527*0x1+0x4c0,this['_sprite']['frameKeys']['length']-(-0x4*-0x92c+-0x2646+0x197*0x1)):this['_frame']=_0x96bcb2,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2738f4=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2738f4['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x29*0x1f+0x2f6+-0x1*0x7ed),this['_paused']=!(-0xecb+-0x32f+0x11fb),this['frame']=0x18d7+-0x1643+-0x294,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0xa52*0x3+-0x16cb+-0x82b),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0xfde+-0x1518+-0x24f7*-0x1),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x2e*-0xd3+0x1dd9+-0x43c2),this['_paused']=!(-0x394*0x9+0x2525*0x1+-0x4f0),this['_time']=-0x26cf+-0x3*-0x3f3+-0x7*-0x3da,this['frame']=-0x265+0xe1e*0x2+-0x19d7,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x3f831a,_0x5e38b2){super(_0x3f831a,_0x5e38b2),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x3f831a['defaultMat'+'erial'],this['_color']=new ie(0x490+-0x267f+0x21f0,-0xda*0x1a+-0x1ced+-0x6*-0x883,0x209*-0x7+-0x60a+-0x7*-0x2e6,0x1*0x1e8f+-0x3*-0x266+-0x25c0),this['_colorUnif'+'orm']=new Float32Array(-0x1493+-0x188*-0x3+-0xb2*-0x17),this['_speed']=-0x2ae*0x5+-0x1*0x1223+0x1f8a,this['_flipX']=!(0x1adf+0x4*0x385+0x3*-0xda6),this['_flipY']=!(0x3e5+0xf99+-0x67f*0x3),this['_width']=0x134d+-0x5*-0x1b1+-0x1bc1,this['_height']=-0x498+0x3*-0x40b+0x1*0x10ba,this['_drawOrder']=0x2537+-0xb7*-0x2f+-0x46d0,this['_layers']=[er],this['_outerScal'+'e']=new J(0x2*-0xbe3+-0x2*0x43e+0x2043,-0x1031+0x57e+0xab4),this['_outerScal'+'eUniform']=new Float32Array(-0xb3*0x11+-0x1028*0x1+0x1c0d),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0xee3*-0x2+-0xc*-0x163+0xc6*0x11),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x311*-0xa+0xd79+-0x2f1*0xf),this['_batchGrou'+'pId']=-(-0x1eec+-0x7a6+0x2693),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x5e38b2['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x5e38b2,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x2148+0xec8+-0x1*-0x1281),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x438+-0x67f*0x4+0x15c5),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x52e2e3){this['_type']!==_0x52e2e3&&(this['_type']=_0x52e2e3,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x831cc6){this['_currentCl'+'ip']['frame']=_0x831cc6;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x467af5){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x467af5;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x4bf9dc){this['_currentCl'+'ip']['sprite']=_0x4bf9dc;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x37e753){this['_material']=_0x37e753,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x37e753);}get['material'](){return this['_material'];}set['color'](_0x4c12cb){this['_color']['r']=_0x4c12cb['r'],this['_color']['g']=_0x4c12cb['g'],this['_color']['b']=_0x4c12cb['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0xb2*0x36+0x6*-0x169+-0x1d16]=this['_color']['r'],this['_colorUnif'+'orm'][-0xb5e+-0x7*0x425+0x2862]=this['_color']['g'],this['_colorUnif'+'orm'][0x9a+0x1*0x25d8+-0x78*0x52]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x538ff8){this['_color']['a']=_0x538ff8,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x538ff8);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x4fda67){if(!_0x4fda67){for(const _0x2aae17 in this['_clips'])this['removeClip'](_0x2aae17);return;}for(const _0x276ffd in this['_clips']){let _0x586c66=!(-0x7*-0x43f+0x1*-0x19c6+-0x65*0xa);for(const _0x4607f7 in _0x4fda67)if(_0x4fda67[_0x4607f7]['name']===_0x276ffd){_0x586c66=!(-0x17bf+0x20ba+0x8fb*-0x1),this['_clips'][_0x276ffd]['fps']=_0x4fda67[_0x4607f7]['fps'],this['_clips'][_0x276ffd]['loop']=_0x4fda67[_0x4607f7]['loop'],_0x4fda67[_0x4607f7]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x276ffd]['sprite']=_0x4fda67[_0x4607f7]['sprite']:_0x4fda67[_0x4607f7]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x276ffd]['spriteAsse'+'t']=_0x4fda67[_0x4607f7]['spriteAsse'+'t']);break;}_0x586c66||this['removeClip'](_0x276ffd);}for(const _0x5e4235 in _0x4fda67)this['_clips'][_0x4fda67[_0x5e4235]['name']]||this['addClip'](_0x4fda67[_0x5e4235]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x28f8b6){this['_speed']=_0x28f8b6;}get['speed'](){return this['_speed'];}set['flipX'](_0xfe1548){this['_flipX']!==_0xfe1548&&(this['_flipX']=_0xfe1548,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x4c2131){this['_flipY']!==_0x4c2131&&(this['_flipY']=_0x4c2131,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x16623d){_0x16623d!==this['_width']&&(this['_width']=_0x16623d,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x3b1671){_0x3b1671!==this['_height']&&(this['_height']=_0x3b1671,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x530a02){var _0x462daf,_0x195336;if(this['_batchGrou'+'pId']===_0x530a02)return;const _0x1b9f8b=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x530a02,this['entity']['enabled']&&_0x1b9f8b>=0x232b*-0x1+-0x124b+0x3576&&((_0x462daf=this['system']['app']['batcher'])==null||_0x462daf['remove'](St['SPRITE'],_0x1b9f8b,this['entity'])),this['entity']['enabled']&&_0x530a02>=-0xcb*0x23+0x3*0x137+0xc0e*0x2?(_0x195336=this['system']['app']['batcher'])==null||_0x195336['insert'](St['SPRITE'],_0x530a02,this['entity']):_0x1b9f8b>=0xffd*0x1+0x1101+-0x20fe&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x571c6b){this['_autoPlayC'+'lip']=_0x571c6b instanceof Hi?_0x571c6b['name']:_0x571c6b,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x278f48){this['_drawOrder']=_0x278f48,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x278f48);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x21b46b){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x21b46b,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x13069b;const _0x2963f2=this['system']['app'],_0xda85f9=_0x2963f2['scene'],_0x5cb876=_0xda85f9['layers'];this['_evtLayers'+'Changed']=_0xda85f9['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x5cb876&&(this['_evtLayerA'+'dded']=_0x5cb876['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x5cb876['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x1*0x11d7+0x229a+-0x10c3&&((_0x13069b=_0x2963f2['batcher'])==null||_0x13069b['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x254bee,_0x43321d,_0x414872,_0xa3b11;const _0x531fa3=this['system']['app'],_0x38a072=_0x531fa3['scene']['layers'];(_0x254bee=this['_evtLayers'+'Changed'])==null||_0x254bee['off'](),this['_evtLayers'+'Changed']=null,_0x38a072&&((_0x43321d=this['_evtLayerA'+'dded'])==null||_0x43321d['off'](),this['_evtLayerA'+'dded']=null,(_0x414872=this['_evtLayerR'+'emoved'])==null||_0x414872['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x1e19+-0x2135*-0x1+0x2*-0x18e&&((_0xa3b11=_0x531fa3['batcher'])==null||_0xa3b11['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x3e6f69;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x3e70d7 in this['_clips'])this['_clips'][_0x3e70d7]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x3e6f69=this['_node'])==null||_0x3e6f69['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3ff322=[this['_meshInsta'+'nce']];for(let _0x5e8cc8=-0x2*0x6e3+-0x53c+0x1302,_0x36264a=this['_layers']['length'];_0x5e8cc8<_0x36264a;_0x5e8cc8++){const _0xb231a2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5e8cc8]);_0xb231a2&&_0xb231a2['addMeshIns'+'tances'](_0x3ff322);}this['_addedMode'+'l']=!(0x3*-0x937+0x408*-0x1+0x1fad);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x422105=[this['_meshInsta'+'nce']];for(let _0x352b60=-0x603+-0x265a+0x2c5d,_0x65263f=this['_layers']['length'];_0x352b60<_0x65263f;_0x352b60++){const _0x6bba58=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x352b60]);_0x6bba58&&_0x6bba58['removeMesh'+'Instances'](_0x422105);}this['_addedMode'+'l']=!(-0x26d0+-0x24f*0x1+0x2920);}['_showFrame'](_0x5eedcf){if(!this['sprite'])return;const _0x46dd89=this['sprite']['meshes'][_0x5eedcf];if(!_0x46dd89){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x2043*0x1+-0x6*-0x1e5+-0x2*-0xa73));return;}let _0x27b041;if(this['sprite']['renderMode']===Pt?_0x27b041=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x27b041=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x27b041=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x46dd89,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x937+0x21c1+-0x1889*0x1),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1*0x9af+-0x74a+-0x264*0x1),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x639*-0x2+-0x1*-0x315+-0x8d*-0x11]=this['_color']['r'],this['_colorUnif'+'orm'][0x1a73+0x1e21+-0x3893]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1069+0x1*-0x70b+0x1ce*0xd]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x27b041&&(this['_meshInsta'+'nce']['material']=_0x27b041),this['_meshInsta'+'nce']['mesh']!==_0x46dd89&&(this['_meshInsta'+'nce']['mesh']=_0x46dd89,this['_meshInsta'+'nce']['visible']=!(0x1*0x1445+-0x9d6+0xa6f*-0x1),this['_meshInsta'+'nce']['_aabbVer']=-(-0x33b+-0x1a*-0x3+0x2ee*0x1)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x2258ba=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x5eedcf]];if(_0x2258ba){const _0x4eb299=(0x1b4c+0xccf*-0x3+0xb23)/_0x2258ba['rect']['z'],_0x32c0df=(-0x2*0xc04+0x73*0x17+0xdb5)/_0x2258ba['rect']['w'];this['_innerOffs'+'et']['set'](_0x2258ba['border']['x']*_0x4eb299,_0x2258ba['border']['y']*_0x32c0df,_0x2258ba['border']['z']*_0x4eb299,_0x2258ba['border']['w']*_0x32c0df);const _0x2f47f9=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x2258ba['rect']['x']/_0x2f47f9['width'],_0x2258ba['rect']['y']/_0x2f47f9['height'],_0x2258ba['rect']['z']/_0x2f47f9['width'],_0x2258ba['rect']['w']/_0x2f47f9['height']);}else this['_innerOffs'+'et']['set'](-0x1d1b+-0x44d*0x1+0x2168*0x1,0x6e7*0x4+-0x3ec*-0x1+-0x1f88,-0x7*0x259+0x15b5*0x1+-0x32*0x1b,-0x548+-0x3db*0x9+0x1*0x27fb);this['_innerOffs'+'etUniform'][-0x2090+0x4*-0x35f+0xe*0x34a]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0xa0a*0x1+0x2ea+0x297*-0x5]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x5fb+-0x1e2*-0x7+-0x1*0x1327]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xedb+0x2b8+0x2*-0x8c8]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2*-0xab3+-0x22e*-0xa+0x6*-0x733]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0xd08+0x15a0+-0x897]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x189*-0x10+-0x74*-0x2f+0x1*-0x2dda]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x32a+-0x3*0x11+0x360]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x227bbd=this['flipX']?-(0x330+-0x79c*0x4+-0x1*-0x1b41):-0x4ea+0x2b1*0x4+-0x5d9,_0x4266ac=this['flipY']?-(-0x249a+-0xcac+0x57*0x91):-0x26a5+-0x109+0x27af,_0x53662d=0x41*-0x61+-0x2ab*-0x2+0x134b,_0x2a48b3=-0x24ef+-0x37e+0x286d;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x23af7c=0x2578+0xe*-0x16b+-0x1*0x119d,_0x525c11=0x66*0x32+0x249c+0x3887*-0x1;if(this['sprite']['atlas']){const _0x4e9933=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x4e9933&&(_0x23af7c=_0x4e9933['rect']['z'],_0x525c11=_0x4e9933['rect']['w'],_0x53662d=(-0x3*-0x16f+0x95*0x3d+0x5*-0x7f6+0.5-_0x4e9933['pivot']['x'])*this['_width'],_0x2a48b3=(0x29*-0x1+0x1a29+-0x1a00+0.5-_0x4e9933['pivot']['y'])*this['_height']);}const _0xfc3e53=_0x23af7c/this['sprite']['pixelsPerU'+'nit'],_0x177df5=_0x525c11/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xfc3e53),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x177df5)),_0x227bbd*=_0xfc3e53,_0x4266ac*=_0x177df5,this['_outerScal'+'e']['x']/=_0xfc3e53,this['_outerScal'+'e']['y']/=_0x177df5,_0x227bbd*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xfc3e53),-0x65c*0x3+-0x1*0x67d+-0x4d*-0x55+0.0001,0x2112+-0x14d2+-0xc3f),_0x4266ac*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x177df5),0xc2e*-0x1+0x1876+-0xc48+0.0001,-0xdf5+0x1*-0x13ab+0x21a1),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x21d7+-0x3*-0x7f1+-0x79*0x7a]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x277*-0xa+-0x612+-0x1293]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x227bbd,_0x4266ac,-0xcbe+-0x1*0x12b5+0x1f74),this['_node']['setLocalPo'+'sition'](_0x53662d,_0x2a48b3,-0x2519*-0x1+-0xca+-0x244f);}['_updateAab'+'b'](_0x2c6f5a){return _0x2c6f5a['center']['set'](0x1ac8*-0x1+-0x1*-0x2379+-0x8b1,-0x1*0x838+-0x2225+0x2a5d,-0x1*0xf0b+-0x1be6+-0x1*-0x2af1),_0x2c6f5a['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x183*-0x12+0x172a+-0xc98*0x4+0.5),this['_outerScal'+'e']['y']*(0x5*0x31d+0x1a8d*-0x1+0xafc+0.5),-0x13e4+-0x7ac+0x1b90+0.001),_0x2c6f5a['setFromTra'+'nsformedAa'+'bb'](_0x2c6f5a,this['_node']['getWorldTr'+'ansform']()),_0x2c6f5a;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x3ea2d3=this['_clips'][this['_autoPlayC'+'lip']];_0x3ea2d3&&!_0x3ea2d3['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x3ea2d3['name']);}['_onLayersC'+'hanged'](_0x2f2403,_0x21c087){_0x2f2403['off']('add',this['onLayerAdd'+'ed'],this),_0x2f2403['off']('remove',this['onLayerRem'+'oved'],this),_0x21c087['on']('add',this['onLayerAdd'+'ed'],this),_0x21c087['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x1c3d4c){this['layers']['indexOf'](_0x1c3d4c['id'])<0x70*-0x19+-0x17eb+0x22db*0x1||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x1c3d4c['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x5624bc){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x5624bc['id'])<-0xeab+0xab*-0x1e+0x1*0x22b5||_0x5624bc['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x242f89=-0x15*-0xb4+-0x1635+-0x17d*-0x5;_0x242f89<this['layers']['length'];_0x242f89++){const _0x34c30b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x242f89]);_0x34c30b&&_0x34c30b['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x23fbd2){const _0x5e4acd=new Hi(this,{'name':_0x23fbd2['name'],'fps':_0x23fbd2['fps'],'loop':_0x23fbd2['loop'],'spriteAsset':_0x23fbd2['spriteAsse'+'t']});return this['_clips'][_0x23fbd2['name']]=_0x5e4acd,_0x5e4acd['name']&&_0x5e4acd['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x5e4acd;}['removeClip'](_0x4c9f48){delete this['_clips'][_0x4c9f48];}['clip'](_0x134698){return this['_clips'][_0x134698];}['play'](_0xce9bd9){const _0x4bc828=this['_clips'][_0xce9bd9],_0xbab775=this['_currentCl'+'ip'];return _0xbab775&&_0xbab775!==_0x4bc828&&(_0xbab775['_playing']=!(-0x15*-0x89+0xe53+0x198f*-0x1)),this['_currentCl'+'ip']=_0x4bc828,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x4bc828,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xce9bd9+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x4bc828;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0xc61*0x1+0x3a5+0x56*0x1a);}}const f0=['enabled'];class mF extends ct{constructor(_0x2b574e){super(_0x2b574e),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x358014){this['_defaultMa'+'terial']=_0x358014;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x5161d9=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x164ec1=new Uint8Array(_0x5161d9['lock']());_0x164ec1[-0x1c8e+0x1d0+0x1abe]=_0x164ec1[-0x12f*-0xb+-0xa94+-0x1*0x270]=_0x164ec1[0x211b+-0x1063+-0x45*0x3e]=_0x164ec1[-0x58a*-0x7+-0x59*0x3d+0x2*-0x8c7]=0xb2e+0x891*0x2+0x91b*-0x3,_0x5161d9['unlock']();const _0x4faf8e=new Ut();_0x4faf8e['diffuse']['set'](-0x96+0x1*0xdcd+0x1*-0xd37,-0x1*-0xcc9+0x13e4+0x5*-0x689,-0x148f+0x365+-0x2*-0x895),_0x4faf8e['emissive']['set'](-0xb01+-0x2*0x2f9+0x10f4,0x1eb6+0xa91*-0x2+-0x993,0xd*0x209+0x3e4*-0xa+0xc74),_0x4faf8e['emissiveMa'+'p']=_0x5161d9,_0x4faf8e['opacityMap']=_0x5161d9,_0x4faf8e['opacityMap'+'Channel']='a',_0x4faf8e['useLightin'+'g']=!(-0x6*0x17+-0x1557+0x15e2),_0x4faf8e['useTonemap']=!(0x11*-0xa9+-0x18a*0xa+0x1*0x1a9e),_0x4faf8e['useFog']=!(0x15a4+0x447+-0x19ea),_0x4faf8e['useSkybox']=!(0xe*0x101+-0x2249+0x143c),_0x4faf8e['blendType']=Gn,_0x4faf8e['depthWrite']=!(-0x63d*-0x1+0x25d1+0x2c0d*-0x1),_0x4faf8e['pixelSnap']=!(0x18fa+-0xbd7+-0x1*0xd22),_0x4faf8e['cull']=bt,_0x4faf8e['update'](),this['_defaultTe'+'xture']=_0x5161d9,this['_defaultMa'+'terial']=_0x4faf8e;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x33f539){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x33f539;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x5748f7=this['defaultMat'+'erial']['clone']();_0x5748f7['nineSliced'+'Mode']=Pt,_0x5748f7['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5748f7;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3be90a){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3be90a;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x431762=this['defaultMat'+'erial']['clone']();_0x431762['nineSliced'+'Mode']=Mt,_0x431762['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x431762;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x47a351,_0x3d8d0f,_0x39c8f4){if(_0x3d8d0f['enabled']!==void(0xa4d+-0x3a7+-0x1*0x6a6)&&(_0x47a351['enabled']=_0x3d8d0f['enabled']),_0x47a351['type']=_0x3d8d0f['type'],_0x3d8d0f['layers']&&Array['isArray'](_0x3d8d0f['layers'])&&(_0x47a351['layers']=_0x3d8d0f['layers']['slice'](0x49*-0x15+-0x93d+0x2*0x79d)),_0x3d8d0f['drawOrder']!==void(-0x1f7+0xd4b+0x122*-0xa)&&(_0x47a351['drawOrder']=_0x3d8d0f['drawOrder']),_0x3d8d0f['color']!==void(0x179b+-0xb0*-0x25+-0x310b)&&(_0x3d8d0f['color']instanceof ie?_0x47a351['color']['set'](_0x3d8d0f['color']['r'],_0x3d8d0f['color']['g'],_0x3d8d0f['color']['b'],_0x3d8d0f['opacity']??0xf*-0x18d+0x2*0x869+0x672):_0x47a351['color']['set'](_0x3d8d0f['color'][-0x886*-0x3+-0x13ff+-0x1*0x593],_0x3d8d0f['color'][0x11c3+-0xdda+0xc8*-0x5],_0x3d8d0f['color'][0x18df+0xf30+-0x280d],_0x3d8d0f['opacity']??0x22e6+-0x6b*0x17+-0x1948),_0x47a351['color']=_0x47a351['color']),_0x3d8d0f['opacity']!==void(-0x1787+-0x9b*-0x3d+-0xd68)&&(_0x47a351['opacity']=_0x3d8d0f['opacity']),_0x3d8d0f['flipX']!==void(0x1*0x1c77+0x18da+-0x3551)&&(_0x47a351['flipX']=_0x3d8d0f['flipX']),_0x3d8d0f['flipY']!==void(0x1115*-0x1+0x1*0xa49+0x6cc)&&(_0x47a351['flipY']=_0x3d8d0f['flipY']),_0x3d8d0f['width']!==void(-0x16*0x177+-0x2*-0xd3+0x1e94)&&(_0x47a351['width']=_0x3d8d0f['width']),_0x3d8d0f['height']!==void(-0x1*-0xf4d+-0x33*0x6+-0xe1b)&&(_0x47a351['height']=_0x3d8d0f['height']),_0x3d8d0f['spriteAsse'+'t']!==void(0x103*0x3+0x1174+-0x147d)&&(_0x47a351['spriteAsse'+'t']=_0x3d8d0f['spriteAsse'+'t']),_0x3d8d0f['sprite']&&(_0x47a351['sprite']=_0x3d8d0f['sprite']),_0x3d8d0f['frame']!==void(0x1*0x6a7+-0x2487*-0x1+-0x2b2e)&&(_0x47a351['frame']=_0x3d8d0f['frame']),_0x3d8d0f['clips']){for(const _0xc9feb6 in _0x3d8d0f['clips'])_0x47a351['addClip'](_0x3d8d0f['clips'][_0xc9feb6]);}_0x3d8d0f['speed']!==void(0x4*-0xff+-0xb7*-0x11+-0x82b)&&(_0x47a351['speed']=_0x3d8d0f['speed']),_0x3d8d0f['autoPlayCl'+'ip']&&(_0x47a351['autoPlayCl'+'ip']=_0x3d8d0f['autoPlayCl'+'ip']),_0x47a351['batchGroup'+'Id']=_0x3d8d0f['batchGroup'+'Id']===void(0xc90+-0xe5*0x11+0x2a5*0x1)||_0x3d8d0f['batchGroup'+'Id']===null?-(0x891+0x6d1+0x1f*-0x7f):_0x3d8d0f['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x47a351,_0x3d8d0f,_0x39c8f4);}['cloneCompo'+'nent'](_0x26b953,_0xd33045){const _0x1f80af=_0x26b953['sprite'];return this['addCompone'+'nt'](_0xd33045,{'enabled':_0x1f80af['enabled'],'type':_0x1f80af['type'],'spriteAsset':_0x1f80af['spriteAsse'+'t'],'sprite':_0x1f80af['sprite'],'width':_0x1f80af['width'],'height':_0x1f80af['height'],'frame':_0x1f80af['frame'],'color':_0x1f80af['color']['clone'](),'opacity':_0x1f80af['opacity'],'flipX':_0x1f80af['flipX'],'flipY':_0x1f80af['flipY'],'speed':_0x1f80af['speed'],'clips':_0x1f80af['clips'],'autoPlayClip':_0x1f80af['autoPlayCl'+'ip'],'batchGroupId':_0x1f80af['batchGroup'+'Id'],'drawOrder':_0x1f80af['drawOrder'],'layers':_0x1f80af['layers']['slice'](-0x17e3*0x1+-0x1593+-0x2*-0x16bb)});}['onUpdate'](_0x4dca9f){const _0x592eac=this['store'];for(const _0x585a8b in _0x592eac)if(_0x592eac['hasOwnProp'+'erty'](_0x585a8b)){const _0x4b5014=_0x592eac[_0x585a8b];if(_0x4b5014['data']['enabled']&&_0x4b5014['entity']['enabled']){const _0x36d3eb=_0x4b5014['entity']['sprite'];_0x36d3eb['_currentCl'+'ip']&&_0x36d3eb['_currentCl'+'ip']['_update'](_0x4dca9f);}}}['onBeforeRe'+'move'](_0x1626cf,_0x565aa5){_0x565aa5['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x303b30,_0x540ae3){super(_0x303b30,_0x540ae3),this['_oldState']=!(-0x185c*0x1+-0x1331+-0x2b8d*-0x1),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x551149){_0x551149 instanceof D?this['_size']['copy'](_0x551149):_0x551149 instanceof Array&&_0x551149['length']>=0x1ad7+-0x2*-0xde5+-0x369e&&this['size']['set'](_0x551149[-0x1*0xe59+0x198d+-0xb34],_0x551149[0x1*0x1cc1+0xf7*0x9+-0x256f],_0x551149[0x7*0x2dd+0x224*0x4+0x1c99*-0x1]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x554b73,_0x361d5f,_0x204053){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x568d81=this['enabled']&&this['entity']['enabled'];_0x568d81!==this['_oldState']&&(this['_oldState']=_0x568d81,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x1*0x175+-0xf51+0x10c6);}}const u0=['enabled'];class gF extends ct{constructor(_0x5081ec){super(_0x5081ec),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x3caa02,_0x40f844,_0x58bd8b){_0x3caa02['enabled']=_0x40f844['hasOwnProp'+'erty']('enabled')?!!_0x40f844['enabled']:!(0x19d+0x2b+0x13*-0x18),_0x40f844['size']&&(_0x40f844['size']instanceof D?_0x3caa02['size']['copy'](_0x40f844['size']):_0x40f844['size']instanceof Array&&_0x40f844['size']['length']>=0x147*0x3+-0xf80+0x5d7*0x2&&_0x3caa02['size']['set'](_0x40f844['size'][0x1*0x20a3+0x2a1+0x1*-0x2344],_0x40f844['size'][-0x165c+-0x2c*0x16+0x3*0x8b7],_0x40f844['size'][-0x7a5*-0x3+0x1485+-0x2b72]));}['cloneCompo'+'nent'](_0x2b842a,_0x3f21d0){const _0x1444a5={'enabled':_0x2b842a['zone']['enabled'],'size':_0x2b842a['zone']['size']};return this['addCompone'+'nt'](_0x3f21d0,_0x1444a5);}['_onBeforeR'+'emove'](_0x3b4ad8,_0x9629e9){_0x9629e9['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x2e2742,_0x5572c1){this['effect']=_0x2e2742,this['inputTarge'+'t']=_0x5572c1,this['outputTarg'+'et']=null,this['name']=_0x2e2742['constructo'+'r']['name'];}}class yF{constructor(_0x3ed300,_0x96146b){this['app']=_0x3ed300,this['camera']=_0x96146b,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x1c*-0x26+-0x1*0x1139+0x689*0x2),this['depthTarge'+'t']=null,_0x96146b['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x36aad8,_0x27dc27){const _0x229c20=this['camera']['rect'],_0x473d36=this['destinatio'+'nRenderTar'+'get'],_0x59389c=this['app']['graphicsDe'+'vice'],_0x43d72a=Math['floor'](_0x229c20['z']*((_0x473d36==null?void(-0x2570+-0x24cf+-0x1*-0x4a3f):_0x473d36['width'])??_0x59389c['width'])),_0x37aa0f=Math['floor'](_0x229c20['w']*((_0x473d36==null?void(0x1*-0x20e3+-0xb23*0x2+0x3729):_0x473d36['height'])??_0x59389c['height']));return new _e(_0x59389c,{'name':_0x27dc27,'format':_0x36aad8,'width':_0x43d72a,'height':_0x37aa0f,'mipmaps':!(-0x10*-0x13e+-0x24c5*0x1+0x67*0x2a),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x33418f,_0x5173df){const _0x29030e=this['app']['graphicsDe'+'vice'],_0x1c4b97=(this['destinatio'+'nRenderTar'+'get']??_0x29030e['backBuffer'])['isColorBuf'+'ferSrgb'](0x1a29+0x551+0x4f*-0x66),_0x5d03a5=(_0x5173df&&_0x29030e['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x1e32+0x1*-0x9ef+0x1*0x2821)))??(_0x1c4b97?_s:Ne),_0x416142=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x3af2f1=this['_allocateC'+'olorBuffer'](_0x5d03a5,_0x416142);return new gt({'colorBuffer':_0x3af2f1,'depth':_0x33418f,'stencil':_0x33418f&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x33418f?_0x29030e['samples']:0x2*0x925+-0x973+0x1a*-0x57});}['_resizeOff'+'screenTarg'+'et'](_0x2eecf0){const _0x828b9f=_0x2eecf0['colorBuffe'+'r']['format'],_0x26cea8=_0x2eecf0['colorBuffe'+'r']['name'];_0x2eecf0['destroyFra'+'meBuffers'](),_0x2eecf0['destroyTex'+'tureBuffer'+'s'](),_0x2eecf0['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x828b9f,_0x26cea8),_0x2eecf0['_colorBuff'+'ers']=[_0x2eecf0['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x185cb6){_0x185cb6['destroyTex'+'tureBuffer'+'s'](),_0x185cb6['destroy']();}['addEffect'](_0x13705d){const _0x11bafc=this['effects'],_0x5e221e=_0x11bafc['length']===0x212e+0x2c4+0xd6*-0x2b,_0x536076=this['_createOff'+'screenTarg'+'et'](_0x5e221e,_0x13705d['hdr']),_0x2d2856=new SF(_0x13705d,_0x536076);_0x11bafc['push'](_0x2d2856),this['_sourceTar'+'get']=_0x2d2856['inputTarge'+'t'],_0x11bafc['length']>-0x4b9*-0x3+0x33a+-0x27c*0x7&&(_0x11bafc[_0x11bafc['length']-(0x5c*0x53+-0xc*0x31d+0x78a)]['outputTarg'+'et']=_0x2d2856['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x13705d,_0x13705d['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x848+-0x19a5+0x21ed);}['removeEffe'+'ct'](_0x48ad15){let _0x2f310b=-(-0x15eb+0x373*-0x1+0x195f);for(let _0x3e41f2=0x1d1d+-0x236*0x2+-0x81*0x31,_0x25e80e=this['effects']['length'];_0x3e41f2<_0x25e80e;_0x3e41f2++)if(this['effects'][_0x3e41f2]['effect']===_0x48ad15){_0x2f310b=_0x3e41f2;break;}_0x2f310b>=0x1*0x161d+-0x2*0x7ac+-0x6c5&&(_0x2f310b>0x1*0x12fd+0xb7e+-0x3*0xa29?this['effects'][_0x2f310b-(0x1313*0x2+0x222a+-0x484f)]['outputTarg'+'et']=_0x2f310b+(0xe21*0x2+0x16cd+-0x330e)<this['effects']['length']?this['effects'][_0x2f310b+(0x75*-0x12+-0x25de+0x2e19)]['inputTarge'+'t']:null:this['effects']['length']>0x53*0x5b+0x237f*-0x1+-0x5ff*-0x1&&(this['effects'][0x1*-0x1c97+-0x511+-0x7*-0x4cf]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x20e4+0xf8c+-0x1159*-0x1]['inputTarge'+'t']),this['effects'][0x208*-0xb+-0xa2d+-0x16a*-0x17]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x9e3+-0x12ee+0x90b),this['effects'][0x1dd8+-0xe93*0x1+-0x4*0x3d1]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x9bf+0x220a+0x184a*-0x1]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x629*-0x4+-0x1c7b+-0x88*-0x64]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x2f310b]['inputTarge'+'t']),this['effects']['splice'](_0x2f310b,0x8ea+0x2*0x5f9+-0x14db)),this['enabled']&&_0x48ad15['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x1b8b+0x1281+-0x2e0c&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x229e51=-0x2d2*0x9+-0xb*0x335+-0x3ca9*-0x1,_0x55a098=this['effects']['length'];_0x229e51<_0x55a098;_0x229e51++){const _0x3fc516=this['effects'][_0x229e51]['effect'];this['_newPostEf'+'fect']!==_0x3fc516&&_0x3fc516['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x18f243=0x32*-0xb5+-0x23e*-0xa+-0x2*-0x677,_0x222660=this['effects']['length'];_0x18f243<_0x222660;_0x18f243++)this['effects'][_0x18f243]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x1b9eb9=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x1b9eb9&&(_0x1b9eb9['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x243c+0x2*0x12c1+-0x49be)));}['_releaseDe'+'pthMap'](){const _0x4e8064=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x4e8064&&(_0x4e8064['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x157a+-0x173*0xd+-0x2a2)));}['destroy'](){for(let _0x49d4cf=-0x7c9*-0x2+0x1*0x11b3+-0x3*0xb17,_0x289dcb=this['effects']['length'];_0x49d4cf<_0x289dcb;_0x49d4cf++)this['effects'][_0x49d4cf]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x43*0x1d+0xdc0*-0x2+0xd*0x2b3,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x86*-0x4a+0x2*-0x8b+-0x4f*0x7a),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x2528+-0xa+-0x251e]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x3b50f9=null;const _0x587f40=this['effects']['length'];if(_0x587f40)for(let _0x417faa=-0x1*-0x2581+0x1bff+-0x4180;_0x417faa<_0x587f40;_0x417faa++){const _0xed1b73=this['effects'][_0x417faa];let _0x16bd46=_0xed1b73['outputTarg'+'et'];_0x417faa===_0x587f40-(0x7*0x4ff+0x5*-0x4e1+-0xa93)&&(_0x3b50f9=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x16bd46=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0xed1b73['name']),_0xed1b73['effect']['render'](_0xed1b73['inputTarge'+'t'],_0x16bd46,_0x3b50f9),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0xe28+-0x309+0x1*-0xb1e),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3edb81,_0x29a9b9){const _0x248af9=this['camera']['rect'],_0x2093c4=this['destinatio'+'nRenderTar'+'get'];_0x3edb81=(_0x2093c4==null?void(-0x199*-0x12+0x1487+0x197*-0x1f):_0x2093c4['width'])??_0x3edb81,_0x29a9b9=(_0x2093c4==null?void(0x1*-0x205f+0x22b9*0x1+-0x2b*0xe):_0x2093c4['height'])??_0x29a9b9,this['camera']['camera']['aspectRati'+'o']=_0x3edb81*_0x248af9['z']/(_0x29a9b9*_0x248af9['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x3bb1ce=this['app']['graphicsDe'+'vice'],_0xd83ebe=this['destinatio'+'nRenderTar'+'get'],_0x2d8fb6=(_0xd83ebe==null?void(0x2f9*-0x8+0x1baf+-0x3e7):_0xd83ebe['width'])??_0x3bb1ce['width'],_0x403862=(_0xd83ebe==null?void(0xf9*-0x23+-0x1cf1*0x1+0x3efc):_0xd83ebe['height'])??_0x3bb1ce['height'],_0x213f93=this['camera']['rect'],_0x42300a=Math['floor'](_0x213f93['z']*_0x2d8fb6),_0x1ecc30=Math['floor'](_0x213f93['w']*_0x403862),_0xfd2bfe=this['effects'];for(let _0x4ba0f4=-0xf78+-0x2*-0x8d4+-0x230,_0x4d0b7a=_0xfd2bfe['length'];_0x4ba0f4<_0x4d0b7a;_0x4ba0f4++){const _0x290985=_0xfd2bfe[_0x4ba0f4];(_0x290985['inputTarge'+'t']['width']!==_0x42300a||_0x290985['inputTarge'+'t']['height']!==_0x1ecc30)&&this['_resizeOff'+'screenTarg'+'et'](_0x290985['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x10b7a7,_0x54597e,_0x432d0f){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x2180e0,_0x35f727){super(_0x2180e0,_0x35f727),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x1270*-0x1+0x1767*-0x1+0x29*0x1f),h(this,'_renderSce'+'neColorMap',0x152c+-0x2564*-0x1+-0x3a90),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x1b8*-0x1+-0x1166+-0x49*-0x37)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x21c6+0x1d5c+0x46b)),h(this,'_priority',-0x1d07*0x1+0xd8f*-0x1+0x2a96),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x35f727,this['_postEffec'+'ts']=new yF(_0x2180e0['app'],this));}['setShaderP'+'ass'](_0x5978ad){const _0x3932d2=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x1f124c=_0x5978ad?_0x3932d2['allocate'](_0x5978ad,{'isForward':!(0x27f*0xe+-0x557*-0x7+0x73*-0xa1)}):null;return this['_camera']['shaderPass'+'Info']=_0x1f124c,_0x1f124c['index'];}['getShaderP'+'ass'](){var _0x4aa2ec;return(_0x4aa2ec=this['_camera']['shaderPass'+'Info'])==null?void(0x1801+-0x20ff+0x47f*0x2):_0x4aa2ec['name'];}set['renderPass'+'es'](_0x49a160){this['_camera']['renderPass'+'es']=_0x49a160||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xd8d+-0x154c+0x32b*0xb);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x4c82d7){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x4c82d7;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x158daa){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x158daa;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0xf2144a){this['_camera']['fogParams']=_0xf2144a;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x4bda2a){this['_camera']['aperture']=_0x4bda2a;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x5d860b){this['_camera']['aspectRati'+'o']=_0x5d860b;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x27f356){this['_camera']['aspectRati'+'oMode']=_0x27f356;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x193fb6){this['_camera']['calculateP'+'rojection']=_0x193fb6;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x465c9c){this['_camera']['calculateT'+'ransform']=_0x465c9c;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0xfa48f7){this['_camera']['clearColor']=_0xfa48f7;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x4607c3){this['_camera']['clearColor'+'Buffer']=_0x4607c3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x686c75){this['_camera']['clearDepth'+'Buffer']=_0x686c75,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x5bb948){this['_camera']['clearStenc'+'ilBuffer']=_0x5bb948,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x1f7c72){this['_camera']['cullFaces']=_0x1f7c72;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x58c3be){this['_disablePo'+'stEffectsL'+'ayer']=_0x58c3be,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x45778d){this['_camera']['farClip']=_0x45778d;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0xa31c11){this['_camera']['flipFaces']=_0xa31c11;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x45be78){this['_camera']['fov']=_0x45be78;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x2beb99){this['_camera']['frustumCul'+'ling']=_0x2beb99;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x148364){this['_camera']['horizontal'+'Fov']=_0x148364;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x3c742e){const _0x2a88d3=this['_camera']['layers'],_0x579e6c=this['system']['app']['scene'];_0x2a88d3['forEach'](_0x4acfc5=>{const _0x1bbf87=_0x579e6c['layers']['getLayerBy'+'Id'](_0x4acfc5);_0x1bbf87==null||_0x1bbf87['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x3c742e,this['enabled']&&this['entity']['enabled']&&_0x3c742e['forEach'](_0xc35b66=>{const _0x1f70d7=_0x579e6c['layers']['getLayerBy'+'Id'](_0xc35b66);_0x1f70d7==null||_0x1f70d7['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x360397){this['_camera']['jitter']=_0x360397;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x27076b){this['_camera']['nearClip']=_0x27076b;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x48101f){this['_camera']['orthoHeigh'+'t']=_0x48101f;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x5b2d3f){this['_priority']=_0x5b2d3f,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x233ba3){this['_camera']['projection']=_0x233ba3;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x2a556e){this['_camera']['rect']=_0x2a556e,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x292160){_0x292160&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x7*0x8f+-0x175e+0x1b47)),this['_sceneColo'+'rMapReques'+'ted']=!(0x3a2+-0x7fe+0x45c)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x186e+-0x1a05*0x1+0x66*0x4)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1a90+0x1e59+-0x3c8));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x660+0x67f+0x293*-0x5;}set['renderScen'+'eDepthMap'](_0x248131){_0x248131&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x2392+-0x3d4+-0x1fbe)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2*0xc9d+-0x625*0x1+0x3d1*-0x5)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x1e59*0x1+-0xd93+-0x10c5)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1*-0x171a+0x3*0x25+-0x1788));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x20b*0x7+0x19c6+-0x2813;}set['renderTarg'+'et'](_0x4ae43a){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x162e+0x24a2*0x1+-0x3ad0&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x4ae43a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x1c8d8a){this['_camera']['scissorRec'+'t']=_0x1c8d8a;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x3d5263){this['_camera']['sensitivit'+'y']=_0x3d5263;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x280330){this['_camera']['shutter']=_0x280330;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x53b046){if(this['layers']['find'](_0x46f9e6=>_0x46f9e6===ps)){const _0x15c306=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x53b046?_0x15c306==null||_0x15c306['incrementC'+'ounter']():_0x15c306==null||_0x15c306['decrementC'+'ounter']();}else{if(_0x53b046)return!(-0x1*0xdf6+0x1a0e+0x1*-0xc17);}return!(0xb*-0x12b+-0x12c2+-0x117*-0x1d);}['requestSce'+'neColorMap'](_0x4e227d){this['_renderSce'+'neColorMap']+=_0x4e227d?-0x12eb+0x1b32+-0x846:-(-0x1dd8+0xa2*-0x13+0x29df),w['assert'](this['_renderSce'+'neColorMap']>=-0x1a*0x39+0x1a7+0x423),this['_enableDep'+'thLayer'](_0x4e227d)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x27a161){this['_renderSce'+'neDepthMap']+=_0x27a161?0x1ec+0x1b*-0xc5+0x12dc:-(0x9d7+0x215f+-0x1*0x2b35),w['assert'](this['_renderSce'+'neDepthMap']>=-0xadc+0x2232+-0x1756),this['_enableDep'+'thLayer'](_0x27a161)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0xbd9a65=this['system']['app']['scene']['layers'];_0xbd9a65['_dirty']=!(-0x1900+0x10dc+0x824*0x1);}['screenToWo'+'rld'](_0x31d45e,_0x420bae,_0x2d8135,_0x500b35){const _0x5425a3=this['system']['app']['graphicsDe'+'vice'],{width:_0x18d800,height:_0x1a599a}=_0x5425a3['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x31d45e,_0x420bae,_0x2d8135,_0x18d800,_0x1a599a,_0x500b35);}['worldToScr'+'een'](_0x1b7c79,_0x4189bc){const _0x5961b7=this['system']['app']['graphicsDe'+'vice'],{width:_0x1d47e1,height:_0x5743f8}=_0x5961b7['clientRect'];return this['_camera']['worldToScr'+'een'](_0x1b7c79,_0x1d47e1,_0x5743f8,_0x4189bc);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x125*0x5+0x650+-0x97*0x1),this['_camera']['_viewProjM'+'atDirty']=!(0x301*-0xb+-0x1*0x12ec+0x33f7);}['addCameraT'+'oLayers'](){const _0x3ee658=this['layers'];for(let _0x3598a3=0x1*-0x5ca+-0x1*0x26f9+-0x665*-0x7;_0x3598a3<_0x3ee658['length'];_0x3598a3++){const _0x2f0668=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3ee658[_0x3598a3]);_0x2f0668&&_0x2f0668['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x335f14=this['layers'];for(let _0x2d0d2e=-0x1be6+-0x12b0+-0x59*-0x86;_0x2d0d2e<_0x335f14['length'];_0x2d0d2e++){const _0x3aea28=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x335f14[_0x2d0d2e]);_0x3aea28&&_0x3aea28['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x13a0b0,_0x248164){this['addCameraT'+'oLayers'](),_0x13a0b0['off']('add',this['onLayerAdd'+'ed'],this),_0x13a0b0['off']('remove',this['onLayerRem'+'oved'],this),_0x248164['on']('add',this['onLayerAdd'+'ed'],this),_0x248164['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x37e581){this['layers']['indexOf'](_0x37e581['id'])<0x6*0x243+-0x347*-0x5+0x1df5*-0x1||_0x37e581['addCamera'](this);}['onLayerRem'+'oved'](_0x44f43f){this['layers']['indexOf'](_0x44f43f['id'])<-0x2*0x12d4+0x1da4+0x6c*0x13||_0x44f43f['removeCame'+'ra'](this);}['onEnable'](){var _0x5b5e2a,_0x1b8c5d,_0x515727;const _0x9c6bd6=this['system']['app']['scene'],_0x32675c=_0x9c6bd6['layers'];this['system']['addCamera'](this),(_0x5b5e2a=this['_evtLayers'+'Changed'])==null||_0x5b5e2a['off'](),this['_evtLayers'+'Changed']=_0x9c6bd6['on']('set:layers',this['onLayersCh'+'anged'],this),_0x32675c&&((_0x1b8c5d=this['_evtLayerA'+'dded'])==null||_0x1b8c5d['off'](),this['_evtLayerA'+'dded']=_0x32675c['on']('add',this['onLayerAdd'+'ed'],this),(_0x515727=this['_evtLayerR'+'emoved'])==null||_0x515727['off'](),this['_evtLayerR'+'emoved']=_0x32675c['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x268a7f,_0x3855a6,_0x64f92e;const _0x2b44b6=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x268a7f=this['_evtLayers'+'Changed'])==null||_0x268a7f['off'](),this['_evtLayers'+'Changed']=null,_0x2b44b6&&((_0x3855a6=this['_evtLayerA'+'dded'])==null||_0x3855a6['off'](),this['_evtLayerA'+'dded']=null,(_0x64f92e=this['_evtLayerR'+'emoved'])==null||_0x64f92e['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x1a6017){const _0x46808f=this['system']['app']['graphicsDe'+'vice'],_0x455511=_0x1a6017?_0x1a6017['width']:_0x46808f['width'],_0x398d7d=_0x1a6017?_0x1a6017['height']:_0x46808f['height'];return _0x455511*this['rect']['z']/(_0x398d7d*this['rect']['w']);}['frameUpdat'+'e'](_0x18fed1){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x18fed1));}['startXr'](_0xfe6c52,_0x49d83e,_0x1686aa){this['system']['app']['xr']['start'](this,_0xfe6c52,_0x49d83e,_0x1686aa);}['endXr'](_0x3c07b2){if(!this['_camera']['xr']){_0x3c07b2&&_0x3c07b2(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x3c07b2);}['copy'](_0x46a16f){this['aperture']=_0x46a16f['aperture'],this['aspectRati'+'o']=_0x46a16f['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x46a16f['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x46a16f['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x46a16f['calculateT'+'ransform'],this['clearColor']=_0x46a16f['clearColor'],this['clearColor'+'Buffer']=_0x46a16f['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x46a16f['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x46a16f['clearStenc'+'ilBuffer'],this['cullFaces']=_0x46a16f['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x46a16f['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x46a16f['farClip'],this['flipFaces']=_0x46a16f['flipFaces'],this['fov']=_0x46a16f['fov'],this['frustumCul'+'ling']=_0x46a16f['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x46a16f['horizontal'+'Fov'],this['layers']=_0x46a16f['layers'],this['nearClip']=_0x46a16f['nearClip'],this['orthoHeigh'+'t']=_0x46a16f['orthoHeigh'+'t'],this['priority']=_0x46a16f['priority'],this['projection']=_0x46a16f['projection'],this['rect']=_0x46a16f['rect'],this['renderTarg'+'et']=_0x46a16f['renderTarg'+'et'],this['scissorRec'+'t']=_0x46a16f['scissorRec'+'t'],this['sensitivit'+'y']=_0x46a16f['sensitivit'+'y'],this['shutter']=_0x46a16f['shutter'];}}class vF{constructor(){this['enabled']=!(-0x24b5*-0x1+0x57d*-0x5+-0x1*0x944);}}const p0=['enabled'];class xF extends ct{constructor(_0x4567e3){super(_0x4567e3),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x529bb0,_0xce7290,_0x1449c8){_0x1449c8=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x88a104=0x18ca+0x2614+-0x3ede;_0x88a104<_0x1449c8['length'];_0x88a104++){const _0x2c232b=_0x1449c8[_0x88a104];if(_0xce7290['hasOwnProp'+'erty'](_0x2c232b)){const _0x1f41f9=_0xce7290[_0x2c232b];switch(_0x2c232b){case'rect':case'scissorRec'+'t':Array['isArray'](_0x1f41f9)?_0x529bb0[_0x2c232b]=new re(_0x1f41f9[-0x255+-0xa07+0xc5c],_0x1f41f9[-0x259*-0x7+0x1*0xdf1+-0x1e5f],_0x1f41f9[0x20c8+0xb5+-0x217b],_0x1f41f9[-0x254d+0x55*-0x41+0x3ae5*0x1]):_0x529bb0[_0x2c232b]=_0x1f41f9;break;case'clearColor':Array['isArray'](_0x1f41f9)?_0x529bb0[_0x2c232b]=new ie(_0x1f41f9[0x2277+0x911*-0x3+-0x744],_0x1f41f9[0x9*-0x157+-0x1944+0x2554],_0x1f41f9[0x82+0x13*0x10d+-0x1477],_0x1f41f9[-0x4f8+-0x1ec9*-0x1+0x2*-0xce7]):_0x529bb0[_0x2c232b]=_0x1f41f9;break;default:_0x529bb0[_0x2c232b]=_0x1f41f9;break;}}}super['initialize'+'ComponentD'+'ata'](_0x529bb0,_0xce7290,['enabled']);}['cloneCompo'+'nent'](_0x180542,_0x480bcd){const _0x3204a0=_0x180542['camera'];return this['addCompone'+'nt'](_0x480bcd,{'aspectRatio':_0x3204a0['aspectRati'+'o'],'aspectRatioMode':_0x3204a0['aspectRati'+'oMode'],'calculateProjection':_0x3204a0['calculateP'+'rojection'],'calculateTransform':_0x3204a0['calculateT'+'ransform'],'clearColor':_0x3204a0['clearColor'],'clearColorBuffer':_0x3204a0['clearColor'+'Buffer'],'clearDepthBuffer':_0x3204a0['clearDepth'+'Buffer'],'clearStencilBuffer':_0x3204a0['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x3204a0['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x3204a0['renderScen'+'eColorMap'],'cullFaces':_0x3204a0['cullFaces'],'enabled':_0x3204a0['enabled'],'farClip':_0x3204a0['farClip'],'flipFaces':_0x3204a0['flipFaces'],'fov':_0x3204a0['fov'],'frustumCulling':_0x3204a0['frustumCul'+'ling'],'horizontalFov':_0x3204a0['horizontal'+'Fov'],'layers':_0x3204a0['layers'],'renderTarget':_0x3204a0['renderTarg'+'et'],'nearClip':_0x3204a0['nearClip'],'orthoHeight':_0x3204a0['orthoHeigh'+'t'],'projection':_0x3204a0['projection'],'priority':_0x3204a0['priority'],'rect':_0x3204a0['rect'],'scissorRect':_0x3204a0['scissorRec'+'t'],'aperture':_0x3204a0['aperture'],'sensitivity':_0x3204a0['sensitivit'+'y'],'shutter':_0x3204a0['shutter'],'gammaCorrection':_0x3204a0['gammaCorre'+'ction'],'toneMapping':_0x3204a0['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x53e31d,_0x265d8e){this['removeCame'+'ra'](_0x265d8e),_0x265d8e['onRemove']();}['onAppPrere'+'nder'](){for(let _0x15bee8=0x1515+-0x319+-0x11fc,_0x4f4479=this['cameras']['length'];_0x15bee8<_0x4f4479;_0x15bee8++)this['cameras'][_0x15bee8]['onAppPrere'+'nder']();}['addCamera'](_0x2faad7){this['cameras']['push'](_0x2faad7),ul(this['cameras']);}['removeCame'+'ra'](_0x3dc513){const _0x21cf76=this['cameras']['indexOf'](_0x3dc513);_0x21cf76>=0x481+0xf*-0x185+0x124a*0x1&&(this['cameras']['splice'](_0x21cf76,0x1*-0x1775+0x1dde+-0x668),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0xa*-0xbc+0x1eb7+-0x260f)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x9*-0x37b+-0x17a8+0x11*0x33c,-0x2*-0xceb+-0x36e*0x7+-0x1d3,-0x926+0x7bd+0x16a)),h(this,'intensity',0x65*-0x10+-0xa3*0x1c+0x1825),h(this,'luminance',-0x1*-0x2642+0xa6d*0x1+0x1*-0x30af),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0x1917+0x605+-0x2*0xf8e)),h(this,'castShadow'+'s',!(-0x1b14+0x2531*0x1+-0x4*0x287)),h(this,'shadowDist'+'ance',0x1d45*0x1+-0x13c3*-0x1+-0x30e0),h(this,'shadowInte'+'nsity',0x1de7+0x17*-0x97+-0x1055),h(this,'shadowReso'+'lution',-0x95b+-0x11*-0xb6+0x5*0x41),h(this,'shadowBias',0xff5*-0x1+-0x7b1+-0x6*-0x3f1+0.05),h(this,'numCascade'+'s',-0x8*-0x4a5+0x20cf+-0xba9*0x6),h(this,'cascadeBle'+'nd',0x18fd+0xdf+-0x19dc),h(this,'bakeNumSam'+'ples',-0x412+0x1b9a+0x1*-0x1787),h(this,'bakeArea',0x2395+0x154e+-0x38e3),h(this,'cascadeDis'+'tribution',-0x37a*-0x2+0x1a8*-0x10+0x138c+0.5),h(this,'normalOffs'+'etBias',0x2315+0x15e1+-0x38f6),h(this,'range',-0x1594+-0x1cc1+-0xa13*-0x5),h(this,'innerConeA'+'ngle',0x1572+-0x907+-0xc43),h(this,'outerConeA'+'ngle',0x1*-0x20c+0x66f+0x1*-0x436),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x3*-0x730+-0xe58+-0xb*0xa7),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0xdd3+-0xb6f*-0x1+0x1942*-0x1+0.01)*(-0xa*0x2b2+0x745*-0x5+0x3f4d+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x2*-0x1093+0x2*-0xbc9+-0x993),h(this,'cookieFall'+'off',!(-0xe9b+-0x1573+-0xa*-0x39b)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x112c*0x2+0x43*0x41+-0x335b),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x14bb+-0x1cbc+-0x18bc*-0x2),h(this,'affectDyna'+'mic',!(-0x1*-0x1047+0x5*0x574+-0x2b8b*0x1)),h(this,'affectLigh'+'tmapped',!(-0x8*-0x149+0x16ef+-0x2136)),h(this,'bake',!(-0x248*0x5+0x1771+-0xc08)),h(this,'bakeDir',!(0x196d+-0x128d+-0xdc*0x8)),h(this,'isStatic',!(-0x175+-0x1a9b+0x1c11)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0x1bfb+0x221c+0x62*-0x10),h(this,'penumbraFa'+'lloff',0x5f5*-0x6+0x1e19*-0x1+0x41d8),h(this,'shadowSamp'+'les',-0x17*-0x2b+0x2466+-0x2833),h(this,'shadowBloc'+'kerSamples',0x1b*-0x131+-0x57*-0x3e+0xb29*0x1);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x39*0xa8+0x16a6+-0x3c0d*0x1)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x587d61=this['system']['store'][this['entity']['getGuid']()];return _0x587d61?_0x587d61['data']:null;}set['enabled'](_0x50f57a){this['_setValue']('enabled',_0x50f57a,function(_0x50d61f,_0x15a3fc){this['onSetEnabl'+'ed'](null,_0x15a3fc,_0x50d61f);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x1aa94a){this['_setValue']('light',_0x1aa94a);}get['light'](){return this['data']['light'];}set['type'](_0x3de61a){this['_setValue']('type',_0x3de61a,function(_0x2e36a7,_0x434a8a){this['system']['changeType'](this,_0x434a8a,_0x2e36a7),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x21745d){this['_setValue']('color',_0x21745d,function(_0x361d94,_0x4ee351){this['light']['setColor'](_0x361d94);},!(-0xbaa+-0x42b*-0x8+0xf*-0x172));}get['color'](){return this['data']['color'];}set['intensity'](_0x32077d){this['_setValue']('intensity',_0x32077d,function(_0x3063aa,_0x50cb35){this['light']['intensity']=_0x3063aa;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x2be34b){this['_setValue']('luminance',_0x2be34b,function(_0x4ac8b8,_0x3d7c2a){this['light']['luminance']=_0x4ac8b8;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0xdeb84a){this['_setValue']('shape',_0xdeb84a,function(_0x5d95f2,_0x4d5db1){this['light']['shape']=_0x5d95f2;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x28250c){this['_setValue']('affectSpec'+'ularity',_0x28250c,function(_0x3eb62b,_0x4cec91){this['light']['affectSpec'+'ularity']=_0x3eb62b;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x4808c1){this['_setValue']('castShadow'+'s',_0x4808c1,function(_0x48aedf,_0x4747f1){this['light']['castShadow'+'s']=_0x48aedf;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x340e14){this['_setValue']('shadowDist'+'ance',_0x340e14,function(_0x24dc44,_0x1ce034){this['light']['shadowDist'+'ance']=_0x24dc44;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x296942){this['_setValue']('shadowInte'+'nsity',_0x296942,function(_0x2e8e90,_0x5417e2){this['light']['shadowInte'+'nsity']=_0x2e8e90;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x7be5a6){this['_setValue']('shadowReso'+'lution',_0x7be5a6,function(_0x52a3bd,_0xbbcccd){this['light']['shadowReso'+'lution']=_0x52a3bd;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0xbef33f){this['_setValue']('shadowBias',_0xbef33f,function(_0x5ed73c,_0x2d8b4a){this['light']['shadowBias']=-(-0x8*-0xcb+-0xf3*0x1+-0x565+0.01)*Y['clamp'](_0x5ed73c,0x15a+0x19f*0x7+-0x1*0xcb3,0x4*0x5bf+0xbcb*0x3+-0x3a5c);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x2d3369){this['_setValue']('numCascade'+'s',_0x2d3369,function(_0x29eb31,_0x12635b){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x29eb31),0x3d1*-0x3+0xe45+-0x2d1,-0x2d2*-0x2+-0x54*-0x76+0x764*-0x6);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x5a25bf){this['_setValue']('cascadeBle'+'nd',_0x5a25bf,function(_0x3b2f40,_0x21f549){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x3b2f40,-0x1*0x1ae3+0xe1c*0x2+-0x155,-0x12ac+0x1e17*-0x1+0x2*0x1862);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x17c1ab){this['_setValue']('bakeNumSam'+'ples',_0x17c1ab,function(_0x488dc7,_0x47c219){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x488dc7),-0x2*0x8a1+0x191*0x9+0x87*0x6,0xce8+-0x1b8f+0x2*0x7d3);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x43a110){this['_setValue']('bakeArea',_0x43a110,function(_0x4cd88d,_0x29ea19){this['light']['bakeArea']=Y['clamp'](_0x4cd88d,0x229*-0x7+0x1101*0x1+0x2*-0xf1,0x196a+-0x7d4+-0x10e2);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x3ffb27){this['_setValue']('cascadeDis'+'tribution',_0x3ffb27,function(_0x50c135,_0x554dea){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x50c135,-0x1d29+0x26a4+-0x3*0x329,0x5*0x6ee+-0xa7a+-0x182b);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x1f2052){this['_setValue']('normalOffs'+'etBias',_0x1f2052,function(_0x52b1f3,_0x4457e0){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x52b1f3,-0x10f6+0x4*-0x9e+0x6*0x33d,-0xf93+-0x77*0x29+0x22a3);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x3b3afb){this['_setValue']('range',_0x3b3afb,function(_0x36f5af,_0x360ebd){this['light']['attenuatio'+'nEnd']=_0x36f5af;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x46229f){this['_setValue']('innerConeA'+'ngle',_0x46229f,function(_0x5d7df9,_0xd13411){this['light']['innerConeA'+'ngle']=_0x5d7df9;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x6da19e){this['_setValue']('outerConeA'+'ngle',_0x6da19e,function(_0x55e4e6,_0x260271){this['light']['outerConeA'+'ngle']=_0x55e4e6;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x5af114){this['_setValue']('falloffMod'+'e',_0x5af114,function(_0x5d40ab,_0x436ae2){this['light']['falloffMod'+'e']=_0x5d40ab;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x5ce35c){this['_setValue']('shadowType',_0x5ce35c,function(_0x1fcb6c,_0x4715cf){this['light']['shadowType']=_0x1fcb6c;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x1cb09c){this['_setValue']('vsmBlurSiz'+'e',_0x1cb09c,function(_0x316b8f,_0x3f2e31){this['light']['vsmBlurSiz'+'e']=_0x316b8f;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x512685){this['_setValue']('vsmBlurMod'+'e',_0x512685,function(_0x216db0,_0x40fb3c){this['light']['vsmBlurMod'+'e']=_0x216db0;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x58ada3){this['_setValue']('vsmBias',_0x58ada3,function(_0x452a6d,_0x3e0182){this['light']['vsmBias']=Y['clamp'](_0x452a6d,-0x715+-0x56+0x279*0x3,-0xde9+-0x1*-0x2164+-0x137a);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x48cf2d){this['_setValue']('cookieAsse'+'t',_0x48cf2d,function(_0x5de1be,_0x17d7de){if(!(this['_cookieAss'+'etId']&&(_0x5de1be instanceof pe&&_0x5de1be['id']===this['_cookieAss'+'etId']||_0x5de1be===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x5de1be instanceof pe)this['data']['cookieAsse'+'t']=_0x5de1be['id'],this['_cookieAss'+'etId']=_0x5de1be['id'],this['onCookieAs'+'setAdd'](_0x5de1be);else{if(typeof _0x5de1be=='number'){this['_cookieAss'+'etId']=_0x5de1be;const _0x3c5cdc=this['system']['app']['assets']['get'](_0x5de1be);_0x3c5cdc?this['onCookieAs'+'setAdd'](_0x3c5cdc):(this['_cookieAss'+'etAdd']=!(0xef4+0x26d5+-0x35c9),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x5a0316){this['_setValue']('cookie',_0x5a0316,function(_0x4dc88e,_0xc680f5){this['light']['cookie']=_0x4dc88e;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x3b8569){this['_setValue']('cookieInte'+'nsity',_0x3b8569,function(_0x4debaf,_0x5e6689){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x4debaf,-0x1fc1+-0xad5+-0x3*-0xe32,-0x2171+-0x1*0x2b6+-0x90a*-0x4);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x1a0dc7){this['_setValue']('cookieFall'+'off',_0x1a0dc7,function(_0x54017e,_0x51fd84){this['light']['cookieFall'+'off']=_0x54017e;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x35d9d8){this['_setValue']('cookieChan'+'nel',_0x35d9d8,function(_0x1073dc,_0x15f1d4){this['light']['cookieChan'+'nel']=_0x1073dc;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1511e6){this['_setValue']('cookieAngl'+'e',_0x1511e6,function(_0x15bf0b,_0x5ebead){if(_0x15bf0b!==-0x1283*-0x1+-0x7e3*0x2+0x1*-0x2bd||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x1cc4b6=-0xa6d+0x4*0x579+-0xb76,_0x48a553=0x230d+-0x22f9*-0x1+-0x4ab*0xf;this['cookieScal'+'e']&&(_0x1cc4b6=this['cookieScal'+'e']['x'],_0x48a553=this['cookieScal'+'e']['y']);const _0x2b9bc9=Math['cos'](_0x15bf0b*Y['DEG_TO_RAD']),_0x1f1ed4=Math['sin'](_0x15bf0b*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x2b9bc9/_0x1cc4b6,-_0x1f1ed4/_0x1cc4b6,_0x1f1ed4/_0x48a553,_0x2b9bc9/_0x48a553),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x14aaa0){this['_setValue']('cookieScal'+'e',_0x14aaa0,function(_0x4811e1,_0x255666){if(_0x4811e1!==null||this['cookieAngl'+'e']!==0x402+-0x8f0+-0x4ee*-0x1){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x5b9e05=_0x4811e1['x'],_0x259ba9=_0x4811e1['y'],_0x11022f=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x45e4f9=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x11022f/_0x5b9e05,-_0x45e4f9/_0x5b9e05,_0x45e4f9/_0x259ba9,_0x11022f/_0x259ba9),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x3*-0x137+-0x865+0x2*0x605));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x491046){this['_setValue']('cookieOffs'+'et',_0x491046,function(_0x171e6e,_0x41cf46){this['light']['cookieOffs'+'et']=_0x171e6e;},!(0x111+0xe6*0x1f+-0x1ceb));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x44d7ec){this['_setValue']('shadowUpda'+'teMode',_0x44d7ec,function(_0x2e7299,_0x4ce073){this['light']['shadowUpda'+'teMode']=_0x2e7299;},!(0x45*-0x79+0x1dd0+0x2cd));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x4f5c48){this['_setValue']('mask',_0x4f5c48,function(_0x12ff47,_0x5db417){this['light']['mask']=_0x12ff47;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x16e44f){this['_setValue']('affectDyna'+'mic',_0x16e44f,function(_0x411548,_0x37c958){_0x411548?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x1d7c20){this['_setValue']('affectLigh'+'tmapped',_0x1d7c20,function(_0x24bec6,_0x590338){_0x24bec6?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x2a74a5){this['_setValue']('bake',_0x2a74a5,function(_0x3bec15,_0xd23972){_0x3bec15?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x20ab63){this['_setValue']('bakeDir',_0x20ab63,function(_0xb96b60,_0x2526d2){this['light']['bakeDir']=_0xb96b60;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x12df87){this['_setValue']('isStatic',_0x12df87,function(_0x3bdb5c,_0x3d36e1){this['light']['isStatic']=_0x3bdb5c;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x21e081){this['_setValue']('layers',_0x21e081,function(_0x2fe1f9,_0x37baaa){for(let _0x27082d=-0x1e86+-0x1*-0x18d9+-0x5ad*-0x1;_0x27082d<_0x37baaa['length'];_0x27082d++){const _0x5bbda7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x37baaa[_0x27082d]);_0x5bbda7&&(_0x5bbda7['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x5bbda7));}for(let _0x1c88ff=-0x3cd*0x5+0x12b2+0x4f;_0x1c88ff<_0x2fe1f9['length'];_0x1c88ff++){const _0x33a2a9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2fe1f9[_0x1c88ff]);_0x33a2a9&&this['enabled']&&this['entity']['enabled']&&(_0x33a2a9['addLight'](this),this['light']['addLayer'](_0x33a2a9));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3fa8d0){this['light']['shadowUpda'+'teOverride'+'s']=_0x3fa8d0;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x3cb9c9){this['light']['shadowSamp'+'les']=_0x3cb9c9;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x5bf765){this['light']['shadowBloc'+'kerSamples']=_0x5bf765;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4bfe88){this['light']['penumbraSi'+'ze']=_0x4bfe88;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x333208){this['light']['penumbraFa'+'lloff']=_0x333208;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x1d2979,_0x50ff9f,_0x585a63,_0x3a6707){const _0x2f8f3f=this['data'],_0x4ab0f1=_0x2f8f3f[_0x1d2979];!_0x3a6707&&_0x4ab0f1===_0x50ff9f||(_0x2f8f3f[_0x1d2979]=_0x50ff9f,_0x585a63&&_0x585a63['call'](this,_0x50ff9f,_0x4ab0f1));}['addLightTo'+'Layers'](){for(let _0x25c6e5=0x183*-0x5+0x5*0x2fe+-0x767;_0x25c6e5<this['layers']['length'];_0x25c6e5++){const _0xba547c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x25c6e5]);_0xba547c&&(_0xba547c['addLight'](this),this['light']['addLayer'](_0xba547c));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x5d0dea=-0x1e59+-0x25a9+0x4402;_0x5d0dea<this['layers']['length'];_0x5d0dea++){const _0x1c45c0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5d0dea]);_0x1c45c0&&(_0x1c45c0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1c45c0));}}['onLayersCh'+'anged'](_0xd9162e,_0x3f622c){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0xd9162e['off']('add',this['onLayerAdd'+'ed'],this),_0xd9162e['off']('remove',this['onLayerRem'+'oved'],this),_0x3f622c['on']('add',this['onLayerAdd'+'ed'],this),_0x3f622c['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4a4470){this['layers']['indexOf'](_0x4a4470['id'])>=0x1*-0x395+-0x178c+0x1b21&&this['enabled']&&this['entity']['enabled']&&(_0x4a4470['addLight'](this),this['light']['addLayer'](_0x4a4470));}['onLayerRem'+'oved'](_0x21fd19){this['layers']['indexOf'](_0x21fd19['id'])>=-0xaf+-0x2*0xd03+-0x1ab5*-0x1&&(_0x21fd19['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x21fd19));}['refreshPro'+'perties'](){for(let _0x242be5=0x1a7f+0x2149*0x1+-0x3bc8;_0x242be5<Ho['length'];_0x242be5++){const _0x5c6ca8=Ho[_0x242be5];this[_0x5c6ca8]=this[_0x5c6ca8];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x415ae0=!(-0x1436+0x8*0x3ee+-0xb39);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1478+-0x11c*-0x7+0x10f*0xc),_0x415ae0=!(-0xbb*-0x1f+-0xf97+-0x56*0x15)),(!this['_cookieAss'+'et']['resource']||_0x415ae0)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x52c74c){this['_cookieAss'+'etId']===_0x52c74c['id']&&(this['_cookieAss'+'et']=_0x52c74c,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x1467+-0x6*-0x551+0x5bf*-0x2)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x1bdcbd=this['system']['app']['scene'],_0x3d1a8d=_0x1bdcbd['layers'];this['light']['enabled']=!(-0x3*0xb5f+0x4be*0x1+0x1*0x1d5f),this['_evtLayers'+'Changed']=_0x1bdcbd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3d1a8d&&(this['_evtLayerA'+'dded']=_0x3d1a8d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3d1a8d['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x14ff89,_0x29baf6,_0x172fa1;const _0x30e181=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0xbe*-0x3+-0xc7*-0x15+-0xe18),(_0x14ff89=this['_evtLayers'+'Changed'])==null||_0x14ff89['off'](),this['_evtLayers'+'Changed']=null,_0x30e181&&((_0x29baf6=this['_evtLayerA'+'dded'])==null||_0x29baf6['off'](),this['_evtLayerA'+'dded']=null,(_0x172fa1=this['_evtLayerR'+'emoved'])==null||_0x172fa1['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x54c838){super(_0x54c838),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x26f1ec,_0x83dbe){const _0x52bbcc={..._0x83dbe};_0x52bbcc['type']||(_0x52bbcc['type']=_0x26f1ec['data']['type']),_0x26f1ec['data']['type']=_0x52bbcc['type'],_0x52bbcc['layers']&&Array['isArray'](_0x52bbcc['layers'])&&(_0x52bbcc['layers']=_0x52bbcc['layers']['slice'](0x1*0x1559+-0xa3*0xb+-0x4c8*0x3)),_0x52bbcc['color']&&Array['isArray'](_0x52bbcc['color'])&&(_0x52bbcc['color']=new ie(_0x52bbcc['color'][0x4*-0x149+-0x293*0x2+0xa4a],_0x52bbcc['color'][-0xc6+0x940*0x1+-0x3*0x2d3],_0x52bbcc['color'][-0x104e+0x1*-0x1ac6+0x2*0x158b])),_0x52bbcc['cookieOffs'+'et']&&_0x52bbcc['cookieOffs'+'et']instanceof Array&&(_0x52bbcc['cookieOffs'+'et']=new J(_0x52bbcc['cookieOffs'+'et'][0x1034+-0xe52+0x1*-0x1e2],_0x52bbcc['cookieOffs'+'et'][-0x1b*-0x61+-0x1348+0x90e])),_0x52bbcc['cookieScal'+'e']&&_0x52bbcc['cookieScal'+'e']instanceof Array&&(_0x52bbcc['cookieScal'+'e']=new J(_0x52bbcc['cookieScal'+'e'][-0x63*0x59+0x1*-0x971+-0x2*-0x15ee],_0x52bbcc['cookieScal'+'e'][0x2*0x20b+-0x1cc9*0x1+0x7c*0x33])),_0x52bbcc['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x52bbcc['enabled']=_0x52bbcc['enable']),_0x52bbcc['shape']||(_0x52bbcc['shape']=Ys);const _0x21dc42=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x21dc42['type']=fu[_0x52bbcc['type']],_0x21dc42['_node']=_0x26f1ec['entity'],_0x26f1ec['data']['light']=_0x21dc42,super['initialize'+'ComponentD'+'ata'](_0x26f1ec,_0x52bbcc,Ho);}['_onRemoveC'+'omponent'](_0x185319,_0x4df044){_0x4df044['onRemove']();}['cloneCompo'+'nent'](_0x132dc0,_0x39d663){const _0x15ec75=_0x132dc0['light'],_0x2e50c8=[];let _0x2acb00;for(let _0x15c0b8=-0x29*-0x6e+0x1*-0xbc3+-0x5db*0x1;_0x15c0b8<Ho['length'];_0x15c0b8++)_0x2acb00=Ho[_0x15c0b8],_0x2acb00!=='light'&&(_0x15ec75[_0x2acb00]&&_0x15ec75[_0x2acb00]['clone']?_0x2e50c8[_0x2acb00]=_0x15ec75[_0x2acb00]['clone']():_0x2e50c8[_0x2acb00]=_0x15ec75[_0x2acb00]);return this['addCompone'+'nt'](_0x39d663,_0x2e50c8);}['changeType'](_0x2bec46,_0x22d5bd,_0x348b0b){_0x22d5bd!==_0x348b0b&&(_0x2bec46['light']['type']=fu[_0x348b0b]);}}const EF=['x','y','z','w'],bF=[void(0x25ad+-0xb4e*0x2+-0x13*0xcb),void(-0x221f*0x1+0x59*0x65+-0xfe),J,D,re];function Yn(_0x33b81a,_0x17d693,_0x8f4ce8,_0x5a6010){switch(_0x17d693['type']){case'boolean':return!!_0x8f4ce8;case'number':if(typeof _0x8f4ce8=='number')return _0x8f4ce8;if(typeof _0x8f4ce8=='string'){const _0x1ca593=parseInt(_0x8f4ce8,-0x2*-0xb4b+-0xca7*-0x1+-0x2333);return isNaN(_0x1ca593)?null:_0x1ca593;}else{if(typeof _0x8f4ce8=='boolean')return-0x6b0+0x2*-0x62b+0x1306+_0x8f4ce8;}return null;case'json':{const _0x2d1e80={};if(Array['isArray'](_0x17d693['schema'])){(!_0x8f4ce8||typeof _0x8f4ce8!='object')&&(_0x8f4ce8={});for(let _0x27c3aa=0x11*-0xf7+0x1af2+-0x1*0xa8b;_0x27c3aa<_0x17d693['schema']['length'];_0x27c3aa++){const _0x2fae13=_0x17d693['schema'][_0x27c3aa];if(_0x2fae13['name']){if(_0x2fae13['array']){_0x2d1e80[_0x2fae13['name']]=[];const _0x591b1c=Array['isArray'](_0x8f4ce8[_0x2fae13['name']])?_0x8f4ce8[_0x2fae13['name']]:[];for(let _0x380bc8=-0xdaf*0x1+-0x346*-0x8+-0xc81;_0x380bc8<_0x591b1c['length'];_0x380bc8++)_0x2d1e80[_0x2fae13['name']]['push'](Yn(_0x33b81a,_0x2fae13,_0x591b1c[_0x380bc8]));}else{const _0x5730c2=_0x8f4ce8['hasOwnProp'+'erty'](_0x2fae13['name'])?_0x8f4ce8[_0x2fae13['name']]:_0x2fae13['default'];_0x2d1e80[_0x2fae13['name']]=Yn(_0x33b81a,_0x2fae13,_0x5730c2);}}}}return _0x2d1e80;}case'asset':return _0x8f4ce8 instanceof pe?_0x8f4ce8:typeof _0x8f4ce8=='number'?_0x33b81a['assets']['get'](_0x8f4ce8)||null:typeof _0x8f4ce8=='string'&&_0x33b81a['assets']['get'](parseInt(_0x8f4ce8,-0x25+0x1cdf*-0x1+0xe87*0x2))||null;case'entity':return _0x8f4ce8 instanceof Ie?_0x8f4ce8:typeof _0x8f4ce8=='string'?_0x33b81a['getEntityF'+'romIndex'](_0x8f4ce8):null;case'rgb':case'rgba':if(_0x8f4ce8 instanceof ie)return _0x5a6010 instanceof ie?(_0x5a6010['copy'](_0x8f4ce8),_0x5a6010):_0x8f4ce8['clone']();if(_0x8f4ce8 instanceof Array&&_0x8f4ce8['length']>=-0x1719+-0x1*-0x17f9+-0xd*0x11&&_0x8f4ce8['length']<=0x2617+0xd*-0x301+0xfa){for(let _0x1ea87f=0x8b1+-0x306*0x9+0x1*0x1285;_0x1ea87f<_0x8f4ce8['length'];_0x1ea87f++)if(typeof _0x8f4ce8[_0x1ea87f]!='number')return null;return _0x5a6010||(_0x5a6010=new ie()),_0x5a6010['r']=_0x8f4ce8[0x1a48+-0x240b*0x1+-0x1*-0x9c3],_0x5a6010['g']=_0x8f4ce8[0x1*-0xf3d+-0x25f*0xf+0x1*0x32cf],_0x5a6010['b']=_0x8f4ce8[-0xf71+-0x26eb+0x365e],_0x5a6010['a']=_0x8f4ce8['length']===0x152a+0x2011*0x1+-0x3538?0x110f+0x1bd8+0x2ce6*-0x1:_0x8f4ce8[0x181d+-0x1d73+0x1*0x559],_0x5a6010;}else{if(typeof _0x8f4ce8=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x8f4ce8))return _0x5a6010||(_0x5a6010=new ie()),_0x5a6010['fromString'](_0x8f4ce8),_0x5a6010;}return null;case'vec2':case'vec3':case'vec4':{const _0x1eda1a=parseInt(_0x17d693['type']['slice'](0x5e*-0x31+0x676*-0x1+0x1877),-0x9*-0x41e+0x23ef+-0x48f3),_0x524fdc=bF[_0x1eda1a];if(_0x8f4ce8 instanceof _0x524fdc)return _0x5a6010 instanceof _0x524fdc?(_0x5a6010['copy'](_0x8f4ce8),_0x5a6010):_0x8f4ce8['clone']();if(_0x8f4ce8 instanceof Array&&_0x8f4ce8['length']===_0x1eda1a){for(let _0x52dbc7=-0x2530+-0x146+0x2676;_0x52dbc7<_0x8f4ce8['length'];_0x52dbc7++)if(typeof _0x8f4ce8[_0x52dbc7]!='number')return null;_0x5a6010||(_0x5a6010=new _0x524fdc());for(let _0x558d1d=-0x2161+-0x67f*0x3+0x34de;_0x558d1d<_0x1eda1a;_0x558d1d++)_0x5a6010[EF[_0x558d1d]]=_0x8f4ce8[_0x558d1d];return _0x5a6010;}return null;}case'curve':if(_0x8f4ce8){let _0x1e661f;if(_0x8f4ce8 instanceof qs||_0x8f4ce8 instanceof na)_0x1e661f=_0x8f4ce8['clone']();else{const _0x5d3f53=_0x8f4ce8['keys'][-0x9ea+-0x1f4f+0x2939]instanceof Array?na:qs;_0x1e661f=new _0x5d3f53(_0x8f4ce8['keys']),_0x1e661f['type']=_0x8f4ce8['type'];}return _0x1e661f;}break;}return _0x8f4ce8;}function _0(_0x4486a8,_0xe24d0c,_0x389314,_0x4eb40e){return _0xe24d0c['array']?_0x389314['map']((_0x46911a,_0x5b8bc9)=>Yn(_0x4486a8,_0xe24d0c,_0x46911a,_0x4eb40e?_0x4eb40e[_0x5b8bc9]:null)):Yn(_0x4486a8,_0xe24d0c,_0x389314,_0x4eb40e);}function g0(_0x1b29ef,_0x55422b,_0x24ca11,_0x3a5c5b){if(_0x24ca11)for(const _0xd5deb1 in _0x55422b){const _0x2af97b=_0x55422b[_0xd5deb1],_0x1ae983=_0x24ca11[_0xd5deb1];_0x1ae983!==void(0x2202*0x1+0x4c7+-0x26c9*0x1)&&(_0x3a5c5b[_0xd5deb1]=_0(_0x1b29ef,_0x2af97b,_0x1ae983,_0x3a5c5b[_0xd5deb1]));}}const yn=class yn{constructor(_0x5e8189){this['scriptType']=_0x5e8189,this['index']={};}['add'](_0x3627c3,_0xcec9e8){if(this['index'][_0x3627c3]){w['warn']('attribute\x20'+'\x27'+_0x3627c3+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x3627c3)){w['warn']('attribute\x20'+'\x27'+_0x3627c3+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x3627c3]=_0xcec9e8,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x3627c3,{'get':function(){return this['__attribut'+'es'][_0x3627c3];},'set':function(_0x25f229){const _0x11c116='attr',_0x5d1b7f='attr:'+_0x3627c3,_0x26419a=this['__attribut'+'es'][_0x3627c3];let _0x233eb1=_0x26419a;if(_0x26419a&&_0xcec9e8['type']!=='json'&&_0xcec9e8['type']!=='entity'&&_0x26419a['clone']&&(this['hasEvent'](_0x11c116)||this['hasEvent'](_0x5d1b7f))&&(_0x233eb1=_0x26419a['clone']()),_0xcec9e8['array']){if(this['__attribut'+'es'][_0x3627c3]=[],_0x25f229){for(let _0x2804cd=0x972+0x20d7+-0x5*0x875,_0x6b1c37=_0x25f229['length'];_0x2804cd<_0x6b1c37;_0x2804cd++)this['__attribut'+'es'][_0x3627c3]['push'](Yn(this['app'],_0xcec9e8,_0x25f229[_0x2804cd],_0x26419a?_0x26419a[_0x2804cd]:null));}}else this['__attribut'+'es'][_0x3627c3]=Yn(this['app'],_0xcec9e8,_0x25f229,_0x26419a);this['fire'](_0x11c116,_0x3627c3,this['__attribut'+'es'][_0x3627c3],_0x233eb1),this['fire'](_0x5d1b7f,this['__attribut'+'es'][_0x3627c3],_0x233eb1);}});}['remove'](_0x3e591e){return this['index'][_0x3e591e]?(delete this['index'][_0x3e591e],delete this['scriptType']['prototype'][_0x3e591e],!(-0x2d6+-0x11*0x20b+0x2591)):!(0x15c6+0x24c+-0x1811);}['has'](_0x250963){return!!this['index'][_0x250963];}['get'](_0x414583){return this['index'][_0x414583]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x40f1fc){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x40f1fc);}set['enabled'](_0x1d39f1){this['_enabled']=!!_0x1d39f1,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x95e*-0x3+0x71*-0x1b+0x2805),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x106e+0x3e*0x26+0xcd1*-0x2),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x5cd451){const _0x3c3eee=this['constructo'+'r'];w['assert'](_0x5cd451&&_0x5cd451['app']&&_0x5cd451['entity'],'script\x20['+_0x3c3eee['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x5cd451['app'],this['entity']=_0x5cd451['entity'],this['_enabled']=typeof _0x5cd451['enabled']=='boolean'?_0x5cd451['enabled']:!(-0xcf*0x1b+0x4f9*0x3+0x2*0x375),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0xab3+0xd2e*0x1+-0xbf0*0x2),this['__scriptTy'+'pe']=_0x3c3eee,this['__executio'+'nOrder']=-(0xdb9+0x105b+0x1*-0x1e13);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x121771){if(typeof _0x121771!='function')return;if(_0x121771['scriptName'])return _0x121771['scriptName'];if('name'in Function['prototype'])return _0x121771['name'];if(_0x121771===Function||_0x121771===Function['prototype']['constructo'+'r'])return'Function';const _0x25ddc2=(''+_0x121771)['match'](MF);return _0x25ddc2?_0x25ddc2[-0x81d+0x303*-0x1+0xb21]:void(0x5d*-0x17+0x2e5+0x576*0x1);}class Wo extends ts{constructor(_0x1077f9){super(_0x1077f9),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x1077f9);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x31cf71){ts['prototype']['initScript']['call'](this,_0x31cf71),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x31cf71['attributes']||{};}['initScript'+'Type'](_0x16cb44){this['initScript'](_0x16cb44);}['__initiali'+'zeAttribut'+'es'](_0xe24d48){if(!(!_0xe24d48&&!this['__attribut'+'esRaw'])){for(const _0x48b4ca in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x48b4ca)?this[_0x48b4ca]=this['__attribut'+'esRaw'][_0x48b4ca]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x48b4ca)||(this['__scriptTy'+'pe']['attributes']['index'][_0x48b4ca]['hasOwnProp'+'erty']('default')?this[_0x48b4ca]=this['__scriptTy'+'pe']['attributes']['index'][_0x48b4ca]['default']:this[_0x48b4ca]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x3ae083){for(const _0x50d3c0 in _0x3ae083)_0x3ae083['hasOwnProp'+'erty'](_0x50d3c0)&&(this['prototype'][_0x50d3c0]=_0x3ae083[_0x50d3c0]);}}const DF=_0x1baff0=>_0x1baff0[-0x1924+-0x9df*0x1+0x2303]['toLowerCas'+'e']()+_0x1baff0['substring'](0x89*-0x3+0x1e1+-0x45);class Ii extends we{constructor(_0x8105e3,_0xeacb35){super(_0x8105e3,_0xeacb35),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x912+0x21e9*0x1+-0x157d*0x2),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x2*-0xb11+-0x1*-0x11c3+0x45f),this['_enabled']=!(0x17a5+0x7*-0x6d+-0x14aa),this['_beingEnab'+'led']=!(0x198b+0x936+-0x22c0),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x313*-0x7+0x137e*-0x2+0x1178),this['_execution'+'Order']=-(-0x81e*0x3+-0x1e61+-0x1c4*-0x1f),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x51803a){this['_scriptsDa'+'ta']=_0x51803a;for(const _0x575fd4 in _0x51803a){if(!_0x51803a['hasOwnProp'+'erty'](_0x575fd4))continue;const _0x5d8d92=this['_scriptsIn'+'dex'][_0x575fd4];if(_0x5d8d92){if(typeof _0x51803a[_0x575fd4]['enabled']=='boolean'&&(_0x5d8d92['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x5d8d92);}),_0x5d8d92['enabled']=!!_0x51803a[_0x575fd4]['enabled']),typeof _0x51803a[_0x575fd4]['attributes']=='object'){for(const _0x926a92 in _0x51803a[_0x575fd4]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x926a92)){if(!_0x5d8d92['__attribut'+'es']['hasOwnProp'+'erty'](_0x926a92)){const _0x3d86d2=this['system']['app']['scripts']['get'](_0x575fd4);_0x3d86d2&&_0x3d86d2['attributes']['add'](_0x926a92,{});}_0x5d8d92[_0x926a92]=_0x51803a[_0x575fd4]['attributes'][_0x926a92];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x33eb18){const _0x1c194f=this['_enabled'];this['_enabled']=_0x33eb18,this['fire']('set','enabled',_0x1c194f,_0x33eb18);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x2072*0x1+-0x31*-0xbc+-0x1c5*0x2),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x2041+-0x191c+-0x724);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x40ca50=this['_beginLoop'+'ing']();for(let _0x2e96c3=-0x5*-0x26e+0xc35+-0x1*0x185b,_0x2a9ad7=this['scripts']['length'];_0x2e96c3<_0x2a9ad7;_0x2e96c3++){const _0x48166e=this['scripts'][_0x2e96c3];_0x48166e['_initializ'+'ed']&&!_0x48166e['_postIniti'+'alized']&&_0x48166e['enabled']&&(_0x48166e['_postIniti'+'alized']=!(0x971+-0x2593*-0x1+-0xfac*0x3),_0x48166e['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x48166e,zu));}this['_endLoopin'+'g'](_0x40ca50);}['_beginLoop'+'ing'](){const _0x4a6316=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1fd0+0x31*0x77+0x909*0x1),_0x4a6316;}['_endLoopin'+'g'](_0x549256){this['_isLooping'+'ThroughScr'+'ipts']=_0x549256,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x5bdb77,_0x2b557c,_0x307294){this['_beingEnab'+'led']=!(-0x2df+-0x26c4+0x29a3),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x7c5+-0x153b+0x47d*0x3);}['_checkStat'+'e'](){const _0x29e8aa=this['enabled']&&this['entity']['enabled'];if(_0x29e8aa===this['_oldState'])return;this['_oldState']=_0x29e8aa,this['fire'](_0x29e8aa?'enable':'disable'),this['fire']('state',_0x29e8aa),_0x29e8aa?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x84f76=this['_beginLoop'+'ing']();for(let _0x518911=0x35f*0x4+-0x1418+0x9*0xbc,_0x2a220e=this['scripts']['length'];_0x518911<_0x2a220e;_0x518911++){const _0x355a98=this['scripts'][_0x518911];_0x355a98['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x355a98);}),_0x355a98['enabled']=_0x355a98['_enabled'];}this['_endLoopin'+'g'](_0x84f76);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x4899ee=this['_beginLoop'+'ing']();for(let _0x3d0087=-0x17a+0x843+-0x6c9;_0x3d0087<this['scripts']['length'];_0x3d0087++){const _0x4b0816=this['scripts'][_0x3d0087];_0x4b0816&&this['destroy'](_0x4b0816['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x4899ee);}['_removeDes'+'troyedScri'+'pts'](){const _0x457ff2=this['_destroyed'+'Scripts']['length'];if(_0x457ff2){for(let _0x3585cf=0xad1+-0x169e+0xbcd;_0x3585cf<_0x457ff2;_0x3585cf++){const _0x279f9d=this['_destroyed'+'Scripts'][_0x3585cf];this['_removeScr'+'iptInstanc'+'e'](_0x279f9d);}this['_destroyed'+'Scripts']['length']=0x2421+0x69c*-0x3+0xd*-0x141,this['_resetExec'+'utionOrder'](0x1f5a+0x4d5*-0x7+-0x3*-0xd3,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x24e622=0x617+-0x101*-0x16+-0x1c2d,_0x18b6dc=this['scripts']['length'];_0x24e622<_0x18b6dc;_0x24e622++){const _0x13ed82=this['scripts'][_0x24e622];this['initialize'+'Attributes'](_0x13ed82);}}['initialize'+'Attributes'](_0x203605){var _0x20e515;if(_0x203605 instanceof Wo)_0x203605['__initiali'+'zeAttribut'+'es']();else{const _0x3b2d0c=_0x203605['__scriptTy'+'pe']['__name'],_0x450af7=this['_attribute'+'DataMap']['get'](_0x3b2d0c);if(!_0x450af7)return;const _0x12acff=(_0x20e515=this['system']['app']['scripts'])==null?void(0x1c4f+0x14e*0x11+0x497*-0xb):_0x20e515['getSchema'](_0x3b2d0c);_0x12acff||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3b2d0c+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x12acff['attributes'],_0x450af7,_0x203605);}}['_scriptMet'+'hod'](_0x12056a,_0x406f66,_0x4d3fce){try{_0x12056a[_0x406f66](_0x4d3fce);}catch(_0x2c9595){_0x12056a['enabled']=!(0x3e*-0x13+0xe7d*0x2+-0x185f),_0x12056a['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x406f66+'\x22\x20for\x20\x22'+_0x12056a['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x2c9595),console['error'](_0x2c9595)),_0x12056a['fire']('error',_0x2c9595,_0x406f66),this['fire']('error',_0x12056a,_0x2c9595,_0x406f66);}}['_onInitial'+'ize'](){const _0x3301df=this['_scripts'],_0x3edb1c=this['_beginLoop'+'ing']();for(let _0x112e74=-0x12fd+0x4*0x4a4+-0x1*-0x6d,_0x480fb0=_0x3301df['length'];_0x112e74<_0x480fb0;_0x112e74++){const _0x4ea877=_0x3301df[_0x112e74];!_0x4ea877['_initializ'+'ed']&&_0x4ea877['enabled']&&(_0x4ea877['_initializ'+'ed']=!(0x1*0x1e06+0x963+-0x3*0xd23),_0x4ea877['initialize']&&this['_scriptMet'+'hod'](_0x4ea877,Bu));}this['_endLoopin'+'g'](_0x3edb1c);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1c9fd7){const _0x240c1a=this['_updateLis'+'t'];if(!_0x240c1a['length'])return;const _0x45b820=this['_beginLoop'+'ing']();for(_0x240c1a['loopIndex']=-0x125+0x2218+-0x20f3;_0x240c1a['loopIndex']<_0x240c1a['length'];_0x240c1a['loopIndex']++){const _0x3d718c=_0x240c1a['items'][_0x240c1a['loopIndex']];_0x3d718c['enabled']&&this['_scriptMet'+'hod'](_0x3d718c,AF,_0x1c9fd7);}this['_endLoopin'+'g'](_0x45b820);}['_onPostUpd'+'ate'](_0x1d686e){const _0x470260=this['_postUpdat'+'eList'];if(!_0x470260['length'])return;const _0x1dffc2=this['_beginLoop'+'ing']();for(_0x470260['loopIndex']=0x2*0xab7+0xdf2+-0x2360;_0x470260['loopIndex']<_0x470260['length'];_0x470260['loopIndex']++){const _0x457963=_0x470260['items'][_0x470260['loopIndex']];_0x457963['enabled']&&this['_scriptMet'+'hod'](_0x457963,CF,_0x1d686e);}this['_endLoopin'+'g'](_0x1dffc2);}['_insertScr'+'iptInstanc'+'e'](_0x13c670,_0xb5b7a3,_0x45f260){_0xb5b7a3===-(0x3d0+-0x74*0x7+-0xa3)?(this['_scripts']['push'](_0x13c670),_0x13c670['__executio'+'nOrder']=_0x45f260,_0x13c670['update']&&this['_updateLis'+'t']['append'](_0x13c670),_0x13c670['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x13c670)):(this['_scripts']['splice'](_0xb5b7a3,-0x14d*-0x1+-0x5d3*-0x4+0x1*-0x1899,_0x13c670),_0x13c670['__executio'+'nOrder']=_0xb5b7a3,this['_resetExec'+'utionOrder'](_0xb5b7a3+(-0x4*-0x925+0xed5+-0x3368),_0x45f260+(-0x1*-0x2685+0x1*0x2659+-0x4cdd)),_0x13c670['update']&&this['_updateLis'+'t']['insert'](_0x13c670),_0x13c670['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x13c670));}['_removeScr'+'iptInstanc'+'e'](_0x377962){const _0x3145cb=this['_scripts']['indexOf'](_0x377962);return _0x3145cb===-(-0x1*-0x17ea+0x2a*0x56+-0x2605)||(this['_scripts']['splice'](_0x3145cb,-0x25*0xe5+0x1103+0x1017),_0x377962['update']&&this['_updateLis'+'t']['remove'](_0x377962),_0x377962['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x377962)),_0x3145cb;}['_resetExec'+'utionOrder'](_0x4d234f,_0x10fe63){for(let _0x3e2e5d=_0x4d234f;_0x3e2e5d<_0x10fe63;_0x3e2e5d++)this['_scripts'][_0x3e2e5d]['__executio'+'nOrder']=_0x3e2e5d;}['_resolveEn'+'tityScript'+'Attribute'](_0x280e41,_0x3fed4c,_0x1cf13a,_0x321799,_0x138d57,_0x9c29f7){if(_0x280e41['array']){const _0x540262=_0x1cf13a['length'];if(!_0x540262)return;const _0x136704=_0x1cf13a['slice']();for(let _0x1b1fe3=0xb44+0x267a+0x18df*-0x2;_0x1b1fe3<_0x540262;_0x1b1fe3++){const _0x5b3585=_0x136704[_0x1b1fe3]instanceof lt?_0x136704[_0x1b1fe3]['getGuid']():_0x136704[_0x1b1fe3];_0x9c29f7[_0x5b3585]&&(_0x136704[_0x1b1fe3]=_0x321799?_0x9c29f7[_0x5b3585]['getGuid']():_0x9c29f7[_0x5b3585]);}_0x138d57[_0x3fed4c]=_0x136704;}else{if(_0x1cf13a instanceof lt)_0x1cf13a=_0x1cf13a['getGuid']();else{if(typeof _0x1cf13a!='string')return;}_0x9c29f7[_0x1cf13a]&&(_0x138d57[_0x3fed4c]=_0x9c29f7[_0x1cf13a]);}}['has'](_0x5520d8){if(typeof _0x5520d8=='string')return!!this['_scriptsIn'+'dex'][_0x5520d8];if(!_0x5520d8)return!(-0xd*-0x16d+-0x5f*-0x2b+-0xb7f*0x3);const _0x5e13ae=_0x5520d8,_0x43c5fa=_0x5e13ae['__name'],_0x4b8108=this['_scriptsIn'+'dex'][_0x43c5fa];return(_0x4b8108&&_0x4b8108['instance'])instanceof _0x5e13ae;}['get'](_0x11ac27){if(typeof _0x11ac27=='string'){const _0x473ae5=this['_scriptsIn'+'dex'][_0x11ac27];return _0x473ae5?_0x473ae5['instance']:null;}if(!_0x11ac27)return null;const _0x25d0ba=_0x11ac27,_0x322eee=_0x25d0ba['__name'],_0x1a9d88=this['_scriptsIn'+'dex'][_0x322eee],_0x47efc6=_0x1a9d88&&_0x1a9d88['instance'];return _0x47efc6 instanceof _0x25d0ba?_0x47efc6:null;}['create'](_0x55e00d,_0x8ef2c6={}){const _0x52db94=this;let _0x3e1bdd=_0x55e00d,_0x7408fe=_0x55e00d;if(typeof _0x3e1bdd=='string')_0x3e1bdd=this['system']['app']['scripts']['get'](_0x3e1bdd);else{if(_0x3e1bdd){const _0x3a8a47=S0(_0x3e1bdd),_0x18f700=DF(_0x3a8a47);!(_0x3e1bdd['prototype']instanceof Wo)&&!_0x3e1bdd['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x3a8a47+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x3a8a47+('.scriptNam'+'e\x20=\x20\x22')+_0x18f700+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x3e1bdd['__name']??(_0x3e1bdd['__name']=_0x3e1bdd['scriptName']??_0x18f700),_0x7408fe=_0x3e1bdd['__name'];}}if(_0x3e1bdd){if(!this['_scriptsIn'+'dex'][_0x7408fe]||!this['_scriptsIn'+'dex'][_0x7408fe]['instance']){const _0x51b5a7=new _0x3e1bdd({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x8ef2c6['hasOwnProp'+'erty']('enabled')?_0x8ef2c6['enabled']:!(-0x33b+0x1c18+0x18dd*-0x1),'attributes':_0x8ef2c6['attributes']||{}});_0x8ef2c6['properties']&&typeof _0x8ef2c6['properties']=='object'&&Object['assign'](_0x51b5a7,_0x8ef2c6['properties']),_0x51b5a7 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x7408fe,_0x8ef2c6['attributes']);const _0x31a9f4=this['_scripts']['length'];let _0x711ed4=-(0xa3*0x23+-0x2*0x33d+-0xfce);return typeof _0x8ef2c6['ind']=='number'&&_0x8ef2c6['ind']!==-(0x23cb+-0x88f+-0x1b3b)&&_0x31a9f4>_0x8ef2c6['ind']&&(_0x711ed4=_0x8ef2c6['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x51b5a7,_0x711ed4,_0x31a9f4),this['_scriptsIn'+'dex'][_0x7408fe]={'instance':_0x51b5a7,'onSwap':function(){_0x52db94['swap'](_0x7408fe);}},this[_0x7408fe]=_0x51b5a7,_0x8ef2c6['preloading']||this['initialize'+'Attributes'](_0x51b5a7),this['fire']('create',_0x7408fe,_0x51b5a7),this['fire']('create:'+_0x7408fe,_0x51b5a7),this['system']['app']['scripts']['on']('swap:'+_0x7408fe,this['_scriptsIn'+'dex'][_0x7408fe]['onSwap']),_0x8ef2c6['preloading']||(_0x51b5a7['enabled']&&!_0x51b5a7['_initializ'+'ed']&&(_0x51b5a7['_initializ'+'ed']=!(0x3*-0xd03+0x29f*0x1+0x246a),_0x51b5a7['initialize']&&this['_scriptMet'+'hod'](_0x51b5a7,Bu)),_0x51b5a7['enabled']&&!_0x51b5a7['_postIniti'+'alized']&&(_0x51b5a7['_postIniti'+'alized']=!(-0x26e5+0x14b+0x259a),_0x51b5a7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x51b5a7,zu))),_0x51b5a7;}w['warn']('script\x20\x27'+_0x7408fe+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x7408fe]={'awaiting':!(0x25e5+0x1173+0x1bac*-0x2),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x7408fe+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x440e33){let _0x5fe5dc=_0x440e33,_0x5471db=_0x440e33;typeof _0x5471db=='string'?_0x5471db=this['system']['app']['scripts']['get'](_0x5471db):_0x5471db&&(_0x5fe5dc=_0x5471db['__name']);const _0x2d1216=this['_scriptsIn'+'dex'][_0x5fe5dc];if(delete this['_scriptsIn'+'dex'][_0x5fe5dc],!_0x2d1216)return!(0xa0e+-0x5*-0x72d+0x16f7*-0x2);this['_attribute'+'DataMap']['delete'](_0x5fe5dc);const _0x3deb6f=_0x2d1216['instance'];if(_0x3deb6f&&!_0x3deb6f['_destroyed']){if(_0x3deb6f['enabled']=!(-0x14b6+-0x15*-0xb1+0x2*0x319),_0x3deb6f['_destroyed']=!(-0x119d+-0x8eb+0x1a88),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x3deb6f);else{const _0x505a3d=this['_removeScr'+'iptInstanc'+'e'](_0x3deb6f);_0x505a3d>=-0x24f7*-0x1+0x10*0x17f+-0x3ce7*0x1&&this['_resetExec'+'utionOrder'](_0x505a3d,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x5fe5dc,_0x2d1216['onSwap']),delete this[_0x5fe5dc],this['fire']('destroy',_0x5fe5dc,_0x3deb6f||null),this['fire']('destroy:'+_0x5fe5dc,_0x3deb6f||null),_0x3deb6f&&_0x3deb6f['fire']('destroy'),!(0x5*0x2e6+-0x1405+-0x1*-0x587);}['swap'](_0x371ba2){let _0x36b11d=_0x371ba2,_0x536388=_0x371ba2;typeof _0x536388=='string'?_0x536388=this['system']['app']['scripts']['get'](_0x536388):_0x536388&&(_0x36b11d=_0x536388['__name']);const _0x2b8d3d=this['_scriptsIn'+'dex'][_0x36b11d];if(!_0x2b8d3d||!_0x2b8d3d['instance'])return!(0x5*0x5+0x2*0xbc+-0x190);const _0x11421a=_0x2b8d3d['instance'],_0x5785cf=this['_scripts']['indexOf'](_0x11421a),_0x2e25c1=new _0x536388({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x11421a['enabled'],'attributes':_0x11421a['__attribut'+'es']});return _0x2e25c1['swap']?(this['initialize'+'Attributes'](_0x2e25c1),this['_scripts'][_0x5785cf]=_0x2e25c1,this['_scriptsIn'+'dex'][_0x36b11d]['instance']=_0x2e25c1,this[_0x36b11d]=_0x2e25c1,_0x2e25c1['__executio'+'nOrder']=_0x5785cf,_0x11421a['update']&&this['_updateLis'+'t']['remove'](_0x11421a),_0x11421a['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x11421a),_0x2e25c1['update']&&this['_updateLis'+'t']['insert'](_0x2e25c1),_0x2e25c1['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2e25c1),this['_scriptMet'+'hod'](_0x2e25c1,PF,_0x11421a),this['fire']('swap',_0x36b11d,_0x2e25c1),this['fire']('swap:'+_0x36b11d,_0x2e25c1),!(0xf8c+-0xb93+0x153*-0x3)):!(-0x287+-0x322*-0xb+-0x1fee);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x176614,_0x3b1953){var _0x3530e2,_0x23fd83,_0x5d9816;const _0x15f6d8=this['entity']['script'];for(const _0x17c3ac in _0x176614['_scriptsIn'+'dex']){const _0x45a5be=this['system']['app']['scripts']['get'](_0x17c3ac);if(!_0x45a5be)continue;const _0x771eac=_0x176614['_scriptsIn'+'dex'][_0x17c3ac];if(!_0x771eac||!_0x771eac['instance'])continue;const _0x44cf9d=_0x15f6d8[_0x17c3ac]['__attribut'+'esRaw']??_0x15f6d8['_attribute'+'DataMap']['get'](_0x17c3ac),_0x28704b=_0x15f6d8[_0x17c3ac]['__attribut'+'es'];if(!_0x44cf9d&&!_0x28704b)continue;const _0xecd49c=!!_0x44cf9d,_0x1033bb=_0x771eac['instance']['__attribut'+'es']??_0x15f6d8['_attribute'+'DataMap']['get'](_0x17c3ac);for(const _0x11be84 in _0x1033bb){if(!_0x1033bb[_0x11be84])continue;const _0x123e3b=((_0x3530e2=_0x45a5be['attributes'])==null?void(0x1*0x12bb+-0xacc+-0x7ef):_0x3530e2['get'](_0x11be84))??((_0x5d9816=(_0x23fd83=this['system']['app']['scripts']['getSchema'](_0x17c3ac))==null?void(0x1*0x1e74+0x18f9*-0x1+-0x57b):_0x23fd83['attributes'])==null?void(0x155a+0x6*-0x67e+0x2*0x8cd):_0x5d9816[_0x11be84]);if(_0x123e3b){if(_0x123e3b['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x123e3b,_0x11be84,_0x1033bb[_0x11be84],_0xecd49c,_0x44cf9d||_0x28704b,_0x3b1953);else{if(_0x123e3b['type']==='json'&&Array['isArray'](_0x123e3b['schema'])){const _0x5c6736=_0x1033bb[_0x11be84],_0x1ca914=_0x44cf9d?_0x44cf9d[_0x11be84]:_0x28704b[_0x11be84];for(let _0x1f5317=-0x19*-0xc2+0x1*-0x1174+-0x17e;_0x1f5317<_0x123e3b['schema']['length'];_0x1f5317++){const _0x50689b=_0x123e3b['schema'][_0x1f5317];if(_0x50689b['type']==='entity'){if(_0x123e3b['array']){for(let _0x902a05=0x1*0x949+-0x13b4+-0x7*-0x17d;_0x902a05<_0x5c6736['length'];_0x902a05++)this['_resolveEn'+'tityScript'+'Attribute'](_0x50689b,_0x50689b['name'],_0x5c6736[_0x902a05][_0x50689b['name']],_0xecd49c,_0x1ca914[_0x902a05],_0x3b1953);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x50689b,_0x50689b['name'],_0x5c6736[_0x50689b['name']],_0xecd49c,_0x1ca914,_0x3b1953);}}}}}}}}['move'](_0xca8d66,_0x2b93f0){const _0x18a062=this['_scripts']['length'];if(_0x2b93f0>=_0x18a062||_0x2b93f0<-0x1f8a+0xac0+0x3*0x6ee)return!(0x26ce+-0x2196*-0x1+-0x4863);let _0xb7d368=_0xca8d66,_0x1ef31d=_0xca8d66;typeof _0x1ef31d!='string'?_0x1ef31d=_0xca8d66['__name']:_0xb7d368=null;const _0x97f3d9=this['_scriptsIn'+'dex'][_0x1ef31d];if(!_0x97f3d9||!_0x97f3d9['instance'])return!(0x1f3*0xd+-0x3*0xf8+-0x2*0xb37);const _0x440759=_0x97f3d9['instance'];if(_0xb7d368&&!(_0x440759 instanceof _0xb7d368))return!(-0x154b+0x1*-0x973+-0x1ebf*-0x1);const _0x3956de=this['_scripts']['indexOf'](_0x440759);return _0x3956de===-(0x1df9+-0x1*0x218e+-0x2*-0x1cb)||_0x3956de===_0x2b93f0?!(0x2fe*-0x1+0x873+-0x574):(this['_scripts']['splice'](_0x2b93f0,0x1*-0x431+-0xc62+0x1093*0x1,this['_scripts']['splice'](_0x3956de,-0xdcc+0xe39+-0x6c)[0x78b*0x1+0x2187+-0x2912]),this['_resetExec'+'utionOrder'](0x10ee+-0x495*0x1+-0xc59,_0x18a062),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x1ef31d,_0x440759,_0x2b93f0,_0x3956de),this['fire']('move:'+_0x1ef31d,_0x440759,_0x2b93f0,_0x3956de),!(-0x11db+0xc2*0x1e+0x4e1*-0x1));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0xc2*0x2b+0x85d*0x2+0xfdc);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x184c+-0x1*-0xb92+-0x16a*-0x9;class kF extends ct{constructor(_0x319558){super(_0x319558),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x32*-0x2+0x3d0*0x4+-0xfa4),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1626bb,_0x5151a7){if(_0x1626bb['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x1626bb),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x1626bb['enabled']=_0x5151a7['hasOwnProp'+'erty']('enabled')?!!_0x5151a7['enabled']:!(0xa*-0x143+-0x137f+0x201d),_0x1626bb['enabled']&&_0x1626bb['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x1626bb),_0x5151a7['hasOwnProp'+'erty']('order')&&_0x5151a7['hasOwnProp'+'erty']('scripts')){_0x1626bb['_scriptsDa'+'ta']=_0x5151a7['scripts'];for(let _0x450b9e=-0x1e8e+0xa29+-0x1465*-0x1;_0x450b9e<_0x5151a7['order']['length'];_0x450b9e++)_0x1626bb['create'](_0x5151a7['order'][_0x450b9e],{'enabled':_0x5151a7['scripts'][_0x5151a7['order'][_0x450b9e]]['enabled'],'attributes':_0x5151a7['scripts'][_0x5151a7['order'][_0x450b9e]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x439f79,_0x1cfa39){var _0x1f4d36;const _0x4a295f=[],_0x3a0b25={};for(let _0x344c88=0x44+-0x870+0x416*0x2;_0x344c88<_0x439f79['script']['_scripts']['length'];_0x344c88++){const _0x172478=_0x439f79['script']['_scripts'][_0x344c88],_0x427e37=_0x172478['__scriptTy'+'pe']['__name'];_0x4a295f['push'](_0x427e37);const _0xb8f509=((_0x1f4d36=_0x439f79['script']['_attribute'+'DataMap'])==null?void(0x2235+0x179f+-0x39d4):_0x1f4d36['get'](_0x427e37))||{};for(const _0x551d68 in _0x172478['__attribut'+'es'])_0xb8f509[_0x551d68]=_0x172478['__attribut'+'es'][_0x551d68];_0x3a0b25[_0x427e37]={'enabled':_0x172478['_enabled'],'attributes':_0xb8f509};}for(const _0x2eb4e6 in _0x439f79['script']['_scriptsIn'+'dex'])_0x2eb4e6['awaiting']&&_0x4a295f['splice'](_0x2eb4e6['ind'],-0x1666+0x2*-0x89+0x1778,_0x2eb4e6);const _0x1ba582={'enabled':_0x439f79['script']['enabled'],'order':_0x4a295f,'scripts':_0x3a0b25};return this['addCompone'+'nt'](_0x1cfa39,_0x1ba582);}['_resetExec'+'utionOrder'](){Mc=0x16d7+0x789+0x12*-0x1b0;for(let _0x33df7d=-0x1477+-0x1*0x2653+0x3aca,_0x4d963c=this['_component'+'s']['length'];_0x33df7d<_0x4d963c;_0x33df7d++)this['_component'+'s']['items'][_0x33df7d]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0xcaaff5,_0x13fb7b,_0x1e7ee9){for(_0xcaaff5['loopIndex']=0x9f8+-0x1136+-0x26a*-0x3;_0xcaaff5['loopIndex']<_0xcaaff5['length'];_0xcaaff5['loopIndex']++)_0xcaaff5['items'][_0xcaaff5['loopIndex']][_0x13fb7b](_0x1e7ee9);}['_onInitial'+'ize'](){this['preloading']=!(0x14c2+0x2550+-0x3a11),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x2d2780){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x2d2780);}['_onPostUpd'+'ate'](_0x22ea35){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x22ea35);}['_addCompon'+'entToEnabl'+'ed'](_0x6da749){this['_enabledCo'+'mponents']['insert'](_0x6da749);}['_removeCom'+'ponentFrom'+'Enabled'](_0x44ffc6){this['_enabledCo'+'mponents']['remove'](_0x44ffc6);}['_onBeforeR'+'emove'](_0xb8e413,_0x252199){this['_component'+'s']['items']['indexOf'](_0x252199)>=0xb*-0xb+0x1d*-0x23+0x470&&_0x252199['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x252199),this['_component'+'s']['remove'](_0x252199);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x21ce1f,_0x5bb8ad){super(_0x21ce1f,_0x5bb8ad),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x4e3+0x4f*0x4+0x1*0x3a7)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0xba*0x3+0x59f*0x4+-0x144d)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x21ce1f['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x5bb8ad['on']('remove',this['onRemoveCh'+'ild'],this),_0x5bb8ad['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x5bb8ad['on']('insert',this['onInsertCh'+'ild'],this),_0x5bb8ad['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x485729){var _0x6852f9,_0x84d76f;this['_customAab'+'b']=_0x485729,(_0x84d76f=(_0x6852f9=this['_instance'])==null?void(0x1ea4+0x22aa+-0x20a7*0x2):_0x6852f9['meshInstan'+'ce'])==null||_0x84d76f['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x45f4e9){if(this['destroyIns'+'tance'](),this['_instance']=_0x45f4e9,this['_instance']){const _0x5b258f=this['_instance']['meshInstan'+'ce'];_0x5b258f['node']||(_0x5b258f['node']=this['entity']),_0x5b258f['castShadow']=this['_castShado'+'ws'],_0x5b258f['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x4efa7b){this['_instance']?this['_instance']['material']=_0x4efa7b:this['_materialT'+'mp']=_0x4efa7b;}get['material'](){var _0x42f6eb;return((_0x42f6eb=this['_instance'])==null?void(0xba4+0x300+-0xea4):_0x42f6eb['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x2004b8){_0x2004b8!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x2004b8,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x2004b8));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x11d94f){var _0x348d6f;if(this['_castShado'+'ws']!==_0x11d94f){const _0x2f24a6=(_0x348d6f=this['instance'])==null?void(-0x3*-0x7a2+-0x1ac5+0x3df):_0x348d6f['meshInstan'+'ce'];if(_0x2f24a6){const _0x356895=this['layers'],_0x437df9=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x11d94f)for(let _0x4eb09c=0x1b71+0x1bec+-0x375d;_0x4eb09c<_0x356895['length'];_0x4eb09c++){const _0x487342=_0x437df9['layers']['getLayerBy'+'Id'](this['layers'][_0x4eb09c]);_0x487342&&_0x487342['removeShad'+'owCasters']([_0x2f24a6]);}if(_0x2f24a6['castShadow']=_0x11d94f,!this['_castShado'+'ws']&&_0x11d94f)for(let _0x144c85=0x7*0x2c3+-0x1*-0x202f+-0x3384;_0x144c85<_0x356895['length'];_0x144c85++){const _0x1de86c=_0x437df9['layers']['getLayerBy'+'Id'](_0x356895[_0x144c85]);_0x1de86c&&_0x1de86c['addShadowC'+'asters']([_0x2f24a6]);}}this['_castShado'+'ws']=_0x11d94f;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x34ec48){this['removeFrom'+'Layers'](),this['_layers']['length']=0x7*-0x97+0x2*-0x1036+-0x3*-0xc2f;for(let _0xa3cf47=-0x2b1+-0x61*0x41+-0x1a*-0x10d;_0xa3cf47<_0x34ec48['length'];_0xa3cf47++)this['_layers'][_0xa3cf47]=_0x34ec48[_0xa3cf47];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x2de1f4){const _0x334091=_0x2de1f4 instanceof pe?_0x2de1f4['id']:_0x2de1f4;this['_assetRefe'+'rence']['id']!==_0x334091&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x334091,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x1aac3f;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x1aac3f=this['_instance'])==null||_0x1aac3f['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x5c179a,_0x132d37;const _0x184fe6=(_0x5c179a=this['instance'])==null?void(-0x571*0x6+-0x18c1*-0x1+-0x2b*-0x2f):_0x5c179a['meshInstan'+'ce'];if(_0x184fe6){const _0x2761e3=this['system']['app']['scene']['layers'];for(let _0x382212=0xa*0x2a7+-0x11*0x23f+0x5*0x255;_0x382212<this['_layers']['length'];_0x382212++)(_0x132d37=_0x2761e3['getLayerBy'+'Id'](this['_layers'][_0x382212]))==null||_0x132d37['addMeshIns'+'tances']([_0x184fe6]);}}['removeFrom'+'Layers'](){var _0x2708bc,_0x3b6059;const _0x2a0c41=(_0x2708bc=this['instance'])==null?void(0x2a1*0x3+0x1d66+-0x73*0x53):_0x2708bc['meshInstan'+'ce'];if(_0x2a0c41){const _0x1fecc0=this['system']['app']['scene']['layers'];for(let _0x47fc1a=-0x4*-0x7a7+-0x1a2a+-0x472;_0x47fc1a<this['_layers']['length'];_0x47fc1a++)(_0x3b6059=_0x1fecc0['getLayerBy'+'Id'](this['_layers'][_0x47fc1a]))==null||_0x3b6059['removeMesh'+'Instances']([_0x2a0c41]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x790f8e,_0x1ef207){this['addToLayer'+'s'](),_0x790f8e['off']('add',this['onLayerAdd'+'ed'],this),_0x790f8e['off']('remove',this['onLayerRem'+'oved'],this),_0x1ef207['on']('add',this['onLayerAdd'+'ed'],this),_0x1ef207['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3ea0c4){this['layers']['indexOf'](_0x3ea0c4['id'])<-0x2f*0x89+-0x2*-0x27a+0x1433*0x1||this['_instance']&&_0x3ea0c4['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x28a3b2){this['layers']['indexOf'](_0x28a3b2['id'])<0xb66+0x1*0xe39+-0x199f||this['_instance']&&_0x28a3b2['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x5112df=this['system']['app']['scene'],_0x40026d=_0x5112df['layers'];this['_evtLayers'+'Changed']=_0x5112df['on']('set:layers',this['onLayersCh'+'anged'],this),_0x40026d&&(this['_evtLayerA'+'dded']=_0x40026d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x40026d['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x5d9a7e,_0x21842c,_0x5e8c3c;const _0x3ceb6b=this['system']['app']['scene']['layers'];(_0x5d9a7e=this['_evtLayers'+'Changed'])==null||_0x5d9a7e['off'](),this['_evtLayers'+'Changed']=null,_0x3ceb6b&&((_0x21842c=this['_evtLayerA'+'dded'])==null||_0x21842c['off'](),this['_evtLayerA'+'dded']=null,(_0x5e8c3c=this['_evtLayerR'+'emoved'])==null||_0x5e8c3c['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1f3d+-0x15*0x186+0xc2));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xae6+-0x1*-0x145+-0x9a1*-0x1));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x46babe=this['_assetRefe'+'rence']['asset'];_0x46babe&&(this['instance']=_0x46babe['resource']['createInst'+'ance'](_0x46babe['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(0x1cbd+0x9*0x182+-0x2a4f*0x1);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x3b6841){super(_0x3b6841),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x272006,_0x4a5d6c,_0x48a8de){_0x4a5d6c['layers']&&_0x4a5d6c['layers']['length']&&(_0x4a5d6c['layers']=_0x4a5d6c['layers']['slice'](0x7*-0x26b+-0xc74+0x9cb*0x3));for(let _0x45f112=-0x1314+-0x5*-0x2da+0x4d2;_0x45f112<To['length'];_0x45f112++)_0x4a5d6c['hasOwnProp'+'erty'](To[_0x45f112])&&(_0x272006[To[_0x45f112]]=_0x4a5d6c[To[_0x45f112]]);_0x4a5d6c['aabbCenter']&&_0x4a5d6c['aabbHalfEx'+'tents']&&(_0x272006['customAabb']=new De(new D(_0x4a5d6c['aabbCenter']),new D(_0x4a5d6c['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x272006,_0x4a5d6c,Vu);}['cloneCompo'+'nent'](_0x1463d3,_0x3d067f){const _0x424160=_0x1463d3['gsplat'],_0x577c05={};To['forEach'](_0x148dc8=>{_0x148dc8==='material'?_0x577c05[_0x148dc8]=_0x424160[_0x148dc8]['clone']():_0x577c05[_0x148dc8]=_0x424160[_0x148dc8];}),_0x577c05['enabled']=_0x424160['enabled'];const _0xa5fea3=this['addCompone'+'nt'](_0x3d067f,_0x577c05);return _0x424160['customAabb']&&(_0xa5fea3['customAabb']=_0x424160['customAabb']['clone']()),_0xa5fea3;}['onRemove'](_0x1e5a5d,_0x21634b){_0x21634b['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x2836cc){this['decRefMesh'+'es'](),this['_meshes']=_0x2836cc,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x2836cc);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x44182a;(_0x44182a=this['_meshes'])==null||_0x44182a['forEach']((_0x4eab27,_0x36194a)=>{_0x4eab27&&(_0x4eab27['decRefCoun'+'t'](),_0x4eab27['refCount']<0x1*-0x6f7+0x1*0x26cb+-0x1fd3&&(_0x4eab27['destroy'](),this['_meshes'][_0x36194a]=null));});}['incRefMesh'+'es'](){var _0x26be59;(_0x26be59=this['_meshes'])==null||_0x26be59['forEach'](_0x3c99b2=>{_0x3c99b2==null||_0x3c99b2['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x3116c4){const _0x2da6ea=this;if(!_0x2da6ea['resource'])return;const _0x426789=_0x3116c4['resource'],_0x3125da=_0x426789['renders']&&_0x426789['renders'][_0x2da6ea['data']['renderInde'+'x']];_0x3125da&&(_0x2da6ea['resource']['meshes']=_0x3125da['resource']['meshes']);}function pS(_0x3410e9){const _0x47b30f=this;_0x47b30f['registry']['off']('load:'+_0x3410e9['id'],sh,_0x47b30f),_0x47b30f['registry']['on']('load:'+_0x3410e9['id'],sh,_0x47b30f),_0x47b30f['registry']['off']('remove:'+_0x3410e9['id'],mS,_0x47b30f),_0x47b30f['registry']['once']('remove:'+_0x3410e9['id'],mS,_0x47b30f),_0x3410e9['resource']?sh['call'](_0x47b30f,_0x3410e9):_0x47b30f['registry']['load'](_0x3410e9);}function mS(_0x40a406){const _0x16b7b5=this;_0x16b7b5['registry']['off']('load:'+_0x40a406['id'],sh,_0x16b7b5),_0x16b7b5['resource']&&_0x16b7b5['resource']['destroy']();}class zF extends Qe{constructor(_0x2db150){super(_0x2db150,'render'),this['_registry']=_0x2db150['assets'];}['open'](_0x3fb9e1,_0x4cad2d){return new Em();}['patch'](_0x1d9744,_0x31f7e6){if(!_0x1d9744['data']['containerA'+'sset'])return;const _0x3b11a9=_0x31f7e6['get'](_0x1d9744['data']['containerA'+'sset']);if(!_0x3b11a9){_0x31f7e6['once']('add:'+_0x1d9744['data']['containerA'+'sset'],pS,_0x1d9744);return;}pS['call'](_0x1d9744,_0x3b11a9);}}class v0{constructor(_0x5d9f81,_0x153327,_0x519606,_0x4d868a){this['_paths']=_0x5d9f81,this['_input']=_0x153327,this['_output']=_0x519606,this['_interpola'+'tion']=_0x4d868a;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x82146d,_0x4a6335){this['_component'+'s']=_0x82146d,this['_data']=_0x4a6335;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x36f556,_0x5e3160){let _0x232261;const _0x2d4c38=(_0x1d803d,_0x3089d2)=>{switch(_0x3089d2){case _0x232261['DT_INT8']:return new Int8Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']);case _0x232261['DT_INT16']:return new Int16Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']/(-0xd*0x29+-0x40c+0x623*0x1));case _0x232261['DT_INT32']:return new Int32Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']/(0xdf*0x1+-0x23d2+0x22f7));case _0x232261['DT_UINT8']:return new Uint8Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']);case _0x232261['DT_UINT16']:return new Uint16Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']/(0x713*0x2+0x1*-0x2441+0x161d));case _0x232261['DT_UINT32']:return new Uint32Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']/(-0x16e*0x10+-0x100d*-0x2+0x6*-0x189));case _0x232261['DT_FLOAT32']:return new Float32Array(_0x1d803d['buffer'],_0x1d803d['byteOffset'],_0x1d803d['byteLength']/(-0xc91+-0x7*0x1a7+0x1826));}return null;},_0x2101ab=_0x748565=>{switch(_0x748565){case _0x232261['DT_INT8']:return 0x16ec+0x789+0x79d*-0x4;case _0x232261['DT_INT16']:return-0x1dfe+-0x1*-0xbc1+-0x207*-0x9;case _0x232261['DT_INT32']:return-0x1808+-0xac0+0x22cc;case _0x232261['DT_UINT8']:return 0x47*-0x4+0x2217+-0x20fa;case _0x232261['DT_UINT16']:return-0x2*0xdf1+-0x1*0x2203+0x3de7;case _0x232261['DT_UINT32']:return-0xf56*0x2+0x664*-0x2+0x2b78;case _0x232261['DT_FLOAT32']:return 0xd2d+0x1606+-0x232f;}return 0x1*-0x89b+0x1827+-0xad*0x17;},_0x43fa41=_0x5cb4f4=>_0x5cb4f4['num_compon'+'ents']()*_0x2101ab(_0x5cb4f4['data_type']()),_0x30b045={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x5e5ffa=(_0x210650,_0x11592a)=>{const _0x5e2974=(_0x336d33,_0xd7e7c5,_0x32f165)=>{_0x336d33[-0x1d*-0x1d+0x2ed*-0x3+0x57e]=_0xd7e7c5[0x1cfa+-0x17*-0xf5+-0x2af*0x13]-_0x32f165[-0x3*-0x7dc+-0x13ee+-0x3a6],_0x336d33[0x194d*0x1+-0x3*-0x409+-0x1*0x2567]=_0xd7e7c5[-0x3*-0xbfe+0x7*0xd+-0x2454]-_0x32f165[-0x39c+-0x861+0x1*0xbfe],_0x336d33[-0xe43*-0x1+-0x5a3+-0x2*0x44f]=_0xd7e7c5[-0x24ad+0x22d3*0x1+-0xe*-0x22]-_0x32f165[0xf8d+0xcf+-0x2e*0x5b];},_0x2c690f=(_0x3e8bc5,_0xb31cd6,_0xb67151)=>{_0x3e8bc5[0x12*0x1b5+0x1272+-0x419*0xc]=_0xb31cd6[-0x46a*0x5+0x5*-0x751+0x1d54*0x2]*_0xb67151[-0x7e*0x1b+0x159b+-0x84f]-_0xb67151[-0x6cc+-0x2607+-0x4c*-0x97]*_0xb31cd6[0x22d8+-0x2*0xd32+-0x439*0x2],_0x3e8bc5[0xd*-0x193+0x14e3+-0x6b]=_0xb31cd6[-0x148+-0xe81+0x1*0xfcb]*_0xb67151[-0x1*-0x3f2+-0xae7+0xd*0x89]-_0xb67151[-0x1362+0x1167+0x1fd*0x1]*_0xb31cd6[-0x12cd+0x2480+-0x11b3],_0x3e8bc5[-0x1201+-0x1*0x24a+-0x1*-0x144d]=_0xb31cd6[-0x288+-0x181e+0x9*0x2f6]*_0xb67151[0x2*-0xc1a+-0xe20+0x2655]-_0xb67151[0x170c+0x166*0x3+-0x1b3e]*_0xb31cd6[-0x61*-0x1d+0x223*-0x6+0x1d6];},_0xffda00=(_0x2d2c24,_0x274b06)=>{const _0x2290f9=_0x2d2c24[_0x274b06+(0x68a+-0x211+-0x479)],_0x5e5cb7=_0x2d2c24[_0x274b06+(0x10*-0xca+-0x1293+0x1f34)],_0x3b5725=_0x2d2c24[_0x274b06+(0x1*0x1460+-0x13ab+-0xb3)],_0x1cf248=(-0x446+0xb8*0x5+-0x7*-0x19)/Math['sqrt'](_0x2290f9*_0x2290f9+_0x5e5cb7*_0x5e5cb7+_0x3b5725*_0x3b5725);_0x2d2c24[_0x274b06+(-0xf18+-0x209*0x7+-0x25*-0xcb)]*=_0x1cf248,_0x2d2c24[_0x274b06+(-0x1bc3+0x499+0x172b)]*=_0x1cf248,_0x2d2c24[_0x274b06+(-0x21a8+0x1*0xcf9+-0x14b1*-0x1)]*=_0x1cf248;},_0x433df2=(_0x260240,_0x381fc0,_0x5318bd)=>{for(let _0xf1223e=-0x1f31+-0x7*-0x469+0x2*0x29;_0xf1223e<-0x1c7b+-0x1afd+-0x7*-0x7ed;++_0xf1223e)_0x260240[_0xf1223e]=_0x381fc0[_0x5318bd+_0xf1223e];},_0x38e504=_0x11592a['length']/(-0x3b3*0x9+-0x13f8+0x3546),_0xc1ca52=_0x210650['length']/(0x2636+0x1*0x7+-0x263a),_0x22e7d1=new Float32Array(_0x210650['length']),_0x5eff44=[0x1964+0x1*0x1d68+0x4*-0xdb3,-0xe3*0x18+-0x79*-0x18+-0x27c*-0x4,-0x2413+-0x6f8+-0xe59*-0x3],_0x7d02f=[0x7ea*-0x2+-0x5*-0x407+0x44f*-0x1,0x182e+-0x56*0x7+-0x15d4,-0x271+-0x1a94+0x1d05],_0xbd82d5=[-0x19b0*-0x1+-0x161f+-0x391,-0x256*0xf+0x24*-0x56+0x1*0x2f22,0x2c2*-0x5+0x17*0x119+-0x1*0xb75],_0x1ea941=[0x1*-0x863+0x137*-0x18+0x258b,-0x2ce+-0x1*-0x796+0x132*-0x4,-0x1c32*0x1+-0xd7*-0x7+0x1d*0xc5],_0x12d45c=[0xa9c+-0x34f+-0x74d*0x1,0xe66*-0x1+0x1597+-0x731,0x5ba+-0xc1a+0x660],_0x1cf078=[0x4a0+0x60d+-0xaad,0x2658+-0x509+-0x1*0x214f,0x371*0xb+-0x304*-0x2+0x8c7*-0x5];for(let _0xa12a5=-0x1ee3+0x1b4a+0x399;_0xa12a5<_0x38e504;++_0xa12a5){const _0x5519de=_0x11592a[_0xa12a5*(0x20c7+0x1*0x1b53+-0x3c17)+(0x1b4a+-0xcd6*-0x2+0x34f6*-0x1)]*(0x1be4+-0xf16+-0xccb),_0x30a4fd=_0x11592a[_0xa12a5*(0x21df+-0x1fae+-0x22e)+(0x1872+0x1*0x1a6b+-0x32dc)]*(-0x56a+-0x1891*0x1+0x1dfe),_0x12598d=_0x11592a[_0xa12a5*(0x1*0x1423+-0x1c1c+0x7fc)+(-0x157*-0x11+-0x1f6+-0x14cf)]*(0x1e95+-0x751*-0x4+-0x3bd6);_0x433df2(_0x5eff44,_0x210650,_0x5519de),_0x433df2(_0x7d02f,_0x210650,_0x30a4fd),_0x433df2(_0xbd82d5,_0x210650,_0x12598d),_0x5e2974(_0x1ea941,_0x7d02f,_0x5eff44),_0x5e2974(_0x12d45c,_0xbd82d5,_0x5eff44),_0x2c690f(_0x1cf078,_0x1ea941,_0x12d45c),_0xffda00(_0x1cf078,-0x18*0x16f+-0x42*-0x88+-0xa8);for(let _0x16c9a5=0x2241+0x16b+-0xc*0x2f9;_0x16c9a5<0x15c9+0x3e6*0x1+-0x19ac;++_0x16c9a5)_0x22e7d1[_0x5519de+_0x16c9a5]+=_0x1cf078[_0x16c9a5],_0x22e7d1[_0x30a4fd+_0x16c9a5]+=_0x1cf078[_0x16c9a5],_0x22e7d1[_0x12598d+_0x16c9a5]+=_0x1cf078[_0x16c9a5];}for(let _0x4218ef=0xca*-0xc+0x1*-0x1c4d+0xc97*0x3;_0x4218ef<_0xc1ca52;++_0x4218ef)_0xffda00(_0x22e7d1,_0x4218ef*(-0xff7*0x1+-0x79*-0x4d+-0x146b));return new Uint8Array(_0x22e7d1['buffer']);},_0x164f48=_0x508641=>{const _0x5d674f={},_0x19cde8=new _0x232261['DecoderBuf'+'fer']();_0x19cde8['Init'](_0x508641,_0x508641['length']);const _0x310480=new _0x232261['Decoder']();if(_0x310480['GetEncoded'+'GeometryTy'+'pe'](_0x19cde8)!==_0x232261['TRIANGULAR'+'_MESH'])return _0x5d674f['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x5d674f;const _0x1f65ad=new _0x232261['Mesh'](),_0x172ef4=_0x310480['DecodeBuff'+'erToMesh'](_0x19cde8,_0x1f65ad);if(!_0x172ef4||!_0x172ef4['ok']()||_0x232261['getPointer'](_0x1f65ad)===-0x16*-0x6+0x12c5+0x1349*-0x1)return _0x5d674f['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x5d674f;const _0x358b0e=_0x1f65ad['num_faces']()*(-0x33b*-0x1+-0x2426*0x1+0x1077*0x2),_0x3adad6=_0x1f65ad['num_points']()<=0x1e8de+0xd316+-0x59*0x4fd,_0x4c695b=_0x358b0e*(_0x3adad6?0x1c85*0x1+0x222f+-0x3eb2:0x22f7*0x1+-0x2117+-0x1dc),_0x18d5bf=_0x232261['_malloc'](_0x4c695b);_0x3adad6?(_0x310480['GetTriangl'+'esUInt16Ar'+'ray'](_0x1f65ad,_0x4c695b,_0x18d5bf),_0x5d674f['indices']=new Uint16Array(_0x232261['HEAPU16']['buffer'],_0x18d5bf,_0x358b0e)['slice']()['buffer']):(_0x310480['GetTriangl'+'esUInt32Ar'+'ray'](_0x1f65ad,_0x4c695b,_0x18d5bf),_0x5d674f['indices']=new Uint32Array(_0x232261['HEAPU32']['buffer'],_0x18d5bf,_0x358b0e)['slice']()['buffer']),_0x232261['_free'](_0x18d5bf);const _0x32ef84=[];for(let _0x287c2d=-0x77d+-0x1*-0xde6+-0x669;_0x287c2d<_0x1f65ad['num_attrib'+'utes']();++_0x287c2d)_0x32ef84['push'](_0x310480['GetAttribu'+'te'](_0x1f65ad,_0x287c2d));_0x32ef84['sort']((_0x469d98,_0x51de0a)=>(_0x30b045[_0x469d98['attribute_'+'type']()]??_0x30b045['length'])-(_0x30b045[_0x51de0a['attribute_'+'type']()]??_0x30b045['length'])),_0x5d674f['attributes']=_0x32ef84['map'](_0x323acf=>_0x323acf['unique_id']());let _0x327d3f=0xe6b*-0x1+-0x8ef+-0x31*-0x7a;const _0x39b874=_0x32ef84['map'](_0x639b9f=>{const _0xa26007=_0x327d3f;return _0x327d3f+=Math['ceil'](_0x43fa41(_0x639b9f)/(-0xe02+-0x17c+0xf82))*(-0x1264+-0x1211+0x2479),_0xa26007;}),_0x114d13=_0x32ef84['some'](_0x163394=>_0x163394['attribute_'+'type']()===-0x29*0x7+-0x1*0x2207+0x1*0x2327),_0x5e8c1f=_0x39b874[0x2*0x18e+-0xfa9+-0x1*-0xc8e];if(!_0x114d13){for(let _0x2e17a2=-0x1*-0x5fb+0x22d*0x3+-0xc81;_0x2e17a2<_0x39b874['length'];++_0x2e17a2)_0x39b874[_0x2e17a2]+=0x26b6+0x1*-0x8d2+0x1*-0x1dd8;_0x327d3f+=0x172d+0x164e*0x1+0x3*-0xf25;}_0x5d674f['vertices']=new ArrayBuffer(_0x1f65ad['num_points']()*_0x327d3f);const _0x461dc8=new Uint8Array(_0x5d674f['vertices']);for(let _0x18d7f8=-0xe10+-0x1b0c*0x1+-0xdb4*-0x3;_0x18d7f8<_0x1f65ad['num_attrib'+'utes']();++_0x18d7f8){const _0x2337fa=_0x32ef84[_0x18d7f8],_0x6e312=_0x43fa41(_0x2337fa),_0x60edb5=_0x1f65ad['num_points']()*_0x6e312,_0xe928f5=_0x232261['_malloc'](_0x60edb5);_0x310480['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x1f65ad,_0x2337fa,_0x2337fa['data_type'](),_0x60edb5,_0xe928f5);const _0x3c8183=new Uint8Array(_0x232261['HEAPU8']['buffer'],_0xe928f5,_0x60edb5);for(let _0xb96645=-0x1453+0x2527*0x1+-0x4*0x435;_0xb96645<_0x1f65ad['num_points']();++_0xb96645)for(let _0x26733c=0xea5+0x1*0x1814+-0x26b9;_0x26733c<_0x6e312;++_0x26733c)_0x461dc8[_0xb96645*_0x327d3f+_0x39b874[_0x18d7f8]+_0x26733c]=_0x3c8183[_0xb96645*_0x6e312+_0x26733c];if(!_0x114d13&&_0x2337fa['attribute_'+'type']()===-0x1*-0x1376+-0x1*0xe+0x2*-0x9b4){const _0x39892d=_0x5e5ffa(_0x2d4c38(_0x3c8183,_0x2337fa['data_type']()),_0x3adad6?new Uint16Array(_0x5d674f['indices']):new Uint32Array(_0x5d674f['indices']));for(let _0x2cf3da=0x18ab+-0x2359+0xaae;_0x2cf3da<_0x1f65ad['num_points']();++_0x2cf3da)for(let _0x32c3e5=-0x7*-0x12e+0x23cf+-0x2c11*0x1;_0x32c3e5<0x1*-0x106e+0x1fe2+-0xf68;++_0x32c3e5)_0x461dc8[_0x2cf3da*_0x327d3f+_0x5e8c1f+_0x32c3e5]=_0x39892d[_0x2cf3da*(0x1bd1*-0x1+-0x1*0xfe5+0x2bc2)+_0x32c3e5];}_0x232261['_free'](_0xe928f5);}return _0x232261['destroy'](_0x1f65ad),_0x232261['destroy'](_0x310480),_0x232261['destroy'](_0x19cde8),_0x5d674f;},_0x73623f=_0x981bba=>{const _0x3c4aac=_0x164f48(new Uint8Array(_0x981bba['buffer']));self['postMessag'+'e']({'jobId':_0x981bba['jobId'],'error':_0x3c4aac['error'],'indices':_0x3c4aac['indices'],'vertices':_0x3c4aac['vertices'],'attributes':_0x3c4aac['attributes']},[_0x3c4aac['indices'],_0x3c4aac['vertices']]['filter'](_0xc6c675=>_0xc6c675!=null));},_0x50b448=[];self['onmessage']=_0x132f32=>{const _0x230360=_0x132f32['data'];switch(_0x230360['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x7dbc33,_0x252df4)=>(WebAssembly['instantiat'+'e'](_0x230360['module'],_0x7dbc33)['then'](_0x508752=>_0x252df4(_0x508752))['catch'](_0x367b02=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x367b02)),{})})['then'](_0x6557c9=>{_0x232261=_0x6557c9,_0x50b448['forEach'](_0x1a1b01=>_0x73623f(_0x1a1b01));});break;case'decodeMesh':_0x232261?_0x73623f(_0x230360):_0x50b448['push'](_0x230360);break;}};}const _S=-0x1c*-0x107+0x2257+-0x3f18;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0xb*0x356+-0x1*0x1169+-0x1349,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x20dcb4,_0x2f90f7)=>{_0x20dcb4['postMessag'+'e']({'type':'decodeMesh','jobId':_0x2f90f7['jobId'],'buffer':_0x2f90f7['buffer']},[_0x2f90f7['buffer']]);};}['init'](_0x2f7dd7){for(_0x2f7dd7['forEach'](_0x50c1e1=>{_0x50c1e1['addEventLi'+'stener']('message',_0x603993=>{const _0x413604=_0x603993['data'],_0xbf68f4=this['jobCallbac'+'ks']['get'](_0x413604['jobId']);if(_0xbf68f4&&_0xbf68f4(_0x413604['error'],{'indices':_0x413604['indices'],'vertices':_0x413604['vertices'],'attributes':_0x413604['attributes']}),this['jobCallbac'+'ks']['delete'](_0x413604['jobId']),this['jobQueue']['length']>-0x2f1*0x5+-0x24a4+0x3359){const _0x3d8b20=this['jobQueue']['shift']();this['run'](_0x50c1e1,_0x3d8b20);}else{const _0x148ef1=this['workers'][-0x226e+-0xb48+0x26*0x134]['indexOf'](_0x50c1e1);if(_0x148ef1!==-(-0x303*0x5+0x1*0x2379+0xd1*-0x19))this['workers'][-0x2*-0x283+-0x194*-0x2+-0x82c]['splice'](_0x148ef1,0x17a+-0xda8+0xc2f),this['workers'][-0x21ec+-0x716*-0x1+0x1ad7]['push'](_0x50c1e1);else{const _0x4b085b=this['workers'][-0x2059+0x1*-0x11e7+0x53*0x9b]['indexOf'](_0x50c1e1);_0x4b085b!==-(0x15b*-0xc+-0x6*0x22a+-0x1d41*-0x1)?(this['workers'][-0x1ef6+-0x1d9c+0x6bb*0x9]['splice'](_0x4b085b,-0x1d44+0x6*0x506+-0xdf*0x1),this['workers'][0x15db+-0xe9*0x1c+0x3a1]['push'](_0x50c1e1)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0xb*0x9a+0x2e*0x9d+-0x1598]=_0x2f7dd7;this['jobQueue']['length']&&(this['workers'][-0xc9*-0x7+-0x676+-0x1*-0xf7]['length']||this['workers'][0x16a1+-0x1196+-0x50a]['length']);){const _0x877c9d=this['jobQueue']['shift']();if(this['workers'][0x16e2+0x1*0x15a3+0x2c85*-0x1]['length']>-0x13*0x13f+0x3*-0xac4+0x37f9){const _0x3779ae=this['workers'][-0x1*0x2095+-0x1f19*-0x1+-0x4c*-0x5]['shift']();this['workers'][0x1156+0x71c+-0x1871]['push'](_0x3779ae),this['run'](_0x3779ae,_0x877c9d);}else{const _0x265c71=this['workers'][0x1*0x7f6+0x1*0x65+0x1*-0x85a]['shift']();this['workers'][0xeda+0x3a6*-0x8+-0x6*-0x264]['push'](_0x265c71),this['run'](_0x265c71,_0x877c9d);}}}['enqueueJob'](_0x116957,_0x125819){const _0x37f170={'jobId':this['jobId']++,'buffer':_0x116957};if(this['jobCallbac'+'ks']['set'](_0x37f170['jobId'],_0x125819),this['workers'][-0x2cf*0x6+0x238a+-0x4*0x4ac]['length']>-0x122*0x8+0x21e7+-0x18d7){const _0x24ebee=this['workers'][-0xd2b+0x19*-0x53+0x1546]['shift']();this['workers'][-0x1727*0x1+-0xa84+0x21ac]['push'](_0x24ebee),this['run'](_0x24ebee,_0x37f170);}else{if(this['workers'][-0x16db*0x1+0x1ec3+-0x7e7]['length']>0x5e4+0x6*-0x3a0+-0x46*-0x3a){const _0x4af563=this['workers'][0x18f3+0x37+-0x1929]['shift']();this['workers'][0x2*-0x169+0x185b+0x1587*-0x1]['push'](_0x4af563),this['run'](_0x4af563,_0x37f170);}else this['jobQueue']['push'](_0x37f170);}}}const HF=_0x56ad31=>new Promise((_0xf4cebf,_0xebfcd)=>{const _0x5d719a={'cache':!(0x53b+-0x1bad+0x22*0xa9),'responseType':'text','retry':_S>0x1*-0x148a+-0x2216+0x36a0,'maxRetries':_S};ot['get'](_0x56ad31,_0x5d719a,(_0x519347,_0x3730a4)=>{_0x519347?_0xebfcd(_0x519347):_0xf4cebf(_0x3730a4);});}),WF=_0x105c40=>{const _0x1e6b2e=()=>fetch(_0x105c40)['then'](_0x2b69dc=>_0x2b69dc['arrayBuffe'+'r']())['then'](_0x3baa53=>WebAssembly['compile'](_0x3baa53)),_0x31718f=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x105c40))['catch'](_0x1b7a51=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x105c40+'\x20('+_0x1b7a51+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1e6b2e()));return WebAssembly['compileStr'+'eaming']?_0x31718f():_0x1e6b2e();},gS=-0x1f05*0x1+-0x14ea*-0x1+0xa1c;let ih;const $F=_0x140de6=>{if(ih)return!(-0x37*-0x5+-0x2*-0xc1b+-0x1949);if(!_0x140de6){const _0x53d0c5=YS['getConfig']('DracoDecod'+'erModule');_0x53d0c5?_0x140de6={'jsUrl':_0x53d0c5['glueUrl'],'wasmUrl':_0x53d0c5['wasmUrl'],'numWorkers':_0x53d0c5['numWorkers']}:_0x140de6={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x140de6['jsUrl']||!_0x140de6['wasmUrl']?!(0x13*0x185+0xb*-0x2de+0xc*0x39):(ih=new GF(),Promise['all']([HF(_0x140de6['jsUrl']),WF(_0x140de6['wasmUrl'])])['then'](([_0x20f104,_0x4ecadd])=>{const _0x569571=['/*\x20draco\x20*'+'/',_0x20f104,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x572352=new Blob([_0x569571],{'type':'applicatio'+'n/javascri'+'pt'}),_0x441b66=URL['createObje'+'ctURL'](_0x572352),_0x248bf3=Math['max'](-0x2*-0x111+-0x1efd+-0x1*-0x1cdc,Math['min'](-0x1bd5+-0x1*0x14d+0x1d32,_0x140de6['numWorkers']||gS)),_0x4212c4=[];for(let _0x2aa7cc=0x12cc+-0x1336+0x6a;_0x2aa7cc<_0x248bf3;++_0x2aa7cc){const _0x439e2e=new Worker(_0x441b66);_0x439e2e['postMessag'+'e']({'type':'init','module':_0x4ecadd}),_0x4212c4['push'](_0x439e2e);}ih['init'](_0x4212c4);}),!(0xe*0x1ce+0xaed+-0x2431));},XF=(_0x1f5a35,_0x3c8e59)=>$F()?(ih['enqueueJob'](_0x1f5a35,_0x3c8e59),!(0xc35+0x15c2+-0x21f7)):!(0x3*-0xc6e+0x1*0x5be+0x1f8d);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x221f89=>{_0x221f89['meshes']=null;});}}const x0=_0x257bb2=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x257bb2),jF=_0x435833=>_0x435833['substring'](_0x435833['indexOf'](':')+(0x37a+0x11f0+-0x1569),_0x435833['indexOf'](';')),yl=_0x236f87=>{switch(_0x236f87){case'SCALAR':return 0x1939+-0x1682+-0x15b*0x2;case'VEC2':return 0xf4*-0x13+0x17ee+-0x5d0;case'VEC3':return 0x169a+-0x10+-0x1687;case'VEC4':return-0x180e+-0xa7*0x7+-0x1ca3*-0x1;case'MAT2':return 0xb*0x145+-0x857*-0x1+-0x164a;case'MAT3':return 0x1*-0xc0e+0x1eee+0x35*-0x5b;case'MAT4':return-0xc1*0x2b+-0xa3*-0x1+0x1fd8;default:return-0x2*-0xf62+0x53*0x2+-0x1f67;}},Dd=_0x1d713b=>{switch(_0x1d713b){case 0x1c4c*0x1+0x15*-0x132+0x10ce:return dd;case 0x4*-0x937+0xa0c*0x2+0x24c5:return la;case 0x4*-0x1c6+-0x1*-0x2186+-0x112*0x6:return fd;case 0xc36+0x1*-0x1a42+0x220f*0x1:return Ml;case 0x1*-0x2329+-0x2141*0x1+0x586e:return Ty;case-0x1*-0x1657+0x468*-0x1+-0x6*-0x59:return el;case-0x1c11+-0x7ea+0x3801:return Ve;default:return 0x180+0x1*-0x191f+0x179f;}},YF=_0x2a3ea1=>{switch(_0x2a3ea1){case 0x2ac+0x1*-0x20e6+0x323a:return-0x1*-0xd85+-0x18*0x12e+0x4*0x3b3;case 0x3*-0x7f7+-0x23cb+-0x17*-0x377:return 0x1*0xc19+0x23aa+0x2fc2*-0x1;case 0x1*0x166f+0xd*0x49+-0x622:return 0x1d3f+-0x19*0x3d+-0x1748;case 0xa+-0x439*-0x9+-0x1208:return 0x18aa+0x629+-0x1ed1;case-0xadd+0x81*0x39+0x228:return-0x1e0f+0x2341+-0x52e;case-0x2f5+-0x4*-0x209+0xed6:return-0xe59*-0x1+0xe*0x189+-0xbf1*0x3;case-0x2*-0x3b2+-0xb23+0x17c5:return 0x86a*-0x2+-0xa*0x119+0x1bd2;default:return-0x25d*0x2+0x16*-0x117+-0x2c*-0xa7;}},KF=_0x59bdb2=>{switch(_0x59bdb2){case 0x20a1+-0xac*0xd+-0x3e5:return Int8Array;case-0x22c9*-0x1+-0x26d3+-0x5*-0x4cf:return Uint8Array;case 0x1*-0xb5d+0x16c1+0x89e:return Int16Array;case-0x1*-0xac5+-0xe63+0x17*0x107:return Uint16Array;case-0x2585+-0x2374+0x5cfd:return Int32Array;case-0x5cb*-0x1+0x2a0*-0xf+-0x11de*-0x3:return Uint32Array;case-0x36a*0x2+-0x25d0+0x40aa:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x24cb+-0xdf0+0x1e1*0x1b,[gs]:-0x44c+0x1019*-0x1+0x1466,[yi]:0x5*0x542+0x1*0xc11+-0x1*0x2659,[Wt]:0x212*-0x11+-0x20d8+0x440d,[us]:0x1*-0x1d0e+-0x2*-0x5aa+0x11be,[gi]:0x3e*-0x9e+0x18ea+0x475*0x3,[is]:0x1*0xb03+0xc*-0x18a+0x77b,[ba]:-0xbfa+-0x46f+0x1070,[wl]:0x9c*-0xb+-0x1e3*-0x11+-0x1957,[El]:0x1*0x9ef+-0xda*-0x20+-0x2526,[bl]:0x2086+-0x4f2*-0x2+-0x2a60,[Al]:0x4*-0x7ea+0x6*0x3ad+0x9a5,[Cl]:-0x1*-0x22d9+0xfff+0x1966*-0x2,[Pl]:-0x948+0x2*0x1005+-0x16b5},ZF=_0x3e2473=>{switch(_0x3e2473){case dd:return _0x4d9db9=>Math['max'](_0x4d9db9/(0x1*-0x21d3+-0x8b*-0x5+0x1*0x1f9b),-(0x5d1*-0x5+0x2024+-0x30e));case la:return _0x1b6107=>_0x1b6107/(0x2681+-0xa4e*-0x2+-0x3a1e*0x1);case fd:return _0x58fadb=>Math['max'](_0x58fadb/(-0x89bf+-0xd8d7+0x1e295),-(0x10*-0x3f+0x48a+-0x99*0x1));case Ml:return _0x3ffd64=>_0x3ffd64/(-0x15192+0x1*0xe9e+0x242f3);default:return _0x273aa5=>_0x273aa5;}},Gu=(_0x80657,_0x48db49,_0x4d9c2c)=>{const _0x534515=ZF(_0x4d9c2c),_0x59c9b6=_0x48db49['length'];for(let _0x2851d6=0x2b*0x85+0x272*0xf+-0x3b05;_0x2851d6<_0x59c9b6;++_0x2851d6)_0x80657[_0x2851d6]=_0x534515(_0x48db49[_0x2851d6]);return _0x80657;},ua=(_0x1eea93,_0x529f86,_0x5c0ebb=!(0x22d6+-0xc7d*-0x1+-0x2f52))=>{const _0x4d205e=yl(_0x1eea93['type']),_0x5d33f8=KF(_0x1eea93['componentT'+'ype']);if(!_0x5d33f8)return null;let _0x1bfcdc;if(_0x1eea93['sparse']){const _0x13bd5e=_0x1eea93['sparse'],_0x33be2e={'count':_0x13bd5e['count'],'type':'SCALAR'},_0x41231a=ua(Object['assign'](_0x33be2e,_0x13bd5e['indices']),_0x529f86,!(0x830+0x20ef+0x79*-0x57)),_0x21377b={'count':_0x13bd5e['count'],'type':_0x1eea93['type'],'componentType':_0x1eea93['componentT'+'ype']},_0xfc5ecd=ua(Object['assign'](_0x21377b,_0x13bd5e['values']),_0x529f86,!(0x25be+0xd*0x1c9+0x8b5*-0x7));if(_0x1eea93['hasOwnProp'+'erty']('bufferView')){const _0x28a65c={'bufferView':_0x1eea93['bufferView'],'byteOffset':_0x1eea93['byteOffset'],'componentType':_0x1eea93['componentT'+'ype'],'count':_0x1eea93['count'],'type':_0x1eea93['type']};_0x1bfcdc=ua(_0x28a65c,_0x529f86,!(0xc6d+-0x1*0x1f91+-0x64*-0x31))['slice']();}else _0x1bfcdc=new _0x5d33f8(_0x1eea93['count']*_0x4d205e);for(let _0x419c8f=-0x2*-0x13+0x1b8d+-0x1bb3;_0x419c8f<_0x13bd5e['count'];++_0x419c8f){const _0x4704c7=_0x41231a[_0x419c8f];for(let _0x34e4e1=-0x5*-0x6c7+0xa97+-0x2c7a;_0x34e4e1<_0x4d205e;++_0x34e4e1)_0x1bfcdc[_0x4704c7*_0x4d205e+_0x34e4e1]=_0xfc5ecd[_0x419c8f*_0x4d205e+_0x34e4e1];}}else{if(_0x1eea93['hasOwnProp'+'erty']('bufferView')){const _0x1d0fea=_0x529f86[_0x1eea93['bufferView']];if(_0x5c0ebb&&_0x1d0fea['hasOwnProp'+'erty']('byteStride')){const _0x542f61=_0x4d205e*_0x5d33f8['BYTES_PER_'+'ELEMENT'],_0x35c0b2=new ArrayBuffer(_0x1eea93['count']*_0x542f61),_0x93f083=new Uint8Array(_0x35c0b2);let _0x7ae03d=-0x1f2*-0xb+-0xcc3+0xc9*-0xb;for(let _0xe354b2=0x2014+-0x65*0x2c+0x8*-0x1d7;_0xe354b2<_0x1eea93['count'];++_0xe354b2){let _0x39ea42=(_0x1eea93['byteOffset']||-0xb8b*0x1+-0x1640+-0x29*-0xd3)+_0xe354b2*_0x1d0fea['byteStride'];for(let _0x5971d9=-0x2*-0x12a0+0x7*0x2c3+0x3895*-0x1;_0x5971d9<_0x542f61;++_0x5971d9)_0x93f083[_0x7ae03d++]=_0x1d0fea[_0x39ea42++];}_0x1bfcdc=new _0x5d33f8(_0x35c0b2);}else _0x1bfcdc=new _0x5d33f8(_0x1d0fea['buffer'],_0x1d0fea['byteOffset']+(_0x1eea93['byteOffset']||0x17ef+-0xebb*-0x1+-0x26aa),_0x1eea93['count']*_0x4d205e);}else _0x1bfcdc=new _0x5d33f8(_0x1eea93['count']*_0x4d205e);}return _0x1bfcdc;},Pn=(_0x482538,_0x59a364)=>{const _0x528625=ua(_0x482538,_0x59a364,!(-0x4e1*-0x2+-0x11f1+0x82f));if(_0x528625 instanceof Float32Array||!_0x482538['normalized'])return _0x528625;const _0x94586b=new Float32Array(_0x528625['length']);return Gu(_0x94586b,_0x528625,Dd(_0x482538['componentT'+'ype'])),_0x94586b;},Hu=_0x4077be=>{let _0x45590e=_0x4077be['min'],_0x359493=_0x4077be['max'];if(!_0x45590e||!_0x359493)return null;if(_0x4077be['normalized']){const _0x406865=Dd(_0x4077be['componentT'+'ype']);_0x45590e=Gu([],_0x45590e,_0x406865),_0x359493=Gu([],_0x359493,_0x406865);}return new De(new D((_0x359493[0xa6+0x83e*-0x4+0x2052]+_0x45590e[0xeb9+0x1*0xba1+-0x1a5a])*(0x6*-0x10c+-0xf64+0x15ac+0.5),(_0x359493[-0x262a+0x1de0+-0xb*-0xc1]+_0x45590e[0x10b+-0x1abb+0x1*0x19b1])*(0x1*0x1ca3+-0x1ade+0x1*-0x1c5+0.5),(_0x359493[0x211a+-0x1de3+-0x335]+_0x45590e[-0x98d+0xc7*0x3+0x4a*0x19])*(-0x4f0*-0x1+0x11*0xa6+-0xff6*0x1+0.5)),new D((_0x359493[0xb93*0x2+0x32c+-0x1*0x1a52]-_0x45590e[-0x7e1+-0x2*-0xf+-0x1*-0x7c3])*(0x1797+-0x1ba*-0x6+-0x21f3+0.5),(_0x359493[0x11c8+-0x2648+0xb5*0x1d]-_0x45590e[-0x15a2+-0x960*0x4+-0x3b23*-0x1])*(0x65a+0x1fbf+-0x2619*0x1+0.5),(_0x359493[-0x828+-0x36a*0x2+0xefe]-_0x45590e[-0x2*0x175+0x1d11+0x123*-0x17])*(-0x115*0x2+-0x1d0e+0x1f38+0.5)));},T0=_0xeda409=>{if(!_0xeda409['hasOwnProp'+'erty']('mode'))return js;switch(_0xeda409['mode']){case 0xd0+0x16aa*-0x1+0x15da:return cd;case-0x43a+0x3*-0x74d+0x1a22:return hd;case-0x1*0x1e59+0x4*0x13d+0x1967:return _y;case-0x319*0x2+-0x23e5+-0x11*-0x27a:return gy;case-0x172+0x6d4+-0x55e:return js;case-0x68b+-0x1*0x3ab+0x369*0x3:return Er;case-0x1*0xf2f+0x183*-0x11+-0x9a*-0x44:return oa;default:return js;}},QF=_0x328c63=>{const _0xbcaf81=new Uint16Array(_0x328c63);for(let _0xd5f447=-0x41*-0x7+0xbe5+-0xdac;_0xd5f447<_0x328c63;_0xd5f447++)_0xbcaf81[_0xd5f447]=_0xd5f447;return _0xbcaf81;},JF=(_0x3009f5,_0x5468b6)=>{const _0x59a9b7=_0x3009f5[Me];if(!_0x59a9b7||_0x59a9b7['components']!==0x397+0xf3c+-0x12d0)return;let _0x18e92f;if(_0x59a9b7['size']!==_0x59a9b7['stride']){const _0x39ac23=_0x59a9b7['stride']/No[_0x59a9b7['type']],_0x312789=new wn[_0x59a9b7['type']](_0x59a9b7['buffer'],_0x59a9b7['offset'],_0x59a9b7['count']*_0x39ac23);_0x18e92f=new wn[_0x59a9b7['type']](_0x59a9b7['count']*(0x1448+-0x1070+0x6d*-0x9));for(let _0x2c2529=0xcd1+0x96d*-0x1+-0x364;_0x2c2529<_0x59a9b7['count'];++_0x2c2529)_0x18e92f[_0x2c2529*(-0x66e+-0x1d69+0x23da)+(-0xdf*0x1d+-0x779*-0x1+0x6*0x2f7)]=_0x312789[_0x2c2529*_0x39ac23+(-0x1*0x2aa+-0x1e0f*-0x1+0x1*-0x1b65)],_0x18e92f[_0x2c2529*(-0x1453+-0x2*-0x509+0xa44)+(-0xe03+-0x8*-0x35+0x4*0x317)]=_0x312789[_0x2c2529*_0x39ac23+(0x2*0x8ef+-0xefe+-0x15*0x23)],_0x18e92f[_0x2c2529*(-0x185*0x5+-0x28d*-0x9+-0xf59)+(0x14c6*0x1+0x5*-0x7b9+0x11d9)]=_0x312789[_0x2c2529*_0x39ac23+(0x1716+-0x1e4a+0x736)];}else _0x18e92f=new wn[_0x59a9b7['type']](_0x59a9b7['buffer'],_0x59a9b7['offset'],_0x59a9b7['count']*(0x10f3+0x30*0x32+-0x1a50));const _0x218d92=_0x59a9b7['count'];_0x5468b6||(_0x5468b6=QF(_0x218d92));const _0x52d1e4=Iv(_0x18e92f,_0x5468b6),_0x2883b8=new Float32Array(_0x52d1e4['length']);_0x2883b8['set'](_0x52d1e4),_0x3009f5[gs]={'buffer':_0x2883b8['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x218d92,'components':0x3,'type':Ve};},eN=_0x4ceb2d=>{const _0x4e4412=_0x1c2352=>{const _0x557f82=[];for(let _0x34394c=-0xc57+-0x11eb+0x1e42;_0x34394c<_0x1c2352['_levels']['length'];++_0x34394c){let _0x40741c=[];if(_0x1c2352['cubemap']){for(let _0x670a30=0x24ca+-0x1*0xb5d+-0x196d;_0x670a30<-0x188e+0x2*0x975+0x5aa;++_0x670a30)_0x40741c['push'](_0x1c2352['_levels'][_0x34394c][_0x670a30]);}else _0x40741c=_0x1c2352['_levels'][_0x34394c];_0x557f82['push'](_0x40741c);}return _0x557f82;},_0x5f4859=new _e(_0x4ceb2d['device'],_0x4ceb2d);return _0x5f4859['_levels']=_0x4e4412(_0x4ceb2d),_0x5f4859;},tN=_0x359f5c=>{const _0x3b5d16=new pe(_0x359f5c['name']+'_clone',_0x359f5c['type'],_0x359f5c['file'],_0x359f5c['data'],_0x359f5c['options']);return _0x3b5d16['loaded']=!(-0x29*-0xaa+-0x1382+-0x7b8),_0x3b5d16['resource']=eN(_0x359f5c['resource']),_0x359f5c['registry']['add'](_0x3b5d16),_0x3b5d16;},sN=(_0x3705d2,_0xbdec13)=>{const _0x1da847=_0xbdec13[Me];if(!_0x1da847)return null;const _0x38c90c=_0x1da847['count'],_0x1a6f25=[];for(const _0x332b63 in _0xbdec13)if(_0xbdec13['hasOwnProp'+'erty'](_0x332b63)){const _0x40286e={'semantic':_0x332b63,'components':_0xbdec13[_0x332b63]['components'],'type':_0xbdec13[_0x332b63]['type'],'normalize':!!_0xbdec13[_0x332b63]['normalize']};kt['isElementV'+'alid'](_0x3705d2,_0x40286e)||_0x40286e['components']++,_0x1a6f25['push'](_0x40286e);}_0x1a6f25['sort']((_0x106a15,_0x5aaf81)=>SS[_0x106a15['semantic']]-SS[_0x5aaf81['semantic']]);let _0x3d3025,_0x286067,_0x3ad0f5,_0x1d8192,_0x53814e,_0x235bc2;const _0xe93803=new kt(_0x3705d2,_0x1a6f25);let _0x2f8ce3=!(0x389+-0x1*-0x1593+-0x191c*0x1);for(_0x3d3025=-0x1*-0x239e+-0x1373+0x102b*-0x1;_0x3d3025<_0xe93803['elements']['length'];++_0x3d3025)if(_0x53814e=_0xe93803['elements'][_0x3d3025],_0x1d8192=_0xbdec13[_0x53814e['name']],_0x235bc2=_0x1d8192['offset']-_0x1da847['offset'],_0x1d8192['buffer']!==_0x1da847['buffer']||_0x1d8192['stride']!==_0x53814e['stride']||_0x1d8192['size']!==_0x53814e['size']||_0x235bc2!==_0x53814e['offset']){_0x2f8ce3=!(0x1270+-0x5*0x101+-0x6b5*0x2);break;}const _0xb31ccc=new Is(_0x3705d2,_0xe93803,_0x38c90c),_0x1c2386=_0xb31ccc['lock'](),_0x207bc5=new Uint32Array(_0x1c2386);let _0x1c349f;if(_0x2f8ce3)_0x1c349f=new Uint32Array(_0x1da847['buffer'],_0x1da847['offset'],_0x38c90c*_0xb31ccc['format']['size']/(0x1*-0x196d+-0x5ec*-0x1+0x1385)),_0x207bc5['set'](_0x1c349f);else{let _0x566af3,_0x184f8a;for(_0x3d3025=-0x1027+0x1153+0xf*-0x14;_0x3d3025<_0xb31ccc['format']['elements']['length'];++_0x3d3025){_0x53814e=_0xb31ccc['format']['elements'][_0x3d3025],_0x566af3=_0x53814e['stride']/(-0x99c+0x1fcd+-0x162d*0x1),_0x1d8192=_0xbdec13[_0x53814e['name']],_0x184f8a=_0x1d8192['stride']/(0x1b2b+-0x11fc+-0x92b),_0x1c349f=new Uint32Array(_0x1d8192['buffer'],_0x1d8192['offset'],(_0x1d8192['count']-(0xedb*-0x2+-0x74c*-0x4+0x87))*_0x184f8a+(_0x1d8192['size']+(0x7*-0x227+0x407*-0x7+-0x35*-0xd1))/(-0x13b0+0x6*-0x158+0x1bc4));let _0x29705b=-0x1*0x1529+0x166+-0x1*-0x13c3,_0x285acb=_0x53814e['offset']/(0x5d9*0x6+-0x85e*0x1+-0x4*0x6ad);const _0x23c606=Math['floor']((_0x1d8192['size']+(0x4fb+0x2673+-0x27*0x11d))/(0x709+0x5*-0x29e+0x611));for(_0x286067=0x5db+-0x27f+-0x4*0xd7;_0x286067<_0x38c90c;++_0x286067){for(_0x3ad0f5=-0x893+-0xb*0x158+-0x1*-0x175b;_0x3ad0f5<_0x23c606;++_0x3ad0f5)_0x207bc5[_0x285acb+_0x3ad0f5]=_0x1c349f[_0x29705b+_0x3ad0f5];_0x29705b+=_0x184f8a,_0x285acb+=_0x566af3;}}}return _0xb31ccc['unlock'](),_0xb31ccc;},iN=(_0x29e31f,_0x446720,_0x13cd4b,_0x16c0ed,_0xbb7ecf,_0x5a53e1)=>{const _0x26fb60={},_0x3fc1ab=[];for(const _0x35a83f in _0x446720)_0x446720['hasOwnProp'+'erty'](_0x35a83f)&&Nh['hasOwnProp'+'erty'](_0x35a83f)&&(_0x26fb60[_0x35a83f]=_0x446720[_0x35a83f],_0x3fc1ab['push'](_0x35a83f+':'+_0x446720[_0x35a83f]));_0x3fc1ab['sort']();const _0x307db9=_0x3fc1ab['join']();let _0x4a6fa9=_0x5a53e1[_0x307db9];if(!_0x4a6fa9){const _0x5b7fa0={};for(const _0x40e6b4 in _0x26fb60){const _0x57f07c=_0x16c0ed[_0x446720[_0x40e6b4]],_0x5cc867=ua(_0x57f07c,_0xbb7ecf),_0x4a8d11=_0xbb7ecf[_0x57f07c['bufferView']],_0x501272=Nh[_0x40e6b4],_0x414101=yl(_0x57f07c['type'])*YF(_0x57f07c['componentT'+'ype']),_0x2a3115=_0x4a8d11&&_0x4a8d11['hasOwnProp'+'erty']('byteStride')?_0x4a8d11['byteStride']:_0x414101;_0x5b7fa0[_0x501272]={'buffer':_0x5cc867['buffer'],'size':_0x414101,'offset':_0x5cc867['byteOffset'],'stride':_0x2a3115,'count':_0x57f07c['count'],'components':yl(_0x57f07c['type']),'type':Dd(_0x57f07c['componentT'+'ype']),'normalize':_0x57f07c['normalized']};}_0x5b7fa0['hasOwnProp'+'erty'](gs)||JF(_0x5b7fa0,_0x13cd4b),_0x4a6fa9=sN(_0x29e31f,_0x5b7fa0),_0x5a53e1[_0x307db9]=_0x4a6fa9;}return _0x4a6fa9;},rN=(_0x813a64,_0x52f158,_0x56ca24,_0x2cf6b3,_0x3303a1,_0x310fd2)=>{let _0x146719,_0x5d438a,_0x556a94;const _0x321dab=_0x52f158['joints'],_0x5558c5=_0x321dab['length'],_0x4b1528=[];if(_0x52f158['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x19b0b8=_0x52f158['inverseBin'+'dMatrices'],_0x5f549=ua(_0x56ca24[_0x19b0b8],_0x2cf6b3,!(0x9*0x138+0x7*0xb5+0xfeb*-0x1)),_0x539613=[];for(_0x146719=0x3*0x952+0x24da+-0x40d0;_0x146719<_0x5558c5;_0x146719++){for(_0x5d438a=-0x85*-0x4+0xf5e+0x13f*-0xe;_0x5d438a<0xea7*-0x1+-0x3bf+0x1276;_0x5d438a++)_0x539613[_0x5d438a]=_0x5f549[_0x146719*(-0xa2b+0xd*-0x16+-0x1*-0xb59)+_0x5d438a];_0x556a94=new te(),_0x556a94['set'](_0x539613),_0x4b1528['push'](_0x556a94);}}else{for(_0x146719=-0x7*0x2f9+0x1*-0xb45+0x2014;_0x146719<_0x5558c5;_0x146719++)_0x556a94=new te(),_0x4b1528['push'](_0x556a94);}const _0x433c2b=[];for(_0x146719=0x1f54+0x9a2+0x31*-0xd6;_0x146719<_0x5558c5;_0x146719++)_0x433c2b[_0x146719]=_0x3303a1[_0x321dab[_0x146719]]['name'];const _0x1e9279=_0x433c2b['join']('#');let _0x55a8b7=_0x310fd2['get'](_0x1e9279);return _0x55a8b7||(_0x55a8b7=new Lv(_0x813a64,_0x4b1528,_0x433c2b),_0x310fd2['set'](_0x1e9279,_0x55a8b7)),_0x55a8b7;},aN=(_0x290b38,_0x26b178,_0x52d53c,_0xa13ed5,_0xdbf018,_0x506c2d,_0x4ae7a4)=>{var _0x3070c4;const _0x39bb6b=new Ge(_0x290b38);_0x39bb6b['aabb']=Hu(_0x52d53c[_0x26b178['attributes']['POSITION']]);const _0x2903fe=[];for(const [_0x1f0982,_0x7e6ff8]of Object['entries'](_0x26b178['attributes'])){const _0x1d667d=_0x52d53c[_0x7e6ff8],_0x343984=Nh[_0x1f0982],_0x5d5a65=Dd(_0x1d667d['componentT'+'ype']);_0x2903fe['push']({'semantic':_0x343984,'components':yl(_0x1d667d['type']),'type':_0x5d5a65,'normalize':_0x1d667d['normalized']??(_0x343984===Wt&&(_0x5d5a65===la||_0x5d5a65===Ml))});}if(_0x4ae7a4['push'](new Promise((_0x3e24bb,_0x10649e)=>{const _0x538afb=_0x26b178['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0xa13ed5[_0x538afb['bufferView']]['slice']()['buffer'],(_0x29317f,_0x2b1d82)=>{var _0x196c60;if(_0x29317f)console['log'](_0x29317f),_0x10649e(_0x29317f);else{const _0x3cdc1d={};for(const [_0x4699c8,_0xbd2a80]of Object['entries'](_0x538afb['attributes']))_0x3cdc1d[Nh[_0x4699c8]]=_0x2b1d82['attributes']['indexOf'](_0xbd2a80);_0x2903fe['sort']((_0x47da33,_0x8a2b3e)=>_0x3cdc1d[_0x47da33['semantic']]-_0x3cdc1d[_0x8a2b3e['semantic']]),(_0x196c60=_0x26b178['attributes'])!=null&&_0x196c60['NORMAL']||_0x2903fe['splice'](-0x1*0x1949+-0x20f1+0x3a3b,-0x1d89+0x12cf+-0x2*-0x55d,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x156441=new kt(_0x290b38,_0x2903fe),_0x4d2209=_0x2b1d82['vertices']['byteLength']/_0x156441['size'],_0x2e0d25=_0x4d2209<=-0x5*0x1e23+-0x17c66+-0x31314*-0x1?Yi:wr,_0x2f5fe9=_0x2b1d82['indices']['byteLength']/(_0x4d2209<=0x18885+-0x1*0x19ec6+0x11640?0x1293+0x97e+-0x1c0f:-0x1*0xf47+0x2385+0x6be*-0x3);w['call'](()=>{_0x4d2209!==_0x52d53c[_0x26b178['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2f5fe9!==_0x52d53c[_0x26b178['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x430e29=new Is(_0x290b38,_0x156441,_0x4d2209,{'data':_0x2b1d82['vertices']}),_0x32b8f0=new br(_0x290b38,_0x2e0d25,_0x2f5fe9,ms,_0x2b1d82['indices']);_0x39bb6b['vertexBuff'+'er']=_0x430e29,_0x39bb6b['indexBuffe'+'r'][-0x2*0xa2b+0x3*-0x337+0x1dfb*0x1]=_0x32b8f0,_0x39bb6b['primitive'][-0xf5+0x2*-0x340+0x775]['type']=T0(_0x26b178),_0x39bb6b['primitive'][0x1*0x1db3+0x3*-0xb35+0x3ec]['base']=0x267b+-0x1f5f+-0x4*0x1c7,_0x39bb6b['primitive'][-0xed8+0x1d36+-0x6*0x265]['count']=_0x32b8f0?_0x2f5fe9:_0x4d2209,_0x39bb6b['primitive'][-0xbc4+-0xa89+0x164d]['indexed']=!!_0x32b8f0,_0x3e24bb();}});})),(_0x3070c4=_0x26b178==null?void(0x8*0x19a+0xb*0xfa+-0xa*0x25b):_0x26b178['extensions'])!=null&&_0x3070c4['KHR_materi'+'als_varian'+'ts']){const _0x44c98e=_0x26b178['extensions']['KHR_materi'+'als_varian'+'ts'],_0x5950a0={};_0x44c98e['mappings']['forEach'](_0x2eaf5a=>{_0x2eaf5a['variants']['forEach'](_0x21c116=>{_0x5950a0[_0x21c116]=_0x2eaf5a['material'];});}),_0xdbf018[_0x39bb6b['id']]=_0x5950a0;}return _0x506c2d[_0x39bb6b['id']]=_0x26b178['material'],_0x39bb6b;},nN=(_0x1ba6cb,_0x46d187,_0x2e7845,_0x504a56,_0x31521a,_0xf5d200,_0x483184,_0x3d0a8a,_0x593758)=>{const _0x23a5dc=[];return _0x46d187['primitives']['forEach'](_0x2ccff3=>{var _0x391d78;if((_0x391d78=_0x2ccff3['extensions'])!=null&&_0x391d78['KHR_draco_'+'mesh_compr'+'ession'])_0x23a5dc['push'](aN(_0x1ba6cb,_0x2ccff3,_0x2e7845,_0x504a56,_0xf5d200,_0x483184,_0x593758));else{let _0x49c798=_0x2ccff3['hasOwnProp'+'erty']('indices')?ua(_0x2e7845[_0x2ccff3['indices']],_0x504a56,!(-0x1fc3+0x67*-0x1+0x202a)):null;const _0x453eb5=iN(_0x1ba6cb,_0x2ccff3['attributes'],_0x49c798,_0x2e7845,_0x504a56,_0x31521a),_0x31fbfc=T0(_0x2ccff3),_0x55a73e=new Ge(_0x1ba6cb);if(_0x55a73e['vertexBuff'+'er']=_0x453eb5,_0x55a73e['primitive'][-0x2*-0x923+-0x1764+0x51e]['type']=_0x31fbfc,_0x55a73e['primitive'][-0x2689+-0x3*-0x5b9+0x223*0xa]['base']=0x18ab+0xb7*-0x1+-0x1*0x17f4,_0x55a73e['primitive'][-0x1*0x931+-0x2657+-0x2a4*-0x12]['indexed']=_0x49c798!==null,_0x49c798!==null){let _0x5e6d7e;_0x49c798 instanceof Uint8Array?_0x5e6d7e=$f:_0x49c798 instanceof Uint16Array?_0x5e6d7e=Yi:_0x5e6d7e=wr,_0x5e6d7e===$f&&_0x1ba6cb['isWebGPU']&&(_0x5e6d7e=Yi,_0x49c798=new Uint16Array(_0x49c798));const _0xb26884=new br(_0x1ba6cb,_0x5e6d7e,_0x49c798['length'],ms,_0x49c798);_0x55a73e['indexBuffe'+'r'][0x1*0x2027+0x2fc*0x8+-0x3807]=_0xb26884,_0x55a73e['primitive'][0x2697+0x1de6+-0x447d]['count']=_0x49c798['length'];}else _0x55a73e['primitive'][-0x5c7*0x1+0x1cd0+-0x1709]['count']=_0x453eb5['numVertice'+'s'];if(_0x2ccff3['hasOwnProp'+'erty']('extensions')&&_0x2ccff3['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x8e63ab=_0x2ccff3['extensions']['KHR_materi'+'als_varian'+'ts'],_0x16c237={};_0x8e63ab['mappings']['forEach'](_0x166fdd=>{_0x166fdd['variants']['forEach'](_0x5d36e9=>{_0x16c237[_0x5d36e9]=_0x166fdd['material'];});}),_0xf5d200[_0x55a73e['id']]=_0x16c237;}_0x483184[_0x55a73e['id']]=_0x2ccff3['material'];let _0x49b4cb=_0x2e7845[_0x2ccff3['attributes']['POSITION']];if(_0x55a73e['aabb']=Hu(_0x49b4cb),_0x2ccff3['hasOwnProp'+'erty']('targets')){const _0x3d74a5=[];_0x2ccff3['targets']['forEach']((_0x2f3c1b,_0x36ea1a)=>{const _0x283767={};_0x2f3c1b['hasOwnProp'+'erty']('POSITION')&&(_0x49b4cb=_0x2e7845[_0x2f3c1b['POSITION']],_0x283767['deltaPosit'+'ions']=Pn(_0x49b4cb,_0x504a56),_0x283767['aabb']=Hu(_0x49b4cb)),_0x2f3c1b['hasOwnProp'+'erty']('NORMAL')&&(_0x49b4cb=_0x2e7845[_0x2f3c1b['NORMAL']],_0x283767['deltaNorma'+'ls']=Pn(_0x49b4cb,_0x504a56)),_0x46d187['hasOwnProp'+'erty']('extras')&&_0x46d187['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x283767['name']=_0x46d187['extras']['targetName'+'s'][_0x36ea1a]:_0x283767['name']=_0x36ea1a['toString'](0xb7*0x2+0x1*0x4a+-0x1ae),_0x46d187['hasOwnProp'+'erty']('weights')&&(_0x283767['defaultWei'+'ght']=_0x46d187['weights'][_0x36ea1a]),_0x283767['preserveDa'+'ta']=_0x3d0a8a['morphPrese'+'rveData'],_0x3d74a5['push'](new Md(_0x283767));}),_0x55a73e['morph']=new mm(_0x3d74a5,_0x1ba6cb,{'preferHighPrecision':_0x3d0a8a['morphPrefe'+'rHighPreci'+'sion']});}_0x23a5dc['push'](_0x55a73e);}}),_0x23a5dc;},Dt=(_0x23c105,_0x54f971,_0x496d6e)=>{var _0x12dca5;let _0x25a8d1;const _0x3e1a66=_0x23c105['texCoord'];if(_0x3e1a66){for(_0x25a8d1=-0x90c*-0x4+0x416*0x8+-0x44e0;_0x25a8d1<_0x496d6e['length'];++_0x25a8d1)_0x54f971[_0x496d6e[_0x25a8d1]+'MapUv']=_0x3e1a66;}const _0x364f6b=[0xa67+0x1*-0xf4d+0x4e6,0x40e+0x1806+-0x1c14],_0x3065a1=[-0x24bc+-0x1*-0x1d9f+0x71e,0x1627+0x6*0xf9+0x6*-0x4aa],_0x2dbe31=(_0x12dca5=_0x23c105['extensions'])==null?void(-0x1a28+-0xf4c+0x2974):_0x12dca5['KHR_textur'+'e_transfor'+'m'];if(_0x2dbe31){const _0x473a11=_0x2dbe31['offset']||_0x364f6b,_0x79b65f=_0x2dbe31['scale']||_0x3065a1,_0x159698=_0x2dbe31['rotation']?-_0x2dbe31['rotation']*Y['RAD_TO_DEG']:0x205c+0x1e65+-0x3ec1,_0x47493c=new J(_0x79b65f[0x1*-0x1922+0x997*-0x1+0x22b9],_0x79b65f[-0xf05+-0x1b23*-0x1+-0xc1d]),_0x29c936=new J(_0x473a11[-0x16f4+-0x4ca+-0xddf*-0x2],0x32*-0x66+0x1dcc+-0x9df-_0x79b65f[-0x21cc+0xf77*-0x1+0x2*0x18a2]-_0x473a11[-0x159+0xf*0xc3+0x1*-0xa13]);for(_0x25a8d1=0xd69*-0x2+0x9dd+0x10f5;_0x25a8d1<_0x496d6e['length'];++_0x25a8d1)_0x54f971[_0x496d6e[_0x25a8d1]+'MapTiling']=_0x47493c,_0x54f971[_0x496d6e[_0x25a8d1]+'MapOffset']=_0x29c936,_0x54f971[_0x496d6e[_0x25a8d1]+('MapRotatio'+'n')]=_0x159698;}},oN=(_0x222f66,_0x243d94,_0x583390)=>{let _0xc222a,_0x4b9581;if(_0x222f66['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0xc222a=_0x222f66['diffuseFac'+'tor'],_0x243d94['diffuse']['set'](Math['pow'](_0xc222a[0x156d+-0xf40+0x5d*-0x11],(-0x1e7d+0x1*0x8e+-0x8*-0x3be)/(-0x12a*0x3+0xb7+-0x1f*-0x17+0.20000000000000018)),Math['pow'](_0xc222a[0x2150+0x1c1+-0x2310],(-0x218c+0x1*-0x83+-0x1*-0x2210)/(-0x17fb+0x2452+-0xc55+0.20000000000000018)),Math['pow'](_0xc222a[-0xaec+0xbfb+0x1*-0x10d],(-0xf76+-0x101a+0x1f91)/(0x148b+-0x1c42+0x7b9+0.20000000000000018))),_0x243d94['opacity']=_0xc222a[-0x3*0xa3d+0x1*0x238a+-0x2*0x268]):(_0x243d94['diffuse']['set'](0x79a+-0xe8a*0x2+0x8d*0x27,-0x95+-0x1eda+0x1f70,-0x558+0x1*0x1517+-0xfbe*0x1),_0x243d94['opacity']=-0xf1d+-0x1b8b+0x2aa9),_0x222f66['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2ccc27=_0x222f66['diffuseTex'+'ture'];_0x4b9581=_0x583390[_0x2ccc27['index']],_0x243d94['diffuseMap']=_0x4b9581,_0x243d94['diffuseMap'+'Channel']='rgb',_0x243d94['opacityMap']=_0x4b9581,_0x243d94['opacityMap'+'Channel']='a',Dt(_0x2ccc27,_0x243d94,['diffuse','opacity']);}if(_0x243d94['useMetalne'+'ss']=!(0x221*-0x7+0xf1b+-0x11*0x3),_0x222f66['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0xc222a=_0x222f66['specularFa'+'ctor'],_0x243d94['specular']['set'](Math['pow'](_0xc222a[0xca7*0x1+0x1e94+-0x2b3b],(-0xde4+0x198e+0xba9*-0x1)/(0x45d*0x5+-0x6fb*0x1+-0xed4+0.20000000000000018)),Math['pow'](_0xc222a[0x50+-0x1*-0x6f8+-0x747],(0x1725+-0x2703+-0x1*-0xfdf)/(0x16b1*-0x1+-0x526*-0x4+-0x4d*-0x7+0.20000000000000018)),Math['pow'](_0xc222a[-0x1903+-0x100f+0x148a*0x2],(-0x11f2*-0x1+0x1d5e+-0x2f4f)/(-0x3f6+-0xb*0x65+0x84f+0.20000000000000018)))):_0x243d94['specular']['set'](-0x9*0x305+-0x3d7*0x8+0x39e6,0x1*0x1f31+-0x2343+-0x7*-0x95,-0x160f+0x7ff+0xe11),_0x222f66['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x243d94['gloss']=_0x222f66['glossiness'+'Factor']:_0x243d94['gloss']=0x2460+-0x1e2d*0x1+0x1*-0x632,_0x222f66['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x549f4d=_0x222f66['specularGl'+'ossinessTe'+'xture'];_0x243d94['specularMa'+'p']=_0x243d94['glossMap']=_0x583390[_0x549f4d['index']],_0x243d94['specularMa'+'pChannel']='rgb',_0x243d94['glossMapCh'+'annel']='a',Dt(_0x549f4d,_0x243d94,['gloss','metalness']);}},lN=(_0x1ba48d,_0x30bfe2,_0x4cc189)=>{if(_0x1ba48d['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x30bfe2['clearCoat']=_0x1ba48d['clearcoatF'+'actor']*(-0x18e3+-0x4*0x67a+-0x32cb*-0x1+0.25):_0x30bfe2['clearCoat']=0x1d41+-0x180d+-0x534,_0x1ba48d['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xf682ed=_0x1ba48d['clearcoatT'+'exture'];_0x30bfe2['clearCoatM'+'ap']=_0x4cc189[_0xf682ed['index']],_0x30bfe2['clearCoatM'+'apChannel']='r',Dt(_0xf682ed,_0x30bfe2,['clearCoat']);}if(_0x1ba48d['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x30bfe2['clearCoatG'+'loss']=_0x1ba48d['clearcoatR'+'oughnessFa'+'ctor']:_0x30bfe2['clearCoatG'+'loss']=0x8d9*0x2+0x23cd+-0x357f,_0x1ba48d['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1bf298=_0x1ba48d['clearcoatR'+'oughnessTe'+'xture'];_0x30bfe2['clearCoatG'+'lossMap']=_0x4cc189[_0x1bf298['index']],_0x30bfe2['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1bf298,_0x30bfe2,['clearCoatG'+'loss']);}if(_0x1ba48d['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x4976f6=_0x1ba48d['clearcoatN'+'ormalTextu'+'re'];_0x30bfe2['clearCoatN'+'ormalMap']=_0x4cc189[_0x4976f6['index']],Dt(_0x4976f6,_0x30bfe2,['clearCoatN'+'ormal']),_0x4976f6['hasOwnProp'+'erty']('scale')?_0x30bfe2['clearCoatB'+'umpiness']=_0x4976f6['scale']:_0x30bfe2['clearCoatB'+'umpiness']=0x1f5*-0x12+0x42a+0x3*0xa5b;}_0x30bfe2['clearCoatG'+'lossInvert']=!(0x13c8+0x93e+0xe83*-0x2);},cN=(_0x449532,_0x1cdbaa,_0x47da6c)=>{_0x1cdbaa['useLightin'+'g']=!(-0xf52+-0x1*0x3d+0xf90),_0x1cdbaa['emissive']['copy'](_0x1cdbaa['diffuse']),_0x1cdbaa['emissiveMa'+'p']=_0x1cdbaa['diffuseMap'],_0x1cdbaa['emissiveMa'+'pUv']=_0x1cdbaa['diffuseMap'+'Uv'],_0x1cdbaa['emissiveMa'+'pTiling']['copy'](_0x1cdbaa['diffuseMap'+'Tiling']),_0x1cdbaa['emissiveMa'+'pOffset']['copy'](_0x1cdbaa['diffuseMap'+'Offset']),_0x1cdbaa['emissiveMa'+'pRotation']=_0x1cdbaa['diffuseMap'+'Rotation'],_0x1cdbaa['emissiveMa'+'pChannel']=_0x1cdbaa['diffuseMap'+'Channel'],_0x1cdbaa['emissiveVe'+'rtexColor']=_0x1cdbaa['diffuseVer'+'texColor'],_0x1cdbaa['emissiveVe'+'rtexColorC'+'hannel']=_0x1cdbaa['diffuseVer'+'texColorCh'+'annel'],_0x1cdbaa['useLightin'+'g']=!(-0x1525+0x1*-0x1a11+0x2f37),_0x1cdbaa['useSkybox']=!(0x361+0x120d+-0x5*0x449),_0x1cdbaa['diffuse']['set'](0x17a3+-0x20a7+0x905*0x1,-0x100c*-0x2+-0x26e+-0x1da9,-0x9da+-0x3a*0x38+0x168b),_0x1cdbaa['diffuseMap']=null,_0x1cdbaa['diffuseVer'+'texColor']=!(0x7*-0x11b+0x210d+-0x155*0x13);},hN=(_0x33d6b2,_0x4b6665,_0x3daf07)=>{if(_0x4b6665['useMetalne'+'ssSpecular'+'Color']=!(-0x1562+-0x31*-0x94+-0x6f2),_0x33d6b2['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x4b6665['specularMa'+'p']=_0x3daf07[_0x33d6b2['specularCo'+'lorTexture']['index']],_0x4b6665['specularMa'+'pChannel']='rgb',Dt(_0x33d6b2['specularCo'+'lorTexture'],_0x4b6665,['specular'])),_0x33d6b2['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x7690fd=_0x33d6b2['specularCo'+'lorFactor'];_0x4b6665['specular']['set'](Math['pow'](_0x7690fd[0x181*0x7+0x247b+-0x16*0x223],(-0x455*-0x4+0x1*-0xb21+-0x632)/(-0xb*-0x162+-0x3d4+-0xb60+0.20000000000000018)),Math['pow'](_0x7690fd[-0x1*0x10af+-0x2286+0x39*0xe6],(0x14*0x85+0x217*-0x10+0x170d)/(0x1d64+0x805+0x5*-0x77b+0.20000000000000018)),Math['pow'](_0x7690fd[0x346*0x2+-0x13fb+0xd71],(0x11*0x83+-0x2462+0x8*0x376)/(0x12cf+-0x497*-0x1+-0x1764+0.20000000000000018)));}else _0x4b6665['specular']['set'](0x1*0xdf3+-0x1d40+0xf4e*0x1,-0x3*-0x1b5+0x811+-0x5*0x2a3,-0x2257+0x194a+0x90e);_0x33d6b2['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x4b6665['specularit'+'yFactor']=_0x33d6b2['specularFa'+'ctor']:_0x4b6665['specularit'+'yFactor']=0xde0+-0xe5*0x5+-0x966,_0x33d6b2['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x4b6665['specularit'+'yFactorMap'+'Channel']='a',_0x4b6665['specularit'+'yFactorMap']=_0x3daf07[_0x33d6b2['specularTe'+'xture']['index']],Dt(_0x33d6b2['specularTe'+'xture'],_0x4b6665,['specularit'+'yFactor']));},dN=(_0x79aff6,_0x2076c5,_0x18dee4)=>{_0x79aff6['hasOwnProp'+'erty']('ior')&&(_0x2076c5['refraction'+'Index']=(-0x3*0xcbc+-0x6*0x605+0x4a53)/_0x79aff6['ior']);},fN=(_0x4e3a65,_0x1c2ee2,_0x88df50)=>{_0x4e3a65['hasOwnProp'+'erty']('dispersion')&&(_0x1c2ee2['dispersion']=_0x4e3a65['dispersion']);},uN=(_0x159b07,_0x406abf,_0x4b9245)=>{_0x406abf['blendType']=Zs,_0x406abf['useDynamic'+'Refraction']=!(0x11f5*-0x1+-0xbc*-0xb+0x9e1),_0x159b07['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x406abf['refraction']=_0x159b07['transmissi'+'onFactor']),_0x159b07['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x406abf['refraction'+'MapChannel']='r',_0x406abf['refraction'+'Map']=_0x4b9245[_0x159b07['transmissi'+'onTexture']['index']],Dt(_0x159b07['transmissi'+'onTexture'],_0x406abf,['refraction']));},pN=(_0x8c94cc,_0x3344da,_0x167958)=>{if(_0x3344da['useSheen']=!(-0x191c+-0xbe9*-0x3+-0xa9f),_0x8c94cc['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x16c92c=_0x8c94cc['sheenColor'+'Factor'];_0x3344da['sheen']['set'](Math['pow'](_0x16c92c[-0x19d3+-0x1*0x89c+-0x6e3*-0x5],(0x4bb+0x76*-0x18+0x32b*0x2)/(0x21*0x65+-0x205+-0xafe+0.20000000000000018)),Math['pow'](_0x16c92c[-0x1625+-0x26b0+0x3cd6],(0x1177+0xa*0xc4+-0x191e)/(-0x461+0x2032+-0x1bcf*0x1+0.20000000000000018)),Math['pow'](_0x16c92c[-0x1a73+0x27*-0x5b+0x2852],(0x2*0x7ed+-0x5*-0x53+-0x1178)/(-0x5*0xf7+0x2*0xe81+-0x3*0x80f+0.20000000000000018)));}else _0x3344da['sheen']['set'](-0x308*0xc+0x175d+0xd04*0x1,0x22*-0xb5+-0x937+0x2142,-0x3c*0x7a+-0x19*0x8a+0x2a13*0x1);_0x8c94cc['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x3344da['sheenMap']=_0x167958[_0x8c94cc['sheenColor'+'Texture']['index']],Dt(_0x8c94cc['sheenColor'+'Texture'],_0x3344da,['sheen'])),_0x3344da['sheenGloss']=_0x8c94cc['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x8c94cc['sheenRough'+'nessFactor']:-0x13ac*-0x1+0x5*-0x275+-0x763*0x1,_0x8c94cc['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x3344da['sheenGloss'+'Map']=_0x167958[_0x8c94cc['sheenRough'+'nessTextur'+'e']['index']],_0x3344da['sheenGloss'+'MapChannel']='a',Dt(_0x8c94cc['sheenRough'+'nessTextur'+'e'],_0x3344da,['sheenGloss'])),_0x3344da['sheenGloss'+'Invert']=!(0xf7e+0x200f*-0x1+0x1091);},mN=(_0x36ca02,_0x119c65,_0x45c19d)=>{if(_0x119c65['blendType']=Zs,_0x119c65['useDynamic'+'Refraction']=!(-0x51b*-0x7+0xf45+-0x3302),_0x36ca02['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x119c65['thickness']=_0x36ca02['thicknessF'+'actor']),_0x36ca02['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x119c65['thicknessM'+'ap']=_0x45c19d[_0x36ca02['thicknessT'+'exture']['index']],_0x119c65['thicknessM'+'apChannel']='g',Dt(_0x36ca02['thicknessT'+'exture'],_0x119c65,['thickness'])),_0x36ca02['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x119c65['attenuatio'+'nDistance']=_0x36ca02['attenuatio'+'nDistance']),_0x36ca02['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x1bcc6d=_0x36ca02['attenuatio'+'nColor'];_0x119c65['attenuatio'+'n']['set'](Math['pow'](_0x1bcc6d[0x10e6+0x1*-0xc43+0x4a3*-0x1],(-0x1*-0xaf9+-0xe27+0x32f)/(0xdeb+0x2*-0xe3e+0x29*0x5b+0.20000000000000018)),Math['pow'](_0x1bcc6d[-0x9b*0x1+-0xec3*-0x1+-0xe27*0x1],(-0xd9*-0x26+-0x4*0x4a2+-0xdad)/(-0x23d8+-0x1*0x130e+0x36e8+0.20000000000000018)),Math['pow'](_0x1bcc6d[0xb6a+-0x6*-0x2f0+-0x4*0x742],(0x1229+-0x4*0x143+0x4*-0x347)/(0x7*-0x49a+0x1f25*-0x1+0x3*0x151f+0.20000000000000018)));}},_N=(_0x5298da,_0x49862c,_0x4d2f62)=>{_0x5298da['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x49862c['emissiveIn'+'tensity']=_0x5298da['emissiveSt'+'rength']);},gN=(_0x36222d,_0x2cce90,_0x328be0)=>{_0x2cce90['useIridesc'+'ence']=!(0x2b9+0x3*-0x631+0xfda),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x2cce90['iridescenc'+'e']=_0x36222d['iridescenc'+'eFactor']),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x2cce90['iridescenc'+'eMapChanne'+'l']='r',_0x2cce90['iridescenc'+'eMap']=_0x328be0[_0x36222d['iridescenc'+'eTexture']['index']],Dt(_0x36222d['iridescenc'+'eTexture'],_0x2cce90,['iridescenc'+'e'])),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x2cce90['iridescenc'+'eRefractio'+'nIndex']=_0x36222d['iridescenc'+'eIor']),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x2cce90['iridescenc'+'eThickness'+'Min']=_0x36222d['iridescenc'+'eThickness'+'Minimum']),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x2cce90['iridescenc'+'eThickness'+'Max']=_0x36222d['iridescenc'+'eThickness'+'Maximum']),_0x36222d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x2cce90['iridescenc'+'eThickness'+'MapChannel']='g',_0x2cce90['iridescenc'+'eThickness'+'Map']=_0x328be0[_0x36222d['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x36222d['iridescenc'+'eThickness'+'Texture'],_0x2cce90,['iridescenc'+'eThickness']));},SN=(_0x3cc013,_0x2b7a33,_0x1a8126)=>{if(_0x2b7a33['enableGGXS'+'pecular']=!(-0x1*-0xd3b+0x253+0xb5*-0x16),_0x3cc013['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x2b7a33['anisotropy'+'Intensity']=_0x3cc013['anisotropy'+'Strength']:_0x2b7a33['anisotropy'+'Intensity']=-0x1*-0x1eaf+-0x1ae8+0x1*-0x3c7,_0x3cc013['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x4eb5a2=_0x3cc013['anisotropy'+'Texture'];_0x2b7a33['anisotropy'+'Map']=_0x1a8126[_0x4eb5a2['index']],Dt(_0x4eb5a2,_0x2b7a33,['anisotropy']);}_0x3cc013['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x2b7a33['anisotropy'+'Rotation']=_0x3cc013['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x2b7a33['anisotropy'+'Rotation']=-0x2297+0x3*0x9c3+0x2*0x2a7;},w0=(_0x2fdb7f,_0x4fb5a9)=>{const _0x4e091e=new Ut();_0x2fdb7f['hasOwnProp'+'erty']('name')&&(_0x4e091e['name']=_0x2fdb7f['name']),_0x4e091e['occludeSpe'+'cular']=bd,_0x4e091e['diffuseVer'+'texColor']=!(0x232f+-0x1fa6+0x389*-0x1),_0x4e091e['specularTi'+'nt']=!(0x1ae7+-0x1cc*0x1+-0x191b),_0x4e091e['specularVe'+'rtexColor']=!(0x4*-0x78d+0x1*-0x2593+0x43c7),_0x4e091e['specular']['set'](0x1009+0x1*0x871+-0x1879,-0x4c1*0x1+-0x11cd+0x168f,-0x61*0x35+0x19d4+-0x5be),_0x4e091e['gloss']=0x1f*0x102+0xc1*-0x19+0x34*-0x3d,_0x4e091e['glossInver'+'t']=!(0x15e7+-0x1d1c+0x735),_0x4e091e['useMetalne'+'ss']=!(0x4*0x2f9+-0x910+-0x2*0x16a);let _0x5ded72,_0x599b28;if(_0x2fdb7f['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x4033ed=_0x2fdb7f['pbrMetalli'+'cRoughness'];if(_0x4033ed['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x5ded72=_0x4033ed['baseColorF'+'actor'],_0x4e091e['diffuse']['set'](Math['pow'](_0x5ded72[-0x2586+0x4*-0x5cc+0x199*0x26],(0x2*0x1085+-0x2439+0x330)/(0x1241*-0x1+0x2556+-0x1313+0.20000000000000018)),Math['pow'](_0x5ded72[-0x1*0x121f+-0x143e+0x6*0x665],(0x3c0+-0xbf*0xe+0x31*0x23)/(-0x2*0x417+0x1*-0xc2c+0x145c+0.20000000000000018)),Math['pow'](_0x5ded72[0x108e+-0xc8f+0x1*-0x3fd],(0x20f9*-0x1+0x185b*-0x1+0x3955)/(-0x26ee+0xee*-0x1f+0x43c2+0.20000000000000018))),_0x4e091e['opacity']=_0x5ded72[0xecf+-0x328+-0x5*0x254]),_0x4033ed['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x299f69=_0x4033ed['baseColorT'+'exture'];_0x599b28=_0x4fb5a9[_0x299f69['index']],_0x4e091e['diffuseMap']=_0x599b28,_0x4e091e['diffuseMap'+'Channel']='rgb',_0x4e091e['opacityMap']=_0x599b28,_0x4e091e['opacityMap'+'Channel']='a',Dt(_0x299f69,_0x4e091e,['diffuse','opacity']);}if(_0x4033ed['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4e091e['metalness']=_0x4033ed['metallicFa'+'ctor']),_0x4033ed['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4e091e['gloss']=_0x4033ed['roughnessF'+'actor']),_0x4033ed['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x86d0cf=_0x4033ed['metallicRo'+'ughnessTex'+'ture'];_0x4e091e['metalnessM'+'ap']=_0x4e091e['glossMap']=_0x4fb5a9[_0x86d0cf['index']],_0x4e091e['metalnessM'+'apChannel']='b',_0x4e091e['glossMapCh'+'annel']='g',Dt(_0x86d0cf,_0x4e091e,['gloss','metalness']);}}if(_0x2fdb7f['hasOwnProp'+'erty']('normalText'+'ure')){const _0x44eea4=_0x2fdb7f['normalText'+'ure'];_0x4e091e['normalMap']=_0x4fb5a9[_0x44eea4['index']],Dt(_0x44eea4,_0x4e091e,['normal']),_0x44eea4['hasOwnProp'+'erty']('scale')&&(_0x4e091e['bumpiness']=_0x44eea4['scale']);}if(_0x2fdb7f['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x5109d6=_0x2fdb7f['occlusionT'+'exture'];_0x4e091e['aoMap']=_0x4fb5a9[_0x5109d6['index']],_0x4e091e['aoMapChann'+'el']='r',Dt(_0x5109d6,_0x4e091e,['ao']);}if(_0x2fdb7f['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x5ded72=_0x2fdb7f['emissiveFa'+'ctor'],_0x4e091e['emissive']['set'](Math['pow'](_0x5ded72[-0x2635*-0x1+0x16d*-0x4+-0x2081],(-0x31*0xa1+-0x72b*0x1+-0x799*-0x5)/(-0x7e2+0x372+-0x472*-0x1+0.20000000000000018)),Math['pow'](_0x5ded72[-0x3*0x56+0x228f+-0x13*0x1c4],(-0xc*0x151+-0x7*-0x71+-0x65b*-0x2)/(0x1*-0x267a+-0xea7+0x3523+0.20000000000000018)),Math['pow'](_0x5ded72[0x7ac+0x206+-0x9b0],(0x7cf*-0x5+-0x1fdd+-0x3*-0x17a3)/(-0xa75*0x1+0x1f*0x7c+-0x48d+0.20000000000000018)))),_0x2fdb7f['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x12ba4e=_0x2fdb7f['emissiveTe'+'xture'];_0x4e091e['emissiveMa'+'p']=_0x4fb5a9[_0x12ba4e['index']],Dt(_0x12ba4e,_0x4e091e,['emissive']);}if(_0x2fdb7f['hasOwnProp'+'erty']('alphaMode'))switch(_0x2fdb7f['alphaMode']){case'MASK':_0x4e091e['blendType']=Cs,_0x2fdb7f['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4e091e['alphaTest']=_0x2fdb7f['alphaCutof'+'f']:_0x4e091e['alphaTest']=-0x1*0x2642+0x981*0x2+0x1340+0.5;break;case'BLEND':_0x4e091e['blendType']=Zs,_0x4e091e['depthWrite']=!(0x190b+0x1cbe+-0x35c8);break;default:case'OPAQUE':_0x4e091e['blendType']=Cs;break;}else _0x4e091e['blendType']=Cs;_0x2fdb7f['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4e091e['twoSidedLi'+'ghting']=_0x2fdb7f['doubleSide'+'d'],_0x4e091e['cull']=_0x2fdb7f['doubleSide'+'d']?bt:pa):(_0x4e091e['twoSidedLi'+'ghting']=!(0x651+-0x2*-0x199+-0x982),_0x4e091e['cull']=pa);const _0x5d3add={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x2fdb7f['hasOwnProp'+'erty']('extensions'))for(const _0x15d154 in _0x2fdb7f['extensions']){const _0x52fcf1=_0x5d3add[_0x15d154];_0x52fcf1!==void(0x1*0x1999+-0xc*0x12f+-0xb65)&&_0x52fcf1(_0x2fdb7f['extensions'][_0x15d154],_0x4e091e,_0x4fb5a9);}return _0x4e091e['update'](),_0x4e091e;},yN=(_0x55a054,_0xdc15f6,_0x1e82e6,_0x4e679c,_0x2d5358,_0xe0def3,_0x370fbd)=>{const _0x3b9df4=_0x537713=>new Fh(yl(_0x537713['type']),Pn(_0x537713,_0x4e679c)),_0x4618c7={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0xa7c5ac={},_0x4b806c={},_0x3778a8={};let _0x5ab9de=0x151*-0xa+-0x1bfe+0x2929,_0x2f12b0;for(_0x2f12b0=0x9b*0x2f+-0x17*-0x136+-0x384f;_0x2f12b0<_0x55a054['samplers']['length'];++_0x2f12b0){const _0x51b3e5=_0x55a054['samplers'][_0x2f12b0];_0xa7c5ac['hasOwnProp'+'erty'](_0x51b3e5['input'])||(_0xa7c5ac[_0x51b3e5['input']]=_0x3b9df4(_0x1e82e6[_0x51b3e5['input']])),_0x4b806c['hasOwnProp'+'erty'](_0x51b3e5['output'])||(_0x4b806c[_0x51b3e5['output']]=_0x3b9df4(_0x1e82e6[_0x51b3e5['output']]));const _0x28cb03=_0x51b3e5['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x4618c7['hasOwnProp'+'erty'](_0x51b3e5['interpolat'+'ion'])?_0x4618c7[_0x51b3e5['interpolat'+'ion']]:Su,_0x3eb2ae={'paths':[],'input':_0x51b3e5['input'],'output':_0x51b3e5['output'],'interpolation':_0x28cb03};_0x3778a8[_0x2f12b0]=_0x3eb2ae;}const _0x5f3ac6=[],_0xdd4877={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x2e8ae9=_0x5128f1=>{const _0x26d920=[];for(;_0x5128f1;)_0x26d920['unshift'](_0x5128f1['name']),_0x5128f1=_0x5128f1['parent'];return _0x26d920;},_0x1c8d16=(_0x18244c,_0x8991f7,_0x5ba81f)=>{const _0x1b839d=_0x4b806c[_0x18244c['output']];if(!_0x1b839d){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x5ba81f+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x1a2831;if(_0xe0def3&&_0xe0def3[_0x8991f7['mesh']]){const _0x3fc3d5=_0xe0def3[_0x8991f7['mesh']];_0x3fc3d5['hasOwnProp'+'erty']('extras')&&_0x3fc3d5['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x1a2831=_0x3fc3d5['extras']['targetName'+'s']);}const _0x280897=_0x1b839d['data'],_0x47dd88=_0x280897['length']/_0xa7c5ac[_0x18244c['input']]['data']['length'],_0x1769bb=_0x280897['length']/_0x47dd88,_0x37ac12=_0x1769bb*(-0x21+0x574*-0x6+-0x20dd*-0x1),_0x2f0419=new ArrayBuffer(_0x37ac12*_0x47dd88);for(let _0x5d0efe=-0x1689+-0x21d*0xc+0xff7*0x3;_0x5d0efe<_0x47dd88;_0x5d0efe++){const _0x4f3ea2=new Float32Array(_0x2f0419,_0x37ac12*_0x5d0efe,_0x1769bb);for(let _0x5aaa4=-0x25e4+-0x6*-0x46f+0x55*0x22;_0x5aaa4<_0x1769bb;_0x5aaa4++)_0x4f3ea2[_0x5aaa4]=_0x280897[_0x5aaa4*_0x47dd88+_0x5d0efe];const _0x2e2daa=new Fh(0xbb*0x9+-0xa8*-0x17+-0x15aa,_0x4f3ea2),_0x17fd27=_0x1a2831!=null&&_0x1a2831[_0x5d0efe]?'name.'+_0x1a2831[_0x5d0efe]:_0x5d0efe;_0x4b806c[-_0x5ab9de]=_0x2e2daa;const _0x535cf6={'paths':[{'entityPath':_0x5ba81f,'component':'graph','propertyPath':['weight.'+_0x17fd27]}],'input':_0x18244c['input'],'output':-_0x5ab9de,'interpolation':_0x18244c['interpolat'+'ion']};_0x5ab9de++,_0x3778a8['morphCurve'+'-'+_0x2f12b0+'-'+_0x5d0efe]=_0x535cf6;}};for(_0x2f12b0=-0x1*0x3a3+-0xbf6+0xf99;_0x2f12b0<_0x55a054['channels']['length'];++_0x2f12b0){const _0x4281e9=_0x55a054['channels'][_0x2f12b0],_0xc56238=_0x4281e9['target'],_0x194036=_0x3778a8[_0x4281e9['sampler']],_0x379b2b=_0x2d5358[_0xc56238['node']],_0x2a765e=_0x370fbd[_0xc56238['node']],_0x348840=_0x2e8ae9(_0x379b2b);_0xc56238['path']['startsWith']('weights')?(_0x1c8d16(_0x194036,_0x2a765e,_0x348840),_0x3778a8[_0x4281e9['sampler']]['morphCurve']=!(-0xa4f*-0x3+-0x250+-0x1c9d)):_0x194036['paths']['push']({'entityPath':_0x348840,'component':'graph','propertyPath':[_0xdd4877[_0xc56238['path']]]});}const _0x52926e=[],_0x459dfc=[],_0x2fc9f4=[];for(const _0x5b9c6d in _0xa7c5ac)_0x52926e['push'](_0xa7c5ac[_0x5b9c6d]),_0xa7c5ac[_0x5b9c6d]=_0x52926e['length']-(0xb*0x31+-0x106b+0xe51*0x1);for(const _0x4d5234 in _0x4b806c)_0x459dfc['push'](_0x4b806c[_0x4d5234]),_0x4b806c[_0x4d5234]=_0x459dfc['length']-(0x537*-0x4+0x1d77+-0x3*0x2de);for(const _0x286f10 in _0x3778a8){const _0x257286=_0x3778a8[_0x286f10];_0x257286['morphCurve']||(_0x2fc9f4['push'](new v0(_0x257286['paths'],_0xa7c5ac[_0x257286['input']],_0x4b806c[_0x257286['output']],_0x257286['interpolat'+'ion'])),_0x257286['paths']['length']>0x20*-0x44+0x9*-0x27d+0xb*0x2cf&&_0x257286['paths'][-0x1*-0x1654+-0x3d*0x6f+0x5*0xd3]['propertyPa'+'th'][-0xdf*-0x1f+-0x45a*0x7+0x375]==='localRotat'+'ion'&&_0x257286['interpolat'+'ion']!==yu&&_0x5f3ac6['push'](_0x2fc9f4[_0x2fc9f4['length']-(0x694+-0xd87+-0x59*-0x14)]['output']));}_0x5f3ac6['sort']();let _0x4fa2b5=null,_0x20abdc;for(_0x2f12b0=0x1*0x1154+-0x1*0x11ab+0x57;_0x2f12b0<_0x5f3ac6['length'];++_0x2f12b0){const _0x4bc7db=_0x5f3ac6[_0x2f12b0];if(_0x2f12b0===-0x1*-0x2655+-0x900+-0x1d55||_0x4bc7db!==_0x4fa2b5){if(_0x20abdc=_0x459dfc[_0x4bc7db],_0x20abdc['components']===-0x1d8*0xb+0x264+0x23d*0x8){const _0x503a1f=_0x20abdc['data'],_0x44258d=_0x503a1f['length']-(0x2051+-0x1456+-0xbf7);for(let _0x46030e=0x2d7*-0xb+-0x2*0x1240+-0x1*-0x43bd;_0x46030e<_0x44258d;_0x46030e+=0x1*-0x1b88+0x157b+0x611)_0x503a1f[_0x46030e+(-0x21b+0x1862+0x3*-0x76d)]*_0x503a1f[_0x46030e+(0x18*0x1e+-0xd1c*0x2+0x4*0x5db)]+_0x503a1f[_0x46030e+(-0x358*0x2+-0x2*-0x1223+-0x1d95)]*_0x503a1f[_0x46030e+(0x2072+0x236d+0x3c5*-0x12)]+_0x503a1f[_0x46030e+(0x65f*-0x5+-0x38c*-0x9+-0xf)]*_0x503a1f[_0x46030e+(0x2*0x755+-0x12b5+0x411)]+_0x503a1f[_0x46030e+(-0x26*0x35+-0xfcc+0x17ad)]*_0x503a1f[_0x46030e+(-0x4c*-0x82+0x11*-0xa6+-0x1b8b)]<0x32*-0xb6+0x82*0x7+0x38e*0x9&&(_0x503a1f[_0x46030e+(0x2*-0xeca+-0x1ef0+0x3c88)]*=-(0x1*0xb26+-0xe45+0x320),_0x503a1f[_0x46030e+(0x7*-0x101+-0x17*0x199+0x2bcb)]*=-(-0xb1f+0x759+0x3c7),_0x503a1f[_0x46030e+(-0x1ce2+0x321*0xb+0x11*-0x53)]*=-(0x231e+0x26f7+0x4a14*-0x1),_0x503a1f[_0x46030e+(-0x2416+0x3*0xa4e+0x79*0xb)]*=-(-0x44*0x34+0x1d92+-0x1*0xfc1));}_0x4fa2b5=_0x4bc7db;}}let _0x394153=-0x1efd+-0x8af+0x27ac;for(_0x2f12b0=0x2*-0x229+-0x163*0x11+0x1be5;_0x2f12b0<_0x52926e['length'];_0x2f12b0++)_0x20abdc=_0x52926e[_0x2f12b0]['_data'],_0x394153=Math['max'](_0x394153,_0x20abdc['length']===-0x1bd1+0xa0d+-0x17b*-0xc?-0x85d*-0x4+0x1634+-0x37a8:_0x20abdc[_0x20abdc['length']-(-0xb56+0x1945+-0xdee)]);return new Qi(_0x55a054['hasOwnProp'+'erty']('name')?_0x55a054['name']:'animation_'+_0xdc15f6,_0x394153,_0x52926e,_0x459dfc,_0x2fc9f4);},Dc=new te(),Qa=new D(),vN=(_0x1aa990,_0x1f8b7e,_0x33fb74)=>{const _0x4be73b=new Ie();if(_0x1aa990['hasOwnProp'+'erty']('name')&&_0x1aa990['name']['length']>0x90+0x153+-0x1e3?_0x4be73b['name']=_0x1aa990['name']:_0x4be73b['name']='node_'+_0x1f8b7e,_0x1aa990['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x1aa990['matrix']),Dc['getTransla'+'tion'](Qa),_0x4be73b['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x4be73b['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x4be73b['setLocalSc'+'ale'](Qa)),_0x1aa990['hasOwnProp'+'erty']('rotation')){const _0x5ccc0c=_0x1aa990['rotation'];_0x4be73b['setLocalRo'+'tation'](_0x5ccc0c[-0x2547+-0x1*-0x11c0+0x1387],_0x5ccc0c[-0x18fd*0x1+0x8+0x1e*0xd5],_0x5ccc0c[-0x3e*0x34+-0x1*-0xdf0+-0x156],_0x5ccc0c[0x1c27+-0x6a3*-0x5+-0x1*0x3d53]);}if(_0x1aa990['hasOwnProp'+'erty']('translatio'+'n')){const _0x3593ac=_0x1aa990['translatio'+'n'];_0x4be73b['setLocalPo'+'sition'](_0x3593ac[0x1*0x1d1+0xd*0x1a9+0xa*-0x257],_0x3593ac[0x2*-0x139+0x11f*0x1b+-0x1bd2],_0x3593ac[0x2148+-0xc60+0xa*-0x217]);}if(_0x1aa990['hasOwnProp'+'erty']('scale')){const _0x288311=_0x1aa990['scale'];_0x4be73b['setLocalSc'+'ale'](_0x288311[-0xbd9+-0x124b+0x1e24],_0x288311[-0xcaa+0x466*0x4+0x1*-0x4ed],_0x288311[-0x1cb+-0x3*0x35e+0xbe7]);}return _0x1aa990['hasOwnProp'+'erty']('extensions')&&_0x1aa990['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x33fb74['set'](_0x1aa990,{'ext':_0x1aa990['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x4be73b;},xN=(_0x1119ff,_0x364875)=>{const _0x5d3bd6=_0x1119ff['type']==='orthograph'+'ic'?En:ni,_0x4df7aa=_0x5d3bd6===En?_0x1119ff['orthograph'+'ic']:_0x1119ff['perspectiv'+'e'],_0x556291={'enabled':!(-0x526*-0x4+0xfd9+-0x2470),'projection':_0x5d3bd6,'nearClip':_0x4df7aa['znear'],'aspectRatioMode':hm};_0x4df7aa['zfar']&&(_0x556291['farClip']=_0x4df7aa['zfar']),_0x5d3bd6===En?(_0x556291['orthoHeigh'+'t']=(0x1*0x25ff+0x27*-0x33+-0x1e3a+0.5)*_0x4df7aa['ymag'],_0x4df7aa['ymag']&&(_0x556291['aspectRati'+'oMode']=lu,_0x556291['aspectRati'+'o']=_0x4df7aa['xmag']/_0x4df7aa['ymag'])):(_0x556291['fov']=_0x4df7aa['yfov']*Y['RAD_TO_DEG'],_0x4df7aa['aspectRati'+'o']&&(_0x556291['aspectRati'+'oMode']=lu,_0x556291['aspectRati'+'o']=_0x4df7aa['aspectRati'+'o']));const _0xe4b67=new lt(_0x1119ff['name']);return _0xe4b67['addCompone'+'nt']('camera',_0x556291),_0xe4b67;},TN=(_0x589ac4,_0x232993)=>{const _0x4ec7d5={'enabled':!(-0x9*0x369+0xad5*0x2+0x908),'type':_0x589ac4['type']==='point'?'omni':_0x589ac4['type'],'color':_0x589ac4['hasOwnProp'+'erty']('color')?new ie(_0x589ac4['color']):ie['WHITE'],'range':_0x589ac4['hasOwnProp'+'erty']('range')?_0x589ac4['range']:-0xae8+-0x56e*-0xa+-0x455,'falloffMode':ev,'intensity':_0x589ac4['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x589ac4['intensity'],-0x26c9*0x1+0x158c+0x113d,-0x183b+0x23e2+-0xba5):0x967*0x3+-0x2*-0xeee+-0x3a10};_0x589ac4['hasOwnProp'+'erty']('spot')&&(_0x4ec7d5['innerConeA'+'ngle']=_0x589ac4['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x589ac4['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x1709*0x1+-0x560+-0x11a9,_0x4ec7d5['outerConeA'+'ngle']=_0x589ac4['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x589ac4['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0x1*0x925+-0xf8f+0x66e)),_0x589ac4['hasOwnProp'+'erty']('intensity')&&(_0x4ec7d5['luminance']=_0x589ac4['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x4ec7d5['type']],_0x4ec7d5['outerConeA'+'ngle'],_0x4ec7d5['innerConeA'+'ngle']));const _0x37ff37=new lt(_0x232993['name']);return _0x37ff37['rotateLoca'+'l'](-0x2*-0x2ea+0x9*-0x99+0x5*-0x5,-0x1439+0x17bc+-0x383,-0x651*-0x5+-0x135c+-0x1bf*0x7),_0x37ff37['addCompone'+'nt']('light',_0x4ec7d5),_0x37ff37;},wN=(_0x378dd9,_0x401dab,_0x5709d8,_0x1b7d7c)=>{if(!_0x401dab['hasOwnProp'+'erty']('skins')||_0x401dab['skins']['length']===0x97*-0x15+0x6ab+0x5b8)return[];const _0x259b65=new Map();return _0x401dab['skins']['map'](_0x2e85be=>rN(_0x378dd9,_0x2e85be,_0x401dab['accessors'],_0x1b7d7c,_0x5709d8,_0x259b65));},EN=(_0x126446,_0x3f258b,_0x22e5e7,_0x50ab65)=>{var _0x573184,_0x230881,_0x525cad;const _0x46d9bb={},_0x304cad={},_0x1c0d0c={},_0xda0dbc=[];return{'meshes':!_0x50ab65['skipMeshes']&&((_0x573184=_0x3f258b==null?void(-0x8f5*-0x1+0x1*0x1e32+0xd*-0x303):_0x3f258b['meshes'])==null?void(-0x5*0x43a+-0x2*0xb74+0x2c0a):_0x573184['length'])&&((_0x230881=_0x3f258b==null?void(-0x439+-0x250a+-0x15*-0x1f7):_0x3f258b['accessors'])==null?void(-0x76*-0x52+-0x951+0x13d*-0x17):_0x230881['length'])&&((_0x525cad=_0x3f258b==null?void(0x3*-0xc69+0x2025+0x1b2*0x3):_0x3f258b['bufferView'+'s'])==null?void(-0x25*-0x65+-0x62+-0x1*0xe37):_0x525cad['length'])?_0x3f258b['meshes']['map'](_0x56acb2=>nN(_0x126446,_0x56acb2,_0x3f258b['accessors'],_0x22e5e7,_0x46d9bb,_0x304cad,_0x1c0d0c,_0x50ab65,_0xda0dbc)):[],'meshVariants':_0x304cad,'meshDefaultMaterials':_0x1c0d0c,'promises':_0xda0dbc};},bN=(_0x53986e,_0x41c367,_0x20934c)=>{var _0x41f783,_0x2e2486,_0x201e97;if(!_0x53986e['hasOwnProp'+'erty']('materials')||_0x53986e['materials']['length']===0x671+-0x2da+0x1*-0x397)return[];const _0x758c8a=(_0x41f783=_0x20934c==null?void(-0x123*0x5+0x21c2+0x1c13*-0x1):_0x20934c['material'])==null?void(-0x4*0x69a+0x111d+0x1*0x94b):_0x41f783['preprocess'],_0x2bd160=((_0x2e2486=_0x20934c==null?void(0x601+0x1e7e+-0x1*0x247f):_0x20934c['material'])==null?void(0x19*-0x55+-0x1*0xe1b+0x1668):_0x2e2486['process'])??w0,_0x3d0a1f=(_0x201e97=_0x20934c==null?void(0x2ae+-0xed+-0x1c1):_0x20934c['material'])==null?void(0x3*-0x2ef+0x1a1f+-0x1152):_0x201e97['postproces'+'s'];return _0x53986e['materials']['map'](_0x18f59a=>{_0x758c8a&&_0x758c8a(_0x18f59a);const _0x31c7d4=_0x2bd160(_0x18f59a,_0x41c367);return _0x3d0a1f&&_0x3d0a1f(_0x18f59a,_0x31c7d4),_0x31c7d4;});},AN=_0x15d255=>{if(!_0x15d255['hasOwnProp'+'erty']('extensions')||!_0x15d255['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x5ecaa1=_0x15d255['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x10a143={};for(let _0x1c8594=0x1*0x78b+-0x22*0xef+0x7*0x375;_0x1c8594<_0x5ecaa1['length'];_0x1c8594++)_0x10a143[_0x5ecaa1[_0x1c8594]['name']]=_0x1c8594;return _0x10a143;},CN=(_0x1c1259,_0x4e6954,_0x38d251,_0x49c575)=>{var _0x972128,_0x18bbc9;if(!_0x1c1259['hasOwnProp'+'erty']('animations')||_0x1c1259['animations']['length']===0x2*-0x3df+0x40*-0x25+0x10fe)return[];const _0x478c10=(_0x972128=_0x49c575==null?void(0x76+0xa*-0x295+0x195c):_0x49c575['animation'])==null?void(-0x2*0xdae+0x5ec*0x2+0xf84):_0x972128['preprocess'],_0x54f9e5=(_0x18bbc9=_0x49c575==null?void(-0x171f+-0x17a8+0x2ec7):_0x49c575['animation'])==null?void(-0x1*-0xdd+-0x1733+0x1656):_0x18bbc9['postproces'+'s'];return _0x1c1259['animations']['map']((_0x212362,_0x5c7b6f)=>{_0x478c10&&_0x478c10(_0x212362);const _0x14cf02=yN(_0x212362,_0x5c7b6f,_0x1c1259['accessors'],_0x38d251,_0x4e6954,_0x1c1259['meshes'],_0x1c1259['nodes']);return _0x54f9e5&&_0x54f9e5(_0x212362,_0x14cf02),_0x14cf02;});},PN=(_0x101e21,_0x3b081b,_0x4edb72,_0x2ea8f5)=>{const _0x565a23=_0x3b081b['accessors'];_0x4edb72['forEach']((_0x1589be,_0x4aa314)=>{const _0x2ae7e6=_0x1589be['ext']['attributes'];let _0x3affb3;if(_0x2ae7e6['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x1a2ebf=_0x565a23[_0x2ae7e6['TRANSLATIO'+'N']];_0x3affb3=Pn(_0x1a2ebf,_0x2ea8f5);}let _0x15135e;if(_0x2ae7e6['hasOwnProp'+'erty']('ROTATION')){const _0x29691b=_0x565a23[_0x2ae7e6['ROTATION']];_0x15135e=Pn(_0x29691b,_0x2ea8f5);}let _0x2e84f1;if(_0x2ae7e6['hasOwnProp'+'erty']('SCALE')){const _0x27a9f3=_0x565a23[_0x2ae7e6['SCALE']];_0x2e84f1=Pn(_0x27a9f3,_0x2ea8f5);}const _0x5e7f3f=(_0x3affb3?_0x3affb3['length']/(-0x331*0x5+0x170a+-0x712):0xe46+-0x26b8+0x1872)||(_0x15135e?_0x15135e['length']/(0x26c2+0xae*-0x13+-0x19d4*0x1):0xf9f*0x1+-0x12*0x55+-0x9a5)||(_0x2e84f1?_0x2e84f1['length']/(-0x1ff9+-0x2*0xbb2+0x3760):0x351*-0x6+-0x10b0+0x7*0x53a);if(_0x5e7f3f){const _0xabae0a=new Float32Array(_0x5e7f3f*(0x1*0xa3d+0x1a8a+-0x24b7*0x1)),_0x14046c=new D(),_0x1656a8=new le(),_0x4258f4=new D(-0x22ff+-0xad*-0x23+-0xb59*-0x1,-0x18bf*0x1+0x5*-0x559+0x337d,0xa4f+-0x18a9+0xe5b),_0x452d9c=new te();let _0x1cdc37=-0x131c*0x1+0x401+0xf1b;for(let _0x17334f=-0xa93+-0x7d*-0x16+-0x2b*0x1;_0x17334f<_0x5e7f3f;_0x17334f++){const _0x105d43=_0x17334f*(-0xbe*-0x5+-0x1c4b+0x4*0x626);if(_0x3affb3&&_0x14046c['set'](_0x3affb3[_0x105d43],_0x3affb3[_0x105d43+(0x1ff2+-0x9*0x2e1+-0x608)],_0x3affb3[_0x105d43+(-0x6f*0xd+-0x1*-0x557+-0x4e*-0x1)]),_0x15135e){const _0xbb327d=_0x17334f*(0xd8c+0x1385+-0x210d);_0x1656a8['set'](_0x15135e[_0xbb327d],_0x15135e[_0xbb327d+(0x16*-0x67+-0x1*0x1bf5+-0x13*-0x1f0)],_0x15135e[_0xbb327d+(0x2659+0x2565+-0x4bbc)],_0x15135e[_0xbb327d+(-0xbdf+-0x8ea*-0x2+-0x5f2)]);}_0x2e84f1&&_0x4258f4['set'](_0x2e84f1[_0x105d43],_0x2e84f1[_0x105d43+(-0x1f7b*0x1+-0x14fe+0x1a3d*0x2)],_0x2e84f1[_0x105d43+(0x11bb*0x2+0x1*0x18f1+-0x3c65)]),_0x452d9c['setTRS'](_0x14046c,_0x1656a8,_0x4258f4);for(let _0x4fa41d=-0x1f*0x71+-0x1b09+-0xa2e*-0x4;_0x4fa41d<0xf6+0x1*-0x851+0x279*0x3;_0x4fa41d++)_0xabae0a[_0x1cdc37++]=_0x452d9c['data'][_0x4fa41d];}_0x1589be['matrices']=_0xabae0a;}});},MN=(_0x3df12d,_0x1e2f0a,_0x26fc7c)=>{var _0x24206a,_0xc1fda9,_0x594aac;if(!_0x3df12d['hasOwnProp'+'erty']('nodes')||_0x3df12d['nodes']['length']===0x8be+-0x3c4+0x2*-0x27d)return[];const _0x2300b7=(_0x24206a=_0x1e2f0a==null?void(0x6e7+-0x1*-0x12b9+0x50*-0x52):_0x1e2f0a['node'])==null?void(0x13df+-0x626+0x1*-0xdb9):_0x24206a['preprocess'],_0x3f2334=((_0xc1fda9=_0x1e2f0a==null?void(0x3a4*0x1+-0x1849*-0x1+0x1bed*-0x1):_0x1e2f0a['node'])==null?void(0x1db0+0x1eb*0x4+-0x255c):_0xc1fda9['process'])??vN,_0x3b463a=(_0x594aac=_0x1e2f0a==null?void(-0x2275+0xa7f*0x3+-0x1*-0x2f8):_0x1e2f0a['node'])==null?void(-0x1*-0x45a+0x2a*0xde+0x22*-0x133):_0x594aac['postproces'+'s'],_0x20c186=_0x3df12d['nodes']['map']((_0x4ceba3,_0x2b2ee2)=>{_0x2300b7&&_0x2300b7(_0x4ceba3);const _0x378b05=_0x3f2334(_0x4ceba3,_0x2b2ee2,_0x26fc7c);return _0x3b463a&&_0x3b463a(_0x4ceba3,_0x378b05),_0x378b05;});for(let _0x184423=0xb*0x81+-0x1fa0+0x1a15;_0x184423<_0x3df12d['nodes']['length'];++_0x184423){const _0x50d30d=_0x3df12d['nodes'][_0x184423];if(_0x50d30d['hasOwnProp'+'erty']('children')){const _0x5ea031=_0x20c186[_0x184423],_0x268fbf={};for(let _0x171f6c=-0x2665*0x1+0x185+0x24e0;_0x171f6c<_0x50d30d['children']['length'];++_0x171f6c){const _0x40b546=_0x20c186[_0x50d30d['children'][_0x171f6c]];_0x40b546['parent']||(_0x268fbf['hasOwnProp'+'erty'](_0x40b546['name'])?_0x40b546['name']+=_0x268fbf[_0x40b546['name']]++:_0x268fbf[_0x40b546['name']]=0x3*-0xcfa+0x65c*0x2+-0x8bd*-0x3,_0x5ea031['addChild'](_0x40b546));}}}return _0x20c186;},DN=(_0xd5da6b,_0x3e935f)=>{var _0x30758a;const _0x5140f8=[],_0x11b8a7=_0xd5da6b['scenes']['length'];if(_0x11b8a7===-0xe*-0x39+0x1*-0xf67+0xc4a&&((_0x30758a=_0xd5da6b['scenes'][-0x9a7+0x20b+-0x1*-0x79c]['nodes'])==null?void(0x1*0x173a+0xbb3+-0x22ed):_0x30758a['length'])===0x201*0x6+0x8c3*-0x3+0xe44){const _0x450445=_0xd5da6b['scenes'][-0x1f2e+0x74f*0x1+0x17df]['nodes'][-0x144c+0x21a*0x5+0x9ca];_0x5140f8['push'](_0x3e935f[_0x450445]);}else for(let _0x3eee38=0x31e+-0x13*-0xe1+-0x13d1;_0x3eee38<_0x11b8a7;_0x3eee38++){const _0x3c8340=_0xd5da6b['scenes'][_0x3eee38];if(_0x3c8340['nodes']){const _0x278bb8=new Ie(_0x3c8340['name']);for(let _0xaaec26=-0xc1d*-0x3+-0x1376+-0x95*0x1d;_0xaaec26<_0x3c8340['nodes']['length'];_0xaaec26++){const _0xeb7bb6=_0x3e935f[_0x3c8340['nodes'][_0xaaec26]];_0x278bb8['addChild'](_0xeb7bb6);}_0x5140f8['push'](_0x278bb8);}}return _0x5140f8;},IN=(_0x1e1173,_0x59fa87,_0x11f4be)=>{var _0x3556c9,_0x498546,_0x1376e4;let _0x3a97ab=null;if(_0x1e1173['hasOwnProp'+'erty']('nodes')&&_0x1e1173['hasOwnProp'+'erty']('cameras')&&_0x1e1173['cameras']['length']>0xb6*0x2+-0x22e2+0x2176){const _0x17ba07=(_0x3556c9=_0x11f4be==null?void(-0x21d*0x1+0x2307+0x20ea*-0x1):_0x11f4be['camera'])==null?void(-0x277*-0x8+-0x2*-0x70f+0x8e*-0x3d):_0x3556c9['preprocess'],_0x3e89db=((_0x498546=_0x11f4be==null?void(-0x1544+0xca+-0xa3d*-0x2):_0x11f4be['camera'])==null?void(-0x685+0x1f*0x49+-0x252):_0x498546['process'])??xN,_0x23bf46=(_0x1376e4=_0x11f4be==null?void(-0x2665+-0x9b2+0x3017):_0x11f4be['camera'])==null?void(0xcad+-0x7eb*-0x1+-0x1498):_0x1376e4['postproces'+'s'];_0x1e1173['nodes']['forEach']((_0x1efde7,_0x2d6fce)=>{if(_0x1efde7['hasOwnProp'+'erty']('camera')){const _0x5901ca=_0x1e1173['cameras'][_0x1efde7['camera']];if(_0x5901ca){_0x17ba07&&_0x17ba07(_0x5901ca);const _0x2f14ca=_0x3e89db(_0x5901ca,_0x59fa87[_0x2d6fce]);_0x23bf46&&_0x23bf46(_0x5901ca,_0x2f14ca),_0x2f14ca&&(_0x3a97ab||(_0x3a97ab=new Map()),_0x3a97ab['set'](_0x1efde7,_0x2f14ca));}}});}return _0x3a97ab;},LN=(_0x38fe4b,_0x2821cc,_0x3f4d1b)=>{var _0x2b4bd1,_0x43ec5c,_0x10bbd6;let _0x3f9b88=null;if(_0x38fe4b['hasOwnProp'+'erty']('nodes')&&_0x38fe4b['hasOwnProp'+'erty']('extensions')&&_0x38fe4b['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x38fe4b['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x5ef01d=_0x38fe4b['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x5ef01d['length']){const _0x22d468=(_0x2b4bd1=_0x3f4d1b==null?void(0x2*-0xc1d+0xef0*-0x1+-0x9*-0x45a):_0x3f4d1b['light'])==null?void(0x1*-0x16+-0x1730+0x1746):_0x2b4bd1['preprocess'],_0x214015=((_0x43ec5c=_0x3f4d1b==null?void(-0x2e*0x9+-0x1bcf+0xf3*0x1f):_0x3f4d1b['light'])==null?void(-0x26*0x107+0x364+0xea*0x27):_0x43ec5c['process'])??TN,_0x32ebb0=(_0x10bbd6=_0x3f4d1b==null?void(-0xc03+0x23ef+-0x17ec):_0x3f4d1b['light'])==null?void(-0x13b2+0x5*-0xc9+0x179f):_0x10bbd6['postproces'+'s'];_0x38fe4b['nodes']['forEach']((_0x5fbb40,_0x5c327c)=>{if(_0x5fbb40['hasOwnProp'+'erty']('extensions')&&_0x5fbb40['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x5fbb40['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x3e98f0=_0x5fbb40['extensions']['KHR_lights'+'_punctual']['light'],_0x4bd5f9=_0x5ef01d[_0x3e98f0];if(_0x4bd5f9){_0x22d468&&_0x22d468(_0x4bd5f9);const _0x311d6d=_0x214015(_0x4bd5f9,_0x2821cc[_0x5c327c]);_0x32ebb0&&_0x32ebb0(_0x4bd5f9,_0x311d6d),_0x311d6d&&(_0x3f9b88||(_0x3f9b88=new Map()),_0x3f9b88['set'](_0x5fbb40,_0x311d6d));}}});}}return _0x3f9b88;},RN=(_0x3dcb52,_0x149015,_0xbfe43c)=>{_0x3dcb52['nodes']['forEach'](_0x42d635=>{_0x42d635['hasOwnProp'+'erty']('mesh')&&_0x42d635['hasOwnProp'+'erty']('skin')&&_0x149015[_0x42d635['mesh']]['meshes']['forEach'](_0x21eb5c=>{_0x21eb5c['skin']=_0xbfe43c[_0x42d635['skin']];});});},ON=async(_0x263a97,_0x55458e,_0xc9d3ce,_0x567444,_0x4e4f0b)=>{var _0xb4d80f,_0x32c81c;const _0x5ddbcd=(_0xb4d80f=_0x4e4f0b==null?void(-0x1b22+-0x595+-0x68b*-0x5):_0x4e4f0b['global'])==null?void(0x1f41+0x16b8+0x1*-0x35f9):_0xb4d80f['preprocess'],_0x77c239=(_0x32c81c=_0x4e4f0b==null?void(-0xd*0x106+-0x20bc+0x2e0a*0x1):_0x4e4f0b['global'])==null?void(0x9*0x34b+0xcc2*0x1+-0x2a65):_0x32c81c['postproces'+'s'];_0x5ddbcd&&_0x5ddbcd(_0x55458e),_0x55458e['asset']&&_0x55458e['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x215e34=new Map(),_0xfa446a=MN(_0x55458e,_0x4e4f0b,_0x215e34),_0x2bc86f=DN(_0x55458e,_0xfa446a),_0x4e5951=LN(_0x55458e,_0xfa446a,_0x4e4f0b),_0x493aa8=IN(_0x55458e,_0xfa446a,_0x4e4f0b),_0x43a2b3=AN(_0x55458e),_0x11b187=await Promise['all'](_0xc9d3ce),{meshes:_0x13f3e0,meshVariants:_0x5c3f6f,meshDefaultMaterials:_0x920d13,promises:_0x4a1412}=EN(_0x263a97,_0x55458e,_0x11b187,_0x4e4f0b),_0x3776a3=CN(_0x55458e,_0xfa446a,_0x11b187,_0x4e4f0b);PN(_0x263a97,_0x55458e,_0x215e34,_0x11b187);const _0x41a9db=await Promise['all'](_0x567444),_0x773ccb=_0x41a9db['map'](_0x370d2a=>_0x370d2a['resource']),_0x500b5d=bN(_0x55458e,_0x773ccb,_0x4e4f0b),_0x50c49c=wN(_0x263a97,_0x55458e,_0xfa446a,_0x11b187),_0x25986d=[];for(let _0x3833bb=-0x1d*-0xf1+-0x13af+-0x79e;_0x3833bb<_0x13f3e0['length'];_0x3833bb++)_0x25986d[_0x3833bb]=new Em(),_0x25986d[_0x3833bb]['meshes']=_0x13f3e0[_0x3833bb];RN(_0x55458e,_0x25986d,_0x50c49c);const _0x2b1811=new qF();return _0x2b1811['gltf']=_0x55458e,_0x2b1811['nodes']=_0xfa446a,_0x2b1811['scenes']=_0x2bc86f,_0x2b1811['animations']=_0x3776a3,_0x2b1811['textures']=_0x41a9db,_0x2b1811['materials']=_0x500b5d,_0x2b1811['variants']=_0x43a2b3,_0x2b1811['meshVarian'+'ts']=_0x5c3f6f,_0x2b1811['meshDefaul'+'tMaterials']=_0x920d13,_0x2b1811['renders']=_0x25986d,_0x2b1811['skins']=_0x50c49c,_0x2b1811['lights']=_0x4e5951,_0x2b1811['cameras']=_0x493aa8,_0x2b1811['nodeInstan'+'cingMap']=_0x215e34,_0x77c239&&_0x77c239(_0x55458e,_0x2b1811),await Promise['all'](_0x4a1412),_0x2b1811;},FN=(_0x2fea63,_0x34802a)=>{const _0x1f4eb=(_0x4d8d75,_0x58e8a6)=>{switch(_0x4d8d75){case 0x38af+-0x1*0x1aa5+0x2*0x3fb:return Te;case-0x1df4+-0x10*0x89+0x4c85:return vt;case-0x11ae*0x3+-0x224*-0x8+0x4aea:return Kh;case 0x1a28+0x1*0x1d9f+-0x26*0x71:return Qh;case-0x4d5*-0x10+0x1*-0x125+-0x2529:return Zh;case 0x1b61*-0x1+0x449e+-0x23a:return ma;default:return _0x58e8a6;}},_0x2e3ee7=(_0x29bafc,_0x566a2b)=>{switch(_0x29bafc){case-0x4e6c+0x8e90*0x1+-0x410b*-0x1:return ue;case 0x19*0x15d+0x8eec+-0x91d*0x5:return ip;case-0x1*-0x100a+-0x2*-0xa6f+-0x419*-0x1:return yt;default:return _0x566a2b;}};_0x2fea63&&(_0x34802a=_0x34802a??{},_0x2fea63['minFilter']=_0x1f4eb(_0x34802a['minFilter'],ma),_0x2fea63['magFilter']=_0x1f4eb(_0x34802a['magFilter'],vt),_0x2fea63['addressU']=_0x2e3ee7(_0x34802a['wrapS'],yt),_0x2fea63['addressV']=_0x2e3ee7(_0x34802a['wrapT'],yt));};let NN=0x1*-0x112d+-0x18+-0x1145*-0x1;const nn=_0xa5c153=>{var _0x37a1e9,_0x4a393f,_0x33df07,_0x3a5796;return((_0x4a393f=(_0x37a1e9=_0xa5c153['extensions'])==null?void(-0x13*-0x107+0xe02+-0x2187*0x1):_0x37a1e9['KHR_textur'+'e_basisu'])==null?void(-0xbdd*-0x2+-0x2*0x58f+-0xc9c):_0x4a393f['source'])??((_0x3a5796=(_0x33df07=_0xa5c153['extensions'])==null?void(0x1fb9+-0x20be+0x1d*0x9):_0x33df07['EXT_textur'+'e_webp'])==null?void(0x15d7+-0x2665+0x108e):_0x3a5796['source'])??_0xa5c153['source'];},kN=(_0x1b88f3,_0x222ac8,_0x23eb6b,_0x4b4c07,_0x515eb1)=>{var _0x4fa8a6,_0x1e50ec,_0x55e142;if(!_0x1b88f3['images']||_0x1b88f3['images']['length']===0x24fe+-0xd69+0x1*-0x1795)return[];const _0x4578d9=(_0x4fa8a6=_0x515eb1==null?void(-0x24b9*0x1+0x1471+0x1048):_0x515eb1['image'])==null?void(0x814+0x1*0xd7+0x1*-0x8eb):_0x4fa8a6['preprocess'],_0x2a3ab6=(_0x1e50ec=_0x515eb1==null?void(0x23d*-0x11+-0x1051+0x365e):_0x515eb1['image'])==null?void(-0x2323+-0x75*-0x37+0x28*0x40):_0x1e50ec['processAsy'+'nc'],_0x50cbca=(_0x55e142=_0x515eb1==null?void(-0x1*-0x171d+-0x1*-0x1aed+-0x320a):_0x515eb1['image'])==null?void(-0xc96+0xd7e*-0x2+0x2792):_0x55e142['postproces'+'s'],_0x1b8a0b={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x1e29de=_0x246902=>{const _0x256e67=new Set();return _0x246902['hasOwnProp'+'erty']('materials')&&_0x246902['materials']['forEach'](_0x2e4826=>{if(_0x2e4826['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1dc2cb=_0x2e4826['pbrMetalli'+'cRoughness'];if(_0x1dc2cb['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0xad1f05=_0x246902['textures'][_0x1dc2cb['baseColorT'+'exture']['index']];_0x256e67['add'](nn(_0xad1f05));}}if(_0x2e4826['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x52243d=_0x246902['textures'][_0x2e4826['emissiveTe'+'xture']['index']];_0x256e67['add'](nn(_0x52243d));}if(_0x2e4826['hasOwnProp'+'erty']('extensions')){const _0x27dec9=_0x2e4826['extensions']['KHR_materi'+'als_sheen'];if(_0x27dec9&&_0x27dec9['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x183efd=_0x246902['textures'][_0x27dec9['sheenColor'+'Texture']['index']];_0x256e67['add'](nn(_0x183efd));}const _0x2d40e9=_0x2e4826['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x2d40e9&&_0x2d40e9['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x3c3696=_0x246902['textures'][_0x2d40e9['specularGl'+'ossinessTe'+'xture']['index']];_0x256e67['add'](nn(_0x3c3696));}const _0x34f7c2=_0x2e4826['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x34f7c2&&_0x34f7c2['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x16d87c=_0x246902['textures'][_0x34f7c2['specularCo'+'lorTexture']['index']];_0x256e67['add'](nn(_0x16d87c));}}}),_0x256e67;},_0x52ce21=(_0x5d0e89,_0x12a1d1,_0x58825b,_0x3ee6d4,_0x41f9aa,_0x3af947)=>new Promise((_0x39960d,_0x496849)=>{const _0x6efcb1=_0x16c86d=>{const _0x40d995=(_0x5d0e89['name']||'gltf-textu'+'re')+'-'+NN++,_0x2a81c0={'url':_0x12a1d1||_0x40d995};if(_0x16c86d&&(_0x2a81c0['contents']=_0x16c86d['slice'](0x1226+-0x2353+-0x112d*-0x1)['buffer']),_0x3ee6d4){const _0x48d08c=_0x1b8a0b[_0x3ee6d4];_0x48d08c&&(_0x2a81c0['filename']=_0x2a81c0['url']+'.'+_0x48d08c);}const _0x4750b8={'srgb':_0x3af947},_0x4233bf=new pe(_0x40d995,'texture',_0x2a81c0,_0x4750b8,_0x41f9aa);_0x4233bf['on']('load',_0x4334b9=>_0x39960d(_0x4334b9)),_0x4233bf['on']('error',_0x5da298=>_0x496849(_0x5da298)),_0x4b4c07['add'](_0x4233bf),_0x4b4c07['load'](_0x4233bf);};_0x58825b?_0x58825b['then'](_0x433855=>_0x6efcb1(_0x433855)):_0x6efcb1(null);}),_0x9546e=_0x1e29de(_0x1b88f3);return _0x1b88f3['images']['map']((_0x3959ca,_0x5359f9)=>{_0x4578d9&&_0x4578d9(_0x3959ca);let _0x1dfd45;return _0x2a3ab6?_0x1dfd45=new Promise((_0x38d7fc,_0x43f4ad)=>{_0x2a3ab6(_0x3959ca,(_0x31b907,_0x4a8dbe)=>{_0x31b907?_0x43f4ad(_0x31b907):_0x38d7fc(_0x4a8dbe);});}):_0x1dfd45=new Promise(_0x29bd6d=>{_0x29bd6d(null);}),_0x1dfd45=_0x1dfd45['then'](_0x24699d=>{const _0xdb07ce=_0x9546e['has'](_0x5359f9);return _0x24699d||(_0x3959ca['hasOwnProp'+'erty']('uri')?x0(_0x3959ca['uri'])?_0x52ce21(_0x3959ca,_0x3959ca['uri'],null,jF(_0x3959ca['uri']),null,_0xdb07ce):_0x52ce21(_0x3959ca,jn['test'](_0x3959ca['uri'])?_0x3959ca['uri']:xe['join'](_0x23eb6b,_0x3959ca['uri']),null,null,{'crossOrigin':'anonymous'},_0xdb07ce):_0x3959ca['hasOwnProp'+'erty']('bufferView')&&_0x3959ca['hasOwnProp'+'erty']('mimeType')?_0x52ce21(_0x3959ca,null,_0x222ac8[_0x3959ca['bufferView']],_0x3959ca['mimeType'],null,_0xdb07ce):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x5359f9)));}),_0x50cbca&&(_0x1dfd45=_0x1dfd45['then'](_0x3792dc=>(_0x50cbca(_0x3959ca,_0x3792dc),_0x3792dc))),_0x1dfd45;});},UN=(_0x5c78f2,_0x3af21b,_0x54b69c)=>{var _0x116519,_0x50afb0,_0x5135e4,_0x5d24ef,_0x2ed86e;if(!((_0x116519=_0x5c78f2==null?void(0x2434+0x1852+-0x3d*0xfe):_0x5c78f2['images'])!=null&&_0x116519['length'])||!((_0x50afb0=_0x5c78f2==null?void(-0x1b0d+-0x5ed+0x9*0x3aa):_0x5c78f2['textures'])!=null&&_0x50afb0['length']))return[];const _0x313e47=(_0x5135e4=_0x54b69c==null?void(0x196d+-0x2059+-0x1bb*-0x4):_0x54b69c['texture'])==null?void(-0xe5d*-0x2+0x121c*-0x1+-0xa9e):_0x5135e4['preprocess'],_0x260401=(_0x5d24ef=_0x54b69c==null?void(0x23*-0x72+-0x274+0x2*0x905):_0x54b69c['texture'])==null?void(0x10b5+0x229c+-0x3351):_0x5d24ef['processAsy'+'nc'],_0x2e4216=(_0x2ed86e=_0x54b69c==null?void(-0x7b1+-0x8a+0x83b):_0x54b69c['texture'])==null?void(-0x57b*-0x2+-0xbad+-0x3*-0x3d):_0x2ed86e['postproces'+'s'],_0x4cffb5=new Set();return _0x5c78f2['textures']['map'](_0x402213=>{_0x313e47&&_0x313e47(_0x402213);let _0x3988fc;return _0x260401?_0x3988fc=new Promise((_0x5a63e2,_0xccf288)=>{_0x260401(_0x402213,_0x5c78f2['images'],(_0x53ec95,_0x26c4f1)=>{_0x53ec95?_0xccf288(_0x53ec95):_0x5a63e2(_0x26c4f1);});}):_0x3988fc=new Promise(_0x175101=>{_0x175101(null);}),_0x3988fc=_0x3988fc['then'](_0x33aedb=>{_0x33aedb=_0x33aedb??nn(_0x402213);const _0xfcabd2=_0x4cffb5['has'](_0x33aedb);return _0x4cffb5['add'](_0x33aedb),_0x3af21b[_0x33aedb]['then'](_0x381e59=>{const _0x1391af=_0xfcabd2?tN(_0x381e59):_0x381e59;return FN(_0x1391af['resource'],(_0x5c78f2['samplers']??[])[_0x402213['sampler']]),_0x1391af;});}),_0x2e4216&&(_0x3988fc=_0x3988fc['then'](_0xfdc9b6=>(_0x2e4216(_0x402213,_0xfdc9b6),_0xfdc9b6))),_0x3988fc;});},BN=(_0x73e04f,_0x97ddec,_0x569eba,_0x43948c)=>{var _0x4e932d,_0x28e2f7,_0x54c4a2;if(!_0x73e04f['buffers']||_0x73e04f['buffers']['length']===-0x3*-0xcd6+0x1db7+-0xda5*0x5)return[];const _0x40ed22=(_0x4e932d=_0x43948c==null?void(0x263e+0x26f8+-0x4d36):_0x43948c['buffer'])==null?void(-0x2*-0xeb9+-0x7ac+-0x15c6):_0x4e932d['preprocess'],_0x171077=(_0x28e2f7=_0x43948c==null?void(0x244e+-0x1cfb+0x3*-0x271):_0x43948c['buffer'])==null?void(-0x4c6+-0xc70+-0x1136*-0x1):_0x28e2f7['processAsy'+'nc'],_0x3ae83e=(_0x54c4a2=_0x43948c==null?void(0x119a*-0x2+-0x27*-0x43+-0xed*-0x1b):_0x43948c['buffer'])==null?void(0x21f2+0x1c79+0x1d*-0x227):_0x54c4a2['postproces'+'s'];return _0x73e04f['buffers']['map']((_0x15d5d3,_0x11bef9)=>{_0x40ed22&&_0x40ed22(_0x15d5d3);let _0x7c53d4;return _0x171077?_0x7c53d4=new Promise((_0x40ad2b,_0x59abdb)=>{_0x171077(_0x15d5d3,(_0x54fba7,_0x1cf441)=>{_0x54fba7?_0x59abdb(_0x54fba7):_0x40ad2b(_0x1cf441);});}):_0x7c53d4=new Promise(_0x3d5674=>{_0x3d5674(null);}),_0x7c53d4=_0x7c53d4['then'](_0x271a14=>{if(_0x271a14)return _0x271a14;if(_0x15d5d3['hasOwnProp'+'erty']('uri')){if(x0(_0x15d5d3['uri'])){const _0x3cbd41=atob(_0x15d5d3['uri']['split'](',')[0xf05+-0x2252+0x2*0x9a7]),_0x346803=new Uint8Array(_0x3cbd41['length']);for(let _0x3b52ac=0x25*-0x8b+0x26ad+-0x1296;_0x3b52ac<_0x3cbd41['length'];_0x3b52ac++)_0x346803[_0x3b52ac]=_0x3cbd41['charCodeAt'](_0x3b52ac);return _0x346803;}return new Promise((_0x53f22b,_0x3471ab)=>{ot['get'](jn['test'](_0x15d5d3['uri'])?_0x15d5d3['uri']:xe['join'](_0x569eba,_0x15d5d3['uri']),{'cache':!(-0x1380+0x1044+0x33c),'responseType':'arraybuffe'+'r','retry':!(-0x1a37+-0x507+0x1a5*0x13)},(_0x413065,_0x59a45c)=>{_0x413065?_0x3471ab(_0x413065):_0x53f22b(new Uint8Array(_0x59a45c));});});}return _0x97ddec;}),_0x3ae83e&&(_0x7c53d4=_0x7c53d4['then'](_0x3a9c32=>(_0x3ae83e(_0x73e04f['buffers'][_0x11bef9],_0x3a9c32),_0x3a9c32))),_0x7c53d4;});},zN=(_0x309353,_0x196b00)=>{const _0x3126ab=JSON['parse']((_0x11afa2=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x11afa2);let _0x3d3996='';for(let _0x24a7de=0x1070*0x1+0x1*-0x17d2+0x762;_0x24a7de<_0x11afa2['length'];_0x24a7de++)_0x3d3996+=String['fromCharCo'+'de'](_0x11afa2[_0x24a7de]);return decodeURIComponent(escape(_0x3d3996));})(_0x309353));if(_0x3126ab['asset']&&_0x3126ab['asset']['version']&&parseFloat(_0x3126ab['asset']['version'])<-0xbd+0x12fa*-0x2+0x26b3){_0x196b00('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3126ab['asset']['version']+'\x27.');return;}_0x196b00(null,_0x3126ab);},VN=(_0xad7e3e,_0x355972)=>{const _0x1b1630=_0xad7e3e instanceof ArrayBuffer?new DataView(_0xad7e3e):new DataView(_0xad7e3e['buffer'],_0xad7e3e['byteOffset'],_0xad7e3e['byteLength']),_0x330915=_0x1b1630['getUint32'](0xee7+-0x2587*0x1+-0x5a8*-0x4,!(0x1e24+0x2*-0x67+-0x1d56)),_0x342332=_0x1b1630['getUint32'](0xc2a+-0x13cb+-0x67*-0x13,!(0x23b0+-0xa*-0x137+-0x2fd6)),_0x31a84c=_0x1b1630['getUint32'](-0x21d3+-0x12f8+0x1*0x34d3,!(-0x1835+0x2131+-0x8fc));if(_0x330915!==-0xcd*-0x3af5f4+-0x1e281d4b+-0x3545954e*-0x1){_0x355972('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x330915['toString'](-0x20ce+-0x1*-0x10f1+0x1*0xfed));return;}if(_0x342332!==0x3*-0x18f+0x4f*-0x6d+0x2652){_0x355972('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x342332);return;}if(_0x31a84c<=-0x547*-0x1+0x1*0xdd8+-0x131f*0x1||_0x31a84c>_0x1b1630['byteLength']){_0x355972('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x31a84c);return;}const _0x169198=[];let _0x427d1b=-0x2686+-0x2660+-0x86*-0x93;for(;_0x427d1b<_0x31a84c;){const _0x2f4fca=_0x1b1630['getUint32'](_0x427d1b,!(0x10*0x92+-0x1*-0x20e+-0x6*0x1dd));_0x427d1b+_0x2f4fca+(-0x647+-0x5*0x7c6+0x2d2d)>_0x1b1630['byteLength']&&_0x355972('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2f4fca);const _0x1a4313=_0x1b1630['getUint32'](_0x427d1b+(0x3f*0x20+0x1*0x22d9+-0x2ab5),!(0xf6b+0xfb*0x11+0x1*-0x2016)),_0x182001=new Uint8Array(_0x1b1630['buffer'],_0x1b1630['byteOffset']+_0x427d1b+(-0x23*0x9+-0x37a+0x1*0x4bd),_0x2f4fca);_0x169198['push']({'length':_0x2f4fca,'type':_0x1a4313,'data':_0x182001}),_0x427d1b+=_0x2f4fca+(-0x139*-0x17+-0x2b6+0x49*-0x59);}if(_0x169198['length']!==-0xc*0x2c3+0x1433+0xcf2*0x1&&_0x169198['length']!==0xf*0x275+-0x86d+-0x1c6c){_0x355972('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x169198[-0x1742+0x1d8e+-0x64c]['type']!==0x8965484b+-0x103*0x2dec68+-0xc9fc7c9){_0x355972('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x169198[0x74*0xf+-0x6a*0x4+-0x524]['type']['toString'](-0x7d*-0x2f+0x536+0x1*-0x1c19));return;}if(_0x169198['length']>0x527+0x2*0xe5a+-0x21da&&_0x169198[0x119*-0x23+-0x932+0x73*0x6a]['type']!==0x2*0x2eeb3c+-0x1101a9*-0x8+-0x6a*0x16e23){_0x355972('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x169198[-0x355+0x2*-0x3d5+0xb00]['type']['toString'](0x24d7*0x1+0x1bc0+-0x1*0x4087));return;}_0x355972(null,{'gltfChunk':_0x169198[-0xb9c+-0x1eb7+0x2a53]['data'],'binaryChunk':_0x169198['length']===-0xd96+-0x22af+-0x1*-0x3047?_0x169198[-0x2*-0x117+0xb72*0x1+-0xd9f]['data']:null});},GN=(_0x217b7b,_0x35123c,_0x156d1b)=>{const _0x108de9=()=>{const _0x17fbd0=new Uint8Array(_0x35123c);return _0x17fbd0[-0xe*-0x232+0x10af*0x2+-0x401a]===0x8de+0x949*-0x2+0xa1b&&_0x17fbd0[-0x1*-0xe83+-0x17d7+-0x955*-0x1]===-0x11f4+0x1805+-0x5a5&&_0x17fbd0[0x1002+-0x385+0x9*-0x163]===-0x1e27+0x245c+-0x5e1*0x1&&_0x17fbd0[0x1ab7+-0x24f6+0xa42]===0x1*0x10ad+-0x10ca+0x9*0xb;};_0x217b7b&&_0x217b7b['toLowerCas'+'e']()['endsWith']('.glb')||_0x108de9()?VN(_0x35123c,_0x156d1b):_0x156d1b(null,{'gltfChunk':_0x35123c,'binaryChunk':null});},HN=(_0x74990,_0x59c572,_0x1bbe9b)=>{var _0x523485,_0xccaf56,_0x107950,_0x2a7b02;const _0x439adb=[],_0x4d8c04=(_0x523485=_0x1bbe9b==null?void(0x2672+-0x14e4+-0x118e):_0x1bbe9b['bufferView'])==null?void(-0x195c+-0x1b62+0x34be):_0x523485['preprocess'],_0x3fe4ce=(_0xccaf56=_0x1bbe9b==null?void(-0x1*-0x601+0x59b+-0xb9c):_0x1bbe9b['bufferView'])==null?void(-0x2595+0x8f3+0x2dd*0xa):_0xccaf56['processAsy'+'nc'],_0x29c6db=(_0x107950=_0x1bbe9b==null?void(-0x4*0x63b+0x4ad*0x2+-0x1*-0xf92):_0x1bbe9b['bufferView'])==null?void(0xd4e*-0x2+0x1d69+-0x2cd):_0x107950['postproces'+'s'];if(!((_0x2a7b02=_0x74990['bufferView'+'s'])!=null&&_0x2a7b02['length']))return _0x439adb;for(let _0x4f0f50=0x24b5*-0x1+0x434+-0x35*-0x9d;_0x4f0f50<_0x74990['bufferView'+'s']['length'];++_0x4f0f50){const _0x10703e=_0x74990['bufferView'+'s'][_0x4f0f50];_0x4d8c04&&_0x4d8c04(_0x10703e);let _0x5e4f1b;_0x3fe4ce?_0x5e4f1b=new Promise((_0x2e53a2,_0x45a698)=>{_0x3fe4ce(_0x10703e,_0x59c572,(_0x48484c,_0x377ad5)=>{_0x48484c?_0x45a698(_0x48484c):_0x2e53a2(_0x377ad5);});}):_0x5e4f1b=new Promise(_0x2f104c=>{_0x2f104c(null);}),_0x5e4f1b=_0x5e4f1b['then'](_0x50961d=>_0x50961d||_0x59c572[_0x10703e['buffer']]['then'](_0x542939=>new Uint8Array(_0x542939['buffer'],_0x542939['byteOffset']+(_0x10703e['byteOffset']||-0x1539+0x1412+-0x127*-0x1),_0x10703e['byteLength']))),_0x10703e['hasOwnProp'+'erty']('byteStride')&&(_0x5e4f1b=_0x5e4f1b['then'](_0x535a97=>(_0x535a97['byteStride']=_0x10703e['byteStride'],_0x535a97))),_0x29c6db&&(_0x5e4f1b=_0x5e4f1b['then'](_0x4cfe3a=>(_0x29c6db(_0x10703e,_0x4cfe3a),_0x4cfe3a))),_0x439adb['push'](_0x5e4f1b);}return _0x439adb;};class kh{static['parse'](_0x32872d,_0x9f435d,_0x2d5bb2,_0x431a79,_0x17bec5,_0x1776fc,_0x186c4f){GN(_0x32872d,_0x2d5bb2,(_0x22d3b3,_0x13629a)=>{if(_0x22d3b3){_0x186c4f(_0x22d3b3);return;}zN(_0x13629a['gltfChunk'],(_0x5a498b,_0x5bf547)=>{if(_0x5a498b){_0x186c4f(_0x5a498b);return;}const _0x491cc8=BN(_0x5bf547,_0x13629a['binaryChun'+'k'],_0x9f435d,_0x1776fc),_0x107efe=HN(_0x5bf547,_0x491cc8,_0x1776fc),_0x24c4f0=kN(_0x5bf547,_0x107efe,_0x9f435d,_0x17bec5,_0x1776fc),_0x3a5187=UN(_0x5bf547,_0x24c4f0,_0x1776fc);ON(_0x431a79,_0x5bf547,_0x107efe,_0x3a5187,_0x1776fc)['then'](_0x2c4012=>_0x186c4f(null,_0x2c4012))['catch'](_0x1051d7=>_0x186c4f(_0x1051d7));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x59ece9){super(_0x59ece9,'animation'),this['device']=_0x59ece9['graphicsDe'+'vice'],this['assets']=_0x59ece9['assets'];}['load'](_0x54b961,_0x5bcf3c,_0x38ed5f){typeof _0x54b961=='string'&&(_0x54b961={'load':_0x54b961,'original':_0x54b961});const _0x52eec3={'retry':this['maxRetries']>0x19f7+-0x1*0xf4e+-0x1*0xaa9,'maxRetries':this['maxRetries']};(_0x54b961['load']['startsWith']('blob:')||_0x54b961['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x54b961['original'])['toLowerCas'+'e']()==='.glb'?_0x52eec3['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x52eec3['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x54b961['load'],_0x52eec3,(_0x33bb44,_0x25afee)=>{_0x33bb44?_0x5bcf3c('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x54b961['original']+'\x20['+_0x33bb44+']'):xe['getExtensi'+'on'](_0x54b961['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x25afee,this['device'],this['assets'],(_0x38ed5f==null?void(-0x204e+-0xcc0+0x2d0e):_0x38ed5f['options'])??{},(_0x8d44f1,_0x3a4a63)=>{var _0x1e4330;if(_0x8d44f1)_0x5bcf3c(_0x8d44f1);else{const _0x4b16b6=_0x3a4a63['animations'];if((_0x1e4330=_0x38ed5f==null?void(0xe81*0x1+0x255a+-0x33db):_0x38ed5f['data'])!=null&&_0x1e4330['events']){for(let _0x54ae1a=-0x8b*0x43+0x12e*0x2+0x2205;_0x54ae1a<_0x4b16b6['length'];_0x54ae1a++)_0x4b16b6[_0x54ae1a]['events']=new Hv(Object['values'](_0x38ed5f['data']['events']));}_0x3a4a63['destroy'](),_0x5bcf3c(null,_0x4b16b6);}}):_0x5bcf3c(null,this['_parseAnim'+'ationV'+_0x25afee['animation']['version']](_0x25afee));});}['open'](_0x42a687,_0x366741,_0x3c1a38){return _0x366741;}['_parseAnim'+'ationV3'](_0x81aed6){const _0x4ef4b6=_0x81aed6['animation'],_0x2076ef=new ug();_0x2076ef['name']=_0x4ef4b6['name'],_0x2076ef['duration']=_0x4ef4b6['duration'];for(let _0x4a5950=-0xf9f+0xcc7*-0x3+0x35f4;_0x4a5950<_0x4ef4b6['nodes']['length'];_0x4a5950++){const _0x42ffe4=new fg(),_0x19f38b=_0x4ef4b6['nodes'][_0x4a5950];_0x42ffe4['_name']=_0x19f38b['name'];for(let _0x36a604=0x8d5+-0x24c2+-0x94f*-0x3;_0x36a604<_0x19f38b['keys']['length'];_0x36a604++){const _0x341798=_0x19f38b['keys'][_0x36a604],_0x400896=_0x341798['time'],_0x37b27c=_0x341798['pos'],_0xa2df5=_0x341798['rot'],_0xafc835=_0x341798['scale'],_0x4cf267=new D(_0x37b27c[-0x26d1+0x1*-0x1407+0x3ad8],_0x37b27c[0x176*-0x1+-0x12eb*0x2+0x274d],_0x37b27c[-0x15f0+-0xa81*0x3+0x3575]),_0x1a8c7c=new le()['setFromEul'+'erAngles'](_0xa2df5[-0x21*0x77+-0x1073+-0x1fca*-0x1],_0xa2df5[-0x1*0x25f7+-0x4*0x47f+-0x4*-0xdfd],_0xa2df5[-0x13*-0x6c+0x21d2+-0xa75*0x4]),_0x59cd83=new D(_0xafc835[0x1592+0x1383*0x2+0x4*-0xf26],_0xafc835[-0x2*-0x1174+-0x2027*-0x1+-0x430e],_0xafc835[-0x1ff0+0x2093+-0x17*0x7]),_0x2e5cfa=new dg(_0x400896,_0x4cf267,_0x1a8c7c,_0x59cd83);_0x42ffe4['_keys']['push'](_0x2e5cfa);}_0x2076ef['addNode'](_0x42ffe4);}return _0x2076ef;}['_parseAnim'+'ationV4'](_0x41c85d){const _0x1839a8=_0x41c85d['animation'],_0x456721=new ug();_0x456721['name']=_0x1839a8['name'],_0x456721['duration']=_0x1839a8['duration'];for(let _0x2075e3=-0x1745+-0xe43+0x2588;_0x2075e3<_0x1839a8['nodes']['length'];_0x2075e3++){const _0x2e9de4=new fg(),_0x410eae=_0x1839a8['nodes'][_0x2075e3];_0x2e9de4['_name']=_0x410eae['name'];const _0x3d8f3f=_0x410eae['defaults']['p'],_0x48539a=_0x410eae['defaults']['r'],_0x4ed72b=_0x410eae['defaults']['s'];for(let _0x1e5a99=-0x1b06+-0x5ba*0x1+-0x830*-0x4;_0x1e5a99<_0x410eae['keys']['length'];_0x1e5a99++){const _0x45dfa5=_0x410eae['keys'][_0x1e5a99],_0x57fc3a=_0x45dfa5['t'],_0x211819=_0x3d8f3f||_0x45dfa5['p'],_0x5b6c99=_0x48539a||_0x45dfa5['r'],_0x75fb59=_0x4ed72b||_0x45dfa5['s'],_0x137fcf=new D(_0x211819[0x13d3+-0x22fa+0xf27],_0x211819[0x95*-0x3b+-0x1*0x346+0x259e],_0x211819[-0xf*0x16b+-0x337*0x9+0x2*0x191b]),_0x212574=new le()['setFromEul'+'erAngles'](_0x5b6c99[-0x1dc6+-0x3dd*-0x3+0x122f],_0x5b6c99[0x39b*-0x2+0x1*-0xc48+-0x2c9*-0x7],_0x5b6c99[-0x25a5+-0xb19+0x78*0x68]),_0x37ac77=new D(_0x75fb59[0x199*-0xe+-0x2381+0x39df*0x1],_0x75fb59[-0x25*0x7f+-0x1151+-0x1*-0x23ad],_0x75fb59[-0x1284+0x92*-0x43+0x38bc]),_0x176ec8=new dg(_0x57fc3a,_0x137fcf,_0x212574,_0x37ac77);_0x2e9de4['_keys']['push'](_0x176ec8);}_0x456721['addNode'](_0x2e9de4);}return _0x456721;}}class $N extends Qe{constructor(_0xda31c1){super(_0xda31c1,'animclip');}['load'](_0x5de498,_0x506dc9){typeof _0x5de498=='string'&&(_0x5de498={'load':_0x5de498,'original':_0x5de498});const _0x60e820={'retry':this['maxRetries']>-0x55*0x31+-0x1*-0x164f+-0x60a,'maxRetries':this['maxRetries']};_0x5de498['load']['startsWith']('blob:')&&(_0x60e820['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5de498['load'],_0x60e820,(_0x44cff5,_0x32f64f)=>{_0x44cff5?_0x506dc9('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x5de498['original']+'\x20['+_0x44cff5+']'):_0x506dc9(null,_0x32f64f);});}['open'](_0x362f4c,_0x56d09f){const _0x15381e=_0x56d09f['name'],_0x1b3ed6=_0x56d09f['duration'],_0x411b75=_0x56d09f['inputs']['map'](_0x2625fd=>new Fh(-0x2665*0x1+0x613+-0x14b*-0x19,_0x2625fd)),_0x184176=_0x56d09f['outputs']['map'](_0x48ebec=>new Fh(_0x48ebec['components'],_0x48ebec['data'])),_0x3f5366=_0x56d09f['curves']['map'](_0x22a161=>new v0([_0x22a161['path']],_0x22a161['inputIndex'],_0x22a161['outputInde'+'x'],_0x22a161['interpolat'+'ion']));return new Qi(_0x15381e,_0x1b3ed6,_0x411b75,_0x184176,_0x3f5366);}}class XN extends Qe{constructor(_0x108ba4){super(_0x108ba4,'animstateg'+'raph');}['load'](_0x183159,_0x4272da){typeof _0x183159=='string'&&(_0x183159={'load':_0x183159,'original':_0x183159});const _0x2e4524={'retry':this['maxRetries']>0x1*-0x1afb+-0x30e*0x5+0x1d*0x175,'maxRetries':this['maxRetries']};_0x183159['load']['startsWith']('blob:')&&(_0x2e4524['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x183159['load'],_0x2e4524,(_0x1a513d,_0x4e0bd3)=>{_0x1a513d?_0x4272da('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x183159['original']+'\x20['+_0x1a513d+']'):_0x4272da(null,_0x4e0bd3);});}['open'](_0x3b216e,_0x4fae8b){return new Jc(_0x4fae8b);}}const Af=(function(){if(typeof window>'u')return!(0xcbe+-0xcf*-0x1b+-0x2292);const _0x1493c1=window['navigator']['userAgent'],_0x47d1db=_0x1493c1['indexOf']('MSIE\x20');if(_0x47d1db>0x2357+0x2632+-0x4e7*0xf)return parseInt(_0x1493c1['substring'](_0x47d1db+(0x23d5+-0x1cd*-0xe+-0x3d06),_0x1493c1['indexOf']('.',_0x47d1db)),0x1bac+-0x1746+-0x45c);if(_0x1493c1['indexOf']('Trident/')>-0x16f2+-0xbc7+0x22b9){const _0x2547fb=_0x1493c1['indexOf']('rv:');return parseInt(_0x1493c1['substring'](_0x2547fb+(0x88a+-0x1f78+0x16f1),_0x1493c1['indexOf']('.',_0x2547fb)),-0x5*0x5bc+-0x1e1c*0x1+0x3ad2);}return!(-0x1279*0x1+0x13f9*-0x1+-0x11*-0x243);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x35451c){super(_0x35451c,'audio'),this['manager']=_0x35451c['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x39eb6e){const _0xc18400=xe['getExtensi'+'on'](_0x39eb6e);return qN['indexOf'](_0xc18400)>-(-0xb75+0xf*0x11+-0x39*-0x2f)||_0x39eb6e['startsWith']('blob:');}['load'](_0x18b94f,_0x751983){typeof _0x18b94f=='string'&&(_0x18b94f={'load':_0x18b94f,'original':_0x18b94f});const _0x38b1c5=function(_0x2dfd71){_0x751983(null,new Mw(_0x2dfd71));},_0xdd639f=function(_0x571e53){let _0x3548a6='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x18b94f['original'];_0x571e53&&(_0x3548a6+=':\x20'+(_0x571e53['message']||_0x571e53)),console['warn'](_0x3548a6),_0x751983(_0x3548a6);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x18b94f['original'])){_0xdd639f('Audio\x20form'+'at\x20for\x20'+_0x18b94f['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x18b94f['load'],_0x38b1c5,_0xdd639f);}else _0xdd639f(null);}['_createSou'+'nd'](_0x2bc4d7,_0x50bf14,_0x1321f9){if(Dl()){const _0x3da167=this['manager'];if(!_0x3da167['context']){_0x1321f9('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x12c390={'retry':this['maxRetries']>0x1bc4+-0x1a3c*0x1+-0xc4*0x2,'maxRetries':this['maxRetries']};(_0x2bc4d7['startsWith']('blob:')||_0x2bc4d7['startsWith']('data:'))&&(_0x12c390['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x2bc4d7,_0x12c390,(_0x1c4edb,_0x5e0588)=>{if(_0x1c4edb){_0x1321f9(_0x1c4edb);return;}_0x3da167['context']['decodeAudi'+'oData'](_0x5e0588,_0x50bf14,_0x1321f9);});}else{let _0x6bbb0b=null;try{_0x6bbb0b=new Audio();}catch{_0x1321f9('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x6bbb0b);const _0x1e41ed=function(){_0x6bbb0b['removeEven'+'tListener']('canplaythr'+'ough',_0x1e41ed),Af&&document['body']['removeChil'+'d'](_0x6bbb0b),_0x50bf14(_0x6bbb0b);};_0x6bbb0b['onerror']=function(){_0x6bbb0b['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x6bbb0b),_0x1321f9();},_0x6bbb0b['addEventLi'+'stener']('canplaythr'+'ough',_0x1e41ed),_0x6bbb0b['src']=_0x2bc4d7;}}}class YN extends Qe{constructor(_0x303aac){super(_0x303aac,'binary');}['load'](_0x404446,_0x1eafb3){typeof _0x404446=='string'&&(_0x404446={'load':_0x404446,'original':_0x404446}),ot['get'](_0x404446['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x7*-0x3f1+0xd3*-0x5+-0x1778,'maxRetries':this['maxRetries']},(_0x2599ce,_0x2826d1)=>{_0x2599ce?_0x1eafb3('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x404446['original']+'\x20['+_0x2599ce+']'):_0x1eafb3(null,_0x2826d1);});}['openBinary'](_0x4acd65){return _0x4acd65['buffer'];}}class yr{constructor(_0x3ce913,_0x5ede9c,_0x3043c8,_0x39d886){const _0x5bffaf=function(_0x48e213,_0x8692c5,_0x147e63){const _0x3724a8=yr['createAsse'+'t'](_0x5ede9c['name'],_0x48e213,_0x8692c5,_0x147e63);return _0x3043c8['add'](_0x3724a8),_0x3724a8;},_0x22aa69=[];for(let _0xf5dc76=0x1f6b+0x25*-0x57+-0x12d8;_0xf5dc76<_0x3ce913['renders']['length'];++_0xf5dc76)_0x22aa69['push'](_0x5bffaf('render',_0x3ce913['renders'][_0xf5dc76],_0xf5dc76));const _0x416ea5=[];for(let _0x5f216f=0x207*0x1+-0x134f*-0x1+-0xaab*0x2;_0x5f216f<_0x3ce913['materials']['length'];++_0x5f216f)_0x416ea5['push'](_0x5bffaf('material',_0x3ce913['materials'][_0x5f216f],_0x5f216f));const _0x6f20d4=[];for(let _0x391cfc=0x1*-0x423+-0x8b*-0x30+-0x3*0x74f;_0x391cfc<_0x3ce913['animations']['length'];++_0x391cfc)_0x6f20d4['push'](_0x5bffaf('animation',_0x3ce913['animations'][_0x391cfc],_0x391cfc));this['data']=_0x3ce913,this['_model']=null,this['_assetName']=_0x5ede9c['name'],this['_assets']=_0x3043c8,this['_defaultMa'+'terial']=_0x39d886,this['renders']=_0x22aa69,this['materials']=_0x416ea5,this['textures']=_0x3ce913['textures'],this['animations']=_0x6f20d4;}get['model'](){if(!this['_model']){const _0x6b6cc=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0xa82252=yr['createAsse'+'t'](this['_assetName'],'model',_0x6b6cc,0x1b2c+-0x7d+-0x1aaf);this['_assets']['add'](_0xa82252),this['_model']=_0xa82252;}return this['_model'];}static['createAsse'+'t'](_0x115e72,_0x48cb75,_0x574a74,_0x9a5e1c){const _0xe50a74=new pe(_0x115e72+'/'+_0x48cb75+'/'+_0x9a5e1c,_0x48cb75,{'url':''});return _0xe50a74['resource']=_0x574a74,_0xe50a74['loaded']=!(-0x3*-0xb72+-0x2078+-0xef*0x2),_0xe50a74;}['instantiat'+'eModelEnti'+'ty'](_0x52fb13){const _0x4d65de=new lt(void(-0x849*-0x3+-0x2*0x95+0x1*-0x17b1),this['_assets']['_loader']['_app']);return _0x4d65de['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x52fb13)),_0x4d65de;}['instantiat'+'eRenderEnt'+'ity'](_0x1a2bcf){const _0x4999b7=this['_defaultMa'+'terial'],_0x4c9a5d=[],_0x3e22ab=function(_0x4dadb2,_0x4dc72e,_0x5bafbc,_0x43eb2f,_0x25c406,_0x3614ad,_0x34d021,_0x5e1fd5){const _0x3e4439=_0x25c406[_0x5bafbc['id']],_0x3b609b=_0x3e4439===void(0x2478+0x38*0x3a+-0x3128)?_0x4999b7:_0x43eb2f[_0x3e4439],_0x5bf5fd=new He(_0x5bafbc,_0x3b609b);_0x5bafbc['morph']&&(_0x5bf5fd['morphInsta'+'nce']=new xa(_0x5bafbc['morph'])),_0x34d021['hasOwnProp'+'erty']('skin')&&_0x4c9a5d['push']({'meshInstance':_0x5bf5fd,'rootBone':_0x4dadb2,'entity':_0x4dc72e});const _0x7b7183=_0x5e1fd5['get'](_0x34d021);if(_0x7b7183){const _0xf5d6d5=_0x7b7183['matrices'],_0x438b6a=kt['getDefault'+'Instancing'+'Format'](_0x5bafbc['device']),_0x635069=new Is(_0x5bafbc['device'],_0x438b6a,_0xf5d6d5['length']/(0x42a+-0x2*0xa4+0x1*-0x2d2),{'data':_0xf5d6d5});_0x5bf5fd['setInstanc'+'ing'](_0x635069),_0x5bf5fd['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x1*-0xe21+-0x2f2+-0x7*0x199);}return _0x5bf5fd;},_0x408fb8=(_0x123b29,_0x3f6b15,_0xc1de3)=>{const _0x22b8cf=new lt(void(0x165a+-0x169f+0x45),this['_assets']['_loader']['_app']);_0x3f6b15['_cloneInte'+'rnal'](_0x22b8cf),_0x123b29||(_0x123b29=_0x22b8cf);let _0x275655=null,_0x382c4b=null;for(let _0x4f93dd=-0x43*-0x90+-0x1f8+0x3*-0xbe8;_0x4f93dd<_0xc1de3['nodes']['length'];_0x4f93dd++)if(_0xc1de3['nodes'][_0x4f93dd]===_0x3f6b15){const _0x26c9a8=_0xc1de3['gltf']['nodes'][_0x4f93dd];if(_0x26c9a8['hasOwnProp'+'erty']('mesh')){const _0x50447e=_0xc1de3['renders'][_0x26c9a8['mesh']]['meshes'];_0x382c4b=this['renders'][_0x26c9a8['mesh']];for(let _0x3afa11=-0x235+-0x1792+0x19c7;_0x3afa11<_0x50447e['length'];_0x3afa11++){const _0xec51e=_0x50447e[_0x3afa11];if(_0xec51e){const _0x150dca=_0x3e22ab(_0x123b29,_0x22b8cf,_0xec51e,_0xc1de3['materials'],_0xc1de3['meshDefaul'+'tMaterials'],_0xc1de3['skins'],_0x26c9a8,_0xc1de3['nodeInstan'+'cingMap']);_0x275655||(_0x275655=[]),_0x275655['push'](_0x150dca);}}}if(_0xc1de3['lights']){const _0x23488a=_0xc1de3['lights']['get'](_0x26c9a8);_0x23488a&&_0x22b8cf['addChild'](_0x23488a['clone']());}if(_0xc1de3['cameras']){const _0x150c62=_0xc1de3['cameras']['get'](_0x26c9a8);_0x150c62&&_0x150c62['camera']['system']['cloneCompo'+'nent'](_0x150c62,_0x22b8cf);}}_0x275655&&(_0x22b8cf['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x275655},_0x1a2bcf)),_0x22b8cf['render']['assignAsse'+'t'](_0x382c4b));const _0x3729ad=_0x3f6b15['children'];for(let _0x3437ad=0x2*-0x454+-0xe3e*-0x1+-0x596;_0x3437ad<_0x3729ad['length'];_0x3437ad++){const _0x38b240=_0x408fb8(_0x123b29,_0x3729ad[_0x3437ad],_0xc1de3);_0x22b8cf['addChild'](_0x38b240);}return _0x22b8cf;},_0x2621e6=[];for(const _0x42e56f of this['data']['scenes'])_0x2621e6['push'](_0x408fb8(null,_0x42e56f,this['data']));return _0x4c9a5d['forEach'](_0x1102b3=>{_0x1102b3['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1102b3['meshInstan'+'ce']['mesh']['skin'],_0x1102b3['rootBone'],_0x1102b3['entity']),_0x1102b3['meshInstan'+'ce']['node']['render']['rootBone']=_0x1102b3['rootBone'];}),yr['createScen'+'eHierarchy'](_0x2621e6,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x52de4f,_0x114495){const _0x34fb8e=_0x114495?this['data']['variants'][_0x114495]:null;if(_0x34fb8e===void(0x141*0x17+-0x1164+-0xb73*0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x114495+('\x20exists\x20in'+'\x20resource'));return;}const _0x309162=_0x52de4f['findCompon'+'ents']('render');for(let _0x1db5e1=-0xbad+0x9*-0x2b3+-0x11fc*-0x2;_0x1db5e1<_0x309162['length'];_0x1db5e1++){const _0x3f4942=_0x309162[_0x1db5e1];this['_applyMate'+'rialVarian'+'t'](_0x34fb8e,_0x3f4942['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x263793,_0x2b5b30){const _0x3e3e0b=_0x2b5b30?this['data']['variants'][_0x2b5b30]:null;if(_0x3e3e0b===void(0x1f25+0x15ec+-0x415*0xd)){w['warn']('No\x20variant'+'\x20named\x20'+_0x2b5b30+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x3e3e0b,_0x263793);}['_applyMate'+'rialVarian'+'t'](_0x2a7717,_0x4d8aef){_0x4d8aef['forEach'](_0x149164=>{if(_0x2a7717===null)_0x149164['material']=this['_defaultMa'+'terial'];else{const _0x18d730=this['data']['meshVarian'+'ts'][_0x149164['mesh']['id']];_0x18d730&&(_0x149164['material']=this['data']['materials'][_0x18d730[_0x2a7717]]);}w['assert'](_0x149164['material']);});}static['createScen'+'eHierarchy'](_0x33ec88,_0x32083f){let _0x2f51e3=null;if(_0x33ec88['length']===-0x13db+0x2678+-0x129c)_0x2f51e3=_0x33ec88[0xcfc+0x1901+-0x25fd*0x1];else{_0x2f51e3=new _0x32083f('SceneGroup');for(const _0x122026 of _0x33ec88)_0x2f51e3['addChild'](_0x122026);}return _0x2f51e3;}static['createMode'+'l'](_0x3325c0,_0x45b5ac){const _0x56bb67=function(_0x5bce65,_0x55fbd5,_0x31013e,_0x49c75e,_0x1b55cf,_0x271e5d,_0x30d8d0){const _0x256f1a=_0x3325c0['meshDefaul'+'tMaterials'][_0x55fbd5['id']],_0x5a1b9f=_0x256f1a===void(-0xfb*-0x22+0x151*0x17+-0x3f9d*0x1)?_0x45b5ac:_0x1b55cf[_0x256f1a],_0x1fe155=new He(_0x55fbd5,_0x5a1b9f,_0x271e5d);if(_0x55fbd5['morph']){const _0x2100f1=new xa(_0x55fbd5['morph']);_0x1fe155['morphInsta'+'nce']=_0x2100f1,_0x5bce65['morphInsta'+'nces']['push'](_0x2100f1);}if(_0x30d8d0['hasOwnProp'+'erty']('skin')){const _0x58577e=_0x30d8d0['skin'],_0x49e6a5=_0x31013e[_0x58577e];_0x55fbd5['skin']=_0x49e6a5;const _0x319886=_0x49c75e[_0x58577e];_0x1fe155['skinInstan'+'ce']=_0x319886,_0x5bce65['skinInstan'+'ces']['push'](_0x319886);}_0x5bce65['meshInstan'+'ces']['push'](_0x1fe155);},_0x9bf583=new sr(),_0x2e74dc=[];for(const _0x134e77 of _0x3325c0['skins']){const _0x2c8323=new Ol(_0x134e77);_0x2c8323['bones']=_0x134e77['bones'],_0x2e74dc['push'](_0x2c8323);}_0x9bf583['graph']=yr['createScen'+'eHierarchy'](_0x3325c0['scenes'],Ie);for(let _0x2c8e53=0x29c+0x1*0x1395+0x17*-0xf7;_0x2c8e53<_0x3325c0['nodes']['length'];_0x2c8e53++){const _0x37fcac=_0x3325c0['nodes'][_0x2c8e53];if(_0x37fcac['root']===_0x9bf583['graph']){const _0x679cf1=_0x3325c0['gltf']['nodes'][_0x2c8e53];if(_0x679cf1['hasOwnProp'+'erty']('mesh')){const _0x576d68=_0x3325c0['renders'][_0x679cf1['mesh']]['meshes'];for(let _0x2c2f7f=0xa*0x1ce+-0xcc5+-0x547;_0x2c2f7f<_0x576d68['length'];_0x2c2f7f++){const _0x48d244=_0x576d68[_0x2c2f7f];_0x48d244&&_0x56bb67(_0x9bf583,_0x48d244,_0x3325c0['skins'],_0x2e74dc,_0x3325c0['materials'],_0x37fcac,_0x679cf1);}}}}return _0x9bf583;}['destroy'](){const _0xb12ca4=this['_assets'],_0xdc0b9e=function(_0x1e5fcd){_0xb12ca4['remove'](_0x1e5fcd),_0x1e5fcd['unload']();},_0x5a51f7=function(_0x4a9fba){_0x4a9fba['forEach'](_0x9cf4e4=>{_0xdc0b9e(_0x9cf4e4);});};this['animations']&&(_0x5a51f7(this['animations']),this['animations']=null),this['textures']&&(_0x5a51f7(this['textures']),this['textures']=null),this['materials']&&(_0x5a51f7(this['materials']),this['materials']=null),this['renders']&&(_0x5a51f7(this['renders']),this['renders']=null),this['_model']&&(_0xdc0b9e(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x48115b,_0x112e6e,_0x12aae2){this['_device']=_0x48115b,this['_assets']=_0x112e6e,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x12aae2;}['_getUrlWit'+'houtParams'](_0x5d850d){return _0x5d850d['indexOf']('?')>=0x25c+0xa*-0x169+0xbbe?_0x5d850d['split']('?')[-0x8d*-0x1d+0x11ca+-0x21c3]:_0x5d850d;}['load'](_0x2982e6,_0x13574e,_0x310b22){pe['fetchArray'+'Buffer'](_0x2982e6['load'],(_0x18378c,_0x144504)=>{_0x18378c?_0x13574e(_0x18378c):kh['parse'](this['_getUrlWit'+'houtParams'](_0x2982e6['original']),xe['extractPat'+'h'](_0x2982e6['load']),_0x144504,this['_device'],_0x310b22['registry'],_0x310b22['options'],(_0x20f604,_0x1e9bcb)=>{_0x20f604?_0x13574e(_0x20f604):_0x13574e(null,new yr(_0x1e9bcb,_0x310b22,this['_assets'],this['_defaultMa'+'terial']));});},_0x310b22,this['maxRetries']);}['open'](_0x3e2902,_0x4b8d16,_0x101d6b){return _0x4b8d16;}['patch'](_0x1319e3,_0x5ae077){}}class ZN extends Qe{constructor(_0x362746){super(_0x362746,'container'),this['glbContain'+'erParser']=new KN(_0x362746['graphicsDe'+'vice'],_0x362746['assets'],-0xb08*-0x1+0x3*-0x18e+0x146*-0x5),this['parsers']={};}set['maxRetries'](_0x17f737){this['glbContain'+'erParser']['maxRetries']=_0x17f737;for(const _0x53ead4 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x53ead4)&&(this['parsers'][_0x53ead4]['maxRetries']=_0x17f737);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1b32a1){return _0x1b32a1['indexOf']('?')>=0x363+0x230d+-0x2670?_0x1b32a1['split']('?')[-0x1*-0x2645+-0x135+-0x2510]:_0x1b32a1;}['_getParser'](_0x1961d1){const _0x20ae1d=_0x1961d1?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1961d1))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x20ae1d]||this['glbContain'+'erParser'];}['load'](_0x4b5d40,_0x403a38,_0x430855){typeof _0x4b5d40=='string'&&(_0x4b5d40={'load':_0x4b5d40,'original':_0x4b5d40}),this['_getParser'](_0x4b5d40['original'])['load'](_0x4b5d40,_0x403a38,_0x430855);}['open'](_0x560610,_0x1a352f,_0x52d255){return this['_getParser'](_0x560610)['open'](_0x560610,_0x1a352f,_0x52d255);}}class QN extends Qe{constructor(_0x38d21f){super(_0x38d21f,'css'),h(this,'decoder',null);}['load'](_0xc00281,_0x57d078){typeof _0xc00281=='string'&&(_0xc00281={'load':_0xc00281,'original':_0xc00281}),ot['get'](_0xc00281['load'],{'retry':this['maxRetries']>-0x1*0x1d69+-0x1f16+0x11*0x38f,'maxRetries':this['maxRetries']},(_0x158054,_0x16a9ae)=>{_0x158054?_0x57d078('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xc00281['original']+'\x20['+_0x158054+']'):_0x57d078(null,_0x16a9ae);});}['openBinary'](_0x4ab1c9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4ab1c9);}}class JN extends Qe{constructor(_0x2cf848){super(_0x2cf848,'cubemap'),this['_device']=_0x2cf848['graphicsDe'+'vice'],this['_registry']=_0x2cf848['assets'],this['_loader']=_0x2cf848['loader'];}['load'](_0x9a61dc,_0x41def4,_0x10ad25){this['loadAssets'](_0x10ad25,_0x41def4);}['open'](_0x311d49,_0x3d9cde,_0xf7e26b){return _0xf7e26b?_0xf7e26b['resource']:null;}['patch'](_0x44ca55,_0x7748ad){this['loadAssets'](_0x44ca55,(_0x555511,_0x237f0e)=>{_0x555511&&(_0x7748ad['fire']('error',_0x44ca55),_0x7748ad['fire']('error:'+_0x44ca55['id'],_0x555511,_0x44ca55),_0x44ca55['fire']('error',_0x44ca55));});}['getAssetId'+'s'](_0x290fea){const _0x51ae37=[];if(_0x51ae37[0xf6b+-0xf4a+-0x21*0x1]=_0x290fea['file'],(_0x290fea['loadFaces']||!_0x290fea['file'])&&_0x290fea['data']&&_0x290fea['data']['textures']){for(let _0x53d136=-0xb3*-0x37+0x14ff+-0x3b74;_0x53d136<-0x1*-0x20ab+-0x23a6+-0x301*-0x1;++_0x53d136)_0x51ae37[_0x53d136+(-0x125*0xd+-0x203d+0x1*0x2f1f)]=_0x290fea['data']['textures'][_0x53d136];}else _0x51ae37[-0x1c20+-0x7eb+0x240c]=_0x51ae37[-0x1795+0x211*0xe+-0x557]=_0x51ae37[-0x1d1a*-0x1+-0x208c+0x375]=_0x51ae37[0xcde+0x2700+0x33da*-0x1]=_0x51ae37[0x1a*0x2b+0x26d*0x9+-0x1a2e]=_0x51ae37[-0x3f*-0x47+-0x2*0x146+-0xee7]=null;return _0x51ae37;}['compareAss'+'etIds'](_0x5909d3,_0x3455e0){return _0x5909d3&&_0x3455e0?parseInt(_0x5909d3,-0xf61+-0x116d*-0x1+-0x101*0x2)===_0x5909d3||typeof _0x5909d3=='string'?_0x5909d3===_0x3455e0:_0x5909d3['url']===_0x3455e0['url']:_0x5909d3!==null==(_0x3455e0!==null);}['update'](_0x35e5ee,_0x2fcb66,_0x4c2dc1){const _0x3e63a4=_0x35e5ee['data']||{},_0x29f0cf=_0x35e5ee['_handlerSt'+'ate']['assets'],_0x1181ec=_0x35e5ee['_resources'];let _0x14c725,_0x4aace2,_0x12c3b0;const _0xa44070=[null,null,null,null,null,null,null],_0x20f148=function(){return _0x3e63a4['hasOwnProp'+'erty']('type')?_0x3e63a4['type']:_0x3e63a4['hasOwnProp'+'erty']('rgbm')?_0x3e63a4['rgbm']?Zi:Ds:null;};if(!_0x35e5ee['loaded']||_0x4c2dc1[0x1eec+-0xc6*0x5+-0x1b0e]!==_0x29f0cf[0x7ab*-0x3+0x3*0xb16+-0xa41]){if(_0x4c2dc1[-0x17ee+-0x7c8*-0x3+-0x2*-0x4b]){if(_0x14c725=_0x4c2dc1[0xacf*0x1+-0x1c*0x1+-0xab3]['resource'],_0x14c725['cubemap']){for(_0x12c3b0=0x1*-0x4e8+0x5*-0x70b+-0x1*-0x281f;_0x12c3b0<-0x171d+-0x2*-0x131+0x14c1;++_0x12c3b0)_0xa44070[_0x12c3b0+(0x35*-0x35+0xe*0x1e5+-0xf8c)]=new _e(this['_device'],{'name':_0x35e5ee['name']+('_prelitCub'+'emap')+(_0x14c725['width']>>_0x12c3b0),'cubemap':!(-0x5*0x358+0x5c8+0xaf0),'type':_0x20f148()||_0x14c725['type'],'width':_0x14c725['width']>>_0x12c3b0,'height':_0x14c725['height']>>_0x12c3b0,'format':_0x14c725['format'],'levels':[_0x14c725['_levels'][_0x12c3b0]],'addressU':ue,'addressV':ue,'mipmaps':_0x12c3b0===-0x3ff+-0x22fa+0x1*0x26f9});}else _0xa44070[-0x241d+0xb1*0x1d+0x1011]=_0x14c725;}}else _0xa44070[-0x5*0x491+0x10f4+0x1f6*0x3]=_0x1181ec[0x1b5c+0x900+0x1*-0x245b]||null,_0xa44070[0x1*-0x1d5d+-0x4a5*0x2+0x26a9]=_0x1181ec[0x1425+0xe9*0x20+-0x3143]||null,_0xa44070[-0x12a+-0x17b7+0x18e4]=_0x1181ec[-0x15e6*-0x1+0x1*0x24b3+-0x3a96]||null,_0xa44070[0x1*-0xb47+0x1*0x118+0xa33]=_0x1181ec[-0x1*-0x19e1+0x421+-0x1dfe]||null,_0xa44070[0x1*0x1b7d+0x1*-0x1d3f+-0x41*-0x7]=_0x1181ec[0x7cb+0x225f+-0x2a25]||null,_0xa44070[0x1*-0x1b72+0x607*0x5+-0x2ab]=_0x1181ec[-0xa89+-0x1f9+0x644*0x2]||null;const _0x1a0b5a=_0x4c2dc1['slice'](-0x1*-0x1b81+-0xbbe+-0xfc2);if(!_0x35e5ee['loaded']||!this['cmpArrays'](_0x1a0b5a,_0x29f0cf['slice'](0xa89+-0x104d+0x5c5))){if(_0x1a0b5a['indexOf'](null)===-(0x7e8+-0x1262+-0xa7b*-0x1)){const _0x340a98=_0x1a0b5a['map'](_0x2d63c9=>_0x2d63c9['resource']),_0x1854ca=[];for(_0x4aace2=-0x2304+-0x2c6*0xb+0x4186;_0x4aace2<_0x340a98[0xb*-0x1a+0x37b+-0x79*0x5]['_levels']['length'];++_0x4aace2)_0x1854ca['push'](_0x340a98['map'](_0x494e58=>_0x494e58['_levels'][_0x4aace2]));const _0x5e3c73=_0x340a98[0x247a+0x14af+-0x3929]['format'],_0x2e5fb3=new _e(this['_device'],{'name':_0x35e5ee['name']+'_faces','cubemap':!(-0x1*0x23dd+0x83*0x12+0x1aa7),'type':_0x20f148()||_0x340a98[-0x11ef+-0x89+0x18*0xc5]['type'],'width':_0x340a98[-0x2*0xddf+-0x1*0x1f39+-0x3af7*-0x1]['width'],'height':_0x340a98[-0x2fd+0x9*0x2a7+-0x14e2]['height'],'format':_0x5e3c73===Cr?Ne:_0x5e3c73,'mipmaps':_0x3e63a4['mipmaps']??!(-0x2*-0x719+-0x1103*0x2+0x13d4),'levels':_0x1854ca,'minFilter':_0x3e63a4['hasOwnProp'+'erty']('minFilter')?_0x3e63a4['minFilter']:_0x340a98[-0x403+0x1049*0x1+0x2*-0x623]['minFilter'],'magFilter':_0x3e63a4['hasOwnProp'+'erty']('magFilter')?_0x3e63a4['magFilter']:_0x340a98[0x1d1b+0x1fb2+-0x3ccd]['magFilter'],'anisotropy':_0x3e63a4['hasOwnProp'+'erty']('anisotropy')?_0x3e63a4['anisotropy']:-0x13cb+-0x1dc+0x15a8,'addressU':ue,'addressV':ue});_0xa44070[0x143*-0x1c+0x1*-0x11b1+0x3505]=_0x2e5fb3;}}else _0xa44070[-0x9f5*0x1+0x89*0x1d+0x59*-0x10]=_0x1181ec[0x2515+0xda8+0x32bd*-0x1]||null;if(!this['cmpArrays'](_0xa44070,_0x1181ec)){for(_0x35e5ee['resources']=_0xa44070,_0x35e5ee['_handlerSt'+'ate']['assetIds']=_0x2fcb66,_0x35e5ee['_handlerSt'+'ate']['assets']=_0x4c2dc1,_0x12c3b0=-0x37a+-0x1*0x1b65+-0x469*-0x7;_0x12c3b0<_0x1181ec['length'];++_0x12c3b0)_0x1181ec[_0x12c3b0]!==null&&_0xa44070['indexOf'](_0x1181ec[_0x12c3b0])===-(-0x1947+0xec0+0xa88)&&_0x1181ec[_0x12c3b0]['destroy']();}for(_0x12c3b0=-0x14*-0x6e+-0x201*0x1+-0x697;_0x12c3b0<_0x29f0cf['length'];++_0x12c3b0)_0x29f0cf[_0x12c3b0]!==null&&_0x4c2dc1['indexOf'](_0x29f0cf[_0x12c3b0])===-(0x23ec*-0x1+-0x9a3+0x2d90)&&_0x29f0cf[_0x12c3b0]['unload']();}['cmpArrays'](_0x4ecba6,_0x23fdb1){if(_0x4ecba6['length']!==_0x23fdb1['length'])return!(-0x26fb+0x4*-0x751+0x4e0*0xe);for(let _0x5a7190=0x11*-0xe2+0x3df*-0x3+0x553*0x5;_0x5a7190<_0x4ecba6['length'];++_0x5a7190)if(_0x4ecba6[_0x5a7190]!==_0x23fdb1[_0x5a7190])return!(-0x11de+-0x1f1e*-0x1+-0xd3f);return!(-0xdda+0x1*-0x96e+0x1748);}['resolveId'](_0x12d08f){const _0x19b3be=parseInt(_0x12d08f,0x837*-0x1+-0x3*-0x4df+0x65c*-0x1);return _0x19b3be===_0x12d08f||_0x19b3be['toString']()===_0x12d08f?_0x19b3be:_0x12d08f;}['loadAssets'](_0x1f4847,_0xadd1b8){_0x1f4847['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x1f4847['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0xc340cd=this,_0x5382f2=_0xc340cd['getAssetId'+'s'](_0x1f4847),_0x14b848=[null,null,null,null,null,null,null],_0x320b0f=_0x1f4847['_handlerSt'+'ate']['assetIds'],_0x3e851d=_0x1f4847['_handlerSt'+'ate']['assets'],_0x3617ed=_0xc340cd['_registry'];let _0x1e806a=0x1e20+0x83*-0x21+0xd36*-0x1;const _0x59409b=function(_0x176a1b,_0x120b5b){_0x14b848[_0x176a1b]=_0x120b5b,_0x1e806a--,_0x1e806a===-0x26e+0x1096+0x6*-0x25c&&(_0xc340cd['update'](_0x1f4847,_0x5382f2,_0x14b848),_0xadd1b8(null,_0x1f4847['resources']));},_0x5651aa=function(_0x1fee06,_0x547a62,_0x145434){_0xadd1b8(_0x547a62);},_0x5b2af8=function(_0x1050f3,_0x482190){_0x482190['loaded']?_0x59409b(_0x1050f3,_0x482190):(_0x3617ed['once']('load:'+_0x482190['id'],_0x59409b['bind'](_0xc340cd,_0x1050f3)),_0x3617ed['once']('error:'+_0x482190['id'],_0x5651aa['bind'](_0xc340cd,_0x1050f3)),_0x482190['loading']||_0x3617ed['load'](_0x482190));};let _0x1072e7;for(let _0x5a4aef=0x19e+0x1*-0xb02+0x964;_0x5a4aef<-0x7e*-0x3d+0x2692+-0x3*0x16db;++_0x5a4aef){const _0x21d3d2=this['resolveId'](_0x5382f2[_0x5a4aef]);if(!_0x21d3d2)_0x59409b(_0x5a4aef,null);else{if(_0xc340cd['compareAss'+'etIds'](_0x21d3d2,_0x320b0f[_0x5a4aef]))_0x5b2af8(_0x5a4aef,_0x3e851d[_0x5a4aef]);else{if(parseInt(_0x21d3d2,-0xeaa*-0x1+-0xa01+-0x7*0xa9)===_0x21d3d2)_0x1072e7=_0x3617ed['get'](_0x21d3d2),_0x1072e7?_0x5b2af8(_0x5a4aef,_0x1072e7):setTimeout(((_0x4c701a,_0x1b2086)=>{const _0x4d3df3=_0x3617ed['get'](_0x1b2086);_0x4d3df3?_0x5b2af8(_0x4c701a,_0x4d3df3):_0x5651aa(_0x4c701a,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x1b2086);})['bind'](null,_0x5a4aef,_0x21d3d2));else{const _0x178174=typeof _0x21d3d2=='string'?{'url':_0x21d3d2,'filename':_0x21d3d2}:_0x21d3d2,_0x46a32c=_0x178174['url']['search']('.dds')===-(-0x17eb+0x16b9+-0x1*-0x133)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0xa45+-0x21e*0x2+0xe82)}:null;_0x1072e7=new pe(_0x1f4847['name']+'_part_'+_0x5a4aef,'texture',_0x178174,_0x46a32c),_0x3617ed['add'](_0x1072e7),_0x5b2af8(_0x5a4aef,_0x1072e7);}}}}}}class ek extends Qe{constructor(_0x49f333){super(_0x49f333,'folder');}['load'](_0x10698d,_0x3ed958){_0x3ed958(null,null);}}class yS{constructor(_0x4143d0,_0x490b76){this['type']=_0x490b76&&_0x490b76['type']||Rh,this['em']=-0xebe+-0x2333*-0x1+-0x1474,this['textures']=_0x4143d0,this['intensity']=0x1e05+0x5c6+-0x23cb,this['_data']=null,this['data']=_0x490b76;}set['data'](_0x3cd25b){if(this['_data']=_0x3cd25b,!!_0x3cd25b&&(this['_data']['intensity']!==void(-0x49*0x6d+0x2028+-0x113)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xf11+-0x1*0x40f+0x1322)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x19f4fb in this['_data']['chars'])this['_data']['chars'][_0x19f4fb]['map']=0xa*-0x1bf+-0x4*-0x948+-0x13aa;}}get['data'](){return this['_data'];}}function Cf(_0x4f0b73){return _0x4f0b73['version']<0xbbf+0x146c+-0x2028&&(_0x4f0b73['version']<-0x4*-0x35d+-0x1fd*0xf+0x1*0x1061&&(_0x4f0b73['info']['maps']=_0x4f0b73['info']['maps']||[{'width':_0x4f0b73['info']['width'],'height':_0x4f0b73['info']['height']}]),_0x4f0b73['chars']=Object['keys'](_0x4f0b73['chars']||{})['reduce']((_0x23e380,_0x4a3930)=>{const _0x267e83=_0x4f0b73['chars'][_0x4a3930],_0x350f48=_0x267e83['letter']!==void(0x398+0xc*0x15a+0x4*-0x4f4)?_0x267e83['letter']:Hc['fromCodePo'+'int'](_0x4a3930);return _0x4f0b73['version']<0x5f7+0x9d5*-0x1+0x3e0&&(_0x267e83['map']=_0x267e83['map']||-0x88e+0xb78*-0x2+0x1f7e),_0x23e380[_0x350f48]=_0x267e83,_0x23e380;},{}),_0x4f0b73['version']=-0xc6d+0x12*0xe3+-0x52*0xb),_0x4f0b73;}class tk extends Qe{constructor(_0x2f623d){super(_0x2f623d,'font'),this['_loader']=_0x2f623d['loader'],this['maxRetries']=-0xe90*-0x1+0xd11+-0x1ba1*0x1;}['load'](_0x57c132,_0xba9353,_0x3edc7b){typeof _0x57c132=='string'&&(_0x57c132={'load':_0x57c132,'original':_0x57c132});const _0x2512af=this;xe['getExtensi'+'on'](_0x57c132['original'])==='.json'?ot['get'](_0x57c132['load'],{'retry':this['maxRetries']>0x4*-0x767+0x1d6b+-0x31*-0x1,'maxRetries':this['maxRetries']},(_0x5055b8,_0x25400a)=>{if(_0x5055b8)_0xba9353('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x57c132['original']+'\x20['+_0x5055b8+']');else{const _0x5e94d6=Cf(_0x25400a);_0x2512af['_loadTextu'+'res'](_0x57c132['load']['replace']('.json','.png'),_0x5e94d6,(_0x25dd40,_0x48d791)=>{_0x25dd40?_0xba9353(_0x25dd40):_0xba9353(null,{'data':_0x5e94d6,'textures':_0x48d791});});}}):(_0x3edc7b&&_0x3edc7b['data']&&(_0x3edc7b['data']=Cf(_0x3edc7b['data'])),this['_loadTextu'+'res'](_0x57c132['load'],_0x3edc7b&&_0x3edc7b['data'],_0xba9353));}['_loadTextu'+'res'](_0x17c3a6,_0x1ba98d,_0x4d0531){const _0x58f8d6=_0x1ba98d['info']['maps']['length'];let _0x46ba61=-0x3f0+0x252d+-0x213d,_0xd51414=null;const _0x2aa3b7=new Array(_0x58f8d6),_0x440a85=this['_loader'],_0x595494=function(_0x25ebba){const _0x172d5b=function(_0x53245d,_0x7d75f){if(!_0xd51414){if(_0x53245d){_0xd51414=_0x53245d,_0x4d0531(_0x53245d);return;}_0x7d75f['upload'](),_0x2aa3b7[_0x25ebba]=_0x7d75f,_0x46ba61++,_0x46ba61===_0x58f8d6&&_0x4d0531(null,_0x2aa3b7);}};_0x25ebba===0x6bd+0x662+-0x1*0xd1f?_0x440a85['load'](_0x17c3a6,'texture',_0x172d5b):_0x440a85['load'](_0x17c3a6['replace']('.png',_0x25ebba+'.png'),'texture',_0x172d5b);};for(let _0x2f70b9=0x1160+0x19cc+-0x2b2c;_0x2f70b9<_0x58f8d6;_0x2f70b9++)_0x595494(_0x2f70b9);}['open'](_0x154af0,_0x178212,_0x2549ff){let _0x5161b3;return _0x178212['textures']?_0x5161b3=new yS(_0x178212['textures'],_0x178212['data']):_0x5161b3=new yS(_0x178212,null),_0x5161b3;}['patch'](_0x4af40f,_0x718b52){const _0x7d447=_0x4af40f['resource'];!_0x7d447['data']&&_0x4af40f['data']?_0x7d447['data']=_0x4af40f['data']:!_0x4af40f['data']&&_0x7d447['data']&&(_0x4af40f['data']=_0x7d447['data']),_0x4af40f['data']&&(_0x4af40f['data']=Cf(_0x4af40f['data']));}}async function sk(){const _0x219f9d=-0x13a0+0x22+0x1*0x137e+0.28209479177387814;class _0x2b99d2{constructor(_0x2b5729,_0x4ce76e,_0x5c0066){this['x']=_0x2b5729,this['y']=_0x4ce76e,this['z']=_0x5c0066;}}class _0x18c19d{constructor(_0x5cde0b,_0x575ffa,_0x90ac00,_0x496c3e){this['x']=_0x5cde0b,this['y']=_0x575ffa,this['z']=_0x90ac00,this['w']=_0x496c3e;}}class _0x392680{constructor(_0xe71a40,_0xdfc83a,_0x1f0e3c,_0x19b2e7){this['x']=_0xe71a40,this['y']=_0xdfc83a,this['z']=_0x1f0e3c,this['w']=_0x19b2e7;}['set'](_0x492e0e,_0x14d624,_0x4283c0,_0x43ed22){this['x']=_0x492e0e,this['y']=_0x14d624,this['z']=_0x4283c0,this['w']=_0x43ed22;}}class _0x2a4025{constructor(_0x5cfda2,_0x22925a,_0x3521ad,_0x23052b,_0xfe49bf,_0x20c1cf,_0x304285,_0x2a06b5,_0x5de704,_0x343d9f,_0x268439,_0x430721,_0x2fb693,_0x430e87){const _0x356211=(_0x296a0d,_0x522ffa)=>{const _0x31277b=(-0xf5b*-0x1+-0x1628+0x367*0x2<<_0x522ffa)-(-0xeea+0x752+0x799);return(_0x296a0d&_0x31277b)/_0x31277b;},_0x3fc53f=(_0x3c8b3c,_0x52a01d)=>{_0x3c8b3c['x']=_0x356211(_0x52a01d>>>-0x184a+-0x26*-0x8b+0x3bd,-0x1f9e+-0x6*-0x5ea+-0x59*0xb),_0x3c8b3c['y']=_0x356211(_0x52a01d>>>-0x498+0x12f8+-0x1*0xe55,-0x7*-0x1c7+-0x230f+0x14*0x122),_0x3c8b3c['z']=_0x356211(_0x52a01d,-0xe2d*-0x1+-0x12*0x96+-0x396);},_0x1b6649=(_0x497bed,_0x196f59)=>{_0x497bed['x']=_0x356211(_0x196f59>>>0x26a0+0xd77+-0x33ff,0xbd*0x17+0x526*0x1+-0x1619),_0x497bed['y']=_0x356211(_0x196f59>>>0x131b*-0x1+0x15f*-0x10+0x11*0x26b,-0x2144+0xdec+0x1360),_0x497bed['z']=_0x356211(_0x196f59>>>-0x26fc+0x1a64+0x194*0x8,-0x5ad*-0x4+-0x13c2+0x175*-0x2),_0x497bed['w']=_0x356211(_0x196f59,-0x11*-0x65+-0xa3*-0x2a+-0x216b);},_0x3507ec=(_0x3a0bb4,_0x54c77d)=>{const _0x8e85b3=(0x1*-0x22a3+-0x1724*-0x1+0x1*0xb80)/(Math['sqrt'](0x1*0x1fcf+0x1e92+-0x3e5f)*(-0x93+-0x146*-0x16+-0x1b71+0.5)),_0x3016f2=(_0x356211(_0x54c77d>>>0x26fa+0x166b+-0x3d51,0x21d9+-0x7*-0x1d7+-0x30*0xf9)-(-0x23*0xf2+0x362*0x3+0x4*0x5bc+0.5))*_0x8e85b3,_0x259350=(_0x356211(_0x54c77d>>>0xe*0x18a+0x1764*-0x1+0x1e2,-0x10*0x4+0xc91+-0x1c1*0x7)-(-0x1*-0x7af+-0x26ea+-0x267*-0xd+0.5))*_0x8e85b3,_0x37d88d=(_0x356211(_0x54c77d,0x2*0xa4e+-0x4*0x257+-0x7*0x19a)-(0x1*0x9e3+0x2*-0x853+0x1*0x6c3+0.5))*_0x8e85b3,_0x38185e=Math['sqrt'](0x2663+0x20c3+0x4725*-0x1-(_0x3016f2*_0x3016f2+_0x259350*_0x259350+_0x37d88d*_0x37d88d));switch(_0x54c77d>>>-0xc*-0xae+-0x4*0x29+-0x766){case 0xb*-0x207+-0x2*0x6fd+-0x2447*-0x1:_0x3a0bb4['set'](_0x3016f2,_0x259350,_0x37d88d,_0x38185e);break;case-0xd0f*-0x1+0x1*0x2597+-0x32a5:_0x3a0bb4['set'](_0x38185e,_0x259350,_0x37d88d,_0x3016f2);break;case-0x2e1+0x53*-0x67+-0x408*-0x9:_0x3a0bb4['set'](_0x259350,_0x38185e,_0x37d88d,_0x3016f2);break;case 0x1d34+-0xe3+0x1*-0x1c4e:_0x3a0bb4['set'](_0x259350,_0x37d88d,_0x38185e,_0x3016f2);break;}},_0x12cbb4=(_0xaf0673,_0x181c1a,_0x40ccaa)=>_0xaf0673*(0x30*-0x71+0x209e+-0x19*0x75-_0x40ccaa)+_0x181c1a*_0x40ccaa,_0x2e7986=[-0x2a6*-0x8+0x1*-0x1509+-0x24,-0x6b9*-0x3+0x59*-0x6d+0x11c2,-0x17*-0x139+0x4*0x6f8+0x166*-0x28][_0x304285-(0x1*0x1eab+-0xa8c+0x5*-0x406)],_0xc4b32b=-0x1*-0x1163+-0x19ce+-0x1*-0x871;this['read']=_0x3a9c3b=>{const _0x11aa6f=Math['floor'](_0x3a9c3b/(-0xf5*-0x4+0xd08+-0xfdc))*_0x22925a;if(_0x2a06b5&&(_0x3fc53f(_0x2a06b5,_0x3521ad[_0x3a9c3b*_0xc4b32b+(0xf9f+-0x5*0x223+-0x4f0)]),_0x2a06b5['x']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x1ab8+0x59+-0x1a5f*-0x1)],_0x5cfda2[_0x11aa6f+(-0x2212+0x2fb+0x1f1a)],_0x2a06b5['x']),_0x2a06b5['y']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x64*0x3e+-0x103c+0x1*0x2875)],_0x5cfda2[_0x11aa6f+(-0x4*-0x54+0xefe+0x825*-0x2)],_0x2a06b5['y']),_0x2a06b5['z']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x1b55*-0x1+0x3*-0x81e+0x1*-0x2f9)],_0x5cfda2[_0x11aa6f+(0x1d2d+0x2383*0x1+-0x7*0x93d)],_0x2a06b5['z'])),_0x5de704&&_0x3507ec(_0x5de704,_0x3521ad[_0x3a9c3b*_0xc4b32b+(-0x46f*0x5+-0xf7*-0x6+0x1062)]),_0x343d9f&&(_0x3fc53f(_0x343d9f,_0x3521ad[_0x3a9c3b*_0xc4b32b+(-0xd0*-0x26+-0x1*0x1f6c+0x2*0x47)]),_0x343d9f['x']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x15f1+0x734*-0x3+0x2b93)],_0x5cfda2[_0x11aa6f+(-0x2f*0x18+-0x40*0x15+0x9b1)],_0x343d9f['x']),_0x343d9f['y']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x2264+-0x1*-0x2639+-0x3ce*0x1)],_0x5cfda2[_0x11aa6f+(0x3*-0x46f+0x1c54+-0x3*0x4ff)],_0x343d9f['y']),_0x343d9f['z']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0x2364+0xd25+-0x102b*0x3)],_0x5cfda2[_0x11aa6f+(-0x14a1*0x1+-0x5*-0x151+0xe17)],_0x343d9f['z'])),_0x268439&&(_0x1b6649(_0x268439,_0x3521ad[_0x3a9c3b*_0xc4b32b+(-0x2*0x634+0x5*-0x1df+0x15c6)]),_0x22925a>0x6be+-0x23d4+0x1d22&&(_0x268439['x']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0x34+-0x5*0x71d+0x31*0xb9)],_0x5cfda2[_0x11aa6f+(-0x1b4a+-0x194f+0x34a8)],_0x268439['x']),_0x268439['y']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0x1652*0x1+-0x2*0x18e+0x3*-0x663)],_0x5cfda2[_0x11aa6f+(-0x1*-0xf9+0x19e1+-0x9*0x2fa)],_0x268439['y']),_0x268439['z']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x99*-0x17+0x116*0x1a+0x1*-0x29ed)],_0x5cfda2[_0x11aa6f+(0x105d+-0x1f*-0x1b+-0x1391)],_0x268439['z']))),_0x430721&&(_0x3fc53f(_0x430721,_0x3521ad[_0x3a9c3b*_0xc4b32b+(0x42*0x97+-0x1972+-0x2*0x6bc)]),_0x430721['x']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0x1*0x1f17+0x58b+0xf*-0x270)],_0x5cfda2[_0x11aa6f+(0xd23+0x100f*-0x2+0x262*0x8)],_0x430721['x']),_0x430721['y']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x128d+-0x1b20+0x2dc0)],_0x5cfda2[_0x11aa6f+(-0x2447+0x1be*-0x1+0x261b)],_0x430721['y']),_0x430721['z']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0xa5+-0xd57*0x1+0xcc6)],_0x5cfda2[_0x11aa6f+(-0x59e+0x5*-0x41b+0x1a3c)],_0x430721['z'])),_0x2fb693&&(_0x3fc53f(_0x2fb693,_0x3521ad[_0x3a9c3b*_0xc4b32b+(0x255b*-0x1+0x1*-0x11b5+0x3715)]),_0x2fb693['x']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(0x25d7+0x2298+-0x4857)],_0x5cfda2[_0x11aa6f+(-0x1555+0x2*0xeed+-0x86c)],_0x2fb693['x']),_0x2fb693['y']=_0x12cbb4(_0x5cfda2[_0x11aa6f+(-0x1a59+-0xb66+0x25d9)],_0x5cfda2[_0x11aa6f+(-0x1*0x2f6+0x835+-0x524)],_0x2fb693['y'])),_0x430e87&&_0x304285>-0xaf8+-0x1c9+0xcc1){const _0x28597b=[_0x23052b,_0xfe49bf,_0x20c1cf];for(let _0x59194a=0x98d*-0x1+0xf6c+0x5df*-0x1;_0x59194a<0x1fb*-0x5+0xf0d*0x1+-0x523;++_0x59194a)for(let _0x1b2f52=0x20b+-0x5*0x397+0xfe8;_0x1b2f52<-0x21e*-0xe+-0x1*0x1972+-0x423*0x1;++_0x1b2f52)_0x430e87[_0x59194a*(-0x4b8+0x1a66+0x453*-0x5)+_0x1b2f52]=_0x1b2f52<_0x2e7986?_0x28597b[_0x59194a][_0x3a9c3b*(-0x263d+-0x17f3+0x3e40)+_0x1b2f52]*((-0x955+-0x2323+0x2c80)/(-0x11*0x123+-0x13e5+-0x91*-0x47))-(-0x2c3*0x4+-0x18ef+0x23ff):0x1*0x89e+-0x615+-0x289;}};}}self['onmessage']=async _0x3bedfb=>{const {data:_0x2379e7}=_0x3bedfb;switch(_0x2379e7['type']){case'initWorker':break;case'decompress':_0x3f8fa3(_0x2379e7['numSplats'],_0x2379e7['chunkData'],_0x2379e7['chunkSize'],_0x2379e7['vertexData'],_0x2379e7['shData0'],_0x2379e7['shData1'],_0x2379e7['shData2'],_0x2379e7['shBands']);break;}};const _0x3f8fa3=(_0x276c1a,_0x30f0b7,_0x126341,_0x912142,_0xdf92ef,_0x3a34f7,_0x2310b2,_0x9bc18e)=>{const _0x5a9c7a=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x9bc18e>0x2153+-0xb3*0x2f+-0x2*0x3b){const _0x9e70d4=[];for(let _0xbd9998=0x6fc+0x184c+-0x1f48;_0xbd9998<-0xbae+-0xe6e+0x1a49;++_0xbd9998)_0x9e70d4['push']('f_rest_'+_0xbd9998);_0x5a9c7a['splice'](_0x5a9c7a['indexOf']('f_dc_0')+(-0x2*0x983+0x15*-0x11+-0x2*-0xa36),-0x968+0xad*0x37+-0x941*0x3,..._0x9e70d4);}const _0x2d3f8e={};_0x5a9c7a['forEach'](_0x686d24=>{_0x2d3f8e[_0x686d24]=new Float32Array(_0x276c1a);});const _0x507a6a=new _0x2b99d2(),_0x161178=new _0x392680(),_0xa4a957=new _0x2b99d2(),_0x2e0577=new _0x18c19d(),_0x98c37=new _0x2b99d2(),_0x16e3c5=new _0x2b99d2(),_0x3d75c2=_0x9bc18e>-0xee7+-0x23a3+0x328a?new Float32Array(-0x2c1+0x2*-0x37+0x35c):null,_0x22cd51=new _0x2a4025(_0x30f0b7,_0x126341,_0x912142,_0xdf92ef,_0x3a34f7,_0x2310b2,_0x9bc18e,_0x507a6a,_0x161178,_0xa4a957,_0x2e0577,_0x98c37,_0x16e3c5,_0x3d75c2);for(let _0x375a37=-0x4*-0x427+-0x130a*-0x1+-0x23a6;_0x375a37<_0x276c1a;++_0x375a37)if(_0x22cd51['read'](_0x375a37),_0x2d3f8e['x'][_0x375a37]=_0x507a6a['x'],_0x2d3f8e['y'][_0x375a37]=_0x507a6a['y'],_0x2d3f8e['z'][_0x375a37]=_0x507a6a['z'],_0x2d3f8e['rot_1'][_0x375a37]=_0x161178['x'],_0x2d3f8e['rot_2'][_0x375a37]=_0x161178['y'],_0x2d3f8e['rot_3'][_0x375a37]=_0x161178['z'],_0x2d3f8e['rot_0'][_0x375a37]=_0x161178['w'],_0x2d3f8e['scale_0'][_0x375a37]=_0xa4a957['x'],_0x2d3f8e['scale_1'][_0x375a37]=_0xa4a957['y'],_0x2d3f8e['scale_2'][_0x375a37]=_0xa4a957['z'],_0x2d3f8e['motion_0'][_0x375a37]=_0x98c37['x'],_0x2d3f8e['motion_1'][_0x375a37]=_0x98c37['y'],_0x2d3f8e['motion_2'][_0x375a37]=_0x98c37['z'],_0x2d3f8e['t_scale'][_0x375a37]=_0x16e3c5['x'],_0x2d3f8e['t'][_0x375a37]=_0x16e3c5['y'],_0x2d3f8e['f_dc_0'][_0x375a37]=(_0x2e0577['x']-(-0x12d8+-0x1b7*-0x6+-0xa*-0xdb+0.5))/_0x219f9d,_0x2d3f8e['f_dc_1'][_0x375a37]=(_0x2e0577['y']-(0x512+0x1ade+-0x1ff0+0.5))/_0x219f9d,_0x2d3f8e['f_dc_2'][_0x375a37]=(_0x2e0577['z']-(-0x6f9+0x1ac6+-0x13cd+0.5))/_0x219f9d,_0x2d3f8e['opacity'][_0x375a37]=_0x2e0577['w']<=-0x6*-0x4fd+-0xe03+-0xfeb?-(0x2*0x2ff+0x3ce+-0x9a4):_0x2e0577['w']>=-0x1*0x1945+-0x2492+0x3dd8?0x1a30+0xd02+-0x270a:-Math['log']((0x23d5+0xee*-0xc+-0x18ac)/_0x2e0577['w']-(0x79*0x20+-0x227a+0x135b)),_0x3d75c2){for(let _0x286bf0=0xc*-0x2a8+-0x3ae*0x3+-0xe4e*-0x3;_0x286bf0<-0x1445+-0xe3f+0x22b1;++_0x286bf0)_0x2d3f8e['f_rest_'+_0x286bf0][_0x375a37]=_0x3d75c2[_0x286bf0];}let _0x8b8647={'x':_0x2d3f8e['x'],'y':_0x2d3f8e['y'],'z':_0x2d3f8e['z'],'rot_1':_0x2d3f8e['rot_1'],'rot_2':_0x2d3f8e['rot_2'],'rot_3':_0x2d3f8e['rot_3'],'rot_0':_0x2d3f8e['rot_0'],'scale_0':_0x2d3f8e['scale_0'],'scale_1':_0x2d3f8e['scale_1'],'scale_2':_0x2d3f8e['scale_2'],'motion_0':_0x2d3f8e['motion_0'],'motion_1':_0x2d3f8e['motion_1'],'motion_2':_0x2d3f8e['motion_2'],'t_scale':_0x2d3f8e['t_scale'],'t':_0x2d3f8e['t'],'f_dc_0':_0x2d3f8e['f_dc_0'],'f_dc_1':_0x2d3f8e['f_dc_1'],'f_dc_2':_0x2d3f8e['f_dc_2'],'opacity':_0x2d3f8e['opacity']};_0x3d75c2&&(_0x8b8647={..._0x8b8647,'f_rest_0':_0x2d3f8e['f_rest_0'],'f_rest_1':_0x2d3f8e['f_rest_1'],'f_rest_2':_0x2d3f8e['f_rest_2'],'f_rest_3':_0x2d3f8e['f_rest_3'],'f_rest_4':_0x2d3f8e['f_rest_4'],'f_rest_5':_0x2d3f8e['f_rest_5'],'f_rest_6':_0x2d3f8e['f_rest_6'],'f_rest_7':_0x2d3f8e['f_rest_7'],'f_rest_8':_0x2d3f8e['f_rest_8'],'f_rest_9':_0x2d3f8e['f_rest_9'],'f_rest_10':_0x2d3f8e['f_rest_10'],'f_rest_11':_0x2d3f8e['f_rest_11'],'f_rest_12':_0x2d3f8e['f_rest_12'],'f_rest_13':_0x2d3f8e['f_rest_13'],'f_rest_14':_0x2d3f8e['f_rest_14'],'f_rest_15':_0x2d3f8e['f_rest_15'],'f_rest_16':_0x2d3f8e['f_rest_16'],'f_rest_17':_0x2d3f8e['f_rest_17'],'f_rest_18':_0x2d3f8e['f_rest_18'],'f_rest_19':_0x2d3f8e['f_rest_19'],'f_rest_20':_0x2d3f8e['f_rest_20'],'f_rest_21':_0x2d3f8e['f_rest_21'],'f_rest_22':_0x2d3f8e['f_rest_22'],'f_rest_23':_0x2d3f8e['f_rest_23'],'f_rest_24':_0x2d3f8e['f_rest_24'],'f_rest_25':_0x2d3f8e['f_rest_25'],'f_rest_26':_0x2d3f8e['f_rest_26'],'f_rest_27':_0x2d3f8e['f_rest_27'],'f_rest_28':_0x2d3f8e['f_rest_28'],'f_rest_29':_0x2d3f8e['f_rest_29'],'f_rest_30':_0x2d3f8e['f_rest_30'],'f_rest_31':_0x2d3f8e['f_rest_31'],'f_rest_32':_0x2d3f8e['f_rest_32'],'f_rest_33':_0x2d3f8e['f_rest_33'],'f_rest_34':_0x2d3f8e['f_rest_34'],'f_rest_35':_0x2d3f8e['f_rest_35'],'f_rest_36':_0x2d3f8e['f_rest_36'],'f_rest_37':_0x2d3f8e['f_rest_37'],'f_rest_38':_0x2d3f8e['f_rest_38'],'f_rest_39':_0x2d3f8e['f_rest_39'],'f_rest_40':_0x2d3f8e['f_rest_40'],'f_rest_41':_0x2d3f8e['f_rest_41'],'f_rest_42':_0x2d3f8e['f_rest_42'],'f_rest_43':_0x2d3f8e['f_rest_43'],'f_rest_44':_0x2d3f8e['f_rest_44']});const _0x4631cc=Object['values'](_0x8b8647)['map'](_0x57cbbc=>_0x57cbbc['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x8b8647},_0x4631cc);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x12a396=>{if(!this['worker'])return;const {data:_0x31466e}=_0x12a396;switch(_0x31466e['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x31466e['data']);break;}};}['decompress'](_0x4f2319,_0x408c4c,_0x1d7ae3,_0x4c754a,_0x33596d,_0x45369d,_0x4c58de,_0x4042d6){const _0x5da777=[_0x408c4c['buffer'],_0x4c754a['buffer']];_0x33596d&&_0x5da777['push'](_0x33596d['buffer']),_0x45369d&&_0x5da777['push'](_0x45369d['buffer']),_0x4c58de&&_0x5da777['push'](_0x4c58de['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x4f2319,'chunkData':_0x408c4c,'chunkSize':_0x1d7ae3,'vertexData':_0x4c754a,'shData0':_0x33596d,'shData1':_0x45369d,'shData2':_0x4c58de,'shBands':_0x4042d6},_0x5da777);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0xa2795a,_0x127a5b,_0x1f39fe,_0x5e0f76,_0x317939,_0x4b426f,_0x429f3a,_0x4a62f7){const _0x138dd8=(_0x1f3e4e,_0x23687f)=>{const _0x72ea14=(0x241b+-0x46f*0x2+-0x1b3c<<_0x23687f)-(0xc88+0xecf*0x1+0x2*-0xdab);return(_0x1f3e4e&_0x72ea14)/_0x72ea14;},_0x5f055d=(_0x53cd73,_0x366138)=>{_0x53cd73['x']=_0x138dd8(_0x366138>>>0x10bb+-0x4*0x48+-0x2*0x7c3,-0x22d0+0xa6*0x31+0x315),_0x53cd73['y']=_0x138dd8(_0x366138>>>-0x5a7+-0xa00+0xfb2,-0xc8f*0x3+-0x355*0x3+0x2fb6),_0x53cd73['z']=_0x138dd8(_0x366138,0x1*-0x1c45+-0x1bf*-0xd+0x59d);},_0x44db67=(_0x46f0f7,_0x50331a)=>{_0x46f0f7['x']=_0x138dd8(_0x50331a>>>-0x224*-0x5+0x2*-0x1267+0x1a32,0x4b*0x6a+-0x7ce+-0x1738),_0x46f0f7['y']=_0x138dd8(_0x50331a>>>0x933+0x1*0x749+-0x106c,-0x1f7*0x11+-0x1*0x1321+-0x1*-0x3490),_0x46f0f7['z']=_0x138dd8(_0x50331a>>>0x277+-0x1*-0x150c+-0x177b,0x1*0x4a5+-0x5d0+0x133),_0x46f0f7['w']=_0x138dd8(_0x50331a,0x1*0x1553+0xa53+-0x1aa*0x13);},_0x250f35=(_0x3367e1,_0x9734d7)=>{const _0x9b0828=(-0x99b+-0xd1d+-0x3*-0x793)/(Math['sqrt'](0x2*-0xf59+0x1*-0x1b23+0x39d7)*(0x2*-0x60e+-0xf23+0x5d*0x4b+0.5)),_0x2d6e40=(_0x138dd8(_0x9734d7>>>-0x21ab+0x26c6+-0x507,-0x5*-0x3d+0x5*0x7c9+-0x2814)-(-0x4f*0x2+-0x1577+-0x1*-0x1615+0.5))*_0x9b0828,_0x4fb25a=(_0x138dd8(_0x9734d7>>>0x14*0x181+-0x3*0xde+0x2*-0xdb8,0x1819+0xcb*0x2e+0x3c89*-0x1)-(0x75*0xd+0x2187+0x34a*-0xc+0.5))*_0x9b0828,_0x29f973=(_0x138dd8(_0x9734d7,0xd*0x28e+0xe62+-0x17c7*0x2)-(0xbf9*0x1+-0x1*0x12b2+0x6b9+0.5))*_0x9b0828,_0x1b45f0=Math['sqrt'](-0x9*0x2f2+-0x1*-0xaf4+0x1*0xf8f-(_0x2d6e40*_0x2d6e40+_0x4fb25a*_0x4fb25a+_0x29f973*_0x29f973));switch(_0x9734d7>>>0x47f+0xd2*-0x7+0x1*0x15d){case-0x141b+-0x8*-0x45e+0xed5*-0x1:_0x3367e1['set'](_0x2d6e40,_0x4fb25a,_0x29f973,_0x1b45f0);break;case-0x2*-0x990+0x126c+-0x258b:_0x3367e1['set'](_0x1b45f0,_0x4fb25a,_0x29f973,_0x2d6e40);break;case-0x37*0x7c+0x7e6*-0x1+0x228c:_0x3367e1['set'](_0x4fb25a,_0x1b45f0,_0x29f973,_0x2d6e40);break;case 0x1369*-0x2+0x2322+0x3b3:_0x3367e1['set'](_0x4fb25a,_0x29f973,_0x1b45f0,_0x2d6e40);break;}},_0x234d76=(_0x2b34ca,_0x33ec1e,_0x3a77bc)=>_0x2b34ca*(0x1*-0xddb+-0x113+-0xeef*-0x1-_0x3a77bc)+_0x33ec1e*_0x3a77bc,{chunkData:_0x4fade5,chunkSize:_0x5f044c,vertexData:_0x3cf863,shData0:_0x4f5a0b,shData1:_0xd2ad27,shData2:_0xf8f49b,shBands:_0x276708}=_0xa2795a,_0x442fcb=[0x50b*-0x4+0x2259+-0xe2a,0x172f+-0xe9*-0x9+0x8*-0x3eb,-0x1ce3+0xdbd*-0x1+0x619*0x7][_0x276708-(0x2564*-0x1+0x3*-0x9+0x2580)],_0x8b7f8c=-0x1e00+0x1*0x170a+0x1*0x6fc;this['read']=_0x380199=>{const _0x356d53=Math['floor'](_0x380199/(-0x6c4*-0x1+0x1ee3+-0x24a7))*_0x5f044c;if(_0x127a5b&&(_0x5f055d(_0x127a5b,_0x3cf863[_0x380199*_0x8b7f8c+(-0x1769*0x1+0x368+-0x1401*-0x1)]),_0x127a5b['x']=_0x234d76(_0x4fade5[_0x356d53+(-0x8*0x338+0x2543+0x7*-0x1a5)],_0x4fade5[_0x356d53+(0x723*0x1+0xf*0x9d+-0x1053)],_0x127a5b['x']),_0x127a5b['y']=_0x234d76(_0x4fade5[_0x356d53+(-0x62b+0x802+-0x2*0xeb)],_0x4fade5[_0x356d53+(0xf*0xbb+0x816*-0x2+0x53b)],_0x127a5b['y']),_0x127a5b['z']=_0x234d76(_0x4fade5[_0x356d53+(0x1e54+-0x1f09+0xb7)],_0x4fade5[_0x356d53+(-0xa15+-0x148d+0x1ea7)],_0x127a5b['z'])),_0x1f39fe&&_0x250f35(_0x1f39fe,_0x3cf863[_0x380199*_0x8b7f8c+(-0x61*-0x15+0x6a*-0x19+-0x266*-0x1)]),_0x5e0f76&&(_0x5f055d(_0x5e0f76,_0x3cf863[_0x380199*_0x8b7f8c+(-0x1*0xee+0x17d*0x2+-0x20a)]),_0x5e0f76['x']=_0x234d76(_0x4fade5[_0x356d53+(0x9*-0x30e+0x10e+0x1a76)],_0x4fade5[_0x356d53+(0x50*-0x1d+0x2a5*-0x1+0xbbe)],_0x5e0f76['x']),_0x5e0f76['y']=_0x234d76(_0x4fade5[_0x356d53+(-0x1*0xef7+0x76c+0x792)],_0x4fade5[_0x356d53+(0xc15+-0x1199+0x1da*0x3)],_0x5e0f76['y']),_0x5e0f76['z']=_0x234d76(_0x4fade5[_0x356d53+(0x28a+-0xe6e*0x1+0x1b4*0x7)],_0x4fade5[_0x356d53+(0x1f93*0x1+0x22a0+-0x4228)],_0x5e0f76['z'])),_0x317939&&(_0x44db67(_0x317939,_0x3cf863[_0x380199*_0x8b7f8c+(0x163*0x1+-0x1*-0x2eb+-0x9d*0x7)]),_0x5f044c>-0x11*0x17f+-0x3a5+-0x4*-0x748&&(_0x317939['x']=_0x234d76(_0x4fade5[_0x356d53+(-0x346*0x1+0xb*-0x1c3+0x16b3)],_0x4fade5[_0x356d53+(-0x21e7+0x140b*-0x1+0x3601)],_0x317939['x']),_0x317939['y']=_0x234d76(_0x4fade5[_0x356d53+(0xabb+-0x3*0x841+-0x1*-0xe15)],_0x4fade5[_0x356d53+(0xdad+0x8*-0x1e7+-0x89*-0x3)],_0x317939['y']),_0x317939['z']=_0x234d76(_0x4fade5[_0x356d53+(-0x1b6a+-0x1428+0x2fa0)],_0x4fade5[_0x356d53+(-0x1f85+0x3df*-0x1+0x2375)],_0x317939['z']))),_0x4b426f&&(_0x5f055d(_0x4b426f,_0x3cf863[_0x380199*_0x8b7f8c+(0x7a6+0xff3*0x2+-0x2c*0xe6)]),_0x4b426f['x']=_0x234d76(_0x4fade5[_0x356d53+(-0x194a+0xf0f+0x125*0x9)],_0x4fade5[_0x356d53+(-0x1226+0x2*0x7ef+0x25d)],_0x4b426f['x']),_0x4b426f['y']=_0x234d76(_0x4fade5[_0x356d53+(-0x1daa*-0x1+-0x76a+-0x1*0x162d)],_0x4fade5[_0x356d53+(0x17ad+-0x65a+-0x1*0x113d)],_0x4b426f['y']),_0x4b426f['z']=_0x234d76(_0x4fade5[_0x356d53+(-0x427*0x1+0xaf5+-0x6*0x11f)],_0x4fade5[_0x356d53+(-0x265f+0x14ad+0x11c9)],_0x4b426f['z'])),_0x429f3a&&(_0x5f055d(_0x429f3a,_0x3cf863[_0x380199*_0x8b7f8c+(0x23d2*0x1+0x526*-0x4+0xf35*-0x1)]),_0x429f3a['x']=_0x234d76(_0x4fade5[_0x356d53+(-0x135e+-0x2*0xd46+-0x1c5*-0x1a)],_0x4fade5[_0x356d53+(-0x1d*0x11b+-0x29e*-0xc+-0x4*-0x30)],_0x429f3a['x']),_0x429f3a['y']=_0x234d76(_0x4fade5[_0x356d53+(0x19b+0x1071+-0x11f2)],_0x4fade5[_0x356d53+(0x66c+-0x71e+-0x1*-0xcd)],_0x429f3a['y'])),_0x4a62f7&&_0x276708>-0x1dbd+-0xc5e*0x3+-0x47*-0xf1){const _0x44b197=[_0x4f5a0b,_0xd2ad27,_0xf8f49b];for(let _0x2f6248=0x7cd*-0x3+0x5d+-0x7ae*-0x3;_0x2f6248<0xd9+-0x255+0x17f;++_0x2f6248)for(let _0x1f83f4=0xc57+-0x15d*-0xb+-0x1b56;_0x1f83f4<-0xf*-0x9d+-0x5*0x643+0xe3*0x19;++_0x1f83f4)_0x4a62f7[_0x2f6248*(0x12bd+0x2158+-0x3406)+_0x1f83f4]=_0x1f83f4<_0x442fcb?_0x44b197[_0x2f6248][_0x380199*(0xc4a*-0x1+-0x18*0x194+0x323a)+_0x1f83f4]*((0x9d*-0x2f+-0x19b7+0x3692)/(-0x25a8+0x1*0xa13+0x1c94))-(0x646*0x3+-0x225d+0xf8f):0x268*-0x5+-0x19b*0x9+0x1a7b;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x42cd9d,_0x4fc836,_0x36ea34,_0x5cfe08,_0x4b55b6,_0x23f1f1,_0xbdf855){return new rk(this,_0x42cd9d,_0x4fc836,_0x36ea34,_0x5cfe08,_0x4b55b6,_0x23f1f1,_0xbdf855);}['calcAabb'](_0x3e613a){const {chunkData:_0x2d748c,numChunks:_0x3c3d31,chunkSize:_0x48d49d}=this;let _0x296fdf=Math['exp'](Math['max'](_0x2d748c[-0x23da+-0x4af+-0x2892*-0x1],_0x2d748c[-0x7*0x4e7+-0x1*-0x1505+0xd56],_0x2d748c[0x1b85+0x18f3+-0x346d])),_0x40b90b=_0x2d748c[-0x24f9+-0x1*0x6d+0x2566]-_0x296fdf,_0x2949c4=_0x2d748c[-0xb2b+-0x80*-0x26+-0x7d4]-_0x296fdf,_0x2d1d63=_0x2d748c[0x412*-0x4+-0x184d+0x2897]-_0x296fdf,_0x21577e=_0x2d748c[0x8ab*0x1+0x147a*0x1+-0xb*0x2a6]+_0x296fdf,_0xf7c46f=_0x2d748c[0x53f+-0x173*0x16+0x1aa7]+_0x296fdf,_0x44314a=_0x2d748c[0x1afe*-0x1+0x1*0xb0e+-0x13*-0xd7]+_0x296fdf;for(let _0x5b02a2=0x1c4*-0xb+0x2*0xb2a+-0x2e7;_0x5b02a2<_0x3c3d31;++_0x5b02a2){const _0x1613ed=_0x5b02a2*_0x48d49d;_0x296fdf=Math['exp'](Math['max'](_0x2d748c[_0x1613ed+(-0xba7+-0x12ed+0x1e9d)],_0x2d748c[_0x1613ed+(-0x64*-0x5c+-0x2e0*-0x8+-0x9d1*0x6)],_0x2d748c[_0x1613ed+(-0x6ec+-0x8a9+-0x14*-0xc8)])),_0x40b90b=Math['min'](_0x40b90b,_0x2d748c[_0x1613ed+(-0x11b+-0x1722+0x183d)]-_0x296fdf),_0x2949c4=Math['min'](_0x2949c4,_0x2d748c[_0x1613ed+(-0x169d*-0x1+-0xac5*0x3+0x9b3)]-_0x296fdf),_0x2d1d63=Math['min'](_0x2d1d63,_0x2d748c[_0x1613ed+(0x1b1d+-0xf56+-0xbc5*0x1)]-_0x296fdf),_0x21577e=Math['max'](_0x21577e,_0x2d748c[_0x1613ed+(0x1*-0x415+-0x1a7d+-0x1*-0x1e95)]+_0x296fdf),_0xf7c46f=Math['max'](_0xf7c46f,_0x2d748c[_0x1613ed+(0x2582+0x1d6b*0x1+-0x42e9)]+_0x296fdf),_0x44314a=Math['max'](_0x44314a,_0x2d748c[_0x1613ed+(0x1d2c*-0x1+0x3e5*0x7+0x1*0x1ee)]+_0x296fdf);}return _0x3e613a['center']['set']((_0x40b90b+_0x21577e)*(-0x9*0x1ed+-0x10e6+0x223b+0.5),(_0x2949c4+_0xf7c46f)*(-0x9b1+-0x18b3*-0x1+-0xf02+0.5),(_0x2d1d63+_0x44314a)*(0x615+-0x13e9+0x162*0xa+0.5)),_0x3e613a['halfExtent'+'s']['set']((_0x21577e-_0x40b90b)*(-0x1ebe+0x127*-0x19+0x3b8d+0.5),(_0xf7c46f-_0x2949c4)*(-0x9c4+-0x252a+0x2eee+0.5),(_0x44314a-_0x2d1d63)*(-0x1*-0x1849+0x1*-0xae5+-0xd64+0.5)),!(-0x7a+-0x2308*0x1+0x38d*0xa);}['getCenters'](_0x2f4b56){const {vertexData:_0x5f364f,chunkData:_0x5ba794,numChunks:_0x4b0db8,chunkSize:_0x2a6ca1}=this;let _0x4fd085,_0x3e6f81,_0x1a4579,_0x472924,_0x569674,_0x5dda75;for(let _0x5ef4bd=-0x14c2+0xf08+0x5ba;_0x5ef4bd<_0x4b0db8;++_0x5ef4bd){const _0x52dce8=_0x5ef4bd*_0x2a6ca1;_0x4fd085=_0x5ba794[_0x52dce8+(0x12be+0xbd2+0x8*-0x3d2)],_0x3e6f81=_0x5ba794[_0x52dce8+(0x1050+-0x35+-0x101a)],_0x1a4579=_0x5ba794[_0x52dce8+(-0x11a*-0x11+0x5*0x70+-0x14e8)],_0x472924=_0x5ba794[_0x52dce8+(-0xf8f+0xb73*0x3+-0x12c7)],_0x569674=_0x5ba794[_0x52dce8+(-0x2e*0x1c+0x1b16*-0x1+-0x12*-0x1c9)],_0x5dda75=_0x5ba794[_0x52dce8+(0x22bc+-0x1*-0xc63+0x178d*-0x2)];const _0x374841=Math['min'](this['numSplats'],(_0x5ef4bd+(0x1b2+0x1*0xf17+-0x10c8))*(0xb37+0xb74*-0x1+0x13d*0x1));for(let _0x1581bd=_0x5ef4bd*(0x277+-0x2408*0x1+0x1*0x2291);_0x1581bd<_0x374841;++_0x1581bd){const _0x5dbd47=_0x5f364f[_0x1581bd*(0x4e5+-0xc*0x8f+0x1d3)],_0x3d5548=(_0x5dbd47>>>-0x4*-0x66b+-0x1*-0x1e67+-0x37fe*0x1)/(0x5b3*-0x6+-0x3*-0x43f+0x179*0x14),_0x31687e=(_0x5dbd47>>>0x2ec+-0x1930+-0x164f*-0x1&0x13*-0x5f+0x1b71+0x577*-0x3)/(-0x8*0x17e+0x1*-0xd12+-0x9*-0x339),_0x3a744=(_0x5dbd47&0x1*0x1979+-0xa9*0x5+-0xe2d)/(-0x43f+-0x24e2+-0x189*-0x20);_0x2f4b56[_0x1581bd*(-0x1145*0x2+-0x1*0x24ee+0x477b)+(-0x6*-0x347+-0x7a7*0x1+-0x7b*0x19)]=(0x21*0x8f+-0x56b+0x1*-0xd03-_0x3d5548)*_0x4fd085+_0x3d5548*_0x472924,_0x2f4b56[_0x1581bd*(0x1673+-0x3b*-0x26+-0x1*0x1f32)+(0x1a74*0x1+-0x1995*-0x1+0x9*-0x5c8)]=(-0xa93+-0x1c2*0xb+0x1dea-_0x31687e)*_0x3e6f81+_0x31687e*_0x569674,_0x2f4b56[_0x1581bd*(0x1*-0x254f+-0xbe5+0x2b*0x125)+(0x40f+0x1f5d+-0x236a)]=(-0x10bf*-0x1+-0xddd+-0x2e1-_0x3a744)*_0x1a4579+_0x3a744*_0x5dda75;}}}['getChunks'](_0x48f7d1){const {chunkData:_0x391a35,numChunks:_0x48a052,chunkSize:_0xe5fde9}=this;let _0x4102f3,_0x3fb91c,_0xfa491a,_0x4e235e,_0x4951d3,_0x2d2607;for(let _0x57d4b7=-0x4a9+0x2524+-0x207b;_0x57d4b7<_0x48a052;++_0x57d4b7){const _0x5e0ebd=_0x57d4b7*_0xe5fde9;_0x4102f3=_0x391a35[_0x5e0ebd+(0x24c0+0x1*-0x12be+-0x901*0x2)],_0x3fb91c=_0x391a35[_0x5e0ebd+(0xa51+-0xe9*-0x1+-0xb39)],_0xfa491a=_0x391a35[_0x5e0ebd+(0x15b4+0x1*0x4e2+0x4*-0x6a5)],_0x4e235e=_0x391a35[_0x5e0ebd+(-0x6b8*0x2+-0x51b*0x7+-0x10*-0x313)],_0x4951d3=_0x391a35[_0x5e0ebd+(0x884+-0x1*0x12a4+0xa24)],_0x2d2607=_0x391a35[_0x5e0ebd+(0x1200+0x2d3*-0x6+-0x109)],_0x48f7d1[_0x57d4b7*(0x112d*0x1+-0x28*0x85+0x3a1)+(-0x9ec+-0xc5a+0xb23*0x2)]=_0x4102f3,_0x48f7d1[_0x57d4b7*(0x1723+-0x1719+-0x4)+(-0x1*-0x155e+0x11b3*0x1+-0x2710)]=_0x3fb91c,_0x48f7d1[_0x57d4b7*(-0xbe7+0x270a+-0x1b1d)+(0x125*-0x4+0x912+-0x47c)]=_0xfa491a,_0x48f7d1[_0x57d4b7*(0x1*0x469+0x6a*-0x2b+0xd6b)+(0x3e*-0x22+-0xd86+0x15c5)]=_0x4e235e,_0x48f7d1[_0x57d4b7*(-0x14*-0x49+0x23c*0x9+-0x19ca)+(0xff7+0xda*0x8+-0x16c3)]=_0x4951d3,_0x48f7d1[_0x57d4b7*(0xeda+-0x2b9+-0xc1b)+(0x1*0x9c3+-0x2*0xee3+0x8*0x281)]=_0x2d2607;}}['calcFocalP'+'oint'](_0x270be3){const {chunkData:_0xd6247e,numChunks:_0x90b54f,chunkSize:_0x4c8354}=this;_0x270be3['x']=-0x3ec+-0x200f+0x97*0x3d,_0x270be3['y']=-0x1*0x371+-0x7*-0x409+-0x2*0xc67,_0x270be3['z']=-0x1887+-0x13aa+0x3*0xebb;for(let _0x268f81=0x1*0x2aa+-0x2bd*-0x6+-0x1318;_0x268f81<_0x90b54f;++_0x268f81){const _0x50cc18=_0x268f81*_0x4c8354;_0x270be3['x']+=_0xd6247e[_0x50cc18+(-0x971+0x462*0x1+0x1*0x50f)]+_0xd6247e[_0x50cc18+(-0x4b*-0xa+-0x2033*0x1+0x1d48)],_0x270be3['y']+=_0xd6247e[_0x50cc18+(0x24e5+-0xd01+-0x1*0x17e3)]+_0xd6247e[_0x50cc18+(-0x2*-0x434+-0x10a1+0x83d)],_0x270be3['z']+=_0xd6247e[_0x50cc18+(0x12*0x44+-0x26fa*-0x1+-0x2bc0)]+_0xd6247e[_0x50cc18+(0xb48+0x56*0x36+-0x1d67)];}_0x270be3['mulScalar']((-0x56c+0xebd+0x9f*-0xf+0.5)/_0x90b54f);}get['isCompress'+'ed'](){return!(-0x674+-0x1587+0x1*0x1bfb);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x2282+-0x7*0x23b+0x331f*0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x2721cf=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x37d260}=this;if(_0x37d260>0x1c1f+-0x265+0x4a*-0x59){const _0x544d45=[];for(let _0x36fb00=-0x14*0x83+-0x1394+-0x30*-0x9f;_0x36fb00<0x232*0x1+-0x153a+0x1335;++_0x36fb00)_0x544d45['push']('f_rest_'+_0x36fb00);_0x2721cf['splice'](_0x2721cf['indexOf']('f_dc_0')+(-0x156f+-0x7*0x277+-0x7bd*-0x5),0x88+0x2*0x745+-0x6*0x283,..._0x544d45);}const _0x29a302=new ik();return _0x29a302['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x37ce54,_0x4ab358)=>{_0x29a302['on']('decompress'+'ed',_0x490df2=>{_0x29a302['destroy'](),_0x37ce54(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x2721cf['map'](_0x3e9021=>({'type':'float','name':_0x3e9021,'storage':_0x490df2[_0x3e9021],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x4a3f02='super4d-ca'+'che-v1',_0x314557={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x2f571a=new Uint8Array([-0x231b+-0x2235+-0x8b8*-0x8,0x10e1*-0x1+0x1786+-0x639,-0x17*0x62+-0x1*0x277+0xbbe,0x3*0x621+-0x1919+0x36*0x20]),_0x5a974f=new Uint8Array([-0x16ef+-0x2fe*-0x3+0xdff,0x166d+-0x1*-0x169f+0xa1*-0x47,-0x2*-0x29b+-0x269*-0xb+-0x1f4b*0x1,-0x6*0x5ff+0x250c+-0xae,0x1*-0xd2b+-0x2b*0x3f+0x181f,0x177e+-0xe47+-0x8cf,0x12*0x101+-0x26a1+0x14f4,0x7*-0x423+-0x1d23+0x3a79,0x1*0x1462+-0x1cb5+0x8b7,0x1c6a*-0x1+0x1787+0x548,0x2530+-0x9a4+-0x1b1a,-0x1809+-0x1*-0x4f0+0x1323]),_0x544851=0x2175+-0x781+-0x67d*0x4+0.28209479177387814,_0x529568=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x4fca45{constructor(_0x4bc54c={}){this['options']={..._0x314557,..._0x4bc54c},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1a23+0x543+-0x2*-0xa70,this['initialize'+'d']=!(0x20df+0x1231*-0x1+-0xead);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x4a3f02);const _0x12deca=await this['cache']['keys'](),_0x11cdd7=[];for(const _0x581fe1 of _0x12deca){const _0x57f3e3=_0x581fe1['url'],_0x1d7f1b=await this['cache']['match'](_0x57f3e3);if(_0x1d7f1b){const _0xde99e=(await _0x1d7f1b['blob']())['size'],_0x273eea=_0x1d7f1b['headers']['get']('x-cache-ti'+'me');_0x273eea&&_0x11cdd7['push']({'url':_0x57f3e3,'size':_0xde99e,'cacheTime':parseInt(_0x273eea)});}}_0x11cdd7['sort']((_0x58167d,_0x3912e1)=>_0x58167d['cacheTime']-_0x3912e1['cacheTime']);for(const _0x19ae13 of _0x11cdd7)this['cacheSizes']['set'](_0x19ae13['url'],_0x19ae13['size']),this['currentSiz'+'e']+=_0x19ae13['size'],this['lruList']['push'](_0x19ae13['url']);}catch(_0x40c803){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x40c803);}this['initialize'+'d']=!(0x1d84+-0x2627*-0x1+-0x43ab);}}async['get'](_0x3f8fa2){if(await this['init'](),!this['cache'])return null;try{const _0x2ea8c9=await this['cache']['match'](_0x3f8fa2);if(!_0x2ea8c9)return null;const _0x4a7f21=_0x2ea8c9['headers']['get']('x-cache-ti'+'me');return _0x4a7f21&&Date['now']()-parseInt(_0x4a7f21)>this['options']['maxAge']?(await this['delete'](_0x3f8fa2),null):(this['updateLRU'](_0x3f8fa2),_0x2ea8c9);}catch{return null;}}async['set'](_0x4f9140,_0xc9fbca){if(!(!this['cache']||_0x4f9140['startsWith']('blob:')))try{const _0x147486=_0xc9fbca['clone'](),_0x350f38=await _0x147486['blob'](),_0x17886e=_0x350f38['size'];this['currentSiz'+'e']+_0x17886e>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x17886e);const _0xe7717d=new Headers(_0x147486['headers']);_0xe7717d['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x19d4bb=new Response(_0x350f38,{'status':_0x147486['status'],'statusText':_0x147486['statusText'],'headers':_0xe7717d});await this['cache']['put'](_0x4f9140,_0x19d4bb),this['cacheSizes']['set'](_0x4f9140,_0x17886e),this['currentSiz'+'e']+=_0x17886e,this['updateLRU'](_0x4f9140);}catch(_0x499b8d){console['error']('Cache\x20set\x20'+'error:',_0x499b8d);}}['updateLRU'](_0x25f556){const _0x107d57=this['lruList']['indexOf'](_0x25f556);_0x107d57>-(0xe2*-0x23+0x1e77+0x1*0x70)&&this['lruList']['splice'](_0x107d57,0x5*-0x5b1+0x3d9+-0x189d*-0x1),this['lruList']['push'](_0x25f556);}async['cleanupSpa'+'ce'](_0x197187){const _0x2ff208=this['options']['maxSize']*(0x1*-0x187f+0x7*0x4fd+-0xa6c+0.9);if(!(this['currentSiz'+'e']<=_0x2ff208))for(;this['lruList']['length']>-0x2f*-0x4f+-0x1a26+0xba5&&this['currentSiz'+'e']>_0x2ff208;){const _0x3fa7fb=this['lruList']['shift']();_0x3fa7fb&&await this['delete'](_0x3fa7fb);}}async['delete'](_0x122216){if(this['cache'])try{await this['cache']['delete'](_0x122216);const _0x13ce7a=this['cacheSizes']['get'](_0x122216)||0x607+0x95b+-0xf62;this['currentSiz'+'e']-=_0x13ce7a,this['cacheSizes']['delete'](_0x122216);const _0x1ece3a=this['lruList']['indexOf'](_0x122216);_0x1ece3a>-(0x134d+-0x2446+0x10fa)&&this['lruList']['splice'](_0x1ece3a,0x11*0x152+-0x1f59+-0xf*-0x98);}catch(_0x24ba1a){console['error']('Cache\x20dele'+'te\x20error:',_0x24ba1a);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x146ef2=>Promise['all'](_0x146ef2['map'](_0x440717=>{var _0x11cece;return(_0x11cece=this['cache'])==null?void(-0x97*0x1d+-0x1*-0x2f+0x10ec*0x1):_0x11cece['delete'](_0x440717);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1dfc+-0x5*-0x4e1+-0x3661;}catch(_0x1da4c6){console['error']('Cache\x20clea'+'r\x20error:',_0x1da4c6);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xfb7+0x150f*-0x1+0x24c6;}}class _0x5bf44a{constructor(_0x61189=[],_0x25c6bc={}){this['cacheManag'+'er']=new _0x4fca45(_0x25c6bc['cache']),this['retryCount']=_0x25c6bc['retryCount']||0xe5*0x20+-0x44c+-0x1851,this['retryDelay']=_0x25c6bc['retryDelay']||-0x55b+-0x29*0x74+0x2f*0x8d,this['maxConcurr'+'ency']=_0x25c6bc['maxConcurr'+'ency']||0x139c+-0x247*-0x3+-0x1a6f,this['downloadQu'+'eue']=_0x61189,this['isProcessi'+'ngDownload'+'Queue']=!(-0x47*-0x7d+-0x2417+0x5*0x49),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x2594+0xe12*0x1+0x1782);this['downloadQu'+'eue']['length']>-0x33*0x6f+0x2*-0x3dd+-0x1dd7*-0x1;)try{const _0x1b4dfd=this['downloadQu'+'eue']['splice'](0x14ea+-0x17c1*0x1+0x2d7,this['maxConcurr'+'ency'])['map'](_0x8a2a38=>{if(!this['pendingRes'+'ponses']['has'](_0x8a2a38)){const _0x4ceffa=this['download'](_0x8a2a38);return this['pendingRes'+'ponses']['set'](_0x8a2a38,_0x4ceffa),_0x4ceffa['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x8a2a38);});}return Promise['resolve']();});await Promise['all'](_0x1b4dfd);}catch(_0x32b54e){console['error']('Download\x20e'+'rror:',_0x32b54e);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*-0xe95+-0x1cf5+0xe61);}}}async['fetch'](_0xa39329,_0x51cba3={}){if(this['pendingRes'+'ponses']['has'](_0xa39329))return this['pendingRes'+'ponses']['get'](_0xa39329);const {forceRefresh:_0x9daab7=!(-0x1692+0x153+-0x140*-0x11),..._0x5aa28f}=_0x51cba3;this['pendingRes'+'ponses']['set'](_0xa39329,this['download'](_0xa39329,_0x5aa28f));const _0x555187=await this['pendingRes'+'ponses']['get'](_0xa39329);return this['pendingRes'+'ponses']['delete'](_0xa39329),_0x555187;}async['download'](_0x3b0210,_0x4212d2={}){var _0x5b40ed;await((_0x5b40ed=this['cacheManag'+'er'])==null?void(-0x1*-0xc9d+-0x188e+0xbf1):_0x5b40ed['init']());const {forceRefresh:_0x133ad3=!(0x2f*-0xc4+0x214c+-0x35*-0xd),..._0x3b965d}=_0x4212d2;_0x133ad3&&await this['cacheManag'+'er']['delete'](_0x3b0210);const _0x13c48c=await this['cacheManag'+'er']['get'](_0x3b0210);if(_0x13c48c)return _0x13c48c;let _0x590045;for(let _0x2213e3=-0x18*-0x119+-0x1f3c+0x2*0x272;_0x2213e3<this['retryCount'];_0x2213e3++)try{const _0x106b15=await fetch(_0x3b0210,_0x3b965d);if(!_0x106b15['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x106b15['status']);return await this['cacheManag'+'er']['set'](_0x3b0210,_0x106b15),_0x106b15;}catch(_0x13868e){console['error']('Download\x20e'+'rror:',_0x13868e),_0x590045=_0x13868e,_0x2213e3<this['retryCount']-(-0x2e6*-0x2+-0xf01+0x936)&&await new Promise(_0x32b4a8=>setTimeout(_0x32b4a8,this['retryDelay']*(_0x2213e3+(0x1541+-0x14*0x17f+0x2*0x456))));}throw _0x590045;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x13eb+-0x867+-0xb83),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x56ff5a{constructor(){this['numSplats']=-0x1b1*-0x2+-0x2552+0x21f0,this['comments']=[],this['chunkData']=new Float32Array(-0xf4*-0x22+0x49a+-0x2502),this['vertexData']=new Uint32Array(-0x11*-0x1cd+0x25ed+0x11b*-0x3e),this['is4D']=!(0x2699+0x1970+-0x61*0xa9),this['shBands']=-0x1787+0x264*-0x4+0x2117,this['shData0']=new Uint8Array(0x7*0x4e4+-0xc6a+-0x31*0x72),this['shData1']=new Uint8Array(0x14*-0x1d8+-0x25a1+0x1*0x4a81),this['shData2']=new Uint8Array(-0x7*0x36d+-0x2ec+0x1ae7),this['elements']=[],this['isCompress'+'ed']=!(-0x1449*-0x1+0x5de+0xd*-0x203);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x1a17*-0x1+-0x1*0xa41+0x2558));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x28259c{constructor(_0x133a51,_0x3374be=[]){this['elements']=_0x133a51,this['comments']=_0x3374be,this['isCompress'+'ed']=!(-0xedb+-0x1265+0x2141);}}class _0x5026a9{constructor(_0x5b0fbf,_0x2cf097){this['reader']=_0x5b0fbf,this['progressFu'+'nc']=_0x2cf097,this['head']=0x3*-0x57+0xd51*0x1+-0xc4c,this['tail']=0x1b72*0x1+-0x1263+0x1*-0x90f;}async['read'](){var _0x2fb9a4;const {value:_0x15fa62,done:_0x3fb5d9}=await this['reader']['read']();if(_0x3fb5d9)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x15fa62),(_0x2fb9a4=this['progressFu'+'nc'])==null||_0x2fb9a4['call'](this,_0x15fa62['byteLength']);}['push'](_0x5e1130){if(!this['data'])this['data']=_0x5e1130,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x5e1130['length'];else{const _0x4ad857=this['tail']-this['head'],_0x3e0f69=_0x4ad857+_0x5e1130['length'];if(this['data']['length']>=_0x3e0f69)this['head']>0x7e8+0x2*0x128b+-0x167f*0x2?(this['data']['copyWithin'](0x1c18+0x252c+-0x4144*0x1,this['head'],this['tail']),this['data']['set'](_0x5e1130,_0x4ad857),this['head']=0x1a8d+0xc9*-0x17+-0x1*0x87e,this['tail']=_0x3e0f69):(this['data']['set'](_0x5e1130,this['tail']),this['tail']+=_0x5e1130['length']);else{const _0x257c8b=new Uint8Array(_0x3e0f69);this['head']>-0x170a+0x630+0x10da||this['tail']<this['data']['length']?_0x257c8b['set'](this['data']['subarray'](this['head'],this['tail']),0x475+-0x1*-0xe7+-0x55c):_0x257c8b['set'](this['data'],-0x4bf+-0x13*0x61+0xbf2),_0x257c8b['set'](_0x5e1130,_0x4ad857),this['data']=_0x257c8b,this['view']=new DataView(this['data']['buffer']),this['head']=0xe4e+-0x2*0xce1+0x2*0x5ba,this['tail']=_0x3e0f69;}}}['compact'](){this['head']>-0x16b+-0x1e2b*-0x1+-0x398*0x8&&(this['data']['copyWithin'](-0x1*0xd3a+-0x5*-0x41+-0x1*-0xbf5,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x1c92+0x6ad*0x4+-0x3746);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x10dd6d=this['view']['getInt8'](this['head']);return this['head']++,_0x10dd6d;}['getUint8'](){const _0x428dec=this['view']['getUint8'](this['head']);return this['head']++,_0x428dec;}['getInt16'](){const _0x4432c9=this['view']['getInt16'](this['head'],!(-0x115*-0x4+-0x237f+-0x65*-0x4f));return this['head']+=-0x181+0x3*0x47d+-0x9*0x154,_0x4432c9;}['getUint16'](){const _0x22ae07=this['view']['getUint16'](this['head'],!(-0x1066+0x1*0xa06+0x33*0x20));return this['head']+=-0xc8+-0x2045*-0x1+-0x1f7b,_0x22ae07;}['getInt32'](){const _0x5dda77=this['view']['getInt32'](this['head'],!(-0x1e13+-0x2*-0xb23+-0x1*-0x7cd));return this['head']+=0xd86+-0x2093*-0x1+-0x2e15,_0x5dda77;}['getUint32'](){const _0x56b2f5=this['view']['getUint32'](this['head'],!(0x49*0x71+0xfd9+-0x1006*0x3));return this['head']+=0x221b*-0x1+0x1f02+0x31d,_0x56b2f5;}['getFloat32'](){const _0x165939=this['view']['getFloat32'](this['head'],!(-0x1a+0x8d1+-0x8b7*0x1));return this['head']+=0x19db+0x8*-0x38f+0x2a1,_0x165939;}['getFloat64'](){const _0x1401c9=this['view']['getFloat64'](this['head'],!(-0x3*0x10a+-0xb7e+0xe9c));return this['head']+=-0x1b8c+0x9e*-0x13+0x274e,_0x1401c9;}}class _0x5d5607{constructor(_0x1c4025,_0x5a4ee7,_0x5a8827){this['x']=_0x1c4025,this['y']=_0x5a4ee7,this['z']=_0x5a8827;}}class _0x303a95{constructor(_0x234683,_0x16ed91,_0x23874a,_0x5672ea){this['x']=_0x234683,this['y']=_0x16ed91,this['z']=_0x23874a,this['w']=_0x5672ea;}}class _0x20710d{constructor(_0x537978,_0x3aca1,_0x42f177,_0x3e417c){this['x']=_0x537978,this['y']=_0x3aca1,this['z']=_0x42f177,this['w']=_0x3e417c;}['set'](_0x15b173,_0xb6faa3,_0x487393,_0x562c4a){this['x']=_0x15b173,this['y']=_0xb6faa3,this['z']=_0x487393,this['w']=_0x562c4a;}}class _0x4248f2{constructor(_0x1386f7,_0x5d9bde,_0x3a1e92,_0x41aea0,_0x5d06e3,_0x1bb461,_0x3244d7,_0x5b7db6,_0x15b20a,_0x9d1d33,_0x3ed893,_0x4fe85f,_0x13ef4f,_0x27503b){const _0x30b074=(_0x29b097,_0x18dc39)=>{const _0x3df141=(-0x20b5*-0x1+-0x2*0x95b+-0xdfe<<_0x18dc39)-(0x1ca2+-0x1ed2+0x231);return(_0x29b097&_0x3df141)/_0x3df141;},_0x3a3ead=(_0x5b5e18,_0x2d82e1)=>{_0x5b5e18['x']=_0x30b074(_0x2d82e1>>>-0x1*0x1d05+-0x107*0x1d+0x3ae5,0x19b4+0x6*0x4a5+-0x3587),_0x5b5e18['y']=_0x30b074(_0x2d82e1>>>-0x802+0x2688+-0x121*0x1b,0x21*-0xbf+0x10*0xd8+-0xb29*-0x1),_0x5b5e18['z']=_0x30b074(_0x2d82e1,0x25a5*-0x1+0xa89+0x1b27);},_0x2a72bf=(_0x5df86b,_0x5a89d4)=>{_0x5df86b['x']=_0x30b074(_0x5a89d4>>>-0x14+-0x1c0b*-0x1+-0x593*0x5,0x12fe+0x1*0x1f5a+-0x3250),_0x5df86b['y']=_0x30b074(_0x5a89d4>>>-0x53*0x69+0x18c5+0x956,0x24c1+-0x1736+-0xd83),_0x5df86b['z']=_0x30b074(_0x5a89d4>>>-0x4e5*-0x2+0x1bd*0x7+0x3*-0x74f,0x989+0x4a5*0x8+0x5*-0x955),_0x5df86b['w']=_0x30b074(_0x5a89d4,0x1*-0x227a+0x3*0x13a+0x1ed4);},_0x1002f9=(_0x3447d2,_0x15ba42)=>{const _0x443c6d=(0x3*0x70b+0x1*0x234+0xbaa*-0x2)/(Math['sqrt'](-0x1b2+-0x1a83+0x1c37)*(-0x26d7*-0x1+0x6e6*-0x2+-0x190b+0.5)),_0x1cc78d=(_0x30b074(_0x15ba42>>>0x600+0x1*-0x709+-0xf*-0x13,0x5d1*-0x5+-0x8*0x4ca+-0x11b*-0x3d)-(0x1*-0x1099+0x1d93+-0x2*0x67d+0.5))*_0x443c6d,_0x53ce21=(_0x30b074(_0x15ba42>>>0x1e8e*-0x1+0x227e+-0x3e6,0x7bb+0x1efd*0x1+-0x1*0x26ae)-(-0x59*-0x3f+0x395+-0x197c+0.5))*_0x443c6d,_0x5c329f=(_0x30b074(_0x15ba42,-0x4e9*-0x6+-0x1cb0+-0xbc)-(-0x1e67+-0x15fc+-0x1*-0x3463+0.5))*_0x443c6d,_0x53ef30=Math['sqrt'](0x19e7*-0x1+-0x2be+0x1ca6-(_0x1cc78d*_0x1cc78d+_0x53ce21*_0x53ce21+_0x5c329f*_0x5c329f));switch(_0x15ba42>>>0x2301+-0x1*0x21a3+0x10*-0x14){case-0x8b*-0xc+0x33*-0x30+-0x4*-0xc3:_0x3447d2['set'](_0x1cc78d,_0x53ce21,_0x5c329f,_0x53ef30);break;case-0x11f5*0x1+-0x2a4*-0x7+-0x1*0x86:_0x3447d2['set'](_0x53ef30,_0x53ce21,_0x5c329f,_0x1cc78d);break;case-0x2c2+0x625+-0x5*0xad:_0x3447d2['set'](_0x53ce21,_0x53ef30,_0x5c329f,_0x1cc78d);break;case-0x1712+0x1c58+-0x543:_0x3447d2['set'](_0x53ce21,_0x5c329f,_0x53ef30,_0x1cc78d);break;}},_0x2c7048=(_0x8b4034,_0x2775ce,_0x2a0511)=>_0x8b4034*(0xe6b*0x1+-0x8cd*-0x4+0x319e*-0x1-_0x2a0511)+_0x2775ce*_0x2a0511,_0x226a5a=[-0x1*0x173c+-0x565*0x3+0x276e,0x1716+-0x5ae+-0x1160,0x19b9+-0x95*0x2c+-0xe][_0x3244d7-(-0xd2e+-0x175+-0xea4*-0x1)],_0x33a965=0x2a1*0x5+0x427*0x7+-0x96*0x48;this['read']=_0x40c045=>{const _0x909250=Math['floor'](_0x40c045/(0xd5b*0x2+0x7df+-0x1*0x2195))*_0x5d9bde;if(_0x5b7db6&&(_0x3a3ead(_0x5b7db6,_0x3a1e92[_0x40c045*_0x33a965+(-0x15a0+-0x1ec5+0x33*0x107)]),_0x5b7db6['x']=_0x2c7048(_0x1386f7[_0x909250+(0xc*-0xff+0x78*-0x44+-0x176*-0x1e)],_0x1386f7[_0x909250+(0x132a+-0x102*-0x8+-0x1b37)],_0x5b7db6['x']),_0x5b7db6['y']=_0x2c7048(_0x1386f7[_0x909250+(0x1557+0x18c2+-0x2e18)],_0x1386f7[_0x909250+(0x14b7*0x1+0x11e5+-0xbe*0x34)],_0x5b7db6['y']),_0x5b7db6['z']=_0x2c7048(_0x1386f7[_0x909250+(-0x1aef+-0x2d1*-0x8+0x1*0x469)],_0x1386f7[_0x909250+(0x7a3+-0x2*0x135a+0x1f16)],_0x5b7db6['z'])),_0x15b20a&&_0x1002f9(_0x15b20a,_0x3a1e92[_0x40c045*_0x33a965+(0x7*-0x432+-0x1*0xd0d+0x2d4*0xf)]),_0x9d1d33&&(_0x3a3ead(_0x9d1d33,_0x3a1e92[_0x40c045*_0x33a965+(-0x287+-0x551+0x7da)]),_0x9d1d33['x']=_0x2c7048(_0x1386f7[_0x909250+(-0x1ada+-0x1f2f+-0xa7*-0x59)],_0x1386f7[_0x909250+(0x445+-0x1db8+-0x1*-0x197c)],_0x9d1d33['x']),_0x9d1d33['y']=_0x2c7048(_0x1386f7[_0x909250+(0x3*0x8df+-0x821+-0x1275)],_0x1386f7[_0x909250+(0x1e2+-0x67*-0x31+-0x158f)],_0x9d1d33['y']),_0x9d1d33['z']=_0x2c7048(_0x1386f7[_0x909250+(-0xc6*-0x20+-0x10d1+-0x7e7)],_0x1386f7[_0x909250+(-0x145e+0x1d6*-0x12+-0x7a3*-0x7)],_0x9d1d33['z'])),_0x3ed893&&(_0x2a72bf(_0x3ed893,_0x3a1e92[_0x40c045*_0x33a965+(0x20aa+0x93*-0xe+-0x189d)]),_0x5d9bde>0xdb4*0x2+-0x21*0x1e+0xc2*-0x1f&&(_0x3ed893['x']=_0x2c7048(_0x1386f7[_0x909250+(-0x1a24+0x11+-0x1a1f*-0x1)],_0x1386f7[_0x909250+(-0x20ee+0x23b1+0x15a*-0x2)],_0x3ed893['x']),_0x3ed893['y']=_0x2c7048(_0x1386f7[_0x909250+(0x15df+0x3b*-0x71+-0x439*-0x1)],_0x1386f7[_0x909250+(0x116f+-0x1e9c+-0xd3d*-0x1)],_0x3ed893['y']),_0x3ed893['z']=_0x2c7048(_0x1386f7[_0x909250+(0x1810+-0x9e7+-0xe1b)],_0x1386f7[_0x909250+(0x9e2+0xb*-0x117+0x22c)],_0x3ed893['z']))),_0x4fe85f&&(_0x3a3ead(_0x4fe85f,_0x3a1e92[_0x40c045*_0x33a965+(0x1*0x22df+-0xc*-0x2dd+0x179*-0x2f)]),_0x4fe85f['x']=_0x2c7048(_0x1386f7[_0x909250+(-0x6d*0x8+-0x1*0x18bc+0x1c36)],_0x1386f7[_0x909250+(0x8bb+0x84+-0x92a)],_0x4fe85f['x']),_0x4fe85f['y']=_0x2c7048(_0x1386f7[_0x909250+(0x678+-0x2437+-0xee9*-0x2)],_0x1386f7[_0x909250+(-0xd9*0x1+0xf38+0x3*-0x4c3)],_0x4fe85f['y']),_0x4fe85f['z']=_0x2c7048(_0x1386f7[_0x909250+(0x3af+0xb18+0x35*-0x47)],_0x1386f7[_0x909250+(0xf45*-0x1+-0xb1f+-0x1*-0x1a7b)],_0x4fe85f['z'])),_0x13ef4f&&(_0x3a3ead(_0x13ef4f,_0x3a1e92[_0x40c045*_0x33a965+(-0x2*0xf59+-0x103f*0x2+-0x1*-0x3f35)]),_0x13ef4f['x']=_0x2c7048(_0x1386f7[_0x909250+(0x1*0x2101+0x1*0x10e7+-0x31d0)],_0x1386f7[_0x909250+(0x2304+-0x202*0xf+0x4cd*-0x1)],_0x13ef4f['x']),_0x13ef4f['y']=_0x2c7048(_0x1386f7[_0x909250+(-0x172f+-0x21a8+0x3*0x12fb)],_0x1386f7[_0x909250+(-0x1365+-0x1*0x1e9+-0xcb*-0x1b)],_0x13ef4f['y'])),_0x27503b&&_0x3244d7>-0x109c+0x2f5+0x3*0x48d){const _0x3ce93e=[_0x41aea0,_0x5d06e3,_0x1bb461];for(let _0x5d58ad=0x2496+-0x239*0x7+0x301*-0x7;_0x5d58ad<0x1*-0x1c03+-0x460+0x2f2*0xb;++_0x5d58ad)for(let _0xa4b15a=0x1*-0x1e23+-0x1423+0x3246;_0xa4b15a<0x1c13+-0xc33+-0xfd1;++_0xa4b15a)_0x27503b[_0x5d58ad*(0x25*0xec+-0x21d*0x2+-0x1dd3)+_0xa4b15a]=_0xa4b15a<_0x226a5a?_0x3ce93e[_0x5d58ad][_0x40c045*(0x21fa*-0x1+-0x2*-0xb38+0xb9a)+_0xa4b15a]*((0x31*-0x7+-0x230c*-0x1+-0x25*0xe9)/(-0x274+0x5*-0x77c+0x28df))-(0xe4f+-0x18f5+-0x111*-0xa):-0x541*0x5+0x752*0x2+0xe5*0xd;}};}}self['onmessage']=async _0x4c84b5=>{var _0x130ba9,_0x5e840f,_0x4a41c2;const {data:_0x207767}=_0x4c84b5;switch(_0x207767['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x207767['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x5bf44a(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x130ba9=globalThis['fetchWorke'+'r'])==null||_0x130ba9['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x343673,decompress:_0x136430}=_0x207767;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x5bf44a(globalThis['loadUrlLis'+'t']));const _0x2c5c60=await globalThis['fetchWorke'+'r']['fetch'](_0x343673);if(!_0x2c5c60||!_0x2c5c60['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x343673});else{const _0x292162=parseInt(_0x2c5c60['headers']['get']('content-le'+'ngth')??'0',0x23e8+0x36a*0x9+0x8*-0x853);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x292162,'bytes':0x0,'url':_0x343673});let _0x19e8d9=await _0x4d9e8b(_0x2c5c60['body']['getReader'](),_0x1d6e5c=>{self['postMessag'+'e']({'type':'progress','bytes':_0x1d6e5c,'totalLength':_0x292162,'url':_0x343673});});if(_0x136430&&_0x19e8d9['isCompress'+'ed']){const _0x2770cc=_0x55a5a3(_0x19e8d9),_0xc13c0f=(_0x5e840f=_0x2770cc==null?void(0x9a4+-0x1310+0x2*0x4b6):_0x2770cc['elements'][0x230b*-0x1+-0x1381*-0x1+0x6*0x297])==null?void(0x1c3a+-0x2*-0x1384+-0x4342):_0x5e840f['properties']['map'](_0x2a487b=>_0x2a487b['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x2770cc,'url':_0x343673},_0xc13c0f);}else{if(_0x19e8d9['isCompress'+'ed']){const _0x326258=['chunkData','vertexData'];_0x19e8d9['shData0']&&_0x326258['push']('shData0','shData1','shData2');const _0x78b303=_0x326258['map'](_0x25d378=>{var _0x21c70e;return(_0x21c70e=_0x19e8d9[_0x25d378])==null?void(0x1cf*-0x9+-0x13*-0x167+0x2*-0x52f):_0x21c70e['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x19e8d9,'url':_0x343673},_0x78b303);}else{_0x19e8d9=_0x40bca(_0x19e8d9);const _0x58d9f9=(_0x4a41c2=_0x19e8d9==null?void(0x7c3*0x2+0x1*-0xe3+-0xea3):_0x19e8d9['elements'][0x1ef0+0x124b*0x2+-0x4386])==null?void(-0x11*-0x14b+0x2254+0xb43*-0x5):_0x4a41c2['properties']['map'](_0x22ead3=>_0x22ead3['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x19e8d9,'url':_0x343673},_0x58d9f9);}}}}catch(_0x4c9fb2){self['postMessag'+'e']({'type':'error','data':_0x4c9fb2['message'],'url':_0x343673});}break;}};const _0x40bca=_0x3fb549=>{var _0xd59959;const _0x4d7fd6=(_0xd59959=_0x3fb549==null?void(-0x6b9+-0x1a*-0x137+0x14f*-0x13):_0x3fb549['elements'][0x1*-0x26e6+-0x731*-0x2+0x1884])==null?void(-0x23cb+-0xd45+0x3110):_0xd59959['properties']['find'](_0x1ba0d4=>_0x1ba0d4['name']==='opacity');if(_0x4d7fd6){for(let _0x4f74c9=-0x11b3+0x1d2e+0xb7b*-0x1;_0x4f74c9<_0x4d7fd6['storage']['length'];_0x4f74c9++)_0x4d7fd6['storage'][_0x4f74c9]=(0x2c5*0x9+-0x300+-0x15ec)/(-0xaad+0x120e+-0x760+Math['exp'](-_0x4d7fd6['storage'][_0x4f74c9]));}return _0x3fb549;},_0x203eb8=_0x3adcc8=>{const _0x56ddcc=[],_0x5668b3=[];let _0x515d46;for(let _0x224e9d=-0x5bb+-0x4a1+-0x17b*-0x7;_0x224e9d<_0x3adcc8['length'];++_0x224e9d){const _0x492447=_0x3adcc8[_0x224e9d]['split']('\x20');switch(_0x492447[-0x19be+-0x1d2*0x10+0x36de]){case'comment':_0x5668b3['push'](_0x492447['slice'](0x205f*-0x1+-0x178d+0x37ed)['join']('\x20'));break;case'format':_0x515d46=_0x492447[-0x1986+-0x9b8+0x1*0x233f];break;case'element':_0x56ddcc['push']({'name':_0x492447[0xbf4+0x120c+-0x1dff],'count':parseInt(_0x492447[0x4*0x3ef+0xb31+-0x1aeb],-0x3*0x20d+0x1*-0x1ae3+0x2114),'properties':[]});break;case'property':{if(!_0x529568['has'](_0x492447[0x19e1+-0x1065+-0x97b]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x492447[0x121f+-0x115*-0x1f+-0x33a9]+('\x27\x20in\x20ply\x20h'+'eader'));_0x56ddcc[_0x56ddcc['length']-(-0x1*0x178d+0x2693+-0xf05)]['properties']['push']({'type':_0x492447[0x2e*-0x4f+0xd*0x28d+-0x12f6],'name':_0x492447[0x834+-0x1*0x2667+0x1*0x1e35],'storage':null,'byteSize':_0x529568['get'](_0x492447[0x1649+0x6f3*0x4+-0x3214])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x492447[-0x461*0x6+0x140b*-0x1+0x47*0xa7]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x56ddcc,'format':_0x515d46,'comments':_0x5668b3};},_0x367dbb=_0x3e20aa=>{const _0x5009ce=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x129b73=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x51ca74=new Array(0xce1*0x1+-0x1*0xfa9+-0x1*-0x2f5)['fill']('')['map']((_0x3363e4,_0x2118e9)=>'f_rest_'+_0x2118e9),_0x2cf758=()=>_0x3e20aa[-0x15*-0x1c9+0x1a7*-0x9+-0x1e*0xc1]['name']==='chunk'&&_0x3e20aa[-0x2101+0x1656*0x1+0xaab]['properties']['every']((_0x395e51,_0x4e1e3c)=>_0x395e51['name']===_0x5009ce[_0x4e1e3c]&&_0x395e51['type']==='float')&&_0x3e20aa[-0x1b64+0x5*-0x67f+-0xef8*-0x4]['name']==='vertex'&&_0x3e20aa[-0x998+-0x1c87+-0x2620*-0x1]['properties']['every']((_0x45d8ac,_0x14e53f)=>_0x45d8ac['name']===_0x129b73[_0x14e53f]&&_0x45d8ac['type']==='uint'),_0x498990=()=>_0x3e20aa[-0x2272+-0x1b1*-0xa+0x2*0x8c5]['name']==='sh'&&[0xef1*0x2+0x194*0x13+0x11*-0x385,0x5*0x440+0xf98+-0x24c0,0x2500+0x17*-0x13d+0x858*-0x1]['indexOf'](_0x3e20aa[-0x1bd6+0x5*0x6fe+-0x38f*0x2]['properties']['length'])!==-(0x20ea+-0x5*-0x265+-0x6*0x77b)&&_0x3e20aa[0x3*-0x15d+0x21f9+-0xef*0x20]['properties']['every']((_0x12bfe1,_0x351494)=>_0x12bfe1['name']===_0x51ca74[_0x351494]&&_0x12bfe1['type']==='uchar');return _0x3e20aa['length']===-0x11*-0x89+-0x73c*0x3+0xc9d&&_0x2cf758()||_0x3e20aa['length']===-0x1b70+0x26bb+-0xb48&&_0x2cf758()&&_0x498990();},_0xdbfb89=_0xa5982f=>_0xa5982f['length']===-0x978+0x5b1+0xf2*0x4&&_0xa5982f[-0x1c74+-0x12+0x1c86]['name']==='vertex'&&_0xa5982f[0x3*0x815+-0x37c+-0x14c3]['properties']['every'](_0x9abcc0=>_0x9abcc0['type']==='float'),_0x3f571b=async(_0x45f72b,_0xc8f4bf,_0xd69d2a)=>{const _0x2f9318=new _0x56ff5a();_0x2f9318['comments']=_0xd69d2a;const _0x36f273=_0xc8f4bf[0xec1+0x1*0x12af+-0x14*0x1ac]['count'],_0x1a1771=_0xc8f4bf[-0xcb1+-0xb5a*-0x2+-0xe9*0xb]['properties']['length'],_0x1349bf=_0xc8f4bf[-0x8*0x409+-0x48e+0x24d7]['count'],_0x5b40b7=_0xc8f4bf[0x1736+-0x49*-0x40+0x1*-0x2975]['properties']['some'](_0x18de6f=>_0x18de6f['name']==='packed_tim'+'e'),_0x45900c=(_0x3ffbe4=>{const _0x4bdb93=Math['ceil'](Math['sqrt'](_0x3ffbe4)),_0x4dc424=Math['ceil'](_0x3ffbe4/_0x4bdb93);return _0x4bdb93*_0x4dc424;})(_0x1349bf);_0x2f9318['numSplats']=_0x1349bf,_0x2f9318['is4D']=_0x5b40b7,_0x2f9318['chunkData']=new Float32Array(_0x36f273*_0x1a1771),_0x2f9318['vertexData']=new Uint32Array(_0x45900c*(-0x2195*-0x1+0x1*-0x10ba+-0x1*0x10d5));const _0x184f89=async(_0x4ec420,_0x302566)=>{const _0x365a6d=new Uint8Array(_0x4ec420);let _0x5b4f70=0x2*0x46d+-0x85b+-0x7f;for(;_0x5b4f70<_0x302566;){for(;_0x45f72b['remaining']===-0x1*-0x805+0x21bd*-0x1+-0x4*-0x66e;)await _0x45f72b['read']();const _0x389ef2=Math['min'](_0x302566-_0x5b4f70,_0x45f72b['remaining']),_0x20345d=_0x45f72b['data'];for(let _0x5ad5ac=0x1d23*0x1+0x6*-0x47e+-0x22f;_0x5ad5ac<_0x389ef2;++_0x5ad5ac)_0x365a6d[_0x5b4f70++]=_0x20345d[_0x45f72b['head']++];}};if(await _0x184f89(_0x2f9318['chunkData']['buffer'],_0x36f273*_0x1a1771*(0x1895+-0x5e*0x1e+0xd8d*-0x1)),await _0x184f89(_0x2f9318['vertexData']['buffer'],_0x1349bf*(0x9a1+-0x707*0x1+-0x294)*(0x11*0x14d+0x1be*-0xa+0x9*-0x85)),_0xc8f4bf['length']===-0x1587+-0x2422+0x39ac){const _0x2b854b=_0x45900c*(-0x1*0x97f+0x17*-0xfb+0x201c),_0x1dee43=new Uint8Array(_0x2b854b),_0x3f3efc=new Uint8Array(_0x2b854b),_0x529a53=new Uint8Array(_0x2b854b),_0xbdb1aa=0xd5*0x1+0x1*0x2387+-0x205c,_0x530c7d=_0xc8f4bf[-0x22e1+0x1*0x5a1+0x1d42]['properties']['length']/(0x1f*0x7a+0x161b*0x1+-0x24de*0x1),_0x82153c=new Uint8Array(_0xbdb1aa*_0x530c7d*(0xbd7+0x22e1+0x43f*-0xb));for(let _0x15e9b0=0x756*-0x1+-0x12*-0x1c8+-0xa*0x279;_0x15e9b0<_0x2f9318['numSplats'];_0x15e9b0+=_0xbdb1aa){const _0x210523=Math['min'](_0xbdb1aa,_0x2f9318['numSplats']-_0x15e9b0);await _0x184f89(_0x82153c['buffer'],_0x210523*_0x530c7d*(-0x40*0x83+0x590*-0x2+0x5*0x8c7));for(let _0x475c69=0x18a3*-0x1+-0x23e8+0x3c8b;_0x475c69<_0x210523;++_0x475c69)for(let _0x11e21b=0x79+0xb51*0x1+-0x3*0x3ee;_0x11e21b<0x203b+0xe9c+-0x2ec8;++_0x11e21b){const _0x1f9131=(_0x15e9b0+_0x475c69)*(-0xb5b*0x2+0xa0a+0xcbc)+_0x11e21b;_0x11e21b<_0x530c7d?(_0x1dee43[_0x1f9131]=_0x82153c[(_0x475c69*(0x1*0x12eb+0x4d9+-0x17c1)+(-0x20d5+0x2*0x656+0xd*0x18d))*_0x530c7d+_0x11e21b],_0x3f3efc[_0x1f9131]=_0x82153c[(_0x475c69*(-0x204a*-0x1+0x1713+0x589*-0xa)+(0x1f*0x1d+0x2*-0x101f+0x1cbc))*_0x530c7d+_0x11e21b],_0x529a53[_0x1f9131]=_0x82153c[(_0x475c69*(0x399*0x1+0x10f*-0xc+0x3*0x30a)+(0x1d20+-0x1*0x1515+-0x79*0x11))*_0x530c7d+_0x11e21b]):(_0x1dee43[_0x1f9131]=0x11b1+-0x25f5+0x14c3,_0x3f3efc[_0x1f9131]=-0x21db+0x1ac+0x20ae,_0x529a53[_0x1f9131]=0x6d2+0x70a+-0xb*0x137);}}_0x2f9318['shData0']=_0x1dee43,_0x2f9318['shData1']=_0x3f3efc,_0x2f9318['shData2']=_0x529a53,_0x2f9318['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x530c7d];}else _0x2f9318['shBands']=0x4ca*-0x5+0x1*-0x155f+0x2d51;return _0x2f9318;},_0x1087dd=async(_0x5ff1a5,_0x40f06a,_0x5651e2)=>{const _0x273766=_0x40f06a[0x1*0x1e2f+-0x1d*0x17+0x2c2*-0xa],_0x3191a7=_0x273766['properties'],_0x85ab5e=_0x3191a7['length'],_0x29d293=_0x3191a7['map'](_0xca6d2a=>_0xca6d2a['storage']),_0x2b53d5=_0x3191a7['reduce']((_0x13bc49,_0x5b7bd5)=>_0x13bc49+_0x5b7bd5['byteSize'],-0x6*0x1f2+0x1ef5*-0x1+-0x7*-0x617);let _0xadd62d=-0x1d29+0x1477+0x3*0x2e6,_0x5381b4;const _0x238557=()=>{const _0x5ab096=_0x5ff1a5['data']['buffer'];(_0x5381b4==null?void(-0x2*-0x2eb+-0x3c*0x73+0x151e):_0x5381b4['buffer'])!==_0x5ab096&&(_0x5381b4=new Float32Array(_0x5ab096,-0x97*0x14+-0xc79+-0x817*-0x3,_0x5ab096['byteLength']/(-0x1735*0x1+0x2*0xff7+0x3*-0x2e7)));};for(_0x238557();_0xadd62d<_0x273766['count'];){for(;_0x5ff1a5['remaining']<_0x2b53d5;)await _0x5ff1a5['read'](),_0x238557();const _0x269bf1=Math['min'](_0x273766['count']-_0xadd62d,Math['floor'](_0x5ff1a5['remaining']/_0x2b53d5));for(let _0x594882=-0x585+0x1025*-0x1+0x15aa;_0x594882<_0x85ab5e;++_0x594882){const _0x14f514=_0x29d293[_0x594882];for(let _0x46ba5f=-0x87d*-0x3+0x1ff1+-0x3968;_0x46ba5f<_0x269bf1;++_0x46ba5f)_0x14f514[_0x46ba5f+_0xadd62d]=_0x5381b4[_0x46ba5f*_0x85ab5e+_0x594882];}_0xadd62d+=_0x269bf1,_0x5ff1a5['head']+=_0x269bf1*_0x2b53d5;}return new _0x28259c(_0x40f06a,_0x5651e2);},_0x4338f7=async(_0x56c683,_0x57cc91,_0x2f8aa5)=>{for(let _0x5f03be=0x17c*0x15+-0x15f0+-0x93c;_0x5f03be<_0x57cc91['length'];++_0x5f03be){const _0x281cf9=_0x57cc91[_0x5f03be],_0x306f32=_0x281cf9['properties']['reduce']((_0xbe6e11,_0x467f9d)=>_0xbe6e11+_0x467f9d['byteSize'],0x7df+0x1990+0x13d*-0x1b),_0x3490a3=_0x281cf9['properties']['map'](_0x13ea1c=>{if(_0x13ea1c['storage'])switch(_0x13ea1c['type']){case'char':return(_0x492db3,_0x1bf19c)=>{_0x13ea1c['storage'][_0x1bf19c]=_0x492db3['getInt8']();};case'uchar':return(_0x82e276,_0x4bfa8f)=>{_0x13ea1c['storage'][_0x4bfa8f]=_0x82e276['getUint8']();};case'short':return(_0x54d8b0,_0x561f42)=>{_0x13ea1c['storage'][_0x561f42]=_0x54d8b0['getInt16']();};case'ushort':return(_0x2e8a07,_0x32e087)=>{_0x13ea1c['storage'][_0x32e087]=_0x2e8a07['getUint16']();};case'int':return(_0x12b12d,_0x233169)=>{_0x13ea1c['storage'][_0x233169]=_0x12b12d['getInt32']();};case'uint':return(_0x2adb36,_0x42f2fa)=>{_0x13ea1c['storage'][_0x42f2fa]=_0x2adb36['getUint32']();};case'float':return(_0x1add9d,_0x2d00cb)=>{_0x13ea1c['storage'][_0x2d00cb]=_0x1add9d['getFloat32']();};case'double':return(_0x207926,_0x2a9e23)=>{_0x13ea1c['storage'][_0x2a9e23]=_0x207926['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x13ea1c['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x4e1083=>{_0x4e1083['head']+=_0x13ea1c['byteSize'];};});let _0x35e2af=-0x244+0x2e3*0x5+-0xc2b*0x1;for(;_0x35e2af<_0x281cf9['count'];){for(;_0x56c683['remaining']<_0x306f32;)await _0x56c683['read']();const _0x5c231d=Math['min'](_0x281cf9['count']-_0x35e2af,Math['floor'](_0x56c683['remaining']/_0x306f32));for(let _0x4fd61f=-0x1384+0x79a*0x4+-0x1*0xae4;_0x4fd61f<_0x5c231d;++_0x4fd61f){for(let _0x45992f=0x210d*-0x1+0x14a5+0xc68*0x1;_0x45992f<_0x281cf9['properties']['length'];++_0x45992f)_0x3490a3[_0x45992f](_0x56c683,_0x35e2af);_0x35e2af++;}}}return new _0x28259c(_0x57cc91,_0x2f8aa5);},_0x4d9e8b=async(_0x145454,_0xc09034=null)=>{const _0x36a9cd=(_0x26ceef,_0x390d4f)=>{const _0x4b1ef5=_0x26ceef['length']-_0x390d4f['length'];let _0xe6df58,_0x29d2ba;for(_0xe6df58=0x786+0xed7*0x1+0x5*-0x479;_0xe6df58<=_0x4b1ef5;++_0xe6df58){for(_0x29d2ba=0x1d93*0x1+0x1922+0x5*-0xaf1;_0x29d2ba<_0x390d4f['length']&&_0x26ceef[_0xe6df58+_0x29d2ba]===_0x390d4f[_0x29d2ba];++_0x29d2ba);if(_0x29d2ba===_0x390d4f['length'])return _0xe6df58;}return-(0xffd*-0x2+-0x264a+-0x4645*-0x1);},_0xfe2000=(_0x100d37,_0x1a40b7)=>{if(_0x100d37['length']<_0x1a40b7['length'])return!(-0x1*-0x921+-0x1a34+0x1114);for(let _0x14bde2=-0x103f+-0x1925+0x2964;_0x14bde2<_0x1a40b7['length'];++_0x14bde2)if(_0x100d37[_0x14bde2]!==_0x1a40b7[_0x14bde2])return!(0xb44+-0x1cba+0x1177);return!(0x79c+0x635*-0x6+-0xed1*-0x2);},_0x1f8ce0=new _0x5026a9(_0x145454,_0xc09034);let _0x5d8c0b;for(;;){if(await _0x1f8ce0['read'](),_0x1f8ce0['tail']>=_0x2f571a['length']&&!_0xfe2000(_0x1f8ce0['data'],_0x2f571a))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x5d8c0b=_0x36a9cd(_0x1f8ce0['data'],_0x5a974f),_0x5d8c0b!==-(-0xdc7*0x1+0xfa9*0x1+-0x1e1))break;}const _0x46fac9=new TextDecoder('ascii')['decode'](_0x1f8ce0['data']['subarray'](0x1*0x171+0x3*-0x8c5+-0x425*-0x6,_0x5d8c0b))['split']('\x0a'),{elements:_0x5aca9a,format:_0x5d24f7,comments:_0xf1b5dd}=_0x203eb8(_0x46fac9);if(_0x5d24f7!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x1f8ce0['head']=_0x5d8c0b+_0x5a974f['length'],_0x1f8ce0['compact'](),await((async()=>_0x367dbb(_0x5aca9a)?await _0x3f571b(_0x1f8ce0,_0x5aca9a,_0xf1b5dd):(_0x5aca9a['forEach'](_0x5e5bb2=>{_0x5e5bb2['properties']['forEach'](_0x2e76aa=>{const _0x2b1d5a=_0x529568['get'](_0x2e76aa['type']);if(_0x2b1d5a){const _0x2f7572=new _0x2b1d5a(_0x5e5bb2['count']);_0x2e76aa['storage']=_0x2f7572;}});}),_0xdbfb89(_0x5aca9a)?await _0x1087dd(_0x1f8ce0,_0x5aca9a,_0xf1b5dd):await _0x4338f7(_0x1f8ce0,_0x5aca9a,_0xf1b5dd)))());},_0x55a5a3=_0x43cf0d=>{const {numSplats:_0x419bdc,chunkData:_0x20cc6b,chunkSize:_0x447dd0,vertexData:_0x6dc4df,shData0:_0x3ff7cf,shData1:_0x29be27,shData2:_0x167fdf,shBands:_0x3be4cb,comments:_0x238b06,is4D:_0x58c92b}=_0x43cf0d,_0x2afae5=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x58c92b&&_0x2afae5['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x3be4cb>0x11fe+0x12d5+-0x1*0x24d3){const _0x464008=[];for(let _0x3361a8=0x21d8+-0xd*0x27f+-0x165;_0x3361a8<0x718*0x4+-0x548+-0x16eb;++_0x3361a8)_0x464008['push']('f_rest_'+_0x3361a8);_0x2afae5['splice'](_0x2afae5['indexOf']('f_dc_0')+(0x1*0xc8a+-0x1105+0x47c),0x405+-0x1797+0x1392,..._0x464008);}const _0x5d1391={};_0x2afae5['forEach'](_0x336102=>{_0x5d1391[_0x336102]=new Float32Array(_0x419bdc);});const _0x1ee030=new _0x5d5607(),_0x145aad=new _0x20710d(),_0xc1b02=new _0x5d5607(),_0x7796f1=new _0x303a95(),_0x329148=new _0x5d5607(),_0x4f654a=new _0x5d5607(),_0x27f66a=_0x3be4cb>0x3*0x24+0x1117+-0x1183?new Float32Array(-0x10*0x1f7+-0x1d86*-0x1+0x217):null,_0x3fac6e=new _0x4248f2(_0x20cc6b,_0x447dd0,_0x6dc4df,_0x3ff7cf,_0x29be27,_0x167fdf,_0x3be4cb,_0x1ee030,_0x145aad,_0xc1b02,_0x7796f1,_0x329148,_0x4f654a,_0x27f66a);for(let _0x21f350=-0x182c+-0xc38+0x2464;_0x21f350<_0x419bdc;++_0x21f350){_0x3fac6e['read'](_0x21f350),_0x5d1391['x'][_0x21f350]=_0x1ee030['x'],_0x5d1391['y'][_0x21f350]=_0x1ee030['y'],_0x5d1391['z'][_0x21f350]=_0x1ee030['z'],_0x5d1391['rot_1'][_0x21f350]=_0x145aad['x'],_0x5d1391['rot_2'][_0x21f350]=_0x145aad['y'],_0x5d1391['rot_3'][_0x21f350]=_0x145aad['z'],_0x5d1391['rot_0'][_0x21f350]=_0x145aad['w'],_0x5d1391['scale_0'][_0x21f350]=_0xc1b02['x'],_0x5d1391['scale_1'][_0x21f350]=_0xc1b02['y'],_0x5d1391['scale_2'][_0x21f350]=_0xc1b02['z'],_0x5d1391['motion_0'][_0x21f350]=_0x329148['x'],_0x5d1391['motion_1'][_0x21f350]=_0x329148['y'],_0x5d1391['motion_2'][_0x21f350]=_0x329148['z'],_0x5d1391['t_scale'][_0x21f350]=_0x4f654a['x'],_0x5d1391['t'][_0x21f350]=_0x4f654a['y'],_0x5d1391['f_dc_0'][_0x21f350]=(_0x7796f1['x']-(0x1*0x25ac+-0x3*-0x706+-0x3abe+0.5))/_0x544851,_0x5d1391['f_dc_1'][_0x21f350]=(_0x7796f1['y']-(-0x96f+-0x1*0x11d6+0x1b45+0.5))/_0x544851,_0x5d1391['f_dc_2'][_0x21f350]=(_0x7796f1['z']-(0x109f+-0x17*-0x112+0xcf*-0x33+0.5))/_0x544851;const _0x1db335=_0x7796f1['w']<=0x3*0x3e5+-0x180+-0xa2f?-(-0xc40+0x12ba+-0x652):_0x7796f1['w']>=-0xe7f+0x1477+0x1fd*-0x3?0x166e+-0x746+-0xf00:-Math['log']((0x245d*0x1+-0x9d7*0x1+-0x1a85)/_0x7796f1['w']-(0x199e+-0x1*-0x1fd9+0x1*-0x3976));if(_0x5d1391['opacity'][_0x21f350]=(0x1d81+0x1daf+0x6d*-0x8b)/(0xc*-0x161+-0x220a+0x9*0x59f+Math['exp'](-_0x1db335)),_0x27f66a){for(let _0x2aff59=-0x4*0x559+-0x15a1+0x2b05;_0x2aff59<0xd79*0x1+0x1899+-0x6d*0x59;++_0x2aff59)_0x5d1391['f_rest_'+_0x2aff59][_0x21f350]=_0x27f66a[_0x2aff59];}}const _0x69d555=[{'count':_0x419bdc,'name':'vertex','properties':_0x2afae5['map'](_0x5981a5=>({'byteSize':0x4,'name':_0x5981a5,'type':'float','storage':_0x5d1391[_0x5981a5]}))}];return new _0x28259c(_0x69d555,_0x238b06);};}class ok extends me{constructor(_0x5678ac){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x5678ac,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x1ecd81,_0x5f007e,_0x4d7d36=(_0x3330b2,_0x3dc9ce)=>{},_0x5b9338=(_0x3430c7,_0xb2ee02,_0x13672f)=>{},_0x21fe19=(_0x480f1d,_0x2a3c6d)=>{}){var _0x1699e3;return(_0x1699e3=this['worker'])==null||_0x1699e3['postMessag'+'e']({'type':'loadPly','url':_0x1ecd81,'decompress':_0x5f007e}),new Promise((_0x157ea4,_0x39f747)=>{if(!this['worker']){_0x39f747(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x64dbe7=>{if(!this['worker'])return;const {data:_0x3922f3}=_0x64dbe7;if(_0x1ecd81===_0x3922f3['url'])switch(_0x3922f3['type']){case'totalLengt'+'h':_0x4d7d36==null||_0x4d7d36(_0x3922f3['totalLengt'+'h'],_0x3922f3['url']);break;case'progress':_0x5b9338==null||_0x5b9338(_0x3922f3['bytes'],_0x3922f3['totalLengt'+'h'],_0x3922f3['url']);break;case'splatData':_0x157ea4(_0x3922f3['data']);break;case'error':_0x21fe19==null||_0x21fe19(_0x3922f3['data'],_0x3922f3['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x249e+0x63f+-0x2add));}}class lk{constructor(_0xd2c6df,_0x2c3497){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0xd2c6df,this['maxRetries']=_0x2c3497,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x9e2+0x13a7+-0x1d89);}async['load'](_0x3489b1,_0x120d0f,_0xa34adb){var _0x4486fe,_0xf5f6db,_0x3fbb66;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x3489b1['load']['includes'](',')?this['urlList']=_0x3489b1['load']['split'](','):this['urlList']['push'](_0x3489b1['load']);const _0x26ed6c=_0xa34adb['data']['createTime']!==((_0xf5f6db=(_0x4486fe=this['onlyOneAss'+'et'])==null?void(0x7*-0x289+-0x22dd+0x94*0x5b):_0x4486fe['data'])==null?void(0x86e+-0x124f+0x9e1):_0xf5f6db['createTime']);(!this['readWorker']||_0x26ed6c)&&((_0x3fbb66=this['readWorker'])==null||_0x3fbb66['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x36ee58=_0xa34adb['data']['loadIndex']>=-0x2148+0x76*-0x26+0x32cc?_0xa34adb['data']['loadIndex']:-0x31*-0xab+0x6*0x2c8+0x316b*-0x1,_0xf7ad63=_0xa34adb['data']['loadMode']==='all'?this['urlList']['length']-_0x36ee58:_0x36ee58+(0x66e+-0x17d*-0xd+-0x19c6),_0x3974e9=_0xa34adb['data']['timeOption'],_0x35bdeb=_0xa34adb['data']['events'];for(let _0x56c1c1=_0x36ee58;_0x56c1c1<_0xf7ad63;_0x56c1c1++)await this['loadGsplat'+'Data'](this['urlList'],_0x120d0f,_0xa34adb,_0x56c1c1,_0x3974e9,_0x35bdeb,_0xf7ad63);_0x35bdeb['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x3b8869,_0x566a7a,_0x517a09,_0x5c3069,_0x2359bb,_0x441762,_0x5d9aee){var _0x298e54,_0x4f0558,_0x268759;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x3b8869[_0x5c3069]['trim'](),_0x5c3069);const _0x5cd98e=_0x2359bb[(-0x6df+-0x73e*0x5+0x2b17)*_0x5c3069]+_0x2359bb[(0xb21*-0x2+0x1493+0x1b1*0x1)*_0x5c3069+(-0x323*0x1+0x6*0x1fb+0x8be*-0x1)],_0xe65840=_0x3b8869[_0x5c3069]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x199a+0x3*-0xbdd+0x50b9))['toFixed'](0x1e0d*0x1+-0xe21*0x1+-0xfea));try{const _0x3e00e5=await((_0x298e54=this['readWorker'])==null?void(-0xd19+-0x1c33+-0x6*-0x6e2):_0x298e54['loadPly'](_0xe65840,_0x517a09['data']['decompress'],()=>{this['totalRecei'+'ved']=0x173d+-0x277*0x5+0x16*-0x7f;},(_0x143eb2,_0x339faa)=>{this['totalRecei'+'ved']+=_0x143eb2,_0x517a09&&_0x441762['fire']('progress',_0x339faa*_0x5c3069/_0x5d9aee+this['totalRecei'+'ved']/_0x5d9aee,_0x339faa);},(_0x56778f,_0x12c210)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x12c210,_0x56778f);}));let _0x55fcdf;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x269*0x1+-0x1db8+0x1*0x2ed7))['toFixed'](0x1ab6+0x1b9d+-0x3651)),_0x3e00e5['isCompress'+'ed']?(_0x55fcdf=new ak(),_0x55fcdf['comments']=_0x3e00e5['comments'],_0x55fcdf['numSplats']=_0x3e00e5['numSplats'],_0x55fcdf['is4D']=_0x3e00e5['is4D'],_0x55fcdf['chunkData']=_0x3e00e5['chunkData'],_0x55fcdf['vertexData']=_0x3e00e5['vertexData'],_0x55fcdf['shData0']=_0x3e00e5['shData0'],_0x55fcdf['shData1']=_0x3e00e5['shData1'],_0x55fcdf['shData2']=_0x3e00e5['shData2'],_0x55fcdf['shBands']=_0x3e00e5['shBands']):_0x55fcdf=new qn(_0x3e00e5['elements'],_0x3e00e5['comments']),_0x517a09['fire']('load:data',_0x55fcdf),_0x55fcdf['isCompress'+'ed']||_0x517a09['data']['reorder'];const _0x4c0024=_0x517a09['data']['createTime']!==((_0x268759=(_0x4f0558=this['onlyOneAss'+'et'])==null?void(0x1*0x21c3+-0x7*0x59+-0x1f54):_0x4f0558['data'])==null?void(-0x434+0x42d*0x1+0x7):_0x268759['createTime']);this['gsplatReso'+'urce']&&!_0x4c0024?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x55fcdf['isCompress'+'ed']?await _0x55fcdf['decompress']():_0x55fcdf,_0x2359bb,_0x5cd98e,_0x517a09,_0x441762):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x55fcdf['isCompress'+'ed']?await _0x55fcdf['decompress']():_0x55fcdf),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x2359bb,this['onlyOneAss'+'et']=_0x517a09),_0x566a7a(null,this['gsplatReso'+'urce']);}catch(_0x19bc76){_0x566a7a(_0x19bc76,null);}}['open'](_0x4b08d7,_0x85962a){return _0x85962a;}}async function ck(){const _0x17dfdb='super4d-ca'+'che-v1',_0x29da32={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x4e6711=0x412*-0x2+-0x240a+0x2c2e*0x1+0.28209479177387814;class _0x58f14b{constructor(_0x3dc12a={}){this['options']={..._0x29da32,..._0x3dc12a},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x9f*0x31+0x18fd*-0x1+0x2*-0x2b9,this['initialize'+'d']=!(0xc91*-0x3+0x1e93+-0x16d*-0x5);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x17dfdb);const _0x225f23=await this['cache']['keys'](),_0x594739=[];for(const _0xe0569e of _0x225f23){const _0x145bfc=_0xe0569e['url'],_0x353933=await this['cache']['match'](_0x145bfc);if(_0x353933){const _0x42aa87=(await _0x353933['blob']())['size'],_0x5c16eb=_0x353933['headers']['get']('x-cache-ti'+'me');_0x5c16eb&&_0x594739['push']({'url':_0x145bfc,'size':_0x42aa87,'cacheTime':parseInt(_0x5c16eb)});}}_0x594739['sort']((_0x2d7a41,_0x5435e6)=>_0x2d7a41['cacheTime']-_0x5435e6['cacheTime']);for(const _0x1a322f of _0x594739)this['cacheSizes']['set'](_0x1a322f['url'],_0x1a322f['size']),this['currentSiz'+'e']+=_0x1a322f['size'],this['lruList']['push'](_0x1a322f['url']);}catch(_0x28de8a){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x28de8a);}this['initialize'+'d']=!(-0x9f*-0x22+0xa60+-0x8b*0x3a);}}async['get'](_0x3cd530){if(await this['init'](),!this['cache'])return null;try{const _0x311a88=await this['cache']['match'](_0x3cd530);if(!_0x311a88)return null;const _0x23e4c4=_0x311a88['headers']['get']('x-cache-ti'+'me');return _0x23e4c4&&Date['now']()-parseInt(_0x23e4c4)>this['options']['maxAge']?(await this['delete'](_0x3cd530),null):(this['updateLRU'](_0x3cd530),_0x311a88);}catch{return null;}}async['set'](_0xb0ee82,_0x2d4e5d){if(!(!this['cache']||_0xb0ee82['startsWith']('blob:')))try{const _0x568977=_0x2d4e5d['clone'](),_0x18eb3c=await _0x568977['blob'](),_0x3f3289=_0x18eb3c['size'];this['currentSiz'+'e']+_0x3f3289>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x3f3289);const _0x244578=new Headers(_0x568977['headers']);_0x244578['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x3fc027=new Response(_0x18eb3c,{'status':_0x568977['status'],'statusText':_0x568977['statusText'],'headers':_0x244578});await this['cache']['put'](_0xb0ee82,_0x3fc027),this['cacheSizes']['set'](_0xb0ee82,_0x3f3289),this['currentSiz'+'e']+=_0x3f3289,this['updateLRU'](_0xb0ee82);}catch(_0x3a7bb5){console['error']('Cache\x20set\x20'+'error:',_0x3a7bb5);}}['updateLRU'](_0x56fea4){const _0x5632d7=this['lruList']['indexOf'](_0x56fea4);_0x5632d7>-(0xe90+0x1331+-0x21c0)&&this['lruList']['splice'](_0x5632d7,0xded+0x2039*-0x1+0x124d),this['lruList']['push'](_0x56fea4);}async['cleanupSpa'+'ce'](_0x58f841){const _0x23e6ec=this['options']['maxSize']*(0x1*0x2029+-0x82*-0x49+-0x453b+0.9);if(!(this['currentSiz'+'e']<=_0x23e6ec))for(;this['lruList']['length']>0x1*-0x17d5+0x8d5+0xf00&&this['currentSiz'+'e']>_0x23e6ec;){const _0x4accdc=this['lruList']['shift']();_0x4accdc&&await this['delete'](_0x4accdc);}}async['delete'](_0x3b758d){if(this['cache'])try{await this['cache']['delete'](_0x3b758d);const _0xda7db6=this['cacheSizes']['get'](_0x3b758d)||0x20b*-0x4+-0x1b3b+0x39*0x9f;this['currentSiz'+'e']-=_0xda7db6,this['cacheSizes']['delete'](_0x3b758d);const _0x15dbe5=this['lruList']['indexOf'](_0x3b758d);_0x15dbe5>-(-0x4cc*-0x2+0x4*-0xf0+0x41*-0x17)&&this['lruList']['splice'](_0x15dbe5,0xae*-0x2b+0x8*0xa4+0x181b);}catch(_0x2b547f){console['error']('Cache\x20dele'+'te\x20error:',_0x2b547f);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x964117=>Promise['all'](_0x964117['map'](_0x2d9cf7=>{var _0x267020;return(_0x267020=this['cache'])==null?void(0xef0+0x160+-0x1050):_0x267020['delete'](_0x2d9cf7);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xd*0x165+0x1*0x486+0xd9b;}catch(_0x248a07){console['error']('Cache\x20clea'+'r\x20error:',_0x248a07);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x82a+0x1*0x35d+-0xb87;}}class _0x488ad1{constructor(_0x214079=[],_0x4e1afa={}){this['cacheManag'+'er']=new _0x58f14b(_0x4e1afa['cache']),this['retryCount']=_0x4e1afa['retryCount']||0x1*-0x177d+0x49*0x6f+0x827*-0x1,this['retryDelay']=_0x4e1afa['retryDelay']||0x17c5+0x108+-0x1*0x16d9,this['maxConcurr'+'ency']=_0x4e1afa['maxConcurr'+'ency']||0xe4+-0x81*0x3b+0x1cdd,this['downloadQu'+'eue']=_0x214079,this['isProcessi'+'ngDownload'+'Queue']=!(-0x11*0x1c9+0x1218+0x621*0x2),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x2168*0x1+0x2368+-0x44d0);this['downloadQu'+'eue']['length']>-0xc4e+0xa0c+-0x121*-0x2;)try{const _0x2d0dce=this['downloadQu'+'eue']['splice'](0xe3*-0x1e+0x26ac+-0x203*0x6,this['maxConcurr'+'ency'])['map'](_0x5ed798=>{if(!this['pendingRes'+'ponses']['has'](_0x5ed798)){const _0x104b67=this['download'](_0x5ed798);return this['pendingRes'+'ponses']['set'](_0x5ed798,_0x104b67),_0x104b67['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x5ed798);});}return Promise['resolve']();});await Promise['all'](_0x2d0dce);}catch(_0x1baea8){console['error']('Download\x20e'+'rror:',_0x1baea8);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xd6*0x1d+0x12e7+-0x2b24);}}}async['fetch'](_0x48fcf2,_0x4ebbfa={}){if(this['pendingRes'+'ponses']['has'](_0x48fcf2))return this['pendingRes'+'ponses']['get'](_0x48fcf2);const {forceRefresh:_0x5d0966=!(-0x1*0x9e8+0x5*-0x557+-0x3*-0xc34),..._0x3ff1db}=_0x4ebbfa;this['pendingRes'+'ponses']['set'](_0x48fcf2,this['download'](_0x48fcf2,_0x3ff1db));const _0x31064b=await this['pendingRes'+'ponses']['get'](_0x48fcf2);return this['pendingRes'+'ponses']['delete'](_0x48fcf2),_0x31064b;}async['download'](_0x2950a3,_0x294ac3={}){var _0x3d6124;await((_0x3d6124=this['cacheManag'+'er'])==null?void(0x164d*0x1+-0x31a+-0x1*0x1333):_0x3d6124['init']());const {forceRefresh:_0x5ea785=!(0xa5b+0x111c+-0xbe*0x25),..._0xeb1def}=_0x294ac3;_0x5ea785&&await this['cacheManag'+'er']['delete'](_0x2950a3);const _0x5441a0=await this['cacheManag'+'er']['get'](_0x2950a3);if(_0x5441a0)return _0x5441a0;let _0x191435;for(let _0x46e5ed=-0x858+0x6d8+0x1*0x180;_0x46e5ed<this['retryCount'];_0x46e5ed++)try{const _0x4f1ae9=await fetch(_0x2950a3,_0xeb1def);if(!_0x4f1ae9['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4f1ae9['status']);return await this['cacheManag'+'er']['set'](_0x2950a3,_0x4f1ae9),_0x4f1ae9;}catch(_0x56ee7e){console['error']('Download\x20e'+'rror:',_0x56ee7e),_0x191435=_0x56ee7e,_0x46e5ed<this['retryCount']-(-0x247*0x1+0x2567+-0x231f)&&await new Promise(_0x4e3e7f=>setTimeout(_0x4e3e7f,this['retryDelay']*(_0x46e5ed+(0x239+0xb9e*-0x2+-0x10d*-0x14))));}throw _0x191435;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x3428e3;(_0x3428e3=this['cacheManag'+'er'])==null||_0x3428e3['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x19e2+-0xf8f+0x2*-0x529),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x5e52a5{constructor(_0x35539f,_0x2aab86=[]){this['elements']=_0x35539f,this['comments']=_0x2aab86,this['isCompress'+'ed']=!(-0x1*0xcf1+-0x1aeb*0x1+0x27dd);}}class _0x56ee19{constructor(_0x2dae9a){this['url']=_0x2dae9a;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x488ad1(globalThis['downloadQu'+'eueUrlList']));const _0x5b8101=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x5b8101['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x5b8101['statusText']);const _0x3a1229=await _0x5b8101['arrayBuffe'+'r'](),_0x96f753=new Uint8Array(_0x3a1229);let _0x4d86cb=0x1*-0x2679+0x401+0x2278,{size:_0x5d5716,type:_0x13b4d6}=this['_readBoxHe'+'ader'](_0x96f753,_0x4d86cb);if(_0x13b4d6!=='moof')throw new Error('Not\x20a\x20moof');_0x4d86cb+=0x1835*0x1+-0x1*-0x1df9+-0x3626;const _0x28453a=_0x4d86cb+_0x5d5716-(-0x2*0x1322+-0x1360*-0x1+-0x12ec*-0x1);let _0xdfd0d1=null;for(;_0x4d86cb<_0x28453a;){const {size:_0xd4c29b,type:_0x2b1756}=this['_readBoxHe'+'ader'](_0x96f753,_0x4d86cb);_0x4d86cb+=-0x1ce9*-0x1+-0x1a5*-0xf+-0x358c;const _0x3b928c=_0x96f753['slice'](_0x4d86cb,_0x4d86cb+_0xd4c29b-(-0x1bff+0x11e7*-0x1+0x16f7*0x2));_0x4d86cb+=_0xd4c29b-(0x1c63+0x426+-0x2081),_0x2b1756==='emsg'&&(_0xdfd0d1=this['_parseEmsg'](_0x3b928c));}if(!_0xdfd0d1)throw new Error('Incomplete'+'\x20moof');const {size:_0x5f03b9,type:_0x17b1a6}=this['_readBoxHe'+'ader'](_0x96f753,_0x4d86cb);if(_0x17b1a6!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x4d86cb+=-0x189c+0x3*-0xc06+-0x13*-0x332;const _0x3edef8=_0x96f753['slice'](_0x4d86cb,_0x4d86cb+(_0x5f03b9-(-0x427+-0x185*-0x13+-0x5*0x4f0)));return{'metadata':_0xdfd0d1,'segmentData':_0x3edef8};}['_readBoxHe'+'ader'](_0x53206c,_0x374b01){if(_0x374b01+(0xd8+0x12d*-0x7+0x1*0x76b)>_0x53206c['length'])throw new Error('EOF');const _0x3699dc=_0x53206c[_0x374b01]<<0x1109+-0x227d+-0x118c*-0x1|_0x53206c[_0x374b01+(-0x2254+0x6a*-0x11+-0x295f*-0x1)]<<-0x1*0x1975+-0xc5f+-0x4*-0x979|_0x53206c[_0x374b01+(0x18e1+-0x8b4+-0x102b)]<<-0x2572+-0x1866*0x1+0x3de0|_0x53206c[_0x374b01+(-0x1c72+0xd*0x2c3+-0x772)],_0x46204c=String['fromCharCo'+'de'](_0x53206c[_0x374b01+(0x440+-0x6*-0x37a+0x2c*-0x92)],_0x53206c[_0x374b01+(-0x1de7+0x246c*-0x1+0x4258)],_0x53206c[_0x374b01+(-0x3*0x997+0x3*-0x56b+0x2d0c*0x1)],_0x53206c[_0x374b01+(-0x956+0x269+0x6f4)]);return{'size':_0x3699dc,'type':_0x46204c};}['_parseEmsg'](_0x1c61c0){let _0xa87b4a=0x214c+0x1de+-0x232a;_0xa87b4a=_0x1c61c0['indexOf'](0x24c4+0x3*0xa63+-0x43ed*0x1,_0xa87b4a)+(0xc*-0x304+0x23f7+0x1*0x3a),_0xa87b4a=_0x1c61c0['indexOf'](-0x1a*0x77+-0x572+-0x3*-0x5d8,_0xa87b4a)+(0x3*-0x32b+0x295*-0x5+0x166b),_0xa87b4a+=-0x14*-0x10f+-0x1*0x2401+0x3*0x4f7;const _0x4e6361=_0x1c61c0['slice'](_0xa87b4a);return globalThis['CBOR']['decode'](_0x4e6361);}}class _0x3343af{constructor(_0xd18e91=-0xd38*-0x2+-0x11a7+-0xad*0xd,_0x56baa7=-0x900+0x2f*-0x68+-0x4*-0x706,_0xb9ec1a=-0x1491*-0x1+0x2220+-0x36b1,_0x540351=0x1*-0x2683+-0x7f*0x1b+0x89*0x61){this['x']=_0xd18e91,this['y']=_0x56baa7,this['z']=_0xb9ec1a,this['w']=_0x540351;}['set'](_0xc04796,_0x8f5606,_0x365e73,_0xb8b027){return this['x']=_0xc04796,this['y']=_0x8f5606,this['z']=_0x365e73,this['w']=_0xb8b027,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x446818=this){let _0x4ee3e3=_0x446818['length']();return _0x4ee3e3===-0x1f8a+-0x3*-0x209+0x196f?(this['x']=this['y']=this['z']=-0x21b2+-0x1696+0x3848,this['w']=-0x1*-0x7a2+0x1169+-0x190a):(_0x4ee3e3=(0x27*0x15+-0x1bd2+-0x2*-0xc50)/_0x4ee3e3,this['x']=_0x446818['x']*_0x4ee3e3,this['y']=_0x446818['y']*_0x4ee3e3,this['z']=_0x446818['z']*_0x4ee3e3,this['w']=_0x446818['w']*_0x4ee3e3),this;}['mulScalar'](_0x5d0035,_0x3355d9=this){return this['x']=_0x3355d9['x']*_0x5d0035,this['y']=_0x3355d9['y']*_0x5d0035,this['z']=_0x3355d9['z']*_0x5d0035,this['w']=_0x3355d9['w']*_0x5d0035,this;}}self['onmessage']=async _0x167727=>{var _0x548012,_0x4b530f;const {data:_0x254b71}=_0x167727;switch(_0x254b71['type']){case'initWorker':importScripts(_0x254b71['cborXUrl']);break;case'destroyWor'+'ker':_0x3c001e();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x2294dc,loadRepresentation:_0x390453}=_0x254b71,_0x1d09a9=await _0x4369ca(_0x2294dc,_0x390453);globalThis['manifestUr'+'l']=_0x2294dc,globalThis['manifest']=_0x1d09a9,globalThis['resentatio'+'n']=_0x1d09a9['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x3ac476(),globalThis['fetchWorke'+'r']=new _0x488ad1(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x1d09a9,'url':_0x2294dc,'representation':_0x390453});break;case'loadGsdSeg'+'ments':try{const _0x2a6f9d=_0x36c6d2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x26777b=await _0x3a0091(globalThis['manifest'],_0x2a6f9d),_0x4b6c01=(_0x548012=_0x26777b==null?void(0x95+0xc99*-0x2+-0x189d*-0x1):_0x26777b['elements'][-0x251+-0xd83+-0xfd4*-0x1])==null?void(-0x1952+0x11*-0xac+0x24be*0x1):_0x548012['properties']['map'](_0xa27c74=>_0xa27c74['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x26777b,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x4b6c01);}catch(_0x86bb1e){console['error']('Error\x20load'+'ing\x20GSD:',_0x86bb1e),self['postMessag'+'e']({'type':'error','data':_0x86bb1e['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x5805f2}=_0x254b71;try{const _0x59d761=_0x36c6d2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x27d7cf=await _0x425609(globalThis['manifest'],_0x59d761,_0x5805f2),_0x52034e=(_0x4b530f=_0x27d7cf==null?void(0x1d3a+0x4*-0x3d+0x205*-0xe):_0x27d7cf['elements'][0x2*0xd3f+0x1bd*0x2+0xefc*-0x2])==null?void(0x1e4+0x2477+-0x9*0x443):_0x4b530f['properties']['map'](_0x1050c6=>_0x1050c6['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x27d7cf,'timelineIndexs':_0x5805f2,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x52034e);}catch(_0x23312c){console['error']('Error\x20load'+'ing\x20GSD:',_0x23312c),self['postMessag'+'e']({'type':'error','data':_0x23312c['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x3c001e=()=>{var _0x4891aa;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x4891aa=globalThis['fetchWorke'+'r'])==null||_0x4891aa['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x3ac476=()=>{const _0x58b756=new Set(),_0x5e6e94=_0x36c6d2(globalThis['manifest'],globalThis['resentatio'+'n']),_0x12093c=globalThis['manifest']['baseUrl'],_0x4b4f6d=_0x5e6e94['segmentTem'+'plate'][0x257*0xf+0x3ed+0x5a*-0x6f];for(const _0x134bd1 of _0x4b4f6d['segmentTim'+'eline'])for(const _0x375157 of _0x134bd1['nl']){const _0x6d0e68=''+_0x12093c+_0x4b4f6d['media']['replace']('$SegGroupI'+'ndex$',String(_0x134bd1['sg']))['replace']('$NodeIndex'+'$',String(_0x375157));_0x58b756['add'](_0x6d0e68);}return Array['from'](_0x58b756);},_0x4369ca=async(_0x5ea8a1,_0xb0bc0e)=>{const _0x1caa93=await(await fetch(_0x5ea8a1))['text'](),_0x4b50b2=JSON['parse'](_0x1caa93);_0x4b50b2['baseUrl']=_0x5ea8a1['replace'](/\/[^\/]*$/,'/');const {schemas:_0x29a7d7,gsiUrl:_0x3e9bb2,repId:_0x2c31a5}=await _0x17c8d8(_0x4b50b2,_0xb0bc0e);return _0x4b50b2['schemas']=_0x29a7d7,_0x4b50b2['gsiUrl']=_0x3e9bb2,_0x4b50b2['representa'+'tion']=_0x2c31a5,_0x4b50b2;},_0x17c8d8=async(_0x2d2ccf,_0x559530)=>{let _0x14322e=null,_0x232d0e=null;for(const _0x41cb06 of _0x2d2ccf['adaptation'+'Sets'])if(_0x41cb06['contentTyp'+'e']==='4dgs'){_0x232d0e=_0x41cb06;for(const _0xe4259c of _0x41cb06['representa'+'tions'])if(_0xe4259c['id']===_0x559530){_0x14322e=_0xe4259c;break;}break;}_0x14322e||(_0x14322e=_0x232d0e['representa'+'tions'][-0xe2a+-0x1*-0x7db+0x64f],console['warn']('Representa'+'tion\x20\x27'+_0x559530+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x518dcc=_0x14322e['id'],_0x4f7ebc=_0x2d2ccf['baseUrl']+_0x518dcc+('/init.gsi.'+'json'),_0x278faa=await(await fetch(_0x4f7ebc))['text'](),_0xbed4f1=JSON['parse'](_0x278faa),_0x3a3698={};return _0x3a3698[_0x518dcc]=_0xbed4f1,{'schemas':_0x3a3698,'gsiUrl':_0x4f7ebc,'repId':_0x518dcc};},_0x36c6d2=(_0x33743a,_0x295379='high-quant'+'ized')=>{let _0x58974b=null;for(const _0x21b8d0 of _0x33743a['adaptation'+'Sets'])if(_0x21b8d0['contentTyp'+'e']==='4dgs'){for(const _0x431d78 of _0x21b8d0['representa'+'tions'])if(_0x431d78['id']===_0x295379){_0x58974b=_0x431d78;break;}break;}if(!_0x58974b)throw new Error('Representa'+'tion\x20\x27'+_0x295379+('\x27\x20not\x20foun'+'d'));return _0x58974b;},_0x3a0091=async(_0x21210b,_0x39681f)=>{const _0x14f989=_0x39681f['id'],_0x3aaf8e=_0x21210b['schemas'][_0x14f989]['attributes'],_0x844eb7=_0x39681f['segmentTem'+'plate'][0x31d+-0xa85*0x1+0x768];globalThis['loadedSegm'+'ents']=[];const _0x3b36f8=[],_0x432b51=[];for(const _0x40126e of _0x844eb7['segmentTim'+'eline'])for(const _0x378294 of _0x40126e['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x40126e['sg']+'_'+_0x378294))continue;globalThis['loadedSegm'+'ents']['push'](_0x40126e['sg']+'_'+_0x378294);const _0x29a624=await _0x35fe01(_0x21210b,_0x39681f,_0x3aaf8e,_0x40126e['sg'],_0x378294);_0x432b51['push'](_0x29a624['decoded']),_0x3b36f8['push'](_0x29a624['metadata']);}return _0x5c8f77(_0x432b51,_0x3aaf8e,_0x21210b['comments']);},_0x425609=async(_0x16e961,_0x426461,_0x31632f)=>{if(!_0x31632f||_0x31632f['length']===-0x1641+-0x1c4e+0x2b*0x12d)return{'decoded':[],'metadata':[]};const _0x2b5d5a=_0x426461['id'],_0x5ce62e=_0x16e961['schemas'][_0x2b5d5a]['attributes'],_0x5238a5=_0x426461['segmentTem'+'plate'][-0x22e+0x3d*0x40+-0x1de*0x7];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x4f7967=_0x5238a5['segmentTim'+'eline'][_0x31632f[0x1ef1+0x1d6b+-0x3c5c]];globalThis['currentLoa'+'dSg']!==_0x4f7967['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x41b405=>!_0x41b405['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x4f7967['sg']);let _0x3345b0;const _0x2426c5=[];for(const _0x3dcfcd of _0x31632f){_0x3345b0=_0x5238a5['segmentTim'+'eline'][_0x3dcfcd];for(const _0x56cd67 of _0x3345b0['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x3345b0['sg']+'_'+_0x56cd67)||(globalThis['loadedSegm'+'ents']['push'](_0x3345b0['sg']+'_'+_0x56cd67),_0x2426c5['push'](_0x56cd67));}const _0x62e473=await _0x35fe01(_0x16e961,_0x426461,_0x5ce62e,_0x3345b0['sg'],_0x2426c5);_0x62e473['metadata'];const _0x2ef73c=_0x62e473['decoded'];return _0x5c8f77(_0x2ef73c,_0x5ce62e,_0x16e961['comments']);},_0x35fe01=async(_0x1027cb,_0xd64cd5,_0x318354,_0x33d964,_0x3a2856)=>{const _0x232741=_0x1027cb['baseUrl'],_0x12d4a1=_0xd64cd5['segmentTem'+'plate'][-0xbe8+-0x6a6+-0x947*-0x2]['media'],_0x503ad7=_0x3a2856['map'](_0x27d6f0=>''+_0x232741+_0x12d4a1['replace']('$SegGroupI'+'ndex$',String(_0x33d964))['replace']('$NodeIndex'+'$',String(_0x27d6f0))),_0x223fbc=await Promise['all'](_0x503ad7['map'](async _0x2a0e17=>{const _0x4883c1=await _0x19f244(_0x2a0e17),_0x15f76d=_0x4883c1['metadata'],_0x2ae7cc=_0x4883c1['segmentDat'+'a'],_0x537e7e=_0x15f76d['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x2a0e17),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x15f76d['timeStart'],'segment\x20ti'+'meEnd:',_0x15f76d['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x537e7e);let _0x11e52a;if(_0xd64cd5['id']['includes']('quantized')){const _0x31c64d=_0x15f76d['chunk_boun'+'ds'];_0x11e52a=_0x14c15b(_0x2ae7cc,_0x537e7e,_0x318354,_0x33d964,_0x31c64d);}else _0x11e52a=_0x4c4410(_0x2ae7cc,_0x537e7e,_0x318354,_0x33d964);return{'decoded':_0x11e52a,'metadata':_0x15f76d};})),_0x30a0aa=_0x223fbc['map'](_0x1df080=>_0x1df080['decoded']),_0x46c833=_0x223fbc['map'](_0x57b77b=>_0x57b77b['metadata']);return{'decoded':_0x30a0aa,'metadata':_0x46c833};},_0x5c8f77=(_0x4ad736,_0x36926e,_0x4d9d9b)=>{if(_0x4ad736['length']===0x1655+0x1*-0x170a+-0x1*-0xb5)return new _0x5e52a5([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x1e51+-0x12b+0x41*0x7c),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0xdb7*0x2+-0x9ea+0x2558),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(-0x22eb+0x1*-0x19ee+0x3cd9),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x1*0x4af+0x2133+0x2*-0x12f1),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x1273+0x874+-0x1ae7),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(-0x1866+-0x16b*0x2+0x1b3c),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x162*0xe+0x22*0x55+-0x2*-0x409),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x1b3b+-0x2611+-0x56b*-0x2),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x48a+-0x1a11*-0x1+-0x1*0x1587),'byteSize':0x4}]}],_0x4d9d9b);const _0x34dd1b=_0x4fd59c(_0x4ad736),[_0x28347d,_0x19f17a,_0x7cca1]=_0x13509f(_0x34dd1b['lifecycle'],-0x2*0x12b0+-0x1180+0x1*0x36e3,Float32Array),_0x3c0748=_0x34dd1b['time_index'],_0x308771=_0x36926e['find'](_0x4b0af6=>_0x4b0af6['name']==='feature_re'+'st'),_0x364151=[];if(_0x308771&&_0x34dd1b['feature_re'+'st']){const _0x5c1e39=_0x308771['dataType']['split'](',')[0x8*0x4a3+0x8b*0x34+-0x4153]['trim']()['replace']('>',''),_0x6a78b9=_0x13509f(_0x34dd1b['feature_re'+'st'],-0x65d*0x3+0x6*-0x62b+-0x54*-0xab,Float32Array);for(const _0x3d7c61 of _0x6a78b9){const _0x49c743=_0x13509f(_0x3d7c61,_0x5c1e39/(-0x7*0x247+0x190f+-0x3f*0x25),Float32Array);for(let _0x4a2267=-0x226e+-0x2597+0x67*0xb3;_0x4a2267<_0x49c743['length'];_0x4a2267++)_0x364151['push']({'name':'f_rest_'+_0x4a2267,'type':'float','storage':_0x49c743[_0x4a2267],'byteSize':0x4});}}return new _0x5e52a5([{'name':'vertex','count':_0x34dd1b['position']['length']/(0x11e8+-0x6*0xa9+-0xdef),'properties':[{'name':'position','type':'float','storage':_0x34dd1b['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x34dd1b['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x19f17a,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x28347d,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x7cca1,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x34dd1b['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x34dd1b['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x34dd1b['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x3c0748,'byteSize':0x4},..._0x364151]}],_0x4d9d9b);},_0x13509f=(_0x79685d,_0x4a62e8,_0x21a4b7)=>{const _0x1c20f0=new Array(_0x4a62e8),_0x4e687e=Math['floor'](_0x79685d['length']/_0x4a62e8),_0x370a48=_0x79685d['length']%_0x4a62e8;for(let _0x87994b=-0x6ff+-0x8c2+0xfc1;_0x87994b<_0x4a62e8;_0x87994b++){const _0x26a19b=_0x87994b<_0x370a48?_0x4e687e+(-0x1*0x295+-0x1145*0x2+0x2520):_0x4e687e;_0x1c20f0[_0x87994b]=new _0x21a4b7(_0x26a19b);}for(let _0x323b14=-0x8e0+0x2b6*-0x1+0xb96;_0x323b14<_0x79685d['length'];_0x323b14++){const _0x346c36=_0x323b14%_0x4a62e8,_0x1e4980=Math['floor'](_0x323b14/_0x4a62e8);_0x1c20f0[_0x346c36][_0x1e4980]=_0x79685d[_0x323b14];}return _0x1c20f0;},_0x19f244=async _0x310027=>{const _0x3e36ba=new _0x56ee19(_0x310027),{metadata:_0x821bce,segmentData:_0x582a7d}=await _0x3e36ba['readFragme'+'nt']();return{'metadata':_0x821bce,'segmentData':_0x582a7d};},_0x20dfce=(_0x182bd8,_0x543530)=>{let _0x2a6dfb,_0x2bb13b,_0x579044=-(0x1065+-0x1acb+0x1*0xa67);if(_0x182bd8['encoding']){const _0x1409dd=_0x182bd8['encoding']['storageTyp'+'e'];if(_0x1409dd==='uint32')_0x2bb13b=Uint32Array,_0x2a6dfb=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x1409dd['startsWith']('array<ucha'+'r')){_0x2bb13b=Uint8Array;const _0x4eca89=_0x1409dd['split'](',')[-0x137c+-0x366+0x16e3]['trim']()['replace']('>','');_0x579044=parseInt(_0x4eca89),_0x2a6dfb=_0x579044*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x1409dd);}}else{if(_0x2bb13b=Float32Array,_0x182bd8['dataType']==='vec3f')_0x2a6dfb=(0x1*0x1896+0x81*-0x20+-0x7*0x135)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x182bd8['dataType']==='vec4f')_0x2a6dfb=(0x757+-0x11a8+0xa55*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x182bd8['dataType']==='vec2f')_0x2a6dfb=(-0xc57+-0x22d8+0x2f31*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x182bd8['dataType']['startsWith']('array<floa'+'t')){const _0x5f2be9=_0x182bd8['dataType']['split'](',')[0x1*0x1db9+0x4*0x8db+-0x4124]['trim']()['replace']('>','');_0x579044=parseInt(_0x5f2be9),_0x2a6dfb=_0x579044*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x182bd8['dataType']);}}}}return{'dataSize':_0x543530*_0x2a6dfb,'datatype':_0x2bb13b,'arraySize':_0x579044};},_0x3ad296=(_0x1f5712,_0x3d45b8)=>{const _0x31ebe0=(0x1*0x1bc1+0xbf5+0x217*-0x13<<_0x3d45b8)-(0x1e45+0x19f*-0x9+-0xfad);return(_0x1f5712&_0x31ebe0)/_0x31ebe0;},_0x1eb912=_0x95254b=>{const _0x3584b4=new Float32Array(_0x95254b['length']*(0x1ddd+0x654+-0x242e));for(let _0x1cdaed=0xce3*-0x1+-0x901+0x15e4;_0x1cdaed<_0x95254b['length'];_0x1cdaed++)_0x3584b4[_0x1cdaed*(0x35c+-0x573+-0x10d*-0x2)]=_0x3ad296(_0x95254b[_0x1cdaed]>>>-0xb97+0x1*-0x2383+0x2f2f,-0x7*0x26+0x52*-0x45+-0x172f*-0x1),_0x3584b4[_0x1cdaed*(0xac+-0x505+0x45c)+(0x26*0x85+0x1ec8+-0x3285)]=_0x3ad296(_0x95254b[_0x1cdaed]>>>0x277*-0x3+-0x1a7a*-0x1+-0x1*0x130a,-0xd4b*-0x2+-0x1c*0x65+0x80*-0x1f),_0x3584b4[_0x1cdaed*(-0x5*0x21f+-0x1a18+0x24b6)+(0xa9*0x1d+0x26d6+-0x39f9)]=_0x3ad296(_0x95254b[_0x1cdaed],0x1*-0x12e6+-0x3*-0x10f+-0x1*-0xfc4);return _0x3584b4;},_0x546396=_0x319125=>{const _0x2f0a0a=new Float32Array(_0x319125['length']*(-0x69d+-0x1*0x269+-0xb2*-0xd));for(let _0x102379=-0xf*-0x181+0x3*-0xa71+0x8c4;_0x102379<_0x319125['length'];_0x102379++)_0x2f0a0a[_0x102379*(0x147b+0x3d2+-0x1849)]=_0x3ad296(_0x319125[_0x102379]>>>0x1*0x2001+0xd*-0xa1+0x4*-0x5ef,-0x419+0x1443+-0x1022),_0x2f0a0a[_0x102379*(0x1863*0x1+-0x23a4+0xb45)+(0x26da*-0x1+-0x17*0x167+-0x3*-0x17b4)]=_0x3ad296(_0x319125[_0x102379]>>>0x2b*-0x64+-0xa97+0x1b73,-0xbc3*-0x2+0x2*-0x6fc+0x2e*-0x35),_0x2f0a0a[_0x102379*(0x1*0x44d+-0x79f*-0x1+0x1fc*-0x6)+(0x2*-0xc9d+0x154c+-0x3f0*-0x1)]=_0x3ad296(_0x319125[_0x102379]>>>0x1ee4+-0x18fa+-0x5e2,-0x1ee5+-0xe*0x262+0x4049),_0x2f0a0a[_0x102379*(-0x631+0x2*0xdd6+0x5*-0x44b)+(0x2*0x1229+0x126f*-0x1+0x11e0*-0x1)]=_0x3ad296(_0x319125[_0x102379],-0xa7a+0x53*0x1c+0x16e);return _0x2f0a0a;},_0x565e01=_0x18ed0e=>{const _0x31f813=new Float32Array(_0x18ed0e['length']*(-0x1cfa+-0x465+-0x2*-0x10b1)),_0x589543=(0x2*0x7c1+-0xe3f+-0x7*0x2e)/(Math['sqrt'](-0x1f97+0x79*0x36+0x613)*(-0xa3*-0x3a+0x20*-0x4d+-0x1b4e+0.5));for(let _0x512362=-0x994+0x4*-0x864+0x2b24;_0x512362<_0x18ed0e['length'];_0x512362++){const _0x115c19=(_0x3ad296(_0x18ed0e[_0x512362]>>>0x1827+0x826+-0x71*0x49,0x262e*-0x1+-0x9b+0x26d3)-(-0xc3d+-0x1c9+0x2*0x703+0.5))*_0x589543,_0x47c206=(_0x3ad296(_0x18ed0e[_0x512362]>>>-0x13+0x5*-0x301+-0x791*-0x2,-0x18e3+-0x1*0xcec+0x25d9)-(-0x4*-0x533+-0x207f*0x1+0x5*0x257+0.5))*_0x589543,_0x49210e=(_0x3ad296(_0x18ed0e[_0x512362],0x1184+0x5*-0x5ea+0x56*0x24)-(-0x18e*0x15+0xc32+0x1474+0.5))*_0x589543,_0x11a848=Math['sqrt'](0x1*-0x267a+-0xbda+0x3255-(_0x115c19*_0x115c19+_0x47c206*_0x47c206+_0x49210e*_0x49210e));let _0x32929a=-0x4*-0x6f7+0x6c9*0x1+0x22a5*-0x1,_0x53be3a=-0x22a8+-0x3*-0x9f6+0x4c6,_0x4390f3=-0x26e5+0x3a*0x67+0xf8f,_0x3fef67=0x1baa+0x1b36+-0x1b70*0x2;switch(_0x18ed0e[_0x512362]>>>-0x96a*0x2+-0x142+-0x35e*-0x6){case 0x170e+0x11a7+-0x28b5:_0x32929a=_0x11a848,_0x53be3a=_0x115c19,_0x4390f3=_0x47c206,_0x3fef67=_0x49210e;break;case 0x2552+0x2644+-0x4b95:_0x32929a=_0x11a848,_0x53be3a=_0x47c206,_0x4390f3=_0x49210e,_0x3fef67=_0x115c19;break;case-0x1*0x15a9+-0xd*-0x100+0x8ab:_0x32929a=_0x47c206,_0x53be3a=_0x11a848,_0x4390f3=_0x49210e,_0x3fef67=_0x115c19;break;case-0x1*-0x17a2+-0x1*0xf4d+-0x852:_0x32929a=_0x47c206,_0x53be3a=_0x49210e,_0x4390f3=_0x11a848,_0x3fef67=_0x115c19;break;}const _0x514545=_0x4bd75a(_0x32929a,_0x53be3a,_0x4390f3,_0x3fef67);_0x31f813[_0x512362*(-0x72b+0x174*0x11+-0x1186)]=_0x514545['x'],_0x31f813[_0x512362*(-0x1d47+-0x5*-0x649+-0x223)+(0xa32+0x1ada+-0x1d*0x147)]=_0x514545['y'],_0x31f813[_0x512362*(0x20dd+-0xac1+-0x1*0x1619)+(-0x84*-0x4+-0x101*-0x19+0x14b*-0x15)]=_0x514545['z'];}return _0x31f813;},_0x14b8e4=(_0x198b15,_0x326096,_0x226b8a)=>{const _0x19e91e=_0x226b8a-_0x326096,_0x558129=new Float32Array(_0x198b15['length']);for(let _0x5385cc=-0x2*0x987+-0x2185+0x3493;_0x5385cc<_0x198b15['length'];_0x5385cc++)_0x558129[_0x5385cc]=_0x198b15[_0x5385cc]/(-0x206*0xf+0x1bcb*0x1+-0x5*-0xb6)*_0x19e91e+_0x326096;return _0x558129;},_0x5c42f7=new Float32Array(0x3a*0x6c+-0x1945+0xce),_0x120494=new Int32Array(_0x5c42f7['buffer']),_0x38c735=_0x2ae4d0=>{_0x5c42f7[0x1377*0x1+-0x1cfc+0x985]=_0x2ae4d0;const _0x15a2ce=_0x120494[0x2145+0x6b1*-0x2+-0x13e3];let _0x1986cd=_0x15a2ce>>0x1*0xe26+-0x4c+-0xdca&0xe59c+0x2*0x6455+-0x12e46,_0x155b4c=_0x15a2ce>>-0xbfc*0x3+0x2*0x5dc+0x1848&-0x26bf+-0x184f+0x470d;const _0x25a83e=_0x15a2ce>>0x66b+0xde2*0x2+0x110c*-0x2&-0x1f1b+-0x1c19+-0x1d3*-0x21;return _0x25a83e<-0xd99*0x2+0x261f*0x1+0x2*-0x543?_0x1986cd:_0x25a83e>-0x3*-0xca1+-0xeb9*-0x1+-0x340e?(_0x1986cd|=-0x5*0x5a0+-0x201b*-0x7+0x281*-0x1d,_0x1986cd|=(_0x25a83e===0xdfa+-0x1b4e+0xe53?0x1150+0xaa1*0x3+-0xb*0x479:-0x81*0x3b+0x3*-0x69a+0x2*0x18c5)&&_0x15a2ce&-0x16ae3+-0x53bee3+0xd529c5,_0x1986cd):_0x25a83e<0x7c3+0x1*0x216e+-0x28c0?(_0x155b4c|=0x1*0x2b+-0x84a+0x101f,_0x1986cd|=(_0x155b4c>>-0x176d+0x1f*0xf1+-0x550-_0x25a83e)+(_0x155b4c>>0x1c9b+0x1*-0xbee+-0x40f*0x4-_0x25a83e&-0x1*-0x1c58+-0x2511+0x8ba),_0x1986cd):(_0x1986cd|=_0x25a83e-(0x69*0x51+-0x1354+-0x109*0xd)<<-0x24ae+-0x9f*-0x1+0x2419|_0x155b4c>>0x1*-0x1abf+0x202f*0x1+0x6b*-0xd,_0x1986cd+=_0x155b4c&-0x1*0x71f+-0x460+0x5c*0x20,_0x1986cd);},_0x8b0db8=_0x2167e9=>{const _0x370161=new Uint16Array(_0x2167e9['length']);for(let _0x33f171=-0x990+-0x7eb*0x4+0x293c;_0x33f171<_0x2167e9['length']/(-0x137a*0x1+-0x1f69+0x9d*0x53);++_0x33f171)_0x370161[_0x33f171*(-0x2*0x1111+-0x3f*0x55+0x3711)]=_0x38c735(_0x2167e9[_0x33f171*(-0x16f1+-0x182*0x1+-0x1877*-0x1)]*_0x4e6711+(0x160*-0xe+0x1*-0xf75+-0x5*-0x6f1+0.5)),_0x370161[_0x33f171*(0x1*0x739+-0x5*0x765+0x1dc4)+(0x136*-0x1a+-0x1f72+0x3eef)]=_0x38c735(_0x2167e9[_0x33f171*(0x2*0xda3+0x1*-0x2137+0x5f5)+(-0x1a3+0x42*0x1+0x162)]*_0x4e6711+(-0x25*0xc5+-0x14d*0xd+0x2d62+0.5)),_0x370161[_0x33f171*(0x4*0x8ef+0xa9f+-0x2e57)+(-0x5cf*0x1+0x94b+0x1bd*-0x2)]=_0x38c735(_0x2167e9[_0x33f171*(0x935*0x1+0x31d+-0xc4e)+(-0x1d*0x141+0x1e14+0xb3*0x9)]*_0x4e6711+(0x49*-0x3e+0x8ce+0x11c*0x8+0.5)),_0x370161[_0x33f171*(-0xe74+0x160e+-0x1*0x796)+(-0x1dc*0xe+-0x2d2*-0xb+0x1*-0x4fb)]=_0x38c735(_0x2167e9[_0x33f171*(0x12*-0x13+-0x2038+0x2192)+(-0x223f*0x1+-0x12f8+0x353a)]);return _0x370161;},_0x19fd6b=new _0x3343af(0xb72+-0x2047+0x1*0x14d5,-0x16c9+-0x24*0x48+0x20e9,-0xae5*-0x1+-0x2*0x709+-0x3*-0x10f,0x1e7f+0xa05+0x4*-0xa21),_0x4bd75a=(_0x12c30b,_0x18f89f,_0x535db5,_0x39bbb9)=>(_0x19fd6b['set'](_0x18f89f,_0x535db5,_0x39bbb9,_0x12c30b),_0x19fd6b['normalize'](),_0x19fd6b['w']<0x3*0xb29+0x10d2+-0xa3*0x4f&&_0x19fd6b['mulScalar'](-(-0xdc1*0x2+0x1*0x1e01+-0x13f*0x2)),_0x19fd6b);function _0x14c15b(_0x173cb8,_0x4126a4,_0x2ea06b,_0x428fb5,_0xe17646){const _0x391553=_0xe17646[Object['keys'](_0xe17646)[-0x1d8c+0x1*-0x2141+0x3ecd]]['length'],_0x342375=-0xa50+-0xe0f*-0x1+-0x2bf;let _0x3fed00=[],_0x4d2e58=_0x4126a4;for(let _0x31f85a=0x2e1*-0x9+0x724+0x1f*0x9b;_0x31f85a<_0x391553;_0x31f85a++){const _0x50d686=Math['min'](_0x342375,_0x4d2e58);_0x3fed00['push'](_0x50d686),_0x4d2e58-=_0x50d686;}let _0xdd0c3c=-0x2631+0x11aa+0x1487,_0x16a9b0={};for(let _0x26736b of _0x2ea06b){const _0x20c746=_0x26736b['name'],{dataSize:_0x20be3f,datatype:_0x345634}=_0x20dfce(_0x26736b,_0x4126a4);let _0xf2f136=_0x173cb8['buffer']['slice'](_0xdd0c3c,_0xdd0c3c+_0x20be3f),_0x460ab2=new _0x345634(_0xf2f136);_0x16a9b0[_0x20c746]=_0x460ab2,_0xdd0c3c+=_0x20be3f;}let _0xa53d7f=[],_0x41e547=-0x1bae+0x9*0x3bf+-0x67*0xf;for(let _0x36e513=-0x1a89+-0x1ada+0x4f*0xad;_0x36e513<_0x391553;_0x36e513++){const _0x4cd33b=_0xba6666(_0x16a9b0,_0xe17646,_0x36e513,_0x3fed00,_0x41e547,_0x2ea06b),_0x9c8dc0=_0x4cd33b['chunkDecom'+'pressed'];_0xa53d7f['push'](_0x9c8dc0),_0x41e547=_0x4cd33b['chunkStart'+'Idx'];}let _0x26103c={};for(let _0x4134c2 of Object['keys'](_0xa53d7f[-0x1825+-0x2670+0x3e95])){let _0x50b0cb=-0xf76+-0x96+0x100c;for(let _0x78330b=0x162+0x3b*0x8+-0x33a;_0x78330b<_0xa53d7f['length'];_0x78330b++)_0x50b0cb+=_0xa53d7f[_0x78330b][_0x4134c2]['length'];_0x4134c2==='color_opac'+'ity'||_0x4134c2==='scale'?_0x26103c[_0x4134c2]=new Uint16Array(_0x50b0cb):_0x26103c[_0x4134c2]=new Float32Array(_0x50b0cb);let _0x16ea27=0x8b9*0x1+-0x1*0x1c0d+0x1*0x1354;for(let _0x476e3a=-0x1d*-0x1+-0x1ed4+0x1eb7*0x1;_0x476e3a<_0xa53d7f['length'];_0x476e3a++)_0x26103c[_0x4134c2]['set'](_0xa53d7f[_0x476e3a][_0x4134c2],_0x16ea27),_0x16ea27+=_0xa53d7f[_0x476e3a][_0x4134c2]['length'];}return _0x2ea06b['some'](_0x567369=>_0x567369['name']==='feature_re'+'st')&&(_0x26103c['feature_re'+'st']=_0x4690f8(_0x16a9b0,_0x2ea06b)),_0x26103c['time_index']=new Float32Array(_0x4126a4),_0x26103c['time_index']['fill'](_0x428fb5-(-0x1334+-0x25c7+0x38fc)),_0x26103c;}const _0xba6666=(_0x351c9c,_0x1709c0,_0x162ff5,_0x5a867c,_0x3d1284,_0x509e2c)=>{const _0x1af261=_0x5a867c[_0x162ff5],_0x25a629=_0x3d1284+_0x1af261,_0x2368f4=(_0x571fb7,_0x420ae6,_0x14caa4)=>_0x571fb7*(-0x1935+0xb93+0xda3-_0x14caa4)+_0x420ae6*_0x14caa4;let _0x18e54c={};for(let _0x56f705 of _0x509e2c){const _0x5d04e3=_0x56f705['name'],_0x219d4b=_0x56f705['encoding']['codec'],_0x411216=_0x351c9c[_0x5d04e3]['slice'](_0x3d1284,_0x25a629);if(_0x219d4b==='pack_11_10'+'_11'){if(_0x5d04e3==='scale'){const _0x2b5dd3=_0x1709c0['min_scales'][_0x162ff5],_0x2121cc=_0x1709c0['max_scales'][_0x162ff5],_0xb2c654=_0x1eb912(_0x411216),_0x1529f1=_0xb2c654['length'],_0xe49a26=new Uint16Array(_0x1529f1);for(let _0x2b4118=0xce5+0xa48+0x15d*-0x11;_0x2b4118<_0x1529f1;_0x2b4118++)_0xe49a26[_0x2b4118]=_0x38c735(Math['exp'](_0x2368f4(_0x2b5dd3[_0x2b4118%(-0x18*-0x2e+-0x19aa+0x71f*0x3)],_0x2121cc[_0x2b4118%(-0xa*-0xca+0x1*-0x11d9+0x9f8)],_0xb2c654[_0x2b4118])));_0x18e54c[_0x5d04e3]=_0xe49a26;}else{const _0x5c82ce=_0x1eb912(_0x411216);let _0x4061ee,_0x125ffd;if(_0x5d04e3==='position')_0x4061ee=_0x1709c0['min_means'][_0x162ff5],_0x125ffd=_0x1709c0['max_means'][_0x162ff5];else{if(_0x5d04e3==='motion')_0x4061ee=_0x1709c0['min_motion'][_0x162ff5],_0x125ffd=_0x1709c0['max_motion'][_0x162ff5];else{if(_0x5d04e3==='lifecycle'){const _0x439e90=_0x1709c0['min_t_scal'+'e'][_0x162ff5],_0x30f8b5=_0x1709c0['max_t_scal'+'e'][_0x162ff5],_0x139798=_0x1709c0['min_time'][_0x162ff5],_0x3cbb0e=_0x1709c0['max_time'][_0x162ff5],_0x589c1f=_0x1709c0['min_cutoff'][_0x162ff5],_0x1f6217=_0x1709c0['max_cutoff'][_0x162ff5];_0x4061ee=[_0x439e90[-0x7e3+-0x20fe+0xd*0x325],_0x139798[0x85*-0x2e+-0x1500+0x2ce6],_0x589c1f[-0x248a+0x3ca*0x7+0xa04]],_0x125ffd=[_0x30f8b5[0x2*0xac9+-0xd93+0x1*-0x7ff],_0x3cbb0e[0x4*0x13+-0x3ef+0x3a3],_0x1f6217[-0x2492+0x2f*0x3d+0x1b1*0xf]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x5d04e3);}}for(let _0xdf537d=-0x47*0xc+0x7e+0x2d6;_0xdf537d<_0x5c82ce['length'];_0xdf537d++)_0x5c82ce[_0xdf537d]=_0x2368f4(_0x4061ee[_0xdf537d%(-0x166b+-0x1e1b+0x3489)],_0x125ffd[_0xdf537d%(-0x239a+-0x507+0x484*0x9)],_0x5c82ce[_0xdf537d]);_0x18e54c[_0x5d04e3]=_0x5c82ce;}}else{if(_0x219d4b==='pack_8888'){let _0x4f6255=_0x546396(_0x411216);const _0x328674=_0x1709c0['min_colors'][_0x162ff5],_0x4ff158=_0x1709c0['max_colors'][_0x162ff5],_0xff0c31=new Uint16Array(_0x4f6255['length']);for(let _0x30e67a=0x1*-0xa91+0x23*-0x25+0xfa0;_0x30e67a<_0x4f6255['length'];_0x30e67a++){const _0x5b76f9=_0x30e67a*(0x95*0x29+-0x6*0x20f+0x9*-0x147);_0xff0c31[_0x5b76f9]=_0x38c735(_0x2368f4(_0x328674[-0x14cb*-0x1+-0x4d8+-0xff3],_0x4ff158[0x1*0x7fd+-0x182c+-0x565*-0x3],_0x4f6255[_0x5b76f9])),_0xff0c31[_0x5b76f9+(0x65d+0x371+-0xd*0xc1)]=_0x38c735(_0x2368f4(_0x328674[0x1727+-0x1832+-0x86*-0x2],_0x4ff158[0x1*0x132d+-0xf2d+-0x3ff],_0x4f6255[_0x5b76f9+(-0x438+-0x68c+0xac5)])),_0xff0c31[_0x5b76f9+(-0x13f*-0x6+0x903+-0x107b)]=_0x38c735(_0x2368f4(_0x328674[0x13f3+-0x775+0x11*-0xbc],_0x4ff158[0x25*-0x101+-0x27b+0x2*0x13d1],_0x4f6255[_0x5b76f9+(-0xda3*0x2+0xe9*0x2+-0x2*-0xcbb)])),_0xff0c31[_0x5b76f9+(0x19bd+0x1*-0x1ae4+0x2*0x95)]=_0x38c735(_0x4f6255[_0x5b76f9+(-0x15ef+0x85a+0x15c*0xa)]);}_0x18e54c[_0x5d04e3]=_0xff0c31;}else{if(_0x219d4b==='pack_rotat'+'ion_32'){const _0x2ce338=_0x565e01(_0x411216);_0x18e54c[_0x5d04e3]=_0x2ce338;}else{if(_0x219d4b==='range_quan'+'t_u8'){if(_0x5d04e3==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x219d4b);}}}}}return{'chunkDecompressed':_0x18e54c,'chunkStartIdx':_0x25a629};},_0x4690f8=(_0x1b8a80,_0x1c9933)=>{const _0x1f4b43='feature_re'+'st',_0x29bc23=_0x1c9933['find'](_0x11c4fb=>_0x11c4fb['name']===_0x1f4b43);let _0x75dcc3;const _0x7366c3=_0x29bc23['encoding']['codec'],_0x18f185=_0x1b8a80[_0x1f4b43];if(_0x7366c3==='range_quan'+'t_u8'){const [_0xe2ba04,_0x506f43]=_0x29bc23['encoding']['range'];_0x75dcc3=_0x14b8e4(_0x18f185,_0xe2ba04,_0x506f43);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x7366c3);return _0x75dcc3;},_0x4c4410=(_0x3c14e9,_0x13c6d5,_0x2c7e72,_0x24817e)=>{let _0x43721d=-0xe1*0x5+0x7d*0x21+-0xbb8;const _0x2a62ac={};for(const _0x3afa06 of _0x2c7e72){const {dataSize:_0x5335af}=_0x20dfce(_0x3afa06,_0x13c6d5);if(['vec3f','vec4f','vec2f']['includes'](_0x3afa06['dataType']))_0x2a62ac[_0x3afa06['name']]=new Float32Array(_0x3c14e9['buffer']['slice'](_0x43721d,_0x43721d+_0x5335af));else{if(_0x3afa06['dataType']['startsWith']('array<floa'+'t'))_0x2a62ac[_0x3afa06['name']]=new Float32Array(_0x3c14e9['buffer']['slice'](_0x43721d,_0x43721d+_0x5335af));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x3afa06['dataType']);}_0x43721d+=_0x5335af;}const _0x54b8dd=new Uint16Array(_0x2a62ac['scale']['length']);for(let _0x365685=-0x851*-0x1+-0x2*-0x782+0xb*-0x21f;_0x365685<_0x2a62ac['scale']['length'];_0x365685++)_0x54b8dd[_0x365685]=_0x38c735(Math['exp'](_0x2a62ac['scale'][_0x365685]));_0x2a62ac['scale']=_0x54b8dd;const _0x11aaef=_0x2a62ac['rotation']['length']/(0x7b8*0x2+0x1393+-0x22ff),_0x135b24=new Float32Array(_0x11aaef*(-0x1a28+-0x4*-0x803+-0x5*0x12d));for(let _0x4e7a85=0xf33*-0x1+-0x7d*-0x9+0xace;_0x4e7a85<_0x11aaef;_0x4e7a85++){const _0x270b97=_0x4bd75a(_0x2a62ac['rotation'][_0x4e7a85*(-0x17c0+-0x1*-0x1927+-0x163)],_0x2a62ac['rotation'][_0x4e7a85*(-0x1ff2+0x1da8+0x1*0x24e)+(-0x1264+-0x115a+0x23bf*0x1)],_0x2a62ac['rotation'][_0x4e7a85*(0x186*-0x5+0x2206*0x1+0x1a64*-0x1)+(-0x1e5c+0x19f*-0x9+0x2cf5)],_0x2a62ac['rotation'][_0x4e7a85*(-0x17db+-0x1936+0x3115)+(0x33*-0x89+0x2*-0xe2+0x1*0x1d12)]);_0x135b24[_0x4e7a85*(-0x14b2+0x315+0x11a0)]=_0x270b97['x'],_0x135b24[_0x4e7a85*(0x3cc+-0x52d+-0xb2*-0x2)+(0xa1e+-0x1f7c+0x155f)]=_0x270b97['y'],_0x135b24[_0x4e7a85*(-0x1659+0x1*0x1537+0x125*0x1)+(-0xc3c+-0x2*0x4db+0x15f4*0x1)]=_0x270b97['z'];}return _0x2a62ac['rotation']=_0x135b24,_0x2a62ac['color_opac'+'ity']=_0x8b0db8(_0x2a62ac['color_opac'+'ity']),_0x2a62ac['time_index']=new Float32Array(_0x13c6d5),_0x2a62ac['time_index']['fill'](_0x24817e-(-0x13a*0x15+0x1d*-0x6e+0x2639)),_0x2a62ac;},_0x4fd59c=(_0x313a37,_0x523dc3)=>{const _0x1bb0cf={};if(_0x313a37['length']===0xb*-0x351+0x218a+-0x1a*-0x1d)return _0x313a37[0x13*-0x1d7+-0x15f8+-0x38ed*-0x1];for(const _0x734884 of Object['keys'](_0x313a37[0x1b91+-0x26d*-0x1+0x2*-0xeff]))if(_0x313a37[-0x6*0x557+0x1*0x19f7+0x613][_0x734884]instanceof Float32Array||_0x313a37[0x1e2*0x12+0x3*0x684+0x2f8*-0x12][_0x734884]instanceof Uint16Array){const _0x2fec39=_0x313a37['reduce']((_0x24f381,_0x4e6c55)=>_0x24f381+_0x4e6c55[_0x734884]['length'],-0x1121+-0x5d9+0x2*0xb7d);let _0x4b6e57;_0x313a37[-0x749+-0x1de0+0x2529][_0x734884]instanceof Uint16Array?_0x4b6e57=new Uint16Array(_0x2fec39):_0x4b6e57=new Float32Array(_0x2fec39);let _0x2fe588=0x913+0xf6b+-0x187e;for(const _0x3af23f of _0x313a37)_0x4b6e57['set'](_0x3af23f[_0x734884],_0x2fe588),_0x2fe588+=_0x3af23f[_0x734884]['length'];_0x1bb0cf[_0x734884]=_0x4b6e57;}else Array['isArray'](_0x313a37[-0x4*0x95e+-0x3a9*0x6+0x3b6e][_0x734884])?_0x1bb0cf[_0x734884]=_0x313a37['flatMap'](_0x215682=>Array['from'](_0x215682[_0x734884])):_0x1bb0cf[_0x734884]=_0x313a37['map'](_0x184cd8=>_0x184cd8[_0x734884])['flat']();return _0x1bb0cf;};}class hk extends me{constructor(_0x39c68f){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x39c68f,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x6ccd40){var _0x235c6e;return(_0x235c6e=this['worker'])==null||_0x235c6e['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x6ccd40}),new Promise((_0x10c94f,_0x2144e5)=>{if(!this['worker']){_0x2144e5(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x15e682=>{if(!this['worker'])return;const {data:_0x2e1db1}=_0x15e682;if(this['manifestUr'+'l']===_0x2e1db1['url'])switch(_0x2e1db1['type']){case'onloadMani'+'fest':_0x10c94f({'manifest':_0x2e1db1['data'],'url':_0x2e1db1['url'],'representation':_0x2e1db1['representa'+'tion']});break;case'error':_0x2144e5(_0x2e1db1['data']);break;}};});}['loadGsdSeg'+'ments'](_0x2b544d,_0x446bbc){var _0x377b6d;return(_0x377b6d=this['worker'])==null||_0x377b6d['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x219c81,_0x4b4a0c)=>{if(!this['worker']){_0x4b4a0c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2c8027=>{if(!this['worker'])return;const {data:_0x2cf900}=_0x2c8027;if(this['manifestUr'+'l']===_0x2cf900['url'])switch(_0x2cf900['type']){case'progress':_0x2b544d==null||_0x2b544d(_0x2cf900['bytes'],_0x2cf900['totalLengt'+'h'],_0x2cf900['url']);break;case'loadGsdSeg'+'mentsDone':_0x219c81(_0x2cf900['data']);break;case'error':_0x446bbc==null||_0x446bbc(_0x2cf900['data'],_0x2cf900['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x2a70ab,_0x323c79,_0x2f0e37){var _0x3ac9b2;return(_0x3ac9b2=this['worker'])==null||_0x3ac9b2['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x2a70ab}),new Promise((_0x4aacf3,_0x3ebf5d)=>{if(!this['worker']){_0x3ebf5d(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0xc63365=>{if(!this['worker'])return;const {data:_0x43cac0}=_0xc63365;if(this['manifestUr'+'l']===_0x43cac0['url'])switch(_0x43cac0['type']){case'progress':_0x323c79==null||_0x323c79(_0x43cac0['bytes'],_0x43cac0['totalLengt'+'h'],_0x43cac0['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x4aacf3(_0x43cac0);break;case'error':_0x2f0e37==null||_0x2f0e37(_0x43cac0['data'],_0x43cac0['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x1*-0x113e+-0x7f6+0x1934));}}const Xh=class Xh{constructor(_0x1bb736,_0x107e07,_0x3b4bb3){h(this,'lastLoadIn'+'dex',0xf97+-0x1*-0xb23+0x16*-0x137),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x1bb736,this['representa'+'tion']=_0x107e07,this['gsdAssetPa'+'rser']=_0x3b4bb3,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x1bb736,_0x107e07));}['getSegment'+'Timeline'](_0x48d460,_0x346cf1){let _0x1a938b=null;for(const _0x29ebef of _0x48d460['adaptation'+'Sets'])if(_0x29ebef['contentTyp'+'e']==='4dgs'){for(const _0x45b059 of _0x29ebef['representa'+'tions'])if(_0x45b059['id']===_0x346cf1){_0x1a938b=_0x45b059;break;}break;}if(!_0x1a938b)throw new Error('Representa'+'tion\x20\x27'+_0x346cf1+('\x27\x20not\x20foun'+'d'));return _0x1a938b['segmentTem'+'plate'][-0x1b59+0x100+-0x47*-0x5f]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x29bd07){const _0x2a5451=this['findSegmen'+'tTimeline'](_0x29bd07);if(!_0x2a5451)return;const _0x41644f=_0x2a5451['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x8ed+-0x24ee+0x1c02)?_0x2a5451['timelineIn'+'dex']+(0x1*-0x1f71+0x30b*0x1+0x1c67):0x6*-0x3f5+-0x775*0x1+0x1f33;this['lastLoadIn'+'dex']!==_0x41644f&&(this['lastLoadIn'+'dex']=_0x41644f,this['loadNextSe'+'gment'](_0x41644f));}async['loadNextSe'+'gment'](_0x23786c){const _0xbe4f59=[];for(let _0x2223be=-0x461*-0x1+0x14cc+-0x192d;_0x2223be<Xh['CACHE_COUN'+'T'];_0x2223be++)_0xbe4f59['push']((_0x23786c+_0x2223be)%this['segmentTim'+'elines']['length']);const _0x4dbb8c=_0xbe4f59[_0xbe4f59['length']-(-0x955*-0x1+-0x20e6+-0x35e*-0x7)],_0x327d6b=this['segmentTim'+'elines'][_0x4dbb8c]['t']+this['segmentTim'+'elines'][_0x4dbb8c]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0xbe4f59,_0x327d6b);}['findSegmen'+'tTimeline'](_0xaaec04){let _0x4bef2f=0x23c7+0x157*-0xe+-0x1105,_0xaaef9e=this['segmentTim'+'elines']['length']-(-0x1a6+-0x1*0x4f5+-0x24*-0x2f);for(;_0x4bef2f<=_0xaaef9e;){const _0x12b247=_0x4bef2f+_0xaaef9e>>-0x632+0x1a2f*0x1+-0x13fc,{t:_0x4fb1b8,d:_0x59877f}=this['segmentTim'+'elines'][_0x12b247];if(_0xaaec04<_0x4fb1b8)_0xaaef9e=_0x12b247-(-0x151d+0xe5b+0x6c3);else{if(_0xaaec04>=_0x4fb1b8+_0x59877f)_0x4bef2f=_0x12b247+(0x0+-0x347+-0xc*-0x46);else return{'timeline':this['segmentTim'+'elines'][_0x12b247],'timelineIndex':_0x12b247};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x411+-0x4cb*0x3+-0x1b*-0x62);let Wu=Xh;class dk{constructor(_0x21bafd,_0x3b1f64){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x335*0x7+0x8*-0x353+0x310c)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x21bafd,this['maxRetries']=_0x3b1f64,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x16a5*0x1+-0x1*0x2644+0x3ce9,this['manifest']={});}async['load'](_0x573f86,_0x162d10,_0x3d20e8){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x573f86['load']);const _0x418aaa=_0x3d20e8['data']['events'];this['events']=_0x418aaa,this['asset']=_0x3d20e8,this['callback']=_0x162d10,this['timeOption']=_0x3d20e8['data']['timeOption'];let _0x3e1668=_0x3d20e8['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x573f86['load']);const _0x3383b8=await this['readWorker']['loadGsdMan'+'ifest'](_0x3e1668);this['manifest']=_0x3383b8['manifest'],_0x3e1668=_0x3383b8['manifest']['representa'+'tion']||_0x3e1668,this['schedule']=new Wu(this['manifest'],_0x3e1668,this),this['totalRecei'+'vedCount']=0x1b48+0x1d94+-0x38dc;const _0x5a3dcc=this['getSegment'+'Timeline'](this['manifest'],_0x3e1668),_0x3f6933=_0x5a3dcc[-0x4*0x4ff+0x1*0x1eeb+-0xaef]['t']+_0x5a3dcc[0x237c+-0xd47+-0x1635]['d'];this['appendload'+'DataTask']([-0x21a8+0x424+-0x4*-0x761,-0x17*-0xd3+-0x191+-0x1163],_0x3f6933),_0x418aaa['on']('timeChange'+'d',_0x91fab6=>{var _0x5d2074;(_0x5d2074=this['schedule'])==null||_0x5d2074['onTimeChan'+'ged'](_0x91fab6);});}['getSegment'+'Timeline'](_0x26df2b,_0x2f764b){let _0x16e884=null;for(const _0x34c54c of _0x26df2b['adaptation'+'Sets'])if(_0x34c54c['contentTyp'+'e']==='4dgs'){for(const _0x234802 of _0x34c54c['representa'+'tions'])if(_0x234802['id']===_0x2f764b){_0x16e884=_0x234802;break;}break;}if(!_0x16e884)throw new Error('Representa'+'tion\x20\x27'+_0x2f764b+('\x27\x20not\x20foun'+'d'));return _0x16e884['segmentTem'+'plate'][0x1d7a+0x8*-0x21e+-0xc8a]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x52bcd7,_0x129a45){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x52bcd7,'loadedTime':_0x129a45}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x650*-0x1+-0x2*0x10af+0x27ae);try{for(;this['loadDataTa'+'skQueue']['length']>0xc5e*-0x1+0x133+0xb2b;){const _0x14a32e=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x14a32e);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x1dc1+-0x17ce+-0x2*-0x1ac8);}}}async['loadGsplat'+'Data'](_0x1cb666){var _0x4f71be,_0x5d6524;const {segmentIndexs:_0x3b7404,loadedTime:_0x2ca52f}=_0x1cb666,_0x385718=this['events'],_0x1ffe7f=this['asset'],_0x59fe53=this['callback'],_0x2bf01c=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x3b7404,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x1*-0x22f9+0x2*0xf31+-0x4159*0x1));try{const _0x997268=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x3b7404,(_0x9f4381,_0x23eda9)=>{this['totalRecei'+'ved']+=_0x9f4381,_0x1ffe7f&&_0x385718['fire']('progress',this['totalRecei'+'ved'],_0x23eda9);},(_0x6506e6,_0x79b390)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x79b390,_0x6506e6);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x22f9*-0x1+-0x57f*0x4+0x3*0x12fd),_0x997268['data']['elements'][-0x1e34+-0x303+0x1*0x2137]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x997268['data']['elements'][0x3*-0x237+-0x196*0xe+0x1cd9]['count']*(-0x2b12+0x289*0x11+0x2709))['toFixed'](0x71d+-0x8ca+-0x1*-0x1af));const _0x2dd920=_0x997268['data'];if(_0x2dd920['elements'][0x1a3a+-0x2*0xebb+0x33c*0x1]['count']===-0x1996+0xa9*0x26+0x80)return;this['totalRecei'+'vedCount']+=_0x2dd920['elements'][0x232a+0x192f+-0x7*0x89f]['count'];const _0x409e17=new iC(_0x2dd920['elements'],_0x2dd920['comments']);_0x1ffe7f['fire']('load:data',_0x409e17);const _0x2001c4=_0x1ffe7f['data']['createTime']!==((_0x5d6524=(_0x4f71be=this['onlyOneAss'+'et'])==null?void(-0x12e8+-0x49d*0x3+0x53*0x65):_0x4f71be['data'])==null?void(0x9d0+-0x1537+0x8b*0x15):_0x5d6524['createTime']);this['gsplatReso'+'urce']&&!_0x2001c4?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x409e17,_0x2bf01c,_0x2ca52f,_0x1ffe7f)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x409e17),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x2bf01c,this['onlyOneAss'+'et']=_0x1ffe7f,_0x59fe53&&_0x59fe53(null,this['gsplatReso'+'urce']),_0x385718['fire']('loadAllAss'+'etsDone'));}catch(_0x24dc1e){console['error']('loadGsplat'+'Data','error',_0x24dc1e),_0x59fe53&&_0x59fe53(_0x24dc1e,null);}}['open'](_0x440c7f,_0x5a3c1d){return _0x5a3c1d;}}class fk extends Qe{constructor(_0x211e42){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x211e42,'gsplat'),this['parsers']={'ply':new lk(_0x211e42,0x1*0xb9e+-0x20b4+-0x1*-0x1519),'json':new dk(_0x211e42,0x1d*-0x98+-0x2539*-0x1+-0x9ff*0x2)};}['_getUrlWit'+'houtParams'](_0x572cfd){return _0x572cfd['indexOf']('?')>=-0xe51*-0x2+-0x2599+-0x1*-0x8f7?_0x572cfd['split']('?')[-0x980+-0x1ae9+-0x3*-0xc23]:_0x572cfd;}['_getParser'](_0x5ef5d2){const _0x393608=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5ef5d2))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x393608]||this['parsers']['ply'];}['load'](_0x348abf,_0x591edc,_0x249ab8){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x348abf=='string'&&(_0x348abf={'load':_0x348abf,'original':_0x348abf}),this['_getParser'](_0x348abf['original'])['load'](_0x348abf,_0x591edc,_0x249ab8);}['open'](_0x5931a0,_0x2af0eb,_0x3fef42){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x2af0eb;}}class $u{static['setCompres'+'sedPRS'](_0x133644,_0x4a5c1e,_0x2e8b22){const _0x519a13=_0x2e8b22['singleVecs'];let _0x3cd5d4,_0xaffda3;const _0x4a72b1=_0x4a5c1e['___1'];_0x4a72b1||(_0x3cd5d4=_0x2e8b22['tripleVecs'],_0xaffda3=_0x4a5c1e['___2']);let _0xf536e4=_0x4a72b1?_0x4a72b1[-0xd3*-0x7+-0xd58+0x793]:_0x3cd5d4[_0xaffda3];_0x133644['setLocalPo'+'sition'](_0x519a13[_0xf536e4],_0x519a13[_0xf536e4+(0x2365+0x8d2*-0x3+-0x8ee)],_0x519a13[_0xf536e4+(0x1f*-0x2b+0x5d3+-0x27*0x4)]),_0xf536e4=_0x4a72b1?_0x4a72b1[0x1*-0x151+-0xcdf+0xe31]:_0x3cd5d4[_0xaffda3+(0x3*-0xfd+0x1d24+-0xd16*0x2)],_0x133644['setLocalEu'+'lerAngles'](_0x519a13[_0xf536e4],_0x519a13[_0xf536e4+(0x83+0x153a+-0x1*0x15bc)],_0x519a13[_0xf536e4+(-0x1d7d+0x2ab*-0x8+0x32d7)]),_0xf536e4=_0x4a72b1?_0x4a72b1[-0x3*0x16e+-0x1213*-0x2+0xfed*-0x2]:_0x3cd5d4[_0xaffda3+(-0x1*0x138f+0x237d+0x7f6*-0x2)],_0x133644['setLocalSc'+'ale'](_0x519a13[_0xf536e4],_0x519a13[_0xf536e4+(-0x27*-0xc1+-0x212c+0x142*0x3)],_0x519a13[_0xf536e4+(0x1cda+-0xf4c+-0xd8c)]);}static['oneCharToK'+'ey'](_0x3bd609,_0xdc5ca0){const _0x5f1797=_0x3bd609['charCodeAt'](-0x1*-0x4cb+-0x1dbc+0x18f1)-_0xdc5ca0['fieldFirst'+'Code'];return _0xdc5ca0['fieldArray'][_0x5f1797];}static['multCharTo'+'Key'](_0x548889,_0x2f5f83){let _0x57f45c=0x9f3+0xadb+-0x14ce;for(let _0x47d1a3=-0x14da+-0x1*-0x70+0x146a;_0x47d1a3<_0x548889['length'];_0x47d1a3++)_0x57f45c=_0x57f45c*_0x2f5f83['fieldCodeB'+'ase']+_0x548889['charCodeAt'](_0x47d1a3)-_0x2f5f83['fieldFirst'+'Code'];return _0x2f5f83['fieldArray'][_0x57f45c];}}class Uh{constructor(_0x309d1d,_0x105848){this['_node']=_0x309d1d,this['_data']=_0x105848;}['run'](){const _0xa0e096=Object['prototype']['toString']['call'](this['_node']);return _0xa0e096==='[object\x20Ob'+'ject]'?this['_handleMap']():_0xa0e096==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x11de7f){let _0x3f2f30=_0x11de7f;const _0x302a05=_0x11de7f['length'];_0x302a05===-0x1*0x6f1+-0xb*-0x15b+0x7f7*-0x1?_0x3f2f30=$u['oneCharToK'+'ey'](_0x11de7f,this['_data']):_0x302a05===-0x2012*0x1+0xd5f+0x12b5*0x1&&(_0x3f2f30=$u['multCharTo'+'Key'](_0x11de7f,this['_data'])),this['_result'][_0x3f2f30]=new Uh(this['_node'][_0x11de7f],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x5d8589){const _0x4a7971=new Uh(_0x5d8589,this['_data'])['run']();this['_result']['push'](_0x4a7971);}}class bm{constructor(_0x1fc495,_0x5a9a00){this['_app']=_0x1fc495,this['_isTemplat'+'e']=_0x5a9a00;}['parse'](_0x3e66eb){const _0x3dd664={};let _0x2e8b7b=null;const _0x4815e1=_0x3e66eb['compressed'+'Format'];_0x4815e1&&!_0x3e66eb['entDecompr'+'essed']&&(_0x3e66eb['entDecompr'+'essed']=!(-0x1b3e+0x91+0x1*0x1aad),_0x3e66eb['entities']=new Uh(_0x3e66eb['entities'],_0x4815e1)['run']());for(const _0x3ea791 in _0x3e66eb['entities']){const _0x3ddc02=_0x3e66eb['entities'][_0x3ea791],_0x55126e=this['_createEnt'+'ity'](_0x3ddc02,_0x4815e1);_0x3dd664[_0x3ea791]=_0x55126e,_0x3ddc02['parent']===null&&(_0x2e8b7b=_0x55126e);}for(const _0x565de6 in _0x3e66eb['entities']){const _0x5ae1dc=_0x3dd664[_0x565de6],_0x5acf8a=_0x3e66eb['entities'][_0x565de6]['children'],_0x219b49=_0x5acf8a['length'];for(let _0x421600=-0x3*0x377+0x2*0x133c+-0x1c13;_0x421600<_0x219b49;_0x421600++){const _0x57d298=_0x3dd664[_0x5acf8a[_0x421600]];_0x57d298&&_0x5ae1dc['addChild'](_0x57d298);}}return this['_openCompo'+'nentData'](_0x2e8b7b,_0x3e66eb['entities']),_0x2e8b7b;}['_createEnt'+'ity'](_0x329ae6,_0x3bbfe3){const _0x51c59f=new lt(_0x329ae6['name'],this['_app']);if(_0x51c59f['setGuid'](_0x329ae6['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x51c59f,_0x329ae6,_0x3bbfe3),_0x51c59f['_enabled']=_0x329ae6['enabled']??!(0x2d+-0x24*0x36+0x76b),this['_isTemplat'+'e']?_0x51c59f['_template']=!(0x94b+-0x49*-0x46+-0x1d41):_0x51c59f['_enabledIn'+'Hierarchy']=_0x51c59f['_enabled'],_0x51c59f['template']=_0x329ae6['template'],_0x329ae6['tags']){for(let _0x2d2344=0x193*-0xe+0xc39+0x9d1;_0x2d2344<_0x329ae6['tags']['length'];_0x2d2344++)_0x51c59f['tags']['add'](_0x329ae6['tags'][_0x2d2344]);}return _0x51c59f;}['_setPosRot'+'Scale'](_0x2b3412,_0xdb6a6e,_0x39d599){if(_0x39d599)$u['setCompres'+'sedPRS'](_0x2b3412,_0xdb6a6e,_0x39d599);else{const _0xd04330=_0xdb6a6e['position'],_0x5d67d7=_0xdb6a6e['rotation'],_0x175578=_0xdb6a6e['scale'];_0x2b3412['setLocalPo'+'sition'](_0xd04330[0x22f7+0x1ba4+0x155*-0x2f],_0xd04330[-0x116*0x16+0x13e4*0x1+-0xcd*-0x5],_0xd04330[-0x2443*0x1+0x14b6+0xf8f]),_0x2b3412['setLocalEu'+'lerAngles'](_0x5d67d7[-0x14ad+0x11ad+0x6*0x80],_0x5d67d7[0xb*-0x10d+0x1e80+0x2*-0x978],_0x5d67d7[-0x758+-0x65f+-0x493*-0x3]),_0x2b3412['setLocalSc'+'ale'](_0x175578[0x3*0x8c3+-0x18f8+-0x151],_0x175578[-0x104c+0x649*0x4+0x1f*-0x49],_0x175578[0x739*0x1+-0x1*-0xf35+0x23e*-0xa]);}}['_openCompo'+'nentData'](_0x23d847,_0x1f89ee){const _0x1f70d3=this['_app']['systems']['list'];let _0x3361c3=_0x1f70d3['length'];const _0x2faade=_0x1f89ee[_0x23d847['getGuid']()];for(let _0x546ec3=0x31*-0x41+0x653*0x1+0x61e*0x1;_0x546ec3<_0x3361c3;_0x546ec3++){const _0x5b97eb=_0x1f70d3[_0x546ec3],_0x3724d5=_0x2faade['components'][_0x5b97eb['id']];_0x3724d5&&_0x5b97eb['addCompone'+'nt'](_0x23d847,_0x3724d5);}_0x3361c3=_0x2faade['children']['length'];const _0x175e18=_0x23d847['_children'];for(let _0x2125d0=0x1*0x7cf+0xa43+-0x606*0x3;_0x2125d0<_0x3361c3;_0x2125d0++)_0x175e18[_0x2125d0]?_0x175e18[_0x2125d0]=this['_openCompo'+'nentData'](_0x175e18[_0x2125d0],_0x1f89ee):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x23d847['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x23d847;}}class E0{static['load'](_0x3941d7,_0x557e3f,_0x20f5da){typeof _0x3941d7=='string'&&(_0x3941d7={'load':_0x3941d7,'original':_0x3941d7}),ot['get'](_0x3941d7['load'],{'retry':_0x557e3f>0x10a0+-0x342*-0x7+-0x276e,'maxRetries':_0x557e3f},(_0x1de2c2,_0x3d14d8)=>{if(!_0x1de2c2)_0x20f5da(_0x1de2c2,_0x3d14d8);else{let _0x57ea44='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x3941d7['original'];_0x1de2c2['message']?(_0x57ea44+=':\x20'+_0x1de2c2['message'],_0x1de2c2['stack']&&(_0x57ea44+='\x0a'+_0x1de2c2['stack'])):_0x57ea44+=':\x20'+_0x1de2c2,_0x20f5da(_0x57ea44);}});}}class uk extends Qe{constructor(_0x230139){super(_0x230139,'hierarchy');}['load'](_0x2d4d67,_0x102134){E0['load'](_0x2d4d67,this['maxRetries'],_0x102134);}['open'](_0x4a6579,_0x56f839){this['_app']['systems']['script']['preloading']=!(0xcc6+0x1d3c+-0x11b*0x26);const _0x226598=new bm(this['_app'],!(0x9b3*-0x2+-0x148d+0x27f4*0x1))['parse'](_0x56f839);return this['_app']['systems']['script']['preloading']=!(-0x2db*0x4+0x4f*-0x33+-0x1*-0x1b2a),_0x226598;}}class pk extends Qe{constructor(_0x509f66){super(_0x509f66,'html'),h(this,'decoder',null);}['load'](_0xca294d,_0x31a765){typeof _0xca294d=='string'&&(_0xca294d={'load':_0xca294d,'original':_0xca294d}),ot['get'](_0xca294d['load'],{'retry':this['maxRetries']>0x83e*0x1+0x1*0x1a33+-0x2271,'maxRetries':this['maxRetries']},(_0x361fe7,_0x4f1100)=>{_0x361fe7?_0x31a765('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0xca294d['original']+'\x20['+_0x361fe7+']'):_0x31a765(null,_0x4f1100);});}['openBinary'](_0x29697f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x29697f);}}class mk extends Qe{constructor(_0x5f270f){super(_0x5f270f,'json'),h(this,'decoder',null);}['load'](_0x2cf144,_0x13f5a7){typeof _0x2cf144=='string'&&(_0x2cf144={'load':_0x2cf144,'original':_0x2cf144});const _0x2367ec={'retry':this['maxRetries']>0x1ac3+-0x1a97+0x1*-0x2c,'maxRetries':this['maxRetries']};_0x2cf144['load']['startsWith']('blob:')&&(_0x2367ec['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2cf144['load'],_0x2367ec,(_0x495eb7,_0x3f4457)=>{_0x495eb7?_0x13f5a7('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x2cf144['original']+'\x20['+_0x495eb7+']'):_0x13f5a7(null,_0x3f4457);});}['openBinary'](_0x1675e3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x1675e3));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x160f+0x21e+0x13f1),this['valid']=!(-0x1*0x1325+0x23b9+-0x425*0x4),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x43a867,_0x558427){this['valid']=!(0x1139+-0x1cd4+-0x5ce*-0x2),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x43a867,_0x558427[_0x43a867]),this['removeInva'+'lid']&&delete _0x558427[_0x43a867];}['validate'](_0x28ccc6){const _0x5d65ce=$n,_0x3e79fc=gb,_0x31efed=_0x28ccc6['mappingFor'+'mat']==='path';for(const _0x1244b2 in _0x28ccc6){const _0x3f3d75=_0x5d65ce[_0x1244b2];if(!_0x3f3d75){_0x3e79fc[_0x1244b2]?delete _0x28ccc6[_0x1244b2]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x1244b2),this['valid']=!(-0x1*-0x18a9+0x1f33+0x4f*-0xb5));continue;}if(_0x3f3d75['startsWith']('enum')){const _0xc6d6c6=_0x3f3d75['split'](':')[-0x1b2e+-0x244+0x1d73];this['enumValida'+'tors'][_0xc6d6c6]&&(this['enumValida'+'tors'][_0xc6d6c6](_0x28ccc6[_0x1244b2])||this['setInvalid'](_0x1244b2,_0x28ccc6));}else{if(_0x3f3d75==='number')typeof _0x28ccc6[_0x1244b2]!='number'&&this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='boolean')typeof _0x28ccc6[_0x1244b2]!='boolean'&&this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='string')typeof _0x28ccc6[_0x1244b2]!='string'&&this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='vec2')_0x28ccc6[_0x1244b2]instanceof Array&&_0x28ccc6[_0x1244b2]['length']===0x14da+0x9a9+-0x1e81*0x1||this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='rgb')_0x28ccc6[_0x1244b2]instanceof Array&&_0x28ccc6[_0x1244b2]['length']===-0x1f4c+0x1fcc+-0x5*0x19||this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='texture')_0x31efed?typeof _0x28ccc6[_0x1244b2]=='string'||_0x28ccc6[_0x1244b2]===null||_0x28ccc6[_0x1244b2]instanceof _e||this['setInvalid'](_0x1244b2,_0x28ccc6):typeof _0x28ccc6[_0x1244b2]=='number'||_0x28ccc6[_0x1244b2]===null||_0x28ccc6[_0x1244b2]instanceof _e||this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='boundingbo'+'x')_0x28ccc6[_0x1244b2]['center']&&_0x28ccc6[_0x1244b2]['center']instanceof Array&&_0x28ccc6[_0x1244b2]['center']['length']===0x171e+0x2a*-0x25+-0x59*0x31||this['setInvalid'](_0x1244b2,_0x28ccc6),_0x28ccc6[_0x1244b2]['halfExtent'+'s']&&_0x28ccc6[_0x1244b2]['halfExtent'+'s']instanceof Array&&_0x28ccc6[_0x1244b2]['halfExtent'+'s']['length']===0x17*0x8e+-0x2618+0x1959||this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='cubemap')typeof _0x28ccc6[_0x1244b2]=='number'||_0x28ccc6[_0x1244b2]===null||_0x28ccc6[_0x1244b2]===void(0x5*-0x34b+-0x21bc+0x47*0xb5)||_0x28ccc6[_0x1244b2]instanceof _e&&_0x28ccc6[_0x1244b2]['cubemap']||this['setInvalid'](_0x1244b2,_0x28ccc6);else{if(_0x3f3d75==='chunks'){const _0x3cbadd=Object['keys'](_0x28ccc6[_0x1244b2]);for(let _0x568a55=-0x2df*-0x7+-0x1fcf*0x1+0xbb6;_0x568a55<_0x3cbadd['length'];_0x568a55++)typeof _0x28ccc6[_0x1244b2][_0x3cbadd[_0x568a55]]!='string'&&this['setInvalid'](_0x3cbadd[_0x568a55],_0x28ccc6[_0x1244b2]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x3f3d75);}}}}}}}}}}return _0x28ccc6['validated']=!(-0x568+-0x1b19+-0x35*-0x9d),this['valid'];}['_createEnu'+'mValidator'](_0x32a37){return function(_0x18c156){return _0x32a37['indexOf'](_0x18c156)>=0xa4c+-0x1c07+0x11bb;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x431297){const _0x5a51ed=this['migrate'](_0x431297),_0xf5d572=this['_validate'](_0x5a51ed),_0x3d5930=new Ut();return this['initialize'](_0x3d5930,_0xf5d572),_0x3d5930;}['initialize'](_0x238e0e,_0x3c3068){if(_0x3c3068['validated']||(_0x3c3068=this['_validate'](_0x3c3068)),_0x3c3068['chunks']&&_0x3c3068['chunks']&&Object['keys'](_0x3c3068['chunks'])['length']>-0x1c67+0x24b3+-0x84c){const _0x2ad92b=_0x238e0e['shaderChun'+'ks']['glsl'];Object['entries'](_0x3c3068['chunks'])['forEach'](([_0x571064,_0x3ac76d])=>_0x2ad92b['set'](_0x571064,_0x3ac76d));}for(const _0x5f34d7 in _0x3c3068){const _0x14e1e9=$n[_0x5f34d7],_0x5a052b=_0x3c3068[_0x5f34d7];if(_0x14e1e9==='vec2')_0x238e0e[_0x5f34d7]=new J(_0x5a052b[-0x15e*0x19+0x2b1*-0x2+0x2790],_0x5a052b[0x1788+-0x224e+-0xac7*-0x1]);else{if(_0x14e1e9==='rgb')_0x238e0e[_0x5f34d7]=new ie(_0x5a052b[0x3*0x456+-0x5*-0x59+-0xebf],_0x5a052b[0x1440+0x1359+-0x2798],_0x5a052b[0x65*0x60+-0x133d+0x1*-0x12a1]);else{if(_0x14e1e9==='texture')_0x5a052b instanceof _e?_0x238e0e[_0x5f34d7]=_0x5a052b:_0x238e0e[_0x5f34d7]instanceof _e&&typeof _0x5a052b=='number'&&_0x5a052b>0x5e+0xe21+-0xe7f||(_0x238e0e[_0x5f34d7]=null);else{if(_0x14e1e9==='cubemap')_0x5a052b instanceof _e?_0x238e0e[_0x5f34d7]=_0x5a052b:_0x238e0e[_0x5f34d7]instanceof _e&&typeof _0x5a052b=='number'&&_0x5a052b>-0x3d*0xe+-0x208d+0x23e3||(_0x238e0e[_0x5f34d7]=null),_0x5f34d7==='cubeMap'&&!_0x5a052b&&(_0x238e0e['prefiltere'+'dCubemaps']=null);else{if(_0x14e1e9==='boundingbo'+'x'){const _0x363733=new D(_0x5a052b['center'][0x343*-0x1+0x1571*-0x1+-0x3*-0x83c],_0x5a052b['center'][-0x1cfd+-0x265f+-0x5*-0xd79],_0x5a052b['center'][-0x1*-0x1bc+-0x1*-0xbfe+0x4*-0x36e]),_0x3d843b=new D(_0x5a052b['halfExtent'+'s'][0xbc6*-0x2+0x51*0xc+0x13c0],_0x5a052b['halfExtent'+'s'][-0x946+0x3*-0x10f+-0x31d*-0x4],_0x5a052b['halfExtent'+'s'][-0x1*-0x1651+0x2*-0xaef+-0x71]);_0x238e0e[_0x5f34d7]=new De(_0x363733,_0x3d843b);}else _0x238e0e[_0x5f34d7]=_0x3c3068[_0x5f34d7];}}}}}_0x238e0e['update']();}['migrate'](_0x2b755a){_0x2b755a['shader']&&delete _0x2b755a['shader'],_0x2b755a['mapping_fo'+'rmat']&&(_0x2b755a['mappingFor'+'mat']=_0x2b755a['mapping_fo'+'rmat'],delete _0x2b755a['mapping_fo'+'rmat']);let _0x35c2a7;const _0x210d76=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x35c2a7=-0x1633+-0x18*-0x36+-0x29*-0x6b;_0x35c2a7<_0x210d76['length'];_0x35c2a7++){const _0x51c577=_0x210d76[_0x35c2a7][-0x3*-0x55a+-0x79*0x33+0x80d],_0x40d1ac=_0x210d76[_0x35c2a7][0xfe*-0x1+0x2635+0xb*-0x362];_0x2b755a[_0x51c577]!==void(-0x6cd+-0x810*0x4+0x270d)&&(_0x2b755a[_0x40d1ac]===void(0xec9+0xe71*-0x1+-0x58)&&(_0x2b755a[_0x40d1ac]=_0x2b755a[_0x51c577]),delete _0x2b755a[_0x51c577]);}const _0xe711ec=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x35c2a7=0x7*-0x223+0x2562+0x1*-0x166d;_0x35c2a7<_0xe711ec['length'];_0x35c2a7++){const _0x119704=_0xe711ec[_0x35c2a7];_0x2b755a['hasOwnProp'+'erty'](_0x119704)&&delete _0x2b755a[_0x119704];}return _0x2b755a;}['_validate'](_0x289dc1){return _0x289dc1['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x289dc1)),_0x289dc1;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x1ca6f5){super(_0x1ca6f5,'material'),this['_assets']=_0x1ca6f5['assets'],this['_device']=_0x1ca6f5['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x316afa,_0x430412){typeof _0x316afa=='string'&&(_0x316afa={'load':_0x316afa,'original':_0x316afa}),ot['get'](_0x316afa['load'],{'retry':this['maxRetries']>0x5d3*0x3+0x2*-0x3f1+-0x997,'maxRetries':this['maxRetries']},(_0x52a2cc,_0x4a1178)=>{_0x52a2cc?_0x430412&&_0x430412('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x316afa['original']+'\x20['+_0x52a2cc+']'):_0x430412&&(_0x4a1178['_engine']=!(0x17d3+0xb09+-0x22dc),_0x430412(null,_0x4a1178));});}['open'](_0x39e15a,_0x24ecc4){const _0x4203f3=this['_parser']['parse'](_0x24ecc4);return _0x24ecc4['_engine']&&(_0x4203f3['_data']=_0x24ecc4,delete _0x24ecc4['_engine']),_0x4203f3;}['patch'](_0x81b0e7,_0x5b30af){_0x81b0e7['resource']['_data']&&(_0x81b0e7['_data']=_0x81b0e7['resource']['_data'],delete _0x81b0e7['resource']['_data']),_0x81b0e7['data']['name']=_0x81b0e7['name'],_0x81b0e7['resource']['name']=_0x81b0e7['name'],this['_bindAndAs'+'signAssets'](_0x81b0e7,_0x5b30af),_0x81b0e7['off']('unload',this['_onAssetUn'+'load'],this),_0x81b0e7['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x5d6ce7){delete _0x5d6ce7['data']['parameters'],delete _0x5d6ce7['data']['chunks'],delete _0x5d6ce7['data']['name'];}['_assignTex'+'ture'](_0x268db7,_0x506605,_0x5a256d){_0x506605['resource'][_0x268db7]=_0x5a256d;}['_getPlaceh'+'olderTextu'+'re'](_0x520563){const _0x336db7=Sk[_0x520563];return w['assert'](_0x336db7,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x520563),fa(this['_device'],_0x336db7);}['_assignPla'+'ceholderTe'+'xture'](_0x24675f,_0xb1de50){_0xb1de50['resource'][_0x24675f]=this['_getPlaceh'+'olderTextu'+'re'](_0x24675f);}['_onTexture'+'Load'](_0x58bda6,_0x4e327d,_0x59234f){this['_assignTex'+'ture'](_0x58bda6,_0x4e327d,_0x59234f['resource']),_0x4e327d['resource']['update']();}['_onTexture'+'Add'](_0x2afb14,_0x3841f0,_0x244381){this['_assets']['load'](_0x244381);}['_onTexture'+'RemoveOrUn'+'load'](_0x5074f8,_0x2dfdbb,_0x88e2c0){const _0x221e06=_0x2dfdbb['resource'];_0x221e06&&_0x2dfdbb['resource'][_0x5074f8]===_0x88e2c0['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5074f8,_0x2dfdbb),_0x221e06['update']());}['_assignCub'+'emap'](_0x2b8a5e,_0x1ceb30,_0x420c8a){if(_0x1ceb30['resource'][_0x2b8a5e]=_0x420c8a[0x1*0x135f+-0x1e4f+0x70*0x19],_0x2b8a5e==='cubeMap'){const _0x5190e0=_0x420c8a['slice'](-0x206f+0x1f4e+0x122);_0x5190e0['every'](_0x3d12e2=>_0x3d12e2)?_0x1ceb30['resource']['prefiltere'+'dCubemaps']=_0x5190e0:_0x5190e0[-0x21*-0xe+0x7ea*0x1+-0x26e*0x4]&&(_0x1ceb30['resource']['envAtlas']=_0x5190e0[0x17cc+0x1e9*0x2+0x23*-0xca]);}}['_onCubemap'+'Load'](_0x75a142,_0x352ac1,_0x2e6333){this['_assignCub'+'emap'](_0x75a142,_0x352ac1,_0x2e6333['resources']),this['_parser']['initialize'](_0x352ac1['resource'],_0x352ac1['data']);}['_onCubemap'+'Add'](_0x808ae2,_0x5c22b8,_0x3ee3d7){this['_assets']['load'](_0x3ee3d7);}['_onCubemap'+'RemoveOrUn'+'load'](_0x4c0fe4,_0x2105d9,_0x1a3f12){const _0x34b5ff=_0x2105d9['resource'];_0x2105d9['data']['prefiltere'+'dCubeMap12'+'8']===_0x1a3f12['resources'][-0x1db0+-0x20e6+0x3e97]&&(this['_assignCub'+'emap'](_0x4c0fe4,_0x2105d9,[null,null,null,null,null,null,null]),_0x34b5ff['update']());}['_bindAndAs'+'signAssets'](_0x3d6553,_0x3ec3a0){const _0x2e7c9f=this['_parser']['migrate'](_0x3d6553['data']),_0x417d2b=_0x3d6553['resource'],_0x4d0a40=_0x2e7c9f['mappingFor'+'mat']==='path',_0x3a85f9=Cd;let _0x144c31,_0x3848d8,_0x20cf7e;for(_0x144c31=0x9e*0x30+0x1e8c+-0x1*0x3c2c;_0x144c31<_0x3a85f9['length'];_0x144c31++){_0x3848d8=_0x3a85f9[_0x144c31],_0x20cf7e=_0x417d2b['_assetRefe'+'rences'][_0x3848d8];const _0x4d2e8d=_0x2e7c9f[_0x3848d8],_0xa33d4a=_0x417d2b[_0x3848d8],_0x1e6e42=_0xa33d4a===this['_getPlaceh'+'olderTextu'+'re'](_0x3848d8),_0xdd4ac1=_0x2e7c9f['validated'];_0x4d2e8d&&(!_0xa33d4a||!_0xdd4ac1||_0x1e6e42)?(_0x20cf7e||(_0x20cf7e=new gl(_0x3848d8,_0x3d6553,_0x3ec3a0,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x417d2b['_assetRefe'+'rences'][_0x3848d8]=_0x20cf7e),_0x4d0a40?_0x20cf7e['url']=_0x3d6553['getAbsolut'+'eUrl'](_0x4d2e8d):_0x20cf7e['id']=_0x4d2e8d,_0x20cf7e['asset']&&(_0x20cf7e['asset']['resource']?this['_assignTex'+'ture'](_0x3848d8,_0x3d6553,_0x20cf7e['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x3848d8,_0x3d6553),_0x3ec3a0['load'](_0x20cf7e['asset']))):_0x20cf7e&&(_0x4d0a40?_0x20cf7e['url']=null:_0x20cf7e['id']=null);}const _0x32fbb2=fm;for(_0x144c31=-0x15c4+-0x977+0x1f3b;_0x144c31<_0x32fbb2['length'];_0x144c31++)_0x3848d8=_0x32fbb2[_0x144c31],_0x20cf7e=_0x417d2b['_assetRefe'+'rences'][_0x3848d8],_0x2e7c9f[_0x3848d8]&&!_0x3d6553['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x20cf7e||(_0x20cf7e=new gl(_0x3848d8,_0x3d6553,_0x3ec3a0,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x417d2b['_assetRefe'+'rences'][_0x3848d8]=_0x20cf7e),_0x4d0a40?_0x20cf7e['url']=_0x2e7c9f[_0x3848d8]:_0x20cf7e['id']=_0x2e7c9f[_0x3848d8],_0x20cf7e['asset']&&(_0x20cf7e['asset']['loaded']&&this['_assignCub'+'emap'](_0x3848d8,_0x3d6553,_0x20cf7e['asset']['resources']),_0x3ec3a0['load'](_0x20cf7e['asset'])));this['_parser']['initialize'](_0x417d2b,_0x2e7c9f);}}class vk{constructor(_0x450fe9){this['_device']=_0x450fe9['device'],this['_defaultMa'+'terial']=_0x450fe9['defaultMat'+'erial'],this['_assets']=_0x450fe9['assets'];}['parse'](_0x547806,_0x4874b6,_0x4f1402){kh['parse']('filename.g'+'lb','',_0x547806,this['_device'],this['_assets'],(_0x4f1402==null?void(0x2469+-0xf4d*0x1+-0x547*0x4):_0x4f1402['options'])??{},(_0xb118f9,_0x17dec2)=>{if(_0xb118f9)_0x4874b6(_0xb118f9);else{const _0x57a3ca=yr['createMode'+'l'](_0x17dec2,this['_defaultMa'+'terial']);_0x17dec2['destroy'](),_0x4874b6(null,_0x57a3ca);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x13a1e3){this['_device']=_0x13a1e3['device'],this['_defaultMa'+'terial']=_0x13a1e3['defaultMat'+'erial'];}['parse'](_0x1ffdda,_0x7e3404){const _0x23ba32=_0x1ffdda['model'];if(!_0x23ba32){_0x7e3404(null,null);return;}if(_0x23ba32['version']<=-0x126*0x17+0x2569+-0x57f*0x2){_0x7e3404('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x47a2e2=this['_parseNode'+'s'](_0x1ffdda),_0x130d39=this['_parseSkin'+'s'](_0x1ffdda,_0x47a2e2),_0x514740=this['_parseVert'+'exBuffers'](_0x1ffdda),_0x2967ce=this['_parseInde'+'xBuffers'](_0x1ffdda,_0x514740),_0x59df43=this['_parseMorp'+'hs'](_0x1ffdda,_0x47a2e2,_0x514740),_0xf2e8e4=this['_parseMesh'+'es'](_0x1ffdda,_0x130d39['skins'],_0x59df43['morphs'],_0x514740,_0x2967ce['buffer'],_0x2967ce['data']),_0x2c37d8=this['_parseMesh'+'Instances'](_0x1ffdda,_0x47a2e2,_0xf2e8e4,_0x130d39['skins'],_0x130d39['instances'],_0x59df43['morphs'],_0x59df43['instances']),_0x4e415e=new sr();_0x4e415e['graph']=_0x47a2e2[0xdba+-0x15*-0xe7+0x5*-0x689],_0x4e415e['meshInstan'+'ces']=_0x2c37d8,_0x4e415e['skinInstan'+'ces']=_0x130d39['instances'],_0x4e415e['morphInsta'+'nces']=_0x59df43['instances'],_0x4e415e['getGraph']()['syncHierar'+'chy'](),_0x7e3404(null,_0x4e415e);}['_parseNode'+'s'](_0x530c1b){const _0x4f4e7d=_0x530c1b['model'],_0x352b43=[];let _0x4a1c71;for(_0x4a1c71=-0x425*-0x4+-0x1*0x1b41+0xaad*0x1;_0x4a1c71<_0x4f4e7d['nodes']['length'];_0x4a1c71++){const _0xd10f13=_0x4f4e7d['nodes'][_0x4a1c71],_0x35575e=new Ie(_0xd10f13['name']);_0x35575e['setLocalPo'+'sition'](_0xd10f13['position'][-0xef6+0x1f67+-0x1071],_0xd10f13['position'][-0x5*0x1d+-0x947*-0x1+-0x8b5],_0xd10f13['position'][-0xe*-0x1f+0x1219+-0x13c9]),_0x35575e['setLocalEu'+'lerAngles'](_0xd10f13['rotation'][-0x24fb+0x1*-0x25b1+0x4aac],_0xd10f13['rotation'][-0x157a+-0x1*-0xbf6+0x1*0x985],_0xd10f13['rotation'][-0x135c+0x797*0x2+-0x2*-0x218]),_0x35575e['setLocalSc'+'ale'](_0xd10f13['scale'][0x823+0xed*-0x19+0xe2*0x11],_0xd10f13['scale'][-0x25*0x45+-0x5*-0xe+0x9b4*0x1],_0xd10f13['scale'][-0x14a*0x19+-0x805*0x2+0x3046]),_0x35575e['scaleCompe'+'nsation']=!!_0xd10f13['scaleCompe'+'nsation'],_0x352b43['push'](_0x35575e);}for(_0x4a1c71=0x10d*-0x2+-0x2011+0x222c;_0x4a1c71<_0x4f4e7d['parents']['length'];_0x4a1c71++)_0x352b43[_0x4f4e7d['parents'][_0x4a1c71]]['addChild'](_0x352b43[_0x4a1c71]);return _0x352b43;}['_parseSkin'+'s'](_0x28eb45,_0x1765cf){const _0x7822f1=_0x28eb45['model'],_0x234bd7=[],_0x57715e=[];let _0x4e58bf,_0x47c29f;for(_0x4e58bf=-0x29*0x7+0x2206+0x20e7*-0x1;_0x4e58bf<_0x7822f1['skins']['length'];_0x4e58bf++){const _0x262607=_0x7822f1['skins'][_0x4e58bf],_0x4b6bff=[];for(_0x47c29f=0x1f75*0x1+-0x2433+0x4be*0x1;_0x47c29f<_0x262607['inverseBin'+'dMatrices']['length'];_0x47c29f++){const _0x4eaf9d=_0x262607['inverseBin'+'dMatrices'][_0x47c29f];_0x4b6bff[_0x47c29f]=new te()['set'](_0x4eaf9d);}const _0x258cd9=new Lv(this['_device'],_0x4b6bff,_0x262607['boneNames']);_0x234bd7['push'](_0x258cd9);const _0x211679=new Ol(_0x258cd9),_0x5e5862=[];for(_0x47c29f=-0x15c8+-0xfda*-0x1+0x2*0x2f7;_0x47c29f<_0x258cd9['boneNames']['length'];_0x47c29f++){const _0xbf96d6=_0x258cd9['boneNames'][_0x47c29f],_0x188d5d=_0x1765cf[0x13b3+0x32*-0x9+-0x5fb*0x3]['findByName'](_0xbf96d6);_0x5e5862['push'](_0x188d5d);}_0x211679['bones']=_0x5e5862,_0x57715e['push'](_0x211679);}return{'skins':_0x234bd7,'instances':_0x57715e};}['_getMorphV'+'ertexCount'](_0x433487,_0x4a4093,_0x52fa9b){for(let _0x45b5ed=0x5*-0x6a+-0xa63+0xc75;_0x45b5ed<_0x433487['meshes']['length'];_0x45b5ed++){const _0x5683bf=_0x433487['meshes'][_0x45b5ed];if(_0x5683bf['morph']===_0x4a4093)return _0x52fa9b[_0x5683bf['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x1b1cf0,_0x3654fe,_0x2978f4){const _0x50fade=_0x1b1cf0['model'],_0x29e460=[],_0xdcd030=[];let _0x2b57b5,_0x1c1577,_0x2b6cc0,_0x11def0,_0x5caae5,_0x22154e;if(_0x50fade['morphs']){const _0x25d496=function(_0x456275,_0x299435,_0x1995e4){const _0x54227d=new Float32Array(_0x1995e4*(0x1bf3+0x82*0x23+-0x2db6));for(let _0x3db734=0x196b+0xaa3*-0x2+-0x1*0x425;_0x3db734<_0x299435['length'];_0x3db734++){const _0x5cdc1a=_0x299435[_0x3db734]*(0x2587+-0xdd4+-0xbd8*0x2);_0x54227d[_0x5cdc1a]=_0x456275[_0x3db734*(0x23*-0x109+-0xe94+0x32d2)],_0x54227d[_0x5cdc1a+(-0x118c+-0x26d*0x9+-0x1*-0x2762)]=_0x456275[_0x3db734*(-0x2268+-0x52f*0x5+-0x1e2b*-0x2)+(-0xbf9+0x29*0x3d+0x235)],_0x54227d[_0x5cdc1a+(-0x1f71*-0x1+0xd*0xe5+0x8*-0x562)]=_0x456275[_0x3db734*(0x60+0x1*0x1545+-0x15a2)+(-0x1eba+-0x1*-0x907+0x15b5)];}return _0x54227d;};for(_0x2b57b5=0x1*-0x7a4+0x1d3d+-0x1599;_0x2b57b5<_0x50fade['morphs']['length'];_0x2b57b5++){for(_0x11def0=_0x50fade['morphs'][_0x2b57b5]['targets'],_0x22154e=[],_0x2b6cc0=this['_getMorphV'+'ertexCount'](_0x50fade,_0x2b57b5,_0x2978f4),_0x1c1577=0x148b+0xea*0xb+-0x1e99;_0x1c1577<_0x11def0['length'];_0x1c1577++){const _0x252a74=_0x11def0[_0x1c1577]['aabb'],_0x294398=_0x252a74['min'],_0x5a2026=_0x252a74['max'],_0x3226e7=new De(new D((_0x5a2026[0x10f8+0xbab+-0x1ca3*0x1]+_0x294398[-0x1bbe+0x520+0x243*0xa])*(-0x6de+0x193f+-0x1261+0.5),(_0x5a2026[-0xd3*0x2b+-0x2*-0xe60+0x1*0x6b2]+_0x294398[-0x1064+0x11*0x14b+-0x11e*0x5])*(-0x497+0x3d*0x45+-0xbda+0.5),(_0x5a2026[0xbb4+-0xc50+-0x4f*-0x2]+_0x294398[0x12b8*0x1+-0x8e8+-0x9ce])*(0x2bf*0x8+-0x2365+0xd6d+0.5)),new D((_0x5a2026[0x1*0x151f+-0x1f7c+-0x17b*-0x7]-_0x294398[-0x8a2+-0x20f1+-0x2993*-0x1])*(-0xf97+-0x1478+0x1*0x240f+0.5),(_0x5a2026[-0x1*-0x1a1a+-0x1dbd+0x3a4]-_0x294398[0x44*0x42+-0x1478+-0x3*-0xfb])*(0x3a*0x5+-0x3*0x7dc+0xa9*0x22+0.5),(_0x5a2026[-0x135f+0x303+0x5*0x346]-_0x294398[-0x1f*0x127+0x1*0x1bc+0x1*0x21ff])*(-0x1e2c+0x5*0x3e6+0x557*0x2+0.5))),_0x35610b=_0x11def0[_0x1c1577]['indices'];let _0x297de4=_0x11def0[_0x1c1577]['deltaPosit'+'ions'],_0x58d389=_0x11def0[_0x1c1577]['deltaNorma'+'ls'];_0x35610b&&(_0x297de4=_0x25d496(_0x297de4,_0x35610b,_0x2b6cc0),_0x58d389=_0x25d496(_0x58d389,_0x35610b,_0x2b6cc0)),_0x5caae5=new Md({'deltaPositions':_0x297de4,'deltaNormals':_0x58d389,'name':_0x11def0[_0x1c1577]['name'],'aabb':_0x3226e7}),_0x22154e['push'](_0x5caae5);}const _0x2f5473=new mm(_0x22154e,this['_device']);_0x29e460['push'](_0x2f5473);const _0x1862e9=new xa(_0x2f5473);_0xdcd030['push'](_0x1862e9);}}return{'morphs':_0x29e460,'instances':_0xdcd030};}['_parseVert'+'exBuffers'](_0x16092a){const _0x403cc5=_0x16092a['model'],_0x2bbb04=[],_0x4f33da={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x5e1250=-0x1aec*-0x1+0x105b+0x1*-0x2b47;_0x5e1250<_0x403cc5['vertices']['length'];_0x5e1250++){const _0x706304=_0x403cc5['vertices'][_0x5e1250],_0x28c619=[];for(const _0x2d9a39 in _0x706304){const _0x584e19=_0x706304[_0x2d9a39];_0x28c619['push']({'semantic':_0x4f33da[_0x2d9a39],'components':_0x584e19['components'],'type':Tk[_0x584e19['type']],'normalize':_0x4f33da[_0x2d9a39]===Wt});}const _0x5539c0=new kt(this['_device'],_0x28c619),_0x358ad1=_0x706304['position']['data']['length']/_0x706304['position']['components'],_0x2912a4=new Is(this['_device'],_0x5539c0,_0x358ad1),_0x2be443=new Uo(_0x2912a4);for(let _0x5a0c9d=-0x3*-0xab9+0xed0+-0x2efb;_0x5a0c9d<_0x358ad1;_0x5a0c9d++){for(const _0x2a3f29 in _0x706304){const _0x202315=_0x706304[_0x2a3f29];switch(_0x202315['components']){case-0x1bba+0x95b+0x1260:_0x2be443['element'][_0x4f33da[_0x2a3f29]]['set'](_0x202315['data'][_0x5a0c9d]);break;case 0x4e*0x1a+-0x1*0x174d+0xf63:_0x2be443['element'][_0x4f33da[_0x2a3f29]]['set'](_0x202315['data'][_0x5a0c9d*(-0x1457+-0x2c2*-0x8+0x1*-0x1b7)],0x3*0xc4b+0xc58+-0x3138-_0x202315['data'][_0x5a0c9d*(0x240+-0x1f80+-0x5*-0x5da)+(-0x1*0x1f8d+0x1*0x18a3+0x6eb)]);break;case 0x2372+-0x6*-0x602+-0x477b:_0x2be443['element'][_0x4f33da[_0x2a3f29]]['set'](_0x202315['data'][_0x5a0c9d*(0x6*-0x67e+0x4*-0x82b+0x47a3)],_0x202315['data'][_0x5a0c9d*(-0x17ef*-0x1+-0x45b+-0x1391)+(-0x19f1+0x2*0x90f+0x7d4)],_0x202315['data'][_0x5a0c9d*(0xef6+-0x217c+-0x16d*-0xd)+(-0x153b*-0x1+0x6b*0x3+-0x167a*0x1)]);break;case 0x1*-0x26a5+-0x91d*-0x3+0xb52:_0x2be443['element'][_0x4f33da[_0x2a3f29]]['set'](_0x202315['data'][_0x5a0c9d*(0x2605+0x9*0x198+-0x3459)],_0x202315['data'][_0x5a0c9d*(-0x1cfb+0x1826+0x4d9)+(0x117*0x10+-0x623*-0x1+-0xbc9*0x2)],_0x202315['data'][_0x5a0c9d*(-0x1*-0x1abf+-0x296+0x373*-0x7)+(0x26eb+-0x11*0x87+-0x1df2)],_0x202315['data'][_0x5a0c9d*(-0x2*-0x14d+0x1b46+-0x1ddc)+(-0x2*-0xf65+0x2705*-0x1+-0x2*-0x41f)]);break;}}_0x2be443['next']();}_0x2be443['end'](),_0x2bbb04['push'](_0x2912a4);}return _0x2bbb04;}['_parseInde'+'xBuffers'](_0x137792,_0x18a805){const _0x5b6319=_0x137792['model'];let _0x5743ed=null,_0x1db586=null,_0x174006,_0x2fbdf0=-0x1f*-0xe1+0x2698+-0x41d7;for(_0x174006=-0x8*-0x4d9+0x1*-0x295+-0x2433;_0x174006<_0x5b6319['meshes']['length'];_0x174006++){const _0x2b8225=_0x5b6319['meshes'][_0x174006];_0x2b8225['indices']!==void(-0x21+-0x13*0x1a+-0x11*-0x1f)&&(_0x2fbdf0+=_0x2b8225['indices']['length']);}let _0x2711c0=0xed3+0x1907*0x1+-0x27da*0x1;for(_0x174006=-0x617*0x3+0xb44+0x701*0x1;_0x174006<_0x18a805['length'];_0x174006++)_0x2711c0=Math['max'](_0x2711c0,_0x18a805[_0x174006]['numVertice'+'s']);return _0x2fbdf0>-0xaa9+-0x10c*-0x1+-0x99d*-0x1&&(_0x2711c0>-0x1b3e5+-0x9d*-0x2f2+0xe57a?(_0x5743ed=new br(this['_device'],wr,_0x2fbdf0),_0x1db586=new Uint32Array(_0x5743ed['lock']())):(_0x5743ed=new br(this['_device'],Yi,_0x2fbdf0),_0x1db586=new Uint16Array(_0x5743ed['lock']()))),{'buffer':_0x5743ed,'data':_0x1db586};}['_parseMesh'+'es'](_0x4423b8,_0xbaa2b5,_0xae2bfc,_0x3b0b16,_0x563c7f,_0x14b405){const _0x25a8a7=_0x4423b8['model'],_0x406fed=[];let _0x539e80=-0x2*-0x5f9+0xc91+-0x1883;for(let _0x44b588=-0xb*0x2+-0x1e66+-0x79f*-0x4;_0x44b588<_0x25a8a7['meshes']['length'];_0x44b588++){const _0x273261=_0x25a8a7['meshes'][_0x44b588],_0x5390e1=_0x273261['aabb'],_0x4c3588=_0x5390e1['min'],_0x455e8b=_0x5390e1['max'],_0x209018=new De(new D((_0x455e8b[-0xbd3*0x3+-0x178f*-0x1+0x1*0xbea]+_0x4c3588[-0xb67+0x251f+-0x19b8])*(-0x23d5+-0x14dc+0x38b1+0.5),(_0x455e8b[0x1f*0x6f+0x2b*0xd3+-0x30e1]+_0x4c3588[-0x1c30+-0x13d+0x1d6e*0x1])*(-0x2421*0x1+-0x29a*0xf+-0x1*-0x4b27+0.5),(_0x455e8b[0xab5*-0x2+0xd04+-0x8*-0x10d]+_0x4c3588[-0x225+-0x240c+-0x575*-0x7])*(0xe*-0x1e3+-0x2*0x709+0x287c+0.5)),new D((_0x455e8b[0x2f*-0x35+-0x11e2+0x1b9d]-_0x4c3588[0x192f+0x25ba+0x3ee9*-0x1])*(-0x1*0x13e5+-0x59a+0x3d*0x6b+0.5),(_0x455e8b[0x1721+-0x2614*-0x1+0x2*-0x1e9a]-_0x4c3588[0x14e3+0xd*-0x77+-0x1*0xed7])*(0x1*0x183e+-0xa7*-0xb+0x47d*-0x7+0.5),(_0x455e8b[-0x1deb+0xef*0x26+-0x58d]-_0x4c3588[-0x49*-0x52+-0x12b5*0x2+-0x6*-0x257])*(-0x109a+-0x689*0x3+0x2435+0.5))),_0x2876da=_0x273261['indices']!==void(0x2*0xad7+-0xb5e+0x108*-0xa),_0x48307c=new Ge(this['_device']);_0x48307c['vertexBuff'+'er']=_0x3b0b16[_0x273261['vertices']],_0x48307c['indexBuffe'+'r'][-0x29e*-0x3+0x1056+0x8*-0x306]=_0x2876da?_0x563c7f:null,_0x48307c['primitive'][0x23*0x75+0x87d*0x1+-0x187c]['type']=xk[_0x273261['type']],_0x48307c['primitive'][0x5bb+0x1a6*-0x6+0x429]['base']=_0x2876da?_0x273261['base']+_0x539e80:_0x273261['base'],_0x48307c['primitive'][-0x1*-0x1a81+-0x47*-0x5+-0x1be4]['count']=_0x273261['count'],_0x48307c['primitive'][-0x17bb+-0x143f+0x2bfa]['indexed']=_0x2876da,_0x48307c['skin']=_0x273261['skin']!==void(0x2669*0x1+-0x1267*-0x2+-0xf0b*0x5)?_0xbaa2b5[_0x273261['skin']]:null,_0x48307c['morph']=_0x273261['morph']!==void(-0x861*-0x1+0x2*0x62b+-0x1*0x14b7)?_0xae2bfc[_0x273261['morph']]:null,_0x48307c['aabb']=_0x209018,_0x2876da&&(_0x14b405['set'](_0x273261['indices'],_0x539e80),_0x539e80+=_0x273261['indices']['length']),_0x406fed['push'](_0x48307c);}return _0x563c7f!==null&&_0x563c7f['unlock'](),_0x406fed;}['_parseMesh'+'Instances'](_0x26507d,_0x52b7ec,_0x2adff5,_0x3cf33b,_0x42d2c1,_0xf68bee,_0x10fac8){const _0x4c6272=_0x26507d['model'],_0xff0164=[];let _0x29531b;for(_0x29531b=-0x1*-0x262a+-0x5*0x55f+-0xb4f;_0x29531b<_0x4c6272['meshInstan'+'ces']['length'];_0x29531b++){const _0x505bbf=_0x4c6272['meshInstan'+'ces'][_0x29531b],_0x270c2d=_0x52b7ec[_0x505bbf['node']],_0x2de1d0=_0x2adff5[_0x505bbf['mesh']],_0x4ed30c=new He(_0x2de1d0,this['_defaultMa'+'terial'],_0x270c2d);if(_0x2de1d0['skin']){const _0x1ae017=_0x3cf33b['indexOf'](_0x2de1d0['skin']);if(_0x1ae017===-(-0x6*0x57f+0xd*-0x281+0x9*0x748))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4ed30c['skinInstan'+'ce']=_0x42d2c1[_0x1ae017];}if(_0x2de1d0['morph']){const _0x7e3287=_0xf68bee['indexOf'](_0x2de1d0['morph']);if(_0x7e3287===-(0x703+0xc44+0x1346*-0x1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4ed30c['morphInsta'+'nce']=_0x10fac8[_0x7e3287];}_0xff0164['push'](_0x4ed30c);}return _0xff0164;}}class Ek extends Qe{constructor(_0xc8332){super(_0xc8332,'model'),this['_parsers']=[],this['device']=_0xc8332['graphicsDe'+'vice'],this['assets']=_0xc8332['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x518b79,_0x36e8d7)=>xe['getExtensi'+'on'](_0x518b79)==='.json'),this['addParser'](new vk(this),(_0x143cc0,_0x536598)=>xe['getExtensi'+'on'](_0x143cc0)==='.glb');}['load'](_0x59847e,_0x8fdae4,_0x34fe0e){typeof _0x59847e=='string'&&(_0x59847e={'load':_0x59847e,'original':_0x59847e});const _0x25849f={'retry':this['maxRetries']>0x14a1+0xda5+-0x2246,'maxRetries':this['maxRetries']};(_0x59847e['load']['startsWith']('blob:')||_0x59847e['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x59847e['original'])['toLowerCas'+'e']()==='.glb'?_0x25849f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x25849f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x59847e['load'],_0x25849f,(_0xc9d793,_0x4ed68d)=>{if(_0x8fdae4){if(_0xc9d793)_0x8fdae4('Error\x20load'+'ing\x20model:'+'\x20'+_0x59847e['original']+'\x20['+_0xc9d793+']');else{for(let _0x11a61c=-0x1*-0x11d1+-0x2a5*0x3+0x4f1*-0x2;_0x11a61c<this['_parsers']['length'];_0x11a61c++){const _0x52f9d4=this['_parsers'][_0x11a61c];if(_0x52f9d4['decider'](_0x59847e['original'],_0x4ed68d)){_0x52f9d4['parser']['parse'](_0x4ed68d,(_0x5eab8d,_0x4143ad)=>{_0x5eab8d?_0x8fdae4(_0x5eab8d):_0x8fdae4(null,_0x4143ad);},_0x34fe0e);return;}}_0x8fdae4('No\x20parsers'+'\x20found');}}});}['open'](_0xb57f1d,_0x593fc6){return _0x593fc6;}['patch'](_0x5e96e5,_0x36a1d8){if(!_0x5e96e5['resource'])return;const _0x21be5d=_0x5e96e5['data'],_0x4c1852=this;_0x5e96e5['resource']['meshInstan'+'ces']['forEach']((_0x2b6f6f,_0x5d076d)=>{if(_0x21be5d['mapping']){const _0x5c8876=function(_0x55fdb3){_0x55fdb3['resource']?_0x2b6f6f['material']=_0x55fdb3['resource']:(_0x55fdb3['once']('load',_0x5c8876),_0x36a1d8['load'](_0x55fdb3)),_0x55fdb3['once']('remove',_0x459e7f=>{_0x2b6f6f['material']===_0x459e7f['resource']&&(_0x2b6f6f['material']=_0x4c1852['defaultMat'+'erial']);});};if(!_0x21be5d['mapping'][_0x5d076d]){_0x2b6f6f['material']=_0x4c1852['defaultMat'+'erial'];return;}const _0x261ffb=_0x21be5d['mapping'][_0x5d076d]['material'],_0xe0c98b=_0x21be5d['mapping'][_0x5d076d]['path'];let _0x2e3086;if(_0x261ffb!==void(-0x1b1a+0x1*-0x76d+0x2287))_0x261ffb?(_0x2e3086=_0x36a1d8['get'](_0x261ffb),_0x2e3086?_0x5c8876(_0x2e3086):_0x36a1d8['once']('add:'+_0x261ffb,_0x5c8876)):_0x2b6f6f['material']=_0x4c1852['defaultMat'+'erial'];else{if(_0xe0c98b){const _0x1b288a=_0x5e96e5['getAbsolut'+'eUrl'](_0x21be5d['mapping'][_0x5d076d]['path']);_0x2e3086=_0x36a1d8['getByUrl'](_0x1b288a),_0x2e3086?_0x5c8876(_0x2e3086):_0x36a1d8['once']('add:url:'+_0x1b288a,_0x5c8876);}}}});}['addParser'](_0x3b13b7,_0x317624){this['_parsers']['push']({'parser':_0x3b13b7,'decider':_0x317624});}}class bk extends Qe{constructor(_0x5c99a6){super(_0x5c99a6,'scene');}['load'](_0x7efa7c,_0xe7c15e){E0['load'](_0x7efa7c,this['maxRetries'],_0xe7c15e);}['open'](_0x4bc310,_0x53fd70){this['_app']['systems']['script']['preloading']=!(0x802+-0xe61+0x65f);const _0x1db170=new bm(this['_app'],!(-0x1a12+0x5fd+0x1416))['parse'](_0x53fd70),_0x34b387=this['_app']['scene'];return _0x34b387['root']=_0x1db170,this['_app']['applyScene'+'Settings'](_0x53fd70['settings']),this['_app']['systems']['script']['preloading']=!(-0x1c5+-0x1d55*0x1+0x1f1b),_0x34b387;}}const qh=class qh{static['push'](_0x32535d){qh['_types']['push'](_0x32535d);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0xdc0c6c,_0x324d4c,_0x137853)=>{Ck[_0xdc0c6c]=0x991+-0x137c*-0x2+0x1*-0x3088;});function Pk(_0x4834c8,_0x16061d,_0x47b1f5){if(typeof _0x4834c8!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x4834c8+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x4834c8['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x4834c8)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x16061d=_0x16061d||_0x4834c8['__name']||Wo['__getScrip'+'tName'](_0x4834c8),Ak['has'](_0x16061d))throw new Error('script\x20nam'+'e:\x20\x27'+_0x16061d+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x4834c8['__name']=_0x16061d,Ks['getApplica'+'tion']()['scripts']['add'](_0x4834c8),aa['push'](_0x4834c8);}const Mk=_0x8d41d6=>_0x8d41d6[0x1*-0x240e+-0x312*0x3+-0x1*-0x2d44]['toLowerCas'+'e']()+_0x8d41d6['substring'](0x946+-0x1398+0xa53);class Dk extends Qe{constructor(_0x17acc3){super(_0x17acc3,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x3d0f96 in this['_cache']){const _0x36362b=this['_cache'][_0x3d0f96],_0x77dd71=_0x36362b['parentNode'];_0x77dd71&&_0x77dd71['removeChil'+'d'](_0x36362b);}this['_cache']={};}['load'](_0x2ccc7b,_0x59bb49){typeof _0x2ccc7b=='string'&&(_0x2ccc7b={'load':_0x2ccc7b,'original':_0x2ccc7b});const _0x1c39c5=this;this['_app'];const _0xb5e84a=(_0x2ccc7b['load'],(_0x16339e,_0x3ad7c0,_0x13db79)=>{if(_0x16339e)_0x59bb49(_0x16339e);else{const _0x518489={};for(let _0x16df46=-0x14f1+-0x5b1+0x1aa2;_0x16df46<aa['_types']['length'];_0x16df46++)_0x518489[aa['_types'][_0x16df46]['name']]=aa['_types'][_0x16df46];aa['_types']['length']=0xca3*0x1+-0x246a+0x17c7,_0x59bb49(null,_0x518489,_0x13db79);const _0x2216e7=_0x3ad7c0['split']('&hash=')[0x23ca+0xb94+-0x2b*0x11a];delete _0x1c39c5['_loader']['_cache'][Cn['makeKey'](_0x2216e7,'script')];}}),[_0x7f932]=_0x2ccc7b['load']['split']('?');_0x7f932['endsWith']('.mjs')?this['_loadModul'+'e'](_0x7f932,_0xb5e84a):this['_loadScrip'+'t'](_0x2ccc7b['load'],_0xb5e84a);}['open'](_0x3cd9ac,_0x56cdaa){return _0x56cdaa;}['patch'](_0x45e779,_0x45288a){}['_loadScrip'+'t'](_0x1782bd,_0x5294d9){const _0x4d1967=document['head'],_0x46cc60=document['createElem'+'ent']('script');this['_cache'][_0x1782bd]=_0x46cc60,_0x46cc60['async']=!(-0xe*0x1a5+-0x685*-0x1+0x841*0x2),_0x46cc60['addEventLi'+'stener']('error',_0x21df10=>{_0x5294d9('Script:\x20'+_0x21df10['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0xc63+-0xa79+0x16dd));let _0x3678de=!(-0x3cb*-0x1+-0x2331+0x1f67);_0x46cc60['onload']=_0x46cc60['onreadysta'+'techange']=function(){!_0x3678de&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3678de=!(-0x1390+0x160+0x1230),_0x5294d9(null,_0x1782bd,_0x46cc60));},_0x46cc60['src']=_0x1782bd,_0x4d1967['appendChil'+'d'](_0x46cc60);}['_loadModul'+'e'](_0x40e8ac,_0x1f924a){const _0x81a8cb=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x6be980=new URL(_0x40e8ac,_0x81a8cb);import(_0x6be980['toString']())['then'](_0x209e73=>{var _0x498a03,_0x12512d;const _0x1b123e=_0x6be980['pathname']['split']('/')['pop'](),_0x335897=(_0x12512d=(_0x498a03=this['_app']['assets']['find'](_0x1b123e,'script'))==null?void(0x2f*-0x49+0x1*-0x17bf+0x2526):_0x498a03['data'])==null?void(-0x9b*-0x2e+0x2062+-0x3c*0x101):_0x12512d['scripts'];for(const _0x4d6cb0 in _0x209e73){const _0x30ac2c=_0x209e73[_0x4d6cb0];if(_0x30ac2c['prototype']instanceof ts){const _0x2dedea=Mk(_0x30ac2c['name']);_0x30ac2c['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x30ac2c['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x30ac2c['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x2dedea+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x35680c=_0x30ac2c['scriptName']??_0x2dedea;Pk(_0x30ac2c,_0x35680c),_0x335897&&this['_app']['scripts']['addSchema'](_0x35680c,_0x335897[_0x35680c]);}}_0x1f924a(null,_0x40e8ac,null);})['catch'](_0x3463f4=>{_0x1f924a(_0x3463f4);});}}class Ik extends Qe{constructor(_0x19ce9d){super(_0x19ce9d,'shader'),h(this,'decoder',null);}['load'](_0x1d2e33,_0x360050){typeof _0x1d2e33=='string'&&(_0x1d2e33={'load':_0x1d2e33,'original':_0x1d2e33}),ot['get'](_0x1d2e33['load'],{'retry':this['maxRetries']>-0x3*-0xb45+0x85f*-0x1+-0x58*0x4a,'maxRetries':this['maxRetries']},(_0x57cd0f,_0x14b6c6)=>{_0x57cd0f?_0x360050('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x1d2e33['original']+'\x20['+_0x57cd0f+']'):_0x360050(null,_0x14b6c6);});}['openBinary'](_0xd0352c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xd0352c);}}function Pf(_0x35d459){const _0x3aff6f=this;_0x3aff6f['resource']&&(_0x3aff6f['resource']['atlas']=_0x35d459['resource']);}function Mf(_0x4cb33f){this['registry']['load'](_0x4cb33f);}class Lk extends Qe{constructor(_0x47005e){super(_0x47005e,'sprite'),this['_assets']=_0x47005e['assets'],this['_device']=_0x47005e['graphicsDe'+'vice'];}['load'](_0x2e73f3,_0x2463e0){typeof _0x2e73f3=='string'&&(_0x2e73f3={'load':_0x2e73f3,'original':_0x2e73f3}),xe['getExtensi'+'on'](_0x2e73f3['original'])==='.json'&&ot['get'](_0x2e73f3['load'],{'retry':this['maxRetries']>0x1f79*-0x1+0x1ec0+0xb9,'maxRetries':this['maxRetries']},(_0x5a045e,_0x468be7)=>{_0x5a045e?_0x2463e0(_0x5a045e):_0x2463e0(null,_0x468be7);});}['open'](_0x7c8366,_0x5d3fa8){const _0x2cf669=new BA(this['_device']);return _0x7c8366&&(_0x2cf669['__data']=_0x5d3fa8),_0x2cf669;}['patch'](_0x501031,_0x42661b){const _0x2586d0=_0x501031['resource'];if(_0x2586d0['__data']&&(_0x501031['data']['pixelsPerU'+'nit']=_0x2586d0['__data']['pixelsPerU'+'nit'],_0x501031['data']['renderMode']=_0x2586d0['__data']['renderMode'],_0x501031['data']['frameKeys']=_0x2586d0['__data']['frameKeys'],_0x2586d0['__data']['textureAtl'+'asAsset'])){const _0x2c77ba=_0x42661b['getByUrl'](_0x2586d0['__data']['textureAtl'+'asAsset']);_0x2c77ba?_0x501031['data']['textureAtl'+'asAsset']=_0x2c77ba['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x2586d0['__data']['textureAtl'+'asAsset']);}_0x2586d0['startUpdat'+'e'](),_0x2586d0['renderMode']=_0x501031['data']['renderMode'],_0x2586d0['pixelsPerU'+'nit']=_0x501031['data']['pixelsPerU'+'nit'],_0x2586d0['frameKeys']=_0x501031['data']['frameKeys'],this['_updateAtl'+'as'](_0x501031),_0x2586d0['endUpdate'](),_0x501031['off']('change',this['_onAssetCh'+'ange'],this),_0x501031['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x235628){const _0x848f43=_0x235628['resource'];if(!_0x235628['data']['textureAtl'+'asAsset']){_0x848f43['atlas']=null;return;}this['_assets']['off']('load:'+_0x235628['data']['textureAtl'+'asAsset'],Pf,_0x235628),this['_assets']['on']('load:'+_0x235628['data']['textureAtl'+'asAsset'],Pf,_0x235628);const _0x34a969=this['_assets']['get'](_0x235628['data']['textureAtl'+'asAsset']);_0x34a969&&_0x34a969['resource']?_0x848f43['atlas']=_0x34a969['resource']:_0x34a969?this['_assets']['load'](_0x34a969):(this['_assets']['off']('add:'+_0x235628['data']['textureAtl'+'asAsset'],Mf,_0x235628),this['_assets']['on']('add:'+_0x235628['data']['textureAtl'+'asAsset'],Mf,_0x235628));}['_onAssetCh'+'ange'](_0x29f869,_0x1f39ea,_0x4fdf82,_0x45957f){_0x1f39ea==='data'&&_0x4fdf82&&_0x4fdf82['textureAtl'+'asAsset']&&_0x45957f&&_0x4fdf82['textureAtl'+'asAsset']!==_0x45957f['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x45957f['textureAtl'+'asAsset'],Pf,_0x29f869),this['_assets']['off']('add:'+_0x45957f['textureAtl'+'asAsset'],Mf,_0x29f869));}}class vS{constructor(_0x59be35,_0x458b28){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x59be35,this['_data']=_0x458b28);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x43efaa=new bm(this['_app'],!(0x1040+0x24ef*-0x1+0x14af));this['_templateR'+'oot']=_0x43efaa['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x1b6810){super(_0x1b6810,'template'),h(this,'decoder',null);}['load'](_0x2224f7,_0x5ad3c0){typeof _0x2224f7=='string'&&(_0x2224f7={'load':_0x2224f7,'original':_0x2224f7});const _0x89313f={'retry':this['maxRetries']>0x1*-0x9cd+0x10d*0x17+-0xe5e,'maxRetries':this['maxRetries']};ot['get'](_0x2224f7['load'],_0x89313f,(_0x37ee2e,_0x1e6542)=>{_0x37ee2e?_0x5ad3c0('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x2224f7['original']):_0x5ad3c0(_0x37ee2e,_0x1e6542);});}['open'](_0x4f72e3,_0x397319){return new vS(this['_app'],_0x397319);}['openBinary'](_0x563d8f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x563d8f)));}}class Ok extends Qe{constructor(_0xd1a1b6){super(_0xd1a1b6,'text'),h(this,'decoder',null);}['load'](_0x4b2828,_0x48a3ef){typeof _0x4b2828=='string'&&(_0x4b2828={'load':_0x4b2828,'original':_0x4b2828}),ot['get'](_0x4b2828['load'],{'retry':this['maxRetries']>-0x1e1a+-0xecb+-0x9*-0x4fd,'maxRetries':this['maxRetries']},(_0x3e63a2,_0x2071c0)=>{_0x3e63a2?_0x48a3ef('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x4b2828['original']+'\x20['+_0x3e63a2+']'):_0x48a3ef(null,_0x2071c0);});}['openBinary'](_0x2c6980){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2c6980);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x7e4109){super(_0x7e4109,'textureatl'+'as'),this['_loader']=_0x7e4109['loader'];}['load'](_0x2f8276,_0x256310){typeof _0x2f8276=='string'&&(_0x2f8276={'load':_0x2f8276,'original':_0x2f8276});const _0x378955=this,_0x1fa351=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x2f8276['original'])==='.json'?ot['get'](_0x2f8276['load'],{'retry':this['maxRetries']>-0xe4+0x1*0x8e4+0x4*-0x200,'maxRetries':this['maxRetries']},(_0x4c7aef,_0x103c5e)=>{if(_0x4c7aef)_0x256310(_0x4c7aef);else{const _0x1b3a3a=_0x2f8276['original']['replace']('.json','.png');_0x378955['_loader']['load'](_0x1b3a3a,'texture',(_0x3264c2,_0x4dbc71)=>{_0x3264c2?_0x256310(_0x3264c2):_0x256310(null,{'data':_0x103c5e,'texture':_0x4dbc71});});}}):_0x1fa351['load'](_0x2f8276,_0x256310);}['open'](_0x3c171a,_0x509ac6,_0x316e04){const _0x5dd3f0=new zA();if(_0x509ac6['texture']&&_0x509ac6['data'])_0x5dd3f0['texture']=_0x509ac6['texture'],_0x5dd3f0['__data']=_0x509ac6['data'];else{const _0x1e1380=this['_loader']['getHandler']('texture')['open'](_0x3c171a,_0x509ac6,_0x316e04);if(!_0x1e1380)return null;_0x5dd3f0['texture']=_0x1e1380;}return _0x5dd3f0;}['patch'](_0x56916a,_0x370e0c){if(!_0x56916a['resource'])return;_0x56916a['resource']['__data']&&(_0x56916a['resource']['__data']['minfilter']!==void(0x181*-0x11+-0x2*0x11a2+-0x1447*-0x3)&&(_0x56916a['data']['minfilter']=_0x56916a['resource']['__data']['minfilter']),_0x56916a['resource']['__data']['magfilter']!==void(-0xe18+-0x4e*0x11+-0x1*-0x1346)&&(_0x56916a['data']['magfilter']=_0x56916a['resource']['__data']['magfilter']),_0x56916a['resource']['__data']['addressu']!==void(-0x1*0xd9+0x1*-0x2575+0x264e*0x1)&&(_0x56916a['data']['addressu']=_0x56916a['resource']['__data']['addressu']),_0x56916a['resource']['__data']['addressv']!==void(-0x1657*0x1+0x1*-0x1faf+-0x567*-0xa)&&(_0x56916a['data']['addressv']=_0x56916a['resource']['__data']['addressv']),_0x56916a['resource']['__data']['mipmaps']!==void(0x1fd+0x7*0x167+-0xbce)&&(_0x56916a['data']['mipmaps']=_0x56916a['resource']['__data']['mipmaps']),_0x56916a['resource']['__data']['anisotropy']!==void(-0x6*0x28f+-0x1e1f*-0x1+0x1*-0xec5)&&(_0x56916a['data']['anisotropy']=_0x56916a['resource']['__data']['anisotropy']),_0x56916a['resource']['__data']['rgbm']!==void(-0x10bf*0x1+0x178f+-0xda*0x8)&&(_0x56916a['data']['rgbm']=!!_0x56916a['resource']['__data']['rgbm']),_0x56916a['data']['frames']=_0x56916a['resource']['__data']['frames'],delete _0x56916a['resource']['__data']);const _0x561885=_0x56916a['resource']['texture'];if(_0x561885&&(_0x561885['name']=_0x56916a['name'],_0x56916a['data']['hasOwnProp'+'erty']('minfilter')&&_0x561885['minFilter']!==Lc[_0x56916a['data']['minfilter']]&&(_0x561885['minFilter']=Lc[_0x56916a['data']['minfilter']]),_0x56916a['data']['hasOwnProp'+'erty']('magfilter')&&_0x561885['magFilter']!==Lc[_0x56916a['data']['magfilter']]&&(_0x561885['magFilter']=Lc[_0x56916a['data']['magfilter']]),_0x56916a['data']['hasOwnProp'+'erty']('addressu')&&_0x561885['addressU']!==Ic[_0x56916a['data']['addressu']]&&(_0x561885['addressU']=Ic[_0x56916a['data']['addressu']]),_0x56916a['data']['hasOwnProp'+'erty']('addressv')&&_0x561885['addressV']!==Ic[_0x56916a['data']['addressv']]&&(_0x561885['addressV']=Ic[_0x56916a['data']['addressv']]),_0x56916a['data']['hasOwnProp'+'erty']('mipmaps')&&_0x561885['mipmaps']!==_0x56916a['data']['mipmaps']&&(_0x561885['mipmaps']=_0x56916a['data']['mipmaps']),_0x56916a['data']['hasOwnProp'+'erty']('anisotropy')&&_0x561885['anisotropy']!==_0x56916a['data']['anisotropy']&&(_0x561885['anisotropy']=_0x56916a['data']['anisotropy']),_0x56916a['data']['hasOwnProp'+'erty']('rgbm'))){const _0xd5eba5=_0x56916a['data']['rgbm']?Zi:Ds;_0x561885['type']!==_0xd5eba5&&(_0x561885['type']=_0xd5eba5);}_0x56916a['resource']['texture']=_0x561885;const _0x1fcda4={};for(const _0x3f6972 in _0x56916a['data']['frames']){const _0x51d070=_0x56916a['data']['frames'][_0x3f6972];_0x1fcda4[_0x3f6972]={'rect':new re(_0x51d070['rect']),'pivot':new J(_0x51d070['pivot']),'border':new re(_0x51d070['border'])};}_0x56916a['resource']['frames']=_0x1fcda4,_0x56916a['off']('change',this['_onAssetCh'+'ange'],this),_0x56916a['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4556bd,_0x25ed02,_0x3615b6){let _0x33e4bf;if(_0x25ed02==='data'||_0x25ed02==='data.frame'+'s'){const _0x28de64={};for(const _0x1443e1 in _0x3615b6['frames'])_0x33e4bf=_0x3615b6['frames'][_0x1443e1],_0x28de64[_0x1443e1]={'rect':new re(_0x33e4bf['rect']),'pivot':new J(_0x33e4bf['pivot']),'border':new re(_0x33e4bf['border'])};_0x4556bd['resource']['frames']=_0x28de64;}else{const _0x160b0c=_0x25ed02['match'](Fk);if(_0x160b0c){const _0x3ceba7=_0x160b0c[-0x1*-0x241f+-0x256c+0x14e];_0x3615b6?(_0x4556bd['resource']['frames'][_0x3ceba7]?(_0x33e4bf=_0x4556bd['resource']['frames'][_0x3ceba7],_0x33e4bf['rect']['set'](_0x3615b6['rect'][-0x5*-0x634+-0x313*0x5+0x10b*-0xf],_0x3615b6['rect'][-0xa7*0x1d+-0x1*0x871+0x1d3*0xf],_0x3615b6['rect'][-0xf5+0x6c*-0x17+0xaab],_0x3615b6['rect'][-0x6ab*-0x5+0x4*-0x3c1+-0x1250]),_0x33e4bf['pivot']['set'](_0x3615b6['pivot'][-0xaf*0x15+-0xb6b*0x1+0x19c6*0x1],_0x3615b6['pivot'][0x15df+0x11dc+-0x27ba]),_0x33e4bf['border']['set'](_0x3615b6['border'][0x7*-0x485+-0xbf5+-0x7c*-0x5a],_0x3615b6['border'][-0x903+-0x2c2+0x89*0x16],_0x3615b6['border'][-0x6*0x5b2+-0xd06+0x13e*0x26],_0x3615b6['border'][0x3*0x8dd+0x1*-0x891+-0x1203])):_0x4556bd['resource']['frames'][_0x3ceba7]={'rect':new re(_0x3615b6['rect']),'pivot':new J(_0x3615b6['pivot']),'border':new re(_0x3615b6['border'])},_0x4556bd['resource']['fire']('set:frame',_0x3ceba7,_0x4556bd['resource']['frames'][_0x3ceba7])):_0x4556bd['resource']['frames'][_0x3ceba7]&&(delete _0x4556bd['resource']['frames'][_0x3ceba7],_0x4556bd['resource']['fire']('remove:fra'+'me',_0x3ceba7));}}}}function kk(){const _0x1c174c={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x4c6dfe={'astc':_0x1c174c['cTFASTC_4x'+'4'],'dxt':_0x1c174c['cTFBC1'],'etc1':_0x1c174c['cTFETC1'],'etc2':_0x1c174c['cTFETC1'],'pvr':_0x1c174c['cTFPVRTC1_'+'4_RGB'],'atc':_0x1c174c['cTFATC_RGB'],'none':_0x1c174c['cTFRGB565']},_0x380d97={'astc':_0x1c174c['cTFASTC_4x'+'4'],'dxt':_0x1c174c['cTFBC3'],'etc1':_0x1c174c['cTFRGBA444'+'4'],'etc2':_0x1c174c['cTFETC2'],'pvr':_0x1c174c['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1c174c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1c174c['cTFRGBA444'+'4']},_0x315c64={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x1a02b3=(_0x410e79,_0x791677)=>{switch(_0x410e79){case _0x1c174c['cTFETC1']:return _0x791677['formats']['etc2']?_0x315c64['ETC2_RGB']:_0x315c64['ETC1'];case _0x1c174c['cTFETC2']:return _0x315c64['ETC2_RGBA'];case _0x1c174c['cTFBC1']:return _0x315c64['DXT1'];case _0x1c174c['cTFBC3']:return _0x315c64['DXT5'];case _0x1c174c['cTFPVRTC1_'+'4_RGB']:return _0x315c64['PVRTC_4BPP'+'_RGB_1'];case _0x1c174c['cTFPVRTC1_'+'4_RGBA']:return _0x315c64['PVRTC_4BPP'+'_RGBA_1'];case _0x1c174c['cTFASTC_4x'+'4']:return _0x315c64['ASTC_4x4'];case _0x1c174c['cTFATC_RGB']:return _0x315c64['ATC_RGB'];case _0x1c174c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x315c64['ATC_RGBA'];case _0x1c174c['cTFRGBA32']:return _0x315c64['R8_G8_B8_A'+'8'];case _0x1c174c['cTFRGB565']:return _0x315c64['R5_G6_B5'];case _0x1c174c['cTFRGBA444'+'4']:return _0x315c64['R4_G4_B4_A'+'4'];}},_0x3ca65a=_0x1c03dd=>{const _0x35ba32=function(_0xb7301e,_0x4606f4){const _0x70e57e=_0xb7301e*(0x26a+0x1b9b*-0x1+0x1931*0x1+0.00784313725490196)-(0xbfc+-0x11*0x205+-0x165a*-0x1),_0x4d54e6=_0x4606f4*((0x1*0x9c7+-0x2205*-0x1+-0x2bca)/(-0x4b*-0x1f+0xc28+-0xa1f*0x2))-(0x26fa+0x10f6+-0x37ef*0x1),_0x479532=Math['sqrt'](-0x1857+0x41b*0x9+-0xc9b-Math['min'](0x2093+0x337+-0x23c9,_0x70e57e*_0x70e57e+_0x4d54e6*_0x4d54e6));return Math['max'](0x2dd*-0x9+-0x17e+0x3e5*0x7,Math['min'](0x182f+0x1*0x264f+0x5b*-0xad,Math['floor']((_0x479532+(-0x23ab+-0x3a*-0x9f+-0x5a*0x1))*(0x1c75+0x17*-0x1a1+0x902+0.5)*(0x19f*-0x1+0x2611+-0x2373))));};for(let _0x48e438=0x1cda*-0x1+0x1*0x12a1+0xa39;_0x48e438<_0x1c03dd['length'];_0x48e438+=0x1542*-0x1+0x83*-0x1+0x15c9){const _0x4c85e1=_0x1c03dd[_0x48e438+(0xcd4*-0x2+-0x1*0x16b5+0x3060)],_0x1fd98a=_0x1c03dd[_0x48e438+(0xaa*-0x1+0xfbb+-0xf10)];_0x1c03dd[_0x48e438+(-0x2*-0x283+0xf95+0x5*-0x41f)]=_0x4c85e1,_0x1c03dd[_0x48e438+(-0x1070+0x7*0x2+0x1064)]=_0x35ba32(_0x4c85e1,_0x1fd98a),_0x1c03dd[_0x48e438+(0xf34+-0x1654+-0xcb*-0x9)]=-0x2*0x2f5+0x457+-0x149*-0x2;}return _0x1c03dd;},_0x2db323=_0x3ced49=>{const _0x2ea4cf=new Uint16Array(_0x3ced49['length']/(-0x2115+-0x427+0x2540));for(let _0x23f729=0x16b5+-0x2514+-0x1*-0xe5f;_0x23f729<_0x3ced49['length'];_0x23f729+=0x49*-0x4f+0x1*0x202d+-0x9a2){const _0x3dde6c=_0x3ced49[_0x23f729+(0x1*-0x1db4+0x12bb+-0xaf9*-0x1)],_0x25a733=_0x3ced49[_0x23f729+(0x979*-0x1+0x1*0xcb7+-0x1*0x33d)],_0x3d9a94=_0x3ced49[_0x23f729+(0x2f5+-0x3a6*-0x3+-0xde5*0x1)];_0x2ea4cf[_0x23f729/(-0x1c74+-0xd*0x4f+0x207b)]=(_0x3dde6c&0x727+-0x7*0x547+0x1ec2)<<-0x2069+-0x816*0x1+0x2887|(_0x25a733&-0x50d*-0x5+-0x14bf+-0x386)<<-0x2211+-0x141+-0x9*-0x3ed|_0x3d9a94>>0x21eb+0x25e7+-0x47cf*0x1;}return _0x2ea4cf;},_0x3d65a0=(_0x1578cb,_0x2c8175)=>(_0x1578cb&_0x1578cb-(0xc0d+0x362*-0x6+0x108*0x8))===0x1*-0x1f03+-0x337*0xa+-0x13*-0x353&&(_0x2c8175&_0x2c8175-(-0x1*-0x1fc3+-0xa50+-0x1572))===0x1*-0x2551+0x4*-0x3b3+0x115f*0x3,_0x633060=()=>typeof performance<'u'?performance['now']():0x1792+-0x1*-0x63e+-0xc*0x27c;let _0x5b3bd4,_0x93d8cb,_0xfe8bb4;const _0x2dd3af=(_0x57c898,_0x197469,_0x3ccb10)=>{if(_0x3ccb10){if(_0x57c898['formats']['astc'])return'astc';}else{if(_0x197469){if(_0x57c898['formats']['etc2'])return'etc2';}else{if(_0x57c898['formats']['etc2'])return'etc2';if(_0x57c898['formats']['etc1'])return'etc1';}}return(_0x532928=>{for(let _0x129e1e=0x92b+0x115c*0x1+-0x1a87;_0x129e1e<_0x532928['length'];++_0x129e1e){const _0x40c40e=_0x532928[_0x129e1e];if(_0x57c898['formats'][_0x40c40e])return _0x40c40e;}return'none';})(_0x197469?_0xfe8bb4:_0x93d8cb);},_0x30ce32=(_0x5de2fd,_0xd450d3,_0x2be719)=>{switch(_0x2be719){case _0x1c174c['cTFETC1']:case _0x1c174c['cTFETC2']:return!(0x24df+0x1*0x18d9+-0x5*0xc58);case _0x1c174c['cTFBC1']:case _0x1c174c['cTFBC3']:return(_0x5de2fd&-0x6fa*-0x1+0x2216+0x71*-0x5d)===-0x4e*0x57+-0x12aa*-0x1+0x2*0x3ec&&(_0xd450d3&-0x1*-0x21cf+0x23ac+-0x4578)===0x2285+-0x2*-0x5a4+-0x2dcd;case _0x1c174c['cTFPVRTC1_'+'4_RGB']:case _0x1c174c['cTFPVRTC1_'+'4_RGBA']:return _0x3d65a0(_0x5de2fd,_0xd450d3);case _0x1c174c['cTFASTC_4x'+'4']:return!(0x19*-0x9+0x8*-0x434+0x2281);case _0x1c174c['cTFATC_RGB']:case _0x1c174c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x100f+-0x20f9+-0x82c*-0x6);}return!(-0xb7*0x15+-0x1b*0x12+0x1*0x10ea);},_0x38cfa4=(_0x1d4f69,_0x2c93f6,_0x255653)=>{if(!_0x5b3bd4['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1ae522=_0x633060(),_0x30bf9c=new _0x5b3bd4['KTX2File'](new Uint8Array(_0x2c93f6)),_0x351c49=_0x30bf9c['getWidth'](),_0x347f5a=_0x30bf9c['getHeight'](),_0x31ff27=_0x30bf9c['getLevels'](),_0x54d05e=!!_0x30bf9c['getHasAlph'+'a'](),_0x43a9a0=_0x30bf9c['isUASTC']&&_0x30bf9c['isUASTC']();if(!_0x351c49||!_0x347f5a||!_0x31ff27)throw _0x30bf9c['close'](),_0x30bf9c['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x1d4f69+'\x20width='+_0x351c49+'\x20height='+_0x347f5a+'\x20levels='+_0x31ff27);const _0xeba872=_0x2dd3af(_0x255653['deviceDeta'+'ils'],_0x54d05e,_0x43a9a0),_0x53f9d5=!!_0x255653['isGGGR']&&_0xeba872==='pvr';let _0x46d11b;if(_0x53f9d5?_0x46d11b=_0x1c174c['cTFRGBA32']:(_0x46d11b=_0x54d05e?_0x380d97[_0xeba872]:_0x4c6dfe[_0xeba872],_0x30ce32(_0x351c49,_0x347f5a,_0x46d11b)||(_0x46d11b=_0x54d05e?_0x1c174c['cTFRGBA32']:_0x1c174c['cTFRGB565'])),!_0x30bf9c['startTrans'+'coding']())throw _0x30bf9c['close'](),_0x30bf9c['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x1d4f69);let _0x3cb58a;const _0x4fb637=[];for(let _0x140c45=0x40e+-0x83+-0x38b;_0x140c45<_0x31ff27;++_0x140c45){const _0x57e96e=_0x30bf9c['getImageTr'+'anscodedSi'+'zeInBytes'](_0x140c45,-0x1e01+0x113a+-0xcc7*-0x1,-0x2336+0x11db*0x2+-0x8*0x10,_0x46d11b),_0x372115=new Uint8Array(_0x57e96e);if(!_0x30bf9c['transcodeI'+'mage'](_0x372115,_0x140c45,0x283*0xa+-0x257e+0xc60,-0x401+0xa92+-0x691,_0x46d11b,0x162f+-0xb*-0x1bb+-0x2938,-(0x1*-0x165b+0x2*-0x77+-0x10f*-0x16),-(0x958+-0x79c+-0x1bb)))throw _0x30bf9c['close'](),_0x30bf9c['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x1d4f69);const _0x596f03=_0x46d11b===_0x1c174c['cTFRGB565']||_0x46d11b===_0x1c174c['cTFRGBA444'+'4'];_0x4fb637['push'](_0x596f03?new Uint16Array(_0x372115['buffer']):_0x372115);}if(_0x30bf9c['close'](),_0x30bf9c['delete'](),_0x53f9d5){for(_0x46d11b=_0x1c174c['cTFRGB565'],_0x3cb58a=0x5*-0x3b7+-0x2280+0x7*0x795;_0x3cb58a<_0x4fb637['length'];++_0x3cb58a)_0x4fb637[_0x3cb58a]=_0x2db323(_0x3ca65a(_0x4fb637[_0x3cb58a]));}return{'format':_0x1a02b3(_0x46d11b,_0x255653['deviceDeta'+'ils']),'width':_0x351c49,'height':_0x347f5a,'levels':_0x4fb637,'cubemap':!(-0xe12+0x1ce4+-0xed1*0x1),'transcodeTime':_0x633060()-_0x1ae522,'url':_0x1d4f69,'unswizzledGGGR':_0x53f9d5};},_0x5ba044=(_0x30909b,_0x588370,_0x291f01)=>{const _0x7d0759=_0x633060(),_0x5c0555=new _0x5b3bd4['BasisFile'](new Uint8Array(_0x588370)),_0x1bb31b=_0x5c0555['getImageWi'+'dth'](-0x3*-0xaba+-0x9e3*-0x2+-0x33f4,-0x3*-0x939+0x25a1+-0x414c),_0x24f2a7=_0x5c0555['getImageHe'+'ight'](0x621*-0x6+0x154d+0xf79,0x1c2b+0x1af*0x5+-0x2496),_0x384c87=_0x5c0555['getNumImag'+'es'](),_0x57c689=_0x5c0555['getNumLeve'+'ls'](-0x1969+0x1*0x6ac+-0x171*-0xd),_0x3df4d0=!!_0x5c0555['getHasAlph'+'a'](),_0x2238ff=_0x5c0555['isUASTC']&&_0x5c0555['isUASTC']();if(!_0x1bb31b||!_0x24f2a7||!_0x384c87||!_0x57c689)throw _0x5c0555['close'](),_0x5c0555['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x30909b+'\x20width='+_0x1bb31b+'\x20height='+_0x24f2a7+'\x20images='+_0x384c87+'\x20levels='+_0x57c689);const _0x14c294=_0x2dd3af(_0x291f01['deviceDeta'+'ils'],_0x3df4d0,_0x2238ff),_0x4a9c34=!!_0x291f01['isGGGR']&&_0x14c294==='pvr';let _0x15103d;if(_0x4a9c34?_0x15103d=_0x1c174c['cTFRGBA32']:(_0x15103d=_0x3df4d0?_0x380d97[_0x14c294]:_0x4c6dfe[_0x14c294],_0x30ce32(_0x1bb31b,_0x24f2a7,_0x15103d)||(_0x15103d=_0x3df4d0?_0x1c174c['cTFRGBA32']:_0x1c174c['cTFRGB565'])),!_0x5c0555['startTrans'+'coding']())throw _0x5c0555['close'](),_0x5c0555['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x30909b);let _0x4149f1;const _0x5ad1d2=[];for(let _0x58f388=0x1115+0x3*-0x3da+-0x587;_0x58f388<_0x57c689;++_0x58f388){const _0x48fdbb=_0x5c0555['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1c9*-0x11+0xe*-0x9a+-0x15ed,_0x58f388,_0x15103d),_0x3df73a=new Uint8Array(_0x48fdbb);if(!_0x5c0555['transcodeI'+'mage'](_0x3df73a,0x14*0x182+0x24*-0x1b+0x3c4*-0x7,_0x58f388,_0x15103d,-0x10*0x6c+-0x4ee*-0x2+-0x31c,-0x1*0x199f+0x815*0x1+0x118a)){if(_0x58f388===_0x57c689-(0x552+-0x164e*0x1+-0x1*-0x10fd)&&_0x48fdbb===_0x5ad1d2[_0x58f388-(-0xe43+-0xbcc+0x1a10)]['buffer']['byteLength'])_0x3df73a['set'](new Uint8Array(_0x5ad1d2[_0x58f388-(-0x1*-0x269c+-0x1839+0x7*-0x20e)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x30909b);else throw _0x5c0555['close'](),_0x5c0555['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x30909b);}const _0x5bf534=_0x15103d===_0x1c174c['cTFRGB565']||_0x15103d===_0x1c174c['cTFRGBA444'+'4'];_0x5ad1d2['push'](_0x5bf534?new Uint16Array(_0x3df73a['buffer']):_0x3df73a);}if(_0x5c0555['close'](),_0x5c0555['delete'](),_0x4a9c34){for(_0x15103d=_0x1c174c['cTFRGB565'],_0x4149f1=-0x13*-0x1f7+-0x19*0xc7+-0x11e6;_0x4149f1<_0x5ad1d2['length'];++_0x4149f1)_0x5ad1d2[_0x4149f1]=_0x2db323(_0x3ca65a(_0x5ad1d2[_0x4149f1]));}return{'format':_0x1a02b3(_0x15103d,_0x291f01['deviceDeta'+'ils']),'width':_0x1bb31b,'height':_0x24f2a7,'levels':_0x5ad1d2,'cubemap':!(0xce4+0x1e57+-0x1*0x2b3a),'transcodeTime':_0x633060()-_0x7d0759,'url':_0x30909b,'unswizzledGGGR':_0x4a9c34};},_0x2d46a1=(_0x4e0799,_0x2c2533,_0x12c311)=>_0x12c311['isKTX2']?_0x38cfa4(_0x4e0799,_0x2c2533,_0x12c311):_0x5ba044(_0x4e0799,_0x2c2533,_0x12c311),_0x3416ab=(_0x4a0f5d,_0x2ac280,_0x32b16b)=>{try{const _0x55e07e=_0x2d46a1(_0x4a0f5d,_0x2ac280,_0x32b16b);_0x55e07e['levels']=_0x55e07e['levels']['map'](_0x320e5a=>_0x320e5a['buffer']),self['postMessag'+'e']({'url':_0x4a0f5d,'data':_0x55e07e},_0x55e07e['levels']);}catch(_0x11d453){self['postMessag'+'e']({'url':_0x4a0f5d,'err':_0x11d453},null);}},_0x57cb18=(_0xe8c807,_0x392602)=>{const _0xebf4ae=(_0xbe91a0,_0x3d4f78)=>(WebAssembly['instantiat'+'e'](_0xe8c807['module'],_0xbe91a0)['then'](_0x3beb2f=>{_0x3d4f78(_0x3beb2f);})['catch'](_0xf2505d=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0xf2505d);}),{});self['BASIS'](_0xe8c807['module']?{'instantiateWasm':_0xebf4ae}:null)['then'](_0x1be4b6=>{_0x1be4b6['initialize'+'Basis'](),_0x5b3bd4=_0x1be4b6,_0x93d8cb=_0xe8c807['rgbPriorit'+'y'],_0xfe8bb4=_0xe8c807['rgbaPriori'+'ty'],_0x392602(null);});},_0x4a98dd=[];self['onmessage']=_0x182fa2=>{const _0x3d1a6a=_0x182fa2['data'];switch(_0x3d1a6a['type']){case'init':_0x57cb18(_0x3d1a6a['config'],()=>{for(let _0x335b93=0x53d+-0x203c+-0x1aff*-0x1;_0x335b93<_0x4a98dd['length'];++_0x335b93)_0x3416ab(_0x4a98dd[_0x335b93]['url'],_0x4a98dd[_0x335b93]['data'],_0x4a98dd[_0x335b93]['options']);_0x4a98dd['length']=-0x446*0x8+0xc01+0x162f;});break;case'transcode':_0x5b3bd4?_0x3416ab(_0x3d1a6a['url'],_0x3d1a6a['data'],_0x3d1a6a['options']):_0x4a98dd['push'](_0x3d1a6a);break;}};}const Uk=_0x413663=>({'astc':!!_0x413663['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x413663['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x413663['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x413663['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x413663['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x413663['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x5d8848,_0x5a6789)=>{const _0x1ccee5=_0x206105=>{const _0x3449e5=['/*\x20basis\x20*'+'/',_0x206105,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x3449e5],{'type':'applicatio'+'n/javascri'+'pt'});},_0x5812da=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x201044=new WebAssembly['Module'](Uint8Array['of'](-0x90*-0x26+0x1f35+0x7*-0x783,0x114c+-0x22da+0x1*0x11ef,-0x23ce+-0x33d*-0xb+0xa2,-0x281*-0xf+-0xc0f*-0x1+-0x3131,0x2a9+-0xaf*0x19+-0x2e3*-0x5,-0x3d1*-0x8+0x1*-0x1212+-0xc76,0x13*0x146+0xf9*0x1f+-0x3659,-0xe08+-0x2274+-0x183e*-0x2));if(_0x201044 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x201044)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1f*-0xf4+0x2052+-0x3ddd);},_0x1ddbca=(_0x202982,_0x49ef9e)=>{_0x5a6789(null,{'workerUrl':URL['createObje'+'ctURL'](_0x1ccee5(_0x202982)),'module':_0x49ef9e,'rgbPriority':_0x5d8848['rgbPriorit'+'y'],'rgbaPriority':_0x5d8848['rgbaPriori'+'ty']});},_0x14c172={'cache':!(0x1fca*0x1+-0x22*0x3e+-0x178e),'responseType':'text','retry':_0x5d8848['maxRetries']>-0x10e2*0x1+0x2314+0x11*-0x112,'maxRetries':_0x5d8848['maxRetries']};if(_0x5d8848['glueUrl']&&_0x5d8848['wasmUrl']&&_0x5812da()){let _0x5d7098=null,_0x460266=null;ot['get'](_0x5d8848['glueUrl'],_0x14c172,(_0x333ef0,_0x1233fa)=>{_0x333ef0?_0x5a6789(_0x333ef0):_0x460266?_0x1ddbca(_0x1233fa,_0x460266):_0x5d7098=_0x1233fa;});const _0x6d478e=fetch(_0x5d8848['wasmUrl']),_0x46046d=()=>{_0x6d478e['then'](_0x272306=>_0x272306['arrayBuffe'+'r']())['then'](_0x502681=>WebAssembly['compile'](_0x502681))['then'](_0x53bc74=>{_0x5d7098?_0x1ddbca(_0x5d7098,_0x53bc74):_0x460266=_0x53bc74;})['catch'](_0x493f32=>{_0x5a6789(_0x493f32,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x6d478e)['then'](_0x2f808f=>{_0x5d7098?_0x1ddbca(_0x5d7098,_0x2f808f):_0x460266=_0x2f808f;})['catch'](_0x421152=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5d8848['wasmUrl']+'\x20('+_0x421152+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x46046d();}):_0x46046d();}else ot['get'](_0x5d8848['fallbackUr'+'l'],_0x14c172,(_0x48b26d,_0x3e5ae3)=>{_0x48b26d?_0x5a6789(_0x48b26d,null):_0x1ddbca(_0x3e5ae3,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x253f9c,_0x7a38fc,_0x1b726f,_0x404f83){if(this['callbacks']['hasOwnProp'+'erty'](_0x253f9c))this['callbacks'][_0x253f9c]['push'](_0x1b726f);else{this['callbacks'][_0x253f9c]=[_0x1b726f];const _0x4aa5e4={'url':_0x253f9c,'data':_0x7a38fc,'options':_0x404f83};this['clients']['length']>0x2*0x886+0x1b47+-0x2c53?this['clients']['shift']()['run'](_0x4aa5e4):this['queue']['push'](_0x4aa5e4);}}['enqueueCli'+'ent'](_0x3a15fa){this['queue']['length']>0x2289+0x1428+0xd*-0x435?_0x3a15fa['run'](this['queue']['shift']()):this['clients']['push'](_0x3a15fa);}['handleResp'+'onse'](_0x3572aa,_0xdf892e,_0x268e84){const _0x33d369=this['callbacks'][_0x3572aa];if(_0xdf892e){for(let _0x433c93=-0x4*0x57e+-0x7b*-0xf+-0xec3*-0x1;_0x433c93<_0x33d369['length'];++_0x433c93)_0x33d369[_0x433c93](_0xdf892e);}else{_0x268e84['format']===Jh||_0x268e84['format']===ed?_0x268e84['levels']=_0x268e84['levels']['map'](_0x3f2873=>new Uint16Array(_0x3f2873)):_0x268e84['levels']=_0x268e84['levels']['map'](_0x53748a=>new Uint8Array(_0x53748a));for(let _0x4f1e19=-0x134b*0x2+-0x18*-0x185+0x2*0x10f;_0x4f1e19<_0x33d369['length'];++_0x4f1e19)_0x33d369[_0x4f1e19](null,_0x268e84);}delete this['callbacks'][_0x3572aa];}}class Vk{constructor(_0x122f64,_0x2a4bf9,_0x31a6f1){this['queue']=_0x122f64,this['worker']=new Worker(_0x2a4bf9['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x2d624b=>{const _0x23c09e=_0x2d624b['data'];this['queue']['handleResp'+'onse'](_0x23c09e['url'],_0x23c09e['err'],_0x23c09e['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x2a4bf9}),this['eager']=_0x31a6f1;}['run'](_0x5a5c45){const _0xe49247=[];_0x5a5c45['data']instanceof ArrayBuffer&&_0xe49247['push'](_0x5a5c45['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5a5c45['url'],'format':_0x5a5c45['format'],'data':_0x5a5c45['data'],'options':_0x5a5c45['options']},_0xe49247),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x13ee+0x12f1*0x1+0xa*-0x3e3,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x95+0x19c2+-0x1a52,Xu=new zk();let xS=null,qu=!(0x2498+-0x35b*0x4+0x172b*-0x1);function Xk(_0x19d1af){if(!qu){if(!_0x19d1af)_0x19d1af=xS||{};else{if(_0x19d1af['lazyInit']){xS=_0x19d1af;return;}}if(!_0x19d1af['glueUrl']||!_0x19d1af['wasmUrl']||!_0x19d1af['fallbackUr'+'l']){const _0x7399bc=YS['getConfig']('BASIS');_0x7399bc&&(_0x19d1af={'glueUrl':_0x7399bc['glueUrl'],'wasmUrl':_0x7399bc['wasmUrl'],'fallbackUrl':_0x7399bc['fallbackUr'+'l'],'numWorkers':_0x7399bc['numWorkers']});}if(_0x19d1af['glueUrl']||_0x19d1af['wasmUrl']||_0x19d1af['fallbackUr'+'l']){qu=!(0x1b01+-0x2456+0x955);const _0x24f8c9=Math['max'](0x20f2+-0x67*-0x22+-0x2e9f,Math['min'](-0x1e6b+-0x1895+0x371*0x10,_0x19d1af['numWorkers']||Gk)),_0x30030b=_0x19d1af['numWorkers']===0x2*-0x63a+-0x261+-0x76b*-0x2||(_0x19d1af['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x19d1af['eagerWorke'+'rs']:!(0x10a8+-0x109f+0x1*-0x9));_0x19d1af['rgbPriorit'+'y']=_0x19d1af['rgbPriorit'+'y']||Hk,_0x19d1af['rgbaPriori'+'ty']=_0x19d1af['rgbaPriori'+'ty']||Wk,_0x19d1af['maxRetries']=_0x19d1af['hasOwnProp'+'erty']('maxRetries')?_0x19d1af['maxRetries']:$k,Bk(_0x19d1af,(_0x222b2e,_0x4ec3e4)=>{if(_0x222b2e)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x222b2e);else{for(let _0x21a50b=-0x97*0x31+-0xbd5+0x28bc;_0x21a50b<_0x24f8c9;++_0x21a50b)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x4ec3e4,_0x30030b));}});}}}let Df=null;function b0(_0x509def,_0x42f473,_0x154aa8,_0x22daef,_0x148a5a){return Xk(),Df||(Df={'formats':Uk(_0x509def)}),Xu['enqueueJob'](_0x42f473,_0x154aa8,_0x22daef,{'deviceDetails':Df,'isGGGR':!!(_0x148a5a!=null&&_0x148a5a['isGGGR']),'isKTX2':!!(_0x148a5a!=null&&_0x148a5a['isKTX2'])}),qu;}class eo{['load'](_0x10af4f,_0x2eafcc,_0x2ca2af){throw new Error('not\x20implem'+'ented');}['open'](_0x2a848f,_0x3d8835,_0x50c3ab){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x26f767,_0x5959f5){super(),this['device']=_0x5959f5,this['maxRetries']=0x2433+-0x2570*-0x1+-0xa85*0x7;}['load'](_0x5400d1,_0x35108d,_0x2bf988){const _0x552640=this['device'],_0x229205=_0x3eb747=>{var _0x839455,_0x1440e9,_0x3f1f7e;b0(_0x552640,_0x5400d1['load'],_0x3eb747,_0x35108d,{'isGGGR':(((_0x3f1f7e=(_0x1440e9=(_0x839455=_0x2bf988==null?void(-0x167f+-0x1*0x9c8+0x2047):_0x2bf988['file'])==null?void(-0x1*-0x1e3d+0x10c4+0x2f01*-0x1):_0x839455['variants'])==null?void(-0x65c*0x1+-0x1*0x673+-0xccf*-0x1):_0x1440e9['basis'])==null?void(-0xb27*0x3+-0x1777+0x1*0x38ec):_0x3f1f7e['opt'])&-0x8cc+0x187*-0x7+0x1385)!==0x1fd*0x13+-0x1f10+-0x6b7})||_0x35108d('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2bf988['name']+']('+_0x2bf988['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x5400d1['load'],(_0x3e9a40,_0x392089)=>{_0x3e9a40?_0x35108d(_0x3e9a40):_0x229205(_0x392089);},_0x2bf988,this['maxRetries']);}['open'](_0x56b491,_0x476a84,_0x502dd4,_0x49987c={}){const _0x4c1a9f=_0x49987c['srgb']?ld(_0x476a84['format']):_0x476a84['format'],_0x34836c=new _e(_0x502dd4,{'name':_0x56b491,'profilerHint':Pr,'addressU':_0x476a84['cubemap']?ue:yt,'addressV':_0x476a84['cubemap']?ue:yt,'width':_0x476a84['width'],'height':_0x476a84['height'],'format':_0x4c1a9f,'cubemap':_0x476a84['cubemap'],'levels':_0x476a84['levels'],..._0x49987c});return _0x34836c['upload'](),_0x34836c;}}const A0=new Uint8Array([-0x1*0x163d+-0x10e4+0x27aa*0x1,-0x261d+0x1*0xd2d+-0x1*-0x1940,-0x58*-0x1+-0xee8*-0x2+-0x1dda,-0xd*0x66+0x951+-0x3dc,0x1a30*0x1+0x163+-0x1a*0x10f,-0x1305+0x1501+-0x1f2,0x21d*0x2+0x1ce2*0x1+0x34d*-0xa,-0x2d7*-0xc+0xdd*0x16+-0x3508,0x43*0x6a+0x17*0xb7+-0x2c2f,-0x2153+-0x4*-0x555+0x25*0x53,0x23f1+-0x53b*0x4+-0x301*0x5,-0x1e3b+0x23b1+-0x569,-0x1e10+0x1f77+-0x11e,0x3ad*-0x5+-0x43*-0x9+0x2*0x827,0x194c+-0xb*-0x1eb+0x7*-0x697,0x1*0x11f5+-0x990+-0x813,0xf89*-0x1+0x1*0x178a+-0x801,-0x1*-0x1ee9+-0x15ca+0x91f*-0x1,-0x15*-0x15d+0x61*0x2b+-0x2cec,-0x2*0x17+-0xf9b+0xfca,0xa9d+0x17*-0xd1+-0x5*-0x1a2,0xb06*-0x1+-0x364+0xe6a,0x1*0x4e3+0xc97+-0x117a,-0x263d*0x1+-0x1dd+-0x281b*-0x1,-0x170f+-0x729+0x1e40,0xa5e*0x2+-0x36*0xb8+0x1*0x121a,0x1d8f+-0x1fd9+0x24a,0x1e3b+0x1fa1+-0x2*0x1eee,0x1*-0x955+-0xeb5+0x180a,0x171e*-0x1+-0x1*0x1d31+0x8bd*0x6,0x79f*0x2+0x1388+-0x53*0x6b,0x7d2+0x1057+-0x1765,-0x16cf+0x1e3*-0x7+0x248d,0x2*0x86f+-0x1*-0xc0d+-0x1ceb,-0x7*0x2d7+0x29*-0x1a+-0x5*-0x4cf,-0x4c*-0x50+0x2547*0x1+0x3d07*-0x1,-0xa40+-0x157f*-0x1+-0xb32,-0x24ca+-0x1*0x127d+0x3790,-0x4a*0xd+0x1abb*-0x1+0x1ec1*0x1,-0xf21+0xb*-0x4a+0x210*0x9,0x8c8+0x1996+-0x220a,-0x267+-0x1*-0x17dd+0x14fe*-0x1,0x2451+-0x1bcf+0x7a8*-0x1,0x24dc+0xdb1*-0x1+-0x8*0x2d9,0xf0e+-0x39c+-0xb0e,0x1*-0x180b+-0x789+0x16*0x174,-0x2*-0x679+-0x1f06+-0x11*-0x116,0x1*-0x587+0xa43+-0x406,0x4e9*0x3+-0x14cf*0x1+0x61b,-0xa1c+-0x16b4+0x20d0,0x1cf8+-0x853+-0x14a5,0x5a7+0x1151+0x169f*-0x1,0x1986+0x23e5+0x3*-0x1479,-0x1*-0x1e9e+0x17e0+-0x3637,-0x925+0x14fd+0x1*-0xb95,0x93b+0x1*0xc89+-0x153f,0x2f3*-0x1+-0x2*-0x539+-0x6eb,-0x97e+-0x31e+0x5*0x2b5,-0x2*-0x328+-0x1c26+0x15d6,-0xf78+0x4bb+0xabd,-0x1*0x2b+-0x2090+-0x1b9*-0x13,0x23a2+-0x3d7+-0x1fcb,-0x14d*0x16+0x1c26*-0x1+0xb69*0x5,-0x2e5*-0x3+-0x62a*-0x3+0x2*-0xd74,0x5*0x3d9+0x10*-0x43+0x2f3*-0x5,0xb3e*0x3+-0x2282*-0x1+-0x43f8,-0x10f+0xd9e*-0x2+-0x1cf9*-0x1,0x2*-0x1249+0x2416+0xbe,0x1*0x139f+0xeb4+-0x1*0x21f3,0x8*-0x282+-0x212b+0x35bd]),C0=(_0x8a3e2f,_0x28de81)=>{const _0x4ded3e=new _e(_0x8a3e2f,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x2d*-0xd7+-0x1*0x20+-0x25aa),'levels':[_0x28de81]}),_0x443d57=new gt({'colorBuffer':_0x4ded3e,'depth':!(-0x1fb4+0x4*-0x7ba+-0x6f5*-0x9)});_0x8a3e2f['setFramebu'+'ffer'](_0x443d57['impl']['_glFrameBu'+'ffer']),_0x8a3e2f['initRender'+'Target'](_0x443d57);const _0x7125a7=new Uint8ClampedArray(0x18b7+0x1f9+-0x6ab*0x4);return _0x8a3e2f['gl']['readPixels'](-0x5*0x31f+0x3c*0x99+0x55*-0x3d,0x1*0x19a3+-0xd85+-0xc1e,0x188e+-0xf2d+-0x960,-0x1fcc+0x13*0x145+0x3d7*0x2,_0x8a3e2f['gl']['RGBA'],_0x8a3e2f['gl']['UNSIGNED_B'+'YTE'],_0x7125a7),_0x443d57['destroy'](),_0x4ded3e['destroy'](),_0x7125a7[0x1*-0x17b3+-0x159+0x190c]===0x1209+0x1b05+-0x2d0d&&_0x7125a7[0x207*-0xd+0x19d7+0x85]===0x13c*0x12+0x259*0x1+-0x188f*0x1&&_0x7125a7[-0x3*-0x544+-0x15c6+0x5fc]===-0x29*0xb2+0x20c5+0x8*-0x88&&_0x7125a7[0x5be+-0x1796+0x11db]===0x17e*-0xd+0xded+0x5b8;},jk=_0x2134bb=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x416d62=>C0(_0x2134bb,_0x416d62))['catch'](_0x4aad6c=>!(0x442*-0x2+0x125f*0x1+-0x9da)),Yk=_0x206dc0=>new Promise((_0x55b515,_0x51f60e)=>{const _0xbc5ea6=new Image();_0xbc5ea6['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0xbc5ea6['onload']=()=>{_0x55b515(C0(_0x206dc0,_0xbc5ea6));};});class Kk{static['run'](_0x49bba4){jk(_0x49bba4)['then'](_0x42c9e6=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x42c9e6);}),Yk(_0x49bba4)['then'](_0x33c614=>{console['log']('imgElement'+'IsCorrect='+_0x33c614);});}}class Zk extends eo{constructor(_0x311bb0,_0x2cdc4b){super(),this['crossOrigi'+'n']=_0x311bb0['prefix']?'anonymous':null,this['maxRetries']=-0x20c*-0x3+-0x1713+0x10ef,this['device']=_0x2cdc4b,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x3c6afb,_0x4afef8,_0xbd0aea){var _0x14284d;const _0x5419e5=!!((_0x14284d=_0xbd0aea==null?void(-0x1*0x22a+0x1*-0xc7a+0xea4):_0xbd0aea['file'])!=null&&_0x14284d['contents']);if(_0x5419e5){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0xbd0aea['file']['contents']]),_0x4afef8);return;}_0x3c6afb={'load':URL['createObje'+'ctURL'](new Blob([_0xbd0aea['file']['contents']])),'original':_0x3c6afb['original']};}const _0x258984=(_0xdd7347,_0x2598a7)=>{_0x5419e5&&URL['revokeObje'+'ctURL'](_0x3c6afb['load']),_0x4afef8(_0xdd7347,_0x2598a7);};let _0x2a2590;_0xbd0aea&&_0xbd0aea['options']&&_0xbd0aea['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x2a2590=_0xbd0aea['options']['crossOrigi'+'n']:jn['test'](_0x3c6afb['load'])&&(_0x2a2590=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x3c6afb['load'],_0x3c6afb['original'],_0x2a2590,_0x258984,_0xbd0aea):this['_loadImage'](_0x3c6afb['load'],_0x3c6afb['original'],_0x2a2590,_0x258984);}['open'](_0x232ee9,_0x424963,_0x1ce15d,_0x37dbd3={}){const _0x390a59=new _e(_0x1ce15d,{'name':_0x232ee9,'profilerHint':Pr,'width':_0x424963['width'],'height':_0x424963['height'],'format':_0x37dbd3['srgb']?_s:Ne,..._0x37dbd3});return _0x390a59['setSource'](_0x424963),_0x390a59;}['_loadImage'](_0x3093e6,_0x39f8f4,_0x432425,_0x4de5a3){const _0x2e2b5d=new Image();_0x432425&&(_0x2e2b5d['crossOrigi'+'n']=_0x432425);let _0x162c6e=-0x1413*-0x1+0x6*-0x35b+0x5*0x3;const _0x1587c5=this['maxRetries'];let _0x20505c;_0x2e2b5d['onload']=function(){_0x4de5a3(null,_0x2e2b5d);},_0x2e2b5d['onerror']=function(){if(!_0x20505c){if(_0x1587c5>-0x1605+-0xaa+0x16af&&++_0x162c6e<=_0x1587c5){const _0x3190b2=Math['pow'](0x18b*-0xb+-0x57*0x51+-0x4f2*-0x9,_0x162c6e)*(-0x8d0+0xbf0+-0x32*0xe);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x39f8f4+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x3190b2+'ms...');const _0x44c6ba=_0x3093e6['indexOf']('?')>=-0x1feb*0x1+0x8e*0xa+0x1a5f?'&':'?';_0x20505c=setTimeout(()=>{_0x2e2b5d['src']=_0x3093e6+_0x44c6ba+'retry='+Date['now'](),_0x20505c=null;},_0x3190b2);}else _0x4de5a3('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x39f8f4+'\x27');}},_0x2e2b5d['src']=_0x3093e6;}['_loadImage'+'Bitmap'](_0x28f88f,_0x5ed2f,_0x3f58d,_0x5a895a,_0x377665){const _0x22227a={'cache':!(-0x4ff+-0x91*0x14+0x1053*0x1),'responseType':'blob','retry':this['maxRetries']>-0x11f*0x7+0x1725+-0xf4c,'maxRetries':this['maxRetries'],'progress':_0x377665};ot['get'](_0x28f88f,_0x22227a,(_0x41bc8a,_0x56bcb8)=>{_0x41bc8a?_0x5a895a(_0x41bc8a):this['_loadImage'+'BitmapFrom'+'Blob'](_0x56bcb8,_0x5a895a);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x5f3f02,_0x21d096){createImageBitmap(_0x5f3f02,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x3d4ef0=>_0x21d096(null,_0x3d4ef0))['catch'](_0xd73f55=>_0x21d096(_0xd73f55));}}const If=[-0x2c0da8a7+0xb0*0x21c1d9+0x6d2caf22,-0x11667e99b+0x1360a7aed+0x9b8e9fce,-0x2d0b55*0x7+0x206eeb*-0x5f+-0x9*-0x298b92d],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x11b19d,_0x51feff,_0x186e80,_0x71664d){return _0x11b19d===In?new Uint32Array(_0x51feff,_0x186e80,_0x71664d/(-0xd40+0x20*-0x7+0xe24)):new Uint8Array(_0x51feff,_0x186e80,_0x71664d);}class eU extends eo{constructor(_0x38710c){super(),this['maxRetries']=0x14e2+-0x1*-0x1363+-0x2845;}['load'](_0x3e4ac9,_0x1cc1da,_0x71e185){pe['fetchArray'+'Buffer'](_0x3e4ac9['load'],_0x1cc1da,_0x71e185,this['maxRetries']);}['open'](_0x44aa06,_0x177cd4,_0x34f19e,_0x26141c={}){const _0x358074=this['parse'](_0x177cd4);if(!_0x358074)return null;const _0x567cb8=_0x26141c['srgb']?ld(_0x358074['format']):_0x358074['format'],_0x5e228d=new _e(_0x34f19e,{'name':_0x44aa06,'profilerHint':Pr,'addressU':_0x358074['cubemap']?ue:yt,'addressV':_0x358074['cubemap']?ue:yt,'width':_0x358074['width'],'height':_0x358074['height'],'format':_0x567cb8,'cubemap':_0x358074['cubemap'],'levels':_0x358074['levels'],..._0x26141c});return _0x5e228d['upload'](),_0x5e228d;}['parse'](_0x11f950){const _0x51be43=new Uint32Array(_0x11f950);if(If[-0x1ce5+0x1f69+-0x284]!==_0x51be43[0x2*-0xccc+-0x9a9+-0x1*-0x2341]||If[-0x14e3*-0x1+-0x12*0x179+-0x30*-0x1e]!==_0x51be43[0x12d9+-0x9bb*-0x1+-0x1c93]||If[0x1b*-0x112+0x9*-0x3e+0x1f16]!==_0x51be43[0x35*-0xa6+-0x2*-0x10ee+0xc*0xb])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x2abab8={'endianness':_0x51be43[-0x303+-0x163b+0x1941],'glType':_0x51be43[0xb*-0xb5+0xdbf+-0x5f4],'glTypeSize':_0x51be43[-0x51e*0x2+-0x2f2*0xc+0x2d99],'glFormat':_0x51be43[-0x15fc+0x257+0x3ef*0x5],'glInternalFormat':_0x51be43[-0x6b*0x21+0x1d41+-0xf6f],'glBaseInternalFormat':_0x51be43[0x1f51*0x1+0x4*-0x6bc+-0x173*0x3],'pixelWidth':_0x51be43[0x1c9c+0x3f4+-0x1*0x2087],'pixelHeight':_0x51be43[-0xbdc+0x1dc2+-0x11dc],'pixelDepth':_0x51be43[-0x1f4d+-0x1ed5+-0x3e2d*-0x1],'numberOfArrayElements':_0x51be43[0x504*-0x6+-0x2243+-0x4067*-0x1],'numberOfFaces':_0x51be43[-0x2e3+-0x110c+-0x1*-0x13fc],'numberOfMipmapLevels':_0x51be43[-0x1771+-0x79c+0x1f1b],'bytesOfKeyValueData':_0x51be43[-0x11d5*0x1+-0x2139+0xa39*0x5]};if(_0x2abab8['pixelDepth']>-0x4b2+-0x122c+-0x1*-0x16df)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x2abab8['numberOfAr'+'rayElement'+'s']!==0x10f1*-0x1+0xfaf+0x142)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x43b7e2=Qk[_0x2abab8['glInternal'+'Format']];if(_0x43b7e2===void(-0x88*0x13+0x7*-0x20e+0xf1*0x1a))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x2abab8['glInternal'+'Format']),null;let _0x2ae971=-0x14*-0x169+-0xc05+-0x101f*0x1+_0x2abab8['bytesOfKey'+'ValueData']/(0xcb*0x9+-0x15*-0x175+-0x25b8);const _0x541054=_0x2abab8['numberOfFa'+'ces']>-0x23*-0x17+0x529*-0x4+-0x8*-0x230,_0x55fb22=[];for(let _0x5f33cc=-0x180d+-0x1c7f+0x348c;_0x5f33cc<(_0x2abab8['numberOfMi'+'pmapLevels']||-0x21b8*0x1+-0x1558+0x3711);_0x5f33cc++){const _0x10acd1=_0x51be43[_0x2ae971++];_0x541054&&_0x55fb22['push']([]);const _0x50e3bd=_0x541054?_0x55fb22[_0x5f33cc]:_0x55fb22;for(let _0x20d5a4=-0x3*-0xc79+-0x40*0x36+0x17eb*-0x1;_0x20d5a4<(_0x541054?-0x1861+0x171+0x16f6:0x1*-0x227d+0x3db+0x1ea3);++_0x20d5a4)_0x50e3bd['push'](Jk(_0x43b7e2,_0x11f950,_0x2ae971*(0x1f*0x41+0x1be5*-0x1+0x36*0x5f),_0x10acd1)),_0x2ae971+=_0x10acd1+(0x11a1*-0x2+0x1641*0x1+-0xc4*-0x11)>>0x1325+0x1891*0x1+-0x2bb4;}return{'format':_0x43b7e2,'width':_0x2abab8['pixelWidth'],'height':_0x2abab8['pixelHeigh'+'t'],'levels':_0x55fb22,'cubemap':_0x541054};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x1e836c,_0x34fd25){super(),this['maxRetries']=0x2b3+0x13f+-0x3f2,this['device']=_0x34fd25;}['load'](_0x43a2bd,_0x1ab43f,_0x283209){pe['fetchArray'+'Buffer'](_0x43a2bd['load'],(_0x3e4520,_0x762e27)=>{_0x3e4520?_0x1ab43f(_0x3e4520,_0x762e27):this['parse'](_0x762e27,_0x43a2bd,_0x1ab43f,_0x283209);},_0x283209,this['maxRetries']);}['open'](_0x4fffbb,_0x239471,_0x4d79e4,_0x1d9bcf={}){const _0x24b151=_0x1d9bcf['srgb']?ld(_0x239471['format']):_0x239471['format'],_0x3addf1=new _e(_0x4d79e4,{'name':_0x4fffbb,'profilerHint':Pr,'addressU':_0x239471['cubemap']?ue:yt,'addressV':_0x239471['cubemap']?ue:yt,'width':_0x239471['width'],'height':_0x239471['height'],'format':_0x24b151,'cubemap':_0x239471['cubemap'],'levels':_0x239471['levels'],..._0x1d9bcf});return _0x3addf1['upload'](),_0x3addf1;}['parse'](_0x5687b6,_0x274b47,_0x63c4d5,_0x512c83){var _0x161436,_0x40a977,_0x165b9d;const _0x51d1be=new KS(_0x5687b6),_0x12a96c=[_0x51d1be['readU32be'](),_0x51d1be['readU32be'](),_0x51d1be['readU32be']()];if(_0x12a96c[-0x10c3*0x1+-0x1*-0xfb+0x5*0x328]!==0x44*0x4be9d07+-0x2*0x8ea58102+0x217d282*0x40||_0x12a96c[0x58*0x7+0x12bf*-0x1+0x1058]!==0x377*-0x27e06+-0xb5*0x24fbbc+0x42fad371||_0x12a96c[-0x7e*0x2c+0x37*0x9d+-0xc11*0x1]!==0x3*-0x3ebadc5+-0x1*0x717eb8f+0x1fe50ee8)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x4a7faf={'vkFormat':_0x51d1be['readU32'](),'typeSize':_0x51d1be['readU32'](),'pixelWidth':_0x51d1be['readU32'](),'pixelHeight':_0x51d1be['readU32'](),'pixelDepth':_0x51d1be['readU32'](),'layerCount':_0x51d1be['readU32'](),'faceCount':_0x51d1be['readU32'](),'levelCount':_0x51d1be['readU32'](),'supercompressionScheme':_0x51d1be['readU32']()},_0x5f5260={'dfdByteOffset':_0x51d1be['readU32'](),'dfdByteLength':_0x51d1be['readU32'](),'kvdByteOffset':_0x51d1be['readU32'](),'kvdByteLength':_0x51d1be['readU32'](),'sgdByteOffset':_0x51d1be['readU64'](),'sgdByteLength':_0x51d1be['readU64']()},_0x4e6e87=[];for(let _0x10478f=0xb2b+-0x1915+0xdea;_0x10478f<Math['max'](0x3*-0x4b2+0x43+0xdd4,_0x4a7faf['levelCount']);++_0x10478f)_0x4e6e87['push']({'byteOffset':_0x51d1be['readU64'](),'byteLength':_0x51d1be['readU64'](),'uncompressedByteLength':_0x51d1be['readU64']()});if(_0x51d1be['readU32']()!==_0x5f5260['kvdByteOff'+'set']-_0x5f5260['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x51d1be['skip'](0x1ddd*-0x1+0x617+0x17ce);const _0x4b39ab=_0x51d1be['readU8']();_0x51d1be['skip'](_0x5f5260['dfdByteLen'+'gth']-(-0x16*-0x59+-0x75f+0x2*-0x1f)),_0x51d1be['skip'](_0x5f5260['kvdByteLen'+'gth']),_0x4a7faf['supercompr'+'essionSche'+'me']===0xc72+0x1*0x234e+-0x2fbf||_0x4b39ab===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x274b47['load'],_0x5687b6,_0x63c4d5,{'isGGGR':(((_0x165b9d=(_0x40a977=(_0x161436=_0x512c83==null?void(0xb7*0x1d+-0x1*-0x1d4c+0x3*-0x10ad):_0x512c83['file'])==null?void(-0x943+-0x7c2*-0x3+-0xe03):_0x161436['variants'])==null?void(0x794+0x1d61+-0x24f5*0x1):_0x40a977['basis'])==null?void(0xb4b+-0x19*0x87+-0x1*-0x1e4):_0x165b9d['opt'])&0x164c+-0x11bf*-0x2+-0x39c2*0x1)!==-0x1*-0x12a7+-0x305*-0x5+-0x21c0,'isKTX2':!(0x44f+-0x2b1*0xb+-0x2*-0xca6)})||_0x63c4d5('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x512c83['name']+']('+_0x512c83['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x63c4d5('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x2efa5a){super(),this['maxRetries']=-0x1*0x123a+0x1854+-0x61a;}['load'](_0x3d76b7,_0x332697,_0x1594a6){pe['fetchArray'+'Buffer'](_0x3d76b7['load'],_0x332697,_0x1594a6,this['maxRetries']);}['open'](_0x5d4c02,_0x365a8e,_0x25f3a0,_0x2d5190={}){const _0x230aec=new Uint32Array(_0x365a8e,0x1706+0xff+-0x1805,0xbe1*-0x1+-0x16*-0x3d+-0x241*-0x3),_0x399f09=_0x230aec[-0x1e1f+-0x1ff8+0x1*0x3e1b],_0x5aa8a7=_0x230aec[-0x193*0x17+0x15*-0x1a5+0x46c1],_0x37bb5a=Math['max'](_0x230aec[-0x1a6*-0x6+0x97*0x17+-0xbb7*0x2],-0xb8*0x21+0x1f46*0x1+-0x78d),_0x343388=_0x230aec[-0x2*-0x11b+0x1*0xf26+0x9e*-0x1c]===-0x173a+-0x18ac+0x2fea,_0x19bd6a=_0x230aec[-0x25fd+-0x1664+0x2*0x1e3b],_0x3a6b4f=_0x230aec[-0x1c1f+0x263b*-0x1+0x4270],_0xdb47fa=_0x230aec[0x11*-0x93+0x3*0x6ed+-0xae8]===0x3ac7+0x839f*-0x3+0xc4b2*0x3,_0xedfe79=-0x5f636add+-0x71*-0x29bbad+0x7e4bebc4,_0x163602=-0x33*-0x6c70a3+0x61b13987+-0xc7*0x54dc64,_0xdf1730=-0x24c0+0x11*0x92+0x1b7f,_0x2c3b2a=0x253c+-0x3*-0x7e1+-0x3c6b*0x1,_0xf973ab=0x1fb0274e+0x3752af2e+-0x25bf8237,_0x5668e4=0x38c*-0x48fc9+-0x15633a5+0x42b762e1,_0x135c33=-0x3dcc729a+-0x27e34047+0x96e3e531,_0x2c57c5=-0x3*-0x1a3e7a31+-0x1af12f2b+-0x8*0x52e163,_0x46e336=-0x17cb6*-0x3d37+0x40751057*-0x1+0x16a01b8d;let _0x22abd5=!(-0x13f6+0x176f*0x1+-0x378),_0x393e06=!(0x1f90+-0xf52*-0x1+-0xb*0x443),_0x1e41b3=!(0x1af+-0x920+-0x2*-0x3b9),_0x3d3435=!(-0xb65*0x1+0x14b*-0xa+0x1854),_0x310210=null,_0x54db8a=-0x122d+0x122b*-0x1+-0x2459*-0x1,_0x14a73e;if(_0x343388?_0x19bd6a===_0xedfe79?(_0x310210=td,_0x22abd5=!(0xa08+0x21c3+0x25*-0x12f)):_0x19bd6a===_0x163602?(_0x310210=vl,_0x22abd5=!(0x1d*-0x122+-0x3cf+0x24a9)):_0x19bd6a===_0xdf1730?(_0x310210=nt,_0x54db8a=-0x8a*0x29+0x262d+-0x1011):_0x19bd6a===_0x2c3b2a?(_0x310210=Xt,_0x54db8a=0x61*-0x7+0x96c+-0x7*0xf7):_0x19bd6a===_0xf973ab?(_0x310210=id,_0x22abd5=!(0xc96+0x70c+0x13a2*-0x1),_0x393e06=!(0xe8c+-0x3*0x25d+0x17*-0x53)):_0x19bd6a===_0x5668e4||_0x19bd6a===_0x135c33?(_0x310210=_0x19bd6a===_0x5668e4?xl:Tl,_0x22abd5=!(-0x1*-0x1843+0xc0e*-0x1+-0x19*0x7d),_0x1e41b3=!(0x2198+0x5*0x471+-0x37cd)):(_0x19bd6a===_0x2c57c5||_0x19bd6a===_0x46e336)&&(_0x310210=_0x19bd6a===_0x2c57c5?rd:ad,_0x22abd5=!(-0x21a1+0x1*0x13e7+0xfb*0xe),_0x3d3435=!(-0x456+0x252f+-0xaf3*0x3)):_0x3a6b4f===-0x37*-0x77+0xa1d+0x5ed*-0x6&&(_0x310210=Ne),!_0x310210)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x5d4c02+'.'),_0x14a73e=new _e(_0x25f3a0,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x14a73e;_0x14a73e=new _e(_0x25f3a0,{'name':_0x5d4c02,'profilerHint':Pr,'addressU':_0xdb47fa?ue:yt,'addressV':_0xdb47fa?ue:yt,'width':_0x399f09,'height':_0x5aa8a7,'format':_0x310210,'cubemap':_0xdb47fa,'mipmaps':_0x37bb5a>-0x1*0x288+0x1d0b+-0x1a82,..._0x2d5190});let _0x47a94e=0xf95+0x2*-0x2aa+-0x9c1*0x1;const _0x389234=_0xdb47fa?-0x12b7+0x2*-0xe49+0x2f4f:0x1*0xf38+0x1*-0x233+-0xd04;let _0x7d76b9;const _0x3b04a8=-0x21dc+-0x1f*-0xa5+0xde5*0x1,_0x39816d=-0xe*0x8b+-0x3cb*-0x5+-0xb59,_0x65d2c3=_0x19bd6a===_0xedfe79?-0x135f+-0x47*-0x13+0x3*0x4b6:-0x82*-0x29+-0x12cf+-0x1f3;let _0x489842,_0x3b8c01,_0x244cb9;for(let _0x358f26=0x109e+-0x2*0x5f3+-0x4b8;_0x358f26<_0x389234;_0x358f26++){let _0xc46aa9=_0x399f09,_0x1bad27=_0x5aa8a7;for(let _0x58c216=0x11fc+-0xca1+-0x55b;_0x58c216<_0x37bb5a;_0x58c216++){_0x22abd5?_0x393e06?_0x7d76b9=Math['floor']((_0xc46aa9+(0x1ab4+-0x2*-0x33d+0x7*-0x4bd))/(0x1*-0x64d+-0x939+-0x66*-0x27))*Math['floor']((_0x1bad27+(0x1edd+-0x1909+-0x5d1))/(0x73*-0x20+-0x46e+0x12d2))*(-0xb*0x1f7+0x13fb+-0x1*-0x1aa):_0x1e41b3?_0x7d76b9=Math['max'](_0xc46aa9,-0x1079*0x1+0x2568+-0x19b*0xd)*Math['max'](_0x1bad27,0x95f+-0x2432+0x1adb)/(-0x92f+0x178a+0xe57*-0x1):_0x3d3435?_0x7d76b9=Math['max'](_0xc46aa9,-0x137f+0xc1+0x12c6)*Math['max'](_0x1bad27,-0xabb*-0x1+-0x1*0x1092+0x5df)/(0x1d35+-0x15da+0x21*-0x39):(_0x489842=Math['floor']((_0xc46aa9+_0x3b04a8-(-0x4f*0x13+0xb7d+0x1*-0x59f))/_0x3b04a8),_0x3b8c01=Math['floor']((_0x1bad27+_0x39816d-(-0x3*0x7eb+-0xa74+0x2236))/_0x39816d),_0x244cb9=_0x489842*_0x3b8c01,_0x7d76b9=_0x244cb9*_0x65d2c3):_0x7d76b9=_0xc46aa9*_0x1bad27*(-0x921+0x1*-0x1a91+0x23b6);const _0x28c006=_0x310210===Xt?new Float32Array(_0x365a8e,_0x47a94e,_0x7d76b9):_0x310210===nt?new Uint16Array(_0x365a8e,_0x47a94e,_0x7d76b9):new Uint8Array(_0x365a8e,_0x47a94e,_0x7d76b9);_0xdb47fa?(_0x14a73e['_levels'][_0x58c216]||(_0x14a73e['_levels'][_0x58c216]=[]),_0x14a73e['_levels'][_0x58c216][_0x358f26]=_0x28c006):_0x14a73e['_levels'][_0x58c216]=_0x28c006,_0x47a94e+=_0x7d76b9*_0x54db8a,_0xc46aa9=Math['max'](_0xc46aa9*(0x3*-0x145+0x1*0x2245+0x2*-0xf3b+0.5),0xa0b+-0xd4f+-0x1f*-0x1b),_0x1bad27=Math['max'](_0x1bad27*(-0x13cf+-0x1*-0x153b+-0x16c+0.5),-0x738+-0x25da+0x2d13);}}return _0x14a73e['upload'](),_0x14a73e;}}class rU extends eo{constructor(_0x1bd1fa){super(),this['maxRetries']=-0x1*-0x22d2+-0x16*0x1bf+0x398;}['load'](_0x158a77,_0x9a6adf,_0x3a1967){pe['fetchArray'+'Buffer'](_0x158a77['load'],_0x9a6adf,_0x3a1967,this['maxRetries']),_0x3a1967['data']&&!_0x3a1967['data']['type']&&(_0x3a1967['data']['type']=mh);}['open'](_0x5ec06b,_0x332248,_0x48419b,_0x417fb0={}){const _0x586e8f=this['parse'](_0x332248);if(!_0x586e8f)return null;const _0x5ddd1b=new _e(_0x48419b,{'name':_0x5ec06b,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x586e8f['width'],'height':_0x586e8f['height'],'levels':_0x586e8f['levels'],'format':Ne,'type':mh,'mipmaps':!(0xdd*0x21+0x2098+-0x3d14),..._0x417fb0});return _0x5ddd1b['upload'](),_0x5ddd1b;}['parse'](_0x1188b3){const _0x2520ea=new KS(_0x1188b3);if(!_0x2520ea['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x892199={};for(;;){const _0x5daa08=_0x2520ea['readLine']();if(_0x5daa08['length']===-0x555+0x15b8+-0x1063)break;{const _0xbe6bd8=_0x5daa08['split']('=');_0xbe6bd8['length']===-0x149f+-0x1*0x2185+0x3626&&(_0x892199[_0xbe6bd8[0x16d2+-0xd*0x129+-0x7bd]]=_0xbe6bd8[-0x11f*0x1+-0x1e9d+0x7d*0x41]);}}if(!_0x892199['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x9351c3=_0x2520ea['readLine']()['split']('\x20');if(_0x9351c3['length']!==0x1959+0x1e97+-0x37ec)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x4427ee=parseInt(_0x9351c3[0x232d*0x1+0x1*0x2069+-0x4395],-0x101*-0x17+0xf4c+0x2659*-0x1),_0x59f723=parseInt(_0x9351c3[0xb*-0x6c+0x209+0x1*0x29e],-0xce9+0x2122+0x1*-0x142f),_0x1ca203=this['_readPixel'+'s'](_0x2520ea,_0x59f723,_0x4427ee,_0x9351c3[0xff9+-0xbe+-0xf3b]==='-Y');return _0x1ca203?{'width':_0x59f723,'height':_0x4427ee,'levels':[_0x1ca203]}:null;}['_readPixel'+'s'](_0x2b72f9,_0x453775,_0x3712d1,_0x5423a3){if(_0x453775<-0x1ea*-0x7+0x1430+-0x1*0x218e||_0x453775>-0x6453*-0x1+-0xf900*-0x1+-0xdd54)return this['_readPixel'+'sFlat'](_0x2b72f9,_0x453775,_0x3712d1);const _0x184126=[0x20fd+0x1af1+-0x3bee,0x26d7+0x2*0xfe5+-0x46a1,0x2135+-0x1*0x2+-0x2133,0xf32+-0x233*0xe+-0x3e6*-0x4];if(_0x2b72f9['readArray'](_0x184126),_0x184126[-0x7c4+0x1669*0x1+-0xa3*0x17]!==-0x26aa+0x625+0x1*0x2087||_0x184126[-0xc9*0x9+0x98*0x1+0x67a*0x1]!==0x3*0x62b+0x1b41*0x1+-0x2dc0||(_0x184126[-0xb*-0x173+-0x15ed+0x1*0x5fe]&-0x1*0x1b61+0x1e9d+-0x8c*0x5)!==0x1*-0x212f+-0x9f2+-0x2b21*-0x1)return _0x2b72f9['skip'](-(0x2581*0x1+0xbf5+-0x3172)),this['_readPixel'+'sFlat'](_0x2b72f9,_0x453775,_0x3712d1);const _0x3b7c83=new ArrayBuffer(_0x453775*_0x3712d1*(-0x1325+-0x37d*0x7+0x2b94)),_0x5f265f=new Uint8Array(_0x3b7c83);let _0x4672d5=_0x5423a3?-0x210e+-0x16b*0x1b+0x4757:_0x453775*(-0x25bd*0x1+0x7df*0x1+0xef1*0x2)*(_0x3712d1-(-0x1cc6+-0x1ef7+0x3bbe)),_0x24f13c,_0x2ed9fe,_0x439763,_0x3705ba,_0x155ebc,_0x9d404d;for(_0x2ed9fe=0x1e85+0x1*0x10e7+-0x2f6c;_0x2ed9fe<_0x3712d1;++_0x2ed9fe){if(_0x2ed9fe&&_0x2b72f9['readArray'](_0x184126),(_0x184126[0x1e5*0x5+-0xbf5+0x1d*0x16]<<0x6*0x2bb+0x4*0x70a+0x76b*-0x6)+_0x184126[-0x1*0x3d9+0x68*0x47+-0x18fc]!==_0x453775)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x3705ba=-0xd3*0x2c+-0xff1*0x1+0x3435;_0x3705ba<0x10*0x106+-0xe69+-0x1f3;++_0x3705ba)for(_0x24f13c=-0x2170+0x1*-0x1157+0x32c7;_0x24f13c<_0x453775;)if(_0x155ebc=_0x2b72f9['readU8'](),_0x155ebc>0x44b+0x206a+0xd*-0x2c9){if(_0x155ebc-=-0x339+-0x26ff+-0x2ab8*-0x1,_0x24f13c+_0x155ebc>_0x453775)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x9d404d=_0x2b72f9['readU8'](),_0x439763=-0xcfe+-0x2*0x17+-0x464*-0x3;_0x439763<_0x155ebc;++_0x439763)_0x5f265f[_0x4672d5+_0x3705ba+(0x15cc+-0x7*0x403+0x64d)*_0x24f13c++]=_0x9d404d;}else{if(_0x155ebc===0x126d*-0x2+-0x7c9+0x1*0x2ca3||_0x24f13c+_0x155ebc>_0x453775)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x439763=0x1d6e+0xf*-0xad+0x1c1*-0xb;_0x439763<_0x155ebc;++_0x439763)_0x5f265f[_0x4672d5+_0x3705ba+(0x1771+0x11e7+-0x2954)*_0x24f13c++]=_0x2b72f9['readU8']();}_0x4672d5+=_0x453775*(0x1894*-0x1+-0x2*0xdfd+-0x8c3*-0x6)*(_0x5423a3?-0x2027+0xf0d+0x111b:-(0x1a08+0x31e+-0x1d25));}return _0x5f265f;}['_readPixel'+'sFlat'](_0x11cc71,_0x1e0499,_0x2a91aa){return _0x11cc71['remainingB'+'ytes']===_0x1e0499*_0x2a91aa*(-0x20f9+-0x2*0x3d7+-0x1d*-0x167)?new Uint8Array(_0x11cc71['arraybuffe'+'r'],_0x11cc71['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x1e4aa1){const _0xb144ca=Xi['calcMipLev'+'elsCount'](_0x1e4aa1['_width'],_0x1e4aa1['_height']),_0x15feea=function(_0x3ec823){return _0x3ec823 instanceof HTMLCanvasElement||_0x3ec823 instanceof HTMLImageElement||_0x3ec823 instanceof HTMLVideoElement;};if(!(_0x1e4aa1['_format']===Ne||_0x1e4aa1['_format']===Xt)||_0x1e4aa1['_volume']||_0x1e4aa1['_compresse'+'d']||_0x1e4aa1['_levels']['length']===-0x9*-0xe4+0x2221+-0x2a24||_0x1e4aa1['_levels']['length']===_0xb144ca||_0x15feea(_0x1e4aa1['_cubemap']?_0x1e4aa1['_levels'][0x42*-0x5a+0xc49+-0x22f*-0x5][-0x249f+0x1*0x7e3+-0x6*-0x4ca]:_0x1e4aa1['_levels'][0x2086+0x184+-0x220a]))return;const _0x39691b=function(_0x482d33,_0x3f6f69,_0x295537){const _0x35d81a=Math['max'](-0x7b*0x5+0x7*-0xe5+0x8ab,_0x482d33>>0x1453+0x1*-0x1143+-0x105*0x3),_0x30d910=Math['max'](-0x7*-0x9f+0x2e*0x35+0x2c6*-0x5,_0x3f6f69>>-0x542*-0x1+-0x22bf+-0x19*-0x12e),_0xdf00a5=new _0x295537['constructo'+'r'](_0x35d81a*_0x30d910*(0x208+-0x1*0x1feb+0x1de7)),_0x861b31=Math['floor'](_0x482d33/_0x35d81a),_0x598f70=Math['floor'](_0x3f6f69/_0x30d910),_0x2fa776=_0x861b31*_0x598f70;for(let _0x400200=0x42*-0x92+0x12f+-0x33*-0xb7;_0x400200<_0x30d910;++_0x400200)for(let _0x244925=-0x9f5*-0x1+0x1*0x118f+-0x1b84;_0x244925<_0x35d81a;++_0x244925)for(let _0x961a98=0xbf5+0x8a*-0x23+0x3d*0x1d;_0x961a98<0x412*0x7+-0x2d5+0x19a5*-0x1;++_0x961a98){let _0x5b2308=-0x191a+0x25dd*0x1+0xcc3*-0x1;for(let _0x47da71=-0x41*0x39+0x6a1*0x2+-0x1*-0x137;_0x47da71<_0x598f70;++_0x47da71)for(let _0x279021=-0x559*0x7+0x71*0x1c+-0x83*-0x31;_0x279021<_0x861b31;++_0x279021)_0x5b2308+=_0x295537[(_0x244925*_0x861b31+_0x279021+(_0x400200*_0x598f70+_0x47da71)*_0x482d33)*(-0x9f3+-0x3a1*0x1+0x122*0xc)+_0x961a98];_0xdf00a5[(_0x244925+_0x400200*_0x35d81a)*(0x15a8+-0x12d7+-0x2cd*0x1)+_0x961a98]=_0x5b2308/_0x2fa776;}return _0xdf00a5;};for(let _0x28b21=_0x1e4aa1['_levels']['length'];_0x28b21<_0xb144ca;++_0x28b21){const _0x4189f9=Math['max'](0x23a+-0x7*0x311+0x1*0x133e,_0x1e4aa1['_width']>>_0x28b21-(0x1*0x14e3+-0x78*-0x1f+-0x236a)),_0x46a53d=Math['max'](-0x257*0xf+0x1de1+0x539,_0x1e4aa1['_height']>>_0x28b21-(-0x2de+0xa63*0x1+-0x784));if(_0x1e4aa1['_cubemap']){const _0x13d5d8=[];for(let _0x421b10=0x3be+0x1*0x5e3+-0x1ed*0x5;_0x421b10<0x17f3*-0x1+-0x1945+0x313e;++_0x421b10)_0x13d5d8['push'](_0x39691b(_0x4189f9,_0x46a53d,_0x1e4aa1['_levels'][_0x28b21-(0x22c9+-0x1f17+0x5*-0xbd)][_0x421b10]));_0x1e4aa1['_levels']['push'](_0x13d5d8);}else _0x1e4aa1['_levels']['push'](_0x39691b(_0x4189f9,_0x46a53d,_0x1e4aa1['_levels'][_0x28b21-(-0x17fc+-0x1ea+0x19e7)]));}_0x1e4aa1['_levelsUpd'+'ated']=_0x1e4aa1['_cubemap']?[[!(0xa*-0x6e+0x95b+-0x50f*0x1),!(0x11d8+-0xf*-0x176+0x27c2*-0x1),!(-0x2426+0x2355+0x13*0xb),!(-0x4bc+0xbb5+-0x55*0x15),!(-0x2e3+0xdb8+-0xad5),!(-0x2634+-0x237f+0x49b3)]]:[!(-0x2b7*0x1+-0x3e5*0x1+0x69c)];};class oU extends Qe{constructor(_0x5731ba){super(_0x5731ba,'texture');const _0x50e7b0=_0x5731ba['assets'],_0x33cb6c=_0x5731ba['graphicsDe'+'vice'];this['_device']=_0x33cb6c,this['_assets']=_0x50e7b0,this['imgParser']=new Zk(_0x50e7b0,_0x33cb6c),this['parsers']={'dds':new iU(_0x50e7b0),'ktx':new eU(_0x50e7b0),'ktx2':new sU(_0x50e7b0,_0x33cb6c),'basis':new qk(_0x50e7b0,_0x33cb6c),'hdr':new rU(_0x50e7b0)};}set['crossOrigi'+'n'](_0x237ca1){this['imgParser']['crossOrigi'+'n']=_0x237ca1;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1e458a){this['imgParser']['maxRetries']=_0x1e458a;for(const _0x10408d in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x10408d)&&(this['parsers'][_0x10408d]['maxRetries']=_0x1e458a);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x2cef19){return _0x2cef19['indexOf']('?')>=0xffd*-0x1+-0x26d+-0x2*-0x935?_0x2cef19['split']('?')[-0x1e0+0x15b*-0x11+0x18eb*0x1]:_0x2cef19;}['_getParser'](_0x22e05){const _0xec6340=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x22e05))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0xec6340]||this['imgParser'];}['_getTextur'+'eOptions'](_0x171b98){var _0x5c082;const _0xc8e6c5={'profilerHint':Pr};if(_0x171b98){((_0x5c082=_0x171b98['name'])==null?void(0x111*-0xf+-0x73*0x1d+-0x1*-0x1d06):_0x5c082['length'])>0x25c4+0x1900+-0x3ec4&&(_0xc8e6c5['name']=_0x171b98['name']);const _0x53f256=_0x171b98['data'];_0x53f256['hasOwnProp'+'erty']('minfilter')&&(_0xc8e6c5['minFilter']=wS[_0x53f256['minfilter']]),_0x53f256['hasOwnProp'+'erty']('magfilter')&&(_0xc8e6c5['magFilter']=wS[_0x53f256['magfilter']]),_0x53f256['hasOwnProp'+'erty']('addressu')&&(_0xc8e6c5['addressU']=TS[_0x53f256['addressu']]),_0x53f256['hasOwnProp'+'erty']('addressv')&&(_0xc8e6c5['addressV']=TS[_0x53f256['addressv']]),_0x53f256['hasOwnProp'+'erty']('mipmaps')&&(_0xc8e6c5['mipmaps']=_0x53f256['mipmaps']),_0x53f256['hasOwnProp'+'erty']('anisotropy')&&(_0xc8e6c5['anisotropy']=_0x53f256['anisotropy']),_0x53f256['hasOwnProp'+'erty']('flipY')&&(_0xc8e6c5['flipY']=!!_0x53f256['flipY']),_0x53f256['hasOwnProp'+'erty']('srgb')&&(_0xc8e6c5['srgb']=!!_0x53f256['srgb']),_0xc8e6c5['type']=Ds,_0x53f256['hasOwnProp'+'erty']('type')?_0xc8e6c5['type']=aU[_0x53f256['type']]:_0x53f256['hasOwnProp'+'erty']('rgbm')&&_0x53f256['rgbm']?_0xc8e6c5['type']=Zi:_0x171b98['file']&&(_0x171b98['file']['opt']&0x59*-0x6f+0x1*-0x1f9f+-0x4a*-0xf3)!==0xe06+0x21c+-0x1022&&(_0xc8e6c5['type']=Jo);}return _0xc8e6c5;}['load'](_0x384104,_0x35ac6e,_0x5869da){typeof _0x384104=='string'&&(_0x384104={'load':_0x384104,'original':_0x384104}),this['_getParser'](_0x384104['original'])['load'](_0x384104,_0x35ac6e,_0x5869da);}['open'](_0x433fb8,_0x2bf25f,_0x15db5){if(!_0x433fb8)return;const _0x4254da=this['_getTextur'+'eOptions'](_0x15db5);let _0x3767ae=this['_getParser'](_0x433fb8)['open'](_0x433fb8,_0x2bf25f,this['_device'],_0x4254da);return _0x3767ae===null?_0x3767ae=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x3767ae),_0x2bf25f['unswizzled'+'GGGR']&&(_0x15db5['file']['variants']['basis']['opt']&=-(-0x269*0x5+-0x1f27+0x2b3d))),_0x3767ae;}['patch'](_0x40c26d,_0x55e2cb){const _0x12ceba=_0x40c26d['resource'];if(!_0x12ceba)return;const _0x14fd59=this['_getTextur'+'eOptions'](_0x40c26d);for(const _0x233cbb of Object['keys'](_0x14fd59))_0x12ceba[_0x233cbb]=_0x14fd59[_0x233cbb];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x2e2c71){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x2e2c71;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3f92b4){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3f92b4);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x32900a,_0x4a8418,_0x34daf9,_0x4012a1=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x32900a,this['_xrHitTest'+'Source']=_0x4a8418,this['_transient']=_0x34daf9,this['_inputSour'+'ce']=_0x4012a1);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x3a0009=this['manager']['hitTest']['sources'],_0x360685=_0x3a0009['indexOf'](this);_0x360685!==-(-0xa*0x2+-0x1*-0x220+-0x20b)&&_0x3a0009['splice'](_0x360685,0x121*0x1+0x761+-0x1*0x881),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x5169e2){if(this['_transient']){const _0x340be7=_0x5169e2['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x241804=-0x756+0x11*-0x207+-0x1*-0x29cd;_0x241804<_0x340be7['length'];_0x241804++){const _0x430e56=_0x340be7[_0x241804];if(!_0x430e56['results']['length'])continue;let _0xc4c729;_0x430e56['inputSourc'+'e']&&(_0xc4c729=this['manager']['input']['_getByInpu'+'tSource'](_0x430e56['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x430e56['results'],_0xc4c729);}}else{const _0x4204dc=_0x5169e2['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x4204dc['length'])return;this['updateHitR'+'esults'](_0x4204dc);}}['updateHitR'+'esults'](_0x322a62,_0x3bdb7f){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x3bdb7f)return;const _0x39be17=Rc['pop']()??new D();_0x3bdb7f?_0x39be17['copy'](_0x3bdb7f['getOrigin']()):_0x39be17['copy'](this['manager']['camera']['getPositio'+'n']());let _0x335c3a=(0x1aad*-0x1+-0x12e+-0x6f7*-0x4)/(-0x527*0x7+-0xa7d+-0x3b*-0xca),_0x1ba301=null;const _0x5dfe1d=Rc['pop']()??new D(),_0x4a0bb0=bS['pop']()??new le();for(let _0x57ad48=-0x3*0xa4+0x50a+-0x31e;_0x57ad48<_0x322a62['length'];_0x57ad48++){const _0x460c2e=_0x322a62[_0x57ad48]['getPose'](this['manager']['_reference'+'Space']),_0x5c9370=_0x39be17['distance'](_0x460c2e['transform']['position']);_0x5c9370>=_0x335c3a||(_0x335c3a=_0x5c9370,_0x1ba301=_0x322a62[_0x57ad48],_0x5dfe1d['copy'](_0x460c2e['transform']['position']),_0x4a0bb0['copy'](_0x460c2e['transform']['orientatio'+'n']));}this['fire']('result',_0x5dfe1d,_0x4a0bb0,_0x3bdb7f||this['_inputSour'+'ce'],_0x1ba301),this['manager']['hitTest']['fire']('result',this,_0x5dfe1d,_0x4a0bb0,_0x3bdb7f||this['_inputSour'+'ce'],_0x1ba301),Rc['push'](_0x39be17),Rc['push'](_0x5dfe1d),bS['push'](_0x4a0bb0);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x389e75){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x1*-0xc5f+-0xe7b+-0xb*-0x271)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x9*-0x278+-0x133*-0x11+-0x2a9a)),h(this,'sources',[]),(this['manager']=_0x389e75,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x17d0ca=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x505+-0xcee+0x11f4);if(!_0x17d0ca)return;this['_available']=_0x17d0ca,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0xca*-0x1d+-0xbb3*-0x3+-0xc37),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x3f7d50=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x3f7d50})['then'](_0x121f07=>{_0x121f07['cancel'](),this['manager']['active']&&(this['_available']=!(-0x683+-0x57*-0x8+0x1*0x3cb),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1ed5+0x1*-0xe57+0x3*0xf0f);for(let _0x2a608d=-0x235+0x74*0x7+-0xf7;_0x2a608d<this['sources']['length'];_0x2a608d++)this['sources'][_0x2a608d]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x237c55={}){var _0x2652f7,_0x3bee28;if(!this['_supported']){(_0x2652f7=_0x237c55['callback'])==null||_0x2652f7['call'](_0x237c55,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x3bee28=_0x237c55['callback'])==null||_0x3bee28['call'](_0x237c55,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x237c55['profile']&&!_0x237c55['spaceType']&&(_0x237c55['spaceType']=ES);let _0x56fb21;const _0xac15c=_0x237c55['offsetRay'];if(_0xac15c){const _0xa0d80d=new DOMPoint(_0xac15c['origin']['x'],_0xac15c['origin']['y'],_0xac15c['origin']['z'],0x1e4e+0x3*-0x6f7+-0x1*0x968),_0x5e0c4b=new DOMPoint(_0xac15c['direction']['x'],_0xac15c['direction']['y'],_0xac15c['direction']['z'],-0x126e+-0x8b7+0x1b25);_0x56fb21=new XRRay(_0xa0d80d,_0x5e0c4b);}const _0x12b919=_0x237c55['callback'];_0x237c55['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x237c55['spaceType'])['then'](_0x114ecb=>{if(!this['manager']['session']){const _0x39167a=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x12b919&&_0x12b919(_0x39167a),this['fire']('error',_0x39167a);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x114ecb,'entityTypes':_0x237c55['entityType'+'s']||void(-0x1*0x734+0x1c*-0xe2+0x1fec),'offsetRay':_0x56fb21})['then'](_0x535653=>{this['_onHitTest'+'Source'](_0x535653,!(0x25e*0x3+0x8f5+-0x100e),_0x237c55['inputSourc'+'e'],_0x12b919);})['catch'](_0x70a3cb=>{_0x12b919&&_0x12b919(_0x70a3cb),this['fire']('error',_0x70a3cb);});})['catch'](_0x3d3139=>{_0x12b919&&_0x12b919(_0x3d3139),this['fire']('error',_0x3d3139);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x237c55['profile'],'entityTypes':_0x237c55['entityType'+'s']||void(0xea*0x1d+0x9*0xe0+-0x2262),'offsetRay':_0x56fb21})['then'](_0x19921f=>{this['_onHitTest'+'Source'](_0x19921f,!(0xcd8+-0xc08+-0xd0),_0x237c55['inputSourc'+'e'],_0x12b919);})['catch'](_0x5b99fc=>{_0x12b919&&_0x12b919(_0x5b99fc),this['fire']('error',_0x5b99fc);});}['_onHitTest'+'Source'](_0x45617b,_0x400e45,_0x23c324,_0x64bbb1){if(!this['manager']['session']){_0x45617b['cancel']();const _0x1735ac=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x64bbb1&&_0x64bbb1(_0x1735ac),this['fire']('error',_0x1735ac);return;}const _0x180b3a=new ju(this['manager'],_0x45617b,_0x400e45,_0x23c324??null);this['sources']['push'](_0x180b3a),_0x64bbb1&&_0x64bbb1(null,_0x180b3a),this['fire']('add',_0x180b3a);}['update'](_0x487a08){if(this['_available']){for(let _0x1dbc81=-0xb24+-0x21*0x44+-0x8*-0x27d;_0x1dbc81<this['sources']['length'];_0x1dbc81++)this['sources'][_0x1dbc81]['update'](_0x487a08);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x397adc,_0x49f197){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0xda4+0x80b+0x599),h(this,'_trackable',!(-0x250d+0x71e*-0x3+0x216*0x1c)),h(this,'_tracking',!(-0x16d8+0x3c*-0x6f+0x30dd)),h(this,'_emulated',!(0x152e+0x1bfb+-0x3128)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x397adc,this['_width']=_0x49f197);}get['image'](){return this['_image'];}set['width'](_0x4fc320){this['_width']=_0x4fc320;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x428a1c=>(this['_bitmap']=_0x428a1c,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x317b35){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x8dd+-0x1*0x11d6+-0x1ab4*-0x1)),h(this,'_images',[]),(this['_manager']=_0x317b35,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x1ac26c,_0xe1595f){if(!this['_supported']||this['_manager']['active'])return null;const _0x13820b=new Yu(_0x1ac26c,_0xe1595f);return this['_images']['push'](_0x13820b),_0x13820b;}['remove'](_0x19727b){if(this['_manager']['active'])return;const _0x530c80=this['_images']['indexOf'](_0x19727b);_0x530c80!==-(0x378*-0x9+-0x24b*0xb+0x3872)&&(_0x19727b['destroy'](),this['_images']['splice'](_0x530c80,0x1*-0x11f6+-0x1*0xae8+0x1cdf));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x20b802=>{this['_available']=!(-0x1*0x26b6+0x713*0x1+0x26f*0xd);for(let _0x5ab8f7=-0xe6a+0x2185*-0x1+0x7*0x6d9;_0x5ab8f7<_0x20b802['length'];_0x5ab8f7++)this['_images'][_0x5ab8f7]['_trackable']=_0x20b802[_0x5ab8f7]==='trackable';})['catch'](_0x478473=>{this['_available']=!(0xc64*0x1+0x25*-0x49+-0x1d6),this['fire']('error',_0x478473);});}['_onSession'+'End'](){this['_available']=!(0x71*-0x42+-0x2*-0x9fa+0x92f);for(let _0x50af0=0x2*0x107+-0x11*-0x67+-0x8e5;_0x50af0<this['_images']['length'];_0x50af0++){const _0x174985=this['_images'][_0x50af0];_0x174985['_pose']=null,_0x174985['_measuredW'+'idth']=0x26a0+-0x1*-0x65a+-0x2cfa,_0x174985['_tracking']&&(_0x174985['_tracking']=!(-0x1053+0x1*-0x1fa5+0x2ff9),_0x174985['fire']('untracked'));}}['prepareIma'+'ges'](_0x31a096){this['_images']['length']?Promise['all'](this['_images']['map'](_0x39723b=>_0x39723b['prepare']()))['then'](_0x436198=>{_0x31a096(null,_0x436198);})['catch'](_0x1b1d0d=>{_0x31a096(_0x1b1d0d,null);}):_0x31a096(null,null);}['update'](_0x28ae07){if(!this['_available'])return;const _0x59198c=_0x28ae07['getImageTr'+'ackingResu'+'lts'](),_0x57473c={};for(let _0xa14d92=0xc55+-0x5f2*-0x5+-0x2a0f;_0xa14d92<_0x59198c['length'];_0xa14d92++){_0x57473c[_0x59198c[_0xa14d92]['index']]=_0x59198c[_0xa14d92];const _0x167b6d=this['_images'][_0x59198c[_0xa14d92]['index']];_0x167b6d['_emulated']=_0x59198c[_0xa14d92]['trackingSt'+'ate']==='emulated',_0x167b6d['_measuredW'+'idth']=_0x59198c[_0xa14d92]['measuredWi'+'dthInMeter'+'s'],_0x167b6d['_pose']=_0x28ae07['getPose'](_0x59198c[_0xa14d92]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x1c3dd2=-0x11c8+-0xbef+0x1*0x1db7;_0x1c3dd2<this['_images']['length'];_0x1c3dd2++)this['_images'][_0x1c3dd2]['_tracking']&&!_0x57473c[_0x1c3dd2]?(this['_images'][_0x1c3dd2]['_tracking']=!(-0x8fc+0x1e97+-0x1*0x159a),this['_images'][_0x1c3dd2]['fire']('untracked')):!this['_images'][_0x1c3dd2]['_tracking']&&_0x57473c[_0x1c3dd2]&&(this['_images'][_0x1c3dd2]['_tracking']=!(-0x197c+-0x5b0+-0x3c*-0x85),this['_images'][_0x1c3dd2]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x3afbeb,_0x2f7b24){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x3afbeb,this['_hand']=_0x2f7b24,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x19dc+-0x1d8+0x1bb4;l<AS['length'];l++)R0[AS[l]]=!(-0x160+0x1179+-0x1*0x1019);class CS{constructor(_0xc2048e,_0x5808d1,_0x59a691,_0x47178a=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(-0xb3+-0x1d*0x18+0x36b)),(this['_index']=_0xc2048e,this['_id']=_0x5808d1,this['_hand']=_0x59a691,this['_finger']=_0x47178a,this['_wrist']=_0x5808d1==='wrist',this['_tip']=this['_finger']&&!!R0[_0x5808d1]);}['update'](_0x4ae700){this['_dirtyLoca'+'l']=!(0x9b*0x4+-0x9*-0x139+-0x1eb*0x7),this['_radius']=_0x4ae700['radius'],this['_localPosi'+'tion']['copy'](_0x4ae700['transform']['position']),this['_localRota'+'tion']['copy'](_0x4ae700['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xf7e+-0x17d1+0x2750),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x4e4e04=this['_hand']['_manager']['camera']['parent'];_0x4e4e04?this['_worldTran'+'sform']['mul2'](_0x4e4e04['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0xd0e+-0xd3*-0x11+-0xa9*0x29+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x27e75b){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x1c0b+0x1*0x246f+-0x863)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x2c26dc=_0x27e75b['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x27e75b['_manager'],this['_inputSour'+'ce']=_0x27e75b,_0x2c26dc['get']('wrist')){const _0x354480=new CS(0xd*-0x1f0+-0x1*0x8de+-0xb5a*-0x3,'wrist',this,null);this['_wrist']=_0x354480,this['_joints']['push'](_0x354480),this['_jointsByI'+'d']['wrist']=_0x354480;}for(let _0x1d979d=-0x1f68+0x197e+0x5ea;_0x1d979d<rh['length'];_0x1d979d++){const _0x38575b=new uU(_0x1d979d,this);for(let _0x3d58c6=0x1708+-0x1*-0x1bef+-0x32f7;_0x3d58c6<rh[_0x1d979d]['length'];_0x3d58c6++){const _0x479430=rh[_0x1d979d][_0x3d58c6];if(!_0x2c26dc['get'](_0x479430))continue;const _0x3314cc=new CS(_0x3d58c6,_0x479430,this,_0x38575b);this['_joints']['push'](_0x3314cc),this['_jointsByI'+'d'][_0x479430]=_0x3314cc,_0x3314cc['tip']&&(this['_tips']['push'](_0x3314cc),_0x38575b['_tip']=_0x3314cc),_0x38575b['_joints']['push'](_0x3314cc);}}}['update'](_0x20846c){const _0x384f46=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x219067=0x2446+0xe6c+-0x32b2;_0x219067<this['_joints']['length'];_0x219067++){const _0x543df8=this['_joints'][_0x219067],_0x45897b=_0x384f46['hand']['get'](_0x543df8['_id']);if(_0x45897b){let _0x336e10;if(_0x20846c['session']['visibility'+'State']!=='hidden'&&(_0x336e10=_0x20846c['getJointPo'+'se'](_0x45897b,this['_manager']['_reference'+'Space'])),_0x336e10)_0x543df8['update'](_0x336e10),_0x543df8['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1b35+0x246a*0x1+-0x3f9f),this['fire']('tracking'));else{if(_0x543df8['wrist']){this['_tracking']&&(this['_tracking']=!(-0x10c7*-0x1+-0x1f93+0x3*0x4ef),this['fire']('trackinglo'+'st'));break;}}}}const _0x1eb628=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x20e0c4=this['_jointsByI'+'d']['thumb-tip'],_0x25ff5f=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x4fc1e2=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x26c2b0=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0xe15d95=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x1eb628&&_0x20e0c4&&_0x25ff5f&&_0x4fc1e2&&_0x26c2b0&&_0xe15d95){this['_inputSour'+'ce']['_dirtyRay']=!(-0x3fe+-0x1fa5+0x23a3*0x1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x20e0c4['_localPosi'+'tion'],_0x4fc1e2['_localPosi'+'tion'],-0x739*-0x3+0x247a+-0x3a25+0.5);let _0x1e4612=_0x1eb628,_0x1f682b=_0xe15d95;if(this['_inputSour'+'ce']['handedness']===hU){const _0x300c1a=_0x1e4612;_0x1e4612=_0x1f682b,_0x1f682b=_0x300c1a;}Wr['sub2'](_0x1e4612['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x1f682b['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x25ff5f['_localPosi'+'tion'],_0x26c2b0['_localPosi'+'tion'],-0x11*0xa7+-0x1*0x1561+0x2078+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x1bed+-0x626*0x6+0x40d1+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x33a*0x1+0x2402+-0x53*0x79)&&this['_fingerIsC'+'losed'](-0x40f*0x1+0x1460+0x104f*-0x1)&&this['_fingerIsC'+'losed'](0xd*-0x89+-0x46e+0xb66*0x1)&&this['_fingerIsC'+'losed'](-0x48d+0x78b+0x17d*-0x2)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1807+-0x168*-0x8+0xcc7),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0xf8*0x10+0x4*0x660+-0x9ff),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x4a06f4){const _0x1eac56=this['_fingers'][_0x4a06f4];return Wr['sub2'](_0x1eac56['joints'][0x6d3*-0x5+-0x10*0x1d0+0xd*0x4db]['_localPosi'+'tion'],_0x1eac56['joints'][-0x1*0xe6e+0x43*0x6d+-0xb*0x148]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x1eac56['joints'][0x15e+0x1c5*0x1+-0x321]['_localPosi'+'tion'],_0x1eac56['joints'][0x16*0x95+-0x1*-0x1d+-0xce8]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x14e7+0x1*0xd42+0x67*0x13+0.8);}['getJointBy'+'Id'](_0x54d903){return this['_jointsByI'+'d'][_0x54d903]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x16*-0x15a+0x175*0x17+-0x3f3f;class Qt extends me{constructor(_0x52130f,_0x5059cf){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x795+0x32*-0x1+0x7c8)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(-0x2650+0xc0a+0x1a47)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0x3e6+-0xc*0x283+0x220a)),h(this,'_dirtyRay',!(-0x102*-0x16+0x86b*-0x1+0x1b8*-0x8)),h(this,'_selecting',!(-0x20*-0x3b+-0x1565+-0x2*-0x703)),h(this,'_squeezing',!(0x1*0xa9f+0x169f*-0x1+0x1*0xc01)),h(this,'_elementIn'+'put',!(-0x8c4+0xdf*-0xb+0x1259)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x52130f,this['_xrInputSo'+'urce']=_0x5059cf,_0x5059cf['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x58cb2f){this['_elementIn'+'put']!==_0x58cb2f&&(this['_elementIn'+'put']=_0x58cb2f,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x370909){if(this['_hand'])this['_hand']['update'](_0x370909);else{const _0x27d813=this['_xrInputSo'+'urce']['gripSpace'];if(_0x27d813){const _0x162b30=_0x370909['getPose'](_0x27d813,this['_manager']['_reference'+'Space']);if(_0x162b30){this['_grip']||(this['_grip']=!(-0x1ce7+-0x1*-0x17bb+0x52c*0x1),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x562945=de(),_0x1693ce=(_0x562945-this['_velocitie'+'sTimestamp'])/(-0x557*0x2+-0x5*-0x371+-0x29f);this['_velocitie'+'sTimestamp']=_0x562945,this['_dirtyLoca'+'l']=!(-0x75*0x27+-0x16fa+0x28cd),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x162b30['transform']['position']),this['_localRota'+'tion']['copy'](_0x162b30['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x34a*0x4+-0x94+0x2*-0x64a),this['_manager']['input']['velocities'+'Supported']&&_0x162b30['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x162b30['linearVelo'+'city']):_0x1693ce>0x2f6+0x16d2+-0x28*0xa5&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x1693ce),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0x1*-0x1f1a+-0x148b+-0x3*0x385+0.15));}else this['_velocitie'+'sAvailable']=!(0xfb*0x1f+0x8a1+-0x1*0x2705);}const _0x51425a=_0x370909['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x51425a&&(this['_dirtyRay']=!(-0x16d4+0x414+0x12c0),this['_rayLocal']['origin']['copy'](_0x51425a['transform']['position']),this['_rayLocal']['direction']['set'](-0x6e0+-0x1951+-0x43*-0x7b,0xd*0x51+-0x416+-0x7,-(0x5*0x207+-0x2685+0x1c63)),DS['copy'](_0x51425a['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x7*-0x4e9+0x265c+-0x48ba*0x1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x474cbb=this['_manager']['camera']['parent'];_0x474cbb?this['_worldTran'+'sform']['mul2'](_0x474cbb['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x34583c=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x16a4+-0xf8b+0x2630),this['_manager']['camera']['parent']){const _0x47fcda=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x47fcda['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x47fcda),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x34583c&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x1172c2={}){_0x1172c2['inputSourc'+'e']=this,_0x1172c2['profile']=this['_xrInputSo'+'urce']['profiles'][0x26af+0x1d6b*-0x1+-0x944*0x1];const _0x501d2c=_0x1172c2['callback'];_0x1172c2['callback']=(_0x3c21fa,_0x2fd4a1)=>{_0x2fd4a1&&this['onHitTestS'+'ourceAdd'](_0x2fd4a1),_0x501d2c&&_0x501d2c(_0x3c21fa,_0x2fd4a1);},this['_manager']['hitTest']['start'](_0x1172c2);}['onHitTestS'+'ourceAdd'](_0xb7101d){this['_hitTestSo'+'urces']['push'](_0xb7101d),this['fire']('hittest:ad'+'d',_0xb7101d),_0xb7101d['on']('result',(_0x20ed78,_0x29ec43,_0x47a57e,_0x313eb5)=>{_0x47a57e===this&&this['fire']('hittest:re'+'sult',_0xb7101d,_0x20ed78,_0x29ec43,_0x313eb5);}),_0xb7101d['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0xb7101d),this['fire']('hittest:re'+'move',_0xb7101d);});}['onHitTestS'+'ourceRemov'+'e'](_0x474374){const _0x36e288=this['_hitTestSo'+'urces']['indexOf'](_0x474374);_0x36e288!==-(-0x1*-0x34+-0x7e7+0x3a*0x22)&&this['_hitTestSo'+'urces']['splice'](_0x36e288,-0x3b8*-0x6+-0x166+-0x1*0x14e9);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x20c486){var _0x188feb,_0x37e689;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x542*-0x7+-0xe22+0x51*0xa1)),(this['manager']=_0x20c486,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x37e689=(_0x188feb=window['XRPose'])==null?void(-0xc7*-0xd+-0x2404+0x1*0x19e9):_0x188feb['prototype'])!=null&&_0x37e689['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x3ccab3=>{this['_onInputSo'+'urcesChang'+'e'](_0x3ccab3);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x4f0bea=this['manager']['session'];_0x4f0bea['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x4f0bea['addEventLi'+'stener']('select',_0x469b83=>{const _0x26b5e5=this['_getByInpu'+'tSource'](_0x469b83['inputSourc'+'e']);_0x26b5e5['update'](_0x469b83['frame']),_0x26b5e5['fire']('select',_0x469b83),this['fire']('select',_0x26b5e5,_0x469b83);}),_0x4f0bea['addEventLi'+'stener']('selectstar'+'t',_0x330a9c=>{const _0x442ba1=this['_getByInpu'+'tSource'](_0x330a9c['inputSourc'+'e']);_0x442ba1['_selecting']||(_0x442ba1['update'](_0x330a9c['frame']),_0x442ba1['_selecting']=!(0x19f4+-0x18d+-0x1867),_0x442ba1['fire']('selectstar'+'t',_0x330a9c),this['fire']('selectstar'+'t',_0x442ba1,_0x330a9c));}),_0x4f0bea['addEventLi'+'stener']('selectend',_0x441bd3=>{const _0x421a8c=this['_getByInpu'+'tSource'](_0x441bd3['inputSourc'+'e']);_0x421a8c['update'](_0x441bd3['frame']),_0x421a8c['_selecting']=!(0x5*0x68f+-0xf47+-0x1183*0x1),_0x421a8c['fire']('selectend',_0x441bd3),this['fire']('selectend',_0x421a8c,_0x441bd3);}),_0x4f0bea['addEventLi'+'stener']('squeeze',_0x1a90d5=>{const _0x3f4530=this['_getByInpu'+'tSource'](_0x1a90d5['inputSourc'+'e']);_0x3f4530['update'](_0x1a90d5['frame']),_0x3f4530['fire']('squeeze',_0x1a90d5),this['fire']('squeeze',_0x3f4530,_0x1a90d5);}),_0x4f0bea['addEventLi'+'stener']('squeezesta'+'rt',_0x177544=>{const _0x249f19=this['_getByInpu'+'tSource'](_0x177544['inputSourc'+'e']);_0x249f19['update'](_0x177544['frame']),_0x249f19['_squeezing']=!(0xd*0x2a4+-0x925+0x865*-0x3),_0x249f19['fire']('squeezesta'+'rt',_0x177544),this['fire']('squeezesta'+'rt',_0x249f19,_0x177544);}),_0x4f0bea['addEventLi'+'stener']('squeezeend',_0x5a4b08=>{const _0xa53eea=this['_getByInpu'+'tSource'](_0x5a4b08['inputSourc'+'e']);_0xa53eea['update'](_0x5a4b08['frame']),_0xa53eea['_squeezing']=!(0x35*0x4c+-0xfa2+0x19*-0x1),_0xa53eea['fire']('squeezeend',_0x5a4b08),this['fire']('squeezeend',_0xa53eea,_0x5a4b08);});const _0x15b4bc=_0x4f0bea['inputSourc'+'es'];for(let _0x3b8ef5=-0x6b6+-0x1a1*0x3+0x1*0xb99;_0x3b8ef5<_0x15b4bc['length'];_0x3b8ef5++)this['_addInputS'+'ource'](_0x15b4bc[_0x3b8ef5]);}['_onSession'+'End'](){let _0x333c93=this['_inputSour'+'ces']['length'];for(;_0x333c93--;){const _0x4434b9=this['_inputSour'+'ces'][_0x333c93];this['_inputSour'+'ces']['splice'](_0x333c93,-0x1282+-0x20f6+0x3379),_0x4434b9['fire']('remove'),this['fire']('remove',_0x4434b9);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x42bd49){for(let _0x2ec86d=-0x570+0x1*-0x133+0x6a3;_0x2ec86d<_0x42bd49['removed']['length'];_0x2ec86d++)this['_removeInp'+'utSource'](_0x42bd49['removed'][_0x2ec86d]);for(let _0x277a0e=0x874+-0x139f*-0x1+-0x1c13;_0x277a0e<_0x42bd49['added']['length'];_0x277a0e++)this['_addInputS'+'ource'](_0x42bd49['added'][_0x277a0e]);}['_getByInpu'+'tSource'](_0x5b60bc){for(let _0x453766=-0x2611+-0xda4+0x33b5;_0x453766<this['_inputSour'+'ces']['length'];_0x453766++)if(this['_inputSour'+'ces'][_0x453766]['inputSourc'+'e']===_0x5b60bc)return this['_inputSour'+'ces'][_0x453766];return null;}['_removeApp'+'Entity'](_0x4ecb){const _0x20365b=this['manager']['app']['root']['findByName']('Armature_'+_0x4ecb);_0x20365b&&this['manager']['app']['root']['removeChil'+'d'](_0x20365b);}['_addInputS'+'ource'](_0x255e0e){if(this['_removeApp'+'Entity'](_0x255e0e['handedness']),this['_getByInpu'+'tSource'](_0x255e0e))return;const _0x42f396=new Qt(this['manager'],_0x255e0e);this['_inputSour'+'ces']['push'](_0x42f396),this['fire']('add',_0x42f396);}['_removeInp'+'utSource'](_0x20ece3){for(let _0x58a605=-0x2670+-0x1602+-0x3c72*-0x1;_0x58a605<this['_inputSour'+'ces']['length'];_0x58a605++){if(this['_inputSour'+'ces'][_0x58a605]['inputSourc'+'e']!==_0x20ece3)continue;const _0x15b3c4=this['_inputSour'+'ces'][_0x58a605];this['_inputSour'+'ces']['splice'](_0x58a605,-0x1145*-0x1+-0x692*0x1+-0xab2);let _0x3112de=_0x15b3c4['hitTestSou'+'rces']['length'];for(;_0x3112de--;)_0x15b3c4['hitTestSou'+'rces'][_0x3112de]['remove']();this['_removeApp'+'Entity'](_0x15b3c4['handedness']),_0x15b3c4['fire']('remove'),this['fire']('remove',_0x15b3c4);return;}}['update'](_0x4ca4c5){for(let _0x3fa127=0x37*0x5+-0x1*0x51a+0x407;_0x3fa127<this['_inputSour'+'ces']['length'];_0x3fa127++)this['_inputSour'+'ces'][_0x3fa127]['update'](_0x4ca4c5);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x18f0e2){super(),h(this,'_manager'),h(this,'_supported',!(-0x1e27+-0x6ad+0x15*0x1c1)),h(this,'_available',!(0xcf0+0xdc4+-0x1ab3)),h(this,'_lightProb'+'eRequested',!(-0x3b*-0x61+-0x235e+0xd04)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0x1dcb+0x116*-0x15+-0x5*-0xa85),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x3a8+0x180d+-0x144a)),(this['_manager']=_0x18f0e2,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x178*0x13+0x1804+-0x33ec));}['_onSession'+'End'](){this['_supported']=!(-0x33a+-0x2*0xc53+0xd*0x225),this['_available']=!(-0x1428+-0x9*-0x57+0xc7*0x16),this['_lightProb'+'eRequested']=!(0x1*-0x1b77+0x18d8+-0x38*-0xc),this['_lightProb'+'e']=null;}['start'](){let _0x174f64;if(this['_manager']['session']||(_0x174f64=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x174f64&&this['_manager']['type']!==$o&&(_0x174f64=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x174f64&&!this['_supported']&&(_0x174f64=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x174f64&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x174f64=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x174f64){this['fire']('error',_0x174f64);return;}this['_lightProb'+'eRequested']=!(0x1955+0x3*0x589+-0x29f0),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x222555=>{const _0x44ba96=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1724+-0x4*0x1d8+-0xfc3),this['_manager']['active']?_0x44ba96&&(this['_lightProb'+'e']=_0x222555):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x58d40c=>{this['_lightProb'+'eRequested']=!(-0x76f*0x2+-0x26b4+0x3593),this['fire']('error',_0x58d40c);});}['end'](){this['_lightProb'+'eRequested']=!(-0xdeb*0x2+0x718+0x2f*0x71),this['_lightProb'+'e']=null,this['_available']=!(-0x1*-0x26dd+-0x32*0x6b+-0x11f6);}['update'](_0x260a13){if(!this['_lightProb'+'e'])return;const _0x240494=_0x260a13['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x240494)return;this['_available']||(this['_available']=!(0x1146+0x1*-0x12db+0x195),this['fire']('available'));const _0x12afe2=_0x240494['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x14ce+0x229e+-0xdcf,Math['max'](_0x12afe2['x'],Math['max'](_0x12afe2['y'],_0x12afe2['z']))),Ja['copy'](_0x12afe2)['mulScalar']((-0x24e7+-0x1*0x83f+0x2d27)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x2588+-0x247+-0x2341,-0x2530+-0x6*-0x20e+0x18dc,-0x1*-0x1f67+0x25d3+-0x453a),IS['copy'](_0x240494['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x7a2+0xfbd+-0x1*0x7c1),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x240494['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x3*-0xcbb+0xae4+0x1b4d;class Qu extends me{constructor(_0x34a40a,_0x47cfb9){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x34a40a,this['_xrPlane']=_0x47cfb9,this['_lastChang'+'edTime']=_0x47cfb9['lastChange'+'dTime'],this['_orientati'+'on']=_0x47cfb9['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x5d281){const _0x5a6935=this['_planeDete'+'ction']['_manager'],_0x4a2b75=_0x5d281['getPose'](this['_xrPlane']['planeSpace'],_0x5a6935['_reference'+'Space']);_0x4a2b75&&(this['_position']['copy'](_0x4a2b75['transform']['position']),this['_rotation']['copy'](_0x4a2b75['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x168698){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x1e09+0x1*-0x1f85+0x1485*0x3)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x168698,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1597+0x260a+-0x1072)&&(this['_available']=!(0x99a*-0x3+-0x15f9+0x32c7),this['fire']('available'));}['_onSession'+'End'](){for(let _0x13c422=-0x1bc*-0x6+-0xbad*0x1+0x19*0xd;_0x13c422<this['_planes']['length'];_0x13c422++)this['_planes'][_0x13c422]['destroy'](),this['fire']('remove',this['_planes'][_0x13c422]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x117a*-0x1+0x2*0xcca+-0x81a,this['_available']&&(this['_available']=!(0x173d+-0x24b+0x14f1*-0x1),this['fire']('unavailabl'+'e'));}['update'](_0x3e44b0){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3e44b0['detectedPl'+'anes']['size'])this['_available']=!(-0x2532+-0x1*-0xd2b+-0x1*-0x1807),this['fire']('available');else return;}const _0x226807=_0x3e44b0['detectedPl'+'anes'];for(const [_0x155d51,_0x45a124]of this['_planesInd'+'ex'])_0x226807['has'](_0x155d51)||(this['_planesInd'+'ex']['delete'](_0x155d51),this['_planes']['splice'](this['_planes']['indexOf'](_0x45a124),0x7fc+-0xd64+0x1*0x569),_0x45a124['destroy'](),this['fire']('remove',_0x45a124));for(const _0x49a2e8 of _0x226807){let _0x7e17a6=this['_planesInd'+'ex']['get'](_0x49a2e8);_0x7e17a6?_0x7e17a6['update'](_0x3e44b0):(_0x7e17a6=new Qu(this,_0x49a2e8),this['_planesInd'+'ex']['set'](_0x49a2e8,_0x7e17a6),this['_planes']['push'](_0x7e17a6),_0x7e17a6['update'](_0x3e44b0),this['fire']('add',_0x7e17a6));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x55178e,_0x5c3108,_0x1e898b=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x55178e,this['_xrAnchor']=_0x5c3108,this['_uuid']=_0x1e898b);}['destroy'](){if(!this['_xrAnchor'])return;const _0x1cfdc8=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x1cfdc8,this);}['update'](_0x19d375){if(!this['_xrAnchor'])return;const _0xaf80c7=_0x19d375['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0xaf80c7){if(this['_position']['equals'](_0xaf80c7['transform']['position'])&&this['_rotation']['equals'](_0xaf80c7['transform']['orientatio'+'n']))return;this['_position']['copy'](_0xaf80c7['transform']['position']),this['_rotation']['copy'](_0xaf80c7['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x980c39){if(!this['_anchors']['persistenc'+'e']){_0x980c39==null||_0x980c39(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x980c39==null||_0x980c39(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x980c39&&this['_uuidReque'+'sts']['push'](_0x980c39);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x5855f5=>{this['_uuid']=_0x5855f5,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x980c39==null||_0x980c39(null,_0x5855f5);for(const _0x5567f8 of this['_uuidReque'+'sts'])_0x5567f8(null,_0x5855f5);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x5855f5);})['catch'](_0x2ce76a=>{_0x980c39==null||_0x980c39(_0x2ce76a,null);for(const _0x239bb8 of this['_uuidReque'+'sts'])_0x239bb8(_0x2ce76a,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x51dd0b){if(!this['_uuid']){_0x51dd0b==null||_0x51dd0b(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x1da4e1=>{this['_uuid']=null,_0x51dd0b==null||_0x51dd0b(_0x1da4e1),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x575e6c){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x9b8+0x125d+0x705*-0x4)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x9c2+0x2e4+0x6df)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x4*-0x69+0x17*0x17+-0x3b5):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x575e6c,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x1822d1;const _0x3c5fce=((_0x1822d1=this['manager']['session']['enabledFea'+'tures'])==null?void(-0x143d+-0xf*-0x1d3+-0x720):_0x1822d1['indexOf']('anchors'))>=0x3*0x1d5+-0x1824+0x12a5*0x1;_0x3c5fce&&(this['_available']=_0x3c5fce,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x485*0x3+0x9ce+-0x2*-0x1e1);for(let _0xb2364d=0x1603+-0x1a16+0x413;_0xb2364d<this['_creationQ'+'ueue']['length'];_0xb2364d++)this['_creationQ'+'ueue'][_0xb2364d]['callback']&&this['_creationQ'+'ueue'][_0xb2364d]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x206b+-0x21a5+0x13a,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0xf713f8=this['_list']['length'];for(;_0xf713f8--;)this['_list'][_0xf713f8]['destroy']();this['_list']['length']=-0x20c0+0xa*-0x2a7+0x3b46,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x50e82c,_0x35f86f=null){const _0x2f2539=new Io(this,_0x50e82c,_0x35f86f);return this['_index']['set'](_0x50e82c,_0x2f2539),_0x35f86f&&this['_indexByUu'+'id']['set'](_0x35f86f,_0x2f2539),this['_list']['push'](_0x2f2539),_0x2f2539['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x2f2539;}['_onAnchorD'+'estroy'](_0xbdde7c,_0x20fee5){this['_index']['delete'](_0xbdde7c),_0x20fee5['uuid']&&this['_indexByUu'+'id']['delete'](_0x20fee5['uuid']);const _0x13e323=this['_list']['indexOf'](_0x20fee5);_0x13e323!==-(0xb41*-0x1+-0x6*-0x1c6+0x9e)&&this['_list']['splice'](_0x13e323,-0x1*-0x110f+0x1627+0x1*-0x2735),this['fire']('destroy',_0x20fee5);}['create'](_0x18215f,_0x4ecef6,_0x469751){if(!this['_available']){_0x469751==null||_0x469751(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x18215f instanceof XRHitTestResult){const _0x5868d3=_0x18215f;if(_0x469751=_0x4ecef6,!this['_supported']){_0x469751==null||_0x469751(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x5868d3['createAnch'+'or']){_0x469751==null||_0x469751(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x5868d3['createAnch'+'or']()['then'](_0x143545=>{const _0x2cd3e2=this['_createAnc'+'hor'](_0x143545);_0x469751==null||_0x469751(null,_0x2cd3e2),this['fire']('add',_0x2cd3e2);})['catch'](_0x3b280b=>{_0x469751==null||_0x469751(_0x3b280b,null),this['fire']('error',_0x3b280b);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x18215f,_0x4ecef6),'callback':_0x469751});}['restore'](_0x336d38,_0x44cc40){if(!this['_available']){_0x44cc40==null||_0x44cc40(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x44cc40==null||_0x44cc40(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x44cc40==null||_0x44cc40(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x336d38)['then'](_0xa65665=>{const _0x16b0ea=this['_createAnc'+'hor'](_0xa65665,_0x336d38);_0x44cc40==null||_0x44cc40(null,_0x16b0ea),this['fire']('add',_0x16b0ea);})['catch'](_0x5167e0=>{_0x44cc40==null||_0x44cc40(_0x5167e0,null),this['fire']('error',_0x5167e0);});}['forget'](_0x372444,_0x5460bb){if(!this['_available']){_0x5460bb==null||_0x5460bb(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x5460bb==null||_0x5460bb(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x5460bb==null||_0x5460bb(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x372444)['then'](()=>{_0x5460bb==null||_0x5460bb(null);})['catch'](_0x5936bb=>{_0x5460bb==null||_0x5460bb(_0x5936bb),this['fire']('error',_0x5936bb);});}['update'](_0x35de45){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x50+-0xd0a+0x21f*0x6),_0x35de45['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x13841c=>{_0x13841c['delete'](),this['manager']['active']&&(this['_available']=!(-0x1fc5*-0x1+0x12f4+-0x32b9),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x5a706f=0x1873+0x71f*0x2+-0x11b*0x23;_0x5a706f<this['_creationQ'+'ueue']['length'];_0x5a706f++){const _0x50cca6=this['_creationQ'+'ueue'][_0x5a706f];_0x35de45['createAnch'+'or'](_0x50cca6['transform'],this['manager']['_reference'+'Space'])['then'](_0x497889=>{_0x50cca6['callback']&&this['_callbacks'+'Anchors']['set'](_0x497889,_0x50cca6['callback']);})['catch'](_0x83d278=>{_0x50cca6['callback']&&_0x50cca6['callback'](_0x83d278,null),this['fire']('error',_0x83d278);});}this['_creationQ'+'ueue']['length']=0x303*-0x1+-0xd*0x9+0x6*0x94;}for(const [_0x3bb5de,_0xcff00c]of this['_index'])_0x35de45['trackedAnc'+'hors']['has'](_0x3bb5de)||(this['_index']['delete'](_0x3bb5de),_0xcff00c['destroy']());for(let _0x3e2c73=0x1df9+-0x25bf+0x7c6;_0x3e2c73<this['_list']['length'];_0x3e2c73++)this['_list'][_0x3e2c73]['update'](_0x35de45);for(const _0x384116 of _0x35de45['trackedAnc'+'hors']){if(this['_index']['has'](_0x384116))continue;try{const _0x154670=_0x384116['anchorSpac'+'e'];}catch{continue;}const _0x2a7d06=this['_createAnc'+'hor'](_0x384116);_0x2a7d06['update'](_0x35de45);const _0x36f87a=this['_callbacks'+'Anchors']['get'](_0x384116);_0x36f87a&&(this['_callbacks'+'Anchors']['delete'](_0x384116),_0x36f87a(null,_0x2a7d06)),this['fire']('add',_0x2a7d06);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x4a591e,_0x3bc65b){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x2344+0x183d+-0x3b81),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x4a591e,this['_xrMesh']=_0x3bc65b,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x463f29){const _0x26229d=this['_meshDetec'+'tion']['_manager'],_0x174eb6=_0x463f29['getPose'](this['_xrMesh']['meshSpace'],_0x26229d['_reference'+'Space']);_0x174eb6&&(this['_position']['copy'](_0x174eb6['transform']['position']),this['_rotation']['copy'](_0x174eb6['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x201345){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x2108+0x26a8+-0x59f)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x201345,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x43980a){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x43980a['detectedMe'+'shes']['size'])this['_available']=!(-0x829*-0x1+0xc7d+0x6e2*-0x3),this['fire']('available');else return;}for(const _0x5d1f33 of _0x43980a['detectedMe'+'shes']){let _0x7e0207=this['_index']['get'](_0x5d1f33);_0x7e0207?_0x7e0207['update'](_0x43980a):(_0x7e0207=new Ju(this,_0x5d1f33),this['_index']['set'](_0x5d1f33,_0x7e0207),this['_list']['push'](_0x7e0207),_0x7e0207['update'](_0x43980a),this['fire']('add',_0x7e0207));}for(const _0x1acdd1 of this['_index']['values']())_0x43980a['detectedMe'+'shes']['has'](_0x1acdd1['xrMesh'])||this['_removeMes'+'h'](_0x1acdd1);}['_removeMes'+'h'](_0xea0cbb){this['_index']['delete'](_0xea0cbb['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0xea0cbb),-0xb19*-0x1+0x819*0x1+-0x11*0x121),_0xea0cbb['destroy'](),this['fire']('remove',_0xea0cbb);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x160246=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x74c+0x247*0x1+0x506);if(!_0x160246)return;this['_available']=_0x160246,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0xd8c+0xbf1+0x19c);for(const _0x511f5c of this['_index']['values']())this['_removeMes'+'h'](_0x511f5c);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x46bab0,_0x53783a,_0x1046d9){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x122b+0x751*-0x1+0x197f)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x35c*-0x8+-0x12ed+0x2ded)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x46bab0,this['_xrView']=_0x53783a);const _0x1bcb6a=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x1bcb6a,{'format':Cr,'mipmaps':!(-0x26*0x6a+-0x1015+0x1fd2),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0xcdf958=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x1bcb6a,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x1046d9===-0x11cb*-0x2+-0x15*-0x16f+-0x41b0?-0x8*-0x391+-0x82b+-0x145d*0x1:_0x1046d9,'mipmaps':!(-0x70e+-0x210c+0x281b),'addressU':ue,'addressV':ue,'minFilter':_0xcdf958,'magFilter':_0xcdf958,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0xa98cdd=0x17ba+0x1436*0x1+-0x2bf0;_0xa98cdd<this['_textureDe'+'pth']['_levels']['length'];_0xa98cdd++)this['_textureDe'+'pth']['_levels'][_0xa98cdd]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1bcb6a['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x3358bf;return((_0x3358bf=this['_depthInfo'])==null?void(0x9*0x2fd+0x1da7+0x524*-0xb):_0x3358bf['rawValueTo'+'Meters'])||0x1*0x1f1b+-0x1271+0x1*-0xcaa;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x2a2d32,_0xc95eee){this['_xrView']=_0xc95eee,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x388a81=_0x2a2d32['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x388a81['x'],this['_viewport']['y']=_0x388a81['y'],this['_viewport']['z']=_0x388a81['width'],this['_viewport']['w']=_0x388a81['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x2a2d32);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x195616=this['_manager']['webglBindi'+'ng'];if(!_0x195616)return;const _0x435555=_0x195616['getCameraI'+'mage'](this['_xrCamera']);if(!_0x435555)return;const _0x5d4fa4=this['_manager']['app']['graphicsDe'+'vice'],_0x5bf199=_0x5d4fa4['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5bf199['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5bf199['createFram'+'ebuffer']();else{const _0x2098c4=_0x5bf199['COLOR_ATTA'+'CHMENT0'],_0x555f1a=this['_xrCamera']['width'],_0x475826=this['_xrCamera']['height'];_0x5d4fa4['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5bf199['framebuffe'+'rTexture2D'](_0x5bf199['FRAMEBUFFE'+'R'],_0x2098c4,_0x5bf199['TEXTURE_2D'],_0x435555,0x26ae+-0x8bf+-0x1def),_0x5d4fa4['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5bf199['framebuffe'+'rTexture2D'](_0x5bf199['FRAMEBUFFE'+'R'],_0x2098c4,_0x5bf199['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x19*0x7d+-0x10*0xde+-0x1*-0x1a15),_0x5bf199['bindFrameb'+'uffer'](_0x5bf199['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5bf199['bindFrameb'+'uffer'](_0x5bf199['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5bf199['blitFrameb'+'uffer'](0xf5*0x19+0x361*0x3+-0x2210,_0x475826,_0x555f1a,0xb3*-0x34+0x1*0xbe1+-0x187b*-0x1,-0x1ea0+0x268e+0x3f7*-0x2,0x1a28+-0x1fe4+0x5bc,_0x555f1a,_0x475826,_0x5bf199['COLOR_BUFF'+'ER_BIT'],_0x5bf199['NEAREST']);}}['_updateDep'+'th'](_0x5ccd63){var _0x15767f,_0x571711;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x45aa3e=this['_manager']['views']['depthGpuOp'+'timized'],_0x2f9210=_0x45aa3e?this['_manager']['webglBindi'+'ng']:_0x5ccd63;if(!_0x2f9210){this['_depthInfo']=null;return;}const _0x2bb073=_0x2f9210['getDepthIn'+'formation'](this['_xrView']);if(!_0x2bb073){this['_depthInfo']=null;return;}let _0x1c82c6=!this['_depthInfo']!=!_0x2bb073;this['_depthInfo']=_0x2bb073;const _0x12d410=((_0x15767f=this['_depthInfo'])==null?void(-0x1*-0x18d7+-0x13*-0x1c1+-0x3a2a):_0x15767f['width'])||-0x104b+0x412+-0xc3d*-0x1,_0x2ae053=((_0x571711=this['_depthInfo'])==null?void(-0x6dc+0x97*-0x8+0xb94):_0x571711['height'])||0xddb*-0x1+0x1d6*-0xa+-0x203b*-0x1;let _0x2b15e1=!(0x18d6+-0x6fc+-0x11d9);if((this['_textureDe'+'pth']['width']!==_0x12d410||this['_textureDe'+'pth']['height']!==_0x2ae053)&&(this['_textureDe'+'pth']['_width']=_0x12d410,this['_textureDe'+'pth']['_height']=_0x2ae053,_0x1c82c6=!(-0x46*-0x8+-0x6*-0x527+-0x211a),_0x2b15e1=!(0x49d*0x3+-0x7f0+-0x1*0x5e7)),_0x1c82c6&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x45aa3e){if(this['_depthInfo']['texture']){const _0x1390d0=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x1390d0['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x1390d0['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x1390d0['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x1390d0['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x1390d0['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x1390d0['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x1390d0['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x1390d0['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xc8f*0x3+0x2353+-0x4900);}}else this['_textureDe'+'pth']['_levels'][0x1f57+0x6*-0xfb+0x31*-0x85]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x2*-0x11e+0x1be*-0xf+-0x7*-0x36a]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x2b15e1&&this['fire']('depth:resi'+'ze',_0x12d410,_0x2ae053);}['updateTran'+'sforms'](_0x5c4d88){_0x5c4d88?(this['_viewInvOf'+'fMat']['mul2'](_0x5c4d88,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x1de7*-0x1+0x3a4*0x1+-0x1b*-0xf9]=this['_viewInvOf'+'fMat']['data'][0x7*0x4f2+-0x16ac+-0xbe6],this['_positionD'+'ata'][0x7*0x262+-0x131e*-0x2+-0x36e9]=this['_viewInvOf'+'fMat']['data'][-0xe6b+0x976+-0x502*-0x1],this['_positionD'+'ata'][-0xbee+-0x6f3*-0x1+0x4fd]=this['_viewInvOf'+'fMat']['data'][-0x914+-0x2110+0x1eb*0x16];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x4304df,_0x75e7ce){var _0x35e61f;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x35e61f=this['_depthInfo'])==null?void(-0x1262*-0x1+-0x2668+0x1406):_0x35e61f['getDepthIn'+'Meters'](_0x4304df,_0x75e7ce))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x58c14f=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x58c14f['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x58c14f['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x3dd0df){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x1*-0xd44+0x14e*-0x17+-0x10bf*-0x1)),h(this,'_available'+'Depth',!(-0xad5*0x1+0xde*-0x1c+0x231e*0x1)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x3dd0df,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x2e0bdb,_0x2c1656){for(let _0x311982=-0x260b+0x2109+0x502;_0x311982<_0x2c1656['length'];_0x311982++)this['_indexTmp']['set'](_0x2c1656[_0x311982]['eye'],_0x2c1656[_0x311982]);for(const [_0xa03f2c,_0x41f22e]of this['_indexTmp']){let _0x3c82b2=this['_index']['get'](_0xa03f2c);_0x3c82b2?_0x3c82b2['update'](_0x2e0bdb,_0x41f22e):(_0x3c82b2=new O0(this['_manager'],_0x41f22e,_0x2c1656['length']),this['_index']['set'](_0xa03f2c,_0x3c82b2),this['_list']['push'](_0x3c82b2),_0x3c82b2['update'](_0x2e0bdb,_0x41f22e),this['fire']('add',_0x3c82b2));}for(const [_0x433180,_0x5f4afc]of this['_index']){if(this['_indexTmp']['has'](_0x433180))continue;_0x5f4afc['destroy'](),this['_index']['delete'](_0x433180);const _0x30af4d=this['_list']['indexOf'](_0x5f4afc);_0x30af4d!==-(0xc1f+-0x25b1*-0x1+0x29*-0x137)&&this['_list']['splice'](_0x30af4d,0xc32+-0x5e0*0x2+-0x1*0x71),this['fire']('remove',_0x5f4afc);}this['_indexTmp']['clear']();}['get'](_0x30a170){return this['_index']['get'](_0x30a170)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1*0xe37+0xafb+0x1*-0x1931),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1142+0x44b*-0x3+-0x460),this['_available'+'Depth'])){const _0x25343a=this['_manager']['session'];this['_depthUsag'+'e']=_0x25343a['depthUsage'],this['_depthForm'+'at']=_0x25343a['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x30c8c8 of this['_index']['values']())_0x30c8c8['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x706+0x1504+-0x1c09),this['_available'+'Depth']=!(0x382+0x2367+0x33e*-0xc),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x6*-0x2a6+-0x1c75*0x1+0x2c59;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x858def){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x2380+-0x233*0xb+-0xb4f+0.1),h(this,'_depthFar',0x1d*0x9f+0xffd*-0x2+-0x11df*-0x1),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x261c+-0x1*0x130a+-0x1312),h(this,'_height',0x15*0xcb+-0x17*-0xa+-0x1*0x118d),h(this,'_framebuff'+'erScaleFac'+'tor',0xdcb+-0xe3d+-0x5*-0x17),(this['app']=_0x858def,this['_available'][lU]=!(0x6f7*-0x1+-0x1aa3*0x1+0x219b),this['_available'][cU]=!(-0x1ab8+0x635+0x1484),this['_available'][$o]=!(0x18f9+-0x17c6+-0x132),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x43b6e4,_0x47ff3b,_0x4c27f0,_0x592aa4){let _0x107831=_0x592aa4;if(typeof _0x592aa4=='object'&&(_0x107831=_0x592aa4['callback']),!this['_available'][_0x47ff3b]){_0x107831&&_0x107831(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x107831&&_0x107831(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x43b6e4,this['_camera']['camera']['xr']=this,this['_type']=_0x47ff3b,this['_spaceType']=_0x4c27f0,this['_framebuff'+'erScaleFac'+'tor']=(_0x592aa4==null?void(-0x15*0xb1+0x13af+0x295*-0x2):_0x592aa4['framebuffe'+'rScaleFact'+'or'])??0x1*0xa31+0xb1*0x13+-0x355*0x7,this['_setClipPl'+'anes'](_0x43b6e4['nearClip'],_0x43b6e4['farClip']);const _0x3eff43={'requiredFeatures':[_0x4c27f0],'optionalFeatures':[]},_0x4cf867=this['app']['graphicsDe'+'vice'];_0x4cf867!=null&&_0x4cf867['isWebGPU']&&_0x3eff43['requiredFe'+'atures']['push']('webgpu');const _0x3b6deb=_0x4cf867==null?void(-0xe31+0x2*0x2bd+0x8b7):_0x4cf867['isWebGL2'];if(_0x47ff3b===$o){if(_0x3eff43['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x3eff43['optionalFe'+'atures']['push']('hit-test'),_0x592aa4&&(_0x592aa4['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x3eff43['optionalFe'+'atures']['push']('image-trac'+'king'),_0x592aa4['planeDetec'+'tion']&&_0x3eff43['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x592aa4['meshDetect'+'ion']&&_0x3eff43['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x3eff43['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x3eff43['domOverlay']={'root':this['domOverlay']['root']}),_0x592aa4&&_0x592aa4['anchors']&&this['anchors']['supported']&&_0x3eff43['optionalFe'+'atures']['push']('anchors'),_0x592aa4&&_0x592aa4['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x3eff43['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x48837c=[],_0x26fe3a=[];if(_0x48837c['push'](P0,dU),_0x26fe3a['push'](I0,M0,D0),_0x592aa4['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x1a5bdf=_0x48837c['indexOf'](_0x592aa4['depthSensi'+'ng']['usagePrefe'+'rence']);_0x1a5bdf!==-(0x37d*0xa+0x189f+0x220*-0x1c)&&_0x48837c['splice'](_0x1a5bdf,0x99b+0x14e*-0x4+-0x462),_0x48837c['unshift'](_0x592aa4['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x592aa4['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x1c2113=_0x26fe3a['indexOf'](_0x592aa4['depthSensi'+'ng']['dataFormat'+'Preference']);_0x1c2113!==-(0x5*0x755+0x1c*-0x127+0x1*-0x464)&&_0x26fe3a['splice'](_0x1c2113,0x62b+-0xa18+-0x3ee*-0x1),_0x26fe3a['unshift'](_0x592aa4['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x3eff43['depthSensi'+'ng']={'usagePreference':_0x48837c,'dataFormatPreference':_0x26fe3a};}_0x3b6deb&&_0x592aa4&&_0x592aa4['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x3eff43['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x3eff43['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x592aa4&&_0x592aa4['optionalFe'+'atures']&&(_0x3eff43['optionalFe'+'atures']=_0x3eff43['optionalFe'+'atures']['concat'](_0x592aa4['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4d0880,_0x33dc42)=>{if(_0x4d0880){_0x107831&&_0x107831(_0x4d0880),this['fire']('error',_0x4d0880);return;}_0x33dc42!==null&&(_0x3eff43['trackedIma'+'ges']=_0x33dc42),this['_onStartOp'+'tionsReady'](_0x47ff3b,_0x4c27f0,_0x3eff43,_0x107831);}):this['_onStartOp'+'tionsReady'](_0x47ff3b,_0x4c27f0,_0x3eff43,_0x107831);}['_onStartOp'+'tionsReady'](_0x3578e3,_0x418b90,_0x96475f,_0x28c8b4){const _0x4a15ab=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x96475f;navigator['xr']['requestSes'+'sion'](_0x3578e3,_0x4a15ab)['then'](_0x41dc6d=>{this['_onSession'+'Start'](_0x41dc6d,_0x418b90,_0x28c8b4);})['catch'](_0x4ce420=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x28c8b4&&_0x28c8b4(_0x4ce420),this['fire']('error',_0x4ce420);});}['end'](_0x3e6076){if(!this['_session']){_0x3e6076&&_0x3e6076(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x3e6076&&this['once']('end',_0x3e6076),this['_session']['end']();}['isAvailabl'+'e'](_0x3a5b50){return this['_available'][_0x3a5b50];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x4638f3 in this['_available'])this['_sessionSu'+'pportCheck'](_0x4638f3);}['initiateRo'+'omCapture'](_0x2b3739){if(!this['_session']){_0x2b3739(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x2b3739(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x2b3739&&_0x2b3739(null);})['catch'](_0x3167c0=>{_0x2b3739&&_0x2b3739(_0x3167c0);});}['updateTarg'+'etFrameRat'+'e'](_0x5d41c5,_0x1c5a76){var _0x49e39e;if(!((_0x49e39e=this['_session'])!=null&&_0x49e39e['updateTarg'+'etFrameRat'+'e'])){_0x1c5a76==null||_0x1c5a76(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x5d41c5)['then'](()=>{_0x1c5a76==null||_0x1c5a76();})['catch'](_0x55c67f=>{_0x1c5a76==null||_0x1c5a76(_0x55c67f);});}['_sessionSu'+'pportCheck'](_0x40d7e9){navigator['xr']['isSessionS'+'upported'](_0x40d7e9)['then'](_0x3d5ff2=>{this['_available'][_0x40d7e9]!==_0x3d5ff2&&(this['_available'][_0x40d7e9]=_0x3d5ff2,this['fire']('available',_0x40d7e9,_0x3d5ff2),this['fire']('available:'+_0x40d7e9,_0x3d5ff2));})['catch'](_0x372586=>{this['fire']('error',_0x372586);});}['_onSession'+'Start'](_0x4d7c05,_0x3602a5,_0x151710){let _0x501041=!(0x26*-0x39+-0x1b59*0x1+0x23d0);this['_session']=_0x4d7c05;const _0x18a54d=()=>{this['fire']('visibility'+':change',_0x4d7c05['visibility'+'State']);},_0x327bbe=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x312097=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x327bbe),this['_camera']['off']('set_farCli'+'p',_0x327bbe),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x4d7c05['removeEven'+'tListener']('end',_0x312097),_0x4d7c05['removeEven'+'tListener']('visibility'+'change',_0x18a54d),_0x501041||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x336+-0x17f6+0x14c0,this['_height']=0x3*0xc43+-0x874+-0x1c55,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x4d7c05['addEventLi'+'stener']('end',_0x312097),_0x4d7c05['addEventLi'+'stener']('visibility'+'change',_0x18a54d),this['_camera']['on']('set_nearCl'+'ip',_0x327bbe),this['_camera']['on']('set_farCli'+'p',_0x327bbe),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3496a1;this['fire']('frameratec'+'hange',(_0x3496a1=this['_session'])==null?void(-0x12c3+-0x239c+0x1c1*0x1f):_0x3496a1['frameRate']);}),_0x4d7c05['requestRef'+'erenceSpac'+'e'](_0x3602a5)['then'](_0x34f308=>{this['_reference'+'Space']=_0x34f308,this['app']['tick'](),_0x151710&&_0x151710(null),this['fire']('start');})['catch'](_0x7f75b8=>{_0x501041=!(0x6b*-0x1+0x19fb+-0x1990),_0x4d7c05['end'](),_0x151710&&_0x151710(_0x7f75b8),this['fire']('error',_0x7f75b8);});}['_setClipPl'+'anes'](_0x4268da,_0x2db668){this['_depthNear']===_0x4268da&&this['_depthFar']===_0x2db668||(this['_depthNear']=_0x4268da,this['_depthFar']=_0x2db668,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x2fec52=this['app']['graphicsDe'+'vice'],_0x228314=_0x2fec52['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x2fec52['gl'],{'alpha':!(-0x6*-0x4db+-0x31c*0x9+-0x126),'depth':!(0x26ed+0x6e*-0x41+-0xaff),'stencil':!(-0x9b7+0x1*-0xa9f+0x1456),'framebufferScaleFactor':_0x228314,'antialias':!(-0x2*0xac5+-0x14b7+0x259*0x12)}),_0x2fec52!=null&&_0x2fec52['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x2fec52['gl']);}catch(_0x4bac43){this['fire']('error',_0x4bac43);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x5c4347=>{this['fire']('error',_0x5c4347);});},0x3a9*-0x5+0xbc9+0x684);}['update'](_0xf74962){if(!this['_session'])return!(-0xc1f*0x1+0x26e3+-0x193*0x11);const _0x5240de=_0xf74962['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x57bae6=_0xf74962['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5240de||this['_height']!==_0x57bae6)&&(this['_width']=_0x5240de,this['_height']=_0x57bae6,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5240de,_0x57bae6));const _0x1978ce=_0xf74962['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x1978ce)return!(0x469+0x29e+0x3e*-0x1d);const _0x4a6d01=this['views']['list']['length'];this['views']['update'](_0xf74962,_0x1978ce['views']);const _0x119e25=_0x1978ce['transform']['position'],_0x2d8a=_0x1978ce['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x119e25['x'],_0x119e25['y'],_0x119e25['z']),this['_localRota'+'tion']['set'](_0x2d8a['x'],_0x2d8a['y'],_0x2d8a['z'],_0x2d8a['w']),_0x4a6d01===-0xf*0x199+0xfad+0x84a&&this['views']['list']['length']>0x2484+-0x1*-0x129e+-0x3722*0x1){const _0x3e97f1=new te(),_0x36e702=this['views']['list'][0x81d*-0x2+0x1*-0x74e+0x1788];_0x3e97f1['copy'](_0x36e702['projMat']);const _0x5d97a2=_0x3e97f1['data'],_0x17905c=(0x3d2*0x2+-0xa17+0x275)*Math['atan']((-0x82e+-0x1cfd+0x252c)/_0x5d97a2[-0xea2+0xc5*0x16+-0x247])*(0x1c11+0x1c09+-0x3766)/Math['PI'],_0x50c033=_0x5d97a2[0xd*-0xf5+0x1*-0x1611+0x2287]/_0x5d97a2[-0x3*0x2e5+0x885*-0x1+0x1134],_0x4e1455=_0x5d97a2[0x2582+0x1e5f+-0x43d3*0x1]/(_0x5d97a2[-0x169*-0x1+-0x17b8+0x1659]+(-0xd2f+-0x1*0xddb+0x1b0b)),_0x1bdd1e=_0x5d97a2[-0x1466+0xbec*-0x2+0x69*0x6c]/(_0x5d97a2[0x1*0x4f7+-0x11cd+0x4*0x338]-(-0x71*0x2+-0xf7*0x19+-0x6*-0x42b));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x50c033,'farClip':_0x4e1455,'fov':_0x17905c,'horizontalFov':!(0x1037+-0x951+-0x6e5),'nearClip':_0x1bdd1e});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0xf74962),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0xf74962),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0xf74962),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0xf74962),this['anchors']['supported']&&this['anchors']['update'](_0xf74962),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0xf74962),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0xf74962)),this['fire']('update',_0xf74962),!(-0xa*0x389+0x3cc+0x1f8e);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x2e1d4d;return((_0x2e1d4d=this['_session'])==null?void(-0x17e2+0x2d0+-0x3e*-0x57):_0x2e1d4d['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x523bce){var _0x45a3b8;(((_0x45a3b8=this['_baseLayer'])==null?void(0x2*0xc56+-0x24af+-0xc03*-0x1):_0x45a3b8['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x69*0x1d+-0x2*-0x11b4+-0x1782&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x523bce);}get['fixedFovea'+'tion'](){var _0x540a6f;return((_0x540a6f=this['_baseLayer'])==null?void(-0x1*0x1143+-0x2127*-0x1+-0xfe4):_0x540a6f['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x24beae,_0xad2f77={}){super(_0x24beae);const _0x14aaec=new tL();_0x14aaec['graphicsDe'+'vice']=_0xad2f77['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x24beae,_0xad2f77),this['addCompone'+'ntSystems'](_0x14aaec),this['addResourc'+'eHandles'](_0x14aaec),_0x14aaec['elementInp'+'ut']=_0xad2f77['elementInp'+'ut'],_0x14aaec['keyboard']=_0xad2f77['keyboard'],_0x14aaec['mouse']=_0xad2f77['mouse'],_0x14aaec['touch']=_0xad2f77['touch'],_0x14aaec['gamepads']=_0xad2f77['gamepads'],_0x14aaec['scriptPref'+'ix']=_0xad2f77['scriptPref'+'ix'],_0x14aaec['assetPrefi'+'x']=_0xad2f77['assetPrefi'+'x'],_0x14aaec['scriptsOrd'+'er']=_0xad2f77['scriptsOrd'+'er'],_0x14aaec['soundManag'+'er']=new Pw(),_0x14aaec['lightmappe'+'r']=pL,_0x14aaec['batchManag'+'er']=IE,_0x14aaec['xr']=ln,this['init'](_0x14aaec);}['createDevi'+'ce'](_0x335cf2,_0x33bd5d){return _0x33bd5d['graphicsDe'+'viceOption'+'s']||(_0x33bd5d['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x33bd5d['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x1916+-0x5f9*-0x1+-0x1f0f)),_0x33bd5d['graphicsDe'+'viceOption'+'s']['alpha']=_0x33bd5d['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x10c6+0x30a*0x2+0xab3),new aw(_0x335cf2,_0x33bd5d['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x499b0b){_0x499b0b['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x3e8a47){_0x3e8a47['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0xe5537,_0x4fb286){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0x5bf+-0x12ad+0x186d)),h(this,'_loaded',!(-0x251*0x1+0x1*-0xedd+0x112f)),h(this,'_failed',[]),(this['_registry']=_0x4fb286,_0xe5537['forEach'](_0x4a5e99=>{if(_0x4a5e99 instanceof pe)_0x4a5e99['registry']||(_0x4a5e99['registry']=_0x4fb286),this['_assets']['add'](_0x4a5e99);else{const _0x3a1c19=_0x4fb286['get'](_0x4a5e99);_0x3a1c19?this['_assets']['add'](_0x3a1c19):this['_waitForAs'+'set'](_0x4a5e99);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0xdb7f90=>{this['_registry']['off']('add:'+_0xdb7f90,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x66684f){var _0xfff37f;return _0x66684f['type']==='model'&&((_0xfff37f=_0x66684f['file'])==null?void(-0x7*0x420+-0x2*-0x115+0x2*0xd5b):_0xfff37f['url'])&&_0x66684f['file']['url']&&_0x66684f['file']['url']['match'](/.json$/g);}['load'](_0x4642de,_0x54432d){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1eef+-0x1*-0x20f2+0x1*-0x203),this['_callback']=_0x4642de,this['_scope']=_0x54432d,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x489267=!(0xc9d+0x2523+-0x31bf);this['_assets']['forEach'](_0x423688=>{_0x423688['loaded']||(_0x489267=!(-0x2541+0x1a31+0xb10),this['_assetHasD'+'ependencie'+'s'](_0x423688)&&this['_registry']['loadFromUr'+'l'](_0x423688['file']['url'],_0x423688['type'],(_0x87d50c,_0x297ccf)=>{if(_0x87d50c){this['_onError'](_0x87d50c,_0x423688);return;}this['_onLoad'](_0x423688);}),this['_loadingAs'+'sets']['add'](_0x423688),this['_registry']['add'](_0x423688));}),this['_loadingAs'+'sets']['forEach'](_0x3b82b1=>{this['_assetHasD'+'ependencie'+'s'](_0x3b82b1)||this['_registry']['load'](_0x3b82b1);}),!_0x489267&&this['_waitingAs'+'sets']['size']===0x51c*0x5+-0x1*-0x274+-0x4*0x700&&this['_loadingCo'+'mplete']();}['ready'](_0x3aea31,_0x343fad=this){this['_loaded']?_0x3aea31['call'](_0x343fad,Array['from'](this['_assets'])):this['once']('load',_0x5b88ee=>{_0x3aea31['call'](_0x343fad,_0x5b88ee);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x100e+-0x4*-0x1de+-0x1786*0x1),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x46b7fa){this['_loadingAs'+'sets']['has'](_0x46b7fa)&&(this['fire']('progress',_0x46b7fa),this['_loadingAs'+'sets']['delete'](_0x46b7fa)),this['_loadingAs'+'sets']['size']===-0x17a7+-0x1323+0x2aca&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0xd73+0x24a5+0x1732*-0x1);}['_onError'](_0x5cf1db,_0x1042e7){this['_loadingAs'+'sets']['has'](_0x1042e7)&&(this['_failed']['push'](_0x1042e7),this['_loadingAs'+'sets']['delete'](_0x1042e7)),this['_loadingAs'+'sets']['size']===0xa2e+0x17e3+0x9*-0x3c9&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1*-0xa8b+0x253a+-0x2fc5);}['_onAddAsse'+'t'](_0x19b0e5){this['_waitingAs'+'sets']['delete'](_0x19b0e5),this['_assets']['add'](_0x19b0e5),_0x19b0e5['loaded']||(this['_loadingAs'+'sets']['add'](_0x19b0e5),this['_registry']['load'](_0x19b0e5));}['_waitForAs'+'set'](_0x1e3f24){this['_waitingAs'+'sets']['add'](_0x1e3f24),this['_registry']['once']('add:'+_0x1e3f24,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x435990,_0x19447f){super(_0x435990),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x19447f;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3c73ba=>{_0x3c73ba['defaultUni'+'formBuffer']['destroy'](),_0x3c73ba['destroy']();}),this['viewBindGr'+'oups']['length']=-0xbf8*0x1+0xff5+-0x3fd;}['update'](_0x49ef7d,_0x2aa872,_0x52b04d,_0x336477){this['camera']=_0x49ef7d,this['scene']=_0x2aa872,this['layers']=_0x52b04d,this['mapping']=_0x336477;}['execute'](){const _0x551418=this['device'],{renderer:_0x2f534a,camera:_0x3f4158,scene:_0x20bc13,layers:_0x2a191e,mapping:_0xadff6c,renderTarget:_0x2f5684}=this,_0x4642fa=_0x20bc13['layers']['layerList'],_0x1c5cb7=_0x20bc13['layers']['subLayerEn'+'abled'],_0x87a943=_0x20bc13['layers']['subLayerLi'+'st'];for(let _0x4f0909=-0x1b26*0x1+-0x2*0x593+-0x264c*-0x1;_0x4f0909<_0x4642fa['length'];_0x4f0909++){const _0x4bb0fc=_0x4642fa[_0x4f0909];if(!(_0x2a191e&&_0x2a191e['indexOf'](_0x4bb0fc)<-0x548+0x45a*0x2+-0x36c)&&_0x4bb0fc['enabled']&&_0x1c5cb7[_0x4f0909]&&_0x4bb0fc['camerasSet']['has'](_0x3f4158['camera'])){const _0x29db3a=_0x87a943[_0x4f0909];Q['pushGpuMar'+'ker'](_0x551418,_0x4bb0fc['name']+'('+(_0x29db3a?'TRANSP':'OPAQUE')+')'),_0x4bb0fc['_clearDept'+'hBuffer']&&_0x2f534a['clear'](_0x3f4158['camera'],!(0x89*0x2+0x247d*0x1+-0x258e),!(0x29d*-0x1+-0x60d*0x1+-0x455*-0x2),!(-0x26c8+-0x132b*0x1+0x39f4));const _0x417852=_0x4bb0fc['meshInstan'+'ces'];for(let _0x40cd2d=0x27+-0x198d+0x1966;_0x40cd2d<_0x417852['length'];_0x40cd2d++){const _0x6a916=_0x417852[_0x40cd2d];_0x6a916['pick']&&_0x6a916['transparen'+'t']===_0x29db3a&&(Fc['push'](_0x6a916),_0xadff6c['set'](_0x6a916['id'],_0x6a916));}Fc['length']>0x23b+-0x8c5*-0x1+-0xb00&&(_0x20bc13['clusteredL'+'ightingEna'+'bled']&&_0x2f534a['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x2f534a['setCameraU'+'niforms'](_0x3f4158['camera'],_0x2f5684),_0x551418['supportsUn'+'iformBuffe'+'rs']&&_0x2f534a['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x2f534a['viewUnifor'+'mFormat'],_0x2f534a['viewBindGr'+'oupFormat'],null),_0x2f534a['renderForw'+'ard'](_0x3f4158['camera'],_0x2f5684,Fc,_U,Zn,_0x1d08f9=>{_0x551418['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0xcc+0x6eb+-0x61f),Q['popGpuMark'+'er'](_0x551418);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x3c1c2b,_0x3affc7,_0x1ac21e){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x23a*-0x2+-0x22b5*0x1+0x1e41)),(w['assert'](_0x3c1c2b),this['renderer']=_0x3c1c2b['renderer'],this['device']=_0x3c1c2b['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x3c1c2b['renderer']),this['width']=0xf0d+-0xf1b+0xe,this['height']=0x1a*0x161+-0x930+-0x1aaa,this['resize'](_0x3affc7,_0x1ac21e),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0xfb5+0x130e+-0x22c2);}));}['getSelecti'+'on'](_0x3a28c0,_0x36411c,_0x3bcfc0=-0x14ba+-0x38a*0x9+-0x3*-0x1187,_0x1f3f52=-0x1288+-0x3*0x7db+0x2a1a){const _0x3bc071=this['device'];if(_0x3bc071['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x3a28c0!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x36411c=this['renderTarg'+'et']['height']-(_0x36411c+_0x1f3f52);const _0x564b8b=this['sanitizeRe'+'ct'](_0x3a28c0,_0x36411c,_0x3bcfc0,_0x1f3f52);_0x3bc071['setRenderT'+'arget'](this['renderTarg'+'et']),_0x3bc071['updateBegi'+'n']();const _0x3abe24=new Uint8Array((-0x261a+-0x134f*-0x1+0x12cf)*_0x564b8b['z']*_0x564b8b['w']);return _0x3bc071['readPixels'](_0x564b8b['x'],_0x564b8b['y'],_0x564b8b['z'],_0x564b8b['w'],_0x3abe24),_0x3bc071['updateEnd'](),this['decodePixe'+'ls'](_0x3abe24,this['mapping']);}['getSelecti'+'onAsync'](_0x232537,_0x2f31aa,_0x383741=-0x1d3a+0x2599*-0x1+0x2*0x216a,_0x2bbc9b=-0x19e7+0xbed+0x1*0xdfb){var _0x57a0e3;(_0x57a0e3=this['device'])!=null&&_0x57a0e3['isWebGL2']&&(_0x2f31aa=this['renderTarg'+'et']['height']-(_0x2f31aa+_0x2bbc9b));const _0xe7b507=this['sanitizeRe'+'ct'](_0x232537,_0x2f31aa,_0x383741,_0x2bbc9b);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0xe7b507['x'],_0xe7b507['y'],_0xe7b507['z'],_0xe7b507['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x5*0xc7+0xa7*0x30+-0x1b6d*0x1)})['then'](_0x39a266=>this['decodePixe'+'ls'](_0x39a266,this['mapping']));}['sanitizeRe'+'ct'](_0x54b7b5,_0x5f5750,_0x19790a,_0x1130e9){const _0x3d05c3=this['renderTarg'+'et']['width'],_0x51511a=this['renderTarg'+'et']['height'];return _0x54b7b5=Y['clamp'](Math['floor'](_0x54b7b5),-0x1146+-0x16*-0x60+0x1e*0x4d,_0x3d05c3-(0x2585*-0x1+-0x1c6b+0x41f1)),_0x5f5750=Y['clamp'](Math['floor'](_0x5f5750),-0xbdd*0x3+0x61*-0x37+0x386e,_0x51511a-(0x1*0x1f17+0x861+-0x2777)),_0x19790a=Math['floor'](Math['max'](_0x19790a,0x1*-0xbab+-0x1904*-0x1+-0xd58)),_0x19790a=Math['min'](_0x19790a,_0x3d05c3-_0x54b7b5),_0x1130e9=Math['floor'](Math['max'](_0x1130e9,-0xdf6+-0x3*-0x45b+0xe6)),_0x1130e9=Math['min'](_0x1130e9,_0x51511a-_0x5f5750),SU['set'](_0x54b7b5,_0x5f5750,_0x19790a,_0x1130e9);}['decodePixe'+'ls'](_0x4bf929,_0x546fff){const _0x16522e=[];if(this['deviceVali'+'d']){const _0x3b147f=_0x4bf929['length'];for(let _0x40bd2d=-0x2a+-0x46f*-0x1+-0x1*0x445;_0x40bd2d<_0x3b147f;_0x40bd2d+=-0x11*0x1+0x73d*0x3+-0x15a2){const _0x19a3a4=_0x4bf929[_0x40bd2d+(-0x1646+0x1fbc*-0x1+-0x1*-0x3602)],_0x2e3c70=_0x4bf929[_0x40bd2d+(0x298+-0xbd8+0x17*0x67)],_0x24e502=_0x4bf929[_0x40bd2d+(-0x1475*-0x1+0x1ccc+-0x7*0x709)],_0x40fb4d=(_0x4bf929[_0x40bd2d+(-0x1*0x16c4+-0x16c5+0x6e*0x6a)]<<-0x401*-0x1+0x2*-0xa6d+-0x10f1*-0x1|_0x19a3a4<<0x4*0x15d+-0xdf6+0x892|_0x2e3c70<<-0x13e2+-0x3*0x7b9+0x2b15|_0x24e502)>>>-0x1d*-0x17+0x608+-0x8a3;_0x40fb4d!==0xb7d5088+0x1960f35bf+-0xa18c8648&&Rf['add'](_0x546fff['get'](_0x40fb4d));}Rf['forEach'](_0x299974=>{_0x299974&&_0x16522e['push'](_0x299974);}),Rf['clear']();}return _0x16522e;}['allocateRe'+'nderTarget'](){const _0x930387=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0xe9+0x59*-0x7+-0x1*-0x359),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x930387,'depth':!(-0xc4c*-0x1+-0xed6*-0x2+-0x4*0xa7e)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x24d78b,_0x4ea99d,_0x57690f){_0x57690f instanceof Ot&&(_0x57690f=[_0x57690f]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x3583e9=this['renderPass'];_0x3583e9['init'](this['renderTarg'+'et']),_0x3583e9['colorOps']['clearValue']=ie['WHITE'],_0x3583e9['colorOps']['clear']=!(-0x43*-0x61+-0x196+0x17cd*-0x1),_0x3583e9['depthStenc'+'ilOps']['clearDepth']=!(0x472+-0x1bfa+0x1788),_0x3583e9['update'](_0x24d78b,_0x4ea99d,_0x57690f,this['mapping']),_0x3583e9['render']();}['resize'](_0x532855,_0x5abd3a){this['width']=Math['floor'](_0x532855),this['height']=Math['floor'](_0x5abd3a);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0xca06d0,_0xe1a883,_0x4d06f0){return yU['cross'](_0xca06d0,_0xe1a883)['dot'](_0x4d06f0);}function xU(_0x164b80,_0x5877e9,_0x3c2e85){en['sub2'](_0x5877e9,_0x164b80),Nc['sub2'](_0x3c2e85[0x25f*0xa+-0x11*-0x8c+-0x2102],_0x164b80),Ff['sub2'](_0x3c2e85[-0x8ab*-0x3+0x1*-0x17fc+0x3*-0xac],_0x164b80),OS['sub2'](_0x3c2e85[0x935*0x1+0x85*0x40+-0x2a73],_0x164b80),kc['cross'](OS,en);let _0x191d5b=Nc['dot'](kc),_0x562748,_0x3a8ff4;if(_0x191d5b>=-0x966*-0x3+-0x1*-0x10c5+-0x2cf7){if(_0x562748=-Ff['dot'](kc),_0x562748<0x3*-0xbb7+-0x161f*-0x1+-0x683*-0x2||(_0x3a8ff4=BS(en,Ff,Nc),_0x3a8ff4<0x1*-0x1288+0xb4a+0x73e))return-(-0x15f0+0x1a49+0x458*-0x1);const _0x8cdb88=(-0x1748+-0x129a+0x29e3*0x1)/(_0x562748+_0x191d5b+_0x3a8ff4);Uc['copy'](_0x3c2e85[-0x1*0x1a37+0x14f8+0x53f])['mulScalar'](_0x562748*_0x8cdb88),Bc['copy'](_0x3c2e85[0x11b*0xb+0x7d8+-0x1400])['mulScalar'](_0x191d5b*_0x8cdb88),zc['copy'](_0x3c2e85[0x40f+0x145a+-0x1867])['mulScalar'](_0x3a8ff4*_0x8cdb88),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x3c2e85[-0x1f58+0xc6b*-0x1+0x2bc6],_0x164b80),_0x562748=Nf['dot'](kc),_0x562748<-0x1b93+0xe0a*0x2+0x1*-0x81||(_0x3a8ff4=BS(en,Nc,Nf),_0x3a8ff4<0x97f*-0x1+-0x3cd*0x5+-0x98*-0x30))return-(0x23f3*0x1+-0x1264+-0x6b*0x2a);_0x191d5b=-_0x191d5b;const _0xeaeeb9=(-0xc83+-0x13e*0x1f+-0x1*-0x3306)/(_0x562748+_0x191d5b+_0x3a8ff4);Uc['copy'](_0x3c2e85[0x747+0x1d2*-0x6+0x3*0x137])['mulScalar'](_0x562748*_0xeaeeb9),Bc['copy'](_0x3c2e85[-0xf51+0x1592+-0x63e])['mulScalar'](_0x191d5b*_0xeaeeb9),zc['copy'](_0x3c2e85[-0xacc+-0x59*0x3d+0x2003])['mulScalar'](_0x3a8ff4*_0xeaeeb9),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x3c2e85[-0xf61*-0x2+-0x1*-0x24c3+0xd81*-0x5],_0x3c2e85[-0x26a0+-0xa*-0x30e+0x816])['lengthSq']()<(-0x2*0x693+0x1880+-0x1*0xb5a+0.0001)*(0xa04+0x1b3d*-0x1+-0x1139*-0x1+0.0001)||en['sub2'](_0x3c2e85[-0x4*0x251+-0x137+0xa7c],_0x3c2e85[-0x1*-0x196d+-0x2518+0xbae])['lengthSq']()<(-0x1768+-0x15a*-0x5+0x10a6+0.0001)*(0xc33+0x6b*0x5b+0x4*-0xc8f+0.0001)?-(-0x4d6*0x1+0x10b*0xa+-0x597):kf['sub'](_0x164b80)['lengthSq']();}class Am{constructor(_0xe366d5,_0x33601b,_0xa145c3){this['event']=_0xe366d5,this['element']=_0x33601b,this['camera']=_0xa145c3,this['_stopPropa'+'gation']=!(-0x13*-0x9e+0x1*-0x796+0x3*-0x161);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0x2407+-0x20f3+-0x314),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x5ea665,_0x2be5f6,_0x1b0f33,_0x1b283d,_0x1985ba,_0x349041,_0xb03aba){super(_0x5ea665,_0x2be5f6,_0x1b0f33),this['x']=_0x1b283d,this['y']=_0x1985ba,this['ctrlKey']=_0x5ea665['ctrlKey']||!(0xa4+0xe72+-0xf15),this['altKey']=_0x5ea665['altKey']||!(-0x1e74+0xec5+0xfb0),this['shiftKey']=_0x5ea665['shiftKey']||!(-0xae9+-0x5*0x7ca+-0x2*-0x18ee),this['metaKey']=_0x5ea665['metaKey']||!(-0x4*0x3ef+0x87*-0x2b+-0x3*-0xcce),this['button']=_0x5ea665['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x5ea665['movementX']||_0x5ea665['webkitMove'+'mentX']||_0x5ea665['mozMovemen'+'tX']||0x1759+0x213*-0x3+-0x1120,this['dy']=_0x5ea665['movementY']||_0x5ea665['webkitMove'+'mentY']||_0x5ea665['mozMovemen'+'tY']||-0xcb+-0x1*0x1135+0x1200):(this['dx']=_0x1b283d-_0x349041,this['dy']=_0x1985ba-_0xb03aba),this['wheelDelta']=0x1ee*-0x5+0xe01+-0x45b,_0x5ea665['type']==='wheel'&&(_0x5ea665['deltaY']>-0x2369+-0x88*-0x10+0x1ae9?this['wheelDelta']=0x1b59*0x1+-0x332+0x1*-0x1826:_0x5ea665['deltaY']<-0x5*0x17b+-0x603+0xd6a&&(this['wheelDelta']=-(-0x6e6+0x1*-0x765+0xe4c)));}}class Ao extends Am{constructor(_0x477feb,_0x4ef2d9,_0x19ffd1,_0x2ae5c2,_0x470b72,_0xc26c1c){super(_0x477feb,_0x4ef2d9,_0x19ffd1),this['touches']=_0x477feb['touches'],this['changedTou'+'ches']=_0x477feb['changedTou'+'ches'],this['x']=_0x2ae5c2,this['y']=_0x470b72,this['touch']=_0xc26c1c;}}class dr extends Am{constructor(_0x32108d,_0xa2c080,_0x2ee65a,_0x12028d){super(_0x32108d,_0xa2c080,_0x2ee65a),this['inputSourc'+'e']=_0x12028d;}}class Xo{constructor(_0x399b64,_0x319023){this['_app']=null,this['_attached']=!(0xeb0+0x1d9*0x10+-0x2c3f),this['_target']=null,this['_enabled']=!(-0x1832+0x1426+0xe*0x4a),this['_lastX']=-0x1e25+-0xa07+0x282c,this['_lastY']=-0x20c0+0x10c2+0xffe,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x319023||_0x319023['useMouse']!==!(0x5a6*0x3+-0x3*0x643+-0x8*-0x3b),this['_useTouch']=!_0x319023||_0x319023['useTouch']!==!(0x17d2*-0x1+-0x147b+0x2*0x1627),this['_useXr']=!_0x319023||_0x319023['useXr']!==!(-0x1ac5+-0x1a7*-0x3+0x45d*0x5),this['_selectEve'+'ntsAttache'+'d']=!(0x2*0x5e7+0x2051+-0x2c1e),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x399b64);}set['enabled'](_0x16e11c){this['_enabled']=_0x16e11c;}get['enabled'](){return this['_enabled'];}set['app'](_0x37349b){this['_app']=_0x37349b;}get['app'](){return this['_app']||Ms();}['attach'](_0x523d2a){this['_attached']&&(this['_attached']=!(0x8bd+-0x42d*-0x5+0x9df*-0x3),this['detach']()),this['_target']=_0x523d2a,this['_attached']=!(-0x2500+-0x67*-0x29+0x1481);const _0x47c75b=Ae['passiveEve'+'nts']?{'passive':!(-0xa04*-0x2+0x48+-0x1450)}:!(-0x7fd+0x2707+-0x1f09);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x47c75b),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x47c75b),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x47c75b),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x47c75b)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x47c75b),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0x1025+-0x17d7+0x161*0x1d)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x12a*0x18+0xac*-0x25+-0x1*0x313)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x265*-0x1+-0x1d87+0x2e7*0xb))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x1a72*0x1+-0x26a7+-0x457*-0xf),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1d*-0xdf+-0x67c*0x4+0xae);const _0x172d21=Ae['passiveEve'+'nts']?{'passive':!(0x5*-0x87+0x125*-0x17+0x151*0x16)}:!(-0x1128+0x2a1*0xa+0x29*-0x39);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x172d21),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x172d21),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x172d21),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x172d21)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x172d21),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x18a5+-0x1297*0x1+-0x1*0x60d)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x2011+0x149a+-0x34aa)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x16ba+0x1beb*-0x1+-0x1*-0x32a6))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x1588+-0x33*0x64+0x2975),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x5cb793){this['_elements']['indexOf'](_0x5cb793)===-(-0xd30+-0x159b+0x22cc)&&this['_elements']['push'](_0x5cb793);}['removeElem'+'ent'](_0x21dc0e){const _0xa15b04=this['_elements']['indexOf'](_0x21dc0e);_0xa15b04!==-(0x4fb+-0x7e9+0x1*0x2ef)&&this['_elements']['splice'](_0xa15b04,-0x2184+-0x1ad7+0x3c5c);}['_handleUp'](_0x4bfac3){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x4bfac3),this['_onElement'+'MouseEvent']('mouseup',_0x4bfac3)));}['_handleDow'+'n'](_0x24c261){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x24c261),this['_onElement'+'MouseEvent']('mousedown',_0x24c261)));}['_handleMov'+'e'](_0x290fcd){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x290fcd),this['_onElement'+'MouseEvent']('mousemove',_0x290fcd),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x1c5b14){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x1c5b14),this['_onElement'+'MouseEvent']('mousewheel',_0x1c5b14));}['_determine'+'TouchedEle'+'ments'](_0x3f4c9d){const _0x429582={},_0x4e42f3=this['app']['systems']['camera']['cameras'];for(let _0xf33be2=_0x4e42f3['length']-(0x126d*0x1+-0x18ae+0x642);_0xf33be2>=0x1*0x181d+0x175*0x11+0x2*-0x1871;_0xf33be2--){const _0x7b1a79=_0x4e42f3[_0xf33be2];let _0xfc2012=-0x1508*0x1+-0x1*0x10af+0x25b7*0x1;const _0x2d9f82=_0x3f4c9d['changedTou'+'ches']['length'];for(let _0x279f89=-0xcd9+-0x9*0x329+0xa*0x421;_0x279f89<_0x2d9f82;_0x279f89++){if(_0x429582[_0x3f4c9d['changedTou'+'ches'][_0x279f89]['identifier']]){_0xfc2012++;continue;}const _0x21d819=Wc(_0x3f4c9d['changedTou'+'ches'][_0x279f89]),_0x3266dc=this['_getTarget'+'ElementByC'+'oords'](_0x7b1a79,_0x21d819['x'],_0x21d819['y']);_0x3266dc&&(_0xfc2012++,_0x429582[_0x3f4c9d['changedTou'+'ches'][_0x279f89]['identifier']]={'element':_0x3266dc,'camera':_0x7b1a79,'x':_0x21d819['x'],'y':_0x21d819['y']});}if(_0xfc2012===_0x2d9f82)break;}return _0x429582;}['_handleTou'+'chStart'](_0xf346c7){if(!this['_enabled'])return;const _0x2c3b00=this['_determine'+'TouchedEle'+'ments'](_0xf346c7);for(let _0x508be4=0x10e8*0x1+-0x14c*0x19+0x2*0x7c2,_0x1ef502=_0xf346c7['changedTou'+'ches']['length'];_0x508be4<_0x1ef502;_0x508be4++){const _0x3cb66b=_0xf346c7['changedTou'+'ches'][_0x508be4],_0x24b1d5=_0x2c3b00[_0x3cb66b['identifier']],_0x220859=this['_touchedEl'+'ements'][_0x3cb66b['identifier']];_0x24b1d5&&(!_0x220859||_0x24b1d5['element']!==_0x220859['element'])&&(this['_fireEvent'](_0xf346c7['type'],new Ao(_0xf346c7,_0x24b1d5['element'],_0x24b1d5['camera'],_0x24b1d5['x'],_0x24b1d5['y'],_0x3cb66b)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3cb66b['identifier']]=!(-0x1d*0x125+0x44f*-0x4+0x326e));}for(const _0x577132 in _0x2c3b00)this['_touchedEl'+'ements'][_0x577132]=_0x2c3b00[_0x577132];}['_handleTou'+'chEnd'](_0x3ec7b1){if(!this['_enabled'])return;const _0x35b540=this['app']['systems']['camera']['cameras'];for(const _0x168edf in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x168edf];for(let _0x40c46b=0x47*-0x4f+0x12*-0x15f+-0x2e97*-0x1,_0x8f85c8=_0x3ec7b1['changedTou'+'ches']['length'];_0x40c46b<_0x8f85c8;_0x40c46b++){const _0x465cf8=_0x3ec7b1['changedTou'+'ches'][_0x40c46b],_0x186031=this['_touchedEl'+'ements'][_0x465cf8['identifier']];if(!_0x186031)continue;const _0x11e2e5=_0x186031['element'],_0xe31bc3=_0x186031['camera'],_0x2cbdb6=_0x186031['x'],_0x428b6b=_0x186031['y'];delete this['_touchedEl'+'ements'][_0x465cf8['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x465cf8['identifier']];const _0xcc8100=Wc(_0x465cf8);for(let _0x563334=_0x35b540['length']-(0xd9d+0x281*-0x2+0x44d*-0x2);_0x563334>=-0x22ef+0x36*-0x8a+0x400b;_0x563334--)this['_getTarget'+'ElementByC'+'oords'](_0x35b540[_0x563334],_0xcc8100['x'],_0xcc8100['y'])===_0x11e2e5&&(this['_clickedEn'+'tities'][_0x11e2e5['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x3ec7b1,_0x11e2e5,_0xe31bc3,_0x2cbdb6,_0x428b6b,_0x465cf8)),this['_clickedEn'+'tities'][_0x11e2e5['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x3ec7b1['type'],new Ao(_0x3ec7b1,_0x11e2e5,_0xe31bc3,_0x2cbdb6,_0x428b6b,_0x465cf8));}}['_handleTou'+'chMove'](_0x40dd66){if(_0x40dd66['preventDef'+'ault'](),!this['_enabled'])return;const _0x1cef51=this['_determine'+'TouchedEle'+'ments'](_0x40dd66);for(let _0x21d834=-0xa63*-0x2+0x1077+-0x253d*0x1,_0x480064=_0x40dd66['changedTou'+'ches']['length'];_0x21d834<_0x480064;_0x21d834++){const _0x1f0f7a=_0x40dd66['changedTou'+'ches'][_0x21d834],_0x1a66c8=_0x1cef51[_0x1f0f7a['identifier']],_0x15b481=this['_touchedEl'+'ements'][_0x1f0f7a['identifier']];if(_0x15b481){const _0x2fbeb0=Wc(_0x1f0f7a);(!_0x1a66c8||_0x1a66c8['element']!==_0x15b481['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x1f0f7a['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x40dd66,_0x15b481['element'],_0x15b481['camera'],_0x2fbeb0['x'],_0x2fbeb0['y'],_0x1f0f7a)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x1f0f7a['identifier']]=!(0x67*-0x13+-0x1038+0x95*0x29)),this['_fireEvent']('touchmove',new Ao(_0x40dd66,_0x15b481['element'],_0x15b481['camera'],_0x2fbeb0['x'],_0x2fbeb0['y'],_0x1f0f7a));}}}['_onElement'+'MouseEvent'](_0x48c426,_0x59b1f4){let _0x2a5382=null;const _0x121769=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x506652=this['app']['systems']['camera']['cameras'];let _0x532209;for(let _0x180b33=_0x506652['length']-(0xa7*0x4+-0xd86+0xaeb);_0x180b33>=-0xbc5+0x1*0x1253+-0x68e*0x1&&(_0x532209=_0x506652[_0x180b33],_0x2a5382=this['_getTarget'+'ElementByC'+'oords'](_0x532209,cr,hr),!_0x2a5382);_0x180b33--);if(this['_hoveredEl'+'ement']=_0x2a5382,(_0x48c426==='mousemove'||_0x48c426==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x48c426,new bo(_0x59b1f4,this['_pressedEl'+'ement'],_0x532209,cr,hr,this['_lastX'],this['_lastY'])):_0x2a5382&&(this['_fireEvent'](_0x48c426,new bo(_0x59b1f4,_0x2a5382,_0x532209,cr,hr,this['_lastX'],this['_lastY'])),_0x48c426==='mousedown'&&(this['_pressedEl'+'ement']=_0x2a5382)),_0x121769!==this['_hoveredEl'+'ement']&&(_0x121769&&this['_fireEvent']('mouseleave',new bo(_0x59b1f4,_0x121769,_0x532209,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x59b1f4,this['_hoveredEl'+'ement'],_0x532209,cr,hr,this['_lastX'],this['_lastY']))),_0x48c426==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x3c4bdc=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0xc8ff7f=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x59ca7b=this['_clickedEn'+'tities'][_0x3c4bdc]||0x1*-0x797+-0x65b+0xdf2;_0xc8ff7f=Date['now']()-_0x59ca7b>0x21e7+-0x22af+0x1f4,delete this['_clickedEn'+'tities'][_0x3c4bdc];}_0xc8ff7f&&this['_fireEvent']('click',new bo(_0x59b1f4,this['_hoveredEl'+'ement'],_0x532209,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x2d68b6=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x3bddde=0x1a+-0x1a72+-0x2*-0xd2c;_0x3bddde<_0x2d68b6['length'];_0x3bddde++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x2d68b6[_0x3bddde],null);}['_onXrInput'+'Remove'](_0x40a79e){const _0x3c824f=this['_selectedE'+'lements'][_0x40a79e['id']];_0x3c824f&&(_0x40a79e['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x3c824f,null,_0x40a79e))),delete this['_selectedE'+'lements'][_0x40a79e['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x40a79e['id']];}['_onSelectS'+'tart'](_0x33681f,_0x58d315){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x33681f,_0x58d315);}['_onSelectE'+'nd'](_0x3e7370,_0xffa9ba){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x3e7370,_0xffa9ba);}['_onElement'+'SelectEven'+'t'](_0x587036,_0x2d08c,_0x24f90d){let _0x2ed0f2;const _0x12412b=this['_selectedE'+'lements'][_0x2d08c['id']];let _0xa8797c;const _0x554ac3=this['app']['systems']['camera']['cameras'];let _0x4d3109;if(_0x2d08c['elementInp'+'ut']){ep['set'](_0x2d08c['getOrigin'](),_0x2d08c['getDirecti'+'on']());for(let _0x112959=_0x554ac3['length']-(-0x40d*0x1+0xbf*0x21+0x3*-0x6db);_0x112959>=0x21*0xe9+0x15c3+0x1e*-0x1ba&&(_0x4d3109=_0x554ac3[_0x112959],_0x2ed0f2=this['_getTarget'+'ElementByR'+'ay'](ep,_0x4d3109),!_0x2ed0f2);_0x112959--);}_0x2d08c['_elementEn'+'tity']=_0x2ed0f2||null,_0x2ed0f2?(this['_selectedE'+'lements'][_0x2d08c['id']]=_0x2ed0f2,_0xa8797c=_0x2ed0f2):delete this['_selectedE'+'lements'][_0x2d08c['id']],_0x12412b!==_0xa8797c&&(_0x12412b&&this['_fireEvent']('selectleav'+'e',new dr(_0x24f90d,_0x12412b,_0x4d3109,_0x2d08c)),_0xa8797c&&this['_fireEvent']('selectente'+'r',new dr(_0x24f90d,_0xa8797c,_0x4d3109,_0x2d08c)));const _0x24fc18=this['_selectedP'+'ressedElem'+'ents'][_0x2d08c['id']];_0x587036==='selectmove'&&_0x24fc18&&this['_fireEvent']('selectmove',new dr(_0x24f90d,_0x24fc18,_0x4d3109,_0x2d08c)),_0x587036==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x2d08c['id']]=_0xa8797c,_0xa8797c&&this['_fireEvent']('selectstar'+'t',new dr(_0x24f90d,_0xa8797c,_0x4d3109,_0x2d08c))),!_0x2d08c['elementInp'+'ut']&&_0x24fc18&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x2d08c['id']],_0x12412b&&this['_fireEvent']('selectend',new dr(_0x24f90d,_0x24fc18,_0x4d3109,_0x2d08c))),_0x587036==='selectend'&&_0x2d08c['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x2d08c['id']],_0x24fc18&&this['_fireEvent']('selectend',new dr(_0x24f90d,_0x24fc18,_0x4d3109,_0x2d08c)),_0x24fc18&&_0x24fc18===_0x12412b&&this['_fireEvent']('click',new dr(_0x24f90d,_0x24fc18,_0x4d3109,_0x2d08c)));}['_fireEvent'](_0x293065,_0x5139f5){let _0x43e1ef=_0x5139f5['element'];for(;_0x43e1ef['fire'](_0x293065,_0x5139f5),!(_0x5139f5['_stopPropa'+'gation']||!_0x43e1ef['entity']['parent']||(_0x43e1ef=_0x43e1ef['entity']['parent']['element'],!_0x43e1ef)););}['_calcMouse'+'Coords'](_0x42ef74){const _0x494052=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x263c20=Math['floor'](_0x494052['left']),_0x44b7d2=Math['floor'](_0x494052['top']);cr=_0x42ef74['clientX']-_0x263c20,hr=_0x42ef74['clientY']-_0x44b7d2;}['_sortEleme'+'nts'](_0x55841e,_0x41fe77){const _0x22161f=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x55841e['layers'],_0x41fe77['layers']);return _0x22161f!==-0x2289+-0xd50+-0x9*-0x551?_0x22161f:_0x55841e['screen']&&!_0x41fe77['screen']?-(0x18b2+-0x13dd+-0x4d4):!_0x55841e['screen']&&_0x41fe77['screen']?0x1140+-0x162c+0x4ed:!_0x55841e['screen']&&!_0x41fe77['screen']?0xe3a+-0x1f9+0xc41*-0x1:_0x55841e['screen']['screen']['screenSpac'+'e']&&!_0x41fe77['screen']['screen']['screenSpac'+'e']?-(0xe64*-0x2+0x12d6+0x9f3):_0x41fe77['screen']['screen']['screenSpac'+'e']&&!_0x55841e['screen']['screen']['screenSpac'+'e']?0x1*-0x255a+0x1ad7+0xa84:_0x41fe77['drawOrder']-_0x55841e['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x4518f9,_0x3396d1,_0x40023c){const _0x2e4892=this['_calculate'+'RayScreen'](_0x3396d1,_0x40023c,_0x4518f9,Ri)?Ri:null,_0x321bdd=this['_calculate'+'Ray3d'](_0x3396d1,_0x40023c,_0x4518f9,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x4518f9,_0x2e4892,_0x321bdd);}['_getTarget'+'ElementByR'+'ay'](_0x595eaa,_0x284936){Ri['origin']['copy'](_0x595eaa['origin']),Ri['direction']['copy'](_0x595eaa['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x284936['farClip']*(-0x57*0x4b+-0x2498*-0x1+-0x3b3*0x3))['add'](Ri['origin']);const _0x136d32=Ri,_0x408513=_0x284936['worldToScr'+'een'](_0x136d32['origin'],Of),_0x2eba8e=this['_calculate'+'RayScreen'](_0x408513['x'],_0x408513['y'],_0x284936,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x284936,_0x2eba8e,_0x136d32);}['_getTarget'+'Element'](_0xbaa369,_0x6f934e,_0x3ece10){let _0x3409d5=null,_0x45d93d=(-0xa34+0x83*0x22+0x107*-0x7)/(0x9a8+-0x4*-0x3d1+-0x5*0x4fc);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x44802e=-0x222c+-0x3*0x168+0x2664,_0x1fe477=this['_elements']['length'];_0x44802e<_0x1fe477;_0x44802e++){const _0x45d2f8=this['_elements'][_0x44802e];if(_0x45d2f8['layers']['some'](_0x4bf4f3=>_0xbaa369['layersSet']['has'](_0x4bf4f3))){if(_0x45d2f8['screen']&&_0x45d2f8['screen']['screen']['screenSpac'+'e']){if(!_0x6f934e)continue;if(this['_checkElem'+'ent'](_0x6f934e,_0x45d2f8,!(0x4*-0x84f+-0x288+0x23c4))>=0x22ed+0x1f05+-0x2e*0x16f){_0x3409d5=_0x45d2f8;break;}}else{if(!_0x3ece10)continue;const _0x1295bc=this['_checkElem'+'ent'](_0x3ece10,_0x45d2f8,!(-0x1201*-0x2+0x1346+0x1*-0x3747));if(_0x1295bc>=0xa*-0x293+-0x17e+0x1b3c&&(_0x1295bc<_0x45d93d&&(_0x3409d5=_0x45d2f8,_0x45d93d=_0x1295bc),_0x45d2f8['screen'])){_0x3409d5=_0x45d2f8;break;}}}}return _0x3409d5;}['_calculate'+'RayScreen'](_0x5aaf06,_0x777e4,_0x176784,_0x51b754){const _0x16b671=this['app']['graphicsDe'+'vice']['width'],_0x4b5946=this['app']['graphicsDe'+'vice']['height'],_0x1695d1=_0x176784['rect']['z']*_0x16b671,_0x495a91=_0x176784['rect']['w']*_0x4b5946,_0x4eb563=_0x176784['rect']['x']*_0x16b671,_0x4449f6=_0x4eb563+_0x1695d1,_0x373af8=(0x1*-0x90d+-0xac8+0x13d6-_0x176784['rect']['y'])*_0x4b5946,_0x4313db=_0x373af8-_0x495a91;let _0x158a17=_0x5aaf06*_0x16b671/this['_target']['clientWidt'+'h'],_0xcc59ba=_0x777e4*_0x4b5946/this['_target']['clientHeig'+'ht'];return _0x158a17>=_0x4eb563&&_0x158a17<=_0x4449f6&&_0xcc59ba<=_0x373af8&&_0xcc59ba>=_0x4313db?(_0x158a17=_0x16b671*(_0x158a17-_0x4eb563)/_0x1695d1,_0xcc59ba=_0x4b5946*(_0xcc59ba-_0x4313db)/_0x495a91,_0xcc59ba=_0x4b5946-_0xcc59ba,_0x51b754['origin']['set'](_0x158a17,_0xcc59ba,0x57*0x39+0x13b5+0x1*-0x2713),_0x51b754['direction']['set'](-0x6c0+-0xe92+-0xaa9*-0x2,-0x9a1+0x2047+0x16a6*-0x1,-(0x1162+-0x166*-0x16+-0x1*0x3025)),_0x51b754['end']['copy'](_0x51b754['direction'])['mulScalar'](-0x2*-0x7d6+0x2400+-0x33aa)['add'](_0x51b754['origin']),!(-0x3*0x362+0x2a7*0x5+0x1*-0x31d)):!(-0x20*-0x5e+0x11*0x21b+-0x5*0x982);}['_calculate'+'Ray3d'](_0x3b3bb3,_0x5d7bee,_0x3c1066,_0x49ae8f){const _0x1ae02c=this['_target']['clientWidt'+'h'],_0x351151=this['_target']['clientHeig'+'ht'],_0x5a174d=_0x3c1066['rect']['z']*_0x1ae02c,_0x22c059=_0x3c1066['rect']['w']*_0x351151,_0x2707d5=_0x3c1066['rect']['x']*_0x1ae02c,_0x42e818=_0x2707d5+_0x5a174d,_0x3562a6=(0x2426*-0x1+-0xfc7+0x30e*0x11-_0x3c1066['rect']['y'])*_0x351151,_0x10887c=_0x3562a6-_0x22c059;let _0x463834=_0x3b3bb3,_0x4a610f=_0x5d7bee;return _0x3b3bb3>=_0x2707d5&&_0x3b3bb3<=_0x42e818&&_0x5d7bee<=_0x3562a6&&_0x4a610f>=_0x10887c?(_0x463834=_0x1ae02c*(_0x463834-_0x2707d5)/_0x5a174d,_0x4a610f=_0x351151*(_0x4a610f-_0x10887c)/_0x22c059,_0x3c1066['screenToWo'+'rld'](_0x463834,_0x4a610f,_0x3c1066['nearClip'],Of),_0x3c1066['screenToWo'+'rld'](_0x463834,_0x4a610f,_0x3c1066['farClip'],RS),_0x49ae8f['origin']['copy'](Of),_0x49ae8f['direction']['set'](0x356*0x5+-0xc39+-0x475,-0x1de3+-0x168b+0x3*0x117a,-(-0x2281+-0x1e88+0x410a)),_0x49ae8f['end']['copy'](RS),!(0x9*0x2ef+-0x171d+-0x34a)):!(-0x2*-0x10e0+-0x361*0x7+-0x50c*0x2);}['_checkElem'+'ent'](_0x566758,_0x1e98ba,_0x49f57e){if(_0x1e98ba['maskedBy']&&this['_checkElem'+'ent'](_0x566758,_0x1e98ba['maskedBy']['element'],_0x49f57e)<-0x1*0xc33+0x8*0x4a4+-0x18ed)return-(0x9c8+0x1a7*0xf+-0x2290);let _0x532d07;_0x49f57e?_0x532d07=Xo['calculateS'+'caleToScre'+'en'](_0x1e98ba):_0x532d07=Xo['calculateS'+'caleToWorl'+'d'](_0x1e98ba);const _0xb1462=Xo['buildHitCo'+'rners'](_0x1e98ba,_0x49f57e?_0x1e98ba['screenCorn'+'ers']:_0x1e98ba['worldCorne'+'rs'],_0x532d07);return xU(_0x566758['origin'],_0x566758['end'],_0xb1462);}static['buildHitCo'+'rners'](_0x37a5b4,_0x20db1b,_0x51706d){let _0x38da21=_0x20db1b;if(_0x37a5b4['entity']&&_0x37a5b4['entity']['button']){const _0x4488dc=_0x37a5b4['entity']['button']['hitPadding']||vU;wo['copy'](_0x37a5b4['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x10da+0x395*-0x5+-0x5*-0x6f4)),Eo['copy'](_0x37a5b4['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x12cc+-0xb85+-0x746)),wo['mulScalar'](_0x4488dc['w']*_0x51706d['y']),Vc['mulScalar'](_0x4488dc['y']*_0x51706d['y']),Eo['mulScalar'](_0x4488dc['z']*_0x51706d['x']),Gc['mulScalar'](_0x4488dc['x']*_0x51706d['x']),FS['copy'](_0x38da21[-0xb*0x346+-0x1bf*0x11+0x41b1])['add'](Vc)['add'](Gc),NS['copy'](_0x38da21[-0x28f*0xa+0xd48+0x89*0x17])['add'](Vc)['add'](Eo),kS['copy'](_0x38da21[0xde5+0x656*0x1+-0x1439])['add'](wo)['add'](Eo),US['copy'](_0x38da21[-0x1*-0x13eb+0x209a+-0x3482])['add'](wo)['add'](Gc),_0x38da21=[FS,NS,kS,US];}if(_0x51706d['x']<0x1ab0+-0x1dec+-0x5c*-0x9){const _0xbbd566=_0x38da21[-0x246f+-0x1ddb+0x424c*0x1]['x'],_0x552a31=_0x38da21[-0xb*-0x193+0x2*-0xf43+-0x15*-0xa1]['x'];_0x38da21[-0x1*-0x8a8+-0x1f2b+0x1683]['x']=_0xbbd566,_0x38da21[-0xaf6+-0x147*0x16+0x2711*0x1]['x']=_0x552a31,_0x38da21[-0x7f*-0x26+-0x3*0x13a+-0xf2a]['x']=_0x552a31,_0x38da21[0x4ec*-0x3+0x1*0x1866+-0x99f]['x']=_0xbbd566;}if(_0x51706d['y']<-0x78+0x15cc+-0x1554){const _0x2455b9=_0x38da21[0x8c0+-0xa7*0x31+-0x1d*-0xcd]['y'],_0x5abcfb=_0x38da21[-0x59*-0x13+0xce1+-0x137c]['y'];_0x38da21[-0x15d*-0x16+0xfec+-0x12*0x28d]['y']=_0x2455b9,_0x38da21[-0x237d+-0x1f2e+0x42ac]['y']=_0x2455b9,_0x38da21[0x21bc+-0xdc8+0x6*-0x353]['y']=_0x5abcfb,_0x38da21[0x53*-0x1+-0x23f1+0xfb*0x25]['y']=_0x5abcfb;}if(_0x51706d['z']<-0x134+-0x264b+0x277f){const _0x5e4040=_0x38da21[0x1561+-0x5*-0x2c9+0x9*-0x3ec]['x'],_0x41ad5d=_0x38da21[-0x21a+0x1e3a+-0x1c1e]['y'],_0x19675f=_0x38da21[0x1f9*-0x8+-0x1e85+0x1*0x2e4f]['z'];_0x38da21[0x346+-0x229+0x1*-0x11b]['x']=_0x38da21[-0x1a82+-0x1280*0x2+0x1*0x3f82]['x'],_0x38da21[0x1*0x25ac+0x147d+0x1*-0x3a27]['y']=_0x38da21[0x1*0x1281+0x187+-0x4*0x502]['y'],_0x38da21[-0x10a4+0xa5d*-0x1+0x1b03*0x1]['z']=_0x38da21[-0x1cd3+-0x939*-0x1+0x139a]['z'],_0x38da21[0xb*-0x186+-0x20ed+-0x1*-0x31af]['x']=_0x5e4040,_0x38da21[-0x852+-0x1*-0x2d3+0x57f]['y']=_0x41ad5d,_0x38da21[-0x1539+0xf14+-0x8f*-0xb]['z']=_0x19675f;}return _0x38da21;}static['calculateS'+'caleToScre'+'en'](_0x3bf93d){let _0x1c5139=_0x3bf93d['entity'];const _0x5891ff=_0x3bf93d['screen']['screen']['scale'];for(tn['set'](_0x5891ff,_0x5891ff,_0x5891ff);_0x1c5139&&!_0x1c5139['screen'];)tn['mul'](_0x1c5139['getLocalSc'+'ale']()),_0x1c5139=_0x1c5139['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x74728b){let _0x116831=_0x74728b['entity'];for(tn['set'](-0x216d+-0x1270+0x33de,0x1*-0xa+-0x3c7*0x1+-0x3d2*-0x1,-0x2*-0x132f+0x2f*-0x1f+0x1ec*-0x11);_0x116831;)tn['mul'](_0x116831['getLocalSc'+'ale']()),_0x116831=_0x116831['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x47cac0,_0x4ded9d){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x47cac0,new _m(_0x4ded9d));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x384f4b){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x4ad197){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x4ad197?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x1c8b52){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x1c8b52?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x93*-0x2b+-0x1739+-0x33ea*-0x1;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x67*-0x1+0x1caa+0x1*-0x1c43);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0x2529+-0xd*0x59+0x856*0x5);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x1*0x1b1b+0x2*0x69b+-0x2851);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x6b9*0x1+0x20b3+-0x19fa*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x257e+-0x1*0xf2d+0x1*-0x1651);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(-0x3b*-0x13+-0x1dd*0x2+0x1*-0xa7);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0xd9*-0x9+0x1*-0x157d+0x1d1e);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x2684+-0xbd2+-0x11*0x192);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0xd*0x269+0x10bb+0x4*-0xc04);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x60+-0x11fb+-0x7f*-0x25);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x189f+0x150a*-0x1+0x2da9*0x1);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x10cb36,_0x3b0cba){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x56773f=this['blendState'];ut['copy'](_0x56773f),ut['setColorBl'+'end'](_0x56773f['colorOp'],_0x10cb36,_0x3b0cba),ut['setAlphaBl'+'end'](_0x56773f['alphaOp'],_0x10cb36,_0x3b0cba),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x3a5839,_0x20bb78,_0xead633,_0x4f4b6b){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x1fc00e=this['blendState'];ut['copy'](_0x1fc00e),ut['setColorBl'+'end'](_0x1fc00e['colorOp'],_0x3a5839,_0x20bb78),ut['setAlphaBl'+'end'](_0x1fc00e['alphaOp'],_0xead633,_0x4f4b6b),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x2c0975){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x461f5a=this['blendState'];ut['copy'](_0x461f5a),ut['setColorBl'+'end'](_0x2c0975,_0x461f5a['colorSrcFa'+'ctor'],_0x461f5a['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x2c0975,_0x461f5a['alphaSrcFa'+'ctor'],_0x461f5a['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x492ebc,_0x3b56e7){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x2c53e2=this['blendState'];ut['copy'](_0x2c53e2),ut['setColorBl'+'end'](_0x492ebc,_0x2c53e2['colorSrcFa'+'ctor'],_0x2c53e2['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x3b56e7,_0x2c53e2['alphaSrcFa'+'ctor'],_0x2c53e2['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x119770,_0x3bd6f7,_0x217bec,_0xbec2af){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x472f7f=this['blendState'];ut['copy'](_0x472f7f),ut['setColorWr'+'ite'](_0x119770,_0x3bd6f7,_0x217bec,_0xbec2af),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x451d2e){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x451d2e,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0xc3c41a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0xc3c41a,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x3ad5dc){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x3ad5dc,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x37e20c){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x37e20c,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x30cc5b,_0x460e98){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x460e98+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x460e98);},'set'(_0x2107bb,_0x2c1058,_0x3e2365){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x2c1058+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x2c1058,_0x3e2365),!(-0x5a*-0xe+0xd51*0x1+0x7*-0x29b);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x4ef98e){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x4ef98e;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0xf9c40c){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0xf9c40c;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x269041){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x269041;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x419663){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x419663;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x470c55){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x5af523){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x5f5dbb){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x361e41,_0x17f1a9)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x361e41,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x361e41+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x17f1a9];},'set':function(_0x25dbcb){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x361e41+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x17f1a9]=_0x25dbcb,this['updateShad'+'ers']=!(0x1be9+0xbc*-0x15+-0xc7d);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x3a4bb3,_0x308439,_0x34af76=''){Object['defineProp'+'erty'](_0x3a4bb3['prototype'],_0x308439,{'set':function(_0x24e728){w['errorOnce'](_0x3a4bb3['name']+'#'+_0x308439+('\x20has\x20been\x20'+'removed.\x20')+_0x34af76);},'get':function(){w['errorOnce'](_0x3a4bb3['name']+'#'+_0x308439+('\x20has\x20been\x20'+'removed.\x20')+_0x34af76);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x49372f){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x49372f);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x4d1d89){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x4d1d89];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x2923a8){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x2923a8;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x9372ee){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x454aa0){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x454aa0;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x1*-0x112e+-0xc*-0x260+-0x2d4a);},'set':function(_0x511ce2){this['gloss']=_0x511ce2*(0x471*-0x1+0x249f+-0x202e*0x1+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x2f8992){this['useTonemap']=_0x2f8992;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x1887b8=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x4b4+0x945+-0xdf7)));return this['anisotropy'+'Intensity']*_0x1887b8;},'set':function(_0x21b985){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x21b985),_0x21b985>=0xe9d+0x1*-0x644+0x859*-0x1?this['anisotropy'+'Rotation']=-0x1be*0x15+-0x2*-0xfa3+0x550:this['anisotropy'+'Rotation']=-0xfaa+0x2143+-0x113f;}});function Qs(_0x2050a6,_0x3a3adc){Object['defineProp'+'erty'](Ut['prototype'],_0x3a3adc,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x3a3adc+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x2050a6+'\x20instead.'),this[_0x2050a6];},'set':function(_0x54433a){w['deprecated']('pc.Standar'+'dMaterial#'+_0x3a3adc+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x2050a6+'\x20instead.'),this[_0x2050a6]=_0x54433a;}});}function Id(_0x1f3bd0){Object['defineProp'+'erty'](Ut['prototype'],_0x1f3bd0,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x1f3bd0+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x1f3bd0+('\x20was\x20alway'+'s\x20true')),!(-0x5*0x724+-0x244d+0x1*0x4801);},'set':function(_0x4d052e){w['deprecated']('pc.Standar'+'dMaterial#'+_0x1f3bd0+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x1f3bd0+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x3791bb,_0x28deb1){_0x3791bb!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x3791bb,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x3791bb+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x28deb1||_0x3791bb)+'.'),this['litOptions'][_0x28deb1||_0x3791bb];},'set':function(_0x59dd20){w['deprecated']('Setting\x20pc'+'.Options#'+_0x3791bb+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x28deb1||_0x3791bb)+'.'),this['litOptions'][_0x28deb1||_0x3791bb]=_0x59dd20;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x21f566){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x21f566);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x135e+-0x4*0x6e3+0x830);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x1*-0xcc1+0x92c*-0x2+0x1*0x599);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x117881,_0x139015,_0x2000c0){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x117881=_0x117881||this['graphicsDe'+'vice']['canvas'];const _0x358b79=function(){_0x139015(),document['removeEven'+'tListener']('fullscreen'+'change',_0x358b79);},_0x238418=function(){_0x2000c0(),document['removeEven'+'tListener']('fullscreen'+'error',_0x238418);};_0x139015&&document['addEventLi'+'stener']('fullscreen'+'change',_0x358b79,!(-0x2531+0x2*0x6a7+0x16*0x116)),_0x2000c0&&document['addEventLi'+'stener']('fullscreen'+'error',_0x238418,!(-0x5*-0x6bc+-0x1*0xf55+-0x1*0x1256)),_0x117881['requestFul'+'lscreen']?_0x117881['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x2000c0();},Ks['prototype']['disableFul'+'lscreen']=function(_0x3a8120){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x247a9e=function(){_0x3a8120(),document['removeEven'+'tListener']('fullscreen'+'change',_0x247a9e);};_0x3a8120&&document['addEventLi'+'stener']('fullscreen'+'change',_0x247a9e,!(0x2*-0x10cf+-0x2*-0x51b+-0x1*-0x1769)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x2e3360){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x29f55b=this['scenes']['find'](_0x2e3360);return _0x29f55b?_0x29f55b['url']:null;},Ks['prototype']['loadScene']=function(_0xdb53d5,_0x4503bb){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0xdb53d5,_0x4503bb);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x3a5451,_0x45c769){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x3a5451,_0x45c769);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x51a356,_0xbc35b9){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x51a356,_0xbc35b9);},Tm['prototype']['setVisible']=function(_0x5a0fb0){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x5a0fb0;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x2b1cf0){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x2b1cf0;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===0x1d73*-0x1+0x115*-0xb+-0x295b*-0x1?this['gravity']['copy'](arguments[0x1f53+0x3*0x236+-0x25f5]):this['gravity']['set'](arguments[0x205*-0xf+-0x5*0x49c+0x3557],arguments[0x28c*-0xa+-0x15*-0x1a5+-0x91*0x10],arguments[0x1532+-0x1d7b+-0x1*-0x84b]);};class wU{constructor(_0x50046f){this['_frameInde'+'x']=-0x11fd*-0x1+-0x1ae3*0x1+-0x86*-0x11,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x23d+0x3*0x547+0x1*-0x1211,this['enabled']=!(0x1ba8+-0x26*0x1+-0x1b82),_0x50046f['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x50046f['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x50046f['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x453e7d){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x16b3f1=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x16b3f1,this['_frameInde'+'x']=-0x647*-0x4+0x9e4+-0x2300,this['mark'](_0x453e7d);}['mark'](_0x2d6941){if(!this['enabled'])return;const _0x4a8381=de();if(this['_frameInde'+'x']>-0x1373+-0xf*-0x253+-0xf6a){const _0x1e91ff=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0xfca+0x5*-0x740+0xa9*0x1f)];_0x1e91ff[-0xb23*-0x1+0x157+-0xc79]=_0x4a8381-_0x1e91ff[-0x10cf*0x1+-0x2334+0x3404];}else{if(this['_timings']['length']>0x7*-0x1c1+0x1f52+0x19*-0xc3){const _0x3305f2=this['_timings'][this['_timings']['length']-(0x25*0x31+0x1*-0x163d+0xf29)];_0x3305f2[-0x1e01+-0x47c+0x5*0x6e6]=_0x4a8381-_0x3305f2[0x100e*0x2+0x726*-0x3+-0x1*0xaa9];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2d6941,_0x4a8381]);else{const _0x36b1c4=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x36b1c4[-0x1f83*-0x1+-0x1ca7+-0xc*0x3d]=_0x2d6941,_0x36b1c4[-0x1e90+-0x8a7+0x2738]=_0x4a8381;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x11e4+-0x15a4+0x1b8*0x17,-(0x1*0x16e7+0x7*-0xdb+-0x10e9))['map'](_0x5090cb=>_0x5090cb[0x1a63+-0x94+-0x19ce]);}}class EU{constructor(_0x4d610c){this['device']=_0x4d610c,_0x4d610c['gpuProfile'+'r']['enabled']=!(-0x1e81+-0x43d+0x22be),this['enabled']=!(-0x175*-0x5+-0x247e+-0x1d35*-0x1),this['unitsName']='ms',this['decimalPla'+'ces']=0x1804+-0xc81*-0x3+-0x3d86,this['_timings']=[];}get['timings'](){return this['_timings'][-0x113c+-0x1665+0x27a1]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x21af16,_0x26f07b,_0xe262a3,_0xf2d2f3,_0x131b2){this['app']=_0x21af16,this['values']=[],this['statNames']=_0x26f07b,this['statNames']['length']>0x1cad*-0x1+-0xdf*0x13+0x2d3d&&(this['statNames']['length']=-0x19d1+-0xbf9+0x25cd),this['unitsName']=_0xf2d2f3,this['decimalPla'+'ces']=_0xe262a3,this['multiplier']=_0x131b2||-0xce1+-0x2*0x7f+-0xc*-0x128;const _0x3e9f47=(_0x5464f5,_0x25a191)=>_0x5464f5['split']('.')['reduce']((_0x302dae,_0x1f164d)=>_0x302dae?_0x302dae[_0x1f164d]:null,_0x25a191||this);_0x21af16['on']('frameupdat'+'e',_0x171858=>{for(let _0x140a84=0x472*-0x4+0x1440+-0x278;_0x140a84<this['statNames']['length'];_0x140a84++)this['values'][_0x140a84]=_0x3e9f47(this['statNames'][_0x140a84],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x5957ba,_0x1a8fca,_0x4a8961,_0x517031,_0x40a35f){this['app']=_0x1a8fca,this['name']=_0x5957ba,this['device']=_0x1a8fca['graphicsDe'+'vice'],this['timer']=_0x40a35f,this['watermark']=_0x4a8961,this['enabled']=!(-0x1*0x1675+0x1f5c+-0x8e6),this['textRefres'+'hRate']=_0x517031,this['avgTotal']=-0x102a*-0x2+0x2261*-0x1+-0x15*-0x19,this['avgTimer']=-0x22f5+0xaf9+-0x5ff*-0x4,this['avgCount']=0x1ed6+0x186e+-0x3744,this['timingText']='',this['texture']=null,this['yOffset']=-0x22d0+0x12af+0x1021*0x1,this['cursor']=-0x1eb5*-0x1+0x241+-0x20f6,this['sample']=new Uint8ClampedArray(0xf*0xff+-0x867*0x3+0x5e*0x1c),this['sample']['set']([-0x1*-0x15a9+0x191f+-0x5d9*0x8,0xf*0x1d+0x6d*0x16+-0xb11*0x1,0x20f7+0x1cee+-0x5*0xc61,0x1*-0x21e3+-0x1*-0x26fb+0x419*-0x1]),this['counter']=0x2ca+-0x5fe+-0x2*-0x19a,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x3c636e){const _0x7c62a6=this['timer']['timings'],_0x4b7414=_0x7c62a6['reduce']((_0x245671,_0x262299)=>_0x245671+_0x262299,-0x2d3*0xa+-0xa5e*-0x2+0x3e*0x1f);if(this['avgTotal']+=_0x4b7414,this['avgTimer']+=_0x3c636e,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0xf71*-0x1+0x22c9+-0x4d6*0x4,this['avgTotal']=0x1b9d+0x3f3*0x4+-0x2b69*0x1,this['avgCount']=0x869+-0x9d9*-0x3+-0x1*0x25f4),this['enabled']){let _0x1fe384=-0xcf2+0x14eb+-0x7f9;const _0x5e39e1=(0x16b*0xc+0x84b*0x2+-0x2199+0.5)*this['watermark'];for(let _0x13404f=0x14ef+-0x5ee+-0xf01;_0x13404f<_0x7c62a6['length'];++_0x13404f)_0x1fe384+=Math['floor'](_0x7c62a6[_0x13404f]/_0x5e39e1*(0x1170+-0x19ce+0x95d)),this['sample'][_0x13404f]=_0x1fe384;this['sample'][-0x14e0+-0x1*-0x1e7a+-0x997]=this['watermark']/_0x5e39e1*(0x911+0x2156+-0x5*0x848),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0xf3+-0x649*0x1+0x740)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x8ee+-0x1*-0x1c27+-0x1339);}}['render'](_0x2d3102,_0x2e98cf,_0x27c5a7,_0x5b4381,_0x524391){_0x2d3102['quad'](_0x2e98cf+_0x5b4381,_0x27c5a7,-_0x5b4381,_0x524391,this['enabled']?this['cursor']:0x1c6e+-0x74+-0x1*0x1bfa,this['enabled']?0xe9d+0x1*-0xeab+-0x2*-0x7+0.5+this['yOffset']:this['texture']['height']-(0x8ca+0x191b+-0x21e4),-_0x5b4381,0x183f+0x5e*-0x59+0x7f*0x11,this['texture'],0xbc*-0x6+-0x1e62+0x22ca);}}class AU{constructor(_0x221e02,_0x598b2e){const _0x481180=_0x203882=>{_0x203882['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x203882['textAlign']='left',_0x203882['textBaseli'+'ne']='alphabetic';},_0x4d6918=_0x4b026d=>_0x4b026d==='.'||_0x4b026d['length']===-0x5da+-0x1b30+-0x210b*-0x1&&_0x4b026d['charCodeAt'](0xf8c+-0x21a2+0x1216)>=0x224c*-0x1+-0x1*0x329+0x25a5&&_0x4b026d['charCodeAt'](-0x2e*0x70+0x9f1+0xa2f)<=0x593*0x6+-0xa67*0x1+-0x1*0x16d2,_0x428616=document['createElem'+'ent']('canvas'),_0xc61b7a=_0x428616['getContext']('2d',{'alpha':!(-0x1*-0x19be+-0x7*0x133+0x1*-0x1159)});_0x481180(_0xc61b7a);const _0x47c2ff=new Map(),_0x229105=0x379*0x5+0x1*-0x3fd+0x1*-0xd5b,_0x12eefb=-0xa51+0x2*-0x10de+0x2e0d*0x1;let _0x20e476=_0x229105,_0x50514e=_0x229105;_0x598b2e['forEach'](_0x36f5ba=>{const _0x25fa03=_0xc61b7a['measureTex'+'t'](_0x36f5ba),_0x1118d4=Math['ceil'](-_0x25fa03['actualBoun'+'dingBoxLef'+'t']),_0x53535e=Math['ceil'](_0x25fa03['actualBoun'+'dingBoxRig'+'ht']),_0x278e74=Math['ceil'](_0x25fa03['actualBoun'+'dingBoxAsc'+'ent']),_0x1dc01f=Math['ceil'](_0x25fa03['actualBoun'+'dingBoxDes'+'cent']),_0x23906e=_0x1118d4+_0x53535e,_0x3584ba=_0x278e74+_0x1dc01f;_0x20e476+_0x23906e+_0x229105>=_0x12eefb&&(_0x20e476=_0x229105,_0x50514e+=-0x1c23+-0x23c8+0x3ffb),_0x47c2ff['set'](_0x36f5ba,{'l':_0x1118d4,'r':_0x53535e,'a':_0x278e74,'d':_0x1dc01f,'w':_0x23906e,'h':_0x3584ba,'x':_0x20e476,'y':_0x50514e}),_0x20e476+=_0x23906e+_0x229105;}),_0x428616['width']=-0x1*-0x35d+0x1f9e+0x20fb*-0x1,_0x428616['height']=Y['nextPowerO'+'fTwo'](_0x50514e+(-0x1f34+0x7c6*-0x2+-0xe*-0x358)+_0x229105),_0x481180(_0xc61b7a),_0xc61b7a['fillStyle']='rgb(0,\x200,\x20'+'0)',_0xc61b7a['fillRect'](0x1a*-0x8e+0x1163+-0x2f7,-0x71*-0x11+0x5e4+0xd65*-0x1,_0x428616['width'],_0x428616['height']),_0x47c2ff['forEach']((_0x40cbf8,_0x326358)=>{_0xc61b7a['fillStyle']=_0x4d6918(_0x326358)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0xc61b7a['fillText'](_0x326358,_0x40cbf8['x']-_0x40cbf8['l'],_0x40cbf8['y']+_0x40cbf8['a']);}),this['placements']=_0x47c2ff;const _0x34941e=_0xc61b7a['getImageDa'+'ta'](-0x1*0x1f6+0x2285+-0x208f,0xb*0x345+-0x2*0x11d2+0x53*-0x1,_0x428616['width'],_0x428616['height'])['data'];for(let _0x4080e5=-0x1*-0x1e66+0x1571*0x1+0x33d7*-0x1;_0x4080e5<_0x34941e['length'];_0x4080e5+=0x43*-0x1f+0x22fe+-0x1add)_0x34941e[_0x4080e5+(-0xbfc+0x3e2*-0x7+0x272d)]=_0x34941e[_0x4080e5+(-0x49a*0x1+0x12fd*0x2+-0x2160)],_0x34941e[_0x4080e5+(-0x1*-0x1d12+0x169f*-0x1+-0x673)]=0xdb6+-0x2de*0xa+0xff5,_0x34941e[_0x4080e5+(-0x24a5+0x6d5+-0x1c1*-0x11)]=0x26b*-0xf+0x194a+0xbfa,_0x34941e[_0x4080e5+(0x1*0x9f5+-0x1*0x1f43+0xaa8*0x2)]=0xb*-0x149+0x676+0x3c*0x25;this['texture']=new _e(_0x221e02,{'name':'mini-stats'+'-word-atla'+'s','width':_0x428616['width'],'height':_0x428616['height'],'mipmaps':!(0x1bd1+0x133*0x5+-0x21cf),'minFilter':Te,'magFilter':Te,'levels':[_0x34941e]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x5895d1,_0x9d565c,_0x5e020b,_0x180b35){const _0x2d433f=this['placements']['get'](_0x9d565c);return _0x2d433f?(_0x5895d1['quad'](_0x5e020b+_0x2d433f['l']-(-0x1b26+0x25*-0xac+-0x5*-0xa67),_0x180b35-_0x2d433f['d']+(-0x7*-0x209+-0x19cd+0xb8f),_0x2d433f['w']+(-0x1d0a+0x1*0x18d+0x1*0x1b7f),_0x2d433f['h']+(0x88*-0x29+0x92c+0x13*0xaa),_0x2d433f['x']-(0x1738+0x18c9+0x60*-0x80),this['texture']['height']-_0x2d433f['y']-_0x2d433f['h']-(-0x2*0xef1+0x2*0x6f0+0x1003*0x1),void(-0x1e21+-0x26b6+0x44d7),void(0x1*-0x1fa5+0x5e8+-0xb*-0x257),this['texture'],0xbdf+-0x1*-0x109b+0xc5*-0x25),_0x2d433f['w']):-0x7f2+0x2481+-0x1c8f;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x4b400a,_0x698621=0x1b*0x8c+0xd*0x7d+0x65f*-0x3){const _0x1b5c67=new kt(_0x4b400a,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x3bfcda=new Uint16Array(_0x698621*(-0xebd+-0xcdc+0x1b9f));for(let _0x34f3c3=0x1*0x14aa+-0x510+0x2*-0x7cd;_0x34f3c3<_0x698621;++_0x34f3c3)_0x3bfcda[_0x34f3c3*(0x8b3+0xd4b*0x1+-0xafc*0x2)+(-0xb3*-0x17+-0x1b89+0x2*0x5ba)]=_0x34f3c3*(-0x18ad+0x2b1*0x2+0x134f),_0x3bfcda[_0x34f3c3*(-0x910+0xa*0x112+-0x6*0x45)+(-0x316+-0x2662+-0x3*-0xdd3)]=_0x34f3c3*(0x13df+-0x1*0x62d+-0xdae)+(-0x1*-0x26cb+-0x67*0x17+0x1*-0x1d89),_0x3bfcda[_0x34f3c3*(-0x9a*-0x25+0xa68+-0x2*0x1052)+(-0x1*0x146e+-0x1b7*-0x8+0x6b8)]=_0x34f3c3*(0x1*0x947+-0xb71+-0x22e*-0x1)+(-0xb91+-0xd5*-0x2e+0x1ab3*-0x1),_0x3bfcda[_0x34f3c3*(-0x15fe+0x21f8+0x44*-0x2d)+(-0x1*-0x4e4+0xbac+-0x108d)]=_0x34f3c3*(-0x1ef2+-0x22ec+0x752*0x9),_0x3bfcda[_0x34f3c3*(-0x2b*-0x5f+0x1*0x6b1+-0xb50*0x2)+(-0x1ea5+-0x603+-0x24ac*-0x1)]=_0x34f3c3*(0x1139+0x1*0x1fd2+0xa3*-0x4d)+(-0x23a0+0x1796+-0x404*-0x3),_0x3bfcda[_0x34f3c3*(0x187c+0x1*-0x605+-0x1271)+(0xb3*0x3+0x3*0x4f+0x1*-0x301)]=_0x34f3c3*(-0x18*-0x17a+0x673+0x29df*-0x1)+(-0x1*-0x91f+0x23*0x6a+-0x179a);this['device']=_0x4b400a,this['buffer']=new Is(_0x4b400a,_0x1b5c67,_0x698621*(-0x1*-0x1b7f+-0xdbc+-0xdbf),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x1f0d*-0x1+-0x1784+-0x19*0x4d)),this['indexBuffe'+'r']=new br(_0x4b400a,Yi,_0x698621*(0x7e1+-0x2*0x3f4+0x1*0xd),ms,_0x3bfcda),this['prim']={'type':js,'indexed':!(-0x42d*-0x3+-0x76e*-0x1+-0x6a7*0x3),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x1*0xc13+-0x1c6+0xdd9,this['mesh']=new Ge(_0x4b400a),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x601+-0x31a*0x7+-0x1*-0xfb5]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x4a9a92=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x4a9a92,_0x4a9a92['cull']=bt,_0x4a9a92['depthState']=Yt['NODEPTH'],_0x4a9a92['blendState']=new pt(!(0x1ab4+0x1a7+-0x1c5b),fs,jh,Yh,fs,Ft,Ft),_0x4a9a92['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x4a9a92,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x1*-0x1bcc+0xa89*0x2+0x6be)},this['targetSize']={'width':_0x4b400a['width'],'height':_0x4b400a['height']};}['quad'](_0x176c04,_0x22fcac,_0x240849,_0xa41f3f,_0x5c7b85,_0x45f021,_0x47e04f,_0x3f11fc,_0x3038a0,_0xe2c238=-0x527+-0x1c79+0x21a0){const _0x3f67fa=this['targetSize']['width'],_0x134d27=this['targetSize']['height'],_0x2d77e2=_0x176c04/_0x3f67fa,_0x1df97b=_0x22fcac/_0x134d27,_0x5317f6=(_0x176c04+_0x240849)/_0x3f67fa,_0x15ac9d=(_0x22fcac+_0xa41f3f)/_0x134d27,_0x49c2f7=_0x3038a0['width'],_0x2c3256=_0x3038a0['height'],_0x5abc44=_0x5c7b85/_0x49c2f7,_0x2bc10d=_0x45f021/_0x2c3256,_0x38204a=(_0x5c7b85+(_0x47e04f??_0x240849))/_0x49c2f7,_0x49c929=(_0x45f021+(_0x3f11fc??_0xa41f3f))/_0x2c3256;this['data']['set']([_0x2d77e2,_0x1df97b,_0xe2c238,_0x5abc44,_0x2bc10d,0x9f*0x1+-0x2130*0x1+0x2091,0xd5d+-0x257*0x3+-0x658,_0x5317f6,_0x1df97b,_0xe2c238,_0x38204a,_0x2bc10d,-0x1436+-0x6b9+-0x1af*-0x10,0x137f*0x2+0x1adf+-0x41dd*0x1,_0x5317f6,_0x15ac9d,_0xe2c238,_0x38204a,_0x49c929,0x11aa+-0x3*-0xa54+-0x30a5,0x1*-0x12ef+-0x21de+0x34ce,_0x2d77e2,_0x15ac9d,_0xe2c238,_0x5abc44,_0x49c929,0x301*0x3+-0x1ffb*0x1+0x16f8,-0x2bc+-0x14e+0x2d*0x17],(0x1585+0x2519*-0x1+0xfb0)*this['quads']),this['quads']++,this['prim']['count']+=0x2613+0x583*-0x1+-0x341*0xa;}['startFrame'](){this['quads']=0x1*0x1bf7+-0x22c0+0x3*0x243,this['prim']['count']=0xb2e+0x3a8*-0x7+0x9*0x19a,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x1a69e3,_0x443af7,_0x4ba3d6,_0x2c8e58,_0x42eeb5,_0x975bc3){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x42eeb5,0x693+0x1*-0x1e79+0x17e6),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x4ba3d6),this['material']['setParamet'+'er']('wordsTex',_0x2c8e58),_0x1a69e3['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x443af7);}}class N0{constructor(_0x3f2e6b,_0x3bbcac){const _0x38719e=_0x3f2e6b['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x38719e['height']/_0x38719e['maxPixelRa'+'tio'],_0x3bbcac={...N0['getDefault'+'Options'](),..._0x3bbcac},this['options']=_0x3bbcac,this['initGraphs'](_0x3f2e6b,_0x38719e,_0x3bbcac);const _0x59b804=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x104927=>_0x104927['name']))['concat'](_0x3bbcac['stats']?_0x3bbcac['stats']['map'](_0xd2b8cc=>_0xd2b8cc['unitsName']):[])['filter'](_0x4d7c72=>!!_0x4d7c72));this['wordAtlas']=new AU(_0x38719e,_0x59b804),this['sizes']=_0x3bbcac['sizes'],this['_activeSiz'+'eIndex']=_0x3bbcac['startSizeI'+'ndex'];const _0x263035=document['createElem'+'ent']('div');_0x263035['setAttribu'+'te']('id','mini-stats'),_0x3bbcac['position']==='top'?_0x263035['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x263035['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x263035['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x263035),_0x263035['addEventLi'+'stener']('mouseenter',_0x3ff2cd=>{this['opacity']=-0x757+0x346*0x1+0x412;}),_0x263035['addEventLi'+'stener']('mouseleave',_0xcf1889=>{this['opacity']=0x2*0x439+-0x24*0x76+0x826+0.7;}),_0x263035['addEventLi'+'stener']('click',_0x5b4a45=>{_0x5b4a45['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0xc89+0x2393+-0x301b))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x38719e['on']('resizecanv'+'as',this['updateDiv'],this),_0x38719e['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x3f2e6b['on']('postrender',this['postRender'],this),this['app']=_0x3f2e6b,this['drawLayer']=_0x3f2e6b['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x38719e,this['render2d']=new IU(_0x38719e),this['div']=_0x263035,this['width']=-0x1ad3+0x887*0x1+-0x926*-0x2,this['height']=-0x9*-0xe9+0x3e6+0x1*-0xc17,this['gspacing']=0x1ae1+-0x1256*-0x2+-0x3f8b,this['clr']=[0x14f9+-0xd1*-0x2b+0x1ef*-0x1d,0x14d7+-0x22d4+0xdfe,-0x1*0x1f9+0x229e+0x20a4*-0x1,-0x754+-0xd4*0x12+0x1*0x163c+0.5],this['_enabled']=!(0x6bf+-0xeec*-0x1+-0x15ab),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x52cb43=>_0x52cb43['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x217e+0x21a*-0x3+0x27cd*0x1)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0xc0f+-0x2180+-0x1*-0x2d8f)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x5*-0x4f7+0x74d+-0x2020)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1f68+-0x9fd+0x2965*0x1),'watermark':0x21},'gpu':{'enabled':!(0x1ad7*-0x1+0x139d*-0x1+0x2e74),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x4d1009){this['_activeSiz'+'eIndex']=_0x4d1009,this['gspacing']=this['sizes'][_0x4d1009]['spacing'],this['resize'](this['sizes'][_0x4d1009]['width'],this['sizes'][_0x4d1009]['height'],this['sizes'][_0x4d1009]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0xa370dd){this['clr'][0x18*0xc5+-0x231a+0x10a5*0x1]=_0xa370dd;}get['opacity'](){return this['clr'][0x5*0x706+0xb*0x26e+0xb*-0x59f];}get['overallHei'+'ght'](){const _0x34bf17=this['graphs'],_0x1fb228=this['gspacing'];return this['height']*_0x34bf17['length']+_0x1fb228*(_0x34bf17['length']-(-0x92a+0x5cc+0x35f));}set['enabled'](_0x240e08){if(_0x240e08!==this['_enabled']){this['_enabled']=_0x240e08;for(let _0x3a3d0a=-0x11eb+-0x1a1f+-0x757*-0x6;_0x3a3d0a<this['graphs']['length'];++_0x3a3d0a)this['graphs'][_0x3a3d0a]['enabled']=_0x240e08,this['graphs'][_0x3a3d0a]['timer']['enabled']=_0x240e08;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x401676,_0x171016,_0x494cf2){if(this['graphs']=[],_0x494cf2['cpu']['enabled']){const _0x3d36c7=new wU(_0x401676),_0x477d30=new Uf('CPU',_0x401676,_0x494cf2['cpu']['watermark'],_0x494cf2['textRefres'+'hRate'],_0x3d36c7);this['graphs']['push'](_0x477d30);}if(_0x494cf2['gpu']['enabled']){const _0x2752b7=new EU(_0x171016),_0x9c0c09=new Uf('GPU',_0x401676,_0x494cf2['gpu']['watermark'],_0x494cf2['textRefres'+'hRate'],_0x2752b7);this['graphs']['push'](_0x9c0c09);}_0x494cf2['stats']&&_0x494cf2['stats']['forEach'](_0x5921a5=>{const _0x323832=new bU(_0x401676,_0x5921a5['stats'],_0x5921a5['decimalPla'+'ces'],_0x5921a5['unitsName'],_0x5921a5['multiplier']),_0x472632=new Uf(_0x5921a5['name'],_0x401676,_0x5921a5['watermark'],_0x494cf2['textRefres'+'hRate'],_0x323832);this['graphs']['push'](_0x472632);});const _0x34d8ab=_0x494cf2['sizes']['reduce']((_0x113ff3,_0xecf1ef)=>_0xecf1ef['width']>_0x113ff3?_0xecf1ef['width']:_0x113ff3,-0xb28*-0x3+0xd06*0x2+-0x3b84);this['texture']=new _e(_0x171016,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x34d8ab),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0xc97+0xde1+-0x149),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x13c42d,_0x13366d)=>{_0x13c42d['texture']=this['texture'],_0x13c42d['yOffset']=_0x13366d;});}['render'](){const _0x43e71d=this['graphs'],_0x6eb69b=this['wordAtlas'],_0x46aff8=this['render2d'],_0x35cca8=this['width'],_0x5203cf=this['height'],_0x3f62c2=this['gspacing'];_0x46aff8['startFrame']();for(let _0x53c91f=-0x92*-0x6+0x91*0x17+-0x1073;_0x53c91f<_0x43e71d['length'];++_0x53c91f){const _0x4a06c8=_0x43e71d[_0x53c91f];let _0x1e139f=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x53c91f+(0x1d1d+-0xbe8*-0x2+0xc*-0x469))*(_0x5203cf+_0x3f62c2):_0x53c91f*(_0x5203cf+_0x3f62c2);_0x4a06c8['render'](_0x46aff8,0x806+0x2*-0x131e+-0x1e36*-0x1,_0x1e139f,_0x35cca8,_0x5203cf);let _0x2c6591=-0x2656+-0xde1+0x8*0x687;_0x1e139f+=_0x5203cf-(0xa*0x2c2+0x58*0x3d+-0x307f),_0x2c6591+=_0x6eb69b['render'](_0x46aff8,_0x4a06c8['name'],_0x2c6591,_0x1e139f)+(-0x123f*-0x2+0xa97*0x3+-0x4439);const _0x40ac66=_0x4a06c8['timingText'];for(let _0x37e588=-0x1846+0x1*0x1ba6+-0x30*0x12;_0x37e588<_0x40ac66['length'];++_0x37e588)_0x2c6591+=_0x6eb69b['render'](_0x46aff8,_0x40ac66[_0x37e588],_0x2c6591,_0x1e139f);_0x4a06c8['timer']['unitsName']&&(_0x2c6591+=-0xec7+0x3*-0x6a6+0x22bc,_0x6eb69b['render'](_0x46aff8,_0x4a06c8['timer']['unitsName'],_0x2c6591,_0x1e139f));}_0x46aff8['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x5203cf);}['resize'](_0x137393,_0x1ad10a,_0x2fdfe7){const _0x1debc7=this['graphs'];for(let _0x3b20fe=0x126b+-0x21cd*-0x1+-0x1168*0x3;_0x3b20fe<_0x1debc7['length'];++_0x3b20fe)_0x1debc7[_0x3b20fe]['enabled']=_0x2fdfe7;this['width']=_0x137393,this['height']=_0x1ad10a,this['updateDiv']();}['updateDiv'](){const _0x546c53=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x546c53['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x546c53['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x57e836=>_0x57e836['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x321f1f,_0x301a50,_0xb4c660)=>{_0x321f1f['on'](_0x301a50,_0xb4c660),this['eventsList']=this['eventsList']['concat']({'e':_0x321f1f,'ty':_0x301a50,'fn':_0xb4c660});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x866e21,ty:_0xb0547e,fn:_0x4bb2ec})=>{_0x866e21['off'](_0xb0547e,_0x4bb2ec);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x591537=>{var _0x43608f;if(console['log']('add\x20xr\x20inp'+'ut',_0x591537['handedness']),!((_0x43608f=_0x591537['profiles'])!=null&&_0x43608f['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x399979=_0x591537['profiles']['map'](async _0x303eba=>{var _0x5198e2;const _0x138c4f=this['basePath']+'/'+_0x303eba+('/profile.j'+'son');try{const _0x2ded25=await fetch(_0x138c4f);if(!_0x2ded25['ok'])return null;const _0x57867e=await _0x2ded25['json'](),_0x2b5a3e=((_0x5198e2=_0x57867e['layouts'][_0x591537['handedness']])==null?void(0x23ce+0x57*-0x7+-0x216d):_0x5198e2['assetPath'])||'',_0x45c838=this['basePath']+'/'+_0x57867e['profileId']+'/'+_0x591537['handedness']+_0x2b5a3e['replace'](/^\/?(left|right)/,''),_0x4ea52e=await new Promise((_0x525e56,_0x152c31)=>{this['app']['assets']['loadFromUr'+'l'](_0x45c838,'container',(_0x1c45c1,_0x10eaff)=>{_0x1c45c1?_0x152c31(_0x1c45c1):_0x525e56(_0x10eaff);});});return{'profileId':_0x303eba,'asset':_0x4ea52e};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x303eba),null;}}),_0x14a40e=(await Promise['all'](_0x399979))['find'](_0x265a73=>_0x265a73!==null);if(_0x14a40e){const {asset:_0x474b3c}=_0x14a40e,_0x3ed56f=_0x474b3c['resource']['instantiat'+'eRenderEnt'+'ity']();_0x3ed56f['name']='Armature_'+_0x591537['handedness'],this['app']['root']['addChild'](_0x3ed56f),this['preEntitie'+'s']['set'](_0x591537,_0x3ed56f);const _0x446e2e=new Map();if(_0x591537['hand'])for(const _0x341dc0 of _0x591537['hand']['joints']){const _0x35fa1f=_0x3ed56f['findByName'](_0x341dc0['id']);_0x35fa1f&&_0x446e2e['set'](_0x341dc0,_0x35fa1f);}this['controller'+'s']['set'](_0x591537,{'entity':_0x3ed56f,'jointMap':_0x446e2e});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x370710=>{var _0x118de2;const _0x3731b1=this['controller'+'s']['get'](_0x370710);_0x3731b1&&((_0x118de2=_0x3731b1['entity'])==null||_0x118de2['destroy'](),this['app']['root']['removeChil'+'d'](_0x3731b1==null?void(-0x189a+0x6b*0x56+-0xb58):_0x3731b1['entity']),this['controller'+'s']['delete'](_0x370710));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x2f5536,_0xe0801a,_0x4db2f8;const _0x4f31de=this['app'];(_0x2f5536=this['controller'+'s'])==null||_0x2f5536['forEach'](_0x1a78c2=>{var _0xf8689f;_0x4f31de['root']['removeChil'+'d'](_0x1a78c2==null?void(-0x16c4+-0x1aa8+0x316c):_0x1a78c2['entity']),(_0xf8689f=_0x1a78c2['entity'])==null||_0xf8689f['destroy']();}),(_0xe0801a=this['controller'+'s'])==null||_0xe0801a['clear'](),(_0x4db2f8=this['preEntitie'+'s'])==null||_0x4db2f8['forEach'](_0x37096b=>{_0x4f31de['root']['removeChil'+'d'](_0x37096b),_0x37096b==null||_0x37096b['destroy']();});const _0x517a56=()=>{const _0x466987=_0x4f31de['root']['findByName']('Armature_l'+'eft'),_0x3aa7d8=_0x4f31de['root']['findByName']('Armature_r'+'ight');for(_0x466987&&_0x4f31de['root']['removeChil'+'d'](_0x466987),_0x3aa7d8&&_0x4f31de['root']['removeChil'+'d'](_0x3aa7d8);_0x4f31de['root']['findByName']('Armature_l'+'eft')||_0x4f31de['root']['findByName']('Armature_r'+'ight');)_0x517a56();};_0x517a56();});}['update'](_0x2cf0a0){var _0x186d7e;if((_0x186d7e=this['app']['xr'])!=null&&_0x186d7e['active']){for(const [_0x1cbd8f,{entity:_0x3f7302,jointMap:_0x128316}]of this['controller'+'s'])if(_0x1cbd8f['hand']){for(const [_0x4be7a8,_0x237356]of _0x128316)_0x237356['setPositio'+'n'](_0x4be7a8['getPositio'+'n']()),_0x237356['setRotatio'+'n'](_0x4be7a8['getRotatio'+'n']());}else _0x3f7302['setPositio'+'n'](_0x1cbd8f['getPositio'+'n']()),_0x3f7302['setRotatio'+'n'](_0x1cbd8f['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x1a57+-0x5*-0x501+-0x335b*0x1)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x1130+0x1f78+-0x30a8,0x2*-0x10f0+-0x115f+0xa*0x520,0x1962+-0x25*0x13+0x5f*-0x3d)),h(this,'invalidCol'+'or',new ie(-0x1*0x1f0d+0x1*-0x1f9a+-0x2*-0x1f54,-0xd*0x26e+-0x1791*0x1+0x3727,-0x1*0x13ba+0x1*0x1c43+0x1*-0x889)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x2f*-0x2f+0x2643+-0x1da1)),h(this,'teleportLe'+'ftOpenStat'+'us',!(-0xaa6+-0x1*0x107f+-0x32*-0x8b));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x1a55ae=>{const _0x28fc71=()=>{this['activePoin'+'ters']['set'](_0x1a55ae,!(-0x20e2+0x119+-0x67*-0x4f));},_0x692221=()=>{this['activePoin'+'ters']['set'](_0x1a55ae,!(-0xc4c+-0x1b14*0x1+0x2761)),this['tryTelepor'+'t'](_0x1a55ae);};_0x1a55ae['on']('selectstar'+'t',_0x28fc71),_0x1a55ae['on']('selectend',_0x692221),this['inputHandl'+'ers']['set'](_0x1a55ae,{'handleSelectStart':_0x28fc71,'handleSelectEnd':_0x692221}),this['inputSourc'+'es']['add'](_0x1a55ae);}),this['app']['xr']['input']['on']('remove',_0x4ce258=>{const _0x20434c=this['inputHandl'+'ers']['get'](_0x4ce258);_0x20434c&&(_0x4ce258['off']('selectstar'+'t',_0x20434c['handleSele'+'ctStart']),_0x4ce258['off']('selectend',_0x20434c['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x4ce258)),this['activePoin'+'ters']['delete'](_0x4ce258),this['inputSourc'+'es']['delete'](_0x4ce258);});}['findPlaneI'+'ntersectio'+'n'](_0x3b182a,_0x2d38bf){if(Math['abs'](_0x2d38bf['y'])<0x804+0x2*0x102b+-0xa*0x409+0.00001)return null;const _0x49cb41=-_0x3b182a['y']/_0x2d38bf['y'];return _0x49cb41<0xfbb*0x1+-0xe92+-0x129?null:new D(_0x3b182a['x']+_0x2d38bf['x']*_0x49cb41,0xbed+-0x1*0x88+-0xb65,_0x3b182a['z']+_0x2d38bf['z']*_0x49cb41);}['tryTelepor'+'t'](_0x4859c5){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x5f39ad=_0x4859c5['getOrigin'](),_0x4ec80a=_0x4859c5['getDirecti'+'on'](),_0x40330e=this['findPlaneI'+'ntersectio'+'n'](_0x5f39ad,_0x4ec80a);if(_0x40330e){const _0x24e705=this['entity']['getPositio'+'n']()['y'];_0x40330e['y']=_0x24e705,this['entity']['setPositio'+'n'](_0x40330e);}}}['update'](){for(const _0x5a4614 of this['inputSourc'+'es']){const _0x21aa6b=_0x5a4614['getOrigin'](),_0x4701f7=_0x5a4614['getDirecti'+'on']();if(_0x5a4614['gamepad']&&!_0x5a4614['hand']){const _0x4d620e=_0x5a4614['gamepad'];for(let _0x2037aa=-0x938*-0x2+-0x20c3+-0x13*-0xc1;_0x2037aa<_0x4d620e['buttons']['length'];++_0x2037aa)_0x4d620e['buttons'][_0x2037aa]['pressed']&&console['log'](_0x2037aa,_0x5a4614['handedness']),_0x5a4614['handedness']==='right'&&_0x2037aa===0x659*0x3+0xfb*0x1d+0x3*-0xfd3&&(this['teleportOp'+'enStatus']=_0x4d620e['buttons'][-0x174b*-0x1+-0x1c1+-0x1589]['pressed']),_0x5a4614['handedness']==='left'&&_0x2037aa===-0x117d+0x1bf7*0x1+-0xa79&&(this['teleportLe'+'ftOpenStat'+'us']=_0x4d620e['buttons'][0x23c1+0x487+-0x2847*0x1]['pressed']);}const _0x1ef975=_0x5a4614['handedness'];if(!this['enableDraw'+'Ray']&&(_0x1ef975==='right'&&!this['teleportOp'+'enStatus']||_0x1ef975==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x258120=this['findPlaneI'+'ntersectio'+'n'](_0x21aa6b,_0x4701f7);if(this['enableDraw'+'Ray']||!_0x258120){const _0x38559c=_0x21aa6b['clone']()['add'](_0x4701f7['clone']()['mulScalar'](0x2220+-0x7*-0xfe+0x2*-0x1457)),_0x35b58b=this['enableDraw'+'Ray']?_0x5a4614['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x21aa6b,_0x38559c,_0x35b58b);}else this['app']['drawLine'](_0x21aa6b,_0x258120,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x258120);}}['drawTelepo'+'rtIndicato'+'r'](_0x4160df){for(let _0x295bce=-0x1*0x1d2a+-0x5f8+0x2322;_0x295bce<0x17f4+-0x5*-0x26d+0x7*-0x523;_0x295bce++){const _0x367dc5=_0x295bce/(-0x177d+-0x1*-0x20c3+-0x2*0x493)*Math['PI']*(-0x19c5+0x2*0xb27+0x379),_0x534cf6=(_0x295bce+(0x108f+-0xef8+-0x196))/(-0x1*-0xddb+-0x10da+0x31f)*Math['PI']*(-0x153d+0x418+0x1127),_0x242459=_0x4160df['x']+Math['cos'](_0x367dc5)*(-0x24*0xb5+0x1*0x699+-0x649*-0x3+0.2),_0x8023df=_0x4160df['z']+Math['sin'](_0x367dc5)*(-0x94f*0x4+-0x5*-0x301+0x1637+0.2),_0x5b4051=_0x4160df['x']+Math['cos'](_0x534cf6)*(0x607*-0x3+-0x1864+0x2a79+0.2),_0x36df39=_0x4160df['z']+Math['sin'](_0x534cf6)*(-0x10c0*-0x2+-0x2*-0x2f9+-0x2772+0.2);this['app']['drawLine'](new D(_0x242459,0x3e9+-0x2678+-0x1*-0x228f+0.01,_0x8023df),new D(_0x5b4051,-0x1a91+-0x869+0x79*0x4a+0.01,_0x36df39),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x4104cb(_0x11a7d){function _0x3671b2(_0x5f5463){if(typeof _0x5f5463==='string')return function(_0xf2479d){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x5f5463/_0x5f5463)['length']!==-0x2413+0x2703+-0x2ef*0x1||_0x5f5463%(-0x132*-0x3+0x23d3+0x1*-0x2755)===0x6c3*0x1+-0x10a9*-0x1+-0x5db*0x4?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x3671b2(++_0x5f5463);}try{if(_0x11a7d)return _0x3671b2;else _0x3671b2(-0x1ac6+-0x6f3+-0x61*-0x59);}catch(_0x333ccb){}}